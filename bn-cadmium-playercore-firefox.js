if(navigator.userAgent.indexOf("Linux") > -1) Object.defineProperty(navigator, "userAgent", {value: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"});
q8ff.J8K=function (){return typeof q8ff.I8K.s1k==='function'?q8ff.I8K.s1k.apply(q8ff.I8K,arguments):q8ff.I8K.s1k;};q8ff.g1k=function (){return typeof q8ff.r1k.s1k==='function'?q8ff.r1k.s1k.apply(q8ff.r1k,arguments):q8ff.r1k.s1k;};q8ff.p9r=function (){return typeof q8ff.r9r.W1k==='function'?q8ff.r9r.W1k.apply(q8ff.r9r,arguments):q8ff.r9r.W1k;};q8ff.i1k=function (){return typeof q8ff.r1k.W1k==='function'?q8ff.r1k.W1k.apply(q8ff.r1k,arguments):q8ff.r1k.W1k;};function q8ff(){}q8ff.v2r=function (){return typeof q8ff.l2r.W1k==='function'?q8ff.l2r.W1k.apply(q8ff.l2r,arguments):q8ff.l2r.W1k;};q8ff.M1b=function (){return typeof q8ff.f1b.W1k==='function'?q8ff.f1b.W1k.apply(q8ff.f1b,arguments):q8ff.f1b.W1k;};q8ff.l4n=function(u6n){return{W1k:function(){var E6n,g6n=arguments;switch(u6n){case 0:E6n=(g6n[0]-g6n[2])*g6n[1];break;}return E6n;},s1k:function(D6n){u6n=D6n;}};}();q8ff.B1N=function (){return typeof q8ff.p1N.s1k==='function'?q8ff.p1N.s1k.apply(q8ff.p1N,arguments):q8ff.p1N.s1k;};q8ff.A3M=function (){return typeof q8ff.o3M.s1k==='function'?q8ff.o3M.s1k.apply(q8ff.o3M,arguments):q8ff.o3M.s1k;};q8ff.w0G=function (){return typeof q8ff.d0G.W1k==='function'?q8ff.d0G.W1k.apply(q8ff.d0G,arguments):q8ff.d0G.W1k;};q8ff.V9r=function (){return typeof q8ff.r9r.s1k==='function'?q8ff.r9r.s1k.apply(q8ff.r9r,arguments):q8ff.r9r.s1k;};q8ff.f2m=function (){return typeof q8ff.j2m.W1k==='function'?q8ff.j2m.W1k.apply(q8ff.j2m,arguments):q8ff.j2m.W1k;};q8ff.d4z=function (){return typeof q8ff.b4z.W1k==='function'?q8ff.b4z.W1k.apply(q8ff.b4z,arguments):q8ff.b4z.W1k;};q8ff.l2r=function(n2r){return{W1k:function(){var u2r,L2r=arguments;switch(n2r){case 4:u2r=L2r[1]-L2r[0];break;case 0:u2r=L2r[1]+L2r[0];break;case 1:u2r=-L2r[0];break;case 6:u2r=(L2r[4]*L2r[0]*L2r[3]-L2r[2])/L2r[1];break;case 5:u2r=L2r[3]+L2r[2]+L2r[0]+L2r[1];break;case 2:u2r=-(L2r[1]/-L2r[0]);break;case 3:u2r=L2r[0]/L2r[1];break;}return u2r;},s1k:function(t2r){n2r=t2r;}};}();q8ff.d0G=function(S0G){return{W1k:function(){var H0G,R0G=arguments;switch(S0G){case 0:H0G=R0G[1]+R0G[0];break;}return H0G;},s1k:function(m0G){S0G=m0G;}};}();q8ff.I4D=function (){return typeof q8ff.V4D.s1k==='function'?q8ff.V4D.s1k.apply(q8ff.V4D,arguments):q8ff.V4D.s1k;};q8ff.j1b=function (){return typeof q8ff.f1b.s1k==='function'?q8ff.f1b.s1k.apply(q8ff.f1b,arguments):q8ff.f1b.s1k;};q8ff.e2I=function(l2I){return{W1k:function(){var n2I,h2I=arguments;switch(l2I){case 0:n2I=(h2I[3]*h2I[0]-h2I[4])*h2I[2]/h2I[1];break;}return n2I;},s1k:function(R2I){l2I=R2I;}};}();q8ff.D4D=function (){return typeof q8ff.V4D.s1k==='function'?q8ff.V4D.s1k.apply(q8ff.V4D,arguments):q8ff.V4D.s1k;};q8ff.r9r=function(O9r){return{W1k:function(){var k9r,T9r=arguments;switch(O9r){case 4:k9r=(T9r[1]+T9r[0])/T9r[2];break;case 3:k9r=T9r[0]<=T9r[1];break;case 1:k9r=T9r[0]>=T9r[1];break;case 0:k9r=T9r[1]+T9r[0];break;case 2:k9r=T9r[1]>T9r[0];break;}return k9r;},s1k:function(J9r){O9r=J9r;}};}();q8ff.j4n=function (){return typeof q8ff.l4n.s1k==='function'?q8ff.l4n.s1k.apply(q8ff.l4n,arguments):q8ff.l4n.s1k;};q8ff.S8K=function (){return typeof q8ff.I8K.s1k==='function'?q8ff.I8K.s1k.apply(q8ff.I8K,arguments):q8ff.I8K.s1k;};q8ff.C9r=function (){return typeof q8ff.r9r.W1k==='function'?q8ff.r9r.W1k.apply(q8ff.r9r,arguments):q8ff.r9r.W1k;};q8ff.z2m=function (){return typeof q8ff.j2m.s1k==='function'?q8ff.j2m.s1k.apply(q8ff.j2m,arguments):q8ff.j2m.s1k;};q8ff.b4z=function(l4z){return{W1k:function(){var r4z,S4z=arguments;switch(l4z){case 1:r4z=S4z[1]+S4z[0];break;case 0:r4z=S4z[1]-S4z[0];break;}return r4z;},s1k:function(q4z){l4z=q4z;}};}();q8ff.x2m=function (){return typeof q8ff.j2m.s1k==='function'?q8ff.j2m.s1k.apply(q8ff.j2m,arguments):q8ff.j2m.s1k;};q8ff.F2m=function (){return typeof q8ff.j2m.W1k==='function'?q8ff.j2m.W1k.apply(q8ff.j2m,arguments):q8ff.j2m.W1k;};q8ff.b8K=function (){return typeof q8ff.I8K.W1k==='function'?q8ff.I8K.W1k.apply(q8ff.I8K,arguments):q8ff.I8K.W1k;};q8ff.k1b=function (){return typeof q8ff.f1b.s1k==='function'?q8ff.f1b.s1k.apply(q8ff.f1b,arguments):q8ff.f1b.s1k;};q8ff.p1N=function(C1N){return{W1k:function(){var u1N,j1N=arguments;switch(C1N){case 1:u1N=j1N[0]%(j1N[2]%j1N[1]);break;case 2:u1N=j1N[1]/(j1N[2]+j1N[0]);break;case 0:u1N=j1N[0]*j1N[1]/j1N[2];break;}return u1N;},s1k:function(n1N){C1N=n1N;}};}();q8ff.x2r=function (){return typeof q8ff.l2r.W1k==='function'?q8ff.l2r.W1k.apply(q8ff.l2r,arguments):q8ff.l2r.W1k;};q8ff.P3M=function (){return typeof q8ff.o3M.W1k==='function'?q8ff.o3M.W1k.apply(q8ff.o3M,arguments):q8ff.o3M.W1k;};q8ff.T4z=function (){return typeof q8ff.b4z.W1k==='function'?q8ff.b4z.W1k.apply(q8ff.b4z,arguments):q8ff.b4z.W1k;};q8ff.r1k=function(c1k){return{W1k:function(){var b1k,L1k=arguments;switch(c1k){case 4:b1k=L1k[1]/L1k[0]|L1k[2];break;case 7:b1k=L1k[1]===L1k[0];break;case 2:b1k=L1k[0]+L1k[3]/L1k[1]*L1k[2];break;case 3:b1k=L1k[3]*L1k[2]/L1k[1]|L1k[0];break;case 5:b1k=L1k[1]/L1k[0];break;case 6:b1k=(L1k[2]/L1k[3]|L1k[0])*L1k[1];break;case 0:b1k=L1k[1]-L1k[0];break;case 1:b1k=L1k[1]+L1k[0];break;}return b1k;},s1k:function(C1k){c1k=C1k;}};}();q8ff.V4D=function(g4D){return{W1k:function(){var f4D,C4D=arguments;switch(g4D){case 0:f4D=C4D[1]-C4D[2]+C4D[0];break;case 1:f4D=C4D[0]+C4D[1];break;}return f4D;},s1k:function(m4D){g4D=m4D;}};}();q8ff.I4z=function (){return typeof q8ff.b4z.s1k==='function'?q8ff.b4z.s1k.apply(q8ff.b4z,arguments):q8ff.b4z.s1k;};q8ff.h0G=function (){return typeof q8ff.d0G.s1k==='function'?q8ff.d0G.s1k.apply(q8ff.d0G,arguments):q8ff.d0G.s1k;};q8ff.f1b=function(I1b){return{W1k:function(){var g1b,T1b=arguments;switch(I1b){case 0:g1b=T1b[1]+T1b[0];break;}return g1b;},s1k:function(w1b){I1b=w1b;}};}();q8ff.B0G=function (){return typeof q8ff.d0G.W1k==='function'?q8ff.d0G.W1k.apply(q8ff.d0G,arguments):q8ff.d0G.W1k;};q8ff.R1b=function (){return typeof q8ff.f1b.W1k==='function'?q8ff.f1b.W1k.apply(q8ff.f1b,arguments):q8ff.f1b.W1k;};q8ff.j2m=function(Z2m){return{W1k:function(){var K2m,g2m=arguments;switch(Z2m){case 0:K2m=g2m[0]*g2m[1];break;}return K2m;},s1k:function(v2m){Z2m=v2m;}};}();q8ff.e9r=function (){return typeof q8ff.r9r.s1k==='function'?q8ff.r9r.s1k.apply(q8ff.r9r,arguments):q8ff.r9r.s1k;};q8ff.E8K=function (){return typeof q8ff.I8K.W1k==='function'?q8ff.I8K.W1k.apply(q8ff.I8K,arguments):q8ff.I8K.W1k;};q8ff.a1k=function (){return typeof q8ff.r1k.W1k==='function'?q8ff.r1k.W1k.apply(q8ff.r1k,arguments):q8ff.r1k.W1k;};q8ff.F4z=function (){return typeof q8ff.b4z.s1k==='function'?q8ff.b4z.s1k.apply(q8ff.b4z,arguments):q8ff.b4z.s1k;};q8ff.m3M=function (){return typeof q8ff.o3M.W1k==='function'?q8ff.o3M.W1k.apply(q8ff.o3M,arguments):q8ff.o3M.W1k;};q8ff.v4n=function (){return typeof q8ff.l4n.W1k==='function'?q8ff.l4n.W1k.apply(q8ff.l4n,arguments):q8ff.l4n.W1k;};q8ff.e3M=function (){return typeof q8ff.o3M.s1k==='function'?q8ff.o3M.s1k.apply(q8ff.o3M,arguments):q8ff.o3M.s1k;};q8ff.B2r=function (){return typeof q8ff.l2r.s1k==='function'?q8ff.l2r.s1k.apply(q8ff.l2r,arguments):q8ff.l2r.s1k;};q8ff.v1N=function (){return typeof q8ff.p1N.W1k==='function'?q8ff.p1N.W1k.apply(q8ff.p1N,arguments):q8ff.p1N.W1k;};q8ff.T1N=function (){return typeof q8ff.p1N.W1k==='function'?q8ff.p1N.W1k.apply(q8ff.p1N,arguments):q8ff.p1N.W1k;};q8ff.z2I=function (){return typeof q8ff.e2I.W1k==='function'?q8ff.e2I.W1k.apply(q8ff.e2I,arguments):q8ff.e2I.W1k;};q8ff.o3M=function(R3M){return{W1k:function(){var y3M,M3M=arguments;switch(R3M){case 0:y3M=(M3M[0]-M3M[2])*-M3M[1]/M3M[3];break;}return y3M;},s1k:function(f3M){R3M=f3M;}};}();q8ff.u2I=function (){return typeof q8ff.e2I.s1k==='function'?q8ff.e2I.s1k.apply(q8ff.e2I,arguments):q8ff.e2I.s1k;};q8ff.K2r=function (){return typeof q8ff.l2r.s1k==='function'?q8ff.l2r.s1k.apply(q8ff.l2r,arguments):q8ff.l2r.s1k;};q8ff.U4n=function (){return typeof q8ff.l4n.s1k==='function'?q8ff.l4n.s1k.apply(q8ff.l4n,arguments):q8ff.l4n.s1k;};q8ff.I2I=function (){return typeof q8ff.e2I.s1k==='function'?q8ff.e2I.s1k.apply(q8ff.e2I,arguments):q8ff.e2I.s1k;};q8ff.h1k=function (){return typeof q8ff.r1k.s1k==='function'?q8ff.r1k.s1k.apply(q8ff.r1k,arguments):q8ff.r1k.s1k;};q8ff.p4n=function (){return typeof q8ff.l4n.W1k==='function'?q8ff.l4n.W1k.apply(q8ff.l4n,arguments):q8ff.l4n.W1k;};q8ff.l4D=function (){return typeof q8ff.V4D.W1k==='function'?q8ff.V4D.W1k.apply(q8ff.V4D,arguments):q8ff.V4D.W1k;};q8ff.B2I=function (){return typeof q8ff.e2I.W1k==='function'?q8ff.e2I.W1k.apply(q8ff.e2I,arguments):q8ff.e2I.W1k;};q8ff.R4D=function (){return typeof q8ff.V4D.W1k==='function'?q8ff.V4D.W1k.apply(q8ff.V4D,arguments):q8ff.V4D.W1k;};q8ff.I8K=function(v8K){return{W1k:function(){var u8K,a8K=arguments;switch(v8K){case 1:u8K=a8K[0]*(a8K[2]+a8K[3])-a8K[1]+a8K[4];break;case 0:u8K=a8K[0]-a8K[1];break;}return u8K;},s1k:function(O8K){v8K=O8K;}};}();q8ff.o1N=function (){return typeof q8ff.p1N.s1k==='function'?q8ff.p1N.s1k.apply(q8ff.p1N,arguments):q8ff.p1N.s1k;};q8ff.q0G=function (){return typeof q8ff.d0G.s1k==='function'?q8ff.d0G.s1k.apply(q8ff.d0G,arguments):q8ff.d0G.s1k;};(function(A,ea){var vb,Fb,Ia,xc,ja,oa,$a,Jd,Kd,Ba,Ca,Nb,Ld,yc,Md,Nd,Zc,r,ha,ic,Od,$c,F,R,ba,yb,kb,Wa,ca,ab,Ha,Pb,ua,qa,xa,db,zc,zb,pb,qb,Ac,ad,Pd,Hb,Ib,Qb,bd,Zb,Ab,Bc,Mb,cd,Qd,$b,dd,ed,fd,gd,Bb,hd,id,jd,bc,Cb,Db,cc,Cc,Dc,Ec,gb,Te,Fa,Ob,Rd,Fc,nb,Sd,Ue,rb,Td,Ud,Gc,Vd,Ve,hc,Wd,Qe,We,kd,Hc,Xe,Ye,Dd,Ze,Ed,Xd,lb,jc,Yd,kc,Zd,ob,$d,ld,ae,md,Ic,be,af,Fd,Jc,Wc,ce,$e,de,nd,ee,fe,ge,od,Lb,ie,he,bf,lc,je,qd,mc,ke,pd,le,me,rd,oe,pe,Mc,Tb,dc,Ub,qe,re,se,te,ue,ve,Nc,cf,we,xe,td,ye,fb,Rb,ac,Sb,Jb,Eb,Kc,bb,Gb,ne,nc,Vb,ze,df,oc,Ae,ef,ec,Be,Oc,ud,pc,vd,Ce,qc,De,Ee,Fe,ff,rc,Ge,gf,hf,He,sd,Lc,Ie,Pe,Je,jf,lf,kf,fc,vc,mf,Cd,nf,Ke,Xc,na,Se;function Ra(k,r){if(!r||"utf-8"===r)return Qc(k);throw Error("unsupported encoding");}function Oa(k,r){if(!r||"utf-8"===r)return Rc(k);throw Error("unsupported encoding");}function Qc(k){for(var r=0,n,Na=k.length,F="";r<Na;){n=k[r++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(k[r++]&63);else if(224===(n&240))n=((n&15)<<12)+((k[r++]&63)<<6)+(k[r++]&63);else throw Error("unsupported character");F+=String.fromCharCode(n);}return F;}function Rc(k){var r,n,Na,F,t;r=k.length;n=0;F=0;for(Na=r;Na--;)t=k.charCodeAt(Na),128>t?n++:n=2048>t?n+2:n+3;n=new Uint8Array(n);for(Na=0;Na<r;Na++)t=k.charCodeAt(Na),128>t?n[F++]=t:(2048>t?n[F++]=192|t>>>6:(n[F++]=224|t>>>12,n[F++]=128|t>>>6&63),n[F++]=128|t&63);return n;}function Xa(k,n){if(k===n)return!0;if(!k||!n||k.length!=n.length)return!1;for(var r=0;r<k.length;++r)if(k[r]!=n[r])return!1;return!0;}function eb(k){var Na;if(!(k&&k.constructor==Uint8Array||Array.isArray(k)))throw new TypeError("Cannot compute the hash code of "+k);for(var n=1,r=0;r<k.length;++r){Na=k[r];if("number"!==typeof Na)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+Na);n=31*n+Na&4294967295;}return n;}function xd(k,n){var A;if(k===n)return!0;if(!k||!n)return!1;n instanceof Array||(n=[n]);for(var r=0;r<n.length;++r){for(var Na=n[r],t=!1,F=0;F<k.length;++F){A=k[F];if(Na.equals&&"function"===typeof Na.equals&&Na.equals(A)||Na==A){t=!0;break;}}if(!t)return!1;}return!0;}function yd(k,n){return xd(k,n)&&(k.length==n.length||xd(n,k));}function n(k,n,r){var Na,t;r&&(Na=r);if("object"!==typeof k||"function"!==typeof k.result||"function"!==typeof k.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{t=n.call(Na,k);t!==ea&&k.result(t);}catch(Sc){try{k.error(Sc);}catch(Ea){}}}function t(k,r,t){if("object"!==typeof k||"function"!==typeof k.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(k,r,t);}function k(k,n,r){1E5>k&&(k=1E5+k);Object.defineProperties(this,{internalCode:{value:k,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:r,writable:!1,configurable:!1}});}function Tc(k){switch(k){case Fa.PSK:case Fa.MGK:return!0;default:return!1;}}function zd(k){switch(k){case Fa.PSK:case Fa.MGK:case Fa.X509:case Fa.RSA:case Fa.NPTICKET:case Fa.ECC:return!0;default:return!1;}}function Me(k){return k.toJSON();}function Ad(n,r){vc?r.result(vc):Promise.resolve().then(function(){return xa.getKeyByName(n);})["catch"](function(){return xa.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(k){vc=k;r.result(vc);})["catch"](function(n){r.error(new F(k.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Bd(k,n){var r,t,F;r=n.masterToken;t=n.userIdToken;F=n.serviceTokens;return{NccpMethod:k.method,UserId:k.userId,UT:t&&t.serialNumber,MT:r&&r.serialNumber+":"+r.sequenceNumber,STCount:F&&F.length};}function Ne(k){return k.uniqueKey();}function Oe(t,A,Xb,Sa,Yb){var wa;function Na(k,I){k.errorCode===r.ENTITY_REAUTH||k.errorCode===r.ENTITYDATA_REAUTH?(Sa.clearCryptoContexts(),Pa()):k.errorCode!==r.USER_REAUTH&&k.errorCode!==r.USERDATA_REAUTH||Ea(I);}function Ea(k){if(k=Sa.getUserIdToken(k))Sa.removeUserIdToken(k),Pa();}function W(k,I,K){var B;B=[];(function T(){k.read(-1,I,{result:function(k){n(K,function(){var C,N,J,K,I;if(k)B.push(k),T();else switch(B.length){case 0:return new Uint8Array(0);case 1:return B[0];default:K=B.length,I=0;for(N=C=0;N<K;N++)C+=B[N].length;C=new Uint8Array(C);for(N=0;N<K;N++)J=B[N],C.set(J,I),I+=J.length;return C;}});},timeout:function(){K.timeout();},error:function(k){K.error(k);}});}());}function Pa(){Sa.getStoreState({result:function(k){for(var I=wa.slice(),K=0;K<I.length;K++)I[K]({storeState:k});},timeout:function(){t.error("Timeout getting store state",""+e);},error:function(k){t.error("Error getting store state",""+k);}});}wa=[];this.addEventHandler=function(k,I){switch(k){case"shouldpersist":wa.push(I);}};this.send=function(n){return new Promise(function(I,K){var B,M,T;B=n.timeout;M=new Cd(t,Xb,n,Sa.getKeyRequestData());T=new Dd(n.url);t.trace("Sending MSL request");A.request(Xb,M,T,B,{result:function(M){var C;M&&M.getMessageHeader();t.trace("Received MSL response",{Method:n.method});if(M){n.allowTokenRefresh&&Pa();C=M.getErrorHeader();C?(Na(C,n.userId),K({success:!1,error:C})):W(M,B,{result:function(k){I({success:!0,body:Ra(k)});},timeout:function(){K({success:!1,subCode:Yb.MSL_READ_TIMEOUT});},error:function(k){K({success:!1,error:k});}});}else K({success:!1,error:new F(k.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){K({success:!1,subCode:Yb.MSL_REQUEST_TIMEOUT});},error:function(k){K({success:!1,error:k});}});});};this.hasUserIdToken=function(k){return!!Sa.getUserIdToken(k);};this.getUserIdTokenKeys=function(){return Sa.getUserIdTokenKeys();};this.removeUserIdToken=Ea;this.clearUserIdTokens=function(){Sa.clearUserIdTokens();Pa();};this.isErrorReauth=function(k){return k&&k.errorCode==r.USERDATA_REAUTH;};this.isErrorHeader=function(k){return k instanceof Lb;};this.getErrorCode=function(k){return k&&k.errorCode;};this.getStateForMdx=function(k){var I,K;I=Sa.getMasterToken();k=Sa.getUserIdToken(k);K=Sa.getCryptoContext(I);return{masterToken:I,userIdToken:k,cryptoContext:K};};this.buildPlayDataRequest=function(k,I){var K;K=new Ed();A.request(Xb,new Cd(t,Xb,k),K,k.timeout,{result:function(){I.result(K.getRequest());},error:function(){I.result(K.getRequest());},timeout:function(){I.timeout();}});};this.rekeyUserIdToken=function(k,I){Sa.rekeyUserIdToken(k,I);Pa();};this.getServiceTokens=function(k){var I;I=Sa.getMasterToken();(k=Sa.getUserIdToken(k))&&!k.isBoundTo(I)&&(k=ea);return Sa.getServiceTokens(I,k);};this.removeServiceToken=function(k){var I;I=Sa.getMasterToken();Sa.getServiceTokens(I).find(function(K){return K.name===k;})&&(Sa.removeServiceTokens(k,I),Pa());};}function Uc(n,r,t,A,Yb,R){function Sa(r){var W;return Promise.resolve().then(function(){W=n.authenticationKeyNames[r];if(!W)throw new F(k.KEY_IMPORT_ERROR,"Invalid config keyName "+r);return xa.getKeyByName(W);}).then(function(n){return new Promise(function(r,I){Zb(n,{result:r,error:function(){I(new F(k.KEY_IMPORT_ERROR,"Unable to create "+W+" CipherKey"));}});});})["catch"](function(n){throw new F(k.KEY_IMPORT_ERROR,"Unable to import "+W,n);});}return Promise.resolve().then(function(){if(!xa.getKeyByName)throw new F(k.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Sa("e"),Sa("h"),Sa("w")]);}).then(function(k){var W,wa,ya;W={};W[r]=new t(n.esn,k[0],k[1],k[2]);k=new A(n.esn);wa=new Pe();wa=[new Yb(wa)];ya=new R(r);return{entityAuthFactories:W,entityAuthData:k,keyExchangeFactories:wa,keyRequestData:ya};});}function Vc(n,r,t){var gc;function A(){return Promise.resolve().then(function(){return xa.generateKey(r,!1,["wrapKey","unwrapKey"]);}).then(function(k){return Na(k.publicKey,k.privateKey);});}function Na(n,r){return Promise.all([new Promise(function(r,W){Mb(n,{result:r,error:function(n){W(new F(k.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,W){$b(r,{result:n,error:function(n){W(new F(k.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(k){k=new Wc("rsaKeypairId",t,k[0],k[1]);gc&&(k.storeData={keyxPublicKey:n,keyxPrivateKey:r});return k;});}gc=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var k,r;k=n.storeState;r=k&&k.keyxPublicKey;k=k&&k.keyxPrivateKey;return gc&&r&&k?Na(r,k):A();}).then(function(k){var r,Pa,wa;r={};r[Fa.NONE]=new Qe();Pa=new hc(n.esn);wa=[new Fd()];return{entityAuthFactories:r,entityAuthData:Pa,keyExchangeFactories:wa,keyRequestData:k,createKeyRequestData:gc?A:ea};});}function La(){La=function(){};na.Symbol||(na.Symbol=Re);}function Re(k){return"jscomp_symbol_"+(k||"")+Se++;}function Za(){var k;La();k=na.Symbol.iterator;k||(k=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[k]&&Xc(Array.prototype,k,{configurable:!0,writable:!0,value:function(){return Gd(this);}});Za=function(){};}function Gd(k){var n;n=0;return Hd(function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0};});}function Hd(k){Za();k={next:k};k[na.Symbol.iterator]=function(){return this;};return k;}function za(k){var n;Za();La();Za();n=k[Symbol.iterator];return n?n.call(k):Gd(k);}function ia(k,n){var F;function r(){}r.prototype=n.prototype;k.prototype=new r();k.prototype.constructor=k;for(var t in n)if(Object.defineProperties){F=Object.getOwnPropertyDescriptor(n,t);F&&Object.defineProperty(k,t,F);}else k[t]=n[t];}function wb(k){if(!(k instanceof Array)){k=za(k);for(var n,r=[];!(n=k.next()).done;)r.push(n.value);k=r;}return k;}function Va(k,n){var r,F;if(n){r=na;k=k.split(".");for(var t=0;t<k.length-1;t++){F=k[t];F in r||(r[F]={});r=r[F];}k=k[k.length-1];t=r[k];n=n(t);n!=t&&null!=n&&Xc(r,k,{configurable:!0,writable:!0,value:n});}}function xb(k,n){return Object.prototype.hasOwnProperty.call(k,n);}function Yc(k,n){var r,t;Za();k instanceof String&&(k+="");r=0;t={next:function(){var F;if(r<k.length){F=r++;return{value:n(F,k[F]),done:!1};}t.next=function(){return{done:!0,value:void 0};};return t.next();}};t[Symbol.iterator]=function(){return t;};return t;}function wc(k,n,r){if(null==k)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return k+"";}function Id(k,n,r){var A;k instanceof String&&(k=String(k));for(var t=k.length,F=0;F<t;F++){A=k[F];if(n.call(r,A,F,k))return{ei:F,MV:A};}return{ei:-1,MV:void 0};}Fb=A.nfCrypto||A.msCrypto||A.webkitCrypto||A.crypto;Ia=Fb&&(Fb.webkitSubtle||Fb.subtle);xc=A.nfCryptokeys||A.msCryptokeys||A.webkitCryptokeys||A.cryptokeys;(function(k){var n,r;n=function(){function k(k,r){k instanceof n?(this.abv=k.abv,this.position=k.position):(this.abv=k,this.position=r||0);}k.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(k){this.abv[this.position++]=k;},peekByte:function(k){return this.abv[k];},copyBytes:function(k,n,r){var W;W=new Uint8Array(this.abv.buffer,this.position,r);k=new Uint8Array(k.buffer,n,r);W.set(k);this.position+=r;},seek:function(k){this.position=k;},skip:function(k){this.position+=k;},getPosition:function(){return this.position;},setPosition:function(k){this.position=k;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return k;}();r={};(function(){var J,C,N,Ka,pa,Aa,sa,g,d;function k(a,b){var c;b.writeByte(a.tagClass<<6|a.constructed<<5|a.tag);c=a.payloadLen;if(128>c)b.writeByte(c);else{for(var d=c,l=0;d;)++l,d>>=8;b.writeByte(128|l);for(d=0;d<l;++d)b.writeByte(c>>8*(l-d-1)&255);}if(a.child)for(a.tag==J.BIT_STRING&&b.writeByte(0),c=a._child;c;){if(!k(c,b))return!1;c=c.next;}else switch(a.tag){case J.INTEGER:a.backingStore[a.dataIdx]>>7&&b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case J.BIT_STRING:b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case J.OCTET_STRING:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case J.OBJECT_IDENTIFIER:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);}return!0;}function t(a){var b,c;b=a.readByte();c=b&127;if(c==b)return c;if(3<c||0===c)return-1;for(var d=b=0;d<c;++d)b=b<<8|a.readByte();return b;}function F(a,b,c){var d,l,f,p,m,q,u;d=a.backingStore;l=new n(d,b);b+=c;c=a;if(8<pa++)return ea;for(;l.getPosition()<b;){l.getPosition();m=l.readByte();if(31==(m&31)){for(p=0;m&128;)p<<=8,p|=m&127;m=p;}f=m;p=f&31;if(0>p||30<p)return ea;m=t(l);if(0>m||m>l.getRemaining())return ea;c.constructed=f&32;c.tagClass=(f&192)>>6;c.tag=p;c.dataLen=m;c.dataIdx=l.getPosition();p=l;q=f;f=m;if(q&32)p=!0;else if(q<J.BIT_STRING||q>J.OCTET_STRING)p=!1;else{u=new n(p);q==J.BIT_STRING&&u.skip(1);u.readByte()>>6&1?p=!1:(q=t(u),p=u.getPosition()-p.getPosition()+q==f);}p&&(p=l.getPosition(),f=m,c.tag==J.BIT_STRING&&(c.dataIdx++,c.dataLen--,p++,f--),c.child=new C(d,c),F(c.child,p,f));c.tag==J.INTEGER&&(p=l.getPosition(),0==l.peekByte(p)&&l.peekByte(p+1)>>7&&(c.dataIdx++,c.dataLen--));l.skip(m);l.getPosition()<b&&(c.next=new C(d,c.parent),c=c.next);}pa--;return a;}function A(a,b,c){if(9!=c)return!1;for(c=0;9>c;++c)if(a[b++]!=Aa[c])return!1;return!0;}function W(a){var b;if(!(a&&a.child&&a.child.next&&a.child.child&&a.child.next.child))return!1;b=a.child.child;return A(b.backingStore,b.dataIdx,b.dataLen)&&2==a.nChildren&&2==a.child.nChildren&&2==a.child.next.child.nChildren?!0:!1;}function Pa(a){var b;if(!(a&&a.child&&a.child.next&&a.child.next.child&&a.child.next.next&&a.child.next.next.child))return!1;b=a.child.next.child;return A(b.backingStore,b.dataIdx,b.dataLen)&&3==a.nChildren&&2==a.child.next.nChildren&&9==a.child.next.next.child.nChildren?!0:!1;}function wa(a){var b,c;b=N.createSequenceNode();c=new Ka(b);c.addChild(N.createSequenceNode());c.addChild(N.createOidNode(Aa));c.addSibling(N.createNullNode());c.addToParent(b,N.createBitStringNode(null));c.addChild(N.createSequenceNode());c.addChild(N.createIntegerNode(a.n));c.addSibling(N.createIntegerNode(a.e));return b;}function ya(a){var b;a=a.child.next.child.child;b=a.data;a=a.next;return new sa(b,a.data,null,null);}function I(a){var b,c;b=N.createSequenceNode();c=new Ka(b);c.addChild(N.createIntegerNode(new Uint8Array([0])));c.addSibling(N.createSequenceNode());c.addChild(N.createOidNode(Aa));c.addSibling(N.createNullNode());c.addToParent(b,N.createOctetStringNode(null));c.addChild(N.createSequenceNode());c.addChild(N.createIntegerNode(new Uint8Array([0])));c.addSibling(N.createIntegerNode(a.n));c.addSibling(N.createIntegerNode(a.e));c.addSibling(N.createIntegerNode(a.d));c.addSibling(N.createIntegerNode(a.p));c.addSibling(N.createIntegerNode(a.q));c.addSibling(N.createIntegerNode(a.dp));c.addSibling(N.createIntegerNode(a.dq));c.addSibling(N.createIntegerNode(a.qi));return b;}function K(a){var b;b=[];a=a.child.next.next.child.child.next;for(var c=0;8>c;c++)b.push(a.data),a=a.next;return new g(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);}function B(a,b,c,h){if(!(a instanceof sa||a instanceof g))return ea;if(c)for(var l=0;l<c.length;++l)if(-1==d.indexOf(c[l]))return ea;b={kty:"RSA",alg:b,key_ops:c||[],ext:h==ea?!1:h,n:ja(a.n,!0),e:ja(a.e,!0)};a instanceof g&&(b.d=ja(a.d,!0),b.p=ja(a.p,!0),b.q=ja(a.q,!0),b.dp=ja(a.dp,!0),b.dq=ja(a.dq,!0),b.qi=ja(a.qi,!0));return b;}function M(a){var b,c,d,l,f,p,m,q,u,x;if(!a.kty||"RSA"!=a.kty||!a.n||!a.e)return ea;b="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(a.alg&&-1==b.indexOf(a.alg))return ea;b=[];a.use?"enc"==a.use?b=["encrypt","decrypt","wrap","unwrap"]:"sig"==a.use&&(b=["sign","verify"]):b=a.key_ops;c=a.ext;d=oa(a.n,!0);l=oa(a.e,!0);if(a.d){f=oa(a.d,!0);p=oa(a.p,!0);m=oa(a.q,!0);q=oa(a.dp,!0);u=oa(a.dq,!0);x=oa(a.qi,!0);return new g(d,l,f,p,m,q,u,x,a.alg,b,c);}return new sa(d,l,c,b);}function T(a,b,c,d){this.der=a;this.type=b;this.keyOps=c;this.extractable=d;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};C=function(a,b,c,d,l,f){this._data=a;this._parent=b||ea;this._constructed=c||!1;this._tagClass=0;this._tag=d||0;this._dataIdx=l||0;this._dataLen=f||0;};C.prototype={_child:ea,_next:ea,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(a){this._constructed=0!=a?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(a){this._tagClass=a;},get tag(){return this._tag;},set tag(a){this._tag=a;},get dataIdx(){return this._dataIdx;},set dataIdx(a){this._dataIdx=a;},get dataLen(){return this._dataLen;},set dataLen(a){this._dataLen=a;},get child(){return this._child;},set child(a){this._child=a;this._child.parent=this;},get next(){return this._next;},set next(a){this._next=a;},get parent(){return this._parent;},set parent(a){this._parent=a;},get payloadLen(){var a;a=0;if(this._child){for(var b=this._child;b;)a+=b.length,b=b.next;this._tag==J.BIT_STRING&&a++;}else switch(this._tag){case J.INTEGER:a=this._dataLen;this._data[this._dataIdx]>>7&&a++;break;case J.BIT_STRING:a=this._dataLen+1;break;case J.OCTET_STRING:a=this._dataLen;break;case J.NULL:a=0;break;case J.OBJECT_IDENTIFIER:A(this._data,this._dataIdx,this._dataLen)&&(a=9);}return a;},get length(){var a,b;a=this.payloadLen;if(127<a)for(b=a;b;)b>>=8,++a;return a+2;},get der(){var a,b;a=this.length;if(!a)return ea;a=new Uint8Array(a);b=new n(a);return k(this,b)?a:ea;},get nChildren(){for(var a=0,b=this._child;b;)a++,b=b.next;return a;}};N={createSequenceNode:function(){return new C(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(a){return new C(a,null,!1,J.OBJECT_IDENTIFIER,0,a?a.length:0);},createNullNode:function(){return new C(null,null,!1,J.NULL,null,null);},createBitStringNode:function(a){return new C(a,null,!1,J.BIT_STRING,0,a?a.length:0);},createIntegerNode:function(a){return new C(a,null,!1,J.INTEGER,0,a?a.length:0);},createOctetStringNode:function(a){return new C(a,null,!1,J.OCTET_STRING,0,a?a.length:0);}};Ka=function(a){this._currentNode=this._rootNode=a;};Ka.prototype={addChild:function(a){this.addTo(this._currentNode,a);},addSibling:function(a){this.addTo(this._currentNode.parent,a);},addTo:function(a,b){this._currentNode=b;this._currentNode.parent=a;if(a.child){for(var c=a.child;c.next;)c=c.next;c.next=b;}else a.child=b;},addToParent:function(a,b){this.findNode(a)&&this.addTo(a,b);},findNode:function(a){for(var b=this._currentNode;b;){if(a==b)return!0;b=b.parent;}return!1;}};pa=0;Aa=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(a,b,c,d){this.n=a;this.e=b;this.ext=c;this.keyOps=d;};g=function(a,b,c,d,l,f,p,m,q,u,x){this.n=a;this.e=b;this.d=c;this.p=d;this.q=l;this.dp=f;this.dq=p;this.qi=m;this.alg=q;this.keyOps=u;this.ext=x;};d="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");T.prototype.getDer=function(){return this.der;};T.prototype.getType=function(){return this.type;};T.prototype.getKeyOps=function(){return this.keyOps;};T.prototype.getExtractable=function(){return this.extractable;};r.parse=function(a){pa=0;return F(new C(a),0,a.length);};r.show=function(a,b){};r.isRsaSpki=W;r.isRsaPkcs8=Pa;r.NodeFactory=N;r.Builder=Ka;r.tagVal=J;r.RsaPublicKey=sa;r.RsaPrivateKey=g;r.buildRsaSpki=wa;r.parseRsaSpki=function(a){a=r.parse(a);return W?ya(a):ea;};r.buildRsaPkcs8=I;r.parseRsaPkcs8=function(a){a=r.parse(a);return Pa(a)?K(a):ea;};r.buildRsaJwk=B;r.parseRsaJwk=M;r.RsaDer=T;r.rsaDerToJwk=function(a,b,c,d){a=r.parse(a);if(!a)return ea;if(W(a))a=ya(a);else if(Pa(a))a=K(a);else return ea;return B(a,b,c,d);};r.jwkToRsaDer=function(a){var b,c;a=M(a);if(!a)return ea;if(a instanceof sa)b="spki",c=wa(a).der;else if(a instanceof g)b="pkcs8",c=I(a).der;else return ea;return new T(c,b,a.keyOps,a.ext);};r.webCryptoAlgorithmToJwkAlg=function(a){return"RSAES-PKCS1-v1_5"==a.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==a.name?"SHA-256"==a.hash.name?"RS256":"SHA-384"==a.hash.name?"RS384":"SHA-512"==a.hash.name?"RS512":ea:ea;};r.webCryptoUsageToJwkKeyOps=function(a){return a.map(function(a){return"wrapKey"==a?"wrap":"unwrapKey"==a?"unwrap":a;});};}());k.ASN1=r;}(A));(function(){for(var k={},n={},r={"=":0,".":0},t={"=":0,".":0},F=/\s+/g,A=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ea=64;Ea--;)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=262144*Ea,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=4096*Ea,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=64*Ea,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]]=Ea;for(Ea=64;Ea--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea];)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=262144*Ea,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=4096*Ea,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=64*Ea,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ea]]=Ea;ja=function(k,n){for(var r="",W=0,I=k.length,K=I-2,B,M=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=n?"":"=";W<K;)B=65536*k[W++]+256*k[W++]+k[W++],r+=M[B>>>18]+M[B>>>12&63]+M[B>>>6&63]+M[B&63];W==K?(B=65536*k[W++]+256*k[W++],r+=M[B>>>18]+M[B>>>12&63]+M[B>>>6&63]+T):W==I-1&&(B=65536*k[W++],r+=M[B>>>18]+M[B>>>12&63]+T+T);return r;};oa=function(W,Pa){var wa;W=W.replace(F,"");if(Pa){wa=W.length%4;if(wa)for(var wa=4-wa,ya=0;ya<wa;++ya)W+="=";}wa=W.length;if(0!=wa%4||!A.test(W))throw Error("bad base64: "+W);for(var I=wa/4*3-("="==W[wa-1]?1:0)-("="==W[wa-2]?1:0),K=new Uint8Array(I),B=0,M=0;B<wa;)ya=k[W[B++]]+n[W[B++]]+r[W[B++]]+t[W[B++]],K[M++]=ya>>>16,M<I&&(K[M++]=ya>>>8&255,M<I&&(K[M++]=ya&255));return K;};}());$a={};(function(){var A,Ea,W,wa;function k(r){if(!(this instanceof k))return new k(r);for(var I=0,K=Ea.length;I<K;I++)this[Ea[I]]="";this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=r||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=W.BEGIN;this.stack=new A();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(k,n,K){if(k[n])k[n](K);}function r(k,I){var K,B;K=k.opt;B=k.textNode;K.trim&&(B=B.trim());K.normalize&&(B=B.replace(/\s+/g," "));k.textNode=B;k.textNode&&n(k,I?I:"onvalue",k.textNode);k.textNode="";}function t(k,I){r(k);I+="\nLine: "+k.line+"\nColumn: "+k.column+"\nChar: "+k.c;I=Error(I);k.error=I;n(k,"onerror",I);return k;}function F(ya){ya.state!==W.VALUE&&t(ya,"Unexpected end");r(ya);ya.c="";ya.closed=!0;n(ya,"onend");k.call(ya,ya.opt);return ya;}A=Array;$a.parser=function(n){return new k(n);};$a.CParser=k;$a.MAX_BUFFER_LENGTH=65536;$a.DEBUG=!1;$a.INFO=!1;$a.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ea=["textNode","numberNode"];$a.EVENTS.filter(function(k){return"error"!==k&&"end"!==k;});W=0;$a.STATE={BEGIN:W++,VALUE:W++,OPEN_OBJECT:W++,CLOSE_OBJECT:W++,OPEN_ARRAY:W++,CLOSE_ARRAY:W++,TEXT_ESCAPE:W++,STRING:W++,BACKSLASH:W++,END:W++,OPEN_KEY:W++,CLOSE_KEY:W++,TRUE:W++,TRUE2:W++,TRUE3:W++,FALSE:W++,FALSE2:W++,FALSE3:W++,FALSE4:W++,NULL:W++,NULL2:W++,NULL3:W++,NUMBER_DECIMAL_POINT:W++,NUMBER_DIGIT:W++};for(var Pa in $a.STATE)$a.STATE[$a.STATE[Pa]]=Pa;W=$a.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(k){return k.__proto__;});wa=/[\\"\n]/g;k.prototype={end:function(){F(this);},write:function(k){var B,M,T;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===k)return F(this);for(var I=k[0],K;I;){K=I;this.c=I=k.charAt(this.index++);K!==I?this.p=K:K=this.p;if(!I)break;this.position++;"\n"===I?(this.line++,this.column=0):this.column++;switch(this.state){case W.BEGIN:"{"===I?this.state=W.OPEN_OBJECT:"["===I?this.state=W.OPEN_ARRAY:"\r"!==I&&"\n"!==I&&" "!==I&&"\t"!==I&&t(this,"Non-whitespace before {[.");continue;case W.OPEN_KEY:case W.OPEN_OBJECT:if("\r"===I||"\n"===I||" "===I||"\t"===I)continue;if(this.state===W.OPEN_KEY)this.stack.push(W.CLOSE_KEY);else if("}"===I){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_OBJECT);'"'===I?this.state=W.STRING:t(this,'Malformed object key should start with "');continue;case W.CLOSE_KEY:case W.CLOSE_OBJECT:if("\r"===I||"\n"===I||" "===I||"\t"===I)continue;":"===I?(this.state===W.CLOSE_OBJECT?(this.stack.push(W.CLOSE_OBJECT),r(this,"onopenobject")):r(this,"onkey"),this.state=W.VALUE):"}"===I?(r(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||W.VALUE):","===I?(this.state===W.CLOSE_OBJECT&&this.stack.push(W.CLOSE_OBJECT),r(this),this.state=W.OPEN_KEY):t(this,"Bad object");continue;case W.OPEN_ARRAY:case W.VALUE:if("\r"===I||"\n"===I||" "===I||"\t"===I)continue;if(this.state===W.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=W.VALUE,"]"===I){n(this,"onclosearray");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_ARRAY);'"'===I?this.state=W.STRING:"{"===I?this.state=W.OPEN_OBJECT:"["===I?this.state=W.OPEN_ARRAY:"t"===I?this.state=W.TRUE:"f"===I?this.state=W.FALSE:"n"===I?this.state=W.NULL:"-"===I?this.numberNode+=I:"0"===I?(this.numberNode+=I,this.state=W.NUMBER_DIGIT):-1!=="123456789".indexOf(I)?(this.numberNode+=I,this.state=W.NUMBER_DIGIT):t(this,"Bad value");continue;case W.CLOSE_ARRAY:if(","===I)this.stack.push(W.CLOSE_ARRAY),r(this,"onvalue"),this.state=W.VALUE;else if("]"===I)r(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||W.VALUE;else if("\r"===I||"\n"===I||" "===I||"\t"===I)continue;else t(this,"Bad array");continue;case W.STRING:K=this.index-1;B=this.slashed,M=this.unicodeI;a:for(;;){if($a.DEBUG)for(;0<M;)if(this.unicodeS+=I,I=k.charAt(this.index++),4===M?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),M=0,K=this.index-1):M++,!I)break a;if('"'===I&&!B){this.state=this.stack.pop()||W.VALUE;(this.textNode+=k.substring(K,this.index-1))||n(this,"onvalue","");break;}if("\\"===I&&!B&&(B=!0,this.textNode+=k.substring(K,this.index-1),I=k.charAt(this.index++),!I))break;if(B)if(B=!1,"n"===I?this.textNode+="\n":"r"===I?this.textNode+="\r":"t"===I?this.textNode+="\t":"f"===I?this.textNode+="\f":"b"===I?this.textNode+="\b":"u"===I?(M=1,this.unicodeS=""):this.textNode+=I,I=k.charAt(this.index++),K=this.index-1,I)continue;else break;wa.lastIndex=this.index;T=wa.exec(k);if(null===T){this.index=k.length+1;this.textNode+=k.substring(K,this.index-1);break;}this.index=T.index+1;I=k.charAt(T.index);if(!I){this.textNode+=k.substring(K,this.index-1);break;}}this.slashed=B;this.unicodeI=M;continue;case W.TRUE:if(""===I)continue;"r"===I?this.state=W.TRUE2:t(this,"Invalid true started with t"+I);continue;case W.TRUE2:if(""===I)continue;"u"===I?this.state=W.TRUE3:t(this,"Invalid true started with tr"+I);continue;case W.TRUE3:if(""===I)continue;"e"===I?(n(this,"onvalue",!0),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid true started with tru"+I);continue;case W.FALSE:if(""===I)continue;"a"===I?this.state=W.FALSE2:t(this,"Invalid false started with f"+I);continue;case W.FALSE2:if(""===I)continue;"l"===I?this.state=W.FALSE3:t(this,"Invalid false started with fa"+I);continue;case W.FALSE3:if(""===I)continue;"s"===I?this.state=W.FALSE4:t(this,"Invalid false started with fal"+I);continue;case W.FALSE4:if(""===I)continue;"e"===I?(n(this,"onvalue",!1),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid false started with fals"+I);continue;case W.NULL:if(""===I)continue;"u"===I?this.state=W.NULL2:t(this,"Invalid null started with n"+I);continue;case W.NULL2:if(""===I)continue;"l"===I?this.state=W.NULL3:t(this,"Invalid null started with nu"+I);continue;case W.NULL3:if(""===I)continue;"l"===I?(n(this,"onvalue",null),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid null started with nul"+I);continue;case W.NUMBER_DECIMAL_POINT:"."===I?(this.numberNode+=I,this.state=W.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case W.NUMBER_DIGIT:-1!=="0123456789".indexOf(I)?this.numberNode+=I:"."===I?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=I):"e"===I||"E"===I?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=I):"+"===I||"-"===I?("e"!==K&&"E"!==K&&t(this,"Invalid symbol in number"),this.numberNode+=I):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||W.VALUE);continue;default:t(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){k=Math.max($a.MAX_BUFFER_LENGTH,10);K=I=0;for(B=Ea.length;K<B;K++){M=this[Ea[K]].length;if(M>k)switch(Ea[K]){case"text":break;default:t(this,"Max buffer length exceeded: "+Ea[K]);}I=Math.max(I,M);}this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH-I+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var t;function k(k,n){n||(n=k.length);return k.reduce(function(k,r,W){return W<n?k+String.fromCharCode(r):k;},"");}for(var n={},r=0;256>r;++r){t=k([r]);n[t]=r;}for(var F=Object.keys(n).length,A=[],r=0;256>r;++r)A[r]=[r];Jd=function(r,W){var C,N;function t(k,C){var N;for(;0<C;){if(M>=B.length)return!1;if(C>T){N=k;N=N>>>C-T;B[M]|=N&255;C-=T;T=8;++M;}else C<=T&&(N=k,N<<=T-C,N&=255,N>>>=8-T,B[M]|=N&255,T-=C,C=0,0==T&&(T=8,++M));}return!0;}for(var wa in n)W[wa]=n[wa];for(var ya=F,I=[],K=8,B=new Uint8Array(r.length),M=0,T=8,J=0;J<r.length;++J){C=r[J];I.push(C);wa=k(I);N=W[wa];if(!N){I=k(I,I.length-1);if(!t(W[I],K))return null;0!=ya>>K&&++K;W[wa]=ya++;I=[C];}}return 0<I.length&&(wa=k(I),N=W[wa],!t(N,K))?null:B.subarray(0,8>T?M+1:M);};Kd=function(k){var J,C,T,t;for(var n=A.slice(),r=0,t=0,ya=8,I=new Uint8Array(Math.ceil(1.5*k.length)),K=0,B,M=[];r<k.length&&!(8*(k.length-r)-t<ya);){for(var T=B=0;T<ya;){J=Math.min(ya-T,8-t);C=k[r];C=C<<t;C=C&255;C=C>>>8-J;T=T+J;t=t+J;8==t&&(t=0,++r);B|=(C&255)<<ya-T;}T=n[B];0==M.length?++ya:(T?M.push(T[0]):M.push(M[0]),n[n.length]=M,M=[],n.length==1<<ya&&++ya,T||(T=n[B]));B=K+T.length;B>=I.length&&(J=new Uint8Array(Math.ceil(1.5*B)),J.set(I),I=J);I.set(T,K);K=B;M=M.concat(T);}return I.subarray(0,K);};}());(function(){var k,n,t;Ba="utf-8";Ca=9007199254740992;k=Nb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nb);Ld=function(n){for(var r=[k.GZIP,k.LZW],t=0;t<r.length&&0<n.length;++t)for(var F=r[t],W=0;W<n.length;++W)if(n[W]==F)return F;return null;};n=yc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(yc);Md=function(k){return n.AES_CBC_PKCS5Padding==k?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==k?n.RSA_ECB_PKCS1Padding:n[k];};t=Nd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Nd);Zc=function(k){return t[k];};r={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(r);}());ha={isObjectLiteral:function(k){return null!==k&&"object"===typeof k&&k.constructor===Object;},extendDeep:function(){var k,n,r,t,F,A,R,W;k=arguments[0];n=1;r=arguments.length;t=!1;"boolean"===typeof k&&(t=k,k=arguments[1],n=2);for(;n<r;n++)if(null!=(F=arguments[n]))for(A in F)t&&A in k||(W=F[A],k!==W&&W!==ea&&(R=k[A],k[A]=null!==R&&null!==W&&"object"===typeof R&&"object"===typeof W?ha.extendDeep(t,{},R,W):W));return k;}};(function(){var R,W;function k(k,n){return function(){var r,I;r=k.base;k.base=n;I=k.apply(this,arguments);k.base=r;return I;};}function n(n,r,t){var I,K,B,M;t=t||W;M=!!t.extendAll;for(I in r)K=r.__lookupGetter__(I),B=r.__lookupSetter__(I),K||B?(K&&n.__defineGetter__(I,K),B&&n.__defineSetter__(I,B)):(K=r[I],B=n[I],"function"===typeof K&&"function"===typeof B&&K!==B?(K.base!==Function.prototype.base&&(K=k(K,B)),K.base=B):(M||t[I])&&ha.isObjectLiteral(K)&&ha.isObjectLiteral(B)&&(K=ha.extendDeep({},B,K)),n[I]=K);}function r(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function I(){var K;K=k.call(arguments,0);I.base.apply(this,n.concat(K));}});}function t(k,r){var W;W=new this(R);n(W,k,r);return A(W);}function F(k,r){n(this.prototype,k,r);return this;}function A(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==R&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=r;n.mixin=F;return n;}R={};W={actions:!0};Function.prototype.base=function(){};ha.Class={create:A,mixin:n,extend:function(k,n){var r;r=A();r.prototype=new k();return r.extend(n);}};ha.mixin=function(){ha.log&&ha.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var R,W,Pa;function k(k,n){return function(){var r,K;r=k.base;k.base=n;K=k.apply(this,arguments);k.base=r;return K;};}function n(n,r,I){var K,B,M,T;I=I||W;T=!!I.extendAll;for(K in r)B=r.__lookupGetter__(K),M=r.__lookupSetter__(K),B||M?(B&&n.__defineGetter__(K,B),M&&n.__defineSetter__(K,M)):(B=r[K],M=n[K],"function"===typeof B&&"function"===typeof M&&B!==M?(B.base!==Pa&&(B=k(B,M)),B.base=M):(T||I[K])&&ha.isObjectLiteral(B)&&ha.isObjectLiteral(M)&&(B=ha.extendDeep({},M,B)),n[K]=B);}function r(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function K(){var B;B=k.call(arguments,0);K.base.apply(this,n.concat(B));}});}function t(k,r){var I;I=new this(R);n(I,k,r);return A(I);}function F(k,r){n(this.prototype,k,r);return this;}function A(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==R&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=r;n.mixin=F;return n;}R={};W={actions:!0};Pa=function(){};Function.prototype.base=Pa;ha.Class={create:A,mixin:n,extend:function(k,n){var r;r=A();r.prototype=new k();return r.extend(n);}};ha.mixin=function(){ha.log&&ha.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function k(k){return k==Ca?1:k+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var r=k(n._nextWaiter);!n._waiters[r];)r=k(r);return r;}ic=ha.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var r;if(this._waiters[k]){r=this._waiters[k];delete this._waiters[k];k==this._nextWaiter&&(this._nextWaiter=n(this));r.call(this,ea);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(r,F){var A,R;A=this;R=k(this._lastWaiter);this._lastWaiter=R;t(F,function(){var k,W;if(0<this._queue.length){k=this._queue.shift();setTimeout(function(){F.result(k);},0);}else{-1!=r&&(W=setTimeout(function(){delete A._waiters[R];R==A._nextWaiter&&(A._nextWaiter=n(A));F.timeout();},r));this._waiters[R]=function(k){clearTimeout(W);setTimeout(function(){F.result(k);},0);};this._nextWaiter||(this._nextWaiter=R);}},A);return R;},add:function(k){var r;if(this._nextWaiter){r=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);r.call(this,k);}else this._queue.push(k);}});}());(function(){var k;k=0-Ca;Od=ha.Class.create({nextBoolean:function(){var k;k=new Uint8Array(1);Fb.getRandomValues(k);return k[0]&1?!0:!1;},nextInt:function(k){var n;if(null!==k&&k!==ea){if("number"!==typeof k)throw new TypeError("n must be of type number");if(1>k)throw new RangeError("n must be greater than zero");--k;n=new Uint8Array(4);Fb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(k-0+1)+0);}k=new Uint8Array(4);Fb.getRandomValues(k);n=(k[3]&127)<<24|k[2]<<16|k[1]<<8|k[0];return k[3]&128?-n:n;},nextLong:function(){var r,n;for(var n=k;n==k;){n=new Uint8Array(7);Fb.getRandomValues(n);r=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-r-1:r;}return n;},nextBytes:function(k){Fb.getRandomValues(k);}});}());(function(){function k(k){return k==Ca?1:k+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var r=k(n._nextReader);!n._waitingReaders[r];)r=k(r);return r;}function r(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var r=k(n._nextWriter);!n._waitingWriters[r];)r=k(r);return r;}$c=ha.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var t;if(this._waitingReaders[k]){t=this._waitingReaders[k];delete this._waitingReaders[k];k==this._nextReader&&(this._nextReader=n(this));t.call(this,!0);}this._waitingWriters[k]&&(t=this._waitingWriters[k],delete this._waitingWriters[k],k==this._nextWriter&&(this._nextWriter=r(this)),t.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(r,F){var A,R;A=this;R=k(this._lastNumber);this._lastNumber=R;t(F,function(){var k;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[R]=!0,R;-1!=r&&(k=setTimeout(function(){delete A._waitingReaders[R];R==A._nextReader&&(A._nextReader=n(A));F.timeout();},r));this._waitingReaders[R]=function(n){clearTimeout(k);n?setTimeout(function(){F.result(ea);},0):(A._readers[R]=!0,setTimeout(function(){F.result(R);},0));};this._nextReader||(this._nextReader=R);},A);return R;},writeLock:function(n,F){var A,R;A=this;R=k(this._lastNumber);this._lastNumber=R;t(F,function(){var k;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=R;-1!=n&&(k=setTimeout(function(){delete A._waitingWriters[R];R==A._nextWriter&&(A._nextWriter=r(A));F.timeout();},n));this._waitingWriters[R]=function(n){clearTimeout(k);n?setTimeout(function(){F.result(ea);},0):(A._writer=R,setTimeout(function(){F.result(R);},0));};this._nextWriter||(this._nextWriter=R);},A);return R;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new ca("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=r(this),n.call(this,!1));else{for(var t=this._nextReader;0<Object.keys(this._waitingReaders).length;t=k(t))this._waitingReaders[t]&&(n=this._waitingReaders[t],delete this._waitingReaders[t],n.call(this,!1));this._nextReader=0;}}});}());ha.Class.mixin(k,{JSON_PARSE_ERROR:new k(0,r.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new k(1,r.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new k(2,r.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new k(3,r.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new k(4,r.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new k(5,r.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new k(6,r.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new k(7,r.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new k(8,r.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new k(9,r.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new k(10,r.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new k(11,r.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new k(12,r.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new k(13,r.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new k(14,r.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new k(15,r.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new k(16,r.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new k(17,r.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new k(18,r.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new k(19,r.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new k(20,r.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new k(21,r.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new k(22,r.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new k(23,r.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new k(24,r.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new k(25,r.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new k(26,r.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new k(27,r.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new k(28,r.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new k(29,r.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new k(30,r.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new k(31,r.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new k(32,r.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new k(33,r.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new k(34,r.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new k(35,r.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new k(36,r.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new k(37,r.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new k(38,r.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new k(39,r.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new k(40,r.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new k(41,r.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new k(42,r.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new k(43,r.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new k(44,r.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new k(45,r.FAIL,"Error exporting key."),DIGEST_ERROR:new k(46,r.FAIL,"Error in digest."),UNSUPPORTED_KEY:new k(47,r.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new k(48,r.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new k(49,r.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new k(50,r.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new k(51,r.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new k(52,r.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new k(53,r.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new k(54,r.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new k(55,r.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new k(56,r.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new k(57,r.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new k(58,r.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new k(59,r.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new k(60,r.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new k(61,r.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new k(62,r.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new k(1E3,r.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new k(1001,r.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new k(1002,r.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new k(1003,r.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(1004,r.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(1005,r.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new k(1006,r.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new k(1007,r.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new k(1008,r.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new k(1009,r.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new k(1010,r.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new k(1011,r.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new k(1012,r.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new k(1013,r.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new k(1014,r.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new k(2E3,r.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new k(2001,r.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new k(2002,r.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new k(2003,r.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new k(2004,r.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new k(2005,r.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2006,r.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2007,r.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new k(2008,r.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new k(2009,r.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new k(2010,r.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new k(2011,r.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new k(2012,r.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new k(2013,r.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new k(2014,r.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new k(2015,r.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new k(2016,r.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new k(2017,r.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new k(2018,r.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new k(2019,r.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new k(2020,r.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new k(3E3,r.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new k(3001,r.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new k(3002,r.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new k(3003,r.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new k(3004,r.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3005,r.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3006,r.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new k(3007,r.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new k(3008,r.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new k(3009,r.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new k(4E3,r.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new k(4001,r.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new k(4002,r.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new k(4003,r.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new k(4004,r.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new k(4005,r.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new k(4006,r.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new k(4007,r.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new k(4008,r.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new k(4009,r.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new k(4010,r.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new k(4011,r.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new k(4012,r.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new k(4013,r.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new k(4014,r.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new k(4015,r.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new k(4016,r.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new k(4017,r.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new k(4018,r.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new k(4019,r.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new k(4020,r.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new k(4021,r.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new k(4022,r.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new k(4023,r.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new k(4024,r.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new k(4025,r.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new k(4026,r.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new k(5E3,r.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new k(5001,r.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new k(5002,r.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new k(5003,r.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new k(5004,r.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new k(5005,r.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new k(5006,r.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new k(5007,r.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new k(5008,r.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new k(5009,r.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new k(5010,r.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new k(5011,r.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new k(5012,r.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new k(5013,r.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new k(5014,r.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new k(5015,r.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new k(5016,r.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new k(5017,r.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new k(5018,r.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new k(5019,r.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new k(5020,r.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new k(5021,r.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new k(5022,r.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new k(5023,r.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new k(5024,r.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new k(5025,r.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new k(5026,r.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new k(5027,r.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new k(5028,r.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new k(5029,r.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new k(5030,r.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new k(5031,r.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new k(5032,r.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new k(5033,r.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new k(5034,r.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new k(5035,r.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new k(5036,r.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new k(5037,r.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new k(5038,r.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new k(5039,r.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new k(5040,r.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new k(6E3,r.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new k(6001,r.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new k(6002,r.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new k(6003,r.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new k(6004,r.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new k(6005,r.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new k(6006,r.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new k(6007,r.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new k(6008,r.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new k(6009,r.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new k(6010,r.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new k(6011,r.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new k(6012,r.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new k(6013,r.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new k(6014,r.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new k(6015,r.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new k(6016,r.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new k(6017,r.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new k(6018,r.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(6019,r.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new k(6020,r.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new k(6021,r.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new k(6022,r.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new k(6023,r.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new k(6024,r.FAIL,"Invalid header data."),PAYLOAD_INVALID:new k(6025,r.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new k(6026,r.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new k(6027,r.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new k(6028,r.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new k(6029,r.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new k(6030,r.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new k(6031,r.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new k(6032,r.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new k(6033,r.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new k(6034,r.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new k(6035,r.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new k(6036,r.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new k(6037,r.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new k(7E3,r.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new k(7001,r.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new k(7002,r.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new k(7003,r.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new k(7004,r.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new k(7005,r.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new k(7006,r.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new k(7007,r.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new k(7008,r.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new k(7009,r.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new k(7010,r.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new k(7011,r.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new k(7012,r.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new k(7013,r.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new k(7014,r.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new k(7015,r.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new k(7016,r.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new k(8E3,r.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new k(8001,r.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new k(8002,r.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new k(8003,r.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new k(8004,r.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new k(8005,r.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new k(8006,r.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new k(8007,r.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new k(8008,r.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new k(8009,r.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new k(8010,r.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new k(8011,r.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new k(8012,r.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new k(9E3,r.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new k(9001,r.FAIL,"Error communicating with MSL entity."),NONE:new k(9999,r.FAIL,"Special unit test error.")});Object.freeze(k);(function(){F=ha.Class.create(Error());F.mixin({init:function(k,n,r){var A,R,ca;function t(){return R?R:this.cause&&this.cause instanceof F?this.cause.messageId:ea;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);A=k.message;n&&(A+=" ["+n+"]");ca=this.stack;Object.defineProperties(this,{message:{value:A,writable:!1,configurable:!0},error:{value:k,writable:!1,configurable:!0},cause:{value:r,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(k){if(0>k||k>Ca)throw new RangeError("Message ID "+k+" is outside the valid range.");t()||(R=k);},configurable:!0},stack:{get:function(){var k;k=this.toString();ca&&(k+="\n"+ca);r&&r.stack&&(k+="\nCaused by "+r.stack);return k;},configurable:!0}});},setEntity:function(k){!k||this.masterToken||this.entityAuthenticationData||(k instanceof fb?this.masterToken=k:k instanceof Ob&&(this.entityAuthenticationData=k));return this;},setUser:function(k){!k||this.userIdToken||this.userAuthenticationData||(k instanceof ac?this.userIdToken=k:k instanceof Gb&&(this.userAuthenticationData=k));return this;},setMessageId:function(k){this.messageId=k;return this;},toString:function(){return this.name+": "+this.message;}});}());R=F.extend({init:function gc(k,n,r){gc.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ba=F.extend({init:function Xb(k,n,r){Xb.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});yb=F.extend({init:function Sa(k,n,r){Sa.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kb=ha.Class.create(Error());kb.mixin({init:function(k,n,r){var t;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:r,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();t&&(k+="\n"+t);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Wa=ha.Class.create(Error());Wa.mixin({init:function(k,n){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();r&&(k+="\n"+r);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ca=ha.Class.create(Error());ca.mixin({init:function(k,n){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();r&&(k+="\n"+r);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ab=ha.Class.create(Error());ab.mixin({init:function(k,n){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();r&&(k+="\n"+r);n&&n.stack&&(k+="\nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ha=F.extend({init:function Yb(k,n,r){Yb.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pb=F.extend({init:function Sc(k,n){Sc.base.call(this,k);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});ua=F.extend({init:function Ea(k,n,r){Ea.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});qa=F.extend({init:function W(k,n,r){W.base.call(this,k,n,r);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var I;function k(k){return"undefined"===typeof k?!1:k;}function n(k){return k&&k.length?(db===I.V2014_02&&(k=k.map(function(k){return"wrap"==k?"wrapKey":"unwrap"==k?"unwrapKey":k;})),k):db===I.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function r(k,n,M,r,J){return Promise.resolve().then(function(){return Ia.importKey(k,n,M,r,J);})["catch"](function(C){var B;if("spki"!==k&&"pkcs8"!==k)throw C;C=ASN1.webCryptoAlgorithmToJwkAlg(M);B=ASN1.webCryptoUsageToJwkKeyOps(J);C=ASN1.rsaDerToJwk(n,C,B,r);if(!C)throw Error("Could not make valid JWK from DER input");C=JSON.stringify(C);return Ia.importKey("jwk",Rc(C),M,r,J);});}function t(k,n){return Promise.resolve().then(function(){return Ia.exportKey(k,n);})["catch"](function(B){if("spki"!==k&&"pkcs8"!==k)throw B;return Ia.exportKey("jwk",n).then(function(k){k=JSON.parse(Qc(new Uint8Array(k)));k=ASN1.jwkToRsaDer(k);if(!k)throw Error("Could not make valid DER from JWK input");return k.getDer().buffer;});});}I=zc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(zc);db=I.LATEST;xa={encrypt:function(k,n,r){switch(db){case I.LEGACY:return new Promise(function(B,M){var C;C=Ia.encrypt(k,n,r);C.oncomplete=function(k){B(k.target.result);};C.onerror=function(k){M(k);};});case I.V2014_01:case I.V2014_02:return Ia.encrypt(k,n,r).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(k,n,r){switch(db){case I.LEGACY:return new Promise(function(B,M){var C;C=Ia.decrypt(k,n,r);C.oncomplete=function(k){B(k.target.result);};C.onerror=function(k){M(k);};});case I.V2014_01:case I.V2014_02:return Ia.decrypt(k,n,r).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(k,n,r){switch(db){case I.LEGACY:return new Promise(function(B,M){var C;C=Ia.sign(k,n,r);C.oncomplete=function(k){B(k.target.result);};C.onerror=function(k){M(k);};});case I.V2014_01:case I.V2014_02:return Ia.sign(k,n,r).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(k,n,r,T){switch(db){case I.LEGACY:return new Promise(function(B,C){var N;N=Ia.verify(k,n,r,T);N.oncomplete=function(k){B(k.target.result);};N.onerror=function(k){C(k);};});case I.V2014_01:case I.V2014_02:return Ia.verify(k,n,r,T);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(k,n){switch(db){case I.LEGACY:return new Promise(function(B,r){var M;M=Ia.digest(k,n);M.oncomplete=function(k){B(k.target.result);};M.onerror=function(k){r(k);};});case I.V2014_01:case I.V2014_02:return Ia.digest(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(r,B,M){var K,J;K=k(B);J=n(M);switch(db){case I.LEGACY:return new Promise(function(k,n){var C;C=Ia.generateKey(r,K,J);C.oncomplete=function(n){k(n.target.result);};C.onerror=function(k){n(k);};});case I.V2014_01:case I.V2014_02:return Ia.generateKey(r,K,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(r,B,M,T,J){var C,N;C=k(T);N=n(J);switch(db){case I.LEGACY:return new Promise(function(k,n){var J;J=Ia.deriveKey(r,B,M,C,N);J.oncomplete=function(n){k(n.target.result);};J.onerror=function(k){n(k);};});case I.V2014_01:case I.V2014_02:return Ia.deriveKey(r,B,M,C,N);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(K,B,M,T,J){var C,N;C=k(T);N=n(J);switch(db){case I.LEGACY:return new Promise(function(k,n){var r;r=Ia.importKey(K,B,M,C,N);r.oncomplete=function(n){k(n.target.result);};r.onerror=function(k){n(k);};});case I.V2014_01:case I.V2014_02:return r(K,B,M,C,N);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(k,n){switch(db){case I.LEGACY:return new Promise(function(r,B){var M;M=Ia.exportKey(k,n);M.oncomplete=function(k){r(k.target.result);};M.onerror=function(k){B(k);};});case I.V2014_01:case I.V2014_02:return t(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(k,n,r,T){switch(db){case I.LEGACY:return new Promise(function(k,C){var B;B=Ia.wrapKey(n,r,T);B.oncomplete=function(n){k(n.target.result);};B.onerror=function(k){C(k);};});case I.V2014_01:case I.V2014_02:return Ia.wrapKey(k,n,r,T).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(r,B,M,T,J,C,N){switch(db){case I.LEGACY:return new Promise(function(k,n){var C;C=Ia.unwrapKey(B,J,M);C.oncomplete=function(n){k(n.target.result);};C.onerror=function(k){n(k);};});case I.V2014_01:case I.V2014_02:return Ia.unwrapKey(r,B,M,T,J,k(C),n(N));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};xc&&xc.getKeyByName&&(xa.getKeyByName=function(k){switch(db){case I.LEGACY:return new Promise(function(n,r){var B;B=xc.getKeyByName(k);B.oncomplete=function(k){n(k.target.result);};B.onerror=function(k){r(k);};});case I.V2014_01:case I.V2014_02:return xc.getKeyByName(k);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});A.netflix=A.netflix||{};A.netflix.crypto=xa;}());zb={name:"AES-KW"};pb={name:"AES-CBC"};qb={name:"HMAC",hash:{name:"SHA-256"}};Ac={name:"RSA-OAEP",hash:{name:"SHA-1"}};ad={name:"RSAES-PKCS1-v1_5"};Pd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Qb=["sign","verify"];(function(){bd=ha.Class.create({init:function(r,t,F){var I;function W(k){n(t,function(){var n;n=k?ja(k):ea;Object.defineProperties(I,{rawKey:{value:r,writable:!1,configurable:!1},keyData:{value:k,writable:!1,configurable:!1},keyDataB64:{value:n,writable:!1,configurable:!1}});return this;},I);}I=this;n(t,function(){if(!r||"object"!=typeof r)throw new R(k.INVALID_SYMMETRIC_KEY);!F&&r.extractable?xa.exportKey("raw",r).then(function(k){W(new Uint8Array(k));},function(n){t.error(new R(k.KEY_EXPORT_ERROR,"raw"));}):W(F);},I);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zb=function(k,n){new bd(k,n);};Ab=function(r,t,F,A){n(A,function(){try{r="string"==typeof r?oa(r):r;}catch(I){throw new R(k.INVALID_SYMMETRIC_KEY,"keydata "+r,I);}xa.importKey("raw",r,t,!0,F).then(function(k){new bd(k,A,r);},function(n){A.error(new R(k.INVALID_SYMMETRIC_KEY));});});};}());(function(){Bc=ha.Class.create({init:function(r,t,F){var I;function W(k){n(t,function(){Object.defineProperties(I,{rawKey:{value:r,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},I);}I=this;n(t,function(){if(!r||"object"!=typeof r||"public"!=r.type)throw new TypeError("Only original public crypto keys are supported.");!F&&r.extractable?xa.exportKey("spki",r).then(function(k){W(new Uint8Array(k));},function(n){t.error(new R(k.KEY_EXPORT_ERROR,"spki"));}):W(F);});},getEncoded:function(){return this.encoded;}});Mb=function(k,n){new Bc(k,n);};cd=function(r,t,F,A){n(A,function(){try{r="string"==typeof r?oa(r):r;}catch(I){throw new R(k.INVALID_PUBLIC_KEY,"spki "+r,I);}xa.importKey("spki",r,t,!0,F).then(function(k){new Bc(k,A,r);},function(n){A.error(new R(k.INVALID_PUBLIC_KEY));});});};}());(function(){Qd=ha.Class.create({init:function(r,t,F){var I;function A(k){n(t,function(){Object.defineProperties(I,{rawKey:{value:r,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},I);}I=this;n(t,function(){if(!r||"object"!=typeof r||"private"!=r.type)throw new TypeError("Only original private crypto keys are supported.");!F&&r.extractable?xa.exportKey("pkcs8",r).then(function(k){A(new Uint8Array(k));},function(n){t.error(new R(k.KEY_EXPORT_ERROR,"pkcs8"));}):A(F);});},getEncoded:function(){return this.encoded;}});$b=function(k,n){new Qd(k,n);};}());(function(){var r;r=gd={V1:1,V2:2};dd=ha.Class.create({init:function(k,t,F,I){n(I,function(){var n,B,M,T;n=r.V1;B=k;M=null;for(T in yc)if(yc[T]==k){n=r.V2;B=null;M=k;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:B,writable:!1,configurable:!1},cipherSpec:{value:M,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var k;k={};switch(this.version){case r.V1:k.keyid=this.keyId;this.iv&&(k.iv=ja(this.iv));k.ciphertext=ja(this.ciphertext);k.sha256="AA==";break;case r.V2:k.version=this.version;k.cipherspec=this.cipherSpec;this.iv&&(k.iv=ja(this.iv));k.ciphertext=ja(this.ciphertext);break;default:throw new ca("Ciphertext envelope version "+this.version+" encoding unsupported.");}return k;}});ed=function(k,n,r,I){new dd(k,n,r,I);};fd=function(t,F,A){n(A,function(){var n,K,B,M,T,J,C;n=t.keyid;K=t.cipherspec;B=t.iv;M=t.ciphertext;T=t.sha256;if(!F)if((F=t.version)&&"number"===typeof F&&F===F){J=!1;for(C in r)if(r[C]==F){J=!0;break;}if(!J)throw new R(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}else F=r.V1;switch(F){case r.V1:if("string"!==typeof n||B&&"string"!==typeof B||"string"!==typeof M||"string"!==typeof T)throw new ba(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case r.V2:C=t.version;if(C!=r.V2)throw new R(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!==typeof K||B&&"string"!==typeof B||"string"!==typeof M)throw new ba(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));K=Md(K);if(!K)throw new R(k.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));n=K;break;default:throw new R(k.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}try{B&&(B=oa(B));M=oa(M);}catch(N){throw new R(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),N);}new dd(n,B,M,A);});};}());(function(){var r;r=jd={V1:1,V2:2};Bb=ha.Class.create({init:function(k,n,t){var I;switch(k){case r.V1:I=t;break;case r.V2:I={};I.version=k;I.algorithm=n;I.signature=ja(t);I=Oa(JSON.stringify(I),Ba);break;default:throw new ca("Signature envelope version "+k+" encoding unsupported.");}Object.defineProperties(this,{version:{value:k,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:I,writable:!1,configurable:!1}});}});hd=function(){var k,t,F,I;2==arguments.length?(k=r.V1,t=arguments[0],F=null,I=arguments[1]):3==arguments.length&&(k=r.V2,F=arguments[0],t=arguments[1],I=arguments[2]);n(I,function(){return new Bb(k,F,t);});};id=function(t,F,A){n(A,function(){var n,K,B,M,T,J,C;if(F)switch(F){case r.V1:return new Bb(r.V1,null,t);case r.V2:try{n=Ra(t,Ba);K=JSON.parse(n);B=parseInt(K.version);M=K.algorithm;T=K.signature;if(!B||"number"!==typeof B||B!=B||"string"!==typeof M||"string"!==typeof T)throw new ba(k.JSON_PARSE_ERROR,"signature envelope "+ja(t));if(r.V2!=B)throw new R(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ja(t));J=Zc(M);if(!J)throw new R(k.UNIDENTIFIED_ALGORITHM,"signature envelope "+ja(t));C=oa(T);if(!C)throw new R(k.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(t));return new Bb(r.V2,J,C);}catch(N){if(N instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"signature envelope "+ja(t),N);throw N;}default:throw new R(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ja(t));}try{n=Ra(t,Ba);K=JSON.parse(n);}catch(N){K=null;}if(K&&K.version){if(n=K.version,"number"!==typeof n||n!==n)n=r.V1;}else n=r.V1;switch(n){case r.V1:return new Bb(n,null,t);case r.V2:J=K.algorithm;T=K.signature;if("string"!==typeof J||"string"!==typeof T)return new Bb(r.V1,null,t);J=Zc(J);if(!J)return new Bb(r.V1,null,t);try{C=oa(T);}catch(N){return new Bb(r.V1,null,t);}return new Bb(n,J,C);default:throw new R(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+t);}});};}());bc=ha.Class.create({encrypt:function(k,n){},decrypt:function(k,n){},wrap:function(k,n){},unwrap:function(k,n,r,t){},sign:function(k,n){},verify:function(k,n,r){}});(function(){var r;r=Db={RSA_OAEP:Ac.name,A128KW:zb.name};vb="A128GCM";Cb=ha.Class.create({init:function(k,n,t,I,K){switch(n){case r.RSA_OAEP:K=K&&(K.rawKey||K);I=I&&(I.rawKey||I);break;case r.A128KW:K=I=I&&(I.rawKey||I);break;default:throw new ca("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,r){r.error(new R(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,r){r.error(new R(k.DECRYPT_NOT_SUPPORTED));},wrap:function(r,t){n(t,function(){xa.wrapKey("jwe+jwk",r.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new R(k.WRAP_ERROR));});},this);},unwrap:function(r,t,F,I){function K(r){n(I,function(){switch(r.type){case"secret":Zb(r,I);break;case"public":Mb(r,I);break;case"private":$b(r,I);break;default:throw new R(k.UNSUPPORTED_KEY,"type: "+r.type);}});}n(I,function(){xa.unwrapKey("jwe+jwk",r,this._unwrapKey,this._unwrapKey.algorithm,t,!1,F).then(function(k){K(k);},function(){I.error(new R(k.UNWRAP_ERROR));});},this);},sign:function(n,r){r.error(new R(k.SIGN_NOT_SUPPORTED));},verify:function(n,r,t){t.error(new R(k.VERIFY_NOT_SUPPORTED));}});}());cc=bc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.result(k);},unwrap:function(k,n,r,t){t.result(k);},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,r){r.result(!0);}});(function(){var r;r=Dc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Cc=bc.extend({init:function wa(k,n,K,B,M){wa.base.call(this);K&&(K=K.rawKey);B&&(B=B.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:K,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:B,writable:!1,enumerable:!1,configurable:!1},transform:{value:M==r.ENCRYPT_DECRYPT_PKCS1?ad:M==r.ENCRYPT_DECRYPT_OAEP?Ac:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:M==r.WRAP_UNWRAP_PKCS1?ad:M==r.WRAP_UNWRAP_OAEP?Ac:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:M==r.SIGN_VERIFY?Pd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,t){var I;I=this;n(t,function(){if("nullOp"==this.transform)return r;if(!this.publicKey)throw new R(k.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==r.length)return r;xa.encrypt(I.transform,I.publicKey,r).then(function(n){ed(I.id,null,n,{result:function(n){var r;try{r=JSON.stringify(n);t.result(Oa(r,Ba));}catch(T){t.error(new R(k.ENCRYPT_ERROR,null,T));}},error:function(n){n instanceof F||(n=new R(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new R(k.ENCRYPT_ERROR));});},this);},decrypt:function(r,t){var I;I=this;n(t,function(){var n,B;if("nullOp"==this.transform)return r;if(!this.privateKey)throw new R(k.DECRYPT_NOT_SUPPORTED,"no private key");if(0==r.length)return r;try{B=Ra(r,Ba);n=JSON.parse(B);}catch(M){if(M instanceof SyntaxError)throw new R(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,M);throw new R(k.DECRYPT_ERROR,null,M);}fd(n,gd.V1,{result:function(n){var r;try{if(n.keyId!=I.id)throw new R(k.ENVELOPE_KEY_ID_MISMATCH);r=t.result;xa.decrypt(I.transform,I.privateKey,n.ciphertext).then(r,function(n){t.error(new R(k.DECRYPT_ERROR));});}catch(J){J instanceof F?t.error(J):t.error(new R(k.DECRYPT_ERROR,null,J));}},error:function(n){n instanceof ba&&(n=new R(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof F||(n=new R(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(r,t){n(t,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new R(k.WRAP_NOT_SUPPORTED,"no public key");n=t.result;xa.wrapKey("jwk",r.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){t.error(new R(k.WRAP_ERROR));});},this);},unwrap:function(r,t,I,K){function B(r){n(K,function(){switch(r.type){case"secret":Zb(r,K);break;case"public":Mb(r,K);break;case"private":$b(r,K);break;default:throw new R(k.UNSUPPORTED_KEY,"type: "+r.type);}});}n(K,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new R(k.UNWRAP_NOT_SUPPORTED,"no private key");xa.unwrapKey("jwk",r,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,I).then(B,function(n){K.error(new R(k.UNWRAP_ERROR));});},this);},sign:function(r,t){n(t,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new R(k.SIGN_NOT_SUPPORTED,"no private key");xa.sign(this.algo,this.privateKey,r).then(function(k){hd(k,{result:function(k){t.result(k.bytes);},error:t.error});},function(n){t.error(new R(k.SIGNATURE_ERROR));});},this);},verify:function(r,t,I){var K;K=this;n(I,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new R(k.VERIFY_NOT_SUPPORTED,"no public key");id(t,jd.V1,{result:function(B){n(I,function(){var n;n=I.result;xa.verify(this.algo,this.publicKey,B.signature,r).then(n,function(n){I.error(new R(k.SIGNATURE_ERROR));});},K);},error:I.error});},this);}});}());(function(){Ec=bc.extend({init:function Pa(k,n,r,K,B){Pa.base.call(this);r=r&&r.rawKey;K=K&&K.rawKey;B=B&&B.rawKey;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:r,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:K,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:B,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,t){var A;A=this;n(t,function(){var n;if(!this.encryptionKey)throw new R(k.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==r.length)return r;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);xa.encrypt({name:pb.name,iv:n},A.encryptionKey,r).then(function(r){r=new Uint8Array(r);ed(A.id,n,r,{result:function(n){var r;try{r=JSON.stringify(n);t.result(Oa(r,Ba));}catch(T){t.error(new R(k.ENCRYPT_ERROR,null,T));}},error:function(n){n instanceof F||(n=new R(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new R(k.ENCRYPT_ERROR));});},this);},decrypt:function(r,t){var A;A=this;n(t,function(){var n,K;if(!this.encryptionKey)throw new R(k.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==r.length)return r;try{K=Ra(r,Ba);n=JSON.parse(K);}catch(B){if(B instanceof SyntaxError)throw new R(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,B);throw new R(k.DECRYPT_ERROR,null,B);}fd(n,gd.V1,{result:function(n){try{if(n.keyId!=A.id)throw new R(k.ENVELOPE_KEY_ID_MISMATCH);xa.decrypt({name:pb.name,iv:n.iv},A.encryptionKey,n.ciphertext).then(function(k){k=new Uint8Array(k);t.result(k);},function(){t.error(new R(k.DECRYPT_ERROR));});}catch(M){M instanceof F?t.error(M):t.error(new R(k.DECRYPT_ERROR,null,M));}},error:function(n){n instanceof ba&&(n=new R(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof F||(n=new R(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(r,t){n(t,function(){if(!this.wrapKey)throw new R(k.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");xa.wrapKey("raw",r.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new R(k.WRAP_ERROR));});},this);},unwrap:function(r,t,F,I){function K(r){n(I,function(){switch(r.type){case"secret":Zb(r,I);break;case"public":Mb(r,I);break;case"private":$b(r,I);break;default:throw new R(k.UNSUPPORTED_KEY,"type: "+r.type);}});}n(I,function(){if(!this.wrapKey)throw new R(k.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");xa.unwrapKey("raw",r,this.wrapKey,this.wrapKey.algorithm,t,!1,F).then(function(k){K(k);},function(n){I.error(new R(k.UNWRAP_ERROR));});},this);},sign:function(r,t){var F;F=this;n(t,function(){if(!this.hmacKey)throw new R(k.SIGN_NOT_SUPPORTED,"no HMAC key.");xa.sign(qb,this.hmacKey,r).then(function(k){n(t,function(){var n;n=new Uint8Array(k);hd(n,{result:function(k){t.result(k.bytes);},error:t.error});},F);},function(){t.error(new R(k.HMAC_ERROR));});},this);},verify:function(r,t,F){var I;I=this;n(F,function(){if(!this.hmacKey)throw new R(k.VERIFY_NOT_SUPPORTED,"no HMAC key.");id(t,jd.V1,{result:function(t){n(F,function(){xa.verify(qb,this.hmacKey,t.signature,r).then(function(k){F.result(k);},function(n){F.error(new R(k.HMAC_ERROR));});},I);},error:F.error});},this);}});}());gb=Ec.extend({init:function Pa(n,r,t,K,B){if(t||K||B)Pa.base.call(this,n,t+"_"+r.sequenceNumber,K,B,null);else{if(!r.isDecrypted())throw new Pb(k.MASTERTOKEN_UNTRUSTED,r);Pa.base.call(this,n,r.identity+"_"+r.sequenceNumber,r.encryptionKey,r.hmacKey,null);}}});Te=bc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.error(new ca("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(k,n,r,t){t.error(new ca("Unwrap is unsupported by the MSL token crypto context."));},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,r){r.result(!1);}});Fa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Fa);(function(){Ob=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Ob?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});Rd=function(n,r){var t,I,K;t=r.scheme;I=r.authdata;if(!t||!I)throw new ba(k.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(r));if(!Fa[t])throw new yb(k.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);K=n.getEntityAuthenticationFactory(t);if(!K)throw new yb(k.ENTITYAUTH_FACTORY_NOT_FOUND,t);return K.createData(n,I);};}());Fc=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n){},getCryptoContext:function(k,n){}});(function(){nb=Ob.extend({init:function wa(k){wa.base.call(this,Fa.MGK);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function ya(k){return this===k?!0:k instanceof nb?ya.base.call(this,this,k)&&this.identity==k.identity:!1;}});Sd=function(n){var r;r=n.identity;if(!r)throw new ba(k.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new nb(r);};}());Ue=Fc.extend({init:function wa(k){wa.base.call(this,Fa.MGK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Sd(n);},getCryptoContext:function(n,r){if(!(r instanceof nb))throw new ca("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new yb(k.ENTITY_NOT_FOUND,"mgk "+r.identity).setEntity(r);return new cc();}});(function(){rb=Ob.extend({init:function ya(k){ya.base.call(this,Fa.PSK);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function I(k){return this===k?!0:k instanceof rb?I.base.call(this,this,k)&&this.identity==k.identity:!1;}});Td=function(n){var r;r=n.identity;if(!r)throw new ba(k.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new rb(r);};}());Ud=Fc.extend({init:function ya(k){ya.base.call(this,Fa.PSK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Td(n);},getCryptoContext:function(n,r){if(!(r instanceof rb))throw new ca("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.getIdentity()!=this.localIdentity)throw new yb(k.ENTITY_NOT_FOUND,"psk "+r.identity).setEntity(r);return new cc();}});(function(){Gc=Ob.extend({init:function I(k,n){I.base.call(this,Fa.RSA);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;k.pubkeyid=this.publicKeyId;return k;},equals:function K(k){return this===k?!0:k instanceof Gc?K.base.call(this,this,k)&&this.identity==k.identity&&this.publicKeyId==k.publicKeyId:!1;}});Vd=function(n){var r,M;r=n.identity;M=n.pubkeyid;if(!r||"string"!==typeof r||!M||"string"!==typeof M)throw new ba(k.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Gc(r,M);};}());Ve=Fc.extend({init:function I(k){I.base.call(this,Fa.RSA);Object.defineProperties(this,{store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Vd(n);},getCryptoContext:function(n,r){var B,M,t;if(!(r instanceof Gc))throw new ca("Incorrect authentication data type "+r+".");B=r.identity;M=r.publicKeyId;t=this.store.getPublicKey(M);if(!t)throw new yb(k.RSA_PUBLICKEY_NOT_FOUND,M).setEntity(r);return new Cc(n,B,null,t,Dc.SIGN_VERIFY);}});(function(){hc=Ob.extend({init:function K(k){K.base.call(this,Fa.NONE);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function B(k){return this===k?!0:k instanceof hc?B.base.call(this,this,k)&&this.identity==k.identity:!1;}});Wd=function(n){var r;r=n.identity;if(!r)throw new ba(k.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new hc(r);};}());Qe=Fc.extend({init:function K(){K.base.call(this,Fa.NONE);},createData:function(k,n){return Wd(n);},getCryptoContext:function(k,n){if(!(n instanceof hc))throw new ca("Incorrect authentication data type "+JSON.stringify(n)+".");return new cc();}});We=ha.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(k,n){if(!(n instanceof Bc))throw new ca("Incorrect key data type "+n+".");this.rsaKeys[k]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(k){delete this.rsaKeys[k];},getPublicKey:function(k){return this.rsaKeys[k];}});kd=ha.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,r){}});Hc=ha.Class.create({abort:function(){},close:function(k,n){},write:function(k,n,r,t,J){},flush:function(k,n){}});Xe=ha.Class.create({init:function(k){Object.defineProperties(this,{_data:{value:k,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Wa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(k,n,r){t(r,function(){var n;if(this._closed)throw new Wa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==k&&(k=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+k);this._currentPosition+=n.length;return n;},this);}});Ye=ha.Class.create({init:function(){var k;k={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},abort:function(){},close:function(k,n){this._closed=!0;n.result(!0);},write:function(k,n,r,T,J){t(J,function(){var C;if(this._closed)throw new Wa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>r)throw new RangeError("Length cannot be negative.");if(n+r>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");C=k.subarray(n,r);this._buffered.push(C);return C.length;},this);},flush:function(k,n){var r,B;for(;0<this._buffered.length;){r=this._buffered.shift();if(this._result){B=new Uint8Array(this._result.length+r.length);B.set(this._result);B.set(r,this._result.length);this._result=B;}else this._result=new Uint8Array(r);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ze=ha.Class.create({getResponse:function(k,n,r){}});(function(){var k,n;k=Hc.extend({init:function(k,n){var r;r={_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Ye(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ea,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ea,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,r);},setTimeout:function(k){this._timeout=k;},getResponse:function(k,n){var r;r=this;this._responseQueue.poll(k,{result:function(k){t(n,function(){k&&this._responseQueue.add(k);return k;},r);},timeout:function(){t(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},r);},error:function(k){t(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw k;},r);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(k,n){var r;r=this;t(n,function(){var k;if(this._response)return!0;k=this._buffer.toByteArray();0<k.length&&(this._abortToken=this._httpLocation.getResponse({body:k},this._timeout,{result:function(k){r._response={response:k};r._responseQueue.add(r._response);},timeout:function(){r._response={isTimeout:!0};r._responseQueue.add(r._response);},error:function(k){r._response={isError:!0,error:k};r._responseQueue.add(r._response);}}));return!0;},this);},write:function(k,n,r,C,N){t(N,function(){if(this._response)throw new Wa("HttpOutputStream already closed.");this._buffer.write(k,n,r,C,N);},this);},flush:function(k,n){t(n,function(){if(this._response)return!0;this._buffer.flush(k,n);},this);}});n=kd.extend({init:function(k){Object.defineProperties(this,{_out:{value:k,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ea,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ea,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ea,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(k,n,r){var N;function C(C){t(r,function(){if(!C)return new Uint8Array(0);this._out.getResponse(n,{result:function(C){t(r,function(){var B;if(C.isTimeout)this._timedout=!0,r.timeout();else{if(C.isError)throw this._exception=C.error||new Wa("Unknown HTTP exception."),this._exception;if(!C.response)throw this._exception=new Wa("Missing HTTP response."),this._exception;C.response.json!==ea&&(this._json=C.response.json,this.getJSON=function(){return N._json;});B=C.response.content||Rc("string"===typeof C.response.body?C.response.body:JSON.stringify(this._json));this._buffer=new Xe(B);this._buffer.read(k,n,r);}},N);},timeout:function(){r.timeout();},error:function(k){r.error(k);}});},N);}N=this;t(r,function(){if(this._exception)throw this._exception;if(this._timedout)r.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(k,n,r):this._out.close(n,{result:function(k){C(k);},timeout:function(){r.timeout();},error:function(k){r.error(k);}});}},N);}});Dd=ha.Class.create({init:function(k,n){Object.defineProperties(this,{_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(k){this._timeout=k;},openConnection:function(){var r;r=new k(this._httpLocation,this._timeout);return{input:new n(r),output:r};}});}());(function(){var k,n;k=Hc.extend({init:function(){var k;k={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},setTimeout:function(){},getResponse:function(k,n){n.result({success:!1,content:null,errorHttpCode:ea,errorSubCode:ea});},abort:function(){},close:function(k,n){n.result(!0);},write:function(k,n,r,C,N){var B,M;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>r)throw new RangeError("Length cannot be negative.");if(n+r>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");B=k.subarray(n,r);M=new Uint8Array(this._buffer.length+B.length);M.set(this._buffer);M.set(B,this._buffer.length);this._buffer=M;N.result(B.length);}catch(Aa){N.error(Aa);}},flush:function(k,n){n.result(!0);},request:function(){return this._buffer;}});n=kd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,r){r.result(new Uint8Array(16));}});Ed=ha.Class.create({init:function(){var r;r={output:{value:new k(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,r);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Qc(this.output.request());}});}());Xd=function(k,n,r){function B(k){var n,r;k=new $e(Ra(k,"utf-8"));n=[];for(r=k.nextValue();r!==ea;)n.push(r),r=k.nextValue();return n;}(function(k,n,N){k.read(-1,n,{result:function(k){k&&k.length?N(null,k):N(null,null);},timeout:function(){r.timeout();},error:function(k){N(k,null);}});}(k,n,function(n,C){n?r.error(n):C?k.getJSON!==ea&&"function"===typeof k.getJSON?r.result(k.getJSON()):r.result(B(C)):r.result(null);}));};lb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lb);(function(){jc=ha.Class.create({init:function(k){Object.defineProperties(this,{keyExchangeScheme:{value:k,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof jc?this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Yd=function(r,B,M){n(M,function(){var n,t,C;n=B.scheme;t=B.keydata;if(!n||!t||"object"!==typeof t)throw new ba(k.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(B));if(!lb[n])throw new Ha(k.UNIDENTIFIED_KEYX_SCHEME,n);C=r.getKeyExchangeFactory(n);if(!C)throw new Ha(k.KEYX_FACTORY_NOT_FOUND,n);C.createRequestData(r,t,M);});};}());(function(){kc=ha.Class.create({init:function(k,n){Object.defineProperties(this,{masterToken:{value:k,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.mastertoken=this.masterToken;k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof kc?this.masterToken.equals(k.masterToken)&&this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Zd=function(r,B,t){n(t,function(){var M,J,C;M=B.mastertoken;J=B.scheme;C=B.keydata;if(!J||!M||"object"!==typeof M||!C||"object"!==typeof C)throw new ba(k.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(B));if(!lb[J])throw new Ha(k.UNIDENTIFIED_KEYX_SCHEME,J);Rb(r,M,{result:function(N){n(t,function(){var n;n=r.getKeyExchangeFactory(J);if(!n)throw new Ha(k.KEYX_FACTORY_NOT_FOUND,J);return n.createResponseData(r,N,C);});},error:function(k){t.error(k);}});});};}());(function(){var r;r=ha.Class.create({init:function(k,n){Object.defineProperties(this,{keyResponseData:{value:k,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});ob=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createRequestData:function(k,n,r){},createResponseData:function(k,n,r){},generateResponse:function(k,n,r,t){},getCryptoContext:function(k,n,r,t,C){},generateSessionKeys:function(r,t){n(t,function(){var n,B;n=new Uint8Array(16);B=new Uint8Array(32);r.getRandom().nextBytes(n);r.getRandom().nextBytes(B);Ab(n,pb,Hb,{result:function(n){Ab(B,qb,Qb,{result:function(k){t.result({encryptionKey:n,hmacKey:k});},error:function(n){t.error(new R(k.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){t.error(new R(k.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(k,n,r){Ab(k,pb,Hb,{result:function(k){Ab(n,qb,Qb,{result:function(n){r.result({encryptionKey:k,hmacKey:n});},error:function(k){r.error(k);}});},error:function(k){r.error(k);}});}});ob.KeyExchangeData=r;}());(function(){var B,t,T;function r(r,C,N,t,M){n(M,function(){var pa,J;switch(C){case B.PSK:pa=new rb(t),J=r.getEntityAuthenticationFactory(Fa.PSK);if(!J)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,C);pa=J.getCryptoContext(r,pa);return new Cb(r,Db.A128KW,vb,ea);case B.MGK:pa=new nb(t);J=r.getEntityAuthenticationFactory(Fa.MGK);if(!J)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,C);pa=J.getCryptoContext(r,pa);return new Cb(r,Db.A128KW,vb,ea);case B.WRAP:pa=r.getMslCryptoContext();pa.unwrap(N,zb,Ib,{result:function(g){n(M,function(){return new Cb(r,Db.A128KW,vb,g);});},error:M.error});break;default:throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,C);}});}B={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};t=ld=jc.extend({init:function C(k,n){C.base.call(this,lb.JWE_LADDER);switch(k){case B.WRAP:if(!n)throw new ca("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ja(this.wrapdata));return k;},equals:function N(k){return k===this?!0:k instanceof ld?N.base.call(this,k)&&this.mechanism==k.mechanism&&Xa(this.wrapdata,k.wrapdata):!1;},uniqueKey:function Ka(){var k;k=Ka.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+eb(this.wrapdata));return k;}});T=ae=kc.extend({init:function pa(k,n,g,d,a){pa.base.call(this,k,lb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:g,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ja(this.wrapKey);k.wrapdata=ja(this.wrapdata);k.encryptionkey=ja(this.encryptionKey);k.hmackey=ja(this.hmacKey);return k;},equals:function Aa(k){return this===k?!0:k instanceof ae?Aa.base.call(this,k)&&Xa(this.wrapKey,k.wrapKey)&&Xa(this.wrapdata,k.wrapdata)&&Xa(this.encryptionKey,k.encryptionKey)&&Xa(this.hmacKey,k.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this)+":"+eb(this.wrapKey)+":"+eb(this.wrapdata)+":"+eb(this.encryptionKey)+":"+eb(this.hmacKey);}});$d=ob.extend({init:function g(d){g.base.call(this,lb.JWE_LADDER);Object.defineProperties(this,{repository:{value:d,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(g,d,a){n(a,function(){var a,c,h;a=d.mechanism;c=d.wrapdata;if(!a||a==B.WRAP&&(!c||"string"!==typeof c))throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(d));if(!B[a])throw new Ha(k.UNIDENTIFIED_KEYX_MECHANISM,a);switch(a){case B.WRAP:try{h=oa(c);}catch(l){throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());}if(null==h||0==h.length)throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());break;default:h=null;}return new t(a,h);});},createResponseData:function(g,d,a){var b,c,h,l,f,p,m;g=a.wrapkey;b=a.wrapdata;c=a.encryptionkey;h=a.hmackey;if(!(g&&"string"===typeof g&&b&&"string"===typeof b&&c&&"string"===typeof c&&h)||"string"!==typeof h)throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));try{l=oa(g);f=oa(b);}catch(q){throw new R(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(a),q);}try{p=oa(c);}catch(q){throw new R(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(a),q);}try{m=oa(h);}catch(q){throw new R(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(a),q);}return new T(d,l,f,p,m);},generateResponse:function(g,d,a,b){var p,m;function c(a,f,c){p.generateSessionKeys(g,{result:function(d){n(b,function(){h(a,f,c,d.encryptionKey,d.hmacKey);},p);},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}});}function h(a,f,c,h,z){n(b,function(){r(g,d.mechanism,d.wrapdata,a,{result:function(a){a.wrap(f,{result:function(a){l(f,c,h,z,a);},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}});},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}});},p);}function l(a,c,d,l,h){n(b,function(){var p;p=new Cb(g,Db.A128KW,vb,a);p.wrap(d,{result:function(a){p.wrap(l,{result:function(b){f(c,h,d,a,l,b);},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}});},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}});},p);}function f(f,c,d,l,h,w){n(b,function(){var q;q=g.getTokenFactory();m?q.renewMasterToken(g,m,d,h,{result:function(a){n(b,function(){var d,m;d=new gb(g,a);m=new T(a,c,f,l,w);return new ob.KeyExchangeData(m,d,b);},p);},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;});}}):q.createMasterToken(g,a,d,h,{result:function(a){n(b,function(){var d,m;d=new gb(g,a);m=new T(a,c,f,l,w);return new ob.KeyExchangeData(m,d,b);},p);},error:b.error});},p);}p=this;n(b,function(){var f,l;if(!(d instanceof t))throw new ca("Key request data "+JSON.stringify(d)+" was not created by this factory.");f=a;if(a instanceof fb){if(!a.isVerified())throw new Pb(k.MASTERTOKEN_UNTRUSTED,a);m=a;f=a.identity;}l=new Uint8Array(16);g.getRandom().nextBytes(l);Ab(l,zb,Ib,{result:function(a){n(b,function(){g.getMslCryptoContext().wrap(a,{result:function(b){c(f,a,b);},error:function(a){n(b,function(){a instanceof F&&a.setEntity(m);throw a;},p);}});},p);},error:function(a){n(b,function(){throw new R(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(m);},p);}});},p);},getCryptoContext:function(g,d,a,b,c){var l;function h(a,b,d,q,h){n(c,function(){var f;f=new Cb(g,Db.A128KW,vb,h);f.unwrap(b.encryptionKey,pb,Hb,{result:function(m){f.unwrap(b.hmacKey,qb,Qb,{result:function(a){n(c,function(){this.repository.addCryptoContext(b.wrapdata,f);this.repository.removeCryptoContext(d);return new gb(g,b.masterToken,q,m,a);},l);},error:function(f){n(c,function(){f instanceof F&&f.setEntity(a);throw f;});}});},error:function(f){n(c,function(){f instanceof F&&f.setEntity(a);throw f;});}});},l);}l=this;n(c,function(){var f,b;if(!(d instanceof t))throw new ca("Key request data "+JSON.stringify(d)+" was not created by this factory.");if(!(a instanceof T))throw new ca("Key response data "+JSON.stringify(a)+" was not created by this factory.");f=d.mechanism;b=d.wrapdata;g.getEntityAuthenticationData(null,{result:function(d){n(c,function(){var m,p,l;m=d.getIdentity();switch(f){case B.PSK:p=new rb(m);l=g.getEntityAuthenticationFactory(Fa.PSK);if(!l)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);p=l.getCryptoContext(g,p);p=new Cb(g,Db.A128KW,vb,ea);break;case B.MGK:p=new nb(m);l=g.getEntityAuthenticationFactory(Fa.MGK);if(!l)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);p=l.getCryptoContext(g,p);p=new Cb(g,Db.A128KW,vb,p.wrapKey);break;case B.WRAP:p=this.repository.getCryptoContext(b);if(!p)throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,ja(b)).setEntity(d);break;default:throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);}p.unwrap(a.wrapKey,zb,Ib,{result:function(f){h(d,a,b,m,f);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(d);throw a;});}});},l);},error:c.error});},l);}});}());(function(){var B,t,T,J;function r(r,N,t,M,T){n(T,function(){var C,g;switch(N){case B.PSK:C=new rb(M),g=r.getEntityAuthenticationFactory(Fa.PSK);if(!g)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,N);C=g.getCryptoContext(r,C);return new J(ea);case B.MGK:C=new nb(M);g=r.getEntityAuthenticationFactory(Fa.MGK);if(!g)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,N);C=g.getCryptoContext(r,C);return new J(ea);case B.WRAP:C=r.getMslCryptoContext();C.unwrap(t,zb,Ib,{result:function(d){n(T,function(){return new J(d);});},error:T.error});break;default:throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,N);}});}B={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};t=Ic=jc.extend({init:function N(k,n){N.base.call(this,lb.JWK_LADDER);switch(k){case B.WRAP:if(!n)throw new ca("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ja(this.wrapdata));return k;},equals:function Ka(k){return k===this?!0:k instanceof Ic?Ka.base.call(this,k)&&this.mechanism==k.mechanism&&Xa(this.wrapdata,k.wrapdata):!1;},uniqueKey:function pa(){var k;k=pa.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+eb(this.wrapdata));return k;}});T=be=kc.extend({init:function Aa(k,g,d,a,b){Aa.base.call(this,k,lb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:g,writable:!1,configurable:!1},wrapdata:{value:d,writable:!1,configurable:!1},encryptionKey:{value:a,writable:!1,configurable:!1},hmacKey:{value:b,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ja(this.wrapKey);k.wrapdata=ja(this.wrapdata);k.encryptionkey=ja(this.encryptionKey);k.hmackey=ja(this.hmacKey);return k;},equals:function sa(g){return this===g?!0:g instanceof be?sa.base.call(this,g)&&Xa(this.wrapKey,g.wrapKey)&&Xa(this.wrapdata,g.wrapdata)&&Xa(this.encryptionKey,g.encryptionKey)&&Xa(this.hmacKey,g.hmacKey):!1;},uniqueKey:function g(){return g.base.call(this)+":"+eb(this.wrapKey)+":"+eb(this.wrapdata)+":"+eb(this.encryptionKey)+":"+eb(this.hmacKey);}});J=bc.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(g,d){d.error(new R(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(g,d){d.error(new R(k.DECRYPT_NOT_SUPPORTED));},wrap:function(g,d){n(d,function(){xa.wrapKey("jwk",g.rawKey,this._wrapKey,zb).then(function(a){d.result(a);},function(a){d.error(new R(k.WRAP_ERROR));});},this);},unwrap:function(g,d,a,b){function c(a){n(b,function(){switch(a.type){case"secret":Zb(a,b);break;case"public":Mb(a,b);break;case"private":$b(a,b);break;default:throw new R(k.UNSUPPORTED_KEY,"type: "+a.type);}});}n(b,function(){xa.unwrapKey("jwk",g,this._wrapKey,zb,d,!1,a).then(function(a){c(a);},function(a){b.error(new R(k.UNWRAP_ERROR));});},this);},sign:function(g,d){d.error(new R(k.SIGN_NOT_SUPPORTED));},verify:function(g,d,a){a.error(new R(k.VERIFY_NOT_SUPPORTED));}});md=ob.extend({init:function d(a){d.base.call(this,lb.JWK_LADDER);Object.defineProperties(this,{repository:{value:a,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(d,a,b){n(b,function(){var b,d,l;b=a.mechanism;d=a.wrapdata;if(!b||b==B.WRAP&&(!d||"string"!==typeof d))throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));if(!B[b])throw new Ha(k.UNIDENTIFIED_KEYX_MECHANISM,b);switch(b){case B.WRAP:try{l=oa(d);}catch(f){throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());}if(null==l||0==l.length)throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());break;default:l=null;}return new t(b,l);});},createResponseData:function(d,a,b){var c,h,l,f,p,m,q;d=b.wrapkey;c=b.wrapdata;h=b.encryptionkey;l=b.hmackey;if(!(d&&"string"===typeof d&&c&&"string"===typeof c&&h&&"string"===typeof h&&l)||"string"!==typeof l)throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{f=oa(d);p=oa(c);}catch(u){throw new R(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(b),u);}try{m=oa(h);}catch(u){throw new R(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),u);}try{q=oa(l);}catch(u){throw new R(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),u);}return new T(a,f,p,m,q);},generateResponse:function(d,a,b,c){var m,q;function h(a,f,b){m.generateSessionKeys(d,{result:function(d){n(c,function(){l(a,f,b,d.encryptionKey,d.hmacKey);},m);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}});}function l(b,p,l,h,w){n(c,function(){r(d,a.mechanism,a.wrapdata,b,{result:function(a){a.wrap(p,{result:function(a){f(p,l,h,w,a);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}});},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}});},m);}function f(a,f,b,d,l){n(c,function(){var m;m=new J(a);m.wrap(b,{result:function(a){m.wrap(d,{result:function(c){p(f,l,b,a,d,c);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}});},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}});},m);}function p(a,f,p,l,h,D){n(c,function(){var u;u=d.getTokenFactory();q?u.renewMasterToken(d,q,p,h,{result:function(b){n(c,function(){var p,m;p=new gb(d,b);m=new T(b,f,a,l,D);return new ob.KeyExchangeData(m,p,c);},m);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;});}}):u.createMasterToken(d,b,p,h,{result:function(b){n(c,function(){var p,m;p=new gb(d,b);m=new T(b,f,a,l,D);return new ob.KeyExchangeData(m,p,c);},m);},error:c.error});},m);}m=this;n(c,function(){var f,p;if(!(a instanceof t))throw new ca("Key request data "+JSON.stringify(a)+" was not created by this factory.");f=b;if(b instanceof fb){if(!b.isVerified())throw new Pb(k.MASTERTOKEN_UNTRUSTED,b);q=b;f=b.identity;}p=new Uint8Array(16);d.getRandom().nextBytes(p);Ab(p,zb,Ib,{result:function(a){n(c,function(){d.getMslCryptoContext().wrap(a,{result:function(b){h(f,a,b);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(q);throw a;},m);}});},m);},error:function(a){n(c,function(){throw new R(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(q);},m);}});},m);},getCryptoContext:function(d,a,b,c,h){var f;function l(a,b,c,l,x){n(h,function(){var p;p=new J(x);p.unwrap(b.encryptionKey,pb,Hb,{result:function(m){p.unwrap(b.hmacKey,qb,Qb,{result:function(a){n(h,function(){this.repository.addCryptoContext(b.wrapdata,p);this.repository.removeCryptoContext(c);return new gb(d,b.masterToken,l,m,a);},f);},error:function(f){n(h,function(){f instanceof F&&f.setEntity(a);throw f;});}});},error:function(f){n(h,function(){f instanceof F&&f.setEntity(a);throw f;});}});},f);}f=this;n(h,function(){var c,m;if(!(a instanceof t))throw new ca("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof T))throw new ca("Key response data "+JSON.stringify(b)+" was not created by this factory.");c=a.mechanism;m=a.wrapdata;d.getEntityAuthenticationData(null,{result:function(a){n(h,function(){var f,p,q;f=a.getIdentity();switch(c){case B.PSK:p=new rb(f);q=d.getEntityAuthenticationFactory(Fa.PSK);if(!q)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);p=q.getCryptoContext(d,p);p=new J(p.wrapKey);break;case B.MGK:p=new nb(f);q=d.getEntityAuthenticationFactory(Fa.MGK);if(!q)throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);p=q.getCryptoContext(d,p);p=new J(p.wrapKey);break;case B.WRAP:p=this.repository.getCryptoContext(m);if(!p)throw new Ha(k.KEYX_WRAPPING_KEY_MISSING,ja(m)).setEntity(a);break;default:throw new Ha(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);}p.unwrap(b.wrapKey,zb,Ib,{result:function(c){l(a,b,m,f,c);},error:function(f){n(h,function(){f instanceof F&&f.setEntity(a);throw f;});}});},f);},error:h.error});},f);}});}());af=ha.Class.create({addCryptoContext:function(k,n){},getCryptoContext:function(k){},removeCryptoContext:function(k){}});(function(){var t,M,T,J;function r(n,r,B,M,J){switch(B){case t.JWE_RSA:case t.JWEJS_RSA:return new Cb(n,Db.RSA_OAEP,vb,M,J);case t.JWK_RSA:return new Cc(n,r,M,J,Dc.WRAP_UNWRAP_OAEP);case t.JWK_RSAES:return new Cc(n,r,M,J,Dc.WRAP_UNWRAP_PKCS1);default:throw new R(k.UNSUPPORTED_KEYX_MECHANISM,B);}}t=Jc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};M=Wc=jc.extend({init:function N(k,n,r,t){N.base.call(this,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:k,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:r,writable:!1,configurable:!1},privateKey:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.mechanism=this.mechanism;k.publickey=ja(this.publicKey.getEncoded());return k;},equals:function Ka(k){var n;if(k===this)return!0;if(!(k instanceof Wc))return!1;n=this.privateKey===k.privateKey||this.privateKey&&k.privateKey&&Xa(this.privateKey.getEncoded(),k.privateKey.getEncoded());return Ka.base.call(this,k)&&this.keyPairId==k.keyPairId&&this.mechanism==k.mechanism&&Xa(this.publicKey.getEncoded(),k.publicKey.getEncoded())&&n;},uniqueKey:function pa(){var k,n;k=this.publicKey.getEncoded();n=this.privateKey&&this.privateKey.getEncoded();k=pa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+eb(k);n&&(k+=":"+eb(n));return k;}});T=function(r,B){n(B,function(){var n,g,d,a;n=r.keypairid;g=r.mechanism;d=r.publickey;if(!n||"string"!==typeof n||!g||!d||"string"!==typeof d)throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!t[g])throw new Ha(k.UNIDENTIFIED_KEYX_MECHANISM,g);try{a=oa(d);switch(g){case t.JWE_RSA:case t.JWEJS_RSA:case t.JWK_RSA:cd(a,Ac,Ib,{result:function(a){B.result(new M(n,g,a,null));},error:function(a){B.error(a);}});break;case t.JWK_RSAES:cd(a,ad,Ib,{result:function(a){B.result(new M(n,g,a,null));},error:function(a){B.error(a);}});break;default:throw new R(k.UNSUPPORTED_KEYX_MECHANISM,g);}}catch(b){if(!(b instanceof F))throw new R(k.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(r),b);throw b;}});};J=ce=kc.extend({init:function Aa(k,g,d,a){Aa.base.call(this,k,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.encryptionkey=ja(this.encryptionKey);k.hmackey=ja(this.hmacKey);return k;},equals:function sa(g){return this===g?!0:g instanceof ce?sa.base.call(this,g)&&this.keyPairId==g.keyPairId&&Xa(this.encryptionKey,g.encryptionKey)&&Xa(this.hmacKey,g.hmacKey):!1;},uniqueKey:function g(){return g.base.call(this)+":"+this.keyPairId+":"+eb(this.encryptionKey)+":"+eb(this.hmacKey);}});Fd=ob.extend({init:function d(){d.base.call(this,lb.ASYMMETRIC_WRAPPED);},createRequestData:function(d,a,b){T(a,b);},createResponseData:function(d,a,b){var c,h,l,f;d=b.keypairid;c=b.encryptionkey;h=b.hmackey;if(!d||"string"!==typeof d||!c||"string"!==typeof c||!h||"string"!==typeof h)throw new ba(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{l=oa(c);}catch(p){throw new R(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),p);}try{f=oa(h);}catch(p){throw new R(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),p);}return new J(a,d,l,f);},generateResponse:function(d,a,b,c){var f;function h(p,m){n(c,function(){var q;q=r(d,a.keyPairId,a.mechanism,null,a.publicKey);q.wrap(p,{result:function(a){n(c,function(){q.wrap(m,{result:function(f){l(p,a,m,f);},error:function(a){n(c,function(){a instanceof F&&b instanceof fb&&a.setEntity(b);throw a;},f);}});},f);},error:function(a){n(c,function(){a instanceof F&&b instanceof fb&&a.setEntity(b);throw a;},f);}});},f);}function l(p,m,q,l){n(c,function(){var h;h=d.getTokenFactory();b instanceof fb?h.renewMasterToken(d,b,p,q,{result:function(b){n(c,function(){var f,p;f=new gb(d,b);p=new J(b,a.keyPairId,m,l);return new ob.KeyExchangeData(p,f,c);},f);},error:function(a){n(c,function(){a instanceof F&&a.setEntity(b);throw a;},f);}}):h.createMasterToken(d,b,p,q,{result:function(b){n(c,function(){var f,p;f=new gb(d,b);p=new J(b,a.keyPairId,m,l);return new ob.KeyExchangeData(p,f,c);},f);},error:c.error});},f);}f=this;n(c,function(){if(!(a instanceof M))throw new ca("Key request data "+JSON.stringify(a)+" was not created by this factory.");this.generateSessionKeys(d,{result:function(a){h(a.encryptionKey,a.hmacKey);},error:function(a){n(c,function(){a instanceof F&&b instanceof fb&&a.setEntity(b);throw a;},f);}});},f);},getCryptoContext:function(d,a,b,c,h){var l;l=this;n(h,function(){var f,p,m;if(!(a instanceof M))throw new ca("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof J))throw new ca("Key response data "+JSON.stringify(b)+" was not created by this factory.");f=a.keyPairId;p=b.keyPairId;if(f!=p)throw new Ha(k.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+f+"; response "+p).setEntity(c);p=a.privateKey;if(!p)throw new Ha(k.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(c);m=r(d,f,a.mechanism,p,null);m.unwrap(b.encryptionKey,pb,Hb,{result:function(a){m.unwrap(b.hmacKey,qb,Qb,{result:function(f){d.getEntityAuthenticationData(null,{result:function(c){n(h,function(){var p;p=c.getIdentity();return new gb(d,b.masterToken,p,a,f);},l);},error:function(a){n(h,function(){a instanceof F&&a.setEntity(c);throw a;},l);}});},error:function(a){n(h,function(){a instanceof F&&a.setEntity(c);throw a;},l);}});},error:function(a){n(h,function(){a instanceof F&&a.setEntity(c);throw a;},l);}});},l);}});}());$e=ha.Class.create({init:function(k){var n,r,t,J,C,N,K,pa;n=$a.parser();r=[];t=[];K=0;pa=!1;n.onerror=function(k){pa||(pa=!0,n.end());};n.onopenobject=function(k){var n;if(J)J[N]={},t.push(J),J=J[N];else if(C){n={};t.push(C);C.push(n);J=n;C=ea;}else J={};N=k;};n.oncloseobject=function(){var k;k=t.pop();k?"object"===typeof k?J=k:(J=ea,C=k):(r.push(J),K=n.index,J=ea);};n.onopenarray=function(){var k;if(J)J[N]=[],t.push(J),C=J[N],J=ea;else if(C){k=[];t.push(C);C.push(k);C=k;}else C=[];};n.onclosearray=function(){var k;k=t.pop();k?"object"===typeof k?(J=k,C=ea):C=k:(r.push(C),K=n.index,C=ea);};n.onkey=function(k){N=k;};n.onvalue=function(k){J?J[N]=k:C?C.push(k):(r.push(k),K=n.index);};n.write(k).close();Object.defineProperties(this,{_values:{value:r,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:K,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ea:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var r,t,M,T,J;r=nd="entityauthdata";t=ee="mastertoken";M=fe="headerdata";T=ge="errordata";J=od="signature";de=function(C,N,B,pa){n(pa,function(){var n,K,g,d,a,b;n=N[r];K=N[t];g=N[J];if(n&&"object"!==typeof n||K&&"object"!==typeof K||"string"!==typeof g)throw new ba(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(N));try{d=oa(g);}catch(c){throw new ua(k.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(N),c);}a=null;n&&(a=Rd(C,n));b=N[M];if(b!=ea&&null!=b){if("string"!==typeof b)throw new ba(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(N));K?Rb(C,K,{result:function(c){pd(C,b,a,c,d,B,pa);},error:function(a){pa.error(a);}}):pd(C,b,a,null,d,B,pa);}else if(n=N[T],n!=ea&&null!=n){if("string"!==typeof n)throw new ba(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(N));he(C,n,a,d,pa);}else throw new ba(k.JSON_PARSE_ERROR,JSON.stringify(N));});};}());(function(){function t(k,n){this.errordata=k;this.signature=n;}Lb=ha.Class.create({init:function(r,t,T,J,C,N,K,pa,Aa,sa){var g;g=this;n(sa,function(){var d,a;0>N&&(N=-1);if(0>J||J>Ca)throw new ca("Message ID "+J+" is out of range.");if(!t)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);if(Aa)return Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:T,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:N,writable:!1,configurable:!1},errorMessage:{value:K,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:Aa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Aa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;d={};T&&(d.recipient=T);d.messageid=J;d.errorcode=C;0<N&&(d.internalcode=N);K&&(d.errormsg=K);pa&&(d.usermsg=pa);try{a=r.getEntityAuthenticationFactory(t.scheme).getCryptoContext(r,t);}catch(b){throw b instanceof F&&(b.setEntity(t),b.setMessageId(J)),b;}d=Oa(JSON.stringify(d),Ba);a.encrypt(d,{result:function(b){n(sa,function(){a.sign(b,{result:function(a){n(sa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:T,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:N,writable:!1,configurable:!1},errorMessage:{value:K,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},g);},error:function(a){n(sa,function(){a instanceof F&&(a.setEntity(t),a.setMessageId(J));throw a;},g);}});},g);},error:function(a){n(sa,function(){a instanceof F&&(a.setEntity(t),a.setMessageId(J));throw a;},g);}});},g);},toJSON:function(){var k;k={};k[nd]=this.entityAuthenticationData;k[ge]=ja(this.errordata);k[od]=ja(this.signature);return k;}});ie=function(k,n,r,t,C,N,K,pa,Aa){new Lb(k,n,r,t,C,N,K,pa,null,Aa);};he=function(B,M,T,J,C){n(C,function(){var N,K,pa;if(!T)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);try{K=T.scheme;pa=B.getEntityAuthenticationFactory(K);if(!pa)throw new yb(k.ENTITYAUTH_FACTORY_NOT_FOUND,K);N=pa.getCryptoContext(B,T);}catch(Aa){throw Aa instanceof F&&Aa.setEntity(T),Aa;}try{M=oa(M);}catch(Aa){throw new ua(k.HEADER_DATA_INVALID,M,Aa).setEntity(T);}if(!M||0==M.length)throw new ua(k.HEADER_DATA_MISSING,M).setEntity(T);N.verify(M,J,{result:function(pa){n(C,function(){if(!pa)throw new R(k.MESSAGE_VERIFICATION_FAILED).setEntity(T);N.decrypt(M,{result:function(N){n(C,function(){var g,d,a,b,c,h,l,f;g=Ra(N,Ba);try{d=JSON.parse(g);}catch(m){if(m instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"errordata "+g,m).setEntity(T);throw m;}a=d.recipient!==ea?d.recipient:null;b=parseInt(d.messageid);c=parseInt(d.errorcode);h=parseInt(d.internalcode);l=d.errormsg;f=d.usermsg;if(a&&"string"!==typeof a||!b||b!=b||!c||c!=c||d.internalcode&&h!=h||l&&"string"!==typeof l||f&&"string"!==typeof f)throw new ba(k.JSON_PARSE_ERROR,"errordata "+g).setEntity(T);if(0>b||b>Ca)throw new ua(k.MESSAGE_ID_OUT_OF_RANGE,"errordata "+g).setEntity(T);d=!1;for(var p in r)if(r[p]==c){d=!0;break;}d||(c=r.FAIL);if(h){if(0>h)throw new ua(k.INTERNAL_CODE_NEGATIVE,"errordata "+g).setEntity(T).setMessageId(b);}else h=-1;g=new t(M,J);new Lb(B,T,a,b,c,h,l,f,g,C);});},error:function(k){n(C,function(){k instanceof F&&k.setEntity(T);throw k;});}});});},error:function(k){n(C,function(){k instanceof F&&k.setEntity(T);throw k;});}});});};}());bf=ha.Class.create({getUserMessage:function(k,n){}});(function(){qd=function(k,n){var r,t;if(!k||!n)return null;r=k.compressionAlgorithms.filter(function(k){for(var r=0;r<n.compressionAlgorithms.length;++r)if(k==n.compressionAlgorithms[r])return!0;return!1;});t=k.languages.filter(function(k){for(var r=0;r<n.languages.length;++r)if(k==n.languages[r])return!0;return!1;});return new lc(r,t);};lc=ha.Class.create({init:function(k,n){k||(k=[]);n||(n=[]);k.sort();Object.defineProperties(this,{compressionAlgorithms:{value:k,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var k;k={};k.compressionalgos=this.compressionAlgorithms;k.languages=this.languages;return k;},equals:function(k){return this===k?!0:k instanceof lc?yd(this.compressionAlgorithms,k.compressionAlgorithms)&&yd(this.languages,k.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});je=function(n){var r,t,J;r=n.compressionalgos;t=n.languages;if(r&&!(r instanceof Array)||t&&!(t instanceof Array))throw new ba(k.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(n));n=[];for(var T=0;r&&T<r.length;++T){J=r[T];Nb[J]&&n.push(J);}return new lc(n,t);};}());(function(){var sa,g;function r(d,a,b,c,h){this.customer=d;this.sender=a;this.messageCryptoContext=b;this.headerdata=c;this.signature=h;}function t(d,a,b,c,h,l,f,p,m,q,u,x,g,z,w,D,y,E,P,G){return{cryptoContext:{value:a,writable:!1,configurable:!1},customer:{value:b,writable:!1,configurable:!1},entityAuthenticationData:{value:c,writable:!1,configurable:!1},masterToken:{value:h,writable:!1,configurable:!1},sender:{value:l,writable:!1,configurable:!1},messageId:{value:f,writable:!1,configurable:!1},nonReplayableId:{value:D,writable:!1,configurable:!1},keyRequestData:{value:p,writable:!1,configurable:!1},keyResponseData:{value:m,writable:!1,configurable:!1},userAuthenticationData:{value:q,writable:!1,configurable:!1},userIdToken:{value:u,writable:!1,configurable:!1},serviceTokens:{value:x,writable:!1,configurable:!1},peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:z,writable:!1,configurable:!1},peerServiceTokens:{value:w,writable:!1,configurable:!1},messageCapabilities:{value:E,writable:!1,configurable:!1},renewable:{value:y,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:P,writable:!1,enumerable:!1,configurable:!1},signature:{value:G,writable:!1,enumerable:!1,configurable:!1}};}function M(d,a,b){var c;if(b){if(a=d.getMslStore().getCryptoContext(b))return a;if(!b.isVerified()||!b.isDecrypted())throw new Pb(k.MASTERTOKEN_UNTRUSTED,b);return new gb(d,b);}b=a.scheme;c=d.getEntityAuthenticationFactory(b);if(!c)throw new yb(k.ENTITYAUTH_FACTORY_NOT_FOUND,b);return c.getCryptoContext(d,a);}function T(d,a,b,c,h){n(h,function(){a.verify(b,c,{result:function(c){n(h,function(){if(!c)throw new R(k.MESSAGE_VERIFICATION_FAILED);a.decrypt(b,{result:function(a){n(h,function(){return Ra(a,Ba);});},error:function(a){h.error(a);}});});},error:function(a){h.error(a);}});});}function J(d,a,b){n(b,function(){if(a)Zd(d,a,b);else return null;});}function C(d,a,b,c){n(c,function(){if(a)Sb(d,a,b,c);else return null;});}function N(d,a,b,c){n(c,function(){if(b)ne(d,a,b,c);else return null;});}function Ka(d,a,b,c,h,l,f){var m;function p(a,f,g){var q,u;if(f>=a.length){q=[];for(u in m)q.push(m[u]);g.result(q);}else{q=a[f];if("object"!==typeof q)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+l);Kc(d,q,b,c,h,{result:function(b){n(g,function(){m[b.uniqueKey()]=b;p(a,f+1,g);});},error:function(a){g.error(a);}});}}m={};n(f,function(){if(a){if(!(a instanceof Array))throw new ba(k.JSON_PARSE_ERROR,"headerdata "+l);p(a,0,f);}else return[];});}function pa(d,a,b,c,h,l){function f(a,f,b){n(b,function(){var c;c=f.peermastertoken;if(c&&"object"!==typeof c)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+h);if(!c)return null;Rb(a,c,b);});}function p(a,f,b,c){n(c,function(){var d;d=f.peeruseridtoken;if(d&&"object"!==typeof d)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+h);if(!d)return null;Sb(a,d,b,c);});}n(l,function(){if(!d.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};f(d,a,{result:function(f){n(l,function(){var m;m=b?b.masterToken:f;p(d,a,m,{result:function(b){n(l,function(){Ka(d,a.peerservicetokens,m,b,c,h,{result:function(a){n(l,function(){return{peerMasterToken:f,peerUserIdToken:b,peerServiceTokens:a};});},error:function(a){n(l,function(){a instanceof F&&(a.setEntity(m),a.setUser(b));throw a;});}});});},error:function(a){n(l,function(){a instanceof F&&a.setEntity(m);throw a;});}});});},error:l.error});});}function Aa(d,a,b,c){var l;function h(a,b){n(c,function(){if(b>=a.length)return l;Yd(d,a[b],{result:function(f){n(c,function(){l.push(f);h(a,b+1);});},error:function(a){c.error(a);}});});}l=[];n(c,function(){var f;f=a.keyrequestdata;if(!f)return l;if(!(f instanceof Array))throw new ba(k.JSON_PARSE_ERROR,"headerdata "+b);h(f,0);});}sa=le=ha.Class.create({init:function(d,a,b,c,h,l,f,p,m){Object.defineProperties(this,{messageId:{value:d,writable:!1,configurable:!1},nonReplayableId:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,configurable:!1},capabilities:{value:c,writable:!1,configurable:!1},keyRequestData:{value:h,writable:!1,configurable:!1},keyResponseData:{value:l,writable:!1,configurable:!1},userAuthData:{value:f,writable:!1,configurable:!1},userIdToken:{value:p,writable:!1,configurable:!1},serviceTokens:{value:m,writable:!1,configurable:!1}});}});g=me=ha.Class.create({init:function(d,a,b){Object.defineProperties(this,{peerMasterToken:{value:d,writable:!1,configurable:!1},peerUserIdToken:{value:a,writable:!1,configurable:!1},peerServiceTokens:{value:b,writable:!1,configurable:!1}});}});mc=ha.Class.create({init:function(d,a,b,c,h,l,f){var m;function p(p){n(f,function(){var q,g,v,z,w,D,y,E,P,G,k,L,O,X,V,da,S;a=b?null:a;q=c.nonReplayableId;g=c.renewable;v=c.capabilities;z=c.messageId;w=c.keyRequestData?c.keyRequestData:[];D=c.keyResponseData;y=c.userAuthData;E=c.userIdToken;P=c.serviceTokens?c.serviceTokens:[];d.isPeerToPeer()?(G=h.peerMasterToken,k=h.peerUserIdToken,L=h.peerServiceTokens?h.peerServiceTokens:[]):(k=G=null,L=[]);if(0>z||z>Ca)throw new ca("Message ID "+z+" is out of range.");if(!a&&!b)throw new ca("Message entity authentication data or master token must be provided.");D?d.isPeerToPeer()?(O=b,X=D.masterToken):(O=D.masterToken,X=G):(O=b,X=G);if(E&&(!O||!E.isBoundTo(O)))throw new ca("User ID token must be bound to a master token.");if(k&&(!X||!k.isBoundTo(X)))throw new ca("Peer user ID token must be bound to a peer master token.");P.forEach(function(a){if(a.isMasterTokenBound()&&(!O||!a.isBoundTo(O)))throw new ca("Master token bound service tokens must be bound to the provided master token.");if(a.isUserIdTokenBound()&&(!E||!a.isBoundTo(E)))throw new ca("User ID token bound service tokens must be bound to the provided user ID token.");},this);L.forEach(function(a){if(a.isMasterTokenBound()&&(!X||!a.isBoundTo(X)))throw new ca("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!k||!a.isBoundTo(k)))throw new ca("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(l){V=l.customer;da=l.messageCryptoContext;S=t(d,da,V,a,b,p,z,w,D,y,E,P,G,k,L,q,g,v,l.headerdata,l.signature);Object.defineProperties(this,S);return this;}V=E?E.customer:null;S={};p&&(S.sender=p);S.messageid=z;"number"===typeof q&&(S.nonreplayableid=q);S.renewable=g;v&&(S.capabilities=v);0<w.length&&(S.keyrequestdata=w);D&&(S.keyresponsedata=D);y&&(S.userauthdata=y);E&&(S.useridtoken=E);0<P.length&&(S.servicetokens=P);G&&(S.peermastertoken=G);k&&(S.peeruseridtoken=k);0<L.length&&(S.peerservicetokens=L);try{da=M(d,a,b);}catch(U){throw U instanceof F&&(U.setEntity(b),U.setEntity(a),U.setUser(E),U.setUser(y),U.setMessageId(z)),U;}S=Oa(JSON.stringify(S),Ba);da.encrypt(S,{result:function(c){n(f,function(){da.sign(c,{result:function(l){n(f,function(){var f;f=t(d,da,V,a,b,p,z,w,D,y,E,P,G,k,L,q,g,v,c,l);Object.defineProperties(this,f);return this;},m);},error:function(c){n(f,function(){c instanceof F&&(c.setEntity(b),c.setEntity(a),c.setUser(E),c.setUser(y),c.setMessageId(z));throw c;},m);}});},m);},error:function(c){n(f,function(){c instanceof F&&(c.setEntity(b),c.setEntity(a),c.setUser(E),c.setUser(y),c.setMessageId(z));throw c;},m);}});},m);}m=this;n(f,function(){l?p(l.sender):b?d.getEntityAuthenticationData(null,{result:function(a){a=a.getIdentity();p(a);},error:f.error}):p(null);},m);},isEncrypting:function(){return this.masterToken||Tc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var d;d={};this.masterToken?d[ee]=this.masterToken:d[nd]=this.entityAuthenticationData;d[fe]=ja(this.headerdata);d[od]=ja(this.signature);return d;}});ke=function(d,a,b,c,h,l){new mc(d,a,b,c,h,null,l);};pd=function(d,a,b,c,h,l,f){n(f,function(){var p,m;b=c?null:b;if(!b&&!c)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);p=a;try{a=oa(p);}catch(q){throw new ua(k.HEADER_DATA_INVALID,p,q);}if(!a||0==a.length)throw new ua(k.HEADER_DATA_MISSING,p);try{m=M(d,b,c);}catch(q){throw q instanceof F&&(q.setEntity(c),q.setEntity(b)),q;}T(d,m,a,h,{result:function(p){n(f,function(){var q,x,v,z,w;try{q=JSON.parse(p);}catch(D){if(D instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p,D).setEntity(c).setEntity(b);throw D;}x=parseInt(q.messageid);if(!x||x!=x)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b);if(0>x||x>Ca)throw new ua(k.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+p).setEntity(c).setEntity(b);v=c?q.sender:null;if(c&&(!v||"string"!==typeof v))throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b).setMessageId(x);z=q.keyresponsedata;if(z&&"object"!==typeof z)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b).setMessageId(x);w=f;f={result:function(a){w.result(a);},error:function(a){a instanceof F&&(a.setEntity(c),a.setEntity(b),a.setMessageId(x));w.error(a);}};J(d,z,{result:function(u){n(f,function(){var z,w;z=!d.isPeerToPeer()&&u?u.masterToken:c;w=q.useridtoken;if(w&&"object"!==typeof w)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p);C(d,w,z,{result:function(w){n(f,function(){var y;y=q.userauthdata;if(y&&"object"!==typeof y)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p);N(d,z,y,{result:function(y){n(f,function(){var D,E,G;if(y){E=y.scheme;G=d.getUserAuthenticationFactory(E);if(!G)throw new qa(k.USERAUTH_FACTORY_NOT_FOUND,E).setUser(w).setUser(y);E=c?c.identity:b.getIdentity();D=G.authenticate(d,E,y,w);}else D=w?w.customer:null;Ka(d,q.servicetokens,z,w,l,p,{result:function(z){n(f,function(){var E,G,P,L;E=q.nonreplayableid!==ea?parseInt(q.nonreplayableid):null;G=q.renewable;if(E!=E||"boolean"!==typeof G)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p);if(0>E||E>Ca)throw new ua(k.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+p);P=null;L=q.capabilities;if(L){if("object"!==typeof L)throw new ba(k.JSON_PARSE_ERROR,"headerdata "+p);P=je(L);}Aa(d,q,p,{result:function(L){pa(d,q,u,l,p,{result:function(p){n(f,function(){var q,l,Q,k;q=p.peerMasterToken;l=p.peerUserIdToken;Q=p.peerServiceTokens;k=new sa(x,E,G,P,L,u,y,w,z);q=new g(q,l,Q);l=new r(D,v,m,a,h);new mc(d,b,c,k,q,l,f);});},error:f.error});},error:function(a){n(f,function(){a instanceof F&&(a.setUser(w),a.setUser(y));throw a;});}});});},error:function(a){n(f,function(){a instanceof F&&(a.setEntity(z),a.setUser(w),a.setUser(y));throw a;});}});});},error:f.error});});},error:f.error});});},error:f.error});});},error:f.error});});};}());(function(){function r(k,n){this.payload=k;this.signature=n;}rd=ha.Class.create({init:function(k,r,t,J,C,N,K,pa){var B;B=this;n(pa,function(){var M,g;if(0>k||k>Ca)throw new ca("Sequence number "+k+" is outside the valid range.");if(0>r||r>Ca)throw new ca("Message ID "+r+" is outside the valid range.");if(K)return Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:r,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:K.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:K.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(M=sd(J,C),M||(J=null,M=C)):(J=null,M=C);g={};g.sequencenumber=k;g.messageid=r;t&&(g.endofmsg=t);J&&(g.compressionalgo=J);g.data=ja(M);M=Oa(JSON.stringify(g),Ba);N.encrypt(M,{result:function(d){n(pa,function(){N.sign(d,{result:function(a){n(pa,function(){Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:r,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:d,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},B);},error:function(a){pa.error(a);}});},B);},error:function(d){pa.error(d);}});},B);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var k;k={};k.payload=ja(this.payload);k.signature=ja(this.signature);return k;}});oe=function(k,n,r,t,C,N,K){new rd(k,n,r,t,C,N,null,K);};pe=function(t,M,T){n(T,function(){var B,C,N,K;B=t.payload;C=t.signature;if(!B||"string"!==typeof B||"string"!==typeof C)throw new ba(k.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(t));try{N=oa(B);}catch(pa){throw new ua(k.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(t),pa);}try{K=oa(C);}catch(pa){throw new ua(k.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(t),pa);}M.verify(N,K,{result:function(C){n(T,function(){if(!C)throw new R(k.PAYLOAD_VERIFICATION_FAILED);M.decrypt(N,{result:function(C){n(T,function(){var n,g,d,a,b,c,h;n=Ra(C,Ba);try{g=JSON.parse(n);}catch(l){if(l instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"payload chunk payload "+n,l);throw l;}d=parseInt(g.sequencenumber);a=parseInt(g.messageid);b=g.endofmsg;c=g.compressionalgo;g=g.data;if(!d||d!=d||!a||a!=a||b&&"boolean"!==typeof b||c&&"string"!==typeof c||"string"!==typeof g)throw new ba(k.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>d||d>Ca)throw new F(k.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>a||a>Ca)throw new F(k.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);b||(b=!1);if(c&&!Nb[c])throw new ua(k.UNIDENTIFIED_COMPRESSION,c);try{h=oa(g);}catch(l){throw new ua(k.PAYLOAD_DATA_CORRUPT,g,l);}if(h&&0!=h.length)n=c?Lc(c,h):h;else{if(0<g.length)throw new ua(k.PAYLOAD_DATA_CORRUPT,g);if(b)n=new Uint8Array(0);else throw new ua(k.PAYLOAD_DATA_MISSING,g);}h=new r(N,K);new rd(d,a,b,c,n,M,h,T);});},error:function(k){T.error(k);}});});},error:function(k){T.error(k);}});});};}());(function(){var T,J;function r(r,t,M,B,J){var g,d,a,b,c;function C(){n(J,function(){var h,l;d>=t.length&&(d=0,++g);if(g>=a.length){if(b)throw b;throw new Ha(k.KEYX_FACTORY_NOT_FOUND,JSON.stringify(t));}h=a[g];l=t[d];h.scheme!=l.keyExchangeScheme?(++d,C()):h.generateResponse(r,l,c,{result:function(a){J.result(a);},error:function(a){n(J,function(){if(!(a instanceof F))throw a;b=a;++d;C();});}});});}g=0;d=0;a=r.getKeyExchangeFactories();c=M?M:B;C();}function t(k,t,M,B,J){n(J,function(){var C;C=t.keyRequestData;if(t.isRenewable()&&0<C.length)B?B.isRenewable()||B.isExpired()?r(k,C,B,null,J):k.getTokenFactory().isNewestMasterToken(k,B,{result:function(g){n(J,function(){if(g)return null;r(k,C,B,null,J);});},error:J.error}):r(k,C,null,M.getIdentity(),J);else return null;});}function M(r,t,B,M){n(M,function(){var n,C,g,d;n=t.userIdToken;C=t.userAuthenticationData;g=t.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&t.isRenewable()||n.isExpired()||!n.isBoundTo(B)){C=r.getTokenFactory();C.renewUserIdToken(r,n,B,M);return;}}else if(t.isRenewable()&&B&&C){n=t.customer;if(!n){n=C.scheme;d=r.getUserAuthenticationFactory(n);if(!d)throw new qa(k.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(B).setUser(C).setMessageId(g);n=d.authenticate(r,B.identity,C,null);}C=r.getTokenFactory();C.createUserIdToken(r,n,B,M);return;}return n;});}T=new Uint8Array(0);J=Tb=function(k){if(0>k||k>Ca)throw new ca("Message ID "+k+" is outside the valid range.");return k==Ca?0:k+1;};dc=function(k){if(0>k||k>Ca)throw new ca("Message ID "+k+" is outside the valid range.");return 0==k?Ca:k-1;};Ub=function(k,r,t,B,M){n(M,function(){var C;if(B==ea||null==B){C=k.getRandom();do B=C.nextLong();while(0>B||B>Ca);}else if(0>B||B>Ca)throw new ca("Message ID "+B+" is outside the valid range.");k.getEntityAuthenticationData(null,{result:function(g){n(M,function(){var d;d=k.getMessageCapabilities();return new Mc(k,B,d,g,r,t,null,null,null,null,null);});},error:function(g){M.error(g);}});});};qe=function(k,r,B){n(B,function(){var N,T,g,d,a,b;function C(b){n(B,function(){b instanceof F&&(b.setEntity(N),b.setEntity(T),b.setUser(g),b.setUser(d),b.setMessageId(a));throw b;});}N=r.masterToken;T=r.entityAuthenticationData;g=r.userIdToken;d=r.userAuthenticationData;a=r.messageId;b=J(a);t(k,r,T,N,{result:function(a){n(B,function(){var c;c=a?a.keyResponseData.masterToken:c=N;k.getEntityAuthenticationData(null,{result:function(d){n(B,function(){M(k,r,c,{result:function(f){n(B,function(){var c,m,q;g=f;c=qd(r.messageCapabilities,k.getMessageCapabilities());m=r.keyResponseData;q=r.serviceTokens;return k.isPeerToPeer()?new Mc(k,b,c,d,m?m.masterToken:r.peerMasterToken,r.peerUserIdToken,r.peerServiceTokens,N,g,q,a):new Mc(k,b,c,d,m?m.masterToken:N,g,q,null,null,null,a);});},error:C});});},error:C});});},error:C});});};re=function(k,r,t,B,M){n(M,function(){k.getEntityAuthenticationData(null,{result:function(C){n(M,function(){var g,d;if(r!=ea&&null!=r)g=J(r);else{d=k.getRandom();do g=d.nextInt();while(0>g||g>Ca);}ie(k,C,g,t.responseCode,t.internalCode,t.message,B,M);});},error:function(k){M.error(k);}});});};Mc=ha.Class.create({init:function(k,n,r,t,B,M,g,d,a,b,c){var h,l,f,p,m;if(!k.isPeerToPeer()&&(d||a))throw new ca("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");h=c&&!k.isPeerToPeer()?c.keyResponseData.masterToken:B;l={};k.getMslStore().getServiceTokens(h,M).forEach(function(a){l[a.name]=a;},this);g&&g.forEach(function(a){l[a.name]=a;},this);m={};k.isPeerToPeer()&&(f=d,p=a,g=c?c.keyResponseData.masterToken:d,k.getMslStore().getServiceTokens(g,a).forEach(function(a){m[a.name]=a;},this),b&&b.forEach(function(a){m[a.name]=a;},this));Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:t,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:B,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:r,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:c,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:M,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:l,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:f,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:p,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:m,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Tc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Tc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||zd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||zd(this._entityAuthData.scheme);},getHeader:function(r){n(r,function(){var n,C,t,B,M;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;C=[];for(t in this._serviceTokens)C.push(this._serviceTokens[t]);B=[];for(M in this._keyRequestData)B.push(this._keyRequestData[M]);if(this._nonReplayable){if(!this._masterToken)throw new ua(k.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);M=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else M=null;n=new le(this._messageId,M,this._renewable,this._capabilities,B,n,this._userAuthData,this._userIdToken,C);C=[];for(t in this._peerServiceTokens)C.push(this._peerServiceTokens[t]);t=new me(this._peerMasterToken,this._peerUserIdToken,C);ke(this._ctx,this._entityAuthData,this._masterToken,n,t,r);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(k){this._nonReplayable=k;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(k){this._renewable=k;return this;},setAuthTokens:function(k,n){var r,C,t;if(n&&!n.isBoundTo(k))throw new ca("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ca("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{r=this._ctx.getMslStore().getServiceTokens(k,n);}catch(sa){if(sa instanceof F)throw new ca("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}C=[];for(t in this._serviceTokens)C.push(this._serviceTokens[t]);C.forEach(function(r){(r.isUserIdTokenBound()&&!r.isBoundTo(n)||r.isMasterTokenBound()&&!r.isBoundTo(k))&&delete this._serviceTokens[r.name];},this);r.forEach(function(k){this._serviceTokens[k.name]=k;},this);this._masterToken=k;this._userIdToken=n;},setUserAuthenticationData:function(k){this._userAuthData=k;return this;},setCustomer:function(k,r){var C;C=this;n(r,function(){var t;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ca("User ID token or peer user ID token already exists for the remote user.");t=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!t)throw new ca("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,k,t,{result:function(k){n(r,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=k:(this._userIdToken=k,this._userAuthData=null);return!0;},C);},error:function(k){r.error(k);}});},C);},addKeyRequestData:function(k){this._keyRequestData[k.uniqueKey()]=k;return this;},removeKeyRequestData:function(k){delete this._keyRequestData[k.uniqueKey()];return this;},addServiceToken:function(n){var r;r=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound()&&!n.isBoundTo(r))throw new ua(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(r)).setEntity(r);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._userIdToken))throw new ua(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(r).setUser(this._userIdToken);this._serviceTokens[n.name]=n;return this;},addServiceTokenIfAbsent:function(k){this._serviceTokens[k.name]||this.addServiceToken(k);return this;},excludeServiceToken:function(k){delete this._serviceTokens[k];return this;},deleteServiceToken:function(k,r){var t;t=this;n(r,function(){var C,N;C=this._serviceTokens[k];if(!C)return this;N=C.isMasterTokenBound()?this._masterToken:null;C=C.isUserIdTokenBound()?this._userIdToken:null;Eb(this._ctx,k,T,N,C,!1,null,new cc(),{result:function(k){n(r,function(){return this.addServiceToken(k);},t);},error:function(k){k instanceof F&&(k=new ca("Failed to create and add empty service token to message.",k));r.error(k);}});},t);},getServiceTokens:function(){var k,n;k=[];for(n in this._serviceTokens)k.push(this._serviceTokens[n]);return k;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,r){var t;if(!this._ctx.isPeerToPeer())throw new ca("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(r&&!n)throw new ca("Peer master token cannot be null when setting peer user ID token.");if(r&&!r.isBoundTo(n))throw new ua(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+r+"; mt "+n).setEntity(n).setUser(r);try{t=this._ctx.getMslStore().getServiceTokens(n,r);}catch(pa){if(pa instanceof F)throw new ca("Invalid peer master token and user ID token combination despite proper check.",pa);throw pa;}Object.keys(this._peerServiceTokens).forEach(function(k){var t;t=this._peerServiceTokens[k];t.isUserIdTokenBound()&&!t.isBoundTo(r)?delete this._peerServiceTokens[k]:t.isMasterTokenBound()&&!t.isBoundTo(n)&&delete this._peerServiceTokens[k];},this);t.forEach(function(k){var n;n=k.name;this._peerServiceTokens[n]||(this._peerServiceTokens[n]=k);},this);this._peerUserIdToken=r;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new ca("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound()&&!n.isBoundTo(this._peerMasterToken))throw new ua(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._peerUserIdToken))throw new ua(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[n.name]=n;return this;},addPeerServiceTokenIfAbsent:function(k){this._peerServiceTokens[k.name]||this.addPeerServiceToken(k);return this;},excludePeerServiceToken:function(k){delete this._peerServiceTokens[k];return this;},deletePeerServiceToken:function(k,r){var t;t=this;n(r,function(){var C,B;C=this._peerServiceTokens[k];if(!C)return this;B=C.isMasterTokenBound()?this._peerMasterToken:null;C=C.isUserIdTokenBound()?this._peerUserIdToken:null;Eb(this._ctx,k,T,B,C,!1,null,new cc(),{result:function(k){n(r,function(){return this.addPeerServiceToken(k);},t);},error:function(k){k instanceof F&&(k=new ca("Failed to create and add empty peer service token to message.",k));r.error(k);}});},t);},getPeerServiceTokens:function(){var k,n;k=[];for(n in this._peerServiceTokens)k.push(this._peerServiceTokens[n]);return k;}});}());(function(){function k(k,n){return n[k]?n[k]:n[""];}function r(k){var n;n=k.builder.getKeyExchangeData();return n&&!k.ctx.isPeerToPeer()?n.keyResponseData.masterToken:k.builder.getMasterToken();}se=ha.Class.create({init:function(k,n,r){k={ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:r,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},isPrimaryMasterTokenAvailable:function(){return r(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(k){try{return this.builder.addServiceToken(k),!0;}catch(T){if(T instanceof ua)return!1;throw T;}},addPeerServiceToken:function(k){try{return this.builder.addPeerServiceToken(k),!0;}catch(T){if(T instanceof ua)return!1;throw T;}},addUnboundPrimaryServiceToken:function(r,t,B,C,N){var M;M=this;n(N,function(){var J;J=k(r,this.cryptoContexts);if(!J)return!1;Eb(this.ctx,r,t,null,null,B,C,J,{result:function(k){n(N,function(){try{this.builder.addServiceToken(k);}catch(sa){if(sa instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return!0;},M);},error:function(k){N.error(k);}});},M);},addUnboundPeerServiceToken:function(r,t,B,C,N){var M;M=this;n(N,function(){var J;J=k(r,this.cryptoContexts);if(!J)return!1;Eb(this.ctx,r,t,null,null,B,C,J,{result:function(k){n(N,function(){try{this.builder.addPeerServiceToken(k);}catch(sa){if(sa instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return!0;},M);},error:function(k){N.error(k);}});},M);},addMasterBoundPrimaryServiceToken:function(t,B,J,C,N){var M;M=this;n(N,function(){var T,K;T=r(this);if(!T)return!1;K=k(t,this.cryptoContexts);if(!K)return!1;Eb(this.ctx,t,B,T,null,J,C,K,{result:function(k){n(N,function(){try{this.builder.addServiceToken(k);}catch(g){if(g instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite setting correct master token.",g);throw g;}return!0;},M);},error:function(k){N.error(k);}});},M);},addMasterBoundPeerServiceToken:function(r,t,B,C,N){var M;M=this;n(N,function(){var J,T;J=this.builder.getPeerMasterToken();if(!J)return!1;T=k(r,this.cryptoContexts);if(!T)return!1;Eb(this.ctx,r,t,J,null,B,C,T,{result:function(k){n(N,function(){try{this.builder.addPeerServiceToken(k);}catch(g){if(g instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite setting correct master token.",g);throw g;}return!0;},M);},error:function(k){N.error(k);}});},M);},addUserBoundPrimaryServiceToken:function(t,B,J,C,N){var M;M=this;n(N,function(){var T,K,F;T=r(this);if(!T)return!1;K=this.builder.getUserIdToken();if(!K)return!1;F=k(t,this.cryptoContexts);if(!F)return!1;Eb(this.ctx,t,B,T,K,J,C,F,{result:function(g){n(N,function(){try{this.builder.addServiceToken(g);}catch(d){if(d instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},M);},error:function(g){N.error(g);}});},M);},addUserBoundPeerServiceToken:function(r,t,B,C,N){var M;M=this;n(N,function(){var J,T,K;J=this.builder.getPeerMasterToken();if(!J)return!1;T=this.builder.getPeerUserIdToken();if(!T)return!1;K=k(r,this.cryptoContexts);if(!K)return!1;Eb(this.ctx,r,t,J,T,B,C,K,{result:function(g){n(N,function(){try{this.builder.addPeerServiceToken(g);}catch(d){if(d instanceof ua)throw new ca("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},M);},error:function(g){N.error(g);}});},M);},excludePrimaryServiceToken:function(k){for(var n=this.builder.getServiceTokens(),r=0;r<n.length;++r)if(n[r].name==k)return this.builder.excludeServiceToken(k),!0;return!1;},excludePeerServiceToken:function(k){for(var n=this.builder.getPeerServiceTokens(),r=0;r<n.length;++r)if(n[r].name==k)return this.builder.excludePeerServiceToken(k),!0;return!1;},deletePrimaryServiceToken:function(k,r){n(r,function(){for(var n=this.builder.getServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deleteServiceToken(k,{result:function(){r.result(!0);},error:function(k){r.error(k);}});return;}return!1;},this);},deletePeerServiceToken:function(k,r){n(r,function(){for(var n=this.builder.getPeerServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deletePeerServiceToken(k,{result:function(){r.result(!0);},error:function(k){r.error(k);}});return;}return!1;},this);}});}());(function(){function r(r,t,T,J){n(J,function(){var B,M,K,A,sa,g;function C(){n(J,function(){var d;if(g>=T.length){if(sa)throw sa;throw new Ha(k.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(T));}d=T[g];K!=d.keyExchangeScheme?(++g,C()):A.getCryptoContext(r,d,M,B,{result:J.result,error:function(a){n(J,function(){if(!(a instanceof F))throw a;sa=a;++g;C();});}});});}B=t.masterToken;M=t.keyResponseData;if(!M)return null;K=M.keyExchangeScheme;A=r.getKeyExchangeFactory(K);if(!A)throw new Ha(k.KEYX_FACTORY_NOT_FOUND,K);g=0;C();});}te=kd.extend({init:function(n,M,T,J,C,N,K){var B;B=this;t(K,function(){var b;function t(){B._ready=!0;B._readyQueue.add(!0);}function K(a,b){var c;try{c=b.masterToken;a.getTokenFactory().isMasterTokenRevoked(a,c,{result:function(f){f?(B._errored=new Pb(f,c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),t()):g(a,b);},error:function(a){a instanceof F&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));B._errored=a;t();}});}catch(f){f instanceof F&&(f.setEntity(b.masterToken),f.setUser(b.userIdToken),f.setUser(b.userAuthenticationData),f.setMessageId(b.messageId));B._errored=f;t();}}function g(a,b){var c,f;try{c=b.masterToken;f=b.userIdToken;f?a.getTokenFactory().isUserIdTokenRevoked(a,c,f,{result:function(p){p?(B._errored=new MslUserIdTokenException(p,f).setEntity(c).setUser(f).setMessageId(b.messageId),t()):d(a,b);},error:function(a){a instanceof F&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));B._errored=a;t();}}):d(a,b);}catch(p){p instanceof F&&(p.setEntity(b.masterToken),p.setUser(b.userIdToken),p.setUser(b.userAuthenticationData),p.setMessageId(b.messageId));B._errored=p;t();}}function d(b,d){var c;try{c=d.masterToken;c.isExpired()?d.isRenewable()&&0!=d.keyRequestData.length?b.getTokenFactory().isMasterTokenRenewable(b,c,{result:function(f){f?(B._errored=new ua(f,"Master token is expired and not renewable.").setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),t()):a(b,d);},error:function(a){a instanceof F&&(a.setEntity(d.masterToken),a.setUser(d.userIdToken),a.setUser(d.userAuthenticationData),a.setMessageId(d.messageId));B._errored=a;t();}}):(B._errored=new ua(k.MESSAGE_EXPIRED,JSON.stringify(d)).setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),t()):a(b,d);}catch(f){f instanceof F&&(f.setEntity(d.masterToken),f.setUser(d.userIdToken),f.setUser(d.userAuthenticationData),f.setMessageId(d.messageId));B._errored=f;t();}}function a(a,b){var c,f;try{c=b.masterToken;f=b.nonReplayableId;"number"===typeof f?c?a.getTokenFactory().acceptNonReplayableId(a,c,f,{result:function(a){a||(B._errored=new ua(k.MESSAGE_REPLAYED,JSON.stringify(b)).setEntity(c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId));t();},error:function(a){a instanceof F&&(a.setEntity(c),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));B._errored=a;t();}}):(B._errored=new ua(k.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(b)).setEntity(b.entityAuthenticationData).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),t()):t();}catch(p){p instanceof F&&(p.setEntity(b.masterToken),p.setEntity(b.entityAuthenticationData),p.setUser(b.userIdToken),p.setUser(b.userAuthenticationData),p.setMessageId(b.messageId));B._errored=p;t();}}b={_source:{value:M,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ea,writable:!0,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:N,writable:!1,enumerable:!1,configurable:!1},_header:{value:ea,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ea,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,b);Xd(B._source,N,{result:function(b){B._json=b;B._jsonIndex=0;null===B._json?(B._errored=new ba(k.MESSAGE_DATA_MISSING),t()):de(n,B._json[B._jsonIndex++],C,{result:function(b){var c;B._header=b;if(B._header instanceof Lb)B._keyxCryptoContext=null,B._cryptoContext=null,t();else{c=B._header;r(n,c,J,{result:function(b){var f;try{B._keyxCryptoContext=b;n.isPeerToPeer()||!B._keyxCryptoContext?B._cryptoContext=c.cryptoContext:B._cryptoContext=B._keyxCryptoContext;try{f=c.masterToken;f&&(n.isPeerToPeer()||f.isVerified())?K(n,c):a(n,c);}catch(m){m instanceof F&&(m.setEntity(c.masterToken),m.setUser(c.userIdToken),m.setUser(c.userAuthenticationData),m.setMessageId(c.messageId));B._errored=m;t();}}catch(m){m instanceof F&&(m.setEntity(c.masterToken),m.setEntity(c.entityAuthenticationData),m.setUser(c.userIdToken),m.setUser(c.userAuthenticationData),m.setMessageId(c.messageId));B._errored=m;t();}},error:function(a){a instanceof F&&(a.setEntity(c.masterToken),a.setEntity(c.entityAuthenticationData),a.setUser(c.userIdToken),a.setUser(c.userAuthenticationData),a.setMessageId(c.messageId));B._errored=a;t();}});}},error:function(a){B._errored=a;t();}});},timeout:function(){B._timedout=!0;t();},error:function(a){B._errored=a;t();}});return this;},B);},nextData:function(n,r){var B;B=this;t(r,function(){var C;function n(k){t(k,function(){var r;if(this._jsonIndex<this._json.length)return r=this._json[this._jsonIndex++];Xd(this._source,this._timeout,{result:function(r){r&&r.length&&0<r.length?(r.forEach(function(k){this._json.push(k);}),n(k)):(this._eom=!0,k.result(null));},timeout:function(){k.timeout();},error:function(n){k.error(n);}});},B);}C=this.getMessageHeader();if(!C)throw new ca("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){t(r,function(){if(!n)return null;if("object"!==typeof n)throw new ba(k.MESSAGE_FORMAT_ERROR);pe(n,this._cryptoContext,{result:function(n){t(r,function(){var r,t,B,g;r=C.masterToken;t=C.entityAuthenticationData;B=C.userIdToken;g=C.getUserAuthenticationData;if(n.messageId!=C.messageId)throw new ua(k.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+n.messageId+" header mid "+C.messageId).setEntity(r).setEntity(t).setUser(B).setUser(g);if(n.sequenceNumber!=this._payloadSequenceNumber)throw new ua(k.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+n.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(r).setEntity(t).setUser(B).setUser(g);++this._payloadSequenceNumber;n.isEndOfMessage()&&(this._eom=!0);r=n.data;this._payloads.push(r);this._payloadIndex=-1;return r;},B);},error:function(n){n instanceof SyntaxError&&(n=new ba(k.JSON_PARSE_ERROR,"payloadchunk",n));r.error(n);}});},B);},timeout:function(){r.timeout();},error:function(k){r.error(k);}});},B);},isReady:function(k,n){var B;function r(){t(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;return!0;}},B);}B=this;t(n,function(){this._ready?r():this._readyQueue.poll(k,{result:function(k){t(n,function(){if(k===ea)return!1;r();},B);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},B);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Lb?this._header:null;},getIdentity:function(){var k,n;k=this.getMessageHeader();if(k){n=k.masterToken;return n?n.identity:k.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var k;k=this.getMessageHeader();return k?k.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(k){this._closeSource=k;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(k,n,r){var C;function B(){t(r,function(){var M,J,T,K;function B(g){t(g,function(){var d,a,b;if(J&&K>=J.length)return J.subarray(0,K);d=-1;if(this._currentPayload){a=this._currentPayload.length-this._payloadOffset;if(!J){b=a;if(-1!=this._payloadIndex)for(var c=this._payloadIndex;c<this._payloads.length;++c)b+=this._payloads[c].length;0<b&&(J=new Uint8Array(b));}a=Math.min(a,J?J.length-K:0);0<a&&(d=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+a),J.set(d,T),d=a,T+=a,this._payloadOffset+=a);}-1!=d?(K+=d,B(g)):this.nextData(n,{result:function(a){t(g,function(){if(this._aborted)return J?J.subarray(0,K):new Uint8Array(0);this._currentPayload=a;this._payloadOffset=0;if(this._currentPayload)B(g);else return 0==K&&0!=k?null:J?J.subarray(0,K):new Uint8Array(0);},C);},timeout:function(){g.timeout(J?J.subarray(0,K):new Uint8Array(0));},error:function(a){t(g,function(){a instanceof F&&(a=new Wa("Error reading the payload chunk.",a));if(0<K)return C._readException=a,J.subarray(0,K);throw a;},C);}});},C);}if(this._aborted)return new Uint8Array(0);if(this._timedout)r.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){M=this._readException;this._readException=null;throw M;}J=-1!=k?new Uint8Array(k):ea;T=0;K=0;B(r);}},C);}C=this;t(r,function(){if(-1>k)throw new RangeError("read requested with illegal length "+k);this._ready?B():this._readyQueue.poll(n,{result:function(k){k===ea?r.result(!1):B();},timeout:function(){r.timeout(new Uint8Array(0));},error:function(k){r.error(k);}});},C);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ue=function(k,n,r,t,C,N,K){new te(k,n,r,t,C,N,K);};}());(function(){ve=Hc.extend({init:function(k,n,r,T,J,C,N){var B;B=this;t(N,function(){var N,M,g;function t(){B._ready=!0;B._readyQueue.add(!0);}N=qd(k.getMessageCapabilities(),T.messageCapabilities);M=null;N&&(M=Ld(N.compressionAlgorithms));N={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:r,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:N,writable:!1,enumerable:!1,configurable:!1},_header:{value:T,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:M,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,N);g=Oa(JSON.stringify(T),r);n.write(g,0,g.length,C,{result:function(d){try{B._aborted?t():d<g.length?(B._timedout=!0,t()):n.flush(C,{result:function(a){B._aborted||(B._timedout=!a);t();},timeout:function(){B._timedout=!0;t();},error:function(a){B._errored=a;t();}});}catch(a){B._errored=a;t();}},timeout:function(){B._timedout=!0;t();},error:function(d){B._errored=d;t();}});return this;},B);},setCompressionAlgorithm:function(k,n,r){var J;function B(){J.flush(n,{result:function(n){t(r,function(){if(!n)throw new Wa("flush() aborted");this._compressionAlgo=k;return!0;},J);},timeout:function(){r.timeout();},error:function(k){r.error(k);}});}J=this;t(r,function(){if(!this.getMessageHeader())throw new ca("Cannot write payload data for an error message.");if(this._compressionAlgo==k)return!0;if(k){if(!this._capabilities)return!1;for(var n=this._capabilities.compressionAlgorithms,r=0;r<n.length;++r)if(n[r]==k){B();return;}return!1;}B();},J);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Lb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(k,n){var r;r=this;t(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(k,{result:function(k){t(n,function(){k&&(this._currentPayload=null);return k;},r);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});}},r);},flush:function(k,n){var B;function r(){t(n,function(){var r,C,T;if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;r=this.getMessageHeader();if(!r)return!0;C=0;this._currentPayload&&this._currentPayload.forEach(function(k){C+=k.length;});for(var N=new Uint8Array(C),M=0,K=0;this._currentPayload&&K<this._currentPayload.length;++K){T=this._currentPayload[K];N.set(T,M);M+=T.length;}oe(this._payloadSequenceNumber,r.messageId,this._closed,this._compressionAlgo,N,this._cryptoContext,{result:function(r){t(n,function(){var g;this._payloads.push(r);g=Oa(JSON.stringify(r),this._charset);this._destination.write(g,0,g.length,k,{result:function(d){t(n,function(){if(this._aborted)return!1;d<r.length?n.timeout():this._destination.flush(k,{result:function(a){t(n,function(){if(this._aborted)return!1;if(a)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;n.timeout();},B);},timeout:function(){n.timeout();},error:function(a){a instanceof F&&(a=new Wa("Error encoding payload chunk [sequence number "+B._payloadSequenceNumber+"].",a));n.error(a);}});},B);},timeout:function(d){n.timeout();},error:function(d){d instanceof F&&(d=new Wa("Error encoding payload chunk [sequence number "+B._payloadSequenceNumber+"].",d));n.error(d);}});},B);},error:function(k){k instanceof F&&(k=new Wa("Error encoding payload chunk [sequence number "+B._payloadSequenceNumber+"].",k));n.error(k);}});}},B);}B=this;t(n,function(){this._ready?r():this._readyQueue.poll(k,{result:function(k){k===ea?n.result(!1):r();},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},B);},write:function(k,n,r,T,J){t(J,function(){var t;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Wa("Message output stream already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>r)throw new RangeError("Length cannot be negative.");if(n+r>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ca("Cannot write payload data for an error message.");t=k.subarray(n,n+r);this._currentPayload.push(t);return t.length;}},this);}});Nc=function(k,n,r,t,J,C,N){new ve(k,n,r,t,J,C,N);};}());cf=ha.Class.create({sentHeader:function(k){},receivedHeader:function(k){}});Object.freeze({USERDATA_REAUTH:r.USERDATA_REAUTH,SSOTOKEN_REJECTED:r.SSOTOKEN_REJECTED});we=ha.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(k,n,r,t){},getCustomer:function(){},getKeyRequestData:function(k){},updateServiceTokens:function(k,n,r){},write:function(k,n,r){},getDebugContext:function(){}});ha.Class.create({getInputStream:function(k){},getOutputStream:function(k){}});(function(){var A,pa,Aa,R,g,d,a,b,c,h,l,f;function K(a){return function(){a.abort();};}function B(a,b){Object.defineProperties(this,{masterToken:{value:a,writable:!1,configurable:!1},ticket:{value:b,writable:!1,configurable:!1}});}function M(a,b){Object.defineProperties(this,{builder:{value:a,writable:!1,configurable:!1},msgCtx:{value:b,writable:!1,configurable:!1}});}function T(a,b,f){Object.defineProperties(this,{requestHeader:{value:a,writable:!1,configurable:!1},payloads:{value:b,writable:!1,configurable:!1},handshake:{value:f,writable:!1,configurable:!1}});}function J(a,b){Object.defineProperties(this,{requestHeader:{value:b.requestHeader,writable:!1,configurable:!1},payloads:{value:b.payloads,writable:!1,configurable:!1},handshake:{value:b.handshake,writable:!1,configurable:!1},response:{value:a,writable:!1,configurable:!1}});}function C(a){for(;a;){if(a instanceof ab)return!0;a=a instanceof F?a.cause:ea;}return!1;}function N(a,b,f,c,d,l,h,g,D){re(b,c,d,l,{result:function(c){f&&f.sentHeader(c);Nc(b,h,Ba,c,null,null,g,{result:function(b){a.setAbort(function(){b.abort();});b.close(g,{result:function(a){t(D,function(){if(!a)throw new ab("sendError aborted.");return a;});},timeout:function(){D.timeout();},error:function(a){D.error(a);}});},timeout:function(){},error:function(a){D.error(a);}});},error:function(a){D.error(a);}});}A=Hc.extend({close:function(a,b){b.result(!0);},write:function(a,b,f,c,d){n(d,function(){return Math.min(a.length-b,f);});},flush:function(a,b){b.result(!0);}});pa=bf.extend({getUserMessage:function(a,b){return null;}});Aa=we.extend({init:function(a){Object.defineProperties(this,{_appCtx:{value:a,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(a,b,f,c){this._appCtx.getUserAuthData(a,b,f,c);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(a){this._appCtx.getKeyRequestData(a);},updateServiceTokens:function(a,b,f){this._appCtx.updateServiceTokens(a,b,f);},write:function(a,b,f){this._appCtx.write(a,b,f);},getDebugContext:function(){return this._appCtx.getDebugContext();}});R=Aa.extend({init:function m(a,b){m.base.call(this,b);Object.defineProperties(this,{_payloads:{value:a,writable:!1,enumerable:!1,configurable:!1}});},write:function(a,b,f){var d;function c(m,q){var l;if(m==d._payloads.length)f.result(!0);else{l=d._payloads[m];a.setCompressionAlgorithm(l.compressionAlgo,b,{result:function(h){a.write(l.data,0,l.data.length,b,{result:function(h){t(f,function(){l.isEndOfMessage()?c(m+1,q):a.flush(b,{result:function(a){f.result(a);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},d);},timeout:function(a){f.timeout(a);},error:function(a){f.error(a);}});},timeout:function(){},error:function(a){f.error(a);}});}}d=this;c(0);}});g=Aa.extend({init:function q(a){q.base.call(this,a);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(a,b,f){f.result(!0);}});d={};l=ha.Class.create({init:function(a){a||(a=new pa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:a,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(a){this._filterFactory=a;},getNewestMasterToken:function(a,b,f,c){var d;d=this;t(c,function(){var q,l,h,u,g;q=b.getMslStore();l=q.getMasterToken();if(!l)return null;h=l.uniqueKey();u=this._masterTokenLocks[h];u||(u=new $c(),this._masterTokenLocks[h]=u);g=u.readLock(f,{result:function(g){t(c,function(){var v;if(g===ea)throw new ab("getNewestMasterToken aborted.");v=q.getMasterToken();if(l.equals(v))return new B(l,g);u.unlock(g);u.writeLock(f,{result:function(q){t(c,function(){if(q===ea)throw new ab("getNewestMasterToken aborted.");delete this._masterTokenLocks[h];u.unlock(q);return this.getNewestMasterToken(a,b,f,c);},d);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},d);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});a.setAbort(function(){g&&(u.cancel(g),g=ea);});},d);},deleteMasterToken:function(a,b){var f;if(b){f=this;setTimeout(function(){var c,d;c=b.uniqueKey();d=f._masterTokenLocks[c];d||(d=new $c(),f._masterTokenLocks[c]=d);d.writeLock(-1,{result:function(q){a.getMslStore().removeCryptoContext(b);delete f._masterTokenLocks[c];d.unlock(q);},timeout:function(){throw new ca("Unexpected timeout received.");},error:function(a){throw a;}});},0);}},releaseMasterToken:function(a){var b;if(a&&a.masterToken){b=a.masterToken.uniqueKey();b=this._masterTokenLocks[b];if(!b)throw new ca("Master token read/write lock does not exist when it should.");b.unlock(a.ticket);}},updateOutgoingCryptoContexts:function(a,b,f){var c;c=a.getMslStore();!a.isPeerToPeer()&&f&&(c.setCryptoContext(f.keyResponseData.masterToken,f.cryptoContext),this.deleteMasterToken(a,b.masterToken));},updateIncomingCryptoContexts:function(a,b,f){var c,d;c=f.getMessageHeader();if(c){d=a.getMslStore();if(c=c.keyResponseData)d.setCryptoContext(c.masterToken,f.getKeyExchangeCryptoContext()),this.deleteMasterToken(a,b.masterToken);}},storeServiceTokens:function(a,b,f,c){var l,h;a=a.getMslStore();for(var d=[],q=0;q<c.length;++q){l=c[q];if(!l.isBoundTo(b)||!b.isVerified()){h=l.data;h&&0==h.length?a.removeServiceTokens(l.name,l.isMasterTokenBound()?b:null,l.isUserIdTokenBound()?f:null):d.push(l);}}0<d.length&&a.addServiceTokens(d);},buildRequest:function(a,b,f,c,d){var q;q=this;this.getNewestMasterToken(a,b,c,{result:function(a){n(d,function(){var c,l,h;c=a&&a.masterToken;if(c){l=f.getUserId();h=b.getMslStore();l=(l=l?h.getUserIdToken(l):null)&&l.isBoundTo(c)?l:null;}else l=null;Ub(b,c,l,null,{result:function(b){n(d,function(){b.setNonReplayable(f.isNonReplayable());return{builder:b,tokenTicket:a};});},error:function(b){n(d,function(){this.releaseMasterToken(a);b instanceof F&&(b=new ca("User ID token not bound to master token despite internal check.",b));throw b;},q);}});},q);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},buildResponse:function(a,b,f,c,d,l){var q;q=this;qe(b,c,{result:function(h){t(l,function(){h.setNonReplayable(f.isNonReplayable());if(!b.isPeerToPeer()&&!c.keyResponseData)return{builder:h,tokenTicket:null};this.getNewestMasterToken(a,b,d,{result:function(a){t(l,function(){var c,d,q;c=a&&a.masterToken;if(c){d=f.getUserId();q=b.getMslStore();d=(d=d?q.getUserIdToken(d):null)&&d.isBoundTo(c)?d:null;}else d=null;h.setAuthTokens(c,d);return{builder:h,tokenTicket:a};},q);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},q);},error:function(a){l.error(a);}});},buildErrorResponse:function(a,b,f,c,d,l,h){var g;function q(a,c){t(h,function(){var q,l;q=Tb(d.messageId);l=new R(c,f);Ub(b,null,null,q,{result:function(f){t(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(l.isNonReplayable());return{errorResult:new M(f,l),tokenTicket:null};},g);},error:function(a){h.error(a);}});},g);}function u(c,q){g.getNewestMasterToken(a,b,l,{result:function(a){t(h,function(){var l,u,v;l=a&&a.masterToken;u=Tb(d.messageId);v=new R(q,f);Ub(b,l,null,u,{result:function(f){t(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(c.peerMasterToken,c.peerUserIdToken);f.setNonReplayable(v.isNonReplayable());return{errorResult:new M(f,v),tokenTicket:a};},g);},error:function(a){h.error(a);}});},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}g=this;t(h,function(){var v,x,z,w;v=c.requestHeader;x=c.payloads;z=d.errorCode;switch(z){case r.ENTITYDATA_REAUTH:case r.ENTITY_REAUTH:b.getEntityAuthenticationData(z,{result:function(a){t(h,function(){if(!a)return null;q(v,x);},g);},error:function(a){h.error(a);}});break;case r.USERDATA_REAUTH:case r.SSOTOKEN_REJECTED:f.getUserAuthData(z,!1,!0,{result:function(a){t(h,function(){if(!a)return null;u(v,x);},g);},error:function(a){h.error(a);}});break;case r.USER_REAUTH:u(v,x);break;case r.KEYX_REQUIRED:z=Tb(d.messageId),w=new R(x,f);Ub(b,null,null,z,{result:function(a){t(h,function(){b.isPeerToPeer()&&a.setPeerAuthTokens(v.peerMasterToken,v.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(w.isNonReplayable());return{errorResult:new M(a,w),tokenTicket:null};},g);},error:function(a){h.error(a);}});break;case r.EXPIRED:this.getNewestMasterToken(a,b,l,{result:function(a){t(h,function(){var c,q,l,u;c=a&&a.masterToken;q=v.userIdToken;l=Tb(d.messageId);u=new R(x,f);Ub(b,c,q,l,{result:function(f){t(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(v.peerMasterToken,v.peerUserIdToken);v.masterToken.equals(c)&&f.setRenewable(!0);f.setNonReplayable(u.isNonReplayable());return{errorResult:new M(f,u),tokenTicket:a};},g);},error:function(a){h.error(a);}},g);},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});break;case r.REPLAYED:this.getNewestMasterToken(a,b,l,{result:function(a){t(h,function(){var c,q,l,u;c=a&&a.masterToken;q=v.userIdToken;l=Tb(d.messageId);u=new R(x,f);Ub(b,c,q,l,{result:function(f){t(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(v.peerMasterToken,v.peerUserIdToken);v.masterToken.equals(c)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(u.isNonReplayable());return{errorResult:new M(f,u),tokenTicket:a};},g);},error:function(a){h.error(a);}});},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});break;default:return null;}},g);},cleanupContext:function(a,b,f){switch(f.errorCode){case r.ENTITY_REAUTH:this.deleteMasterToken(a,b.masterToken);break;case r.USER_REAUTH:f=b.userIdToken,b.masterToken&&f&&a.getMslStore().removeUserIdToken(f);}},send:function(a,b,f,c,d,l,h){var z;function q(a,c,q){t(h,function(){var l;l=d.getPeerUserIdToken();!b.isPeerToPeer()&&!c||b.isPeerToPeer()&&!l?(l=f.getCustomer())?d.setCustomer(l,{result:function(b){t(h,function(){c=d.getUserIdToken();u(a,c,q);},z);},error:function(a){h.error(a);}}):u(a,c,q):u(a,c,q);},z);}function u(a,b,c){t(h,function(){var q,l;q=!c&&(!f.isEncrypted()||d.willEncryptPayloads())&&(!f.isIntegrityProtected()||d.willIntegrityProtectPayloads())&&(!f.isNonReplayable()||d.isNonReplayable()&&a);q||d.setNonReplayable(!1);l=[];d.isRenewable()&&(!a||a.isRenewable()||f.isNonReplayable())?f.getKeyRequestData({result:function(f){t(h,function(){var h;for(var c=0;c<f.length;++c){h=f[c];l.push(h);d.addKeyRequestData(h);}g(a,b,q,l);},z);},error:function(a){h.error(a);}}):g(a,b,q,l);},z);}function g(q,u,g,x){t(h,function(){var x;x=new se(b,f,d);f.updateServiceTokens(x,!g,{result:function(x){d.getHeader({result:function(x){t(h,function(){var z,w;z=f.getDebugContext();z&&z.sentHeader(x);z=d.getKeyExchangeData();this.updateOutgoingCryptoContexts(b,x,z);this.storeServiceTokens(b,q,u,x.serviceTokens);z=!b.isPeerToPeer()&&z?z.cryptoContext:x.cryptoContext;if(a.isAborted())throw new ab("send aborted.");w=null!=this._filterFactory?this._filterFactory.getOutputStream(c):c;Nc(b,w,Ba,x,z,l,{result:function(b){a.setAbort(function(){b.abort();});v(b,x,g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},z);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},error:function(a){h.error(a);}});},z);}function v(c,d,q){var u,g;if(q)f.write(c,l,{result:function(b){t(h,function(){if(a.isAborted())throw new ab("MessageOutputStream write aborted.");x(c,d,q);},z);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});else{u=new A();g=new cc();Nc(b,u,Ba,d,g,l,{result:function(b){f.write(b,l,{result:function(f){t(h,function(){if(a.isAborted())throw new ab("MessageOutputStream proxy write aborted.");b.close(l,{result:function(a){t(h,function(){var f;if(!a)throw new ab("MessageOutputStream proxy close aborted.");f=b.getPayloads();x(c,d,q,f);},z);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},z);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}}function x(a,b,f,c){a.close(l,{result:function(d){t(h,function(){if(!d)throw new ab("MessageOutputStream close aborted.");c||(c=a.getPayloads());return new T(b,c,!f);},z);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}z=this;t(h,function(){var a,b,c,l;a=d.getMasterToken();b=d.getUserIdToken();c=!1;if(f.getUserId()){l=!b;f.getUserAuthData(null,d.isRenewable(),l,{result:function(f){t(h,function(){f&&(d.willEncryptHeader()&&d.willIntegrityProtectHeader()?d.setUserAuthenticationData(f):c=!0);q(a,b,c);},z);},error:function(a){h.error(a);}});}else q(a,b,c);},z);},receive:function(a,b,f,c,d,l,h){var q;q=this;t(h,function(){var u,g,v;if(a.isAborted())throw new ab("receive aborted.");u=[];d&&(u=d.keyRequestData.filter(function(){return!0;}));g=f.getCryptoContexts();v=this._filterFactory?this._filterFactory.getInputStream(c):c;ue(b,v,Ba,u,g,l,{result:function(c){a.setAbort(function(){c.abort();});c.isReady(l,{result:function(a){t(h,function(){var l,u,g,v;if(!a)throw new ab("MessageInputStream aborted.");l=c.getMessageHeader();u=c.getErrorHeader();g=f.getDebugContext();g&&g.receivedHeader(l?l:u);if(d&&(g=u?u.errorCode:null,l||g!=r.FAIL&&g!=r.TRANSIENT_FAILURE&&g!=r.ENTITY_REAUTH&&g!=r.ENTITYDATA_REAUTH)){g=l?l.messageId:u.messageId;v=Tb(d.messageId);if(g!=v)throw new ua(k.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+v+"; received "+g);}b.getEntityAuthenticationData(null,{result:function(a){t(h,function(){var q,h,g,v;q=a.getIdentity();if(l){h=l.entityAuthenticationData;g=l.masterToken;h=g?l.sender:h.getIdentity();if(g&&g.isDecrypted()&&g.identity!=h||q==h)throw new ua(k.UNEXPECTED_MESSAGE_SENDER,h);d&&this.updateIncomingCryptoContexts(b,d,c);q=l.keyResponseData;b.isPeerToPeer()?(q=q?q.masterToken:l.peerMasterToken,g=l.peerUserIdToken,h=l.peerServiceTokens):(q=q?q.masterToken:l.masterToken,g=l.userIdToken,h=l.serviceTokens);v=f.getUserId();v&&g&&!g.isVerified()&&b.getMslStore().addUserIdToken(v,g);this.storeServiceTokens(b,q,g,h);}else if(h=u.entityAuthenticationData.getIdentity(),q==h)throw new ua(k.UNEXPECTED_MESSAGE_SENDER,h);return c;},q);},error:h.error});},q);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},q);},sendReceive:function(a,b,f,c,d,l,h,g,E){var u;function q(q,v){t(E,function(){l.setRenewable(v);this.send(a,b,f,d,l,h,{result:function(d){t(E,function(){var l;l=d.requestHeader.keyRequestData;g||d.handshake||!l.isEmpty()?this.receive(a,b,f,c,d.requestHeader,h,{result:function(a){t(E,function(){v&&this.releaseRenewalLock(b,q,a);return new J(a,d);},u);},timeout:function(){t(E,function(){v&&this.releaseRenewalLock(b,q,null);E.timeout();},u);},error:function(a){t(E,function(){v&&this.releaseRenewalLock(b,q,null);throw a;},u);}}):t(E,function(){v&&this.releaseRenewalLock(b,q,null);return new J(null,d);},u);},u);},timeout:function(){t(E,function(){v&&this.releaseRenewalLock(b,q,null);E.timeout();},u);},error:function(a){t(E,function(){v&&this.releaseRenewalLock(b,q,null);throw a;},u);}});},u);}u=this;t(E,function(){var c;c=new ic();this.acquireRenewalLock(a,b,f,c,l,h,{result:function(a){q(c,a);},timeout:function(){E.timeout();},error:function(a){a instanceof ab?E.result(null):E.error(a);}});},u);},acquireRenewalLock:function(a,b,f,c,l,h,g){var v;function q(x,z,w){t(g,function(){var E,G;if(a.isAborted())throw new ab("acquireRenewalLock aborted.");for(var y=null,D=0;D<this._renewingContexts.length;++D){E=this._renewingContexts[D];if(E.ctx===b){y=E.queue;break;}}if(!y)return this._renewingContexts.push({ctx:b,queue:c}),!0;G=y.poll(h,{result:function(a){t(g,function(){var c;if(a===ea)throw new ab("acquireRenewalLock aborted.");y.add(a);if(a===d||a.isExpired())q(a,z,w);else{if(w&&!z||z&&!z.isBoundTo(a)){c=b.getMslStore().getUserIdToken(w);z=c&&c.isBoundTo(a)?c:null;}l.setAuthTokens(a,z);l.isRenewable()&&a.equals(x)?q(a,z,w):f.isRequestingTokens()&&!z?q(a,z,w):u(a,z);}},v);},timeout:function(){},error:function(a){}});a.setAbort(function(){G&&(y.cancel(G),G=ea);});},v);}function u(d,q){t(g,function(){var u;if(a.isAborted())throw new ab("acquireRenewalLock aborted.");if(!d||d.isRenewable()||!q&&f.getUserId()||q&&q.isRenewable()){for(var l=null,h=0;h<this._renewingContexts.length;++h){u=this._renewingContexts[h];if(u.ctx===b){l=u.queue;break;}}if(!l)return this._renewingContexts.push({ctx:b,queue:c}),!0;}return!1;},v);}v=this;t(g,function(){var a,b,c;a=l.getMasterToken();b=l.getUserIdToken();c=f.getUserId();f.isEncrypted()&&!l.willEncryptPayloads()||f.isIntegrityProtected()&&!l.willIntegrityProtectPayloads()||l.isRenewable()||!a&&f.isNonReplayable()||a&&a.isExpired()||!(b||!c||l.willEncryptHeader()&&l.willIntegrityProtectHeader())||f.isRequestingTokens()&&(!a||c&&!b)?q(a,b,c):u(a,b);},v);},releaseRenewalLock:function(a,b,f){var h;for(var c,q,l=0;l<this._renewingContexts.length;++l){h=this._renewingContexts[l];if(h.ctx===a){c=l;q=h.queue;break;}}if(q!==b)throw new ca("Attempt to release renewal lock that is not owned by this queue.");f?(f=f.messageHeader)?(q=f.keyResponseData)?b.add(q.masterToken):(a=a.isPeerToPeer()?f.peerMasterToken:f.masterToken)?b.add(a):b.add(d):b.add(d):b.add(d);this._renewingContexts.splice(c,1);}});xe=ha.Class.create({init:function(){var a;a={_impl:{value:new l(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,a);},setFilterFactory:function(a){this._impl.setFilterFactory(a);},shutdown:function(){this._shutdown=!0;},receive:function(b,f,c,d,l,h){var q;if(this._shutdown)throw new F("MslControl is shutdown.");q=new a(this._impl,b,f,c,d,l);setTimeout(function(){q.call(h);},0);return K(q);},respond:function(a,f,c,d,l,h,g){var q;if(this._shutdown)throw new F("MslControl is shutdown.");q=new b(this._impl,a,f,c,d,l,h);setTimeout(function(){q.call(g);},0);return K(q);},error:function(a,b,f,d,l,h,g){var q;if(this._shutdown)throw new F("MslControl is shutdown.");q=new c(this._impl,a,b,f,d,l,h);setTimeout(function(){q.call(g);},0);return K(q);},request:function(a,b){var f,c,d,q,l,u;if(this._shutdown)throw new F("MslControl is shutdown.");if(5==arguments.length){if(f=arguments[2],d=c=null,q=arguments[3],l=arguments[4],a.isPeerToPeer()){l.error(new ca("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(f=null,c=arguments[2],d=arguments[3],q=arguments[4],l=arguments[5],!a.isPeerToPeer())){l.error(new ca("This method cannot be used in trusted network mode."));return;}u=new h(this._impl,a,b,f,c,d,null,0,q);setTimeout(function(){u.call(l);},0);return K(u);}});a=ha.Class.create({init:function(a,b,f,c,d,l){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_input:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:l,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ea,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var d;function b(b){t(a,function(){var c;c=b.messageHeader;if(!c)return b;this.setAbort(function(){b.abort();});b.mark(Number.MAX_VALUE);b.read(1,d._timeout,{result:function(c){t(a,function(){if(c&&0==c.length)return null;if(c)return b.reset(),b;f(b);},d);},timeout:function(){a.timeout();},error:function(b){t(a,function(){var f,q,l;if(C(b))return null;f=c?c.messageId:null;b instanceof Wa?(q=k.MSL_COMMS_FAILURE,l=b):(q=k.INTERNAL_EXCEPTION,l=new ca("Error peeking into the message payloads."));N(this,this._ctx,this._msgCtx.getDebugContext(),f,q,null,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(f){t(a,function(){if(C(f))return null;throw new kb("Error peeking into the message payloads.",f,b);},d);}});},d);}});},d);}function f(b){t(a,function(){b.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,b.messageHeader,this._timeout,{result:function(f){t(a,function(){var d,q,l,u,v;d=f.builder;q=f.tokenTicket;l=b.messageHeader;u=new g(this._msgCtx);if(!this._ctx.isPeerToPeer()||l.isEncrypting()||l.keyResponseData)c(l,d,u,q);else{v=new h(this._ctrl,this._ctx,u,null,this._input,this._output,f,1,this._timeout);this.setAbort(function(){v.abort();});v.call(a);}},d);},timeout:function(){a.timeout();},error:function(f){t(a,function(){var c,q,l,h;if(C(f))return null;f instanceof F?(c=f.messageId,q=f.error,l=b.messageHeader.messageCapabilities,l=this._ctrl.messageRegistry.getUserMessage(q,l?l.languages:null),h=f):(c=requestHeader?requestHeader.messageId:null,q=k.INTERNAL_EXCEPTION,l=null,h=new ca("Error creating an automatic handshake response.",f));N(this,this._ctx,this._msgCtx.getDebugContext(),c,q,l,this._output,this._timeout,{result:function(b){a.error(h);},timeout:function(){a.timeout();},error:function(b){t(a,function(){if(C(b))return null;throw new kb("Error creating an automatic handshake response.",b,f);},d);}});},d);}});},d);}function c(b,f,c,q){t(a,function(){f.setRenewable(!1);this._ctrl.send(this._ctx,c,this._output,f,this._timeout,{result:function(b){t(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(q);return null;},d);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(q);a.timeout();},d);},error:function(f){t(a,function(){var c,l,h,u;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(q);if(C(f))return null;f instanceof F?(c=f.messageId,l=f.error,h=b?b.messageCapabilities:null,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Wa?(c=b?b.messageId:null,l=k.MSL_COMMS_FAILURE,h=null,u=f):(c=b?b.messageId:null,l=k.INTERNAL_EXCEPTION,h=null,u=new ca("Error sending an automatic handshake response.",f));N(this,this._ctx,this._msgCtx.getDebugContext(),c,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(b){t(a,function(){if(C(b))return null;throw new kb("Error sending an automatic handshake response.",b,f);},d);}});},d);}});},d);}d=this;t(a,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(a){b(a);},timeout:function(){a.timeout();},error:function(b){t(a,function(){var f,c,q,l;if(C(b))return null;b instanceof F?(f=b.messageId,c=b.error,q=this._ctrl.messageRegistry.getUserMessage(c,null),l=b):(f=null,c=k.INTERNAL_EXCEPTION,q=null,l=new ca("Error receiving the message header.",b));N(this,this._ctx,this._msgCtx.getDebugContext(),f,c,q,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(f){t(a,function(){if(C(f))return null;throw new kb("Error receiving the message header.",f,b);},d);}});},d);}});},d);}});b=ha.Class.create({init:function(a,b,f,c,d,l,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_input:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_request:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ea,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},trustedNetworkExecute:function(a,b,f){var c;c=this;t(f,function(){var d,q;if(12<b+1)return!1;if(d=this._msgCtx.isIntegrityProtected()&&!a.willIntegrityProtectHeader()?k.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!a.willEncryptPayloads()?k.RESPONSE_REQUIRES_ENCRYPTION:null){q=dc(a.getMessageId());N(this,this._ctx,this._msgCtx.getDebugContext(),q,d,null,this._output,this._timeout,{result:function(a){f.result(!1);},timeout:function(){f.timeout();},error:function(a){t(f,function(){if(C(a))return!1;throw new kb("Response requires encryption or integrity protection but cannot be protected: "+d,a,null);},c);}});}else!this._msgCtx.getCustomer()||a.getMasterToken()||a.getKeyExchangeData()?(a.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,a,this._timeout,{result:function(a){f.result(!0);},timeout:function(){f.timeout();},error:function(a){f.error(a);}})):(q=dc(a.getMessageId()),N(this,this._ctx,this._msgCtx.getDebugContext(),q,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){f.result(!1);},timeout:function(){f.timeout();},error:function(a){t(f,function(){if(C(a))return!1;throw new kb("Response wishes to attach a user ID token but there is no master token.",a,null);},c);}}));},c);},peerToPeerExecute:function(a,b,f,c){var q;function d(b){t(c,function(){var d;d=b.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,a,b,d,{result:function(a){t(c,function(){var b,d;if(!a)return!1;b=a.errorResult;d=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,f,{result:function(a){t(c,function(){this._ctrl.releaseMasterToken(d);return a;},q);},timeout:function(){t(c,function(){this._ctrl.releaseMasterToken(d);c.timeout();},q);},error:function(a){t(c,function(){this._ctrl.releaseMasterToken(d);throw a;},q);}});},q);}});},q);}q=this;t(c,function(){var l;if(12<f+2)return!1;if(null!=a.getCustomer()&&null==b.getPeerMasterToken()&&null==b.getKeyExchangeData()){l=dc(b.getMessageId());N(this,this._ctx,a.getDebugContext(),l,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){t(c,function(){if(C(a))return!1;throw new kb("Response wishes to attach a user ID token but there is no master token.",a,null);},q);}});}else this._ctrl.sendReceive(this._ctx,a,this._input,this._output,b,this._timeout,!1,{result:function(b){t(c,function(){var u,g,v;function l(){u.read(32768,q._timeout,{result:function(a){t(c,function(){a?l():h();},q);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});}function h(){t(c,function(){var d;d=new R(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,d,g,this._timeout,{result:function(a){t(c,function(){var b;b=a.tokenTicket;this.peerToPeerExecute(d,a.builder,f,{result:function(a){t(c,function(){this._ctrl.releaseMasterToken(b);return a;},q);},timeout:function(){t(c,function(){this._ctrl.releaseMasterToken(b);c.timeout();},q);},error:function(a){t(c,function(){this._ctrl.releaseMasterToken(b);throw a;},q);}});},q);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},q);}u=b.response;f+=2;if(!u)return!0;g=u.getMessageHeader();if(g){v=b.payloads;v=0<v.length&&0<v[0].data.length;if(b.handshake&&v)l();else return!0;}else d(b);},q);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},q);},call:function(a){var b;b=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(f){t(a,function(){var c,d;c=f.builder;d=f.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,c,3,{result:function(f){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return f;},b);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(f){t(a,function(){var q,l,h,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(f))return!1;q=dc(c.getMessageId());f instanceof F?(l=f.error,h=this._request.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Wa?(l=k.MSL_COMMS_FAILURE,h=null,u=f):(l=k.INTERNAL_EXCEPTION,h=null,u=new ca("Error sending the response.",f));N(this,this._ctx,this._msgCtx.getDebugContext(),q,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(f){t(a,function(){if(C(f))return!1;throw new kb("Error sending the response.",f,null);},b);}});},b);}}):this.trustedNetworkExecute(c,3,{result:function(f){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return f;},b);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(f){t(a,function(){var q,l,h,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(f))return!1;q=dc(c.getMessageId());f instanceof F?(l=f.error,h=this._request.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Wa?(l=k.MSL_COMMS_FAILURE,h=null,u=f):(l=k.INTERNAL_EXCEPTION,h=null,u=new ca("Error sending the response.",f));N(this,this._ctx,this._msgCtx.getDebugContext(),q,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(f){t(a,function(){if(C(f))return!1;throw new kb("Error sending the response.",f,null);},b);}});},b);}});},b);},timeout:function(){a.timeout();},error:function(f){t(a,function(){var c,d,q,l;if(C(f))return!1;f instanceof F?(c=f.messageId,d=f.error,q=this._request.messageCapabilities,q=this._ctrl.messageRegistry.getUserMessage(d,q?q.languages:null),l=f):(c=null,d=k.INTERNAL_EXCEPTION,q=null,l=new ca("Error building the response.",f));N(this,this._ctx,this._msgCtx.getDebugContext(),c,d,q,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(c){t(a,function(){if(C(c))return null;throw new kb("Error building the response.",c,f);},b);}});},b);}});}});c=ha.Class.create({init:function(a,b,f,c,d,l,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_appError:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ea,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var b;b=this;t(a,function(){var f,c;if(this._appError==ENTITY_REJECTED)f=this._request.masterToken?k.MASTERTOKEN_REJECTED_BY_APP:k.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)f=this._request.userIdToken?k.USERIDTOKEN_REJECTED_BY_APP:k.USER_REJECTED_BY_APP;else throw new ca("Unhandled application error "+this._appError+".");c=this._request.messageCapabilities;c=this._ctrl.messageRegistry.getUserMessage(f,c?c.languages:null);N(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,f,c,this._output,this._timeout,{result:function(b){a.result(b);},timeout:a.timeout,error:function(f){t(a,function(){if(C(f))return!1;if(f instanceof F)throw f;throw new ca("Error building the error response.",f);},b);}});},b);}});f={result:function(){},timeout:function(){},error:function(){}};h=ha.Class.create({init:function(a,b,f,c,d,l,h,g,E){var q;h?(q=h.builder,h=h.tokenTicket):h=q=null;Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:d,writable:!0,enumerable:!1,configurable:!1},_output:{value:l,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:q,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:h,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:E,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ea,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},execute:function(a,b,c,d,l){var v;function q(b){function q(a){t(l,function(){var f;f=b.response;return a?a:f;},v);}t(l,function(){var u,g;u=b.response;u.close();g=u.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,g);this._ctrl.buildErrorResponse(this,this._ctx,a,b,g,c,{result:function(a){t(l,function(){var b,g,x,z;if(!a)return u;b=a.errorResult;g=a.tokenTicket;x=b.builder;b=b.msgCtx;if(this._ctx.isPeerToPeer())this.execute(b,x,this._timeout,d,{result:function(a){t(l,function(){this._ctrl.releaseMasterToken(g);q(a);},v);},timeout:function(){t(l,function(){this._ctrl.releaseMasterToken(g);l.timeout();},v);},error:function(a){t(l,function(){this._ctrl.releaseMasterToken(g);l.error(a);},v);}});else{this._openedStreams&&(this._input.close(),this._output.close(c,f));z=new h(this._ctrl,this._ctx,b,this._remoteEntity,null,null,{builder:x,tokenTicket:g},d,this._timeout);this.setAbort(function(){z.abort();});z.call({result:function(a){q(a);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);}function u(b){t(l,function(){var x,z,w,y,D;function q(){x.read(32768,v._timeout,{result:function(a){a?q():u();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function u(){t(l,function(){var f;f=new R(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,z,c,{result:function(a){t(l,function(){var b;b=a.tokenTicket;this.execute(f,a.builder,this._timeout,d,{result:function(a){t(l,function(){this._ctrl.releaseMasterToken(b);return a;},v);},timeout:function(){t(l,function(){this._ctrl.releaseMasterToken(b);l.timeout();},v);},error:function(a){t(l,function(){this._ctrl.releaseMasterToken(b);throw a;},v);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);}x=b.response;z=x.getMessageHeader();w=b.payloads;w=0<w.length&&0<w[0].data.length;if(!this._ctx.isPeerToPeer()){if(!b.handshake||!w)return x;this._openedStreams&&(this._input.close(),this._output.close(c,f));y=new R(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,z,c,{result:function(a){t(l,function(){var b;b=new h(this._ctrl,this._ctx,y,this._remoteEntity,null,null,a,d,this._timeout);this.setAbort(function(){b.abort();});b.call(l);},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}else if(b.handshake&&w)q();else if(0<z.keyRequestData.length){D=new g(a);this._ctrl.buildResponse(this,this._ctx,D,z,c,{result:function(a){t(l,function(){var b,f;b=a.builder;f=a.tokenTicket;x.mark();x.read(1,this._timeout,{result:function(a){t(l,function(){function c(){x.read(32768,v._timeout,{result:function(a){a?c():q();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function q(){v.execute(D,b,v._timeout,d,{result:function(a){t(l,function(){this._ctrl.releaseMasterToken(f);return a;},v);},timeout:function(){t(l,function(){this._ctrl.releaseMasterToken(f);l.timeout();},v);},error:function(a){t(l,function(){this._ctrl.releaseMasterToken(f);throw a;},v);}});}if(a)if(x.reset(),12>=d+1)b.setRenewable(!1),this._ctrl.send(this,this._ctx,D,this._output,b,this._timeout,{result:function(a){t(l,function(){this.releaseMasterToken(f);return x;},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});else return this.releaseMasterToken(f),x;else c();},v);},timeout:function(){t(l,function(){this.releaseMasterToken(f);l.timeout();},v);},error:function(a){t(l,function(){this.releaseMasterToken(f);throw a;},v);}});},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},v);}v=this;t(l,function(){if(12<d+2)return null;this._ctrl.sendReceive(this,this._ctx,a,this._input,this._output,b,c,!0,{result:function(a){t(l,function(){var b;if(!a)return null;b=a.response;d+=2;b.getMessageHeader()?u(a):q(a);},v);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},v);},call:function(a){var c;function b(b,d,q){t(a,function(){this.execute(this._msgCtx,b,q,this._msgCount,{result:function(b){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&this._output.close(q,f);b&&b.closeSource(this._openedStreams);return b;},c);},timeout:function(){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(q,f),this._input.close());a.timeout();},c);},error:function(b){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(q,f),this._input.close());if(C(b))return null;throw b;},c);}});},c);}c=this;t(a,function(){var d,q,l;d=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);q=Date.now();l=this._remoteEntity.openConnection();this._output=l.output;this._input=l.input;-1!=d&&(d=this._timeout-(Date.now()-q));this._openedStreams=!0;}catch(D){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,f);this._input&&this._input.close();if(C(D))return null;throw D;}this._builder?b(this._builder,this._tokenTicket,d):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(f){t(a,function(){b(f.builder,f.tokenTicket,d);},c);},timeout:function(){t(a,function(){this._openedStreams&&(this._output.close(this._timeout,f),this._input.close());a.timeout();},c);},error:function(b){t(a,function(){this._openedStreams&&(this._output.close(this._timeout,f),this._input.close());if(C(b))return null;throw b;},c);}});},c);}});}());(function(){td=ha.Class.create({init:function(k){Object.defineProperties(this,{id:{value:k,writable:!1,configurable:!1}});},toJSON:function(){var k;k={};k.id=this.id;return k;},equals:function(k){return this===k?!0:k instanceof td?this.id==k.id:!1;},uniqueKey:function(){return this.id;}});ye=function(n){var r;r=n.id;if(!r)throw new ba(k.JSON_PARSE_ERROR,JSON.stringify(n));return new td(r);};}());ha.Class.create({isNewestMasterToken:function(k,n,r){},isMasterTokenRevoked:function(k,n){},acceptNonReplayableId:function(k,n,r,t){},createMasterToken:function(k,n,r,t,J){},isMasterTokenRenewable:function(k,n,r){},renewMasterToken:function(k,n,r,t,J){},isUserIdTokenRevoked:function(k,n,r,t){},createUserIdToken:function(k,n,r,t){},renewUserIdToken:function(k,n,r,t){}});(function(){function r(k,n,r,t){this.sessiondata=k;this.tokendata=n;this.signature=r;this.verified=t;}fb=ha.Class.create({init:function(k,r,t,J,C,N,F,K,A,R,g){var d;d=this;n(g,function(){var a,b,c,h,l;if(t.getTime()<r.getTime())throw new ca("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Ca)throw new ca("Sequence number "+J+" is outside the valid range.");if(0>C||C>Ca)throw new ca("Serial number "+C+" is outside the valid range.");a=Math.floor(r.getTime()/1E3);b=Math.floor(t.getTime()/1E3);if(R)c=R.sessiondata;else{h={};N&&(h.issuerdata=N);h.identity=F;h.encryptionkey=ja(K.toByteArray());h.hmackey=ja(A.toByteArray());c=Oa(JSON.stringify(h),Ba);}if(R)return Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:N,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:K,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:R.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:R.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:R.signature,writable:!1,enumerable:!1,configurable:!1}}),this;l=k.getMslCryptoContext();l.encrypt(c,{result:function(f){n(g,function(){var p,m;p={};p.renewalwindow=a;p.expiration=b;p.sequencenumber=J;p.serialnumber=C;p.sessiondata=ja(f);m=Oa(JSON.stringify(p),Ba);l.sign(m,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:C,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:N,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:K,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:m,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){g.error(a);}});},d);},error:function(a){g.error(a);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(k){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(k){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(k){var n;if(this.sequenceNumber==k.sequenceNumber)return this.expiration>k.expiration;if(this.sequenceNumber>k.sequenceNumber){n=this.sequenceNumber-Ca+127;return k.sequenceNumber>=n;}n=k.sequenceNumber-Ca+127;return this.sequenceNumber<n;},toJSON:function(){var k;k={};k.tokendata=ja(this.tokendata);k.signature=ja(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof fb?this.serialNumber==k.serialNumber&&this.sequenceNumber==k.sequenceNumber&&this.expiration.getTime()==k.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Rb=function(t,M,T){n(T,function(){var B,C,N,K,A;B=t.getMslCryptoContext();C=M.tokendata;N=M.signature;if("string"!==typeof C||"string"!==typeof N)throw new ba(k.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(M));try{K=oa(C);}catch(Aa){throw new F(k.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(M),Aa);}if(!K||0==K.length)throw new ba(k.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(M));try{A=oa(N);}catch(Aa){throw new F(k.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(M),Aa);}B.verify(K,A,{result:function(C){n(T,function(){var N,g,d,a,b,c,h,l,f,p;c=Ra(K,Ba);try{h=JSON.parse(c);N=parseInt(h.renewalwindow);g=parseInt(h.expiration);d=parseInt(h.sequencenumber);a=parseInt(h.serialnumber);b=h.sessiondata;}catch(m){if(m instanceof SyntaxError)throw new ba(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c,m);throw m;}if(!N||N!=N||!g||g!=g||"number"!==typeof d||d!=d||"number"!==typeof a||a!=a||"string"!==typeof b)throw new ba(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c);if(g<N)throw new F(k.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+c);if(0>d||d>Ca)throw new F(k.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);if(0>a||a>Ca)throw new F(k.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);l=new Date(1E3*N);f=new Date(1E3*g);try{p=oa(b);}catch(m){throw new F(k.MASTERTOKEN_SESSIONDATA_INVALID,b,m);}if(!p||0==p.length)throw new F(k.MASTERTOKEN_SESSIONDATA_MISSING,b);C?B.decrypt(p,{result:function(b){n(T,function(){var c,p,m,h,g,w;g=Ra(b,Ba);try{w=JSON.parse(g);c=w.issuerdata;p=w.identity;m=w.encryptionkey;h=w.hmackey;}catch(D){if(D instanceof SyntaxError)throw new ba(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+g,D);throw D;}if(c&&"object"!==typeof c||!p||"string"!==typeof m||"string"!==typeof h)throw new ba(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+g);Ab(m,pb,Hb,{result:function(m){Ab(h,qb,Qb,{result:function(q){n(T,function(){var h;h=new r(b,K,A,C);new fb(t,l,f,d,a,c,p,m,q,h,T);});},error:function(a){T.error(new R(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});},error:function(a){T.error(new R(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});});},error:function(a){T.error(a);}}):(N=new r(null,K,A,C),new fb(t,l,f,d,a,null,null,null,null,N,T));});},error:function(k){T.error(k);}});});};}());(function(){function r(k,n,r){this.tokendata=k;this.signature=n;this.verified=r;}ac=ha.Class.create({init:function(k,r,t,J,C,N,K,A,R){var B;B=this;n(R,function(){var g,d,a,b,c,h,l;if(t.getTime()<r.getTime())throw new ca("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new ca("Cannot construct a user ID token without a master token.");if(0>C||C>Ca)throw new ca("Serial number "+C+" is outside the valid range.");g=Math.floor(r.getTime()/1E3);d=Math.floor(t.getTime()/1E3);a=J.serialNumber;if(A){b=A.tokendata;c=A.signature;h=A.verified;a=J.serialNumber;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:g,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:N,writable:!1,configurable:!1},customer:{value:K,writable:!1,configurable:!1},verified:{value:h,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:c,writable:!1,enumerable:!1,configurable:!1}});return this;}b={};N&&(b.issuerdata=N);b.identity=K;b=Oa(JSON.stringify(b),Ba);l=k.getMslCryptoContext();l.encrypt(b,{result:function(b){n(R,function(){var f,c;f={};f.renewalwindow=g;f.expiration=d;f.mtserialnumber=a;f.serialnumber=C;f.userdata=ja(b);c=Oa(JSON.stringify(f),Ba);l.sign(c,{result:function(a){n(R,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:g,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:N,writable:!1,configurable:!1},customer:{value:K,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},B);},error:function(a){n(R,function(){a instanceof F&&a.setEntity(J);throw a;},B);}});},B);},error:function(a){n(R,function(){a instanceof F&&a.setEntity(J);throw a;},B);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(k){return k&&k.serialNumber==this.mtSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ja(this.tokendata);k.signature=ja(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof ac?this.serialNumber==k.serialNumber&&this.mtSerialNumber==k.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Sb=function(t,M,K,J){n(J,function(){var C,B,A,T,R;C=t.getMslCryptoContext();B=M.tokendata;A=M.signature;if("string"!==typeof B||"string"!==typeof A)throw new ba(k.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(M)).setEntity(K);try{T=oa(B);}catch(sa){throw new F(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(M),sa).setEntity(K);}if(!T||0==T.length)throw new ba(k.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(M)).setEntity(K);try{R=oa(A);}catch(sa){throw new F(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(M),sa).setEntity(K);}C.verify(T,R,{result:function(B){n(J,function(){var g,d,a,b,c,h,l,f,p,m;h=Ra(T,Ba);try{l=JSON.parse(h);g=parseInt(l.renewalwindow);d=parseInt(l.expiration);a=parseInt(l.mtserialnumber);b=parseInt(l.serialnumber);c=l.userdata;}catch(q){if(q instanceof SyntaxError)throw new ba(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h,q).setEntity(K);throw q;}if(!g||g!=g||!d||d!=d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"string"!==typeof c)throw new ba(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h).setEntity(K);if(d<g)throw new F(k.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+h).setEntity(K);if(0>a||a>Ca)throw new F(k.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(K);if(0>b||b>Ca)throw new F(k.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(K);f=new Date(1E3*g);p=new Date(1E3*d);if(!K||a!=K.serialNumber)throw new F(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+a+"; mt "+JSON.stringify(K)).setEntity(K);try{m=oa(c);}catch(q){throw new F(k.USERIDTOKEN_USERDATA_INVALID,c,q).setEntity(K);}if(!m||0==m.length)throw new F(k.USERIDTOKEN_USERDATA_MISSING,c).setEntity(K);B?C.decrypt(m,{result:function(a){n(J,function(){var c,d,m,q,l;m=Ra(a,Ba);try{q=JSON.parse(m);c=q.issuerdata;d=q.identity;}catch(D){if(D instanceof SyntaxError)throw new ba(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+m).setEntity(K);throw D;}if(c&&"object"!==typeof c||"object"!==typeof d)throw new ba(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+m).setEntity(K);try{l=ye(d);}catch(D){throw new F(k.USERIDTOKEN_IDENTITY_INVALID,"userdata "+m,D).setEntity(K);}d=new r(T,R,B);new ac(t,f,p,K,b,c,l,d,J);});},error:function(a){n(J,function(){a instanceof F&&a.setEntity(K);throw a;});}}):(g=new r(T,R,B),new ac(t,f,p,K,b,null,null,g,J));});},error:function(k){n(J,function(){k instanceof F&&k.setEntity(K);throw k;});}});});};}());(function(){function r(n,r){var t,C,B;t=n.tokendata;if("string"!==typeof t)throw new ba(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));try{C=oa(t);}catch(Ka){throw new F(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(n),Ka);}if(!C||0==C.length)throw new ba(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(n));try{B=JSON.parse(Ra(C,Ba)).name;}catch(Ka){if(Ka instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n),Ka);throw Ka;}if(!B)throw new ba(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));return r[B]?r[B]:r[""];}function t(k,n,r){this.tokendata=k;this.signature=n;this.verified=r;}Jb=ha.Class.create({init:function(k,r,t,C,B,K,A,R,sa,g){var d;d=this;n(g,function(){var a,b,c,h,l;if(C&&B&&!B.isBoundTo(C))throw new ca("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");a=C?C.serialNumber:-1;b=B?B.serialNumber:-1;if(sa)return l=sa.tokendata,Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:r,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:K,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:A,writable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;A?(c=sd(A,t),c.length<t.length||(A=null,c=t)):(A=null,c=t);h={};h.name=r;-1!=a&&(h.mtserialnumber=a);-1!=b&&(h.uitserialnumber=b);h.encrypted=K;A&&(h.compressionalgo=A);if(K&&0<c.length)R.encrypt(c,{result:function(f){n(g,function(){var c;h.servicedata=ja(f);c=Oa(JSON.stringify(h),Ba);R.sign(c,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:r,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:K,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:A,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){n(g,function(){a instanceof F&&(a.setEntity(C),a.setUser(B));throw a;});}});},d);},error:function(a){n(g,function(){a instanceof F&&(a.setEntity(C),a.setUser(B));throw a;});}});else{h.servicedata=ja(c);l=Oa(JSON.stringify(h),Ba);R.sign(l,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:r,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:K,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:A,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){n(g,function(){a instanceof F&&(a.setEntity(C),a.setUser(B));throw a;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(k){return k?k instanceof fb?k.serialNumber==this.mtSerialNumber:k instanceof ac?k.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ja(this.tokendata);k.signature=ja(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof Jb?this.name==k.name&&this.mtSerialNumber==k.mtSerialNumber&&this.uitSerialNumber==k.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Eb=function(k,n,r,t,B,K,F,A,R){new Jb(k,n,r,t,B,K,F,A,null,R);};Kc=function(B,K,J,C,N,A){n(A,function(){var M,T,R,g,d,a,b,c,h,l,f,p,m;!N||N instanceof bc||(N=r(K,N));M=K.tokendata;T=K.signature;if("string"!==typeof M||"string"!==typeof T)throw new ba(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(K)).setEntity(J).setEntity(C);try{R=oa(M);}catch(q){throw new F(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(K),q).setEntity(J).setEntity(C);}if(!R||0==R.length)throw new ba(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(K)).setEntity(J).setEntity(C);try{g=oa(T);}catch(q){throw new F(k.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(K),q).setEntity(J).setEntity(C);}f=Ra(R,Ba);try{p=JSON.parse(f);d=p.name;a=p.mtserialnumber?parseInt(p.mtserialnumber):-1;b=p.uitserialnumber?parseInt(p.uitserialnumber):-1;c=p.encrypted;h=p.compressionalgo;l=p.servicedata;}catch(q){if(q instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"servicetokendata "+f,q).setEntity(J).setEntity(C);throw q;}if(!d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"boolean"!==typeof c||h&&"string"!==typeof h||"string"!==typeof l)throw new ba(k.JSON_PARSE_ERROR,"servicetokendata "+f).setEntity(J).setEntity(C);if(p.mtserialnumber&&0>a||a>Ca)throw new F(k.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+f).setEntity(J).setEntity(C);if(p.uitserialnumber&&0>b||b>Ca)throw new F(k.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+f).setEntity(J).setEntity(C);if(-1!=a&&(!J||a!=J.serialNumber))throw new F(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+a+"; mt "+J).setEntity(J).setEntity(C);if(-1!=b&&(!C||b!=C.serialNumber))throw new F(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+b+"; uit "+C).setEntity(J).setEntity(C);c=!0===c;if(h){if(!Nb[h])throw new F(k.UNIDENTIFIED_COMPRESSION,h);m=h;}else m=null;N?N.verify(R,g,{result:function(p){n(A,function(){var q,h;if(p){try{q=oa(l);}catch(v){throw new F(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+f,v).setEntity(J).setEntity(C);}if(!q||0!=l.length&&0==q.length)throw new F(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+f).setEntity(J).setEntity(C);if(c&&0<q.length)N.decrypt(q,{result:function(f){n(A,function(){var q,l;q=m?Lc(m,f):f;l=new t(R,g,p);new Jb(B,d,q,-1!=a?J:null,-1!=b?C:null,c,m,N,l,A);});},error:function(a){n(A,function(){a instanceof F&&(a.setEntity(J),a.setUser(C));throw a;});}});else{q=m?Lc(m,q):q;h=new t(R,g,p);new Jb(B,d,q,-1!=a?J:null,-1!=b?C:null,c,m,N,h,A);}}else q=""==l?new Uint8Array(0):null,h=new t(R,g,p),new Jb(B,d,q,-1!=a?J:null,-1!=b?C:null,c,m,N,h,A);});},error:function(a){n(A,function(){a instanceof F&&(a.setEntity(J),a.setUser(C));throw a;});}}):(M=""==l?new Uint8Array(0):null,T=new t(R,g,!1),new Jb(B,d,M,-1!=a?J:null,-1!=b?C:null,c,m,N,T,A));});};}());bb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(bb);(function(){Gb=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Gb?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});ne=function(r,t,M,A){n(A,function(){var n,C,B;n=M.scheme;C=M.authdata;if(!n||!C)throw new ba(k.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(M));if(!bb[n])throw new qa(k.UNIDENTIFIED_USERAUTH_SCHEME,n);B=r.getUserAuthenticationFactory(n);if(!B)throw new qa(k.USERAUTH_FACTORY_NOT_FOUND,n);B.createData(r,t,C,A);});};}());nc=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n,r,t){},authenticate:function(k,n,r,t){}});(function(){Vb=Gb.extend({init:function B(k,n){B.base.call(this,bb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:k,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.netflixid=this.netflixId;this.secureNetflixId&&(k.securenetflixid=this.secureNetflixId);return k;},equals:function M(k){return this===k?!0:k instanceof Vb?M.base.call(this,k)&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId:!1;}});ze=function(n){var r,t;r=n.netflixid;t=n.securenetflixid;if(!r)throw new ba(k.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(n));return new Vb(r,t);};}());df=nc.extend({init:function B(){B.base.call(this,bb.NETFLIXID);},createData:function(k,r,t,J){n(J,function(){return ze(t);});},authenticate:function(n,r,t,J){if(!(t instanceof Vb))throw new ca("Incorrect authentication data type "+t+".");n=t.secureNetflixId;if(!t.netflixId||!n)throw new qa(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new qa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){oc=Gb.extend({init:function M(k,n){M.base.call(this,bb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:k,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.email=this.email;k.password=this.password;return k;},equals:function T(k){return this===k?!0:k instanceof oc?T.base.call(this,this,k)&&this.email==k.email&&this.password==k.password:!1;}});Ae=function(n){var r,t;r=n.email;t=n.password;if(!r||!t)throw new ba(k.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(n));return new oc(r,t);};}());ef=nc.extend({init:function M(){M.base.call(this,bb.EMAIL_PASSWORD);},createData:function(k,r,t,C){n(C,function(){return Ae(t);});},authenticate:function(n,r,t,C){if(!(t instanceof oc))throw new ca("Incorrect authentication data type "+t+".");n=t.password;if(!t.email||!n)throw new qa(k.EMAILPASSWORD_BLANK).setUser(t);throw new qa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var C,N,A,pa,Aa,sa,g,d;function r(a,b){return"<"+a+">"+b+"</"+a+">";}function t(a){return a.replace(/[<>&"']/g,function(a){return Aa[a];});}function J(a){return encodeURIComponent(a).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}C=Oc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};N=ha.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});A=ud=N.extend({init:function(a,b,c,d,l,f,p){var h;function m(f){n(p,function(){var d,m;try{m={};m.useridtoken=a;m.action=b;m.nonce=c;m.pin=ja(f);d=Oa(JSON.stringify(m),Ba);}catch(w){throw new ba(k.JSON_ENCODE_ERROR,"MSL-based MDX authdata",w);}l.sign(d,{result:function(a){q(d,a);},error:p.error});},h);}function q(f,m){n(p,function(){Object.defineProperties(this,{_userIdToken:{value:a,writable:!1,enumerable:!1,configurable:!1},_action:{value:b,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:c,writable:!1,enumerable:!1,configurable:!1},_pin:{value:d,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:f,writable:!1,enumerable:!1,configurable:!1},_signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});return this;},h);}h=this;n(p,function(){f?q(f.encoding,f.signature):l.encrypt(Oa(d,Ba),{result:function(a){m(a);},error:p.error});},h);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof A?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin&&this._userIdToken.equals(a._userIdToken):!1;}});ud.ACTION="userauth";pa=function(a,b,c,d,l){function f(f){n(l,function(){var d,m,h,g,z,w;d=Ra(c,Ba);try{w=JSON.parse(d);m=w.useridtoken;h=w.action;g=w.nonce;z=w.pin;}catch(D){if(D instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+d,D);throw D;}if(!(m&&"object"===typeof m&&h&&"string"===typeof h&&g&&"number"===typeof g&&z)||"string"!==typeof z)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+d);Sb(a,m,b,{result:function(a){n(l,function(){if(!a.isDecrypted())throw new qa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+d);p(f,a,h,g,z);});},error:function(a){n(l,function(){if(a instanceof F)throw new qa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+d,a);throw a;});}});});}function p(a,b,f,p,h){n(l,function(){var m;m=oa(h);a.decrypt(m,{result:function(a){n(l,function(){var m;m=Ra(a,Ba);new A(b,f,p,m,null,{encoding:c,signature:d},l);});},error:l.error});});}n(l,function(){var p,q;try{q=a.getMslStore().getCryptoContext(b);p=q?q:new gb(a,b);}catch(u){if(u instanceof Pb)throw new qa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+ja(c));throw u;}p.verify(c,d,{result:function(a){n(l,function(){if(!a)throw new R(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ja(c));f(p);});},error:l.error});});};Aa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};sa=pc=N.extend({init:function(a,b,c,d){var l,f;l=r("action",t(a));f=r("nonce",b.toString());c=r("pin",c);l=r("registerdata",l+f+c);l=Oa(l,"utf-8");Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:d,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof sa?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});pc.ACTION="regpairrequest";g=vd=N.extend({init:function(a,b,c,d,l,f){var q;function p(c){n(f,function(){var p,q,l,h,u;p=ja(c);q=r("action",t(a));l=r("nonce",b.toString());h=r("pin",p);q=r("registerdata",q+l+h);u=Oa(q,"utf-8");p="action="+J(a)+"&nonce="+J(b.toString())+"&pin="+J(p);d.sign(Oa(p,"utf-8"),{result:function(a){m(u,a);},error:f.error});},q);}function m(d,p){n(f,function(){Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:c,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:d,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},q);}q=this;n(f,function(){l?m(l.encoding,l.signature):d.encrypt(Oa(c,"utf-8"),{result:function(a){p(a);},error:f.error});},q);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof g?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});vd.ACTION=pc.ACTION;d=function(a,b,c,d,l){n(l,function(){var f,p,m,q,h,x,v;f=a.getMslStore().getCryptoContext(b);p=f?f:new gb(a,b);f=Ra(c,"utf-8");m=new DOMParser().parseFromString(f,"application/xml");f=m.getElementsByTagName("action");q=m.getElementsByTagName("nonce");m=m.getElementsByTagName("pin");h=f&&1==f.length&&f[0].firstChild?f[0].firstChild.nodeValue:null;x=q&&1==q.length&&q[0].firstChild?parseInt(q[0].firstChild.nodeValue):null;v=m&&1==m.length&&m[0].firstChild?m[0].firstChild.nodeValue:null;if(!h||!x||!v)throw new ba(k.XML_PARSE_ERROR,"MDX authdata "+ja(c));f="action="+J(h)+"&nonce="+J(x.toString())+"&pin="+J(v);p.verify(Oa(f,"utf-8"),d,{result:function(a){n(l,function(){var b;if(!a)throw new R(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ja(c));b=oa(v);p.decrypt(b,{result:function(a){n(l,function(){var b;b=Ra(a,"utf-8");new g(h,x,b,null,{encoding:c,signature:d},l);});},error:l.error});});},error:l.error});});};ec=Gb.extend({init:function b(c,d,l,f,p,m){var q,h,g,v,z,w;b.base.call(this,bb.MDX);q=null;h=null;g=null;if("string"===typeof l)c=C.MSL_LEGACY,g=l;else if(l instanceof Uint8Array)c=C.NTBA,h=l;else if(l instanceof fb)c=C.MSL,q=l;else throw new TypeError("Controller token "+l+" is not a master token, encrypted CTicket, or MSL token construct.");v=l=null;z=null;if(m){w=m.controllerAuthData;l=w.getAction();v=w.getPin();m=m.userIdToken;w instanceof A?z=w.getUserIdToken().customer:m&&(z=m.customer);}Object.defineProperties(this,{mechanism:{value:c,writable:!1,configurable:!1},action:{value:l,writable:!1,configurable:!1},targetPin:{value:d,writable:!1,configurable:!1},controllerPin:{value:v,writable:!1,configurable:!1},customer:{value:z,writable:!1,configurable:!1},_masterToken:{value:q,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:h,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:g,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:f,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var b,c;b={};switch(this.mechanism){case C.MSL:c=JSON.parse(JSON.stringify(this._masterToken));b.mastertoken=c;break;case C.NTBA:c=Ra(this._encryptedCTicket,"utf-8");b.cticket=c;break;case C.MSL_LEGACY:b.cticket=this._mslTokens;break;default:throw new ca("Unsupported MDX mechanism.");}b.pin=this.targetPin;b.mdxauthdata=ja(this._controllerEncoding);b.signature=ja(this._signature);return b;},equals:function c(d){return this===d?!0:d instanceof ec?c.base.call(this,d)&&(this._masterToken==d._masterToken||this._masterToken&&this._masterToken.equals(d._masterToken))&&(this._encryptedCTicket==d._encryptedCTicket||this._encryptedCTicket&&Xa(this._encryptedCTicket,d._encryptedCTicket))&&this._mslTokens==d._mslTokens&&Xa(this._controllerEncoding,d._controllerEncoding)&&Xa(this._signature,d._signature):!1;}});Be=function(c,h,l){function f(f,d,p,m){Rb(c,d,{result:function(d){n(l,function(){if(!d.isDecrypted())throw new qa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());pa(c,d,p,m,{result:function(p){n(l,function(){var m,q;m=p.getEncoding();q=p.getSignature();return new ec(c,f,d,m,q,{controllerAuthData:p,userIdToken:null});});},error:l.error});});},error:function(f){n(l,function(){if(f instanceof F)throw new qa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}function p(f,c,d,p){n(l,function(){throw new qa(k.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function m(f,p,m,g){function q(f,d){n(d,function(){var p,m;try{p=oa(f);}catch(G){throw new qa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),G);}if(!p||0==p.length)throw new qa(k.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{m=JSON.parse(Ra(p,"utf-8"));Rb(c,m,{result:function(f){n(d,function(){if(!f.isDecrypted())throw new qa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());return f;});},error:function(f){n(d,function(){if(f instanceof F)throw new qa(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}catch(G){if(G instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),G);throw G;}});}function u(f,d,p){n(p,function(){var m,q;try{m=oa(f);}catch(la){throw new qa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),la);}if(!m||0==m.length)throw new qa(k.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{q=JSON.parse(Ra(m,"utf-8"));Sb(c,q,d,{result:function(f){n(p,function(){if(!f.isDecrypted())throw new qa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h));return f;});},error:function(f){n(p,function(){if(f instanceof F)throw new qa(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}catch(la){if(la instanceof SyntaxError)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),la);throw la;}});}n(l,function(){var v;v=p.split(",");if(3!=v.length||"1"!=v[0])throw new qa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));q(v[1],{result:function(q){u(v[2],q,{result:function(u){d(c,q,m,g,{result:function(d){n(l,function(){return new ec(c,f,p,m,g,{controllerAuthData:d,userIdToken:u});});},error:function(f){n(l,function(){if(f instanceof Pb)throw new qa(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h),f);throw f;});}});},error:l.error});},error:l.error});});}n(l,function(){var c,d,l,g,z;c=h.pin;d=h.mdxauthdata;l=h.signature;if(!c||"string"!==typeof c||!d||"string"!==typeof d||!l||"string"!==typeof l)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));try{g=oa(d);z=oa(l);}catch(w){throw new qa(k.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(h),w);}if(h.mastertoken){d=h.mastertoken;if(!d||"object"!==typeof d)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));f(c,d,g,z);}else if(h.cticket){d=h.cticket;if(!d||"string"!==typeof d)throw new ba(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));-1==d.indexOf(",")?p(c,d,g,z):m(c,d,g,z);}else throw new qa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));});};}());(function(){var n,r,t;n=ud.ACTION;r=pc.ACTION;t=vd.ACTION;Ce=nc.extend({init:function N(){N.base.call(this,bb.MDX);},createData:function(k,n,r,t){Be(k,r,t);},authenticate:function(N,J,A,F){if(!(A instanceof ec))throw new ca("Incorrect authentication data type "+A.getClass().getName()+".");N=A.action;switch(A.mechanism){case Oc.MSL:if(n!=N)throw new qa(k.MDX_USERAUTH_ACTION_INVALID).setUser(A);break;case Oc.NTBA:if(r!=N)throw new qa(k.MDX_USERAUTH_ACTION_INVALID).setUser(A);break;case Oc.MSL_LEGACY:if(t!=N)throw new qa(k.MDX_USERAUTH_ACTION_INVALID).setUser(A);}N=A.controllerPin;J=A.targetPin;if(!N||!J)throw new qa(k.MDX_PIN_BLANK).setUser(A);if(N!=J)throw new qa(k.MDX_PIN_MISMATCH).setUser(A);N=A.customer;if(!N)throw new qa(k.MDX_USER_UNKNOWN).setUser(A);if(F&&(F=F.customer,!N.equals(F)))throw new qa(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+N+"; uit customer "+F).setUser(A);return N;}});}());(function(){var n,r,t;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};r=Ee=ha.Class.create({init:function(k,n){Object.defineProperties(this,{email:{value:k,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});t=Fe=ha.Class.create({init:function(k,n){Object.defineProperties(this,{netflixId:{value:k,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});qc=Gb.extend({init:function N(k,n,J,A){var g,d,a,b;N.base.call(this,bb.SSO);g=null;d=null;a=null;b=null;J instanceof r?(g=J.email,d=J.password):J instanceof t&&(a=J.netflixId,b=J.secureNetflixId);Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:g,writable:!1,configurable:!1},password:{value:d,writable:!1,configurable:!1},netflixId:{value:a,writable:!1,configurable:!1},secureNetflixId:{value:b,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof A?null:A,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.mechanism=this.mechanism;k.token=ja(this.token);this.email&&this.password?(k.email=this.email,k.password=this.password):this.netflixId&&this.secureNetflixId&&(k.netflixid=this.netflixId,k.securenetflixid=this.secureNetflixId);this.profileGuid&&(k.profileguid=this.profileGuid);return k;},equals:function Ka(k){return this===k?!0:k instanceof qc?Ka.base.call(this,k)&&this.mechanism==k.mechanism&&Xa(this.token,k.token)&&this.email==k.email&&this.password==k.password&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId&&this.profileGuid==k.profileGuid:!1;}});De=function(J){var A,F,M,g,d,a,b,c,h;A=J.mechanism;F=J.token;if(!A||!F||"string"!==typeof F)throw new ba(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(J));if(!n[A])throw new qa(k.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(J));M=J.email;g=J.password;d=J.netflixid;a=J.securenetflixid;b=J.profileguid;if(M&&!g||!M&&g||d&&!a||!d&&a||M&&d)throw new ba(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(J));try{c=oa(F);}catch(l){throw new qa(k.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(J),l);}M&&g?h=new r(M,g):d&&a&&(h=new t(d,a));return new qc(A,c,h,b);};}());ff=nc.extend({init:function T(){T.base.call(this,bb.SSO);},createData:function(k,r,t,N){n(N,function(){return De(t);});},authenticate:function(n,r,t,N){var C,J;if(!(t instanceof qc))throw new ca("Incorrect authentication data type "+t+".");n=t.token;r=t.email;N=t.password;C=t.netflixId;J=t.secureNetflixId;if(!n||0==n.length)throw new qa(k.SSOTOKEN_BLANK);if(!(null===r&&null===N||r&&N))throw new qa(k.EMAILPASSWORD_BLANK);if(!(null===C&&null===J||C&&J))throw new qa(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new qa(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){rc=Gb.extend({init:function J(k,n){J.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:k,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));k.profileguid=this.profileGuid;return k;},equals:function C(k){return this==k?!0:k instanceof rc?C.base.call(this,k)&&this.userIdToken.equals(k.userIdToken)&&this.profileGuid==k.profileGuid:!1;}});Ge=function(r,t,A,F){n(F,function(){var C,N;if(!t)throw new qa(k.USERAUTH_MASTERTOKEN_MISSING);C=A.useridtoken;N=A.profileguid;if("object"!==typeof C||"string"!==typeof N)throw new ba(k.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(A));Sb(r,C,t,{result:function(g){n(F,function(){if(!g.isDecrypted())throw new qa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(A));return new rc(g,N);});},error:function(g){F.error(new qa(k.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(A),g));}});});};}());gf=nc.extend({init:function J(k){J.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n,r,t){Ge(k,n,r,t);},authenticate:function(n,r,t,A){if(!(t instanceof rc))throw new ca("Incorrect authentication data type "+t+".");r=t.userIdToken;n=t.profileGuid;if(!n)throw new qa(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);r=r.user;if(!r)throw new qa(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);n=this._store.switchUsers(r,n);if(!n)throw new qa(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(A&&(A=A.user,!n.equals(A)))throw new qa(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+n+"; uit user "+A).setUserAuthenticationData(t);return n;}});Object.freeze({ENTITY_REAUTH:r.ENTITY_REAUTH,ENTITYDATA_REAUTH:r.ENTITYDATA_REAUTH});hf=ha.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(k,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(k){},getUserAuthenticationFactory:function(k){},getTokenFactory:function(){},getKeyExchangeFactory:function(k){},getKeyExchangeFactories:function(){},getMslStore:function(){}});He=ha.Class.create({setCryptoContext:function(k,n){},getMasterToken:function(){},getNonReplayableId:function(k){},getCryptoContext:function(k){},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(k,n){},removeServiceTokens:function(k,n,r){},clearServiceTokens:function(){}});(function(){var n;n=Nb;sd=function(r,t){var C;C={};switch(r){case n.LZW:return Jd(t,C);case n.GZIP:return gzip$compress(t);default:throw new F(k.UNSUPPORTED_COMPRESSION,r);}};Lc=function(r,t,A){switch(r){case n.LZW:return Kd(t);case n.GZIP:return gzip$uncompress(t);default:throw new F(k.UNSUPPORTED_COMPRESSION,r.name());}};}());He.extend({setCryptoContext:function(k,n){},getMasterToken:function(){return null;},getNonReplayableId:function(k){return 1;},getCryptoContext:function(k){return null;},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){return null;},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(n,r){if(r){if(!n)throw new F(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(n))throw new F(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);}return[];},removeServiceTokens:function(n,r,t){if(t&&r&&!t.isBoundTo(r))throw new F(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.masterTokenSerialNumber+"; mt "+r.serialNumber);},clearServiceTokens:function(){}});(function(){Ie=He.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(k,n){var r;if(n){r=k.uniqueKey();this.masterTokens[r]=k;this.cryptoContexts[r]=n;}else this.removeCryptoContext(k);},getMasterToken:function(){var k,n,r;k=null;for(n in this.masterTokens){r=this.masterTokens[n];if(!k||r.isNewerThan(k))k=r;}return k;},getNonReplayableId:function(k){var n;k=k.serialNumber;n=this.nonReplayableIds[k]!==ea?this.nonReplayableIds[k]:0;if(0>n||n>Ca)throw new ca("Non-replayable ID "+n+" is outside the valid range.");n=n==Ca?0:n+1;return this.nonReplayableIds[k]=n;},getCryptoContext:function(k){return this.cryptoContexts[k.uniqueKey()];},removeCryptoContext:function(k){var n,r;n=k.uniqueKey();if(this.masterTokens[n]){delete this.masterTokens[n];delete this.cryptoContexts[n];n=k.serialNumber;for(r in this.masterTokens)if(this.masterTokens[r].serialNumber==n)return;delete this.nonReplayableIds[n];Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(k)&&this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,k,null);}catch(pa){if(pa instanceof F)throw new ca("Unexpected exception while removing master token bound service tokens.",pa);throw pa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);},addUserIdToken:function(n,r){var t,C;t=!1;for(C in this.masterTokens)if(r.isBoundTo(this.masterTokens[C])){t=!0;break;}if(!t)throw new F(k.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+r.mtSerialNumber);this.userIdTokens[n]=r;},getUserIdToken:function(k){return this.userIdTokens[k];},removeUserIdToken:function(k){var n,r,t;n=null;for(r in this.masterTokens){t=this.masterTokens[r];if(k.isBoundTo(t)){n=t;break;}}Object.keys(this.userIdTokens).forEach(function(r){if(this.userIdTokens[r].equals(k)){delete this.userIdTokens[r];try{this.removeServiceTokens(null,n,k);}catch(sa){if(sa instanceof F)throw new ca("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}}},this);},clearUserIdTokens:function(){var n;for(var k in this.userIdTokens){n=this.userIdTokens[k];try{this.removeServiceTokens(null,null,n);}catch(Ka){if(Ka instanceof F)throw new ca("Unexpected exception while removing user ID token bound service tokens.",Ka);throw Ka;}delete this.userIdTokens[k];}},addServiceTokens:function(n){n.forEach(function(n){var r,t,C;if(n.isUnbound())this.unboundServiceTokens[n.uniqueKey()]=n;else{if(n.isMasterTokenBound()){r=!1;for(t in this.masterTokens)if(n.isBoundTo(this.masterTokens[t])){r=!0;break;}if(!r)throw new F(k.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+n.mtSerialNumber);}if(n.isUserIdTokenBound()){r=!1;for(C in this.userIdTokens)if(n.isBoundTo(this.userIdTokens[C])){r=!0;break;}if(!r)throw new F(k.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+n.uitSerialNumber);}n.isMasterTokenBound()&&((C=this.mtServiceTokens[n.mtSerialNumber])||(C={}),C[n.uniqueKey()]=n,this.mtServiceTokens[n.mtSerialNumber]=C);n.isUserIdTokenBound()&&((C=this.uitServiceTokens[n.uitSerialNumber])||(C={}),C[n.uniqueKey()]=n,this.uitServiceTokens[n.uitSerialNumber]=C);}},this);},getServiceTokens:function(n,r){var t,C,A,N;if(r){if(!n)throw new F(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(n))throw new F(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);}t={};for(C in this.unboundServiceTokens){A=this.unboundServiceTokens[C];t[A.uniqueKey()]=A;}if(n&&(A=this.mtServiceTokens[n.serialNumber]))for(C in A){N=A[C];N.isUserIdTokenBound()||(t[C]=N);}if(r&&(A=this.uitServiceTokens[r.serialNumber]))for(C in A)N=A[C],N.isBoundTo(n)&&(t[C]=N);A=[];for(C in t)A.push(t[C]);return A;},removeServiceTokens:function(n,r,t){var A,N,d;if(t&&r&&!t.isBoundTo(r))throw new F(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+r.serialNumber);if(n&&!r&&!t){Object.keys(this.unboundServiceTokens).forEach(function(a){this.unboundServiceTokens[a].name==n&&delete this.unboundServiceTokens[a];},this);for(var C in this.mtServiceTokens){A=this.mtServiceTokens[C];N=Object.keys(A);N.forEach(function(a){A[a].name==n&&delete A[a];},this);this.mtServiceTokens[C]=A;}for(var g in this.uitServiceTokens)A=this.uitServiceTokens[g],C=Object.keys(A),C.forEach(function(a){A[a].name==n&&delete A[a];},this),this.uitServiceTokens[g]=A;}if(r&&!t){if(A=this.mtServiceTokens[r.serialNumber])N=Object.keys(A),N.forEach(function(a){var b;b=A[a];n&&b.name!=n||delete A[a];},this),this.mtServiceTokens[r.serialNumber]=A;for(g in this.uitServiceTokens){d=this.uitServiceTokens[g];C=Object.keys(d);C.forEach(function(a){var b;b=d[a];n&&b.name!=n||b.isBoundTo(r)&&delete d[a];},this);this.uitServiceTokens[g]=d;}}t&&(A=this.uitServiceTokens[t.serialNumber])&&(C=Object.keys(A),C.forEach(function(a){var b;b=A[a];n&&b.name!=n||r&&!b.isBoundTo(r)||delete A[a];},this),this.uitServiceTokens[t.serialNumber]=A);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);}});}());Pe=af.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(k,n){var r;if(n&&k&&k.length){r=ja(k);this._contextMap[r]=n;}},getCryptoContext:function(k){return k&&k.length?(k=ja(k),this._contextMap[k]||null):null;},removeCryptoContext:function(k){k&&k.length&&(k=ja(k),delete this._contextMap[k]);}});Je=Ue.extend({init:function N(k,n,r,t){N.base.call(this,k);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:r,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,r){if(!(r instanceof nb))throw new ca("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new yb(k.ENTITY_NOT_FOUND,"mgk "+r.identity);return new Ec(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});jf=Ud.extend({init:function Ka(k,n,r,g){Ka.base.call(this,k);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:r,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,r){if(!(r instanceof rb))throw new ca("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new yb(k.ENTITY_NOT_FOUND,"psk "+r.identity);return new Ec(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});lf=Ie.extend({init:function pa(k,n,g,d,a,b){pa.base.call(this);this._log=k;this._esn=n;this._keyRequestData=g;this._createKeyRequestData=d;this._systemKeyName=a;this._systemKeyWrapFormat=b;},setCryptoContext:function Aa(k,g,d){var a;a=this;a._log.trace("Adding MasterToken",{SequenceNumber:k.sequenceNumber,SerialNumber:k.serialNumber,Expiration:k.expiration.getTime()});Aa.base.call(this,k,g);!d&&(k=a._createKeyRequestData)&&(a._log.trace("Generating new keyx request data"),k().then(function(b){a._keyRequestData=b;},function(b){a._log.error("Unable to generate new keyx request data",""+b);}));},addUserIdToken:function sa(g,d){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:d.serialNumber,MTSerialNumber:d.mtSerialNumber,Expiration:d.expiration.getTime()});sa.base.call(this,g,d);},addServiceTokens:function g(d){g.base.call(this,d.filter(function(a){return!kf[a.name];}));},getUserIdTokenKeys:function(){var g,d;g=[];for(d in this.userIdTokens)g.push(d);return g;},rekeyUserIdToken:function(g,d){this.userIdTokens[g]&&(this.userIdTokens[d]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var d;d=this;n(g,function(){var a;a=d.getMasterToken();a?d.getKeysForStore(a,{result:function(b){n(g,function(){var c,h,l;c=d.userIdTokens;h=Object.keys(c).map(function(b){var f;f=c[b];return{userId:b,userIdTokenJSON:c[b].toJSON(),serviceTokenJSONList:d.getServiceTokens(a,f).map(Me)};});b.esn=d._esn;b.masterTokenJSON=a.toJSON();b.userList=h;l=d._keyRequestData.storeData;l&&Object.keys(l).forEach(function(a){b[a]=l[a];});return b;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(g,d){var a;a=this;n(d,function(){var b;b=a.getCryptoContext(g);b={encryptionKey:b.encryptionKey,hmacKey:b.hmacKey};if(b.encryptionKey&&b.hmacKey)if(a._systemKeyWrapFormat)a.wrapKeysWithSystemKey(b,d);else return b;else throw new F(k.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(g,d){var a;a=this;Ad(this._systemKeyName,{result:function(b){n(d,function(){var c,h,l,f;c=g.encryptionKey;h=g.hmacKey;l=c[fc];f=h[fc];if(l&&f)return{wrappedEncryptionKey:l,wrappedHmacKey:f};Promise.resolve().then(function(){return Promise.all([xa.wrapKey(a._systemKeyWrapFormat,c,b,b.algorithm),xa.wrapKey(a._systemKeyWrapFormat,h,b,b.algorithm)]);}).then(function(a){l=ja(a[0]);c[fc]=l;f=ja(a[1]);h[fc]=f;d.result({wrappedEncryptionKey:l,wrappedHmacKey:f});})["catch"](function(a){d.error(new F(k.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},unwrapKeysWithSystemKey:function(g,d){var a;a=this;Ad(this._systemKeyName,{result:function(b){n(d,function(){var c,h;c=oa(g.wrappedEncryptionKey);h=oa(g.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([xa.unwrapKey(a._systemKeyWrapFormat,c,b,b.algorithm,pb,!1,Hb),xa.unwrapKey(a._systemKeyWrapFormat,h,b,b.algorithm,qb,!1,Qb)]);}).then(function(a){var b;b=a[0];a=a[1];b[fc]=g.wrappedEncryptionKey;a[fc]=g.wrappedHmacKey;d.result({encryptionKey:b,hmacKey:a});})["catch"](function(a){d.error(new F(k.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},loadStoreState:function(g,d,a,b){var l,f;function c(b,f){var c;try{c=a.userList.slice();}catch(u){}c?function x(){var a;a=c.shift();a?Sb(d,a.userIdTokenJSON,b,{result:function(f){try{l.addUserIdToken(a.userId,f);h(b,f,a.serviceTokenJSONList,{result:x,timeout:x,error:x});}catch(w){x();}},timeout:x,error:x}):f.result();}():f.result();}function h(a,b,f,c){var p,m;try{p=f.slice();}catch(z){}if(p){m=l.getCryptoContext(a);(function w(){var f;f=p.shift();f?Kc(d,f,a,b,m,{result:function(a){l.addServiceTokens([a]);w();},timeout:function(){w();},error:function(){w();}}):c.result();}());}else c.result();}l=this;f=l._log;a.esn!=l._esn?(f.error("Esn mismatch, starting fresh"),b.error()):function(b){var h,x,v,z;function c(){var a;if(!h&&x&&v&&z){h=!0;a=new gb(d,x,g.esn,{rawKey:v},{rawKey:z});l.setCryptoContext(x,a,!0);b.result(x);}}function p(a,c){f.error(a,c&&""+c);h||(h=!0,b.error());}a.masterTokenJSON?(Rb(d,a.masterTokenJSON,{result:function(a){x=a;c();},timeout:function(){p("Timeout parsing MasterToken");},error:function(a){p("Error parsing MasterToken",a);}}),l._systemKeyWrapFormat?l.unwrapKeysWithSystemKey(a,{result:function(a){v=a.encryptionKey;z=a.hmacKey;c();},timeout:function(){p("Timeout unwrapping keys");},error:function(a){p("Error unwrapping keys",a);}}):Promise.resolve().then(function(){return xa.encrypt({name:pb.name,iv:new Uint8Array(16)},a.encryptionKey,new Uint8Array(1));}).then(function(b){v=a.encryptionKey;})["catch"](function(a){p("Error loading encryptionKey");}).then(function(){return xa.sign(qb,a.hmacKey,new Uint8Array(1));}).then(function(b){z=a.hmacKey;c();})["catch"](function(a){p("Error loading hmacKey");})):p("Persisted store is corrupt");}({result:function(a){c(a,b);},timeout:b.timeout,error:b.error});}});kf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fc="$netflix$msl$wrapsys";mf=hf.extend({init:function(g,d,a,b,c,h){var l,f;l=new lc([Nb.LZW]);f=new We();f.addPublicKey(d,a);b[Fa.RSA]=new Ve(f);d={};d[bb.EMAIL_PASSWORD]=new ef();d[bb.NETFLIXID]=new df();d[bb.MDX]=new Ce();d[bb.SSO]=new ff();d[bb.SWITCH_PROFILE]=new gf();g={_mslCryptoContext:{value:new Te(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:l,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:c,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:b,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:d,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:h,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Od();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,d){d.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(d){return d.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Cd=we.extend({init:function(g,d,a,b){this._log=g;this._mslContext=d;this._mslRequest=a;this._keyRequestData=b;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,d,a,b){var c,h;c=this._mslRequest;h=this._mslContext;n(b,function(){var b,f;if(g||!c.shouldSendUserAuthData)return null;if(c.token){c.email?b=new Ee(c.email,c.password):c.netflixId&&(b=new Fe(c.netflixId,c.secureNetflixId));f="undefined"===typeof c.profileGuid?null:c.profileGuid;return new qc(c.mechanism,Oa(c.token),b,f);}return c.email?new oc(c.email,c.password):c.netflixId?new Vb(c.netflixId,c.secureNetflixId):c.mdxControllerToken?(b=new pc("regpairrequest",c.mdxNonce,c.mdxEncryptedPinB64,c.mdxSignature).getEncoding(),new ec(h,c.mdxPin,c.mdxControllerToken,b,c.mdxSignature)):c.useNetflixUserAuthData?new Vb():c.profileGuid?(b=c.userId,b=h.getMslStore().userIdTokens[b],new rc(b,c.profileGuid)):a&&c.sendUserAuthIfRequired?new Vb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,d,a){var b,c,h,l,f,p;b=this._log;c=(this._mslRequest.serviceTokens||[]).slice();h=this._mslContext;d=h.getMslStore();l=g.builder.getMasterToken();f=this.getUserId();p=d.getUserIdToken(f);(function q(){var f;f=c.shift();if(f)try{f instanceof Jb?(g.addPrimaryServiceToken(f),q()):Kc(h,f,l,p,null,{result:function(a){try{g.addPrimaryServiceToken(a);}catch(v){b.warn("Exception adding service token",""+v);}q();},timeout:function(){b.warn("Timeout parsing service token");q();},error:function(a){b.warn("Error parsing service token",""+a);q();}});}catch(x){b.warn("Exception processing service token",""+x);q();}else a.result(!0);}());},write:function(g,d,a){var b;b=Oa(this._mslRequest.body);g.write(b,0,b.length,d,{result:function(c){c!=b.length?a.error(new Wa("Not all data was written to output.")):g.flush(d,{result:function(){a.result(!0);},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},getDebugContext:function(){this._dc||(this._dc=new nf(this._log,this._mslRequest));return this._dc;}});nf=cf.extend({init:function(g,d){this._log=g;this._mslRequest=d;},sentHeader:function(g){this._log.trace("Sent MSL header",Bd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Ne).join("\n"));},receivedHeader:function(g){var d,a;d=Bd(this._mslRequest,g);a=g.errorCode;a?this._log.warn("Received MSL error header",d,{errorCode:a,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",d);}});Ke={PSK:function(g){return Uc(g,Fa.PSK,jf,rb,md,Ic);},MGK:function(g){return Uc(g,Fa.MGK,Je,nb,md,Ic);},MGK_WITH_FALLBACK:function(g){var d,a;switch(g.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":d="PSK";break;default:d="MGK";}a=Ke[d];if(!a)throw new F(k.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+d);return a(g);},MGK_JWE:function(g){return Uc(g,Fa.MGK,Je,nb,$d,ld);},JWK_RSA:function(g){return Vc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Jc.JWK_RSA);},JWK_RSAES:function(g){return Vc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Jc.JWK_RSAES);},JWEJS_RSA:function(g){return Vc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Jc.JWEJS_RSA);}};A.netflix=A.netflix||{};A.netflix.msl={createMslClient:function(g,d){var a,b,c,h,l;a=g.log;l=g.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ia&&Ia.generateKey&&Ia.importKey&&Ia.unwrapKey))throw new F(k.INTERNAL_EXCEPTION,"No WebCrypto");db=Ia.generateKey({name:"AES-CBC",length:128},!0,Hb).then?zc.V2014_02:zc.LEGACY;l("mslisik");return xa.importKey("spki",g.serverIdentityKeyData,Pd,!1,["verify"]);}).then(function(a){return new Promise(function(b,f){Mb(a,{result:b,error:function(){f(new F(k.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(a){b=a;if(a=Ke[g.authenticationType])return l("mslcc"),a(g);throw new F(k.INTERNAL_EXCEPTION,"Invalid authenticationType: "+g.authenticationType);}).then(function(f){var d;c=new lf(a,g.esn,f.keyRequestData,f.createKeyRequestData,g.authenticationKeyNames.s,g.systemKeyWrapFormat);h=new mf(c,g.serverIdentityId,b,f.entityAuthFactories,f.entityAuthData,f.keyExchangeFactories);d=g.storeState;if(d)return l("mslss"),a.info("Loading store state"),new Promise(function(a,b){c.loadStoreState(g,h,d,{result:a,timeout:a,error:a});});a.info("No store state, starting fresh");}).then(function(){var b;b=new xe();l("msldone");d.result(new Oe(a,b,h,c,g.ErrorSubCodes));})["catch"](function(a){d.error(a);});},IHttpLocation:Ze,MslIoException:Wa};Xc="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};na="undefined"!=typeof A&&A===this?this:"undefined"!=typeof global&&null!=global?global:this;Se=0;Va("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});Va("Object.assign",function(g){return g?g:function(d,a){var c;for(var b=1;b<arguments.length;b++){c=arguments[b];if(c)for(var h in c)xb(c,h)&&(d[h]=c[h]);}return d;};});Va("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});Va("Promise",function(g){var b,c;function d(a){var b;this.eL=0;this.P9=void 0;this.YJ=[];b=this.Z1();try{a(b.resolve,b.reject);}catch(f){b.reject(f);}}function a(){this.Yt=null;}if(g)return g;a.prototype.uma=function(a){null==this.Yt&&(this.Yt=[],this.hYa());this.Yt.push(a);};a.prototype.hYa=function(){var a;a=this;this.vma(function(){a.u6a();});};b=na.setTimeout;a.prototype.vma=function(a){b(a,0);};a.prototype.u6a=function(){var a,f;for(;this.Yt&&this.Yt.length;){a=this.Yt;this.Yt=[];for(var b=0;b<a.length;++b){f=a[b];delete a[b];try{f();}catch(p){this.jYa(p);}}}this.Yt=null;};a.prototype.jYa=function(a){this.vma(function(){throw a;});};d.prototype.Z1=function(){var b,f;function a(a){return function(c){f||(f=!0,a.call(b,c));};}b=this;f=!1;return{resolve:a(this.pmb),reject:a(this.y9)};};d.prototype.pmb=function(a){var b;if(a===this)this.y9(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.lob(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.omb(a):this.Lqa(a);}};d.prototype.omb=function(a){var b;b=void 0;try{b=a.then;}catch(f){this.y9(f);return;}"function"==typeof b?this.mob(b,a):this.Lqa(a);};d.prototype.y9=function(a){this.bAa(2,a);};d.prototype.Lqa=function(a){this.bAa(1,a);};d.prototype.bAa=function(a,b){if(0!=this.eL)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.eL);this.eL=a;this.P9=b;this.v6a();};d.prototype.v6a=function(){if(null!=this.YJ){for(var a=this.YJ,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.YJ=null;}};c=new a();d.prototype.lob=function(a){var b;b=this.Z1();a.TP(b.resolve,b.reject);};d.prototype.mob=function(a,b){var f;f=this.Z1();try{a.call(b,f.resolve,f.reject);}catch(p){f.reject(p);}};d.prototype.then=function(a,b){var c,m,q;function f(a,b){return"function"==typeof a?function(b){try{c(a(b));}catch(z){m(z);}}:b;}q=new d(function(a,b){c=a;m=b;});this.TP(f(a,c),f(b,m));return q;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.TP=function(a,b){var d;function f(){switch(d.eL){case 1:a(d.P9);break;case 2:b(d.P9);break;default:throw Error("Unexpected state: "+d.eL);}}d=this;null==this.YJ?c.uma(f):this.YJ.push(function(){c.uma(f);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,f){f(a);});};d.race=function(a){return new d(function(b,f){for(var c=za(a),m=c.next();!m.done;m=c.next())d.resolve(m.value).TP(b,f);});};d.all=function(a){var b,f;b=za(a);f=b.next();return f.done?d.resolve([]):new d(function(a,c){var m,l;function p(b){return function(f){m[b]=f;l--;0==l&&a(m);};}m=[];l=0;do m.push(void 0),l++,d.resolve(f.value).TP(p(m.length-1),c),f=b.next();while(!f.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});Va("Array.prototype.keys",function(g){return g?g:function(){return Yc(this,function(d){return d;});};});Va("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});Va("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==wc(this,d,"includes").indexOf(d,a||0);};});Va("WeakMap",function(g){var c,h;function d(a){this.SI=(h+=Math.random()+1).toString();if(a){La();Za();a=za(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){xb(a,c)||Xc(a,c,{value:{}});}function b(b){var f;f=Object[b];f&&(Object[b]=function(b){a(b);return f(b);});}if(function(){var a,b,c;if(!g||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});c=new g([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c["delete"](a);c.set(b,4);return!c.has(a)&&4==c.get(b);}catch(m){return!1;}}())return g;c="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");h=0;d.prototype.set=function(b,f){a(b);if(!xb(b,c))throw Error("WeakMap key fail: "+b);b[c][this.SI]=f;return this;};d.prototype.get=function(a){return xb(a,c)?a[c][this.SI]:void 0;};d.prototype.has=function(a){return xb(a,c)&&xb(a[c],this.SI);};d.prototype["delete"]=function(a){return xb(a,c)&&xb(a[c],this.SI)?delete a[c][this.SI]:!1;};return d;});Va("Map",function(g){var h,l;function d(){var a;a={};return a.Gh=a.next=a.head=a;}function a(a,b){var f;f=a.Or;return Hd(function(){if(f){for(;f.head!=a.Or;)f=f.Gh;for(;f.next!=f.head;)return f=f.next,{done:!1,value:b(f)};f=null;}return{done:!0,value:void 0};});}function b(a,b){var f,c,d;f=b&&typeof b;"object"==f||"function"==f?h.has(b)?f=h.get(b):(f=""+ ++l,h.set(b,f)):f="p_"+b;c=a.pu[f];if(c&&xb(a.pu,f))for(a=0;a<c.length;a++){d=c[a];if(b!==b&&d.key!==d.key||b===d.key)return{id:f,list:c,index:a,Md:d};}return{id:f,list:c,index:-1,Md:void 0};}function c(a){this.pu={};this.Or=d();this.size=0;if(a){a=za(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}if(function(){var a,b,c,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(za([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||"s"!=d.value[1])return!1;d=c.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!c.next().done?!1:!0;}catch(u){return!1;}}())return g;La();Za();h=new WeakMap();c.prototype.set=function(a,c){var f;f=b(this,a);f.list||(f.list=this.pu[f.id]=[]);f.Md?f.Md.value=c:(f.Md={next:this.Or,Gh:this.Or.Gh,head:this.Or,key:a,value:c},f.list.push(f.Md),this.Or.Gh.next=f.Md,this.Or.Gh=f.Md,this.size++);return this;};c.prototype["delete"]=function(a){a=b(this,a);return a.Md&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.pu[a.id],a.Md.Gh.next=a.Md.next,a.Md.next.Gh=a.Md.Gh,a.Md.head=null,this.size--,!0):!1;};c.prototype.clear=function(){this.pu={};this.Or=this.Or.Gh=d();this.size=0;};c.prototype.has=function(a){return!!b(this,a).Md;};c.prototype.get=function(a){return(a=b(this,a).Md)&&a.value;};c.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};c.prototype.keys=function(){return a(this,function(a){return a.key;});};c.prototype.values=function(){return a(this,function(a){return a.value;});};c.prototype.forEach=function(a,b){for(var f=this.entries(),c;!(c=f.next()).done;)c=c.value,a.call(b,c[1],c[0],this);};c.prototype[Symbol.iterator]=c.prototype.entries;l=0;return c;});Va("Set",function(g){function d(a){this.Ap=new Map();if(a){a=za(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.Ap.size;}if(function(){var a,b,c,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(za([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=c.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:c.next().done;}catch(l){return!1;}}())return g;La();Za();d.prototype.add=function(a){this.Ap.set(a,a);this.size=this.Ap.size;return this;};d.prototype["delete"]=function(a){a=this.Ap["delete"](a);this.size=this.Ap.size;return a;};d.prototype.clear=function(){this.Ap.clear();this.size=0;};d.prototype.has=function(a){return this.Ap.has(a);};d.prototype.entries=function(){return this.Ap.entries();};d.prototype.values=function(){return this.Ap.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var c;c=this;this.Ap.forEach(function(d){return a.call(b,d,d,c);});};return d;});Va("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});Va("Array.prototype.find",function(g){return g?g:function(d,a){return Id(this,d,a).MV;};});Va("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Va("Array.prototype.entries",function(g){return g?g:function(){return Yc(this,function(d,a){return[d,a];});};});Va("String.prototype.repeat",function(g){return g?g:function(d){var a;a=wc(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});Va("String.prototype.endsWith",function(g){return g?g:function(d,a){var b;b=wc(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var c=d.length;0<c&&0<a;)if(b[--a]!=d[--c])return!1;return 0>=c;};});Va("Array.prototype.findIndex",function(g){return g?g:function(d,a){return Id(this,d,a).ei;};});Va("String.prototype.startsWith",function(g){return g?g:function(d,a){var b,c,h;b=wc(this,d,"startsWith");d+="";c=b.length;h=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var l=0;l<h&&a<c;)if(b[a++]!=d[l++])return!1;return l>=h;};});Va("Array.prototype.values",function(g){return g?g:function(){return Yc(this,function(d,a){return a;});};});Va("Array.prototype.fill",function(g){return g?g:function(d,a,b){var c;c=this.length||0;0>a&&(a=Math.max(0,c+a));if(null==b||b>c)b=c;b=Number(b);0>b&&(b=Math.max(0,c+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(g){var a;function d(b){var c;if(a[b])return a[b].M;c=a[b]={ei:b,Xcb:!1,M:{}};g[b].call(c.M,c,c.M,d);c.Xcb=!0;return c.M;}a={};d.cGb=g;d.cCb=a;d.d=function(a,c,h){d.chb(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:h});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.fia?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.chb=function(a,c){return Object.prototype.hasOwnProperty.call(a,c);};d.p="";return d(d.$Hb=1036);}([function(g,d,a){function b(){b=Object.assign||function(a){for(var b,f=1,c=arguments.length;f<c;f++){b=arguments[f];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);}return a;};return b.apply(this,arguments);}function c(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return c(a,b);}function h(a,b){function f(){this.constructor=a;}c(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());}function l(a,b){var f,c,d;f={};for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&0>b.indexOf(c)&&(f[c]=a[c]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){d=0;for(c=Object.getOwnPropertySymbols(a);d<c.length;d++)0>b.indexOf(c[d])&&Object.prototype.propertyIsEnumerable.call(a,c[d])&&(f[c[d]]=a[c[d]]);}return f;}function f(a,b,f,c){var d,p,m;d=arguments.length;p=3>d?b:null===c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object"===typeof Reflect&&"function"===typeof Reflect.qu)p=Reflect.qu(a,b,f,c);else for(var q=a.length-1;0<=q;q--)if(m=a[q])p=(3>d?m(p):3<d?m(b,f,p):m(b,f))||p;return 3<d&&p&&Object.defineProperty(b,f,p),p;}function p(a,b){return function(f,c){b(f,c,a);};}function m(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Bc)return Reflect.Bc(a,b);}function q(a,b,f,c){return new(f||(f=Promise))(function(d,p){function m(a){try{l(c.next(a));}catch(Q){p(Q);}}function q(a){try{l(c["throw"](a));}catch(Q){p(Q);}}function l(a){a.done?d(a.value):new f(function(b){b(a.value);}).then(m,q);}l((c=c.apply(a,b||[])).next());});}function u(a,b){var d,p,m,q,l;function f(a){return function(b){return c([a,b]);};}function c(f){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,m&&(q=f[0]&2?m["return"]:f[0]?m["throw"]||((q=m["return"])&&q.call(m),0):m.next)&&!(q=q.call(m,f[1])).done)return q;if(m=0,q)f=[f[0]&2,q.value];switch(f[0]){case 0:case 1:q=f;break;case 4:return d.label++,{value:f[1],done:!1};case 5:d.label++;m=f[1];f=[0];continue;case 7:f=d.Vy.pop();d.Jz.pop();continue;default:if(!(q=d.Jz,q=0<q.length&&q[q.length-1])&&(6===f[0]||2===f[0])){d=0;continue;}if(3===f[0]&&(!q||f[1]>q[0]&&f[1]<q[3]))d.label=f[1];else if(6===f[0]&&d.label<q[1])d.label=q[1],q=f;else if(q&&d.label<q[2])d.label=q[2],d.Vy.push(f);else{q[2]&&d.Vy.pop();d.Jz.pop();continue;}}f=b.call(a,d);}catch(Q){f=[6,Q];m=0;}finally{p=q=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}d={label:0,NU:function(){if(q[0]&1)throw q[1];return q[1];},Jz:[],Vy:[]};La();La();Za();return l={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;}function x(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function v(a){var b,f;La();La();Za();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function z(a,b){var f,c,d,p;La();La();Za();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);d=[];try{for(;(void 0===b||0<b--)&&!(c=a.next()).done;)d.push(c.value);}catch(Y){p={error:Y};}finally{try{c&&!c.done&&(f=a["return"])&&f.call(a);}finally{if(p)throw p.error;}}return d;}function w(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(z(arguments[b]));return a;}function D(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),c=0,b=0;b<f;b++)for(var d=arguments[b],p=0,m=d.length;p<m;p++,c++)a[c]=d[p];return a;}function y(a){return this instanceof y?(this.MV=a,this):new y(a);}function E(a,b,f){var l,h,g;function c(a){l[a]&&(h[a]=function(b){return new Promise(function(f,c){1<g.push([a,b,f,c])||d(a,b);});});}function d(a,b){var f;try{f=l[a](b);f.value instanceof y?Promise.resolve(f.value.MV).then(p,m):q(g[0][2],f);}catch(ta){q(g[0][3],ta);}}function p(a){d("next",a);}function m(a){d("throw",a);}function q(a,b){(a(b),g.shift(),g.length)&&d(g[0][0],g[0][1]);}La();if(!Symbol.HP)throw new TypeError("Symbol.asyncIterator is not defined.");l=f.apply(a,b||[]);g=[];La();return h={},c("next"),c("throw"),c("return"),h[Symbol.HP]=function(){return this;},h;}function k(a){var f,c;function b(b,d){f[b]=a[b]?function(f){return(c=!c)?{value:y(a[b](f)),done:"return"===b}:d?d(f):f;}:d;}La();Za();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function G(a){var c,d;function b(b){d[b]=a[b]&&function(c){return new Promise(function(d,p){c=a[b](c);f(d,p,c.done,c.value);});};}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}La();if(!Symbol.HP)throw new TypeError("Symbol.asyncIterator is not defined.");La();c=a[Symbol.HP];La();Za();La();return c?c.call(a):(a="function"===typeof v?v(a):a[Symbol.iterator](),d={},b("next"),b("throw"),b("return"),d[Symbol.HP]=function(){return this;},d);}function la(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function L(a){var b;if(a&&a.fia)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function O(a){return a&&a.fia?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return h;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return l;});a.d(d,"__decorate",function(){return f;});a.d(d,"__param",function(){return p;});a.d(d,"__metadata",function(){return m;});a.d(d,"__awaiter",function(){return q;});a.d(d,"__generator",function(){return u;});a.d(d,"__exportStar",function(){return x;});a.d(d,"__values",function(){return v;});a.d(d,"__read",function(){return z;});a.d(d,"__spread",function(){return w;});a.d(d,"__spreadArrays",function(){return D;});a.d(d,"__await",function(){return y;});a.d(d,"__asyncGenerator",function(){return E;});a.d(d,"__asyncDelegator",function(){return k;});a.d(d,"__asyncValues",function(){return G;});a.d(d,"__makeTemplateObject",function(){return la;});a.d(d,"__importStar",function(){return L;});a.d(d,"__importDefault",function(){return O;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(32);d.exb=g;g=a(1033);d.WE=g.WE;g=a(80);d.dn=g.dn;d.jh=g.jh;d.Dq=g.Dq;g=a(1017);d.Mba=g.Mba;d.Xb=g.Xb;g=a(1016);d.N=g.N;g=a(1015);d.NAa=g.NAa;g=a(1014);d.Pva=g.Pva;g=a(470);d.l=g.l;d.PX=g.PX;g=a(1013);d.optional=g.optional;g=a(1012);d.Hg=g.Hg;g=a(1011);d.Iy=g.Iy;g=a(1010);d.vL=g.vL;g=a(1009);d.vxa=g.vxa;g=a(472);d.$X=g.$X;g=a(103);d.id=g.id;g=a(89);d.qu=g.qu;g=a(467);d.qBa=g.qBa;d.OAa=g.OAa;d.Qva=g.Qva;d.vBa=g.vBa;g=a(138);d.IC=g.IC;a=a(1008);d.Nva=a.Nva;},function(g,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Qh=7001]="UNKNOWN";a[a.lQa=7002]="UNHANDLED_EXCEPTION";a[a.jIa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Jda=7010]="INIT_ASYNCCOMPONENT";a[a.eea=7011]="INIT_HTTP";a[a.hIa=7014]="INIT_BADMOVIEID";a[a.wIa=7016]="INIT_NETFLIXID_MISSING";a[a.vIa=7017]="INIT_NETFLIXID_INVALID";a[a.yIa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.fea=7020]="INIT_PLAYBACK_LOCK";a[a.gea=7022]="INIT_SESSION_LOCK";a[a.xIa=7029]="INIT_POSTAUTHORIZE";a[a.ywb=7031]="INIT_HEADER_MEDIA";a[a.gwb=7032]="HEADER_MISSING";a[a.fwb=7033]="HEADER_FRAGMENTS_MISSING";a[a.zIa=7034]="INIT_TIMEDTEXT_TRACK";a[a.zwb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Awb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.DCa=7037]="ASE_SESSION_ERROR";a[a.sIa=7041]="INIT_CORE_OBJECTS1";a[a.tIa=7042]="INIT_CORE_OBJECTS2";a[a.uIa=7043]="INIT_CORE_OBJECTS3";a[a.Wda=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Nda=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Xda=7053]="INIT_COMPONENT_STORAGE";a[a.Yda=7054]="INIT_COMPONENT_STORAGELOCK";a[a.Rda=7055]="INIT_COMPONENT_LOGPERSIST";a[a.twb=7056]="INIT_COMPONENT_NRDDPI";a[a.vwb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Sda=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.IX=7059]="INIT_COMPONENT_DEVICE";a[a.uwb=7062]="INIT_COMPONENT_NTBA";a[a.Tda=7063]="INIT_COMPONENT_MSL";a[a.Mda=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Qda=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Rs=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.wwb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.RM=7069]="INIT_COMPONENT_ACCOUNT";a[a.lIa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.nIa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.oIa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.pIa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.qIa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.kIa=7081]="INIT_COMPONENT_NRDP";a[a.mIa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.cea=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.$da=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.dea=7085]="INIT_CONGESTION_SERVICE";a[a.Pda=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Zda=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Lda=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Kda=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.xwb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.bA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.iIa=7092]="INIT_COMPONENT_DRM";a[a.Uda=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Oda=7094]="INIT_COMPONENT_FTL";a[a.Vda=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.aea=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.rIa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.bea=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.OCa=7112]="AUTHORIZE_UNKNOWN";a[a.DJa=7117]="MANIFEST_VERIFY";a[a.$ga=7120]="START";a[a.fw=7121]="LICENSE";a[a.yOa=7122]="SECURESTOP";a[a.cha=7123]="STOP";a[a.Vvb=7124]="FPSAPPDATA";a[a.OX=7125]="KEEPALIVE";a[a.Fub=7126]="DEACTIVATE";a[a.Yzb=7127]="SYNC_DEACTIVATE_LINKS";a[a.itb=7130]="ACTIVATE";a[a.mY=7131]="PING";a[a.nfa=7133]="NETFLIXID";a[a.OGa=7134]="ENGAGE";a[a.rF=7135]="LOGIN";a[a.mN=7136]="SWITCH_PROFILES";a[a.eJa=7137]="LOGBLOB";a[a.Hfa=7138]="PAUSE";a[a.Pga=7139]="RESUME";a[a.Zga=7140]="SPLICE";a[a.Qub=7141]="DOWNLOAD_EVENT";a[a.qDa=7142]="BIND";a[a.wLa=7143]="PAIR";a[a.tMa=7202]="PLAY_INIT_EXCEPTION";a[a.$wb=7301]="MEDIA_DOWNLOAD";a[a.Ayb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.Byb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Mfa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.zMa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Nfa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.AMa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.Pfa=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Ofa=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Lfa=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.nY=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.pY=7355]="PLAY_MSE_SOURCEADD";a[a.uMa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.EMa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.Gyb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.zyb=7359]="PLAY_MSE_ADDKEY";a[a.Jyb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.DMa=7361]="PLAY_MSE_EVENT_ERROR";a[a.oY=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.eN=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.CMa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.FMa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.GMa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.HMa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.Hyb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.LMa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.KMa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.JMa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.Iyb=7379]="PLAY_MSE_SOURCE_EOS";a[a.IMa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.Fyb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.vMa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.wMa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.xMa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.Dyb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.BMa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.Cyb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.Eyb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.yMa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Qfa=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.TGa=7400]="EXTERNAL";a[a.dN=7500]="PAUSE_TIMEOUT";a[a.PM=7502]="INACTIVITY_TIMEOUT";a[a.NCa=7510]="AUTHORIZATION_EXPIRED";a[a.Hub=7520]="DECRYPT_AUDIO";a[a.Xga=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.zOa=7601]="SECURE_STOP_KEY_ERROR";a[a.Kzb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.vzb=7603]="SECURE_STOP_NCCP_ERROR";a[a.wzb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.Jzb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.Azb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.AOa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.Bzb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.Czb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.EY=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.xzb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.Dzb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.Gzb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.Ezb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.zzb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.Izb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.Fzb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.yzb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.Hzb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.JGa=7700]="EME_INVALID_KEYSYSTEM";a[a.Yca=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.Xca=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Zca=7703]="EME_GENERATEREQUEST_FAILED";a[a.yM=7704]="EME_UPDATE_FAILED";a[a.hvb=7705]="EME_KEYSESSION_ERROR";a[a.svb=7706]="EME_NO_KEYMESSAGE";a[a.cda=7707]="EME_REMOVE_FAILED";a[a.LGa=7708]="EME_LOAD_FAILED";a[a.GGa=7709]="EME_CREATE_SESSION_FAILED";a[a.jvb=7710]="EME_LDL_RENEWAL_ERROR";a[a.$ca=7711]="EME_INVALID_INITDATA_DATA";a[a.ada=7712]="EME_INVALID_LICENSE_DATA";a[a.KGa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.kvb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.bda=7715]="EME_INVALID_SECURESTOP_DATA";a[a.FGa=7716]="EME_CLOSE_FAILED";a[a.rMa=7800]="PLAYDATA_STORE_FAILURE";a[a.yyb=7801]="PLAYDATA_SEND_FAILURE";a[a.RE=7900]="BRANCH_PLAY_FAILURE";a[a.Vv=7901]="BRANCH_QUEUE_FAILURE";a[a.Pba=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.Pxb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.Qxb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.ELa=8100]="PBO_EVENTLOOKUP_FAILURE";}(a=d.I||(d.I={})));(function(a){a[a.Qh=1001]="UNKNOWN";a[a.pg=1003]="EXCEPTION";a[a.DIa=1004]="INVALID_DI";a[a.HCa=1011]="ASYNCLOAD_EXCEPTION";a[a.ICa=1013]="ASYNCLOAD_TIMEOUT";a[a.ECa=1015]="ASYNCLOAD_BADCONFIG";a[a.FCa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.GCa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.aA=1101]="HTTP_UNKNOWN";a[a.FX=1102]="HTTP_XHR";a[a.kF=1103]="HTTP_PROTOCOL";a[a.jF=1104]="HTTP_OFFLINE";a[a.lF=1105]="HTTP_TIMEOUT";a[a.dw=1106]="HTTP_READTIMEOUT";a[a.Qs=1107]="HTTP_ABORT";a[a.BX=1108]="HTTP_PARSE";a[a.zda=1110]="HTTP_BAD_URL";a[a.$z=1111]="HTTP_PROXY";a[a.Nea=1203]="MSE_AUDIO";a[a.Oea=1204]="MSE_VIDEO";a[a.RJa=1250]="MSE_MEDIA_ERR_BASE";a[a.ixb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.lxb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.jxb=1253]="MSE_MEDIA_ERR_DECODE";a[a.mxb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.kxb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.Wz=1260]="EME_MEDIA_KEYERR_BASE";a[a.qvb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.lvb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.pvb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.ovb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.nvb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.mvb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.rvb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.IGa=1280]="EME_ERROR_NODRMSESSSION";a[a.HGa=1281]="EME_ERROR_NODRMREQUESTS";a[a.fvb=1282]="EME_ERROR_INDIV_FAILED";a[a.gvb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.NGa=1284]="EME_TIMEOUT_MESSAGE";a[a.MGa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.NW=1286]="EME_UNDEFINED_DATA";a[a.$E=1287]="EME_INVALID_STATE";a[a.ivb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.MW=1289]="EME_EMPTY_DATA";a[a.aF=1290]="EME_TIMEOUT";a[a.Exb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.Hxb=1305]="NCCP_PARSEXML";a[a.UMa=1309]="PROCESS_EXCEPTION";a[a.Gxb=1311]="NCCP_NETFLIXID_MISSING";a[a.Ixb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.Bxb=1313]="NCCP_HMAC_MISSING";a[a.Axb=1315]="NCCP_HMAC_MISMATCH";a[a.zxb=1317]="NCCP_HMAC_FAILED";a[a.yxb=1321]="NCCP_CLIENTTIME_MISSING";a[a.xxb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.tda=1331]="GENERIC";a[a.RKa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.SKa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.Jxb=1341]="NCCP_TRANSACTION";a[a.Cxb=1343]="NCCP_INVALID_DRMTYPE";a[a.Dxb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.Fxb=1345]="NCCP_MISSING_PAYLOAD";a[a.Xfa=1346]="PROTOCOL_NOT_INITIALIZED";a[a.Qyb=1347]="PROTOCOL_MISSING_FIELD";a[a.VMa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.cm=1402]="STORAGE_NODATA";a[a.Qzb=1403]="STORAGE_EXCEPTION";a[a.gha=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.hha=1407]="STORAGE_QUOTA_TO_SMALL";a[a.fha=1411]="STORAGE_LOAD_ERROR";a[a.UOa=1412]="STORAGE_LOAD_TIMEOUT";a[a.iha=1414]="STORAGE_SAVE_ERROR";a[a.XOa=1415]="STORAGE_SAVE_TIMEOUT";a[a.JY=1417]="STORAGE_DELETE_ERROR";a[a.dha=1418]="STORAGE_DELETE_TIMEOUT";a[a.eha=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.SOa=1423]="STORAGE_FS_GETDIRECTORY";a[a.TOa=1425]="STORAGE_FS_READENTRIES";a[a.POa=1427]="STORAGE_FS_FILEREAD";a[a.ROa=1429]="STORAGE_FS_FILEWRITE";a[a.QOa=1431]="STORAGE_FS_FILEREMOVE";a[a.Rzb=1432]="STORAGE_FS_PARSEJSON";a[a.WOa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.VOa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.Wxb=1501]="NTBA_UNKNOWN";a[a.Vxb=1502]="NTBA_EXCEPTION";a[a.Rxb=1504]="NTBA_CRYPTO_KEY";a[a.Txb=1506]="NTBA_CRYPTO_OPERATION";a[a.Sxb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.Uxb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Bca=1553]="DEVICE_NO_ESN";a[a.xW=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Tfa=1603]="PLUGIN_LOAD_MISSING";a[a.Rfa=1605]="PLUGIN_LOAD_ERROR";a[a.Ufa=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Sfa=1609]="PLUGIN_LOAD_EXCEPTION";a[a.PMa=1625]="PLUGIN_EXCEPTION";a[a.MMa=1627]="PLUGIN_CALLBACK_ERROR";a[a.NMa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.pHa=1701]="FORMAT_UNKNOWN";a[a.mda=1713]="FORMAT_XML";a[a.qHa=1715]="FORMAT_XML_CONTENT";a[a.oHa=1721]="FORMAT_BASE64";a[a.CM=1723]="FORMAT_DFXP";a[a.VHa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Hda=1802]="INDEXDB_NOT_SUPPORTED";a[a.UHa=1803]="INDEXDB_OPEN_ERROR";a[a.Ida=1804]="INDEXDB_OPEN_NULL";a[a.THa=1805]="INDEXDB_OPEN_BLOCKED";a[a.WHa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.SHa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.QM=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.$Ja=1901]="MSL_UNKNOWN";a[a.TJa=1911]="MSL_INIT_NO_MSL";a[a.Tea=1913]="MSL_INIT_ERROR";a[a.UJa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.Qea=1931]="MSL_ERROR";a[a.ZJa=1933]="MSL_REQUEST_TIMEOUT";a[a.YJa=1934]="MSL_READ_TIMEOUT";a[a.SJa=1935]="MSL_ERROR_HEADER";a[a.vF=1936]="MSL_ERROR_ENVELOPE";a[a.Rea=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Sea=1957]="MSL_ERROR_REAUTH";a[a.$Y=2103]="WEBCRYPTO_MISSING";a[a.BQa=2105]="WEBCRYPTOKEYS_MISSING";a[a.CQa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.lub=2200]="CACHEDDATA_PARSEJSON";a[a.$ba=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.mub=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Ks=2203]="CACHEDDATA_INVALID_FORMAT";a[a.oba=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.uCa=3001]="ACCOUNT_INVALID";a[a.Pub=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.Oub=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.Mub=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.Nub=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.Lub=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.Szb=3300]="STORAGE_VA_LOAD_ERROR";a[a.Tzb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.Wzb=3302]="STORAGE_VA_SAVE_ERROR";a[a.Xzb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.Uzb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.Vzb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.lY=3077]="PBO_DEVICE_EOL_WARNING";a[a.Ifa=3078]="PBO_DEVICE_EOL_FINAL";a[a.LLa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.zLa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.DLa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Jfa=5007]="PBO_INCORRECT_PIN";a[a.JLa=5008]="PBO_MOBILE_ONLY";a[a.FLa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.BLa=5059]="PBO_BLACKLISTED_IP";a[a.ALa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.CLa=5080]="PBO_CHOICE_MAP_ERROR";a[a.KLa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.HLa=5091]="PBO_MALFORMED_REQUEST";a[a.GLa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.ILa=5093]="PBO_MDX_INVALID_CTICKET";a[a.cFa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.dFa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.ZFa=5200]="DOWNLOADER_IO_ERROR";a[a.Oba=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.vDa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.ztb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.iW=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.rDa=5304]="BRANCHING_ASE_FAILURE";a[a.tDa=5305]="BRANCHING_MOMENT_FAILURE";a[a.sDa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.ytb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.wDa=5308]="BRANCHING_SEEK_THREW";a[a.xtb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.uDa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.xDa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.yDa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(b=d.H||(d.H={})));(function(a){a[a.Ktb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Atb=5005]="BR_ACCOUNT_ON_HOLD";a[a.Etb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Htb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.Dtb=5059]="BR_BLACKLISTED_IP";a[a.Btb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.Itb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.Ftb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.Jtb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.Gtb=2207]="BR_ENDPOINT_ERROR";a[a.Ctb=2208]="BR_AUTHORIZATION_ERROR";}(d.eHa||(d.eHa={})));d.GX={DDa:"400",CAb:"401",Zfa:"413"};d.aY={Tvb:1,oAb:2,vvb:3,BAb:4,Twb:5,uvb:6,WY:7,SGa:8,nzb:9,Nzb:10};(function(a){a[a.xLa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.yLa=98]="PAIRING_UNKNOWN_ERROR";}(d.VX||(d.VX={})));d.Cvb=function(a){return 7100<=a&&7200>a;};d.dHa=function(b){return b==a.dN||b==a.PM;};d.gHa=function(a){return 1100<=a&&1199>=a;};d.Evb=function(a){return 1300<=a&&1399>=a;};d.Dvb=function(a){return 1900<=a&&1999>=a;};d.gda=function(a,b){return 1<=a&&9>=a?b+a:b;};d.hHa=function(a){return d.gda(a,b.RJa);};d.hda=function(a){return d.gda(a,b.Wz);};d.hn=function(a){var d,c,f;d={};c=a.errorExternalCode||a.jc;f=a.errorDetails||a.Ja;d.ErrorSubCode=a.errorSubCode||a.T||b.Qh;c&&(d.ErrorExternalCode=c);f&&(d.ErrorDetails=f);return d;};},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(473);g=a(7);c=a(26);h=a(97);l=a(99);f=a(44);p=a(18);m=a(63);q=a(256);d.rib=q.m9;d.Sl=b.Nc.get(h.Ew);d.dCa=d.Sl.encode.bind(d.Sl);d.lsb=d.Sl.decode.bind(d.Sl);d.Wg=b.Nc.get(l.Wv);d.NBb=d.Wg.encode.bind(d.Wg);d.MBb=d.Wg.decode.bind(d.Wg);d.Hma=d.Wg.uI.bind(d.Wg);d.OBb=d.Wg.jBa.bind(d.Wg);d.Pd=b.Nc.get(f.kj);d.N0=function(a){a=p.Sd(a)?d.lsb(a):a;return d.Pd.encode(a);};d.Bn=d.Pd.decode.bind(d.Pd);d.OYa=function(a){return d.dCa(d.Bn(a));};d.zPa=a(513);d.zC=function(){return b.Nc.get(c.IW);};d.$e=b.Nc.get(g.rb);d.log=d.$e.lb("General");d.yd=function(a,b){return d.$e.lb(a,void 0,b);};d.qf=function(a,b){return d.$e.lb(b,a,void 0);};d.zR=function(a,b,f,c){return d.$e.lb(a,void 0,c,b,f);};d.rw=function(a,f){return b.Nc.get(m.Rj)(a,f,void 0).Daa();};d.da=b.Nc;},function(g,d,a){var h;function b(a){return h.sN.apply(this,arguments)||this;}function c(a){return new h.Jo(a,d.Ba);}Object.defineProperty(d,"__esModule",{value:!0});h=a(465);ia(b,h.sN);d.uAb=b;d.pGb=function(a){return new h.Jo(a,d.jA);};d.Hjb=function(a){return new h.Jo(a*d.dm.ve,d.jA);};d.xb=c;d.Ih=function(a){return new h.Jo(a,d.dm);};d.S7=function(a){return new h.Jo(a,d.gfa);};d.fFb=function(a){return new h.Jo(a,d.MHa);};d.timestamp=function(a){return c(a);};d.jA=new b(1,"\u03bcs");d.Ba=new b(1E3,"ms",d.jA);d.dm=new b(1E3*d.Ba.ve,"s",d.jA);d.gfa=new b(60*d.dm.ve,"min",d.jA);d.MHa=new b(60*d.gfa.ve,"hr",d.jA);d.Rf=c(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof A?{}:A;d.nj=g.navigator||{};d.Vk=d.nj.userAgent;d.ZM=g.location;d.uq=g.screen;d.tq=g.performance;d.ud=g.document||{};d.Lxb=d.ud.documentElement;d.Vt=Array.prototype;d.sort=d.Vt.sort;d.map=d.Vt.map;d.slice=d.Vt.slice;d.every=d.Vt.every;d.reduce=d.Vt.reduce;d.filter=d.Vt.filter;d.forEach=d.Vt.forEach;d.pop=d.Vt.pop;d.EF=Object.create;d.oLa=Object.keys;d.vM=Date.now;d.vPa=String.fromCharCode;d.rq=Math.floor;d.lKa=Math.ceil;d.Tf=Math.round;d.Uk=Math.max;d.mj=Math.min;d.xF=Math.random;d.wF=Math.abs;d.Yea=Math.pow;d.mKa=Math.sqrt;d.fY=g.escape;d.gY=g.unescape;d.URL=g.URL||g.webkitURL;d.lA=g.MediaSource||g.WebKitMediaSource;d.AF=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.pw=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.Ix=d.pw&&(d.pw.webkitSubtle||d.pw.subtle);d.eY=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;d.PERSISTENT=g.PERSISTENT;d.TEMPORARY=g.TEMPORARY;d.XKa=g.requestFileSystem||g.webkitRequestFileSystem;d.pfa=g.Blob;d.$M=d.nj.persistentStorage||d.nj.webkitPersistentStorage;d.qfa=d.$M?void 0:g.storageInfo||g.webkitStorageInfo;try{d.indexedDB=g.indexedDB;}catch(a){d.qFb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.jua=a||"noex";}},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qb=function(){};d.jOa=function(){return!0;};d.Fb={S:!0};d.Pj=1E3;d.tzb=86400;d.uzb=604800;d.axb=1E4;d.bxb=1E7;d.FAb=1.5;d.Rwb=.128;d.wtb=7.8125;d.Mtb=128;d.iw=145152E5;d.FJa=1E5;d.iY="$netflix$player$order";d.nA=-1;d.jY=1;d.lFa=["en-US"];d.Ntb=8;d.GJa=65535;d.Mzb=65536;d.ayb=Number.MAX_VALUE;d.LW="playready";d.Sca="widevine";d.evb="fps";d.BGa="clearkey";d.iA='audio/mp4; codecs="mp4a.40.5"';d.IJa='audio/mp4; codecs="mp4a.a6"';d.Zs='video/mp4; codecs="avc1.640028"';d.dxb='video/mp4; codecs="hev1.2.6.L153.B0"';d.cxb='video/mp4; codecs="dvhe.01000000"';d.zGa="9A04F079-9840-4286-AB92-E65BE0885F95";d.cvb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.dvb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.aub=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.QDa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.bub="4E657466-6C69-7846-7261-6D6552617465";d.cub="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.Xtb="mp4a";d.ODa="enca";d.Utb="ec-3";d.Stb="avc1";d.PDa="encv";d.Wtb="hvcC";d.Vtb="hev1";d.Ttb="dvhe";d.Ytb="vp09";d.RX=0;d.uF=1;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Nh||(d.Nh={});g[g.nHa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.Zha=2]="WARN";g[g.HX=3]="INFO";g[g.RY=4]="TRACE";g[g.kq=5]="DEBUG";d.Fea="LogFieldBuilderFactorySymbol";d.rb="LoggerFactorySymbol";d.$v={};},function(g){g.M={VI:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g,d,a){var h,l,f,p,m,q,u,x,v,z,w,D,y,E,k;function b(a){return(a=d.config.trb[c(a)])?a:{};}function c(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";}}Object.defineProperty(d,"__esModule",{value:!0});h=a(6);l=a(29);f=a(3);p=a(52);m=a(12);q=a(18);u=a(33);x=a(26);v=a(72);z=a(17);a(7);w=a(5);D=a(21);y=a(95);E=a(15);k=a(209);d.b0a=function(a){var ma,ta,ga,Ga,Da,tb,ib,Ma,sc,F;function b(a,f){z.pc(a,function(a,c){E.qb(c)?f[a]=c.call(void 0,f[a]):E.pe(c)&&(f[a]=f[a]||{},b(c,f[a]));});}function c(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];return function(b){E.ab(b)&&(f[1]=b);m.wa(E.qb(a));return a.apply(void 0,f);};}function g(a){a=a.toLowerCase();Ga.hasOwnProperty(a)&&(ga[a]=Ga[a],Da[a]=Ga[a]);return a;}function G(a,b,c){var d;a=a.toLowerCase();if(ga.hasOwnProperty(a)){d=ga[a];try{d=c?c(d):d;}catch(hb){d=void 0;}if(void 0!==d)return d;m.wa(!1);f.log.error("Invalid configuration value. Name: "+a);}return b;}function P(a,b,f,c){return G(a,b,function(a){E.Sd(a)&&(a=z.Ad(a));if(E.ocb(a,f,c))return a;});}function n(a,b,f,c){return G(a,b,function(a){E.Sd(a)&&(a=z.Ad(a));if(E.Ou(a,f,c))return a;});}function r(a,b,f,c){return G(a,b,function(a){E.Sd(a)&&(a=parseFloat(a));if(E.ka(a,f,c))return a;});}function U(a,b,f){return G(a,b,function(a){if(f?f.test(a):E.Sd(a))return a;});}function H(a,b){return G(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function Y(a,b){return G(a,b,function(a){if(E.Sd(a))return JSON.parse(w.gY(a));if(E.pe(a))return a;});}function aa(a,b,f,c,d,p){var m;a=a.toLowerCase();ga.hasOwnProperty(a)&&(m=ga[a]);if(!E.ab(m))return b;if(E.Sd(m))if(m[0]!==f)m=c(m);else try{m=JSON.parse(w.gY(m));}catch(sb){m=void 0;}if(void 0===m)return b;for(a=0;a<d.length;a++)if(!d[a](m))return b;return p?p(m):m;}function t(a,b,f,c,d){return aa(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=z.Ad(a[b]);return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.Ou(a[b],f,c))return!1;return!0;},function(a){return void 0===d||a.length>=d;}]);}function Z(a,b){return aa(a,b,"[",function(a){a=E.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(w.gY(a[b]));}catch(hb){a=void 0;break;}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.ab(a[b])||!E.pe(a[b]))return!1;return!0;}]);}function Q(a,b,f,c){return aa(a,b,"[",function(a){return E.isArray(a)?a:a.split("|");},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(f?!f.test(a[b]):!E.Pu(a[b]))return!1;return!0;},function(a){return void 0===c||a.length>=c;}]);}function ka(a,b,f){return aa(a,b,"{",function(a){var b,c,d;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];d=c.indexOf(":");if(0>=d)return;b[c.substring(0,d)]=c.substring(d+1);}return b;},[function(a){return E.pe(a)&&0<Object.keys(a).length;},function(a){if(f)for(var b in a)if(!f.test(a[b]))return!1;return!0;}],function(a){var f;f={};z.La(f,b);z.La(f,a);return f;});}function fa(a){var b;b=[];z.pc(a,function(a,f){var c;try{c="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Qa){c="cantparse";}b.push(a+"="+c);});return b.join("\n");}ma=/^[0-9]+[%]?$/;ta=/^[0-9]*$/;Da={};tb=!0;ib=!0;Ma=f.da.get(p.Xl);(function(){var c;function b(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(ga[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}ga={};z.La(ga,u.qMa);a&&a.length&&w.forEach.call(a,function(a){E.Sd(a)?b(a):E.pe(a)&&z.La(ga,a,{jD:!0});});Ga=z.La({},l.L4(),{jD:!0});c=l.Nkb().cadmiumconfig;c&&(f.log.info("Config cookie loaded",c),b(c));if(u.vCa||ga.istestaccount)z.La(ga,Ga),Da=Ga;"clearkey"!=U("drmType")||ga.keysystemid||(ga.keysystemid=(A.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};sc={V2:function(a){return H(g("enableDDPlus20"),q.ag(a,!0));},U2:function(a){return H(g("enableDDPlus"),q.ag(a,!0));},YH:c(H,g("enableDDPlusAtmos"),!1),FDb:function(a){return tb=H(g("enableLSSDH"),q.ag(a,!0));},m5a:function(a){return H(g("enableHEVC"),q.ag(a,!1));},Owa:function(a){return H(g("overrideEnableHEVC"),q.ag(a,!1));},l5a:function(a){return H(g("enableHDR"),q.ag(a,!1));},Nwa:function(a){return H(g("overrideEnableHDR"),q.ag(a,!1));},y5a:function(a){return H(g("enableVP9"),q.ag(a,!1));},Pwa:function(a){return H(g("overrideEnableVP9"),q.ag(a,!1));},i5a:function(a){return H(g("enableAV1"),q.ag(a,!1));},Mwa:function(a){return H(g("overrideEnableAV1"),q.ag(a,!1));},s5a:function(a){return H(g("enablePRK"),q.ag(a,!1));},n5a:function(a){return H(g("enableHWDRM"),q.ag(a,!1));},EDb:function(a){return ib=H(g("enableImageSubs"),q.ag(a,!0));},JP:function(a){return Q("audioProfiles",q.ag(a,u.RLa));},vDb:function(a){return H("disableHD",q.ag(a,!1));},PV:c(n,"videoCapabilityDetectorType",x.pj.Zv),F0:c(n,"audioCapabilityDetectorType",x.Uv.Zv),QV:function(a){return Q("videoProfiles",q.ag(a,u.oMa));},ys:function(a){return Q("timedTextProfiles",q.ag(a,u.jMa)).filter(function(a){return a===v.Uj.yW?tb:a===v.Uj.kA?ib:!0;});},endpoint:c(H,g("endpoint"),!1),Vza:c(H,g("setMediaKeysEarly"),!1),eS:c(H,g("ignoreKeyStatusOutputNotAllowed"),!1),bba:c(H,g("useSetServerCertificateApi"),!1),UK:c(U,"serverCertificate",u.fMa),ipa:c(H,g("doNotPerformLdlOnPlaybackCreate"),!1),jpa:c(H,g("doNotPerformLdlOnPlaybackStart"),!1),VBa:c(H,g("useHdcpLevelOnCast"),!1),o5a:c(H,g("enableHdcp"),!1),zxa:c(n,g("preCacheMediaKeys"),0),Gl:c(H,g("prepareCadmium"),!1),JWa:c(H,g("acceptManifestOnPrepareItemParams"),!0),yxa:c(Y,"ppmconfig",{maxNumberTitlesScheduled:1}),tjb:c(H,g("playerPredictionModelV2"),!0),nL:c(H,g("supportsLimitedDurationLicense"),!1),SQ:c(H,g("enableLdlPrefetch"),!1),RQ:c(H,g("enableGetHeadersAndMediaPrefetch"),!1),IH:c(H,g("deleteCachedManifestOnPlayback"),!1),KH:c(H,g("deleteOtherManifestCacheOnCreate"),!1),JH:c(H,g("deleteOtherLdlCacheOnCreate"),!1),Tib:c(n,g("periodicPrepareLogsIntervalMilliseconds"),36E5),Sjb:c(n,g("prepareManifestCacheMaxCount"),50),Qjb:c(n,g("prepareLdlCacheMaxCount"),30),Gxa:c(n,g("prepareManifestExpiryMilliseconds"),12E5),Rjb:c(n,g("prepareLdlExpiryMilliseconds"),78E4),Pjb:c(U,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),usb:c(Y,"videoApp"),Cv:c(Y,"storageRules"),C5:c(H,"ignoreIdbOpenError"),P7a:c(H,"ftlEnabled",!0),FXa:c(H,"appStorageLogging",!1),D5:c(n,g("imageSubsResolution"),0),Cbb:c(n,g("imageSubsMaxBuffer"),u.cMa,0),mH:c(H,g("captureBatteryStatus"),!1),n8a:c(n,g("getBatteryApiTimeoutMilliseconds"),5E3),zd:function(){return U(g("keySystemId"),u.ZLa,void 0);},o6:c(Q,g("keySystemList"),u.$La,void 0),Cfb:c(n,g("hdcpGlobalTimeout1"),1E4),Dfb:c(n,g("hdcpGlobalTimeout2"),1E4),qGb:c(n,g("hdcpQueryTimeout1"),1E3),rGb:c(n,g("hdcpQueryTimeout2"),1E3),Efb:c(n,g("hdcpQueryTimeout2"),100),Ffb:c(H,g("microsoftHwdrmRequiresHevc"),!1),zfb:c(H,g("microsoftEnableDeviceInfo"),!1),Afb:c(H,g("microsoftEnableHardwareInfo"),!1),Bfb:c(H,g("microsoftEnableHardwareReset"),!1),YBa:c(H,g("useNewLogger"),!1),beb:c(H,"logMediaPipelineStatus",!1),CK:c(H,g("renderDomDiagnostics"),!0),pua:function(){return-1;},fD:c(P,g("logDisplayMaxEntryCount"),u.aMa,-1),jeb:c(P,g("logToConsoleLevel"),-1),UYa:c(P,g("bladerunnerCmdHistorySize"),10),Fm:function(){return Ma.Fm;},Vrb:c(H,"upgradeNetflixId",!0),P6:c(H,"logErrorIfEsnNotProvided",!0),d3:c(H,"enforceSinglePlayback",u.XLa),XQ:c(H,"enforceSingleSession",u.YLa),z1:c(H,"closeOtherPlaybacks",!0),iYa:c(n,"asyncLoadTimeout",15E3,1),xeb:c(n,"mainThreadMonitorPollRate",0),KGb:c(H,"nrdpAlwaysShowUIOverlay",!1),MGb:c(H,"nrdpValidateSSOTokens",!0),LGb:c(U,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),rIb:c(H,"showNrdpDebugBadging",!1),e0a:c(U,"congestionServiceApiPath","/cbp/html5player/congestion"),T2:c(H,"enableCongestionService",!1),SV:function(){return Ma.SV;},up:function(){return Ma.up;},qr:function(){return Ma.qr;},Fs:function(){return Ma.Fs;},gCa:c(n,g("verbosePlaybackInfoDenominator"),0),UD:c(H,"renderTimedText",u.dMa),Cjb:c(H,"preBufferTimedText",!0),P6a:c(H,"fatalOnTimedTextLoadError",!0),dBa:c(ka,"timedTextStyleDefaults",{}),yaa:c(ka,"timedTextStyleOverrides",{}),xaa:c(ka,"timedTextFontFamilyMapping",u.iMa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),eBa:c(n,g("timedTextTimeOverride"),0),yE:c(n,"timedTextSimpleFallbackThreshold",u.kMa),h2:c(U,g("customDfxpUrl")),x5a:c(H,g("enableSubtitleTrackerLogging"),!1),unb:c(H,g("sendSubtitleQoeLogblobOnMidplay"),!1),k1:c(t,"cdnIdWhiteList",[]),j1:c(t,"cdnIdBlackList",[]),J3:c(U,g("forceAudioTrack")),ngb:c(H,"muteVolumeOnPlaybackClose",!0),NGb:c(U,"nrdpVolumeControlType","VOLUME_STREAM"),L3:c(U,g("forceTimedTextTrack")),bva:c(n,g("maxRetriesTimedTextDownload"),0),cBa:c(n,g("timedTextRetryInterval"),8E3),Z$:c(n,"storageMinimumSize",u.gMa,0),lV:c(U,"storageType",u.hMa,/^(none|fs|idb|ls)$/),Ydb:c(n,"lockExpiration",1E4),Zdb:c(n,"lockRefresh",3E3),YZa:c(H,"captureUnhandledExceptions",!0),Bbb:c(H,"ignoreUnhandledExceptionDuringPlayback",!0),yrb:c(H,"unhandledExceptionsArePlaybackErrors",!1),zBa:c(U,"unhandledExceptionSource",""),$jb:c(H,"preserveLastFrame",!1),Ofb:c(n,"minBufferingTimeInMilliseconds",4E3),mkb:c(n,"progressBackwardsGraceTimeMilliseconds",4E3),nkb:c(n,"progressBackwardsMinPercent",10),WYa:c(U,g("bookmarkIgnoreBeginning"),"0",ma),XYa:c(U,g("bookmarkIgnoreEnd"),"5%",ma),YYa:c(U,g("bookmarkIgnoreEndForBranching"),"60000",ma),DJ:c(n,"maxParallelConnections",3),D9:c(H,"reportThroughputInLogblobs",!0),uD:c(n,"minAudioMediaRequestDuration",16E3),Mfb:c(n,"minAudioMediaRequestDurationBranching",0),vD:c(n,"minVideoMediaRequestDuration",4E3),Xfb:c(n,"minVideoMediaRequestDurationAL1",0),Yfb:c(n,"minVideoMediaRequestDurationBranching",0),eT:c(n,"minAudioMediaRequestSizeBytes",0),lT:c(n,"minVideoMediaRequestSizeBytes",0),T4a:c(H,"droppedFrameRateFilterEnabled",!1),U4a:c(n,"droppedFrameRateFilterMaxObservation",60,10,1E3),W4a:c(function(a,b,f,c,d,p){return aa(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;)a[b][f]=z.Ad(a[b][f]);}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!E.isArray(a[b]))return!1;for(var d=a[b].length;d--;)if(!E.Ou(a[b][d],f,c))return!1;}return!0;},function(a){if(void 0!==d)for(var b=a.length;b--;)if(d!==a[b].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),ADb:c(H,"droppedFrameRateFilterWithoutRebufferEnabled",!0),OQ:c(n,"droppedFrameRateFilterBasedOnPreviousSession"),tpa:c(t,"droppedFrameRateFilterBasedOnPreviousSessionPolicy"),V4a:c(n,"droppedFrameRateFilterMinHeight",384),Z4a:c(n,"droppedFramesStorageSessionLimit",0),Y4a:c(n,"droppedFramesStorageInterval",6E4),X4a:c(t,"droppedFramesPercentilesList",[]),Gfb:c(H,"microsoftScreenSizeFilterEnabled",!1),srb:c(H,"uiLabelFilterEnabled",!0),rrb:c(Y,"uiLabelFilter",{}),H3a:c(n,g("defaultVolume"),100,0,100),cpa:c(H,"disableVideoRightClickMenu",!1),Tfb:c(n,"minDecoderBufferMilliseconds",1E3,0,h.iw),Fwa:c(n,"optimalDecoderBufferMilliseconds",5E3,0,h.iw),Whb:c(n,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.iw),mT:c(n,"minimumTimeBeforeBranchDecision",3E3,0,h.iw),r7:c(n,"maxDecoderBufferMilliseconds",u.bMa,0,h.iw),Moa:c(n,"decoderTimeoutMilliseconds",1E4,1),q4a:c(H,"disgardMediaOnAppend",!1),IXa:c(H,"appendMediaBeforeInit",!1),Hib:c(n,"pauseTimeoutLimitMilliseconds",18E5),G5:c(n,"inactivityMonitorInterval",3E4,0),HWa:c(t,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),jC:c(H,"enableTrickPlay",!1),qXa:c(t,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),jrb:c(n,"trickPlayHighResolutionBitrateThreshold",1E3),krb:c(n,"trickPlayHighResolutionThresholdMilliseconds",1E4),mrb:c(r,"trickplayBufferFactor",.5),irb:c(n,"trickPlayDownloadRetryCount",1),m7:c(U,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),iAa:c(n,"simplePercentilePredictorPercentile",25),gAa:c(U,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),hAa:c(U,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),hea:c(Y,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),b8:c(U,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Dda:c(Y,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),XPa:c(Y,"TputTDigestConfig",{maxc:25,c:.5,b:5E3,w:15E3}),Uua:c(P,"maxIQRSamples",Infinity),Dva:c(P,"minIQRSamples",5),aba:c(H,"useResourceTimingAPI",!1),Psa:c(H,"ignoreFirstByte",!0),tfb:c(H,"mediaRequestAsyncLoadStart",!0),fsb:c(H,"useXHROnLoadStart",!1),hmb:c(H,"resetHeuristicStateAfterSkip",!0),r3:c(t,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),cQ:c(n,"connectTimeoutMilliseconds",8E3,500),h8:c(n,"noProgressTimeoutMilliseconds",8E3,500),bsb:c(H,"useOnLineApi",!1),bBa:c(n,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Rva:c(n,"netflixRequestExpiryTimeout",!1),EWa:c(H,"abortPreemptively",!1),Nsb:c(H,"webkitDecodedFrameCountIncorrectlyReported",!1),bnb:c(n,"seekBackOnAudioTrackChangeMilliseconds",8E3),gaa:c(Q,g("supportedAudioTrackTypes"),[],void 0,1),cta:c(n,"initialLogFlushTimeout",5E3),oxa:c(U,"playdataPersistKey",Ma.Fm?"unsentplaydatatest":"unsentplaydata"),r$:c(H,"sendPersistedPlaydata",!0),rjb:c(n,"playdataPersistIntervalMilliseconds",4E3),qHb:c(n,"playdataSendDelayMilliseconds",1E4),MU:c(H,"sendPlaydataBackupOnInit",!0),feb:c(Q,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Ifb:c(H,"midplayEnabled",!0),xva:c(n,"midplayIntervalMilliseconds",3E5),Jfb:c(t,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),TH:c(n,"downloadReportDenominator",0),C4a:c(n,"downloadReportInterval",3E5),UH:c(Q,"downloadReportTcpInfo",[]),oua:c(n,"logConfigApplyDenominator",0),Nma:c(ka,g("bookmarkByMovieId"),{}),qI:c(H,g("forceLimitedDurationLicense"),!1),Uu:c(n,g("licenseRenewalRequestDelay"),0),E8:c(n,g("persistedReleaseDelay"),1E4),YFb:c(H,g("limitedDurationFlagOverride"),void 0),Jh:c(H,g("secureStopEnabled"),!1),mIb:c(H,g("secureStopFromPersistedKeySession"),!1),sza:c(n,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),d$:c(n,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),$mb:c(n,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),anb:c(n,g("secureStopPersistedKeySessionRetries"),17,1),Zmb:c(n,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),HE:c(H,g("useCdmId"),!1),cza:c(n,"safariPlayPauseWorkaroundDelay",100),Tsb:c(H,"workaroundForMediaSourceDuration",!1),Vsb:c(n,"workaroundValueForSeekIssue",1200),Usb:c(H,"workaroundSaio",!0),kba:c(H,g("workaroundAudioKeyFrame"),u.pMa),f1:c(H,g("callEndOfStream"),u.ULa),Rib:c(H,"performRewindCheck",!0),R6a:c(H,"fatalOnUnexpectedSeeking",!0),Q6a:c(H,"fatalOnUnexpectedSeeked",!0),xna:c(H,g("clipLongVideo"),u.WLa),hob:c(H,g("setVideoElementSize")),w1:c(H,g("clearVideoSrc"),u.VLa),Xoa:c(n,g("delayPlayPause"),0),FYa:c(H,g("avoidSBRemove"),!1),Bo:c(H,g("useTypescriptEme"),!1),WH:c(U,g("drmPersistKey"),"unsentDrmData"),e9:c(H,g("promiseBasedEme"),!1),XZa:c(H,"captureKeyStatusData",!1),SC:c(H,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),Wgb:c(H,g("nudgeSourceBuffer"),!1),e$:c(P,g("seekDelta"),1),nK:c(H,g("preciseSeeking"),!1),Ijb:c(H,g("preciseSeekingOnTwoCoreDevice"),!1),Woa:c(ka,g("delayErrorHandling")),CV:c(H,"trackingLogEnabled",u.mMa),Haa:c(U,"trackingLogPath","/customerevents/track/debug"),Rqb:c(t,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),NIb:c(H,"trackingLogRegPairRequests",!1),dg:c(U,"esn",""),eqa:c(U,"fesn",""),W2:c(H,g("enableEmeVerboseLogging"),!1),p5a:c(H,"enableLastChunkLogging",!1),SG:c(U,"appId","",ta),sessionId:c(U,"sessionId","",ta),m1:c(U,"cdnProxyUrl"),dsb:c(H,"usePlayReadyHeaderObject",!1),Dqa:c(n,"forceXhrErrorResponseCode",void 0),zg:{Lva:c(U,"mslApiPath","/msl/"),ypa:c(U,g("edgePath"),"/cbp/cadmium-29"),FHb:c(U,"proxyPath",""),Kz:c(U,"uiVersion"),EV:c(U,"uiPlatform"),kCb:function(){return"0";},bz:c(Q,"preferredLanguages",h.lFa,/^[a-zA-Z-]{2,5}$/,1),y7a:c(U,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Ppb:c(H,"supportPreviewContentPin",!0),Qpb:c(H,"supportWatermarking",!0),eCa:c(H,"validatePinProtection",u.nMa),Cob:c(H,"showAllSubDubTracks",!1),G6a:c(H,g("failOnGuidMismatch"),!1)},hU:{enabled:c(H,"qcEnabled",!1),aj:c(U,"qcPackageId","")},EB:c(U,"authenticationType",Ma.Fm?u.TLa:u.SLa),Cma:c(ka,"authenticationKeyNames",z.La({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Zpb:c(U,"systemKeyWrapFormat"),Hbb:c(H,"includeNetflixIdUserAuthData",!0),zob:c(H,"shouldSendUserAuthData",!0),t$:c(H,"sendUserAuthIfRequired",u.eMa),uob:c(H,"shouldClearUserData",!1),jgb:c(H,"mslDeleteStore",!1),kgb:c(H,"mslPersistStore",!0),u0a:c(H,"correctNetworkForShortTitles",!0),Ajb:c(H,"postplayHighInitBitrate",!1),t7a:c(H,"flushHeaderCacheOnAudioTrackChange",!0),O6a:c(H,"fatalOnAseStreamingFailure",!0),Vpb:c(H,"supportsUnequalizedDownloadables",!0),Goa:c(n,g("debugAseDenominator"),100),y0:c(n,"aseAudioBufferSizeBytes",u.PLa),A0:c(n,"aseVideoBufferSizeBytes",u.QLa),av:c(n,"minInitVideoBitrate",560),N7:c(n,"minHCInitVideoBitrate",560),zy:c(n,"maxInitVideoBitrate",Infinity),LJ:c(n,"minInitAudioBitrate",0),KJ:c(n,"minHCInitAudioBitrate",0),AJ:c(n,"maxInitAudioBitrate",65535),dT:c(n,"minAcceptableVideoBitrate",235),MJ:c(n,"minRequiredBuffer",3E4),ii:c(n,"minPrebufSize",7800),r9:c(r,"rebufferingFactor",1),Ur:c(n,"maxBufferingTime",2600),Zaa:c(H,"useMaxPrebufSize",!0),nD:c(n,"maxPrebufSize",45E3),w7:c(n,"maxRebufSize",Infinity),jS:c(Z,"initialBitrateSelectionCurve",null),Zsa:c(n,"initSelectionLowerBound",560),$sa:c(n,"initSelectionUpperBound",1050),vV:c(n,"throughputPercentForAudio",15),K0:c(n,"bandwidthMargin",10),L0:c(H,"bandwidthMarginContinuous",!1),M0:c(Z,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),K1:c(n,"conservBandwidthMargin",20),kaa:c(H,"switchConfigBasedOnInSessionTput",!1),tH:c(n,"conservBandwidthMarginTputThreshold",0),L1:c(Z,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),MAa:c(H,"switchAlgoBasedOnHistIQR",!1),Iv:c(U,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),v7:c(P,"maxPlayerStateToSwitchConfig",-1),X6:c(U,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),JX:c(r,"IQRThreshold",.5),v5:c(U,"histIQRCalcToUse","simple"),LYa:c(r,"bandwidthMarginScaledRatioUpperBound",2),Vr:c(n,"maxTotalBufferLevelPerSession",0),Csa:c(n,"highWatermarkLevel",3E4),iBa:c(n,"toStableThreshold",3E4),AV:c(n,"toUnstableThreshold",u.lMa),P$:c(H,"skipBitrateInUpswitch",!0),hba:c(n,"watermarkLevelForSkipStart",8E3),o5:c(n,"highStreamRetentionWindow",9E4),Y6:c(n,"lowStreamTransitionWindow",51E4),q5:c(n,"highStreamRetentionWindowUp",3E5),a7:c(n,"lowStreamTransitionWindowUp",3E5),p5:c(n,"highStreamRetentionWindowDown",6E5),Z6:c(n,"lowStreamTransitionWindowDown",0),n5:c(r,"highStreamInfeasibleBitrateFactor",.5),wy:c(n,"lowestBufForUpswitch",15E3),NS:c(n,"lockPeriodAfterDownswitch",15E3),c7:c(n,"lowWatermarkLevel",25E3),xy:c(n,"lowestWaterMarkLevel",2E4),f7:c(H,"lowestWaterMarkLevelBufferRelaxed",!1),E7:c(r,"mediaRate",1),y7:c(n,"maxTrailingBufferLen",1E4),D0:c(n,"audioBufferTargetAvailableSize",262144),eba:c(n,"videoBufferTargetAvailableSize",1048576),dva:c(n,"maxVideoTrailingBufferSize",8388608),Rua:c(n,"maxAudioTrailingBufferSize",393216),fR:c(r,"fastUpswitchFactor",3),t3:c(r,"fastDownswitchFactor",1),US:c(n,"maxMediaBufferAllowed",24E4),N$:c(H,"simulatePartialBlocks",!0),jAa:c(H,"simulateBufferFull",!0),M1:c(H,"considerConnectTime",!1),J1:c(r,"connectTimeMultiplier",1),xua:c(n,"lowGradeModeEnterThreshold",12E4),yua:c(n,"lowGradeModeExitThreshold",9E4),Sua:c(n,"maxDomainFailureWaitDuration",3E4),Pua:c(n,"maxAttemptsOnFailure",18),Ypa:c(H,"exhaustAllLocationsForFailure",!0),Xua:c(n,"maxNetworkErrorsDuringBuffering",20),q7:c(n,"maxBufferingTimeAllowedWithNetworkError",6E4),s3:c(n,"fastDomainSelectionBwThreshold",2E3),taa:c(n,"throughputProbingEnterThreshold",4E4),YAa:c(n,"throughputProbingExitThreshold",34E3),lua:c(n,"locationProbingTimeout",1E4),hqa:c(n,"finalLocationSelectionBwThreshold",1E4),WAa:c(r,"throughputHighConfidenceLevel",.75),XAa:c(r,"throughputLowConfidenceLevel",.4),iC:c(H,"enablePerfBasedLocationSwitch",!1),mo:c(H,"probeServerWhenError",!0),Z8:c(n,"probeRequestTimeoutMilliseconds",8E3),fr:c(H,"allowSwitchback",!0),dz:c(n,"probeDetailDenominator",100),RS:c(n,"maxDelayToReportFailure",300),M6:c(n,"locationStatisticsUpdateInterval",6E4),doa:c(H,"countGapInBuffer",!1),yB:c(H,"allowReissueMediaRequestAfterAbort",!1),k0:c(H,"allowCallToStreamSelector",!0),U0:c(n,"bufferThresholdForAbort",1E4),H8:c(n,"pipelineScheduleTimeoutMs",2),Ay:c(n,"maxPartialBuffersAtBufferingStart",2),O7:c(n,"minPendingBufferLen",6E3),mD:c(n,"maxPendingBufferLen",12E3),Zeb:c(n,"maxPendingBufferLenAL1",3E4),VQ:c(H,"enableRequestPacing",!1),x7:c(n,"maxStreamingSkew",4E3),u7:c(n,"maxPendingBufferPercentage",10),By:c(n,"maxRequestsInBuffer",60),Zua:c(n,"maxRequestsInBufferAL1",240),$ua:c(n,"maxRequestsInBufferBranching",120),$R:c(n,"headerRequestSize",4096),M7:c(n,"minBufferLenForHeaderDownloading",1E4),uU:c(n,"reserveForSkipbackBufferMs",1E4),p8:c(n,"numExtraFragmentsAllowed",2),jo:c(H,"pipelineEnabled",!1),lAa:c(n,"socketReceiveBufferSize",0),G0:c(n,"audioSocketReceiveBufferSize",32768),fba:c(n,"videoSocketReceiveBufferSize",65536),l5:c(n,"headersSocketReceiveBufferSize",32768),GV:c(n,"updatePtsIntervalMs",1E3),W0:c(n,"bufferTraceDenominator",100),GB:c(n,"bufferLevelNotifyIntervalMs",2E3),BB:c(n,"aseReportDenominator",0),z0:c(n,"aseReportIntervalMs",3E5),Epa:c(H,"enableAbortTesting",!1),Ala:c(n,"abortRequestFrequency",8),caa:c(n,"streamingStatusIntervalMs",2E3),KD:c(n,"prebufferTimeLimit",24E4),gT:c(n,"minBufferLevelForTrackSwitch",2E3),B8:c(n,"penaltyFactorForLongConnectTime",2),V6:c(n,"longConnectTimeThreshold",200),g0:c(n,"additionalBufferingLongConnectTime",2E3),h0:c(n,"additionalBufferingPerFailure",8E3),zK:c(n,"rebufferCheckDuration",6E4),Hpa:c(H,"enableLookaheadHints",!1),uua:c(n,"lookaheadFragments",2),kp:c(H,"enableOCSideChannel",!0),cN:c(Y,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),FBa:c(H,"updateDrmRequestOnNetworkFailure",!1),AQ:c(H,"deferAseScheduling",!1),SS:c(n,"maxDiffAudioVideoEndPtsMs",16E3),IE:c(H,"useHeaderCache",!0),wQ:c(n,"defaultHeaderCacheSize",4),v2:c(n,"defaultHeaderCacheDataPrefetchMs",8E3),i5:c(n,"headerCacheMaxPendingData",6),c8:c(H,"neverWipeHeaderCache",!0),clb:c(H,"recreateHeaderCacheDownloadTracks",!0),j5:c(n,"headerCachePriorityLimit",5),Vab:c(H,"headerCacheFlushForCircularBuffer",!0),bI:c(H,"enableUsingHeaderCount",!1),zsa:c(H,"headerCacheTruncateHeaderAfterParsing",!0),s7a:c(H,g("flushHeaderCacheBeforePlayback"),!1),a8:c(n,"networkFailureResetWaitMs",2E3),Z7:c(n,"networkFailureAbandonMs",6E4),YS:c(n,"maxThrottledNetworkFailures",3),uV:c(n,"throttledNetworkFailureThresholdMs",200),ar:c(H,"abortUnsentBlocks",!1),z7:c(n,"maxUnsentBlocks",2),V_:c(n,"abortStreamSelectionPeriod",2E3),b7:c(P,"lowThroughputThreshold",400),j3:c(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Jva:c(H,"mp4ParsingInNative",!1),mAa:c(H,"sourceBufferInOrderAppend",!0),Um:c(H,"requireAudioStreamToEncompassVideo",!0),bma:c(H,"allowAudioToStreamPastVideo",!0),wkb:c(H,"pruneRequestsFromNative",!1),Gjb:c(H,"preciseBufferLevel",!1),Oe:c(H,"enableManagerDebugTraces",!1),Iua:c(n,"managerDebugMessageInterval",1E3),Hua:c(n,"managerDebugMessageCount",20),gwa:c(H,"notifyManifestCacheEom",!1),PP:c(n,"bufferThresholdToSwitchToSingleConnMs",18E4),V0:c(n,"bufferThresholdToSwitchToParallelConnMs",12E4),QT:c(n,"periodicHistoryPersistMs",3E5),CU:c(n,"saveVideoBitrateMs",18E4),s0:c(H,"appendMediaRequestOnComplete",!0),TV:c(H,"waitForDrmToAppendMedia",!1),I3:c(H,g("forceAppendHeadersAfterDrm"),!1),yK:c(H,g("reappendRequestsOnSkip"),!0),qgb:c(n,"netIntrStoreWindow",36E3),Vfb:c(n,"minNetIntrDuration",8E3),K6a:c(n,"fastHistoricBandwidthExpirationTime",10368E3),IYa:c(n,"bandwidthExpirationTime",5184E3),I6a:c(n,"failureExpirationTime",86400),bbb:c(n,"historyTimeOfDayGranularity",4),x6a:c(H,"expandDownloadTime",!1),dgb:c(n,"minimumMeasurementTime",500),cgb:c(n,"minimumMeasurementBytes",131072),lqb:c(n,"throughputMeasurementTimeout",2E3),Sbb:c(n,"initThroughputMeasureDataSize",262144),nqb:c(U,"throughputPredictor","ewma"),kqb:c(n,"throughputMeasureWindow",5E3),qqb:c(n,"throughputWarmupTime",5E3),jqb:c(n,"throughputIQRMeasureWindow",5E3),JIa:c(n,"IQRBucketizerWindow",15E3),f0a:c(n,"connectTimeHalflife",10),rmb:c(n,"responseTimeHalflife",10),abb:c(n,"historicBandwidthUpdateInterval",2E3),mqb:c(Z,"throughputMeasurementWindowCurve",null),rbb:c(n,"httpResponseTimeWarmup",10),smb:c(n,"responseTimeWarmup",10),bgb:c(n,"minimumBufferToStopProbing",1E4),ebb:c(n,"holtWintersDiscretizeInterval",500),fbb:c(n,"holtWintersHalfLifeAlpha",6700),hbb:c(n,"holtWintersHalfLifeGamma",6700),ibb:c(n,"holtWintersInitialCounts",3),jbb:c(n,"holtWintersMinInitialCounts",3),gbb:c(H,"holtWintersHalfLifeCurveEnabled",!1),kbb:c(H,"holtWintersUpperBoundEnabled",!1),b$:c(U,"secondThroughputEstimator","none"),pza:c(P,"secondThroughputMeasureWindowInMs",Infinity),k5a:c(Q,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Z6a:c(Y,"filterDefinitionOverrides",{}),D3a:c(U,"defaultFilter","throughput-ewma"),Vmb:c(U,"secondaryFilter","none"),E3a:c(Y,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),RJ:c(H,"needMinimumNetworkConfidence",!0),P0:c(H,"biasTowardHistoricalThroughput",!0),vP:c(H,"addHeaderDataToNetworkMonitor",!1),V$:c(H,"startMonitorOnLoadStart",!1),C9:c(H,"reportFailedRequestsToNetworkMonitor",!1),t7:c(P,"maxFastPlayBufferInMs",Infinity),s7:c(P,"maxFastPlayBitThreshold",Infinity),r0:c(H,"appendFirstHeaderOnComplete",!0),VXa:c(U,"ase_stream_selector","optimized"),O5:c(U,"initBitrateSelectorAlgorithm","default"),Y0:c(U,"bufferingSelectorAlgorithm","default"),n2:c(U,"ase_ls_failure_simulation",""),l2:c(H,"ase_dump_fragments",!1),m2:c(n,"ase_location_history",0),o2:c(n,"ase_throughput",0),Ioa:c(H,"ase_simulate_verbose",!1),Sgb:c(H,"notifyOpenConnectBlackBox",!0),xjb:c(n,"pollingPeriod",150),iua:c(n,"loadTimeMs",18E4),Lua:c(n,"marginTimeMs",1E4),Nz:c(H,"useMediaCache",!1),bC:c(n,"diskCacheSizeLimit",52428800),aT:c(n,"mediaCachePrefetchMs",8E3),C7:c(ka,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),GXa:c(H,"appendCachedMediaAsMediaRequest",!0),xI:c(H,"generateHardwareDeviceId",!1),c0:c(H,"addFailedLogBlobsToQueue",!0),xob:c(H,"shouldSaveLogs",!1),S6:c(Q,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),trb:{billboard:{av:c(n,"billboardMinInitVideoBitrate",1050),zy:c(n,"billboardMaxInitVideoBitrate",null),ii:c(n,"billboardMinPrebufSize",null),nD:c(n,"billboardMaxPrebufSize",null),Ur:c(n,"billboardMaxBufferingTime",null),Ay:c(n,"billboardMaxPartialBuffersAtBufferingStart",null),xy:c(n,"billboardLowestWaterMarkLevel",6E3),wy:c(n,"billboardLowestBufForUpswitch",25E3),Iv:c(U,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{av:c(n,"preplayMinInitVideoBitrate",1050),zy:c(n,"preplayMaxInitVideoBitrate",null),ii:c(n,"preplayMinPrebufSize",null),nD:c(n,"preplayMaxPrebufSize",null),Ur:c(n,"preplayMaxBufferingTime",null),Ay:c(n,"preplayMaxPartialBuffersAtBufferingStart",null),xy:c(n,"preplayLowestWaterMarkLevel",6E3),wy:c(n,"preplayLowestBufForUpswitch",25E3)},embedded:{av:c(n,"embeddedMinInitVideoBitrate",1050),zy:c(n,"embeddedMaxInitVideoBitrate",null),ii:c(n,"embeddedMinPrebufSize",null),nD:c(n,"embeddedMaxPrebufSize",null),Ur:c(n,"embeddedMaxBufferingTime",null),Ay:c(n,"embeddedMaxPartialBuffersAtBufferingStart",null),xy:c(n,"embeddedLowestWaterMarkLevel",6E3),wy:c(n,"embeddedLowestBufForUpswitch",25E3)}},TQ:c(H,"enablePsd",!1),g9:c(n,"psdCallFrequency",6E4),h9:c(H,"psdReturnToNormal",!1),rK:c(n,"psdThroughputThresh",0),OH:c(n,"discardLastNPsdBins",0),Fg:c(Y,"psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}),z5a:c(H,"enableVerbosePlaydelayLogging",!1),v5a:c(H,"enableRl",!1),xmb:c(n,"rlLogParam",5),w5a:c(H,"enableSeamless",!1),u5:c(n,"hindsightDenominator",0),t5:c(n,"hindsightDebugDenominator",0),aS:c(Y,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),aI:c(H,"enableSessionHistoryReport",!1),S2:c(n,"earlyStageEstimatePeriod",1E4),Wta:c(n,"lateStageEstimatePeriod",3E4),VS:c(n,"maxNumSessionHistoryStored",30),jT:c(n,"minSessionHistoryDuration",3E4),$H:c(H,"enableInitThroughputEstimate",!1),u0:c(H,"applyInitThroughputEstimate",!1),ata:c(Y,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),zJ:c(n,"maxActiveRequestsPerSession",3),QS:c(n,"maxActiveRequestsSABCell100",2),WS:c(n,"maxPendingBufferLenSABCell100",500),E6:c(H,"limitAudioDiscountByMaxAudioBitrate",!0),Pi:c(Y,"browserInfo",{}),qZa:c(n,g("busyGracePeriod"),199),vnb:c(H,g("sendTransitionLogblob"),!0),Em:c(H,g("editAudioFragments"),!1),Fr:c(H,g("editVideoFragments"),!1),e5a:c(H,g("editAudioFragmentsBranching"),!0),zpa:c(H,g("editVideoFragmentsBranching"),!0),QQ:c(H,g("earlyAppendSingleChildBranch"),!0),Ibb:c(H,g("includeSegmentInfoOnLogblobs"),!0),B6a:c(H,"exposeTestData",!1),p2:c(H,"declareBufferingCompleteAtSegmentEnd",!0),sx:c(H,"applyProfileTimestampOffset",!1),yn:c(H,"applyProfileStreamingOffset",!1),AXa:c(H,g("allowSmallSeekDelta"),!1),Lob:c(n,g("smallSeekDeltaThresholdMilliseconds"),k.FY),j5a:c(H,"enableCDMAttestedDescriptors",!1),H9:c(H,"requireDownloadDataAtBuffering",!1),I9:c(H,"requireSetupConnectionDuringBuffering",!1),Olb:c(H,"renormalizeFirstFragment",!1),Plb:c(H,"renormalizeLastFragment",!1),s9:c(H,"recordFirstFragmentOnSubBranchCreate",!1),bZa:c(H,"branchingAudioTrackFrameDropSmallSeekFix",!0),Cqa:c(H,"forceL3WidevineCdm",!1)};F=!0;d.Pna=function(a){var c;A._cad_global||(A._cad_global={});if(A._cad_global.logBatcher&&0<d.config.oua&&0===D.oF%d.config.oua)try{c=new y.gA(void 0,"config","info",{params:a});A._cad_global.logBatcher.Ub(c);}catch(mb){f.log.error("Failed to log config$apply",mb);}A._cad_global.config=d.config;A._cad_global.platformExtraInfo=u.FF;m.wa(a);a&&(ga=z.La({},a,{jD:!0}),z.La(ga,Da,{jD:!0}),b(sc,d.config),ga.istestaccount&&f.log.trace("Config applied for",fa(F?ga:a)),F=!1);};d.Pna(ga);};d.zCb=function(a,b){return E.Sd(a)&&"%"==a[a.length-1]?w.Tf(parseFloat(a)*b/100):a|0;};d.a0a=function(a){return a?(a=z.La({},d.config),z.La(a,{Fwa:d.config.Whb},{Jp:!0})):d.config;};d.ACb=function(a){var f;f=z.La({},d.config);return z.La(f,b(a),{Jp:!0});};d.Rna=function(f){f=b(f);return z.La({},a(148)(f),{Jp:!0});};d.Qna=function(b,f,c){c=!!c&&(0<=c.indexOf("h264hpl")||0<=c.indexOf("vp9"));b={uD:b?d.config.Mfb:d.config.uD,vD:b?d.config.Yfb:c?d.config.Xfb:d.config.vD,yB:b?!1:d.config.yB,By:b&&c?Math.max(d.config.$ua,d.config.Zua):b?d.config.$ua:c?d.config.Zua:d.config.By,mD:c?d.config.Zeb:d.config.mD,Em:d.config.Em||b&&d.config.e5a,Fr:d.config.Fr||b&&d.config.zpa,QQ:!f};return z.La({},a(148)(b),{Jp:!0});};d.CCb=b;d.BCb=c;d.yCb="";},function(g,d,a){var b,c,h,l;b=a(79);c=a(991);h=a(238);l=a(990);g=function(){function a(a){this.Lq=!1;a&&(this.zf=a);}a.prototype.Ff=function(b){var f;f=new a();f.source=this;f.Uy=b;return f;};a.prototype.subscribe=function(a,b,f){var d;d=this.Uy;a=c.Iqb(a,b,f);d?d.call(a,this.source):a.add(this.source||!a.Kj?this.zf(a):this.K_(a));if(a.Kj&&(a.Kj=!1,a.yz))throw a.zz;return a;};a.prototype.K_=function(a){try{return this.zf(a);}catch(m){a.yz=!0;a.zz=m;a.error(m);}};a.prototype.forEach=function(a,f){var c;c=this;f||(b.root.vw&&b.root.vw.config&&b.root.vw.config.Promise?f=b.root.vw.config.Promise:b.root.Promise&&(f=b.root.Promise));if(!f)throw Error("no Promise impl found");return new f(function(b,f){var d;d=c.subscribe(function(b){if(d)try{a(b);}catch(w){f(w);d.unsubscribe();}else a(b);},f,b);});};a.prototype.zf=function(a){return this.source.subscribe(a);};a.prototype[h.observable]=function(){return this;};a.prototype.Xib=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:l.Yib(a)(this);};a.prototype.Caa=function(){var a,f;f=this;a||(b.root.vw&&b.root.vw.config&&b.root.vw.config.Promise?a=b.root.vw.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var c;f.subscribe(function(a){return c=a;},function(a){return b(a);},function(){return a(c);});});};a.create=function(b){return new a(b);};return a;}();d.sa=g;},function(g){var d;d={ka:function(a){return"number"===typeof a;},pe:function(a){return"object"===typeof a;},Sd:function(a){return"string"===typeof a;},V:function(a){return"undefined"===typeof a;},ecb:function(a){return"boolean"===typeof a;},qb:function(a){return"function"===typeof a;},Na:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},dib:function(a){var b,c;c=[];if(!d.pe(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&c.push([b,a[b]]);return c;}};d.Lc=d.forEach=function(a,b,c){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var h=0,l=a.length;h<l;h++)b.call(c,a[h],h,a);else for(h in a)d.has(a,h)&&b.call(c,a[h],h,a);return a;};g.M=d;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);a=a(136);d.oDa=function(){d.wa();};d.dDb=!0;d.Ce=g.da.get(a.YE);d.wa=d.Ce.assert.bind(d.Ce);d.ZCb=d.Ce.YXa.bind(d.Ce);d.$Cb=d.Ce.ZXa.bind(d.Ce);d.V2a=d.Ce.dYa.bind(d.Ce);d.GH=d.Ce.gYa.bind(d.Ce);d.cDb=d.Ce.eYa.bind(d.Ce);d.aDb=d.Ce.bYa.bind(d.Ce);d.sQ=d.Ce.aYa.bind(d.Ce);d.FH=d.Ce.fYa.bind(d.Ce);d.bDb=d.Ce.cYa.bind(d.Ce);d.YCb=d.Ce.WXa.bind(d.Ce);d.Foa=d.Ce.$Xa.bind(d.Ce);d.eDb=d.Ce.$bb.bind(d.Ce);},function(g){g.M={Ca:{Ng:0,Is:1,ct:2,jf:3,zA:4,yA:5,yq:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},Ltb:{et:0,Pzb:1,name:["STARTUP","STEADY"]},MM:{Ng:0,Ozb:1,mQa:2,name:["STARTING","STABLE","UNSTABLE"]},G:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},wf:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},hf:{URL:0,ww:1,wea:2,sq:3,name:["URL","SERVER","LOCATION","NETWORK"]},ed:{HAVE_NOTHING:0,Ps:1,Go:2,fF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ye:{Nba:0,mHa:1,Oyb:2,NEXT:3,pyb:4,mAb:5,Wvb:6,HJa:7,et:8,ERROR:9,qY:10,TMa:11,hW:12,dJa:13,cJa:14,DOa:15,COa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},tvb:{sq:0,Gub:1,name:["NETWORK","DECODE"]},BOa:{sFa:"delayedSeamless",pwb:"hideLongTransition"}};},function(g,d,a){(function(b){var E,k,G,n,L,O,r,V;function c(a,b){if(a===b)return 0;for(var f=a.length,c=b.length,d=0,m=Math.min(f,c);d<m;++d)if(a[d]!==b[d]){f=a[d];c=b[d];break;}return f<c?-1:c<f?1:0;}function d(a){return b.Xba&&"function"===typeof b.Xba.isBuffer?b.Xba.isBuffer(a):!(null==a||!a.gBb);}function l(a){return d(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function f(a){if(k.qb(a))return L?a.name:(a=a.toString().match(r))&&a[1];}function p(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function m(a){if(L||!k.qb(a))return k.dJ(a);a=f(a);return"[Function"+(a?": "+a:"")+"]";}function q(a,b,f,c,d){throw new O.AssertionError({message:f,ox:a,Hm:b,Uy:c,Pob:d});}function u(a,b){a||q(a,!0,b,"==",O.ok);}function x(a,b,f,m){var p;if(a===b)return!0;if(d(a)&&d(b))return 0===c(a,b);if(k.fJ(a)&&k.fJ(b))return a.getTime()===b.getTime();if(k.Bta(a)&&k.Bta(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!l(a)||!l(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(d(a)!==d(b))return!1;m=m||{ox:[],Hm:[]};p=m.ox.indexOf(a);if(-1!==p&&p===m.Hm.indexOf(b))return!0;m.ox.push(a);m.Hm.push(b);return v(a,b,f,m);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return f?a===b:a==b;}function v(a,b,f,c){var d,m,p;if(null===a||void 0===a||null===b||void 0===b)return!1;if(k.yta(a)||k.yta(b))return a===b;if(f&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;d="[object Arguments]"==Object.prototype.toString.call(a);m="[object Arguments]"==Object.prototype.toString.call(b);if(d&&!m||!d&&m)return!1;if(d)return a=n.call(a),b=n.call(b),x(a,b,f);d=V(a);p=V(b);if(d.length!==p.length)return!1;d.sort();p.sort();for(m=d.length-1;0<=m;m--)if(d[m]!==p[m])return!1;for(m=d.length-1;0<=m;m--)if(p=d[m],!x(a[p],b[p],f,c))return!1;return!0;}function z(a,b,f){x(a,b,!0)&&q(a,b,f,"notDeepStrictEqual",z);}function w(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(U){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function D(a,b,f,c){var d,m,p;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof f&&(c=f,f=null);try{b();}catch(Z){d=Z;}b=d;c=(f&&f.name?" ("+f.name+").":".")+(c?" "+c:".");a&&!b&&q(b,f,"Missing expected exception"+c);d="string"===typeof c;m=!a&&k.rS(b);p=!a&&b&&!f;(m&&d&&w(b,f)||p)&&q(b,f,"Got unwanted exception"+c);if(a&&b&&f&&!w(b,f)||!a&&b)throw b;}function y(a,b){a||q(a,!0,b,"==",y);}E=a(736);k=a(230);G=Object.prototype.hasOwnProperty;n=Array.prototype.slice;L=function(){return"foo"===function(){}.name;}();O=g.M=u;r=/\s*function\s+([^\(\s]*)\s*/;O.AssertionError=function(a){var b;this.name="AssertionError";this.ox=a.ox;this.Hm=a.Hm;this.Uy=a.Uy;this.message=a.message?a.message:p(m(this.ox))+" "+this.Uy+" "+p(m(this.Hm));b=a.Pob||q;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=f(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};k.Mbb(O.AssertionError,Error);O.fail=q;O.ok=u;O.equal=function(a,b,f){a!=b&&q(a,b,f,"==",O.equal);};O.xT=function(a,b,f){a==b&&q(a,b,f,"!=",O.xT);};O.Ooa=function(a,b,f){x(a,b,!1)||q(a,b,f,"deepEqual",O.Ooa);};O.Poa=function(a,b,f){x(a,b,!0)||q(a,b,f,"deepStrictEqual",O.Poa);};O.$va=function(a,b,f){x(a,b,!1)&&q(a,b,f,"notDeepEqual",O.$va);};O.Jgb=z;O.DAa=function(a,b,f){a!==b&&q(a,b,f,"===",O.DAa);};O.awa=function(a,b,f){a===b&&q(a,b,f,"!==",O.awa);};O["throws"]=function(a,b,f){D(!0,a,b,f);};O.yDb=function(a,b,f){D(!1,a,b,f);};O.mFb=function(a){if(a)throw a;};O.daa=E(y,O,{equal:O.DAa,Ooa:O.Poa,xT:O.awa,$va:O.Jgb});O.daa.daa=O.daa;V=Object.keys||function(a){var b,f;b=[];for(f in a)G.call(a,f)&&b.push(f);return b;};}.call(this,a(168)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(121);d.is=g.qq;d.ab=function(a){return d.is.Yg(a);};d.pe=function(a){return d.is.qx(a);};d.Jcb=function(a){return d.is.qP(a);};d.isArray=function(a){return d.is.Ut(a);};d.Gta=function(a){return d.is.ema(a);};d.ka=function(a,c,h){return d.is.Af(a,c,h);};d.ocb=function(a,c,h){return d.is.l0(a,c,h);};d.Ou=function(a,c,h){return d.is.$o(a,c,h);};d.xta=function(a){return d.is.vB(a);};d.DFb=function(a){return d.is.BWa(a);};d.FFb=function(a){return d.is.CWa(a);};d.Hta=function(a){return d.is.fma(a);};d.Sd=function(a){return d.is.rh(a);};d.Pu=function(a){return d.is.Li(a);};d.nta=function(a){return d.is.uB(a);};d.qb=function(a){return d.is.MG(a);};},function(g,d){function a(){}function b(){}function c(){}function h(){}function l(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});f.Udb="loadedtracks";f.Tdb="loadedmetadata";f.loaded="loaded";f.error="error";f.closed="closed";f.Dm="currenttimechanged";f.Vma="bufferedtimechanged";f.$4a="durationchanged";f.Bsb="videosizechanged";f.Iib="pausedchanged";f.vjb="playingchanged";f.d6a="endedchanged";f.a1="busychanged";f.zma="audiotracklistchanged";f.LP="audiotrackchanged";f.Ez="timedtexttracklistchanged";f.zE="timedtexttrackchanged";f.EL="trickplayframeschanged";f.ogb="mutedchanged";f.Gsb="volumechanged";f.Dob="showsubtitle";f.Llb="removesubtitle";f.Lsb="watermark";f.d6="isReadyToTransition";f.RC="inactivated";f.inb="segmentmaploaded";f.jnb="segmentpresenting";f.xYa="autoplaywasallowed";f.yYa="autoplaywasblocked";d.kb=f;l.Hza="serverTimeChanged";d.oea=l;h.QK="playlistsegmenttransition";d.MF=h;(function(a){a[a.CP=0]="aseException";a[a.DP=1]="aseReport";a[a.EBb=2]="aseSessionCreateRequest";a[a.Dma=3]="authorized";a[a.Ema=4]="autoplayWasAllowed";a[a.An=5]="autoplayWasBlocked";a[a.NYa=6]="bandwidthMeterAggregateUpdate";a[a.zx=7]="bufferUnderrun";a[a.closed=8]="closed";a[a.De=9]="closing";a[a.Dm=10]="currentTimeChanged";a[a.SH=11]="downloadComplete";a[a.RC=12]="inactivated";a[a.Xta=13]="licenseAdded";a[a.JS=14]="licensed";a[a.Vu=15]="locationSelected";a[a.l7=16]="manifestPresenting";a[a.$S=17]="mediaBufferChanged";a[a.Y7=18]="needLicense";a[a.vT=19]="nextSegmentChosen";a[a.Fh=20]="playbackStart";a[a.Op=21]="repositioned";a[a.mz=22]="repositioning";a[a.dza=23]="safePlayRequested";a[a.cnb=24]="segmentAborted";a[a.enb=25]="segmentLastPts";a[a.k$=26]="segmentPresenting";a[a.hnb=27]="segmentStarting";a[a.OU=28]="serverSwitch";a[a.eAa=29]="shouldUpdateVideoDiagInfo";a[a.Jj=30]="skipped";a[a.rV=31]="subtitleError";a[a.raa=32]="throttledMediaTimeChanged";a[a.xV=33]="timedTextRebuffer";a[a.Ez=34]="timedTextTrackListChanged";a[a.EL=35]="trickPlayFramesChanged";a[a.GL=36]="tryRecoverFromStall";a[a.aq=37]="updateNextSegmentWeights";a[a.jsb=38]="userInitiatedPause";a[a.bCa=39]="userInitiatedResume";}(d.X||(d.X={})));c.NOa=0;c.IY=1;c.Cq=2;c.HY=3;c.GY=4;d.Lg=c;b.rfa=1;b.Is=2;b.LOa=3;d.gM=b;a.VF=1;a.jf=2;a.yq=3;a.OW=4;d.am=a;(function(a){a[a.mF=0]="INITIAL";a[a.wA=1]="SEEK";a[a.SY=2]="TRACK_CHANGED";a[a.xA=3]="SEGMENT_CHANGED";}(d.Mg||(d.Mg={})));},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(18);h=a(5);l=a(15);d.pc=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};d.La=d.La||function(a,b,m){var f,p,l;if(b)if(m){f=m.jD;p=m.prefix;l=m.Jp;d.pc(b,function(b,d){if(!l||c.ab(d))a[(p||"")+(f?b.toLowerCase():b)]=d;});}else d.pc(b,function(b,f){a[b]=f;});return a;};d.RZa=function(a,b,c,d){var f;if(a){f=a[b];l.qb(f)&&(c=f.apply(a,h.slice.call(arguments,3)));}};d.RXa=function(){for(var a=["info","warn","trace","error"],b={},c=a.length;c--;)b[a[c]]=!0;return b;};d.Ad=d.Ad||function(a){return parseInt(a,10);};d.YGb=function(a){return/^true$/i.test(a);};d.Uxa=function(a,b){return h.Tf(a+h.xF()*(b-a));};d.oV=function(a){return JSON.stringify(a,null,"  ");};d.x5=function(){var c,d;function a(a){b.wa(void 0!==c[a]);return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(b){return b.replace(d,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();d.h7=function(a){return Array.isArray(a)?a:[a];};d.$c=d.$c||function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!=a.indexOf(c)&&(a=c+"\n"+a)):a=c;f&&(a+="\nnumber:"+f);return a;}};d.wl=function(a){return l.ka(a)?a.toFixed(0):"";};d.Wx=function(a){return l.ka(a)?(a/1E3).toFixed(0):"";};d.C7a=function(a){return l.ka(a)?a.toFixed():"";};d.q0a=function(a){for(var b=[],f=0;f<a.length;f++)b[f]=a[f];return b;};},function(g,d,a){var l,f;function b(a){return null!==a&&void 0!==a;}function c(a){return typeof a==d.FPa;}function h(a,c,d){var m,p,q;if(c)if(d){m=d.jD;p=d.prefix;q=d.Jp;f.pc(c,function(f,c){if(!q||b(c))a[(p||"")+(m?f.toLowerCase():f)]=c;});}else f.pc(c,function(b,f){a[b]=f;});return a;}Object.defineProperty(d,"__esModule",{value:!0});l=a(5);f=a(17);d.Qb=function(){};d.Pj=1E3;d.EF=Object.create;d.oLa=Object.keys;d.vM=Date.now;d.rq=Math.floor;d.lKa=Math.ceil;d.Tf=Math.round;d.Uk=Math.max;d.mj=Math.min;d.xF=Math.random;d.wF=Math.abs;d.Yea=Math.pow;d.ti="$attributes";d.WV="$children";d.XV="$name";d.gq="$text";d.rCa="$parent";d.PE="$sibling";d.FPa="string";d.qAb="number";d.pAb="function";d.EPa="object";d.ab=b;d.pe=function(a){return typeof a==d.EPa;};d.Sd=c;d.Pu=function(a){return c(a)&&a;};d.Ad=function(a){return parseInt(a,10);};d.vq=function(a,b,f){return a>=b?a<=f?a:f:b;};d.La=h;d.ZK=function(a){return h({},a);};d.ag=function(a){var d;for(var f=0;f<arguments.length;++f);for(var f=0,c=arguments.length;f<c;){d=arguments[f++];if(b(d))return d;}};d.QXa=function(a){for(var b,f=!0,c;f;)for(f=!1,b=a.length;--b;)c=a[b],c.startTime<a[b-1].startTime&&(a[b]=a[b-1],a[b-1]=c,f=!0);};d.ju=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};d.createElement=function(a,b,c,d){var m;m=l.ud.createElement(a);b&&(m.style.cssText=b);c&&(m.innerHTML=c);d&&f.pc(d,function(a,b){m.setAttribute(a,b);});return m;};d.vH=function(a){var b;b="";f.pc(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};d.nR=function(a,b,f){var c;a/b>f?(c=d.Tf(b*f),a=b):(c=a,a=d.Tf(a/f));return{width:c,height:a};};d.x5=function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};}();d.$c=function(a){var b,f;if(a){b=a.stack;f=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;f&&(b+="\nnumber:"+f);return b;}};d.H={Qh:1001,pg:1003,pHa:1701,mda:1713,qHa:1715,oHa:1721,CM:1723};},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,z,w,D,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(378);b=a(9);c=a(6);a(29);h=a(21);l=a(3);f=a(115);p=a(61);m=a(12);q=a(2);u=a(647);x=a(114);d.I6={};v=l.yd("loadAsync");z=[];D=l.da.get(f.Dw);y=p.dd.oj;d.Re=function(a,b){m.wa(!w);z.push({Kdb:b,Dn:a});};d.tJ=g.vHa(function(a){var m,p;function f(b){d.H6=h.xc();f=c.Qb;p.Of();a(b);}m=0;p=l.da.get(x.Cw)(b.config.iYa,function(){v.error("Load timed out");f({errorCode:m,T:q.H.ICa});});u.bkb(z).then(function(a){function b(){var d,l,h;if(d=a.shift())try{l=d.Kdb;m=h=d.Dn;p.Of();p.lp();l(function(a){a.S?b():(a.errorCode=a.errorCode||h,D.mark(y.LCa),f(a));});}catch(S){v.error("Exception while loading component",S);D.mark(y.KCa);f({errorCode:h,T:q.H.HCa,Ja:""+S});}else D.mark(y.JCa),f(c.Fb);}d.KS=h.xc();D.mark(y.MCa);w=!0;b();},function(a){f({errorCode:a.Dn,T:a.Lna});});});d.uJ=function(a){m.wa(void 0===d.I6[a]);d.I6[a]=h.xc();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.me="ConfigSymbol";},function(g,d,a){var c,h,l,f;function b(){return d.EN.cD.na(f.Ba);}Object.defineProperty(d,"__esModule",{value:!0});g=a(473);c=a(37);h=a(24);l=a(117);f=a(4);d.Fia=g.Nc.get(c.wi);d.EN=g.Nc.get(h.Ue);d.DSa=g.Nc.get(l.eA);d.oF=d.EN.id;d.xc=function(){return d.EN.Pe().na(f.Ba);};d.Dx=function(){return d.Fia.cg.na(f.dm);};d.G_a=function(){return d.EN.cD.na(f.dm);};d.E_a=function(){return d.DSa.xH();};d.F_a=b;d.pH=function(){return d.Fia.cg.na(f.Ba);};d.H_a=function(){return b();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Je="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.we="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ue="ApplicationSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uW="ConfigurableInputsSymbol";d.Ci="ValidatingConfigurableInputsSymbol";d.Uz="ConfigNameSymbol";d.TM="InitParamsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Xha=1]="Video";}(d.zF||(d.zF={})));(function(a){a[a.Zv=0]="Default";a[a.lw=1]="Microsoft";}(d.Uv||(d.Uv={})));(function(a){a[a.Zv=0]="Default";a[a.qW=1]="Cast";a[a.tW=2]="Chrome";a[a.lw=3]="Microsoft";a[a.lha=4]="Safari";}(d.pj||(d.pj={})));(function(a){a[a.PF=0]="SD";a[a.FM=1]="HD";a[a.rN=2]="UHD";a[a.Do=3]="DV";a[a.pq=4]="HDR10";a[a.ft=5]="VP9";a[a.ih=6]="AV1";}(d.vd||(d.vd={})));(function(a){a[a.Ho=0]="Level_1_4";a[a.gw=1]="Level_2_2";}(d.kh||(d.kh={})));d.JAb=function(){};(function(a){a[a.Yyb=0]="Platform";a[a.Dub=1]="CurrentTitle";}(d.xQa||(d.xQa={})));d.IW="DeviceCapabilitiesSymbol";d.Zub=function(){};},function(g,d,a){g.M={wHa:a(742),Ia:a(60).Ia,MB:a(60).MB,wr:a(60).wr,yJ:a(60).yJ,j$:a(60).j$,rLa:a(741),Wyb:a(208),HQa:a(740)};},function(g,d,a){g.M={EventEmitter:a(745),dF:a(744)};},function(g,d,a){var q,u,x,v,z,w,D;function b(){var a,b;if(a=d.L4.Pka)return a;a=w.ZM.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=c(a);return d.L4.Pka=a;}function c(a){for(var b=/[+]/g,f=(a||"").split("&"),c={},d,m=0;m<f.length;m++)a=v.trim(f[m]),d=a.indexOf("="),0<=d?c[decodeURIComponent(a.substr(0,d).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(d+1).replace(b,"%20")):c[a.toLowerCase()]=null;return c;}function h(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function l(a){return h(a.constructor);}function f(a){return w.sort.call(a,function(a,b){return a-b;});}function p(a){for(var b=0,f=a.length;f--;)b+=a[f];return b;}function m(){return D.qb(w.nj.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});q=a(6);u=a(12);x=a(3);v=a(17);z=a(18);w=a(5);D=a(15);d.Fna=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var f in a)if(a.hasOwnProperty(f)&&(!b.hasOwnProperty(f)||a[f]!==b[f]))return!1;return!0;};d.ju=d.ju||function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};d.HHb=function(a){var b;if(a){b=a.length;if(b)return b=v.Uxa(0,b-1),a[b];}};d.j0a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};d.jXa=function(a,b){function f(){a.removeEventListener("loadedmetadata",f);b.apply(this,arguments);}a.addEventListener("loadedmetadata",f);};d.Nkb=function(){var a,b,f,c,d,m;a=w.ud.cookie.split("; ");b=a.length;m={};for(f=0;f<b;f++)if(c=v.trim(a[f]))d=c.indexOf("="),0<d&&(m[c.substr(0,d)]=c.substr(d+1));return m;};d.SEb=b;d.L4=Object.assign(b,{Pka:void 0});d.KT=c;d.WJ=function(a){var b;b="";v.pc(a,function(a,f){b&&(b+="&");u.wa(z.Sd(f)||D.ka(f)||D.nta(f));b+=encodeURIComponent(a)+"="+encodeURIComponent(f);});return b;};d.getFunctionName=h;d.era=l;d.pwa=function(a){var b;b="";D.isArray(a)||D.Gta(a)?b=w.reduce.call(a,function(a,b){return a+(32<=b&&128>b?w.vPa(b):".");},""):z.Sd(a)?b=a:v.pc(a,function(a,f){b+=(b?", ":"")+"{"+a+": "+(D.qb(f)?h(f)||"function":f)+"}";});return"["+l(a)+" "+b+"]";};d.yHb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};d.vH=d.vH||function(a){var b;b="";v.pc(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};d.wFb=function(a,b){var f;f=a[0];if(b<=f[0])return f.slice(1);for(var c=1,d;d=a[c++];){if(b<=d[0]){a=(b-f[0])/(d[0]-f[0]);b=[];for(c=1;c<f.length;c++)b.push((f[c]||0)+a*((d[c]||0)-(f[c]||0)));return b;}f=d;}return f.slice(1);};d.otb=function(a,b){var d;for(var f={},c=0;c<b.length;c++){d=b[c];if("string"!=typeof d&&"number"!=typeof d)return!1;f[b[c]]=1;}for(c=0;c<a.length;c++)if(d=a[c],!f[d])return!1;return!0;};d.aDa=function(a,b){0>a.indexOf(b)&&a.push(b);};d.$V=f;d.qtb=p;d.Gba=function(a,b){var f,c,d,m;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(d=a[f])&&d<=d);)d=void 0;for(;++f<c;)null!=(m=a[f])&&m>d&&(d=m);}else{for(;++f<c&&!(null!=(d=b.call(a,a[f],f))&&d<=d);)d=void 0;for(;++f<c;)null!=(m=b.call(a,a[f],f))&&m>d&&(d=m);}return d;};d.ptb=function(a,b){var f,c,d,m;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(d=a[f])&&d<=d);)d=void 0;for(;++f<c;)null!=(m=a[f])&&d>m&&(d=m);}else{for(;++f<c&&!(null!=(d=b.call(a,a[f],f))&&d<=d);)d=void 0;for(;++f<c;)null!=(m=b.call(a,a[f],f))&&d>m&&(d=m);}return d;};d.Vhb=function(a){return D.qb(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};d.gEb=function(a,b){var d,m,p,q,l,h;function c(a){0>d.indexOf(a)&&D.ka(a)&&d.push(a);}a=a.slice();f(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];m=b.length;try{for(;m--;){l=""+b[m];h=z.Ad(l);switch(l[l.length-1]){case"-":for(p=a.length;p--;)if(q=a[p],q<h){c(q);break;}break;case"+":for(p=0;p<a.length;p++)if(q=a[p],q>h){c(q);break;}break;default:0<=a.indexOf(h)&&c(h);}}}catch(da){}d.length||d.push(a[0]);f(d);return d;};d.nR=d.nR||function(a,b,f){var c;a/b>f?(c=w.Tf(b*f),a=b):(c=a,a=w.Tf(a/f));return{width:c,height:a};};d.xCb=function(a,b,f){for(var c=[],d=0;d<b;d++)c.push(w.Yea(a[d]-f,2));return w.mKa(p(c)/c.length);};d.gu=function(a,b){var f;f=a.length;b=(f-1)*b+1;if(1===b)return a[0];if(b==f)return a[f-1];f=w.rq(b);return a[f-1]+(b-f)*(a[f]-a[f-1]);};d.iEb=function(a,b){if(!D.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=D.isArray(b)?b:[b];for(var f=a.length,c=0;c<f;c++)for(var d=0;d<b.length;d++)if(a[c].type==b[d])return a[c];throw Error("Box not found "+b);};d.$tb=function(a){return a.Jr("trak/mdia/minf/stbl/stsd/"+q.ODa+"|"+q.PDa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.C3.schm.Nmb;})[0].Jr("schi/tenc").lJ;};d.Ztb=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};d.zcb=m;d.wS=function(a){return m()||a.nL;};d.rHb=function(a){return function(b){return b&&b[a];};};D.qb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);f=new ArrayBuffer(b-a);c=new Uint8Array(f);a=new Uint8Array(this,a,b-a);c.set(a);return f;});d.h6=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.$8a=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.IR=function(){var a,b,f;try{a=/playercore.*js/;b=w.tq.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){f=w.Tf(b[0].duration);return JSON.stringify(f);}}catch(G){}};d.tHb=function(a,b,f){if(a&&a.length)if(f&&f.w_a)try{a.forEach(function(a,c){var d;d=(c=f.w_a[c])&&c.media;d&&z.Sd(d)?(d=x.Bn(d).buffer,a.media={arrayBuffer:d,length:d.byteLength,stream:b,Mb:c.cdn}):x.log.warn("chunk not in cache",a.Hf);});}catch(G){x.log.error("error reading cached chunks",G);}else x.log.warn("chunks not available in cached stream",f.type);else x.log.warn("chunks not available in mediabuffer",f.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wf="SchedulerSymbol";},function(g,d,a){var h;function b(a){return h.sN.apply(this,arguments)||this;}function c(a){return new h.Jo(a,d.Rz);}Object.defineProperty(d,"__esModule",{value:!0});h=a(465);ia(b,h.sN);d.jub=b;d.MP=c;d.Z=function(a){return new h.Jo(a,d.Vl);};d.SFb=function(a){return new h.Jo(a,d.uea);};d.nGb=function(a){return new h.Jo(a,d.zKa);};d.Rz=new b(1,"b");d.Vl=new b(8*d.Rz.ve,"B",d.Rz);d.uea=new b(1024*d.Vl.ve,"KB",d.Rz);d.zKa=new b(1024*d.uea.ve,"MB",d.Rz);d.Rf=c(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$s="named";d.XM="name";d.SF="unmanaged";d.Cfa="optional";d.nF="inject";d.jw="multi_inject";d.wha="inversify:tagged";d.xha="inversify:tagged_props";d.kY="inversify:paramtypes";d.uFa="design:paramtypes";d.HF="post_construct";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(749),d);g=a(5);a=a(26);d.qMa={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,enableCongestionService:!1,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:a.pj.tW,editAudioFragments:!0,editVideoFragments:!0,useSetServerCertificateApi:!0,useTypescriptEme:!0};d.xyb=function(){return{};};a:{try{b=g.nj.buildID;break a;}catch(c){}b=void 0;}d.FF={ffbldid:b};},function(g,d,a){var q,u,x,v,z,w,D,y,k,P,G,n,r,O,X,V;function b(a){var b,f,c,d;b=a.url.split("?");f=b[0];c="sc="+a.Pmb;d=a.ana?"random="+(1E17*n.xF()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(d?"&"+d:"");a.Mb&&!z.h6(f)&&(a=x.config&&x.config.m1)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function c(a){var b,f,c,d;b=a.url.split("?");f=b[0];c="bb_reason="+a.reason;d=a.ana?"random="+(1E17*n.xF()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(d?"&"+d:"");a.Mb&&!z.h6(f)&&(a=x.config&&x.config.m1)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function h(a,b){var f,c,d,m,p;f=a.url.split("?");c=f[0];d=l(a);if(d){b.Mp=d;m=void 0===a.LL?[]:a.LL;X.href=c;p=X.host;m.some(function(a){return-1<p.indexOf(a);})?(a.headers=a.headers||{},a.headers.Range="bytes="+d):(b.Mp=d,c="/"==c[c.length-1]?c+"range/":c+"/range/",c+=d);}d=a.ana?"random="+(1E17*n.xF()).toFixed(0):"";m="";x.config.kp&&a.YU&&(m="sc="+a.YU,d=m+(d?"&"+d:""));c=f[1]?c+("?"+f[1]+(d?"&"+d:"")):c+(d?"?"+d:"");a.Mb&&!z.h6(c)&&(a=x.config&&x.config.m1)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function l(a){var b;b=a.offset;if(void 0!==b)return P.sQ(b),void 0!==a.length?(a=a.offset+a.length-1,P.sQ(a),P.wa(b<=a),b+"-"+a):b+"-";}function f(){return!1!==n.nj.onLine;}function p(a,b,f,c){var m,p;m=c.Q8;p=c.headers;a.open(m?"POST":"GET",b,!f);switch(c.responseType){case d.OC:a.responseType="arraybuffer";break;case d.Gsa:G.RZa(a,"overrideMimeType",void 0,"text/xml");}m&&(b={"Content-Type":D.Sd(m)?"text/plain":"application/x-octet-stream"},p=p?D.La(b,p):b);p&&G.pc(p,function(b,f){a.setRequestHeader(b,f);});c.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");m?a.send(m):a.send();}function m(a,b){switch(b.type){case d.OC:return a.response||new ArrayBuffer(0);case d.Gsa:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});q=a(19);u=a(68);x=a(9);v=a(6);z=a(29);w=a(21);D=a(18);y=a(2);k=a(3);P=a(12);G=a(17);n=a(5);r=a(42);O=a(15);X=document.createElement("a");d.Bb=function(){var z,E,G,n;function a(a){var b;try{b=a.url;O.Hta(b)?0===b.indexOf("https")?n.ssl++:0===b.indexOf("http")?n["non-ssl"]++:n.invalid++:n.invalid++;}catch(ka){}}function l(){E.wb(d.qbb);E.wb(d.Hsa);}function g(){E.wb(d.z5);E.wb(d.Hsa);}z=k.yd("Http");E=new u.Oj();G=0;n={ssl:0,"non-ssl":0,invalid:0};q.Re(y.I.eea,function(a){x.config.bsb&&(A.addEventListener("online",l),A.addEventListener("offline",g),d.y5=f);a(v.Fb);});return{addEventListener:E.addListener,removeEventListener:E.removeListener,download:function(b,f){var la,L,H,U,S,X,t,aa,Y,da,Z;function c(){var a;c=D.Qb;Z&&(clearTimeout(Z),Z=null);E.removeListener(d.z5,u);Y&&(Y.onloadstart=null,Y.onreadystatechange=null,Y.onprogress=null,Y.onerror=null,Y.onload=null,Y=Y.onabort=null);aa.S||(aa.T!=y.H.Qs?la.warn("Download failed",L,y.hn(aa)):la.trace("Download aborted",L));a=H;H=void 0;for(var b=a.length;b--;)(function(){var f;f=a[b];r.hb(function(){f(aa);});}());E.wb(d.obb,aa,!0);}function q(){Z&&(clearTimeout(Z),Z=null);Z=setTimeout(v,da?t:X);}function l(a,b,f,d){var m,p;aa.S=!1;aa.T=a;m=w.xc();p=aa.Xi;p.Lf=p.Lf||m;p.Kk=p.Kk||m;0<b&&(aa.Ah=aa.jc=b);f&&(aa.Ja=f);d&&(aa.fj=d);a!==y.H.jF&&a!==y.H.dw&&a!==y.H.lF||!Y||(Y.onabort=null,Q());c();}function g(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f&&(b=JSON.parse(f));}catch(Ya){}return b;}function u(){d.y5()||l(y.H.jF);}function v(){l(da?y.H.dw:y.H.lF);}function Q(){try{Y&&Y.abort();}catch(sb){}}function n(){l(y.H.Qs);}P.wa(f);la=b.j&&b.j.log&&k.qf(b.j,"Http")||z;L={Num:G++};H=[f];U={};X=b.cQ||x.config.cQ;t=b.h8||x.config.h8;a(b);aa=function(){var a,f,d;a=D.Qb;f=D.Qb;d=D.Qb;return{request:b,type:b.responseType,Xi:U,abort:Q,timeout:v,Ela:function(a){c!==D.Qb&&(P.wa(H,"Callback should be added before download starts."),H&&H.unshift(a));},CT:function(a){d(a);},DT:function(b){a(b);},zD:function(a){f(a);},Snb:function(a){d=a;},bob:function(b){a=b;},Qnb:function(a){f=a;}};}();r.hb(function(){var a,f;if(O.Hta(b.url))try{if(h(b,aa),S=aa.url,P.GH(S),L.Url=S,d.y5()){Y=new XMLHttpRequest();a=x.config.fsb&&"undefined"!=typeof Y.onloadstart;a&&(Y.onloadstart=function(){var a;a=w.xc();U.requestTime=a;aa.CT({mediaRequest:b,timestamp:a});});Y.onreadystatechange=function(){if(2==Y.readyState){da=!0;U.Lf=w.xc();Y.onreadystatechange=null;q();for(var a=aa,f=Y.getAllResponseHeaders().split("\n"),c=f.length,d,m,p={};c--;)if(d=f[c])m=d.indexOf(": "),1<=m&&m<d.length-1&&(p[d.substr(0,m)]=d.substr(m+2));a.headers=p;aa.DT({timestamp:U.Lf,connect:!0,mediaRequest:b,start:U.requestTime,rt:[U.Lf-U.requestTime]});}};Y.onprogress=function(a){da=!0;U.xr=a.loaded;q();a={mediaRequest:b,bytes:a.loaded,tempstamp:w.xc(),bytesLoaded:a.loaded};aa.DT(a);};Y.onload=function(){var a;if(c!==D.Qb){P.wa(void 0===U.Kk);U.Kk=w.xc();U.Lf=U.Lf||U.Kk;if(200<=Y.status&&299>=Y.status)if(a=m(Y,aa),b.u)try{aa.content=b.u(a,aa);aa.S=!0;aa.parsed=!0;aa.raw=a;}catch(Ya){la.warn("Exception parsing response",Ya,L);l(y.H.BX,void 0,D.$c(Ya));}else aa.parsed=!1,aa.content=a,aa.S=!0;else Y.status==V?l(y.H.$z,Y.status):l(y.H.kF,Y.status,Y.response,g(Y));c();}};Y.onabort=n;Y.onerror=function(){var a,b;a=Y.status;"undefined"!==typeof x.config.Dqa&&(a=x.config.Dqa);if(0<a)if(a==V)l(y.H.$z,a);else{try{b=Y.responseText;}catch(Kb){}l(y.H.kF,a,b,g(Y));}else l(y.H.aA);};f=w.xc();p(Y,S,!1,b);E.wb(d.pbb,aa,!0);a||(U.requestTime=f,aa.CT({mediaRequest:b,timestamp:f}));q();E.addListener(d.z5,u);}else r.hb(l.bind(void 0,y.H.jF));}catch(Ua){la.error("Exception starting download",Ua,L);l(y.H.FX,void 0,D.$c(Ua));}else l(y.H.zda);});return aa;},cc:n,Rgb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Fob:function(a){var f;f=new XMLHttpRequest();a=b(a);f.open("HEAD",a);f.onreadystatechange=function(){};f.send();},gkb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.dkb;b.open("HEAD",f);b.timeout=Math.max(2*c.Wdb,x.config.Z8);b.onreadystatechange=function(){2==b.readyState&&c&&c.Zi({url:f});};b.ontimeout=b.onerror=function(){c&&c.o8({url:f});};b.send();}};}();d.jFb=b;d.gFb=c;d.iFb=h;d.hFb=l;d.y5=v.jOa;d.kFb=f;d.OAb=p;d.NAb=m;d.pbb=1;d.obb=2;d.qbb=3;d.z5=4;d.Hsa=5;d.Fsa=1;d.Gsa=2;d.OC=3;V=420;A._cad_global||(A._cad_global={});A._cad_global.http=d.Bb;},function(g,d,a){var l,f,p;function b(a){return function(b,f){return b.p9(f,a);};}function c(a,b){return a.jU.Ekb[b]||h(a,b);}function h(a,b){a=a.Rr.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});l=a(31);f=a(4);p=a(135);d.config=function(a,b){return function(f,d,m){var q,l;q=void 0!==b?b:d;l=m.get;void 0!==l&&(m.get=function(){var b;if(!this.Bcb(d))return this.p$a(d);a:{b=(this.zXa?c:h)(this,q.toString());if(void 0!==b)if(b=a(this.VJ,b),b instanceof p.Zl)this.Eqa(q,b);else break a;b=l.bind(this)();}this.qmb(d,b);return b;});return m;};};d.U5=function(a,b){return a.$xa(b);};d.Yd=function(a,b){return a.n9(b);};d.Mv=function(a,b){return a.Ea(b);};d.string=function(a,b){return a.p9(b);};d.eaa=function(a,b){return a.He(b,d.string);};d.xFb=function(a,b){return a.He(b,d.U5);};d.wBa=function(a,b){return a.He(b,d.Mv);};d.Dg=function(a,b){a=a.Ea(b);return a instanceof p.Zl?a:f.xb(a);};d.Z=function(a,b){a=a.Ea(b);return a instanceof p.Zl?a:l.Z(a);};d.url=b(/^\S+$/);d.NDb=function(a){return function(b,f){return b.Yxa(f,a);};};d.object=function(){return function(a,b){return a.aya(b);};};d.pya=b;d.zn=function(a,b){return function(f,c){return f.He(c,a,b);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.kq=!1;g=function(){function a(a,b,f,c){this.u=a;this.type=b;this.startOffset=f;this.length=c;this.level=0;this.Yb={};a&&(this.level=a.level);this.BD=c;}a.prototype.Ie=function(){var a,b,f;this.version=this.u.Rc();a=this.u.Rc();b=this.u.Rc();f=this.u.Rc();this.oe=a<<16|b<<8|f;};a.prototype.lI=function(a){var f;function b(b){b&&b.lI&&(b=b.lI(a),b.length&&(f=f.concat(b)));}f=[];this.type===a&&f.push(this);if(this.Yb)for(var c in this.Yb)this.Yb[c].forEach(b);return f;};a.prototype.mI=function(a){return this.lI(a)[0];};a.prototype.parse=function(){return!0;};a.prototype.rI=function(a){this.u.Ia(a.type,a);};a.prototype.Abb=function(){};a.prototype.yo=function(a){return void 0!==this.Yb[a]&&1===this.Yb[a].length?this.Yb[a][0]:void 0;};a.prototype.sj=function(a,c){c=void 0===c?this.u.offset:c;b(c>=this.startOffset+8&&c+a<=this.startOffset+this.BD,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.BD).toString(16)+")");d.kq&&this.u.Hb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length-a));this.length-=a;this.u.fl(this.length,!1,this.startOffset);this.u.sj(a,c);};a.prototype.dya=function(a,b,f){if(1<f){for(var c=[];0<f--;)c.push(this.Ska(a,b));return c;}return this.Ska(a,b);};a.prototype.Np=function(a){var b,f;f=this;void 0===b&&(b={});a.forEach(function(a){var c,d;if("offset"===a.type){f.u.Hb("Adding offset:"+a.offset);c=a.offset;if(0<c%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");f.u.offset+=c/8;}else for(c in a){d=a[c];b[c]="string"===typeof d?f.dya(d):f.dya(d.type,d.length,d.PXa);}});return b;};a.prototype.zr=function(a,b){var f,c;f=this.u.offset;c=this.length-(f-this.startOffset);0<c&&(b=this.u.a2(this,f,c,b),b.So=void 0,b.addEventListener("error",this.rI.bind(this)),b.addEventListener("drmheader",this.rI.bind(this)),b.addEventListener("nflxheader",this.rI.bind(this)),b.addEventListener("keyid",this.rI.bind(this)),b.addEventListener("requestdata",this.Abb.bind(this)),b.addEventListener("sampledescriptions",this.rI.bind(this)),this.Yb=b.Yb,b.parse(a));return!0;};a.prototype.fB=function(a,c,f){f=void 0===f?this.u.offset:f;b(f>=this.startOffset+8&&f+a<=this.startOffset+this.BD,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.BD).toString(16)+")");d.kq&&this.u.Hb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length+(c?c.byteLength:0)-a));this.length+=(c?c.byteLength:0)-a;this.u.fl(this.length,!1,this.startOffset);this.u.fB(a,c,f);};a.prototype.Ska=function(a,b){var f;f=this.length-this.u.offset+this.startOffset;"undefined"===typeof b&&(b=f);switch(a){case"int8":a=this.u.Rc();break;case"int64":a=this.u.ph();break;case"int32":a=this.u.fb();break;case"int16":a=this.u.lf();break;case"string":a=this.u.Mkb(Math.min(b,f));break;default:throw Error("Invalid type: "+a);}return a;};return a;}();d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wi="ClockSymbol";},function(g,d,a){var h,l,f,p;function b(a,b){var f;f=p.call(this,a,b)||this;f.Sna=b;f.debug=a.debug;f.ga=a.$e.lb(f.Sna);return f;}function c(a,b){this.Sna=b;this.f9={};this.Rr=a.Rr;this.VJ=a.VJ;this.jU=a.jU;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1E3);l=a(1);f=a(135);d.DPa="isTestAccount";c.prototype.Eqa=function(){};c.prototype.qmb=function(a,b){this.f9[a]=[b,this.Rr.Vya];};c.prototype.Bcb=function(a){return h.Ffa.of(this.f9[a]).map(function(a){return a[1];}).Iwa(-1)<this.Rr.Vya;};c.prototype.p$a=function(a){return h.Ffa.of(this.f9[a]).map(function(a){return a[0];}).Iwa(function(){throw Error("Invalid State Error");});};na.Object.defineProperties(c.prototype,{zXa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Rr&&this.Rr.data){a=this.Rr.data[d.DPa];"undefined"!==typeof a&&(b=a.toString());a=this.VJ.n9(b);a=a instanceof f.Zl?!1:a;}else a=!1;return a;}}});p=c;p=g.__decorate([l.N(),g.__param(0,l.Hg()),g.__param(1,l.Hg())],p);d.dM=p;ia(b,p);b.prototype.Eqa=function(a,b){this.ga.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,l.Hg()),g.__param(1,l.Hg())],a);d.Xd=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aia="WindowTimersSymbol";d.Ts="JSONSymbol";d.CF="NavigatorSymbol";d.xKa="MediaSourceSymbol";d.Bea="LocationSymbol";d.Gca="DateSymbol";d.uY="PerformanceSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sj={tua:"logblob",Fa:"manifest",Ze:"license",events:"events",bind:"bind",Swa:"pair"};g=d.Vf||(d.Vf={});g[g.ew=20]="High";g[g.ZX=10]="Medium";g[g.Ys=0]="Low";d.DY={Vf:"reqPriority",rOa:"reqAttempt",sOa:"reqName"};},function(g,d,a){var c,h;function b(a,f){var p;p=d.zq[0];p==f&&(p=d.zq[1]);p?p.close(function(){b(a,f);}):a&&a(c.Fb);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);g=a(16);d.uga=b;d.xga=function(a,b){switch(a){case d.sga:d.vga.push(b);return;case d.tga:d.wga.push(b);return;}h.wa(!1);};d.zq=[];d.vga=[];d.wga=[];d.sga=1;d.tga=3;d.wY={zNa:0,BNa:void 0,iN:void 0};d.rga="network";d.qga="media";d.xNa="timedtext";d.tA=g.Lg.NOa;d.$l=g.Lg.IY;d.ln=g.Lg.Cq;d.LF=g.Lg.HY;d.KF=g.Lg.GY;d.Tk=g.gM.rfa;d.Js=g.gM.Is;d.Zba=g.gM.LOa;d.Ai=g.am.VF;d.Lo=g.am.jf;d.Aq=g.am.yq;d.tw=g.am.OW;d.yNa="playback";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hb=function(a){return setTimeout(a,0);};},function(g,d,a){var l,f;function b(a){return a&&a.Ge&&a.inRange&&!a.Dh&&!1!==a.vl;}function c(a,b,f){return!l.ka(a)||a<b?b:a>f?f:a;}function h(a){if(!(this instanceof h))return new h(a);this.Ed=l.ka(a)?a:void 0;}l=a(11);f=new(a(8)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.M={console:f,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",f.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},ny:b,B3:function(a,b,f){var m,p,q,h;function d(b){var c;c=a[b];if(!c.Ge||!c.inRange||c.Dh||f&&!f(c,b))return!1;h=b;return!0;}m=a.length;p=0;q=m;l.isArray(b)&&(p=c(b[0],0,m),q=c(b[1],0,m),b=b[2]);b=c(b,p-1,q);for(m=b-1;m>=p;--m)if(d(m))return h;for(m=b+1;m<q;++m)if(d(m))return h;return-1;},ggb:function(a,b){return Math.floor(a/(125*b)*1E3);},sZa:function(a,b){return Math.ceil(a/1E3*b*125);},oR:function(a,b,f){var c;c=a.length-1;for(b=f?b.bind(f):b;0<=c;--c)b(a[c],c,a);},GFb:function(a,f){return!a.slice(f+1).some(b);},Mo:h,OXa:function(a,b){var f;return a.some(function(a,c,d){f=a;return b(a,c,d);})?f:void 0;},qma:function(a,b){var f;return a.some(function(a,c,d){f=c;return b(a,c,d);})?f:-1;},MB:c};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kj="Base64EncoderSymbol";},function(g,d,a){var c;function b(a,b,f,d,m,q,g,x,v,z,w){this.code=void 0===a?c.I.Qh:a;this.tc=b;this.Df=f;this.Qx=d;this.Fp=m;this.message=q;this.ZB=g;this.data=x;this.mk=v;this.ojb=z;this.alert=w;this.S=!1;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);b.$c=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!==a.indexOf(c)&&(a=c+"\n"+a)):a=c;f&&(a+="\nnumber:"+f);return a;}return"";};b.prototype.NH=function(a){this.ZB=b.$c(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.tc,extCode:this.Df,edgeCode:this.Qx,mslCode:this.Fp,message:this.message,details:this.ZB,data:this.data,errorDisplayMessage:this.mk,playbackServiceError:this.ojb};};d.Wb=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qj="PboCommandContextSymbol";},function(g,d,a){var h;function b(){h(!1);}function c(a){a.set=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});h=a(14);d.Zh=function(a,b){Object.defineProperties(a,b);};d.IGb=b;d.L=c;d.so=function(a){a.set=b;return a;};d.yXa=function(a){var b;b={};Object.getOwnPropertyNames(a).forEach(function(f){b[f]=c(a[f]);});return b;};},function(g){g.M=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(g,d,a){var b,c;b=a(111);c=a(156);g.M=function(a){return function f(d,m){switch(arguments.length){case 0:return f;case 1:return c(d)?f:b(function(b){return a(d,b);});default:return c(d)&&c(m)?f:c(d)?b(function(b){return a(b,m);}):c(m)?b(function(b){return a(d,b);}):a(d,m);}};};},function(g,d,a){var b,c,h,l,f,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(458);g=a(71);h=a(240);l=a(239);f=function(a){function c(b,c,d){var m;a.call(this);this.zz=null;this.Ef=this.Kj=this.yz=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!b){this.destination=h.empty;break;}if("object"===typeof b){if(b instanceof f||"syncErrorThrowable"in b&&b[l.rz]){m=b[l.rz]();this.Kj=m.Kj;this.destination=m;m.add(this);}else this.Kj=!0,this.destination=new p(this,b);break;}default:this.Kj=!0,this.destination=new p(this,b,c,d);}}b(c,a);c.prototype[l.rz]=function(){return this;};c.create=function(a,b,f){a=new c(a,b,f);a.Kj=!1;return a;};c.prototype.next=function(a){this.Ef||this.Sg(a);};c.prototype.error=function(a){this.Ef||(this.Ef=!0,this.Rb(a));};c.prototype.complete=function(){this.Ef||(this.Ef=!0,this.ub());};c.prototype.unsubscribe=function(){this.closed||(this.Ef=!0,a.prototype.unsubscribe.call(this));};c.prototype.Sg=function(a){this.destination.next(a);};c.prototype.Rb=function(a){this.destination.error(a);this.unsubscribe();};c.prototype.ub=function(){this.destination.complete();this.unsubscribe();};c.prototype.kWa=function(){var a,b;a=this.qm;b=this.Xw;this.Xw=this.qm=null;this.unsubscribe();this.Ef=this.closed=!1;this.qm=a;this.Xw=b;};return c;}(g.Tj);d.Ph=f;p=function(a){function f(b,f,d,m){var p;a.call(this);this.vG=b;b=this;c.qb(f)?p=f:f&&(p=f.next,d=f.error,m=f.complete,f!==h.empty&&(b=Object.create(f),c.qb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.Rh=b;this.Sg=p;this.Rb=d;this.ub=m;}b(f,a);f.prototype.next=function(a){var b;if(!this.Ef&&this.Sg){b=this.vG;b.Kj?this.aZ(b,this.Sg,a)&&this.unsubscribe():this.bZ(this.Sg,a);}};f.prototype.error=function(a){var b;if(!this.Ef){b=this.vG;if(this.Rb)b.Kj?this.aZ(b,this.Rb,a):this.bZ(this.Rb,a),this.unsubscribe();else if(b.Kj)b.zz=a,b.yz=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};f.prototype.complete=function(){var a,b,f;a=this;if(!this.Ef){b=this.vG;if(this.ub){f=function(){return a.ub.call(a.Rh);};b.Kj?this.aZ(b,f):this.bZ(f);}this.unsubscribe();}};f.prototype.bZ=function(a,b){try{a.call(this.Rh,b);}catch(v){throw this.unsubscribe(),v;}};f.prototype.aZ=function(a,b,f){try{b.call(this.Rh,f);}catch(z){return a.zz=z,a.yz=!0;}return!1;};f.prototype.Yq=function(){var a;a=this.vG;this.vG=this.Rh=null;a.unsubscribe();};return f;}(f);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$gb=function(a,b){return a-b;};d.zIb=function(a,b){return a.localeCompare(b);};d.xk=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Os||(d.Os={});g[g.Dha=0]="Test";g[g.nea=1]="Int";g[g.oPa=2]="Staging";g[g.aOa=3]="Prod";d.Xl="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sha="StorageValidatorSymbol";d.Ul="AppStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$Fa="Cannot apply @injectable decorator multiple times.";d.aGa="Metadata key was used more than once in a parameter:";d.BF="NULL argument";d.sea="Key Not Found";d.xCa="Ambiguous match found for serviceIdentifier:";d.YDa="Could not unbind serviceIdentifier:";d.ZKa="No matching bindings found for serviceIdentifier:";d.PJa="Missing required @injectable annotation in:";d.QJa="Missing required @inject or @multiInject annotation in:";d.kQa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.aEa="Circular dependency found:";d.Nxb="Sorry, this feature is not fully implemented yet.";d.BIa="Invalid binding type:";d.$Ka="No snapshot available to restore.";d.EIa="Invalid return type in middleware. Middleware must return!";d.Dwb="Value provided to function binding must be a function!";d.GIa="The toSelf function can only be applied when a constructor is used as service identifier";d.CIa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.yCa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.pEa="Invalid Container constructor argument. Container options must be an object.";d.nEa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.mEa="Invalid Container option. Auto bind injectable must be a boolean";d.oEa="Invalid Container option. Skip base check must be a boolean";d.bKa="Cannot apply @postConstruct decorator multiple times in the same class";d.QMa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.bEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.KOa="Maximum call stack size exceeded";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(68);b=a(42);c=a(5);d.ee=new g.Oj();d.sk=1;d.dy=2;d.e5=3;d.JI=4;d.d5=5;b.hb(function(){var b,f,p;function a(a,b){if(f)f.on(a,b);else A.addEventListener(a,b);}b=A.jQuery;f=b&&b(A);b=(b=A.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;p=c.ud.hidden;b?b(function(a){d.ee.wb(d.sk,a);}):a("beforeunload",function(a){d.ee.wb(d.sk,a);});a("keydown",function(a){d.ee.wb(d.dy,a);});a("resize",function(){d.ee.wb(d.e5);});c.ud.addEventListener("visibilitychange",function(){p!==c.ud.hidden&&(p=c.ud.hidden,d.ee.wb(d.JI));});});(function(){A.addEventListener("error",function(a){d.ee.wb(d.d5,a);return!0;});}());},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(748),d);d.yeb=function(b){d.platform.VI(b);return a(746);};d.HEb=function(){return a(377);};d.yGb=function(){return a(201);};g=a(13);d.Sb=g;g=a(648);d.ru=g;g=a(8);d.platform=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QX="LogBatcherConfigSymbol";d.Xs="LogBatcherSymbol";d.Cea="LogBatcherProviderSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.SN=function(a){b("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.Jia=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.aBb=function(a,b){return Math.floor(1E3*a/b);};},function(g,d){var c;function a(a,b,f,c){var d;Object.getOwnPropertyNames(a).filter(function(a){return(!c||c(a))&&(f||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(f){d=Object.getOwnPropertyDescriptor(a,f);void 0!==d&&Object.defineProperty(b,f,d);});}function b(c,d,f){var p,m;p=f?[]:Object.keys(d);m=Object.getPrototypeOf(c);null!==m&&m!==Object.prototype&&b(m,d,f);a(c,d,!0,function(a){return"constructor"!==a&&-1===p.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});c=Object.getOwnPropertyNames(Function);d.Pk=function(d,l,f){void 0===f&&(f=!0);d.prototype?(b(d.prototype,l.prototype,f),a(d,l,f,function(a){return-1===c.indexOf(a);})):a(d,l.prototype,f,function(a){return-1===c.indexOf(a);});};},function(g,d,a){var u;function b(a,b){if(a.length==b.length){for(var c=a.length,d=0,m=f(a),p=f(b),q=0;q<c;q++)d+=a[q]*b[q];return(d-m*p/c)/c;}return!1;}function c(a){if(!Array.isArray(a))return!1;a=h(a);return Math.sqrt(a);}function h(a){var b;if(!Array.isArray(a))return!1;b=l(a);return f(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function l(a){return Array.isArray(a)?f(a)/a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function p(a,b,f){return Math.max(Math.min(a,f),b);}function m(a,b){return"number"===typeof a?a:b;}function q(a){return 1/(1+Math.exp(-a));}u=a(11);g.M={Ia:function(a,b,f){try{a.Ia(b,f);}catch(w){a.Rb("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",f);}},wr:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a+b.byteLength;},0);return f.buffer;},MB:p,z_a:function(a,b,f,c){return{min:p(m(a.min,b),f,c),max:p(m(a.max,b),f,c),ur:p(a.ur||6E4,0,6E5),lna:p(a.lna||0,-3E5,3E5),scale:p(a.scale||6E4,0,3E5),kza:p(a.kza||0,-3E5,3E5),gamma:p(a.gamma||1,.1,10)};},pc:function(a,b){void 0!==a&&u.dib(a).forEach(function(a){b(a[0],a[1]);});},p6a:function(a,b,f){return a.min+(a.max-a.min)*(1-Math.pow(q(6*(b-(a.ur+(a.lna||0)*(1-f)))/(a.scale+(a.kza||0)*(1-f))),a.gamma));},q6a:function(a,b){return a.min+(a.max-a.min)*Math.pow(q(6*(b-a.ur)/a.scale),a.gamma);},L$a:f,h8a:l,gab:h,E$a:c,CEb:b,BEb:function(a,f){var d;if(a.length==f.length){d=b(a,f);a=c(a);f=c(f);return d/(a*f);}return!1;},yJ:function(a,b,f){return b.B2a?b.B2a(f):new a.Console("ASEJS","media|asejs",f);},j$:function(a){return a.length?"{"+a+"} ":"";},Lmb:function(a,b,f){return{min:a.min*f+(1-f)*b.min,max:a.max*f+(1-f)*b.max,ur:a.ur*f+(1-f)*b.ur,scale:a.scale*f+(1-f)*b.scale,gamma:a.gamma*f+(1-f)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},Gob:q};},function(g,d,a){var f;function b(){}function c(){}function h(){}function l(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(112);(function(a){a[a.bm=0]="STANDARD";a[a.Vs=1]="LIMITED";a[a.Nyb=2]="PREVIEW";}(f||(f={})));l.fca="created";l.aha="started";l.jha="succeeded";l.oq="failed";l.Sz="cancelled";l.jM="cancelled_on_create";l.SE="cancelled_on_start";l.iM="cancelled_not_encrypted";d.Vd=l;h.AAb="uirequest";h.Myb="prefetch_start";h.Kyb="prefetch_complete";h.Lyb="prefetch_delete";h.NLa="periodic_update";(function(a){a[a.Wfa=0]="PRE_FETCH";a[a.Nga=1]="QC";a[a.bm=2]="STANDARD";a[a.kha=3]="SUPPLEMENTAL";a[a.YFa=4]="DOWNLOAD";}(g=d.jn||(d.jn={})));a={manifest:a.Wd.vi.sba,ldl:a.Wd.vi.fw,getHeaders:a.Wd.vi.gF,getMedia:a.Wd.vi.MEDIA};c.MCa="asl_start";c.JCa="asl_comp";c.KCa="asl_exc";c.LCa="asl_fail";c.OOa="stf_creat";c.$Ha="idb_open";c.XHa="idb_block";c.gIa="idb_upgr";c.fIa="idb_succ";c.YHa="idb_error";c.ZHa="idb_invalid_state";c.bIa="idb_open_timeout";c.dIa="idb_open_wrkarnd";c.eIa="idb_storelen_exc";c.aIa="idb_open_exc";c.cIa="idb_timeout_invalid_storelen";c.VJa="msl_load_data";c.XJa="msl_load_no_data";c.WJa="msl_load_failed";d.oj=c;b.Uwb=f;b.$na=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Vd=l;b.RMa=h;b.jn=g;b.o0a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.IF=a;b.oj=c;d.dd=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mh={start:"start",stop:"stop",kJ:"keepAlive",resume:"resume",pause:"pause",cI:"engage",splice:"splice"};d.SW="EventPboCommandFactorySymbol";d.pha="StartEventPboCommandSymbol";d.qha="StopEventPboCommandSymbol";d.tea="KeepAliveEventPboCommandSymbol";d.Yfa="PauseEventPboCommandSymbol";d.Vga="ResumeEventPboCommandSymbol";d.nha="SpliceEventPboCommandSymbol";d.fda="EngageEventPboCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rj="PlayerErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gn="EmeConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cba="AccountManagerSymbol";d.iq="AccountManagerProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kn="PlatformSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.$s?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d,a){var c,h,l;function b(){var a,b;a=this;this.rn={};this.KUa=h.da.get(l.Jga);this.on=function(b,f,c){a.addListener(b,f,c);};this.addListener=function(b,f,c){a.rn&&(a.rn[b]=a.rn[b]||a.KUa()).add(f,c);};this.removeListener=function(b,f){a.rn&&a.rn[b]&&a.rn[b].removeAll(f);};this.q4=function(b){return a.rn&&a.rn[b]?a.rn[b].r7a():[];};b=this;this.wb=function(a,f,d){var m;if(b.rn){m=b.q4(a);for(a={ei:0};a.ei<m.length;a={ei:a.ei},a.ei++)d?function(a){return function(){var b;b=m[a.ei];c.hb(function(){b(f);});};}(a)():m[a.ei].call(this,f);}};}Object.defineProperty(d,"__esModule",{value:!0});c=a(42);h=a(3);l=a(425);b.prototype.cC=function(){this.rn=void 0;};d.Oj=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BM="EventSourceSymbol";d.VW="GlobalEventSourceSymbol";d.XE="DebugEventSourceSymbol";},function(g,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});ia(a,Error);d.nn=a;d.uA="PromiseTimerSymbol";},function(g,d,a){var c,h,l,f,p,m;function b(a){return a.reduce(function(a,b){return a.concat(b instanceof m.tN?b.gI:b);},[]);}c=a(102);h=a(459);l=a(458);f=a(993);p=a(457);m=a(992);g=function(){function a(a){this.closed=!1;this.oB=this.Xw=this.qm=null;a&&(this.Yq=a);}a.prototype.unsubscribe=function(){var a,d,q,g,w,D;a=!1;if(!this.closed){q=this.qm;g=this.Xw;w=this.Yq;D=this.oB;this.closed=!0;this.oB=this.Xw=this.qm=null;for(var y=-1,k=g?g.length:0;q;)q.remove(this),q=++y<k&&g[y]||null;l.qb(w)&&(q=f.sBa(w).call(this),q===p.zu&&(a=!0,d=d||(p.zu.e instanceof m.tN?b(p.zu.e.gI):[p.zu.e])));if(c.isArray(D))for(y=-1,k=D.length;++y<k;)q=D[y],h.pe(q)&&(q=f.sBa(q.unsubscribe).call(q),q===p.zu&&(a=!0,d=d||[],q=p.zu.e,q instanceof m.tN?d=d.concat(b(q.gI)):d.push(q)));if(a)throw new m.tN(d);}};a.prototype.add=function(b){var f;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;f=b;switch(typeof b){case"function":f=new a(b);case"object":if(f.closed||"function"!==typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;"function"!==typeof f.kia&&(b=f,f=new a(),f.oB=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.oB||(this.oB=[])).push(f);f.kia(this);return f;};a.prototype.remove=function(a){var b;b=this.oB;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.kia=function(a){var b,f;b=this.qm;f=this.Xw;b&&b!==a?f?-1===f.indexOf(a)&&f.push(a):this.Xw=[a]:this.qm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.Tj=g;},function(g,d){function a(){}function b(){}function c(){}Object.defineProperty(d,"__esModule",{value:!0});c.WW="playready-h264mpl30-dash";c.EM="playready-h264mpl31-dash";c.uda="playready-h264mpl40-dash";c.zHa="playready-h264hpl30-dash";c.AHa="playready-h264hpl31-dash";c.ewb="playready-h264hpl40-dash";c.tX="hevc-main-L30-dash-cenc";c.uX="hevc-main-L31-dash-cenc";c.vX="hevc-main-L40-dash-cenc";c.wX="hevc-main-L41-dash-cenc";c.xX="hevc-main-L50-dash-cenc";c.yX="hevc-main-L51-dash-cenc";c.fX="hevc-main10-L30-dash-cenc";c.iX="hevc-main10-L31-dash-cenc";c.lX="hevc-main10-L40-dash-cenc";c.oX="hevc-main10-L41-dash-cenc";c.hF="hevc-main10-L50-dash-cenc";c.iF="hevc-main10-L51-dash-cenc";c.gX="hevc-main10-L30-dash-cenc-prk";c.jX="hevc-main10-L31-dash-cenc-prk";c.mX="hevc-main10-L40-dash-cenc-prk";c.pX="hevc-main10-L41-dash-cenc-prk";c.hX="hevc-main10-L30-dash-cenc-prk-do";c.kX="hevc-main10-L31-dash-cenc-prk-do";c.nX="hevc-main10-L40-dash-cenc-prk-do";c.qX="hevc-main10-L41-dash-cenc-prk-do";c.rX="hevc-main10-L50-dash-cenc-prk-do";c.sX="hevc-main10-L51-dash-cenc-prk-do";c.lwb="hevc-main-L30-L31-dash-cenc-tl";c.mwb="hevc-main-L31-L40-dash-cenc-tl";c.nwb="hevc-main-L40-L41-dash-cenc-tl";c.owb="hevc-main-L50-L51-dash-cenc-tl";c.hwb="hevc-main10-L30-L31-dash-cenc-tl";c.iwb="hevc-main10-L31-L40-dash-cenc-tl";c.jwb="hevc-main10-L40-L41-dash-cenc-tl";c.kwb="hevc-main10-L50-L51-dash-cenc-tl";c.zW="hevc-dv-main10-L30-dash-cenc";c.AW="hevc-dv-main10-L31-dash-cenc";c.BW="hevc-dv-main10-L40-dash-cenc";c.DW="hevc-dv-main10-L41-dash-cenc";c.EW="hevc-dv-main10-L50-dash-cenc";c.FW="hevc-dv-main10-L51-dash-cenc";c.pM="hevc-dv5-main10-L30-dash-cenc-prk";c.qM="hevc-dv5-main10-L31-dash-cenc-prk";c.rM="hevc-dv5-main10-L40-dash-cenc-prk";c.sM="hevc-dv5-main10-L41-dash-cenc-prk";c.tM="hevc-dv5-main10-L50-dash-cenc-prk";c.uM="hevc-dv5-main10-L51-dash-cenc-prk";c.XW="hevc-hdr-main10-L30-dash-cenc";c.YW="hevc-hdr-main10-L31-dash-cenc";c.ZW="hevc-hdr-main10-L40-dash-cenc";c.$W="hevc-hdr-main10-L41-dash-cenc";c.aX="hevc-hdr-main10-L50-dash-cenc";c.cX="hevc-hdr-main10-L51-dash-cenc";c.GM="hevc-hdr-main10-L30-dash-cenc-prk";c.HM="hevc-hdr-main10-L31-dash-cenc-prk";c.IM="hevc-hdr-main10-L40-dash-cenc-prk";c.JM="hevc-hdr-main10-L41-dash-cenc-prk";c.bX="hevc-hdr-main10-L50-dash-cenc-prk";c.dX="hevc-hdr-main10-L51-dash-cenc-prk";c.Wha="vp9-profile0-L21-dash-cenc";c.uN="vp9-profile0-L30-dash-cenc";c.vN="vp9-profile0-L31-dash-cenc";c.wN="vp9-profile0-L40-dash-cenc";c.Rha="vp9-profile2-L30-dash-cenc-prk";c.Sha="vp9-profile2-L31-dash-cenc-prk";c.Tha="vp9-profile2-L40-dash-cenc-prk";c.Uha="vp9-profile2-L50-dash-cenc-prk";c.Vha="vp9-profile2-L51-dash-cenc-prk";c.tba="av1-main-L20-dash-cbcs-prk";c.uba="av1-main-L21-dash-cbcs-prk";c.vba="av1-main-L30-dash-cbcs-prk";c.wba="av1-main-L31-dash-cbcs-prk";c.xba="av1-main-L40-dash-cbcs-prk";c.yba="av1-main-L41-dash-cbcs-prk";c.zba="av1-main-L50-dash-cbcs-prk";c.Aba="av1-main-L51-dash-cbcs-prk";c.xOa=[c.WW];c.FHa=[c.EM,c.uda];c.hQa=[c.tX,c.uX,c.vX,c.wX,c.xX,c.yX];c.jQa=[c.fX,c.iX,c.lX,c.oX,c.hF,c.iF];c.iQa=[c.gX,c.jX,c.mX,c.pX,c.hF,c.iF];c.yAb=[c.hX,c.kX,c.nX,c.qX,c.rX,c.sX];c.EHa=[c.XW,c.YW,c.ZW,c.$W,c.aX,c.cX];c.DHa=[c.GM,c.HM,c.IM,c.JM,c.bX,c.dX];c.cGa=[c.zW,c.BW,c.EW,c.AW,c.DW,c.FW];c.bGa=[c.pM,c.rM,c.tM,c.qM,c.sM,c.uM];c.Sub=[c.zW,c.AW,c.BW,c.EW,c.DW];c.Rub=[c.pM,c.qM,c.rM,c.tM,c.sM];c.IAb=[c.uN,c.vN,c.wN];c.ft=[c.Wha,c.uN,c.vN,c.wN,c.Rha,c.Sha,c.Tha,c.Uha,c.Vha];c.QCa=[c.tba,c.uba,c.vba];c.PCa=[c.wba,c.xba,c.yba];c.RCa=[c.zba,c.Aba];c.ih=[].concat(c.QCa,c.PCa,c.RCa);c.yHa=c.xOa.concat(c.FHa);c.CHa=c.hQa;c.BHa=c.jQa;c.UCa=[].concat(c.yHa,c.CHa,c.BHa,c.iQa,c.EHa,c.DHa,c.cGa,c.bGa,c.ft,c.ih);d.ba=c;b.KM="heaac-2-dash";b.nM="ddplus-2.0-dash";b.vW="ddplus-5.1-dash";b.oM="ddplus-atmos-dash";b.eX="playready-heaac-2-dash";b.HHa="heaac-2-dash-enc";b.YEa="ddplus-2.0-dash-enc";b.ZEa="ddplus-5.1-dash-enc";b.GHa="playready-heaac-2-dash-enc";b.UCa=[].concat(b.KM,b.nM,b.vW,b.oM,b.eX,b.HHa,b.YEa,b.ZEa,b.GHa);d.Sk=b;a.HOa="simplesdh";a.yW="dfxp-ls-sdh";a.kA="nflx-cmisc";a.Lzb="simplesdh-enc";a.Kub="dfxp-ls-sdh-enc";a.YM="nflx-cmisc-enc";d.Uj=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lq="DeviceFactorySymbol";},function(g,d,a){var h;function b(a,b){var f,c,d;if("number"!==typeof a||"number"!==typeof b)a=!1;else if(a&&b){f=Math.abs(a);for(c=Math.abs(b);c;){d=c;c=f%c;f=d;}a=Math.abs(a*b/f);}else a=0;return a;}function c(){h(!1);}Object.defineProperty(d,"__esModule",{value:!0});h=a(14);g=a(47);a=function(){function a(a,b){"object"===typeof a?(this.D_=a.sd,this.Nt=a.ha):(this.D_=a,this.Nt=b);}a.SGb=function(b){return new a(1,b);};a.K7a=function(b){return new a(b,1E3);};a.Baa=function(a,b){return Math.floor(1E3*a/b);};a.Kva=function(a,b){return Math.floor(a*b/1E3);};a.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};a.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};a.prototype.wo=function(b){b/=this.ha;return new a(Math.floor(this.sd*b),Math.floor(this.ha*b));};a.prototype.add=function(f){var c;if(this.ha===f.ha)return new a(this.sd+f.sd,this.ha);c=b(this.ha,f.ha);return this.wo(c).add(f.wo(c));};a.prototype.Fd=function(b){return this.add(new a(-b.sd,b.ha));};a.prototype.X7=function(b){return new a(this.sd*b,this.ha);};a.prototype.JQ=function(a){var f;if(this.ha===a.ha)return this.sd/a.sd;f=b(this.ha,a.ha);return this.wo(f).JQ(a.wo(f));};a.prototype.V$a=function(a){return b(this.ha,a);};a.prototype.blb=function(){return new a(this.ha,this.sd);};a.prototype.compare=function(a,c){var f;if(this.ha===c.ha)return a(this.sd,c.sd);f=b(this.ha,c.ha);return a(this.wo(f).sd,c.wo(f).sd);};a.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};a.prototype.xT=function(a){return this.compare(function(a,b){return a!==b;},a);};a.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};a.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};a.prototype.pdb=function(a){return this.compare(function(a,b){return a<=b;},a);};a.prototype.RR=function(a){return this.compare(function(a,b){return a>=b;},a);};a.prototype.toJSON=function(){return{ticks:this.sd,timescale:this.ha};};a.prototype.toString=function(){return this.sd+"/"+this.ha;};a.Rf=new a(0,1);a.ZJ=new a(1,1E3);return a;}();d.ec=a;g.Zh(a.prototype,{sd:{get:function(){return this.D_;},set:c},ha:{get:function(){return this.Nt;},set:c},af:{get:function(){return 1E3*this.D_/this.Nt;},set:c}});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uf={audio:"audio",video:"video",yV:"timedtext",Oaa:"trickplay"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.bm=0]="STANDARD";a[a.Vs=1]="LIMITED";}(d.xi||(d.xi={})));d.bua=function(a){return["STANDARD","LIMITED"][a];};},function(g,d,a){var b,c,h,l,f,p,m,q;b=a(79);c=a(448);h=a(447);l=a(459);f=a(10);p=a(162);m=a(975);q=a(238);d.xs=function(a,d,g,z){var u;u=new m.mea(a,g,z);if(u.closed)return null;if(d instanceof f.sa)if(d.Lq)u.next(d.value),u.complete();else return u.Kj=!0,d.subscribe(u);else if(c.lta(d)){a=0;for(g=d.length;a<g&&!u.closed;a++)u.next(d[a]);u.closed||u.complete();}else{if(h.zta(d))return d.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(d&&"function"===typeof d[p.iterator]){d=d[p.iterator]();do{a=d.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(d&&"function"===typeof d[q.observable])if(d=d[q.observable](),"function"!==typeof d.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new m.mea(a,g,z));else d="You provided "+(l.pe(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(d));}return null;};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);c.prototype.Qy=function(a,b){this.destination.next(b);};c.prototype.l8=function(a){this.destination.error(a);};c.prototype.Zi=function(){this.destination.complete();};return c;}(a(50).Ph);d.xq=g;},function(g,d,a){g=a(168);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof A&&A||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dn={Request:"Request",MY:"Singleton",qN:"Transient"};d.jh={pca:"ConstantValue",qca:"Constructor",Wca:"DynamicValue",UW:"Factory",Function:"Function",LX:"Instance",WIa:"Invalid",Mga:"Provider"};d.Dq={mca:"ClassProperty",rca:"ConstructorArgument",YY:"Variable"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.PAb=1]="Xml";g[g.Rtb=2]="Binary";d.swb="HttpClientSymbol";d.Ws="LegacyHttpSymbol";},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(13);h=a(128);l=a(74);g=a(47);f=a(59);p=a(153);m=a(363);a=a(152);q=function(a){function f(b,f){var c;c=a.call(this,b,f)||this;c.Uh=f.index;c.Mw=f.Ib;c.Eq=f.Nb;c.Q_=f.oc?f.oc:b.oc;c.Oka=f.qo||0;c.Pja=!!f.zp;c.rTa=f.V7;c.MQa=f.uh;c.Gq=!!f.Zc;c.Qw=f.ae;c.kla=f.Jv;c.ce=void 0===f.sI||void 0===f.M3||f.sI===f.Ib&&f.M3===f.Nb?c:new m.bM(c,{Ib:f.sI,Nb:f.M3});c.vh=!1;return c;}b.__extends(f,a);f.prototype.Xza=function(a){this.Oka=a.wo(this.ha).sd;};f.prototype.n7=function(){this.Pja=!0;};f.prototype.XK=function(a){this.kla=a;};f.prototype.yk=function(a,b){a?(this.ce===this&&(this.ce=new m.bM(this,this)),b?a.Jb<this.Fqa&&(this.Eq=this.sI+a.Uc*this.Ka.sd,this.Qw=a,this.Gq=!0):0<a.Uc&&(this.Mw=this.sI+a.Uc*this.Ka.sd,this.Qw=a,this.Gq=!0)):this.Gq=!0;};f.prototype.spa=function(){var a;this.Gq&&this.Qw?(a=this.Qw,++a.Uc,a.Jb+=this.stream.Ka.af):a={Jb:this.N3+this.stream.Ka.af,Uc:1};this.yk(a,!1);};f.prototype.R4a=function(){var a;this.Gq&&this.Qw?(a=this.Qw,--a.Uc,a.Jb-=this.stream.Ka.af):a={Jb:this.Fqa-this.stream.Ka.af,Uc:this.zh/this.stream.Ka.sd-1};this.yk(a,!0);};f.prototype.l7a=function(a){var f;if(!(a<this.U||a>=this.ea)&&this.uh&&this.uh.length){a=new l.ec(a+1-this.U,1E3).JQ(this.stream.Ka);for(var b=this.uh.length-1;0<=b;--b){f=this.uh[b];if(f.Uc<=a)return f;}return{Uc:0,Jb:this.Pn};}};f.prototype.k7a=function(a){var f;if(!(a<this.U||a>=this.ea)&&this.uh&&this.uh.length){a=new l.ec(a+1-this.U,1E3).JQ(this.stream.Ka);for(var b=this.uh.length-1;0<=b;--b){f=this.uh[b];if(f.Uc<=a)return f;}return{Uc:0,Jb:this.Pn};}};f.prototype.jqa=function(a,b){var f,c,d;if(!(a<this.U||a>=this.ea)){f=this.Ka.sd;c=this.Ka.ha;d=Math.floor(this.zh/f);a=Math.min((b?Math.ceil:Math.floor)((l.ec.Kva(a,c)-this.Ib+(b?-1:1)*(c/1E3-1))/f),d);f=l.ec.Baa(this.Ib+a*f,c);return a===d?void 0:{Uc:a,Jb:f};}};f.prototype.iR=function(a){return this.P===c.G.VIDEO?this.l7a(a):this.jqa(a,!1);};f.prototype.i7a=function(a){return this.P===c.G.VIDEO?this.k7a(a):this.jqa(a,!0);};f.prototype.j0=function(a){this.Lb+=a.Z;this.Eq=a.Nb;};f.prototype.toString=function(){return"["+this.Xa+", "+this.O+"kbit/s, "+("c:"+this.Kc+"-"+this.Kd+",")+("p:"+this.bc+"-"+this.Bd+",d:"+this.duration+"]");};f.prototype.toJSON=function(){var a;a=p.Tv.prototype.toJSON.call(this);h({index:this.index,startPts:this.U,endPts:this.ea,contentStartPts:this.Kc,contentEndPts:this.Kd,fragmentStartPts:this.Pn!==this.U?this.Pn:void 0,fragmentEndPts:this.Cu!==this.ea?this.Cu:void 0,editStreamAccessPoint:this.ae},a);return a;};return f;}(p.Tv);d.Rk=q;g.Zh(q.prototype,{zFb:g.L({get:function(){return!0;}}),a6:g.L({get:function(){return!0;}}),index:g.L({get:function(){return this.Uh;}}),oc:g.L({get:function(){return this.Q_;}}),Ib:g.L({get:function(){return this.Mw;}}),Nb:g.L({get:function(){return this.Eq;}}),qo:g.L({get:function(){return this.Oka;}}),zp:g.L({get:function(){return this.Pja;}}),V7:g.L({get:function(){return this.rTa;}}),uh:g.L({get:function(){return this.MQa;}}),Zc:g.L({get:function(){return this.Gq;}}),ae:g.L({get:function(){return this.Qw;}}),Jv:g.L({get:function(){return this.kla;}}),sI:g.L({get:function(){return this.ce.Ib;}}),pEb:g.L({get:function(){return this.ce.zh;}}),M3:g.L({get:function(){return this.ce.Nb;}}),Hqa:g.L({get:function(){return this.ce.jK;}}),rEb:g.L({get:function(){return this.ce.HD;}}),qEb:g.L({get:function(){return this.ce.vpa;}}),nEb:g.L({get:function(){return this.ce.Yna;}}),mEb:g.L({get:function(){return this.ce.Una;}}),tEb:g.L({get:function(){return this.ce.XT;}}),sEb:g.L({get:function(){return this.ce.pxa;}}),Pn:g.L({get:function(){return this.ce.bc;}}),Cu:g.L({get:function(){return this.ce.Bd;}}),Gqa:g.L({get:function(){return this.ce.duration;}}),N3:g.L({get:function(){return this.ce.Kc;}}),Fqa:g.L({get:function(){return this.ce.Kd;}})});f.Pk(a.cM,q);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.ppa=0]="downloading";a[a.I4a=1]="downloaded";a[a.vh=2]="appended";a[a.buffered=3]="buffered";a[a.SHb=4]="removed";a[a.WIb=5]="unused";}(d.Jba||(d.Jba={})));(function(a){a[a.waiting=1]="waiting";a[a.QGb=2]="ondeck";a[a.ppa=4]="downloading";a[a.I4a=8]="downloaded";a[a.aJ=6]="inprogress";}(d.Hba||(d.Hba={})));d.rtb="AseBufferViewSymbol";d.aW="AseBufferAccountingSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hw="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aw="ThrottleFactorySymbol";},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(71);d.KIa=g.KIa;g=a(10);d.sa=g.sa;g=a(163);d.Bi=g.Bi;g=a(454);d.OF=g.OF;g=a(452);d.oca=g.oca;g=a(982);d.Eha=g.Eha;a(978);a(974);a(968);a(966);a(963);a(959);a(956);a(952);a(949);a(947);a(945);a(943);a(940);a(936);a(933);a(932);a(929);a(925);a(922);a(921);a(919);a(917);a(914);a(912);a(911);a(909);a(906);a(903);a(900);a(897);a(896);g=a(240);d.sLa=g.sLa;a=a(71);d.Tj=a.Tj;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hs="ApiInfoSymbol";},function(g,d,a){var c,h;function b(a,b,d,m,q){a=void 0===a?c.I.Qh:a;return h.Wb.call(this,a,b,d,void 0,void 0,m,h.Wb.$c(q),q)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(45);ia(b,h.Wb);d.gf=b;},function(g,d,a){var h,l;function b(a,b,c,d,l){var f,m,q;f={};m="number"===typeof l;l=void 0!==l&&m?l.toString():c;if(m&&void 0!==c)throw Error(h.CIa);Reflect.h5(a,b)&&(f=Reflect.getMetadata(a,b));c=f[l];if(Array.isArray(c))for(var m=0,p=c;m<p.length;m++){q=p[m];if(q.key===d.key)throw Error(h.aGa+" "+q.key.toString());}else c=[];c.push(d);f[l]=c;Reflect.A2(a,f,b);}function c(a,b){return function(f,c){b(f,c,a);};}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);l=a(32);d.Az=function(a,c,d,q){b(l.wha,a,c,q,d);};d.tL=function(a,c,d){b(l.xha,a.constructor,c,d);};d.qu=function(a,b,d){"number"===typeof d?Reflect.qu([c(d,a)],b):"string"===typeof d?Reflect.qu([a],b,d):Reflect.qu([a],b);};},function(g,d,a){var c,h,l;function b(a,b,c,d,g){b=l.Mj.call(this,a,b,d,h.Sj.events,g,h.Sj.events+"/"+c)||this;b.context=a;b.r6a=c;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(40);l=a(91);a(147);ia(b,l.Mj);b.prototype.Ag=function(a,b,c){var f,d;f=this;d=this.RP(c);return this.send(a,b,c.href,d).then(function(){return c;})["catch"](function(a){throw f.op(a);});};b.prototype.np=function(a,b,c,d){var f,m;f=this;m=this.RP(d);return this.send(a,b,c.C4("events").href,m).then(function(a){c.wP(a.result.links);return d;})["catch"](function(a){throw f.op(a);});};b.prototype.RP=function(a){return{event:this.r6a,xid:a.la,position:a.position||0,clientTime:a.oH,sessionStartTime:a.WK,mediaId:a.Cy,trackId:a.Vb,sessionId:a.sessionId,appId:a.SG,playTimes:this.pZa(a.hK),sessionParams:a.oi,mdxControllerEsn:a.A7};};b.prototype.Z0=function(a){return{downloadableId:a.md,duration:a.duration};};b.prototype.pZa=function(a){return{total:a.total,audio:a.audio.map(this.Z0),video:a.video.map(this.Z0),text:a.text.map(this.Z0)};};a=b;a=g.__decorate([c.N(),g.__param(0,c.Hg()),g.__param(1,c.Hg()),g.__param(2,c.Hg()),g.__param(3,c.Hg()),g.__param(4,c.Hg())],a);d.lj=a;},function(g,d,a){var c,h,l,f;function b(a,b,f,c,d,l){this.context=a;this.errorCode=b;this.vmb=f;this.F9=d;this.E9=l;this.name=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(297);l=a(4);f=a(45);b.prototype.send=function(a,b,f,c,d,l,h){var m;m=this;return this.Q8a(a,b,f,c,d,l,h).then(function(a){return m.context.s4a.send(a.context,a.request);});};b.prototype.Q8a=function(a,b,f,c,d,l,g){var m,p;try{m=h.nZa(this.context.fy.xH(),f,this.context.Br().dg,this.context.Qm,this.context.platform,c,d);p=this.lZa(a,b,l,g);return Promise.resolve({context:p,request:m});}catch(y){return Promise.reject(y);}};b.prototype.lZa=function(a,b,f,c){return{Bb:this.context.Bb,log:a,ik:this.name,url:this.context.Zrb(h.oZa(this.context.mf,this.context.Qm,this.name)),profile:b,R9:this.vmb,timeout:l.Ih(59),headers:{"Content-Type":"text/plain"},E9:this.E9,F9:void 0!==f?f:this.F9,TYa:c};};b.prototype.op=function(a){return a instanceof f.Wb?a:h.op(this.errorCode,a);};b.prototype.ona=function(a){var b;b=this;a.forEach(function(a){if(b.rS(a))throw a.error;});};b.prototype.rS=function(a){return void 0!==a.error;};a=b;a=g.__decorate([c.N(),g.__param(0,c.Hg()),g.__param(1,c.Hg()),g.__param(2,c.Hg()),g.__param(3,c.Hg()),g.__param(4,c.Hg()),g.__param(5,c.Hg())],a);d.Mj=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.yKa=function(a){var l;function c(){}l=[];this.us=function(a){var c;for(var b=[],f=l.length;f--;){c=l[f];c.us(a)&&b.push(c.kI);}if(b.length)return b;};d.dfa.forEach(function(b){(b=b(a))&&l.push(b);});0<l.length&&a.addEventListener(b.X.Fh,c);};d.yF=function(a){d.dfa.push(a);};d.dfa=[];},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.vq=d.vq||function(a,b,d){return a>=b?a<=d?a:d:b;};d.byb=function(a,b,d,f,p){return(a-b)*(p-f)/(d-b)+f;};d.Kg=function(a){if(b.ka(a))return(a/1E3).toFixed(3);};},function(g){var d;d=function(){function a(a){this.qg=a;}a.prototype.cob=function(a){this.qg=a;};a.prototype.una=function(){this.qg=void 0;};a.prototype.Yx=function(a){this.qg&&this.qg.Ty&&this.qg.Ty(a);};a.prototype.Xx=function(a){this.qg&&this.qg.fv&&this.qg.fv(a);};a.prototype.wC=function(a){this.qg&&this.qg.$J&&this.qg.$J(a);};a.prototype.Bu=function(a){this.qg&&this.qg.ji&&this.qg.ji(a);};a.prototype.tR=function(a){this.qg&&this.qg.AD&&this.qg.AD(a);};a.prototype.sR=function(a,c){this.qg&&this.qg.ET&&this.qg.ET(a,c);};return a;}();d.prototype.Ty=d.prototype.Yx;d.prototype.fv=d.prototype.Xx;d.prototype.$J=d.prototype.wC;d.prototype.ji=d.prototype.Bu;d.prototype.AD=d.prototype.tR;d.prototype.ET=d.prototype.sR;g.M=d;},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z,w;function b(a,b,d,g){var w,D;if(c.config.YBa)return l.da.get(f.fA).mu(b,d,g,a);g=g||{};p.wa(void 0===g.jssid&&void 0===g.client_utc&&void 0===g.type&&void 0===g.sev&&void 0===g.lver&&void 0===g.xid&&void 0===g.mid&&void 0===g.esn&&void 0===g.snum&&void 0===g.lnum);g.clver="6.0015.389.051";c.config&&c.config.Pi&&(c.config.Pi.os&&(g.osplatform=c.config.Pi.os.name,g.osver=c.config.Pi.os.version),g.browsername=c.config.Pi.name,g.browserver=c.config.Pi.version);l.da.get(m.Xl).AS&&(g.tester=!0);c.config.up&&(g.groupname=c.config.up);c.config.Fs&&(g.uigroupname=c.config.Fs);w=h.Dx();this.timestamp=l.da.get(q.wi).cg;D=l.da.get(u.Ue);d={type:b,sev:d,devmod:x.Aca};v.La(d,g);v.La(d,{jssid:h.oF,appId:D.id,appLogSeqNum:D.yra(),jsoffms:h.xc(),client_utc:w,lver:x.fJa||"2012.2-CAD"});g=l.da.get(z.XY);d.uniqueLogId=g.Y3();g="startup"===b?"playbackxid":"xid";c.config.qr&&(d.groupname=d.groupname?d.groupname+("|"+c.config.qr):c.config.qr);d.uigroupname&&(d.groupname=d.groupname?d.groupname+("|"+d.uigroupname):d.uigroupname);a&&(v.La(d,{soffms:a.by(),mid:a.R,lvpi:a.wJ,uiLabel:a.uc||""}),d[g]=a.la,a.yv&&(g=a.yv,(a=a.yv.split("."))&&1<a.length&&"S"!==a[0][0]&&(g="SABTest"+a[0]+".Cell"+a[1]),d.groupname=d.groupname?d.groupname+("|"+g):g));this.data=d;this.type=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(9);h=a(21);l=a(3);f=a(110);p=a(12);m=a(52);q=a(37);u=a(24);x=a(33);v=a(17);z=a(210);w=a(154);d.gA=b;b.prototype.F8a=function(){this.Pia||(this.Pia=w.i7(this.data));return this.Pia;};},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var c;for(var f=1;f<arguments.length;++f);c=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof c[b]?c[b]:a;});};b.prototype.ypb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c<b;c++)f[c]=a.charCodeAt(c);return f.buffer;};b.prototype.oV=function(a){return JSON.stringify(a,null,"  ");};c=b;c=g.__decorate([a.N()],c);d.zw=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ew="Utf8EncoderSymbol";},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},xl:function(){return this.buffer.length-this.position;},eh:function(){return this.buffer[this.position++];},He:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Td:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},vv:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Qkb:function(){for(var a="",b;b=this.eh();)a+=String.fromCharCode(b);return a;},yb:function(){return this.Td(2);},Ea:function(){return this.Td(4);},Jf:function(){return this.Td(8);},Zxa:function(){return this.Td(2)/256;},o9:function(){return this.Td(4)/65536;},Jk:function(a){for(var b,c="";a--;)b=this.eh(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},RD:function(){return this.Jk(4)+"-"+this.Jk(2)+"-"+this.Jk(2)+"-"+this.Jk(2)+"-"+this.Jk(6);},Rkb:function(a){for(var b=0,c=0;c<a;c++)b+=this.eh()<<(c<<3);return b;},xK:function(){return this.Rkb(4);},VV:function(a){this.lba(a,2);},Pv:function(a){this.lba(a,4);},lba:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},Ov:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},qCa:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];}};g.M=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wv="Base16EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ow="MslSymbol";},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(10);c=a(234);h=a(133);l=a(118);a=function(a){function f(b,f){a.call(this);this.zn=b;(this.ja=f)||1!==b.length||(this.Lq=!0,this.value=b[0]);}b(f,a);f.create=function(a,b){return new f(a,b);};f.of=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];l.my(b)?a.pop():b=null;d=a.length;return 1<d?new f(a,b):1===d?new c.KY(a[0],b):new h.cF(b);};f.hb=function(a){var b,f,c;b=a.zn;f=a.index;c=a.ef;f>=a.count?c.complete():(c.next(b[f]),c.closed||(a.index=f+1,this.nb(a)));};f.prototype.zf=function(a){var b,c,d;b=this.zn;c=b.length;d=this.ja;if(d)return d.nb(f.hb,0,{zn:b,index:0,count:c,ef:a});for(d=0;d<c&&!a.closed;d++)a.next(b[d]);a.complete();};return f;}(g.sa);d.Rv=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(6);h=a(9);g=a(2);l=a(12);f=a(3);p=a(338);m=a(33);q=a(5);b.Re(g.I.IX,function(a){var g,u;l.wa(h.config);l.wa(q.pw&&q.pw.getDeviceId||q.eY||m.sda);g=f.da.get(p.Lca);u=f.yd("Device");b.uJ("devs");g.create({deviceId:h.config.deviceId,X3:m.sda,EQ:"deviceid",dg:h.config.dg,Gm:m.xf.PW,Qmb:m.Cca,userAgent:q.Vk,P6:h.config.P6,g4a:m.xf.zca,uYa:h.config.Cma.e,f4a:m.xf.vFa,xI:h.config.xI,lsa:h.config.usb,lgb:h.config.Fm?"mslstoretest":"mslstore"}).then(function(f){d.yg=f;A._cad_global||(A._cad_global={});A._cad_global.device=d.yg;u.info("Esn source: "+d.yg.rC);b.uJ("devdone");a(c.Fb);})["catch"](function(b){b.S=void 0;a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Us||(d.Us={});g[g.Ptb=8]="Backspace";g[g.Tab=9]="Tab";g[g.zvb=13]="Enter";g[g.dAb=16]="Shift";g[g.Cub=17]="Ctrl";g[g.mtb=18]="Alt";g[g.Tyb=19]="PauseBreak";g[g.uub=20]="CapsLock";g[g.Fvb=27]="Escape";g[g.fAb=32]="Space";g[g.Syb=33]="PageUp";g[g.Ryb=34]="PageDown";g[g.yvb=35]="End";g[g.qwb=36]="Home";g[g.Vwb=37]="LeftArrow";g[g.DAb=38]="UpArrow";g[g.qzb=39]="RightArrow";g[g.bvb=40]="DownArrow";g[g.Mwb=45]="Insert";g[g.Vub=46]="Delete";g[g.SAb=48]="Zero";g[g.syb=49]="One";g[g.wAb=50]="Two";g[g.sAb=51]="Three";g[g.$vb=52]="Four";g[g.Yvb=53]="Five";g[g.eAb=54]="Six";g[g.cAb=55]="Seven";g[g.xvb=56]="Eight";g[g.Yxb=57]="Nine";g[g.gtb=65]="A";g[g.stb=66]="B";g[g.kub=67]="C";g[g.XEa=68]="D";g[g.E=69]="E";g[g.Gvb=70]="F";g[g.awb=71]="G";g[g.dwb=72]="H";g[g.PHa=73]="I";g[g.Owb=74]="J";g[g.NX=75]="K";g[g.aJa=76]="L";g[g.Zwb=77]="M";g[g.QKa=78]="N";g[g.myb=79]="O";g[g.vyb=80]="P";g[g.Q=81]="Q";g[g.kzb=82]="R";g[g.vOa=83]="S";g[g.CPa=84]="T";g[g.xAb=85]="U";g[g.EAb=86]="V";g[g.KAb=87]="W";g[g.MAb=88]="X";g[g.QAb=89]="Y";g[g.RAb=90]="Z";g[g.Wwb=91]="LeftWindowKey";g[g.rzb=92]="RightWindowKey";g[g.aAb=93]="SelectKey";g[g.cyb=96]="Numpad0";g[g.dyb=97]="Numpad1";g[g.eyb=98]="Numpad2";g[g.fyb=99]="Numpad3";g[g.gyb=100]="Numpad4";g[g.hyb=101]="Numpad5";g[g.iyb=102]="Numpad6";g[g.jyb=103]="Numpad7";g[g.kyb=104]="Numpad8";g[g.lyb=105]="Numpad9";g[g.wxb=106]="Multiply";g[g.ltb=107]="Add";g[g.lAb=109]="Subtract";g[g.Uub=110]="DecimalPoint";g[g.avb=111]="Divide";g[g.Hvb=112]="F1";g[g.Lvb=113]="F2";g[g.Mvb=114]="F3";g[g.Nvb=115]="F4";g[g.Ovb=116]="F5";g[g.Pvb=117]="F6";g[g.Qvb=118]="F7";g[g.Rvb=119]="F8";g[g.Svb=120]="F9";g[g.Ivb=121]="F10";g[g.Jvb=122]="F11";g[g.Kvb=123]="F12";g[g.$xb=144]="NumLock";g[g.Zzb=145]="ScrollLock";g[g.bAb=186]="SemiColon";g[g.Bvb=187]="Equals";g[g.yub=188]="Comma";g[g.Tub=189]="Dash";g[g.Xyb=190]="Period";g[g.Zvb=191]="ForwardSlash";g[g.tAb=192]="Tilde";g[g.tyb=219]="OpenBracket";g[g.Otb=220]="BackSlash";g[g.wub=221]="CloseBracket";g[g.jzb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gga="PboLinksManagerSymbol";d.sA="PboLinksManagerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rA="PboConfigSymbol";},function(g,d,a){var f,p;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function c(a){return f.Sd(a);}function h(a){return f.ka(a);}function l(a){return!b(a)&&!c(a)&&!h(a)&&!Array.isArray(a)&&f.pe(a);}f=a(11);p={Yv:0,lN:1,bLa:2,OBJECT:3,Qh:4};g.M={a5:function(a){return b(a)?p.Yv:c(a)?p.lN:h(a)?p.bLa:l(a)?p.OBJECT:p.Qh;},pS:b,Sd:c,ka:h,pe:l,Yl:p};},function(g){var d;d={VI:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};g.M=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fA="LogMessageFactorySymbol";},function(g,d,a){var b;b=a(156);g.M=function(a){return function l(f){return 0===arguments.length||b(f)?l:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function c(){}function d(){}d.WDa="cache_start";d.XDa="cache_success";d.TDa="cache_abort";d.VDa="cache_fail";d.UDa="cache_evict";d.MLa="pb_request";d.MOa="start_playback";a.aw=d;c.sba="auth";c.fw="ldl";c.gF="hdr";c.MEDIA="media";a.vi=c;b.hM="cached";b.LOADING="loading";b.SGa="expired";a.ZL=b;}(d.Wd||(d.Wd={})));d.Hga="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.AA="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cw="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dw="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vha="SystemRandomSymbol";d.NF="RandomGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eA="IdProviderSymbol";},function(g,d){d.my=function(a){return a&&"function"===typeof a.nb;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kw="MediaKeySystemAccessServicesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rca="DrmServicesSymbol";d.xM="DrmServicesProviderSymbol";},function(g,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^\S+$/;a.prototype.kk=function(a){return void 0!==a;};a.prototype.Yg=function(a){return null!==a&&void 0!==a;};a.prototype.qx=function(b){return a.dma(b);};a.prototype.qP=function(b){return!(!b||!a.dma(b));};a.prototype.Ut=function(a){return Array.isArray(a);};a.prototype.ema=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Af=function(b,d,l){return a.yla(b,d,l);};a.prototype.T_=function(b){return a.T_(b);};a.prototype.l0=function(b,d,l){return a.yP(b,d,l)&&0===b%1;};a.prototype.$o=function(b,d,l){return a.yP(b,d||0,l);};a.prototype.vB=function(b){return a.yP(b,1);};a.prototype.BWa=function(b){return a.yP(b,0,255);};a.prototype.CWa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.fma=function(a){return!(!a||!b.test(a));};a.prototype.rh=function(b){return a.zla(b);};a.prototype.Li=function(b){return!(!a.zla(b)||!b);};a.prototype.uB=function(a){return!0===a||!1===a;};a.prototype.MG=function(a){return"function"==typeof a;};a.zla=function(a){return"string"==typeof a;};a.yla=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.T_=function(a){return"number"==typeof a&&isNaN(a);};a.yP=function(b,d,l){return a.yla(b,d,l)&&0===b%1;};a.dma=function(a){return"object"==typeof a;};d.qq=new a();},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,z,w,D;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);g=a(19);c=a(175);h=a(557);l=a(140);f=a(9);p=a(6);m=a(143);q=a(280);u=a(21);x=a(2);v=a(3);z=a(186);w=a(5);D=a(124);g.Re(x.I.Kda,function(g){var x,y,k,n,r,O,X;x=v.da.get(z.bN).V1();y=v.da.get(m.Oca).Vz;k={};k.Zy=v.zR("ASE");k.TXa=v.zR("JS-ASE",void 0,"Platform");k.yd=v.zR;k.storage=D.storage;k.Cr=D.Cr;k.S9a=w.vM;k.getTime=u.xc;k.dD={};k.Db=c.Db;k.Bq=h.Bq;k.Vz=y;k.MediaSource=q.vKa;k.SourceBuffer=l.bfa;k.JEb=function(){};y=new Promise(function(a){D.storage.load("nh",function(b){k.dD.nh=b.S?b.data:void 0;a();});});n=new Promise(function(a){D.storage.load("lh",function(b){k.dD.lh=b.S?b.data:void 0;a();});});r=new Promise(function(a){D.storage.load("gh",function(b){k.dD.gh=b.S?b.data:void 0;a();});});O=new Promise(function(a){D.storage.load("sth",function(b){k.dD.sth=b.S?b.data:void 0;a();});});X=new Promise(function(a){D.storage.load("vb",function(b){k.dD.vb=b.S?b.data:void 0;a();});});Promise.all([y,n,X,O,r]).then(function(){var c;c=a(555)(k);d.ek=a(279);d.ek.declare(b.ru);d.ek.declare({Nz:["useMediaCache",!1],bC:["diskCacheSizeLimit",0],VCb:["dailyDiskCacheWriteLimit",0],aT:["mediaCachePrefetchMs",8E3],C7:["mediaCachePartitionConfig",{}]});d.ek.set(a(148)(f.config),!0,v.zR("ASE"));c=b.yeb(c);d.fk=new c(d.ek,x);d.fk.zc(f.config.y0,f.config.A0,{Zy:k.Zy},f.config.uU);g(p.Fb);})["catch"](function(a){k.Zy.error("Exception loading location history from local storage",a);});});},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);h=a(12);l=a(2);f=a(3);p=a(65);g.Re(l.I.RM,function(a){h.wa(b.config);h.wa(A._cad_global.msl.If);f.da.get(p.iq)().then(function(b){d.Vg=b;a(c.Fb);})["catch"](function(b){a(b);});});},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);h=a(291);l=a(2);f=a(290);p=a(288);d.storage=d.storage||void 0;d.Cr=d.Cr||void 0;g.Re(l.I.Xda,function(a){var m;switch(b.config.lV){case"idb":m=f.npb;break;case"none":m=h.ppb;break;case"ls":m=p.opb;}m(function(b){b.S?(d.storage=b.storage,d.Cr=b.Cr,a(c.Fb)):a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mga="PboPlaydataServicesSymbol";d.fN="PboPlaydataServicesProviderSymbol";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(17);c=a(12);d.ti="$attributes";d.WV="$children";d.XV="$name";d.gq="$text";d.rCa="$parent";d.PE="$sibling";d.dHb=/^\s*\<\?xml.*\?\>/i;d.N8a=function(a,b,f){for(var c=2;c<arguments.length;++c);for(c=1;(b=arguments[c++])&&(a=a[b]););return a;};d.$Gb=function(a,l){var f;a?f=b.Ad(a[d.gq]):void 0!==l&&(f=l);c.sQ(f);return f;};d.yib=function(a){var b;a&&(b=a[d.gq]);c.V2a(b);return b;};d.gGb=function(a,b){var f;f={};f[d.ti]=a;f[d.gq]=b;return f;};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(13);g=function(a){function d(b,c,d,q){d=a.call(this,d)||this;d.iVa=b.Xa;d.location=b.location||c.location;d.ad=b.Pb||c.Pb;d.x$=b.x$||c.x$;d.W=q;return d;}b.__extends(d,a);d.prototype.zc=function(a,b){this.ue=a;this.bf=b;this.i0=!1;this.W=b;};d.prototype.LO=function(a){var b,f,d;b={type:"logdata",target:"endplay",fields:{}};f=this.P===c.G.AUDIO?"audioedit":"videoedit";d=[this.Pn===this.U?this.Kd:this.Kc,this.Pn===this.U?-this.duration:this.duration];a&&a.Up&&d.push(a.Up);b.fields[f]={type:"array",value:d};this.ue&&this.ue.emit(b.type,b);};d.prototype.DO=function(a){this.ue.K.yK&&(this.Iqa=!0,this.Bpa=a);};d.prototype.Orb=function(a,b){var f,c;if(this.complete)return 0;f=this.iVa;c=a[f];return c?c.url?this.url===c.url||(b(this,c.location,c.Pb),this.sV(c.url))?0:(this.W.fa("swapUrl failed: ",this.dR),3):(this.W.fa("updateurl, missing url for streamId:",f,"mediaRequest:",this,"stream:",c),2):(this.W.fa("updateUrl, missing stream for streamId:",f,"mediaRequest:",this,"streamMap:",a),1);};return d;}(a(94));d.Sv=g;},function(g){g.M=function a(b,c){var g;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,c);Object.getOwnPropertyNames(b).forEach(function(a){g=Object.getOwnPropertyDescriptor(b,a);void 0!==g&&Object.defineProperty(c,a,g);});};},function(g,d,a){function b(a,b){this.sB=a;this.Ug=Math.floor((a+b-1)/b);this.gc=b;this.reset();}a(14);b.prototype.shift=function(){this.vc.shift();this.Wo.shift();};b.prototype.ED=function(a){return this.ena(this.vc[a],a);};b.prototype.update=function(a,b){this.vc[a]=(this.vc[a]||0)+b;};b.prototype.push=function(){this.vc.push(0);this.Wo.push(0);this.Da+=this.gc;};b.prototype.add=function(a,b,d){var f,c,m;if(null===this.Da)for(f=Math.max(Math.floor((d-b+this.gc-1)/this.gc),1),this.Da=b;this.vc.length<f;)this.push();for(;this.Da<=d;)this.push(),this.vc.length>this.Ug&&this.shift();if(null===this.Vj||b<this.Vj)this.Vj=b;if(b>this.Da-this.gc)this.update(this.vc.length-1,a);else if(b==d)f=this.vc.length-Math.max(Math.ceil((this.Da-d)/this.gc),1),0<=f&&this.update(f,a);else for(f=1;f<=this.vc.length;++f){c=this.Da-f*this.gc;m=c+this.gc;if(!(c>d)){if(m<b)break;this.update(this.vc.length-f,Math.round(a*(Math.min(m,d)-Math.max(c,b))/(d-b)));}}for(;this.vc.length>this.Ug;)this.shift();};b.prototype.start=function(a){null===this.Vj&&(this.Vj=a);null===this.Da&&(this.Da=a);};b.prototype.stop=function(a){var b,c;if(null!==this.Da)if(a-this.Da>10*this.sB)this.reset();else{for(;this.Da<=a;)this.push(),this.vc.length>this.Ug&&this.shift();b=this.vc.length-Math.ceil((this.Da-this.Vj)/this.gc);0>b&&(this.Vj=this.Da-this.gc*this.vc.length,b=0);c=this.vc.length-Math.ceil((this.Da-a)/this.gc);if(b===c)this.Wo[b]+=a-this.Vj;else if(c>b)for(this.Wo[b]+=(this.Da-this.Vj)%this.gc,this.Wo[c]+=this.gc-(this.Da-a)%this.gc,a=b+1;a<c;++a)this.Wo[a]=this.gc;this.Vj=null;}};b.prototype.ena=function(a,b){b=this.a4(b);return 0===b?null:8*a/b;};b.prototype.a4=function(a){var b;b=this.Wo[a];null!==this.Vj&&(a=this.Da-(this.vc.length-a-1)*this.gc,a>this.Vj&&(b=a-this.Vj<=this.gc?b+(a-this.Vj):this.gc));return b;};b.prototype.get=function(a,b){var c,f;c=this.vc.map(this.ena,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.gc));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(f||0):f=void 0!==f?b*c[a]+(1-b)*f:c[a];}return c;};b.prototype.reset=function(){this.vc=[];this.Wo=[];this.Vj=this.Da=null;};b.prototype.setInterval=function(a){this.Ug=Math.floor((a+this.gc-1)/this.gc);};g.M=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(781);a=a(778);d.yfb=g;d.kv=a;},function(g,d,a){var c,h,l,f;function b(a,b,d){var m;m=l.lM.call(this,a,b,c.zF.Xha)||this;m.config=a;m.F7=b;m.is=d;m.type=c.pj.Zv;m.ME=f.le.poa();return m;}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);h=a(72);l=a(408);g=a(96);f=a(132);new g.zw();ia(b,l.lM);b.prototype.Wp=function(){return Promise.resolve(!1);};b.prototype.CC=function(){return Promise.resolve("");};b.prototype.mL=function(){return!1;};b.prototype.kL=function(){return!1;};b.prototype.oL=function(){return Promise.resolve(!1);};b.prototype.jL=function(){return!1;};b.prototype.yI=function(a){return this.ME[a];};b.prototype.b0=function(a){return a;};b.prototype.Jua=function(a){switch(a){case c.kh.Ho:return"1.4";case c.kh.gw:return"2.2";}};b.prototype.Hx=function(){var a,b;a={};a[h.ba.WW]="avc1.4D401E";a[h.ba.EM]="avc1.4D401F";a[h.ba.uda]="avc1.4D4028";a[h.ba.tX]="hev1.1.6.L90.B0";a[h.ba.uX]="hev1.1.6.L93.B0";a[h.ba.vX]="hev1.1.6.L120.B0";a[h.ba.wX]="hev1.1.6.L123.B0";a[h.ba.xX]="hev1.1.6.L150.B0";a[h.ba.yX]="hev1.1.6.L153.B0";a[h.ba.fX]="hev1.2.6.L90.B0";a[h.ba.iX]="hev1.2.6.L93.B0";a[h.ba.lX]="hev1.2.6.L120.B0";a[h.ba.oX]="hev1.2.6.L123.B0";a[h.ba.hF]="hev1.2.6.L150.B0";a[h.ba.iF]="hev1.2.6.L153.B0";a[h.ba.gX]="hev1.2.6.L90.B0";a[h.ba.jX]="hev1.2.6.L93.B0";a[h.ba.mX]="hev1.2.6.L120.B0";a[h.ba.pX]="hev1.2.6.L123.B0";a[h.ba.XW]="hev1.2.6.L90.B0";a[h.ba.YW]="hev1.2.6.L93.B0";a[h.ba.ZW]="hev1.2.6.L120.B0";a[h.ba.$W]="hev1.2.6.L123.B0";a[h.ba.aX]="hev1.2.6.L150.B0";a[h.ba.cX]="hev1.2.6.L153.B0";a[h.ba.GM]="hev1.2.6.L90.B0";a[h.ba.HM]="hev1.2.6.L93.B0";a[h.ba.IM]="hev1.2.6.L120.B0";a[h.ba.JM]="hev1.2.6.L123.B0";b=this.yI(c.vd.Do);a[h.ba.zW]=b;a[h.ba.AW]=b;a[h.ba.BW]=b;a[h.ba.DW]=b;a[h.ba.EW]=b;a[h.ba.FW]=b;a[h.ba.pM]=b;a[h.ba.qM]=b;a[h.ba.rM]=b;a[h.ba.sM]=b;a[h.ba.tM]=b;a[h.ba.uM]=b;a[h.ba.Wha]=f.le.UF;a[h.ba.uN]=f.le.UF;a[h.ba.vN]=f.le.UF;a[h.ba.wN]=f.le.UF;a[h.ba.Rha]=f.le.TF;a[h.ba.Sha]=f.le.TF;a[h.ba.Tha]=f.le.TF;a[h.ba.Uha]=f.le.TF;a[h.ba.Vha]=f.le.TF;a[h.ba.tba]=f.le.ih;a[h.ba.uba]=f.le.ih;a[h.ba.vba]=f.le.ih;a[h.ba.wba]=f.le.ih;a[h.ba.xba]=f.le.ih;a[h.ba.yba]=f.le.ih;a[h.ba.zba]=f.le.ih;a[h.ba.Aba]=f.le.ih;return a;};b.prototype.K4=function(){return this.config().QV;};b.prototype.FC=function(){return Promise.resolve(void 0);};b.prototype.FI=function(){return Promise.resolve(void 0);};b.prototype.yH=function(a){var b;b=[];this.is.Yg(a)&&b.push(this.Jua(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};b.EE="video/mp4;codecs={0};";d.Wl=b;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);b.poa=function(a){var d;d={};d[c.vd.PF]=b.DM;d[c.vd.FM]=b.DM;d[c.vd.rN]=b.eF;d[c.vd.pq]=b.pq;d[c.vd.Do]=a||b.Do;d[c.vd.ft]=b.UF;d[c.vd.ih]=b.ih;return d;};b.DM="avc1.640028";b.eF="hev1.1.6.L93.B0";b.ica="dvhe.01000000";b.yEa="dvhe.dtr.uhd60";b.rW="dvhe.05.09";b.Do=b.ica;b.pq=b.eF;b.YV="mp4a.40.2";b.Eub="ec-3";b.HAb="vp9";b.UF="vp09.00.11.08.02";b.TF="vp09.02.31.10.01";b.ih="av01.0.04M.08";b.zEa=[b.rW,b.yEa,b.ica];d.le=b;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b){a.call(this);this.ja=b;}b(c,a);c.create=function(a){return new c(a);};c.hb=function(a){a.ef.complete();};c.prototype.zf=function(a){var b;b=this.ja;if(b)return b.nb(c.hb,0,{ef:a});a.complete();};return c;}(a(10).sa);d.cF=g;},function(g,d,a){var b,c,h,l;b=a(118);c=a(446);h=a(445);l=a(442);d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 1===a.length||2===a.length&&b.my(a[1])?h.from(a[0]):l.sH()(c.of.apply(void 0,a));};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zl=function(){};d.OY="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hca="DebugConfigSymbol";d.YE="DebugSymbol";},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(166);h=a(45);l=a(2);b.m4=function(a){if(a){if(a.includes(d.ZE.az))return c.en.az;if(a.includes("fps"))return c.en.tC;if(a.includes(d.ZE.UV))return c.en.UV;}throw new h.Wb(l.I.JGa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.kra=function(a){switch(a){case c.en.az:return d.ZE.az;case c.en.tC:return d.ZE.tC;default:return d.ZE.UV;}};b.Ko="com.microsoft.playready";b.Vc="com.microsoft.playready.hardware";b.JF="com.microsoft.playready.software";b.Zyb="com.chromecast.playready";b.$yb="org.chromium.external.playready";b.Xvb="com.apple.fps.2_0";b.FQa="com.widevine.alpha";b.azb="com.microsoft.playready.recommendation";b.bzb="com.microsoft.playready.recommendation.3000";b.czb="com.microsoft.playready.recommendation.2000";d.bb=b;d.ZE={tC:"fairplay",UV:"widevine",az:"playready"};},function(g,d,a){var p;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function c(a,b){return null===a.ds?!1:a.ds.te===b?!0:c(a.ds,b);}function h(a){function f(a,c){void 0===c&&(c=[]);c.push(b(a.te));return null!==a.ds?f(a.ds,c):c;}return f(a).reverse().join(" --\x3e ");}function l(a){a.r1.forEach(function(a){if(c(a,a.te))throw a=h(a),Error(p.aEa+" "+a);l(a);});}function f(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(54);d.IC=b;d.eua=function(a,b,c){var d;d="";a=c(a,b);0!==a.length&&(d="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Ui&&(b=f(a.Ui));d=d+"\n "+b;a.PB.uva&&(d=d+" - "+a.PB.uva);}));return d;};d.y_a=l;d.qdb=function(a,b){var f,c;if(b.f6()||b.b6()){f="";c=b.O9a();b=b.J8a();null!==c&&(f+=c.toString()+"\n");null!==b&&b.forEach(function(a){f+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+f;}return" "+a;};d.getFunctionName=f;},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z,w,D,y,k,P;function b(a){var d;d=this;this.createPlayer=function(a,b){var f,c;b=void 0===b?{}:b;b="number"===typeof b?{Pf:b}:b;f=b.manifest;if(f&&f.runtime)f.clientGenesis=f.clientGenesis||w.pH(),f=p.da.get(z.UX).decode(f);else if(f){c=p.da.get(P.sA)();c.Dla(f);f.sy=c;}a=p.da.get(y.yY).x2a(a);return p.da.get(D.zY).create(a,b,f).jCa;};this.createPlaylistPlayer=function(a,b,f){var c;c=p.da.get(k.Ega);return p.da.get(D.zY).create(c.$qb(a),b,f).jCa;};this.closeAllPlayers=function(a){f.uga(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;c.tJ(function(f){f.S?(l.config.MU?d.pnb().then(function(){h.uNa();})["catch"](function(a){p.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,b.GP);a(Object.assign({success:!0},b.GP));}):a({success:!1,error:p.rw(f.errorCode||q.I.Jda,f)});});};this.applyConfig=function(a){d.IBa(a);l.Pna(a);};this.prepare=function(a,b){var f;a=d.W8.$oa(a)||[];f=new Set();a=a.filter(function(a){var b;b=f.has(a.R);f.add(a.R);return!b;});if(l.config.Gl&&A._cad_global.videoPreparer)try{A._cad_global.videoPreparer.tv(a,b);}catch(V){p.log.warn("Prepare call failed",V);}};this.predownload=function(a,b){if((a=d.W8.$oa(a))&&l.config.Nz&&A._cad_global.videoPreparer)try{A._cad_global.videoPreparer.Kjb(a,b);}catch(X){p.log.warn("Predownload call failed",X);}};this.lookupPredownloaded=function(){return l.config.Nz&&A._cad_global.videoPreparer?A._cad_global.videoPreparer.vy():Promise.resolve([]);};this.ppmUpdate=function(a){A._cad_global.playerPredictionModel?((a=d.W8.b4a(a))&&A._cad_global.playerPredictionModel.update(a),A._cad_global.prefetchEvents&&A._cad_global.prefetchEvents.update(a)):p.log.error("ppmUpdate called but there is no ppmModel");};this.canFulfillUIIntent=function(a,b,f){if(l.config.Gl&&A._cad_global.videoPreparer)return A._cad_global.videoPreparer.h1(a,b,f);f(!1);};this.supportsHdr=function(a){var b;try{b=p.zC().mL();a(b);}catch(X){a(!1);}};this.supportsUltraHd=function(a){p.zC().oL().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=p.zC().jL();a(b);}catch(X){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=p.zC().kL();a(b);}catch(X){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=p.da.get(x.bN).V1();return a?Promise.resolve(a.Sn()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=p.da.get(x.bN).V1();return a?Promise.resolve(a.R9a()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.w5a;};this.W8=p.da.get(m.vY);this.IBa(a);l.b0a([a]);p.zC().oL();}Object.defineProperty(d,"__esModule",{value:!0});c=a(19);h=a(178);l=a(9);f=a(41);p=a(3);m=a(181);q=a(2);u=a(25);x=a(186);v=a(125);z=a(157);w=a(21);D=a(261);y=a(171);k=a(257);P=a(106);b.prototype.IBa=function(a){p.da.get(u.TM).data=a;};b.prototype.pnb=function(){return p.da.get(v.fN)()["catch"](function(a){p.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){p.log.error("Unable to send deferred playdata",a);});};b.GP={};d.ZY=b;},function(g,d,a){var h,l,f,p,m,q,u,x,v,z,w,D;function b(a){b=z.Qb;d.rKa=a.appendBuffer?"appendBuffer":"append";d.UM=!f.config.FYa&&!!a.remove;d.WX=!!a.addEventListener;}function c(a,c,g,v,x,z){var w,y;w=this;this.j=a;this.pia=x;this.VA=!1;this.Nw={data:[],state:"",operation:""};this.type=c;this.Fi=new m.Oj();c=g(this.type);this.Tja={Type:this.type};f.config.Uu&&(y=!0,this.D3=new p.fd(!1));z.trace("Adding source buffer",this.Tja,{TypeId:c});this.Xc=v.addSourceBuffer(c);b(this.Xc);d.WX&&(this.Xc.addEventListener("updatestart",function(){w.Nw.state="updatestart";}),this.Xc.addEventListener("update",function(){w.Nw.state="update";}),this.Xc.addEventListener("updateend",function(){w.VA=!1;w.sia&&w.sia();w.Nw.state="updateend";y&&w.Xc.buffered.length&&(y=!1,w.D3.set(!0));}),this.Xc.addEventListener("error",function(b){var f;try{f=b.target.error&&b.target.error.message;(b.message||f)&&z.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(S){}b=q.da.get(l.Rj);a.kd(b(u.I.IMa,h.p4(w.type)));}),this.Xc.addEventListener("abort",function(){}));a.addEventListener(D.X.closed,function(){w.Xc=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});h=a(209);l=a(63);f=a(9);p=a(174);m=a(68);q=a(3);a(83);u=a(2);a(4);x=a(12);v=a(281);z=a(18);w=a(15);D=a(16);c.prototype.pk=function(){return this.VA;};c.prototype.updating=function(){return this.Xc?this.Xc.updating:!1;};c.prototype.Lza=function(a){this.sia=a;};c.prototype.buffered=function(){return this.Xc.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.BR=function(){var a,b,f,c,d,m,p;try{a=this.Xc.buffered;d=0;if(a)for(b=[],f=0,c=a.length,f=0;f<c;f++){m=a.start(f);p=a.end(f);d=d+(p-m);x.wa(p>m);b.push(m+"-"+p);}if(b)return{Buffered:d.toFixed(3),Ranges:b.join("|")};}catch(X){}};c.prototype.lma=function(a,b){x.wa(this.Xc.buffered&&1>=this.Xc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.BR()));x.wa(!this.VA);this.cAa("append",a);b=b&&b.Ik/1E3;w.ka(b)&&this.Xc.timestampOffset!==b&&(this.Xc.timestampOffset=b);this.Xc[d.rKa](a);d.WX&&(this.VA=!0);};c.prototype.remove=function(a,b){x.wa(!this.VA);try{d.UM&&(this.cAa("remove"),this.Xc.remove(a,b),d.WX&&(this.VA=!0));}catch(P){q.log.error("SourceBuffer remove exception",P,this.Tja);}};c.prototype.cAa=function(a,b){this.Nw.data=b||[];this.Nw.state="init";this.Nw.operation=a;};c.prototype.G$=function(){};c.prototype.appendBuffer=function(a){this.j.eg.HXa(this,a);return!0;};c.prototype.zP=function(a){v.uPa("MediaRequest {0} readystate: {1}",a.Ti(),a.readyState);this.j.eg.zP(a);return!0;};c.prototype.endOfStream=function(){};c.prototype.addEventListener=function(a,b,f){this.Fi.addListener(a,b,f);};c.prototype.removeEventListener=function(a,b){this.Fi.removeListener(a,b);};na.Object.defineProperties(c.prototype,{P:{configurable:!0,enumerable:!0,get:function(){return this.type;}},OP:{configurable:!0,enumerable:!0,get:function(){return this.pia.OP;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.pia.sourceId;}}});d.bfa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gN="PboPublisherSymbol";},function(g){var l,f,p,m;function d(){d.zc.call(this);}function a(a,b,f,c){var m,p;if("function"!==typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f);m=a.Pg;void 0===m?(m=a.Pg=Object.create(null),a.Rw=0):(void 0!==m.DGb&&(a.emit("newListener",b,f.listener?f.listener:f),m=a.Pg),p=m[b]);void 0===p?(m[b]=f,++a.Rw):("function"===typeof p?p=m[b]=c?[f,p]:[p,f]:c?p.unshift(f):p.push(f),f=void 0===a.tG?d.oDb:a.tG,0<f&&p.length>f&&!p.Jsb&&(p.Jsb=!0,f=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit"),f.name="MaxListenersExceededWarning",f.CDb=a,f.type=b,f.count=p.length,console&&console.warn&&console.warn(f)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.tqa||(this.target.removeListener(this.type,this.pCa),this.tqa=!0,f(this.listener,this.target,a));}function c(a,f,c){a={tqa:!1,pCa:void 0,target:a,type:f,listener:c};f=b.bind(a);f.listener=c;return a.pCa=f;}function h(a){var b;b=this.Pg;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}l="object"===typeof Reflect?Reflect:null;f=l&&"function"===typeof l.apply?l.apply:function(a,b,f){return Function.prototype.apply.call(a,b,f);};p=Number.isNaN||function(a){return a!==a;};g.M=d;d.EventEmitter=d;d.prototype.Pg=void 0;d.prototype.Rw=0;d.prototype.tG=void 0;m=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");m=a;}});d.zc=function(){if(void 0===this.Pg||this.Pg===Object.getPrototypeOf(this).Pg)this.Pg=Object.create(null),this.Rw=0;this.tG=this.tG||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.tG=a;return this;};d.prototype.emit=function(a){var d,c,m;for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);d="error"===a;c=this.Pg;if(void 0!==c)d=d&&void 0===c.error;else if(!d)return!1;if(d){0<b.length&&(m=b[0]);if(m instanceof Error)throw m;b=Error("Unhandled error."+(m?" ("+m.message+")":""));b.context=m;throw b;}c=c[a];if(void 0===c)return!1;if("function"===typeof c)f(c,this,b);else{m=c.length;for(var d=Array(m),p=0;p<m;++p)d[p]=c[p];for(c=0;c<m;++c)f(d[c],this,b);}return!0;};d.prototype.addListener=function(b,f){return a(this,b,f,!1);};d.prototype.on=d.prototype.addListener;d.prototype.Ixa=function(b,f){return a(this,b,f,!0);};d.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,c(this,a,b));return this;};d.prototype.Ujb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.Ixa(a,c(this,a,b));return this;};d.prototype.removeListener=function(a,b){var f,c,d,m,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);c=this.Pg;if(void 0===c)return this;f=c[a];if(void 0===f)return this;if(f===b||f.listener===b)0===--this.Rw?this.Pg=Object.create(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,f.listener||b));else if("function"!==typeof f){d=-1;for(m=f.length-1;0<=m;m--)if(f[m]===b||f[m].listener===b){p=f[m].listener;d=m;break;}if(0>d)return this;if(0===d)f.shift();else{for(;d+1<f.length;d++)f[d]=f[d+1];f.pop();}1===f.length&&(c[a]=f[0]);void 0!==c.removeListener&&this.emit("removeListener",a,p||b);}return this;};d.prototype.mhb=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var b,f,c;f=this.Pg;if(void 0===f)return this;if(void 0===f.removeListener)return 0===arguments.length?(this.Pg=Object.create(null),this.Rw=0):void 0!==f[a]&&(0===--this.Rw?this.Pg=Object.create(null):delete f[a]),this;if(0===arguments.length){b=Object.keys(f);for(f=0;f<b.length;++f)c=b[f],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.Pg=Object.create(null);this.Rw=0;return this;}b=f[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(f=b.length-1;0<=f;f--)this.removeListener(a,b[f]);return this;};d.prototype.listeners=function(a){var b;b=this.Pg;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),f=0;f<b.length;++f)b[f]=a[f].listener||a[f];a=b;}return a;};d.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):h.call(a,b);};d.prototype.listenerCount=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vGa=function(){this.AUDIO=0;this.VIDEO=1;this.LM=2;this.Ag=function(){};};d.Oca="DownloadTrackConstructorFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.yFa="display";a.lEa="console";a.mzb="remote";a.SX="memory";a.EQa="writer";d.hA=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sF="LicenseProviderSymbol";},function(g,d,a){var c,h;function b(a){switch(a){case c.H.kF:return"http";case c.H.lF:return"connectiontimeout";case c.H.dw:return"readtimeout";case c.H.BX:return"corruptcontent";case c.H.Qs:return"abort";case c.H.aA:case c.H.FX:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(5);d.Dra=b;d.Ira=function(a,f){a={errorcode:a+(f.errorCode||c.I.Qh)};f.T&&(a.errorsubcode=f.T);f.jc&&(a.errorextcode=f.jc);f.oC&&(a.erroredgecode=f.oC);f.Ja&&(a.errordetails=f.Ja);f.Ah&&(a.httperr=f.Ah);f.sT&&(a.aseneterr=f.sT);f.Mn&&(a.errordata=f.Mn);f.GJ&&(a.mediaerrormessage=f.GJ);(f=b(Number(f.T)))&&(a.nwerr=f);return a;};d.Rra=function(){return{screensize:h.uq.width+"x"+h.uq.height,screenavailsize:h.uq.availWidth+"x"+h.uq.availHeight,clientsize:A.innerWidth+"x"+A.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Ica||(d.Ica={})).PboDebugEvent="PboDebugEvent";d.GW={cKa:"Manifest",Event:"Event",Ywb:"Logblob"};},function(g){g.M=function(d){return{minInitVideoBitrate:d.av,minHCInitVideoBitrate:d.N7,maxInitVideoBitrate:d.zy,minInitAudioBitrate:d.LJ,maxInitAudioBitrate:d.AJ,minHCInitAudioBitrate:d.KJ,minAcceptableVideoBitrate:d.dT,minRequiredBuffer:d.MJ,minPrebufSize:d.ii,rebufferingFactor:d.r9,useMaxPrebufSize:d.Zaa,maxPrebufSize:d.nD,maxRebufSize:d.w7,maxBufferingTime:d.Ur,minAudioMediaRequestSizeBytes:d.eT,minVideoMediaRequestSizeBytes:d.lT,initialBitrateSelectionCurve:d.jS,initSelectionLowerBound:d.Zsa,initSelectionUpperBound:d.$sa,throughputPercentForAudio:d.vV,bandwidthMargin:d.K0,bandwidthMarginContinuous:d.L0,bandwidthMarginCurve:d.M0,conservBandwidthMargin:d.K1,switchConfigBasedOnInSessionTput:d.kaa,conservBandwidthMarginTputThreshold:d.tH,conservBandwidthMarginCurve:d.L1,switchAlgoBasedOnHistIQR:d.MAa,switchConfigBasedOnThroughputHistory:d.Iv,maxPlayerStateToSwitchConfig:d.v7,lowEndMarkingCriteria:d.X6,IQRThreshold:d.JX,histIQRCalcToUse:d.v5,bandwidthMarginScaledRatioUpperBound:d.LYa,maxTotalBufferLevelPerSession:d.Vr,highWatermarkLevel:d.Csa,toStableThreshold:d.iBa,toUnstableThreshold:d.AV,skipBitrateInUpswitch:d.P$,watermarkLevelForSkipStart:d.hba,highStreamRetentionWindow:d.o5,lowStreamTransitionWindow:d.Y6,highStreamRetentionWindowUp:d.q5,lowStreamTransitionWindowUp:d.a7,highStreamRetentionWindowDown:d.p5,lowStreamTransitionWindowDown:d.Z6,highStreamInfeasibleBitrateFactor:d.n5,lowestBufForUpswitch:d.wy,lockPeriodAfterDownswitch:d.NS,lowWatermarkLevel:d.c7,lowestWaterMarkLevel:d.xy,lowestWaterMarkLevelBufferRelaxed:d.f7,mediaRate:d.E7,maxTrailingBufferLen:d.y7,audioBufferTargetAvailableSize:d.D0,videoBufferTargetAvailableSize:d.eba,maxVideoTrailingBufferSize:d.dva,maxAudioTrailingBufferSize:d.Rua,fastUpswitchFactor:d.fR,fastDownswitchFactor:d.t3,maxMediaBufferAllowed:d.US,simulatePartialBlocks:d.N$,simulateBufferFull:d.jAa,considerConnectTime:d.M1,connectTimeMultiplier:d.J1,lowGradeModeEnterThreshold:d.xua,lowGradeModeExitThreshold:d.yua,maxDomainFailureWaitDuration:d.Sua,maxAttemptsOnFailure:d.Pua,exhaustAllLocationsForFailure:d.Ypa,maxNetworkErrorsDuringBuffering:d.Xua,maxBufferingTimeAllowedWithNetworkError:d.q7,fastDomainSelectionBwThreshold:d.s3,throughputProbingEnterThreshold:d.taa,throughputProbingExitThreshold:d.YAa,locationProbingTimeout:d.lua,finalLocationSelectionBwThreshold:d.hqa,throughputHighConfidenceLevel:d.WAa,throughputLowConfidenceLevel:d.XAa,locationStatisticsUpdateInterval:d.M6,enablePerfBasedLocationSwitch:d.iC,probeServerWhenError:d.mo,probeRequestTimeoutMilliseconds:d.Z8,allowSwitchback:d.fr,probeDetailDenominator:d.dz,maxDelayToReportFailure:d.RS,countGapInBuffer:d.doa,allowReissueMediaRequestAfterAbort:d.yB,bufferThresholdForAbort:d.U0,allowCallToStreamSelector:d.k0,pipelineScheduleTimeoutMs:d.H8,maxPartialBuffersAtBufferingStart:d.Ay,minPendingBufferLen:d.O7,maxPendingBufferLen:d.mD,maxPendingBufferLenSABCell100:d.WS,maxActiveRequestsSABCell100:d.QS,enableRequestPacing:d.VQ,maxStreamingSkew:d.x7,maxPendingBufferPercentage:d.u7,maxRequestsInBuffer:d.By,headerRequestSize:d.$R,minBufferLenForHeaderDownloading:d.M7,reserveForSkipbackBufferMs:d.uU,numExtraFragmentsAllowed:d.p8,pipelineEnabled:d.jo,maxParallelConnections:d.DJ,socketReceiveBufferSize:d.lAa,audioSocketReceiveBufferSize:d.G0,videoSocketReceiveBufferSize:d.fba,headersSocketReceiveBufferSize:d.l5,updatePtsIntervalMs:d.GV,bufferTraceDenominator:d.W0,bufferLevelNotifyIntervalMs:d.GB,aseReportDenominator:d.BB,aseReportIntervalMs:d.z0,enableAbortTesting:d.Epa,abortRequestFrequency:d.Ala,streamingStatusIntervalMs:d.caa,prebufferTimeLimit:d.KD,minBufferLevelForTrackSwitch:d.gT,penaltyFactorForLongConnectTime:d.B8,longConnectTimeThreshold:d.V6,additionalBufferingLongConnectTime:d.g0,additionalBufferingPerFailure:d.h0,rebufferCheckDuration:d.zK,enableLookaheadHints:d.Hpa,lookaheadFragments:d.uua,enableOCSideChannel:d.kp,OCSCBufferQuantizationConfig:d.cN,updateDrmRequestOnNetworkFailure:d.FBa,deferAseScheduling:d.AQ,maxDiffAudioVideoEndPtsMs:d.SS,useHeaderCache:d.IE,useHeaderCacheData:d.RQ,defaultHeaderCacheSize:d.wQ,defaultHeaderCacheDataPrefetchMs:d.v2,headerCacheMaxPendingData:d.i5,neverWipeHeaderCache:d.c8,recreateHeaderCacheDownloadTracks:d.clb,headerCachePriorityLimit:d.j5,headerCacheFlushForCircularBuffer:d.Vab,enableUsingHeaderCount:d.bI,networkFailureResetWaitMs:d.a8,networkFailureAbandonMs:d.Z7,maxThrottledNetworkFailures:d.YS,throttledNetworkFailureThresholdMs:d.uV,abortUnsentBlocks:d.ar,maxUnsentBlocks:d.z7,abortStreamSelectionPeriod:d.V_,lowThroughputThreshold:d.b7,excludeSessionWithoutHistoryFromLowThroughputThreshold:d.j3,mp4ParsingInNative:d.Jva,sourceBufferInOrderAppend:d.mAa,requireAudioStreamToEncompassVideo:d.Um,allowAudioToStreamPastVideo:d.bma,pruneRequestsFromNative:d.wkb,preciseBufferLevel:d.Gjb,enableManagerDebugTraces:d.Oe,managerDebugMessageInterval:d.Iua,managerDebugMessageCount:d.Hua,bufferThresholdToSwitchToSingleConnMs:d.PP,bufferThresholdToSwitchToParallelConnMs:d.V0,netIntrStoreWindow:d.qgb,minNetIntrDuration:d.Vfb,fastHistoricBandwidthExpirationTime:d.K6a,bandwidthExpirationTime:d.IYa,failureExpirationTime:d.I6a,historyTimeOfDayGranularity:d.bbb,expandDownloadTime:d.x6a,minimumMeasurementTime:d.dgb,minimumMeasurementBytes:d.cgb,throughputMeasurementTimeout:d.lqb,initThroughputMeasureDataSize:d.Sbb,throughputMeasureWindow:d.kqb,throughputIQRMeasureWindow:d.jqb,IQRBucketizerWindow:d.JIa,connectTimeHalflife:d.f0a,responseTimeHalflife:d.rmb,historicBandwidthUpdateInterval:d.abb,throughputMeasurementWindowCurve:d.mqb,httpResponseTimeWarmup:d.rbb,responseTimeWarmup:d.smb,throughputWarmupTime:d.qqb,minimumBufferToStopProbing:d.bgb,throughputPredictor:d.nqb,holtWintersDiscretizeInterval:d.ebb,holtWintersHalfLifeAlpha:d.fbb,holtWintersHalfLifeGamma:d.hbb,holtWintersInitialCounts:d.ibb,holtWintersMinInitialCounts:d.jbb,holtWintersHalfLifeCurveEnabled:d.gbb,holtWintersUpperBoundEnabled:d.kbb,ase_stream_selector:d.VXa,enableFilters:d.k5a,filterDefinitionOverrides:d.Z6a,defaultFilter:d.D3a,secondaryFilter:d.Vmb,defaultFilterDefinitions:d.E3a,initBitrateSelectorAlgorithm:d.O5,bufferingSelectorAlgorithm:d.Y0,debugLocationSelectorFailureSimulation:d.n2,debugDumpFragments:d.l2,debugLocationHistoryThroughput:d.m2,debugNetworkMonitorThroughput:d.o2,debugVerboseSimulation:d.Ioa,secondThroughputEstimator:d.b$,secondThroughputMeasureWindowInMs:d.pza,marginPredictor:d.m7,simplePercentilePredictorPercentile:d.iAa,simplePercentilePredictorCalcToUse:d.gAa,simplePercentilePredictorMethod:d.hAa,IQRBandwidthFactorConfig:d.hea,networkMeasurementGranularity:d.b8,HistoricalTDigestConfig:d.Dda,TputTDigestConfig:d.XPa,maxIQRSamples:d.Uua,minIQRSamples:d.Dva,useResourceTimingAPI:d.aba,ignoreFirstByte:d.Psa,resetHeuristicStateAfterSkip:d.hmb,periodicHistoryPersistMs:d.QT,saveVideoBitrateMs:d.CU,needMinimumNetworkConfidence:d.RJ,biasTowardHistoricalThroughput:d.P0,maxFastPlayBufferInMs:d.t7,maxFastPlayBitThreshold:d.s7,headerCacheTruncateHeaderAfterParsing:d.zsa,minAudioMediaRequestDuration:d.uD,minVideoMediaRequestDuration:d.vD,minAudioMediaRequestDurationCache:d.uD,minVideoMediaRequestDurationCache:d.vD,notifyOpenConnectBlackBox:d.Sgb,addHeaderDataToNetworkMonitor:d.vP,useMediaCache:d.Nz,mediaCachePartitionConfig:d.C7,diskCacheSizeLimit:d.bC,mediaCachePrefetchMs:d.aT,appendCachedMediaAsMediaRequest:d.GXa,enablePsd:d.TQ,psdCallFrequency:d.g9,psdReturnToNormal:d.h9,psdThroughputThresh:d.rK,discardLastNPsdBins:d.OH,psdPredictor:d.Fg,enableRl:d.v5a,rlLogParam:d.xmb,hindsightDenominator:d.u5,hindsightDebugDenominator:d.t5,hindsightParam:d.aS,minimumTimeBeforeBranchDecision:d.mT,enableSessionHistoryReport:d.aI,earlyStageEstimatePeriod:d.S2,lateStageEstimatePeriod:d.Wta,maxNumSessionHistoryStored:d.VS,minSessionHistoryDuration:d.jT,enableInitThroughputEstimate:d.$H,applyInitThroughputEstimate:d.u0,initThroughputPredictor:d.ata,appendMediaRequestOnComplete:d.s0,waitForDrmToAppendMedia:d.TV,forceAppendHeadersAfterDrm:d.I3,startMonitorOnLoadStart:d.V$,reportFailedRequestsToNetworkMonitor:d.C9,reappendRequestsOnSkip:d.yK,maxActiveRequestsPerSession:d.zJ,limitAudioDiscountByMaxAudioBitrate:d.E6,appendFirstHeaderOnComplete:d.r0,maxAudioFragmentOverlapMs:0,maxNumberTitlesScheduled:d.yxa?d.yxa.maxNumberTitlesScheduled:1,editAudioFragments:d.Em,editVideoFragments:d.Fr,declareBufferingCompleteAtSegmentEnd:d.p2,applyProfileTimestampOffset:d.sx,applyProfileStreamingOffset:d.yn,requireDownloadDataAtBuffering:d.H9,requireSetupConnectionDuringBuffering:d.I9,renormalizeFirstFragment:d.Olb,renormalizeLastFragment:d.Plb,recordFirstFragmentOnSubBranchCreate:d.s9,earlyAppendSingleChildBranch:d.QQ};};},function(g,d,a){(function(b,c){var l;function d(a,b){var f;f=Date.now();this.Uob=f;this.YQ=f+a;this.Sib=a;this.U2a=f+b;this.debug=!1;}l=new(a(8)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.Ta=function(a,b){a=((a-this.Uob)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;l.debug(a+" "+this.W2a+b);};d.prototype.vVa=function(a){this.W2a=a;this.Ta(Date.now(),"starting");};d.prototype.mWa=function(a){var f;f=new Date().getTime();if(f>=this.U2a)throw Error("Execution deadline exceeded");if(3221225472<b.oGb().aFb)throw Error("Heap total limit exceeded");if(this.debug&&!(f<=this.YQ)){for(;f>this.YQ;)this.YQ+=this.Sib;this.Ta(f,a);}};d.zc=function(){c.fU=new d(5E3,12E5);};d.z$=function(a){c.fU&&c.fU.vVa(a);};d.update=function(a){c.fU&&c.fU.mWa(a);};g.M=d;}.call(this,a(229),a(168)));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c,d){this.u=a;this.tag=c;this.length=d;this.tag=c;this.startOffset=a.offset;this.length=d;}a.prototype.parse=function(){this.u.offset=this.startOffset+this.length;this.u.Jy=0;return!0;};a.prototype.lqa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.su)for(var d=0;d<this.su.length;d++)b=b.concat(this.su[d].lqa(a));return b;};a.prototype.mI=function(a){for(a=this.lqa(a);0<a.length;)return a[0];};a.prototype.Rka=function(){for(this.su=[];this.u.offset<this.startOffset+this.length;)this.su.push(this.u.Qka(this));};return a;}();g.prototype.skip=g.prototype.parse;d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UKa="6674654e-696c-5078-6966-665374726d21";d.VKa="6674654e-696c-4878-6165-6465722e7632";d.ofa="6674654e-696c-5078-6966-66496e646578";d.dY="6674654e-696c-4d78-6f6f-6653697a6573";d.bY="6674654e-696c-5378-6565-6b506f696e74";d.OLa="cedb7489-e77b-514c-84f9-7148f9882554";d.Kfa="524f39a2-9b5a-144f-a244-6c427c648df4";d.cY="6674654e-696c-4678-7261-6d6552617465";},function(g,d,a){var h;function b(a,b){return void 0===a||void 0===b?void 0:a+b;}function c(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(74);g=a(47);a=function(){function a(){}a.prototype.pB=function(a){return void 0===a?void 0:0===a?h.ec.Rf:new h.ec(a,this.ha);};a.prototype.Mt=function(a){return a&&Math.floor(h.ec.Baa(a,this.ha));};return a;}();d.cM=a;g.Zh(a.prototype,{zh:g.L({get:function(){return c(this.Nb,this.Ib)||0;}}),jK:g.L({get:function(){return b(this.Ib,this.qo);}}),HD:g.L({get:function(){return b(this.Nb,this.qo);}}),vpa:g.L({get:function(){return this.pB(this.zh);}}),Yna:g.L({get:function(){return this.pB(this.Ib);}}),Una:g.L({get:function(){return this.pB(this.Nb);}}),XT:g.L({get:function(){return this.pB(this.jK);}}),pxa:g.L({get:function(){return this.pB(this.HD);}}),GHb:g.L({get:function(){return this.pB(this.qo);}}),U:g.L({get:function(){return this.Mt(this.jK);}}),ea:g.L({get:function(){return this.Mt(this.HD);}}),duration:g.L({get:function(){return c(this.ea,this.U)||0;}}),Ik:g.L({get:function(){return this.Mt(this.qo);}}),Gn:g.L({get:function(){return this.Mt(this.Ib);}}),Kc:g.L({get:function(){return this.Mt(this.Ib);}}),Kd:g.L({get:function(){return this.Mt(this.Nb);}}),bc:g.L({get:function(){return this.Mt(this.jK);}}),Bd:g.L({get:function(){return this.Mt(this.HD);}}),Er:g.L({get:function(){return this.duration;}}),ls:g.L({get:function(){return this.U;}}),PD:g.L({get:function(){return this.ea;}})});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(14);g=a(47);a=function(){function a(a,b){this.Dc=a;this.Lb=b.Z;this.gd=b.offset;}a.prototype.toJSON=function(){return{movieId:this.R,streamId:this.Xa,offset:this.offset,bytes:this.Z};};return a;}();d.Tv=a;g.Zh(a.prototype,{stream:g.so({get:function(){return this.Dc;}}),Z:g.so({get:function(){return this.Lb;}}),offset:g.so({get:function(){return this.gd;}}),ia:g.so({get:function(){return this.Dc.ia;}}),R:g.so({get:function(){return this.Dc.R;}}),P:g.so({get:function(){return this.Dc.P;}}),Xa:g.so({get:function(){return this.Dc.Xa;}}),O:g.so({get:function(){return this.Dc.O;}}),profile:g.so({get:function(){return this.Dc.profile;}}),ha:g.so({get:function(){return this.Dc.ha;}}),Hy:g.so({get:function(){return this.Dc.Hy;}}),Ka:g.L({get:function(){return this.Dc.Ka;}}),YG:g.L({get:function(){return this.Dc.YG;}}),ZG:g.L({get:function(){return this.Dc.ZG;}}),V5:g.L({get:function(){return this.Dc.V5;}})});},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(17);h=a(15);(function(){var f,p,m;function a(a){b.wa(void 0!==f[a]);return f[a];}f={'"':'""',"\r":"","\n":" "};p=/["\r\n]/g;m=/[", ]/;d.K2a=function(b){return h.ab(b)?h.ka(b)?b:h.Sd(b)?b.replace(p,a):h.nta(b)?b:isNaN(b)?"NaN":"":"";};d.i7=function(a){var b,f;b=d.K2a;f="";c.pc(a,function(a,c){a=b(a)+"="+b(c);m.test(a)&&(a='"'+a+'"');f=f?f+(","+a):a;});return f;};}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.No={qA:"PRIMARY",rba:"ASSISTIVE",bca:"COMMENTARY"};d.VY={assistive:d.No.rba,closedcaptions:d.No.rba,directorscommentary:d.No.bca,commentary:d.No.bca,subtitles:d.No.qA,primary:d.No.qA};},function(g){g.M=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uea="ManifestEncoderSymbol";d.UX="ManifestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fda="IDBDatabaseFactorySymbol";d.kea="IndexedDBFactorySymbol";d.KX="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cLa="NativeLocalStorageSymbol";d.tfa="NativeLocalStorageFactorySymbol";d.Gda="IDBFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(26);d.Wub=function(){this.JP=[];this.QV=[];this.F0=b.Uv.Zv;this.PV=b.pj.Zv;};d.wM="DeviceCapabilitiesConfigSymbol";},function(g,d,a){g=a(237);a=a(236);d.async=new a.fW(g.eW);},function(g,d,a){function b(a){var b,f;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){f=b[c];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f;}return"@@iterator";}g=a(79);d.BIb=b;d.iterator=b(g.root);d.dtb=d.iterator;},function(g,d,a){var b,c,h,l,f,p,m,q;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(10);g=a(50);h=a(71);l=a(456);f=a(455);p=a(239);m=function(a){function f(b){a.call(this,b);this.destination=b;}b(f,a);return f;}(g.Ph);d.xPa=m;a=function(a){function d(){a.call(this);this.as=[];this.LI=this.Ef=this.closed=!1;this.uaa=null;}b(d,a);d.prototype[p.rz]=function(){return new m(this);};d.prototype.Ff=function(a){var b;b=new q(this,this);b.Uy=a;return b;};d.prototype.next=function(a){if(this.closed)throw new l.oA();if(!this.Ef)for(var b=this.as,f=b.length,b=b.slice(),c=0;c<f;c++)b[c].next(a);};d.prototype.error=function(a){if(this.closed)throw new l.oA();this.LI=!0;this.uaa=a;this.Ef=!0;for(var b=this.as,f=b.length,b=b.slice(),c=0;c<f;c++)b[c].error(a);this.as.length=0;};d.prototype.complete=function(){if(this.closed)throw new l.oA();this.Ef=!0;for(var a=this.as,b=a.length,a=a.slice(),f=0;f<b;f++)a[f].complete();this.as.length=0;};d.prototype.unsubscribe=function(){this.closed=this.Ef=!0;this.as=null;};d.prototype.K_=function(b){if(this.closed)throw new l.oA();return a.prototype.K_.call(this,b);};d.prototype.zf=function(a){if(this.closed)throw new l.oA();if(this.LI)return a.error(this.uaa),h.Tj.EMPTY;if(this.Ef)return a.complete(),h.Tj.EMPTY;this.as.push(a);return new f.tha(this,a);};d.prototype.x0=function(){var a;a=new c.sa();a.source=this;return a;};d.create=function(a,b){return new q(a,b);};return d;}(c.sa);d.Bi=a;q=function(a){function f(b,f){a.call(this);this.destination=b;this.source=f;}b(f,a);f.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};f.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};f.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};f.prototype.zf=function(a){return this.source?this.source.subscribe(a):h.Tj.EMPTY;};return f;}(a);d.ntb=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uga="ReportSyncSymbol";d.Tga="ReportApiErrorSyncSymbol";d.qda="FtlProbeConfigSymbol";d.rda="FtlProbeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pW="CachedDrmDataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.en||(d.en={});g[g.az=0]="playready";g[g.UV=1]="widevine";g[g.tC=2]="fairplay";g[g.oCb=3]="clearkey";d.CGa="DrmTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hN="PlatformConfigDefaultsSymbol";},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof A&&(d=A);}g.M=d;},function(g){g.M={jq:{TY:0,Yga:1,Oh:2,name:["transient","semiTransient","permanent"]},hq:{lda:0,Wga:1,kN:2,GF:3,wq:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},GAb:{nAb:0,hxb:1,rub:2,wq:100,name:["trailer","montage","content"]},Io:{vea:0,Qga:1,nQa:2,XFa:3,wq:100,name:["left","right","up","down"]},pF:{qEa:0,kN:1,cwb:2,wvb:3,vtb:4,bwb:5,pDa:6,wq:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},dA:{GF:0,yca:1,wq:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(229);g.M="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.ca:Date.now;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yY="PlaylistHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sga=function(a,b){var c;this.F$=function(){c||(c=setInterval(b,a));};this.v1=function(){c&&(clearInterval(c),c=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.mh||(d.mh={});g[g.oAa=1]="sourceopen";g[g.Dm=2]="currentTimeChanged";g[g.OK=3]="seeked";g[g.zGb=4]="needlicense";g[g.cua=5]="licenseadded";g[g.nAa=6]="sourceBuffersAdded";g[g.r8=7]="onNeedKey";},function(g,d,a){var c,h,l;function b(a,b){this.Gi=b?[b]:[];this.TA="$op$"+l++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);l=0;b.prototype.addListener=function(a,b){var f;f=this;h.Foa(a);h.wa(0>this.Gi.indexOf(a));a[c.iY+this.TA]=b;this.Gi=this.Gi.slice();this.Gi.push(a);this.Gi.sort(function(a,b){return f.Oob(a,b);});};b.prototype.removeListener=function(a){var b;h.Foa(a);this.Gi=this.Gi.slice();0<=(b=this.Gi.indexOf(a))&&this.Gi.splice(b,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,ou:b};this.o=a;a=this.Gi;for(var f=a.length,c=0;c<f;c++)a[c](b);}};b.prototype.Oob=function(a,b){return(a[c.iY+this.TA]||0)-(b[c.iY+this.TA]||0);};na.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.fd=b;},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z;function b(a,b){var m;m=new l.Oj();this.aJ=this.iH=this.jH=void 0;this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.wb.bind(this);this.Ki=a;this.mG=b;this.Zw=z++;this.Ta=f.yd("MediaRequest");"notification"===b?h.config.kp&&(this.Ft=v.vLa):this.Ft=c.ufb;p.wa(void 0!==this.Ft);this.JN=this.Zf=this.OO=void 0;this.We=d.Db.Eb.UNSENT;this.gka=this.hja=this.HZ=this.WO=void 0;this.li=this.Kw=0;this.Hia=this.KZ=this.Lw=this.Dt=this.TZ=this.rg=this.vO=this.Ve=this.$w=void 0;this.w_=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(284);h=a(9);l=a(68);f=a(3);p=a(12);m=a(18);q=a(5);u=a(6);x=a(15);v=a(282);g=a(300);z=0;(function(){function a(){var a;a={requestId:this.Zw,segmentId:this.Kl,isHeader:this.Ac,ptsStart:this.ls,ptsOffset:this.Ik,responseType:this.OO,duration:this.Er,readystate:this.We};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}m.La(b.prototype,{Pgb:function(a){this.We===d.Db.Eb.OPENED&&(this.aJ=!0,this.vO=this.rg=a.timestamp,this.We=d.Db.Eb.dt,this.emit(d.Db.cd.Afa,a));},m8:function(a){var b;if(this.We<d.Db.Eb.uw){this.w_=[];b=a.timestamp-this.vO;!this.Ac&&0<b&&(this.Hia=!0,this.w_.push(b));!0!==h.config.Psa&&(this.rg=a.timestamp);this.We=d.Db.Eb.uw;this.emit(d.Db.cd.zfa,a);}},Tgb:function(a){this.We===d.Db.Eb.uw&&(this.TZ=this.rg=a.timestamp,a.newBytes=a.bytesLoaded-this.Kw,this.Kw=a.bytesLoaded,x.ab(this.TZ)&&this.emit(d.Db.cd.Bfa,a));},Zi:function(a){if(this.We===d.Db.Eb.dt||this.We===d.Db.Eb.uw)this.aJ=!1,this.rg=a.timestamp,this.We=d.Db.Eb.DONE,a.newBytes=this.cn-this.Kw,this.Kw=this.cn,x.ab(this.Lw)&&(this.rg=this.Lw,0===a.newBytes&&(this.TZ=this.Lw)),x.ab(this.Dt)&&(this.vO=this.Dt),this.$w=a.response,this.emit(d.Db.cd.DF,a);},Kgb:function(a){this.aJ=!1;this.emit(d.Db.cd.mLa,a);},o8:function(a){this.rg=a.timestamp;this.WO=a.httpcode;this.HZ=a.errorcode;this.hja=d.Db.Ns.name[this.HZ];this.gka=a.nativecode;this.emit(d.Db.cd.qw,a);this.aJ=!1;},open:function(a,b,f,c,m,p,q){this.vz=!1;this.JN=b;this.Zf=a;this.OO=f;if(!a)return!1;this.We=d.Db.Eb.OPENED;this.Ft.vI(this,b,q);return!0;},Jd:function(){-1!==[d.Db.Eb.OPENED,d.Db.Eb.dt,d.Db.Eb.uw].indexOf(this.We)&&this.abort();return!0;},rna:function(){this.$w=void 0;this.rH.response=void 0;this.Isa=this.rH.cadmiumResponse.content=void 0;},sV:function(a){this.Zf=a;this.Ft.Maa(this);return!0;},abort:function(){this.We=d.Db.Eb.Qv;this.Ft.U_(this);return!0;},pause:u.Qb,getResponseHeader:u.Qb,getAllResponseHeaders:u.Qb,Ti:function(){return this.Zw;},toString:a,toJSON:a,W$a:function(){var a,b;if(h.config.aba&&q.tq&&q.tq.getEntriesByType&&(!x.ab(this.Dt)||!x.ab(this.Lw))){a=this.url.split("nflxvideo.net")[0].split("//").pop()+"";a=a+("*nflxvideo.net/range/"+this.jH+"-"+this.iH+"*");b=new RegExp(a);a=q.tq.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];x.ab(a)&&(0<a.startTime&&(this.Dt=a.startTime,0<a.requestStart&&(this.Dt=Math.max(this.Dt,a.requestStart))),0<a.responseStart&&(this.KZ=a.responseStart),0<a.responseEnd&&(this.Lw=a.responseEnd));}},Ccb:function(){return x.ab(this.Dt)&&x.ab(this.Lw)&&x.ab(this.KZ);}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.We;},set:function(){}},status:{get:function(){return this.WO;}},nk:{get:function(){return this.HZ;}},dR:{get:function(){return this.hja;}},El:{get:function(){return this.gka;}},Be:{get:function(){return this.Kw;}},response:{get:function(){return this.$w;}},track:{get:function(){return this.Ki;}},label:{get:function(){return this.mG;}},byteLength:{get:function(){return this.iH-this.jH+1;}},url:{get:function(){return this.Zf;}},responseType:{get:function(){return this.OO;}},rZa:{get:function(){return this.JN;}},cn:{get:function(){return this.JN.end-this.JN.start+1;}},Gf:{get:function(){return this.vO;}},pd:{get:function(){return this.rg;}},Qdb:{get:function(){return this.Dt;}},o7a:{get:function(){return this.KZ;}},W_a:{get:function(){return this.Lw;}},connect:{get:function(){return this.Hia;}},ps:{get:function(){return this.w_;}},qsa:{get:function(){return this.response&&0<this.response.byteLength;}}});}());d.Db=Object.assign(b,g.yi);},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(287);c=a(9);h=a(6);l=a(2);f=a(12);p=a(3);m=a(17);q=a(69);u=a(87);d.yh={};A._cad_global||(A._cad_global={});A._cad_global.controlProtocol=d.yh;g.Re(l.I.Mda,function(a){var q,l,g;f.wa(c.config);q=p.yd("ControlProtocol");l=c.config.zg;f.wa(l);g=p.da.get(u.Hs);q.info("Creating EDGE instance",{Endpoint:g.endpoint+l.Lva,Path:l.ypa});m.La(d.yh,new b.REa(q));a(h.Fb);});d.KCb=p.da.get(q.BM);d.JCb="1";d.LCb="2";d.MCb="3";d.ICb="4";},function(g,d,a){var h,l,f,p,m,q,u,x,v,z,w,D,y,k,P;function b(a,b,f){var d;d=m.da.get(y.sF);return a.la&&c(a.$b)?d.release(Object.assign({},f,{la:a.la,$b:a.$b}),b):f.la&&c(f.$b)?d.release(f,b):Promise.resolve({S:!0});}function c(a){return a&&0<a.length&&a[0].Tu;}Object.defineProperty(d,"__esModule",{value:!0});h=a(176);l=a(6);f=a(9);p=a(21);m=a(3);q=a(12);u=a(463);x=a(2);v=a(61);z=a(33);w=a(42);D=a(15);y=a(145);k=a(125);P=a(16);d.SEa=function(a){var E,G,n,r;function c(){c=l.Qb;a.fireEvent(P.X.Dma);m.da.get(k.fN)().then(function(b){b.Vob(a);});}function g(){g=l.Qb;d.RBa(G,E);a.fireEvent(P.X.JS);}function z(b){return new Promise(function(f,c){var d,p,q;d=[];p=v.dd.$na(b.ah);b.hp.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:m.N0(a.data)});});q=a.b$a(b.hp[0].sessionId);p={cf:q.cf,ah:D.is.Li(b.ah)?b.ah:p,LQ:[q.zj],hp:d,la:a.la,ql:b.ql};a.dQ&&(p.FJ=a.dQ);r.wB(p,G).then(function(b){a.$b=b.$b;f(b);g();})["catch"](function(a){c(a);});});}E=m.qf(a,"Playback");G={Bb:a.RI,log:m.qf(a,"MSLContext"),profile:a.profile};r=m.da.get(y.sF);q.wa(f.config);q.wa(h.yh);q.wa(G.Bb);f.config.Bo||(n=m.da.get(u.Pca));return{Xr:G,$G:function(b){var g,h;function d(f){try{a.JT(f);b(l.Fb);c();}catch(Q){E.error("Exception processing authorization response",Q);b({S:!1,T:x.H.UMa});}}function m(){a.yza().then(function(a){d(a);})["catch"](function(a){b(a);});}q.FH(a.R);q.FH(a.Pf);g=a.Fa;if(g){h=g.expiration;h?(h-=p.pH(),18E5<h?w.hb(function(){d(g);a.fu="ui";}):(E.error("manifest is expired",{gap:h}),m())):w.hb(function(){d(g);a.fu="ui";});}else f.config.Gl&&A._cad_global.videoPreparer?(h=A._cad_global.videoPreparer.Dj(a.R,"manifest"))&&h.then(function(b){d(b);a.fu="videopreparer";})["catch"](function(a){E.warn("manifest not in cache",a);m();}):m();},Kr:z,release:function(f){return b(a,G,f);},Ze:function(a,b){z(a).then(function(a){b(a);})["catch"](function(a){b(a);});},foa:function(){var b;b=n.create();b.profileId=a.profile.id;a.bg&&(b.zd=a.bg.CC());b.$b=a.$b;b.la=a.la;b.R=a.R;return b;}};};d.RBa=function(a,b){d.RBa=l.Qb;z.aLa&&f.config.Vrb&&h.yh.Q0(a).then(function(){b.trace("Updated NetflixId");})["catch"](function(a){b.error("NetflixId upgrade failed",x.hn(a));});};d.Dlb=b;},function(g,d,a){var l,f,p,m,q,u,x,v,z,w,D,y,k,P,G;function b(a,b){var E,G;function d(b){return f.Dlb(a,E,b);}function g(){var a,b,f;b=z.yd("Eme");a=new v.xf.Ms(b,void 0,d,{Bg:!1,gJ:!1});f=z.da.get(D.AA);return v.xf.Fo(b,"cenc",void 0,{Bg:!1,gJ:!1,Cta:q.config.Jh,tza:{tva:q.config.$mb,nna:q.config.d$,UIb:q.config.Zmb},GK:a,Oxa:q.config.e9,HE:q.config.HE,Oz:q.config.W2,mHb:q.config.anb,xma:f.iQ(),iCa:f.AH([]),SC:q.config.SC});}function u(a,b){var f;f={la:b.xid,by:function(){return 0;},R:b.movieId,wJ:!1};q.config.Jh&&(G.info("secure stop is enabled"),b=a.S?{success:a.S,persisted:!0,ss_km:a.sva,ss_sr:a.VK,ss_ka:a.Ina}:{success:a.S,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.tc,ErrorExternalCode:a.Df,ErrorEdgeCode:a.Qx,ErrorDetails:a.cause&&a.cause.Ja},b.browserua=k.Vk,a=new x.gA(f,"securestop",a.S?"info":"error",b),A._cad_global.logBatcher.Ub(a));}function y(){function a(a,b){var f,m;f=l.Vg.Iu(b.profileId);if(!f)return G.warn("profile not found in release drm session, this is an orphan drmSession"),c(a,b);if(!b.$b||0===b.$b.length||!b.$b[0].Tu)return G.error("releaseDrmSession exception: missing valid keySessionData"),c(a,b);E={Bb:p.Bb,log:G,profile:f};if(0<b.$b.length){G.info("Sending the deferred playdata and secure stop data");m=g();return m.create(q.config.zd).then(function(){return m.pDb(b);}).then(function(f){G.info("Sent the deferred playdata and secure stop data");u(f,b);return c(a,b);})["catch"](function(f){f&&f.code===w.I.AOa&&c(a,b);f&&f.code===w.I.zOa&&c(a,b);G.error("Unable to send last stop",f);u(f,b);throw f;});}G.info("No key session so just send the playdata");return d(b).then(function(){G.trace("Successfully sent stop command for previous session");return c(a,b);})["catch"](function(a){G.error("Unable to send stop command for previous session",a);throw a;});}h(G).then(function(f){var c;c=f.MQ.filter(function(a){return!1===a.active;}).map(function(b){return a(f,b);});Promise.all(c).then(function(){G.info("release drm session completed for "+c.length+" entries");b(m.Fb);})["catch"](function(a){a=a||{};a.DrmCacheSize=c.length;G.error("Unable to release one or more DRM session data",a);b(m.Fb);});})["catch"](function(a){G.error("Unable to load DRM session data",a);b(m.Fb);});}G=z.yd("PlayDataManager");b=b||m.Qb;q.config.Bo?b(m.Fb):y();}function c(a,b){return a?a.z9(b):Promise.resolve();}function h(a){var b;if(!d.qpa){b=z.da.get(y.pW);d.qpa=new Promise(function(f,c){b.Xxa().then(function(){f(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);c(b);});});}return d.qpa;}Object.defineProperty(d,"__esModule",{value:!0});g=a(19);l=a(123);f=a(177);p=a(34);m=a(6);q=a(9);u=a(55);x=a(95);v=a(33);z=a(3);w=a(2);D=a(113);y=a(165);k=a(5);P=a(125);G=a(16);d.tNa=function(a){var p,l,g,x,w;function f(){l||(a.he("pdsb"),l=z.da.get(P.fN)().then(function(b){x=b;a.he("pdsc");return b;})["catch"](function(b){p.error("Unable to initialize the playdata services",b);a.he("pdse");throw b;}));return l;}function d(){g=!0;x&&x.close();u.ee.removeListener(u.sk,d);}p=z.qf(a,"PlayDataManager");g=!1;if(!v.xf.Fo||!v.xf.Ms){w={};v.xf.Fo=w.ue;v.xf.Ms=w.request;}a.he("pdctor");a.addEventListener(G.X.De,function(){u.ee.removeListener(u.sk,d);});a.addEventListener(G.X.JS,function(){var b;if(!q.config.Bo&&a.bg){b=a.yh.foa();h(p).then(function(a){return a.Ila(b);})["catch"](function(){p.error("Unable to load/add cached DRM data");});}});a.addEventListener(G.X.De,function(){var b;if(!g){a.Hsb();b=[function(){return q.config.Bo||!a.bg?Promise.resolve():new Promise(function(b){var f;p.info("Sending the expedited playdata and secure stop data");f=a.yh.foa();a.bg.UDb(f).then(function(b){p.info("Sent the expedited playdata and secure stop data");q.config.Jh&&a.gD.IU({success:b.S,persisted:!1,ss_km:b.sva,ss_sr:b.VK,ss_ka:b.Ina});return h(p);}).then(function(a){return c(a,f);}).then(function(){b();})["catch"](function(f){p.error("Unable to send the expedited playdata and secure stop data",f);q.config.Jh&&a.gD.IU({success:f.S,state:f.state,ErrorCode:f.code,ErrorSubCode:f.tc,ErrorExternalCode:f.Df,ErrorEdgeCode:f.Qx,ErrorDetails:f.cause&&f.cause.Ja});b();});});}(),function(){return f().then(function(b){return b.ipb(a);}).then(function(){p.info("Sent the playdata");})["catch"](function(a){p.error("Unable to send the playdata",a);});}(),function(){if(A._cad_global.logBatcher)return new Promise(function(a){A._cad_global.logBatcher.flush(!1)["catch"](function(){p.error("Unable to send logblob");a();}).then(function(){a();});});Promise.resolve();}()];Promise.all(b).then(function(){a.ewa();})["catch"](function(){a.ewa();});}});u.ee.addListener(u.sk,d);return{onb:function(c){a.he("pdpb");q.config.MU||f().then(function(b){return b.send(a.R);}).then(function(){q.config.Bo?(a.he("pdpc"),c(m.Fb)):b(a,function(){a.he("pdpc");c(m.Fb);});})["catch"](function(){a.he("pdpe");c(m.Fb);});}};};d.uNa=function(){new Promise(function(a){b({},function(b){a(b);});});};g.Re(w.I.Rs,function(a){a(m.Fb);});},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(6);c=a(9);h=a(55);l=a(21);f=a(2);p=a(12);m=a(3);q=a(17);u=a(5);x=a(124);v=a(15);g.Re(f.I.Yda,function(a){var y,k,P;function g(){var a;g=b.Qb;a=setInterval(z,c.config.Zdb);h.ee.addListener(h.sk,function(b){b&&b.isPopStateEvent?y.trace("popstate event, Lock timers can stay"):(q.pc(k,function(a,b){localStorage.removeItem(b.Mm);}),clearInterval(a));},b.nA);}function z(){var a;a=l.Dx();q.pc(k,function(b,f){b=localStorage.getItem(f.Mm);b=JSON.parse(b);b.updated=a;localStorage.setItem(f.Mm,JSON.stringify(b));});}p.wa(x.storage);y=m.yd("StorageLock");k={};P=Date.now()+"-"+Math.floor(1E6*Math.random());d.qE={wB:function(a,d){var p,h,x,z,w,D,E;function m(a){localStorage.setItem(h,JSON.stringify(a));a={Mm:h};k[h]=a;y.trace("Lock acquired",{Name:a.Mm});g();d({S:!0,OS:a});}if(localStorage){p=l.Dx();h="lock-"+a;a={updated:p,sessionId:P,count:1};try{if(h in localStorage){x=localStorage.getItem(h);w=JSON.parse(x);v.Ou(w.updated)&&(z=w.updated);D=u.wF(p-z)*b.Pj<c.config.Ydb;E=P===w.sessionId;D?E?(w.count+=1,y.debug("Incremented lock count for existing playbackSession",{id:P,count:w.count}),w.updated=p,m(w)):d({S:!1}):(y.error("Lock was expired or invalid, ignoring",{Epoch:p,LockEpoch:z}),m(a));}else m(a);}catch(Y){y.error("Error acquiring Lock",{errorSubCode:f.H.pg,errorDetails:q.$c(Y)});d({S:!0});}}else u.jua?y.error("Local storage access exception",{errorSubCode:f.H.VOa,errorDetails:q.$c(u.jua)}):y.error("No localstorage",{errorSubCode:f.H.WOa}),d({S:!0});},release:function(a,f){var c,d;p.wa(k[a.Mm]==a);if(localStorage){try{c=localStorage.getItem(a.Mm);d=JSON.parse(c);1<d.count?(--d.count,localStorage.setItem(a.Mm,JSON.stringify(d)),y.trace("Lock count decremented",{Name:a.Mm,count:d.count})):(localStorage.removeItem(a.Mm),delete k[a.Mm],y.trace("Lock released",{Name:a.Mm}));}catch(X){y.error("Unable to release Lock",{Name:a.Mm},X);}f&&f(b.Fb);}}};c.config.XQ?d.qE.wB("session",function(f){d.qE.Jza=f;a(b.Fb);}):a(b.Fb);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xY="PlaybackMilestoneStoreSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vY="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.IS=function(a,b,c){var d;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=c.get;c.get=function(){var l,f;l=d.apply(this,arguments);f={enumerable:c.enumerable,value:l};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return l;};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nga="PboPlaydataValidatorSymbol";d.kga="PboPlaydataArrayValidatorSymbol";d.lga="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var f,p,m,q,u;function b(a,b,f){this.Ma=a;this.esa=b;this.Ua=f;}function c(){}function h(){}function l(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);p=a(37);m=a(4);q=a(20);a=a(24);l.prototype.encode=function(a){return{downloadableId:a.md,duration:a.duration};};l.prototype.decode=function(a){return{md:a.downloadableId,duration:a.duration};};h.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new l().encode),video:a.video.map(new l().encode),text:a.text.map(new l().encode)};};h.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new l().decode),video:a.video.map(new l().decode),text:a.text.map(new l().decode)};};c.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.la,movieId:a.R,position:a.position,clientTime:a.oH,sessionStartTime:a.WK,mediaId:a.Cy,playTimes:new h().encode(a.hK),trackId:a.Vb,sessionId:a.sessionId,appId:a.SG,sessionParams:a.oi,mdxControllerEsn:a.A7};};c.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,la:a.xid,R:a.movieId,position:a.position,oH:a.clientTime,WK:a.sessionStartTime,Cy:a.mediaId,hK:new h().decode(a.playTimes),Vb:a.trackId,sessionId:a.sessionId,SG:a.appId,oi:a.sessionParams,A7:a.mdxControllerEsn};};d.sY=c;b.prototype.lu=function(a,b){var f;f={href:a.Fa&&a.Fa.sy?a.Fa.sy.C4("events").href:"",type:"online",profileId:a.profile.id,la:a.la.toString(),R:a.R,position:a.ay()||0,oH:this.Ma.w$.na(m.Ba),WK:a.TC?a.TC.na(m.Ba):-1,Cy:this.H8a(a),hK:this.$9a(a),Vb:void 0!==a.Pf?a.Pf.toString():"",sessionId:this.esa().sessionId||this.Ua.id,SG:this.esa().SG||this.Ua.id,oi:a.Za.oi||{}};b&&(f=Object.assign({},f,{A7:a.dQ}));return f;};b.prototype.load=function(a){return new c().decode(a);};b.prototype.H8a=function(a){var b,f,c;b=a.Ic.value;f=a.Te.value;c=a.kc.value;return b&&f&&c?(a=a.Fa.media.find(function(a){return a.tracks.AUDIO===b.Vb&&a.tracks.VIDEO===f.Vb&&a.tracks.TEXT===c.Vb;}))?a.id:"":"";};b.prototype.I4=function(a){return a.map(function(a){return{md:a.downloadableId,duration:a.duration};});};b.prototype.$9a=function(a){return(a=a.ko)?(a=a.Z9a(),{total:a.total,audio:this.I4(a.audio),video:this.I4(a.video),text:this.I4(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=g.__decorate([f.N(),g.__param(0,f.l(p.wi)),g.__param(1,f.l(q.me)),g.__param(2,f.l(a.Ue))],u);d.mNa=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.TX="ManifestProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bN="NetworkMonitorFactorySymbol";},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(34);c=a(9);h=a(6);l=a(21);f=a(2);p=a(3);m=a(325);q=a(87);g.Re(f.I.dea,function(a){var f;f=p.da.get(q.Hs);c.config.T2&&(d.Tna=new m.mM({n0:f.endpoint+c.config.e0a,Bb:b.Bb,Ma:{ER:l.Dx},kT:600,log:p.yd("Congestion")}));a(h.Fb);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gea="LogMessageRulerConfigSymbol";d.Hea="LogMessageRulerSymbol";},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(2);h=a(345);l=a(344);f=a(42);d.sCa=function(a,d){var m,p;try{m=h.Xsb(a);}catch(x){b.log.error("xml2xmlDoc exception",x);}f.hb(function(){if(m&&m.documentElement)try{p=l.Ysb(m);}catch(x){b.log.error("xmlDoc2js exception",x);}f.hb(function(){p?d({S:!0,object:p}):d({S:!1,T:c.H.mda});});});};},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(18);h=a(6);l=a(126);f=a(5);p=a(15);m=a(17);d.fib=function(){var t,S,U,H,Y,aa,ra,Z,Q,ka,fa,ma;function a(a){if(c.Pu(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.lib[a];}}function g(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return f.mj(b,c);}function x(a,b){var f,c;f=a.length;c=a[f-1];if("t"===c)return parseFloat(a)*b|0;if("s"===c)return"m"===a[f-2]?parseFloat(a)|0:parseFloat(a)*h.Pj|0;if((a=a.match(Q))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*h.Pj|0;throw Error("dfxp-badtime");}function v(a,b,f,c,d){var m,p,l,q,g,h,u,v;if(a){p=a.style;f=p?f[p]:void 0;c=(p=a.region)?c[p]:void 0;p=d.length;for(l=0;l<p;l++)if(q=d[l],g=a[q],void 0===g&&f&&(g=f[q]),void 0===g&&c&&(g=c[q]),void 0!==g&&g!==b[q]){if(!m)for(m={},h=0;h<p;h++)u=d[h],v=b[u],void 0!==v&&(m[u]=v);m[q]=g;}}return m||b;}function z(a,b,f,d,m,p,q,g,h){var x,z;function u(a,w,D){var y,E,G,Q,P,n;y=a[l.ti];E=y.style||w.style||"";G=y.region||w.region||"";E||G?(Q=E+"/"+G,P=f[Q]):P=b;if(!P){P=b;n=c.ZK(d);c.La(n,m[E]);P=k(P,n,q,g,h);f[E+"/"]=P;G&&(c.La(n,p[G]),c.La(n,m[E]),P=k(P,n,q,g,h),f[Q]=P);}if(!D)a:{for(D=aa.length;D--;)if(void 0!==y[aa[D]]){D=!0;break a;}D=void 0;}D&&(y=v(y,w,m,p,ra),P=k(P,y,q,g,h));w=(a=a[l.WV])&&a.length;for(E=0;E<w;E++)G=a[E],c.pe(G)?ka.test(G[l.XV])?z++:u(G,y,D):(x.push({text:G,lineBreaks:z,style:P}),z=0);}x=[];z=0;u(a,d,!1);0<z&&x.push({text:"",lineBreaks:z,style:b});return x;}function w(a,b,f,c,d,m,p,l){var q,g;f&&(f=S[f]||"top",a.verticalAlignment!==f&&(a.verticalAlignment=f));c&&(f=U[c]||"left",a.horizontalAlignment!==f&&(a.horizontalAlignment=f));d?((g=l[d])?(c=g.marginLeft,f=g.marginTop):(q=d.split(" "),c=n(q[0],p.x)||0,f=n(q[1],p.y)||0,g={mp:0,marginLeft:c,marginTop:f,sXa:c*b.g5+b.KI,uXa:f*b.cba+b.NV},30>l.mp&&(l.mp++,l[d]=g)),a.marginLeft=g.sXa,a.marginTop=g.uXa):(f=c=0,(g=l["default"])||(l["default"]=g={mp:0}));m&&(d=g[m],d||(q=m.split(" "),d={tXa:(1-(c+(n(q[0],p.x)||0)))*b.g5+b.KI,rXa:(1-(f+(n(q[1],p.y)||0)))*b.cba+b.NV},30>g.mp&&(g.mp++,g[m]=d)),a.marginRight=d.tXa,a.marginBottom=d.rXa);}function D(a,b,f,d,m){var p,l,q;p=a.displayAlign;l=a.textAlign;q=a.origin;a=a.extent;f=c.ZK(f);w(f,b,p,l,q,a,d,m);f.id=t++;return f;}function y(b,f,m,p){var l,q,h,u,v,x;l=g(m.characterSize||f.characterSize,d.mib,2)||1;q=(q=b.fontSize)&&fa.test(q)?c.vq(c.Ad(q),25,200):void 0;l*=q/100||1;q=b.textOutline;if(q&&"none"!=q){u=q.split(" ");ma.test(u)?(x=0,v=b.color):(x=1,v=a(u[0]));h=G(u[x]);u=G(u[x+1]);}return{characterStyle:m.characterStyle||d.nib[b.fontFamily]||f.characterStyle,characterSize:l*p,characterColor:a(m.characterColor||b.color||f.characterColor),characterOpacity:g(c.ag(m.characterOpacity,b.opacity,f.characterOpacity),d.z8,1),characterEdgeAttributes:m.characterEdgeAttributes||q&&("none"===q?d.jib:u?d.y8:d.Uwa)||f.characterEdgeAttributes,characterEdgeColor:a(m.characterEdgeColor||v||f.characterEdgeColor),characterEdgeWidth:h,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(m.backgroundColor||b.backgroundColor||f.backgroundColor),backgroundOpacity:g(c.ag(m.backgroundOpacity,b.opacity,f.backgroundOpacity),d.z8,1)};}function k(a,b,c,d,p){var q;b=y(b,c,d,p);m.pc(b,function(b,c){c!==a[b]&&(q||(q=f.EF(a)),q[b]=c);});return q||a;}function P(a,b,c,d,m,p,q,g){var h;h=a[l.ti];c=v(a[l.ti],b,c,m,Z);b=c.region;a=h.displayAlign;c=c.textAlign;m=h.origin;h=h.extent;b||a||c||m||h?((d=d[b])?d=f.EF(d):a||m||h?(d=f.EF(Y),d.id=t++):d=f.EF(H),w(d,p,a,c,m,h,q,g)):d=H;return d;}function G(a){a=c.Ad(a);return p.Ou(a,0,100)?a:0;}function n(a,b){var f;f=a[a.length-1];if("%"===f)return c.vq(.01*parseFloat(a),0,1);if("c"===f)return c.vq(c.Ad(a)/b,0,1);}function r(a){for(var b=a.length,c=a[--b].endTime;b--;)c=f.mj(a[b].endTime,c);return c;}function O(b){m.pc(b,function(f,c){0<=f.toLowerCase().indexOf("color")&&(b[f]=a(c));});}function X(a,c){var d,m,p,q;d=a.pixelAspectRatio;q={KI:0,g5:1,NV:0,cba:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),m=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));m=0<m&&0<p?m/p:1280/720;c=c||1280/720;d=m/c;.01<f.wF(c-m)&&(c>=m?(q.KI=(1-d)/2,q.g5=d):b.wa(!1,"not implemented"));return q;}function V(a){var b,f,m,p,q;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){f=c.Ad(b[0]);b=c.Ad(b[1]);if(0<f&&0<b)return{x:f,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){f=c.Ad(b[0]);q=c.Ad(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),m=c.Ad(b[0]),p=c.Ad(b[1]);if(f&&q&&1.5<f*(m||1)/(q*(p||1)))return d.hib;}return d.gib;}t=1;S={before:"top",center:"center",after:"bottom"};U={left:"left",start:"left",center:"center",right:"right",end:"right"};H={id:t++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};Y={id:t++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};aa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");ra=aa.concat(["style","region"]);Z=["region","textAlign","displayAlign","extent","origin"];Q=/^([0-9]+):([0-9]+):([0-9.]+)$/;ka=/^br$/i;fa=/^[0-9]{1,3}%$/;ma=/^[0-9]/;return function(b,m,p,q,u){var G,Q,n,ka,la,L,fa,H,U,ma,S,aa,ta,da,ga,Ga,Da,A,tb,F,R,ca,jb,ba,ea,ha,Le,ia,ja,na;function w(){try{for(var a;jb;)if(U=jb[l.ti],ba.push({id:t++,startTime:x(U.begin,n),endTime:x(U.end,n),region:P(jb,ha,L,H,fa,ka,da,A),textNodes:z(jb,Le,ia,ea,L,fa,Ga,Da,ga)}),jb=jb[l.PE],a=f.vM(),100<a-ja){ja=Date.now();na=setTimeout(w,1);return;}}catch(qf){E({T:c.H.CM,Ja:c.$c(qf)});return;}na=setTimeout(k,1);}function k(){var b,f,d,m,p,q,l;function a(a,d){for(var m,p=[],q={},l,g=f.length;g--;)m=f[g],l=m.region.id,q[l]||(q[l]=1,p.unshift(m));(m=b[b.length-1])&&m.endTime==a&&c.ju(m.blocks,p)?m.endTime=d:b.push({id:t++,startTime:a,endTime:d,blocks:p});}try{if(!ba.length){E({S:!0,entries:[]});return;}c.QXa(ba);b=[];f=[];d=ba[0];p=ba[0].startTime;for(q=1;f.length||d;){for(;!f.length||d&&d.startTime==p;)f.push(d),p=d.startTime,d=ba[q++];m=r(f);if(!d||m<=d.startTime)for(a(p,m),p=m,l=f.length;l--;)f[l].endTime<=p&&f.splice(l,1);else a(p,d.startTime),p=d.startTime,f.push(d),d=ba[q++];}for(q=b.length;q--;)b[q].index=q,b[q].previous=b[q-1],b[q].next=b[q+1];}catch(rf){E({T:c.H.CM,Ja:c.$c(rf)});return;}E({S:!0,entries:b});}function E(a){setTimeout(function(){G.abort=c.Qb;u(a);},1);}G={abort:function(){na&&clearTimeout(na);}};try{Q=b[l.ti];n=h.Pj/(c.Ad(Q.tickRate)||1);ka=X(Q,m);la=c.La(Y,{marginLeft:ka.KI,marginTop:ka.NV,marginRight:ka.KI,marginBottom:ka.NV});L={};fa={};H={};aa=b.head;ta=b.body;da=V(Q);ga=1/da.y*ka.cba;Ga=c.La({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.y8,characterEdgeColor:"#000000",characterSize:1},p,{Jp:!0});Da=q||{};A={mp:0};if(aa){tb=aa.styling;if(tb)for(S=tb.style;S;)U=S[l.ti],O(U),L[U.id]=U,S=S[l.PE];F=aa.layout;if(F)for(var Wb=F.region;Wb;){U=Wb[l.ti];R=U.id;ma=c.ZK(L[U.style]);ma=c.La(ma,U);for(S=Wb.style;S;)c.La(ma,S[l.ti]),S=S[l.PE];O(ma);fa[R]=ma;H[R]=D(ma,ka,la,da,A);Wb=Wb[l.PE];}}ca=ta.div;jb=ca.p;ba=[];ea={};ea=v(ta[l.ti],ea,L,fa,ra);ea=v(ca[l.ti],ea,L,fa,ra);ha={};ha=v(ta[l.ti],ha,L,fa,Z);ha=v(ca[l.ti],ha,L,fa,Z);Le=y(ea,Ga,Da,ga);c.La(Le,{windowColor:a(Da.windowColor||Ga.windowColor),windowOpacity:g(c.ag(Da.windowOpacity,Ga.windowOpacity),d.z8,1),cellResolution:da},{Jp:!0});ia={};ca.p=void 0;ca[l.WV]=[];}catch(of){E({T:c.H.CM,Ja:c.$c(of)});return;}ja=f.vM();na=setTimeout(w,1);return G;};}();d.nib={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.mib={SMALL:.5,MEDIUM:1,LARGE:2};d.z8={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.lib={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.jib="NONE";d.kib="RAISED";d.iib="DEPRESED";d.Uwa="UNIFORM";d.y8="DROP_SHADOW";d.gib={x:40,y:19};d.hib={x:52,y:19};},function(g,d,a){var l;function b(){}function c(a,b){this.Cm=a;void 0!==b?(l(b<=a.Vm,"require remain_sec <= chunk.sec but has "+b+" and "+a.Vm),this.Hh=b):this.Hh=a.Vm;}function h(a){void 0===a&&(a=[]);this.ni=[];this.ff=this.ri=0;for(var b in a)this.add(a[b],void 0);}l=a(14);b.prototype=Error();c.prototype.constructor=c;c.prototype.ip=function(){return new c(this.Cm,this.Hh);};h.prototype.constructor=h;h.prototype.add=function(a,b){a=new c(a,b);this.ni.push(a);this.ff+=a.Hh;this.ri+=a.Cm.Mr()*a.Hh;};h.prototype.ip=function(){var a,b;a=new h(void 0);for(b in this.ni)a.add(this.ni[b].Cm,this.ni[b].Hh);return a;};h.prototype.Tn=function(){try{return this.ni[0];}catch(f){}};h.prototype.jxa=function(a){var f;for(l(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.Tn())throw new b();if(a<this.Tn().Hh){f=this.Tn().Cm.Mr()*a;this.Tn().Hh-=a;this.ff-=a;this.ri-=f;a=0;}else f=this.ni.shift(),this.ff-=f.Hh,this.ri-=f.Cm.Mr()*f.Hh,a-=f.Hh;}};h.prototype.jjb=function(a){var c;l(0<=a,"unexpected play_y_kb: y="+a);for(var f=0;0<a;){if(void 0===this.Tn())throw new b();if(a<this.Tn().Hh*this.Tn().Cm.Mr()){c=a/this.Tn().Cm.Mr();this.Tn().Hh-=c;this.ff-=c;this.ri-=a;f+=c;a=0;}else c=this.ni.shift(),this.ff-=c.Hh,this.ri-=c.Cm.Mr()*c.Hh,f+=c.Hh,a-=c.Cm.Mr()*c.Hh;}return f;};g.M={Yba:h,SDa:b};},function(g,d,a){var b,c;b=a(193);c={};g.M={ZDb:function(a){a=a.map(b.co);return a.slice(0,a.length/2);},YDb:function(a,b){var f;f=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*f;});},m3:function(a,b){var f;f=a/b*Math.PI*-2;c[b]=c[b]||{};c[b][a]=c[b][a]||[Math.cos(f),Math.sin(f)];return c[b][a];}};},function(g){g.M={add:function(d,a){return[d[0]+a[0],d[1]+a[1]];},Fd:function(d,a){return[d[0]-a[0],d[1]-a[1]];},multiply:function(d,a){return[d[0]*a[0]-d[1]*a[1],d[0]*a[1]+d[1]*a[0]];},co:function(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1]);}};},function(g,d,a){var b,c,h;b=a(193);c=a(192);h=a(681);g.M={v3:function f(a){var d,p,g,v,z;d=[];p=a.length;if(1==p)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];g=f(a.filter(function(a,b){return 0==b%2;}));a=f(a.filter(function(a,b){return 1==b%2;}));for(var h=0;h<p/2;h++){v=g[h];z=b.multiply(c.m3(h,p),a[h]);d[h]=b.add(v,z);d[h+p/2]=b.Fd(v,z);}return d;},fqa:function(a){var g,x,v;for(var f=a.length,d=h.v0a(f),q=0;q<f;q++){g=h.reverse(q)>>>h.AIa-d;if(g>q){x=[a[q],0];a[q]=a[g];a[g]=x;}else a[g]=[a[g],0];}for(d=2;d<=f;d+=d)for(q=0;q<d/2;q++)for(g=c.m3(q,d),x=0;x<f/d;x++){v=b.multiply(g,a[x*d+q+d/2]);a[x*d+q+d/2]=b.Fd(a[x*d+q],v);a[x*d+q]=b.add(a[x*d+q],v);}}};},function(g,d,a){(function(){var q8f,z,w,D,y,k,P,G,n,r,O,X,V,t,S,U,H,Y,o3k;function b(a,b){var a8f,f,c;a8f=2;while(a8f!==13){switch(a8f){case 2:a8f=a.jS?1:14;break;case 5:a8f=0===c?4:3;break;case 1:f=a.jS,c=t(f,function(a){var z8f;z8f=2;while(z8f!==1){switch(z8f){case 4:return b>a.r;break;z8f=1;break;case 2:return b<=a.r;break;}}});a8f=5;break;case 4:return f[0].d;break;case 9:return f[f.length-1].d;break;case 14:return a.Ur;break;case 3:a8f=-1===c?9:8;break;case 8:q8ff.g1k(0);a=f[q8ff.i1k(1,c)];f=f[c];return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;}}}function q(a,b,f){var W8f,d,m,p,q,y1k,E1k;W8f=2;function c(b){var B8f,f,M1k;B8f=2;while(B8f!==8){M1k="b";M1k+="uff";M1k+="_l";M1k+="t";M1k+="_hist";switch(B8f){case 2:f=b.pa;B8f=1;break;case 1:B8f=!f||(b.O>d.O?a.Yrb:1)*b.O>f?5:4;break;case 5:return!1;break;case 4:q=M1k;p=f;return!0;break;}}}while(W8f!==7){y1k="no_";y1k+="feasible_st";y1k+="ream";E1k="Must ha";E1k+="ve at least one selected st";E1k+="ream";switch(W8f){case 2:G(!z.V(f),E1k);d=b[f],m=d;d.pa&&(d=V(b.slice(0,Math.min(f+(a.BXa?2:1),b.length)).reverse(),c),void 0===d&&(d=b[0],q=y1k,p=d.pa));b=new X();b.uo=d;m!==d&&(b.reason=q,b.Qr=p);return b;break;}}}function p(a,f,d){var L8f,m,p;L8f=2;while(L8f!==3){switch(L8f){case 2:m=new X();p=Math.max(a.av,a.dT,f.Z5?a.N7:-Infinity);m.uo=V(d.filter(function(b){var D8f;D8f=2;while(D8f!==1){switch(D8f){case 2:return b.O<=a.zy;break;case 4:return b.O<a.zy;break;D8f=1;break;}}}).reverse(),function(f){var d8f,q,g,d,Q1k,V1k,K1k,z1k;d8f=2;while(d8f!==7){Q1k="no_historica";Q1k+="l_";Q1k+="lte_minbitrate";V1k="hist_tput_";V1k+="lt_minbi";V1k+="trate";K1k="lt";K1k+="_hist_lte_m";K1k+="inb";K1k+="itr";K1k+="ate";z1k="hist";z1k+="_";z1k+="bufftime";switch(d8f){case 3:g?(q=b(a,f),c(f,g,a)<=q?(m.Qr=g,d&&(m.zl=d.dk?d.dk:0,m.uk=d.dk&&d.Ql),m.reason=z1k,d=!0):d=!1):d=!1;d8f=9;break;case 5:f=f.O;g=d.pa;d8f=3;break;case 9:return d;break;case 1:d8f=f.O>p?5:8;break;case 8:q=d.pa,f.O<=q?(m.Qr=q,d&&(m.zl=d.dk?d.dk:0,m.uk=d.dk?d.Ql:void 0),m.reason=K1k,d=!0):q?(m.Qr=q,d&&(m.zl=d.dk?d.dk:0,m.uk=d.dk?d.Ql:void 0),m.reason=V1k,d=!1):(m.reason=Q1k,d=!0);d8f=9;break;case 2:d={pa:f.pa,dk:f.Ga&&f.Ga.dk,Ql:f.Ga&&f.Ga.Ql};d8f=1;break;}}})||d[0];return m;break;}}}function x(a,b,f,c,d,m){var s8f,da,aa,l,h,v,x,y,D,k,E,Q,n,ka,la,r,O,L,fa,H,S,t,U,m3k,t3k;function p(a,b,f){var o8f;o8f=2;while(o8f!==1){switch(o8f){case 2:return a.Y?a.Y.R1(b,f):0;break;case 4:return a.Y?a.Y.R1(b,f):5;break;o8f=1;break;}}}s8f=2;function q(f,c,d,p,q,g){var f2b=q8ff;var U8f,X,ta,z,t,Y,S,w,U,ma,E,da,aa,Z,ka,L,u,V,h,fa,w3k,q3k,v3k,j1k,J1k,R1k,d1k,f1k,I1k,S1k;U8f=2;while(U8f!==49){w3k="Seco";w3k+="n";w3k+="d st";w3k+="ream has failed";q3k="F";q3k+="irst st";q3k+="re";q3k+="am has failed";v3k="First s";v3k+="trea";v3k+="m not in range";j1k="Secon";j1k+="d stream";j1k+=" ";j1k+="not in range";J1k="Second stream unav";J1k+="ai";J1k+="l";J1k+="able";R1k="Second stre";R1k+="am un";R1k+="define";R1k+="d";d1k="Fi";d1k+="r";d1k+="st stream u";d1k+="navaila";d1k+="ble";f1k="First stream un";f1k+="define";f1k+="d";switch(U8f){case 8:U8f=h>=Math.max(f.XS,f.O*u)&&!f.ZU?7:13;break;case 4:g||z||(f.baa=!0);U8f=3;break;case 6:U8f=h>=f.O*u?14:13;break;case 39:U8f=0<V?38:37;break;case 52:a:{I1k=" ";I1k+=">= f";I1k+="ragment";I1k+="sLength: ";S1k="S";S1k+="tr";S1k+="eamingIndex: ";X=w.concat(X);ta=E;f2b.h1k(1);z=f2b.a1k(U,c);t=S;Y=a.MJ;S=a.fL;w=X.ha;U=Math.min(X.length,c+U+ma);ma=X.Qd;E=X.sizes;f2b.h1k(0);Z=f2b.i1k(ta,ka);ka=Infinity;L=V=0;X=X.Qd[0];f2b.g1k(2);u=f2b.a1k(X,1E3,u,w);f2b.h1k(3);X=f2b.a1k(0,p,g,8);f2b.g1k(4);g=f2b.a1k(8,p,0);f2b.g1k(5);p=f2b.a1k(1E3,w);c>=U&&P.error(S1k+c+I1k+U);ta+=X;0===d&&(ta=0);f2b.h1k(5);ta*=f2b.a1k(1E3,w);f2b.h1k(5);d*=f2b.i1k(1E3,w);f2b.h1k(5);Y*=f2b.i1k(1E3,w);f2b.g1k(5);t*=f2b.a1k(1E3,w);for(Z*=w/1E3;c<U;){da=E[c];aa=ma[c];if(fa<da){for(V=Math.max(da,q);fa<V;){ta=u;fa+=E[L];++L;X=ma[L];u+=X;}if(!S&&(X=d-ta,X<Y)){q={result:!1,d7:X/(w/1E3),vl:!1};break a;}f2b.g1k(0);X=f2b.a1k(ta,d);}else if(X=Math.max(d-ta,0),X<t&&X<V){q={result:!1,d7:Math.min(X,ka)/(w/1E3),vl:!0};break a;}f2b.h1k(6);ta+=f2b.i1k(0,p,da,g);d+=aa;for(fa-=da;u<ta&&L<c;){fa+=E[L];++L;u+=ma[L];}++c;if(c>=z&&X>Z)break;V=X;ka=Math.min(X,ka);}q={result:!0,d7:ka/(w/1E3),vl:!0};}U8f=29;break;case 29:q&&(q.result&&(l.e7=q.d7),a.fL||(f.vl=!!q.vl));H={S6a:q&&q.result,pa:h,O:f.O};return q&&q.result;break;case 13:d=!a.M1||f===d||f.Pb===d.Pb&&m?0:(d=f.Ga)&&d.kg&&d.kg.Aa?d.kg.Aa+a.J1*(d.kg.Ig?Math.sqrt(d.kg.Ig):0):0;z=c,w=Q,E=x+d-v,u=r,ka=D-v;f2b.h1k(0);d=f2b.a1k(v,y);U8f=10;break;case 14:return!0;break;case 16:V=b.ueb;p=f.pa;X=w.length,t=f.Y&&f.Y.length,ta=z.Y&&z.Y.length;a.f7&&(S=Math.min(S,ka-E));G(f,f1k);G(f.Ge,d1k);U8f=23;break;case 50:U=Math.max(0,Math.min(U,f.Y.length-L)),ma=Math.max(0,Math.min(ma,z.Y.length-L-U)),0<U&&X.push(f.Y.iE.subarray(L,L+U)),0<ma&&X.push(z.Y.iE.subarray(L+U,L+U+ma));U8f=53;break;case 1:U8f=H&&!H.S6a&&H.pa>=h&&H.O<=f.O?5:4;break;case 2:h=f.pa,u=g?a.t3:a.fR,z=f.Y&&f.Y.length;U8f=1;break;case 30:q=!1;U8f=29;break;case 40:V=U;U8f=39;break;case 21:G(z,R1k);G(z.Ge,J1k);G(z.inRange,j1k);U8f=33;break;case 31:U8f=!p||p<f.O*a.n5||!t?30:43;break;case 36:U8f=0<V?54:53;break;case 54:t=Math.min(V,z.Y.length-L),X.push(z.Y.iE.subarray(L,L+t)),V-=t,L+=t,L>=z.Y.length&&(L=0);U8f=36;break;case 43:ta||(z=f);X=[];U8f=41;break;case 23:G(f.inRange,v3k);G(!f.Dh,q3k);U8f=21;break;case 3:U8f=!g||!z?9:13;break;case 10:L=k;c=Q.length;g=la;fa=n,U=p,ma=q,S=O;q=b.K4a;U8f=16;break;case 38:t=Math.min(V,f.Y.length-L),X.push(f.Y.iE.subarray(L,L+t)),V-=t,L+=t,L>=f.Y.length&&(L=0);U8f=39;break;case 37:V=ma;U8f=36;break;case 41:U8f=V?40:50;break;case 9:U8f=z&&!a.fL?8:6;break;case 7:return!0;break;case 53:U8f=0<U||0<ma?52:51;break;case 51:q=p>f.XS?{result:!0,veb:0,vl:!0}:{result:!1,veb:0,vl:!0};U8f=29;break;case 5:return!1;break;case 33:G(!z.Dh,w3k);f2b.g1k(7);G(f2b.i1k(c,X));U8f=31;break;}}}while(s8f!==21){m3k="player";m3k+=" ";m3k+="mis";m3k+="sing streamingInde";m3k+="x";t3k="Mu";t3k+="st have at ";t3k+="least one s";t3k+="elected stream";switch(s8f){case 23:da=p(d,k,a.p5),aa=p(d,k+da,a.Z6);s8f=22;break;case 2:G(!z.V(c),t3k);G(z.ka(b.Ev),m3k);l=new X(),h=d=f[c],v=b.buffer.U,x=b.buffer.nf,y=b.buffer.Ra,D=b.buffer.ol,k=b.Ev,E=D-x,ka=this.kO||w.MM.Ng,la=b.state===w.Ca.jf||b.state===w.Ca.yq?b.buffer.jv:0,r=a.y7,O=a.xy?a.xy:1E3;s8f=4;break;case 16:l.uo=d||h;l.uH=L;l.N2a=!fa;return l;break;case 24:s8f=d.Y&&d.Y.length?23:16;break;case 6:d.Y&&d.Y.length||(d.baa=!0);Q=Y.from(b.buffer.Y);ka=b.buffer.iu;0<a.pD&&(ka=Math.min(ka,a.pD));n=ka-Q.Z;s8f=10;break;case 18:S=p(d,k,a.q5),t=p(d,k+S,a.a7);s8f=17;break;case 25:L=!0;s8f=16;break;case 4:fa=p(d,k,a.o5);q8ff.h1k(1);U=p(d,q8ff.i1k(fa,k),a.Y6);this.bka||(this.bka=Math.min(d.O,a.dT));s8f=8;break;case 22:(d=V(f.slice(0,c).reverse(),function(a,b){var p8f;p8f=2;while(p8f!==1){switch(p8f){case 2:return q(a,f[Math.max(c-b-2,0)],h,da,aa,!0);break;}}}))||(d=f[0],L=!0);s8f=16;break;case 20:s8f=c+1<f.length?19:25;break;case 17:d=V(f.slice(c+1,a.P$&&E>=a.hba?f.length:c+2),function(a,b){var l8f;l8f=2;while(l8f!==1){switch(l8f){case 4:return q(a,f[c%b],h,S,t,-7);break;l8f=1;break;case 2:return q(a,f[c+b],h,S,t,!1);break;}}});s8f=16;break;case 10:s8f=(fa=q(d,f[Math.max(c-1,0)],d,fa,U,!1))?20:24;break;case 8:s8f=ka==w.MM.mQa||!d.pa?7:6;break;case 19:s8f=g.call(this,E,y)?18:16;break;case 7:return u.call(this,f);break;}}function g(b,f){var t8f;t8f=2;while(t8f!==1){switch(t8f){case 2:return b>a.wy&&(z.V(this.yp)||this.bD>this.yp||f-this.yp>a.NS&&b>a.c7);break;}}}}function m(a,b,c){var Y8f,d,A3k,Z3k;Y8f=2;while(Y8f!==7){A3k="his";A3k+="t_bitra";A3k+="te";Z3k="v";Z3k+="b";switch(Y8f){case 1:Y8f=void 0===d?5:4;break;case 2:d=y.storage.get(Z3k);Y8f=1;break;case 5:return a.Cla?f(a,c):p(a,b,c);break;case 4:a=new X();a.uo=V(c.reverse(),function(a){var j8f;j8f=2;while(j8f!==1){switch(j8f){case 2:return a.O<=d;break;case 4:return a.O<d;break;j8f=1;break;}}})||c[0];a.reason=A3k;return a;break;}}}function c(a,b,f){var u8f;u8f=2;while(u8f!==5){switch(u8f){case 2:a=r(f.ii,a*f.E7);return n(a,b);break;}}}function d(a,b){var Z8f,f,x3k,O3k,w8f;Z8f=2;while(Z8f!==9){x3k="sigm";x3k+="o";x3k+="id";O3k="l";O3k+="o";O3k+="g";switch(Z8f){case 2:q8ff.g1k(1);w8f=q8ff.i1k(50000,50000);a=O(a,0,w8f)/1E3;Z8f=1;break;case 5:f=b.vza[b.KU];Z8f=4;break;case 1:Z8f=0===b.KU.lastIndexOf(O3k,0)?5:3;break;case 4:return f&&2==f.length?1E3*(f[0]+f[1]*Math.log(1+a)):b.Ur;break;case 3:return 0===b.KU.lastIndexOf(x3k,0)?(f=b.vza[b.KU])&&2==f.length?1E3*(f[0]+f[1]*S(a)):b.Ur:b.Ur;break;}}}function u(a){var G8f,b,f;G8f=2;while(G8f!==3){switch(G8f){case 2:b=new X(),f=this.bka;b.uo=V(a,function(a){var v8f;v8f=2;while(v8f!==1){switch(v8f){case 4:return a.O<=f;break;v8f=1;break;case 2:return a.O>=f;break;}}})||a[a.length-1];b.uH=!0;G8f=4;break;case 4:return b;break;}}}function l(a,b){var e8f,f,c,u3k,P3k;e8f=2;while(e8f!==12){u3k="h";u3k+="ist_";u3k+="throu";u3k+="ghput";P3k="his";P3k+="t_";P3k+="tdi";P3k+="gest";switch(e8f){case 7:e8f=(c=z.ka(b.LU)&&0<=b.LU&&100>=b.LU&&!z.V(a)&&!z.Na(a))?6:14;break;case 2:f=new X();e8f=1;break;case 1:f.uo=a;a=f.uo.Ga||{};f.uk=a.dk&&a.Ql;f.zl=a.dk?a.dk:0;e8f=9;break;case 6:a.gg=U.Y9a(a),c=z.qb(a.gg)?!0:!1;e8f=14;break;case 9:a=H(f.uk,{});e8f=7;break;case 14:c?(b=a.gg(b.LU/100)||f.uo.pa,f.Qr=b,f.reason=P3k):f.uo.pa&&(b=f.uo.pa,f.Qr=b,f.reason=u3k);return f;break;}}}q8f=2;function f(a,b){var V8f,f,m,p,q,g,h,H3k,n3k,k3k,D3k,N3k;V8f=2;while(V8f!==8){H3k="no_suitab";H3k+="le";H3k+="_str";H3k+="eam";n3k="De";n3k+="la";n3k+="yTarg";n3k+="et";k3k="Bi";k3k+="t";k3k+="ra";k3k+="t";k3k+="e";D3k="V";D3k+="M";D3k+="A";D3k+="F";N3k="n";N3k+="o_valid";N3k+="_";switch(V8f){case 4:h--;V8f=1;break;case 5:g=[N3k],!p&&f&&g.push(D3k),p||f||g.push(k3k),q||g.push(n3k),m.reason=g.join("");V8f=4;break;case 1:V8f=0<=h&&(f?b[h].oc>=a.P7:b[h].O>=a.av)&&!(p=b[h],m=l(p,a),q=c(p.O,m.Qr,a),g=d(m.Qr,a),m.XI=q,q=q<g,p=f?p.oc>=a.P7&&p.oc<=a.cva:p.O>=a.av&&p.O<=a.zy,g=q&&p)?5:3;break;case 2:f=a.P7&&a.cva,f=f&&b.filter(function(a){var T8f;T8f=2;while(T8f!==1){switch(T8f){case 2:return 110>=a.oc&&0<a.oc;break;case 4:return 542<=a.oc||9>a.oc;break;T8f=1;break;}}}).length==b.length,m=null,p=!1,q=!1,g=!1,h=b.length-1;V8f=1;break;case 3:z.Na(m)&&(m=l(b[0],a),m.reason=H3k);return m;break;}}}while(q8f!==4){o3k="1SIYb";o3k+="Z";o3k+="rNJCp9";switch(q8f){case 2:z=a(11),w=a(13),D=a(43),y=a(8),k=a(205),P=D.console,G=D.assert,n=D.ggb,r=D.sZa,O=D.MB,X=D.Mo,V=D.OXa,t=D.qma,S=a(60).Gob,U=a(206),H=a(48),Y=k.kPa;g.M={STARTING:function(a,b,c){var Q8f,l3k;Q8f=2;while(Q8f!==1){l3k="hi";l3k+="s";l3k+="torical";switch(Q8f){case 2:return l3k===a.O5?m(a,b,c):a.Cla?f(a,c):p(a,b,c);break;}}},BUFFERING:v,REBUFFERING:v,PLAYING:x,PAUSED:x};o3k;q8f=4;break;}}function v(a,b,f,c){var h8f,B3k;h8f=2;while(h8f!==1){B3k="pl";B3k+="ay";B3k+="i";B3k+="ng";switch(h8f){case 2:return B3k===a.Y0?x(a,b,f,c):q(a,f,c);break;}}}}());},function(g){g.M={gsa:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.IK.push(b.ej):a.push({error:b.error,IK:[b.ej]});});return a;}},cra:function(d){var a;a={freeSize:d.ci,dailyBytesRemaining:d.XB,bytesWritten:d.wh,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.Se,itemBytes:a.BS,error:a.error};}));return a;},Lp:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.M={Lea:{code:-1,description:"MediaCache is not supported."},ozb:{code:100,description:"Resource was not found"},KJa:{code:101,description:"Resource Metadata was not found"},vA:{code:102,description:"Read failed",Tl:function(d,a){return{code:this.code,description:d,cause:a};}},yN:{code:200,description:"Daily write limit exceeded"},Tz:{code:201,description:"Capacity has been exceeded"},xN:{code:202,description:"Write failed, cause unknown",Tl:function(d,a){return{code:this.code,description:d,cause:a};}},LAb:{code:203,description:"Write failed, cause unknown"},tFa:{code:300,description:"Failed to delete resource",Tl:function(d,a){return{code:this.code,description:d,cause:a};}},Ss:{code:900,description:"Invalid partition name"},FIa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Dca:{code:701,description:"Failed to initialize underlying disk cache."},JJa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d,a){var h,l,f,p;function b(a,b,f){l.call(this,a,b,f);}function c(a,b){l.call(this,a,b,void 0);}a(14);a(27);h=a(151);l=a(201).KKa;f=a(708);a(58);p=a(58).Jia;a(58);b.prototype=Object.create(l.prototype);b.prototype.a2=function(a,f,c){return new b(this.stream,{data:this.data,offset:f,length:c},a);};c.prototype=Object.create(b.prototype);c.prototype.oSa=function(a,b){return"string"===typeof b?f[b]:b?f.reset[a]||f.rAa[a]:f.rAa[a];};c.prototype.uya=function(a,b,f,c){return this.Zc(a,b,!1,f,c);};c.prototype.xya=function(a,b,f,c){return this.Zc(a,b,!0,f,c);};c.prototype.Zc=function(a,b,f,c,d){var p,q,g,l,u,v,x,k,n,r,V,t,S,U;function m(a){g=q[a];l=g.yo("traf");if(void 0===l||void 0===l.jr)return!1;u=l.yo("tfdt");if(void 0===u)return!1;v=l.yo("trun");return void 0===v?!1:!0;}p=[];if(!this.parse())return!1;q=this.Yb.moof;if(!q||0===q.length)return!1;if(void 0!==a)for(x=a,a=0;a<q.length;++a){if(!m(a))return!1;if(v.Dd>x||f&&v.Dd===x)break;x-=v.Dd;}else if(a=f?q.length-1:0,!m(a))return!1;f&&a<q.length-1?(p=q[a+1],this.sj(this.i2-p.startOffset,p.startOffset)):!f&&0<a&&this.sj(g.startOffset,0);p=l.yo("tfhd");if(void 0===p)return!1;u=l.yo("tfdt");k=v.Dd;n=l.yo("saiz");r=l.yo("saio");V=l.yo(h.Kfa);t=l.yo("sbgp");if(!(!n&&!r||n&&r))return!1;S=l.yo("sdtp");if(this.Yb.mdat&&a<this.Yb.mdat.length)U=this.Yb.mdat[a];else if(a!==q.length-1)return!1;void 0===x&&(x=f?v.Dd:0);if(v.Zc(l,p,U||this,b,x,l.jr,f))v.Apa&&(!f&&u&&u.Zc(v.Job),n&&r&&(n.Zc(v.lE,f),r.Zc(V?0:n.V9,l.jr,f)),V&&V.Zc(v.lE,f),S&&S.Zc(v.lE,k,f),t&&t.Zc(v.lE,f));else if(!f){if(a===q.length-1)return!1;this.sj(q[a+1].startOffset-g.startOffset,g.startOffset);}else if(0===v.lE)return!1;c&&(b=this.oSa(this.profile,d))&&v.Tlb(l,p,U,f,c,b);p=this.Gq();v.Apa&&!U&&(p.TD=l.jr+v.TD,p.ms=v.ms);return p;};g.M={WM:c,zeb:function(a){var b,f;b=new ArrayBuffer(8);f=new DataView(b);f.setUint32(0,a+8);f.setUint32(4,p("mdat"));return b;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UG=function(a,b){return""+a===""+b;};},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(128);g=a(59);l=a(360);f=a(82);a=function(a){function d(b,c,d,m){d=a.call(this,b,c,d,m)||this;f.Rk.call(d,b,c);d.Lb=0;d.yk();d.vh=!1;return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ac:{get:function(){return!1;},enumerable:!0,configurable:!0}});d.prototype.push=function(b){this.Lb+=b.Z;a.prototype.push.call(this,b);};d.prototype.ky=function(){return!this.vh&&!!this.oa.length&&this.oa.every(function(a){return a.ky();});};d.prototype.AB=function(a){c(!this.vh);return this.vh=this.oa.every(function(b){return b.ky()?b.AB(a,void 0,void 0):!1;});};d.prototype.Elb=function(){this.oa.forEach(function(a){a.AK();});};d.prototype.fv=function(a){l.$L.prototype.fv.call(this,a);};d.prototype.ji=function(a){l.$L.prototype.ji.call(this,a);};d.prototype.Ti=function(){return this.oa?this.oa[0].Ti()+"-"+this.oa[this.oa.length-1].Ti():"empty";};d.prototype.toString=function(){return f.Rk.prototype.toString.call(this)+"(aggregate)";};d.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);h(f.Rk.prototype.toJSON.call(this),b);return b;};return d;}(l.$L);d.Qz=a;g.Pk(f.Rk,a);},function(g,d,a){var f,p,m,q,u,x,v,z;function b(a,b,f,c,d,m,p,q,g){this.bRa=a;this.So=b;this.Ow=f;this.eP=c;this.Ww=g;this.stream=m;p instanceof ArrayBuffer?(this.data=p,this.offset=0,this.i2=p.byteLength):(this.data=p.data,this.offset=p.offset||0,this.i2=p.length||this.data.byteLength);this.level=g?g.level+1:0;this.fH={};this.vE=void 0;d&&(this.Yb={});this.config=q||{};this.truncate=this.config.truncate;this.hE=this.config.hE;this.Dib=this.offset;this.cK=this.Dib+this.i2;this.view=new DataView(this.data);this.Jy=this.MP=0;this.Doa=[];this.vu=[];}function c(a,b){return{type:"done",moovEnd:a,parsedEnd:b};}function h(a,c,d,p,g,l){var h;p=p?[q.dY,q.bY]:void 0;h=Object.create(m.Yb);g&&((g.xib||g.Kaa)&&f(m.W9,h),g.Laa&&f(m.erb,h),g.Kaa&&f(m.Zqb,h));b.call(this,h,d,p,g&&g.DIb||["moof",q.ofa],!(!g||!g.yIb),a,c,g,l);}function l(a,f,c){b.call(this,m.Yb,void 0,void 0,void 0,!0,a,f,void 0,c);}a(14);f=a(48);d=a(28).EventEmitter;p=new(a(8)).Console("MP4","media|asejs");m=a(724);q=a(151);u=a(368);x=a(27).wr;u.A6a();v=a(58).SN;z=a(58).Jia;a(58);b.prototype=Object.create(d);b.prototype.constructor=b;Object.defineProperties(b.prototype,{P:{get:function(){return this.stream.P;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},O:{get:function(){return this.stream.O;}}});b.prototype.Hb=function(a){p.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.fa=function(a){p.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.Y1a=function(a,b,f){var c;c=this.bRa[a];if(c)return new c(this,a,b,f);};b.prototype.Aya=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.fH[b]=a[b],this.eP&&-1!==this.eP.indexOf(b)&&(void 0===this.vE||a[b].offset<this.vE)&&(this.vE=a[b].offset));};b.prototype.parse=function(a){var f,c,d;function b(a,b,f,c,d){var m;if(a){m=a.indexOf(b);-1!=m&&(d.Hb(c+" box "+b+" found at offset: 0x"+f.toString(16)),a.splice(m,1));}}for(this.Wj=a||{};;){this.xx=this.offset;if(8>this.cK-this.xx){this.So&&0<this.So.length&&this.Wka();break;}this.S0=this.fb();f=this.fb();a=v(f);if(0===this.S0){this.i_("MP4: invalid zero length box for "+a);break;}if(null===a){this.i_("MP4: invalid box type: "+f);break;}f=this.xx+this.S0;if(f>this.cK){this.Hb("more data needed: 0x"+f.toString(16)+" > 0x"+this.cK.toString(16));this.Wka(a,f);break;}"uuid"===a&&(a=this.CG());c=!1;if(this.eP&&-1!==this.eP.indexOf(a)&&(this.vE=this.xx,c=!0,!this.config.cHb))break;d=this.Y1a(a,this.xx,this.S0);if(d){if(!d.parse(this.Wj)){this.Hb("box parser failed: "+a);break;}this.Yb&&(void 0===this.Yb[a]&&(this.Yb[a]=[]),this.Yb[a].push(d));}b(this.Ow,a,this.xx,"desired",this);b(this.So,a,this.xx,"required",this);if(this.So&&0===this.So.length&&!(this.Ow&&this.Ow.length&&this.Ow.some(function(a){return this.fH[a];}.bind(this))))return this.Hb("done: moov end offset: "+this.QJ+", parsing end offset: "+f),this.zka(this.QJ,f),!0;if(c)break;this.offset=f;if(this.vE===this.offset)break;}if(this.offset>=this.vE||this.offset>this.cK-8)return this.zka(this.QJ,this.offset),!0;this.offset=this.xx;return!1;};b.prototype.H_=function(a){this.data=this.data.slice(0,a);this.view=new DataView(this.data);};b.prototype.Wka=function(a,b){a?(this.So&&this.So.length&&(1<this.So.length||this.So[0]!==a)?b=this.nBb||b+4096:this.Ow&&this.Ow.length&&(b=this.Ow.filter(function(a){return this.fH[a];}.bind(this)).reduce(function(a,b){return Math.max(a,this.fH[b].offset+this.fH[b].size||0);}.bind(this),b)),this.config.JE&&(b+=12),this.Aka(b-this.cK)):this.Aka(4096);};b.prototype.Mkb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var f=this.Rc();0!==f&&0<--a;)b.push(f),f=this.Rc();return String.fromCharCode.apply(null,b);};b.prototype.i_=function(a){this.fa("ERROR: "+a);a={type:"error",ctxt:this.Wj,errormsg:a};this.Ia(a.type,a);};b.prototype.zka=function(a,b){var f;if(this.fq){f={type:"vmafs",ctxt:this.Wj,vmafs:this.fq};this.Ia(f.type,f);}this.Y&&(f={type:"fragments",ctxt:this.Wj,fragments:this.Y,truncated:this.Es,movieDataOffsets:this.cv,additionalSAPs:this.uh,timescale:this.ha,defaultSampleDuration:this.Lx},this.Ia(f.type,f));f=c(a,b);this.Ia(f.type,f);};b.prototype.Aka=function(a){a={type:"requestdata",ctxt:this.Wj,bytes:a};this.Ia(a.type,a);};b.prototype.dx=function(a){if(this.Ww)this.Ww.u.dx(a);else for(var b in a)this[b]=a[b];};b.prototype.yf=function(a){for(;this.Jy<a;)this.MP=(this.MP<<8)+this.Rc(),this.Jy+=8;this.Jy-=a;return this.MP>>>this.Jy&(1<<a)-1;};b.prototype.Rc=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.lf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.fb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.s_=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.fl=function(a,b,f){this.view.setUint32(void 0!==f?f:this.offset,a,b);this.offset+=4;};b.prototype.xla=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.CUa=function(a,b){var f;f=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!b&&f&1&&this.fa("Warning: read unsigned value > 56 bits");return 4294967296*f+a;};b.prototype.ph=function(a,b){a=this.CUa(a,b);this.offset+=8;return a;};b.prototype.DUa=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.fa("Warning: read signed value > 56 bits");return 4294967296*a+b;};b.prototype.UUa=function(){var a;a=this.DUa();this.offset+=8;return a;};b.prototype.zWa=function(a,b){var f;f=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,f,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,f,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.AG=function(){return v(this.fb());};b.prototype.wla=function(a){this.fl(z(a));};b.prototype.CG=function(){var b,f,c,d,m,p;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.fb(!0);f=this.lf(!0);c=this.lf(!0);d=this.lf();m=this.lf();p=this.fb();return[a(b,4),a(f,2),a(c,2),a(d,2),a(m,2)+a(p,4)].join("-");};b.prototype.lI=function(a){return m.Wba.prototype.lI.call(this,a);};b.prototype.mI=function(a){return m.Wba.prototype.mI.call(this,a);};b.prototype.KO=function(a){var b;b=(this.config.JE&&u.cab||u.LC)(this.view,this.offset,a,void 0);this.offset+=1*a;return b;};b.prototype.SUa=function(a){a=(this.config.JE&&u.aab||u.OR)(this.view,this.offset,a,10,void 0);this.offset+=2;return a;};b.prototype.JO=function(a,b,f){var c;c=(this.config.JE&&u.bab||u.KC)(this.view,this.offset,a,b,void 0);this.offset=f||!b||4===b?this.offset+a*(b||4):this.offset+4;return c;};b.prototype.Qka=function(a){for(var b=this.Rc(),f=this.Rc(),c=f&127;f&128;)f=this.Rc(),c=(c<<7)+(f&127);b=new(m.su[b]||m.su.base)(this,b,c);b.parse(a);return b;};b.prototype.sj=function(a,b){this.fB(a,void 0,b);};b.prototype.fB=function(a,b,f){f=void 0!==f?f:this.offset;this.Ww?this.Ww.fB(a,b,f):this.vu.push({offset:f,remove:a,replace:b});};b.prototype.xO=function(a,b){b=void 0!==b?b:this.offset;this.Ww?this.Ww.u.xO(a,b):this.Doa.push({offset:b,Qa:a});};b.prototype.Gq=function(){var a,b,f,c;if(this.vu&&0<this.vu.length){this.Doa.forEach(function(a){var b,f;b=a.Qa+this.view.getUint32(a.offset);f=this.vu.reduce(function(f,c){return c.offset>a.Qa&&c.offset<b?f+(c.remove-(c.replace?c.replace.byteLength:0)):f;},0);this.view.setUint32(a.offset,b-a.Qa-f);}.bind(this));a=[];this.vu.sort(function(a,b){return a.offset-b.offset;});this.vu=this.vu.reduce(function(a,b){var f,c;if(0===a.length)return a.push(b),a;f=a[a.length-1];c=f.offset+f.remove;b.offset>=c?a.push(b):b.offset+b.remove>c&&(f.remove+=b.offset+b.remove-c,b.replace&&(f.replace=f.replace?x(f.replace,b.replace):b.replace));return a;},[]);b=0;f=this.data.byteLength;c=0;this.vu.filter(function(a){return a.offset<f;}).forEach(function(f){f.offset>b&&(a.push(this.data.slice(b,f.offset)),c+=f.offset-b);f.replace&&(a.push(f.replace),c+=f.replace.byteLength);b=f.offset+f.remove;}.bind(this));a.push(this.data.slice(b));c+=f-b;return{ce:a,length:c,BD:this.data.byteLength};}return{ce:[this.data],length:this.data.byteLength,BD:this.data.byteLength};};h.prototype=Object.create(b.prototype);h.prototype.a2=function(a,b,f,c){a=new h(this.stream,{data:this.data,offset:b,length:f},void 0,!1,this.config,a);c&&(a.Yb={});return a;};h.prototype.nrb=function(a){this.H_(a);return this.config&&this.config.Kaa?(a=this.Gq(),x(a.ce)):this.data;};l.prototype=Object.create(b.prototype);l.prototype.a2=function(a,b,f){return new l(this.stream,{data:this.data,offset:b,length:f},a);};g.M={LKa:h,KKa:l,zEb:c};},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(28);c=a(11);h=g.dF;l=a(8);f=l.Db;g=a(47);p=a(59);m=a(127);q=a(153);a=function(a){function d(b,c,d,p,g,l){c=a.call(this,c,d)||this;m.Sv.call(c,b,p,g,l);q.Tv.call(c,b,p);c.AN=b.url||p.url;c.zN=p.responseType;c.dia=p.YU;void 0===c.zN&&(c.zN=f.ic&&!f.ic.XD.xw?0:1);c.Xf=new h();c.Xf.on(c,f.cd.Afa,c.CO);c.Xf.on(c,f.cd.zfa,c.ska);c.Xf.on(c,f.cd.Bfa,c.uka);c.Xf.on(c,f.cd.DF,c.BO);c.Xf.on(c,f.cd.qw,c.uG);c.BA=!1;c.Cc=!1;c.ug=!1;return c;}b.__extends(d,a);d.prototype.zc=function(a,b){m.Sv.prototype.zc.call(this,a,b);this.Va||!a.K.vP&&this.Ac||(this.Va=a.$a.Va,this.active&&(this.Va.qU(l.time.now(),this.vt()),this.ug&&(this.Va.G9(l.time.now()),this.connect&&0<this.ps.length&&this.Va.er(this.ps[0]))));};d.prototype.ky=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};d.prototype.AB=function(a){return this.vh=a.appendBuffer(this.response,this);};d.prototype.kta=function(){return this.gl;};d.prototype.gv=function(){return f.prototype.open.call(this,this.AN,{start:this.offset,end:this.offset+this.Z-1},this.zN,{},void 0,void 0,this.dia);};d.prototype.abort=function(){var a;if(this.gl)return!0;a=this.Cc;this.Va&&a&&this.Va.sU(l.time.ca(),this.ug,this.vt());this.BA=!0;this.ug=this.Cc=!1;f.prototype.abort.call(this);this.sR(this,a);return!0;};d.prototype.Jd=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.W.fa("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Xf&&this.Xf.clear();f.prototype.Jd.call(this);};d.prototype.uG=function(){var a,b,f,d;this.W.fa("AseMediaRequest._onError:",this.toString());a=this.pd;this.$k=l.time.ca()-this.pd;b=this.status;f=this.nk;d=this.El;this.complete?this.W.fa("Error on a done request "+this.toString()+", failurecode: "+f):this.gl?this.W.fa("Error on an aborted request "+this.toString()+", failurecode: "+f):c.ka(f)?(this.Va&&this.ue&&this.ue.K.C9&&this.Gf&&void 0===b&&this.Va.tP(this.li?this.Be-this.li:this.Be,this.cj?this.cj:this.Gf,a),this.tR(this)):this.W.fa("ignoring undefined request error (nativecode: "+d+")");};d.prototype.CO=function(){var a;a=this.pd||this.Gf;this.Cc||(this.Cc=!0,this.Yn=this.track.Yn(),this.stream.K.Mua||this.Va&&this.Va.qU(a,this.vt()),this.Yx(this),this.li=0,this.cj=this.pd);};d.prototype.ska=function(){var a,b,f;a=this.pd;b=this.connect;f=this.ps;this.$k=l.time.ca()-this.pd;this.ug||(this.ug=!0,this.stream.K.Mua&&this.Va&&this.Va.qU(a,this.vt()),this.Va&&this.Va.G9(),b&&0<f.length&&this.Va&&this.Va.er(f[0]),this.Xx(this),this.cj=a);};d.prototype.uka=function(){var a,b,f;a=this;b=this.pd;f=this.Be-this.li;this.$k=l.time.ca()-this.pd;this.Va&&(this.Va.tP(f,this.cj,b),this.ps&&this.ps.length&&this.ps.forEach(function(b){a.Va.cr(b);}));this.wC(this);this.cj=b;this.li=this.Be;};d.prototype.BO=function(){var a,b,f;a=this;b=this.pd;f=this.Be-this.li;this.$k=l.time.ca()-this.pd;this.Va&&(0<f&&this.Va.tP(f,this.cj,b),this.ps&&this.ps.length&&this.ps.forEach(function(b){a.Va.cr(b);}),this.Va.sU(b,this.ug,this.vt()));this.ug=this.Cc=!1;this.Bu(this);this.cj=b;this.li=this.Be;this.Jd();};d.prototype.vt=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.rZa;b&&(a+=",range "+b.start+"-"+b.end);return a;};Object.defineProperties(d.prototype,{DS:{get:function(){return this.$k;},enumerable:!0,configurable:!0}});return d;}(f);d.QE=a;g.Zh(a.prototype,{active:g.L({get:function(){return this.Cc;}}),hya:g.L({get:function(){return this.ug;}}),complete:g.L({get:function(){return!this.BA&&5===this.readyState;}}),gl:g.L({get:function(){return this.BA;}})});p.Pk(m.Sv,a,!1);p.Pk(q.Tv,a,!1);},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(128);c=a(202);h=a(153);a=function(a){function f(b,f,c,d,g,l){f=a.call(this,b,f,c,d,g,l)||this;h.Tv.call(f,b,d);return f;}b.__extends(f,a);return f;}(c.QE);d.aM=a;g(h.Tv.prototype,a.prototype);},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(74);h=a(366);g=a(47);a(14);l=a(13);a=function(){function a(a,b){this.tn=a.Fa;this.wc=a.ia||0;this.KQa=a.Xo;this.dWa=a.uf;this.mm=a.R;this.Zj=a.P;this.hO=a.Ka;this.Uja=a.Ceb;this.Nt=a.ha||a.Ka&&a.Ka.ha;this.eka=a.Hy;this.eja=!1;this.Cb=a.Rl||a.Y&&a.Y.Rl;this.r5=-Infinity;this.zua=Infinity;!1;this.W=b;}a.vR=function(f,d,g,h,x,v){var m,p,q,u,k,P;m=d[["audio_tracks","video_tracks"][g]][h].streams[0];p=g===l.G.AUDIO?d.video_tracks.length+h:h;q=x&&x.Ka;if(g===l.G.VIDEO&&void 0!==m.framerate_value&&void 0!==m.framerate_scale){u=m.framerate_value;m=m.framerate_scale;k=Math.floor(1E3*u/m);P=1E3*Math.round(k/1E3);u=new c.ec(P,Math.abs(Math.floor(1001*u/m)-P)>Math.abs(k-P)?1E3:1001).blb();}return new a(b.__assign({},x,{Fa:d,R:""+d.movieId,Ka:q||u,Ceb:u,ia:f,P:g,Xo:p,uf:h}),v);};a.prototype.BT=function(a,b,f,c,d){if(c&&void 0!==c.Ol&&(this.Mc||void 0!==c.Qd&&c.Qd.length))if(a.Bl&&(this.eja=!0),this.Mc)c.Qd&&c.Qd.length>this.Rl.length&&(this.Cb=new h.Hha(this.P,this.Ka,c,d),this.r5=-Infinity);else{this.fla(b);if(f=f||this.Uja)this.ela(f||this.Uja),void 0===this.ha&&this.hla(f.ha);this.Cb=new h.Hha(this.P,this.Ka,c,d);}else this.W&&this.W.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.r0a=function(a){this.Mc||(this.hla(a.ha),this.fla(a.Hy),this.ela(a.Ka),this.Cb=a.Rl);};a.prototype.toJSON=function(){return{movieId:this.R,mediaType:this.P,trackIndex:this.uf};};a.prototype.toString=function(){return(0===this.P?"a":"v")+":"+this.uf;};a.prototype.hla=function(a){this.Nt=a;};a.prototype.fla=function(a){this.eka=a;};a.prototype.ela=function(a){this.hO=a;};return a;}();d.dW=a;g.Zh(a.prototype,{Mc:g.L({get:function(){return!!this.Rl;}}),Q2:g.L({get:function(){return this.eja;}}),BFb:g.L({get:function(){return!0;}}),Fa:g.L({get:function(){return this.tn;}}),ia:g.L({get:function(){return this.wc;}}),Xo:g.L({get:function(){return this.KQa;}}),uf:g.L({get:function(){return this.dWa;}}),R:g.L({get:function(){return this.mm;}}),P:g.L({get:function(){return this.Zj;}}),Ka:g.L({get:function(){return this.hO;}}),ha:g.L({get:function(){return this.Nt;}}),Hy:g.L({get:function(){return this.eka;}}),Rl:g.L({get:function(){return this.Cb;}}),Q3:g.L({get:function(){return this.Ka.ha;}}),P3:g.L({get:function(){return this.Ka.sd;}}),YG:g.L({get:function(){return this.Ka.sd;}}),ZG:g.L({get:function(){return this.Ka.ha;}}),V5:g.L({get:function(){return this.Ka.af;}}),U:g.L({get:function(){return 0;}})});},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(368);l=a(367);f=a(8);g=a(366);a=a(47);p=new f.Console("FRAGMENTS","media|asejs");try{m=!0;}catch(x){m=!1;}q=function(a){function f(b,f){f=a.call(this,b.Rl,f)||this;f.ex=b;return f;}b.__extends(f,a);f.prototype.toJSON=function(){return{index:this.index,bytes:this.Z,offset:this.offset,contentStartTicks:this.Ib,contentEndTicks:this.Nb,durationTicks:this.zh,timescale:this.ha,startPts:this.U,endPts:this.ea,duration:this.duration,additionalSAPs:this.uh};};return f;}(g.YPa);d.gAb=q;a.Zh(q.prototype,{Z:a.L({get:function(){return this.ex.sizes(this.Uh);}}),offset:a.L({get:function(){return this.ex.Fl(this.Uh);}}),V7:a.L({get:function(){return this.ex.cv&&this.ex.cv[this.Uh];}}),uh:a.L({get:function(){return this.ex.$7a(this.Uh);}}),oc:a.L({get:function(){return this.ex.fq&&this.ex.fq[this.Uh];}})});u=function(){function a(a,b,f){this.ha=f;this.Qd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Lb=void 0;}a.from=function(b){for(var f=new Uint32Array(b.length),c=new Uint32Array(b.length),d=0,m,p,g=0;g<b.length;++g)m=b[g],p=m.Lb,f[g]=m.Eq-m.Mw,c[g]=p,d+=p;b=new a(f,c,b.length?b[0].ha:1E3);b.Lb=d;return b;};a.prototype.subarray=function(b,f){return new a(this.Qd.subarray(b,f),this.sizes.subarray(b,f),this.ha);};a.prototype.concat=function(){var f,b,c,d;for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];f=[this];b=f.concat.apply(f,b);f=b.reduce(function(a,b){return a+b.length;},0);c=new Uint32Array(f);d=new Uint32Array(f);f=b.reduce(function(a,b){return a||b.ha;},void 0);b.reduce(function(a,b){l.set(c,b.Qd,a);l.set(d,b.sizes,a);return a+b.length;},0);return new a(c,d,f);};a.prototype.oZ=function(){for(var a=this.sizes,b=this.length,f=0,c=0;c<b;++c)f+=a[c];return this.Lb=f;};return a;}();d.kPa=u;a.Zh(u.prototype,{Z:a.L({get:function(){return void 0!==this.Lb?this.Lb:this.oZ();}})});f=function(){function a(a,b,f,c,d,m){this.bB=16;this.Cb=a;this.gd=b.offset;this.vn=b.sizes;this.JVa=new u(a.jm,b.sizes,a.ha);this.HA=this.bG=this.Yf=this.lla=void 0;this.sTa=f;this.dZ=c&&c.Fl;this.ula=d;this.Ct=Math.min(this.Cb.length,this.vn.length);this.dTa=this.kRa();this.Rl.jm.length!==this.vn.length&&p.error("Mis-matched stream duration ("+this.Rl.jm.length+","+this.vn.length+") for movie id "+m);this.Rl.xP&&!this.dZ&&p.error("Mis-matched additional SAPs information for movie id "+m);}a.OCb=function(a,b){var f,c;b=b.ha;f=b/1E3;c=new DataView(a);a=Math.floor(a.byteLength/16);return{ha:b,Ol:c.getUint32(4)*f,offset:65536*c.getUint32(8)+c.getUint16(12),sizes:h.KC(c,0,a,16),Qd:l.from(Uint32Array,{length:a},function(a,b){return c.getUint16(16*b+14)*f;})};};a.prototype.sizes=function(a){return this.vn[a];};a.prototype.Nf=function(a){return this.Cb.Nf(a);};a.prototype.mC=function(a){return this.Cb.Nf(a)+this.Cb.Qd(a);};a.prototype.Fl=function(a){if(this.bG!==a||void 0===this.HA){if(0===a)return this.gd;if(this.bG===a-1&&void 0!==this.HA)this.HA+=this.vn[this.bG],++this.bG;else{for(var b=this.Yf||this.nRa(),f=Math.floor(a/this.bB),c=f*this.bB,b=b[f];c<a;++c)b+=this.vn[c];this.bG=a;this.HA=b;}}return this.HA;};a.prototype.Qd=function(a){return this.Cb.Qd(a);};a.prototype.get=function(a){return new q(this,a);};a.prototype.$7a=function(a){var b,f,d;c(0<=a);b=this.Rl.xP;f=this.Rl.Yla;d=this.dZ;if(!d||!b||!f||a>=b.length)return[];for(var m=[],p=a===b.length-1?f.length:b[a+1],b=b[a];b<p;++b)m.push({Uc:f[b],Jb:this.Nf(a)+this.Ka.X7(f[b]).af,offset:d[b]});return m;};a.prototype.iob=function(a){this.ula=a;};a.prototype.Bj=function(a,b,f){return this.Cb.Bj(a,b,f);};a.prototype.z3=function(a,b,f){return this.Cb.z3(a,b,f);};a.prototype.R1=function(a,b){return this.Cb.R1(a,b);};a.prototype.zS=function(a,b,f){var c,d,m,p,g,q,l,h,u;c=!0;d=0;p=this.Cb.jm;g=this.vn;q=Math.floor(a*this.ha/1E3);l=0;h=0;u=0;if(this.Cb.Taa&&this.Cb.Saa)for(d=this.Cb.Taa;d<=this.Cb.Saa;++d)l+=p[d],h+=g[d];if(h>b)c=!1;else for(;d<this.length&&(!f||d<f);){m=g[d];a=p[d];if(h+m>b&&l<q){c=!1;this.Cb.Taa=u;this.Cb.Saa=d;break;}for(;0<d-u&&h+m>b;)l-=p[u],h-=g[u],++u;l+=a;h+=m;++d;}return c;};a.prototype.subarray=function(b,f){c(void 0===b||0<=b&&b<this.length);c(void 0===f||f>b&&f<=this.length);return new a(this.Cb.subarray(b,f),{offset:this.Fl(b),sizes:this.vn.subarray(b,f)},this.cv&&this.cv.subarray(b,f),this.Xla&&{Fl:this.Xla});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],f=0;f<this.length;++f)b.push(a(this.get(f),f,this));return b;};a.prototype.reduce=function(a,b){for(var f=0;f<this.length;++f)b=a(b,this.get(f),f,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.cp};};a.prototype.dump=function(){var b;p.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.cp+"ms");for(var a=0;a<this.length;++a){b=this.get(a);p.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ea+"] @ "+b.offset+", "+b.Z+" bytes");}};a.prototype.oZ=function(){for(var a=0,b=0;b<this.length;++b)a+=this.vn[b];return this.lla=a;};a.prototype.nRa=function(){var a;if(!this.Yf){a=m?new Float64Array(Math.ceil(this.length/this.bB)):Array(Math.ceil(this.length/this.bB));for(var b=this.gd,f=0;f<a.length;++f){a[f]=b;for(var c=0;c<this.bB;++c)b+=this.vn[f*this.bB+c];}this.Yf=a;}return this.Yf;};a.prototype.kRa=function(){var a,b,f,c,d;b=0;f=this.Cb.Tua;c=this.Cb.jm;d=this.vn;if(void 0===f||f>=this.length){for(var m=0;m<this.length;++m)a=d[m]/c[m],a>b&&(b=a,f=m);void 0===this.Cb.Tua&&(this.Cb.Tua=f);}else b=d[f]/c[f];return Math.floor(b*this.ha/125);};return a;}();d.tPa=f;a.Zh(f.prototype,{P:a.L({get:function(){return this.Cb.P;}}),length:a.L({get:function(){return this.Ct;}}),Ol:a.L({get:function(){return this.Cb.Ol;}}),Opa:a.L({get:function(){return this.Cb.Opa;}}),U:a.L({get:function(){return this.Cb.U;}}),ea:a.L({get:function(){return this.Cb.ea;}}),cp:a.L({get:function(){return this.Cb.cp;}}),TS:a.L({get:function(){return this.Cb.TS;}}),XS:a.L({get:function(){return this.dTa;}}),Ka:a.L({get:function(){return this.Cb.Ka;}}),ha:a.L({get:function(){return this.Cb.ha;}}),cn:a.L({get:function(){return this.lla||this.oZ();}}),cv:a.L({get:function(){return this.sTa;}}),Xla:a.L({get:function(){return this.dZ;}}),fq:a.L({get:function(){return this.ula;}}),Rl:a.L({get:function(){return this.Cb;}}),iE:a.L({get:function(){return this.JVa;}})});f.prototype.wAa=g.h7(f.prototype.Nf);},function(g,d,a){var c,h;function b(a){this.K={BJ:a.maxc||25,H1:a.c||.5,Ykb:a.rc||"none",sab:a.hl||7200};this.GG();this.WUa=this.K.Ykb;this.iG=this.K.sab;this.hZ=Math.exp(Math.log(2)/this.iG);this.hZ=Math.max(this.hZ,1);this.WN=1;}c=a(11);h=a(207).TDigest;new(a(8)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Fe=function(){var a;if(0===this.Hd.size())return null;a=this.Hd.gg([.25,.75]);if(a[0]===a[1])return null;this.Hd.size()>this.K.BJ&&this.Hd.vr();a=this.Hd.Fz(!1).reduce(function(a,b){c.ka(b.re)&&c.ka(b.n)&&a.push({mean:b.re,n:b.n/this.WN});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Kh=function(a){var b;if(c.Na(a)||!c.has(a,"tdigest")||!c.Sd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(p){return!1;}b.forEach(function(a){c.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{re:a.mean,n:a.n};});this.WN=1;this.Hd.i9(a);void 0===this.Hd.gg(0)&&this.GG();};b.prototype.get=function(){var a,b;a=this.Hd;b=a.gg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],w8:b[1],Dk:b[2],$i:b[3],Ek:b[4],x8:b[5],max:b[6],$f:a.Fz(!1)};};b.Y9a=function(a){var f;f=new b({});c.Na(a)||c.V(a)||!c.isArray(a.$f)||(f.Hd.i9(a.$f),void 0===f.Hd.gg(0)&&f.GG());a=f.Hd.gg([.25,.75]);return a[0]===a[1]?null:function(a){return f.Hd.gg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.WUa&&(this.WN=b=this.WN*this.hZ);this.Hd.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Hd.summary()+")";};b.prototype.GG=function(){this.Hd=new h(this.K.H1,this.K.BJ);};g.M=b;},function(g,d,a){var f;function b(a,b,d){this.aC=!1===a;this.LH=a||.01;this.NX=void 0===b?25:b;this.gca=void 0===d?1.1:d;this.$f=new f(c);this.reset();}function c(a,b){return a.re>b.re?1:a.re<b.re?-1:0;}function h(a,b){return a.Cp-b.Cp;}function l(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.LH:!1);this.k4a=this.config.ratio||.9;this.l4a=this.config.VAa||1E3;this.qT=0;}f=a(735).hOa;b.prototype.reset=function(){this.$f.clear();this.A6=this.n=0;};b.prototype.size=function(){return this.$f.size;};b.prototype.Fz=function(a){var b;b=[];a?(this.XN(!0),this.$f.Lc(function(a){b.push(a);})):this.$f.Lc(function(a){b.push({re:a.re,n:a.n});});return b;};b.prototype.summary=function(){return[(this.aC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.gg(0),"Q1  = "+this.gg(.25),"Q2  = "+this.gg(.5),"Q3  = "+this.gg(.75),"max = "+this.gg(1)].join("\n");};b.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var f=0;f<a.length;f++)this.Yia(a[f],b);};b.prototype.i9=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Yia(a[b].re,a[b].n);};b.prototype.XN=function(a){var b;if(!(this.n===this.A6||!a&&this.gca&&this.gca>this.n/this.A6)){b=0;this.$f.Lc(function(a){a.Cp=b+a.n/2;b=a.VB=b+a.n;});this.n=this.A6=b;}};b.prototype.m7a=function(a){var b,f;if(0===this.size())return null;b=this.$f.lowerBound({re:a});f=null===b.data()?b.cz():b.data();return f.re===a||this.aC?f:(b=b.cz())&&Math.abs(b.re-a)<Math.abs(f.re-a)?b:f;};b.prototype.aB=function(a,b,f){a={re:a,n:b,VB:f};this.$f.Al(a);this.n+=b;return a;};b.prototype.CN=function(a,b,f){b!==a.re&&(a.re+=f*(b-a.re)/(a.n+f));a.VB+=f;a.Cp+=f/2;a.n+=f;this.n+=f;};b.prototype.Yia=function(a,b){var f,c,d;f=this.$f.min();c=this.$f.max();d=this.m7a(a);d&&d.re===a?this.CN(d,a,b):d===f?this.aB(a,b,0):d===c?this.aB(a,b,this.n):this.aC?this.aB(a,b,d.VB):(f=d.Cp/this.n,Math.floor(4*this.n*this.LH*f*(1-f))-d.n>=b?this.CN(d,a,b):this.aB(a,b,d.VB));this.XN(!1);!this.aC&&this.NX&&this.size()>this.NX/this.LH&&this.vr();};b.prototype.$Ya=function(a){var b,f;this.$f.qj=h;b=this.$f.upperBound({Cp:a});this.$f.qj=c;f=b.cz();a=f&&f.Cp===a?f:b.next();return[f,a];};b.prototype.gg=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.FUa,this);return Array.isArray(a)?b:b[0];};b.prototype.FUa=function(a){var b,f;if(0!==this.size()){this.XN(!0);this.$f.min();this.$f.max();a*=this.n;b=this.$Ya(a);f=b[0];b=b[1];return b===f||null===f||null===b?(f||b).re:this.aC?a<=f.VB?f.re:b.re:f.re+(a-f.Cp)*(b.re-f.re)/(b.Cp-f.Cp);}};b.prototype.vr=function(){var a;if(!this.Mna){a=this.Fz();this.reset();for(this.Mna=!0;0<a.length;)this.i9(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.XN(!0);this.Mna=!1;}};l.prototype=Object.create(b.prototype);l.prototype.constructor=l;l.prototype.push=function(a){b.prototype.push.call(this,a);this.q_a();};l.prototype.aB=function(a,f,c){this.qT+=1;b.prototype.aB.call(this,a,f,c);};l.prototype.CN=function(a,f,c){1===a.n&&--this.qT;b.prototype.CN.call(this,a,f,c);};l.prototype.q_a=function(){!("auto"!==this.mode||this.size()<this.l4a)&&this.qT/this.size()>this.k4a&&(this.mode="cont",this.aC=!1,this.LH=this.config.LH||.01,this.vr());};g.M={TDigest:b,Digest:l};},function(g){function d(a){this.cTa=a;this.sm=[];this.Pt=!1;this.B_=void 0;this.rj={};}d.prototype.d0=function(a){this.sm.length===this.cTa&&this.sm.shift();Array.isArray(a)?this.sm=this.sm.concat(a):this.sm.push(a);this.Pt=!0;};d.prototype.HC=function(){return this.sm.length;};d.prototype.fna=function(){var a;a=this.sm;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.sm.length:void 0;};d.prototype.PZa=function(){var a,b;a=this.sm;if(0<a.length){b=this.fna();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.gu=function(a){var b,c,d;if(this.Pt||void 0===this.B_)this.B_=this.sm.slice(0).sort(function(a,b){return a-b;}),this.rj={},this.Pt=!1;if(void 0===this.rj[a]){b=this.B_;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.rj[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.rj[a];};g.M=d;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);c=a(2);d.p4=function(a){return a===b.Sb.wf.AUDIO?c.H.Nea:c.H.Oea;};d.FY=50;d.kOa=1E3;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XY="UuidProviderSymbol";},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z,w,D;function b(a,b,c,d,g,l,q,h,u,v,x,z,w,k,n){this.j=a;this.Vb=b;this.jy=c;this.md=d;this.Dr=g;this.N2=l;this.wj=q;this.displayName=h;this.si=u;this.iz=v;this.profile=x;this.ho=z;this.Egb=w;this.B7a=k;this.iJ=n;this.type=f.Uf.yV;this.xp=!(!x||x!=m.Uj.kA&&x!=m.Uj.YM);this.Hf={bcp47:q,trackId:b,downloadableId:d,isImageBased:this.xp};this.log=p.qf(a,"TimedTextTrack");this.state=D.aN;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);h=a(34);l=a(9);f=a(75);p=a(3);m=a(72);q=a(12);u=a(346);x=a(15);v=a(646);z=a(16);w=a(2);(function(a){a[a.aN=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.qF=3]="LOAD_FAILED";}(D||(D={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(b,f){function c(){a.j.state.removeListener(c);a.download().then(b)["catch"](f);}a.state=D.LOADING;a.j.state.value!==z.Lg.IY?a.download().then(b)["catch"](f):a.j.state.addListener(c);});};b.prototype.Fe=function(){return this.state;};b.prototype.jJ=function(){return this.Egb;};b.prototype.tS=function(){return this.B7a;};b.prototype.Ju=function(a,b){var f;f=[];try{this.xp?f=this.Ye&&this.Ye.Ju(a,b)||[]:this.entries&&(f=this.entries.filter(function(f){var c;c=za([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f>=a&&f<=b||f<=a&&a<=c;}));}catch(G){this.log.error("error in getSubtitles",G,{start:a,end:b,isImageBased:this.xp});}return f;};b.prototype.F$a=function(){var a;if(!x.ab(this.U))try{this.U=this.xp?(a=this.Ju(0,b.EJa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(E){this.log.error("exception in getStartPts",E);}return this.U;};b.prototype.WU=function(a){return this.j.state.value===z.Lg.HY||this.j.state.value===z.Lg.GY?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.kc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(b,f){a.j.state.value==z.Lg.Cq?a.xp?a.Tbb(function(c){c.S?(a.log.info("Loaded image subtitle manager"),b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=D.qF,f(c));}):a.npa().then(function(b){return a.pib(b);}).then(b)["catch"](f):f({S:!1});});};b.prototype.Tbb=function(a){var f,c,d,m,g,q,h,u;function b(d){var v;if(x.ab(d))if(u||f.WU(f.rp(f.Jn,"","image"))){u=!1;f.ho.url=f.Dr[f.Jn];c.url=f.ho.url;h[d]=(h[d]||0)+1;v=new p.zPa(m,c);v.on("ready",function(){f.Ye=v;a({S:!0,track:f});});v.on("error",function(c){var m;c=Object.assign({S:!1},c);m=f.rp(f.Jn,f.ho.url,"image");m.details={midxoffset:f.ho.offset,midxsize:f.ho.length};m.errorstring=c.errorString;h[d]<=l.config.bBa?(f.jR(m,!0,"retry with current cdn"),f.J0(h[d]).then(function(a){f.log.trace("retry timed text download after "+a,f.rp(f.Jn,"","image"));b(f.Jn);})):(f.Jn=g[q++],f.Jn?(f.jR(m,!0,"retry with next cdn"),f.J0(h[d]).then(function(a){f.log.trace("retry timed text download after "+a,f.rp(f.Jn,"","image"));b(f.Jn);})):(f.jR(m,!1,"all cdns tried"),a({S:!1,igb:"all cdns failed for image subs",track:f})));});v.start();}else a({S:!1,gl:!0});else a({S:!1,igb:"cdnId is not defined for image subs downloadUrl"}),f.jR(f.rp(0,"","image"),!1,"cdnId is undefined");}f=this;c={zYa:!1,profile:this.profile,JJ:this.ho.offset,cT:this.ho.length,Jb:this.j.qd.value||0,bufferSize:l.config.Cbb,nIb:{ie:this.j.CR()}};d=p.qf(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);m=v.C2a(this.j,d,this.request);g=(this.N2||[]).filter(function(a){return a.id in f.Dr;}).sort(function(a,b){return a.Od-b.Od;}).map(function(a){return a.id;});q=0;h={};u=!0;this.Jn=g[q++];b(this.Jn);};b.prototype.jR=function(a,b,f){a=Object.assign({},a,{kJb:b,status:f});this.j.fireEvent(z.X.rV,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:h.OC,headers:{},Mb:this.f4(this.Jn)};this.j.RI.download(a,function(a){f.log.trace("imgsub: request status "+a.S);a.S?b(null,new Uint8Array(a.content)):b({T:a.T,jc:a.jc});});};b.prototype.rp=function(a,b,f){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.md,subtitletype:f,bcp47:this.wj,trackId:this.Vb,cdnCount:Object.keys(this.Dr).length,isImageBased:this.xp};};b.prototype.f4=function(a){return(this.N2||[]).find(function(b){return b.id===a;});};b.prototype.npa=function(){var d,m;function a(a){return c.__awaiter(d,void 0,void 0,function(){var d,p,g,l,q;function c(){for(;;)switch(d){case 0:g=f();p=l.rp(a.Mb.id,a.url,"text");p.errorstring=a.reason;if(!g||!l.WU(p)){d=1;break;}d=-1;return{value:l.J0(m[g.id]).then(b),done:!0};case 1:return d=-1,{value:Promise.reject({S:!1,gl:!0}),done:!0};default:return{value:void 0,done:!0};}}d=0;l=this;q={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};Za();q[Symbol.iterator]=function(){return this;};return q;});}function b(){return c.__awaiter(d,void 0,void 0,function(){var c,d,p,g,l;function b(){for(;;)switch(c){case 0:d=(p=f())&&g.Dr[p.id];if(!p||!d){c=1;break;}m[p.id]=(m[p.id]||0)+1;c=-1;return{value:g.A4a(d,p)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;g=this;l={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};Za();l[Symbol.iterator]=function(){return this;};return l;});}function f(){return(d.N2||[]).find(function(a){return!!((m[a.id]||0)<l.config.bBa&&d.Dr[a.id]);});}d=this;m={};return b();};b.prototype.J0=function(a){return new Promise(function(b){var f;f=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(f);},f);});};b.prototype.pib=function(a){var b,f;b=this;f=this.j.LE;q.wa(f);return u.oib(a,f.width/f.height,l.config.dBa,l.config.yaa).then(function(a){var f;if(l.config.eBa){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=l.config.eBa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Hf);b.state=D.LOADED;return{S:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",w.hn(a),b.Hf,{url:a.url});b.state=D.qF;a.reason="parseerror";a.track=b;throw a;});};b.prototype.A4a=function(a,b){var f;f=this;this.log.trace("Downloading",b&&{Mb:b.id},this.rp(b.id,a,"text"));return new Promise(function(c,d){var m;m={responseType:h.Fsa,url:a,track:f,Mb:b,Nx:"tt-"+f.wj};f.j.RI.download(m,function(a){a.S?c(a.content):(a.reason="downloadfailed",a.url=m.url,a.track=f,a.Mb=b,d(a));});});};b.EJa=72E7;b.bha=D;d.RF=b;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(5);b.J4=function(){var a;a=c.uq&&c.uq.height;return a?1080<=a?1080:720:720;};d.QY=b;},function(g){g.M=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,c){return a.apply(this,arguments);};case 3:return function(b,c,d){return a.apply(this,arguments);};case 4:return function(b,c,d,g){return a.apply(this,arguments);};case 5:return function(b,c,d,g,f){return a.apply(this,arguments);};case 6:return function(b,c,d,g,f,p){return a.apply(this,arguments);};case 7:return function(b,c,d,g,f,p,m){return a.apply(this,arguments);};case 8:return function(b,c,d,g,f,p,m,q){return a.apply(this,arguments);};case 9:return function(b,c,d,g,f,p,m,q,u){return a.apply(this,arguments);};case 10:return function(b,c,d,g,f,p,m,q,u,x){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var h,l,f,p;function b(a,b,f){for(var c=f.next();!c.done;){if((b=a["@@transducer/step"](b,c.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}c=f.next();}return a["@@transducer/result"](b);}function c(a,b,c,d){return a["@@transducer/result"](c[d](f(a["@@transducer/step"],a),b));}h=a(775);l=a(773);f=a(772);La();La();Za();p="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.M=function(a,f,d){"function"===typeof a&&(a=l(a));if(h(d)){for(var m=0,g=d.length;m<g;){if((f=a["@@transducer/step"](f,d[m]))&&f["@@transducer/reduced"]){f=f["@@transducer/value"];break;}m+=1;}return a["@@transducer/result"](f);}if("function"===typeof d["fantasy-land/reduce"])return c(a,f,d,"fantasy-land/reduce");if(null!=d[p])return b(a,f,d[p]());if("function"===typeof d.next)return b(a,f,d);if("function"===typeof d.reduce)return c(a,f,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.M=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d,a){var b,c,h;b=a(111);c=a(49);h=a(156);g.M=function(a){return function p(d,g,l){switch(arguments.length){case 0:return p;case 1:return h(d)?p:c(function(b,c){return a(d,b,c);});case 2:return h(d)&&h(g)?p:h(d)?c(function(b,c){return a(b,g,c);}):h(g)?c(function(b,c){return a(d,b,c);}):b(function(b){return a(d,g,b);});default:return h(d)&&h(g)&&h(l)?p:h(d)&&h(g)?c(function(b,c){return a(b,c,l);}):h(d)&&h(l)?c(function(b,c){return a(b,g,c);}):h(g)&&h(l)?c(function(b,c){return a(d,b,c);}):h(d)?b(function(b){return a(b,g,l);}):h(g)?b(function(b){return a(d,b,l);}):h(l)?b(function(b){return a(d,g,b);}):a(d,g,l);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nW="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.VE||(d.VE={});g[g.Hfa=0]="PAUSE";g[g.Pga=1]="RESUME";g[g.oub=2]="CAPTIONS_ON";g[g.nub=3]="CAPTIONS_OFF";g[g.pub=4]="CAPTION_LANGUAGE_CHANGED";g[g.jtb=5]="AUDIO_LANGUAGE_CHANGED";g[g.Kxb=6]="NEXT_EP";g[g.Pyb=7]="PREV_EP";g[g.wA=8]="SEEK";g[g.cha=9]="STOP";d.jca="CastInteractionTrackerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rha="load save remove removeAll loadAll loadKeys".split(" ");d.Fba="AppStorageStatsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.cw||(d.cw={});g.Unknown="unknown";g.Absent="absent";g.Present="present";g.Error="error";d.jda="ExternalDisplayLogHelperSymbol";},function(g,d,a){var c,h,l;function b(){this.type=c.Uv.lw;}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);g=a(96);h=a(137);l=new g.zw();b.T1=function(){return{isTypeSupported:function(a){var f;try{if(-1==a.toLowerCase().indexOf("codec"))return A.MSMediaKeys.isTypeSupported(a);f=a.split("|");return 1===f.length?A.MSMediaKeys.isTypeSupported(h.bb.Ko,a):"probably"===b.haa(f[0],f[1]);}catch(m){return!1;}}};};b.lQ=function(a,c,d){c=l.format(b.EE,c);if(0===d.length)return c;d=l.format('features="{0}"',d.join());return l.format("{0}|{1}{2}",a,c,d);};b.haa=function(a,b){var f;try{f=A.MSMediaKeys.isTypeSupportedWithFeatures?A.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(q){f="exception";}return f;};b.EE='video/mp4;codecs="{0},mp4a";';d.nw=b;},function(g,d,a){var c,h,l,f,p,m;function b(a,c,d,p){var g;g=h.Wl.call(this,a,c,d)||this;g.cast=p;g.type=l.pj.qW;a=b.gQa;g.ME[l.vd.rN]=f.le.eF+"; "+a;g.ME[l.vd.pq]=f.le.pq+"; "+a;a=f.le.zEa.find(function(a){return g.pr(m(b.EE,a));});g.ME[l.vd.Do]=a;return g;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(131);l=a(26);g=a(96);f=a(132);p=a(407);m=new g.zw().format;ia(b,h.Wl);b.T1=function(a,f){return(f=b.Qya(f))?{isTypeSupported:f}:a;};b.Qya=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Wp=function(a){var c,d;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().VBa){d={};if(c)return d[l.kh.Ho]="1.4",d[l.kh.gw]="2.2",c().then(function(b){return b===d[a];});c=this.Jua(a);c=m(b.EE,f.le.eF)+" hdcp="+c;c=this.pr.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.yI=function(a){return this.ME[a];};b.prototype.FC=function(){var a;a=this;return this.config().VBa?this.Wp(l.kh.gw).then(function(b){return b?Promise.resolve(l.kh.gw):a.Wp(l.kh.Ho).then(function(a){return a?Promise.resolve(l.kh.Ho):Promise.resolve(void 0);});}).then(function(b){return a.yH(b);}):Promise.resolve(void 0);};b.prototype.Hx=function(){var a,d;a=h.Wl.prototype.Hx.call(this);d=b.ysa;a[c.ba.XW]=["hev1.2.6.L90.B0",d];a[c.ba.YW]=["hev1.2.6.L93.B0",d];a[c.ba.ZW]=["hev1.2.6.L120.B0",d];a[c.ba.$W]=["hev1.2.6.L123.B0",d];a[c.ba.aX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[c.ba.cX]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[c.ba.GM]=["hev1.2.6.L90.B0",d];a[c.ba.HM]=["hev1.2.6.L93.B0",d];a[c.ba.IM]=["hev1.2.6.L120.B0",d];a[c.ba.JM]=["hev1.2.6.L123.B0",d];a[c.ba.bX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[c.ba.dX]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[c.ba.tX]="hev1.1.6.L90.B0";a[c.ba.uX]="hev1.1.6.L93.B0";a[c.ba.vX]="hev1.1.6.L120.B0";a[c.ba.wX]="hev1.1.6.L123.B0";a[c.ba.xX]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[c.ba.yX]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[c.ba.fX]="hev1.2.6.L90.B0";a[c.ba.iX]="hev1.2.6.L93.B0";a[c.ba.lX]="hev1.2.6.L120.B0";a[c.ba.oX]="hev1.2.6.L123.B0";a[c.ba.hF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[c.ba.iF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[c.ba.hX]="hev1.2.6.L90.B0";a[c.ba.kX]="hev1.2.6.L93.B0";a[c.ba.nX]="hev1.2.6.L120.B0";a[c.ba.qX]="hev1.2.6.L123.B0";a[c.ba.rX]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[c.ba.sX]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[c.ba.FW]=f.le.rW;a[c.ba.uM]=f.le.rW;return a;};b.prototype.S5=function(){h.Wl.prototype.S5.call(this);!b.Qya(this.cast)&&this.Tm.push(p.Nj.pq);};b.ysa="eotf=smpte2084";b.ZEb="video/mp4;codecs={0}; "+b.ysa;b.gQa="width=3840; height=2160; ";d.kca=b;d.sW="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qea="IsTypeSupportedProviderFactorySymbol";d.pga="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gha="ThroughputTrackerSymbol";d.UY="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tY="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.LY="SegmentManagerFactorySymbol";},function(g,d,a){var c,h,l;function b(a,b,c,d){this.Ua=a;this.nr=b;this.hj=c;this.Bm=void 0===d?"General":d;this.D1={};}Object.defineProperty(d,"__esModule",{value:!0});c=a(7);h=a(419);l=a(844);b.prototype.Gla=function(a,b){this.D1[a]=b;};b.prototype.fatal=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.St(c.Nh.nHa,a,l.HB(this.nr,this.yC(f)));};b.prototype.error=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.St(c.Nh.ERROR,a,l.HB(this.nr,this.yC(f)));};b.prototype.warn=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.St(c.Nh.Zha,a,l.HB(this.nr,this.yC(f)));};b.prototype.info=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.St(c.Nh.HX,a,l.HB(this.nr,this.yC(f)));};b.prototype.trace=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.St(c.Nh.RY,a,l.HB(this.nr,this.yC(f)));};b.prototype.debug=function(a,b){for(var f=1;f<arguments.length;++f);};b.prototype.log=function(a,b){for(var f=1;f<arguments.length;++f);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,c){for(var f=[],d=2;d<arguments.length;++d)f[d-2]=arguments[d];this.St(a,b,l.HB(this.nr,this.yC(f)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Bm};};b.prototype.Y1=function(a){return new b(this.Ua,this.nr,this.hj,a);};b.prototype.St=function(a,b,c){a=new h.Eea(a,this.Bm,this.Ua.Pe(),b,c);b=za(this.hj.hj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.yC=function(a){return 0<Object.keys(this.D1).length?[].concat([this.D1],wb(a)):a;};d.tF=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PY="StringUtilsSymbol";},function(g){var m,q,u,x,v,z;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(m===setTimeout)return setTimeout(a,0);if((m===d||!m)&&setTimeout)return m=setTimeout,setTimeout(a,0);try{return m(a,0);}catch(D){try{return m.call(null,a,0);}catch(y){return m.call(this,a,0);}}}function c(b){if(q===clearTimeout)clearTimeout(b);else if(q!==a&&q||!clearTimeout)try{q(b);}catch(D){try{q.call(null,b);}catch(y){q.call(this,b);}}else q=clearTimeout,clearTimeout(b);}function h(){x&&v&&(x=!1,v.length?u=v.concat(u):z=-1,u.length&&l());}function l(){var a;if(!x){a=b(h);x=!0;for(var f=u.length;f;){v=u;for(u=[];++z<f;)v&&v[z].ZD();z=-1;f=u.length;}v=null;x=!1;c(a);}}function f(a,b){this.Q7a=a;this.zn=b;}function p(){}g=g.M={};try{m="function"===typeof setTimeout?setTimeout:d;}catch(w){m=d;}try{q="function"===typeof clearTimeout?clearTimeout:a;}catch(w){q=a;}u=[];x=!1;z=-1;g.Wva=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];u.push(new f(a,c));1!==u.length||x||b(l);};f.prototype.ZD=function(){this.Q7a.apply(null,this.zn);};g.title="browser";g.VBb=!0;g.j6a={};g.CBb=[];g.version="";g.dJb={};g.on=p;g.addListener=p;g.once=p;g.mhb=p;g.removeListener=p;g.removeAllListeners=p;g.emit=p;g.Ixa=p;g.Ujb=p;g.listeners=function(){return[];};g.RBb=function(){throw Error("process.binding is not supported");};g.SCb=function(){return"/";};g.nCb=function(){throw Error("process.chdir is not supported");};g.TIb=function(){return 0;};},function(g,d,a){(function(b){var S,U,H,Y,aa,ra;function c(a,b){var f;f={g$:[],pi:l};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.OB=arguments[3]);w(b)?f.J$=b:b&&d.gja(f,b);k(f.J$)&&(f.J$=!1);k(f.depth)&&(f.depth=2);k(f.OB)&&(f.OB=!1);k(f.Boa)&&(f.Boa=!0);f.OB&&(f.pi=g);return p(f,a,f.depth);}function g(a,b){return(b=c.Dpb[b])?"\u001b["+c.OB[b][0]+"m"+a+"\u001b["+c.OB[b][1]+"m":a;}function l(a){return a;}function f(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,b,c){var g,l,h,w,D;if(a.Boa&&b&&O(b.dJ)&&b.dJ!==d.dJ&&(!b.constructor||b.constructor.prototype!==b)){g=b.dJ(c,a);y(g)||(g=p(a,g,c));return g;}if(g=m(a,b))return g;l=Object.keys(b);h=f(l);a.J$&&(l=Object.getOwnPropertyNames(b));if(L(b)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return q(b);if(0===l.length){if(O(b))return a.pi("[Function"+(b.name?": "+b.name:"")+"]","special");if(n(b))return a.pi(RegExp.prototype.toString.call(b),"regexp");if(r(b))return a.pi(Date.prototype.toString.call(b),"date");if(L(b))return q(b);}g="";w=!1;D=["{","}"];z(b)&&(w=!0,D=["[","]"]);O(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");n(b)&&(g=" "+RegExp.prototype.toString.call(b));r(b)&&(g=" "+Date.prototype.toUTCString.call(b));L(b)&&(g=" "+q(b));if(0===l.length&&(!w||0==b.length))return D[0]+g+D[1];if(0>c)return n(b)?a.pi(RegExp.prototype.toString.call(b),"regexp"):a.pi("[Object]","special");a.g$.push(b);l=w?u(a,b,c,h,l):l.map(function(f){return x(a,b,c,h,f,w);});a.g$.pop();return v(l,g,D);}function m(a,b){if(k(b))return a.pi("undefined","undefined");if(y(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.pi(b,"string");if(D(b))return a.pi(""+b,"number");if(w(b))return a.pi(""+b,"boolean");if(null===b)return a.pi("null","null");}function q(a){return"["+Error.prototype.toString.call(a)+"]";}function u(a,b,f,c,d){for(var m=[],p=0,g=b.length;p<g;++p)Object.prototype.hasOwnProperty.call(b,String(p))?m.push(x(a,b,f,c,String(p),!0)):m.push("");d.forEach(function(d){d.match(/^\d+$/)||m.push(x(a,b,f,c,d,!0));});return m;}function x(a,b,f,c,d,m){var g,l;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?l=b.set?a.pi("[Getter/Setter]","special"):a.pi("[Getter]","special"):b.set&&(l=a.pi("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,d)||(g="["+d+"]");l||(0>a.g$.indexOf(b.value)?(l=null===f?p(a,b.value,null):p(a,b.value,f-1),-1<l.indexOf("\n")&&(l=m?l.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+l.split("\n").map(function(a){return"   "+a;}).join("\n"))):l=a.pi("[Circular]","special"));if(k(g)){if(m&&d.match(/^\d+$/))return l;g=JSON.stringify(""+d);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.pi(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.pi(g,"string"));}return g+": "+l;}function v(a,b,f){var c;c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?f[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+f[1]:f[0]+b+" "+a.join(", ")+" "+f[1];}function z(a){return Array.isArray(a);}function w(a){return"boolean"===typeof a;}function D(a){return"number"===typeof a;}function y(a){return"string"===typeof a;}function k(a){return void 0===a;}function n(a){return G(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function G(a){return"object"===typeof a&&null!==a;}function r(a){return G(a)&&"[object Date]"===Object.prototype.toString.call(a);}function L(a){return G(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function O(a){return"function"===typeof a;}function X(a){return 10>a?"0"+a.toString(10):a.toString(10);}function V(){var a,b;a=new Date();b=[X(a.getHours()),X(a.getMinutes()),X(a.getSeconds())].join(":");return[a.getDate(),aa[a.getMonth()],b].join(" ");}function t(a,b){var f;if(!a){f=Error("Promise was rejected with a falsy value");f.reason=a;a=f;}return b(a);}S=Object.OEb||function(a){for(var b=Object.keys(a),f={},c=0;c<b.length;c++)f[b[c]]=Object.getOwnPropertyDescriptor(a,b[c]);return f;};U=/%[sdj%]/g;d.format=function(a){if(!y(a)){for(var b=[],f=0;f<arguments.length;f++)b.push(c(arguments[f]));return b.join(" ");}for(var f=1,d=arguments,m=d.length,b=String(a).replace(U,function(a){if("%%"===a)return"%";if(f>=m)return a;switch(a){case"%s":return String(d[f++]);case"%d":return Number(d[f++]);case"%j":try{return JSON.stringify(d[f++]);}catch(Ga){return"[Circular]";}default:return a;}}),p=d[f];f<m;p=d[++f])b=null!==p&&G(p)?b+(" "+c(p)):b+(" "+p);return b;};d.T3a=function(a,f){var c;if("undefined"!==typeof b&&!0===b.HGb)return a;if("undefined"===typeof b)return function(){return d.T3a(a,f).apply(this,arguments);};c=!1;return function(){if(!c){if(b.FIb)throw Error(f);b.IIb?console.trace(f):console.error(f);c=!0;}return a.apply(this,arguments);};};H={};d.gDb=function(a){var f;k(Y)&&(Y=b.j6a.Mxb||"");a=a.toUpperCase();if(!H[a])if(new RegExp("\\b"+a+"\\b","i").test(Y)){f=b.oHb;H[a]=function(){var b;b=d.format.apply(d,arguments);console.error("%s %d: %s",a,f,b);};}else H[a]=function(){};return H[a];};d.dJ=c;c.OB={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};c.Dpb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=z;d.ecb=w;d.Na=function(a){return null===a;};d.IFb=function(a){return null==a;};d.ka=D;d.Sd=y;d.MFb=function(a){return"symbol"===typeof a;};d.V=k;d.Bta=n;d.pe=G;d.fJ=r;d.rS=L;d.qb=O;d.yta=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(864);aa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",V(),d.format.apply(d,arguments));};d.Mbb=a(863);d.gja=function(a,b){if(!b||!G(b))return a;for(var f=Object.keys(b),c=f.length;c--;)a[f[c]]=b[f[c]];return a;};La();La();ra="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.pkb=function(a){function b(){for(var b,f,c=new Promise(function(a,c){b=a;f=c;}),d=[],m=0;m<arguments.length;m++)d.push(arguments[m]);d.push(function(a,c){a?f(a):b(c);});try{a.apply(this,d);}catch(Ga){f(Ga);}return c;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(ra&&a[ra]){b=a[ra];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,ra,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));ra&&Object.defineProperty(b,ra,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,S(a));};d.pkb.RCb=ra;d.iCb=function(a){function f(){var m,p;function f(){return m.apply(p,arguments);}for(var c=[],d=0;d<arguments.length;d++)c.push(arguments[d]);m=c.pop();if("function"!==typeof m)throw new TypeError("The last argument must be of type Function");p=this;a.apply(this,c).then(function(a){b.Wva(f,null,a);},function(a){b.Wva(t,a,f);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(f,Object.getPrototypeOf(a));Object.defineProperties(f,S(a));return f;};}.call(this,a(229)));},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.jBa(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,d=0;d<c;d++)var g=a[d],b=b+("0123456789ABCDEF"[g>>>4]+"0123456789ABCDEF"[g&15]);return b;};b.prototype.uI=function(a,b){var f;f="";for(b<<=1;b--;)f=("0123456789ABCDEF"[a&15]||"0")+f,a>>>=4;return f;};b.prototype.jBa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var d=0,m=0;m<b;m++)d=16*d+c[a[m]];return d;};h=b;h=g.__decorate([a.N()],h);d.jW=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zs='video/mp4; codecs="avc1.640028"';d.iA='audio/mp4; codecs="mp4a.40.5"';d.AGa="DrmTraitsSymbol";},function(g,d,a){var b,c;b=a(441);c=a(969);d.Zu=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.sD(c.wbb,null,a);};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,f){a.call(this);this.value=b;this.ja=f;this.Lq=!0;f&&(this.Lq=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.hb=function(a){var b,c;b=a.value;c=a.ef;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.nb(a)));};c.prototype.zf=function(a){var b,d;b=this.value;d=this.ja;if(d)return d.nb(c.hb,0,{done:!1,value:b,ef:a});a.next(b);a.closed||a.complete();};return c;}(a(10).sa);d.KY=g;},function(g,d,a){a(10);g=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.Un="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.RH=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.RH(a,b,d);};a.W1=function(b){return"undefined"!==typeof b?new a("N",b):a.wrb;};a.hoa=function(b){return new a("E",void 0,b);};a.S1=function(){return a.V_a;};a.V_a=new a("C");a.wrb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);this.vj=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.vj;if(this.active)b.push(a);else{this.active=!0;do if(c=a.Ag(a.state,a.ld))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(984).$Oa);d.fW=g;},function(g,d,a){var b,c;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(79);g=function(a){function d(b,c){a.call(this,b,c);this.ja=b;this.dK=!1;this.WL=c;}b(d,a);d.prototype.nb=function(a,b){var f;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.dK=!0;a=this.id;f=this.ja;null!=a&&(this.id=this.nU(f,a,b));this.ld=b;this.id=this.id||this.rU(f,this.id,b);return this;};d.prototype.rU=function(a,b,d){void 0===d&&(d=0);return c.root.setInterval(a.flush.bind(a,this),d);};d.prototype.nU=function(a,b,d){void 0===d&&(d=0);return null!==d&&this.ld===d&&!1===this.dK?b:(c.root.clearInterval(b),void 0);};d.prototype.Ag=function(a,b){if(this.closed)return Error("executing a cancelled action");this.dK=!1;if(a=this.dO(a,b))return a;!1===this.dK&&null!=this.id&&(this.id=this.nU(this.ja,this.id,null));};d.prototype.dO=function(a){var b,f;b=!1;f=void 0;try{this.WL(a);}catch(q){b=!0;f=!!q&&q||Error(q);}if(b)return this.unsubscribe(),f;};d.prototype.Yq=function(){var a,b,c,d;a=this.id;b=this.ja;c=b.vj;d=c.indexOf(this);this.state=this.WL=null;this.dK=!1;this.ja=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.nU(b,a,null));this.ld=null;};return d;}(a(986).TCa);d.eW=g;},function(g,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(79);d.WEb=b;d.observable=b(g.root);d.etb=d.observable;},function(g,d,a){g=a(79).root.Symbol;d.rz="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.ftb=d.rz;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.rsa=function(){return void 0!==this.Ak;};a.prototype.gE=function(a){this.Ak=a;};a.prototype.Ilb=function(){this.rsa()&&(this.Ak=void 0);};d.YX=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XX="MediaKeysStorageFactorySymbol";},function(g,d,a){var h;function b(){}function c(a){a?(this.active=!1,this.V3(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.V3=function(a){this.profileId=a.profileId;this.$b=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Tu:a.licenseContextId,eD:a.licenseId};}):[];this.la=a.xid;this.R=a.movieId;};c.prototype.Yp=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.$b?this.$b.map(function(a){return{id:a.id,licenseContextId:a.Tu,licenseId:a.eD};}):[],xid:this.la,movieId:this.R}));};d.KW=c;b.prototype.create=function(){return new c();};b.prototype.load=function(a){return new c(a);};h=b;h=g.__decorate([a.N()],h);d.wGa=h;},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(120);c=a(463);h=a(243);l=a(165);f=a(1005);p=a(1004);m=a(119);q=a(242);u=a(241);d.eme=new g.Xb(function(a){a(c.Pca).to(h.wGa).$();a(l.pW).to(f.vEa).$();a(b.xM).AL(p.rkb);a(m.kw).Gz(function(a){d.XH.parent=a.Zb;return d.XH.get(m.kw);});a(q.XX).hh(function(){return function(){return new u.YX();};});});d.XH=new g.WE({Bv:!0});},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);c=a(1006);d.th=new g.Xb(function(a){a(b.iq).AL(c.qkb);});d.X_=new g.WE({Bv:!0});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(247);a(467);g=function(){function a(a){this.sb=a;}a.prototype.VL=function(){this.sb.PB=function(a){return null!==a.target&&!a.target.b6()&&!a.target.f6();};return new b.lW(this.sb);};return a;}();d.mW=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(246);g=function(){function a(a){this.sb=a;}a.prototype.Ip=function(a){this.sb.Ip=a;return new b.mW(this.sb);};return a;}();d.lW=g;},function(g,d,a){var l;function b(a,b,c,d,g,l,h){this.PL=d;this.tCa=a;this.Xva=b;this.T7=c;this.Mcb=l;this.xv=h;this.split=g;}function c(){this.J={};this.J["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new b("7","8","7","10","1.5",0,0);this.J["7"]=new b("15","16","15","9","4.5",0,0);this.J["15"]=new b("31","32","31","2","5.5",0,0);this.J["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new b("123","124","123","0","0",1,.207298);this.J["124"]=new b("123","124","123","0","0",1,.49076);this.J["64"]=new b("125","126","125","4","40.5",0,0);this.J["125"]=new b("125","126","125","0","0",1,-.00157835);this.J["126"]=new b("125","126","125","0","0",1,.934205);this.J["32"]=new b("65","66","65","135","5.5",0,0);this.J["65"]=new b("127","128","128","4","1272.5",0,0);this.J["127"]=new b("127","128","128","0","0",1,-.510333);this.J["128"]=new b("127","128","128","0","0",1,.18363);this.J["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new b("129","130","129","0","0",1,-.0464542);this.J["130"]=new b("129","130","129","0","0",1,.458833);this.J["16"]=new b("33","34","34","10","2.00001",0,0);this.J["33"]=new b("67","68","67","0","29.5",0,0);this.J["67"]=new b("131","132","131","2","39.5",0,0);this.J["131"]=new b("131","132","131","0","0",1,-.37577);this.J["132"]=new b("131","132","131","0","0",1,.512087);this.J["68"]=new b("133","134","134","140","1.5",0,0);this.J["133"]=new b("133","134","134","0","0",1,.321272);this.J["134"]=new b("133","134","134","0","0",1,-.675396);this.J["34"]=new b("69","70","70","2","24.5",0,0);this.J["69"]=new b("135","136","136","9","28.5",0,0);this.J["135"]=new b("135","136","136","0","0",1,-.0573845);this.J["136"]=new b("135","136","136","0","0",1,-.507455);this.J["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new b("137","138","137","0","0",1,-.503909);this.J["138"]=new b("137","138","137","0","0",1,.450886);this.J["8"]=new b("17","18","17","4","44189.5",0,0);this.J["17"]=new b("35","36","35","2","21.5",0,0);this.J["35"]=new b("71","72","72","0","19.5",0,0);this.J["71"]=new b("139","140","140","9","2.5",0,0);this.J["139"]=new b("139","140","140","0","0",1,.00403497);this.J["140"]=new b("139","140","140","0","0",1,-.312656);this.J["72"]=new b("141","142","141","135","96",0,0);this.J["141"]=new b("141","142","141","0","0",1,-.465786);this.J["142"]=new b("141","142","141","0","0",1,.159633);this.J["36"]=new b("73","74","73","130","89.5",0,0);this.J["73"]=new b("143","144","144","10","4.5",0,0);this.J["143"]=new b("143","144","144","0","0",1,-.76265);this.J["144"]=new b("143","144","144","0","0",1,-.580804);this.J["74"]=new b("145","146","146","10","16.5",0,0);this.J["145"]=new b("145","146","146","0","0",1,.296357);this.J["146"]=new b("145","146","146","0","0",1,-.691659);this.J["18"]=new b("37","38","38","9","1.5",0,0);this.J["37"]=new b("37","38","38","0","0",1,.993951);this.J["38"]=new b("75","76","75","0","19",0,0);this.J["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new b("147","148","147","0","0",1,-.346535);this.J["148"]=new b("147","148","147","0","0",1,-.995745);this.J["76"]=new b("147","148","147","0","0",1,-.99978);this.J["4"]=new b("9","10","9","5","4.5",0,0);this.J["9"]=new b("19","20","19","2","4.5",0,0);this.J["19"]=new b("39","40","39","140","7.5",0,0);this.J["39"]=new b("77","78","78","134","6.5",0,0);this.J["77"]=new b("149","150","150","7","11.5",0,0);this.J["149"]=new b("149","150","150","0","0",1,.729843);this.J["150"]=new b("149","150","150","0","0",1,.383857);this.J["78"]=new b("151","152","151","133","4.5",0,0);this.J["151"]=new b("151","152","151","0","0",1,.39017);this.J["152"]=new b("151","152","151","0","0",1,.0434342);this.J["40"]=new b("79","80","79","133","3.5",0,0);this.J["79"]=new b("153","154","154","8","4.5",0,0);this.J["153"]=new b("153","154","154","0","0",1,-.99536);this.J["154"]=new b("153","154","154","0","0",1,-.00943396);this.J["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new b("155","156","155","0","0",1,.266272);this.J["156"]=new b("155","156","155","0","0",1,.959904);this.J["20"]=new b("41","42","42","10","65.5",0,0);this.J["41"]=new b("81","82","82","7","10.5",0,0);this.J["81"]=new b("157","158","158","2","37.5",0,0);this.J["157"]=new b("157","158","158","0","0",1,-.701873);this.J["158"]=new b("157","158","158","0","0",1,.224649);this.J["82"]=new b("159","160","159","133","9.5",0,0);this.J["159"]=new b("159","160","159","0","0",1,.0955181);this.J["160"]=new b("159","160","159","0","0",1,-.58962);this.J["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new b("161","162","161","135","31",0,0);this.J["161"]=new b("161","162","161","0","0",1,-.229692);this.J["162"]=new b("161","162","161","0","0",1,.88595);this.J["84"]=new b("163","164","164","1","13.5",0,0);this.J["163"]=new b("163","164","164","0","0",1,-.992157);this.J["164"]=new b("163","164","164","0","0",1,.922159);this.J["10"]=new b("21","22","22","4","486",0,0);this.J["21"]=new b("43","44","44","133","4.5",0,0);this.J["43"]=new b("85","86","86","10","4.5",0,0);this.J["85"]=new b("165","166","166","4","158.5",0,0);this.J["165"]=new b("165","166","166","0","0",1,-.127778);this.J["166"]=new b("165","166","166","0","0",1,.955189);this.J["86"]=new b("165","166","166","0","0",1,-.994012);this.J["44"]=new b("87","88","88","1","3.5",0,0);this.J["87"]=new b("167","168","168","135","7",0,0);this.J["167"]=new b("167","168","168","0","0",1,-.997015);this.J["168"]=new b("167","168","168","0","0",1,.400821);this.J["88"]=new b("169","170","169","130","36",0,0);this.J["169"]=new b("169","170","169","0","0",1,-.898638);this.J["170"]=new b("169","170","169","0","0",1,.56129);this.J["22"]=new b("45","46","45","9","2.5",0,0);this.J["45"]=new b("89","90","90","9","1.5",0,0);this.J["89"]=new b("171","172","171","10","10.5",0,0);this.J["171"]=new b("171","172","171","0","0",1,.573986);this.J["172"]=new b("171","172","171","0","0",1,-.627266);this.J["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new b("173","174","173","0","0",1,.925273);this.J["174"]=new b("173","174","173","0","0",1,-.994805);this.J["46"]=new b("91","92","91","136","5.5",0,0);this.J["91"]=new b("175","176","175","10","10.5",0,0);this.J["175"]=new b("175","176","175","0","0",1,.548352);this.J["176"]=new b("175","176","175","0","0",1,-.879195);this.J["92"]=new b("177","178","178","8","14.5",0,0);this.J["177"]=new b("177","178","178","0","0",1,.457305);this.J["178"]=new b("177","178","178","0","0",1,-.998992);this.J["2"]=new b("5","6","5","10","2.5",0,0);this.J["5"]=new b("11","12","11","9","4.5",0,0);this.J["11"]=new b("23","24","24","10","4.00001",0,0);this.J["23"]=new b("47","48","48","133","5.5",0,0);this.J["47"]=new b("93","94","93","3","13.5",0,0);this.J["93"]=new b("179","180","179","138","15.5",0,0);this.J["179"]=new b("179","180","179","0","0",1,.658398);this.J["180"]=new b("179","180","179","0","0",1,-.927007);this.J["94"]=new b("181","182","182","3","15.5",0,0);this.J["181"]=new b("181","182","182","0","0",1,-.111351);this.J["182"]=new b("181","182","182","0","0",1,-.99827);this.J["48"]=new b("95","96","95","7","167",0,0);this.J["95"]=new b("183","184","183","132","36.5",0,0);this.J["183"]=new b("183","184","183","0","0",1,.895161);this.J["184"]=new b("183","184","183","0","0",1,-.765217);this.J["96"]=new b("185","186","186","137","6.00001",0,0);this.J["185"]=new b("185","186","186","0","0",1,-.851095);this.J["186"]=new b("185","186","186","0","0",1,.674286);this.J["24"]=new b("49","50","49","137","5.5",0,0);this.J["49"]=new b("97","98","97","5","23.5",0,0);this.J["97"]=new b("187","188","187","3","28.5",0,0);this.J["187"]=new b("187","188","187","0","0",1,.951654);this.J["188"]=new b("187","188","187","0","0",1,-.993808);this.J["98"]=new b("187","188","187","0","0",1,-.99705);this.J["50"]=new b("187","188","187","0","0",1,-.997525);this.J["12"]=new b("25","26","25","8","8.5",0,0);this.J["25"]=new b("51","52","52","10","4.00001",0,0);this.J["51"]=new b("99","100","100","133","5.5",0,0);this.J["99"]=new b("189","190","190","7","40.5",0,0);this.J["189"]=new b("189","190","190","0","0",1,.151839);this.J["190"]=new b("189","190","190","0","0",1,-.855517);this.J["100"]=new b("191","192","192","133","14.5",0,0);this.J["191"]=new b("191","192","192","0","0",1,.86223);this.J["192"]=new b("191","192","192","0","0",1,.544394);this.J["52"]=new b("101","102","101","135","47.5",0,0);this.J["101"]=new b("193","194","194","4","24.5",0,0);this.J["193"]=new b("193","194","194","0","0",1,.946185);this.J["194"]=new b("193","194","194","0","0",1,.811859);this.J["102"]=new b("193","194","194","0","0",1,-.991561);this.J["26"]=new b("53","54","54","132","6.5",0,0);this.J["53"]=new b("103","104","103","131","85",0,0);this.J["103"]=new b("195","196","196","134","16.5",0,0);this.J["195"]=new b("195","196","196","0","0",1,.0473538);this.J["196"]=new b("195","196","196","0","0",1,-.999401);this.J["104"]=new b("197","198","198","8","15.5",0,0);this.J["197"]=new b("197","198","198","0","0",1,.816129);this.J["198"]=new b("197","198","198","0","0",1,-.99322);this.J["54"]=new b("105","106","105","133","3.5",0,0);this.J["105"]=new b("105","106","105","0","0",1,-.998783);this.J["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new b("199","200","199","0","0",1,.528588);this.J["200"]=new b("199","200","199","0","0",1,-.998599);this.J["6"]=new b("13","14","14","10","7.5",0,0);this.J["13"]=new b("27","28","28","133","7.5",0,0);this.J["27"]=new b("55","56","56","10","4.5",0,0);this.J["55"]=new b("107","108","107","3","3.5",0,0);this.J["107"]=new b("201","202","201","4","17.5",0,0);this.J["201"]=new b("201","202","201","0","0",1,-.379512);this.J["202"]=new b("201","202","201","0","0",1,.15165);this.J["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new b("203","204","203","0","0",1,-.884606);this.J["204"]=new b("203","204","203","0","0",1,.265406);this.J["56"]=new b("109","110","109","136","6.5",0,0);this.J["109"]=new b("205","206","205","4","157.5",0,0);this.J["205"]=new b("205","206","205","0","0",1,-.0142737);this.J["206"]=new b("205","206","205","0","0",1,.691279);this.J["110"]=new b("205","206","205","0","0",1,-.998086);this.J["28"]=new b("57","58","58","138","11.5",0,0);this.J["57"]=new b("111","112","112","2","6.5",0,0);this.J["111"]=new b("207","208","208","7","67.5",0,0);this.J["207"]=new b("207","208","208","0","0",1,.763925);this.J["208"]=new b("207","208","208","0","0",1,-.309645);this.J["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new b("209","210","209","0","0",1,-.306635);this.J["210"]=new b("209","210","209","0","0",1,.556696);this.J["58"]=new b("113","114","113","138","50.5",0,0);this.J["113"]=new b("211","212","212","8","25.5",0,0);this.J["211"]=new b("211","212","212","0","0",1,.508234);this.J["212"]=new b("211","212","212","0","0",1,.793551);this.J["114"]=new b("211","212","212","0","0",1,-.998438);this.J["14"]=new b("29","30","29","134","27.5",0,0);this.J["29"]=new b("59","60","60","7","17.5",0,0);this.J["59"]=new b("115","116","115","135","5.5",0,0);this.J["115"]=new b("213","214","214","137","5.5",0,0);this.J["213"]=new b("213","214","214","0","0",1,.401747);this.J["214"]=new b("213","214","214","0","0",1,.0367503);this.J["116"]=new b("215","216","216","8","5.5",0,0);this.J["215"]=new b("215","216","216","0","0",1,-.0241984);this.J["216"]=new b("215","216","216","0","0",1,-.999046);this.J["60"]=new b("117","118","117","0","12.5",0,0);this.J["117"]=new b("217","218","218","132","5.5",0,0);this.J["217"]=new b("217","218","218","0","0",1,-.997294);this.J["218"]=new b("217","218","218","0","0",1,.210398);this.J["118"]=new b("219","220","219","137","1.5",0,0);this.J["219"]=new b("219","220","219","0","0",1,-.55763);this.J["220"]=new b("219","220","219","0","0",1,.074493);this.J["30"]=new b("61","62","62","133","42.5",0,0);this.J["61"]=new b("119","120","119","135","5.5",0,0);this.J["119"]=new b("221","222","222","4","473.5",0,0);this.J["221"]=new b("221","222","222","0","0",1,-.920213);this.J["222"]=new b("221","222","222","0","0",1,-.17615);this.J["120"]=new b("223","224","224","5","144",0,0);this.J["223"]=new b("223","224","224","0","0",1,-.954295);this.J["224"]=new b("223","224","224","0","0",1,-.382538);this.J["62"]=new b("121","122","121","133","50",0,0);this.J["121"]=new b("225","226","226","10","18.5",0,0);this.J["225"]=new b("225","226","226","0","0",1,-.0731343);this.J["226"]=new b("225","226","226","0","0",1,.755454);this.J["122"]=new b("227","228","228","0","30",0,0);this.J["227"]=new b("227","228","228","0","0",1,.25);this.J["228"]=new b("227","228","228","0","0",1,-.997101);}function h(a,b,c,d,g,l){this.yU=g;this.ZP=l;}d=a(279);l=a(170);a={};a.mYa=new function(){this.eSa=l();this.o=0;this.update=function(){this.o=l()-this.eSa;};this.getValue=function(){return this.o;};this.type="num";}();a.rdb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.ya[a].context||null;};this.type="cat";}();a.sdb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.ya[a].context||null;};this.type="cat";}();a.udb=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.ya[a].context||null;};this.type="cat";}();a.vdb=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.ya[a].context||null;};this.type="cat";}();a.tdb=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.ya[a].context||null;};this.type="cat";}();a.wdb=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.ya[a].context||null;};this.type="cat";}();a.xdb=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.ya[a].context||null;};this.type="cat";}();a.ydb=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.ya[a].context||null;};this.type="cat";}();a.zdb=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.ya[a].context||null;};this.type="cat";}();a.Adb=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.ya[a].context||null;};this.type="cat";}();a.Bdb=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.ya[a].context||null;};this.type="cat";}();a.Cdb=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.ya[a].context||null;};this.type="cat";}();a.Edb=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.ya[a].context||null;};this.type="cat";}();a.Fdb=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.ya[a].context||null;};this.type="cat";}();a.Gdb=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.ya[a].context||null;};this.type="cat";}();a.Ddb=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.ya[a].context||null;};this.type="cat";}();a.PYa=new function(){this.update=function(a){for(var b in a.ya)if("becauseYouAdded"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.QYa=new function(){this.update=function(a){for(var b in a.ya)if("becauseYouLiked"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.SYa=new function(){this.update=function(a){for(var b in a.ya)if("billboard"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.l0a=new function(){this.update=function(a){for(var b in a.ya)if("continueWatching"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.RYa=new function(){this.update=function(a){for(var b in a.ya)if("bigRow"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.V7a=new function(){this.update=function(a){for(var b in a.ya)if("genre"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ugb=new function(){this.update=function(a){for(var b in a.ya)if("netflixOriginals"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ygb=new function(){this.update=function(a){for(var b in a.ya)if("newRelease"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.yjb=new function(){this.update=function(a){for(var b in a.ya)if("popularTitles"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ni=new function(){this.update=function(a){for(var b in a.ya)if("queue"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zkb=new function(){this.update=function(a){for(var b in a.ya)if("recentlyAdded"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Hob=new function(){this.update=function(a){for(var b in a.ya)if("similars"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.hrb=new function(){this.update=function(a){for(var b in a.ya)if("trendingNow"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.urb=new function(){this.update=function(a){for(var b in a.ya)if("ultraHD"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ksb=new function(){this.update=function(a){for(var b in a.ya)if("watchAgain"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Mqb=new function(){this.update=function(a){for(var b in a.ya)if("topTen"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.x0a=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.za||null;};this.type="cat";}();a.y0a=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.za||null;};this.type="cat";}();a.z0a=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.za||null;};this.type="cat";}();a.A0a=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.za||null;};this.type="cat";}();a.B0a=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.za||null;};this.type="cat";}();a.C0a=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.za||null;};this.type="cat";}();a.D0a=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.za||null;};this.type="cat";}();a.E0a=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.za||null;};this.type="cat";}();a.F0a=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.za||null;};this.type="cat";}();a.G0a=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.za||null;};this.type="cat";}();a.H0a=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.za||null;};this.type="cat";}();a.I0a=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.za||null;};this.type="cat";}();a.J0a=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.za||null;};this.type="cat";}();a.K0a=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.za||null;};this.type="cat";}();a.L0a=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.za||null;};this.type="cat";}();a.M0a=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.za||null;};this.type="cat";}();a.N0a=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.za||null;};this.type="cat";}();a.O0a=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.za||null;};this.type="cat";}();a.P0a=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.za||null;};this.type="cat";}();a.Q0a=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.za||null;};this.type="cat";}();a.R0a=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.za||null;};this.type="cat";}();a.S0a=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.za||null;};this.type="cat";}();a.T0a=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.za||null;};this.type="cat";}();a.U0a=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.za||null;};this.type="cat";}();a.V0a=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.za||null;};this.type="cat";}();a.W0a=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.za||null;};this.type="cat";}();a.X0a=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.za||null;};this.type="cat";}();a.Y0a=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.za||null;};this.type="cat";}();a.Z0a=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.za||null;};this.type="cat";}();a.$0a=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.za||null;};this.type="cat";}();a.a1a=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.za||null;};this.type="cat";}();a.b1a=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.za||null;};this.type="cat";}();a.c1a=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.za||null;};this.type="cat";}();a.d1a=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.za||null;};this.type="cat";}();a.e1a=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.za||null;};this.type="cat";}();a.f1a=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.za||null;};this.type="cat";}();a.g1a=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.za||null;};this.type="cat";}();a.h1a=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.za||null;};this.type="cat";}();a.i1a=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.za||null;};this.type="cat";}();a.j1a=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.za||null;};this.type="cat";}();a.k1a=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.za||null;};this.type="cat";}();a.l1a=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.za||null;};this.type="cat";}();a.m1a=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.za||null;};this.type="cat";}();a.n1a=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.za||null;};this.type="cat";}();a.o1a=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.za||null;};this.type="cat";}();a.p1a=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.za||null;};this.type="cat";}();a.q1a=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.za||null;};this.type="cat";}();a.r1a=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.za||null;};this.type="cat";}();a.s1a=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.za||null;};this.type="cat";}();a.t1a=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.za||null;};this.type="cat";}();a.u1a=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.za||null;};this.type="cat";}();a.v1a=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.za||null;};this.type="cat";}();a.w1a=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.za||null;};this.type="cat";}();a.x1a=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.za||null;};this.type="cat";}();a.y1a=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.za||null;};this.type="cat";}();a.z1a=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.za||null;};this.type="cat";}();a.A1a=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.za||null;};this.type="cat";}();a.B1a=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.za||null;};this.type="cat";}();a.C1a=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.za||null;};this.type="cat";}();a.D1a=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.za||null;};this.type="cat";}();a.E1a=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.za||null;};this.type="cat";}();a.F1a=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.za||null;};this.type="cat";}();a.G1a=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.za||null;};this.type="cat";}();a.H1a=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.za||null;};this.type="cat";}();a.I1a=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.za||null;};this.type="cat";}();a.J1a=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.za||null;};this.type="cat";}();a.K1a=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.za||null;};this.type="cat";}();a.L1a=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.za||null;};this.type="cat";}();a.M1a=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.za||null;};this.type="cat";}();a.N1a=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.za||null;};this.type="cat";}();a.O1a=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.za||null;};this.type="cat";}();a.P1a=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.za||null;};this.type="cat";}();a.Q1a=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.za||null;};this.type="cat";}();a.R1a=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.za||null;};this.type="cat";}();a.S1a=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.za||null;};this.type="cat";}();a.T1a=new function(){this.getValue=function(a,b,c){return this.o="US"===c.za||null;};this.type="cat";}();a.U1a=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.za||null;};this.type="cat";}();a.V1a=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.za||null;};this.type="cat";}();a.W1a=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.za||null;};this.type="cat";}();a.dlb=new function(){this.getValue=function(a,b,c){return this.o=1===c.Kf||null;};this.type="cat";}();a.elb=new function(){this.getValue=function(a,b,c){return this.o=10===c.Kf||null;};this.type="cat";}();a.glb=new function(){this.getValue=function(a,b,c){return this.o=11===c.Kf||null;};this.type="cat";}();a.hlb=new function(){this.getValue=function(a,b,c){return this.o=12===c.Kf||null;};this.type="cat";}();a.ilb=new function(){this.getValue=function(a,b,c){return this.o=13===c.Kf||null;};this.type="cat";}();a.jlb=new function(){this.getValue=function(a,b,c){return this.o=14===c.Kf||null;};this.type="cat";}();a.klb=new function(){this.getValue=function(a,b,c){return this.o=15===c.Kf||null;};this.type="cat";}();a.llb=new function(){this.getValue=function(a,b,c){return this.o=16===c.Kf||null;};this.type="cat";}();a.mlb=new function(){this.getValue=function(a,b,c){return this.o=17===c.Kf||null;};this.type="cat";}();a.nlb=new function(){this.getValue=function(a,b,c){return this.o=18===c.Kf||null;};this.type="cat";}();a.olb=new function(){this.getValue=function(a,b,c){return this.o=19===c.Kf||null;};this.type="cat";}();a.plb=new function(){this.getValue=function(a,b,c){return this.o=2===c.Kf||null;};this.type="cat";}();a.qlb=new function(){this.getValue=function(a,b,c){return this.o=20===c.Kf||null;};this.type="cat";}();a.rlb=new function(){this.getValue=function(a,b,c){return this.o=21===c.Kf||null;};this.type="cat";}();a.slb=new function(){this.getValue=function(a,b,c){return this.o=22===c.Kf||null;};this.type="cat";}();a.tlb=new function(){this.getValue=function(a,b,c){return this.o=23===c.Kf||null;};this.type="cat";}();a.ulb=new function(){this.getValue=function(a,b,c){return this.o=3===c.Kf||null;};this.type="cat";}();a.vlb=new function(){this.getValue=function(a,b,c){return this.o=4===c.Kf||null;};this.type="cat";}();a.wlb=new function(){this.getValue=function(a,b,c){return this.o=5===c.Kf||null;};this.type="cat";}();a.xlb=new function(){this.getValue=function(a,b,c){return this.o=6===c.Kf||null;};this.type="cat";}();a.ylb=new function(){this.getValue=function(a,b,c){return this.o=7===c.Kf||null;};this.type="cat";}();a.zlb=new function(){this.getValue=function(a,b,c){return this.o=8===c.Kf||null;};this.type="cat";}();a.Alb=new function(){this.getValue=function(a,b,c){return this.o=9===c.Kf||null;};this.type="cat";}();a.Kpb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Mpb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Lpb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Npb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.afb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.dfb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.B1);};this.getValue=function(){return this.o;};this.type="num";}();a.kfb=new function(){this.dG=this.o=0;this.update=function(a){this.dG++;this.o=1*(this.o+a.rowIndex)/this.dG;};this.getValue=function(){return this.o;};this.type="num";}();a.lfb=new function(){this.dG=this.o=0;this.update=function(a){this.dG++;return this.o=1*(this.o+a.B1)/this.dG;};this.getValue=function(){return this.o;};this.type="num";}();a.Wjb=new function(){this.getValue=function(a,b,c){return this.o=c.B1+b;};this.type="num";}();a.Xjb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();c.prototype.xv=function(a){return this.ala(this.J["0"].oza(a),a);};c.prototype.ala=function(a,b){return"string"==typeof a?this.ala(this.J[a].oza(b),b):a;};b.prototype.oza=function(a){switch(this.Mcb){case 0:switch(a.Sc[this.PL].type){case"cat":return null===a.Sc[this.PL].value?this.Xva:"missing"==a.Sc[this.PL].value?this.T7:this.tCa;case"num":return null===a.Sc[this.PL].value?this.T7:a.Sc[this.PL].value<this.split?this.tCa:this.Xva;default:return this.T7;}case 1:return this.xv;default:return this.xv;}};d.declare({NJ:["modelSelector","modelone"],K_a:["colEpisodeList",5],dbb:["holdDuration",15E3],Zya:["rowFirst",2],Bna:["colFirst",5],aza:["rowScroll",2],Cna:["colScroll",6],Amb:["rowScrollHorizontal",6],Umb:["searchTop",3],Coa:["cwFirst",2],OI:["horizontalItemsFocusedMode",3],Ncb:["itemsPerRank",1],Xeb:["maxNumberPayloadsStored",10],Yua:["maxNumberTitlesScheduled",5],DDb:["enableDetailedLogging",!0],ZHb:["rowStep",20],qCb:["colStep",15],VGb:["pageRows",100],UGb:["pageColumns",75],o7:["maskParamsList",new function(){var a,b;this.o7=[];this.txa={};this.yU=20;this.ZP=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.yU)+"_"+Math.floor(b/this.ZP)in this.txa||(this.txa[Math.floor(a/this.yU)+"_"+Math.floor(b/this.ZP)]=1,this.o7.push(new h(0,0,0,0,Math.floor(a/this.yU),Math.floor(b/this.ZP))));}().o7],J:["nodes",new c().J],mapping:["mapping",{dfb:"0",lfb:"1",afb:"2",kfb:"3",mYa:"4",Npb:"5",Lpb:"6",Mpb:"7",Kpb:"8",Xjb:"9",Wjb:"10",rdb:"11",sdb:"12",udb:"13",vdb:"14",tdb:"15",wdb:"16",xdb:"17",ydb:"18",zdb:"19",Adb:"20",Bdb:"21",Cdb:"22",Ddb:"23",Edb:"24",Fdb:"25",Gdb:"26",dlb:"27",elb:"28",glb:"29",hlb:"30",ilb:"31",jlb:"32",klb:"33",llb:"34",mlb:"35",nlb:"36",olb:"37",plb:"38",qlb:"39",rlb:"40",slb:"41",tlb:"42",ulb:"43",vlb:"44",wlb:"45",xlb:"46",ylb:"47",zlb:"48",Alb:"49",x0a:"50",y0a:"51",z0a:"52",A0a:"53",B0a:"54",C0a:"55",D0a:"56",E0a:"57",F0a:"58",G0a:"59",H0a:"60",I0a:"61",J0a:"62",K0a:"63",L0a:"64",M0a:"65",N0a:"66",O0a:"67",P0a:"68",Q0a:"69",R0a:"70",S0a:"71",T0a:"72",U0a:"73",V0a:"74",W0a:"75",X0a:"76",Y0a:"77",Z0a:"78",$0a:"79",a1a:"80",b1a:"81",c1a:"82",d1a:"83",e1a:"84",f1a:"85",g1a:"86",h1a:"87",i1a:"88",j1a:"89",k1a:"90",l1a:"91",m1a:"92",n1a:"93",o1a:"94",p1a:"95",q1a:"96",r1a:"97",s1a:"98",t1a:"99",u1a:"100",v1a:"101",w1a:"102",x1a:"103",y1a:"104",z1a:"105",A1a:"106",B1a:"107",C1a:"108",D1a:"109",E1a:"110",F1a:"111",G1a:"112",H1a:"113",I1a:"114",J1a:"115",K1a:"116",L1a:"117",M1a:"118",N1a:"119",O1a:"120",P1a:"121",Q1a:"122",R1a:"123",S1a:"124",T1a:"125",U1a:"126",V1a:"127",W1a:"128",Ksb:"129",Zkb:"130",Hob:"131",ni:"132",l0a:"133",V7a:"134",hrb:"135",Mqb:"136",SYa:"137",ygb:"138",urb:"139",yjb:"140",PYa:"141",RYa:"142",QYa:"143",ugb:"144"}],Sc:["features",a],jBb:["_modelName","tree"],bBb:["_format","xgboost"],iBb:["_itemsToKeep",5],hBb:["_itemsThreshold",null],dCb:["cacheLimit",20]});g.M={config:d,hGb:h,TCb:b};},function(g,d,a){var c;function b(a){for(var b="",f=0;f<a.length;f++)b+=a[f].ke+"|";return b;}c=a(169);g.M={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},sFb:function(a,b,f){Array.prototype.splice.apply(a,[b,0].concat(f));},B8a:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===c.pF.qEa){b=a[f].list;break;}return b;},p8a:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===c.pF.pDa){b=a[f].list;break;}return b;},d4a:function(a,c){for(var f=0,d,g,l,h=0,x=a.length-1;h<x;h++){d=b(a[h].list||[]);l=!1;for(var v=0,z=c.length;v<z;v++)if(g=b(c[v].list||[]),g==d){l=!0;break;}if(!1===l){f=h;break;}}return f;},lhb:function(a,b,f){for(var c=[],d,g=0;g<Math.min(b,a.length);g++)d=a[g].list||[],c=c.concat(d.slice(0,f));return c;},khb:function(a,b){for(var f=[],c,d=0;d<a.length&&(c=a[d].list||[],c=c.slice(0,Math.min(c.length,b)),b-=c.length,f=f.concat(c),0!==b);d++);return f;},jhb:function(a,b,f){var c;b<a.length&&0<=b&&(a=a[b].list||[],f<a.length&&(c=a[f]));return c;},qqa:function(a){for(var b={},f=a.length,d,g=0;g<f;g++){d=a[g].list||[];for(var q=0;q<d.length;q++)if(d[q].property===c.dA.GF||d[q].property===c.dA.yca){b.fh=g;b.Qi=q;break;}}void 0===b.fh&&void 0===b.Qi&&(b.fh=0,b.Qi=0);return b;}};},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,z,w,D,y,k,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(179);h=a(104);l=a(9);f=a(6);g=a(33);p=a(2);m=a(12);q=a(3);u=a(115);x=a(61);v=a(53);z=a(17);w=a(5);D=a(15);y=a(29);k=a(85);n=a(4);d.Fj={};A._cad_global||(A._cad_global={});A._cad_global.msl=d.Fj;g.Pea&&b.Re(p.I.Tda,function(a){var P,r,t,S,U,H,Y,aa,ra,Z,Q,ka,fa,ma;function g(f){f&&f.userList&&l.config.uob&&(f.userList=[]);S({esn:h.yg.dg,esnPrefix:h.yg.Gm,authenticationType:l.config.EB,authenticationKeyNames:l.config.Cma,systemKeyWrapFormat:l.config.Zpb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:fa,storeState:f,notifyMilestone:b.uJ,log:Y,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:p.H.ZJa,MSL_READ_TIMEOUT:p.H.YJa}},{result:function(a){E(a);},timeout:function(){a({T:p.H.Tea});},error:function(b){a(G(p.H.Tea,void 0,b));}});}function E(b){var g,h,u;function c(){ka&&q.da.get(v.Ul).create().then(function(a){return a.save(Z,h,!1);})["catch"](function(a){Y.error("Error persisting msl store",p.hn(a));});}g=q.da.get(k.Aw)(n.xb(100));u=U.extend({init:function(a){this.fka=a;},getResponse:function(a,b,f){var c,d;b=this.fka;c=b.Xr.Bb||c;a=D.Gta(a.body)?q.dCa(a.body):a.body;m.GH(a,"Msl should not be sending empty request");a={url:b.url,Q8:a,withCredentials:!0,Nx:"nq-"+b.method,headers:b.headers};b=this.fka.timeout;a.cQ=b;a.h8=b;d=c.download(a,function(a){try{if(a.S)f.result({body:a.content});else if(400===a.Ah&&a.Ja)f.result({body:a.Ja});else throw z.La(new H("HTTP error, SubCode: "+a.T+(a.Ah?", HttpCode: "+a.Ah:"")),{cadmiumResponse:a});}catch(mb){f.error(mb);}});return{abort:function(){d.abort();}};}});ra&&b.addEventHandler("shouldpersist",function(a){h=a.storeState;g.nb(c);});z.La(d.Fj,{oFb:function(){Q=!0;},send:function(a){function f(){var b,f;b=a.Xr;f={method:a.method,nonReplayable:a.i8,encrypted:a.b3,userId:a.ML,body:a.body,timeout:2*a.timeout,url:new u(a),allowTokenRefresh:ka,sendUserAuthIfRequired:ma,shouldSendUserAuthData:l.config.zob};b.Sx?(f.email=b.Sx,f.password=b.password||""):b.kBa?(f.token=b.kBa,f.mechanism=b.nfb,b.Ly&&(f.netflixId=b.Ly,f.secureNetflixId=b.HU),b.dh&&(f.profileGuid=b.dh)):b.Ly?(f.netflixId=b.Ly,f.secureNetflixId=b.HU):b.hva?(f.mdxControllerToken=b.hva,f.mdxPin=b.ifb,f.mdxNonce=b.hfb,f.mdxEncryptedPinB64=b.gfb,f.mdxSignature=b.jfb):Q||b.useNetflixUserAuthData?f.useNetflixUserAuthData=!0:b.dh&&(f.profileGuid=b.dh);return f;}return new Promise(function(a,c){var d;d=f();b.send(d).then(function(b){Q&&(Q=!1);a({S:!0,body:b.body});})["catch"](function(a){var f,d;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.T?a.error.cadmiumResponse.T:b.isErrorReauth(a.error)?p.H.Sea:b.isErrorHeader(a.error)?p.H.SJa:p.H.Qea;d=b.getErrorCode(a.error);c(G(f,d,a.error));}else Y.error("Unknown MSL error",a),a.tc=a.subCode,c({T:a.tc?a.tc:p.H.$Ja});});});},If:b});a(f.Fb);}function G(a,b,f){var c,d,g,m;m={T:a,yu:b};if(f){c=function(a){var b;a=a||""+f;if(f.stack){b=""+f.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(g=f.cadmiumResponse){if(d=g.jc&&g.jc.toString())g.jc=d;g.T=a;g.yu=b;g.Ja=c(f.message);g.error={tc:a,Df:d,Fp:b,data:f.cause,message:f.message};return g;}c=c(f.errorMessage);d=z.Ad(f.internalCode)||z.Ad(f.error&&f.error.internalCode);g=void 0!==f.n6a?y.pwa(f.n6a):void 0;}c&&(m.Ja=c);d&&(m.jc=d);m.error={tc:a,Df:d.toString(),Fp:b,data:g,message:c};return m;}m.wa(l.config);P=q.da.get(u.Dw);r=x.dd.oj;if(w.pw&&w.Ix&&w.Ix.unwrapKey){try{t=A.netflix.msl;S=t.createMslClient;U=t.IHttpLocation;H=t.MslIoException;}catch(ta){a({T:p.H.TJa});return;}Y=q.yd("Msl");aa=l.config.jgb;ra=l.config.kgb;Z=l.config.Fm?"mslstoretest":"mslstore";t=c.qE.Jza;Q=l.config.Hbb;ka=!t||t.S;fa=q.Bn(l.config.Fm?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ma=!!l.config.t$;q.da.get(v.Ul).create().then(function(b){aa?b.remove(Z).then(function(){g();})["catch"](function(a){Y.error("Unable to delete MSL store",p.hn(a));g();}):ra?b.load(Z).then(function(a){P.mark(r.VJa);g(a.value);})["catch"](function(f){f.T==p.H.cm?(P.mark(r.XJa),g()):(Y.error("Error loading msl store",p.hn(f)),P.mark(r.WJa),b.remove(Z).then(function(){g();})["catch"](function(b){a(b);}));}):g();})["catch"](function(b){Y.error("Error creating app storage while loading msl store",p.hn(b));a(b);});}else a({T:p.H.UJa});});},function(g,d,a){var b,c,h,l,f,p,m,q,u,x;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(252);c=a(9);h=a(6);l=a(2);f=a(3);p=a(12);m=a(5);g.Re(l.I.Nda,function(a){var g;g=f.yd("FileSystem");"fs"!=c.config.lV?a(h.Fb):(p.wa(0<b.F8),m.XKa(m.PERSISTENT,b.F8,function(b){d.w3=b;a(h.Fb);},function(){g.error("Error calling requestFileSystem");a({T:l.H.eha});}));});q={};u={create:!0};x={create:!0,exclusive:!0};d.bEb=function(a,b){d.w3.root.getDirectory(a,u,function(a){b({S:!0,uDb:a});},function(){b({T:l.H.SOa});});};d.cEb=function(a,b){a.createReader().readEntries(function(a){var d;for(var f=[],c=a.length;c--;){d=a[c];d.isFile&&f.push(d.name);}b({S:!0,aEb:f});},function(){b({T:l.H.TOa});});};d.dEb=function(a,b,f){function c(){f({T:l.H.POa});}a.getFile(b,q,function(a){a.file(function(b){var d;d=new FileReader();d.onloadend=function(){f({S:!0,text:d.result,U6a:a});};d.onerror=c;d.readAsText(b);},c);},c);};d.fEb=function(a,b,f,c,d){function g(){d&&d({T:l.H.ROa});}function p(a){a.createWriter(function(b){try{b.onwriteend=function(){b.onwriteend=null;b.onerror=null;b.truncate(b.position);d&&d({S:!0,U6a:a});};b.onerror=g;b.write(new m.pfa([f]));}catch(L){g();}},g);}b.createWriter?p(b):a.getFile(b,c?x:u,p,g);};d.eEb=function(a,b,f){function c(){f&&f({T:l.H.QOa});}function d(a){a.remove(function(){f&&f(h.Fb);},c);}b.remove?d(b):a.getFile(b,q,d,c);};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);h=a(2);l=a(12);f=a(3);p=a(5);g.Re(h.I.Wda,function(a){var v,z,w;function g(){p.$M?p.$M.requestQuota(z,m,x):p.qfa.requestQuota(p.PERSISTENT,z,m,x);}function m(b){b>=z?(d.F8=b,a(c.Fb)):w?(v.error("Quota request granted insufficent bytes"),a({T:h.H.hha})):(w=!0,g());}function x(){v.error("Request quota error");a({T:h.H.gha});}v=f.yd("RequestQuota");z=b.config.Z$;0<z?(l.wa(p.$M||p.qfa),g()):(d.F8=0,a(c.Fb));});},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,z,w;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(6);h=a(19);l=a(9);f=a(29);p=a(21);m=a(33);q=a(3);u=a(2);x=a(17);v=a(115);z=a(5);w=a(87);d.Qqb=function(){var g,k;function a(a){var b,c,m;b="info";c="";m=q.da.get(v.Dw).zra();a.S||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.T||""));c="type=startup&sev="+b+c+"&"+f.WJ(x.La({},m,{prefix:"m_"}));d(c,g);}function d(a,d){d&&(a=k+"&jsoffms="+p.xc()+"&do="+z.nj.onLine+"&"+a+"&"+f.WJ(x.La({},h.I6,{prefix:"im_"})),b.Bb.download({url:d,Q8:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},Nx:"track"},c.Qb));}k="cat=cadplayback&dev="+encodeURIComponent(m.Aca)+"&ep="+encodeURIComponent(m.xf.PW)+"&ver="+encodeURIComponent("6.0015.389.051")+"&jssid="+p.oF;q.yd("TrackingLog");k+="&browserua="+z.Vk;h.Re(u.I.Zda,function(b){var d,p;g=q.da.get(w.Hs).host+l.config.Haa;if(l.config.CV&&l.config.Haa){l.config.up&&(k+="&groupname="+encodeURIComponent(l.config.up));l.config.Fs&&(k+="&uigroupname="+encodeURIComponent(l.config.Fs));d=k;p="";m.FF&&(p=x.La({},m.FF,{prefix:"pi_"}),p="&"+f.WJ(p));k=d+p;h.tJ(a);}b(c.Fb);});return d;}();},function(g,d,a){var l;function b(a,b,d){b=b||0;d=d||a.length;for(var f,g=b,m,p,l,h={};g<b+d;){f=a[g];m=f&7;p=f>>3;l=c(a,g);if(!l.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);g+=l.count+1;2==m&&(g+=l.value);h[p]={$Db:p,lJb:m,value:l.value,count:l.count,start:l.start};}return h;}function c(a,b){var f,c,d,g,p,h,w,D;f=b+1;c=a.length;d=f;g=0;p={};h=[];D=0;if(f>=c)throw Error("Invalid Range for Protobuf - start: "+f+" , len: "+c);for(;d<c;){g++;f=a[d];w=f&127;h.push(w);if(!(f&128))break;d++;}l.wa(h.length);for(a=h.length-1;0<=a;a--)D<<=7,D|=h[a];p.count=g;p.value=D;p.start=b+g+1;return p;}function h(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});l=a(12);d.Acb=function(a){a=b(a);if(1==h(a,1)&&a[5]&&a[5].value)return!0;};d.LFb=function(a){var f;f=b(a);if(2==h(f,1)&&(a=b(a,f[2].start,f[2].value),h(a,5)))return!0;};d.WDb=b;d.QEb=c;d.REb=h;},function(g){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.M=function(a){var l,f,p;function b(a,b,f){throw new TypeError(("undefined"!==typeof f.key?"Types: expected "+f.key:"Types: expected argument "+f.index)+(" to be '"+a+"' but found '"+b+"'"));}function c(a,c,d){var g;g=f[a];"undefined"!==typeof g?g(c)||b(a,c,d):a!==typeof c&&b(a,c,d);}function g(a,b){var f;f=a.filter(function(a){return"object"!==typeof a&&-1===p.indexOf(a);});f=f.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===p.indexOf(a);}));},[]));if(0<f.length)throw Error(f.join(",")+" are invalid types");return function(){var f;f=Array.prototype.slice.call(arguments);if(f.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var d;d=f[b];if("string"===typeof a)c(a,d,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){c(a[b],d[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,f);};}l="number boolean string object function symbol".split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof f[b]||-1<l.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);f[b]=a[b];});}p=Object.keys(f).concat(l);return g(["array","function"],g);};},function(g,d,a){var v,z,w;function b(a,b,f){this.type=a;this.size=b;this.xr=f;}function c(a){var f,c,d,g,m;a:{f=a.position;if(8<=a.xl()){c=a.Ea();d=a.vv(4);if(!z.test(d))throw a.seek(f),Error("mp4-badtype");if(1==c){if(8>a.xl()){a.seek(f);f=void 0;break a;}c=a.Jf();}if(!(8<=c))throw a.seek(f),Error("mp4-badsize");if("uuid"==d){if(16>a.xl()){a.seek(f);f=void 0;break a;}d=a.RD();}f={type:d,offset:f,size:c,xr:f+c-a.position};}else f=void 0;}if(f&&f.xr<=a.xl()){g=f.type;c=f.size;m=f.xr;d=new b(g,c,m);g=w[g];if(a.xl()<m)throw Error("mp4-shortcontent");g?(m=new v(a.He(m)),g(d,m)):a.skip(m);a.seek(f.offset);d.raw=a.He(c);return d;}}function h(a,b){for(var f=[],d={},g,m;0<b.xl();){g=c(b);if(!g)throw Error("mp4-badchildren");m=g.type;f.push(g);d[m]||(d[m]=g);}a.children=f;a.C3=d;}function l(a,b){a.version=b.Td(1);a.oe=b.Td(3);}function f(a,b){b.skip(6);a.Q2a=b.yb();b.skip(8);a.channelCount=b.yb();a.aE=b.yb();b.skip(4);a.sampleRate=b.yb();b.skip(2);h(a,b);}function p(a,b){var f;b.skip(6);a.Q2a=b.yb();b.skip(16);a.width=b.yb();a.height=b.yb();a.bFb=b.Ea();a.eJb=b.Ea();b.skip(4);a.E7a=b.yb();f=b.eh();a.Z_a=b.vv(f);b.skip(31-f);a.depth=b.yb();b.skip(2);h(a,b);}function m(a,b){l(a,b);a.mDb=b.Td(3);a.nDb=b.eh();a.lJ=b.He(16);}function q(a,b){for(var f=[],c;b--;)c=a.yb(),f.push(a.He(c));return f;}function u(a){var b;b=a.He(2);a={iIb:b[1]>>1&7,Emb:!!(b[1]&1),cIb:a.yb()};x(a,(b[0]<<8|b[1])>>4);return a;}function x(a,b){a.dIb=b>>4&3;a.hIb=b>>2&3;a.fIb=b&3;return a;}v=a(98);z=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.Jr=function(a){var b,f,c,d,g;b=this;a=a.split("/");for(d=0;d<a.length&&b;d++){c=a[d].split("|");f=void 0;for(g=0;g<c.length&&!f;g++)f=c[g],f=b.C3&&b.C3[f];b=f;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};w={ftyp:function(a,b){a.dGb=b.vv(4);a.vGb=b.Ea();for(a.R_a=[];4<=b.xl();)a.R_a.push(b.vv(4));},moov:h,sidx:function(a,b){l(a,b);a.MHb=b.Ea();a.vaa=b.Ea();a.R2=1<=a.version?b.Jf():b.Ea();a.E3=1<=a.version?b.Jf():b.Ea();b.skip(2);for(var f=b.yb(),c=[],d,g;f--;){d=b.Ea();g=d>>31;if(0!==g)throw Error("mp4-badsdix");d&=2147483647;g=b.Ea();b.skip(4);c.push({size:d,duration:g});}a.NHb=c;},moof:h,mvhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.vg=b.Td(f);a.modificationTime=b.Td(f);a.vaa=b.Ea();a.duration=b.Td(f);a.IHb=b.o9();a.volume=b.Zxa();b.skip(70);a.GGb=b.Ea();},pssh:function(a,b){var f;l(a,b);a.P4a=b.RD();f=b.Ea();a.data=b.He(f);},trak:h,mdia:h,minf:h,stbl:h,stsd:function(a,b){l(a,b);b.Ea();h(a,b);},encv:p,avc1:p,hvcC:p,hev1:p,mp4a:f,enca:f,"ec-3":f,avcC:function(a,b){a.version=b.eh();a.KBb=b.eh();a.DHb=b.eh();a.JBb=b.eh();a.WFb=(b.eh()&3)+1;a.pIb=q(b,b.eh()&31);a.nHb=q(b,b.eh());},pasp:function(a,b){a.YEb=b.Ea();a.cJb=b.Ea();},sinf:h,frma:function(a,b){a.WCb=b.vv(4);},schm:function(a,b){l(a,b);a.Nmb=b.vv(4);a.lIb=b.Ea();a.oe&1&&(a.kIb=b.Qkb());},schi:h,tenc:m,mvex:h,trex:function(a,b){l(a,b);a.Vb=b.Ea();a.F3a=b.Ea();a.w2=b.Ea();a.Soa=b.Ea();a.x2=u(b);},traf:h,tfhd:function(a,b){var f;l(a,b);a.Vb=b.Ea();f=a.oe;f&1&&(a.PBb=b.Jf());f&2&&(a.eIb=b.Ea());f&8&&(a.w2=b.Ea());f&16&&(a.Soa=b.Ea());f&32&&(a.x2=u(b));},saio:function(a,b){l(a,b);a.oe&1&&(a.BYa=b.Ea(),a.CYa=b.Ea());for(var f=1<=a.version?8:4,c=b.Ea(),d=[];c--;)d.push(b.Td(f));a.eza=d;},mdat:function(a,b){a.data=b.He(b.xl());},tkhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.vg=b.Td(f);a.modificationTime=b.Td(f);a.Vb=b.Ea();b.skip(4);a.duration=b.Td(f);b.skip(8);a.ldb=b.yb();a.CXa=b.yb();a.volume=b.Zxa();b.skip(2);b.skip(36);a.width=b.o9();a.height=b.o9();},mdhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.vg=b.Td(f);a.modificationTime=b.Td(f);a.vaa=b.Ea();a.duration=b.Td(f);f=b.yb();a.language=String.fromCharCode((f>>10&31)+96)+String.fromCharCode((f>>5&31)+96)+String.fromCharCode((f&31)+96);b.skip(2);},mfhd:function(a,b){l(a,b);a.oIb=b.Ea();},tfdt:function(a,b){l(a,b);a.bH=b.Td(1<=a.version?8:4);8==b.xl()&&b.skip(8);},saiz:function(a,b){l(a,b);a.oe&1&&(a.BYa=b.Ea(),a.CYa=b.Ea());for(var f=b.eh(),c=b.Ea(),d=[];c--;)d.push(f||b.eh());a.gIb=d;},trun:function(a,b){var f,c;l(a,b);f=b.Ea();c=a.oe;c&1&&(a.XCb=b.Ea());c&4&&(a.hEb=u(b));for(var d=[],g;f--;)g={},c&256&&(g.duration=b.Ea()),c&512&&(g.size=b.Ea()),c&1024&&(g.oe=b.Ea()),c&2048&&(g.wCb=b.Ea()),d.push(g);a.Jl=d;},sdtp:function(a,b){l(a,b);for(var f=[];0<b.xl();)f.push(x({},b.eh()));a.Jl=f;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){l(a,b);a.fileSize=b.Jf();a.vaa=b.Jf();a.duration=b.Jf();a.swa=b.Jf();a.tIb=b.Jf();1<=a.version&&(a.AGb=b.Jf(),a.BGb=b.Ea(),a.twa=b.Jf(),a.uqa=b.Ea(),a.gqa=b.RD());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){l(a,b);a.oe&1&&(a.yBb=b.Td(3),a.OFb=b.eh(),a.Wcb=b.RD());a.bIb=b.Ea();a.AYa=b.He(b.xl());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){l(a,b);a.zT=b.Ea();a.MH=b.yb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":m,"636F6D2E-6E65-7466-6C69-782E6974726B":h,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){l(a,b);a.sma=b.RD();a.vg=b.Jf();a.R=b.Jf();a.aj=b.Jf();a.wU=b.yb();a.xU=b.yb();a.Ycb=b.He(16);a.Ipb=b.He(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){l(a,b);a.bCb=b.He(b.xl());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var f;l(a,b);a.gnb=b.Jf();f=b.Ea();a.ie=[];for(var c=0;c<f;c++)a.ie.push({duration:b.Ea(),size:b.yb()});},"636F6D2E-6E65-7466-6C69-782E69736567":h,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var f;l(a,b);a.sma=b.RD();a.duration=b.Ea();f=b.Ea();a.Jl=[];for(var c=0;c<f;c++)a.Jl.push({$h:b.Ea(),duration:b.Ea(),FT:b.yb(),GT:b.yb(),bV:b.yb(),cV:b.yb(),vp:b.Jf(),PC:b.Ea()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var f,c,g,m;l(a,b);f=b.Ea();c=b.eh();a.Jl=[];for(var d=0;d<f;d++){g=b.eh();m=g>>6;g=g&63;0!=m&&0===g&&(g=c);a.Jl.push({Npa:m,YC:b.He(g)});}}};g.M={KHb:function(a,b){a=new v(a);b&&a.seek(b);return c(a);},m9:function(a,b){var f;if(!a)throw Error("mp4-badinput");a=new v(a);f=[];for(b&&a.seek(b);b=c(a);)f.push(b);return f;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ega="PlaylistMapTranslatorSymbol";},function(g,d,a){var c;function b(a,b,f,d,g,q){var m;m=this;this.Rm=g;this.ki=q;this.addEventListener=function(a,b,f){return m.ki.addListener(a,m.Noa(a,b),f);};this.removeEventListener=function(a,b){return m.ki.removeListener(a,m.Noa(a,b));};this.getReady=function(){return m.ki.JR();};this.getXid=function(){return m.Ya().b5();};this.getMovieId=function(){return m.Ya().N9a();};this.getElement=function(){return m.Ya().$x();};this.isPlaying=function(){return m.Ya().ly();};this.isPaused=function(){return m.Ya().tcb();};this.isMuted=function(){return m.Ya().scb();};this.isReady=function(){return m.Ya().isReady();};this.isBackground=function(){return m.Ya().dcb();};this.setBackground=function(a){return m.Ya().Kza(a);};this.startInactivityMonitor=function(){return m.Ya().cL();};this.setTransitionTime=function(a){return m.Ya().UU(a);};this.getDiagnostics=function(){return m.Ya().O8a();};this.getTextTrackList=function(){return m.Ya().$ra();};this.getTextTrack=function(){return m.Ya().Zra();};this.setTextTrack=function(a){return m.Ya().$za(a);};this.getVolume=function(){return m.Ya().kab();};this.isEnded=function(){return m.Ya().kcb();};this.getBusy=function(){return m.Ya().pk();};this.getError=function(){return m.Ya().getError();};this.getCurrentTime=function(){return m.Ya().Qn();};this.getBufferedTime=function(){return m.Ya().q8a();};this.getSegmentTime=function(){return m.Ya().HI();};this.getDuration=function(){return m.Ya().n4();};this.getVideoSize=function(){return m.Ya().iab();};this.getAudioTrackList=function(){return m.Ya().e8a();};this.getAudioTrack=function(){return m.Ya().d8a();};this.getTimedTextTrackList=function(){return m.Ya().$ra();};this.getTimedTextTrack=function(){return m.Ya().Zra();};this.getAdditionalLogInfo=function(){return m.Ya().Z7a();};this.getTrickPlayFrame=function(a){return m.Ya().Y$a(a);};this.getSessionSummary=function(){return m.Ya().Tra();};this.getCongestionInfo=function(a){return m.t0(m.Ya().l4(),a);};this.getTimedTextSettings=function(){return m.Ya().NR();};this.setMuted=function(a){return m.Ya().Wnb(a);};this.setVolume=function(a){return m.Ya().job(a);};this.setPlaybackRate=function(a){return m.Ya().$nb(a);};this.setAudioTrack=function(a){return m.Ya().Lnb(a);};this.setTimedTextTrack=function(a){return m.Ya().$za(a);};this.setTimedTextSettings=function(a){return m.Ya().YK(a);};this.prepare=function(){return m.Ya().tv();};this.load=function(){return m.Ya().load();};this.close=function(a){return m.t0(m.ki.close(),a);};this.play=function(){return m.Ya().play();};this.pause=function(){return m.Ya().pause();};this.seek=function(a){return m.Ya().seek(a);};this.engage=function(a,b){return m.t0(m.Ya().cI(a),b);};this.induceError=function(a){return m.Ya().Lbb(a);};this.loadCustomTimedTextTrack=function(a,b,f){return m.Ya().Jdb(a,b,f);};this.tryRecoverFromStall=function(){return m.Ya().GL();};this.addEpisode=function(a){var b;m.log.info("Next episode added",a);b=a.playbackParams;return m.ki.e0({R:a.movieId,xD:a.nextStartPts,WB:a.currentEndPts,cb:b&&m.Kua(b)||void 0,uc:b&&b.uiLabel||a.uiLabel,ge:a.manifestData,Rm:m.Rm});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=m.Kua(a);m.log.info("Playing the next episode",a);return m.ki.transition(a);};this.playSegment=function(a){return m.Ya().ijb(a);};this.queueSegment=function(a){return m.Ya().Hkb(a);};this.updateNextSegmentWeights=function(a,b){return m.Ya().aq(a,b);};this.getCropAspectRatio=function(){return m.Ya().D8a();};this.getCurrentSegmentId=function(){return m.ki.hra();};this.getPlaylistMap=function(){return m.ki.Jra();};this.setNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return m.ki.TU.apply(m.ki,[].concat(wb(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return m.ki.B_a.apply(m.ki,[].concat(wb(b)));};this.updatePlaylistMap=function(a){return m.ki.LBa(a);};this.goToNextSegment=function(a,b){return m.ki.fsa(a,b);};this.getPlaying=function(){return m.isPlaying();};this.getPaused=function(){return m.isPaused();};this.getMuted=function(){return m.isMuted();};this.getEnded=function(){return m.isEnded();};this.getTimedTextVisibility=function(){return m.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!m.Ya().NR().visibility;};this.setTimedTextVisibility=function(a){return m.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return m.Ya().YK({size:a});};this.setTimedTextBounds=function(a){return m.Ya().YK({bounds:a});};this.setTimedTextMargins=function(a){return m.Ya().YK({margins:a});};this.setTimedTextVisible=function(a){return m.Ya().YK({visibility:a});};this.h3=new Map();this.log=c.yd("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,uiLabel:f,manifestData:d});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);a(83);b.prototype.Ya=function(){return this.ki.Rn();};b.prototype.Noa=function(a,b){var f;this.h3.has(a)||this.h3.set(a,new Map());f=this.h3.get(a);f.has(b)||f.set(b,this.B3a(a,b));return f.get(b);};b.prototype.B3a=function(a,b){var f;f=this;return function(c){return b(Object.assign({},c,{type:a,target:f}));};};b.prototype.t0=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.Kua=function(a){return{Pf:a.trackingId,DB:a.authParams,oi:a.sessionParams,J2:a.disableTrackStickiness,FV:a.uiPlayStartTime,pR:a.forceAudioTrackId,qR:a.forceTimedTextTrackId,rf:a.isBranching,gba:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,jC:a.enableTrickPlay,m5:a.heartbeatCooldown,c6:a.isPlaylist,LS:a.loadImmediately||!1,ia:a.manifestIndex||0,Xy:a.pin,nK:a.preciseSeeking,U:a.startPts,ea:a.endPts,aj:a.packageId,UD:a.renderTimedText};};d.uQa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dga="PlaylistConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fga="PlaylistVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zY="PlaylistManagerFactorySymbol";},function(g,d,a){var c,h,l,f,p,m;function b(a,b,f){this.hg=a;this.jb=b;this.j=f;this.pJ=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(1);l=a(15);f=a(18);p=a(3);m=a(16);b.prototype.A3=function(){this.pJ.forEach(function(a){return a();});};b.prototype.kd=function(a,b,f){this.j.kd(this.hg(a,b,f));};b.prototype.SR=function(a){this.j.fireEvent(m.X.Y7,{gp:a});};b.prototype.$Wa=function(a){-1===this.pJ.indexOf(a)&&this.pJ.push(a);};b.prototype.Hlb=function(a){a=this.pJ.indexOf(a);0<=a&&this.pJ.splice(a,1);};b.prototype.csa=function(a){var b,d;b={};l.ab(a.code)?b.T=c.hda(a.code):b.T=c.H.pg;try{d=a.message.match(/\((\d*)\)/)[1];b.jc=p.Hma(d,4);}catch(v){}b.Ja=f.$c(a);return b;};a=b;a=g.__decorate([h.N()],a);d.eM=a;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);c=a(55);h=a(17);l=a(2);f=a(63);p=a(3);m=a(16);d.jHa=function(a,d){function g(c){var g,m;g=c.error||c;m=h.$c(g);d.error("uncaught exception",g,m);(g=(g=g&&g.stack)&&b.config.zBa&&b.config.yrb?0<=g.indexOf(b.config.zBa):void 0)&&(c&&c.stopImmediatePropagation&&c.stopImmediatePropagation(),c=p.da.get(f.Rj),a.kd(c(l.I.lQa)));}function q(){c.ee.removeListener(c.d5,g);a.removeEventListener(m.X.De,q);a.removeEventListener(m.X.Fh,q);}try{c.ee.addListener(c.d5,g);a.addEventListener(m.X.De,q);b.config.Bbb&&a.addEventListener(m.X.Fh,q);}catch(z){d.error("exception in exception handler ",z);}};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);h=a(21);l=a(2);f=a(5);p=a(15);g.Re(l.I.Sda,function(a){var m,l,v,z,w;function g(){var a;a=f.rq(h.xc()/v);if(a!=w){for(var b=f.mj(a-w,30);b--;)z.push(0);(b=f.Uk(z.length-31,0))&&z.splice(0,b);w=a;}z[z.length-1]++;}m=b.config.xeb;l=-6/(m-2-2);v=c.Pj;z=[];w=f.rq(h.xc()/v);p.xta(m)&&(setInterval(g,1E3/m),d.Eua={o9a:function(){var c;for(var a=[],b=z.length-1;b--;){c=z[b];a.unshift(0>=c?9:1>=c?8:c>=m-1?0:f.Tf((c-2)*l+7));}return a;}});a(c.Fb);});},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,z,w,k,y,E,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);c=a(104);h=a(264);l=a(41);f=a(55);p=a(18);m=a(93);q=a(3);u=a(113);x=a(154);v=a(17);z=a(5);w=a(15);k=a(16);y=a(105);E=a(4);n=a(85);d.ENa=function(a){var H,t,aa,ra,Z,Q,ka,fa,ma,ta,ga,Ga,Da,A,ib;function d(){if(!Z){ma=setInterval(r,1E3);a.sf.appendChild(t);for(var b=Q.length;b--;)Q[b].addListener(S);for(b=ka.length;b--;)a.addEventListener(ka[b],S);Z=!0;}P();}function g(){if(Z){clearInterval(ma);ga=ta=void 0;a.sf.removeChild(t);for(var b=Q.length;b--;)Q[b].removeListener(S);for(b=ka.length;b--;)a.removeEventListener(ka[b],S);H.nb();Z=!1;}}function D(){Z?g():d();}function G(){var f,d,g,p,k,D,y,G,Q,n,P,ka,r,la,O,L,U,H,ma,S,V,t,X,Y,da;f=[];f.push({Version:"6.0015.389.051",Esn:c.yg?c.yg.dg:"UNKNOWN",PBCID:a.gQ,UserAgent:z.Vk});try{g={MovieId:a.R,TrackingId:a.Pf,Xid:a.la+" ("+l.zq.map(function(a){return a.la;}).join(", ")+")",Position:m.Kg(a.qd.value),Duration:m.Kg(a.QB.na(E.Ba)),Volume:z.Tf(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};a.Za.rf&&(g["Segment Position"]=m.Kg(a.ay()),g.Segment=a.H4());f.push(g);}catch(jb){}try{p=a.Dp?a.Dp.mbb():void 0;f.push({"Player state":Ga[a.state.value],"Buffering state":Da[a.xm.value]+(w.ka(p)?", ETA:"+m.Kg(p):""),"Rendering state":A[a.Fc.value]});}catch(jb){}try{k=a.dba()+a.C0();D=a.bh.value;y=D&&D.stream;G=a.ig.value;Q=G&&G.stream;n=Q?Q.oc:"";P=a.je.value?a.je.value.oc:"";ka=a.Oi.value?a.Oi.value.O:"";r=a.je.value?a.je.value.O:"";la=a.Mb[b.Sb.G.VIDEO].value;O=a.Mb[b.Sb.G.AUDIO].value;f.push({"Playing bitrate (a/v)":y&&Q?y.O+" / "+Q.O+" ("+Q.width+"x"+Q.height+")":"?","Playing/Buffering vmaf":n+"/"+P,"Buffering bitrate (a/v)":ka+" / "+r,"Buffer size in Bytes (a/v)":a.C0()+" / "+a.dba(),"Buffer size in Bytes":""+k,"Buffer size in Seconds (a/v)":m.Kg(a.XG())+" / "+m.Kg(a.SL()),"Current CDN (a/v)":(O?O.name+", Id: "+O.id:"")+" / "+(la?la.name+", Id: "+la.id:"")});}catch(jb){}try{if(a.bh.value&&a.ig.value){L=a.bh.value.stream.track;U=a.ig.value.stream;H=a.Mi.value;ma=a.Te.value?a.Te.value.qc:[];S=q.da.get(u.AA);V=S.AH(ma);t=S.iQ();X=U.Me;Y=/hevc/.test(X)?"hevc":/vp9/.test(X)?"vp9":/h264hpl/.test(X)?"avchigh":"avc";/hdr/.test(X)&&(Y+=", hdr");/dv/.test(X)&&(Y+=", dv");/prk/.test(X)&&(Y+=", prk");f.push({"Audio Track":L.wj+", Id: "+L.Vb+", Channels: "+L.hk+", Codec: "+t,"Video Track":"Codec: "+V+" ("+Y+")","Timed Text Track":H?H.wj+", Profile: "+H.profile+", Id: "+H.Vb:"none"});}}catch(jb){}try{da=a.eg;f.push({Framerate:(a.je.value?a.je.value.uR:0).toFixed(3),"Current Dropped Frames":w.ka(ta)?ta:"","Total Frames":da.FR(),"Total Dropped Frames":da.Zx(),"Total Corrupted Frames":da.zI(),"Total Frame Delay":da.GR(),"Main Thread stall/sec":h.Eua?h.Eua.o9a().join(" "):"DISABLED",VideoDiag:x.i7(a.PR())});}catch(jb){}try{f.push({Throughput:a.pa+" kbps"});}catch(jb){}try{v.pc(fa,function(a,b){d=d||{};d[a]=JSON.stringify(b);});d&&f.push(d);}catch(jb){}return f;}function P(){var a;if(aa.selectionStart==aa.selectionEnd){a="";G().forEach(function(b){a=a?a+"\n":"";v.pc(b,function(f){a+=f+": "+b[f]+"\n";});});aa.style.fontSize=m.vq(z.rq(t.clientHeight/60),8,18)+"px";aa.value=a;}}function r(){var b;if(a.eg){b=a.eg.Zx();b&&(ta=b-ga,ga=b,S());}}function S(){H.nb(P);}function U(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==y.Us.XEa||a.keyCode==y.Us.Q)&&D();}H=q.da.get(n.Aw)(E.Ih(1));t=p.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});aa=p.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");ra=p.createElement("DIV","position:absolute;top:2px;right:2px");ka=[k.X.$S,k.X.NYa];fa={};Q=[a.qd,a.Mb[b.Sb.G.AUDIO],a.Mb[b.Sb.G.VIDEO],a.bh,a.ig,a.Oi,a.je,a.Mi,a.state,a.xm,a.Fc,a.volume,a.muted];this.Onb=function(a){fa.DFR=a;};Ga={};Ga[l.tA]="Not Loaded";Ga[l.$l]="Loading";Ga[l.ln]="Normal";Ga[l.LF]="Closing";Ga[l.KF]="Closed";Da={};Da[l.Tk]="Normal";Da[l.Js]="Pre-buffering";Da[l.Zba]="Network stalled";A={};A[l.Ai]="Waiting for decoder";A[l.Lo]="Playing";A[l.Aq]="Paused";A[l.tw]="Media ended";aa.setAttribute("readonly","readonly");t.appendChild(aa);t.appendChild(ra);ib=p.createElement("BUTTON",null,"X");ib.addEventListener("click",g,!1);ra.appendChild(ib);f.ee.addListener(f.dy,U);a.addEventListener(k.X.De,function(){f.ee.removeListener(f.dy,U);g();});v.La(this,{toggle:D,show:d,ey:g,j9a:G});};},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z,w,k,y,E,n,G,r,L,O,X,V,t,S;function b(a){var b;b=this;this.j=a;this.jb=this.j.jb;this.Ta=z.qf(this.j,"MediaPresenterASE");this.jka=this.Wia=this.bl=0;this.Yc=this.jb.Ha;this.Fka=this.Cka=this.C_=this.l_=this.mP=this.GN=this.o_=!1;this.Xk={type:x.Uf.audio,YB:[],fo:[]};this.xn={type:x.Uf.video,YB:[],fo:[]};this.ix={};this.cka=p.config.Tfb;this.wka=p.a0a(!!this.j.Za.rf).Fwa;this.ZZ=p.config.r7;this.ZVa=z.da.get(t.Aw)(V.xb(O.FY));this.Le={};this.$ja={};this.gG={};this.j.An=!1;this.ix[c.Sb.wf.AUDIO]=this.Xk;this.ix[c.Sb.wf.VIDEO]=this.xn;y.wa(this.ZZ>this.cka,"bad config");y.wa(this.ZZ>this.wka,"bad config");this.jb.addEventListener(X.mh.nAa,function(){b.Ta.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.ESa();}catch(Y){b.Ta.error("Exception while initializing",Y);b.Zk(w.I.tMa);}});}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);h=a(140);l=a(63);f=a(6);p=a(9);m=a(41);q=a(55);u=a(29);x=a(75);v=a(21);z=a(3);a(83);w=a(2);k=a(427);y=a(12);E=a(93);n=a(18);G=a(42);r=a(16);L=a(15);O=a(209);X=a(173);V=a(4);t=a(85);S=a(114);b.prototype.nra=function(){return this.jb.Qn(!1);};b.prototype.FR=function(){return this.jb.FR();};b.prototype.Zx=function(){return this.jb.Zx();};b.prototype.zI=function(){return this.jb.zI();};b.prototype.GR=function(){return this.jb.GR();};b.prototype.ESa=function(){var a,b;a=this;this.Ta.trace("Video element initializing");b=this.jb.sourceBuffers;b.forEach(function(b){return a.AVa(b);});p.config.Tsb&&(b.filter(function(a){return a.type===c.Sb.wf.AUDIO;})[0]||this.Ta.error("unexpected: audio source buffer is not available yet"));a.FSa(a.j.Qu);};b.prototype.FSa=function(a){var d;function b(){function a(){var a,b;b=d.j.gb&&d.j.gb.MI();d.j.Fc.value==m.Ai&&d.j.state.value==m.ln&&d.j.xm.value==m.Tk&&d.j.ij.value==m.Tk&&b?(d.wZ.lp(),a="ensureTimer"):(d.wZ.Of(),a="stopTimer");d.Ta.trace("Timer update: "+a,{presentingState:d.j.Fc.value,playbackState:d.j.state.value,avBufferingState:d.j.xm.value,textBufferingState:d.j.ij.value,hasLicense:b});}p.config.Moa&&(y.wa(!d.wZ),d.wZ=z.da.get(S.Cw)(p.config.Moa,function(){var a;a=z.da.get(k.Jca).i4a(d.j);d.Zk(a.code,a);}),d.j.Fc.addListener(a),d.j.xm.addListener(a),d.j.ij.addListener(a),d.j.state.addListener(a),d.j.addEventListener(r.X.Xta,a),a());}function c(){d.RN||(c=y.oDa,d.jb.addEventListener(X.mh.OK,d.Le[X.mh.OK]=function(){return d.g_();}),d.jb.addEventListener(X.mh.Dm,d.Le[X.mh.Dm]=function(){return d.nUa();}),d.Yc.addEventListener("ended",d.Le.ended=function(){return d.oUa();}),d.Yc.addEventListener("play",d.Le.play=function(){return d.rUa();}),d.Yc.addEventListener("pause",d.Le.pause=function(){return d.qUa();}),d.Yc.addEventListener("playing",d.Le.playing=function(){return d.sUa();}),d.kG=!0,0===d.j.ia&&(d.iP(),d.Ta.trace("Video element initialization complete"),d.j.he("vi"),p.config.Xoa?setTimeout(function(){d.f_=!0;d.Ji();},p.config.Xoa):d.f_=!0,b(),G.hb(function(){return d.Ji();})));}d=this;a?this.Ta.trace("Waiting for needkey"):this.Ta.warn("Movie is not DRM protected",{MovieId:this.j.R});this.Ta.trace("Waiting for loadedmetadata");a?this.jb.addEventListener(X.mh.cua,function(){d.j.he("ld");d.j.gb.NQ(""+d.j.R);d.j.fireEvent(r.X.Xta);}):this.j.gb.NQ(""+this.j.R);u.jXa(this.Yc,function(){d.Ta.trace("Video element event: loadedmetadata");d.j.he("md");});q.ee.addListener(q.sk,this.gG[q.sk]=function(){return d.Gia();},f.nA);this.j.addEventListener(r.X.De,function(){return d.Gia();},f.nA);this.j.addEventListener(r.X.dza,function(){return d.y_();});this.j.paused.addListener(function(){return d.Ji();});this.j.muted.addListener(function(){return d.O_();});this.j.volume.addListener(function(){return d.O_();});this.j.playbackRate.addListener(function(){return d.pWa();});this.j.xm.addListener(function(){return d.Ji();});this.j.ij.addListener(function(){return d.Ji();});this.O_();this.Xk.Ml.Lza(function(){return d.zO();});this.xn.Ml.Lza(function(){return d.zO();});this.zO();G.hb(function(){c();});};b.prototype.zP=function(a){var b,f;b=this;f=this.ix[a.P];f?f.fo.push(a):y.wa(!1);this.vRa(a).then(function(){b.zO();b.j.fireEvent(r.X.$S);})["catch"](function(a){b.Zk(w.I.yMa,{Ja:n.$c(a)});});};b.prototype.HXa=function(a,b){var f;b={P:a.type,Ac:!0,response:b,Ti:function(){return"header";}};f=this.ix[a.type];f?f.fo.push(b):y.wa(!1);this.Cka||a.type!==c.Sb.wf.VIDEO||(this.seek(this.j.U,r.Mg.mF),this.Cka=!0);};b.prototype.AVa=function(a){var b;b=this.ix[a.type];if(b)try{b.Ml=a;}catch(Y){this.Zk(w.I.pY,{T:O.p4(a.type),Ja:n.$c(Y)});}};b.prototype.zO=function(){this.kG?this.Ji():p.config.IXa&&this.iP();};b.prototype.Vgb=function(){var a;a=this.j.ay()||0;this.j.Za.rf?p.config.bZa&&(a=Math.max(a-(this.jb.f$+1)-p.config.e$,this.j.gb.Lra().Kc)):a=Math.max(a-p.config.bnb,this.NSa);this.seek(a,r.Mg.SY);};b.prototype.UJ=function(a){var b;b=this;a.mediaType===c.Sb.wf.AUDIO?this.GN=!0:a.mediaType===c.Sb.wf.VIDEO&&(this.mP=!0);G.hb(function(){return b.Ji();});};b.prototype.u9a=function(){return{A3a:this.Wia,wgb:this.jka};};b.prototype.vRa=function(a){var b;b=this.jb&&this.jb.Ara();return void 0===this.k_&&b&&a.bf&&a.bf.Ec&&a.bf.Ec.qa&&Infinity!=a.bf.Ec.qa.ea&&(a=a.bf.Ec.qa.ea+a.Ik,b.T8(V.Ba)<a)?(this.k_=b.scale(2),this.QUa()):Promise.resolve();};b.prototype.QUa=function(){var a;a=this;return new Promise(function(b,f){function c(){return d().then(function(a){if(!1===a)return c();});}function d(){return new Promise(function(b){setTimeout(function(){if(!a.Xk.Ml.pk()&&!a.xn.Ml.pk())try{a.jb.Vnb(a.k_);a.C_=!1;a.k_=void 0;b(!0);}catch(Q){b(!1);}b(!1);},0);});}a.C_=!0;c().then(function(){b();})["catch"](function(b){a.Ta.error("Unable to change the duration",b);f(b);});});};b.prototype.Ji=function(){var a,b,f,c,d,g,l;a=this;this.j.qL=v.xc();if(!this.ne()&&this.kG){b=this.jb.t$a();b||this.iP();h.UM||this.iP();f=this.j.xm.value==m.Tk&&this.j.ij.value==m.Tk;c=this.j.Fc.value;d=c==m.Ai?this.wka:this.cka;g=this.$ia(this.Xk,d)&&this.$ia(this.xn,d);this.j.paused.value||!g||!f||b||this.$j?this.x_():this.o_||this.y_();if(!b)if(this.$j&&f&&g)this.jb.seek(this.bl),this.$j=!1,h.UM||this.u_(),G.hb(function(){return a.Ji();});else{l=this.jb.Qn(!0);this.ne()||(this.$j||b?c=m.Ai:this.Yc&&this.Yc.ended?c==m.Lo&&(this.bl=this.j.K8.na(V.Ba),c=m.tw,this.x_()):f&&g?this.jb.j4a()?c=this.Yc&&this.Yc.paused?m.Aq:m.Lo:this.ZVa.nb(function(){return a.YVa();}):c=m.Ai,c!=m.Ai&&c!=m.tw&&(l<this.bl?(b=this.bl-l,p.config.Rib&&l&&b>O.FY&&(l={ElementTime:E.Kg(l),MediaTime:E.Kg(this.bl)},b>O.kOa?(this.Ta.error("VIDEO.currentTime became much smaller",l),this.Zk(w.I.JMa)):this.Ta.warn("VIDEO.currentTime became smaller",l))):this.bl=n.vq(l,0,this.j.K8.na(V.Ba))),this.rla(),this.PN(),l=c==m.Ai&&0<=[m.Lo,m.Aq].indexOf(this.j.Fc.value),this.j.Fc.set(c),l&&(c=this.cWa()>d,this.j.ij.value!==m.Tk?this.j.Mi.value?(c=m.xNa,this.j.fireEvent(r.X.zx,{cause:c}),this.Ta.warn("rebuffer due to timed text",this.j.Mi.value.Hf)):this.j.fireEvent(r.X.xV):(c?(c=m.qga,this.Wia++):(c=m.rga,this.jka++),this.j.fireEvent(r.X.zx,{cause:c}))));}}};b.prototype.cWa=function(){var a,b;a=this.xn.fo.filter(function(a){return!a.Ac;}).reduce(function(a,b){return a+b.Er;},0);b=this.Xk.fo.filter(function(a){return!a.Ac;}).reduce(function(a,b){return a+b.Er;},0);return Math.min(a,b);};b.prototype.YVa=function(){this.ne()||(p.config.Wgb&&(this.Xk.Ml.pk()||this.Xk.Ml.lma(new Uint8Array([0,0,0,8,102,114,101,101]))),this.Ji());};b.prototype.$ia=function(a,b){var f;f=a.uQ;f=f&&f.HJ;return 0===a.fo.length&&(a.type===x.Uf.audio&&this.GN||a.type===x.Uf.video&&this.mP)?!0:f&&f.PD-this.bl>=b;};b.prototype.g_=function(){this.Ji();};b.prototype.nUa=function(){this.Ji();this.j.fireEvent(r.X.Dm);};b.prototype.oUa=function(){this.Ta.trace("Video element event: ended");this.Ji();};b.prototype.rUa=function(){this.Ta.trace("Video element event: play");this.Ji();};b.prototype.qUa=function(){this.Ta.trace("Video element event: pause");this.Ji();};b.prototype.sUa=function(){this.Ta.trace("Video element event: playing");this.Ji();};b.prototype.O_=function(){this.ne()||(this.Yc&&this.Yc.volume!==this.j.volume.value&&(this.Yc.volume=this.j.volume.value),this.Yc&&this.Yc.muted!==this.j.muted.value&&(this.Yc.muted=this.j.muted.value));};b.prototype.pWa=function(){!this.ne()&&this.Yc&&(this.Yc.playbackRate=this.j.playbackRate.value);};b.prototype.iP=function(){this.C_||(this.pla(this.Xk),this.pla(this.xn));this.ne()||!this.GN||!this.mP||this.Xk.Ml.pk()||this.xn.Ml.pk()||this.EZ||(this.EZ=!0,this.jb.endOfStream());};b.prototype.pla=function(a){var b,f;if(!this.ne()&&a.Ml){b=a.Ml;f=a.YB;!b.pk()&&0<f.length&&(a.uQ=f[f.length-1]);if(a.I$){if(b.pk())return;a.I$=!1;b.remove(0,this.jb.Ara().T8(V.dm));}for(var c=a.fo[0];c&&c.response&&(c.Ac||c.ls-this.bl<=this.ZZ);)if(this.EZ=!1,this.iWa(c))a.fo.shift(),c=a.fo[0];else break;!b.pk()&&0<f.length&&(a.uQ=f[f.length-1]);}};b.prototype.iWa=function(a){var b,f,c;y.wa(a&&a.response);b=a.response;f=a.P;c=this.ix[f];if(!this.ne()&&!c.Ml.pk()){try{this.Ta.trace("Feeding media segment to decoder",{Bytes:b.byteLength});c.Ml.lma(b,a);a.Ac||c.YB.push(this.ERa(a));p.config.q4a&&!a.Ac&&(this.$j&&!h.UM||a.rna());}catch(ra){"QuotaExceededError"!=ra.name?(this.Ta.error("Exception while appending media",a,ra),this.Zk(w.I.HMa,O.p4(f))):this.j.vQ=this.j.vQ?this.j.vQ+1:1;return;}return!0;}};b.prototype.DRa=function(a){var b;b=this.j.Jab(a.ad);b||(this.Ta.error("Could not find CDN",{cdnId:a.ad}),b={id:a.ad,L6:a.location});return b;};b.prototype.FRa=function(a){var b,f;f=a.Xa;a.P===c.Sb.wf.AUDIO?b=this.j.nsa(f):a.P===c.Sb.wf.VIDEO&&(b=this.j.tsa(f));b||this.Ta.error("Could not find stream",{stream:f});return b;};b.prototype.ERa=function(a){var b;b=this.FRa(a);return{HJ:a,stream:b,Cm:{startTime:Math.floor(a.ls),endTime:Math.floor(a.PD)},Mb:this.DRa(a)};};b.prototype.y_=function(){var a;a=this;this.ne()||!L.ab(this.Yc)||this.Yc.ended||!this.f_||!this.rB&&void 0!==this.rB||(this.Ta.trace("Calling play on element"),Promise.resolve(this.Yc.play()).then(function(){a.rB=!1;a.o_=!1;a.Yc.style.display=null;a.j.An=!1;a.j.fireEvent(r.X.Ema,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.Ta.warn("Playback is blocked by the browser settings",b),a.j.An=!0,a.o_=!0,a.Yc.style.display="none",a.j.fireEvent(r.X.An,{player:{play:function(){return a.y_();}}})):(a.rB=!1,a.Fka||(a.Fka=!0,a.Ta.error("Play promise rejected",b)));}));};b.prototype.x_=function(){this.ne()||!L.ab(this.Yc)||this.Yc.ended||!this.f_||this.rB&&void 0!==this.rB||(this.Ta.trace("Calling pause on element"),this.Yc.pause(),this.rB=!0);};b.prototype.PN=function(a){if(L.ab(a)){for(var b=this.ix[a],f=b.YB,d,g;(d=f[0])&&d.HJ.ls<=this.bl;)if(this.bl<d.HJ.PD){a=a===c.Sb.wf.AUDIO?this.j.bh:this.j.ig;u.Fna(d,a.value)||(g=!0,a.set(d));break;}else f.shift();!g&&!this.l_||this.EZ||(d=d&&d.HJ.ls-d.HJ.Er-1,0<d&&(b=b.Ml,b.pk()?this.l_=!0:(b.remove(0,d/n.Pj),this.l_=!1)));}else this.PN(c.Sb.wf.AUDIO),this.PN(c.Sb.wf.VIDEO);};b.prototype.rla=function(a){this.j.qd.set(this.bl);a&&this.j.v7a();};b.prototype.UP=function(a,b){return b===r.Mg.xA||this.j.Za.rf&&this.$j?!1:(b=this.j.gb)&&b.UP(a)||!1;};b.prototype.seek=function(a,b,f){var c,d,g,l,q;b=void 0===b?r.Mg.wA:b;f=void 0===f?this.j.ia:f;if(!this.ne()&&this.j.gb){c=b===r.Mg.xA;c?d=a:(d=this.j.GC(f).QB.na(V.Ba)-p.config.Vsb,d=n.vq(a,0,d));d=this.KSa()?Math.round(d):this.pSa(d);p.config.e$&&(d+=p.config.e$);b===r.Mg.mF&&(this.j.Pma=d);c=c||this.j.Za.rf?d:this.j.gb.boa(f,d);g=this.UP(c,b);this.PN();l=this.bl;this.Ta.info("Seeking",{Requested:E.Kg(a),Actual:E.Kg(d),Cause:b,Skip:g});this.j.fireEvent(r.X.mz,{AT:l,d8:c,cause:b,skip:g});this.j.Fc.set(m.Ai);b!==r.Mg.mF&&(this.u_(),this.Xk.I$=!0,this.xn.I$=!0);this.NSa=this.bl=c;a=this.j.bh.value;q=this.j.ig.value;this.j.bh.set(null);this.j.ig.set(null);this.rla(!0);this.j.fireEvent(r.X.Op,{AT:l,d8:c,Gn:d,cause:b,skip:g,bh:a,ig:q,ia:f});this.$j=!0;this.Ji();}};b.prototype.KSa=function(){return"boolean"===typeof this.j.Za.nK?this.j.Za.nK:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?p.config.nK&&p.config.Ijb:p.config.nK;};b.prototype.u_=function(){this.Xk.YB=[];this.Xk.uQ=void 0;this.Xk.fo=[];this.xn.YB=[];this.xn.uQ=void 0;this.xn.fo=[];this.mP=this.GN=!1;this.j.fireEvent(r.X.$S);};b.prototype.pSa=function(a){var b;b=this.j.gb.nu.ib[c.Sb.wf.VIDEO].Y.ea;return this.j.Za.rf&&a<b?a:this.j.gb.QZa(a,this.j.Za.rf?p.config.zpa:p.config.Fr);};b.prototype.Zk=function(a,b,f){var c;if(!this.RN){c=z.da.get(l.Rj);this.j.kd(c(a,b,f));}};b.prototype.Gia=function(){if(!this.RN){this.Ta.info("Closing.");this.jb.removeEventListener(X.mh.OK,this.$ja[X.mh.OK]);this.jb.removeEventListener(X.mh.Dm,this.$ja[X.mh.Dm]);this.Yc.removeEventListener("ended",this.Le.ended);this.Yc.removeEventListener("play",this.Le.play);this.Yc.removeEventListener("pause",this.Le.pause);this.Yc.removeEventListener("playing",this.Le.playing);q.ee.removeListener(q.sk,this.gG[q.sk]);this.RN=!0;try{p.config.ngb&&(this.Yc.volume=0,this.Yc.muted=!0);this.x_();this.jb.close();}catch(U){}this.Yc=void 0;this.u_();}};b.prototype.ne=function(){return this.RN?!0:L.ab(this.Yc)?!1:(this.Ta.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.uKa=b;},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(41);h=a(9);l=a(21);f=a(93);p=a(5);m=a(42);q=a(15);d.ANa=function(a){var w,k,y,E,n,G;function d(){return a.state.value==c.$l||a.state.value==c.ln&&a.Fc.value==c.Ai;}function g(){d()?G||(G=setInterval(u,100)):G&&(clearInterval(G),G=void 0,m.hb(u));}function u(){var b,g,m,u,v,x,z,D;b=l.xc();g=w.value;m=g?g.mi:0;v=a.state.value==c.$l||d()&&b-k>h.config.qZa;v&&a.state.value==c.ln?(a.QP.value==c.Zba?(z=m,x=!0):(u=b+(a.Dp&&a.Dp.mbb()||0),y=y||b,E=E||y+h.config.Ofb+1,q.ka(u)&&(u=p.Uk(u,E),z=a.Dp?a.Dp.IEb():.99,z=p.Tf(1E3*f.vq((b-y)/(u-y),0,z))/1E3)),z<m&&(m-z<h.config.nkb/100?(z=m,n=void 0):n?b-n>h.config.mkb?(D=!0,n=void 0):z=m:(n=b,z=m))):n=E=y=void 0;b=v?{fV:x,mi:z,okb:D}:null;(!b||!w||!g||q.ka(b.mi)&&!q.ka(g.mi)||q.ka(b.mi)&&q.ka(g.mi)&&.01<p.wF(b.mi-g.mi)||b.fV!==g.fV)&&w.set(b);}w=a.$0;k=0;a.state.addListener(function(){g();u();},b.jY);a.Fc.addListener(function(a){if(a.oldValue!=c.Ai||a.newValue!=c.Ai)k=l.xc();g();});a.QP.addListener(function(){g();});a.xm.addListener(function(){g();});a.ij.addListener(function(){g();});G||(G=setInterval(u,100));};},function(g,d,a){var p,m,q,u;function b(a,b,f,c,d){var g;g={};"right"==a.horizontalAlignment?g.right=100*(f-b.left-b.width-d)/f+"%":g.left=100*(b.left-d)/f+"%";"bottom"==a.verticalAlignment?g.bottom=100*(c-b.top-b.height-d)/c+"%":g.top=100*(b.top-d)/c+"%";return g;}function c(a,b){var f;if(a&&b){40===b.x&&19===b.y?f=4/3/(40/19):52===b.x&&19===b.y&&(f=16/9/(52/19));if(f)return a.width/a.fontSize/f;}}function h(a,b,f,c,d){var g,m;g=a.style;m=q.x5(a.text);for(a=a.lineBreaks;a--;)m="<br />"+m;return l(m,g,b,f,c,d);}function l(a,b,d,g,l,q){var h;h=b.characterStyle;l=l[h];g=b.characterSize*g.height/((0<=h.indexOf("MONOSPACE")?c(l,b.cellResolution)||l.lineHeight:l.lineHeight)||1);g=0<q?u.rq(g*q):u.Tf(g);q={"font-size":g+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(q["font-style"]="italic");b.characterUnderline&&(q["text-decoration"]="underline");b.characterColor&&(q.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(q["background-color"]=f(b.backgroundColor,b.backgroundOpacity));g=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case m.y8:q["text-shadow"]=g+" 0px 0px 7px";break;case m.Uwa:q["text-shadow"]="-1px 0px "+g+",0px 1px "+g+",1px 0px "+g+",0px -1px "+g;break;case m.kib:q["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case m.iib:q["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}q=p.vH(q);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(q+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+q+'">'+a+"</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});p=a(29);m=a(190);q=a(17);u=a(5);d.Upa=function(a,b,f,c,d){var g;g="";a.textNodes.forEach(function(a){g+=h(a,f,b,c,d);});return g;};d.i6a=function(a,f,c,d,g){var m,p,h,v,x;m="";p=g.width;g=g.height;for(var l=f.length;l--;){h=f[l];v=a[l];v=v&&v.region;x="position:absolute;background:"+d+";width:"+u.Tf(h.width+2*c)+"px;height:"+u.Tf(h.height+2*c)+"px;";q.pc(b(v,h,p,g,c),function(a,b){x+=a+":"+b+";";});m+='<div style="'+x+'"></div>';}return m;};d.h6a=b;d.KDb=c;d.MDb=h;d.JDb=l;d.LDb=f;d.g6a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return p.vH(b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);d.vrb=function(a,d){function c(a,c,d){var h,u,k,G;if(a&&1<a.length){for(var g=[],m=[],p=0;p<a.length;p++)g[p]=0,m[p]=0;for(var l=!1,p=0;p<a.length;p++)for(var q=p+1;q<a.length;q++){u=a[p];k=a[q];if(0>u.width||0>k.width||k.left>u.left+u.width||k.left+k.width<u.left||k.top>u.top+u.height?0:k.top+k.height>=u.top){h=b.Uk(u.left,k.left);G=b.Uk(u.top,k.top);h={width:b.Uk(b.mj(u.left+u.width,k.left+k.width)-h,0),height:b.Uk(b.mj(u.top+u.height,k.top+k.height)-G,0),x:h,y:G};}else h=void 0;if(h&&1<h.width&&1<h.height)if(G=h.width<=h.height,u=f(a[p]),k=f(a[q]),G&&c||!G&&!c)h=b.Uk(h.width/2,.25),u.x<=k.x?(m[p]-=h,m[q]+=h):(m[q]-=h,m[p]+=h);else if(G&&!c||!G&&c)u=b.Uk(h.height/2,.25),g[p]-=u,g[q]+=u;}for(p=0;p<a.length;p++){if(-.25>m[p]&&0<=a[p].left+m[p]||.25<m[p]&&a[p].left+a[p].width+m[p]<=d.width)a[p].left+=m[p],l=!0;if(-.25>g[p]&&0<=a[p].top+g[p]||.25<g[p]&&a[p].top+a[p].height+g[p]<=d.height)a[p].top+=g[p],l=!0;}return l;}}function f(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,f){a.forEach(function(a){0>a.left&&a.left+a.width<f.width?a.left+=b.mj(-a.left,f.width-(a.left+a.width)):a.left+a.width>f.width&&0<a.left&&(a.left-=b.mj(a.left+a.width-f.width,a.left));0>a.top&&a.top+a.height<f.height?a.top+=b.mj(-a.top,f.height-(a.top+a.height)):a.top+a.height>f.height&&0<a.top&&(a.top-=b.mj(a.top+a.height-f.height,a.top));});}(a,d));for(var g=0;50>g&&c(a,!0,d);g++);for(g=0;50>g&&c(a,!1,d);g++);return a;};},function(g,d,a){var c,h,l,f,p;function b(a,b){this.H3=a;this.Rx={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.Qza(b);this.zqa=this.h9a(this.H3);}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);h=a(269);l=a(268);f=a(5);p=a(17);b.prototype.$x=function(){return this.element;};b.prototype.Knb=function(a){this.B0=a;};b.prototype.Pnb=function(a){this.Md=a;this.BK();};b.prototype.Rnb=function(a){this.Qza(a);this.BK();};b.prototype.BK=function(){var a,f,d,g,p,z,w,k,y,E,n,r,L,O;a=this;f=this.$x();d=f.parentElement;g=d&&d.clientWidth||0;p=d&&d.clientHeight||0;z=d=0;w={width:g,height:p};if(0<g&&0<p&&this.Md){this.B0&&(w=c.nR(g,p,this.B0),d=Math.round((g-w.width)/2),z=Math.round((p-w.height)/2));k=this.OZa(w);E=c.nR(k.width,k.height,this.B0);k=(y=this.Md.blocks)&&y.map(function(f){var d;d=l.Upa(f,E,a.H3,a.zqa);f=l.g6a(f)+";position:absolute";return c.createElement("div",f,d,b.wW);});}Object.assign(this.Rx,{left:d+"px",right:d+"px",top:z+"px",bottom:z+"px"});f.style.display="none";f.style.direction=this.Rx.direction;f.innerHTML="";if(k&&k.length){g=w.width;d=w.height;n=w;this.eH&&(n=this.KWa(w,this.eH,p,z));this.Rx.margin=this.Om?this.SP(w,"top")+"px "+this.SP(w,"right")+"px "+this.SP(w,"bottom")+"px "+this.SP(w,"left")+"px ":void 0;k.forEach(function(a){return f.appendChild(a);});p=c.vH(this.Rx);f.style.cssText=p+";visibility:hidden;z-index:-1";for(var z=[],G=k.length-1;0<=G;G--){r=k[G];L=y[G];O=this.Zva(r,L,g,d);O.width>g&&(r.innerHTML=l.Upa(L,w,this.H3,this.zqa,g/O.width),O=this.Zva(r,L,g,d));z[G]=O;}z=h.vrb(z,n);if(G=y&&y[0]&&y[0].textNodes&&y[0].textNodes[0]&&y[0].textNodes[0].style)n=G.windowColor,G=G.windowOpacity,n&&0<G&&(w=l.i6a(y,z,Math.round(d/50),n,w),w=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+G,w,b.wW),f.insertBefore(w,f.firstChild));f.style.display="none";for(w=z.length-1;0<=w;w--)n=k[w].style,G=l.h6a(y[w].region,z[w],g,d,0),Object.assign(n,G);f.style.cssText=p;}};b.prototype.C$=function(a){this.eH=a;this.BK();};b.prototype.W4=function(){return this.eH;};b.prototype.D$=function(a){this.Om=a;this.BK();};b.prototype.X4=function(){return this.Om;};b.prototype.Y4=function(){return"block"===this.Rx.display;};b.prototype.E$=function(a){a=a?"block":"none";this.element.style.display=a;this.Rx.display=a;};b.prototype.h9a=function(a){var b,f;b=this;f={};p.pc(a,function(a,c){f[a]=b.mfb(c);});return f;};b.prototype.Qza=function(a){this.Rx.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.SP=function(a,b){if(this.Om){if("left"===b||"right"===b)return a.width*(this.Om[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Om[b]||0);}return 0;};b.prototype.OZa=function(a){return this.Om?{height:a.height*(1-(this.Om.top||0)-(this.Om.bottom||0)),width:a.width*(1-(this.Om.left||0)-(this.Om.right||0))}:a;};b.prototype.mfb=function(a){var d;a=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.wW);f.ud.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};f.ud.body.removeChild(a);return d;};b.prototype.Zva=function(a,b,f,c){var d,g,m,p,l;d=b.region;g=(d.marginTop||0)*c;m=(d.marginBottom||0)*c;p=(d.marginLeft||0)*f;l=(d.marginRight||0)*f;b=a.clientWidth||1;a=a.clientHeight||1;switch(d.verticalAlignment){case"top":c=g;break;case"center":c=(g+c-m-a)/2;break;default:c=c-m-a;}switch(d.horizontalAlignment){case"left":f=p;break;case"right":f=f-l-b;break;default:f=(p+f-l-b)/2;}return{top:c,left:f,width:b,height:a};};b.prototype.KWa=function(a,b,f,c){return{height:f-Math.max(c,b.bottom|0)-Math.max(c,b.top|0),width:a.width};};b.wW={"class":"player-timedtext-text-container"};d.OPa=b;},function(g,d,a){var m,q,u,x,v,z,w,k;function b(a,b){var f,c,d,g,m,p,l,q;f=[];g={};l=a.length;for(q=0;q<l;q++)m=a[q],p=b(m),d=p.key,c=g[d],m=m.endTime-m.startTime,c?c.duration+=m:(delete p.key,c=p,c.duration=m,f.push(c),g[d]=c);return f;}function c(a){var b,f,c;c=a.stream;c?(a=c.md,b=c.O,f=c.oc):a=a.track.md;return{key:a+"$"+(b||0),downloadableId:a,bitrate:b,vmaf:f};}function h(a){var b;b=c(a);a=a.Mb.id;b.key+="$"+a;b.cdnId=a;return b;}function l(a){a=(a=a.stream)?a.O:0;return{key:a,L7:a};}function f(a){a=(a=a.stream)?a.oc:0;return{key:a,L7:a};}function p(a){var b,f,c,d;c=0;for(f=a.length;f--;)if(b=a[f],w.ab(b.duration)&&w.ab(b.L7))c+=b.duration;else throw Error("invalid arguments");if(!c)return 0;d=0;for(f=a.length;f--;)b=a[f],d+=b.L7*b.duration/c;return d;}Object.defineProperty(d,"__esModule",{value:!0});m=a(9);q=a(6);u=a(17);x=a(3);v=a(12);a(93);z=a(5);w=a(15);k=a(16);d.wNa=function(a){var t,V,da,S,U,H,Y,aa,ra,Z,Q,ka,fa,ma;function d(){y(a.qd.value);for(var b=0,f=H.length;f--;)b+=H[f].endTime-H[f].startTime;v.wa(b===z.rq(b),"Value of totalPlayTime is not an integer.");return parseInt(z.rq(b));}function g(a){y(a.AT);aa=a.d8;da=V=void 0;S&&(S.startTime=aa);}function D(b){r(S,Y,a.qd.value);S=b.newValue?{track:b.newValue,startTime:a.qd.value,endTime:q.iw}:void 0;}function y(a){V&&da&&(a=z.mj(a,V.endTime),a=z.mj(a,da.endTime),r(V,U,a),V.startTime=a,r(da,H,a),da.startTime=a,S&&(r(S,Y,a),S.startTime=a),aa=a);}function n(b,f,c){b&&r(b,f,z.mj(b.endTime,a.qd.value));if(c&&c.stream)return b=c.Cm,f=c.stream,{Mb:c.Mb,track:f.track,stream:f,startTime:z.Uk(b.startTime,aa),endTime:b.endTime};}function r(a,b,f){a&&f>=a.startTime&&(a={Mb:a.Mb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:f},(f=b[b.length-1])&&f.track==a.track&&f.stream==a.stream&&f.Mb==a.Mb&&f.endTime==a.startTime?f.endTime=a.endTime:b.push(a));}t=x.qf(a,"PlayTimeTracker");U=[];H=[];Y=[];aa=a.qd.value;ra={};Z=!1;Q={};ka=0;fa=m.config.HWa;ma=fa.length;(function(){a.addEventListener(k.X.mz,g);a.bh.addListener(function(a){V=n(V,U,a.newValue);});a.ig.addListener(function(a){da=n(da,H,a.newValue);});a.Mi.addListener(D);}());for(ra.abrdel=0;ma--;)Q["abrdel"+fa[ma]]=0,ra["abrdel"+fa[ma]]=0;u.La(this,{Z4:d,f8a:function(){y(a.qd.value);return{audio:b(U,h),video:b(H,h)};},Z9a:function(){var a;a={total:d(),audio:b(U,c),video:b(H,c),timedtext:b(Y,c)};v.wa(a.audio&&a.video);return a;},Vqa:function(){var f,c;y(a.qd.value);f=b(H,l);try{c=p(f);}catch(Ga){return t.warn("Failed to calc average bitrate"),null;}ra.abrdel=z.Tf(c);return ra.abrdel;},j8a:function(){var c,d;y(a.qd.value);c=b(H,f);try{d=p(c);}catch(Ga){return t.warn("Failed to calc average vmaf"),null;}return z.Tf(d);},i8a:function(){var f;if(!Z){for(var a=fa.length,b=d();a--;){f=fa[a];if(0==Q["abrdel"+f]&&b>f*q.Pj){for(var c=0,g=H.length,m,p=0,l=0;l<g&&!(m=H[l],c+=m.stream.O*(m.endTime-m.startTime),p+=m.endTime-m.startTime,m=m.stream.O,p>f*q.Pj);l++);c&&(Q["abrdel"+f]=z.Tf((c-m*(p-f*q.Pj))/(f*q.Pj)));}}0!==Q["abrdel"+fa[fa.length-1]]&&(Z=!0);u.pc(Q,function(a,b){ra[a]=0==b?ra.abrdel:b;});}return ra;},ZWa:function(a){ka+=a;},v9a:function(){return ka;},Pab:function(){return!!(H[0]&&H[0].stream&&w.ab(H[0].stream.oc));}});};d.dzb=b;d.gzb=c;d.hzb=h;d.fzb=l;d.izb=f;d.ezb=p;},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);c=a(55);h=a(18);l=a(17);f=a(3);p=a(52);m=a(105);q=a(16);d.INa=function(a){var L,O,t,V,da,S,U,H,Y,aa;function d(){U||(y(),a.sf.appendChild(L),U=!0);}function g(){U&&(a.sf.removeChild(L),U=!1);}function u(){U?g():d();}function w(){var c,d,g;function b(a,b,f){var c,d,g;g=[];b.filter(function(b){return b.Me===a;}).forEach(function(a){0<=f.indexOf(a)?(void 0===c?c=a.O:d=a.O,void 0===d&&(d=a.O)):void 0!==c&&void 0!==d&&(g.push({min:c,max:d}),c=d=void 0);});void 0!==c&&void 0!==d&&(g.push({min:c,max:d}),c=d=void 0);return g;}function f(a,b,f){var c;c=[];b.filter(function(b){return b.Me===a;}).forEach(function(a){-1===f.indexOf(a)&&c.push({stream:{bitrate:a.O},disallowedBy:["manual"]});});return c;}c=a.In();d=a.cy().sort(function(a,b){return a.O-b.O;});g=d.reduce(function(a,b){0>a.indexOf(b.Me)&&a.push(b.Me);return a;},[]).map(function(a){return{profile:a,ranges:b(a,d,c),disallowed:f(a,d,c)};});a.gb.VU(g);}function k(){return a.cy().filter(function(a){return H[a.O];});}function y(){var f,c,d;f=a.Ic.value;c=a.Te.value;d=a.Yh;f&&(d=d.slice(),d.sort(function(a,b){return a.Od-b.Od;}),G(V,f.qc.map(function(b){return{value:b.O,caption:b.O,selected:b==a.Oi.value};})));c&&(G(da,c.qc.map(function(b){var f,c;f=a.G7.us(b);b=b.O;c=""+b;f&&(c+=" ("+f.join("|")+")");return{value:b,caption:c,selected:a.In!=k?!f:H[b]};})),da.removeAttribute("disabled"));d&&(G(S,d.map(function(f){return{value:f.id,caption:"["+f.id+"] "+f.name,selected:f==a.Mb[b.Sb.G.VIDEO].value};})),S.removeAttribute("disabled"));}function E(){U&&y();}function n(a){var b,f;b=h.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=h.createElement("DIV",void 0,a);f=h.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(f);O.appendChild(b);return f;}function G(a,b){a.innerHTML="";b.forEach(function(b){var f;f={title:b.caption};b.selected&&(f.selected="selected");f=h.createElement("option",void 0,b.caption,f);f.value=b.value;a.appendChild(f);});}function r(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==m.Us.vOa&&u();}L=h.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});O=h.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");t=h.createElement("DIV","width:100%;text-align:center");V=n("Audio Bitrate");da=n("Video Bitrate");S=n("CDN");H={};Y=f.da.get(p.Xl);L.appendChild(O);O.appendChild(t);aa=h.createElement("BUTTON",void 0,"Override");aa.addEventListener("click",function(){var d,m,f,c;H={};for(var f=da.options,c=f.length;c--;){d=f[c];d.selected&&(H[d.value]=1);}a.In=k;w();if(f=a.Yh){m=S.value;f=f.filter(function(a){return a.id==m;})[0];c=a.Mb[b.Sb.G.VIDEO].value;f&&f!=c&&(f.jCb={testreason:"streammanager",selreason:"userselection"},a.Mb[b.Sb.G.VIDEO].set(f));}g();},!1);t.appendChild(aa);aa=h.createElement("BUTTON",void 0,"Reset");aa.addEventListener("click",function(){delete a.In;w();g();},!1);t.appendChild(aa);c.ee.addListener(c.dy,r);a.addEventListener(q.X.De,function(){c.ee.removeListener(c.dy,r);});a.Mb.forEach(function(a){a.addListener(E);});a.Ic.addListener(E);a.Te.addListener(E);l.La(this,{toggle:u,show:d,ey:g});};},function(g,d,a){var b,c,h,l,f,p,m,q,u,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);c=a(41);h=a(21);l=a(2);f=a(172);p=a(5);m=a(15);q=a(16);u=a(3);x=a(114);d.NIa=function(a){var g,v,k,E;function d(){a.state.value!=c.ln||a.Fc.value!=c.Aq&&a.Fc.value!=c.tw?v.Of():v.lp();}g=b.config.Hib;if(!a.XC()&&g){v=u.da.get(x.Cw)(g,function(){a.fireEvent(q.X.RC,l.I.dN);});a.Fc.addListener(d);a.state.addListener(d);if(b.config.G5){E=h.xc();k=new f.Sga(b.config.G5,function(){var f,c;f=h.xc();c=f-E;c>g&&(a.fireEvent(q.X.RC,l.I.PM),k.v1());c>2*b.config.G5&&(a.H5=p.Uk(c,a.H5||0));E=f;});k.F$();}a.addEventListener(q.X.De,function(){v.Of();m.ab(k)&&k.v1();});}};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);c=a(34);d.NHa=function(a){function d(f){a.fireEvent(b.X.SH,{response:f});}return{download:function(b,g){b.j=a;b=c.Bb.download(b,g);b.Ela(d);return b;}};};},function(g,d,a){var c;function b(a,b){var f;f=this;this.Bra=a;this.uwa=b;this.zaa=!1;this.cs=function(){f.Nk=void 0;f.update();};}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);b.prototype.update=function(a){var b,f,d;b=this.Bra();if(this.PBa!==b){c.ab(b)&&c.ab(this.duration)&&b<this.duration&&this.entries&&(d=this.Vva||this.entries[Math.floor(b*this.xqb)]||this.entries[0]);if(d){for(;d&&d.endTime<b;)d=d.next;for(;d&&d.previous&&d.previous.endTime>=b;)d=d.previous;}d&&(d.startTime<=b&&b<=d.endTime?(f=d,this.JBa(d.endTime-b)):this.JBa(d.startTime-b));this.Vva=d;this.PBa=b;this.$_!==f&&(this.$_=f,!a&&this.uwa&&this.uwa());}};b.prototype.start=function(){this.zaa=!0;this.update();};b.prototype.Rza=function(a){this.Vva=this.$_=this.PBa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(wb(a.map(function(a){return a.endTime;}))))||0;this.xqb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.zaa=!1;this.Of();};b.prototype.X7a=function(){this.update(!0);return this.$_;};b.prototype.JBa=function(a){this.Of();this.zaa&&0<a&&(this.Nk=setTimeout(this.cs,a+b.TKa));};b.prototype.Of=function(){this.Nk&&(clearTimeout(this.Nk),this.Nk=void 0);};b.TKa=10;d.TPa=b;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});a(34);b=a(68);a(21);c=a(12);h=a(42);a(15);a(16);d.LNa=function(){var d,g,q,u,x;function a(){x=!1;for(var a=d.length,b;a--;)b=d[a],u[b]&&(u[b]=!1,q.wb(b+"changed",{getModel:g[b]}));}function f(b){u[b]=!0;x||(x=!0,h.hb(a));}d=[];g={};q=new b.Oj();u={};x=!1;return{register:function(a,b){c.wa(!(0<=d.indexOf(a)),"panel already registered");g[a]=b;d.push(a);},JGb:f,LEb:function(a){return(a=g[a])?a():void 0;},addEventListener:function(a,b){q.addListener(a,b);g[a]&&f(a);},removeEventListener:function(a,b){q.removeListener(a,b);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zea="LicenseBrokerFactorySymbol";},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(6);c=a(9);h=a(2);l=a(3);f=a(18);p=a(5);g.Re(h.I.Lda,function(a){var m,h,v;function g(){v&&clearTimeout(v);a(b.Fb);g=f.Qb;}m=l.yd("BatteryManager");d.mr={$Da:"chargingchange",vra:function(){return h?h.level:null;},h4:function(){return h?h.charging:null;},addEventListener:function(a,b){h&&h.addEventListener(a,b);},removeEventListener:function(a,b){h&&h.removeEventListener(a,b);}};if(c.config.mH){v=setTimeout(g,c.config.n8a);try{p.nj.getBattery().then(function(a){h=a;g();})["catch"](function(a){m.error("getBattery promise rejected",a);g();});}catch(z){m.error("exception on getBattery api call",z);g();}}else g();});},function(g,d,a){var m,q,u,x,v,z,w,k;function b(a){return a.split(",").reduce(function(a,b){var f;f=b.split("=");b=f[0];f=f.slice(1).join("=");b&&b.length&&(a[b]=f||!0);return a;},{});}function c(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function h(a,f,d){var g;if("string"===typeof a)return h.call(this,b(a),f,d);g=0;Object.keys(a).forEach(function(b){var p,l,q;p=v[b];l=a[b];if(p){if(q=z[b]||k[typeof m[p]])try{l=q(l);}catch(V){d&&d.error("Failed to convert value '"+l+"' for config '"+b+"' : "+V.toString());return;}q=x[p];this[p]=l;x[p]!==q&&(d&&d.debug("Config changed for '"+b+"' from "+c(q)+" ("+typeof q+") to "+c(l)+" ("+typeof l+")"),++g);}else f?(p=(p=w[b])?p.filter(function(a){return a[0]!==this;},this):[],p.push([this,l]),w[b]=p):d&&d.error("Attempt to change undeclared config option '"+b+"'");},this);g&&x.emit("changed");return g;}function l(){return Object.keys(v).reduce(function(a,b){var f,c;f=v[b];c=a[f];c?(c.push(b),a[f]=c.sort(function(a,b){return b.length-a.length;})):a[f]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?c(a[b]):void 0;}function p(a,b){return"undefined"===typeof a?b:a;}d=a(48);a=a(28).EventEmitter;m={};q=Object.create(m);u=Object.create(q);x=Object.create(u);v={};z={};w={};x.declare=function(a){Object.keys(a).forEach(function(b){var f,c,d,g;f=a[b];c=f[0];d=f[1];g=f[2];if(m.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof c&&(c=[c]);c.forEach(function(a){var f;if(v.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");m.hasOwnProperty(b)||("function"===typeof d&&(d=d()),m[b]=d);v[a]=b;"function"===typeof g&&(z[a]=g);if(f=w[a])f.forEach(function(b){var f,c;f=b[0];c={};c[a]=b[1];h.call(f,c,!1);}),delete w[a];});});return x;};k={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};x.set=h.bind(q);x.CD=h.bind(u);x.dump=function(a,b){var g,h,z,k;function d(){k&&a&&a.log("===========================================");}g=Object.keys(w).sort();h={};z=l();b=p(b,!0);Object.keys(v).sort().forEach(function(g){var l,w,D;g=v[g];!h[g]&&(h[g]=!0,w=f(q,g),D=f(u,g),b||"undefined"!==typeof w||"undefined"!==typeof D)&&(l=z[g].join(","),l+=" = "+c(x[g])+" ("+typeof x[g]+") [",l+=p(D,"<unset>")+",",l+=p(w,"<unset>")+",",l+=f(m,g)+"]",k||(k=!0,a&&a.log("Current config values"),d()),a&&a.log(l));});(b||g.length)&&a&&a.log("<undeclared> :",g);d();};x.ip=function(a){var b,f;b={};f={};Object.keys(v).forEach(function(a){a=v[a];f[a]||(f[a]=!0,b[a]=x[a]);});a&&h.call(b,a);return b;};x.bxa=function(){var a;a=l();return Object.getOwnPropertyNames(q).reduce(function(b,f){b[a[f][0]]=q[f];return b;},{});};x.reset=function(){Object.keys(q).forEach(function(a){delete q[a];});};x.al={};d(a,x);g.M=Object.freeze(x);},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(3);h=a(22);l=a(56);f={Eb:{CLOSED:0,OPEN:1,OW:2,name:["CLOSED","OPEN","ENDED"]},ic:{YP:!0}};d.vKa=Object.assign(function(a){var d,g;d=l.platform;b.yd("MediaSourceASE").trace("Inside MediaSourceASE");g=a.E4();this.readyState=f.Eb.CLOSED;this.sourceBuffers=g.sourceBuffers;this.addSourceBuffer=function(a){return g.addSourceBuffer(a);};this.f0=function(a){return g.f0(a);};this.removeSourceBuffer=function(a){return g.removeSourceBuffer(a);};this.Kn=function(a){return g.Kn(a);};this.sourceId=d.EI();d.WI();this.duration=void 0;g.Jnb(this.sourceId);this.readyState=f.Eb.OPEN;this.ic=c.da.get(h.Je).Bk(f.ic,{});},f);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(5);d.iAb=function(a,b,f){for(f=(f-a.length)/b.length;0<f--;)a+=b;return a;};d.hAb=function(a,c,f){f=b.Sd(f)?f:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+f.length-c))+f;};d.uPa=function(a,b){var d;for(var f=1;f<arguments.length;++f);d=c.slice.call(arguments,1);a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.jAb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c<b;c++)f[c]=a.charCodeAt(c);return f.buffer;};d.bJb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(6);h=a(34);d.vLa=function(){b.yd("OpenConnectSideChannel");return{vI:function(a,b,c){h.Bb.Fob({url:a.url,Pmb:c});},Maa:c.Qb};}();},function(g,d,a){var c,h,l,f,p;function b(a){var w;for(var b=l.rib(a),d,g,m,z=0;z<b.length;z+=2){d=b[z];if("moof"!=d.type||"mdat"!=b[z+1].type)throw l.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[z+1].type}),Error("data is not moof-mdat box pairs");if(c.config.Usb&&"moof"==d.type&&(g=d.Jr("traf/saio"),m=d.Jr("traf/"+h.QDa),g&&m&&(m=m.AYa.byteOffset-d.raw.byteOffset,g.eza[0]!=m))){l.log.error("Repairing bad SAIO",{saioOffsets:g.eza[0],auxDataOffsets:m});w=g;g=m;m=new f(w.raw);m.seek(w.size-w.xr);w=m.Td(1);m.Td(3)&1&&(m.Ea(),m.Ea());w=1<=w?8:4;m.Ea();m.lba(g,w);}if(c.config.kba&&"moof"==d.type&&(g=d.Jr("traf/tfhd"),(d=g.x2)&&d.Emb)){d=void 0;m=new f(g.raw);m.seek(g.size-g.xr);w=m.Td(3);m.Ea();switch(g.type){case"tfhd":w&1&&m.Jf();w&2&&m.Ea();w&8&&m.Ea();w&16&&m.Ea();w&32&&(d=m.He(2));break;case"trex":m.Ea(),m.Ea(),m.Ea(),d=m.He(2);}p.wa(d);d&&(d[1]&=254);}}return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(9);h=a(6);l=a(3);f=a(98);p=a(12);d.pKa=function(a){return b(new Uint8Array(a));};d.kAb=function(a){return b(a);};d.ZGb=b;},function(g,d,a){var b,c,h,l,f,p,m,q,u,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);c=a(175);h=a(9);l=a(75);f=a(283);p=a(21);m=a(3);q=a(18);u=a(34);x=a(301);d.ufb=function(){var d,g;function a(d,m,q){var x,z;function v(){d.removeEventListener(c.Db.cd.qw,v);d.jI?d.jI++:d.jI=1;d.jI>=h.config.r3.length&&(d.jI=h.config.r3.length-1);setTimeout(function(){a(d,m,q);},h.config.r3[d.jI]);}d.KFb=!0;x=g.download({url:d.url,responseType:u.OC,withCredentials:!1,Nx:d.P===b.Sb.G.AUDIO?"audio":"video",offset:m.start,length:d.cn,track:{type:d.P===b.Sb.G.AUDIO?l.Uf.audio:l.Uf.video},stream:{md:d.Xa,O:d.O},Mb:d.ad,eo:d,u:d.Ac?void 0:f.pKa,YU:q,LL:h.config.LL},function(a){a.S&&d.readyState!==c.Db.Eb.DONE&&d.readyState!==c.Db.Eb.Qv&&(d.readyState!==c.Db.Eb.oq&&d.readyState===c.Db.Eb.dt&&(d.readyState=c.Db.Eb.uw,d.m8({mediaRequest:d,readyState:d.readyState,timestamp:p.xc(),connect:!1})),d.readyState=c.Db.Eb.DONE,a={mediaRequest:d,readyState:d.readyState,timestamp:p.xc(),cadmiumResponse:a,response:a.content},d.rH=a,d.Zi(a));});if(d.Ac){z={mediaRequest:d,readyState:d.readyState,timestamp:p.xc(),connect:!1};d.m8(z);}d.addEventListener(c.Db.cd.qw,v);d.Isa=x.abort;}d=m.yd("mediaRequestDownloader");g=m.da.get(x.cfa);return{vI:a,U_:function(a){try{a.Isa();}catch(y){d.warn("exception aborting request");}},Maa:q.Qb};}();},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jga="PboPairCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aga="PboBindCommandSymbol";},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(21);c=a(3);h=a(341);l=a(23);f=a(18);p=a(286);m=a(285);q=a(107);u=a(2);d.REa=function(a){var G,r,L,O,t;function d(a,b,f){return new Promise(function(c,d){G.send(a,b,!1,void 0).then(function(a){f?c(f(a)):c({S:!0});})["catch"](function(f){var c,g;try{c=JSON.stringify(f.Mn);}catch(Z){}g={method:a.method,success:f.S};r.kk(c)&&(g.errorData=c);r.kk(f.T)&&(g.errorSubCode=f.T);r.kk(f.jc)&&(g.errorExternalCode=f.jc);r.kk(f.Ja)&&(g.errorDetails=f.Ja);r.kk(f.mk)&&(g.errorDisplayMessage=f.mk);b.log.error("Processing EDGE response failed",g);f.__logs&&b.log.error(f.__logs);d(f);});});}function g(a){return d({method:"ping"},a);}function x(b){return t.gva?L.Ag(a,b.profile,{},b).then(function(a){return{O2a:a.customerGUID,S:!0};}):d({method:"bind",isExclusive:!0},b,function(a){return{O2a:a.customerGUID,S:!0};});}function k(b,f){var c;c={method:"pair",targetuuid:b.QAa,cticket:b.L2a,nonce:b.Dgb,controlleruuid:b.Zna,pairdatahmac:b.WGb};return t.B7?O.Ag(a,f.profile,c).then(function(a){return{S:!0,nab:{nonce:a.nonce,controlleruuid:b.Zna,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QAa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},oab:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.Qx){case"MDX_CONTROLLER_CTICKET_INVALID":b=u.VX.xLa;break;default:b=u.VX.yLa;}return{S:!1,fI:b,mk:a.data};}):d(c,f,function(a){return{S:!0,nab:{nonce:a.nonce,controlleruuid:b.Zna,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QAa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},oab:a.grantDataHmac};});}function y(a,b){x(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function E(b,c,d){k(b,c).then(function(a){d(a);})["catch"](function(b){var c,g;if(!t.B7){g="";if(b.Mn)try{c=JSON.parse(b.Mn);c.error_message?g=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(g=c.implementingClass);}catch(aa){a.error("Failed to parse Pairing errorData",{Mn:c});}f.La(b,n(g));}d(b);});}function n(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{ZQ:5,fI:21,aR:void 0,mk:void 0,$Q:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{ZQ:2,fI:20,aR:void 0,mk:void 0,$Q:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{ZQ:2,fI:10,aR:void 0,mk:void 0,$Q:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{ZQ:2,fI:13,aR:void 0,mk:void 0,$Q:void 0};default:return{ZQ:4,fI:30,aR:void 0,mk:void 0,$Q:void 0};}}G=c.da.get(h.lfa);r=c.da.get(l.we);L=c.da.get(p.aga);O=c.da.get(m.jga);t=c.da.get(q.rA);f.La(this,{uy:function(a){return d({method:"login"},a,function(a){return{S:a.success,Tt:a.accountGuid,dh:a.profileGuid,Vi:a.isNonMember};});},Q0:x,kpa:g,ping:function(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});},tDb:function(a,b){a=Object.assign({},a);a.profile=void 0;y(a,b);},Ly:y,PHb:function(a,b,f,c){y(Object.assign({Ly:b,HU:f},a),c);},OHb:function(a,b,f,c){y(Object.assign({Sx:b,password:f},a),c);},jGb:E,kGb:function(a,b,f){var m;function d(c){E(a,b,function(a){a.S?(a.Ly=c.Ly,a.HU=c.HU,a.sgb=c.sgb,a.Wmb=c.Wmb,f(a)):f(c);});}function g(a){x(m).then(function(a){a&&a.S?d(a):f(a);})["catch"](function(b){a?g(!1):f(b);});}m=Object.assign({hva:a.L2a,ifb:a.Xy,hfb:a.Dgb,gfb:a.NCb,jfb:c.Bn(a.QHb)},b);g(!0);},xIb:function(a,b,c,d){r.MG(c)&&!f.ab(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){y(Object.assign({nfb:"GOOGLE_JWT",kBa:b,dh:c},a),d);});},TEb:function(){return b.pH()+0;},PCb:function(a){return a+0;},PEb:function(a,b){return d({method:"secret",dates:a},b,function(a){return{S:!0,wHb:a.prefetchKeys};});}});};},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(289);c=a(3);h=a(399);l=a(22);d.opb=function(a){a({S:!0,storage:new b.yea(c.da.get(h.Aea),c.da.get(l.Je))});};},function(g,d){function a(a,c){this.ap=a;this.Gd=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.ap.load(b).then(function(b){c&&c(a.IAa(b));})["catch"](function(a){c&&c(d.qC(b,a));});};a.prototype.save=function(b,c,d,g){var f;f=this;this.ap.save(b,c,d).then(function(){g&&g(a.IAa({key:b,value:c}));})["catch"](function(a){g&&g(f.qC(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.ap.remove(a).then(function(){c&&c({S:!0,kV:a});})["catch"](function(d){c&&c(b.qC(a,d));});};a.IAa=function(a){return{S:!0,data:a.value,kV:a.key};};a.prototype.qC=function(a,c){return{S:!1,kV:a,T:c.T,Ja:c.cause?this.Gd.$c(c.cause):void 0};};d.yea=a;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(53);h=a(22);l=a(289);f=a(397);d.npb=function(a){b.da.get(c.Ul).create().then(function(c){a({S:!0,storage:new l.yea(c,b.da.get(h.Je)),Cr:b.da.get(f.Mca)});})["catch"](function(b){a(b);});};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(3);h=a(2);a(17);d.ppb=function(a){var f;c.yd("Storage");f={};a({S:!0,storage:{load:function(a,b){f.hasOwnProperty(a)?b({S:!0,data:f[a],kV:a}):b({T:h.H.cm});},save:function(a,b,c,d){c&&f.hasOwnProperty(a)?d({S:!1}):(f[a]=b,d&&d({S:!0,kV:a}));},remove:function(a,c){delete f[a];c&&c(b.Fb);}}});};},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,z,w,k,y,E,n,G,r,L,O,t,V,da,S,U,H,Y,aa,ra,Z,Q,ka,fa,ma,ta,ga,Ga,Da,tb,ib,Ma,F,R,wd,ca,mb,va,hb,Qa,cb,sb,Ta,Ua,Ya,Kb,tc,Ja,ba,ea,ha,sf,ja;function b(a,b,d,g,m){var q,h,v,D;function p(a){a.newValue!=va.am.VF&&a.newValue!=r.Aq&&(q.Fc.removeListener(p),q.TC=q.Ma.w$,q.Tb.wb(va.X.Fh));}function l(a){a.newValue!==va.am.VF&&(q.Fc.removeListener(l),q.nxa=U.pH());}q=this;this.fy=m;this.pv=[];this.Ic=new k.fd(null);this.Te=new k.fd(null);this.kc=new k.fd(null);this.Mi=new k.fd(null);this.Xp=new k.fd(void 0);this.je=new k.fd(null);this.Oi=new k.fd(null);this.Frb=function(a){return q.Ic.set(a.newValue);};this.Srb=function(a){return q.Te.set(a.newValue);};this.Nrb=function(a){return q.kc.set(a.newValue);};this.Drb=function(a){return q.Mi.set(a.newValue);};this.Mrb=function(a){return q.Xp.set(a.newValue);};this.Rrb=function(a){return q.je.set(a.newValue);};this.Erb=function(a){return q.Oi.set(a.newValue);};this.hD={};this.O9=this.Faa=0;this.Tb=new E.Oj();this.TL={};this.aka=0;this.BP=void 0;this.Eeb=H.da.get(ja.Xea);this.keb=H.da.get(Ma.Iea);this.X$=!1;this.state=new k.fd(r.tA);this.qd=new k.fd(void 0);this.YT=new k.fd(!1);this.paused=new k.fd(!1);this.muted=new k.fd(!1);this.volume=new k.fd(y.config.H3a/100);this.playbackRate=new k.fd(1);this.Fc=new k.fd(va.am.VF);this.QP=new k.fd(r.Js);this.xm=new k.fd(r.Js);this.ij=new k.fd(r.Js);this.bh=new k.fd(null);this.ig=new k.fd(null);this.$0=new k.fd(null);this.RI=z.NHa(this);this.ZS=[];this.Mb=[];this.O0={};this.Zt=new k.fd(null);this.VP=0<=ga.Cca.indexOf("cast")?H.da.get(Y.jca):void 0;this.rl=this.Fpa=!1;this.vpb=this.pa=this.kg=-1;this.vwa=function(){q.T$();};this.Qla(a,b,g||{},y.config.Gl&&A._cad_global.videoPreparer?A._cad_global.videoPreparer.b5(a):void 0,d);this.log=H.qf(this);this.Ma=H.da.get(mb.wi);this.MYa=H.da.get(S.Rba)(this);this.sf=wd.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.R});this.Qbb();h=H.da.get(Ja.Aw)(aa.Ih(1));this.bTa=H.da.get(Qa.Wea);this.yva=H.da.get(hb.xY);this.J8=this.yva.Blb(this.la,this.Rm);this.addEventListener=this.Tb.addListener;this.removeEventListener=this.Tb.removeListener;this.fireEvent=this.Tb.wb;this.Rd=this.log.Y1("Playback");this.G7=new L.yKa(this);this.fjb=f.tNa(this);this.F2=u.LNa();this.wJ=!!y.config.gCa&&!(this.la%y.config.gCa);this.Hf={MovieId:this.R,TrackingId:this.Pf,Xid:this.la};r.wY.BNa=this.log;r.iN||(r.wY.iN=this.log);this.Rd.info("Playback created",this.Hf);this.wJ?this.Rd.info("Playback selected for trace playback info logging"):this.Rd.trace("Playback not selected for trace playback info logging");y.config.Gl&&A._cad_global.videoPreparer&&(A._cad_global.videoPreparer.Dab(this.R),this.addEventListener(va.X.Fh,function(){A._cad_global.videoPreparer.Eab(q.R);q.kc.addListener(function(){A._cad_global.videoPreparer.jsa();});q.Ic.addListener(function(){A._cad_global.videoPreparer.jsa();});}),this.addEventListener(va.X.De,function(){A._cad_global.videoPreparer.Cab(q.R);}));this.state.addListener(function(a){q.Rd.info("Playback state changed",{From:a.oldValue,To:a.newValue});fa.wa(a.newValue>a.oldValue);});G.ee.addListener(G.sk,this.vwa,w.jY);this.qd.addListener(function(){h.nb(function(){return q.sqa();});});D=!1;this.paused.addListener(function(a){var b;b=q.gb;!a.k8&&b&&(!0===a.newValue?b.paused&&b.paused():b.ABa&&b.ABa());a.newValue||(D=!1);q.Rd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kg(q.qd.value)});});this.Fc.addListener(function(a){q.Rd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kg(q.qd.value)},q.qD());});this.Fc.addListener(function(){q.YT.set(q.Fc.value===va.am.jf);});this.QP.addListener(function(a){q.Rd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kg(q.qd.value)},q.qD());});this.xm.addListener(function(a){q.Rd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kg(q.qd.value)},q.qD());});this.ij.addListener(function(a){q.Rd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kg(q.qd.value)},q.qD());});this.Ic.addListener(function(a){fa.wa(a.newValue);q.Rd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.wj,To:a.newValue.Vb},a.oldValue&&{FromBcp47:a.oldValue.wj,From:a.oldValue.Vb},{MediaTime:ma.Kg(q.qd.value)});});this.Te.addListener(function(){for(var a=q.cy(),b=a.length,f=0;f<b;f++)a[f].lower=a[f-1],a[f].Yab=a[f+1];});this.kc.addListener(function(a){q.Rd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.wj,To:a.newValue.Vb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.wj,From:a.oldValue.Vb}:{From:"none"},{MediaTime:ma.Kg(q.qd.value)});});this.Mb[c.Sb.G.AUDIO]=new k.fd(null);this.Mb[c.Sb.G.VIDEO]=new k.fd(null);this.Fc.addListener(l,w.nA);this.Fc.addListener(p);this.addEventListener(va.X.Fh,function(){var a,b,f,c;q.X$=!0;q.gK=ta.wl(q.by());q.he("start");a=q.ig.value;b=A._cad_global.prefetchEvents;if(b){f=aa.xb(q.yl?q.yl.audio:0);c=aa.xb(q.yl?q.yl.video:0);b.Fk(q.R,q.la,"notcached"!==q.fu,"notcached"!==q.Bx,!!q.yl,f,c);}q.lS=a.stream.O;});da.ANa(this);r.zq.push(this);y.config.CK&&(this.UT=new ca.ENa(this),this.qjb=new O.INa(this));r.vga.forEach(function(a){a(q);});this.iXa=function(a){var b,f;q.addEventListener(va.X.mz,function(b){b=b.cause;b!==va.Mg.mF&&b!==va.Mg.xA&&a.stop();});q.addEventListener(va.X.Op,function(b){var f,c,d,g,m;f=b.cause;c=b.skip;d=b.d8;g=b.AT;m=b.ia;b=b.Gn;f!==va.Mg.xA&&(y.config.t7a&&f===va.Mg.SY&&q.Mk.b1(),f!==va.Mg.mF&&(c?a.UP(d)?(q.Rd.trace("Repositioned. Skipping from "+g+" to "+d),a.Jj(d),a.play()):q.log.error("can skip returned false"):(q.Rd.trace("Repositioned. Seeking from "+g+" to "+d),a.JU(b,m))));});a.addEventListener("segmentStarting",function(a){q.fireEvent(va.X.hnb,a);});a.addEventListener("lastSegmentPts",function(a){q.fireEvent(va.X.enb,a);});a.addEventListener("segmentPresenting",function(a){q.fireEvent(va.X.k$,a);});a.addEventListener("segmentAborted",function(a){q.fireEvent(va.X.cnb,a);});b="boolean"===typeof q.Za.jC?q.Za.jC:y.config.jC;f=H.da.get(Ya.Nha);a.addEventListener("manifestPresenting",function(a){q.Xya();q.TC=q.Ma.w$;b&&f.jC(q);q.fireEvent(va.X.l7,a);});a.addEventListener("skip",function(a){q.fireEvent(va.X.Jj,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(q.Rd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),q.Rd.trace("StreamingFailure, buffer status:"+JSON.stringify(q.qD())),y.config.O6a&&!q.X$&&Ga.hb(function(){var b;b=H.da.get(x.Rj);q.kd(b(ra.I.DCa,{T:a.nativeCode,Ja:a.errormsg,Ah:a.httpCode,sT:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){q.ZS.push(a);});a.addEventListener("bufferingStarted",function(){q.xm.set(r.Js);});a.addEventListener("locationSelected",function(a){q.fireEvent(va.X.Vu,a);});a.addEventListener("serverSwitch",function(a){var b;q.fireEvent(va.X.OU,a);"video"===a.mediatype?b=c.Sb.G.VIDEO:"audio"===a.mediatype&&(b=c.Sb.G.AUDIO);Da.ab(b)&&q.Mnb(a.server,b);});a.addEventListener("bufferingComplete",function(b){q.Rd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},q.qD());q.Am=b;q.xm.set(r.Tk);v||(v=!0,q.he("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.qhb();q.paused.value||(D=!0,q.paused.set(!0,{k8:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){q.paused.value&&D&&(D=!1,q.paused.set(!1,{k8:!0}));q.eg.Vgb();});a.addEventListener("endOfStream",function(a){q.eg.UJ(a);});a.addEventListener("asereportenabled",function(){q.rl=!0;});a.addEventListener("asereport",function(a){q.fireEvent(va.X.DP,a);});a.addEventListener("aseexception",function(a){q.fireEvent(va.X.CP,a);});a.addEventListener("hindsightreport",function(a){var b,f;b=Da.ka(q.Gf)?0:q.Gf;f=a.report;f&&f.length&&f.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});q.s5={Zlb:f,nbb:a.hptwbr,Ksa:a.htwbr,NT:a.pbtwbr};a.rr&&(q.s5.bza=a.rr);a.ra&&(q.s5.Kkb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;q.pa=a.location.bandwidth;q.kg=a.location.httpResponseTime;q.vpb=a.stat.streamingBitrate;b&&(void 0===q.yx&&(q.yx={interval:y.config.GB,startTime:b.startTime,hr:[],Gs:[]}),q.yx.hr=q.yx.hr.concat(b.hr),q.yx.Gs=q.yx.Gs.concat(b.Gs));a.psdConservCount&&(q.Qxa=a.psdConservCount);});y.config.EWa&&a.addEventListener("currentStreamInfeasible",function(a){q.Dp.tBb(a.newBitrate);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+q.R&&(q.yl=a);});a.addEventListener("startEvent",function(a){A._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&A._cad_global.prefetchEvents.kH(Z.Wd.vi.MEDIA,q.R);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.rH&&a.rH.cadmiumResponse)&&q.fireEvent(va.X.SH,{response:a});});a.addEventListener("streamSelected",function(a){var b,f;a.mediaType===c.Sb.G.VIDEO?(f=q.tsa(a.streamId),b=q.je):a.mediaType===c.Sb.G.AUDIO&&(f=q.nsa(a.streamId),b=q.Oi);f&&b?b.set(f,{qna:a.movieTime,HYa:a.bandwidth}):q.Rd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,f;if("string"===typeof a.target&&"object"===typeof a.fields){b=q.hD[a.target];f=Da.ka(q.Gf)?q.Gf:0;b||(b=q.hD[a.target]={});Object.keys(a.fields).forEach(function(c){var d,g,m,p;d=a.fields[c];if("object"!==typeof d||null===d)b[c]=d;else{g=d.type;if("count"===g)void 0===b[c]&&(b[c]=0),++b[c];else if(void 0!==d.value)if("array"===g){g=b[c];m=d.adjust;p=d.value;g||(g=b[c]=[]);m&&0<m.length&&m.forEach(function(a){p[a]-=f||0;});g.push(p);}else"sum"===g?(void 0===b[c]&&(b[c]=0),b[c]+=d.value):b[c]=d.value;else b[c]=d;}});}});};this.Ic.addListener(function(a){var b;if(q.gb)if(a.ou&&a.ou.reset)q.Rd.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;q.gb.Ypb({CB:b.jy,toJSON:function(){return b.Hf;}})?q.Rd.trace("ASE accepted the audio track switch"):(q.Rd.trace("ASE rejected the audio track switch"),a.oldValue.jy!==b.jy&&q.Ic.set(a.oldValue,{reset:!0}));}});this.addEventListener(va.X.zx,function(a){a.cause==r.rga&&(q.QP.set(r.Js),q.gb.xrb(q.eg.nra()));});}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);h=a(187);l=a(179);f=a(178);p=a(122);m=a(278);q=a(554);u=a(276);x=a(63);v=a(553);z=a(274);w=a(6);k=a(174);y=a(9);E=a(68);n=a(273);G=a(55);r=a(41);L=a(92);O=a(272);t=a(271);V=a(550);da=a(267);S=a(293);U=a(21);H=a(3);Y=a(218);aa=a(4);ra=a(2);Z=a(112);Q=a(22);ka=a(217);fa=a(12);ma=a(93);ta=a(17);ga=a(33);Ga=a(42);Da=a(15);tb=a(104);ib=a(266);Ma=a(328);F=a(130);R=a(173);wd=a(18);ca=a(265);mb=a(37);a(125);a(57);a(165);va=a(16);hb=a(180);Qa=a(393);cb=a(549);sb=a(185);Ta=a(61);Ua=a(106);Ya=a(294);Kb=a(24);tc=a(45);Ja=a(85);ba=a(19);ea=a(123);ha=a(177);sf=a(263);a(83);ja=a(379);b.prototype.Qbb=function(){var a;a=this;this.Ic.addListener(function(b){return a.va.Ic.set(b.newValue);});this.Te.addListener(function(b){return a.va.Te.set(b.newValue);});this.kc.addListener(function(b){return a.va.kc.set(b.newValue);});this.Mi.addListener(function(b){return a.va.Mi.set(b.newValue);});this.Xp.addListener(function(b){return a.va.Xp.set(b.newValue);});this.je.addListener(function(b){return a.va.je.set(b.newValue);});this.Oi.addListener(function(b){return a.va.Oi.set(b.newValue);});this.Xya();};b.prototype.Xya=function(){this.va!==this.l$&&(this.Pz(function(a){return a.Ic;},this.Frb),this.Pz(function(a){return a.Te;},this.Srb),this.Pz(function(a){return a.Xp;},this.Mrb),this.Pz(function(a){return a.kc;},this.Nrb),this.Pz(function(a){return a.Mi;},this.Drb),this.Pz(function(a){return a.je;},this.Rrb),this.Pz(function(a){return a.Oi;},this.Erb),this.kc.set(this.va.kc.value),this.Ic.set(this.va.Ic.value),this.Te.set(this.va.Te.value),this.Mi.set(this.va.Mi.value),this.Xp.set(this.va.Xp.value),this.je.set(this.va.je.value),this.Oi.set(this.va.Oi.value),this.l$=this.va);};b.prototype.Pz=function(a,b){this.l$&&a(this.l$).removeListener(b);a(this.va).addListener(b);};b.prototype.load=function(a){var b;b=this;this.load=function(){};this.uxa=a;this.state.value==r.tA&&(this.log.info("Playback loading",this),this.Ogb(),this.he("asl_load_start"),Da.ab(ba.KS)?Da.ab(ba.H6)?this.he("asl_ended"):this.he("asl_in_progress"):this.he("asl_not_started"),ba.tJ(function(a){b.he("asl_load_complete");a.S?b.f2a():b.oo(a.errorCode||ra.I.Jda,a);}));};b.prototype.zjb=function(){var a;try{if(this.state.value===va.Lg.IY){this.K8=aa.xb(this.Fa.duration);a={width:1,height:1};this.cy().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.LE=a;this.wx=H.da.get(ka.nW).Zla({FE:aa.xb(this.U),R:this.R,TT:this.QB,Za:this.Za}).na(aa.Ba);this.oma();this.I2a();}}catch(tf){this.oo(ra.I.tIa,{T:ra.H.pg,Ja:ta.$c(tf)});}};b.prototype.Qla=function(a,b,f,c,d){var g;c=void 0===c?this.fy.xH():c;d=void 0===d?aa.xb(U.xc()):d;g=this.pv.length;this.pv.push(new cb.HNa(r.wY.zNa++,g,a,b,f,c,d,this.va));return g;};b.prototype.l4=function(a){var b;if(y.config.T2)return h.Tna.k4(a);a=a||w.Qb;b={success:!1,name:null,isCongested:null};a(b);return b;};b.prototype.GC=function(a){return this.pv[a];};b.prototype.b$a=function(a){return this.pv.find(function(b){b=b.bg;return!!b&&!!b.Pta&&b.Pta.sessionId===a;})||this;};b.prototype.Fkb=function(a,b){var f,c;b=void 0===b?!0:b;f=this;c=this.GC(a);return this.yza(c).then(function(a){if(!f.gb)throw Error("No streaming session");f.JT(a,c);f.gb.NG(c.Fa,{Bs:[c.Ob.Qoa,c.Ob.Uoa],replace:!1,U:c.Za.U,ea:c.Za.ea,N8:!0,NB:!c.Qu,tx:b});return f.jb.Wi.Sza("cenc",c).then(function(){return f.gb.NQ(""+c.R);});})["catch"](function(a){return f.log.error("send manifest request failed",a);});};b.prototype.he=function(a){this.J8.il(a);};b.prototype.g8a=function(){if(Da.ka(this.rd.ats)&&Da.ka(this.rd.at))return this.rd.at-this.rd.ats;};b.prototype.Yqa=function(){var a,b;a=this.SL();b=this.XG();return Math.min(a,b);};b.prototype.t9a=function(){if(Da.ka(this.rd.shs)&&Da.ka(this.rd.sh))return this.rd.sh-this.rd.shs;};b.prototype.cL=function(){this.background||(this.Rd.info("Starting inactivity monitor for movie "+this.R),new n.NIa(this));};b.prototype.close=function(a){a&&(this.state.value==r.KF?a():this.addEventListener(va.X.closed,function(){a();}));this.T$();};b.prototype.kd=function(a,b){var f,c,d;f=this;if(this.state.value==r.tA)this.Bh||(this.Bh=a,this.load());else{b&&(this.state.value==r.KF?b():this.addEventListener(va.X.closed,function(){b();}));c=function(){f.T$(a);};d=y.config.Woa&&a&&y.config.Woa[a.errorCode];Da.Pu(d)&&(d=ta.Ad(d));this.Rd.error("Fatal playback error",{Error:""+a,HandleDelay:""+d});0<=d?setTimeout(c,d):c();}};b.prototype.GL=function(){this.Tb.wb(va.X.GL);};b.prototype.v7a=function(){this.sqa();};b.prototype.H4=function(){var a;a=this.gb;return a&&(a=a.ma.bj.qa.id,void 0!==a)?a:null;};b.prototype.ay=function(){return void 0!==this.Xna&&void 0===this.gb?this.Xna:this.HI(this.qd.value);};b.prototype.G4=function(){return this.HI(this.eg.nra());};b.prototype.CR=function(){var a;a=this.Fa.choiceMap;if(a)return a.segments;};b.prototype.Krb=function(a){this.Za=F.yfb(this.Za,a);this.oma();};b.prototype.cy=function(){return this.Te.value?this.Te.value.qc:[];};b.prototype.Jab=function(a){var f;for(var b=0;b<this.pv.length;b++){f=this.GC(b).Yh;if(f=f&&f.find(function(b){return b.id===a;}))return f;}};b.prototype.nsa=function(a){var f;for(var b=0;b<this.pv.length;b++){f=this.GC(b).Ic.value;if(f=f&&f.qc.find(function(b){return b.md===a;}))return f;}};b.prototype.tsa=function(a){var f;for(var b=0;b<this.pv.length;b++){f=this.GC(b).Te.value;if(f=f&&f.qc.find(function(b){return b.md===a;}))return f;}};b.prototype.In=function(){var a,b,f,d,g,m,p;a=this;b=void 0;f=a.cy().filter(function(f){var c;c=a.G7.us(f);c&&(b=b||[],b.push({stream:f,$B:c}));return!c;});0===f.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var c=0;c<f.length;c++)f[c].lower=f[c-1],f[c].Yab=f[c+1];if(a&&a.gb){d=[];a.cy().forEach(function(a){-1==d.indexOf(a.Me)&&d.push(a.Me);});g=null;m=null;f.forEach(function(a){null===g?m=g=a.O:m<a.O?m=a.O:g>a.O&&(g=a.O);});p=[];d.forEach(function(a){var f;f={ranges:[]};f.profile||(f.profile=a);g&&m&&(f.ranges.push({min:g,max:m}),b&&(f.disallowed=b.filter(function(b){return b.stream.Me===a;})),p.push(f));});a.gb.VU(p);}return f;};b.prototype.QC=function(a){var b;b=this;ta.pc(a,function(a,f){b.J8.il(a,aa.xb(f-b.Rm.na(aa.Ba)));});};b.prototype.UU=function(a){this.Iz=a;};b.prototype.Gcb=function(){return"trailer"===this.uc;};b.prototype.mta=function(){return!!this.uc&&0<=this.uc.indexOf("billboard");};b.prototype.Kcb=function(){return!!this.uc&&0<=this.uc.indexOf("video-merch");};b.prototype.XC=function(){return this.Gcb()||this.mta()||this.Kcb();};b.prototype.q$a=function(){return{tr:this.Faa,rt:this.O9};};b.prototype.Lr=function(a){return this.hD[a];};b.prototype.FZa=function(){return this.Iz?U.xc()-this.Iz:U.pH()-this.yR();};b.prototype.MZa=function(){var a;if(this.Iz)return U.xc()-this.Iz;a=H.da.get(Kb.Ue).cD;return this.nxa-(this.Rm.na(aa.Ba)+a.na(aa.Ba));};b.prototype.LZa=function(){return this.Iz?U.xc()-this.Iz:this.nxa-this.yR();};b.prototype.Hgb=function(a){var b,f;b=this.Gf;f={};ta.pc(a,function(a,c){f[a]=c.map(function(a){return a-b;});});return f;};b.prototype.o8a=function(){var a,b;a=this.Gf;b={};ta.pc(this.O0,function(f,c){b[f]=c.map(function(b){return b-a;});});return m.mr?{level:m.mr.vra(),charging:m.mr.h4(),statuses:b}:null;};b.prototype.PR=function(){this.rqa();return this.TL;};b.prototype.yR=function(){var a;a=this.Za.FV;a=Da.ka(a)?a:this.Rm.na(aa.Ba)+U.H_a();fa.wa(Da.Ou(a));return a;};b.prototype.by=function(){return U.xc()-this.Rm.na(aa.Ba);};b.prototype.gob=function(){this.TL.HasRA=!0;};b.prototype.Hsb=function(){this.Bob=!0;};b.prototype.ewa=function(){this.qya();};b.prototype.SL=function(){var a;a=this.FP();return a&&a.vbuflmsec||0;};b.prototype.XG=function(){var a;a=this.FP();return a&&a.abuflmsec||0;};b.prototype.dba=function(){var a;a=this.FP();return a&&a.vbuflbytes||0;};b.prototype.C0=function(){var a;a=this.FP();return a&&a.abuflbytes||0;};b.prototype.yza=function(a){var b,f,c;a=void 0===a?this:a;b=H.da.get(sb.TX);f=y.config.hU.enabled?Ta.dd.jn.Nga:this.XC()?Ta.dd.jn.kha:Ta.dd.jn.bm;c=a.Za;a={la:this.la,oi:b.Dna(c.DB,c.oi),ke:a.R,Sr:!!c.rf,oI:f,Xy:c.Xy};if(c.aj||y.config.hU.enabled&&Da.Pu(y.config.hU.aj))a.aj=c.aj?String(c.aj):y.config.hU.aj;c=H.da.get(Ua.sA)();return b.DC(a,c);};b.prototype.JT=function(a,b){b=void 0===b?this:b;b.Fa=a;a=this.bTa.create(this).JT(a);b.Ob=a;b.Te.set(a.z2);b.Ic.set(a.t2);b.kc.set(a.y2);};b.prototype.f2a=function(){try{this.profile=ea.Vg.profile;this.yh=ha.SEa(this);this.gD=this.keb.create(this);y.config.YZa&&new sf.jHa(this,this.log);y.config.mH&&this.mH(this);this.osb();}catch(Wb){this.oo(ra.I.sIa,{T:ra.H.pg,Ja:ta.$c(Wb)});}};b.prototype.osb=function(){this.Bh?this.kd(this.Bh):Da.xta(this.R)?this.p_a():this.oo(ra.I.hIa);};b.prototype.p_a=function(){var a;a=l.qE.Jza;a?a.S?this.z1():this.oo(ra.I.gea,a):(fa.wa(!y.config.XQ),this.Y_());};b.prototype.z1=function(){var a;a=this;!this.background&&y.config.z1?r.uga(function(){a.Y_();},this):this.Y_();};b.prototype.Y_=function(){var a;a=this;this.state.value==r.$l&&(y.config.d3&&!this.XC()?l.qE.wB(r.yNa,function(b){b.S?(a.OS=b.OS,y.config.MU?a.$G():a.r$()):a.oo(ra.I.fea);}):y.config.MU?this.$G():this.r$());};b.prototype.r$=function(){var a;a=this;this.state.value==r.$l&&(this.he("ic"),this.fjb.onb(function(b){b.error&&a.log.error("Error sending persisted playdata",ra.hn(b));try{a.$G();}catch(Pc){a.log.error("playback.authorize threw an exception",Pc);a.oo(ra.I.OCa,{T:ra.H.pg,Ja:ta.$c(Pc)});}}));};b.prototype.$G=function(){var a,b;a=this;if(this.state.value==r.$l){this.log.info("Authorizing",this);b=U.xc();this.he("ats");this.yh.$G(function(f){var c;if(a.state.value==r.$l){a.he("at");c=a.Fa;a.QC({pr_ats:c&&Da.ab(c.oz)?c.oz:b,pr_at:c&&Da.ab(c.VD)?c.VD:U.xc()});f.S?0<a.Ob.Yh.length&&a.Ob.t2&&a.Ob.z2&&a.Ob.y2?a.ikb():a.oo(ra.I.DJa,a.Eeb(a.Ob)):a.oo(ra.I.MANIFEST,f);}});}};b.prototype.ikb=function(){var a;a=this;this.uxa?(this.log.info("Processing post-authorize",this),this.uxa(this,function(b){b.S?a.EBa():a.oo(ra.I.xIa,b);})):this.EBa();};b.prototype.EBa=function(){var b,f,d,g;b=this;if(this.state.value==r.$l){f={};this.Mk=p.fk;y.config.s7a&&this.Mk.b1();p.ek.set(a(148)(y.config),!0,H.yd("ASE"));y.config.u0a&&3E5>this.Fa.duration?p.ek.CD({expandDownloadTime:!1},!0,this.Rd):p.ek.CD({expandDownloadTime:p.ek.bxa().expandDownloadTime},!0,this.Rd);this.background||y.config.Ajb&&"postplay"===this.uc?p.ek.CD({initBitrateSelectorAlgorithm:"historical"},!0,this.Rd):p.ek.CD({initBitrateSelectorAlgorithm:p.ek.bxa().initBitrateSelectorAlgorithm},!0,this.Rd);g=this.Te&&this.Te.value&&this.Te.value.qc;g&&g.length&&(d=g[0].Me);p.ek.CD(y.Qna(this.Za.rf,this.Za.c6,d),!0,this.Rd);f=H.da.get(Q.Je).Bk(f,y.Rna(this.uc));this.wpb=p.ek.ip(f);c.platform.events.emit("networkchange",this.Ob.Inb);this.Mk.KBa({In:function(){return b.In();},EI:function(){return b.EI();},WI:function(){return b.WI();}});this.zjb();}};b.prototype.I2a=function(){var a,b,f,c;a=this;try{this.jb=new q.qKa(this);this.jb.open();b=new Promise(function(b){a.jb.addEventListener(R.mh.oAa,function(){b();});});this.eg=new ib.uKa(this);f={ai:!1,IE:y.config.IE,JV:y.config.RQ,teb:!1,NB:!this.Qu,N8:!!this.Za.c6,ea:this.Za.ea};this.Fa.cdnResponseData&&(this.gQ=this.Fa.cdnResponseData.pbcid,this.Fa.cdnResponseData.sessionABTestCell&&(this.yv=this.Fa.cdnResponseData.sessionABTestCell));c={Zy:this.log,Dp:this.Dp,sessionId:this.R+"-"+this.la,la:this.la,MT:this.gQ,dg:tb.yg?tb.yg.dg:void 0,fpa:0===y.config.TH||0!==this.la%y.config.TH?!1:!0};this.Fpa=c.fpa;this.gb=this.Mk.yr(this.Fa,[this.Ob.Qoa,this.Ob.Uoa],this.U,f,c,void 0,{de:function(){return a.qd.value;},E4:function(){return a.jb;}},this.wpb);this.iXa(this.gb);b.then(function(){a.state.value!==r.LF&&a.state.value!==r.KF&&a.gb.open();});this.qd.set(this.U);this.bn=new v.PPa(this);if("boolean"===typeof this.Za.UD?this.Za.UD:y.config.UD)this.xL=new V.QPa(this);this.ko=new t.wNa(this);this.cL();r.wga.forEach(function(b){b(a);});this.Ngb();}catch(pf){this.oo(ra.I.uIa,{T:ra.H.pg,Ja:ta.$c(pf)});}};b.prototype.Ogb=function(){fa.wa(this.state.value==r.tA);this.log.j.Gf=this.Gf=U.xc();this.state.set(r.$l);A._cad_global.prefetchEvents&&A._cad_global.prefetchEvents.njb(this.R);};b.prototype.oo=function(a,b){var f;if(!this.done){this.done=!0;f=H.da.get(x.Rj);b instanceof tc.Wb?this.kd(f(b.code,b)):this.kd(f(a,b));}};b.prototype.mH=function(a){var f,c;function b(){var b,c;b=m.mr.h4()+"";c=a.O0[b];c||(c=a.O0[b]=[]);c.push(U.xc());f.log.trace("charging change event",{level:m.mr.vra(),charging:m.mr.h4()});}f=this;c=m.mr.$Da;m.mr.addEventListener(c,b);a.addEventListener(va.X.De,function(){m.mr.removeEventListener(c,b);});};b.prototype.T$=function(a){var b;b=this;if(this.state.value==r.tA||this.state.value==r.$l||this.state.value==r.ln){this.Rd.info("Playback closing",this,a?{ErrorCode:a.FQ}:void 0);G.ee.removeListener(G.sk,this.vwa);this.Bh=a;this.rqa();this.gb&&this.gb.flush();try{this.Tb.wb(va.X.De);}catch(Pc){this.Rd.error("Unable to fire playback closing event",Pc);}this.state.set(r.LF);this.Xna=this.ay();this.zCa();this.Bob||Ga.hb(function(){return b.qya();});}};b.prototype.sqa=function(){var a;a=this.qd.value;this.jdb!=a&&(this.jdb=a,this.Tb.wb(va.X.raa));};b.prototype.HI=function(a){a=void 0===a?null:a;return Da.ka(a)?this.gb?this.gb.TB(this.ia,a):a:null;};b.prototype.qya=function(){var a,b;a=this;fa.wa(this.state.value==r.LF);b=this.OS;this.OS=void 0;b?l.qE.release(b,function(b){fa.wa(b.S);a.F1();}):this.F1();};b.prototype.zCa=function(){this.gb&&(this.gb.close(),this.gb.Jd());this.Mk&&this.Bh&&this.Mk.b1();delete this.gb;delete this.Mk;};b.prototype.F1=function(){var a;this.F1=w.Qb;fa.wa(this.state.value==r.LF);a=r.zq.indexOf(this);fa.wa(0<=a);r.zq.splice(a,1);this.state.set(r.KF);this.Tb.wb(va.X.closed,void 0,!0);this.Tb.cC();delete this.bg;this.yva.Klb(this.la);};b.prototype.oma=function(){this.Za.playbackState&&("number"===typeof this.Za.playbackState.volume&&this.volume.set(this.Za.playbackState.volume),"boolean"===typeof this.Za.playbackState.muted&&this.muted.set(this.Za.playbackState.muted));};b.prototype.rqa=function(){this.Tb.wb(va.X.eAa,{TL:this.TL});};b.prototype.Mnb=function(a,b){var f;f=this.Yh.filter(function(b){return b.id===a;})[0];f&&this.Mb[b].set(f);};b.prototype.qD=function(){return{AudioBufferLength:this.XG(),VideoBufferLength:this.SL()};};b.prototype.FP=function(){if(this.gb)return this.gb.W5(!1);};b.prototype.EI=function(){return this.aka;};b.prototype.WI=function(){this.aka++;};b.prototype.Ngb=function(){this.state.value==r.$l&&this.state.set(r.ln);};na.Object.defineProperties(b.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.pv[this.gb&&this.gb.ND||0];}},U:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.wx?this.wx:this.GC(0).Za.U||0;}},Ob:{configurable:!0,enumerable:!0,get:function(){return this.va.Ob;},set:function(a){this.va.Ob=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.va.profile;},set:function(a){this.va.profile=a;}},pR:{configurable:!0,enumerable:!0,get:function(){return this.va.Za.pR;}},qR:{configurable:!0,enumerable:!0,get:function(){return this.va.Za.qR;}},index:{configurable:!0,enumerable:!0,get:function(){return this.va.index;}},bg:{configurable:!0,enumerable:!0,get:function(){return this.va.bg;},set:function(a){this.va.bg=a;}},gK:{configurable:!0,enumerable:!0,get:function(){return this.va.gK;},set:function(a){this.va.gK=a;}},fu:{configurable:!0,enumerable:!0,get:function(){return this.va.fu;},set:function(a){this.va.fu=a;}},Bx:{configurable:!0,enumerable:!0,get:function(){return this.va.Bx;},set:function(a){this.va.Bx=a;}},lS:{configurable:!0,enumerable:!0,get:function(){return this.va.lS;},set:function(a){this.va.lS=a;}},Fa:{configurable:!0,enumerable:!0,get:function(){return this.va.Fa;},set:function(a){this.va.Fa=a;}},wx:{configurable:!0,enumerable:!0,get:function(){return this.va.wx;},set:function(a){this.va.wx=a;}},qL:{configurable:!0,enumerable:!0,get:function(){return this.va.qL;},set:function(a){this.va.qL=a;}},Za:{configurable:!0,enumerable:!0,get:function(){return this.va.Za;},set:function(a){this.va.Za=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.va.ia;}},R:{configurable:!0,enumerable:!0,get:function(){return this.va.R;}},uc:{configurable:!0,enumerable:!0,get:function(){return this.va.uc;},set:function(a){this.va.uc=a;}},wm:{configurable:!0,enumerable:!0,get:function(){return this.va.wm;}},cq:{configurable:!0,enumerable:!0,get:function(){return this.va.cq;}},Ds:{configurable:!0,enumerable:!0,get:function(){return this.va.Ds;}},jj:{configurable:!0,enumerable:!0,get:function(){return this.va.jj;}},cf:{configurable:!0,enumerable:!0,get:function(){return this.va.cf;}},Qu:{configurable:!0,enumerable:!0,get:function(){return this.va.Qu;}},po:{configurable:!0,enumerable:!0,get:function(){return this.va.po;}},zj:{configurable:!0,enumerable:!0,get:function(){return this.va.zj;}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.va.Yh;}},$T:{configurable:!0,enumerable:!0,get:function(){return this.va.$T;}},QB:{configurable:!0,enumerable:!0,get:function(){return this.va.QB;}},la:{configurable:!0,enumerable:!0,get:function(){return this.va.la;}},Pf:{configurable:!0,enumerable:!0,get:function(){return this.va.Pf;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.va.Rm;}},TC:{configurable:!0,enumerable:!0,get:function(){return this.va.TC;},set:function(a){this.va.TC=a;}},rd:{configurable:!0,enumerable:!0,get:function(){return this.J8.rd;}}});d.DNa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rba="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nha="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.em||(d.em={});g[g.aN=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.qF=3]="LOAD_FAILED";g[g.Gfa=4]="PARSE_FAILED";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(98);c=[137,66,73,70,13,10,26,10];d.Aib=function(a){var d,f;if(!a)throw Error("invalid array buffer");d=new Uint8Array(a);a=new b(d);f=function(a){var b,f,d,g;if(a.xl()<c.length+4+4+4+44)throw Error("array buffer too short");c.forEach(function(b){if(b!=a.eh())throw Error("BIF has invalid magic.");});b=a.xK();if(0<b)throw Error("BIF version in unsupported");f=a.xK();if(0==f)throw Error("BIF has no frames.");d=a.xK();g=a.He(44);return{version:b,ahb:f,gBa:d,emb:g};}(a);a=function(a){var g,p;for(var b=[],c=0;c<=f.ahb;c++){p={timestamp:a.xK(),offset:a.xK()};void 0!=g&&b.push(d.subarray(g.offset,p.offset));g=p;}return b;}(a);return{tk:f,images:a};};},function(g,d,a){var q,u;function b(a){return!(!a||!a.Wy&&!a.pboc||!a.code&&!a.code);}function c(a){return!(!a||!a.tc);}function h(a){return!!(a instanceof Error);}function l(a){switch(a){case"ACCOUNT_ON_HOLD":return u.H.zLa;case"STREAM_QUOTA_EXCEEDED":return u.H.DLa;case"INSUFFICICENT_MATURITY":return u.H.FLa;case"TITLE_OUT_OF_WINDOW":return u.H.LLa;case"CHOICE_MAP_ERROR":return u.H.CLa;case"BadRequest":return u.H.HLa;case"Invalid_SemVer_Format":return u.H.GLa;case"RESTRICTED_TO_TESTERS":return u.H.KLa;case"AGE_VERIFICATION_REQUIRED":return u.H.ALa;case"BLACKLISTED_IP":return u.H.BLa;case"DEVICE_EOL_WARNING":return u.H.lY;case"DEVICE_EOL_FINAL":return u.H.Ifa;case"INCORRECT_PIN":return u.H.Jfa;case"MOBILE_ONLY":return u.H.JLa;case"MDX_CONTROLLER_CTICKET_INVALID":return u.H.ILa;default:return u.H.tda;}}function f(a,b){return new q.Wb(a,l(b.code),"BadRequest"===b.code?u.GX.DDa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function p(a,b){return new q.Wb(a,b.tc,b.Df,void 0,b.Fp,b.message,b.ZB,b.data);}function m(a,b){return new q.Wb(a,u.H.pg,void 0,void 0,void 0,void 0,b.message,b.stack);}Object.defineProperty(d,"__esModule",{value:!0});q=a(45);u=a(2);d.ucb=b;d.EFb=c;d.rS=h;d.wEb=l;d.op=function(a,d){return c(d)?p(a,d):b(d)?f(a,d):h(d)?m(a,d):new q.Wb(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.xEb=f;d.uEb=p;d.vEb=m;d.oZa=function(a,b,f){var c,d,g;a=a.Qpa;c=b.Iza[f];if(void 0===c)throw{Wy:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no configuration information",detail:b};d=c.version;if(void 0===d)throw{Wy:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no version information",detail:b};g=b.Vi&&c.serviceNonMember?c.serviceNonMember:c.service;if(void 0===g)throw{Wy:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no service information",detail:b};c=c.orgOverride;if(void 0===c&&(c=b.Jwa,void 0===c))throw{Wy:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no organization information",detail:b};return a+"/"+c+"/"+g+"/"+d+"/router";};d.aCb=function(){return{"Content-Type":"text/plain"};};d.nZa=function(a,b,f,c,d,g,m){return{version:c.version,url:b,id:a,esn:f,languages:c.languages,uiVersion:c.Kz,clientVersion:d.version,params:g,echo:m};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lha="TransportFactorySymbol";d.mfa="MslTransportSymbol";d.oha="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cga="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.yi||(d.yi={});g.cd={Afa:"mr1",zfa:"mr2",Bfa:"mr3",DF:"mr4",mLa:"mr5",qw:"mr6"};g.Eb={UNSENT:0,OPENED:1,dt:2,uw:3,DONE:5,oq:6,Qv:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};g.pzb={qba:0,xw:1,sfa:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};g.Ns={NO_ERROR:-1,IFa:0,Eca:1,UFa:2,MFa:3,hEa:4,dca:5,oW:6,iEa:7,jEa:8,kEa:9,eEa:10,gEa:11,cca:12,fEa:13,dEa:14,JHa:15,Bda:16,Ada:17,CX:18,NM:19,DX:20,EX:21,LHa:22,OM:23,Cda:24,KHa:25,PFa:26,JFa:27,JOa:28,zFa:29,AFa:30,BFa:31,CFa:32,DFa:33,EFa:34,FFa:35,GFa:36,HFa:37,KFa:38,LFa:39,NFa:40,OFa:41,QFa:42,RFa:43,SFa:44,TFa:45,VFa:46,WFa:47,IOa:48,TIMEOUT:49,AX:50,yda:51,IHa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cfa="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gga="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bia="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wfa="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dea="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vca="DxManagerSymbol";d.Uca="DxManagerProviderSymbol";},function(g,d,a){var c,h,l,f,p;function b(a,b,c){this.mc=a;this.is=b;this.prefix=c;this.oK=this.Cl=!1;this.Zma=new f.bQa(b);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);l=a(23);f=a(593);p=a(5);d.sEa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.tEa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.uEa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.UE="";b.prototype.show=function(){this.Cl||(this.h0a(),this.SB&&p.ud.body.appendChild(this.SB),this.sf&&p.ud.body.appendChild(this.sf),this.dH&&p.ud.body.appendChild(this.dH),this.wz&&p.ud.getElementsByTagName("head")[0].appendChild(this.wz),this.Cl=!0,this.refresh());};b.prototype.ey=function(){this.Cl&&(this.sf&&p.ud.body.removeChild(this.sf),this.dH&&p.ud.body.removeChild(this.dH),this.SB&&p.ud.body.removeChild(this.SB),this.wz&&p.ud.getElementsByTagName("head")[0].removeChild(this.wz),this.wz=this.sL=this.SB=this.dH=this.sf=void 0,this.Cl=!1);};b.prototype.toggle=function(){this.Cl?this.ey():this.show();};b.prototype.Jqb=function(){(this.oK=!this.oK)||this.refresh();};b.prototype.s8a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.h0a=function(){var a;a=this;this.wz=p.ud.createElement("style");this.wz.type="text/css";this.wz.innerHTML=this.s8a(this.prefix);this.dH=this.mc.createElement("div",d.sEa,void 0,{"class":this.prefix+"-display-blur"});this.sf=this.mc.createElement("div",d.tEa,void 0,{"class":this.prefix+"-display"});this.SB=this.mc.createElement("div",d.uEa,void 0,{"class":this.prefix+"-display"});this.fra().forEach(function(b){return a.SB.appendChild(b);});};b.prototype.i0a=function(a){a=this.mc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),f=0;f<b.length;f++)b[f].addEventListener("click",function(a){var b,f;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{f=a.querySelectorAll(":scope .open");for(a=0;a<f.length;a++)f[a].classList.remove("open");}catch(w){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.Cl||this.oK?Promise.resolve():this.oya().then(function(b){if(b&&(b=a.i0a(b),a.sf)){a.sL&&(a.sf.removeChild(a.sL),a.sL=void 0);a.sL=b;a.sf.appendChild(a.sL);b=a.sf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var f=0;f<b.length;++f)b[f].addEventListener("click",a.$ya);(b=a.sf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};b.prototype.coa=function(a){var b;if(p.ud.queryCommandSupported&&p.ud.queryCommandSupported("copy")){b=p.ud.createElement("textarea");b.textContent=a;b.style.position="fixed";p.ud.body.appendChild(b);b.select();try{p.ud.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{p.ud.body.removeChild(b);}}};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Je)),g.__param(1,c.l(l.we)),g.__param(2,c.Hg())],a);d.nN=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tca="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rY={kJ:"keepAlive",resume:"resume",pause:"pause",splice:"splice"};d.dga="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aga="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bga="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fga="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ega="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oga="PboReleaseLicenseCommandSymbol";},function(g,d,a){var f,p,m,q,u,x;function b(a){var b;a=new m(a);if(1481462272!=a.Ea())throw Error("Invalid header");b={XMR:{Version:a.Ea(),RightsID:a.Jk(16)}};c(a,b.XMR,a.buffer.byteLength);return b;}function c(a,b,f){var d,g,m,p,q;for(;a.position<f;){d=a.yb();g=a.Ea();g=g-8;switch(d){case 1:m="OuterContainer";break;case 2:m="GlobalPolicy";break;case 3:m="MinimumEnvironment";break;case 4:m="PlaybackPolicy";break;case 5:m="OutputProtection";break;case 6:m="UplinkKID";break;case 7:m="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:m="AnalogVideoOutputConfiguration";break;case 9:m="KeyMaterial";break;case 10:m="ContentKey";break;case 11:m="Signature";break;case 12:m="DeviceIdentification";break;case 13:m="Settings";break;case 18:m="ExpirationRestriction";break;case 42:m="ECCKey";break;case 48:m="ExpirationAfterFirstPlayRestriction";break;case 50:m="PlayReadyRevocationInformationVersion";break;case 51:m="EmbeddedLicenseSettings";break;case 52:m="SecurityLevel";break;case 54:m="PlayEnabler";break;case 57:m="PlayEnablerType";break;case 85:m="RealTimeExpirationRestriction";break;default:m="Other";}p={Type:h(d)};q=b[m];q?x.isArray(q)?q.push(p):(b[m]=[],b[m].push(q),b[m].push(p)):b[m]=p;switch(d){case 1:case 2:case 4:case 7:case 9:case 54:c(a,p,a.position+g);break;case 5:p.Reserved1=a.yb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.yb();p.MinimumAnalogVideoOutputProtectionLevel=a.yb();p.Reserved2=a.yb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.yb();break;case 10:p.Reserved=a.Jk(16);p.SymmetricCipherType=a.yb();p.AsymmetricCipherType=a.yb();g=a.yb();p.EncryptedKeyLength=g;d=a.Jk(g);p.EncryptedKeyData=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 11:p.SignatureType=a.Jk(2);g=a.yb();d=a.Jk(g);p.SignatureData=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 13:p.Reserved=a.yb();break;case 18:p.BeginDate=a.Ea();p.EndDate=a.Ea();break;case 42:p.CurveType=a.Jk(2);g=a.yb();d=a.Jk(g);p.Key=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 48:p.ExpireAfterFirstPlay=a.Ea();break;case 50:p.Sequence=a.Ea();break;case 51:p.LicenseProcessingIndicator=a.yb();break;case 52:p.MinimumSecurityLevel=a.yb();break;case 57:p.PlayEnablerType=l(a.Jk(16));break;case 85:break;default:p.OtherData=a.Jk(g);}}}function h(a){return"0x"+a.toString(16);}function l(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});f=a(6);p=a(3);m=a(98);q=a(126);u=a(189);x=a(15);d.hDb=function(a,c,d){switch(c){case f.LW:a&&(a=p.OYa(a),u.sCa(a,function(a){a.S&&(a=a.object)&&(a=q.N8a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=q.yib(a))&&(a=p.Bn(a))&&(a=b(a))&&d(a);}));}};d.iDb=b;d.jDb=c;d.lDb=h;d.kDb=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$fa="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iga="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tca="ControlProtocolSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eda="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pda="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vfa="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cia="XhrFactorySymbol";},function(g,d,a){var c,h,l,f,p,m,q,u,x;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(146);h=a(75);l=a(17);f=a(2);p=a(12);m=a(5);q=a(15);u=a(1);a=a(20);b.prototype.construct=function(a,b){var f,c,d;f=this;c={};a.forEach(function(a){var b;b=a.url;c[b]||(c[b]=[]);c[b].push(a);});d=[];l.pc(c,function(a,c){d.push(f.fab(c,b));});return{urls:d};};b.prototype.fab=function(a,b){var f,c,d,g;f=this;c=a[0];d={url:c.url,bitrate:c.O,cdnid:q.pe(c.Mb)?c.Mb.id:c.Mb,dltype:c.w4a,id:c.md};g={};a.forEach(function(a){var b;b=f.lcb(a)?"fail":"success";g[b]||(g[b]=[]);g[b].push(a);});l.pc(g,function(a,c){"fail"===a?d.failures=f.e9a(c,b):"success"===a&&(d.downloads=f.W8a(c,b));});return d;};b.prototype.W8a=function(a,b){var f,c,d;f=this;c={};a.forEach(function(a){var b;b=a.D_a;c[b]||(c[b]=[]);c[b].push(a);});d=[];l.pc(c,function(a,c){var g;g=[];c.forEach(function(c){g.push(c);f.ccb(c)&&(d.push(f.jra(g,b,a)),g=[]);});0<g.length&&d.push(f.jra(g,b,a));});return d;};b.prototype.jra=function(a,b,f){var l;for(var c=a.sort(function(a,b){return a.Xi.Lf<b.Xi.Lf?-1:a.Xi.Lf>b.Xi.Lf?1:0;}),d=c[0].Xi,g=d.requestTime,m=d.Lf,d=d.Kk,p=1;p<a.length;p++){l=a[p].Xi;l.requestTime<g&&(g=l.requestTime);l.Lf<m&&(m=l.Lf);l.Kk>d&&(d=l.Kk);}p=this.h$a(c);l=c[c.length-1];b={time:g-b,tcpid:f?parseInt(f):-1,tresp:m-g,first:p,ranges:this.i$a(c,p),dur:d-m,trace:this.X$a(a),status:this.KR(l)};this.config().UH&&this.config().UH.length&&(b.servertcp=this.A$a(a));return b;};b.prototype.A$a=function(a){var b;b=this.config().UH||[];return a.reduce(function(a,f){var c,d;c=[];if(f.RAa){d={};f.RAa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(d[a[0]]=a[1]);});b.forEach(function(a){c.push(d[a]);});}a.push(c);return a;},[]);};b.prototype.h$a=function(a){var b;b=0;a.forEach(function(a){a.Mp&&(b=m.mj(b,a.Mp[0]));});return b;};b.prototype.i$a=function(a,b){var f;f=[];a.forEach(function(a){a.Mp?f.push([a.Mp[0]-b,a.Mp[1]-b]):f.push([0,-1]);});return f;};b.prototype.X$a=function(a){var b,f;b=[];a.forEach(function(a){var c;a=a.Xi;if(f){c=a.requestTime-f.Kk;0<c&&b.push([c,-2]);c=m.Uk(f.Kk,a.requestTime);c=a.Lf-c;0<c&&b.push([c,-3]);}b.push([a.Kk-a.Lf,a.xr||0]);f=a;});return b;};b.prototype.ccb=function(a){if(a.T===f.H.Qs||a.T===f.H.dw)return!0;};b.prototype.KR=function(a){if(a.S)return"complete";if(a.T===f.H.Qs)return"abort";if(a.T===f.H.dw)return"stall";p.wa(!1,"download status should never be: other");return"other";};b.prototype.e9a=function(a,b){var f,d;f=this;d=[];a.forEach(function(a){var g;g=a.Xi;a={time:g.Lf-b,tresp:g.Lf-g.requestTime,dur:g.Kk-g.Lf,range:a.Mp,reason:f.j$a(a),httpcode:a.Ah,nwerr:c.Dra(a.T)};d.push(a);});return d;};b.prototype.j$a=function(a){return a.Ah||a.T===f.H.kF?"http":a.T===f.H.lF?"timeout":"network";};b.prototype.lcb=function(a){return a.S||void 0===a.S||a.T===f.H.Qs||a.T===f.H.dw?!1:!0;};b.prototype.p0a=function(a){var b,f,c,d,g,m;b=a.request;f=b.stream;c=b.track;d=b.url;g=this.T8a(c,d);switch(g){case h.Uf.audio:case h.Uf.video:m=b.stream.md;break;case h.Uf.yV:case h.Uf.Oaa:m=c.md;}a={O:f&&f.O,w4a:g,md:m,Xi:a.Xi,Mb:b.Mb,url:d,jc:a.jc,Ah:a.Ah,T:a.T,S:a.S,RAa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),D_a:this.F6a(a)};void 0!==b.offset&&void 0!=b.length&&(a.Mp=[b.offset,b.offset+b.length-1]);return a;};b.prototype.T8a=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.F6a=function(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],l.Ad(a);};x=b;x=g.__decorate([u.N(),g.__param(0,u.l(a.me))],x);d.tGa=x;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nca="DownloadReportBuilderSymbol";},function(g,d,a){var c;function b(a){this.n0=a.n0;this.Bb=a.Bb;this.Ma=a.Ma;this.kT=a.kT;this.e6=!1;this.g1=[];this.log=a.log;a.d0a&&this.Mza(a.d0a);this.Rta()?this.gR():this.mza();}Object.defineProperty(d,"__esModule",{value:!0});c=a(34);b.prototype.k4=function(a){var b;a=a||function(){};this.Rta()?(b={success:!1,name:"",isCongested:!1},this.e6?this.g1.push(a):a(b)):(b={success:!0,name:this.py.rma,isCongested:this.py.pta},a(b));return b;};b.prototype.gR=function(){var a;a=this;this.e6=!0;this.Bb.download(this.mQ(),function(b){var f;if(b.S)try{f=a.wib(b.content);a.Mza(f);a.mza();a.T9({success:!0,name:a.py.rma,isCongested:a.py.pta});}catch(p){a.log.error("Response Processing Failed",p);a.T9({success:!1,name:"",isCongested:!1});setTimeout(a.gR.bind(a),d.mM.Sya);}else a.log.error("HTTP Request Failed"),a.T9({success:!1,name:"",isCongested:!1}),setTimeout(a.gR.bind(a),d.mM.Sya);a.e6=!1;});};b.prototype.T9=function(a){this.g1.forEach(function(b){b(a);});this.g1=[];};b.prototype.mQ=function(){return{url:this.n0,responseType:c.OC,withCredentials:!0,Nx:"congestion-service"};};b.prototype.wib=function(a){a=new Uint8Array(a);a=JSON.parse(String.fromCharCode.apply(null,a));return{S:a.success,FBb:a.asnName,rma:a.asnDisplayName,pta:a.isCongested,DV:a.ttlEpoch};};b.prototype.Rta=function(){return this.py&&this.Ma.ER()<this.py.DV?!1:!0;};b.prototype.Mza=function(a){var b;b=this.Ma.ER();a.S&&(a.DV-b<1E3*this.kT&&(a.DV=b+1E3*this.kT),this.py=a);};b.prototype.mza=function(){var a;a=this.py.DV-this.Ma.ER()-6E4;0>a&&(a=0);setTimeout(this.gR.bind(this),a);};b.Sya=6E4;d.mM=d.mM||b;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);d.JW=function(a,d){this.D4a=a;this.size=d.sta()?b.Rf:d;};},function(g,d,a){var c,h,l,f,p,m,q,u,x,v,k,w,D,y,n,P,G,r,L,O,t,V,da,S;function b(a,b,f,c,d,g,v,z,E,O,la,t,X,Da,tb){var Q;Q=this;this.j=a;this.WP=f;this.Cg=c;this.D7=d;this.p3=g;this.Qm=v;this.Gd=z;this.KQ=E;this.Bb=O;this.config=la;this.Ma=t;this.Ua=X;this.platform=Da;this.q0=tb;this.wL=[];this.O2=this.Kfb=this.oS=this.Cya=0;this.dC=[];this.xV=function(){Q.Ub(V.xe.RPa,!1,S.Jg|S.Sf,{track:Q.j.kc.value.Hf});};this.zqb=function(a){a.newValue&&Q.Fk&&(a={track:a.newValue.Hf},Q.gy(a,Q.j.ig.value&&Q.j.ig.value.stream,Q.j.bh.value&&Q.j.bh.value.stream),Q.Ub(V.xe.SPa,!1,S.Jg|S.Sf,a));};this.dpa=function(){var a,b,f;if(Q.j.Yh)try{a=!1;Q.la%Q.config().TH&&!Q.j.rl&&(a=!0,Q.dC=Q.dC.filter(function(a){return!a.S;}));if(0<Q.dC.length){b=Q.KQ.construct(Q.dC,0);Q.dC=[];b.erroronly=a;Q.config().UH.length&&(b.tcpinfo=Q.config().UH.join(","));f={};u.pc(b,function(a,b){f[a]=JSON.stringify(b);});Q.Ub(V.xe.rGa,!1,S.Sf,f);}}catch(wd){Q.log.error("Exception in dlreport.",wd);}};this.wva=function(){var a,b;if(Q.j.state.value==l.ln){a=Q.mxa();Q.config().D9&&(a.avtp=Q.Cz.Sn().Bz,Q.j.Mk&&Q.fS(a));a.midplayseq=Q.Kfb++;b=Q.j.Fc.value;a.prstate=b==l.Lo?"playing":b==l.Aq?"paused":b==l.tw?"ended":"waiting";Q.config().unb&&Q.FAa("midplay");Q.config().Gl&&A._cad_global.videoPreparer&&Q.M5(a);Q.K5(a);Q.L5(a);Q.Ub(V.xe.FKa,!1,S.Jg|S.Sf|S.Ls|S.jN,a);}};this.u4a=function(a){var b,f,c,d,g,m;a=a.response;b=a.request;f=a.request.eo;c=b.track;if(c){d=!a.S&&a.T!=k.H.Qs;g=c.type;m=a.Xi;if(d||Q.j.wJ){f={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Mb&&b.Mb.id,tresp:u.wl(m.Lf-m.requestTime),brecv:u.C7a(m.xr),trecv:u.wl(m.Kk-m.Lf),sbr:f&&f.O};a.Mp&&(f.range=a.Mp);switch(g){case p.Uf.audio:f.adlid=b.stream.md;break;case p.Uf.video:f.vdlid=b.stream.md;break;case p.Uf.yV:f.ttdlid=c.md;}(b=da.Dra(a.T))&&(f.nwerr=b);a.Ah&&(f.httperr=a.Ah);Q.Ub(V.xe.sGa,d,S.Sf,f);}}};this.An=function(){Q.Ub(V.xe.KDa,!1,S.Jg|S.Ls,{browserua:G.Vk});};this.M_a=function(a){var b,f,c;a=a.response;b=a.Xi;f=x.xb(b.Lf);c=x.xb(b.Kk);b=D.Z(b.xr||0);b.Ita()||b.sta()||(f=new y.Rga(f,c),Q.Cz.uP(new n.JW(f,b)),a&&a.request&&a.request.eo&&a.request.eo.ad&&Q.WP.uP(new P.BEa(f,b,a.request.eo.ad)));};this.Jib=function(a){var b;b=a.newValue;a.ou&&a.ou.k8&&b||b==Q.t6||(Q.apb(Q.t6,b),Q.t6=b);};this.zx=function(a){function b(a){var b;if(Q.j.jb&&Q.j.jb.sourceBuffers){b=Q.j.jb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.pk(),updating:b.updating(),ranges:b.BR()};}}Q.YD="rebuffer";a={cause:a.cause};a.cause&&a.cause===l.qga&&(a.mediaTime=Q.j.qd.value,a.buf_audio=b(h.RX),a.buf_video=b(h.uF));Q.Zbb(Q.wL[l.Lo]||0,Q.wL[l.Aq]||0,a);Q.OE=Q.getTime();r.hb(Q.o1);};this.Oqb=function(a){var b;a=a.oldValue;b=Q.getTime();a==l.Ai?Q.wL=[]:Q.wL[a]=(Q.wL[a]||0)+(b-Q.gdb);Q.gdb=b;};this.Op=function(a){switch(a.cause){case L.Mg.wA:case L.Mg.SY:Q.YD&&Q.OE?Q.kjb(Q.getTime()-Q.OE,Q.YD):Q.Fk||Q.kxa(),Q.YD="repos",Q.$lb(a.AT,a.bh,a.ig),Q.OE=Q.getTime(),r.hb(Q.o1);}};this.o1=function(){var a;if(Q.OE&&Q.j.Fc.value!=l.Ai){a=Q.getTime()-Q.OE;Q.umb(a,Q.Jj);Q.p6&&Q.p6!=Q.j.Ic.value&&Q.KP();Q.OE=void 0;Q.YD=void 0;Q.Jj=void 0;}};this.LP=function(a){Q.adb=Q.getTime();Q.p6=a.oldValue;};this.Fh=function(){q.wa(!Q.Fk);Q.Fk=!0;Q.xAa(!1);Q.Pbb();Q.config().cta&&(Q.Q5=A.setTimeout(function(){A._cad_global.logBatcher&&A._cad_global.logBatcher.flush(!1)["catch"](function(){return Q.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});Q.Q5=void 0;},Q.config().cta));};this.De=function(){Q.Q5&&clearTimeout(Q.Q5);if(Q.config().TH||Q.config().BB)Q.O2&&clearInterval(Q.O2),Q.dpa();Q.Fk?Q.e6a(!!Q.j.Bh):Q.j.Bh?Q.xAa(!0):Q.kxa();Q.Ymb||(Q.Ub=h.Qb);};this.Csb=function(a){a.oldValue&&a.ou&&a.ou.qna&&Q.s_a(a.oldValue,a.newValue,a.ou.qna,a.ou.HYa);};this.Yjb=function(a){var b;if(a.newValue){b=a.newValue.stream;Q.u6!=b&&(Q.u6&&Q.Nlb(Q.u6,b,a.newValue.Cm.startTime),Q.u6=b);}};this.Vu=function(a){function b(a,b){var f;if(!a||a.O6!==b.location){f={O6:b.location,mua:b.locationlv,Fnb:b.serverid,tz:b.servername};Q.f_a(a,b);return f;}}if("audio"===a.mediaType){if(a=b(Q.$cb,a))Q.$cb=a;}else if(a=b(Q.nJ,a))Q.nJ=a;};this.OU=function(a){Q.Ub(V.xe.hPa,!1,S.Jg|S.Sf,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});};this.DP=function(a){Q.Ub(V.xe.BCa,!1,S.Sf,{strmsel:a.strmsel});};this.CP=function(a){Q.Ub(V.xe.ACa,!1,S.Sf,{msg:a.msg});};this.rV=function(a){a=w.ZK(a);a.details&&(a.details=JSON.stringify(a.details));Q.Ub(V.xe.yPa,!0,S.Jg|S.pA|S.kM,a);};this.Ahb=function(){A._cad_global.logBatcher.flush(!0)["catch"](function(){return Q.log.warn("failed to flush logbatcher on midplay interval");});};this.Cz=b();this.log=m.qf(a,"LogblobBuilder");this.t6=a.paused.value;this.la=a.la;this.Tob();}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);h=a(6);l=a(41);f=a(29);p=a(75);m=a(3);q=a(12);u=a(17);x=a(4);v=a(61);k=a(2);w=a(18);D=a(31);y=a(339);n=a(326);P=a(626);G=a(5);r=a(42);L=a(16);O=a(15);t=a(625);V=a(624);da=a(146);b.prototype.Tob=function(){var a;a=this;this.j.Mi.addListener(this.zqb);this.j.Ic.addListener(this.LP);this.j.paused.addListener(this.Jib);this.j.ig.addListener(this.Yjb);this.j.Fc.addListener(this.o1);this.j.Fc.addListener(this.Oqb);this.j.je.addListener(this.Csb);this.j.addEventListener(L.X.CP,this.CP);this.j.addEventListener(L.X.DP,this.DP);this.j.addEventListener(L.X.An,this.An);this.j.addEventListener(L.X.zx,this.zx);this.j.addEventListener(L.X.De,this.De);this.j.addEventListener(L.X.SH,this.u4a,h.jY);this.j.addEventListener(L.X.Vu,this.Vu);this.j.addEventListener(L.X.Fh,this.Fh);this.j.addEventListener(L.X.Op,this.Op);this.j.addEventListener(L.X.OU,this.OU);this.j.addEventListener(L.X.rV,this.rV);this.j.addEventListener(L.X.xV,this.xV);this.j.addEventListener(L.X.Jj,function(){a.Jj=!0;});this.j.Zt&&this.j.Zt.addListener(function(b){a.Zt(b.newValue);});this.config().Jh&&(this.Ymb=!0);if(this.config().TH||this.config().BB)this.j.addEventListener(L.X.SH,function(b){a.dC.push(a.KQ.p0a(b.response));}),this.O2=A.setInterval(this.dpa,this.config().C4a);this.config().D9&&this.j.addEventListener(L.X.SH,this.M_a);};b.prototype.xAa=function(a){var b,c,q,h,k,z,w,D,y,n,E,P,r,L,la,U,X,da,F,R,cb,sb,Ta;b={};try{b={browserua:G.Vk,browserhref:location.href,playdelaysdk:u.wl(this.j.MZa()),applicationPlaydelay:u.wl(this.j.FZa()),playdelay:u.wl(this.j.LZa()),trackid:this.j.Pf,bookmark:u.wl(this.j.wx||0),pbnum:this.j.index,endianness:f.$8a()};this.config().z5a&&(b.transitiontime=this.j.Iz,b.uiplaystarttime=this.j.Za.FV,b.playbackrequestedat=this.j.Rm.na(x.Ba),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ma.cg.na(x.Ba),b.clockgetpreciseappepoch=this.Ua.cD.na(x.Ba),b.absolutestarttime=this.j.yR(),b.relativetime=this.j.by());this.Z3(b,"startplay");}catch(Ua){this.log.error("error in startplay log fields",Ua);}this.j.An&&(b.blocked=this.j.An);this.config().endpoint||(b.configendpoint="error");this.j.cf&&(b.playbackcontextid=this.j.cf);this.j.dQ&&(b.controllerESN=this.j.dQ);if(this.config().SV&&this.j.Za.gba){for(var d={},g=Object.keys(this.j.Za.gba),m,p=g.length;p--;)m=g[p],d[m.toLowerCase()]=this.j.Za.gba[m];b.vui=d;}O.ka(this.j.Pma)&&(b.bookmarkact=u.wl(this.j.Pma));(d=this.j.rd.at&&this.j.rd.ats?this.j.rd.at-this.j.rd.ats:void 0)&&(b.nccpat=d);(d=this.j.rd.lr&&this.j.rd.lc?this.j.rd.lr-this.j.rd.lc:void 0)&&(b.nccplt=d);(d=this.H4a())&&(b.downloadables=d);A._cad_global.device&&O.ab(A._cad_global.device.rC)&&(b.esnSource=A._cad_global.device.rC);(d=A._cad_global.platformExtraInfo)&&u.La(b,d,{prefix:"pi_"});(d=G.nj&&G.nj.connection&&G.nj.connection.type)&&(b.nettype=d);this.j.Am&&this.j.Am.initBitrate&&(b.initvbitrate=this.j.Am.initBitrate);this.j.Am&&this.j.Am.selector&&(b.selector=this.j.Am.selector);b.fullDlreports=this.j.Fpa;if(this.j.state.value>=l.ln)try{q=this.j.In();q&&(this.Wu=f.Gba(q.map(function(a){return a.O;})),this.ava=f.Gba(q.map(function(a){return a.height;})),c=0<q.length?t.Meb(q,function(a){return a.O;}):void 0,b.maxbitrate=this.Wu,b.maxresheight=this.ava);}catch(Ua){this.log.error("Exception computing max bitrate",Ua);}try{h=f.IR();h&&(b.pdltime=h);}catch(Ua){}try{u.La(b,this.j.rd,{prefix:"sm_"});u.La(b,this.j.PR(),{prefix:"vd_"});}catch(Ua){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.po&&(b.pssh=this.j.po);this.j.bg&&this.j.bg.Ak&&this.j.bg.Ak.keySystem&&(b.keysys=this.j.bg.Ak.keySystem);if(this.config().Gl&&A._cad_global.videoPreparer)try{q={};k=A._cad_global.videoPreparer.getStats(void 0,void 0,this.j.R);z=this.j.yR();w=k.Kv.Y_a;q.attempts=k.Fxa||0;q.num_completed_tasks=w.length;D=this.Gd.Y6a;h={};y=v.dd.Vd.jha;n=v.dd.Vd.oq;E=v.dd.Vd.jM;P=v.dd.Vd.SE;r=v.dd.Vd.iM;k.bi&&(h.scheduled=k.bi-z);L=this.j.Fa;L&&O.ab(L.oz)&&(h.preauthsent=L.oz-this.j.Gf,h.preauthreceived=L.VD-this.j.Gf);la=w.filter(D("type","manifest"));q.mf_succ=la.filter(D("status",y)).length;q.mf_fail=la.filter(D("status",n)).length;U=this.j.rd;O.ab(U.lg)&&0>U.lg&&this.j.Gf&&(h.ldlsent=U.lc,h.ldlreceived=U.lr);X=w.filter(D("type","ldl"));q.ldl_succ=X.filter(D("status",y)).length;q.ldl_fail=X.filter(D("status",n)).length;k=!0;if(!h.preauthreceived||0<=h.preauthreceived)k=!1;this.config().SQ||(k=!1);da=X.filter(D("status",E)).length;F=X.filter(D("status",P)).length;R=X.filter(D("status",r)).length;this.config().SQ&&0===da+F+R&&(!h.ldlreceived||0<=h.ldlreceived)&&(k=!1);if(this.config().RQ){cb=this.j.yl&&this.j.yl.stats;if(cb){if(cb.mR&&(h.headersent=cb.mR-this.j.Gf),cb.HS&&(h.headerreceived=cb.HS-this.j.Gf),cb.LD&&(h.prebuffstarted=cb.LD-this.j.Gf),cb.lK&&(h.prebuffcomplete=cb.lK-this.j.Gf),!h.prebuffcomplete||0<=h.prebuffcomplete)k=!1;}else k=!1;}sb=w.filter(D("type","getHeadersAndMedia"));q.hm_succ=sb.filter(D("status",y)).length;q.hm_fail=sb.filter(D("status",n)).length;u.La(b,q,{prefix:"pr_"});b.eventlist=JSON.stringify(h);b.prefetchCompleted=k;this.M5(b);}catch(Ua){this.log.warn("error in collecting video prepare data",Ua);}b.avtp=this.Cz.Sn().Bz;this.j.Mk&&this.fS(b);if(this.j.kc.value)try{b.ttTrackFields=this.j.kc.value.Hf;}catch(Ua){}if(w=this.j.Ic&&this.j.Ic.value&&this.j.Ic.value.qc){Ta={};w.forEach(function(a){Ta[a.Me]=void 0;});b.audioProfiles=Object.keys(Ta);}this.N5(b);this.j.Fa&&"boolean"===typeof this.j.Fa.isSupplemental&&(b.isSupplemental=this.j.Fa.isSupplemental);b.headerCacheHit=!!this.j.yl;this.j.yl&&(b.headerCacheDataAudio=this.j.yl.audio,b.headerCacheDataAudioFromMediaCache=this.j.yl.audioFromMediaCache,b.headerCacheDataVideo=this.j.yl.video,b.headerCacheDataVideoFromMediaCache=this.j.yl.videoFromMediaCache);this.j.Fa&&(b.packageId=this.j.Fa.packageId);this.j.Fa&&this.j.Fa.choiceMap&&(b.hasChoiceMap=!0);this.config().Cqa&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Qm.Vi;this.Vcb(c);this.Ucb();this.Rsa(this.j,b);this.Ssa(this.j,b);this.hy(this.j,b);this.K5(b);this.L5(b);this.Wsa(b);this.Qsa(b);this.Xsa(b);this.Tsa(b);this.J5(b);this.Ub(V.xe.qPa,a,S.Jg|S.pA|S.Sf|S.jN|S.Ls|S.kM|S.TW,b);};b.prototype.umb=function(a,b){b={playdelay:u.wl(a),reason:this.YD,intrplayseq:this.oS-1,skipped:b};this.hy(this.j,b);this.Ub(V.xe.uOa,!1,S.Jg|S.pA|S.Sf,b);"rebuffer"==this.YD&&this.j.ko.ZWa(Number(u.wl(a)));};b.prototype.s_a=function(a,b,f,c){a={moff:u.Wx(f),vbitrate:b.O,vbitrateold:a.O,vdlid:b.md,vdlidold:a.md,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:c};this.hy(this.j,a);this.Ub(V.xe.FEa,!1,S.Sf,a);};b.prototype.Nlb=function(a,b,f){a={moff:u.Wx(f),vdlidold:a.md,vbitrateold:a.O};this.hy(this.j,a);this.gy(a,b,this.j.bh.value&&this.j.bh.value.stream);this.Ub(V.xe.nOa,!1,S.Sf,a);};b.prototype.kxa=function(){var a,b;a={waittime:u.wl(this.j.by()),abortedevent:"startplay",browserua:G.Vk,trackid:this.j.Pf};this.j.cf&&(a.playbackcontextid=this.j.cf);this.j.Am&&this.j.Am.initBitrate&&(a.initvbitrate=this.j.Am.initBitrate);try{b=f.IR();b&&(a.pdltime=b);u.La(a,this.j.rd,{prefix:"sm_"});}catch(Y){}this.I5(a,!0);this.Xsa(a);this.J5(a);this.N5(a);this.Usa(a);this.gy(a,this.j.je.value,this.j.Oi.value);this.Ub(V.xe.yga,!1,S.Jg|S.Sf|S.Ls,a);};b.prototype.kjb=function(a,b){a={waittime:u.wl(a),abortedevent:"resumeplay",browserua:G.Vk,resumeplayreason:b};this.j.cf&&(a.playbackcontextid=this.j.cf);this.j.Am&&this.j.Am.initBitrate&&(a.initvbitrate=this.j.Am.initBitrate);this.gy(a,this.j.je.value,this.j.Oi.value);this.Ub(V.xe.yga,!1,S.Jg|S.Sf,a);};b.prototype.apb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.hy(this.j,a);this.gy(a,this.j.ig.value&&this.j.ig.value.stream,this.j.bh.value&&this.j.bh.value.stream);this.Ub(V.xe.rPa,!1,S.Jg|S.Sf,a);};b.prototype.Zbb=function(a,b,f){a=u.La({vdlid:this.j.je.value.md,playingms:a,pausedms:b,intrplayseq:this.oS++},f);this.Z3(a,"intrplay");b=this.j.Mb[c.Sb.G.VIDEO].value;f=this.j.Mb[c.Sb.G.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=f&&f.id;a.locid=this.nJ&&this.nJ.O6;a.loclv=this.nJ&&this.nJ.mua;a.avtp=this.Cz.Sn().Bz;this.j.Mk&&(this.I5(a,!0),this.fS(a),this.Vsa(a));try{u.La(a,this.j.PR(),{prefix:"vd_"});}catch(aa){}this.Tsa(a);this.hy(this.j,a);this.gy(a,this.j.ig.value&&this.j.ig.value.stream,this.j.bh.value&&this.j.bh.value.stream);this.Ub(V.xe.VIa,!1,S.Jg|S.Sf,a);};b.prototype.$lb=function(a,b,f){a={moffold:u.Wx(a),reposseq:this.Cya++};this.gy(a,f&&f.stream,b&&b.stream);this.Ub(V.xe.qOa,!1,S.Jg|S.Sf,a);};b.prototype.KP=function(){this.Ub(V.xe.lDa,!1,S.Jg|S.Sf,{switchdelay:u.wl(this.getTime()-this.adb),newtrackinfo:this.j.Ic.value.Vb,oldtrackinfo:this.p6.Vb});};b.prototype.Zt=function(a){this.Ub(V.xe.JDa,!1,S.Jg|S.Sf,a);};b.prototype.f_a=function(a,b){var f,c,d,g;f=b.serverid;c=b.serverrtt;d=b.serverbw;g={locid:b.location,loclv:b.locationlv,selocaid:f,selcdnid:f,selocaname:b.servername};g.mediatype=b.mediatype;g.selcdnrtt=c;g.selcdnbw=d;g.selreason=b.selreason||"unknown";g.testreason=b.testreason;g.fastselthreshold=b.fastselthreshold;g.seldetail=b.seldetail;g.cdnbwdata=JSON.stringify([{id:f,rtt:c,bw:d}]);a&&(g.oldlocid=a.O6,g.oldloclv=a.mua,g.oldocaid=a.Fnb,g.oldocaname=a.tz);this.Ub(V.xe.DEa,!1,S.kM,g);};b.prototype.FAa=function(a){var b,f;b={};b.trigger=a;try{f=this.j.G4();b.subtitleqoescore=this.j.bn.K$a(f);b.metrics=JSON.stringify(this.j.bn.T4(f));}catch(aa){this.log.error("error getting subtitle qoe data",aa);}this.Ub(V.xe.APa,!1,S.Jg|S.Ls|S.pA,b,"info");};b.prototype.transition=function(a){this.Ub(V.xe.ZPa,!1,0,a);};b.prototype.w$a=function(a,b){if(a=a.CR())if(b=a[b])return b.Zm;};b.prototype.Rsa=function(a,b){a.Za.rf&&(b.isBranching=!0);};b.prototype.Ssa=function(a,b){b.cachedManifest=a.fu;b.cachedLicense=a.Bx;};b.prototype.hy=function(a,b){var f,c;if(this.config().Ibb){f=a.H4();if(f){b.segment=f;c=a.ay();a=this.w$a(a,f);null!==c&&void 0!==a&&(b.segmentoffset=c-a);}}};b.prototype.Vsa=function(a){var b,f;b=this.j.s5;f=b&&b.Zlb;b&&b.Ksa&&(a.htwbr=b.Ksa,a.pbtwbr=b.NT,a.hptwbr=b.nbb);b&&b.bza&&(a.rr=b.bza,a.ra=b.Kkb);b&&f&&0<(f.length||0)&&(a.qe=JSON.stringify(f));};b.prototype.N5=function(a){var b,f;b=this.j.Te&&this.j.Te.value&&this.j.Te.value.qc;if(b){f={};b.forEach(function(a){f[a.Me]=void 0;});a.videoProfiles=Object.keys(f);}};b.prototype.Usa=function(a){var b,f,c;try{b=this.Gd.createElement("canvas");f=b.getContext("webgl")||b.getContext("experimental-webgl");if(f){c=f.getExtension("WEBGL_debug_renderer_info");c&&(a.WebGLRenderer=f.getParameter(c.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=f.getParameter(c.UNMASKED_VENDOR_WEBGL));}}catch(ra){}};b.prototype.e6a=function(a){var b,f,c,d,z;b=this;f=this.mxa();this.Z3(f,"endplay");f.browserua=G.Vk;this.j.Cs&&"downloaded"===this.j.Cs.KR()&&(f.trickplay_ms=this.j.FL.offset,f.trickplay_res=this.j.FL.Gya);this.config().aba&&(f.rtinfo=this.j.q$a());if(this.config().D9){c=this.Cz.Sn().Bz;void 0!==f.avtp?f.avtp_retired=c:f.avtp=c;f.cdnavtp=this.WP.x8a().map(function(a){return{cdnid:a.nH,avtp:a.Bz,tm:a.P2};});this.j.Mk&&this.fS(f);}f.endreason=a?"error":this.j.Fc.value==l.tw?"ended":"stopped";c=A._cad_global.platformExtraInfo;this.Dbb(c);c&&u.La(f,c,{prefix:"pi_"});c=this.j.Bh;a&&c&&k.dHa(c.errorCode)&&(d="info");try{u.La(f,this.j.rd,{prefix:"sm_"});}catch(Da){}this.j.H5&&(f.inactivityTime=this.j.H5);this.I5(f,"info"!==d&&a);this.Vsa(f);if(this.j.yx){for(var c=this.j.yx,g=this.config().GB,m=this.j.Gf,p={iv:g,seg:[]},q=function(a,b,f){return 0===b||void 0===f[b-1]?a:a-f[b-1];},h=c.hr.map(q),q=c.Gs.map(q),v,x=0;x<h.length;x++){if(h[x]||q[x])v?(v.ams.push(h[x]),v.vms.push(q[x])):v={ams:[c.hr[x]],vms:[c.Gs[x]],soffms:c.startTime+x*g-m};x!==h.length-1&&h[x]&&q[x]||!v||(p.seg.push(v),v=void 0);}f.bt=JSON.stringify(p);}if(this.j.ZS&&0<this.j.ZS.length){z=[];this.j.ZS.forEach(function(a){z.push({soffms:a.time-b.j.Gf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});f.maxvbevents=z;}this.j.Qxa&&(f.psdConservCount=this.j.Qxa);a&&(this.N5(f),this.Usa(f));this.FAa("endplay");this.config().Gl&&A._cad_global.videoPreparer&&this.M5(f);f.isNonMember=this.Qm.Vi;this.Rsa(this.j,f);this.Ssa(this.j,f);this.hy(this.j,f);this.K5(f);this.L5(f);this.Wsa(f);this.Ebb(f);this.Qsa(f);this.J5(f);this.Gbb(f);this.Fbb(f);this.Ub(V.xe.bHa,a,S.Jg|S.pA|S.Sf|S.Ls|S.jN|S.TW,f,d);};b.prototype.H4a=function(){var a;if(this.j.cq&&this.j.wm){a=[];this.j.cq.concat(this.j.wm).forEach(function(b){b.qc.forEach(function(b){a.push({dlid:b.md,type:b.type,bitrate:b.O,vmaf:b.oc});});});return JSON.stringify(a);}};b.prototype.d_a=function(){var b,f,c;function a(a,b){var d,g,m;d=a.cdnId;g=c[d];m=a.vmaf;g||(g={cdnid:d,dls:[]},c[d]=g,f.push(g));q.FH(a.bitrate);q.FH(a.duration);d={bitrate:a.bitrate,tm:G.Tf(a.duration)};m&&(q.FH(a.vmaf),d.vf=m);d[b]=u.Ad(a.downloadableId);g.dls.push(d);}b=this.j.ko.f8a();f=[];c={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(f);};b.prototype.mxa=function(){var a,b,f,c,d,g,m,p,l,h,v,x,k;a=this.j.ko;b={totaltime:u.Wx(a.Z4()),cdndldist:this.d_a(),reposcount:this.Cya,intrplaycount:this.oS};try{f={numskip:0,numlowqual:0};c=this.j.eg;d=c.FR();O.ka(d)&&(b.totfr=d,f.numren=d);d=c.Zx();O.ka(d)&&(b.totdfr=d,f.numrendrop=d);d=c.zI();O.ka(d)&&(b.totcfr=d,f.numrenerr=d);d=c.GR();O.ka(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(f);b.videofr=this.j.je.value.uR.toFixed(3);g=a.Vqa();g&&(b.abrdel=g);m=a.Pab()&&a.j8a();m&&(b.tw_vmaf=m);p=a.i8a();p&&u.La(b,p);b.rbfrs=this.oS;b.maxbitrate=this.Wu;b.maxresheight=this.ava;l=this.j.cy();for(k=0;k<l.length;k++){h=l[k];if(x=this.j.G7.us(h)){q.wa(v);b.maxbitrate=v?v.O:0;b.maxresheight=v?v.height:0;b.bitratefilters=x.join("|");break;}v=h;}this.j.Cs&&(b.trickplay=this.j.Cs.KR());null!==this.j.bn.Fma&&(b.avg_subt_delay=this.j.bn.Fma);}catch(Da){this.log.error("Exception reading some of the endplay fields",Da);}u.La(b,this.j.PR(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.Ua.Pe().na(x.Ba);};b.prototype.IU=function(a){a.browserua=G.Vk;this.Ub(V.xe.cPa,!a.success,S.Jg|S.Ls,a);this.Ub=h.Qb;};b.prototype.Pbb=function(){var a,b,f,c;a=this;f=[];if(this.config().Ifb){c={rva:function(){},Eza:function(){a.wva();}};this.Cg.addListener(c);this.config().Jfb.forEach(function(b){f.push(A.setTimeout(a.wva,b));});this.config().xva&&(b=A.setInterval(this.Ahb,this.config().xva));this.j.addEventListener(L.X.De,function(){a.Cg.removeListener(c);f.forEach(function(a){clearTimeout(a);});b&&clearInterval(b);});}};b.prototype.M5=function(a){var b;try{b=A._cad_global.videoPreparer.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Mqa);}catch(Y){}};b.prototype.K5=function(a){this.log.debug("httpstats",this.Bb.cc);u.La(a,this.Bb.cc,{prefix:"http_"});};b.prototype.I5=function(a,b){this.config().Goa&&!(this.la%this.config().Goa)&&this.j.gb&&this.j.gb.W5&&(a.ASEstats=JSON.stringify(this.j.gb.W5(b)));};b.prototype.fS=function(a){var b,f;b=this.j.Mk.Va.get(!0);if(b.yc&&b.pa){a.aseavtp=Number(b.pa.Aa).toFixed(2);a.asevartp=Number(b.pa.Ig).toFixed(2);if(b.vk){f=b.vk.PT;!f||isNaN(f.Ek)||isNaN(f.Dk)||isNaN(f.$i)||(a.aseniqr=0<f.$i?Number((f.Ek-f.Dk)/f.$i).toFixed(2):-1,a.aseiqr=Number(f.Ek-f.Dk).toFixed(2),a.asemedtp=Number(f.$i).toFixed(2));a.iqrsamples=b.vk.Jl;}b.Ql&&b.Ql.Lr&&(a.tdigest=b.Ql.Lr());}};b.prototype.L5=function(a){var b;try{b=G.tq.memory;O.Jcb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(Y){}};b.prototype.Wsa=function(a){var b;b=this.j.bg;this.config().XZa&&b&&!this.config().Bo&&(a.keystatuses=this.j.Hgb(b.GEb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.Qsa=function(a){try{this.config().mH&&(a.battery=this.j.o8a(),this.log.trace("batterystatuses",a.battery));}catch(H){}};b.prototype.Ebb=function(a){this.j.vQ&&(a.dqec=this.j.vQ);};b.prototype.Dbb=function(a){this.j.VP&&u.La(a,{cast_interaction_counts:this.j.VP.F_});};b.prototype.Xsa=function(a){var b;b=this.j.Za.oi;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.J5=function(a){if(this.config().FXa)try{a.storagestats=this.q0.getData();}catch(H){}};b.prototype.Tsa=function(b){var f;if(this.config().T2){f=a(187).Tna;b.congested=f&&f.k4()&&f.k4().isCongested;}};b.prototype.Fbb=function(a){this.o3&&(a.externaldisplay=this.o3.hI);};b.prototype.Gbb=function(a){this.Nv&&this.Nv.ic&&(a.media_capabilities_smooth=this.Nv.ic.Mob,a.media_capabilities_efficient=this.Nv.ic.Bjb,a.media_capabilities_bitrate=this.Nv.ic.O,a.media_capabilities_height=this.Nv.ic.height,a.media_capabilities_width=this.Nv.ic.width);};b.prototype.gy=function(a,b,f){f&&(a.adlid=f.md,a.abitrate=f.O);b&&(a.vdlid=b.md,a.vbitrate=b.O);};b.prototype.Ucb=function(){void 0===this.o3&&(this.o3=this.p3.T6a());};b.prototype.Vcb=function(a){void 0===this.Nv&&void 0!==a&&(this.Nv=this.D7.u3(a));};b.prototype.Z3=function(a,b){var f;f=this.j.Lr(b);f&&Object.keys(f).forEach(function(b){a[b]=f[b];});};b.prototype.Ub=function(b,f,c,d,g){this.SWa(d,this.j,f,c);b=new(a(95)).gA(this.j,b,g||(f?"error":"info"),d);A._cad_global.logBatcher.Ub(b);};b.prototype.SWa=function(a,b,f,d){var g,m,p,l,h;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.gQ&&(a.pbcid=b.gQ);d&S.Jg&&(q.wa(!a||void 0===a.moff),0<=b.qd.value&&(a.moff=u.Wx(b.qd.value)));if(d&S.pA){g=b.Mb[c.Sb.G.VIDEO].value;m=b.Mb[c.Sb.G.AUDIO].value;p=b.bh.value;l=b.ig.value;g&&(a.cdnid=g.id,a.cdnname=g.name);m&&(a.acdnid=m.id,a.acdnname=m.name);p&&(a.adlid=p.stream.md,a.abitrate=p.stream.O);l&&(a.vdlid=l.stream.md,a.vbitrate=l.stream.O,a.vheight=l.stream.height,a.vwidth=l.stream.width);}d&S.Sf&&b.gb&&(a.abuflbytes=b.C0(),a.abuflmsec=b.XG(),a.vbuflbytes=b.dba(),a.vbuflmsec=b.SL());if(d&S.jN){Object.assign(a,da.Rra());try{h=b.sf.getBoundingClientRect();a.rendersize=h.width+"x"+h.height;a.renderpos=h.left+"x"+h.top;}catch(ma){}}d&S.Ls&&(g=G.nj.hardwareConcurrency,0<=g&&(a.numcores=g),0<=b.eoa&&(a.cpuspeed=b.eoa),(g=b.PQ&&b.PQ.k8a())&&(a.droppedFrames=JSON.stringify(g)),g=b.PQ&&b.PQ.F4(this.config().X4a),u.pc(g,function(b,f){a["droppedFramesP"+b]=JSON.stringify(f);}));if(d&S.kM)try{b.Yh&&(a.cdninfo=JSON.stringify(b.Yh.map(function(a){return{id:a.id,nm:a.name,rk:a.Od,wt:a.location.weight,lv:a.location.level};})));}catch(ma){}f&&d&S.TW&&(q.wa(b.Bh),(f=b.Bh)?a=Object.assign(a,da.Ira(this.platform.pC,f)):a.errorcode=k.I.Qh,a.errorcode===this.platform.pC+k.I.Lfa&&(a.lastSyncWithVideoElement=this.getTime()-b.qL));};d.yJa=b;(function(a){a[a.Jg=1]="MOFF";a[a.pA=2]="PRESENTEDSTREAMS";a[a.Sf=4]="BUFFER";a[a.jN=8]="SCREEN";a[a.Ls=16]="CPU";a[a.kM=32]="CDN";a[a.TW=64]="FATALERROR";}(S||(S={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iea="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xea="LegacyLogBatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dba="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hga="PboLogblobCommandSymbol";},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Cf=function(a,b){var f;f=this;return a.map(function(a){return b.call(f,a);});};b.prototype.kC=function(a,b){var f,c;f={};for(c in a)f[c]=b.call(this,a[c]);return f;};c=b;c=g.__decorate([a.N()],c);d.zM=c;},function(g,d,a){var f,p,m;function b(){this.wu=new f.tJa();}function c(a){var f;f=p.zM.call(this)||this;f.Ep=a;f.wu=new b();return f;}function h(a,b){this.Ep=a;this.profile=b;this.rP=this.profile.th.id;this.tD={};}function l(a){this.Ep=a;this.kE=m.Z(0);this.tD=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(634);p=a(332);m=a(31);l.prototype.dr=function(a){this.kE=this.kE.add(this.Ep.measure([a.message]));this.tD.push(a);};l.prototype.jz=function(a){var b,f;b=this;this.kE=m.Z(0);f=[];this.tD.forEach(function(c){0>a.indexOf(c.id)&&(b.kE=b.kE.add(b.Ep.measure([c.message])),f.push(c));});this.tD=f;};na.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.kE;}},Nd:{configurable:!0,enumerable:!0,get:function(){return this.tD;}}});h.prototype.dr=function(a,b,f,c){var d;d=this.Nd[a];d||(d=new l(this.Ep),this.Nd[a]=d);d.dr({id:b,url:f,message:c});};h.prototype.jz=function(a){var f;for(var b in this.Nd){f=this.Nd[b];f&&(f.jz(a),0===f.Nd.length&&delete this.Nd[b]);}};na.Object.defineProperties(h.prototype,{Nd:{configurable:!0,enumerable:!0,get:function(){return this.tD;}}});d.CKa=h;ia(c,p.zM);c.prototype.encode=function(a){return{accountId:a.rP,messages:this.N5a(a.Nd)};};c.prototype.decode=function(a){return{rP:a.accountId,Nd:this.j3a(a.messages)};};c.prototype.N5a=function(a){var b,f,c,d;b=this;f={};c={};for(d in a)c.WQ=[],a[d].Nd.forEach(function(a){return function(f){0<f.id&&a.WQ.push(b.wu.encode(f));};}(c)),f[d]=c.WQ,c={WQ:c.WQ};return f;};c.prototype.j3a=function(a){var b,f,c,d;b=this;f={};c={};for(d in a)c.dU=new l(this.Ep),a[d].forEach(function(a){return function(f){a.dU.dr(b.wu.decode(f));};}(c)),f[d]=c.dU,c={dU:c.dU};return f;};d.BKa=c;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.wu.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.wu.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ffa="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jea="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wca="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vca="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lca="DeviceProviderSymbol";},function(g,d){function a(b,c,d){if(null!=d){if(0<d(b,c))throw a.noa(b,c);}else if(b.nl&&0<b.nl(c))throw a.noa(b,c);this.start=b;this.end=c;}Object.defineProperty(d,"__esModule",{value:!0});a.noa=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};d.Rga=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kca="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lfa="MslDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kfa="MslClientSendStrategySymbol";},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(17);h=a(15);l=a(75);d.wEa=function(a,b,d,g,l,x,v,k,w,D){var f,m;f=this;m={Type:b,Bitrate:g,DownloadableId:d};c.La(f,{track:a,type:b,md:d,O:g,oc:l,Me:k,size:x,Dr:v,tk:null,kob:function(a,b){if(h.ab(a)||h.ab(b))f.width=a,f.height=b,m.Resolution=(f.width||"")+":"+(f.height||"");},Nnb:function(a,b,c,d){h.ab(a)&&h.ab(b)&&h.ab(c)&&h.ab(d)&&(f.J2a=a,f.toa=b,f.soa=c,f.roa=d);},uR:w,Bl:D,Hf:m,toJSON:function(){return m;}});};d.tub=function(a,c,d,g,h){if(a==b.RX||a===l.Uf.audio)return c;if(a==b.uF||a===l.Uf.video)return d;if(a==l.Uf.yV)return g;if(a==l.Uf.Oaa)return h;};},function(g,d,a){var c;function b(a){var g,f,p,m,q,h,x;p={};p[c.XV]=a.localName;m={};p[c.ti]=m;q=[];p[c.WV]=q;h=a.attributes;g=h.length;for(f=0;f<g;f++){x=h[f];m[x.localName]=x.value;}a=a.childNodes;g=a.length;m={};for(f=0;f<g;f++)switch(h=a[f],h.nodeType){case d.atb:h=b(h);x=h[c.XV];h[c.rCa]=p;q.push(h);p[x]?m[x][c.PE]=h:p[x]=h;m[x]=h;break;case d.btb:case d.Zsb:h=h.text||h.nodeValue,q.push(h),p[c.gq]||(p[c.gq]=h);}return p;}Object.defineProperty(d,"__esModule",{value:!0});c=a(126);d.Ysb=function(a){return b(a.nodeType==d.$sb?a.documentElement:a);};d.nJb=b;d.atb=1;d.mJb=2;d.btb=3;d.Zsb=4;d.$sb=9;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(15);d.Xsb=function(a){var d,f;if(c.Pu(a)){d=new DOMParser().parseFromString(a,"text/xml");f=d.getElementsByTagName("parsererror");if(f&&f[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(p){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(190);c=a(189);d.oib=function(a,d,f,g){return new Promise(function(m,p){c.sCa(a,function(a){a.S?b.fib(a.object,d,f,g,function(a){a.S?m(a.entries):p(a);}):p(a);});});};},function(g){g.M={GU:function(d,a){var b,c,g;b=a.profile;a=a.R;c=d.Rmb;g=d.Smb;return d.GU||Array.isArray(c)&&-1!==c.indexOf(b)||"object"===typeof g&&Array.isArray(g[b])&&-1!==g[b].indexOf(""+a);}};},function(g,d,a){var l;function b(){}function c(a,b,c){void 0===c&&(c=!1);l(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8<h(a),"bitrate zero, won't be able to send anything.");this.$t=a;this.wpa=b;this.repeat=c;this.Ri=this.jk=0;}function h(a){return a.reduce(function(a,b){return a+b;},0);}l=a(14);b.prototype=Error();c.prototype.constructor=c;c.prototype.ip=function(){var a;a=new c(this.$t,this.wpa,this.repeat);a.jk=this.jk;a.Ri=this.Ri;return a;};c.prototype.c5=function(){return this.$t[this.jk%this.$t.length];};c.prototype.Lu=function(){return this.wpa[this.jk%this.$t.length];};c.prototype.F4a=function(a){l(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.jk&&this.jk<this.$t.length))throw new b();l(this.Ri<this.Lu(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.Lu()-this.Ri;f=a<f?a:f;a-=f;this.Ri+=f;if(this.Ri<this.Lu())break;this.Ri-=this.Lu();this.jk+=1;if(!this.repeat&&this.jk>=this.$t.length){if(0<a)throw new b();break;}}};c.prototype.Xwa=function(a){this.F4a(a);};c.prototype.G4a=function(a){l(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.jk&&this.jk<this.$t.length))throw new b();l(this.Ri<this.Lu(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,c=0;;){f=this.Lu()-this.Ri;f=a<f*this.c5()?a/this.c5():f;a-=this.c5()*f;c+=f;this.Ri+=f;if(this.Ri<this.Lu())return c;this.Ri-=this.Lu();this.jk+=1;if(!this.repeat&&this.jk>=this.$t.length){if(0<a)throw new b();return c;}}};g.M={LPa:c,MPa:b};},function(g,d,a){var h;function b(a,b,c){this.Z=a;this.Vm=b;this.sK=c;}function c(a,b){this.j7=b;void 0===b&&(this.j7=!0);this.xh=a;this.VQa();}h=a(14);b.prototype.constructor=b;b.prototype.Mr=function(){return 8*this.Z/1E3/this.Vm;};c.prototype.constructor=c;c.prototype.ip=function(a,b,d,g,q){void 0===b&&(b=0);void 0===d&&(d=a.MC());void 0===g&&(g=0);void 0===q&&(q=a.xh.length);for(var f=[],m,p=g;p<q;p++){g=[];for(var l=b;l<d;l++)m=a.xh[p][l],g.push(m);f.push(g);}return new c(f,a.j7);};c.prototype.VQa=function(){var a,b;a=this.xh[0].length;for(b in this.xh.slice(1))h(this.xh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.xh[b].length+" and "+a);this.j7&&this.WQa();this.XQa();};c.prototype.MC=function(){return this.xh[0].length;};c.prototype.WQa=function(){for(var a=0;a<this.xh.length-1;a++)for(var b=0;b<this.MC();b++)h(this.xh[a][b].Z<=this.xh[a+1][b].Z,"Chunk size for epoch "+b+" is not monotonic");};c.prototype.XQa=function(){for(var a=0;a<this.xh.length-1;a++)for(var b=0;b<this.MC();b++)h(1E-8>Math.abs(this.xh[a][b].Vm-this.xh[a+1][b].Vm),"Chunk duration for epoch "+b+" is not consistent");};c.prototype.lab=function(){var a;a=[];this.xh[0].forEach(function(b){a.push(b.Vm);});return a;};g.M={IEa:b,JEa:c};},function(g,d,a){var l,f,p;function b(a,b,f){this.Sm=b;this.ll=f;this.ws=this.YI=this.NT=this.Zwa=this.Ywa=this.yD=this.dc=this.sjb=this.ll=this.ng=this.Ra=this.U=this.QL=this.RL=this.Y=this.fta=this.Wt=void 0;}function c(a,b,f){this.ea=b;this.Ata=f;this.pma=this.mCa=this.W_=this.RL=this.Bp=this.Aj=void 0;}function h(a,f,c,d,g,h){var m;m=new b(0,f,a.ll);a.forEach(function(a){var b,c;b=a.buffer;c=b.Y;a.P===l.G.AUDIO?m.Wt=c.length?c[0].O:void 0:a.P===l.G.VIDEO&&(m.fta=c.length?c[0].O:void 0,m.Y=c,m.RL=b.ol-b.nf,m.QL=b.cn,m.U=b.nf,m.Ra=b.Ra,m.ng=a.Ev,m.ll=a.ll,m.sjb=f-a.ll,m.dc=a.dc.filter(function(a){return p(a);}),m.yD=c.filter(function(a){return m.U<=a.PD;}).length);});this.mg=m;this.lk=void 0;this.Hoa=d;this.T0=g;this.q9=this.mU=this.Ewa=this.xo=this.zB=this.iqa=this.Lj=this.dc=this.lk=void 0;this.xXa=h;}l=a(13);d=a(43);f=d.assert;p=d.ny;b.prototype.constructor=b;c.prototype.constructor=c;h.prototype.constructor=h;h.prototype.$6a=function(a,b){var f,d,g,m,p,q,h,k,n,G,r,L,O,t,V,da,U,H,Y,aa,ra,Z;f=this.mg;d=[];m=a[l.G.VIDEO];p=a[l.G.AUDIO];if(void 0===m||void 0===p)return!1;q=m.buffer;h=p.buffer;k=m.headers;n=f.dc.filter(function(a){return k&&k[a.id]&&k[a.id].Y;});if(void 0===q||void 0===h||void 0===k||void 0===n||0===n.length)return!1;g=new c(0,m.nf,b===l.Ca.ct);G=0;r=0;L=0;O=0;V=f.U;a=a[l.G.VIDEO].nf;da=f.Y;t=f.yD;for(var S=0;S<t;S++){U=da[S];H=U.offset;Y=U.offset+U.Z-1;ra=U.Er;aa=U.ls;Z=aa+ra;U&&aa<=a&&Z>V&&(ra=U.Er,aa=Math.min(ra,Math.min(a,Z)-Math.max(aa,V)+1),O+=aa,G+=aa/ra*(Y-H+1),r+=U.O*aa,L+=U.oc*aa);}f.Ywa=G;f.Zwa=O;f.NT=0<O?r/O:0;f.Oib=0<O?L/O:0;f.YI||(f.YI=0,n.some(function(a,b){if(a.O===f.fta)return f.YI=b,!0;}));n.forEach(function(a){var b,c;a=k[a.id].Y;b=[];f.ws||(f.ws=a.Bj(f.U,void 0,!0));g.Aj||(g.Aj=a.Bj(g.ea,void 0,!0),g.Bp=a.length-1);f.ng!==f.ws+f.yD&&(f.ng=f.ws+f.yD);t=Math.min(g.Bp,g.Aj+1);for(var m=f.ws;m<=t;m++)c=a.get(m),b[m]=c;d.push(b);});b===l.Ca.ct&&(g.RL=q.ol-q.nf,g.W_=h.ol-h.nf,g.mCa=m.gya,g.pma=p.gya);this.lk=g;this.dc=n;this.Lj=d;return this.iqa=!0;};h.prototype.Lr=function(){var a,b,c,d,g,p,l,h,k,n,P,r,L,O;if(this.hD)return this.hD;b=this.xo;a=this.mg;d=this.lk;g=this.dc;p=this.Ewa;P=this.xXa;f(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)d.Ata?(k=!1,l=!0):d.Aj-a.ws+1<=a.yD?l=k=!0:(k=!0,l=!1),h=!0;if(p){n=p.wp;for(var G=0;G<P.length;G++)c=P[G],(b=p[c])&&b.ev&&(l=!0);}a={bst:a.ll,pst:a.Sm,s:a.ws,e:d.Aj,prebuf:a.yD,brsi:a.ng,pbdlbytes:a.Ywa,pbdur:a.Zwa,pbtwbr:a.NT,pbvmaf:a.Oib};h&&(a.nt=h);l&&(a.nd=l);n&&(a.invalid=n);this.q9&&(a.rr=this.q9);this.mU&&(a.ra=this.mU);if(!l&&!n&&this.Hoa){a.bitrate=g.map(function(a){return a.O;});b=this.xo;c=b.trace;r=[];L=0;c.forEach(function(a){a=Number(a).toFixed(0);r.push(a-L);L=a;});a.tput={ts:b.timestamp,trace:r,bkms:b.gk};}if(l||h||n)a.feasible=k;else for(a.sols={},G=0;G<P.length;G++){c=P[G];b=p[c];l={};if(b&&b.Vp&&(l.f=b&&b.fi||!1,l.dltwbr=b.v4a,l.dlvmaf=b.gpa,l.dlvdur=b.M2,l.dlvbytes=b.L2,l.dlabytes=b.K2,this.Hoa)){L=0;O=[];b.Vp.filter(function(a){return a;}).map(function(a){return a.Ed;}).forEach(function(a){O.push(a-L);L=a;});l.strmsel=O;}a.sols[c]=l;}return this.hD=a;};g.M=h;},function(g,d,a){var h,l,f,p,m,q;function b(a,b,f,c){p(!h.V(c),"Must have at least one selected stream");return new q(c);}function c(a,b,f,c){p(!h.V(c),"Must have at least one selected stream");return new q(c);}h=a(11);d=a(43);l=d.console;f=d.debug;p=d.assert;m=d.ny;q=d.Mo;g.M={STARTING:function(a,b,c){var g,p,h,u;function d(c,d){var g,m,p,q;g=c.id;m=c.O;p=c.pa||0;q=!!p;f&&l.log("Checking feasibility of ["+d+"] "+g+" ("+m+" Kbps)");if(!c.Ge)return f&&l.log("  Not available"),!1;if(!c.inRange)return f&&l.log("  Not in range"),!1;if(c.Dh)return f&&l.log("  Failed"),!1;if(m>a.AJ)return f&&l.log("  Above maxInitAudioBitrate ("+a.AJ+" Kbps)"),!1;if(!(m*a.iT/8<b.buffer.iu))return f&&l.log("  audio buffer too small to handle this stream"),!1;if(q){f&&l.log("  Have throughput history = "+q+" : available throughput = "+p+" Kbps");if(m<p/h)return f&&l.log(" +FEASIBLE: bitrate less than available throughput"),!0;f&&l.log(" bitrate requires more than available throughput");return!1;}c=a.LJ;b.Z5&&(c=Math.max(c,a.KJ));if(m<=c)return f&&l.log("  Bitrate is less than max of minInitAudioBitrate ("+a.LJ+" Kbps) "+(b.Z5?" and also minHCInitAudioBitrate ("+a.KJ+" Kbps)":"")),f&&l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;f&&l.log("  No throughput history");return!1;}g=new q();h=a.GBb||1;for(u=c.length-1;0<=u;--u){p=c[u];if(d(p,u)){g.Ed=u;break;}m(p)&&(g.Ed=u);}return g;},BUFFERING:b,REBUFFERING:b,PLAYING:c,PAUSED:c};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(696),d);},function(g,d,a){d=a(697);g.M=d;},function(g,d,a){var l,f;function b(a,b,f,c,d,g){return new h(a,b,f,c,d,g);}function c(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,f,c,d,g){this.partition=a;this.lifespan=f;this.resourceIndex=b;this.size=c;this.creationTime=d;this.lastRefresh=g;return this.lBa();}l=a(11);f=a(109);a(108);new f.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.lBa();};h.prototype.Zza=function(a){this.size=a;};h.prototype.Nna=function(){var a;a=f.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.lBa=function(){this.lastMetadataUpdate=f.time.now();return this;};h.prototype.constructor=h;g.M={create:b,U3:function(a){var f;f=a;"string"===typeof a&&(f=JSON.parse(a));if(f&&f.partition&&!l.V(f.lifespan)&&f.resourceIndex&&f.creationTime&&f.lastRefresh)return a=b(f.partition,f.resourceIndex,f.lifespan,-1,f.creationTime,f.lastRefresh),f.lastMetadataUpdate&&(a.lastMetadataUpdate=f.lastMetadataUpdate),!l.V(f.size)&&0<=f.size&&a.Zza(f.size),a.Nna(),a.convertToBinaryData=f.convertToBinaryData,a;},U1:function(a){return a+".__metadata__";},cR:function(a){return c(a)?a.slice(0,a.length-13):a;},UC:c};},function(g,d,a){var k,w,D,y,n,P,G,r,L,O,t,V,da;function b(){}function c(a,f){var c,d,g,p;c=k.qb(f)?f:b;this.K=a||{};(function(a,b,f){this.Tg[a].Wc[b]=f;}.bind(this));(function(a,b){return this.Tg[a].Wc?this.Tg[a].Wc[b]:void 0;}.bind(this));this.on=this.addEventListener=V.addEventListener;this.removeEventListener=V.removeEventListener;this.emit=this.Ia=a.GDb?V.Ia:b;d=y.i2a(a);g=this.K.dailyDiskCacheWriteLimit;if(d){this.Po=d;p=u(a.C7||da,y.P8a());this.$q=function(a){return k.V(p)||null===p||void 0===this.Tg[a]?!1:!k.V(p[a]);};p?(this.Tg={},f=w.Promise.all(Object.keys(p).map(function(b){return new w.Promise(function(f,c){var m;m=p[b];m.ZBa=a.ZBa;new n(b,d,m,function(a,b){a?c(a):f(b);},g);});})).then(function(a){a.map(function(a){var b;b=a.Gt;this.Tg[b]=a;p[b].F7a=p[b].iu-a.Zq;this.Tg[b].on(n.cd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ia("mediacache",a);}.bind(this));this.Tg[b].on(n.cd.$ha,function(a){a=a||{};a.partition=b;a.type="save";this.Ia("mediacache",a);}.bind(this));this.Tg[b].on(n.cd.ERROR,function(a){a=a||{};a.partition=b;a.type=n.cd.ERROR;this.Ia("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){m(d,w.storage.mA,Object.keys(p));return a;}.bind(this)).then(function(a){Object.keys(a.Tg).map(function(b){a.Tg[b].r4().map(function(f){a["delete"](b,f);});});a.Lm=!0;c(null,a);}.bind(this))["catch"](function(a){D.error("Failed to initialize media cache ",a);this.iy=O.Dca;c(this.iy,this);}.bind(this)),t.Lp(f)):(this.iy=O.FIa,c(this.iy,this));}else this.iy=O.Dca,c(this.iy,this);}function h(a,b,f,c,d,g){var m;m=g?"mediacache-error":"mediacache";b={partition:f,type:b,resource:c,time:w.time.now()};g&&(b.error=g);d&&(k.ka(d.duration)&&(b.duration=d.duration),k.ka(d.or)&&(b.bytesRead=d.or));try{a.Ia(m,b);}catch(Q){D.warn("caught exception while emitting basic event",Q);}}function l(a,b,f,c,d){var g;g=d?"mediacache-error":"mediacache";b={partition:f,type:b,resources:c,time:w.time.now()};d&&(b.error=d);try{a.Ia(g,b);}catch(Z){D.warn("caught exception while emitting basic event",Z);}}function f(a){return!k.V(a)&&!k.Na(a)&&k.ka(a.lifespan);}function p(a){return!P.UC(a)&&!r.pcb(a);}function m(a,f,c){a.query(f,"",function(d,g){d||Object.keys(g).filter(function(a){return 0>c.indexOf(a.slice(0,a.indexOf(".")));}).map(function(c){a.remove(f,c,b);});});}function q(a,b,f){var d,g;function c(b){a["delete"](d,function(c){c?f(c):(delete a.Wc[g],c=Object.keys(b.resourceIndex),c=w.Promise.all(c.map(function(b){return new w.Promise(function(f,c){a["delete"](b,function(a){a?c(a):f(b);});});})).then(function(){f();},function(a){f(a);}),t.Lp(c));});}P.UC(b)?(d=b,g=P.cR(b)):(d=P.U1(b),g=b);(b=a.Wc[g])?c(b):a.read(d,function(a,b){a?f(a):c(b);});}function u(a,b){var f,c,d;f={};c=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/c;a.partitions.map(function(a){var b;b=a.key;f[b]={};f[b].iu=Math.floor(d*a.capacity);f[b].P2a=a.dailyWriteFactor||1;f[b].TGb=a.owner;f[b].t6a=a.evictionPolicy;});return f;}function x(a,b,f){if(f)return r.r4a(a,b).reduce(function(a,b){Object.keys(b).map(function(f){a[f]=b[f];});return a;},{});f={};f[a]=b;return f;}function v(a,b,f,c,d,g,m,p,l,q,h){return function(u,v){u?k.isArray(u)?(v=u.map(function(a){return a.error;}),v.some(function(a){return a.code===O.Tz.code;})&&!v.some(function(a){return a.code===O.yN.code;})?h(q,u,function(){l.save(b,f,c,d,g,m);}):(q["delete"](p),delete q.Wc[f],g({error:u[0].error,kv:u[0].kv,type:u[0].type,ama:u}))):g({error:u,kv:b,type:"save"}):(u=v.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.BS;},0),q.Wc[f].Zza(u),u={F7a:v.ci,UCb:v.XB,wh:0,items:v},0<v.wh&&(u.wh=v.wh),0<v.duration&&(u.duration=v.duration),g(null,u));};}k=a(11);w=a(109);D=new w.Console("MEDIACACHE","media|asejs");y=a(705);n=a(704);P=a(354);G=a(108);r=a(699);L=a(698);O=a(197);t=a(196);V=a(28).EventEmitter;da={iHb:[]};c.prototype.gz=function(a,f){var c;c=k.qb(f)?f:b;this.$q("billboard")?this.Tg.billboard.query(a,function(a,b){a?(D.error("Failed to query resources",a),c([])):c(b.filter(p));}):c([]);};c.prototype.read=function(a,f,c){var d,g,m,p;d=k.qb(c)?c:b;if(this.$q(a)){g=this.Tg[a];m=g.Wc[f];if(!P.UC(f)&&this.K.qfb){p=function(b){g.lU(Object.keys(b),function(b,c,g){b?d(O.vA.Tl("Failed to read "+f,b)):(h(this,"read",a,f,g),d(null,r.Vbb(c)));}.bind(this),b);}.bind(this);m?p(m.resourceIndex):this.Pkb(a,f,function(a,b){a?d(O.vA.Tl("Failed to read "+f,a)):p(b.resourceIndex);});}else g.read(f,function(b,c,g){b?d(O.vA.Tl("Failed to read "+f,b)):(m&&m.convertToBinaryData&&(c=L.m0a(c)),h(this,"read",a,f,g),d(null,c));}.bind(this));}else d(O.Ss);};c.prototype.lU=function(a,f,c){var d,g;d=k.qb(c)?c:b;if(this.$q(a)){g={};f=w.Promise.all(f.map(function(b){return new w.Promise(function(f,c){this.read(a,b,function(a,d){a?(d={},d[b]=a,c(d)):(g[b]=d,f());});}.bind(this));}.bind(this))).then(function(){d(null,g);},function(a){d(a);});t.Lp(f);}else d(O.Ss);};c.prototype.iza=function(a,f){var c;c=k.qb(f)?f:b;this.$q("billboard")?"[object Object]"!==Object.prototype.toString.call(a)?c(O.xN.Tl("items must be a map of keys to objects")):(f=new w.Promise(function(b){var f,c;f=this.Tg.billboard.r4();c=Object.keys(a);(f=f.filter(function(a){return-1===c.indexOf(a);}))&&0<f.length?this.Yoa("billboard",f,function(){b();}):b();}.bind(this)).then(function(){return w.Promise.all(Object.keys(a).map(function(b){return new w.Promise(function(f,c){this.save("billboard",b,a[b].ej,a[b].Bc,function(a,d){a?(D.error("Received an error saving",b,a),c(a)):f(d);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,d,g;try{f=Number.MAX_VALUE;d=Number.MAX_VALUE;g=b.reduce(function(a,b){b.ci&&b.ci<f&&(f=b.ci);b.XB&&b.XB<d&&(d=b.XB);f<Number.MAX_VALUE&&(a.freeSize=f);d<Number.MAX_VALUE&&(a.dailyBytesRemaining=d);k.ka(b.wh)&&(a.bytesWritten+=b.wh);k.ka(b.duration)&&(a.duration+=b.duration);return a;},{partition:"billboard",type:"saveMultiple",keys:Object.keys(a),time:w.time.now(),bytesWritten:0,duration:0});this.Ia("mediacache",g);c(null,g);}catch(Q){c(err);}}.bind(this),function(a){k.isArray(a.ama)?a.ama.forEach(function(a){this.Ia("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a.error,resources:a.IK});}.bind(this)):this.Ia("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a});c(a);}.bind(this)),t.Lp(f)):(k.qb(f)?f:b)(O.Ss);};c.prototype.save=function(a,c,d,g,m,p){var q,u,z,y,n,E,r,la,t;q=k.qb(m)?m:b;if(this.$q(a)){u=this.Tg[a];z=P.U1(c);m=u.r4();m=m.filter(function(a){return a!==c;});if(f(g)){y=x(c,d,this.K.qfb);n=u.Wc[c]||{};E=n.resourceIndex;E&&Object.keys(E).map(function(a){k.V(y[a])&&u["delete"](a);});g.convertToBinaryData&&(d=L.n0a(y),y=x(c,d,!1));E=w.time.now();r={};r.partition=a;r.resourceIndex=Object.keys(y).reduce(function(a,b){a[b]=G.a5(y[b]);return a;},{});r.creationTime=n.creationTime||E;r.lastRefresh=E;r.lifespan=g.lifespan;r.lastMetadataUpdate=E;r.size=n.size;r.convertToBinaryData=g.convertToBinaryData;la=function(a,b,f){a.Q3a(function(d,g){d&&D.error("Evicting","Failed to delete some orphaned records",d);g.u9?f():(d=a.b9a())?this["delete"](a.getName(),d,function(d){d?(p||(k.isArray(b)?b.forEach(function(b){l(this,"save",a.getName,b.IK,b.error);}.bind(this)):h(this,"save",a.getName(),c,void 0,b)),q(b)):f();}.bind(this)):q(O.Tz);}.bind(this));}.bind(this);t=function(){var a,b,f;a=this.Tg;b=0;f=w.time.now();if(!k.V(a))for(var c in a)b+=a[c].r8a(f);return b;}.bind(this);this.Yoa(a,m,function(){u.replace(z,r,function(b,f){f?(u.Wc[c]=P.U3(r),u.Slb(y,v(y,a,c,d,g,q,p,z,this,u,la),p,t)):b.code===O.Tz.code?la(u,b,function(){this.save(a,c,d,g,q,p);}.bind(this)):q(b);}.bind(this),p,t);}.bind(this));}else q(O.JJa);}else q(O.Ss);};c.prototype["delete"]=function(a,f,c){var d;d=k.qb(c)?c:b;this.$q(a)?q(this.Tg[a],f,function(b){h(this,"delete",a,f,void 0,b);d(b);}.bind(this)):d(O.Ss);};c.prototype.Yoa=function(a,f,c){var d,g;d=k.qb(c)?c:b;if(this.$q(a)){g=this.Tg[a];c=w.Promise.all(f.map(function(a){return new w.Promise(function(b){q(g,a,function(f){b({S:k.V(f),error:f,ej:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var p,q;for(var f=[],c=[],g=[],m=0;m<b.length;m++){p=b[m];p.S?f.push(p.ej):p.error&&c.push(p);}0<f.length&&l(this,"delete",a,f);0<c.length&&(g=c.map(function(a){return a.ej;}),b=t.gsa(c),q=b[0],b.forEach(function(b){D.error("Failed to delete resources ",b.error,b.IK);l(this,"delete",a,b.IK,b.error);}.bind(this)));b={};b.WHb=f;0<g.length&&(b.XHb=g);q?d(q,b):d(void 0,b);}.bind(this),function(b){l(this,"delete",a,f,b);d(b);}.bind(this));t.Lp(c);}else d(O.Ss);};c.prototype.clear=function(a,f){var c;c=k.qb(f)?f:b;this.$q(a)?this.Tg[a].clear(function(a){c(a.filter(p));}):c(O.Ss);};c.prototype.Pkb=function(a,f,c){var d,g;d=k.qb(c)?c:b;if(this.$q(a)){c=P.U1(f);g=this.Tg[a];g.read(c,function(a,b){var c;if(a)d(O.KJa);else{c=P.U3(b)||{};g.Hra(Object.keys(c.N9),function(a){c.size=a;(a=g.Wc[f])&&(c.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=c.lastMetadataUpdate?g.Wc[f]=c:a.lastMetadataUpdate&&(a.lastMetadataUpdate>c.lastMetadataUpdate||k.V(c.lastMetadataUpdate))&&(c=a));d(null,c);});}});}else d(O.Ss);};c.prototype.KBa=function(a){w.VI(a);};c.prototype.constructor=c;g.M=c;},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);g=a(59);c=a(200);h=a(82);l=a(202);f=a(13);p=a(128);m=a(8).Db;q=a(709);u=a(707);a=function(a){var F3k;F3k=2;while(F3k!==3){switch(F3k){case 2:b.__extends(d,a);d.create=function(a,b,g,p,q,h,v){var G3k,x,k,X3k;G3k=2;while(G3k!==18){X3k="subr";X3k+="eque";X3k+="st";switch(G3k){case 5:return new u.eDa(a,g,p,q,h,v);break;case 11:h-=k.Z;G3k=10;break;case 2:G3k=1;break;case 14:G3k=0<h?13:20;break;case 3:x=Math.ceil(p.Z/p.oD);b=p.offset;h=p.Z;q=new c.Qz(a,p,q,v);G3k=6;break;case 6:x=Math.ceil(p.Z/x);G3k=14;break;case 4:G3k=p.oD&&p.Z>p.oD?3:19;break;case 1:G3k=!b.Nl&&p.Zc&&a.P===f.G.VIDEO&&m.ic&&m.ic.XD.xw?5:4;break;case 13:k={offset:b,Z:Math.min(h,x),responseType:p.responseType};b+=k.Z;G3k=11;break;case 10:q.push(new l.QE(a,g,X3k,k,q,v));G3k=14;break;case 20:return q;break;case 19:return new d(a,g,p,q,h,v);break;}}};d.prototype.toString=function(){var T3k;T3k=2;while(T3k!==1){switch(T3k){case 4:return l.QE.prototype.toString.call(this);break;T3k=1;break;case 2:return l.QE.prototype.toString.call(this);break;}}};return d;break;}}function d(b,f,c,d,g,p){var U3k,l,W3k,e3k,p3k;U3k=2;while(U3k!==14){W3k="e";W3k+="d";W3k+="i";W3k+="t";e3k="c";e3k+="a";e3k+="c";e3k+="h";e3k+="e";p3k="1";p3k+="SIYb";p3k+="Zr";p3k+="NJCp";p3k+="9";switch(U3k){case 2:l=this;p3k;l=[e3k,W3k].filter(function(a,b){var Y3k;Y3k=2;while(Y3k!==1){switch(Y3k){case 2:return[g,c.Zc][b];break;case 4:return[g,c.Zc][b];break;Y3k=1;break;}}});U3k=3;break;case 3:l=l.length?"("+l.join(",")+")":"";void 0===c.responseType&&(c.responseType=c.Zc||m.ic&&!m.ic.XD.xw?0:1);l=a.call(this,b,f,l,c,d,p)||this;U3k=7;break;case 7:h.Rk.call(l,b,c);return l;break;}}}}(l.QE);d.Iba=a;p(q["default"],a.prototype);g.Pk(h.Rk,a,!1);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(36);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.qwa=this.u.Rc();a=this.u.Rc();this.upb=a>>>2;this.Crb=a>>>1&1;this.iZa=256*this.u.lf()+this.u.Rc();this.Wu=this.u.fb();this.Gma=this.u.fb();c.kq&&this.u.Hb("DecoderConfigDescriptor: objectTypeIndication= 0x"+this.qwa.toString(16)+", streamType="+this.upb+", upStream="+this.Crb+", bufferSizeDB="+this.iZa+", maxBitrate="+this.Wu+", avgBitrate="+this.Gma);this.Rka();return!0;};d.tag=4;return d;}(a(150)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(36);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.u.offset+=8;this.j_a=this.u.lf();this.Hmb=this.u.lf();this.u.offset+=4;this.gza=this.u.lf();this.u.offset+=2;c.kq&&this.u.Hb("MP4AudioSampleEntry: channelcount: "+this.j_a+", samplesize: "+this.Hmb+", samplerate: "+this.gza);return b;};return d;}(a(359)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.u.offset+=6;this.u.lf();return!0;};return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(8);h=a(127);g=function(a){function f(b,f,c,d){b=a.call(this,b,f,c,d)||this;b.oa=[];b.h_=!1;b.kG=!1;b.Cc=!1;b.ug=!1;b.ub=!1;b.BA=!1;b.rja=!1;b.qja=!1;b.rg=void 0;b.$k=void 0;b.Qo=void 0;return b;}b.__extends(f,a);Object.defineProperties(f.prototype,{active:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{hya:{get:function(){return this.ug;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return this.ub||(this.ub=this.oa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{gl:{get:function(){return this.BA;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{cn:{get:function(){return this.oa.reduce(function(a,b){return a+b.cn;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Be:{get:function(){return this.oa.reduce(function(a,b){return a+b.Be;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{pd:{get:function(){return this.rg||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{DS:{get:function(){return this.$k;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{url:{get:function(){return this.oa[0]&&this.oa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){return this.We||this.oa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return this.Qo&&this.Qo.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{nk:{get:function(){return this.Qo&&this.Qo.nk;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{dR:{get:function(){return this.Qo&&this.Qo.dR;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{El:{get:function(){return this.Qo&&this.Qo.El;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Yn:{get:function(){return!!this.oa.length&&this.oa[0].Yn;},enumerable:!0,configurable:!0}});f.prototype.push=function(a){this.kG&&a.zc(this.ue,this.bf);this.oa.push(a);this.h_&&a.gv();};f.prototype.zc=function(a,b){h.Sv.prototype.zc.call(this,a,b);this.oa.forEach(function(f){return f.zc(a,b);});this.kG=!0;};f.prototype.kta=function(){return 7===this.We;};f.prototype.gv=function(){return this.h_=this.oa.every(function(a){return a.gv();});};f.prototype.Jd=function(){this.oa.forEach(function(a){return a.Jd();});};f.prototype.sV=function(a){this.We=this.Qo=void 0;return this.oa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.sV(a):!0;});};f.prototype.abort=function(){var a,b;a=this.active;this.We=7;this.BA=!0;this.ug=this.Cc=!1;b=this.oa.map(function(a){return a.abort();}).every(function(a){return a;});this.sR(this,a);return b;};f.prototype.getResponseHeader=function(a){var b;b=null;this.oa.some(function(f){return!!(b=f.getResponseHeader(a));});return b;};f.prototype.getAllResponseHeaders=function(){var a;a=null;this.oa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};f.prototype.Ty=function(a){this.Cc||(this.Cc=!0);this.rja||(this.rja=!0,this.li=0,this.rg=this.cj=a.pd,this.$k=c.time.ca()-this.rg,this.Yx(this));};f.prototype.fv=function(a){this.ug||(this.ug=!0);this.qja||(this.qja=!0,this.rg=a.pd,this.$k=c.time.ca()-this.rg,this.Xx(this));};f.prototype.$J=function(a){this.rg=a.pd;this.wC(this);this.li=this.Be;this.cj=a.pd;};f.prototype.ji=function(a){this.rg=a.pd;this.$k=c.time.ca()-this.rg;this.complete?(this.ub=!0,this.We=5,this.ug=this.Cc=!1,this.Bu(this)):this.wC(this);this.li=this.Be;this.cj=a.pd;};f.prototype.AD=function(a){this.rg=a.pd;this.$k=c.time.ca()-this.rg;this.Qo=a;this.We=6;this.tR(this);};f.prototype.ET=function(){};f.prototype.Ti=function(){return this.oa[0].Ti()+"-"+this.oa[this.oa.length-1].Ti();};f.prototype.toString=function(){return"Compound["+this.oa.map(function(a){return a.toString();}).join(",")+"]";};f.prototype.toJSON=function(){return{requests:this.oa};};return f;}(h.Sv);d.$L=g;},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(13);h=a(8);l=a(360);f=a(362);p=a(203);g=a(28);m=a(201);q=a(27);a=a(59);u=h.MediaSource;h=function(a){function d(b,c,d,g,m,p,l){m=a.call(this,b,g,m,l)||this;f.cW.call(m,b,g,l);m.K=c;m.aO=d;m.fSa=!!g.Hr;m.SRa=!!g.Px;m.nE=!!g.nE;m.xUa=g.Z;m.mG=(p?"(cache)":"")+m.Xa+" header";m.kB(b.url||g.url,g.offset,g.Z);return m;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ac:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.aO;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hr:{get:function(){return this.fSa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Px:{get:function(){return this.SRa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xhb:{get:function(){return this.xUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{parseError:{get:function(){return this.i_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bK:{get:function(){return this.AUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.K;},enumerable:!0,configurable:!0}});d.prototype.Jd=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.Jd.call(this);};d.prototype.Qlb=function(){if(!this.I_)return!0;this.I_=!1;return this.yka();};d.prototype.ji=function(b){this.Xj=this.Xj?q.wr(this.Xj,b.response):b.response;b.AK();this.yka()?a.prototype.ji.call(this,b):this.lia?(this.kB(b.url,b.offset+b.Z,this.lia),a.prototype.ji.call(this,b)):this.tR(this);};d.prototype.vTa=function(a,b){a.LT=!1;a.parseError=b.errormsg;};d.prototype.zTa=function(a,b){a.LT=!1;a.pXa=b.bytes;};d.prototype.wTa=function(a,b){a.Y=b.fragments;a.cv=b.movieDataOffsets;a.uh=b.additionalSAPs;a.Es=b.truncated;a.w2=b.defaultSampleDuration;a.ha=b.timescale;};d.prototype.BTa=function(a,b){this.K.eK.enabled&&(a.fq=b.vmafs);};d.prototype.ATa=function(a,b){b.frameDuration&&(a.Ka=b.frameDuration,this.Bka.Ka=a.Ka);};d.prototype.uTa=function(a,b){var f;f=a.Ne||{};f.source="mp4";f.ql=b.drmType;f.tk=b.header;a.Ne=f;};d.prototype.yTa=function(a,b){a.Ny=b.header;};d.prototype.xTa=function(a,b){var f;f=a.Ne||{};f.Vna=b.keyId;f.Rcb=(f.Rcb||[]).concat(b.offset);f.RFb=b.flipped;a.Ne=f;};d.prototype.tTa=function(a,b){a.LT=!0;a.QJ=b.moovEnd;a.bK=b.parsedEnd;};d.prototype.kB=function(a,b,f){a=new p.aM(this.stream,this.aO,this.mG+" ("+this.oa.length+")",{offset:b,Z:f,url:a,location:this.location,ad:this.ad,responseType:0},this,this.W);this.push(a);this.Lb=this.oa.reduce(function(a,b){return a+b.Z;},0);};d.prototype.yka=function(){var a,b,f;b=this.K.wsb;f=this.K.nYa;this.P===c.G.VIDEO&&b&&!this.K.Fr?a=b:this.P===c.G.AUDIO&&f&&(a=f);a=new m.LKa(this.stream,this.Xj,["sidx"],this.P===c.G.VIDEO&&this.K.Fr||this.P===c.G.AUDIO&&this.K.Em,{truncate:this.Es,sIb:this.stream.track.Q2,hE:a,xib:void 0===this.Ka,Kaa:!u.ic||!u.ic.YP,Laa:this.K.Laa,yn:this.K.yn&&this.K.Em,pK:this.K.pK,JE:this.K.JE});b={};a.addEventListener("error",this.vTa.bind(this,b));a.addEventListener("requestdata",this.zTa.bind(this,b));a.addEventListener("fragments",this.wTa.bind(this,b));a.addEventListener("vmafs",this.BTa.bind(this,b));a.addEventListener("sampledescriptions",this.ATa.bind(this,b));a.addEventListener("drmheader",this.uTa.bind(this,b));a.addEventListener("nflxheader",this.yTa.bind(this,b));a.addEventListener("keyid",this.xTa.bind(this,b));a.addEventListener("done",this.tTa.bind(this,b));this.Bka={Ka:this.Ka};a.parse(this.Bka);b.LT?(this.Xj=a.nrb(b.QJ||b.bK),this.AUa=b.bK,this.BZ=b.Ne,this.c_=b.Ny,void 0===this.Ka&&void 0===b.Ka&&this.W.Rb("No frame duration available for "+this.Xa),void 0===this.Ka&&void 0===b.Ka&&this.W.Rb("No frame duration available for "+this.Xa),this.stream.BT(b.ha,b.Ka||this.Ka,b.Y,b.cv,b.uh,b.fq)):this.lia=b.pXa||0;return!!b.LT;};return d;}(l.$L);d.Kba=h;a.Pk(f.cW,h,!1);a.Pk(g.EventEmitter,h);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);g=function(a){function d(b,c,d){b=a.call(this,b,c)||this;b.Xj=c.Vn;b.BZ=c.Ne;b.c_=c.Ny;b.I_=!!c.Es;b.W=d;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ac:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{data:{get:function(){return this.Xj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vn:{get:function(){return this.Xj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.stream.Y;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fq:{get:function(){return this.Y&&this.Y.fq;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ne:{get:function(){return this.BZ;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ny:{get:function(){return this.c_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Es:{get:function(){return this.I_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{N4a:{get:function(){return!(!this.BZ&&!this.c_);},enumerable:!0,configurable:!0}});d.prototype.vXa=function(a){c(this.Dc.Xa===a.Xa);!a.Mc&&this.Dc.Mc&&a.fQ(this.Dc);!a.location&&this.Dc.location&&(a.location=this.Dc.location,a.Pb=this.Dc.Pb,a.tz=this.Dc.tz,a.url=this.Dc.url,a.Ga=this.Dc.Ga);this.Dc=a;};d.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.Y});};return d;}(a(153).Tv);d.cW=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(47);b=a(59);a=a(152);c=function(){function a(a,b){this.qm=a;this.Mw=b.Ib;this.Eq=b.Nb;}a.prototype.Oza=function(a){this.Eq=a;};a.prototype.sna=function(){this.Eq=void 0;};return a;}();d.bM=c;g.Zh(c.prototype,{Ib:g.L({get:function(){return void 0!==this.Mw?this.Mw:this.qm.Ib;}}),Nb:g.L({get:function(){return void 0!==this.Eq?this.Eq:this.qm.Nb;}}),ha:g.L({get:function(){return this.qm.ha;}}),qo:g.L({get:function(){return this.qm.qo;}})});b.Pk(a.cM,c);},function(g,d,a){var c,h,l,f,p,m;function b(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);h=a(74);l=a(205);g=a(47);f=a(82);p=a(204);a(14);m=a(13);a=function(){function a(a,f,c,d){this.K=c;this.W=d;this.Ki=a;this.TVa=f.df;this.TA=f.Xa||f.id;this.qO=f.Bl;this.aRa=f.O;this.Q_=f.oc;this.Yw=f.profile||f.Me;this.HVa=f.Ij;this.ta=f.Y;this.Ge=b(f.Ge);this.inRange=b(f.inRange);this.$B=f.$B;this.vl=b(f.vl);this.ZU=!!f.ZU;this.Ga=f.Ga;this.url=this.tz=this.Pb=this.Lk=this.N6=this.location=this.pa=void 0;this.Dh=!1;this.xd=void 0;a=this.K&&"object"===typeof this.K.pK&&this.K.pK[this.profile];"object"===typeof a&&(a=a[this.O])&&(this.eB=new h.ec(a));}a.vR=function(b,f,c,d,g,m,l,q){b=p.dW.vR(b,f,c,d,m,q);return a.S3(b,g,m,l,q);};a.S3=function(b,f,d,g,m){var p,l;p=b.Fa[["audio_tracks","video_tracks"][b.P]][b.uf].streams[f];l=p.content_profile;return new a(b,c.__assign({},d,{id:p.downloadable_id,O:p.bitrate,oc:p.vmaf,Me:l,Ij:p.sidx,df:f,Bl:-1===l.indexOf("none")}),g,m);};a.prototype.BT=function(a,b,f,c,d,g){f&&void 0!==f.Ol&&(this.track.Mc||void 0!==f.Qd&&f.Qd.length)&&void 0!==f.offset&&void 0!==f.sizes&&f.sizes.length?this.Mc||(this.track.BT(this,a,b,f,d),this.ta=new l.tPa(this.track.Rl,f,c,d,g,this.R)):this.W.error("AseStream.onHeaderReceived with missing fragments data:"+(void 0!==f.Ol)+","+this.track.Mc+","+this.track.Q2+","+(void 0!==f.Qd)+","+!(!f.Qd||!f.Qd.length)+","+(void 0!==f.offset)+","+(void 0!==f.sizes)+","+!(!f.sizes||!f.sizes.length));};a.prototype.fQ=function(a){this.Mc||(this.track.r0a(a.track),this.ta=a.Y);};a.prototype.Zg=function(a){return new f.Rk(this,this.Y.get(a));};a.prototype.pra=function(a){var b,f,c;b=this.Zg(a.index);if(a.ae){f=a.ae;if(this.P===m.G.VIDEO&&this!==a.stream){if(b.uh&&b.uh.some(function(a,b){c=b;return a.Uc===f.Uc;}))f=b.uh[c];else return this.W.error("AdditionalSAP not found in stream "+this+": "+a+","+JSON.stringify(f)),b;}b.yk(f,a.Cu!==a.ea);b.XK(a.Jv);}else a.Zc&&b.yk();return b;};a.prototype.zS=function(a,b,f){if(!this.Mc||this.track.r5>=this.O)return!0;if(this.track.zua<=this.O)return!1;if(a=this.ta.zS(a,b,f)){if(!this.track.Q2||this.Bl)this.track.r5=this.O;}else this.track.zua=this.O;return a;};a.prototype.C_a=function(){this.pa=this.Ga=this.Pb=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.R,mediaType:this.P,streamId:this.Xa,bitrate:this.O};};a.prototype.toString=function(){return(0===this.P?"a":"v")+":"+this.Xa+":"+this.O;};return a;}();d.Lba=a;g.Zh(a.prototype,{Mc:g.L({get:function(){return!!this.Y;}}),AFb:g.L({get:function(){return!0;}}),Fa:g.L({get:function(){return this.Ki.Fa;}}),ia:g.L({get:function(){return this.Ki.ia;}}),R:g.L({get:function(){return this.Ki.R;}}),P:g.L({get:function(){return this.Ki.P;}}),Xo:g.L({get:function(){return this.Ki.Xo;}}),uf:g.L({get:function(){return this.Ki.uf;}}),Ka:g.L({get:function(){return this.Ki.Ka;}}),ha:g.L({get:function(){return this.Ki.ha;}}),Hy:g.L({get:function(){return this.Ki.Hy;}}),track:g.L({get:function(){return this.Ki;}}),df:g.L({get:function(){return this.TVa;}}),Xa:g.L({get:function(){return this.TA;}}),id:g.L({get:function(){return this.TA;}}),Bl:g.L({get:function(){return this.qO;}}),O:g.L({get:function(){return this.aRa;}}),oc:g.L({get:function(){return this.Q_;}}),profile:g.L({get:function(){return this.Yw;}}),Me:g.L({get:function(){return this.Yw;}}),Ij:g.L({get:function(){return this.HVa;}}),Gk:g.L({get:function(){return this.eB;}}),Y:g.L({get:function(){return this.ta;}}),XS:g.L({get:function(){return this.ta&&this.ta.XS;}}),Q3:g.L({get:function(){return this.Ki.Q3;}}),P3:g.L({get:function(){return this.Ki.P3;}}),YG:g.L({get:function(){return this.Ki.YG;}}),ZG:g.L({get:function(){return this.Ki.ZG;}}),V5:g.L({get:function(){return this.Ka.af;}}),U:g.L({get:function(){return 0;}})});},function(g){g.M=function(d,a){var b;if(!Array.isArray(d.Wna))return d;b=Object.create(d);d.Wna.forEach(function(c){if(void 0!==c.$fb&&a.duration>=c.$fb&&c.config)for(var d in c.config)b[d]=c.config[d];});return b;};},function(g,d,a){var c,h,l;function b(a){return function(){for(var b=Array(this.length),f=0;f<this.length;++f)b[f]=a.call(this,f);return b;};}Object.defineProperty(d,"__esModule",{value:!0});c=a(14);g=a(8);a=a(47);h=new g.Console("FRAGMENTS","media|asejs");l=function(){function a(a,b){this.Cb=a;this.Uh=b;}a.prototype.toJSON=function(){return{startPts:1E3*this.Ib/this.Ka.ha,endPts:1E3*this.Nb/this.Ka.ha,duration:1E3*this.zh/this.Ka.ha,index:this.index};};return a;}();d.YPa=l;a.Zh(l.prototype,{index:a.L({get:function(){return this.Uh;}}),Ib:a.L({get:function(){return this.Cb.JG+this.Cb.Wq[this.Uh];}}),Nb:a.L({get:function(){return this.Ib+this.Cb.jm[this.Uh];}}),zh:a.L({get:function(){return this.Cb.jm[this.Uh];}}),Ka:a.L({get:function(){return this.Cb.Ka;}}),ha:a.L({get:function(){return this.Cb.ha;}}),YG:a.L({get:function(){return this.Cb.Ka.sd;}}),ZG:a.L({get:function(){return this.Cb.Ka.ha;}}),U:a.L({get:function(){return Math.floor(1E3*this.Ib/this.ha);}}),ea:a.L({get:function(){return Math.floor(1E3*(this.Ib+this.zh)/this.ha);}}),duration:a.L({get:function(){return Math.floor(1E3*this.zh/this.ha);}})});g=function(){function a(a,b,f,c){this.P=a;this.length=f.Qd.length;this.Nt=f.ha;this.jm=f.Qd;this.xP=c&&c.JD;this.Yla=c&&c.$D;this.hO=b;this.Saa=this.Taa=this.Xja=void 0;this.JG=f.Ol;this.Wq=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Wq[b]=a,a+=this.jm[b];this.Wq[b]=a;this.ea=this.Nf(this.length);this.cp=Math.floor((this.ea-this.U)/this.length);}}a.prototype.Nf=function(a){return Math.floor(1E3*(this.JG+this.Wq[a])/this.ha);};a.prototype.mC=function(a){return a<this.length-1?this.Nf(a+1):this.ea;};a.prototype.Qd=function(a){return this.mC(a)-this.Nf(a);};a.prototype.get=function(a){return new l(this,a);};a.prototype.Bj=function(a,b,f){if(0===this.length||a<this.Nf(0))return-1;a=Math.max(a,b||0);for(var c=0,d=this.length-1,g,m;d>=c;)if(g=c+(d-c>>1),m=this.Nf(g),a<m)d=g-1;else if(a>=m+this.Qd(g))c=g+1;else{for(;b&&g<this.length&&this.Nf(g)<b;)++g;return g<this.length?g:f?this.length-1:-1;}return f?this.length-1:-1;};a.prototype.z3=function(a,b,f){a=this.Bj(a,b,f);return 0<=a?this.get(a):void 0;};a.prototype.R1=function(a,b){var f,c;f=Math.floor(b*this.ha/1E3);b=Math.min(a+Math.ceil(b/this.cp),this.length);c=this.Wq[b]-this.Wq[a];if(c>f){for(;c>=f;)--b,c-=this.jm[b];return b-a+1;}for(;c<f&&b<=this.length;)c+=this.jm[b],++b;return b-a;};a.prototype.subarray=function(b,f){c(void 0===b||0<=b&&b<this.length);c(void 0===f||f>b&&f<=this.length);return new a(this.P,this.Ka,{ha:this.ha,Ol:this.JG+this.Wq[b],Qd:this.jm.subarray(b,f)},this.xP&&{JD:this.xP.subarray(b,f+1),$D:this.Yla});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],f=0;f<this.length;++f)b.push(a(this.get(f),f,this));return b;};a.prototype.reduce=function(a,b){for(var f=0;f<this.length;++f)b=a(b,this.get(f),f,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.cp};};a.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.cp+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ea+"]");}};a.prototype.jRa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.jm[b],a);return this.Xja=a;};return a;}();d.Hha=g;a.Zh(g.prototype,{Ol:a.L({get:function(){return this.JG+this.Wq[0];}}),Opa:a.L({get:function(){return this.JG+this.Wq[this.length];}}),U:a.L({get:function(){return this.Nf(0);}}),TS:a.L({get:function(){return this.Xja||this.jRa();}}),Ka:a.L({get:function(){return this.hO;}}),ha:a.L({get:function(){return this.Nt;}})});d.h7=b;g.prototype.wAa=b(g.prototype.Nf);d.DBb=function(a){return"["+Array(a.length).map(function(b,f){return a[f].toString();}).join(",")+"]";};},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,c){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),c*a.byteLength/a.length);}:function(a,b,c){a.set(b,c);};g.M={from:function(a,b,c,d){a=new a(b.length);for(var g="function"===typeof c,f=0;f<b.length;++f)a[f]=g?c.call(d,b[f],f,b):b[f];return a;},set:d};},function(g){var a,b;function d(a,b,d){return function(f,c,g,l){var m;g=g||d.BYTES_PER_ELEMENT;if(f+c*g>this.byteLength){m=new d(c);m.set(a.call(this,f,c-1,g,l));m[c-1]=b.call(this,f+(c-1*g),l);return m;}return a.call(this,f,c,g,l);};}a={LC:function(a,b,d,f,g){var c;c=new Uint8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint8(b,g);return c;},OR:function(a,b,d,f,g){var c;c=new Uint16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint16(b,g);return c;},KC:function(a,b,d,f,g){var c;c=new Uint32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint32(b,g);return c;},y4:function(a,b,d,f,g){var c;c=new Int8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt8(b,g);return c;},w4:function(a,b,d,f,g){var c;c=new Int16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt16(b,g);return c;},x4:function(a,b,d,f,g){var c;c=new Int32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt32(b,g);return c;},A6a:function(){var c,g;if(DataView.prototype&&DataView.prototype.KC&&!b){try{c=new ArrayBuffer(4);g=new DataView(c);g.LC(0,4,1);}catch(l){return;}try{c=new ArrayBuffer(4);g=new DataView(c);g.LC(1,2,2);}catch(l){DataView.prototype.LC=d(DataView.prototype.LC,DataView.prototype.getUint8,Uint8Array);DataView.prototype.OR=d(DataView.prototype.OR,DataView.prototype.getUint16,Uint16Array);DataView.prototype.KC=d(DataView.prototype.KC,DataView.prototype.getUint32,Uint32Array);DataView.prototype.y4=d(DataView.prototype.y4,DataView.prototype.getInt8,Int8Array);DataView.prototype.w4=d(DataView.prototype.w4,DataView.prototype.getInt16,Int16Array);DataView.prototype.x4=d(DataView.prototype.x4,DataView.prototype.getInt32,Int32Array);}a.cab=function(a,b,c,d,g){return a.LC(b,c,d||1,g);};a.aab=function(a,b,c,d,g){return a.OR(b,c,d||2,g);};a.bab=function(a,b,c,d,g){return a.KC(b,c,d||4,g);};a.FEb=function(a,b,c,d,g){return a.y4(b,c,d||1,g);};a.DEb=function(a,b,c,d,g){return a.w4(b,c,d||2,g);};a.EEb=function(a,b,c,d,g){return a.x4(b,c,d||4,g);};b=!0;}}};b=!1;g.M=a;},function(g,d,a){(function(){var s3k,p,m,q,u,x,v,k,h4n,S4n,f4n;function f(a,b){var h3k;h3k=2;while(h3k!==7){switch(h3k){case 4:this.ZQa=q(a.ym.gamma||1,.1,10);this.ija=a.ym.filter;this.IVa=!!a.ym.simpleScaling;a.ym.niqrfilter&&a.ym.niqrcurve&&(this.d_=a.ym.niqrfilter,this.DTa=u(a.ym.niqrcurve,1,0,4));h3k=7;break;case 2:d.call(this,a,b);Array.isArray(a.ym.curves)?(this.Uia=u(a.ym.curves[0],0,0,1),this.Tia=u(a.ym.curves[1],0,0,1)):this.Sia=u(a.ym.curves,0,0,1);this.$Qa=q(a.ym.threshold||6E3,1,1E5);h3k=4;break;}}}function b(a,b,f){var c3k,c,d,g;c3k=2;while(c3k!==3){switch(c3k){case 1:c3k=f?5:9;break;case 2:c3k=1;break;case 5:a.some(function(a){var L3k,f;L3k=2;while(L3k!==6){switch(L3k){case 3:return c=g&&f!==d?g+(a-g)/(f-d)*(b-d):a,!0;break;case 4:L3k=b<=f?3:9;break;case 2:f=a.b;a=a.m;L3k=4;break;case 9:d=f;c=g=a;L3k=7;break;case 7:return!1;break;}}});c3k=4;break;case 9:a.some(function(a){var b3k;b3k=2;while(b3k!==5){switch(b3k){case 2:c=a.m;return b<=a.b;break;case 3:c=a.m;return b>a.b;break;b3k=5;break;}}});c3k=4;break;case 4:return c;break;}}}s3k=2;while(s3k!==24){h4n="me";h4n+="dia";h4n+="|a";h4n+="sejs";S4n="ASE";S4n+="J";S4n+="S";S4n+="_P";S4n+="REDICTOR";f4n="1S";f4n+="IYbZr";f4n+="NJ";f4n+="Cp";f4n+="9";switch(s3k){case 18:l.prototype.GVa=function(a,b){var V3k,f,c;V3k=2;while(V3k!==9){switch(V3k){case 2:f=!1;c=b.tH;V3k=4;break;case 4:a.Zn?f=!0:b.kaa&&a.pa&&a.pa.Aa<c?f=!0:a.ks&&(f=!0);return f;break;}}};Object.create(l.prototype);s3k=16;break;case 2:p=a(11);a(13);s3k=4;break;case 26:g.M=function(a,b){var I3k,f3k,m4n;I3k=2;while(I3k!==5){m4n="man";m4n+="ifol";m4n+="d";switch(I3k){case 4:return new l(a,b);break;case 1:return new f(a,b);break;case 2:f3k=a.m7;I3k=f3k===m4n?1:4;break;}}};f4n;s3k=24;break;case 13:d.prototype.fE=function(a){var M3k;M3k=2;while(M3k!==1){switch(M3k){case 2:this.YF=a;M3k=1;break;case 4:this.YF=a;M3k=8;break;M3k=1;break;}}};d.prototype.yZ=function(a){var E3k,b,f;E3k=2;while(E3k!==9){switch(E3k){case 4:b.E6&&this.Wja?(b=this.Wja,a=Math.max(a<2*b?a/2:a-b,f)):a=f;return a;break;case 2:b=this.K;p.Na(this.YF)?f=a*(100-b.vV)/100:(f=this.YF,f=a<2*f?a/2:a-f);E3k=4;break;}}};l.prototype=Object.create(d.prototype);l.prototype.gSa=function(a,f){var y3k,c,d;y3k=2;while(y3k!==8){switch(y3k){case 2:c=this.K;d=f?c.K1:c.K0;f=f?c.L1:c.M0;p.isArray(f)&&(d=b(f,a.ol-a.nf,c.L0));return d;break;}}};l.prototype.Hka=function(a,b){var z3k;z3k=2;while(z3k!==1){switch(z3k){case 4:return c(this.K,a,b);break;z3k=1;break;case 2:return c(this.K,a,b);break;}}};l.prototype.Ika=function(a,b){var K3k,f;K3k=2;while(K3k!==3){switch(K3k){case 2:f=this.GVa(a,this.K);a=a.pa?a.pa.Aa*(100-this.gSa(b,f))/100|0:0;K3k=4;break;case 4:return this.yZ(a);break;}}};s3k=18;break;case 4:new(a(8)).Console(S4n,h4n);m=a(60);q=m.MB;u=m.z_a;x=m.p6a;v=m.q6a;k=m.Lmb;s3k=13;break;case 16:f.prototype=Object.create(d.prototype);f.prototype.Hka=function(a,b){var Q3k;Q3k=2;while(Q3k!==1){switch(Q3k){case 4:return c(this.K,a,b);break;Q3k=1;break;case 2:return c(this.K,a,b);break;}}};f.prototype.Ika=function(a,b){var S3k,f,c,d;S3k=2;while(S3k!==13){switch(S3k){case 2:f=a.pa&&a.pa.Aa||0;c=Math.pow(Math.max(1-(a[this.ija]&&a[this.ija].Aa||f)/this.$Qa,0),this.ZQa);d=b.ol-b.nf;S3k=3;break;case 9:return this.yZ((1-a.Fjb)*f);break;case 3:S3k=a.Fjb?9:8;break;case 8:this.Sia?c*=x(this.Sia,d,c):this.IVa?(b=x(this.Uia,d,1),d=x(this.Tia,d,1),c=b*c+d*(1-c)):c=x(k(this.Uia,this.Tia,c),d,1);a=this.d_&&a[this.d_]&&a[this.d_].Oy;void 0!==a&&(a=v(this.DTa,a),c=Math.min(c*a,1));S3k=14;break;case 14:q8ff.U4n(0);return this.yZ(q8ff.v4n(1,f,c));break;}}};s3k=26;break;}}function d(a,b){var r3k;r3k=2;while(r3k!==9){switch(r3k){case 1:this.K=a;this.Wja=b;this.Axa=function(a,b){var a3k;a3k=2;while(a3k!==1){switch(a3k){case 2:return this.Hka(a,b);break;case 4:return this.Hka(a,b);break;a3k=1;break;}}}.bind(this);r3k=3;break;case 2:this.YF=null;r3k=1;break;case 3:this.Bxa=function(a,b){var i3k;i3k=2;while(i3k!==1){switch(i3k){case 2:return this.Ika(a,b);break;case 4:return this.Ika(a,b);break;i3k=1;break;}}}.bind(this);r3k=9;break;}}}function c(a,b,f){var C3k;C3k=2;while(C3k!==5){switch(C3k){case 2:b=b.pa?b.pa.Aa:0;return a.KYa?(a=x(a.JYa,f.ol-f.nf,1),b*(1-a)):b*a.vV/100;break;}}}function l(a,b){var g3k;g3k=2;while(g3k!==1){switch(g3k){case 2:d.call(this,a,b);g3k=1;break;case 4:d.call(this,a,b);g3k=8;break;g3k=1;break;}}}}());},function(g,d,a){var c;function b(){this.rj=void 0;this.Kt=0;}c=a(11);b.prototype.Fe=function(){return 0!==this.Kt&&this.rj?{p25:this.rj.Dk,p50:this.rj.$i,p75:this.rj.Ek,c:this.Kt}:null;};b.prototype.Kh=function(a){if(!(!c.Na(a)&&c.has(a,"p25")&&c.has(a,"p50")&&c.has(a,"p75")&&c.has(a,"c")&&c.isFinite(a.p25)&&c.isFinite(a.p50)&&c.isFinite(a.p75)&&c.isFinite(a.c)))return this.rj=void 0,this.Kt=0,!1;this.rj={Dk:a.p25,$i:a.p50,Ek:a.p75};this.Kt=a.c;};b.prototype.get=function(){return{PT:this.rj,Jl:this.Kt};};b.prototype.set=function(a,b){this.rj=a;this.Kt=b;};b.prototype.reset=function(){this.rj=void 0;this.Kt=0;};b.prototype.toString=function(){return"IQRHist("+this.rj+","+this.Kt+")";};g.M=b;},function(g){function d(){}function a(a){this.mla=a;this.Wk=[];this.ze=null;}d.prototype.clear=function(){this.jd=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.jd;null!==b;){d=this.qj(a,b.data);if(0===d)return b.data;b=b.Xe(0<d);}return null;};d.prototype.lowerBound=function(a){var f;for(var b=this.jd,d=this.iterator(),g=this.qj;null!==b;){f=g(a,b.data);if(0===f)return d.ze=b,d;d.Wk.push(b);b=b.Xe(0<f);}for(f=d.Wk.length-1;0<=f;--f)if(b=d.Wk[f],0>g(a,b.data))return d.ze=b,d.Wk.length=f,d;d.Wk.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.qj;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.jd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.jd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.Lc=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.ze?this.ze.data:null;};a.prototype.next=function(){var a;if(null===this.ze){a=this.mla.jd;null!==a&&this.dka(a);}else if(null===this.ze.right){do if(a=this.ze,this.Wk.length)this.ze=this.Wk.pop();else{this.ze=null;break;}while(this.ze.right===a);}else this.Wk.push(this.ze),this.dka(this.ze.right);return null!==this.ze?this.ze.data:null;};a.prototype.cz=function(){var a;if(null===this.ze){a=this.mla.jd;null!==a&&this.Yja(a);}else if(null===this.ze.left){do if(a=this.ze,this.Wk.length)this.ze=this.Wk.pop();else{this.ze=null;break;}while(this.ze.left===a);}else this.Wk.push(this.ze),this.Yja(this.ze.left);return null!==this.ze?this.ze.data:null;};a.prototype.dka=function(a){for(;null!==a.left;)this.Wk.push(a),a=a.left;this.ze=a;};a.prototype.Yja=function(a){for(;null!==a.right;)this.Wk.push(a),a=a.right;this.ze=a;};g.M=d;},function(g,d,a){var c,h;function b(a){this.K={BJ:a.maxc||25,H1:a.c||.5,Psb:a.w||15E3,gk:a.b||5E3};c.call(this,this.K.Psb,this.K.gk);this.GG();}c=a(129);h=a(207).TDigest;b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.ED(0);c.prototype.shift.call(this);null!==a&&(this.Hd.push(a,1),this.Pt=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Hd.push(a,1);this.Pt=!0;c.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Yra();};b.prototype.Lr=function(){var a;a=this.Yra();return{min:a.min,p10:a.w8,p25:a.Dk,p50:a.$i,p75:a.Ek,p90:a.x8,max:a.max,centroidSize:a.g_a,sampleSize:a.aE,centroids:a.$f};};b.prototype.Yra=function(){var a;if(0===this.Hd.size())return null;a=this.Hd.gg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Pt||!this.Gb)this.Pt=!1,this.Gb={min:a[0],w8:a[1],Dk:a[2],$i:a[3],Ek:a[4],x8:a[5],max:a[6],gg:this.Hd.gg.bind(this.Hd),g_a:this.Hd.size(),aE:this.Hd.n,$f:this.y8a(),Lr:this.Lr.bind(this)};return this.Gb;};b.prototype.y8a=function(){var a;if(0===this.Hd.size())return null;if(!this.Pt&&this.Gb)return this.Gb.centroids;a=this.Hd.gg([.25,.75]);if(a[0]===a[1])return null;this.Hd.size()>this.K.BJ&&this.Hd.vr();a=this.Hd.Fz(!1).map(function(a){return{mean:a.re,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Hd.size();};b.prototype.toString=function(){return"btdtput("+this.sB+","+this.gc+","+this.Ug+"): "+this.Hd.summary();};b.prototype.GG=function(){this.Hd=new h(this.K.H1,this.K.BJ);};g.M=b;},function(g,d,a){var c,h;function b(a,b,d,g){c.call(this,d,g);this.Ro=new h(a);this.kTa=b;}c=a(129);h=a(208);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.ED(0);c.prototype.shift.call(this);null!==a&&this.Ro.d0(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.Ro.d0(a);c.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.F4();return{aE:this.HC(),PT:a,Oy:a.$i?(a.Ek-a.Dk)/a.$i:void 0};};b.prototype.HC=function(){return this.Ro.HC();};b.prototype.F4=function(){return this.Ro.HC()<this.kTa?{Dk:void 0,$i:void 0,Ek:void 0,aE:void 0,gg:void 0}:{Dk:this.Ro.gu(25),$i:this.Ro.gu(50),Ek:this.Ro.gu(75),aE:this.Ro.HC(),gg:this.Ro.gu.bind(this.Ro)};};b.prototype.toString=function(){return"biqr("+this.sB+","+this.gc+","+this.Ug+")";};g.M=b;},function(g,d,a){var h;function b(a){this.nx=a;this.reset();}function c(a){this.Ug=new b(a);this.gd=0;this.Ab=null;}h=a(11);b.prototype.IO=function(a,b){this.Da+=a;this.im+=a;this.Lb+=b;this.tg.push({d:a,Xt:b});};b.prototype.yG=function(){var a;for(;this.im>this.nx;){a=this.tg.shift();this.Lb-=a.Xt;this.im-=a.d;}};b.prototype.reset=function(){this.tg=[];this.Da=null;this.im=this.Lb=0;};b.prototype.setInterval=function(a){this.nx=a;this.yG();};b.prototype.start=function(a){h.Na(this.Da)&&(this.Da=a);};b.prototype.add=function(a,b,c){h.Na(this.Da)&&(this.Da=b);b>this.Da&&this.IO(b-this.Da,0);this.IO(c>this.Da?c-this.Da:0,a);this.yG();};b.prototype.get=function(){return{Aa:Math.floor(8*this.Lb/this.im),Ig:0};};c.prototype.reset=function(){this.Ug.reset();this.gd=0;this.Ab=null;};c.prototype.add=function(a,b,c){!h.Na(this.Ab)&&c>this.Ab&&(b>this.Ab&&(this.gd+=b-this.Ab),this.Ab=null);this.Ug.add(a,b-this.gd,c-this.gd);};c.prototype.start=function(a){!h.Na(this.Ab)&&a>this.Ab&&(this.gd+=a-this.Ab,this.Ab=null);this.Ug.start(a-this.gd);};c.prototype.stop=function(a){this.Ab=h.Na(this.Ab)?a:Math.min(a,this.Ab);};c.prototype.get=function(){return this.Ug.get();};c.prototype.setInterval=function(a){this.Ug.setInterval(a);};g.M={Aub:b,oGa:c};},function(g,d,a){var l;function b(a,b){this.reset();this.Ynb(a,b);}function c(a,b){this.xka=b;this.vla=1.25;this.setInterval(a);this.reset();}function h(a,b){this.ut=new c(a,b);this.gd=0;this.Ab=null;}l=a(11);b.prototype.Ynb=function(a,b){this.Hw=Math.pow(.5,1/a);this.iG=a;this.xt=l.ka(b)?b:0;};b.prototype.reset=function(a){a&&a.Aa&&l.ka(a.Aa)?a.Ig&&l.ka(a.Ig)?(this.Sh=this.xt,this.Di=a.Aa,this.Oo=a.Ig+a.Aa*a.Aa):(this.Sh=this.xt,this.Di=a.Aa,this.Oo=a.Aa*a.Aa):this.Oo=this.Di=this.Sh=0;};b.prototype.add=function(a){var b;if(l.ka(a)){this.Sh++;b=this.Sh>this.xt?this.Hw:1-1/this.Sh;this.Di=b*this.Di+(1-b)*a;this.Oo=b*this.Oo+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.Sh)return{Aa:0,Ig:0};a=this.Di;b=this.Oo;if(0===this.xt)c=1-Math.pow(this.Hw,this.Sh),a=a/c,b=b/c;c=a*a;return{Aa:Math.floor(a),Ig:Math.floor(b>c?b-c:0)};};b.prototype.Fe=function(){var a;if(0===this.Sh)return null;a={a:Math.round(this.Di),s:Math.round(this.Oo)};this.Sh<this.xt&&(a.c=this.Sh);this.xt||(a.n=this.Sh);return a;};b.prototype.Kh=function(a){if(l.Na(a)||!l.has(a,"a")||!l.has(a,"s")||!l.isFinite(a.a)||!l.isFinite(a.s))return this.Oo=this.Di=this.Sh=0,!1;this.Di=a.a;this.Oo=a.s;this.xt?l.has(a,"c")&&l.ka(a.c)?this.Sh=a.c:l.has(a,"n")&&l.ka(a.n)?(this.Sh=a.n,a=1-Math.pow(this.Hw,a.n),this.Di/=a,this.Oo/=a):this.Sh=this.xt:l.has(a,"n")&&l.ka(a.n)?this.Sh=a.n:this.Sh=16*this.iG;return!0;};c.prototype.setInterval=function(a){this.iG=a;this.Hw=-Math.log(.5)/a;};c.prototype.reset=function(a){this.Da=this.Gc=null;this.pP=this.xka||0;a&&l.isFinite(a.Aa)?(this.$F=0,this.Di=a.Aa):this.Di=this.$F=0;};c.prototype.start=function(a){l.Na(this.Gc)&&(this.Da=this.Gc=a);};c.prototype.add=function(a,b,c){var f,d;l.Na(this.Gc)&&(this.Da=this.Gc=b);this.Gc=Math.min(this.Gc,b);this.Da<this.Gc+this.pP&&c>this.Gc+this.pP&&0<this.Da-this.Gc&&(this.Di=this.$F/(this.Da-this.Gc));b=Math.max(c-b,1);a=8*a/b;f=this.Hw;d=c>this.Da?c:this.Da;this.Di=this.Di*(d>this.Da?Math.exp(-f*(d-this.Da)):1)+a*(1-Math.exp(-f*b))*(c>d?Math.exp(-f*(d-c)):1);this.Da=d;this.$F+=a*b;};c.prototype.get=function(a){var b;a=Math.max(a,this.Da);b=this.Di*Math.exp(-this.Hw*(a-this.Da));0===this.pP?(a=1-Math.exp(-this.Hw*(a-this.Gc)),0<a&&(b/=a)):null!==this.Da&&this.Da<=this.Gc+this.pP&&(a=this.$F/Math.max(this.Da-this.Gc,1),b=b<a*this.vla&&b>a/this.vla?b:a);return{Aa:Math.floor(b)};};c.prototype.toString=function(){return"ewmav("+this.iG+","+this.xka+")";};h.prototype.setInterval=function(a){this.ut.setInterval(a);};h.prototype.reset=function(a){this.ut.reset(a);this.gd=0;this.Ab=null;};h.prototype.start=function(a){!l.Na(this.Ab)&&a>this.Ab&&(this.gd+=a-this.Ab,this.Ab=null);this.ut.start(a-this.gd);};h.prototype.add=function(a,b,c){!l.Na(this.Ab)&&c>this.Ab&&(this.gd+=b>this.Ab?b-this.Ab:0,this.Ab=null);this.ut.add(a,b-this.gd,c-this.gd);};h.prototype.stop=function(a){this.Ab=Math.max(l.Na(this.ut.Da)?0:this.ut.Da+this.gd,l.Na(this.Ab)?a:Math.min(this.Ab,a));};h.prototype.get=function(a){return this.ut.get((l.Na(this.Ab)?a:this.Ab)-this.gd);};h.prototype.toString=function(){return this.ut.toString();};g.M={pGa:b,Bub:c,nGa:h};},function(g,d,a){g.M={RDb:a(375),vIb:a(374),gub:a(739),fub:a(373),hub:a(372),nda:a(732)};},function(g,d,a){var f,p,m,q,u,x;function b(a){var b;b=a.JZ;this.K=a;this.Og=p.ed.HAVE_NOTHING;this.PA=a.PA;a=new u(this.PA);this.KG=a.create("throughput-location-history",b);this.Uq=a.create("respconn-location-history",b);this.Kq=a.create("respconn-location-history",b);this.cP=a.create("throughput-tdigest-history",b);this.nO=a.create("throughput-iqr-history",b);this.Da=null;}function c(a,f,c,d,g){this.Jq=new b(g);this.um=[];this.jTa=m.time.ca()-Date.now()%864E5;this.Hq=null;this.K=g;for(a=0;a<d;++a)this.um.push(new b(g));}function h(a,b,c){return f.has(a,b)?a[b]:a[b]=c;}function l(a,f){var c;this.K=a;this.fP=f;this.k6a();this.hG=new b(this.K);this.oG();c=a.m2;c&&(c={yc:p.ed.fF,pa:{Aa:parseInt(c,10),Ig:0},kg:{Aa:0,Ig:0},Wn:{Aa:0,Ig:0}},this.get=function(){return c;});}f=a(11);p=a(13);d=a(27);m=a(8);q=d.wHa;u=a(376).nda;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");x={yc:p.ed.HAVE_NOTHING};b.prototype.px=function(a,b){this.Og=b;this.KG.add(a);this.cP.add(a);this.Da=m.time.ca();};b.prototype.Mz=function(a,b){this.nO.set(a,b);};b.prototype.er=function(a){this.Uq.add(a);};b.prototype.cr=function(a){this.Kq.add(a);};b.prototype.Fe=function(){var a,b,c,d,g,p;a=this.KG.Fe();b=this.Uq.Fe();c=this.Kq.Fe();d=this.nO.Fe();g=this.cP.Fe();if(f.Na(a)&&f.Na(b)&&f.Na(c))return null;p={c:this.Og,t:m.time.PJ(this.Da)};f.Na(a)||(p.tp=a);f.Na(b)||(p.rt=b);f.Na(c)||(p.hrt=c);f.Na(d)||(p.iqr=d);f.Na(g)||(p.td=g);return p;};b.prototype.Kh=function(a){var b;b=m.time.now();if(!(a&&f.has(a,"c")&&f.has(a,"t")&&f.has(a,"tp")&&f.isFinite(a.c)&&f.isFinite(a.t))||0>a.c||a.c>p.ed.fF||a.t>b||!this.KG.Kh(a.tp))return this.Og=p.ed.HAVE_NOTHING,this.Hq=this.Da=null,this.KG.Kh(null),this.Uq.Kh(null),this.Kq.Kh(null),!1;this.Og=a.c;this.Da=m.time.yT(a.t);this.Uq.Kh(f.has(a,"rt")?a.rt:null);this.Kq.Kh(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr")&&this.nO.Kh(a.iqr);f.has(a,"td")&&this.cP.Kh(a.td);return!0;};b.prototype.get=function(){var a,b,c,d,g,l;a=this.K;if(f.Na(this.Da))return x;b=(m.time.ca()-this.Da)/1E3;b>a.CSa?this.Og=p.ed.HAVE_NOTHING:b>a.cSa&&(this.Og=Math.min(this.Og,p.ed.Ps));a=this.KG.get();c=this.Uq.get();d=this.Kq.get();g=this.nO.get();l=this.cP.get();b={dk:b,yc:this.Og,pa:a,kg:c,Wn:d,vk:g,Ql:l};a&&(b.EIb=q.prototype.R8.bind(a));c&&(b.YHb=q.prototype.R8.bind(c));d&&(b.lFb=q.prototype.R8.bind(d));return b;};b.prototype.time=function(){return this.Da;};b.prototype.st=function(){this.get();m.time.ca();};c.prototype.Uh=function(){return((m.time.ca()-this.jTa)/1E3/3600/(24/this.um.length)|0)%this.um.length;};c.prototype.Fe=function(){var a;a={g:this.Jq.Fe(),h:this.um.map(function(a){return a.Fe();})};f.Na(this.Hq)||(a.f=m.time.PJ(this.Hq));return a;};c.prototype.Kh=function(a){var b,c;if(!this.Jq.Kh(a.g))return!1;b=this.um.length;c=!1;this.um.forEach(function(f,d){c=!f.Kh(a.h[d*a.h.length/b|0])||c;});this.Hq=f.has(a,"f")?m.time.yT(a.f):null;return c;};c.prototype.px=function(a,b){this.Jq.px(a,b);this.um[this.Uh()].px(a,b);this.Hq=null;};c.prototype.Mz=function(a,b){this.Jq.Mz(a,b);this.um[this.Uh()].Mz(a,b);};c.prototype.er=function(a){this.Jq.er(a);this.um[this.Uh()].er(a);};c.prototype.cr=function(a){this.Jq.cr(a);this.um[this.Uh()].cr(a);};c.prototype.fail=function(a){this.Hq=a;};c.prototype.get=function(){var a,b;if(!f.Na(this.Hq)){if((m.time.ca()-this.Hq)/1E3<this.K.bSa)return{yc:p.ed.HAVE_NOTHING,Vx:!0};this.Hq=null;}a=this.um[this.Uh()].get();b=this.Jq.get();a=a.yc>=b.yc?a:b;a.Vx=!1;return a;};c.prototype.time=function(){return this.Jq.time();};c.prototype.st=function(a){this.Jq.st(a+": global");this.um.forEach(function(b,c,d){f.Na(b.time())||(c=24*c/d.length,b.st(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};l.prototype.yja=function(a,b){var f;f=this.K;a=h(this.SA,a,{});return h(a,b,new c(0,0,0,f.Dka||4,f));};l.prototype.oG=function(){var a,b;a=m.storage.get("lh");b=m.storage.get("gh");a&&this.HG(a);b&&this.xVa(b);};l.prototype.NZ=function(){var a;a={};f.Lc(this.SA,function(b,c){f.Lc(b,function(b,f){h(a,c,{})[f]=b.Fe();},this);},this);return a;};l.prototype.xVa=function(a){this.hG.Kh(a);};l.prototype.HG=function(a){var b,d;b=null;d=this.K;f.Lc(a,function(a,g){f.Lc(a,function(a,m){var p;p=new c(0,0,0,d.Dka||4,d);p.Kh(a)?(h(this.SA,g,{})[m]=p,b=!0):f.Na(b)&&(b=!1);},this);},this);return f.Na(b)?!0:b;};l.prototype.save=function(){var a;a=this.NZ();m.storage.set("lh",a);m.storage.set("gh",this.hG.Fe());this.fP&&this.fP.A$(this.hG.Fe());};l.prototype.k6a=function(){this.SA={};this.NA=this.Qia="";this.sg=null;};l.prototype.SU=function(a){this.Qia=a;this.sg=null;};l.prototype.QU=function(a){this.NA=a;this.sg=null;};l.prototype.iO=function(){f.Na(this.sg)&&(this.sg=this.yja(this.Qia,this.NA));return this.sg;};l.prototype.px=function(a,b){this.iO().px(a,b);this.hG.px(a,b);};l.prototype.Mz=function(a,b){a&&a.Dk&&a.$i&&a.Ek&&(this.iO().Mz(a,b),this.hG.Mz(a,b));};l.prototype.er=function(a){this.iO().er(a);};l.prototype.cr=function(a){this.iO().cr(a);};l.prototype.fail=function(a,b){this.yja(a,this.NA).fail(b);};l.prototype.get=function(a,b){var c,d,g,m;a=(a=this.SA[a])?a[this.NA]:null;c=null;if(a&&(c=a.get(),c.yc>p.ed.HAVE_NOTHING))return c;if(!1===b)return x;d=c=null;g=!1;m=null;f.Lc(this.SA,function(a){f.Lc(a,function(a,b){var f;if(!g||b==this.NA){f=a.get();f&&(!d||d<=f.yc)&&(!m||d<f.yc||m<a.time())&&(d=f.yc,g=b==this.NA,m=a.time(),c=f);}},this);},this);return c?c:x;};l.prototype.st=function(){f.Lc(this.SA,function(a,b){f.Lc(a,function(a,f){a.st(b+":"+f);});});};g.M=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vHa=function(a){var d,g,f,p;function b(){if(f)for(var a;a=d.pop();)a(p);}function c(a){f=!0;p=a;b();}d=[];return function(f){d.push(f);g||(g=!0,a(c));b();};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xea="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mha="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iha="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cga="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,c){this.log=a;this.BV=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.mBa=function(a,c){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+c.type+" track - "+c.Vb),[];a=a.map(function(a){var f;f=b.BV(c,c.type,a.eC,a.O,a.oc,a.size,b.U8a(a.Pc),a.RB,a.Kqa/a.Jqa,a.Bl);f.kob(a.Iya,a.Hya);f.Nnb(a.woa,a.xoa,a.voa,a.uoa);c.zj&&(f.zj=c.zj);a.RB&&(f.Me=a.RB);return f;});a.sort(function(a,b){return a.O-b.O;});return a;};a.prototype.U8a=function(a){return a.reduce(function(a,b){a[b.jna]=b.url;return a;},{});};d.VM=a;},function(g,d,a){var b,c,h;b=a(213);c=a(111);d=a(49);h=a(767);a=d(function(a,f){return 1===a?c(f):b(a,h(a,[],f));});g.M=a;},function(g){g.M=function(d,a){for(var b=0,c=a.length,g=Array(c);b<c;)g[b]=d(a[b]),b+=1;return g;};},function(g,d,a){var b,c,h,l,f;d=a(111);b=a(215);c=a(770);h=!{toString:null}.propertyIsEnumerable("toString");l="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");f=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||f?function(a){var d,g,p,x;if(Object(a)!==a)return[];p=[];g=f&&c(a);for(d in a)!b(d,a)||g&&"length"===d||(p[p.length]=d);if(h)for(g=l.length-1;0<=g;){d=l[g];if(x=b(d,a)){a:{for(x=0;x<p.length;){if(p[x]===d){x=!0;break a;}x+=1;}x=!1;}x=!x;}x&&(p[p.length]=d);--g;}return p;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.M=a;},function(g){g.M={zc:function(){return this.XL["@@transducer/init"]();},result:function(d){return this.XL["@@transducer/result"](d);}};},function(g){g.M=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,c;b=a(388);c=a(777);g.M=function(a,d,f){return function(){var g,m;if(0===arguments.length)return f();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!b(m)){for(var q=0;q<a.length;){if("function"===typeof m[a[q]])return m[a[q]].apply(m,g);q+=1;}if(c(m))return d.apply(null,g)(m);}return f.apply(this,arguments);};};},function(g,d,a){var b,c,h,l,f,p;d=a(49);b=a(389);c=a(776);h=a(391);l=a(214);f=a(771);p=a(386);a=d(b(["filter"],f,function(a,b){return h(b)?l(function(f,c){a(b[c])&&(f[c]=b[c]);return f;},{},p(b)):c(a,b);}));g.M=a;},function(g){g.M=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vea="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wea="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aca="CDMAttestedDescriptorStore";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uba="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vba="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mca="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.efa="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aea="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uca="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.NY="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.SM="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iga="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zea="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ea="MediaCapabilitiesSymbol";},function(g,d,a){var c,h,l;function b(a,b){var f;f=h.lM.call(this,a,b,c.zF.Audio)||this;f.config=a;f.F7=b;f.type=c.Uv.Zv;return f;}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);h=a(408);l=a(72);a(132);new(a(96)).zw();ia(b,h.lM);b.prototype.jL=function(){return!1;};b.prototype.Hx=function(){var a;a={};a[l.Sk.KM]="mp4a.40.2";a[l.Sk.eX]="mp4a.40.5";this.config().V2&&(a[l.Sk.nM]="ec-3");this.config().U2&&(a[l.Sk.vW]="ec-3");this.config().YH&&(a[l.Sk.oM]="ec-3");return a;};b.prototype.K4=function(){return this.config().JP;};b.EE="audio/mp4;codecs={0};";d.HW=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.wda=/^hevc-main/;a.vda=/^hevc-hdr-|hevc-dv/;a.pq=/^hevc-hdr-/;a.Do=/^hevc-dv/;a.DM=/-h264/;a.ft=/^vp9-/;a.ih=/^av1-/;a.YV=/^heaac/;a.$Ea=/ddplus-2/;a.aFa=/ddplus-5/;a.bFa=/ddplus-atmos/;d.Nj=a;},function(g,d,a){var c,h,l;function b(a,b,d){this.config=a;this.F7=b;this.P=d;this.H7={};this.H7[c.zF.Audio]="audio";this.H7[c.zF.Xha]="video";}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);g=a(96);h=a(407);l=new g.zw().format;b.prototype.Xra=function(){return this.e4a(this.K4());};b.prototype.pr=function(a){return this.F7.isTypeSupported(a);};b.prototype.S5=function(){this.Tm=[];this.js=[];this.config().Owa&&this.js.push(h.Nj.wda);this.config().Nwa&&this.js.push(h.Nj.vda);this.config().Pwa&&this.js.push(h.Nj.ft);this.config().Mwa&&this.js.push(h.Nj.ih);this.js=this.js.concat([h.Nj.YV,h.Nj.DM]);!this.config().V2&&this.Tm.push(h.Nj.$Ea);!this.config().U2&&this.Tm.push(h.Nj.aFa);!this.config().YH&&this.Tm.push(h.Nj.bFa);!this.config().s5a&&this.Tm.push(/prk$/);this.config().Owa||this.config().m5a||this.Tm.push(h.Nj.wda);this.config().Nwa||this.config().l5a||this.Tm.push(h.Nj.vda);this.config().Pwa||this.config().y5a||this.Tm.push(h.Nj.ft);this.config().Mwa||this.config().i5a||this.Tm.push(h.Nj.ih);};b.prototype.x3=function(a){var b;b=this;return a.filter(function(a){for(var f=za(b.js),c=f.next();!c.done;c=f.next())if(c.value.test(a))return!0;f=za(b.Tm);for(c=f.next();!c.done;c=f.next())if(c.value.test(a))return!1;a=b.b9[a];c="";if(a)return Array.isArray(a)&&(c=1<a.length?" "+a[1]:"",a=a[0]),a=l("{0}/mp4;codecs={1};{2}",b.H7[b.P],a,c),b.pr(a);});};b.prototype.e4a=function(a){var b;b={};this.S5();this.x3(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};na.Object.defineProperties(b.prototype,{b9:{configurable:!0,enumerable:!0,get:function(){this.Lka||(this.Lka=this.Hx());return this.Lka;}}});d.lM=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hca="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kda="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lca="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fha="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jha="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yha="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zga="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mha="SegmentConfigFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ifa="MomentObserverFactory";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hfa="MomentFactorySymbol";},function(g,d,a){var c;function b(a,b,f,c,d,g){this.level=a;this.Bm=b;this.timestamp=f;this.message=c;this.Tc=d;this.index=void 0===g?0:g;this.bJa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.zL=function(a,b){var f;f=""+this.message;this.Tc.forEach(function(c){f+=c.Hz(a,b);});return(this.timestamp.na(c.Ba)/1E3).toFixed(3)+"|"+this.index+"|"+(this.bJa[this.level]||this.level)+"|"+this.Bm+"| "+f;};d.Eea=b;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(429);a=a(1);b.prototype.create=function(){return new c.Oj();};h=b;h=g.__decorate([a.N()],h);d.iHa=h;d.AM="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.AM="EventSourceFactorySymbol";},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);h=a(20);l=a(6);b.prototype.pp=function(){return this.fcb()?l.BGa:/widevine/i.test(this.config().zd)?l.Sca:/fps/i.test(this.config().zd)?"fairplay":l.LW;};b.prototype.fcb=function(){return/clearkey/i.test(this.config().zd);};na.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=c.da.get(h.me));return this.K;}}});d.afa=new b();},function(g,d,a){var c,h,l,f;function b(a,b,f,c,d,g,k){this.debug=a;this.config=b;this.platform=f;this.kva=c;this.debug.assert(d&&d!=h.I.Qh,"There should always be a specific error code");this.errorCode=d||h.I.Qh;g&&l.pe(g)?(this.T=g.T||g.tc,this.jc=g.jc||g.Df,this.oC=g.oC||g.Qx,this.Ja=g.Ja||g.ZB,this.QH=g.mk,this.yu=g.yu||g.Mva||g.Fp,this.Mn=g.Mn||g.data,g.GJ&&(this.GJ=g.GJ),this.Ah=g.Ah,this.method=g.method,this.sT=g.sT,this.alert=g.alert,this.debug.assert(!this.Ah||this.Ah==this.jc)):(this.T=g,this.jc=k);this.stack=[this.errorCode];this.T?this.stack.push(this.T):this.jc&&this.stack.push(h.H.Qh);this.jc&&this.stack.push(this.jc);this.FQ=this.platform.pC+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(2);l=a(18);f=a(15);a(17);b.prototype.toString=function(){var a;a="[PlayerError #"+this.FQ+"]";this.Ja&&(a+=" "+this.Ja);this.QH&&(a+=" (CustomMessage: "+this.QH+")");return a;};b.prototype.Daa=function(){var a,b;this.QH&&(a=["streaming_error"]);a||this.kva.pp()!==c.LW||("80080017"==this.jc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.jc&&(a=["pause_timeout"]));a||this.kva.pp()!==c.Sca||this.errorCode!==h.I.Yca&&this.errorCode!==h.I.Xca||(a=["no_cdm","platform_error","plugin_error"]);this.Ecb()&&(a=["received_soad"]);b=this.v8a();b&&(a=[b],this.QH=void 0);if(!a)switch(this.errorCode){case h.I.dN:case h.I.PM:case h.I.NCa:case h.I.Mfa:a=["pause_timeout"];break;case h.I.fea:case h.I.gea:a=this.T?["platform_error"]:["multiple_tabs"];break;case h.I.rF:case h.I.mN:case h.I.wIa:case h.I.vIa:case h.I.yIa:a=["should_signout_and_signin"];break;case h.I.IX:case h.I.Pfa:case h.I.Ofa:case h.I.pY:case h.I.uMa:a=["platform_error","plugin_error"];break;case h.I.EMa:a=["no_cdm","platform_error","plugin_error"];break;case h.I.nY:a=this.T?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.I.yM:case h.I.eN:case h.I.Qfa:switch(this.jc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.I.Nfa:a=["unsupported_output"];}!a&&h.gHa(this.T)&&(a=this.T==h.H.$z?["geo"]:["internet_connection_problem"]);if(!a)switch(this.EAa(this.T)){case h.H.$Y:a=["should_upgrade"];break;case h.H.RKa:case h.H.Sea:a=["should_signout_and_signin"];break;case h.H.SKa:a=["internet_connection_problem"];break;case h.H.gha:case h.H.hha:case h.H.eha:a=["storage_quota"];break;case h.H.Tfa:case h.H.Rfa:case h.H.Ufa:case h.H.Sfa:case h.H.Bca:a=["platform_error","plugin_error"];break;case h.H.xW:case h.H.Hda:case h.H.Ida:a=["private_mode"];}a=a||[];a.push(this.platform.pC+this.errorCode);if(this.T)switch(this.EAa(this.T)){case h.H.Jfa:a.push("incorrect_pin");break;default:a.push(""+this.T);}a={display:{code:this.FQ,text:this.QH},messageIdList:a,alert:this.alert};if(this.yu||this.Mva)a.mslErrorCode=this.yu||this.Mva||this.Fp;return a;};b.prototype.EAa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.Ecb=function(){var a;a=f.ka(this.jc)?this.jc.toString():f.Sd(this.jc)?this.jc:"";return this.yu===h.aY.WY&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.v8a=function(){if(this.errorCode===h.I.fw&&(this.T===h.H.lY||this.T===h.H.Ifa))return this.w8a(this.T===h.H.lY);};b.prototype.w8a=function(a){var b,f,c;b=(this.config().browserInfo||{}).os||{};f=b.name;c=(b.version||"").split(".");b=parseInt(c&&c[0]);c=parseInt(c&&c[1]);switch(f){case"Windows":return 6>b||6===b&&1>c?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>c?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.MNa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pha="UrlFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.AY="PrioritizedSetOfListsSymbol";d.XNa="PrioritizedSetOfListsFactorySymbol";d.Jga="PrioritizedSetOfSetsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.txb=function(){};d.jfa="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jca="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xca="CsvEncoderSymbol";},function(g,d,a){var c,h;function b(){this.tl={};this.id="$es$"+c.w0a++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order"+this.id+"$"+a;if(this.tl){d=this.tl[a]?this.tl[a].slice():[];c&&(b[f]=c);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.tl[a]=d;}};b.prototype.removeListener=function(a,b){if(this.tl&&this.tl[a]){for(var f=this.tl[a].slice(),c;0<=(c=f.indexOf(b));)f.splice(c,1);this.tl[a]=f;}};b.prototype.wb=function(a,b,c){var f;if(this.tl){f=this.q4(a);for(a={ei:0};a.ei<f.length;a={ei:a.ei},a.ei++)c?function(a){return function(){var c;c=f[a.ei];setTimeout(function(){c(b);},0);};}(a)():f[a.ei].call(this,b);}};b.prototype.cC=function(){this.tl=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.q4=function(a){return this.tl&&(this.tl[a]||(this.tl[a]=[]));};h=c=b;h.w0a=0;h=c=g.__decorate([a.N()],h);d.Oj=h;},function(g,d,a){var c,h,l,f;function b(a,b){this.is=a;this.Wg=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a(2);h=a(23);l=a(99);f=a(5);b.prototype.Bk=function(a,b,f){var c,d,g,m;c=this;if(b)if(f){d=f.jD;g=f.prefix;m=f.Jp;this.xu(b,function(b,f){if(!m||c.is.Yg(f))a[(g||"")+(d?b.toLowerCase():b)]=f;});}else this.xu(b,function(b,f){a[b]=f;});return a;};b.prototype.xu=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};b.prototype.ju=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.prototype.j0a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.prototype.$c=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!==a.indexOf(c)&&(a=c+"\n"+a)):a=c;f&&(a+="\nnumber:"+f);return a;}};b.prototype.xpa=function(a,b){var f,c;a=a.target.keyStatuses.entries();for(f=a.next();!f.done;)c=f.value[0],f=f.value[1],b&&b(c,f),f=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.era=function(a){return this.getFunctionName(a.constructor);};b.prototype.pwa=function(a){var b,f;b=this;f="";this.is.Ut(a)||this.is.ema(a)?f=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.rh(a)?f=a:this.xu(a,function(a,c){f+=(f?", ":"")+"{"+a+": "+(b.is.MG(c)?b.getFunctionName(c)||"function":c)+"}";});return"["+this.era(a)+" "+f+"]";};b.prototype.createElement=function(a,b,c,d){var g;g=f.ud.createElement(a);b&&(g.style.cssText=b);c&&(g.innerHTML=c);d&&this.xu(d,function(a,b){g.setAttribute(a,b);});return g;};b.prototype.Y6a=function(a,b){return function(f){return f[a]===b;};};b.prototype.KT=function(a){var b;b={};(a||"").split("&").forEach(function(a){var f;a=a.trim();f=a.indexOf("=");0<=f?b[decodeURIComponent(a.substr(0,f)).toLowerCase()]=decodeURIComponent(a.substr(f+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.we)),g.__param(1,c.l(l.Wv))],a);d.Qha=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Efa="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nca="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.aua=0]="licenseStarted";a[a.jya=1]="recievedLicenseChallenge";a[a.iya=2]="recievedLicense";a[a.kya=3]="recievedRenewalChallengeComplete";a[a.lya=4]="recievedRenewalLicenseComplete";a[a.mya=5]="recievedRenewalLicenseFailed";a[a.$kb=6]="recievedIndivChallengeComplete";a[a.alb=7]="recievedIndivLicenseComplete";a[a.Mla=8]="addLicenseComplete";a[a.Sla=9]="addRenewalLicenseComplete";a[a.Tla=10]="addRenewalLicenseFailed";}(a=d.Eo||(d.Eo={})));d.O4a=function(b){switch(b){case a.aua:return"lg";case a.jya:return"lc";case a.iya:return"lr";case a.kya:return"renew_lc";case a.lya:return"renew_lr";case a.mya:return"renew_lr_failed";case a.$kb:return"ilc";case a.alb:return"ilr";case a.Mla:return"ld";case a.Sla:return"renew_ld";case a.Tla:return"renew_ld_failed";default:return"unknown";}};},function(g,d,a){var c,h,l,f,p,m,q;function b(a,b){this.rT=a;this.is=b;l.xk(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(2);p=a(39);m=a(23);q=a(88);b.prototype.Hu=function(){if(this.aa)return this.aa.sessionId;};b.prototype.Dya=function(a,b){return this.rT.requestMediaKeySystemAccess(a,b);};b.prototype.kQ=function(a,b){return b.createMediaKeys();};b.prototype.yr=function(a,b){this.aa=a.createSession(b);};b.prototype.Dta=function(){return!!this.aa;};b.prototype.Yza=function(a,b){return this.is.MG(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.Oqa=function(a,b){return this.aa?this.aa.generateRequest(a,b):Promise.reject(new q.gf(f.I.Zca,f.H.$E,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.aa?this.aa.update(a):Promise.reject(new q.gf(f.I.yM,f.H.$E,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.aa?this.aa.load(a):Promise.reject(new q.gf(f.I.LGa,f.H.$E,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.aa)return Promise.reject(new q.gf(f.I.FGa,f.H.$E,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Hu()&&(a=this.aa.close());this.aa=void 0;return a;};b.prototype.remove=function(){return this.aa?this.aa.remove():Promise.reject(new q.gf(f.I.cda,f.H.$E,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.Nla=function(a){if(!this.aa)throw ReferenceError("Unable to add message handler, key session is not valid");this.aa.addEventListener(c.Yz,a);};b.prototype.Kla=function(a){if(!this.aa)throw ReferenceError("Unable to add key status handler, key session is not valid");this.aa.addEventListener(c.dda,a);};b.prototype.Jla=function(a){if(!this.aa)throw ReferenceError("Unable to add error handler, key session is not valid");this.aa.addEventListener(c.Xz,a);};b.prototype.vya=function(a){if(!this.aa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.aa.removeEventListener(c.Yz,a);};b.prototype.tya=function(a){if(!this.aa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.aa.removeEventListener(c.dda,a);};b.prototype.sya=function(a){if(!this.aa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.aa.removeEventListener(c.Xz,a);};a=c=b;a.Yz="message";a.dda="keystatuseschange";a.Xz="error";a=c=g.__decorate([h.N(),g.__param(0,h.l(p.CF)),g.__param(1,h.l(m.we))],a);d.BY=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eda="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qca="DrmProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jea="IdentityProviderSymbol";},function(g,d,a){var b;b=a(102);d.uta=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var b,c,h,l,f,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(444);h=a(102);g=a(78);l=a(77);d.Sy=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.Ff(new f(a));};};d.zhb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new c.oda(b,null).Ff(new f(a));};f=function(){function a(a){this.g8=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.g8));};return a;}();p=function(a){function f(b,f){a.call(this,b);this.destination=b;this.g8=f;}b(f,a);f.prototype.l8=function(){this.qV();};f.prototype.Zi=function(){this.qV();};f.prototype.Rb=function(){this.qV();};f.prototype.ub=function(){this.qV();};f.prototype.qV=function(){var a;a=this.g8.shift();a?this.add(l.xs(this,a)):this.destination.complete();};return f;}(g.xq);},function(g,d){d.fJ=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(77);g=a(78);d.sD=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.Ff(new h(a,b,c));};};h=function(){function a(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);this.jg=a;this.Hj=b;this.I1=f;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.jg,this.Hj,this.I1));};return a;}();d.rxb=h;l=function(a){function f(b,f,c,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.jg=f;this.Hj=c;this.I1=d;this.NC=!1;this.buffer=[];this.index=this.active=0;}b(f,a);f.prototype.Sg=function(a){this.active<this.I1?this.fWa(a):this.buffer.push(a);};f.prototype.fWa=function(a){var b,f;f=this.index++;try{b=this.jg(a,f);}catch(x){this.destination.error(x);return;}this.active++;this.PZ(b,a,f);};f.prototype.PZ=function(a,b,f){this.add(c.xs(this,a,b,f));};f.prototype.ub=function(){this.NC=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};f.prototype.Qy=function(a,b,f,c){this.Hj?this.$Ta(a,b,f,c):this.destination.next(b);};f.prototype.$Ta=function(a,b,f,c){var d;try{d=this.Hj(a,b,f,c);}catch(z){this.destination.error(z);return;}this.destination.next(d);};f.prototype.Zi=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Sg(b.shift()):0===this.active&&this.NC&&this.destination.complete();};return f;}(g.xq);d.sxb=l;},function(g,d,a){var b;b=a(233);d.sH=function(){return b.Zu(1);};},function(g,d,a){var h,l;function b(a){var b;b=a.value;a=a.ef;a.closed||(a.next(b),a.complete());}function c(a){var b;b=a.e3;a=a.ef;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};l=a(79);g=function(a){function f(b,f){a.call(this);this.OD=b;this.ja=f;}h(f,a);f.create=function(a,b){return new f(a,b);};f.prototype.zf=function(a){var f,d,g;f=this;d=this.OD;g=this.ja;if(null==g)this.Lq?a.closed||(a.next(this.value),a.complete()):d.then(function(b){f.value=b;f.Lq=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){l.root.setTimeout(function(){throw a;});});else if(this.Lq){if(!a.closed)return g.nb(b,0,{value:this.value,ef:a});}else d.then(function(c){f.value=c;f.Lq=!0;a.closed||a.add(g.nb(b,0,{value:c,ef:a}));},function(b){a.closed||a.add(g.nb(c,0,{e3:b,ef:a}));}).then(null,function(a){l.root.setTimeout(function(){throw a;});});};return f;}(a(10).sa);d.Lga=g;},function(g,d,a){var b,c,h,l,f,p,m,q,u,x,v,k;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(102);h=a(448);l=a(447);f=a(443);p=a(971);m=a(101);q=a(970);u=a(162);x=a(10);v=a(453);k=a(238);g=function(a){function d(b,f){a.call(this,null);this.Lcb=b;this.ja=f;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[k.observable])return a instanceof x.sa&&!b?a:new d(a,b);if(c.isArray(a))return new m.Rv(a,b);if(l.zta(a))return new f.Lga(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new p.YIa(a,b);if(h.lta(a))return new q.cDa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.zf=function(a){var b,f;b=this.Lcb;f=this.ja;return null==f?b[k.observable]().subscribe(a):b[k.observable]().subscribe(new v.Dfa(a,f,0));};return d;}(x.sa);d.oda=g;},function(g,d,a){g=a(444);d.from=g.oda.create;},function(g,d,a){g=a(101);d.of=g.Rv.of;},function(g,d){d.zta=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.lta=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.nma=function(a,b){var q;for(var c=0,d=b.length;c<d;c++)for(var g=b[c],f=Object.getOwnPropertyNames(g.prototype),p=0,m=f.length;p<m;p++){q=f[p];a.prototype[q]=g.prototype[q];}};},function(g,d){d.QF=function(){return function(a){this.Hpb=a;};}();},function(g,d,a){var b;b=a(450);g=function(){function a(){this.iL=[];}a.prototype.qua=function(){this.iL.push(new b.QF(this.ja.now()));return this.iL.length-1;};a.prototype.rua=function(a){var c;c=this.iL;c[a]=new b.QF(c[a].Hpb,this.ja.now());};return a;}();d.uha=g;},function(g,d,a){var b,c,h,l,f,p,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(163);c=a(10);h=a(50);l=a(71);f=a(983);a=function(a){function c(b,f){a.call(this);this.source=b;this.pV=f;this.rm=0;this.oO=!1;}b(c,a);c.prototype.zf=function(a){return this.LR().subscribe(a);};c.prototype.LR=function(){var a;a=this.$O;if(!a||a.Ef)this.$O=this.pV();return this.$O;};c.prototype.connect=function(){var a;a=this.ot;a||(this.oO=!1,a=this.ot=new l.Tj(),a.add(this.source.subscribe(new p(this.LR(),this))),a.closed?(this.ot=null,a=l.Tj.EMPTY):this.ot=a);return a;};c.prototype.oU=function(){return f.oU()(this);};return c;}(c.sa);d.oca=a;a=a.prototype;d.g0a={Uy:{value:null},rm:{value:0,writable:!0},$O:{value:null,writable:!0},ot:{value:null,writable:!0},zf:{value:a.zf},oO:{value:a.oO,writable:!0},LR:{value:a.LR},connect:{value:a.connect},oU:{value:a.oU}};p=function(a){function f(b,f){a.call(this,b);this.pl=f;}b(f,a);f.prototype.Rb=function(b){this.Yq();a.prototype.Rb.call(this,b);};f.prototype.ub=function(){this.pl.oO=!0;this.Yq();a.prototype.ub.call(this);};f.prototype.Yq=function(){var a,b;a=this.pl;if(a){this.pl=null;b=a.ot;a.rm=0;a.$O=null;a.ot=null;b&&b.unsubscribe();}};return f;}(g.xPa);(function(){function a(a){this.pl=a;}a.prototype.call=function(a,b){var f;f=this.pl;f.rm++;a=new m(a,f);b=b.subscribe(a);a.closed||(a.Fn=f.connect());return b;};return a;}());m=function(a){function f(b,f){a.call(this,b);this.pl=f;}b(f,a);f.prototype.Yq=function(){var a,b;a=this.pl;if(a){this.pl=null;b=a.rm;0>=b?this.Fn=null:(a.rm=b-1,1<b?this.Fn=null:(b=this.Fn,a=a.ot,this.Fn=null,!a||b&&a!==b||a.unsubscribe()));}else this.Fn=null;};return f;}(h.Ph);},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(50);c=a(235);d.OGb=function(a,b){void 0===b&&(b=0);return function(f){return f.Ff(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ja=a;this.ld=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.ja,this.ld));};return a;}();d.ryb=h;l=function(a){function d(b,f,c){void 0===c&&(c=0);a.call(this,b);this.ja=f;this.ld=c;}b(d,a);d.hb=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.Y9=function(a){this.add(this.ja.nb(d.hb,this.ld,new f(a,this.destination)));};d.prototype.Sg=function(a){this.Y9(c.Notification.W1(a));};d.prototype.Rb=function(a){this.Y9(c.Notification.hoa(a));};d.prototype.ub=function(){this.Y9(c.Notification.S1());};return d;}(g.Ph);d.Dfa=l;f=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.qyb=f;},function(g,d,a){var b,c,h,l,f,p,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(163);c=a(988);h=a(71);l=a(453);f=a(456);p=a(455);a=function(a){function d(b,f,c){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this);this.ja=c;this.Pg=[];this.fRa=1>b?1:b;this.xWa=1>f?1:f;}b(d,a);d.prototype.next=function(b){var f;f=this.Bja();this.Pg.push(new m(f,b));this.nla();a.prototype.next.call(this,b);};d.prototype.zf=function(a){var b,c,d;b=this.nla();c=this.ja;if(this.closed)throw new f.oA();this.LI?d=h.Tj.EMPTY:this.Ef?d=h.Tj.EMPTY:(this.as.push(a),d=new p.tha(this,a));c&&a.add(a=new l.Dfa(a,c));for(var c=b.length,g=0;g<c&&!a.closed;g++)a.next(b[g].value);this.LI?a.error(this.uaa):this.Ef&&a.complete();return d;};d.prototype.Bja=function(){return(this.ja||c.ni).now();};d.prototype.nla=function(){for(var a=this.Bja(),b=this.fRa,f=this.xWa,c=this.Pg,d=c.length,g=0;g<d&&!(a-c[g].time<f);)g++;d>b&&(g=Math.max(g,d-b));0<g&&c.splice(0,g);return c;};return d;}(g.Bi);d.OF=a;m=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,f){a.call(this);this.hL=b;this.ef=f;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.hL;b=a.as;this.hL=null;!b||0===b.length||a.Ef||a.closed||(a=b.indexOf(this.ef),-1!==a&&b.splice(a,1));}};return c;}(a(71).Tj);d.tha=g;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.oA=g;},function(g,d){d.zu={e:{}};},function(g,d){d.qb=function(a){return"function"===typeof a;};},function(g,d){d.pe=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ufa="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.CY="QueryStringDataProviderSymbol";},function(g,d,a){var c,h;function b(a,b,c,d,g){this.version=a;this.FD=b;this.AAa=c;this.tf=d;this.Yp=g;this.fp=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(45);b.prototype.load=function(a){return this.Hdb(a);};b.prototype.add=function(a){this.fp.push(a);return this.C8();};b.prototype.remove=function(a,b){a=this.$qa(this.Dj(a,b));return 0<=a?(this.fp.splice(a,1),this.C8()):Promise.resolve();};b.prototype.update=function(a,b){b=this.$qa(this.Dj(a,b));return 0<=b?(this.fp[b]=a,this.C8()):Promise.resolve();};b.prototype.Hdb=function(a){var b;b=this;this.gua||(this.gua=new Promise(function(f,d){function g(a){b.O3a().then(function(){d(a);})["catch"](function(){d(a);});}b.S4().then(function(a){b.storage=a;return b.storage.load(b.FD);}).then(function(c){var d;c=c.value;try{d=a(c);b.version=d.version;b.fp=d.data;f();}catch(v){g(v);}})["catch"](function(a){a.T!==c.H.cm?d(a):f();});}));return this.gua;};b.prototype.C8=function(){var a,b,c,d,g;a=this;if(!this.AAa)return Promise.resolve();if(this.mV){d=new Promise(function(a,f){b=a;c=f;});g=function(){a.mV=d;a.zAa().then(function(){b();})["catch"](function(a){c(a);});};this.mV.then(g)["catch"](g);return d;}return this.mV=this.zAa();};b.prototype.zAa=function(){var a,f;a=this;f=this.Yp();return new Promise(function(d,g){a.S4().then(function(b){return b.save(a.FD,f,!1);}).then(function(){d();})["catch"](function(a){g(b.yL(c.I.rMa,a));});});};b.prototype.O3a=function(){var a;a=this;return this.AAa?new Promise(function(b,c){a.S4().then(function(b){return b.remove(a.FD);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.S4=function(){return this.storage?Promise.resolve(this.storage):this.tf.create();};b.prototype.Dj=function(a,b){for(var f=0;f<this.fp.length;++f)if(b(this.fp[f],a))return this.fp[f];};b.prototype.$qa=function(a){return a?this.fp.indexOf(a):-1;};b.yL=function(a,b,d){return b.T&&b.cause?new h.Wb(a,b.T,void 0,void 0,void 0,d,void 0,b.cause):void 0!==b.tc?(d=(b.message?b.message+" ":"")+(d?d:""),b.code=a,b.message=""===d?void 0:d,b):b instanceof Error?new h.Wb(a,c.H.pg,void 0,void 0,void 0,d,b.stack,b):new h.Wb(a,c.H.Qh,void 0,void 0,void 0,d,void 0,b);};d.iea=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pca="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.WMa="PSK";a.LJa="MGK";a.gxb="MGK_WITH_FALLBACK";a.fxb="MGK_JWE";a.Pwb="JWEJS_RSA";a.ZIa="JWK_RSA";a.Qwb="JWK_RSAES";d.gW=a;},function(g,d,a){var h;function b(a,b){this.ve=b;this.co=Math.floor(a);this.display=this.co+" "+this.ve.name;}function c(a,b,c){this.ve=a;this.name=b;this.Qa=c?c:this;h.xk(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});h=a(51);c.prototype.eI=function(a){return this.ve==a.ve;};c.prototype.toJSON=function(){return this.name;};d.sN=c;b.prototype.na=function(a){return this.ve.eI(a)?this.co:Math.floor(this.co*this.ve.ve/a.ve);};b.prototype.T8=function(a){return this.ve.eI(a)?this.co:this.co*this.ve.ve/a.ve;};b.prototype.to=function(a){return new b(this.na(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.co,units:this.ve.name};};b.prototype.add=function(a){return this.Ena(a);};b.prototype.Fd=function(a){return this.Ena(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.na(this.ve.Qa)*a,this.ve.Qa);};b.prototype.nl=function(a){return this.na(this.ve.Qa)-a.na(this.ve.Qa);};b.prototype.eI=function(a){return 0==this.nl(a);};b.prototype.Ita=function(){return 0==this.co;};b.prototype.sta=function(){return 0>this.co;};b.prototype.wta=function(){return 0<this.co;};b.prototype.Ena=function(a,f){f=void 0===f?function(a){return a;}:f;return new b(this.na(this.ve.Qa)+f(a.na(this.ve.Qa)),this.ve.Qa);};d.Jo=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lea="Injector";d.iw=145152E5;},function(g,d,a){var h;function b(a){return function(b){function f(f){return null!==f&&null!==f.target&&f.target.p7(a)(b);}f.uva=new h.Metadata(a,b);return f;};}function c(a,b){a=a.ds;return null!==a?b(a)?!0:c(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(32);h=a(67);d.qBa=c;d.OAa=b;d.Qva=b(g.$s);d.vBa=function(a){return function(b){var f;return null!==b?(f=b.cH[0],"string"===typeof a?f.te===a:a===b.cH[0].Ui):!1;};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(247);c=a(246);g=function(){function a(a){this.sb=a;this.jZ=new c.mW(this.sb);this.iZ=new b.lW(this.sb);}a.prototype.VL=function(){return this.jZ.VL();};a.prototype.Ip=function(a){return this.iZ.Ip(a);};return a;}();d.Xv=g;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(103);h=a(67);l=a(1026);g=function(){function a(a,f,d,g){this.id=c.id();this.type=a;this.te=d;this.name=new l.eOa(f||"");this.Bc=[];a=null;"string"===typeof g?a=new h.Metadata(b.$s,g):g instanceof h.Metadata&&(a=g);null!==a&&this.Bc.push(a);}a.prototype.ssa=function(a){for(var b=0,f=this.Bc;b<f.length;b++)if(f[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.ssa(b.jw);};a.prototype.Geb=function(a){return this.p7(b.jw)(a);};a.prototype.b6=function(){return this.ssa(b.$s);};a.prototype.f6=function(){return this.Bc.some(function(a){return a.key!==b.nF&&a.key!==b.jw&&a.key!==b.XM&&a.key!==b.SF&&a.key!==b.$s;});};a.prototype.vta=function(){return this.p7(b.Cfa)(!0);};a.prototype.O9a=function(){return this.b6()?this.Bc.filter(function(a){return a.key===b.$s;})[0]:null;};a.prototype.J8a=function(){return this.f6()?this.Bc.filter(function(a){return a.key!==b.nF&&a.key!==b.jw&&a.key!==b.XM&&a.key!==b.SF&&a.key!==b.$s;}):null;};a.prototype.p7=function(a){var b;b=this;return function(f){var g;for(var c=0,d=b.Bc;c<d.length;c++){g=d[c];if(g.key===a&&g.value===f)return!0;}return!1;};};return a;}();d.oN=g;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);h=a(67);l=a(89);g=function(){function a(a){this.uRa=a;}a.prototype.Brb=function(){return this.uRa();};return a;}();d.PX=g;d.l=function(a){return function(f,d,g){var m;if(void 0===a)throw Error(b.kQa(f.name));m=new h.Metadata(c.nF,a);"number"===typeof g?l.Az(f,d,g,m):l.tL(f,d,m);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);d.Eta=function(a){return a instanceof RangeError||a.message===b.KOa;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);g=function(){function a(){}a.prototype.dra=function(a){var c;c=Reflect.getMetadata(b.kY,a);a=Reflect.getMetadata(b.wha,a);return{Gna:c,isb:a||{}};};a.prototype.f$a=function(a){return Reflect.getMetadata(b.xha,a)||[];};return a;}();d.$X=g;},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(466);c=a(1007);h=a(245);l=a(244);f=a(1003);p=a(995);m=a(889);q=a(874);a=a(515);d.Nc=new g.WE({Bv:!0});q.Idb(d.Nc);d.Nc.load(c.platform);d.Nc.load(f.config);h.X_.load(p.th);l.XH.load(m.g5a);d.Nc.load(a.o0);d.Nc.bind(b.lea).Gg(d.Nc);},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(122);c=a(6);d=a(2);h=a(3);l=a(112);f=a(61);g.Re(d.I.Uda,function(a){var d,g;d=A._cad_global.videoPreparer;g=A._cad_global.playerPredictionModel;d&&A._cad_global.playerPredictionModel&&(p=h.da.get(l.Hga).create(g,d.Njb.bind(d)),A._cad_global.prefetchEvents=p,d.Xg.on("deletedCacheItem",function(a){p.kH(f.dd.IF[a.type],parseInt(a.movieId,10),a.reason);}),b.fk.addEventListener("cacheEvict",function(a){p.kH(l.Wd.vi.gF,a.movieId,"ase_cacheEvict");p.kH(l.Wd.vi.MEDIA,a.movieId,"ase_cacheEvict");}),b.fk.addEventListener("flushedBytes",function(){b.fk.c1().forEach(function(a){p.kH(l.Wd.vi.MEDIA,a.R,"ase_flushedBytes");},this);}),d.$m.addEventListener(d.$m.events.Aha,function(a){p.xZa(f.dd.IF[a.type],a.R,a.reason);}),d.$m.addEventListener(d.$m.events.yha,function(a){p.tZa(f.dd.IF[a.type],a.R,a.reason);}),d.$m.addEventListener(d.$m.events.zha,function(a){p.vZa(f.dd.IF[a.type],a.R,a.reason);}),d.$m.addEventListener(d.$m.events.Bha,function(a){p.zZa(f.dd.IF[a.type],a.R,a.reason);}));a(c.Fb);});},function(g,d,a){var h,l,f,p,m,q,u,k,v,z;function b(a,b){this.fh=a;this.Qi=b;}function c(a){this.W=a;this.reset();}h=a(170);l=a(169);d=a(249);f=a(248).config;p=d.B8a;m=d.p8a;q=d.d4a;u=d.lhb;k=d.khb;v=d.jhb;z=d.qqa;c.prototype.constructor=c;c.prototype.reset=function(){this.Jka=void 0;this.oh=[];this.qka=this.rka=!1;};c.prototype.update=function(a,b){var c;this.oh&&(this.oh=this.oh.filter(this.vob,this));if(!1===this.rka){c=p(a.ya).slice(0,f.Coa);0<c.length&&(this.Fy(c,l.jq.Oh),this.rka=!0,this.oh=this.Lz(c.concat(this.oh)));}!1===this.qka&&(c=m(a.ya).slice(0,f.Coa),0<c.length&&(this.Fy(c,l.jq.Oh),this.qka=!0,this.oh=this.Lz(c.concat(this.oh))));switch(b){case l.hq.lda:b=this.vab(a);break;case l.hq.Wga:b=this.Fab(a);break;case l.hq.kN:b=this.Gab(a);break;case l.hq.GF:b=this.Bab(a);break;default:b=this.uab(a);}this.Jka=a;return b;};c.prototype.vab=function(a){a=u(a.ya,f.Zya,f.Bna);this.Fy(a,l.jq.Oh);return this.oh=this.Lz(this.oh.concat(a));};c.prototype.Fab=function(a){var b,c;this.W.log("handleScrollHorizontal");b=a.ya;a=u(b,f.aza,f.Cna);c=q(b,this.Jka.ya);b=b[c].list.slice(0,f.Amb);b.concat(a);this.Fy(b,l.jq.TY);return this.Lz(b.concat(this.oh));};c.prototype.Fy=function(a,b){a.forEach(function(a){if(void 0===a.eu||a.eu<b)a.eu=b;void 0===a.xE&&(a.xE=h());void 0===a.bi&&(a.bi=h());});};c.prototype.Gab=function(a){this.W.log("handleSearch");a=k(a.ya,f.Umb);this.Fy(a,l.jq.Yga);this.oh=a.concat(this.oh);return this.oh=this.Lz(this.oh);};c.prototype.Bab=function(a){var c,d,g,m,p;this.W.log("handlePlayFocus: ",f.OI);c=a.direction;d=a.ya;a=[];g=z(d);if(void 0!==g.fh)switch(a.push(g),c){case l.Io.Qga:for(c=1;c<f.OI;c++)a.push(new b(g.fh,g.Qi+c));a.push(new b(g.fh-1,g.Qi));a.push(new b(g.fh+1,g.Qi));break;case l.Io.vea:for(c=1;c<f.OI;c++)a.push(new b(g.fh,g.Qi-c));a.push(new b(g.fh-1,g.Qi));a.push(new b(g.fh+1,g.Qi));break;case l.Io.nQa:a.push(new b(g.fh-1,g.Qi));for(c=1;c<=f.OI/2;c++)a.push(new b(g.fh,g.Qi+c)),a.push(new b(g.fh,g.Qi-c));break;case l.Io.XFa:for(a.push(new b(g.fh+1,g.Qi)),c=1;c<=f.OI/2;c++)a.push(new b(g.fh,g.Qi+c)),a.push(new b(g.fh,g.Qi-c));}m=[];a.forEach(function(a){p=v(d,a.fh,a.Qi);void 0!==p&&m.push(p);});this.Fy(m,l.jq.TY);return this.Lz(m.concat(this.oh));};c.prototype.uab=function(a){this.W.log("ModelOne: handleDefaultCase");a=u(a.ya,f.aza,f.Cna);this.Fy(a,l.jq.TY);return this.Lz(a.concat(this.oh));};c.prototype.vob=function(a){return a.eu==l.jq.Oh|a.eu==l.jq.Yga&h()-a.xE<f.dbb;};c.prototype.Lz=function(a){var b,f,c,d,g,m,l;b=[];f={};m=0;l=a.length;for(g=0;g<l;g++)c=a[g].ke,d=a[g],!1===c in f?(b.push(d),f[c]=m,m++):(c=b[f[c]],d.bi<c.bi&&(c.bi=d.bi),d.eu>c.eu&&(c.eu=d.eu),d.xE>c.xE&&(c.xE=d.xE));return b;};g.M=c;},function(g,d,a){var l,f,p,m,q,u,k;function b(a,b,f,c,d,g){this.R=this.ke=a;this.Cd=b;this.Jb=f;g&&g.uc&&(this.uc=g.uc);void 0!==c&&(this.Yy=c);this.bi=d;this.cb=g;}function c(a,b,f,c,d){p(void 0!==c,"video preparer is null");p(void 0!==d,"ui preparer is null");this.W=b||console;this.W=b;this.eb=f;this.uWa=c;this.jWa=d;this.Gka=u.S8;this.mB=[];this.P_=!1;this.hm=0;new k().on(u,"changed",h,this);this.reset();}function h(){this.W.log("config changed");u.S8&&(this.Gka=u.S8);u.NJ!==this.$A&&(this.reset(),this.Ulb());}l=a(170);f=a(169);d=a(249);p=d.assert;m=d.qqa;q=a(475);u=a(248).config;k=a(28).dF;u.declare({S8:["ppmConfig",{dub:{nwa:0,mwa:2,kwa:0,lwa:5,aAa:0},$zb:{nwa:0,mwa:1,kwa:0,lwa:3,aAa:1E3},vub:{nwa:0,mwa:1,kwa:0,lwa:3,aAa:1E3}}]});c.prototype.constructor=c;c.prototype.reset=function(){this.LZ=!0;this.$A=u.NJ;this.W.log("create model: "+u.NJ,u.Zya,u.Bna);switch(u.NJ){case"modelone":this.$A=new q(this.W);break;default:this.$A=new q(this.W);}};c.prototype.Ulb=function(){var b,f;if(!1===this.P_){this.P_=!0;for(var a=0;a<this.mB.length;a++){this.W.log("PlayPredictionModel replay: ",JSON.stringify(this.mB[a]));b=this.aoa(this.mB[a]);f=this.Pqa(b);this.$A.update(b,f);this.LZ=!1;}this.mB=[];}};c.prototype.update=function(a){var b,f,c;this.W.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.ya&&a.ya[0]){!1===this.P_&&this.mB.length<u.Xeb&&this.mB.push(a);b=this.aoa(a);f=this.Pqa(b);this.W.log("actionType",f);b="mlmodel"==u.NJ?this.$A.update(a,f):this.$A.update(b,f);b=this.T7a(b,u.Ncb||1);this.W.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.hm&&(this.hm=l(),this.eb&&this.eb.EK&&this.eb.EK({CQ:this.hm}));if(this.eb&&this.eb.Bya){c={CQ:this.hm,offset:this.DR(),Cxa:[]};b.forEach(function(a){c.Cxa.push({vo:a.ke});});c.wxa=JSON.stringify(a);c.xxa=JSON.stringify(b);this.eb.Bya(c);}this.uWa.tv(b);this.jWa.tv(b);this.LZ=!1;}};c.prototype.fmb=function(){this.hm=0;};c.prototype.DR=function(){return l()-this.hm;};c.prototype.EK=function(){this.hm=l();this.eb&&this.eb.EK&&this.eb.EK({CQ:this.hm});};c.prototype.aoa=function(a){var b,c,d,g,m;b={};g=a.ya||[];m=function(a){var g,m;g={};c=f.pF.name.indexOf(a.context);g.context=0<=c?c:f.pF.wq;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list||[];d.forEach(function(a){m={ke:a.ke,Jb:a.Jb,index:a.index,Yy:a.Yy,MD:a.MD,list:a.list,cb:a.cb};void 0!==a.property&&(c=f.dA.name.indexOf(a.property),m.property=0<=c?c:f.dA.wq);g.list.push(m);}.bind(this));b.ya.push(g);}.bind(this);void 0!==a.direction&&(c=f.Io.name.indexOf(a.direction),b.direction=0<=c?c:f.Io.wq);void 0!==a.pI&&(b.kEb=a.pI.rowIndex,b.jEb=a.pI.N_a);b.pI=a.pI;b.ya=[];g.forEach(m);return b;};c.prototype.Pqa=function(a){var b,c,d;b=a.direction||f.Io.wq;c=a.pI;d=a.ya||[];!0===this.LZ?a=f.hq.lda:!0===d.some(this.Oab)?(a=f.hq.GF,this.pU(d,b,c)):a=d[0].context===f.pF.kN?f.hq.kN:b===f.Io.Qga||b===f.Io.vea?f.hq.Wga:f.hq.wq;return a;};c.prototype.Oab=function(a){return(a.list||[]).some(function(a){return a.property===f.dA.GF||a.property===f.dA.yca;});};c.prototype.pU=function(a,b,c){var d,g;this.W.log("reportPlayFocusEvent: ",b,c);d={};g=m(a);this.eb&&this.eb.pU&&(d.QDb=l(),d.direction=f.Io.name[b],c&&(d.rowIndex=c.rowIndex,d.B1=c.N_a),void 0!==g.fh&&(d.requestId=a[g.fh].requestId),this.eb.pU&&this.eb.pU(d));};c.prototype.T7a=function(a,b){for(var f=a.length,c=[],d,g,m,l,p=0;p<f;p++){g=a[p];d=Math.floor(p/b)+1;if(void 0!==g.list){m=g.list;l=m.length;for(var h=0;h<Math.min(u.K_a,l)&&!(m[h].bi=g.bi,this.Pla(m[h],d,c),c.length>=u.Yua);h++);}else this.Pla(g,d,c);if(c.length>=u.Yua)break;}return c;};c.prototype.Pla=function(a,f,c){var g,m;function d(a){a.uc&&(a.cb||(a.cb={}),a.cb.uc=a.uc);return a.cb;}g=a.MD;void 0!==g&&g instanceof Array?g.forEach(function(g){void 0!==g.ke&&(m=d(g),c.push(new b(g.ke,f,g.Jb,g.Yy,a.bi,m)));}):void 0!==g&&void 0!==g.ke&&(g=a.MD,m=d(g),c.push(new b(g.ke,f,g.Jb,g.Yy,a.bi,m)));void 0!==a.ke&&(m=d(a),c.push(new b(a.ke,f,a.Jb,a.Yy,a.bi,m)));};c.prototype.Eu=function(a){var b;b=this.Gka;return a?b[a]:b;};g.M=c;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);d=a(2);h=a(3);g.Re(d.I.Vda,function(f){var d,g;if(b.config.tjb){d=h.yd("PlayerPredictionModel");A._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),f(c.Fb));g=a(476);d.log=d.trace.bind(d);l=new g({},d,{EK:function(a){A._cad_global.prefetchEvents.c4a(a.CQ);},Bya:function(a){A._cad_global.prefetchEvents.Ojb(a);}},A._cad_global.videoPreparer,{tv:function(){}});A._cad_global.playerPredictionModel=l;d.info("ppm v2 initialized");}f(c.Fb);});},function(g){g.M={Au:{Fa:12E5,oJ:9E5,Bc:12E5},du:{Fa:10,oJ:10,Bc:10},cu:{Fa:10240,oJ:10240,Bc:10240}};},function(g){function d(a){var b;b=[];return function h(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var f in a)if(a.hasOwnProperty(f)&&h(a[f]))return!0;}return!1;}(a);}g.M=function(a,b){var g;if(b&&d(a))return-1;b=[];a=[a];for(var c=0;a.length;){g=a.pop();if("boolean"===typeof g)c+=4;else if("string"===typeof g)c+=2*g.length;else if("number"===typeof g)c+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var l in g)a.push(g[l]);}}return c;};},function(g,d,a){var f,p;function b(){return Object.create(null);}function c(a){this.log=a.log;this.Ma=a.Ma;this.Gy=b();this.Promise=a.Promise;this.vr=a.vr;this.Raa=a.Raa;this.Bg=a.Bg||!1;this.Au=b();this.du=b();this.cu=b();this.BVa(a);a.sC&&(this.sC=a.sC,f(this.sC,c.prototype));}function h(a){return"undefined"!==typeof a;}function l(a){var c;for(var b=0,f=arguments.length;b<f;){c=arguments[b++];if(h(c))return c;}}f=a(48);a(479);p=a(478);c.prototype.BVa=function(a){this.Au.manifest=l(a.l3,p.Au.Fa);this.Au.ldl=l(a.k3,p.Au.oJ);this.Au.metadata=l(a.VDb,p.Au.Bc);this.du.manifest=l(a.e1,p.du.Fa);this.du.ldl=l(a.d1,p.du.oJ);this.du.metadata=l(a.hCb,p.du.Bc);this.cu.manifest=l(a.fCb,p.cu.Fa);this.cu.ldl=l(a.eCb,p.cu.oJ);this.cu.metadata=l(a.gCb,p.cu.Bc);};c.prototype.WR=function(a,b,f){this.wg("undefined"!==typeof a);this.wg("undefined"!==typeof b);return!!this.mja(a,b,f).value;};c.prototype.mja=function(a,b,f){var c,d;c={value:null,reason:"",log:""};d=this.Gy[b];if("undefined"===typeof d)return c.log="cache miss: no data exists for field:"+b,c.reason="unavailable",c;"undefined"===typeof d[a]?(c.log="cache miss: no data exists for movieId:"+a,c.reason="unavailable"):(f=d[a][f?f:"DEFAULTCAPS"])&&f.value?this.sS(b,f.vg)?(c.log="cache miss: "+b+" data expired for movieId:"+a,c.reason="expired"):(c.log=this.Promise&&f.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,c.value=f.value):(c.log="cache miss: "+b+" data not available for movieId:"+a,c.reason="unavailable");return c;};c.prototype.getData=function(a,b,f){this.wg("undefined"!==typeof a);this.wg("undefined"!==typeof b);a=this.mja(a,b,f);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Raa?JSON.parse(this.Raa(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};c.prototype.setData=function(a,f,c,d,g){var m;this.wg("undefined"!==typeof a);this.wg("undefined"!==typeof f);m=this.Gy;g=g?g:"DEFAULTCAPS";m[f]||(m[f]=b(),Object.defineProperty(m[f],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(m[f],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));c=this.vr?this.vr(JSON.stringify(c),"gzip",!0):c;m=m[f];this.$Sa(a,f,g,m);f={vg:this.Ma.getTime(),value:c,size:0,type:f,C2:d};m[a]=m[a]||b();m[a][g]=m[a][g]||b();m[a][g]=f;m.size+=0;m.numEntries++;this.sC&&this.emit("addedCacheItem",f);return f;};c.prototype.$Sa=function(a,b,f,c){var d,g,m,l,p,h,q,u,k;d=this;g=c.numEntries;m=this.du[b];h=c[a]&&c[a][f];if(h&&h.value)l=a,p="promise_or_expired";else if(g>=m){u=Number.POSITIVE_INFINITY;Object.keys(c).every(function(a){var g;g=c[a]&&c[a][f];g&&g.value&&d.sS(b,g.vg)&&(k=a);g&&g.value&&g.vg<u&&(u=g.vg,q=a);return!0;});l=k||q;p="cache_full";}this.Bg&&this.log.debug("makespace ",{maxCount:m,currentCount:c.numEntries,field:b,movieId:a,movieToBeRemoved:l});l&&(d.clearData(l,b,f,void 0,p),this.log.debug("removed from cache: ",l,b));};c.prototype.t1=function(a,b){var f,c;f=this;f.wg("undefined"!==typeof a);c=a+"";b.forEach(function(a){var b;b=f.Gy[a];b&&Object.keys(b).forEach(function(b){b!=c&&f.clearData(b,a,void 0,void 0,"clear_all");});});};c.prototype.clearData=function(a,b,f,c,d){var g;this.wg("undefined"!==typeof a);this.wg("undefined"!==typeof b);g=this.Gy[b];b=g?g[a]:void 0;f=f?f:"DEFAULTCAPS";if(b&&b[f]){g.size-=b[f].size;g.numEntries--;if(g=b&&b[f])b[f]=void 0,!c&&g.C2&&g.C2();this.sC&&(a={creationTime:g.vg,destroyFn:g.C2,size:g.size,type:g.type,value:g.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};c.prototype.flush=function(a){var f;this.wg("undefined"!==typeof a);f=this.Gy;f[a]=b();f[a].numEntries=0;f[a].size=0;};c.prototype.sS=function(a,b){return this.Ma.getTime()-b>this.Au[a];};c.prototype.getStats=function(a,b,f){var c,d,g,m,l;c={};d=this;g=d.Gy;m=h(a)&&h(b);l=f||"DEFAULTCAPS";Object.keys(g).forEach(function(f){var p,q;p=Object.keys(g[f]);q=g[f];p.forEach(function(g){!(g=q&&q[g]&&q[g][l])||!h(g.value)||g.value instanceof this.Promise||(c[f]=(c[f]|0)+1,d.sS(g.type,g.vg)&&(c[f+"_expired"]=(c[f+"_expired"]|0)+1),m&&g.vg>=a&&g.vg<b&&(c[f+"_delta"]=(c[f+"_delta"]|0)+1));});});return c;};c.prototype.Fe=function(a){var b,f,c,d;b=[];f=this;c=f.Gy;d=a||"DEFAULTCAPS";Object.keys(c).forEach(function(a){var g,m;g=Object.keys(c[a]);m=c[a];g.forEach(function(c){var g,l;g=m&&m[c]&&m[c][d];g&&h(g.value)&&(l=f.sS(g.type,g.vg)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:c,state:l,type:a,size:g.size}));});});return b;};c.prototype.Uza=function(a,b){this.wg("undefined"!==typeof a);this.wg("undefined"!==typeof b);this.cu[a]=b;};c.prototype.wg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Bg))throw Error("Debug Assert Failed ");};g.M=c;},function(g,d,a){var c,h;function b(a,b,d,g,q,u,k){this.R=a;this.Cd=b;this.type=d;this.id=++h;this.nQ=g;this.status=c.Vd.fca;this.Uib=void 0===q?!1:q;this.dwa=k;}Object.defineProperty(d,"__esModule",{value:!0});c=a(61);h=0;b.prototype.rp=function(){var a;a={id:this.id,type:this.type,created:this.nQ,status:this.status,movieId:this.R};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.Zi=function(a){this.dwa&&this.dwa(a);};d.pN=b;},function(g,d,a){var l,f,p;function b(){}function c(a){this.log=a.log;this.Ma=a.Ma;this.pQ=this.BH=0;this.Kv=[];this.paused=!1;this.iV=[];this.Kna=[];this.cJ=a.cJ||b.pba;this.Nc=a.Nc;this.Fi=this.Nc.get(f.BM);this.addEventListener=this.Fi.addListener.bind(this.Fi);this.events={Aha:"taskstart",yha:"taskabort",zha:"taskfail",Bha:"tasksuccess"};}function h(a){return a.rp();}Object.defineProperty(d,"__esModule",{value:!0});g=a(121);l=a(61);f=a(69);b.SMa="prepend";b.pba="append";b.RHa="ignore";p=g.qq;d.GPa=c;c.prototype.Vla=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Kv=this.HSa(a);this.BH=0;this.pQ+=1;this.hb();};c.prototype.HSa=function(a){var f,c;f=this.Kv.filter(function(a){return a.Uib&&a.status===l.Vd.fca;});c=this.cJ;if(c===b.RHa)return[].concat(a);if(c===b.SMa)return f.concat(a);if(c===b.pba)return a.concat(f);};c.prototype.pause=function(){this.paused=!0;};c.prototype.hb=function(){var a,b;if(this.BH===this.Kv.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.BH,numberOfTasks:this.Kv.length});else{a=this.Q9a();b=this.pQ;a.startTime=this.Ma.getTime();a.status=l.Vd.aha;this.Fi.wb(this.events.Aha,{R:a.R,type:a.type});this.iV.push(a);a.Se(function(f){a.endTime=this.Ma.getTime();f?0<=[l.Vd.Sz,l.Vd.jM,l.Vd.SE,l.Vd.iM].indexOf(f.status)?(a.status=f.status,this.p_(a,this.events.yha,"cancelled task")):(a.status=l.Vd.oq,this.p_(a,this.events.zha,"task failed",f)):(a.status=l.Vd.jha,this.p_(a,this.events.Bha,"task succeeded"));this.Kna.push(a);this.iV.splice(this.iV.indexOf(a),1);this.pQ===b&&(this.BH++,this.hb());}.bind(this));}};c.prototype.Q9a=function(){return this.Kv[this.BH];};c.prototype.p_=function(a,b,f,c){var d;d=a.rp();c?this.log.warn(f,d,c):this.log.trace(f,d);this.Fi.wb(b,{R:a.R,type:a.type,reason:a.status});a.Zi(d);};c.prototype.getStats=function(a,b,f){var c,d,g,m;c=this.Kna.map(h);d=this.iV.map(h);g=p.Yg(a)&&p.Yg(b);m={};if(p.Yg(f))return m.Y_a=c.filter(function(a){return a.movieId===f;}),m;c.concat(d).forEach(function(f){var c;m[f.type+"_"+f.status]=(m[f.type+"_"+f.status]|0)+1;c=f.status==l.Vd.aha?f.startTime:f.endTime;g&&c>=a&&c<b&&(m[f.type+"_"+f.status+"_delta"]=(m[f.type+"_"+f.status+"_delta"]|0)+1);});return m;};},function(g,d,a){var c,h,l,f,p,m,q,u,k,v;function b(a){this.log=a.log;this.Ma=a.Ma;this.DC=a.DC;this.HR=a.HR;this.BC=a.BC;this.EC=a.EC;this.vy=a.vy;this.q1=a.q1;this.IH=a.IH;this.Nc=a.Nc;this.config=this.Nc.get(m.me)();this.KH=a.KH;this.JH=a.JH;this.mba=a.mba;this.s8=a.s8;this.t8=a.t8;this.XJ=a.XJ;this.o4=a.o4;this.Bg=a.Bg||!1;this.S_={};this.AO={};this.VO={num_of_calls:0,num_of_movies:0};this.p1=a.p1;this.W7=a.W7;this.b8a=a.b8a;this.b4=a.b4;this.h1=a.h1;this.Xg=new q({log:this.log,Ma:this.Ma,Promise:Promise,Bg:this.Bg,e1:a.e1,d1:a.d1,l3:a.l3,k3:a.k3,sC:u});this.$m=new c.GPa({log:this.log,Ma:this.Ma,cJ:a.cJ,Nc:this.Nc});this.Dj=this.Xg.getData.bind(this.Xg);this.Av=this.Xg.setData.bind(this.Xg);this.UR=this.Xg.WR.bind(this.Xg);}Object.defineProperty(d,"__esModule",{value:!0});c=a(482);h=a(481);g=a(121);l=a(231);f=a(430);p=a(112);m=a(20);q=a(480);u=a(28).EventEmitter;k=g.qq;v=new f.Qha(k,new l.jW());d.wQa=b;b.prototype.tv=function(a,b){var f,c,d;f=this;a=a.map(function(a){a.cb=a.cb||{DB:{cxa:!1},Pf:0};k.kk(a.cb.Pf)||(a.cb.Pf=0);k.kk(a.Jb)&&(a.cb.U=a.Jb);return a;});c=a.map(function(a){return f.Nia(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=c.map(function(a){return a.R+"-"+a.type;});this.log.trace("prepare tasks",d);this.$m.Vla(c);this.VO.num_of_calls++;this.VO.num_of_movies+=a.length;};b.prototype.Kjb=function(a,b){var f,c,d;f=this;c=a.map(function(a){return a.R+"";});a=a.map(function(a){a.cb=a.cb||{DB:{cxa:!1},Pf:0};a.cb.Ud=!0;a.cb.Iva=c;return f.Nia(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.R+"-"+a.type;});this.log.trace("predownload tasks",d);this.$m.Vla(a);};b.prototype.Qk=function(a,b){this.AO[a]||(this.AO[a]={});a=this.AO[a];a.Fxa=(a.Fxa|0)+1;a.bi=b;};b.prototype.getStats=function(a,b,f){var c;c=f&&this.AO[f]||{};c.Kv=this.$m.getStats(a,b,f);c.cache=this.Xg.getStats(a,b);c.Mqa=v.Bk(this.o4(),this.VO);return c||{};};b.prototype.Nia=function(a,b){var f,c,d,g,m;a.uc&&(a.cb.uc=a.uc);f=[];c=a.R;d=!!a.cb.Ud;this.Qk(c,a.bi);g=null;if(this.Xg.WR(c,"manifest"))this.log.trace("manifest exists in cache for "+c);else{m=new h.pN(c,a.Cd,"manifest",this.Ma.getTime(),d,void 0,b);g=m.id;m.Se=this.DC.bind(this,c,a);f.push(m);}this.HR&&this.q1()&&(this.Xg.WR(c,"ldl")?this.Bg&&this.log.trace("ldl exists in cache for "+c):(m=new h.pN(c,a.Cd,"ldl",this.Ma.getTime(),d,g,b),m.Se=this.HR.bind(this,c,a),f.push(m)));this.BC&&this.EC&&this.p1()&&(this.W7(c)?this.Bg&&this.log.trace("headers/media exists in cache for "+c):(c=new h.pN(a.R,a.Cd,"getHeaders",this.Ma.getTime(),d,g,b),c.Se=this.BC.bind(this,a.R,a),f.push(c),b=new h.pN(a.R,a.Cd,"getMedia",this.Ma.getTime(),d,g,b),b.Se=this.EC.bind(this,a.R,a),f.push(b)));return f;};b.prototype.Eab=function(a){this.t8(a);};b.prototype.Dab=function(a){this.log.trace("task scheduler paused on playback created");this.$m.pause();this.KH&&this.Xg.t1(a,["manifest"]);this.JH&&this.Xg.t1(a,["ldl"]);this.s8(a);};b.prototype.jsa=function(){this.log.info("track changed, clearing all manifests from cache");this.Xg.t1("none",["manifest"]);};b.prototype.Cab=function(a){var b;b=this;this.IH?this.Xg.clearData(a,"manifest"):this.Xg.WR(a,"manifest")&&this.Xg.getData(a,"manifest").then(function(f){f.isSupplemental||b.Xg.clearData(a,"manifest");},function(f){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",f);});this.Xg.clearData(a,"ldl",void 0,!0);this.x1(a);this.XJ();};b.prototype.x1=function(a){this.S_[a]=void 0;};b.prototype.b5=function(a){return this.S_[a];};b.prototype.qoa=function(a){return this.S_[a]=this.mba();};b.prototype.Njb=function(){var a;a=[];a=this.Xg.Fe().map(function(a){return{vo:parseInt(a.movieId,10),state:a.state,gr:a.type,size:a.size||void 0};});this.b4().map(function(b){2===b.Pr?a.push({vo:b.R,state:"cached",gr:p.Wd.vi.gF,size:void 0}):b.q7a&&!b.fdb&&a.push({vo:b.R,state:"loading",gr:p.Wd.vi.gF,size:void 0});b.hCa&&0<b.hCa&&b.wma&&0<b.wma?a.push({vo:b.R,state:"cached",gr:p.Wd.vi.MEDIA,size:void 0}):b.Ejb&&!b.Djb&&a.push({vo:b.R,state:"loading",gr:p.Wd.vi.MEDIA,size:void 0});});return a;};b.prototype.mta=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var b,c,h,l,f,p,m,q,u,k,v,z,w,n,y,E,r,G,la,L,O,t,V,da,S,U,H,Y;Object.defineProperty(d,"__esModule",{value:!0});b=a(56);g=a(19);c=a(34);h=a(122);l=a(123);f=a(9);p=a(6);m=a(95);q=a(29);u=a(21);d=a(2);k=a(3);v=a(23);z=a(217);w=a(4);n=a(76);y=a(120);E=a(113);r=a(61);G=a(172);la=a(18);L=a(33);O=a(42);t=a(483);V=a(157);da=a(185);S=a(145);U=a(106);H=a(241);g.Re(d.I.$da,function(a){var X,ga,Ga,aa,F,ib,Ma,R,ub,ca,ba,mb,va,hb,Qa;function d(){var a,b,c;if(f.config.Gl){a={};a.trigger=r.dd.RMa.NLa;b=X.getTime();c=Y.getStats(hb,b);a.startoffset=hb;hb=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.Kv);a.general=JSON.stringify(c.Mqa);a=new m.gA(void 0,"prepare","info",a);A._cad_global.logBatcher.Ub(a);}}function g(a,b,c){var d,g;g=a.video_tracks;g&&g.length&&g[0].streams&&g[0].streams.length&&(d=g[0].streams[0].content_profile);g=f.Rna(b.uc);d=f.Qna(!!a.choiceMap,!1,d);d=h.ek.ip(Object.assign({},g,d));return{R:c,Cd:0,H9a:function(){return{Fa:a,ai:!1,CB:a.defaultTrackOrderList[0].audioTrackId};},config:d,Ud:!!b.Ud,Iva:b.Iva};}function x(a,b,c){Y.Dj(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Ma.trace("ldl not available in cache",d);Y.Dj(a,"manifest").then(function(d){var m,l,p;function g(b){Ma.warn("ldl is now invalid",b);l.close();Y.Av(a,"ldl",void 0);Y.x1(a);}if(Y.UR(a,"ldl"))c({status:r.dd.Vd.Sz});else if(d.hasDrmStreams)if(f.config.ipa&&R&&R!==a&&!b.force)c({status:r.dd.Vd.jM});else if(f.config.jpa&&ub&&ub!==a&&!b.force)c({status:r.dd.Vd.SE});else{R&&R!==a&&(ca[a]=(ca[a]|0)+1);ub&&ub!==a&&(ba[a]=(ba[a]|0)+1);m=d.video_tracks[0].drmHeader.bytes;l=P({Nbb:"cenc",Dpa:Ma,Kr:function(b){var f;f=[];b.hp.forEach(function(a){f.push({sessionId:a.sessionId,dataBase64:k.N0(a.data)});});b={hp:f,LQ:[d.drmContextId],ah:r.dd.$na(b.ah),cf:d.playbackContextId,la:Y.qoa(a)};Ma.trace("xid created ",{MovieId:a,xid:b.la});return aa.wB(b,mb);},jpb:void 0,l6a:g,he:void 0,n8:la.Qb,Ma:F});Y.Av(a,"ldl",l,function(){l.close();});p=ib.shift();k.log.trace("cached mediakeys count "+ib.length);return l.create(f.config.zd,p).then(function(){return l.Ze(n.xi.Vs,[k.Bn(m)],!0);}).then(function(){c(null,l);})["catch"](function(a){g(a);c(a);});}else c({status:r.dd.Vd.iM});})["catch"](function(a){Ma.warn("Manifest not available for ldl request",a);c({status:r.dd.Vd.Sz});});});}function D(a,b,c){Y.Dj(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Ma.trace("ldl not available in cache",d);Y.Dj(a,"manifest").then(function(d){var m,p;function g(b,f){Ma.warn(b+" LDL is now invalid.",f);Y.Av(a,"ldl",void 0);Y.x1(a);}if(Y.UR(a,"ldl"))c({status:r.dd.Vd.Sz});else if(d.hasDrmStreams)if(f.config.ipa&&R&&R!==a&&!b.force)c({status:r.dd.Vd.jM});else if(f.config.jpa&&ub&&ub!==a&&!b.force)c({status:r.dd.Vd.SE});else{R&&R!==a&&(ca[a]=(ca[a]|0)+1);ub&&ub!==a&&(ba[a]=(ba[a]|0)+1);m=d.video_tracks[0].drmHeader.bytes;p=k.da.get(y.xM)().then(function(b){var c;c={type:n.xi.Vs,hS:k.Bn(m),context:{zd:f.config.zd},Eg:{R:a,la:Y.qoa(a),cf:d.playbackContextId,zj:d.drmContextId,profileId:l.Vg.profile.id}};return b.tv(c,new H.YX());}).then(function(a){c(null,a);return a;})["catch"](function(a){g("Unable to prepare an EME session.",a);});Y.Av(a,"ldl",p,function(){try{p.then(function(a){a.close().subscribe(void 0,function(a){g("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){g("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(uc){g("Unable to cleanup LDL session, unexpected exception.",uc);}});}else c({status:r.dd.Vd.iM});})["catch"](function(a){Ma.warn("Manifest not available for ldl request",a);c({status:r.dd.Vd.Sz});});});}function P(a){var b,c;b=new L.xf.Ms(a.Dpa,a.Kr,a.jpb,{Bg:!1,gJ:!1});c=k.da.get(E.AA);return L.xf.Fo(a.Dpa,a.Nbb,a.he,{Bg:!1,gJ:!1,Cta:f.config.Jh,tza:{tva:f.config.sza,nna:f.config.d$},GK:b,Oxa:f.config.e9,Ha:void 0,HE:f.config.HE,Oz:f.config.W2,onerror:a.l6a,n8:a.n8,Ma:a.Ma,ljb:!1,UK:f.config.bba&&f.config.UK,eS:f.config.eS,xma:c.iQ(),iCa:c.AH([]),SC:f.config.SC});}function ma(a,b){0===a&&k.log.trace("generete mediakeys for pre-caching");a<b?L.xf.Fo.kQ&&L.xf.Fo.kQ("cenc",f.config.zd,k.log,f.config.bba&&f.config.UK).then(function(f){ib.push(f);O.hb(ma.bind(null,++a,b));})["catch"](function(a){k.log.error("abort pre-caching due to error in creating mediakeys",a);}):k.log.trace("pre-cached mediakeys complete, number of instances: "+b);}X={getTime:u.xc,ER:u.Dx};ga=k.da.get(v.we);Ga=k.da.get(da.TX);aa=k.da.get(S.sF);F=X;ib=[];Ma=k.yd("VideoPreparer");ca={};ba={};mb={Bb:c.Bb,log:Ma};if(!L.xf.Fo||!L.xf.Ms){va={};L.xf.Fo=va.ue;L.xf.Ms=va.request;}Ma.info("instance created");Y=new t.wQa({log:Ma,Ma:X,mba:u.E_a,DC:function(a,b,c){var g;function d(){var b,f;ga.qx(g)||(g={trackingId:g});b={oi:Ga.Dna(g.DB,g.oi),ke:a,Sr:!!g.rf,oI:r.dd.jn.Wfa,Xy:g.Xy};mb.profile=l.Vg.profile;Ma.trace("manifest request for:"+a);f=k.da.get(U.sA)();return Ga.DC(b,f);}g=b.cb;Ma.trace("getManifest: "+a);f.config.JWa&&g&&g.Fa&&!Y.UR(a,"manifest")&&(!g.Fa.clientGenesis||Date.now()-g.Fa.clientGenesis<f.config.Gxa)?(g.Fa.oz=X.getTime(),g.Fa.VD=X.getTime(),b=g.Fa.runtime?k.da.get(V.UX).decode(g.Fa):g.Fa,Y.Av(a,"manifest",b),c(null,b)):Y.Dj(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var f;Ma.trace("manifest not available in cache",b);if(Y.UR(a,"manifest"))c({status:r.dd.Vd.Sz});else{f=X.getTime();b=d();Y.Av(a,"manifest",b);b.then(function(b){b.oz=f;b.VD=X.getTime();Y.Av(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);Y.Av(a,"manifest",void 0);});}});},HR:f.config.Bo?D:x,q1:function(){return f.config.SQ&&q.wS(f.config);},BC:function(a,b,f){var c;c=b.cb;Y.Dj(a,"manifest").then(function(b){b=g(b,c,a);h.fk.cna(b,function(){f(null,{});});})["catch"](function(a){Ma.error("Exception in getHeaders",a);f(a);});},EC:function(a,b,f){var c;c=b.cb;Y.Dj(a,"manifest").then(function(d){var m,l,p;m=g(d,c,a);l=d.duration;d=k.da.get(z.nW).Zla({FE:w.xb(d.bookmark),R:a,TT:w.xb(l),Za:c}).na(w.Ba);k.da.get(v.we).$o(c.U)&&(d=c.U);m.Jb=d;if(R!=a||c.Ud||b.force){p=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(h.fk.removeEventListener("prebuffstats",p),f(null,{}));};h.fk.addEventListener("prebuffstats",p);h.fk.cna(m);}else f({status:r.dd.Vd.SE});})["catch"](function(a){Ma.error("Exception in getMedia",a);f(a);});},vy:function(){return h.fk.vy();},p1:function(){return f.config.RQ;},W7:function(a){var b;b=!1;h.fk.c1().forEach(function(f){f.R==a&&(b=!0);});return b;},b4:function(){return h.fk.c1().map(function(a){var f,c;f=h.fk.seb(a.R);c=f[b.Sb.wf.AUDIO]&&f[b.Sb.wf.AUDIO].data;f=f[b.Sb.wf.VIDEO]&&f[b.Sb.wf.VIDEO].data;return{R:a.R,Pr:a.Pr,wma:c&&c.length,hCa:f&&f.length,q7a:ga.$o(a.cc.mR),fdb:ga.$o(a.cc.HS),Ejb:ga.$o(a.cc.LD),Djb:ga.$o(a.cc.lK)};});},s8:function(a){R=a;},t8:function(a){Qa&&(Qa.v1(),d());ub=a;},XJ:function(){Qa&&Qa.F$();ub=R=void 0;},o4:function(){return{ldls_after_create:ca,ldls_after_start:ba};},h1:function(a,b,f){var c,d;try{c=Y.AEb(a);d=c&&c.U===b;c&&c.lK?ga.kk(b)&&!d?f(!1):Y.Dj(a,"manifest").then(function(b){b.hJb?Y.Dj(a,"ldl").then(function(){f(!0);})["catch"](function(){f(!1);}):f(!0);})["catch"](function(){f(!1);}):f(!1);}catch(Kb){f(!1);}},IH:f.config.IH,KH:f.config.KH,JH:f.config.JH,cJ:f.config.Pjb,e1:f.config.Sjb,d1:f.config.Qjb,l3:f.config.Gxa,k3:f.config.Rjb,Bg:!1,Nc:k.da});A._cad_global.videoPreparer=Y;va=f.config.Tib;hb=X.getTime();va&&(Qa=new G.Sga(va,d),Qa.F$());f.config.SQ&&q.wS(f.config)&&f.config.zxa&&O.hb(ma.bind(null,0,f.config.zxa));a(p.Fb);});},function(g,d,a){var b,c,h,l,f,p,m,q,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(139);b=a(6);c=a(9);h=a(41);d=a(7);l=a(3);f=a(57);p=a(84);m=a(12);q=a(18);u=a(5);A.netflix=A.netflix||{};m.wa(!A.netflix.player);A.netflix.player={VideoSession:g.ZY,diag:{togglePanel:function(a,b){var f;if(!c.config||c.config.CK){switch(a){case"info":f=h.zq.map(function(a){return a.UT;});break;case"streams":f=h.zq.map(function(a){return a.qjb;});break;case"log":f=[];}f&&f.forEach(function(a){q.ab(b)?b?a.show():a.ey():a.toggle();});}},addLogMessageSink:function(a){l.da.get(f.Xs).addListener({Eza:function(){},rva:function(b){a({data:b.data});}});}},log:l.yd("Ext"),LogLevel:d.Nh,addLogSink:function(a,b){l.da.get(p.hw).SD(a,b);},getVersion:function(){return"6.0015.389.051";},isWidevineSupported:function(a){var c;function f(a){return function(b,f){return f.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");c=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.Zs,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.iA,robustness:"SW_SECURE_CRYPTO"}]}];try{u.nj.requestMediaKeySystemAccess("com.widevine.alpha",c).then(function(c){var d;d=c.getConfiguration();c=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(f(b.iA),!1);c=c.reduce(f(b.Zs),!1);a(d&&c);})["catch"](function(){a(!1);});}catch(w){a(!1);}}};},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(139);c=a(6);d=a(2);h=a(9);l=a(141);f=a(3);p=a(41);m=a(122);q=a(66);g.Re(d.I.bea,function(a){var d,g;if(h.config.B6a){d=f.da.get(l.gN);g=f.da.get(q.kn);b.ZY.GP.test={pboRequests:d.GK,playbacks:p.zq,aseManager:{cacheDestroy:function(){return m.fk.bna();}},device:{esn:A._cad_global.device.dg,esnPrefix:g.Gm,errorPrefix:g.pC}};}a(c.Fb);});},function(g,d,a){var b,c,h,l,f,p,m,q,u,k,v,z,w,n,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(104);c=a(123);h=a(139);l=a(176);f=a(250);p=a(34);m=a(6);q=a(9);u=a(95);k=a(2);v=a(3);z=a(12);w=a(17);n=a(18);y=a(15);g.Re(k.I.aea,function(a){var x,D;function d(a,b){var f;f={profile:c.Vg.profile,log:x,Bb:p.Bb};a.email&&(f.Sx=a.email,f.password=a.password||"");a.sendNetflixIdUserAuthData&&(f.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.dh&&(f.dh=a.dh);b({S:!0,Xr:f});}function g(a){return{account:{id:a.th.id},id:a.id,lastAccessTime:a.mJ,languages:a.languages,registered:a.w9};}x=v.yd("NccpApi");D=w.RXa();h.ZY.GP.nccp={getEsn:function(){return b.yg.dg;},getPreferredLanguages:function(){return q.config.zg.bz;},setPreferredLanguages:function(a){z.wa(y.isArray(a)&&n.Pu(a[0]));q.config.zg.bz=a;},login:function(a,b){return new Promise(function(f,d){c.Vg.uy(a,b).then(function(a){f(g(a));})["catch"](function(a){d({success:!1,error:v.rw(a.code,a)});});});},logout:function(){return new Promise(function(a,b){c.Vg.qeb().then(a)["catch"](function(a){b({success:!1,error:v.rw(a.code,a)});});});},isLoggedIn:function(){return c.Vg.M2a().map(function(a){return!(a.Vi||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,f){c.Vg.Xpb(a).then(function(a){b(g(a));})["catch"](function(a){f({success:!1,error:v.rw(a.code,a)});});});},ping:function(a,b){d(a,function(a){l.yh.ping(a.Xr,function(a){b&&(a.S?b({success:!0}):b({success:!1,error:v.rw(k.I.mY,a)}));});});},netflixId:function(a,b){d(a,function(a){l.yh.Q0(a.Xr).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:v.rw(k.I.nfa,a)});});});},getDeviceTokens:function(a){z.wa(y.qb(a));l.yh.Q0({log:x,Bb:p.Bb}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:v.rw(k.I.nfa,b)});});},getRegistered:function(a,b){var d;try{d=f.Fj.If.hasUserIdToken(a.id||c.Vg.profile.id);b({success:!0,registered:d});}catch(da){b({success:!1});}},unregister:function(a,b){try{f.Fj.If.removeUserIdToken(a.id||c.Vg.profile.id);b({success:!0});}catch(V){b({success:!1});}},queueLogblob:function(a,b,f){a&&b&&(b=b.toLowerCase(),D[b]?A._cad_global.logBatcher&&(a=new u.gA(void 0,a,b,f),A._cad_global.logBatcher.Ub(a)):x.warn("Invalid severity",{severity:b}));},flushLogblobs:function(){A._cad_global.logBatcher.flush(!0);}};a(m.Fb);});},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(29);h=a(12);l=a(17);f=a(18);d.PEa=function(a,b){h.wa(a);h.wa(b);h.GH(b.f6a,"endpointURL property is required");h.wa(b.Pi);this.log=a;this.qxa=b;};d.PEa.prototype.Eu=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.qxa.Pi)};g=a.qxa.f6a+"?"+c.WJ(d);return new Promise(function(c,d){function m(b){var f;try{if(b.S){f=new Uint8Array(b.content);return{S:!0,config:JSON.parse(String.fromCharCode.apply(null,f)).core.initParams};}return{S:!1,message:"Unable to download the config. "+b.Ja,QI:b.Ah};}catch(P){return b=l.$c(P),a.log.error("Unable to download the config. Received an exception parsing response",{message:P.message,exception:b,url:g}),{S:!1,Ja:b,message:"Unable to download the config. "+P.message};}}function p(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.La({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function h(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function q(g,u,k){b.Bb.download(g,function(b){var v;b=m(b);if(b.S)c(b);else{a.log.warn("Config download failed, retrying",f.La({Attempt:u,WaitTime:v,MaxRetries:k},b));if(p(b,u+1,k))return v=l.Uxa(1E3,1E3*Math.pow(2,Math.min(u-1,k))),h(v).then(function(){return q(g,u+1,k);});d(b);}});}return b.Bb?q({url:g,responseType:3,withCredentials:!0,Nx:"config-download"},1,3):Promise.reject({S:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(9);c=a(6);d=a(2);h=a(3);l=a(164);g.Re(d.I.Oda,function(a){b.config.P7a&&h.da.get(l.rda).start();a(c.Fb);});},function(g,d,a){var b,c,h,l,f,p,m,q,u,k,v,z,w,n,y;Object.defineProperty(d,"__esModule",{value:!0});b=a(146);c=a(19);h=a(253);l=a(41);f=a(9);p=a(55);m=a(6);q=a(29);u=a(21);k=a(17);v=a(5);z=a(3);w=a(87);n=a(16);y=a(33);l.xga(l.sga,function(a){var da,S,U,H,Y,aa;function d(b){b.newValue>=l.$l&&(a.state.removeListener(d),t("type=openplay&sev=info&locstor="+v.fY(r())),U=u.xc(),D());}function g(){aa("type=startplay&sev=info&outcome=success");}function x(){var f,c;f=a.Bh;if(f){c="type=startplay&sev=error&outcome=error";f=b.Ira(y.PGa,f);k.pc(f,function(a,b){c+="&"+v.fY(a)+"="+v.fY(b||"");});aa(c);}else aa("type=startplay&sev=info&outcome=abort");}function D(){var a,b;a=H.shift();if(0<a){b=v.Uk(a-(u.xc()-U),0);S=setTimeout(function(){t("type=startstall&sev=info&kt="+a);D();},b);}}function E(){aa("type=startplay&sev=info&outcome=unload");}function r(){var a,b,f;try{b=""+u.Dx();localStorage.setItem("player$test",b);f=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==f?"success":"mism";}catch(ka){a="ex: "+ka;}return a;}function t(b){b=Y+"&soffms="+a.by()+"&"+b;a.rd&&Object.keys(a.rd).length&&(b+="&"+q.WJ(k.La({},a.rd,{prefix:"sm_"})));h.Qqb(b,da);}da=z.da.get(w.Hs).host+f.config.Haa;if(f.config.CV&&da){H=f.config.Rqb.slice();Y="xid="+a.la+"&pbi="+a.index+"&uiLabel="+(a.uc||"");a.state.addListener(d);a.addEventListener(n.X.Fh,g);a.addEventListener(n.X.De,x);p.ee.addListener(p.sk,E,m.nA);aa=function(b){aa=m.Qb;b+="&initstart="+c.KS+"&initend="+c.H6;t(b);clearTimeout(S);a.removeEventListener(n.X.Fh,g);a.removeEventListener(n.X.De,x);p.ee.removeListener(p.sk,E);};}});},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(92);b=a(9);c=a(3);g.yF(function(a){var d,f,g,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720};Object.assign(d,b.config.rrb);f=d[a.uc];if(b.config.srb&&f){g={};m=c.qf(a,"MediaStreamFilter");return{kI:"uiLabel",us:function(b){if(b.lower&&b.height>f)return g[b.height]||(g[b.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:b.height}),a.Zt.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(g,d,a){var c,h,l,f;function b(a){var d,g;function b(c){c=c.gp;a.removeEventListener(f.X.Y7,b);try{h.Acb(c.data)&&(g=!0,a.gob());d.trace("RA check",{HasRA:g});}catch(v){d.error("RA check exception",v);}}d=c.qf(a,"RAF");a.addEventListener(f.X.Y7,b);return{kI:"ra",us:function(a){if(!g&&a.Bl)return a=a.Me,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);c=a(3);h=a(254);l=a(33);f=a(16);l.iOa&&g.yF(b);d.qxb=b;},function(g,d,a){var c,h;function b(a){var b,d;b=h.qf(a,"MSS");if(c.config.Gfb)return{kI:"mss",us:function(f){var c,g;if(f.lower&&2160<=f.height)a:{for(c=f;c.lower;){if(2160>c.height&&1080<c.height){c=!0;break a;}if(1080>=c.height)break;c=c.lower;}c=!1;}else c=void 0;if(c){if(void 0===d){try{g=A.MSMediaKeys;d=g&&g.isTypeSupportedWithFeatures?"probably"===g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(x){b.error("hasUltraHdDisplay exception");d=!0;}d||(b.warn("Restricting resolution due screen size",{MaxHeight:f.height}),a.Zt.set({reason:"microsoftScreenSize",height:f.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);c=a(9);h=a(3);g.yF(b);d.pxb=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(92).yF(function(){return{kI:"op",us:function(){}};});},function(g,d,a){var c,h,l,f,p,m,q,u,k,v,z,w;function b(a){var D,r,O,t,V,da,S,U,H,Y,aa,A,Z,Q,ka,fa,ma;function b(){var b;b=a.Fc.value==l.Lo&&a.state.value==l.ln;A?b||(clearInterval(A),S=A=void 0,Z&&(clearInterval(ka),ka=void 0)):b&&(A=setInterval(g,1E3),Z&&(ka=setInterval(x,Q)));}function g(){var b,c,d,g,m,l;b=a.ig.value;b=(b=b&&b.stream)&&b.height;if(0<b){c=p.xc();d=a.eg.Zx();if(d){if(S&&2E3>c-S.time&&b==S.height){g=d-S.S4a;m=r[b];m||(r[b]=m=[],b>H&&(da.push(b),f.$V(da)));0<g&&!(aa<b)&&(aa=b);m.push(g);m.length>U&&m.shift();(m=t[b])||(t[b]=m={});l=m[g];m[g]=l?l+1:1;}S={time:c,S4a:d,height:b};a.UT&&a.UT.Onb(r);}}}function x(){v.storage.save(d.zX,{xid:a.la,data:t});}function n(){q.wa(v.storage);a.addEventListener(z.X.De,function(){x();});V=[];v.storage.load(d.xda,function(a){var b;a.S&&(V=a.data);b={};v.storage.load(d.zX,function(a){a.S&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(V.push(b),V.length>Z&&V.shift(),v.storage.save(d.xda,V),v.storage.save(d.zX,{}));});});}D=m.qf(a,"DFF");r={};O=c.config.W4a;t={};V=[];da=[];U=c.config.U4a;H=c.config.V4a;Y=h.FJa;Z=c.config.Z4a;Q=c.config.Y4a;fa=k.nj.hardwareConcurrency||0;if(c.config.T4a)return Z&&a.addEventListener(z.X.Dma,n),a.PQ={k8a:function(){var a;a={};t&&da.forEach(function(b){var f,c,d;f=t[b];if(f){c=0;d=0;w.pc(f,function(a,b){d+=u.Ad(a);c+=b;});a[b]=d/c;}});return a;},F4:function(a){var b;b={};a.forEach(function(a){b[a]={};});t&&(f.$V(a),da.forEach(function(c){var d,g,m,l;d=t[c];if(d){g=0;m=0;w.pc(d,function(a,b){g+=b;});l=Object.keys(d);f.$V(l);for(var p=l.length-1,h=l[p],q=a.length-1;0<=q;q--){for(var u=a[q];h>=u&&0<=p;)(h=d[h])&&(m+=h),h=l[--p];b[u][c]=k.Tf(m/g*100);}}}));return b;}},a.state.addListener(b),a.Fc.addListener(b),{kI:"df",us:function(b){var f,d,g,m,l,p,h,q,u,v;if(b.lower&&b.height>H){b=b.height;a:{!ma&&c.config.tpa&&c.config.OQ&&a.eoa<c.config.tpa[fa]&&(Y=k.mj(Y,c.config.OQ),a.Zt.set({reason:"droppedFramesPreviousSession",height:c.config.OQ}));ma=!0;if(aa){f=da.length;for(d=0;d<f;d++)if(g=da[d],g>=aa&&g<Y){m=r[g];if(l=m)b:{u=O.length;v=m.length;for(q=0;q<u;q++)for(p=O[q],l=p[0],p=p[1],h=0;h<v;h++)if(m[h]>=p&&0>=--l){l=!0;break b;}l=void 0;}if(l&&Y!=g){D.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:g});a.Zt.set({reason:"droppedFrames",height:g});f=c.config.OQ=Y=g;break a;}}aa=void 0;}f=Y;}return b>=f;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);c=a(9);h=a(6);l=a(41);f=a(29);p=a(21);m=a(3);q=a(12);u=a(18);k=a(5);v=a(124);z=a(16);w=a(17);g.yF(b);d.xda="DroppedFramesHistory";d.zX="DroppedFramesSession";d.oxb=b;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(3);h=a(18);d.uyb=function(){c.yd("OpenConnectNotifier");return{vI:function(a){b.Bb.Rgb({url:a.url,reason:a.reason});},Maa:h.Qb};}();},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);a=a(330);a=g.da.get(a.Dba);a;},function(g,d,a){var b,c,h,l,f,p,m,q,u,k,v,z,w,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(329);h=a(146);l=a(6);f=a(9);p=a(95);m=a(41);q=a(21);g=a(2);u=a(3);k=a(115);v=a(5);z=a(42);w=a(15);b.Re(g.I.Qda,function(a){var g;function d(){var a,c,d,l;a={browserua:v.Vk,browserhref:v.ZM.href,initstart:b.KS,initdelay:b.H6-b.KS};c=v.ud.documentMode;c&&(a.browserdm=""+c);"undefined"!==typeof A.nrdp&&A.nrdp.device&&(a.firmware_version=A.nrdp.device.firmwareVersion);w.Pu(f.config.eqa)&&(a.fesn=f.config.eqa);Object.assign(a,h.Rra());d=v.tq&&v.tq.timing;d&&f.config.feb.map(function(b){var f;f=d[b];f&&(a["pt_"+b]=f-q.F_a());});l=g.zra();Object.keys(l).forEach(function(b){return a["m_"+b]=l[b];});c=new p.gA(m.iN&&m.iN.j,"startup","info",a);n.Ub(c);}n=u.da.get(c.xea);A._cad_global.logBatcher=n;g=u.da.get(k.Dw);b.tJ(function(){n.zc();z.hb(d);});a(l.Fb);});},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(9);h=a(21);d.eub=function(a){var f;f={vBb:a,Zpa:!0,w9:!1,mJ:h.xc(),load:function(a){(a||b.Qb)(b.Fb);},save:function(){f.Zpa=!0;},remove:function(a){f.Zpa=!1;(a||b.Qb)(b.Fb);},zAb:c.config.zg.bz,CFb:!0};return f;};},function(g,d,a){var l,f,p,m;function b(a,b,d,g){var q,u,k;l.wa(m.pe(a)&&!m.isArray(a));g=g||"";q="";u=a.hasOwnProperty(p.ti)&&a[p.ti];u&&f.pc(u,function(a,b){q&&(q+=" ");q+=a+'="'+h(b)+'"';});d=(b?b+":":"")+d;u=g+"<"+d+(q?" "+q:"");k=a.hasOwnProperty(p.gq)&&a[p.gq].trim&&""!==a[p.gq].trim()&&a[p.gq];if(k)return u+">"+h(k)+"</"+d+">";a=c(a,b,g+"  ");return u+(a?">\n"+a+"\n"+g+"</"+d+">":"/>");}function c(a,c,d){var g;l.wa(m.pe(a)&&!m.isArray(a));d=d||"";g="";f.pc(a,function(a,l){var u;if("$"!=a[0])for(var p=f.h7(l),q=0;q<p.length;q++)if(l=p[q],g&&(g+="\n"),m.pe(l))g+=b(l,c,a,d);else{u=(c?c+":":"")+a;g+=d+"<"+u+">"+h(l)+"</"+u+">";}});return g;}function h(a){if(m.Sd(a))return f.x5(a);if(m.ka(a))return l.sQ(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";l.wa(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});l=a(12);f=a(17);p=a(126);m=a(15);d.PFb=b;d.QFb=c;d.HIb=h;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);d=a(2);b=a(3);c=a(306);g.Re(d.I.Pda,function(a){b.da.get(c.Uca)().then(function(){a({S:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({S:!0});});});},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(29);h=a(6);l=a(9);f=a(2);p=a(464);m=a(33);q=a(5);m.Pea&&b.Re(f.I.cea,function(a){q.Ix&&q.Ix.generateKey&&q.Ix.importKey&&q.Ix.unwrapKey?!m.xf.zca&&l.config.EB!=p.gW.WMa&&l.config.EB!=p.gW.LJa||q.eY?(b.uJ("wcs"),c.Vhb(q.Ix.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){b.uJ("wcdone");a(h.Fb);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=f.H.$Y:0<=b.indexOf("timeout waiting for iframe to load")&&(c=f.H.CQa);a({T:c,Ja:b});})):a({T:f.H.BQa}):a({T:f.H.$Y});});},function(g,d,a){var h,l,f,p,m,q,u,k,v,z,w,n,y,E,r,G,la,L,O;function b(){try{r.write(new v.pfa([la]));la="";}catch(X){L.nb(b);}}function c(a){a.level<=E&&(a=a.zL(!1,!0)+"\n",la+=a,L.nb(b));}Object.defineProperty(d,"__esModule",{value:!0});g=a(19);h=a(251);l=a(9);f=a(6);p=a(21);d=a(7);m=a(84);q=a(3);u=a(2);k=a(12);v=a(5);z=a(144);w=a(104);n=a(85);a=a(4);y={create:!0};E=d.Nh.RY;G=[];la="";L=q.da.get(n.Aw)(a.xb(10));O=q.da.get(m.hw);O.SD(z.hA.SX,function(a){G.push(a);});g.Re(u.I.Rda,function(a){var g,m,q,u;function d(){var a;O.BBa(z.hA.SX);if(r){r.seek(r.length);a="Version: 6.0015.389.051\n"+(w.yg?"Esn: "+w.yg.dg+"\n":"")+"JsSid: "+p.oF+", Epoch: "+p.Dx()+", Start: "+p.G_a()+", TimeZone: "+new Date().getTimezoneOffset()+"\nHref: "+v.ZM.href+"\nUserAgent: "+v.Vk+"\n--------------------------------------------------------------------------------\n";la+=a;L.nb(b);for(a=0;a<G.length;a++)c(G[a]);G=void 0;O.SD(z.hA.EQa,c);}}k.wa(l.config);if(h.w3){g=p.oF+".log";m=function(a){r=a;d();};q=function(){k.wa(!1);d();};u=function(a){a.createWriter(m,q);};h.w3.root.getDirectory("netflix.player.logs",y,function(a){l.config.lHb?a.getFile(g,y,u,q):(a.removeRecursively(f.Qb),d());},q);}else O.BBa(z.hA.SX),G=void 0;a(f.Fb);});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(19);a(9);a(6);a(3);a(84);a(144);a(2);a(85);a(4);},function(g,d,a){var m,q,u,k,v;function b(a){var b,c;q.GH(a);if(u.Sd(a)&&d.HIa.test(a)){b=a.split(".");if(4===b.length){for(var f=0;f<b.length;f++){c=u.Ad(b[f]);if(0>c||!v.Ou(c,0,255)||1!==b[f].length&&0===b[f].indexOf("0"))return;}return a;}}}function c(a){var f;f=0;if(b(a)===a)return a=a.split("."),f+=u.Ad(a[0])<<24,f+=u.Ad(a[1])<<16,f+=u.Ad(a[2])<<8,f+u.Ad(a[3]);}function h(a){var b;q.GH(a);if(u.Sd(a)&&a.match(d.IIa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=l(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?f(a):b,a=b.length,8===a)){for(;a--;)if(!v.Ou(parseInt(b[a],16),0,m.GJa))return;return b.join(":");}}}function l(a){var b;a=c(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function f(a){var b,f,c;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);f=8-(b.length+a.length);if(1>f)return[];for(c=0;c<f;c++)b.push("0");for(c=0;c<a.length;c++)b.push(a[c]);return b;}function p(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});m=a(6);q=a(12);u=a(18);k=a(5);v=a(15);d.HIa=/^[0-9.]*$/;d.IIa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.cA="0000000000000000";d.Iwb=b;d.Ewb=c;d.Jwb=h;d.Gwb=l;d.Hwb=f;d.Kwb=function(a,f,g){var m,l,q,u;m=b(a);l=h(a);q=b(f);u=h(f);if(!m&&!l||!q&&!u||m&&!q||l&&!u)return!1;if(a===m)return g=p(g),(c(a)&g)!==(c(f)&g)?!1:!0;if(a===l){a=a.split(":");f=f.split(":");for(m=k.rq(g/d.cA.length);m--;)if(a[m]!==f[m])return!1;g%=d.cA.length;if(0!==g)for(a=parseInt(a[m],16).toString(2),f=parseInt(f[m],16).toString(2),a=d.cA.substring(0,d.cA.length-a.length)+a,f=d.cA.substring(0,d.cA.length-f.length)+f,m=0;m<g;m++)if(a[m]!==f[m])return!1;return!0;}return!1;};d.Fwb=p;},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(12);a(17);h=a(18);l=a(2);f=a(33);p=a(42);m=a(5);a(15);q=a(114);d.ZFb=function(a,d){var k,x,n;function g(a){var b;b=d;d=h.Qb;b(a);}function u(a){var b,f,d,m;try{b=JSON.parse(a.data);f=b.method;d=b.success;m=b.payload;c.wa("ready"==f);"ready"==f&&(x.removeEventListener("message",u),n.Of(),p.hb(function(){k.info("Plugin sent ready message");d?g({success:!0,pluginObject:x,pluginVersion:m&&m.version}):g({T:l.H.Rfa,jc:b.errorCode});}));}catch(O){k.error("Exception while parsing message from plugin",O);g({T:l.H.Sfa});}}k=b.yd("Plugin");c.wa(a);if(a){a=a[0].type;k.info("Injecting plugin OBJECT",{Type:a});x=h.createElement("OBJECT",f.xf.OMa,void 0,{type:a,"class":"netflix-plugin"});x.addEventListener("message",u);n=b.da.get(q.Cw)(8E3,function(){k.error("Plugin load timeout");g({T:l.H.Ufa});});m.ud.body.appendChild(x);n.lp();}else g({T:l.H.Tfa});};d.aGb=function(){};d.$Fb=function(a){var f,c,d;f=b.yd("Plugin");c=1;d={};a.addEventListener("message",function(a){var b,c,g,m;try{b=JSON.parse(a.data);c=b.success;g=b.payload;m=d[b.idx];m&&(c?m({S:!0,BBb:g}):m({S:!1,T:l.H.MMa,Ja:b.errorMessage,jc:b.errorCode}));}catch(G){f.error("Exception while parsing message from plugin",G);}},!1);return function(g,m,p){var u,k,v,x;function h(a){a.S||f.info("Plugin called back with error",{Method:g},l.hn(a));v.Of();delete d[u];p(a);}try{u=c++;k={idx:u,method:g};k.argsObj=m||{};v=b.da.get(q.Cw)(8E3,function(){f.error("Plugin never called back",{Method:g});delete d[u];p({T:l.H.NMa});});v.lp();x=JSON.stringify(k);d[u]=h;a.postMessage(x);}catch(O){f.error("Exception calling plugin",O);p({T:l.H.PMa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(98);a(5);},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);d=a(84);a=a(144);g.da.get(d.hw).SD(a.hA.lEa,function(a){var b,d;b=a.level;if(!A._cad_global.config||b<=A._cad_global.config.jeb){a=a.zL();d=A.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(g){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.M={Q_a:function(a,b,d){for(var f=0;f<a.length;f++)if(a[f]!==b[f])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},b2:function(a,b,d){var f;f={};f.displayTime=a.$h;f.duration=a.duration;f.originX=a.FT;f.originY=a.GT;f.sizeX=a.bV;f.sizeY=a.cV;f.imageData=b;f.id=a.vp;f.rootContainerExtentX=d.wU;f.rootContainerExtentY=d.xU;return f;},S8a:function(a,b){return"o_"+a+"s_"+b;},fCa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},ab:function(a){return"undefined"!==typeof a;},Tmb:function(a,b){return a.some(function(a){return a.id===b;});},a5a:function(c,g){return c.filter(d.bind(null,g)).map(a).reduce(b,0);},CI:function(a,b){var c,f;c=Object.create({});for(f in a)c[f]=a[f];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g,d,a){var la,L,O,t,V,da;function b(a){la.call(this);this.G8a=m;this.Zf=a.url;this.FG=a.request;this.HO=a.Jb||0;this.pO=a.Bg;this.eb=a.ga;this.Hi=this.Rg=null;this.eG={};this.pt=0;this.rG=a.bufferSize||4194304;this.j_={};this.tla=a.version||1;a.key&&(this.Oia=a.crypto,this.Tw=this.Oia.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.ho?this.Rg=a.ho:(this.gd=a.offset,this.KVa=a.size);}function c(){}function h(){}function l(a,b){var d,g,m,l,p,h,q,u;if(a)this.emit(V.ERROR,t.CI(a,da.MJa));else try{if(2===this.tla){g=new c();m=O.m9(b)[0];l=m.Jr("636F6D2E-6E65-7466-6C69-782E68696E66");p=m.Jr("636F6D2E-6E65-7466-6C69-782E6D696478");g.gS=l.sma;g.vg=l.vg;g.aj=l.aj;g.R=l.R;g.wU=l.wU;g.xU=l.xU;g.language=l.Ycb;g.gqb=l.Ipb;g.startOffset=p.gnb;h=[];q=0;for(a=0;a<p.ie.length;a++){u=p.ie[a];b={};b.duration=u.duration;b.size=u.size;h.push(b);q+=b.duration;}g.entries=h;g.endTime=q;d=g;}else{h=new L(b);q=new c();q.identifier=h.vv(4);t.assert("midx"===q.identifier);q.version=h.Td(4);t.assert(0===q.version);q.gS=h.He(36);q.vg=h.Jf();q.aj=h.Jf();q.R=h.Jf();q.wU=h.yb();q.xU=h.yb();q.language=h.He(16);q.gqb=h.He(16);q.startOffset=h.Jf();q.mp=h.yb();g=[];for(u=p=0;u<q.mp;u++)a={},a.duration=h.Td(4),a.size=h.yb(),g.push(a),p+=a.duration;q.entries=g;q.endTime=p;d=q;}this.Rg=d;f.call(this);}catch(ma){this.emit(V.ERROR,t.CI(ma,da.NJa));}}function f(){var a,b;a=this.Rg;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Zf,offset:b,size:a},this.emit(V.OJa,this.Rg),this.FG(b,p.bind(this))):this.emit(V.ERROR,t.CI({},da.YKa));}function p(a,b){var f,c,d,g;f=this;if(a)f.emit(V.ERROR,t.CI(a,da.EOa));else{c=0;d=[];g=0;try{f.Rg.entries.forEach(function(a){var m,l,p,q,u,v,x;l=c;p=f.Rg.gS;q=f.eb;if(2===f.tla){m=new h();u=O.m9(b);m.entries=[];m.images=[];for(var k=0;k<u.length;k++)for(p=u[k],l=p.Jr("636F6D2E-6E65-7466-6C69-782E73696478"),p=p.Jr("636F6D2E-6E65-7466-6C69-782E73656E63"),q=0;q<l.Jl.length;q++){v={};x=l.Jl[q];v.$h=x.$h;v.duration=x.duration;v.FT=x.FT;v.GT=x.GT;v.bV=x.bV;v.cV=x.cV;v.vp=x.vp;v.PC=x.PC;if(x=p&&p.Jl[q])v.Mpa={YC:x.YC.slice(0),mode:x.Npa};m.entries.push(v);}}else{m=new L(b);u=new h();k=0;m.position=l;u.identifier=m.vv(4);t.assert("sidx"===u.identifier);u.gS=m.He(36);t.Q_a(u.gS,p,q);u.duration=m.Td(4);u.mp=m.yb();u.entries=[];for(u.images=[];k<u.mp;)l={},l.$h=m.Td(4),l.duration=m.Td(4),l.FT=m.yb(),l.GT=m.yb(),l.bV=m.yb(),l.cV=m.yb(),l.vp=m.Jf(),l.PC=m.Td(4),k++,u.entries.push(l);m=u;}d.push(m);a.K$=m;m.k9=g;m.wK=g+a.duration;g=m.wK;u=m.entries;u.length&&(m.startTime=u[0].$h,m.endTime=u[u.length-1].$h+u[u.length-1].duration);c+=a.size;});}catch(Z){f.emit(V.ERROR,t.CI(Z,da.FOa));return;}f.Hi=d;f.emit(V.GOa,this.Hi);a=q.call(f,f.HO,2);a.length?z.call(f,a,f.HO,function(a){a&&f.eb.error("initial sidx download failed");f.emit(V.Oga);}):f.emit(V.Oga);}}function m(a){var b,f,c,d,g;b=q.call(this,a,2);f=(f=this.Rg)?f.endTime:void 0;if(a>f)return[];c=this.eG.Ij;d=this.eG.index;f=[];d=t.ab(d)&&this.Hi[d+1];if(!(d&&d.entries.length||c&&!(a>c.endTime)))return[];b.length&&z.call(this,b,a);c&&c.images.length&&(f=k(c,a,[],this.Rg));d&&d.images.length&&(b=k(d,a,f,this.Rg),f.push.apply(f,b));b=v(f);if(this.Hi&&0!=this.Hi.length){f=this.Hi[Math.floor(a/6E4)];if(!(f.k9<=a&&a<=f.wK))a:{f=this.Hi.length;if(!this.m6a){this.m6a=!0;b:{try{g=String.fromCharCode.apply(String,this.Rg.language);break b;}catch(Z){}g="";}this.eb.error("bruteforce search for ",{movieId:this.Rg.R,packageId:this.Rg.aj,lang:g});}for(g=0;g<f;g++)if(c=this.Hi[g],c.k9<=a&&a<=c.wK){f=c;break a;}f=void 0;}g=f;}else g=void 0;if(f=g&&0<g.entries.length&&0===g.images.length)a:{f=g.entries.length;for(d=0;d<f;d++)if(c=g.entries[d],c.$h<=a&&c.$h+c.duration>=a){f=!0;break a;}f=!1;}return f?null:b;}function q(a,b){var f,g;f=[];if(a=u.call(this,a))this.eG=a;else return this.eG={},f;for(var c=0,d=this.Hi?this.Hi.length:0;c<b&&a.index+c<d;){g=this.Hi[a.index+c];g&&!g.images.length&&f.push(g);c++;}return f;}function u(a){var b,f,c,d,g,m,l;f=this.eG;c=f.Ij;d=f.index;g=this.Hi;this.wg(t.ab(a));c&&(0===d&&a<=c.startTime?(l=!0,b=f):a>=c.startTime&&a<=c.endTime?(l=!0,b=f):(m=g[d-1],g=g[d+1],m&&a>m.endTime&&a<=c.startTime?(l=!0,b=f):g&&a>=c.endTime&&a<=g.endTime&&(l=!0,b={Ij:g,index:d+1})));if(!l)for(f=this.Rg.entries,c=f.length,d=0;d<c;d++)if(m=f[d].K$,a<=m.startTime||a>m.startTime&&a<=m.endTime){b={Ij:f[d].K$,index:d};break;}return b;}function k(a,b,f,c){var d,g,m,l,p,h;d=a.entries;g=d.length;m=[];p=0;if(!d.length)return m;for(;p<g;){l=d[p];if(l.$h<=b)l.$h+l.duration>=b&&m.push(t.b2(l,a.images[p].data,c));else{h=m.length&&m[m.length-1]||f.length&&f[f.length-1];if(h&&h.$h>b&&h.$h!==l.$h)break;h.vp!==l.vp&&m.push(t.b2(l,a.images[p].data,c));}p++;}return m;}function v(a){return a.map(function(b,f){b.duration+=t.a5a(a.slice(f+1),b);return b;}).reduce(function(a,b){t.Tmb(a,b.id)||a.push(b);return a;},[]);}function z(a,b,f){var c,d,g,m,l,p;c=this;d=a[0];g=a[a.length-1];0<d.entries.length&&(m=d.entries[0].vp,l=d.entries[d.entries.length-1]);0<g.entries.length&&(t.ab(m)||(m=g.entries[0].vp),l=g.entries[g.entries.length-1]);if(m){d=l.vp+l.PC-m;p=t.S8a(m,d);c.j_[p]||(c.j_[p]=!0,w.call(c,a,b),c.FG({url:c.Zf,offset:m,size:d},function(b,d){var g,l,h,q;setTimeout(function(){delete c.j_[p];},1E3);if(b)f&&f(b);else{g=new L(d);l=0;q=[];a.forEach(function(a){a.entries.forEach(function(b,f){var d,p;g.position=b.vp-m;d={data:g.He(b.PC)};p=b.Mpa;p&&(d.YC=p.YC,d.Npa=p.mode,h=!0,q.push(d));a.images[f]=d;!b.Mpa&&t.fCa(a.images[f].data,c.wg.bind(c));l+=a.images[f].data.length;});});c.pt+=l;h?c.Tw.then(function(a){return G.call(c,q,a);}).then(function(){f&&f(null);})["catch"](function(a){c.eb.error("decrypterror",a);f&&f({S:!1});}):f&&f(null);}}));}else f&&f(null);}function w(a,b){var g,m,l,p,h,q;function f(){return{pts:b,hasEnoughSpace:g.pt+m<=g.rG,required:m,currentSize:g.pt,max:g.rG,currentIndex:u.call(g,b).index,sidxWithImages:y.call(g),newSidxes:a.map(function(a){return g.Hi.indexOf(a);})};}function c(a,b){g.pO&&!a&&g.eb.info("not done in iteration",b);}function d(a){var b,f,c;b=g.Hi[a];f=b.images&&b.images.length;if(0<f){c=n([b]);b.images=[];g.pt-=c;g.pO&&g.eb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:c,images:f});if(g.pt+m<=g.rG)return!0;}}g=this;m=n(a);g.eb.info("make space start:",f());if(!(g.pt+m<=g.rG)){l=u.call(g,b).index;p=!1;h=0;q=g.Hi.length-1;if(0>l){g.eb.error("inconsistent sidx index");return;}for(;!p&&h<l-2;)p=d(h),h++;for(c(p,1);!p&&q>l+2;)p=d(q),q--;for(c(p,2);!p&&h<l;)p=d(h),h++;for(c(p,3);!p&&q>l;)p=d(q),q--;c(p,4);p||g.eb.error("could not make enough space",{maxBuffer:this.rG});}g.eb.info("make space end",f());}function n(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.PC+a;},0);},0);}function y(){var a;a=[];this.Rg&&this.Rg.entries&&this.Rg.entries.reduce(function(b,f,c){var d;f=f.K$;d=0;f&&f.images.length&&(a.push(c),d=f.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function E(a,b){return a&&a.k9<=b&&a.wK>=b;}function r(a,b){var f,c,d,g,m,l;f=this;c=f.Rg;d=f.Hi;g=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(c&&d){if(0===g)return[];c=d[0].duration;if(t.ab(c)&&0<c)c=Math.floor(a/c),m=c<g&&E(d[c],a)?d[c]:void 0;else for(f.pO&&f.eb.warn("duration not defined, so use brute force to get starting sidx"),c=0;c<g;c++){l=d[c];if(E(l,a)){m=l;break;}}if(t.ab(m)){m=[];for(var p=function(f){var c;c=f.$h<=a&&a<=f.$h+f.duration;return a<=f.$h&&f.$h<=b||c;};c<g;){l=d[c];m=m.concat(l.entries.filter(p));if(b<l.wK)break;c++;}m=m.map(function(a){return t.b2(a,null,f.Rg);});return v(m);}}}function G(a,b){var c,d;function f(a,b){var f,c;f=this;c=new Uint8Array(16);c.set(a.YC);return f.Oia.decrypt({name:"AES-CTR",counter:c,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));t.fCa(a.data,f.wg.bind(f));});}c=this;try{d=[];a.forEach(function(a){a.YC&&(a=f.call(c,a,b),d.push(a));});return(void 0).all(d);}catch(ra){return c.eb.error("decrypterror",ra),(void 0).reject(ra);}}la=a(142).EventEmitter;L=a(98);O=a(256);t=a(510);V=b.events={OJa:"midxready",GOa:"sidxready",Oga:"ready",ERROR:"error"};da=b.ODb={MJa:"midxdownloaderror",NJa:"midxparseerror",YKa:"nosidxfoundinmidx",EOa:"sidxdownloaderror",FOa:"sidxparseerror"};b.prototype=Object.create(la.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Rg)this.eb.warn("midx was prefectched and provided"),f.call(this);else{a={url:this.Zf,offset:this.gd,size:this.KVa,responseType:"binary"};this.eb.warn("downloading midx...");this.FG(a,l.bind(this));}};b.prototype.close=function(){};b.prototype.wg=function(a){this.pO&&t.assert(a,this.eb);};b.prototype.Ju=function(a,b){return r.call(this,a,b);};b.prototype.U4=function(a,b){return(a=this.Ju(a,b))?a.length:a;};g.M=b;},function(g,d,a){var h;function b(a,b){return b.reduce(c.bind(this,a),[]);}function c(a,b,c){var f,d;f=c.displayTime-a;a=c.displayTime+c.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<f&&f<d?[{timeout:f,type:"showsubtitle",Md:c}]:f===d?b.concat([{timeout:f,type:"showsubtitle",Md:c}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",Md:c}]:a===d?b.concat([{timeout:a,type:"removesubtitle",Md:c}]):b;}h=a(142).EventEmitter;d=a(255)({});a=function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);h.call(this);this.Iq=a;this.qSa=b;this.Vq={};this.jB={};this.eb=c||console;this.IN=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.uj);Object.keys(a.Vq).forEach(function(b){a.emit("removesubtitle",a.Vq[b]);});a.Vq={};};a.prototype.pause=function(){clearTimeout(this.uj);};a.prototype.Ao=function(a,c){var f,d;f=this;d=f.Iq();clearTimeout(this.uj);a=f.qSa(d);null!==a&&f.IN&&(f.IN=!1,f.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(f.Vq).forEach(function(a){a=f.Vq[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete f.Vq[a.id],f.emit("removesubtitle",a));});Object.keys(f.jB).forEach(function(a){a=f.jB[a];d>=a.displayTime+a.duration&&delete f.jB[a.id];});null!==a&&0<a.length?(c=a.length,f.eb.info("found "+c+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!f.Vq[a.id]&&(f.emit("showsubtitle",a),f.Vq[a.id]=a,delete f.jB[a.id]);}),c=a[a.length-1],f.Vq[c.id]||f.jB[c.id]||(f.emit("stagesubtitle",c),f.jB[c.id]=c),c=b(d,a),0<c.length?f.PO(c[0].timeout):f.PO(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),f.eb.warn("checking buffer again in "+a+"ms"),f.IN||(f.IN=!0,f.emit("underflow")),f.PO(a,c+1)):f.PO(2E4);};a.prototype.PO=function(a,b){var f;f=this;f.eb.trace("Scheduling pts check.");f.uj=setTimeout(function(){f.Ao(f.Iq(),b);},a);};g.M=d(["function","function","object"],a);},function(g,d,a){var f,p,m;function b(a){var b;b=1;"dfxp-ls-sdh"===this.Yw&&(b=a.UBb.length);this.eb.info("show subtitle called at "+this.Iq()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.yt[this.yt.length-1].XU+=b;}function c(a){this.eb.info("remove subtitle called at "+this.Iq()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.eb.info("underflow fired by the subtitle timer");this.emit("underflow");}function l(){this.eb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}f=a(142).EventEmitter;p=a(512);d=a(255)();m=a(511);a=function u(a,d){var g,k;g=this;k=a.Bg||!1;if(!(g instanceof u))return new u(a,d);f.call(g);g.eb=a.ga||console;g.FG=a.request;g.Iq=a.Nra;g.uj=null;g.Qq=!0;g.yt=[];g.Yw=d.profile;g.Zf=d.url;g.HO=d.Jb;g.IUa=d.Mjb;g.LRa=d.ru;a={url:g.Zf,request:g.FG,Jb:g.HO,xml:d.xml,Mjb:g.IUa,ru:g.LRa,ga:g.eb,Bg:k,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,ho:d.ho};if("nflx-cmisc"===g.Yw)a.offset=d.JJ,a.size=d.cT,g.Dc=new m(a);else if("nflx-cmisc-enc"===g.Yw)a.version=2,a.offset=d.JJ,a.size=d.cT,g.Dc=new m(a);else throw Error("SubtitleManager: "+g.Yw+" is an unsupported profile");g.Dc.on("ready",function(){var a,f;a=!!d.zYa;g.eb.info("ready event fired by subtitle stream");g.emit("ready");f=g.Dc.G8a.bind(g.Dc);g.uj=new p(g.Iq,f,g.eb);g.uj.on("showsubtitle",b.bind(g));g.uj.on("removesubtitle",c.bind(g));g.uj.on("underflow",h.bind(g));g.uj.on("bufferingComplete",l.bind(g));a&&(g.eb.info("autostarting subtitles"),setTimeout(function(){g.Ao(g.Iq());},10));});g.Dc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(f.prototype);a.prototype.start=function(){this.Dc.start();};a.prototype.Ao=function(a){this.Qq&&(this.Qq=!1,this.eb.info("creating a new subtitle interval at "+a),this.yt.push({U:a,XU:0}));null!==this.uj&&this.uj.Ao(a);};a.prototype.stop=function(){var a;this.Iq();this.eb.info("stop called");this.Qq||this.pause();this.Dc.removeAllListeners(["ready"]);null!==this.uj&&this.uj.stop();a=this.yt.reduce(function(a,b){a.fAa+=b.XU;a.Hm+=b.$pa;a.Xbb.push(b);return a;},{fAa:0,Hm:0,Xbb:[]});"object"===typeof this.Dc&&this.Dc.close();this.eb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.Iq();if(this.Qq)this.eb.warn("pause called on subtitle manager, but it was already paused!");else{this.eb.info("pause called at "+a);this.Qq=!0;this.eb.info("ending subtitle interval at "+a);b=this.yt[this.yt.length-1];b.ea=a;b.ea<b.U&&(this.eb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ea?b.ea-1:0);b.$pa=this.Dc.U4(b.U,b.ea);this.eb.info("showed "+b.XU+" during this interval");this.eb.info("expected "+b.$pa+" for this interval");}null!==this.uj&&this.uj.pause();};a.prototype.Ju=function(a,b){return this.Dc.Ju(a,b);};a.prototype.U4=function(a,b){return this.Dc.U4(a,b);};a=d([{request:"function",Nra:"function",ga:"object"},"object"],a);g.M=a;},function(g,d,a){var c,h,l,f,p;function b(a,b,c){a=f.Xd.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(52);l=a(35);f=a(38);a=a(25);ia(b,f.Xd);na.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Qpa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq/msl_v1";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.dI){case h.Os.oPa:a="www.stage";break;case h.Os.Dha:a="www-qa.test";break;case h.Os.nea:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}}});p=b;g.__decorate([l.config(l.string,"apiEndpoint")],p.prototype,"endpoint",null);g.__decorate([l.config(l.string,"nqEndpoint")],p.prototype,"Qpa",null);p=g.__decorate([c.N(),g.__param(0,c.l(a.Ci)),g.__param(1,c.l(h.Xl)),g.__param(2,c.l(a.Uz)),g.__param(2,c.optional())],p);d.VCa=p;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(514);c=a(87);g=a(1);d.o0=new g.Xb(function(a){a(c.Hs).to(b.VCa).$();});},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.$qb=function(a){return{$I:a.initialSegment,ie:this.drb(a.segments)};};b.prototype.drb=function(a){var b;b=this;return Object.keys(a).reduce(function(f,c){f[c]=b.arb(a[c]);return f;},{});};b.prototype.arb=function(a){var b;b={};b=a.next&&this.crb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{ke:a.viewableId,Zm:a.startTimeMs,lC:a.endTimeMs,xQ:a.defaultNext,next:b};};b.prototype.crb=function(a){var b;b=this;return Object.keys(a).reduce(function(f,c){f[c]=b.brb(a[c]);return f;},{});};b.prototype.brb=function(a){return{weight:a.weight,d5a:a.earliestSkipRequestOffset};};c=b;c=g.__decorate([a.N()],c);d.RNa=c;},function(g,d,a){var c,h,l,f;function b(a){return h.Xd.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);a=a(35);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{Hxa:{configurable:!0,enumerable:!0,get:function(){return 2;}},$aa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;g.__decorate([a.config(a.Mv,"prepareSegmentsUpfront")],f.prototype,"Hxa",null);g.__decorate([a.config(a.Yd,"usePlaylistForPostPlay")],f.prototype,"$aa",null);f=g.__decorate([c.N(),g.__param(0,c.l(l.Ci))],f);d.NNa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.x2a=function(a){var c;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];c=this;if(0===b.length)throw Error("Empty playlist");return{$I:this.i$(0),ie:b.reduce(function(a,f,d){var g;g=c.i$(d);a[g]={ke:f,Zm:0};f=d+1;f<b.length&&(a[g].xQ=c.i$(f));return a;},{})};};b.prototype.KXa=function(a,b,f){f=void 0===f?String(b.R):f;a=this.yna(a);a.ie[f]={ke:b.R,Zm:b.xD||0};return a;};b.prototype.JXa=function(a,b,f){var c,d;c=this.yna(a);d={};c.ie[b].next=Object.assign({},a.ie[b].next||{},(d[f]={},d));return c;};b.prototype.yna=function(a){return JSON.parse(JSON.stringify(a));};b.prototype.i$=function(a){return"segment"+a;};c=b;c=g.__decorate([a.N()],c);d.ONa=c;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);b.prototype.create=function(b,f,c,d,g,h){return new(a(258)).uQa(b,f,c,d,g,h);};h=b;h=g.__decorate([c.N()],h);d.SNa=h;},function(g,d,a){var c,h;function b(a,b,c,d,g,h,k,v,z,w,n){b=void 0===b?{}:b;this.ZT=w;this.kK=n;this.dv={};this.EP={};this.Tb=v.create();this.log=g.lb("PlaylistManager");this.Wza(a);this.Si=a.$I;this.My=this.dv[this.Si];this.Rp=k.s2a(z);this.EP[this.Si]=this.Rqa(0);a=d.Pe();this.jCa=h.create(this.va.ke,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||this.va.Zm,endPts:this.va.lC,uiPlayStartTime:Date.now()},b,{isPlaylist:!0}),b.uc||"",c,a,this);this.pob();this.v6=this.hra();}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);h=a(16);b.prototype.hra=function(){return this.Si;};b.prototype.Jra=function(){return this.rv;};b.prototype.TU=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.PK(a.Kl);}).filter(function(a){a=a.TJ;return!a||d.PK(a);}).forEach(function(a){d.dv[a.Kl]=d.jwa(a.TJ);});};b.prototype.B_a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.tma(b);};b.prototype.LBa=function(a){if(!this.PK(this.Si,a.ie))throw Error("Provided playlistMap does not contain the current segmentId "+this.Si);this.Wza(a);};b.prototype.aq=function(a,b){var f,c;f=this;c=this.rv.ie[a];c&&c.next&&Object.keys(b).filter(function(a){return f.PK(a,c.next);}).forEach(function(a){return c.next[a].weight=b[a];});};b.prototype.fsa=function(a,b){var f,c;if(a!==this.Si)throw Error("Invalid currentSegmentId");if(b!==this.dv[a])throw Error("Invalid nextSegmentId");f=this.EP[b];if(!f)throw Error("Manifest for "+b+"  is not ready yet");c=this.Rn().j.gb;if(!c)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b+" ("+f.id+" in ASE)");c.i4(f.id)?(this.log.debug("Segment is already pre-buffered - triggering a transition"),this.mab(b)):(a=this.Jra().ie[b].Zm,this.log.debug("Segment is not pre-buffered - performing a regular seek"),this.Rn().seek(a,h.Mg.wA,f.ia));};b.prototype.addListener=function(a,b,c){this.Tb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Tb.removeListener(a,b);};b.prototype.JR=function(){return this.Rp.JR();};b.prototype.Rn=function(){return this.Rp.Rn();};b.prototype.e0=function(a){var b;if(this.kK.$aa&&this.JR()){this.log.info("Adding segment");if(a.R!==this.va.ke){b=String(a.R);a=this.ZT.JXa(this.ZT.KXa(this.rv,a,b),this.v6,b);this.LBa(a);this.TU({Kl:this.v6,TJ:b});this.v6=this.My=b;return this.aU(!1);}return null;}return this.Rp.e0(a);};b.prototype.transition=function(a){var b;b=this;return this.kK.$aa?(this.log.info("Transition initiated"),new Promise(function(a){var f;f=b.dv[b.Si];f&&b.fsa(b.Si,f);a();})):this.Rp.transition(a);};b.prototype.close=function(a){return this.Rp.close(a);};b.prototype.pob=function(){var a;a=this;this.Rp.addListener(h.kb.loaded,function(){return a.aU();});this.addListener(h.MF.QK,function(){return a.Mhb();});this.Rp.addListener(h.MF.QK,function(){return a.Tb.wb(h.MF.QK);});Object.keys(h.kb).forEach(function(b){var f;f=h.kb[b];a.Rp.addListener(f,function(b){return a.Tb.wb(f,b);});});};b.prototype.mab=function(a){var b,c,d,g,l,k,v;b=this;c=this.Rn().j;d=c.gb;if(!d)throw Error("No streaming session");g=this.EP[a];l=d.i4(g.id);if(!l)throw Error("Segment is not pre-buffered");k=new Promise(function(a){function c(){b.log.debug("Stopped ASE");d.removeEventListener("stop",c);a();}d.addEventListener("stop",c);});v=new Promise(function(a){function f(){b.log.debug("Repositioned");c.removeEventListener(h.X.Op,f);a();}function g(){b.log.debug("Repositioning");c.removeEventListener(h.X.mz,g);d.stop();}c.addEventListener(h.X.mz,g);c.addEventListener(h.X.Op,f);});Promise.all([k,v]).then(function(){d.LB(g.id,!1,!0);c.fireEvent(h.X.vT,{Si:b.Si,TJ:a});});this.log.debug("Calling seek on internal player to "+l.bc);this.Rn().seek(l.bc,h.Mg.xA,g.ia);};b.prototype.Mhb=function(){var a;a=this.Rn().getError();a?this.Tb.wb(h.kb.a1,a):(this.Tb.wb(h.kb.zma),this.Tb.wb(h.kb.LP),this.Tb.wb(h.kb.Ez),this.Tb.wb(h.kb.zE),this.Tb.wb(h.kb.EL),this.Tb.wb(h.kb.a1));};b.prototype.aU=function(a){var b,d,g,l,u,k;a=void 0===a?!0:a;b=this;if(this.My){d=this.R8a(this.Si,this.My);if(0<d&&d<this.kK.Hxa){d=this.rv.ie[this.My];this.log.debug("creating new playback",d,new Date());g=this.Rn().j;l=g.Qla(d.ke,g.uc,{Pf:g.Pf,U:d.Zm,ea:d.lC,rf:!1,FV:Date.now(),c6:!0});u=this.My;k=function(a){a.index===l&&(b.Si=u,b.aU(),g.removeEventListener(h.X.l7,k),b.Tb.wb(h.MF.QK));};g.addEventListener(h.X.l7,k);this.My=this.dv[this.My];a||g.addEventListener(h.X.zx,function(){var a;a=b.Rn();2E3>=a.n4()-(a.Qn()||0)&&g.eg&&(g.eg.UJ({mediaType:c.Sb.wf.VIDEO}),g.eg.UJ({mediaType:c.Sb.wf.AUDIO}),g.Fc.set(h.am.jf));});a=g.Fkb(l,a).then(function(){b.EP[u]=b.Rqa(l);});a.then(function(){return b.aU();});return a.then(function(){return!0;})["catch"](function(){return!1;});}}else this.a7a();return Promise.resolve(!1);};b.prototype.a7a=function(){var a;a=this.Rn().j;a.gb&&a.gb.aob();};b.prototype.R8a=function(a,b){for(var c=0;a!==b&&void 0!==a;)c++,a=this.dv[a];return a?c:-1;};b.prototype.Wza=function(a){this.rv=a;this.dv={};this.tma(Object.keys(this.rv.ie));};b.prototype.tma=function(a){var b;b=this;a.filter(function(a){return b.PK(a);}).forEach(function(a){b.dv[a]=b.jwa(b.rv.ie[a].xQ);});};b.prototype.PK=function(a,b){b=void 0===b?this.rv.ie:b;return a in b;};b.prototype.jwa=function(a){return null===a?void 0:a;};b.prototype.Rqa=function(a){return{id:"m"+a,ia:a};};na.Object.defineProperties(b.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.rv.ie[this.Si];}}});d.QNa=b;},function(g,d,a){var c,h,l,f,p,m,q,u,k,v,z,w;function b(b,c,f,d,g,m,l,p,h){this.Ua=b;this.$e=c;this.wjb=f;this.fnb=g;this.i3=m;this.kK=l;this.ZT=p;c=a(33).FF;this.dnb=d.Eu(!1,"6.0015.389.051",b.id,c,h());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(520);l=a(7);f=a(24);p=a(260);m=a(259);q=a(416);u=a(226);k=a(20);v=a(421);z=a(171);b.prototype.create=function(a,b,c){return new h.QNa(a,b,c,this.Ua,this.$e,this.wjb,this.fnb,this.i3,this.dnb,this.ZT,this.kK);};w=b;w=g.__decorate([c.N(),g.__param(0,c.l(f.Ue)),g.__param(1,c.l(l.rb)),g.__param(2,c.l(p.Fga)),g.__param(3,c.l(q.mha)),g.__param(4,c.l(u.LY)),g.__param(5,c.l(v.AM)),g.__param(6,c.l(m.Dga)),g.__param(7,c.l(z.yY)),g.__param(8,c.l(k.me))],w);d.PNa=w;},function(g,d,a){var b,c,h,l,f,p,m,q,u,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(261);c=a(521);h=a(260);l=a(519);f=a(171);p=a(518);m=a(517);q=a(259);u=a(257);k=a(516);d.ki=new g.Xb(function(a){a(b.zY).to(c.PNa).$();a(h.Fga).to(l.SNa).$();a(f.yY).to(p.ONa).$();a(q.Dga).to(m.NNa).$();a(u.Ega).to(k.RNa).$();});},function(g,d,a){var c,h,l,f,p,m,q,u,k,v;function b(a,b,c,d){b=u.eM.call(this,b,c,d)||this;b.config=a;b.log=h.qf(b.j,"LegacyLicenseBroker");b.zd=b.config().zd;b.config().e9?f.zcb()?b.KV=!0:b.log.error("Promise based eme requested but platform does not support it",{browserua:p.Vk}):b.KV=!1;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(3);l=a(113);f=a(29);p=a(5);m=a(1);q=a(182);u=a(262);k=a(76);ia(b,u.eM);b.prototype.goa=function(a){var b;b=void 0===b?this.j:b;return new this.fK.Ms(a,b.yh.Kr,b.yh.release,{Bg:!1,gJ:!1});};b.prototype.wH=function(b,f){var d,g,m,p,q,u;f=void 0===f?this.j:f;d=this;p=a(21).xc;this.fK.Ms||this.kd(c.I.fw,c.H.HGa);m=h.qf(f,"Eme");g=this.goa(m);q=h.da.get(l.AA);u=q.iQ();q=q.AH(f.Te.value.qc);return this.fK.Fo(m,b,function(a){return f.he(a);},{Bg:!1,gJ:!1,Cta:this.config().Jh,tza:{tva:this.config().sza,nna:this.config().d$},Ma:{getTime:p},GK:g,Oxa:this.KV,Ha:this.jb.Ha,HE:this.config().HE,Oz:this.config().W2,onerror:function(a,b,c){return d.kd(a,b,c);},n8:function(a){return d.SR(a);},ljb:!0,UK:this.config().bba&&this.config().UK,eS:this.config().eS,xma:u,iCa:q,SC:this.config().SC});};b.prototype.gE=function(a){var b;b=this;return this.KV?new Promise(function(f,d){if(b.jb.Ha)b.jb.Ha.setMediaKeys(a).then(function(){f();})["catch"](function(a){var f;f=b.csa(a);d({S:!1,code:c.I.oY,tc:f.T,Df:f.jc,Ja:f.Ja,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.Vpa=function(a){return{code:a.code,subCode:a.tc,extCode:a.Df,edgeCode:a.Qx,message:a.message,errorDetails:a.Ja,errorData:a.Mn,state:a.state};};b.prototype.B$=function(a,b,c){var d,g;function f(){g.yya()["catch"](function(a){d.log.error("Unable to set the license",d.Vpa(a));a.cause&&a.cause.Ja&&(a.Ja=a.Ja?a.Ja+a.cause.Ja:a.cause.Ja);d.kd(a.code,a,a.Df);});}c=void 0===c?this.j:c;d=this;g=c.bg;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return g.Ze(d.B4(),a);};return(b?function(){return g.ABb(d.jb.Ha);}:function(){return g.create(d.zd).then(function(){return Promise.resolve();});})().then(function(){return d.config().Vza?d.gE(g.Ak):Promise.resolve();}).then(c).then(function(){return d.config().Vza?Promise.resolve():d.gE(g.Ak);}).then(function(){d.log.info("license set");d.A3();d.jb.nCa.then(function(){d.config().Uu&&(b||d.config().qI)&&(d.zya=A.setTimeout(f,d.config().Uu));});})["catch"](function(a){d.log.error("Unable to set the license",d.Vpa(a));a.cause&&a.cause.Ja&&(a.Ja=a.Ja?a.Ja+a.cause.Ja:a.cause.Ja);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.kd(a.code,a,a.Df);});};b.prototype.axa=function(){return Promise.resolve();};b.prototype.r8=function(a){var d;function b(){var b;d.j.bg=d.wH(a.initDataType);b=[];d.j.po.forEach(function(a){b.push(h.Bn(a));});d.B$(b);}d=this;this.log.trace("Received event: "+a.type);this.D6||(this.D6=!0,this.fK.Fo?this.j.po?f.wS(this.config())&&this.config().Gl&&A._cad_global.videoPreparer?A._cad_global.videoPreparer.Dj(this.j.R,"ldl").then(function(a){d.j.bg=a;return a.jJb.then(function(){var b;b=[];d.j.po.forEach(function(a){b.push(h.Bn(a));});return d.B$(b,!0).then(function(){var b;if(a.pCb)d.kd(c.I.KGa);else{b=h.qf(d.j,"Eme");a.YIb({log:b,PGb:function(a){return d.j.he(a);}},{GK:d.goa(b),onerror:function(a,b,c){return d.kd(a,b,c);}});(b=a.kHb)&&d.SR(b);d.j.QC(a.rd||{});d.j.Bx="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.kd(c.I.BMa)):this.kd(c.I.fw,c.H.IGa));};b.prototype.Sza=function(a,b){var c;b=void 0===b?this.j:b;b.bg=this.wH(void 0===a?"cenc":a);c=[];b.po.forEach(function(a){c.push(h.Bn(a));});return this.B$(c,!1,b);};b.prototype.B4=function(){return this.config().qI?k.xi.Vs:k.xi.bm;};na.Object.defineProperties(b.prototype,{fK:{configurable:!0,enumerable:!0,get:function(){return a(33).xf;}},Ky:{configurable:!0,enumerable:!0,get:function(){return this.KV?"encrypted":this.jb.RW+"needkey";}}});v=b;g.__decorate([q.IS],v.prototype,"fK",null);g.__decorate([q.IS],v.prototype,"Ky",null);v=g.__decorate([m.N()],v);d.gJa=v;},function(g,d,a){var c,h,l,f,p,m,q,u,k,v,z;function b(a,b,c,f,d,g,m){var l;l=k.eM.call(this,c,f,d)||this;l.zd=a;l.config=b;l.fC=g;l.nva=m;l.log=h.qf(l.j,"LicenseBroker");l.mva=!1;l.mma={next:function(){l.log.info("Finished a license");},error:function(a){l.QC();l.kd(a.code,a,a.Df);},complete:function(){l.log.info("Successfully applied license");l.uu.C6&&l.SR(l.uu.C6);l.QC();l.gE();}};return l;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(3);l=a(29);f=a(6);p=a(433);m=a(4);q=a(1);u=a(182);k=a(262);v=a(76);z=a(16);ia(b,k.eM);b.prototype.r8=function(){var a;a=this;this.D6||(this.D6=!0,l.wS(this.config)&&this.config.Gl&&A._cad_global.videoPreparer?A._cad_global.videoPreparer.Dj(this.j.R,"ldl").then(function(b){a.Lxa(b);a.j.Bx="videopreparer";a.uu.v0().subscribe(a.mma);})["catch"](function(b){a.log.warn("eme not in cache",b);a.Kr();}):this.Kr());};b.prototype.D7a=function(a){var b;b={};a.forEach(function(a){b[p.O4a(a.Lfb)]=a.time.na(m.Ba);});return b;};b.prototype.wab=function(a,b){this.log.trace("Key status",{keyId:a,status:b});};b.prototype.Lxa=function(a){var b,c,d;b=void 0===b?this.j:b;c=this;this.uu=a;b.bg=a;d={next:function(a){c.wab(h.N0(a.lJ),a.value);},error:f.Qb,complete:f.Qb};b={next:function(a){c.kd(a.code,a,a.Df,c.j);},error:f.Qb,complete:f.Qb};a.Scb().subscribe(d);(a=a.gI())&&a.subscribe(b);};b.prototype.QC=function(){this.uu&&this.j.QC(this.D7a(this.uu.rd));};b.prototype.Kr=function(a){var b,c;a=void 0===a?this.j:a;b=this;c={next:function(a){b.SR(a);},error:f.Qb,complete:f.Qb};return this.fC().then(function(f){var d;d={type:b.B4(),hS:h.Bn(a.po[0]),context:{zd:b.zd,Ha:b.jb.Ha},Eg:{R:a.R,la:b.j.la,cf:a.cf,zj:a.zj,profileId:a.profile.id}};f.rJ().subscribe(c);f.Ze(d,b.nva).Ir(function(a){b.Lxa(a);b.j.fireEvent(z.X.JS);return b.uu.v0();}).subscribe(b.mma);})["catch"](function(a){b.kd(a.code,a,a.Df,b.j);});};b.prototype.gE=function(){var a;a=this;if(this.mva)this.log.trace("Media Keys already set");else{this.mva=!0;try{this.jb.Ha?this.jb.Ha.setMediaKeys(this.j.bg.Ak).then(function(){a.A3();})["catch"](function(b){b=a.csa(b);a.kd(c.I.oY,b,b.jc,a.j);}):this.A3();}catch(D){this.kd(c.I.oY,D,void 0,this.j);}}};b.prototype.axa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.uu?this.fC().then(function(c){return new Promise(function(f){c.lpb(b.uu,b.nva).Ir(function(a){return a.MXa();}).Ir(function(c){b.log.trace("Fulfilled the last secure stop");b.config.Jh&&a.gD.IU({success:!0,persisted:!1});return c.close();}).subscribe({error:function(c){b.log.error("Unable to get/add secure stop data",c);b.config.Jh&&a.gD.IU({success:c.S,ErrorCode:c.code,ErrorSubCode:c.tc,ErrorExternalCode:c.Df,ErrorEdgeCode:c.Qx,ErrorDetails:c.ZB});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.Sza=function(a,b){b=void 0===b?this.j:b;return this.Kr(b);};b.prototype.B4=function(){return this.config.qI?v.xi.Vs:v.xi.bm;};na.Object.defineProperties(b.prototype,{Ky:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([u.IS],a.prototype,"Ky",null);a=g.__decorate([q.N()],a);d.jJa=a;},function(g,d,a){var c,h,l,f,p,m,q,u;function b(a,b,c,f,d){this.fC=a;this.jp=b;this.hg=c;this.config=f;this.ova=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(120);l=a(524);f=a(523);p=a(64);m=a(63);q=a(20);a=a(242);b.prototype.create=function(a,b,c){return a?new l.jJa(this.config().zd,this.jp,this.hg,b,c,this.fC,this.ova()):new f.gJa(this.config,this.hg,b,c);};u=b;u=g.__decorate([c.N(),g.__param(0,c.l(h.xM)),g.__param(1,c.l(p.gn)),g.__param(2,c.l(m.Rj)),g.__param(3,c.l(q.me)),g.__param(4,c.l(a.XX))],u);d.iJa=u;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(277);c=a(525);d.Wi=new g.Xb(function(a){a(b.zea).to(c.iJa);});},function(g,d,a){var c,h,l,f;function b(a){return h.Xd.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);a=a(35);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{cCa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});f=b;g.__decorate([a.config(a.Yd,"usesMsl")],f.prototype,"cCa",null);f=g.__decorate([c.N(),g.__param(0,c.l(l.Ci))],f);d.aQa=f;},function(g,d,a){var c,h,l,f,p;function b(a,b,c){this.receiver=b;this.Bb=c;this.log=a.lb("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(4);l=a(7);f=a(141);a=a(81);b.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,Nx:"nq-"+a.ik,Q8:JSON.stringify(b),cQ:a.timeout.na(h.Ba),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Bb.download(f,function(c){c.S?a(c):b(c);});}).then(function(a){return JSON.parse(a.content);}).then(function(f){c.receiver.QD({command:a.ik,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.tc=f.T||f.tc,c.receiver.QD({command:a.ik,inputs:b,outputs:f}),f;d=f.error;d.fj=f.fj;c.log.error("Error sending SSL request",{subCode:d.tc,data:d.content,message:d.message});c.receiver.QD({command:a.ik,inputs:b,outputs:d});throw d;});};b.prototype.N1=function(){return{};};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(l.rb)),g.__param(1,c.l(f.gN)),g.__param(2,c.l(a.Ws))],p);d.nPa=p;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c){this.If=b;this.receiver=c;this.log=a.lb("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(100);f=a(4);a=a(141);p={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={Xr:Object.assign({Bb:a.Bb,log:a.log,profile:a.profile},a.TYa),method:a.ik,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.na(f.Ba),ML:a.profile.id,Vlb:!p[a.ik],i8:!!p[a.ik],b3:!0,wv:a.R9,headers:a.headers};return this.If.send(d).then(function(f){c.receiver.QD({command:a.ik,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.tc=f.T||f.tc,c.receiver.QD({command:a.ik,inputs:b,outputs:f}),f;d=f.error;d.fj=f.fj;c.log.error("Error sending MSL request",{mslCode:d.Fp,subCode:d.tc,data:d.data,message:d.message});c.receiver.QD({command:a.ik,inputs:b,outputs:d});throw d;});};b.prototype.N1=function(){return{userTokens:this.If.If.getUserIdTokenKeys()};};m=b;m=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(l.ow)),g.__param(2,c.l(a.gN))],m);d.PKa=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vAb=function(){};d.Kha="TransportConfigSymbol";},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(530);c=a(298);h=a(529);l=a(528);f=a(527);d.frb=new g.Xb(function(a){a(b.Kha).to(f.aQa).$();a(c.mfa).to(h.PKa);a(c.oha).to(l.nPa);a(c.Lha).hh(function(a){return function(){return a.Zb.get(b.Kha).cCa?a.Zb.get(c.mfa):a.Zb.get(c.oha);};});});},function(g,d,a){var c,h,l,f,p;function b(a){return f.Mj.call(this,a,h.I.wLa,2,l.Sj.Swa,l.Vf.ew,l.Sj.Swa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(91);a=a(46);ia(b,f.Mj);b.prototype.Ag=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.op(a);});};b.prototype.np=function(){return Promise.reject(Error("Links are unsupported with pair"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.Qj))],p);d.jNa=p;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Mj.call(this,a,h.I.qDa,2,l.Sj.bind,l.Vf.ew,l.Sj.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(91);a=a(46);ia(b,f.Mj);b.prototype.Ag=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.op(a);});};b.prototype.np=function(){return Promise.reject(Error("Links are unsupported with bind"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.Qj))],p);d.ZMa=p;},function(g,d,a){var c,h,l,f,p,m,q,u,k;function b(a,b,c,f,d,g,m,l,p){this.platform=a;this.mf=b;this.Br=c;this.Bb=f;this.Qm=d;this.s4a=g;this.fy=m;this.Zrb=l;this.tQ=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(66);l=a(87);f=a(73);p=a(107);m=a(299);q=a(117);u=a(81);k=a(424);a=a(69);b=g.__decorate([c.N(),g.__param(0,c.l(h.kn)),g.__param(1,c.l(l.Hs)),g.__param(2,c.l(f.lq)),g.__param(3,c.l(u.Ws)),g.__param(4,c.l(p.rA)),g.__param(5,c.l(m.cga)),g.__param(6,c.l(q.eA)),g.__param(7,c.l(k.Pha)),g.__param(8,c.l(a.XE))],b);d.aNa=b;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.OGa,f.Mh.cI,3,m.Vf.Ys)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);b.prototype.RP=function(a){return Object.assign({},l.lj.prototype.RP.call(this,a),{action:a.action});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.cHa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.Zga,f.Mh.splice,1,m.Vf.Ys)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.mPa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.Pga,f.Mh.resume,1,m.Vf.Ys)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.tOa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.Hfa,f.Mh.pause,1,m.Vf.Ys)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.XMa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.OX,f.Mh.kJ,1,m.Vf.Ys)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.$Ia=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.cha,f.Mh.stop,3,m.Vf.ZX)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.sPa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.lj.call(this,a,h.I.$ga,f.Mh.start,3,m.Vf.ew)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(90);f=a(62);p=a(46);m=a(40);ia(b,l.lj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.Qj))],a);d.pPa=a;},function(g,d,a){var c,h,l;function b(a,b){this.mc=a;this.jl=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);a=a(44);b.prototype.Tqb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.mc.KT(a.substring(a.indexOf("?")+1));});return{S:!0,$b:a.map(function(a,b){return{id:a.sessionId,Tu:c[b].drmlicensecontextid,eD:c[b].licenseid};}),sJ:a.map(function(a){return{data:b.jl.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.Wqb=function(a){return{S:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.Je)),g.__param(1,c.l(a.kj))],l);d.fNa=l;},function(g,d,a){var c,h,l;function b(a){this.Ma=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(4);b.prototype.Sqb=function(a){var b;b=this.Ma.cg.na(l.dm);return{inputs:a.hp.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.la.toString(),mdxControllerEsn:a.FJ};}),dua:"standard"===a.ah.toLowerCase()?"license":"ldl"};};b.prototype.Vqb=function(a){var b,c,f,d;b=this;c=a.Xmb||{};f=[];d=a.$b.map(function(d){var g;f.push(d.id);g=c[d.id];delete c[d.id];return{url:b.Yma(d.Tu,d.eD),echo:"sessionId",params:{sessionId:d.id,secureStop:g,secureStopId:g?d.eD:void 0,xid:a.la.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.Yma(a.$b[0].Tu),echo:"sessionId",params:{sessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.la.toString()}});});return d;};b.prototype.Yma=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.wi))],a);d.eNa=a;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Mj.call(this,a,h.I.yOa,3,l.Sj.Ze,l.Vf.ZX,l.Sj.Ze)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(91);a=a(46);ia(b,f.Mj);b.prototype.Ag=function(a,b,c){var f;f=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;f.ona(a);return a;})["catch"](function(a){throw f.op(a);});};b.prototype.np=function(){return Promise.reject(Error("Links are unsupported with release"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.Qj))],p);d.qNa=p;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Mj.call(this,a,h.I.fw,3,l.Sj.Ze,l.Vf.ew,l.Sj.Ze)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(91);a=a(46);ia(b,f.Mj);b.prototype.Ag=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.np=function(a,b,c,f){var d;d=this;c=c.C4(f.dua).href;return this.send(a,b,c,f.inputs,"sessionId","license"===f.dua?l.Vf.ew:l.Vf.Ys).then(function(a){a=a.result;d.ona(a);d.l_a(a);return a;})["catch"](function(a){throw d.op(a);});};b.prototype.l_a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.Qj))],p);d.YMa=p;},function(g,d,a){var c,h,l,f,p,m,q,u,k,v,n,w,D,y,r;function b(a,b,c,f,d,g){a=v.Mj.call(this,a,h.I.MANIFEST,3,l.Sj.Fa,l.Vf.ew,l.Sj.Fa)||this;a.config=b;a.tQ=c;a.$Za=f;a.mjb=d;a.Pm=g;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(422);p=a(3);m=a(20);q=a(61);u=a(121);k=a(69);a(147);v=a(91);n=a(46);w=a(212);D=a(394);y=a(180);a=a(119);ia(b,v.Mj);b.prototype.Ag=function(a,b,c){var f;f=this;return this.G9a(c).then(function(d){return f.send(a,b,"/"+f.name,d,void 0,f.n$a(c.oI));}).then(function(a){return a.result;})["catch"](function(a){throw f.op(a);});};b.prototype.np=function(a,b,c,f){return this.Ag(a,b,f).then(function(a){c.wP(a.links);a.sy=c;return a;});};b.prototype.G9a=function(a){var b,c,d,g,m,l,h,u;b=this;c=a.oi||{};d={};g=a.ke;d[g]={unletterboxed:this.g6(c.preferUnletterboxed)};m=this.config().dsb?30:25;l=p.zC();h=l.N$a().concat(l.M$a()).concat(this.config().ys).concat(["BIF240","BIF320"]).filter(Boolean);u=this.config().Bo?this.Pm.X8a():Promise.resolve(f.afa.pp());return Promise.all([l.FC(),l.FI(),this.u8a(a.la),u]).then(function(f){var l,p,u,k;l=za(f);f=l.next().value;p=l.next().value;u=l.next().value;l=l.next().value;k=p&&void 0!==p.SUPPORTS_SECURE_STOP?!!p.SUPPORTS_SECURE_STOP:void 0;p=p?p.DEVICE_SECURITY_LEVEL:void 0;return{type:"standard",viewableId:g,profiles:h,flavor:q.dd.o0a(a.oI),drmType:l,drmVersion:m,usePsshBox:!0,isBranching:a.Sr,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().Vpb,imageSubtitleHeight:w.QY.J4(),uiVersion:b.context.Qm.Kz,uiPlatform:b.context.Qm.EV,clientVersion:b.context.platform.version,supportsPreReleasePin:b.config().zg.Ppb,supportsWatermark:b.config().zg.Qpb,showAllSubDubTracks:b.config().zg.Cob||b.g6(c.showAllSubDubTracks),packageId:a.aj?Number(a.aj):void 0,deviceSupportsSecureStop:k,deviceSecurityLevel:p,videoOutputInfo:f,titleSpecificData:d,preferAssistiveAudio:b.g6(c.assistiveAudioPreferred),preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,challenge:u,isNonMember:b.context.Qm.Vi,pin:a.Xy};});};b.prototype.n$a=function(a){switch(a){case q.jn.bm:case q.jn.YFa:return l.Vf.ew;case q.jn.Nga:case q.jn.kha:return l.Vf.ZX;case q.jn.Wfa:return l.Vf.Ys;}};b.prototype.g6=function(a){return u.qq.rh(a)?"true"===a.toLowerCase():!!a;};b.prototype.u8a=function(a){var b;b=this;return this.$Za.bra().then(function(c){var f;f=a&&b.mjb.a$a(a);f&&f.il("cad");return c;});};r=b;r=g.__decorate([c.N(),g.__param(0,c.l(n.Qj)),g.__param(1,c.l(m.me)),g.__param(2,c.l(k.XE)),g.__param(3,c.l(D.aca)),g.__param(4,c.l(y.xY)),g.__param(5,c.l(a.kw))],r);d.iNa=r;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Mj.call(this,a,h.I.eJa,1,l.Sj.tua,l.Vf.Ys,l.Sj.tua)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(91);a=a(46);ia(b,f.Mj);b.prototype.Ag=function(a,b,c){var f;f=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw f.op(a);});};b.prototype.np=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.Qj))],p);d.hNa=p;},function(g,d,a){var b,c,h,l,f,p,m,q,u,k,v,n,w,D,y,r,P,G,la,L,O,t,V,da,S,U,H,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(331);c=a(547);h=a(317);l=a(546);f=a(316);p=a(545);m=a(314);q=a(544);u=a(313);k=a(543);v=a(312);n=a(542);w=a(62);D=a(541);y=a(540);r=a(45);P=a(2);G=a(539);la=a(538);L=a(537);O=a(536);t=a(535);V=a(46);da=a(534);S=a(286);U=a(533);H=a(285);A=a(532);d.O_a=new g.Xb(function(a){a(V.Qj).to(da.aNa);a(b.hga).to(c.hNa);a(S.aga).to(U.ZMa);a(H.jga).to(A.jNa);a(h.iga).to(l.iNa);a(f.$fa).to(p.YMa);a(m.oga).to(q.qNa);a(u.ega).to(k.eNa);a(v.fga).to(n.fNa);a(w.pha).to(D.pPa);a(w.qha).to(y.sPa);a(w.tea).to(G.$Ia);a(w.Yfa).to(la.XMa);a(w.Vga).to(L.tOa);a(w.nha).to(O.mPa);a(w.fda).to(t.cHa);a(w.SW).hh(function(a){return function(b){switch(b){case w.Mh.start:return a.Zb.get(w.pha);case w.Mh.stop:return a.Zb.get(w.qha);case w.Mh.kJ:return a.Zb.get(w.tea);case w.Mh.pause:return a.Zb.get(w.Yfa);case w.Mh.resume:return a.Zb.get(w.Vga);case w.Mh.splice:return a.Zb.get(w.nha);case w.Mh.cI:return a.Zb.get(w.fda);}throw new r.Wb(P.I.ELa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var c,h;function b(a,b,d,g,h,u,k,v){this.index=a;this.ia=b;this.R=d;this.uc=g;this.Za=h;this.la=u;this.Rm=k;this.Ic=new c.fd(null);this.Te=new c.fd(null);this.kc=new c.fd(null);this.Mi=new c.fd(null);this.Xp=new c.fd(void 0);this.je=new c.fd(null);this.Oi=new c.fd(null);this.fu=this.Bx="notcached";v&&(this.je=v.je,this.Oi=v.Oi,this.profile=v.profile);}Object.defineProperty(d,"__esModule",{value:!0});c=a(174);h=a(4);na.Object.defineProperties(b.prototype,{zj:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.zj;}},wm:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.wm;}},cq:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.cq;}},Ds:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.Ds;}},jj:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.jj;}},cf:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.cf;}},Qu:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.Qu;}},po:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.po;}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.Yh;}},$T:{configurable:!0,enumerable:!0,get:function(){return this.Ob&&this.Ob.$T;}},QB:{configurable:!0,enumerable:!0,get:function(){return h.xb(this.Fa?this.Fa.duration:0);}},Pf:{configurable:!0,enumerable:!0,get:function(){return this.Za.Pf||0;}}});d.HNa=b;},function(g,d,a){var c,h,l,f,p,m;function b(a){var b,d;b=this;this.j=a;this.whb=function(){l.ee.removeListener(l.e5,b.Cwa);b.sf.removeChild(b.Km.$x());};this.u8=function(a){b.Km.Pnb(a.newValue);};this.Qhb=function(a){b.Km.Rnb(a.newValue?a.newValue.iJ:void 0);};this.Cwa=function(){b.Km.BK();};this.sf=a.sf;this.Km=new p.OPa(f.config.xaa,a.kc.value?a.kc.value.iJ:void 0);d=a.LE;h.wa(.1<d.width/d.height);this.Km.Knb(d.width/d.height);this.sf.appendChild(this.Km.$x());a.Xp.addListener(this.u8);a.kc.addListener(this.Qhb);a.addEventListener(m.X.De,this.whb,c.nA);l.ee.addListener(l.e5,this.Cwa);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);l=a(55);f=a(9);p=a(270);m=a(16);b.prototype.E$=function(a){this.Km.E$(a);};b.prototype.Y4=function(){return this.Km.Y4();};b.prototype.C$=function(a){this.Km.C$(a);};b.prototype.W4=function(){return this.Km.W4();};b.prototype.D$=function(a){this.Km.D$(a);};b.prototype.X4=function(){return this.Km.X4();};d.QPa=b;},function(g,d,a){var c,h,l,f,p,m,q,u,k;function b(a,b,c,f,d){a=p.RF.call(this,b,a,a,"1",{0:c},void 0,"xx",f||a,m.No.qA,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(41);c=a(9);h=a(55);l=a(3);f=a(18);p=a(211);m=a(155);q=a(34);u=a(105);k=a(16);g.xga(g.tga,function(a){var d;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.Us.CPa){c=f.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,f,g;b=c.files[0];if(b){f=b.name;d.info("Loading file",{FileName:f});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.bn.a0("nourl",f,g.result);});}});c.click();}}d=l.qf(a,"TimedTextCustomTrack");c.config.h2&&(d.info("Loading url",{Url:c.config.h2}),a.bn.a0(c.config.h2,"custom"));h.ee.addListener(h.dy,b);a.addEventListener(k.X.De,function(){h.ee.removeListener(h.dy,b);});});ia(b,p.RF);b.g2a=function(a,c,f,d){var g;g="custom"+b.Ubb++;return new b(g,a,c,f,d);};b.prototype.npa=function(){var a;a=this;return new Promise(function(b,c){var f;if(a.content)b(a.content);else if(a.url){f={responseType:q.Fsa,url:a.url,track:a,Mb:null,Nx:"tt-"+a.wj};a.j.RI.download(f,function(d){d.S?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.Ubb=0;d.NPa=b;},function(g,d){function a(a,b,c){this.start=a;this.track=b;this.xz=c;this.end=void 0;this.xz=Array.isArray(c)?c:[];}function b(a,b,c){this.log=a;this.Oz=b;this.La=c.La;this.wg=c.wg||function(){};this.current=void 0;this.l9=[];this.orphans=[];}function c(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return c(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function l(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.NWa=function(a,b){this.Tva(a,b,"activating");};b.prototype.S2a=function(a){this.c3(a,"de-activating");};b.prototype.Tva=function(b,c,d){var f;f=[];this.current&&this.c3(b,"close current for new");this.orphans.length&&(f.push(this.orphans),this.orphans=[]);this.current=new a(b,c,f);this.Oz&&this.log.trace("new range: "+d,this.La({},this.current));};b.prototype.c3=function(a,b){this.current&&(this.current.end=a,this.l9.push(this.current),this.Oz&&this.log.trace("end range: "+b,this.La({},this.current||{})),this.current=void 0);};b.prototype.OBa=function(a){this.current?this.current.xz.push(a):this.orphans.push(a);};b.prototype.T4=function(b){var c,f,d;c=this;f=c.l9.slice(0);if(c.current&&"undefined"!=typeof b){d=new a(c.current.start,c.current.track,c.current.xz);d.end=b;f.push(d);}b=f.reduce(function(a,b){var f,d,g,m;if(!b.track)return a;f=b.track.md;d=b.track.Ju(b.start,b.end);if(!d)return a;g=h(b.xz,c.log);a[f]?(m=a[f],m.expected+=d.length,m.missed+=d.length-g.length):(m={},m.dlid=f,m.bcp47=b.track.wj,m.profile=b.track.profile,m.expected=d.length,m.missed=d.length-g.length,m.startPts=b.track.F$a(),a[f]=m);return a;},{});b=l(b);c.Oz&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.s$a=function(b){var c,f,d,g,l;c=this;f=c.l9.slice(0);d=0;g=0;c.current&&"undefined"!=typeof b&&(l=new a(c.current.start,c.current.track,c.current.xz),l.end=b,f.push(l));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){c.wg("negative range",a);a.xv=0;return;}b=h(a.xz,c.log);f=a.track.Ju(a.start,a.end);a.Hm=f?f.map(function(a){return a.id;}):[];a.xv=f?0===f.length?100:100*b.length/f.length:0;}else a.xv=100;b=a.end-a.start;d+=b;g+=a.xv*b;});l=d?Math.round(g/d):100;c.log.trace("qoe score "+l+", at pts: "+b);c.Oz&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.xv),lang:a.track?a.track.wj:"none","actual  ":a.xz.join(" "),expected:(a.Hm||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return l;};d.BPa=b;},function(g,d,a){var c,h,l,f,p,m,q,u,k,v,n,w,D,y,r;function b(a){var d;d=this;this.j=a;this.faa=this.Ova=0;this.De=this.Fk=!1;this.wv=0;this.zE=function(){var a,b;a=d.de();d.vU();d.Aoa&&(d.log.info("Deactivating",d.Aoa),d.Fv.S2a(d.de()));d.j.Mi.set(null);d.Dz.Rza(d.entries=void 0);d.tna();b=d.j.kc.value;b&&b.jJ()&&!b.tS()&&(b=null);b&&d.j.Fc.value!==f.Ai&&d.Fv.NWa(a,b);b?(d.log.info("Activating",b),d.j.ij.set(f.Js),d.Fk||d.j.he("tt_start"),b.getEntries().then(d.AC)["catch"](d.AC)):d.j.ij.set(f.Tk);d.Aoa=b;d.GE();};this.oaa=function(){d.Fk&&(d.Dz.start(),d.j.Fc.value!=f.Lo&&d.Dz.stop());};this.GE=function(){var a;d.j.state.value===f.ln&&d.j.Fc.value!==f.Ai&&(d.entries?a=d.Dz.X7a():d.j.kc.value&&(a=b.bpb[d.j.kc.value.Fe()]));a&&w.ab(a.startTime)&&(d.Ova++,d.faa+=d.Dz.Bra()-a.startTime,d.Fma=Math.ceil(d.faa/(d.Ova+0)));d.j.Xp.set(a);};this.de=function(){return d.j.G4();};this.Ohb=function(a){d.fireEvent(b.Eob,a);a&&a.id&&d.Fv.OBa(a.id);d.log.trace("showsubtitle",d.Wra(a));};this.Ihb=function(a){d.fireEvent(b.Mlb,a);d.log.trace("removesubtitle",d.Wra(a));};this.v8=function(){d.log.warn("imagesubs buffer underflow",d.j.kc.value.Hf);d.j.ij.set(f.Js);};this.rhb=function(){d.log.info("imagesubs buffering complete",d.j.kc.value.Hf);d.j.ij.set(f.Tk);};this.wwa=function(){d.Fk&&d.Ye&&d.Ye.Ao(d.de());};this.Awa=function(a){d.Ye&&d.Ye.TU&&d.Ye.TU(a.Si,a.TJ);};this.Dwa=function(a){d.Ye&&d.Ye.aq&&d.Ye.aq(a.Kl,a.Trb);};this.Fhb=function(){d.Fk=!0;n.hb(function(){d.Ye?d.Ye.Ao(d.de()):d.oaa();d.GE();});};this.XJ=function(){d.entries=void 0;d.tna();d.Dz.stop();d.GE();d.De=!0;d.vU();};this.u8=function(a){(a=a.newValue)&&w.ab(a.id)&&d.Fv.OBa(a.id);};this.Ghb=function(a){d.Lrb(a.newValue,a.oldValue);d.oaa();};this.AC=function(a){var b,c;if(!d.De){b=a.track;c=!1;if(b==d.j.kc.value)if(b.xp)if(a.S)d.vU(),d.Ye=b.Ye,d.Gua("addListener"),d.log.info("Activated",b),d.j.Mi.set(b),d.Fk?n.hb(function(){d.Ye.Ao(d.de());}):d.Ye.pause();else{if(c=!!(d.wv<l.config.bva))d.Tya=setTimeout(d.Uya.bind(d,b),l.config.cBa);d.log.error("Failed to activate img subtitle",{retry:c},a,b);}else{if(c=a.entries)d.vU(),d.Dz.Rza(d.entries=c),d.log.info("Activated",b),d.j.Mi.set(b);else{if(c=!!(d.wv<l.config.bva))d.Tya=setTimeout(d.Uya.bind(d,b),l.config.cBa);d.log.error("Failed to activate",{retry:c},v.hn(a),b);}d.GE();}d.Fk||d.j.he(a.S?"tt_comp":"tt_err");a.S?(l.config.cza?setTimeout(function(){d.j.ij.set(f.Tk);},l.config.cza):d.j.ij.set(f.Tk),b.xp||d.GE()):a.gl?d.log.warn("aborted timed text track loading"):l.config.P6a?(b=m.da.get(r.Rj),d.j.kd(b(v.I.zIa,{Ja:a.track?a.track.Hf:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.ij.set(f.Tk));}};this.Tb=new h.Oj();this.Fv=new q.BPa(m.qf(a,"SubtitleTracker"),l.config.x5a,{La:k.La,wg:u.wa});this.log=m.qf(a,"TimedTextManager");this.Dz=new c.TPa(this.de,this.GE);this.j.kc.addListener(this.zE);l.config.Cjb?(this.j.addEventListener(D.X.Fh,this.Fhb),this.zE()):(this.j.ij.set(f.Tk),this.j.addEventListener(D.X.Fh,function(){d.Fk=!0;d.zE();}));this.j.Fc.addListener(this.Ghb);this.j.addEventListener(D.X.raa,this.oaa);this.j.Xp.addListener(this.u8);this.j.addEventListener(D.X.De,this.XJ);}Object.defineProperty(d,"__esModule",{value:!0});g=a(211);c=a(275);h=a(68);l=a(9);f=a(41);p=a(29);m=a(3);q=a(552);u=a(12);k=a(17);v=a(2);n=a(42);w=a(15);D=a(16);y=a(551);r=a(63);b.prototype.addEventListener=function(a,b,c){this.Tb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Tb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Tb.wb(a,b,c);};b.prototype.a0=function(a,b,c){var f;f=y.NPa.g2a(this.j,a,b,c);this.j.jj.push(f);this.j.wm.forEach(function(a){p.aDa(a.jj,f);});this.j.kc.set(f);this.j.fireEvent(D.X.Ez);};b.prototype.K$a=function(a){return this.Fv.s$a(a);};b.prototype.T4=function(a){return this.Fv.T4(a);};b.prototype.NR=function(){var a,b;a=this.j.xL;b=l.config.dBa.characterSize;b={size:l.config.yaa.characterSize||b};a&&(b.visibility=a.Y4(),b.eH=a.W4(),b.Om=a.X4());return b;};b.prototype.fob=function(a){l.config.yaa.characterSize=a;a=this.j.kc.value;!a||a.jJ()||a.xp||a.getEntries().then(this.AC)["catch"](this.AC);};b.prototype.Lrb=function(a,b){a===f.Lo||a==f.Aq?b!==f.Lo&&b!==f.Aq&&((b=this.j.kc.value)&&b.jJ()&&!b.tS()||this.Fv.Tva(this.de(),b,"presentingstate:"+a)):a!==f.Ai&&a!==f.tw||this.Fv.c3(this.de(),"presentingstate:"+a);};b.prototype.vU=function(){this.wv=0;clearTimeout(this.Tya);};b.prototype.tna=function(){this.Ye&&(this.Ye.stop(),this.Gua("removeListener"));this.Ye=void 0;};b.prototype.Gua=function(a){this.Ye&&(this.Ye[a]("showsubtitle",this.Ohb),this.Ye[a]("removesubtitle",this.Ihb),this.Ye[a]("underflow",this.v8),this.Ye[a]("bufferingComplete",this.rhb),"addListener"===a?(this.j.addEventListener(D.X.Dm,this.wwa),this.j.addEventListener(D.X.vT,this.Awa),this.j.addEventListener(D.X.aq,this.Dwa)):(this.j.removeEventListener(D.X.Dm,this.wwa),this.j.removeEventListener(D.X.vT,this.Awa),this.j.removeEventListener(D.X.aq,this.Dwa)));};b.prototype.Wra=function(a){return{currentPts:this.de(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.Uya=function(a){this.wv++;a.getEntries().then(this.AC)["catch"](this.AC);};a={};b.bpb=(a[g.RF.bha.LOADING]={bGb:!0},a[g.RF.bha.qF]={Vx:!0},a);b.Eob="showsubtitle";b.Mlb="removesubtitle";d.PPa=b;},function(g,d,a){var f,p,m,q,u,k,v,n,w,D,y,r,P,G,la,L,O,t,V,da,S,U,H,Y,F,ra,Z;function b(a){var b;b=this;this.j=a;this.nCa=Promise.resolve();this.RW=A.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Vo=[];this.Fi=new k.Oj();this.Ria=this.fZ=0;this.TN=[];this.Ta=w.qf(this.j,"MediaElementASE");this.Yka=L.Qb;this.xZ=!1;this.Le={};this.gG={};this.FR=this.UN(function(){var a;if(b.Ha){a=b.jO();return a?a.totalVideoFrames:b.Ha.webkitDecodedFrameCount;}});this.Zx=this.UN(function(){var a;if(b.Ha){a=b.jO();return a?a.droppedVideoFrames:b.Ha.webkitDroppedFrameCount;}});this.zI=this.UN(function(){var a;if(b.Ha){a=b.jO();return a&&a.corruptedVideoFrames;}});this.GR=this.UN(function(){var a;if(b.Ha){a=b.jO();return a&&t.Tf(a.totalFrameDelay*L.Pj);}});this.Rja=function(){return b.Fi.wb(S.mh.cua);};this.Wi=w.da.get(da.zea).create(u.config.Bo,this,this.j);u.config.Uu&&(this.nCa=new Promise(function(a){b.Yka=a;b.j.addEventListener(Y.X.De,a);}));this.Ta.trace("Created Media Element");this.addEventListener=this.Fi.addListener;this.removeEventListener=this.Fi.removeListener;this.Ha=c(this.j.LE);this.sourceBuffers=this.Vo;}function c(a){var b,c;b=w.da.get(U.bia).k$a();a=a.width/a.height*b.height;c=(b.width-a)/2;return u.config.hob?L.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):L.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function l(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;L.ab(d)||(d=f&&f.code);f=c&&c.msExtendedCode;L.ab(f)||(f=c&&c.systemCode);L.ab(f)||(f=a.systemCode);a=L.La({},{code:d,systemCode:f},{Jp:!0});b={T:b(d),Ja:O.i7(a)};try{c&&c.message&&(b.GJ=c.message);}catch(ga){}f=L.Ad(f);V.ka(f)&&(b.jc=w.Hma(f,4));return{qC:b,aeb:a};}Object.defineProperty(d,"__esModule",{value:!0});f=a(56);p=a(140);m=a(63);q=a(6);u=a(9);k=a(68);v=a(55);n=a(29);w=a(3);D=a(2);y=a(113);r=a(12);P=a(93);G=a(431);la=a(17);L=a(18);O=a(154);t=a(5);V=a(15);da=a(277);S=a(173);U=a(303);H=a(4);Y=a(16);F=a(114);ra=!!(t.lA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);Z=ra&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||t.AF);b.prototype.Qn=function(a){try{this.Ha&&(this.Ria=this.Ha.currentTime);}catch(ka){this.Ta.error("Exception while getting VIDEO.currentTime",ka);a&&this.LA(D.I.FMa,ka);}return t.Tf(this.Ria*L.Pj);};b.prototype.seek=function(a){var b;r.wa(!this.dl);this.Uka();b=this.Qn(!0);if(!u.config.AXa&&t.wF(b-a)<=this.f$)this.Ta.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.f$});else try{this.Ta.trace("Setting video elements currentTime",{From:P.Kg(b),To:P.Kg(a)});this.dl={};this.Ha.currentTime=a/L.Pj;this.Fi.wb(S.mh.Dm);}catch(fa){this.Ta.error("Exception while setting VIDEO.currentTime",fa);this.LA(D.I.GMa,fa);}};b.prototype.t$a=function(){return!!this.dl;};b.prototype.addSourceBuffer=function(a){var c,d,g,l;function b(a){return c.OVa(g,c.j.Ic,a);}c=this;d=L.Ad(this.fZ.toString()+this.Vo.length.toString());d={sourceId:this.fZ,OP:d};g=w.da.get(y.AA).AH(this.j.Te.value.qc);try{l=new p.bfa(this.j,a,b,this.Ae,d,this.Ta);}catch(Ga){l=L.$c(Ga);this.Ta.error("Unable to add source buffer.",{mime:b(a),error:l});d=w.da.get(m.Rj);this.j.kd(d(D.I.pY,{T:a===f.Sb.wf.AUDIO?L.H.Nea:L.H.Oea,Ja:l}));return;}this.Vo.push(l);a==q.uF&&l.D3&&l.D3.addListener(this.Yka);return l;};b.prototype.f0=function(a){for(var b=a.length,c=0;c<b;c++)this.addSourceBuffer(a[c]);this.Fi.wb(S.mh.nAa);return!0;};b.prototype.removeSourceBuffer=function(a){for(var b=this.Vo.length,c=0;c<b;c++)n.Fna(a,this.Vo[c])&&(this.Vo=this.Vo.splice(c,1));this.Ae.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.f1&&this.Ae.endOfStream();};b.prototype.Kn=function(a){this.Vo=[];a&&a.RGb();return!0;};b.prototype.Jnb=function(a){this.fZ=a;};b.prototype.Ara=function(){if(this.Ae)return H.Hjb(this.Ae.duration);};b.prototype.Vnb=function(a){this.Ae&&(this.j.K8=a,this.Ae.duration=a.T8(H.dm));};b.prototype.j4a=function(){var a;if(!this.xZ&&this.Ha&&2<=this.Ha.readyState){a=this.Ha.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.Nsb)this.xZ=!0;}return this.xZ;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(Y.X.eAa,function(b){return a.uUa(b);});if(ra){if(this.j.Qu){if(!Z){this.Zk(D.I.Ofa);return;}if(t.AF&&t.AF.isTypeSupported&&this.Wi.zd)try{if(!t.AF.isTypeSupported(this.Wi.zd,"video/mp4")){this.eWa(function(b){a.Zk(D.I.nY,b);});return;}}catch(ma){this.LA(D.I.nY,ma);return;}}try{this.Ae=new t.lA();}catch(ma){this.LA(D.I.vMa,ma);return;}try{this.Zf=URL.createObjectURL(this.Ae);}catch(ma){this.LA(D.I.wMa,ma);return;}try{this.Wi.$Wa(this.Rja);this.Ae.addEventListener("sourceopen",function(b){return a.vka(b);});this.Ae.addEventListener(this.RW+"sourceopen",function(b){return a.vka(b);});this.Ha.addEventListener("error",this.Le.error=function(b){return a.uG(b);});this.Ha.addEventListener("seeking",this.Le.seeking=function(){return a.tUa();});this.Ha.addEventListener("seeked",this.Le.seeked=function(){return a.g_();});this.Ha.addEventListener("timeupdate",this.Le.timeupdate=function(){return a.vUa();});this.Ha.addEventListener("loadstart",this.Le.loadstart=function(){return a.CO();});this.Ha.addEventListener("volumechange",this.Le.volumechange=function(b){return a.wUa(b);});this.Ha.addEventListener(this.Wi.Ky,this.Le[this.Wi.Ky]=function(b){return a.pUa(b);});b=this.j.sf;c=b.lastChild;c?b.insertBefore(this.Ha,c):b.appendChild(this.Ha);u.config.cpa&&this.Ha.addEventListener("contextmenu",h);this.Ha.src=this.Zf;v.ee.addListener(v.JI,this.gG[v.JI]=function(){return a.tka();});this.tka();}catch(ma){this.LA(D.I.xMa,ma);}}else this.Zk(D.I.Pfa);};b.prototype.close=function(){var b;function a(){b.Zf&&(b.Uka(),v.ee.removeListener(v.JI,b.gG[v.JI]),b.BRa());}b=this;this.Ha.removeEventListener(this.Wi.Ky,this.Le[this.Wi.Ky]);this.Ha.removeEventListener("error",this.Le.error);this.Ha.removeEventListener("seeking",this.Le.seeking);this.Ha.removeEventListener("seeked",this.Le.seeked);this.Ha.removeEventListener("timeupdate",this.Le.timeupdate);this.Ha.removeEventListener("loadstart",this.Le.loadstart);this.Ha.removeEventListener("volumechange",this.Le.volumechange);this.Wi.Hlb(this.Rja);u.config.Bo?this.Wi.axa().then(function(){return a();}):a();this.Wi.zya&&clearTimeout(this.Wi.zya);};b.prototype.pUa=function(a){return this.Wi.r8(a);};b.prototype.jO=function(){if(this.Ha)return this.Ha.getVideoPlaybackQuality&&this.Ha.getVideoPlaybackQuality()||this.Ha.videoPlaybackQuality||this.Ha.playbackQuality;};b.prototype.FVa=function(){var a;a=this.j.Bh;return(a=a&&a.errorCode)&&0<=[D.I.dN,D.I.PM].indexOf(a);};b.prototype.BRa=function(){var a;a=!1;u.config.$jb&&this.FVa()&&(a=!0);u.config.w1&&!a&&(this.Ha.removeAttribute("src"),this.Ha.load&&this.Ha.load());URL.revokeObjectURL(this.Zf);u.config.cpa&&this.Ha.removeEventListener("contextmenu",h);!a&&this.Ha&&this.j.sf.removeChild(this.Ha);this.Ha=this.Ae=void 0;this.Zf="";};b.prototype.tka=function(){!0===t.ud.hidden?this.TN.forEach(function(a){a.refresh();a.Rob();}):this.TN.forEach(function(a){a.refresh();a.gpb();});};b.prototype.UN=function(a){var b;b=w.da.get(G.Efa)(a);this.TN.push(b);return function(){b.refresh();return b.C8a();};};b.prototype.OVa=function(a,b,c){var d;switch(c){case f.Sb.wf.VIDEO:d=a;break;case f.Sb.wf.AUDIO:d="AAC"==b.value.A1?q.iA:q.IJa;}return d;};b.prototype.LA=function(a,b){var c,f;c={T:L.H.pg,Ja:L.$c(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.jc=f);}catch(ta){}b=w.da.get(m.Rj);this.j.kd(b(a,c));};b.prototype.Uka=function(){this.TN.forEach(function(a){a.refresh();});};b.prototype.kSa=function(){return this.Ha&&this.Ha.msGraphicsTrustStatus;};b.prototype.Zk=function(a,b,c){var f;f=w.da.get(m.Rj);this.j.kd(f(a,b,c));};b.prototype.eWa=function(a){var c,f;function b(f){b=L.Qb;c.Of();a(f);}c=w.da.get(F.Cw)(500,function(){b();});c.lp();try{f=this.j.je.value.tk.xGb.children.filter(function(a){return"pssh"==a.type&&a.P4a==q.zGa;})[0];new t.AF(this.Wi.zd).createSession("video/mp4",f.raw,null).addEventListener(this.RW+"keyerror",function(a){a=l(a,D.hda);b(a.qC);});}catch(ta){b();}};b.prototype.uUa=function(a){var b,f,d,g,m,l,h;if(this.Ha){a=a.TL;b=this.kSa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ha.readyState;a.currentTime=""+this.Ha.currentTime;a.pbRate=""+this.Ha.playbackRate;}catch(ib){}for(var b=this.Vo.length,c;b--;){c=this.Vo[b];f="";c.type==q.RX?f="audio":c.type==q.uF&&(f="video");L.La(a,c.BR(),{prefix:f});u.config.p5a&&this.j.Bh&&q.uF==c.type&&(f=L.ZK(c.Nw),3E3>(f.data&&f.data.length)&&(f.data=la.q0a(f.data).join(),L.La(a,f,{prefix:c.type})));}this.Ae&&(b=this.Ae.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.beb)try{d=this.j.bg;g=d&&d.Pta;if(g){m=g.expiration;isNaN(m)||(a.exp=m);l=g.keyStatuses.entries();if(l.next){h=l.next().value;h&&(a.keyStatus=h[1]);}}}catch(ib){}}};b.prototype.vka=function(a){this.PVa||(this.PVa=!0,this.Fi.wb(S.mh.oAa,a));};b.prototype.tUa=function(){this.Ta.trace("Video element event: seeking");this.dl?this.dl.fhb=!0:(this.Ta.error("unexpected seeking event"),u.config.R6a&&this.Zk(D.I.LMa));};b.prototype.g_=function(){this.Ta.trace("Video element event: seeked");this.dl?(r.wa(this.dl.fhb),this.dl.ehb=!0,this.ola()):(this.Ta.error("unexpected seeked event"),u.config.Q6a&&this.Zk(D.I.KMa));};b.prototype.vUa=function(){this.dl&&(this.dl.hhb=!0,this.ola());this.Fi.wb(S.mh.Dm);};b.prototype.CO=function(){this.Ta.trace("Video element event: loadstart");};b.prototype.wUa=function(a){this.Ta.trace("Video element event:",a.type);try{this.j.volume.set(this.Ha.volume);this.j.muted.set(this.Ha.muted);}catch(ka){this.Ta.error("error updating volume",ka);}};b.prototype.uG=function(a){a=l(a,D.hHa);this.Ta.error("Video element event: error",a.aeb);this.Zk(D.I.DMa,a.qC);};b.prototype.ola=function(){this.dl&&this.dl.ehb&&this.dl.hhb&&(this.dl=void 0,this.Fi.wb(S.mh.OK));};na.Object.defineProperties(b.prototype,{f$:{configurable:!0,enumerable:!0,get:function(){return u.config.Lob;}}});d.qKa=b;},function(g,d,a){var q,u,k,v,n,w,D,y,r,P,G,la,L,O,t,V,da;function b(){}function c(){}function h(){}function l(){}function f(){return y?y:"0.0.0.0";}function p(a,b,c){a=G(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function m(a){a({Kwa:0,rL:0,Bsa:0,dqa:0});}d=a(124);c.prototype.constructor=c;c.prototype.set=function(a,b){k[a]=b;v.save(a,b);};c.prototype.get=function(a,b){if(k.hasOwnProperty(a))return k[a];D.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");v.load(a,function(c){c.S?(k[a]=c.data,b&&b(c.data)):k[a]=void 0;});};c.prototype.remove=function(a){v.remove(a);};c.prototype.clear=function(){D.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.PH=d.Cr.PH;c.prototype.jQ=d.Cr.jQ.bind(d.Cr);c.prototype.mA="NDA";h.prototype.now=function(){return n();};h.prototype.ca=function(){return w();};h.prototype.PJ=function(a){return a+n()-w();};h.prototype.yT=function(a){return a+w()-n();};d=a(28).EventEmitter;a(48)(d,l.prototype);la=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.M=function(a){q=a.Zy;G=a.yd;v=a.storage;k=a.dD;n=a.S9a;r=a.EI;P=a.WI;w=a.getTime;D=a.TXa;L=a.Db;da=a.Bq;O=a.Vz;t=a.SourceBuffer;V=a.MediaSource;y=a.yFb;u=a.In;return{name:"cadmium",In:u,Zy:q,EI:r,WI:P,ready:b,storage:new c(),Storage:c,time:new h(),events:new l(),console:new p("JS-ASE",void 0,"default"),Console:p,options:b,Promise:la,Db:L,Vz:O,wKa:t,MediaSource:V,Bq:da,Ck:{name:f},memory:{m9a:m},lGb:void 0};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(34);d.$Na=function(){b.yd("ProbeDownloader");return{vI:function(a){c.Bb.gkb({url:a.url,dkb:a});}};}();},function(g,d,a){var c,h,l,f,p,m,q;function b(){var a;a=new h.Oj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.wb.bind(this);this.Zw=m++;this.Ta=l.yd("ProbeRequest");this.Kka=c.$Na;f.wa(void 0!==this.Kka);this.We=d.Bq.Eb.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});c=a(556);h=a(68);l=a(3);f=a(12);p=a(18);m=0;(function(){function a(){return JSON.stringify({url:this.Zf,id:this.Zw,affected:this.DN,readystate:this.We});}p.La(b.prototype,{Zi:function(a){a.affected=this.DN;a.probed={requestId:this.Zw,url:this.Zf,ad:this.bla,groupId:this.Dja};this.emit(d.Bq.cd.DF,a);},o8:function(a){this.WO=a.httpcode;a.affected=this.DN;a.probed={requestId:this.Zw,url:this.Zf,ad:this.bla,groupId:this.Dja};this.emit(d.Bq.cd.qw,a);},open:function(a,b,c,f){if(!a)return!1;this.Zf=a;this.DN=b;this.bla=c;this.We=d.Bq.Eb.OPENED;this.TSa=f;this.Kka.vI(this);return!0;},Jd:function(){return!0;},Ti:function(){return this.Zw;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.We;},set:function(){}},status:{get:function(){return this.WO;}},url:{get:function(){return this.Zf;}},xBb:{get:function(){return this.DN;}},Wdb:{get:function(){return this.TSa;}}});}());(function(a){a.cd={DF:"pr0",qw:"pr1"};a.Eb={UNSENT:0,OPENED:1,dt:2,DONE:3,oq:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(q||(q={})));d.Bq=Object.assign(b,q);},function(g,d,a){var c,h,l;function b(a){this.fy=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(117);h=a(1);b.prototype.create=function(b,c,d,g){return new(a(292)).DNa(b,c,d,g,this.fy);};l=b;l=g.__decorate([h.N(),g.__param(0,h.l(c.eA))],l);d.CNa=l;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.NBa=function(){var a;a=this.j.Mk&&this.j.Mk.Yi.get()||{};a.kg&&(this.j.kg=a.kg.Aa);a.pa&&(this.j.pa=a.pa.Aa);};a.prototype.Sn=function(){-1===this.j.pa&&this.NBa();return this.j.pa;};a.prototype.GZa=function(a){-1!==this.j.kg&&-1!==this.j.pa||this.NBa();return-1===this.j.kg||-1===this.j.pa?Number.MAX_VALUE:this.j.kg+8*a/this.j.pa;};d.EDa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(16);h=a(295);l=a(24);f=a(1);p=a(4);a=a(20);b.prototype.jC=function(a){var b;a.FL={};if(!a.XC()&&a.Ds&&0<a.Ds.length&&(a.Cs=this.tra(a),a.Cs)){b=this.oob(a);b()||(a.addEventListener(c.X.Fh,b),a.je.addListener(b));}};b.prototype.oob=function(a){var f;function b(){var d,g;if(!a.je.value||!a.X$)return!1;d=a.Cs;g=d.Fe();return g===h.em.LOADING?!1:g!==h.em.LOADED&&d.qs?(d=f.Z$a(a))?(a.FL.offset=f.app.Pe().na(p.Ba),a.Cs=d,d.download(),!0):!1:(a.removeEventListener(c.X.Fh,b),a.je.removeListener(b),!1);}f=this;return b;};b.prototype.Z$a=function(a){var b,c;b=this.config();c=a.ko.Z4()<b.krb;b=(a.je.value?a.je.value.O:0)>b.jrb;return this.r$a(a,c&&b);};b.prototype.r$a=function(a,b){if(b&&(b=this.tra(a),this.Qra(a,b.size)))return a.FL.Gya="h",b;b=this.F9a(a);if(this.Qra(a,b.size))return a.FL.Gya="l",b;};b.prototype.Qra=function(a,b){var c,f;c=this.config();f=Math.min(a.XG(),a.SL());return a.MYa.GZa(b)*(1+.01*c.qXa[2])<f*c.mrb;};b.prototype.tra=function(a){return a.Ds[a.Ds.length-1];};b.prototype.F9a=function(a){return a.Ds[0];};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(l.Ue)),g.__param(1,f.l(a.me))],m);d.fQa=m;},function(g,d,a){var c,h,l,f,p,m,q,u;function b(a,b,d,g,h,p,k,n){var v;v=this;this.j=a;this.id=b;this.height=d;this.width=g;this.bjb=h;this.cjb=p;this.size=k;this.Pc=n;this.type=c.Uf.Oaa;this.qs=!0;this.state=m.em.aN;this.Hf={};this.IP={};this.jkb=function(a){if(a.S)try{v.data=f.Aib(a.content);v.state=m.em.LOADED;v.log.trace("TrickPlay parsed",{Images:v.data.images.length},v.Hf);v.j.fireEvent(q.X.EL);}catch(L){v.state=m.em.Gfa;v.log.error("TrickPlay parse failed.",L);}else v.state=m.em.aN,v.log.error("TrickPlay download failed.",u.hn(a),v.Hf);};this.log=l.qf(a,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});c=a(75);h=a(9);l=a(3);f=a(296);p=a(34);m=a(295);q=a(16);u=a(2);b.prototype.i9a=function(a){if(this.data&&(a=Math.floor(a/this.data.tk.gBa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.tk.gBa,height:this.height,width:this.width,pixelAspectHeight:this.bjb,pixelAspectWidth:this.cjb};};b.prototype.KR=function(){switch(this.state){case m.em.LOADED:return"downloaded";case m.em.LOADING:return"loading";case m.em.qF:return"downloadfailed";case m.em.Gfa:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.eab();a?(this.state=m.em.LOADING,this.B4a(a)):this.qs=!1;};b.prototype.Fe=function(){return this.state;};b.prototype.eab=function(){var a,b,c;a=this;b=Object.keys(this.Pc).find(function(b){return(a.IP[a.Pc[b]]||0)<=h.config.irb;});if(b){c=this.Pc[b];c in this.IP?this.IP[c]++:this.IP[c]=1;return{url:c,nH:b};}};b.prototype.B4a=function(a){this.log.trace("Downloading",a.url,this.Hf);a={responseType:p.OC,Mb:this.f4(a.nH),url:a.url,track:this};this.j.RI.download(a,this.jkb);};b.prototype.f4=function(a){return this.j.Yh.find(function(b){return b&&b.id===a;});};d.dQa=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.cQa=function(b,c,d,g,f,p,m,q){return new(a(561)).dQa(b,c,d,g,f,p,m,q);};},function(g,d,a){var h,l,f,p;function b(a,b,c,f){this.la=a;this.dmb=b;this.ga=c;this.app=f;this.rd={};}function c(a,b){this.$e=a;this.app=b;this.Bc={};this.ga=a.lb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(7);f=a(24);p=a(4);c.prototype.Blb=function(a,c){this.Bc[a]&&this.ga.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.Pe()).na(p.Ba);this.ga.trace("registerPlayback: xid "+a+" at "+c);this.Bc[a]=new b(a,c,this.ga,this.app);return this.Bc[a];};c.prototype.a$a=function(a){this.Bc[a]||this.ga.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Bc[a];};c.prototype.Klb=function(a){this.ga.trace("removePlayback: xid "+a);delete this.Bc[a];};a=c;a=g.__decorate([h.N(),g.__param(0,h.l(l.rb)),g.__param(1,h.l(f.Ue))],a);d.GNa=a;b.prototype.il=function(a,b){b=b?b.na(p.Ba):this.app.Pe().na(p.Ba)-this.dmb;this.ga.trace("addMilestone: xid "+this.la+" "+a+" at "+b);this.rd[a]=b;};},function(g,d,a){var b,c,h,l,f,p,m,q,u,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(180);c=a(563);h=a(380);l=a(562);f=a(294);p=a(560);m=a(293);q=a(559);u=a(415);k=a(558);d.j=new g.Xb(function(a){a(b.xY).to(c.GNa).$();a(h.Mha).Gg(l.cQa);a(f.Nha).to(p.fQa).$();a(u.zga).to(k.CNa).$();a(m.Rba).hh(function(){return function(a){return new q.EDa(a);};});});},function(g,d,a){var c,h;function b(){this.hL=new h.Bi();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(86);b.prototype.QD=function(a){this.hL.next(a);};na.Object.defineProperties(b.prototype,{GK:{configurable:!0,enumerable:!0,get:function(){return this.hL;}}});a=b;a=g.__decorate([c.N()],a);d.pNa=a;},function(g,d,a){var c,h,l;function b(a,b){this.Br=b;this.log=a.lb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);a=a(73);b.prototype.wP=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.C4=function(a){return this.links[a];};b.prototype.Dla=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Br().dg;a="drmContextId="+a.drmContextId;this.wP({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(a.lq))],l);d.gNa=l;},function(g,d,a){var c,h,l,f,p;function b(a,b){a=h.Xd.call(this,a,"PboConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);f=a(35);a=a(20);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{Kz:{configurable:!0,enumerable:!0,get:function(){return this.config().zg.Kz||"";}},EV:{configurable:!0,enumerable:!0,get:function(){return this.config().zg.EV||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},Jwa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().zg.bz;}},Vi:{configurable:!0,enumerable:!0,get:function(){return!1;}},gva:{configurable:!0,enumerable:!0,get:function(){return!1;}},B7:{configurable:!0,enumerable:!0,get:function(){return!1;}},Iza:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},w5:{configurable:!0,enumerable:!0,get:function(){return 10;}}});p=b;g.__decorate([f.config(f.string,"uiVersion")],p.prototype,"Kz",null);g.__decorate([f.config(f.string,"uiPlatform")],p.prototype,"EV",null);g.__decorate([f.config(f.Mv,"pboVersion")],p.prototype,"version",null);g.__decorate([f.config(f.string,"pboOrganization")],p.prototype,"Jwa",null);g.__decorate([f.config(f.eaa,"pboLanguages")],p.prototype,"languages",null);g.__decorate([f.config(f.Yd,"hasLimitedPlaybackFunctionality")],p.prototype,"Vi",null);g.__decorate([f.config(f.Yd,"mdxBindUsingNodeQuark")],p.prototype,"gva",null);g.__decorate([f.config(f.Yd,"mdxPairUsingNodeQuark")],p.prototype,"B7",null);g.__decorate([f.config(f.object(),"pboCommands")],p.prototype,"Iza",null);g.__decorate([f.config(f.Mv,"pboHistorySize")],p.prototype,"w5",null);p=g.__decorate([c.N(),g.__param(0,c.l(l.Ci)),g.__param(1,c.l(a.me))],p);d.bNa=p;},function(g,d,a){var l,f,p,m,q,u,k,v,n,w,D,y,r,P,G;function b(a){this.config=a;this.ml=[];}function c(a,b,c){this.Ua=a;this.CE=b;this.context=c;this.startTime=this.Ua.Pe();}function h(a,c,f,d,g,m,l,h,p){this.pBa=c;this.json=f;this.Ua=d;this.wI=g;this.uK=m;this.ja=l;this.Tb=p;this.log=a.lb("Pbo");this.ml=new b(h);this.CE=this.pBa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(4);p=a(2);m=a(298);q=a(7);u=a(39);k=a(24);v=a(52);n=a(116);w=a(30);D=a(297);y=a(107);r=a(69);P=a(16);G=a(40);h.prototype.send=function(a,b){var f;f=new c(this.Ua,this.CE,a);this.ml.append(f);return this.eE(a,b,f);};h.prototype.eE=function(a,b,c){var f;f=this;return new Promise(function(d,g){f.qs(a,b).then(function(a){var b,m;f.snb(a);b=za(f.qsb(a));m=b.next().value;b=b.next().value;m&&(f.J_a(c),d(a));b&&(f.Ana(c,b),g(b));})["catch"](function(a){var b;b=f.Ana(c,a);a.Ja&&(a.Ja=[a.Ja," ",b].join(""));g(a);});});};h.prototype.snb=function(a){(a=a.serverTime)&&this.Tb.wb(P.oea.Hza,f.xb(a));};h.prototype.qsb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.vib=function(a){var b;if(a){try{b=this.json.parse(a);}catch(O){throw{Wy:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{Wy:!0,code:"FAIL",message:"There is no result property on the response"};}throw{Wy:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.lYa=function(a,b,c){var f;f=this;this.Prb(b,a);this.CE=this.pBa();return this.CE.send(b,c).then(function(a){return{qs:!1,result:f.vib(a.body)};})["catch"](function(c){var d,g;g=c&&c.fj&&void 0!==c.fj.maxRetries?Math.min(c.fj.maxRetries,b.R9):b.R9;return f.WU(b,c,a,g)?(d=f.NZa(c,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.ik,Attempt:a+1,WaitTime:d,MaxRetries:g},f.q2(c))),Promise.resolve({qs:!0,ld:d,error:c})):Promise.resolve({qs:!1,error:c});});};h.prototype.Prb=function(a,b){var c;c=a.url.searchParams;c.set(G.DY.rOa,(b+1).toString());c.set(G.DY.Vf,a.F9.toString());c.set(G.DY.sOa,a.E9);};h.prototype.qs=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.lYa(c++,a,b).then(function(d){if(d.qs)return f.UL(d.ld).then(function(){return f.qs(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return d.result;});};h.prototype.WU=function(a,b,c,f){var d;d=this.wI.Q9||this.Dcb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.ik,Attempt:c+1,MaxRetries:f},this.q2(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.ik},this.q2(b)));return!1;};h.prototype.Dcb=function(a){var b,c;b=a&&a.code;c=a&&(a.T||a.tc);a=a.Df!==p.GX.Zfa;c=!!c&&c>=p.H.aA&&c<=p.H.$z&&a;return!(!b||"RETRY"!==b)||c;};h.prototype.NZa=function(a,b,c){return a&&a.fj&&void 0!==a.fj.retryAfterSeconds?f.Ih(a.fj.retryAfterSeconds):f.xb(this.uK.j9(1E3,1E3*Math.pow(2,Math.min(b-1,c))));};h.prototype.UL=function(a){var b;b=this;return new Promise(function(c){b.ja.Mf(a||f.Rf,c);});};h.prototype.q2=function(a){return D.ucb(a)?a:{message:a.message,subCode:a.tc,extCode:a.Df,mslCode:a.Fp,data:a.data};};h.prototype.J_a=function(a){a.Jpb();};h.prototype.Ana=function(a,b){var c;a.Vx(b);try{c=this.json.stringify(this.ml);this.log.error("PBO command history",this.json.parse(c));return c;}catch(X){return"";}};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(q.rb)),g.__param(1,l.l(m.Lha)),g.__param(2,l.l(u.Ts)),g.__param(3,l.l(k.Ue)),g.__param(4,l.l(v.Xl)),g.__param(5,l.l(n.NF)),g.__param(6,l.l(w.Wf)),g.__param(7,l.l(y.rA)),g.__param(8,l.l(r.VW))],a);d.cNa=a;c.prototype.Jpb=function(){this.S=!0;this.elapsedTime=this.Ua.Pe().Fd(this.startTime);};c.prototype.Vx=function(a){this.S=!1;this.elapsedTime=this.Ua.Pe().Fd(this.startTime);this.Epb=a.tc||a.subCode;this.C6a=a.Df||a.extCode;};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){var a;a=Object.assign({success:this.S,method:this.context.ik,profile:this.context.profile.id,startTime:this.startTime.na(f.Ba),elapsedTime:this.elapsedTime?this.elapsedTime.na(f.Ba):"in progress"},this.CE.N1());return this.S?a:Object.assign({},a,this.CE.N1(),{subcode:this.Epb,extcode:this.C6a});};b.prototype.append=function(a){this.ml.push(a);0<this.config.w5&&this.ml.length>this.config.w5&&this.ml.shift();};b.prototype.toJSON=function(){return this.ml;};},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(299);c=a(568);h=a(107);l=a(567);f=a(106);p=a(566);m=a(141);q=a(565);d.Kib=new g.Xb(function(a){a(h.rA).to(l.bNa).$();a(b.cga).to(c.cNa);a(f.gga).to(p.gNa);a(f.sA).hh(function(a){return function(){return a.Zb.get(f.gga);};});a(m.gN).to(q.pNa).$();});},function(g,d,a){var c,h,l,f,p;function b(a){return h.Xd.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(35);h=a(38);l=a(1);f=a(25);p=a(4);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{Gva:{configurable:!0,enumerable:!0,get:function(){return p.xb(5E3);}},Gwa:{configurable:!0,enumerable:!0,get:function(){return p.xb(1E3);}},Hwa:{configurable:!0,enumerable:!0,get:function(){return p.xb(1E3);}}});a=b;g.__decorate([c.config(c.Dg,"minDecoderBufferMilliseconds")],a.prototype,"Gva",null);g.__decorate([c.config(c.Dg,"optimalDecoderBufferMilliseconds")],a.prototype,"Gwa",null);g.__decorate([c.config(c.Dg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Hwa",null);a=g.__decorate([l.N(),g.__param(0,l.l(f.Ci))],a);d.MKa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(426);c=a(570);d.hgb=new g.Xb(function(a){a(b.jfa).to(c.MKa).$();});},function(g,d,a){var c,h,l,f,p,m,q,u,k,v;function b(a,b,c,f,d,g){this.BP=a;this.Bb=c;this.Oa=f;this.Ua=d;this.config=g;this.log=b.lb("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(300);h=a(83);l=a(2);f=a(7);p=a(1);m=a(81);q=a(23);u=a(24);k=a(4);a=a(20);b.prototype.BI=function(){return this.Ua.Pe().na(k.Ba);};b.prototype.fwa=function(a,b){a.Pgb({mediaRequest:a,timestamp:b});};b.prototype.ywa=function(a){var b;b=a.mediaRequest.eo;b.readyState=c.yi.Eb.uw;a=a.connect?a:{timestamp:this.BI(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.m8(a);};b.prototype.CT=function(a){this.fwa(a.mediaRequest.eo,a.timestamp);};b.prototype.DT=function(a){var b,f;b=a.mediaRequest.eo;f=a.bytes;"undefined"!==typeof b&&(b.readyState===c.yi.Eb.dt&&this.ywa(a),this.Oa.Af(f)&&(a.mediaRequest=b,a.timestamp=this.BI(),f>b.Be&&(a.newBytes=f-b.Be,a.bytesLoaded=f,b.Tgb(a))));};b.prototype.zD=function(a){var b,f,d,g;b=a.mediaRequest;f=a.errorcode;d=a.httpcode;g=c.yi.Ns;if("undefined"!==typeof b&&(b=b.eo,"undefined"!==typeof b&&b.readyState!==c.yi.Eb.oq))if(f===l.H.Qs)b.readyState=c.yi.Eb.Qv,a.mediaRequest=b,a.readyState=b.readyState,b.Kgb(a);else{b.readyState=c.yi.Eb.oq;switch(f){case l.H.aA:d=g.oW;break;case l.H.FX:d=g.CX;break;case l.H.kF:d=400<d&&500>d?g.NM:500<=d?g.EX:g.CX;break;case l.H.$z:d=g.DX;break;case l.H.jF:d=g.cca;break;case l.H.lF:d=g.OM;break;case l.H.dw:d=g.OM;break;case l.H.BX:d=g.Cda;break;case l.H.zda:d=g.NM;break;case l.H.ZFa:d=g.DX;break;default:d=g.OM;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=f;b.o8(a);}};b.prototype.xhb=function(a,b){var f,d;f=b.request.eo;if(f)if(b.S){if(a.j&&f.readyState!==c.yi.Eb.DONE){switch(f.readyState){case c.yi.Eb.Qv:return;case c.yi.Eb.dt:this.ywa({mediaRequest:b.request});}f.readyState=c.yi.Eb.DONE;if(!f.Ac){d={mediaRequest:f,readyState:f.readyState,timestamp:this.BI(),cadmiumResponse:b};a.j.Faa+=1;f.W$a();f.Ccb()&&(a.j.O9+=1,b.Xi.Lf=Math.ceil(f.o7a),b.Xi.Kk=Math.ceil(f.W_a),b.Xi.requestTime=Math.floor(f.Qdb));f.rH=d;f.Zi(d);}}}else f.readyState!==c.yi.Eb.Qv&&(a={mediaRequest:b.request,timestamp:this.BI(),errorcode:b.T,httpcode:b.Ah},this.zD(a));};b.prototype.download=function(a,b){var f,d;f=this;b=this.Bb.download(a,b);if(a.eo){d=a.eo;-1<[c.yi.Eb.OPENED,c.yi.Eb.oq].indexOf(d.readyState)&&(d.readyState=c.yi.Eb.dt,this.config().tfb?b.Snb(function(a){f.CT(a);}):this.fwa(d,this.BI()));}b.Ela(function(b){f.xhb(a,b);});b.bob(function(a){f.DT(a);});b.Qnb(function(a){f.zD(a);});return b;};v=b;v=g.__decorate([p.N(),g.__param(0,p.l(h.aW)),g.__param(1,p.l(f.rb)),g.__param(2,p.l(m.Ws)),g.__param(3,p.l(q.we)),g.__param(4,p.l(u.Ue)),g.__param(5,p.l(a.me))],v);d.sKa=v;},function(g,d,a){var c,h,l,f,b;function b(a){function b(b,c){this.K=b;this.H6a=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.Ta=a.lb("DownloadTrack");this.Ft=c.Dp;}b.prototype.Kn=function(){this.hP=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.hP+" config: "+JSON.stringify(this.K);};b.prototype.toJSON=function(){return"Download Track id:"+this.hP+" config: "+JSON.stringify(this.K);};b.prototype.nya=function(a){var b;b=a.connections;this.K.connections!==b&&(this.K=a,this.Ft.qIb(b));};b.prototype.Yn=function(){return 1<this.K.connections?!0:!1;};na.Object.defineProperties(b.prototype,{Vb:{configurable:!0,enumerable:!0,get:function(){return this.hP;}},nQ:{configurable:!0,enumerable:!0,get:function(){return void 0===this.hP;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},Zy:{configurable:!0,enumerable:!0,get:function(){return this.Ta;}},Dp:{configurable:!0,enumerable:!0,get:function(){return this.Ft;}}});this.Vz=Object.assign(b,new l.vGa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(143);f=a(142).EventEmitter;b=g.__decorate([c.N(),g.__param(0,c.l(h.rb))],b);d.uGa=b;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(143);c=a(573);h=a(301);l=a(572);d.SXa=new g.Xb(function(a){a(b.Oca).to(c.uGa).$();a(h.cfa).to(l.sKa).$();});},function(g,d,a){var c,h,l,f,p;function b(a){return h.Xd.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);f=a(35);p=a(4);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{zza:{configurable:!0,enumerable:!0,get:function(){return!0;}},U6:{configurable:!0,enumerable:!0,get:function(){return p.S7(5);}}});a=b;g.__decorate([f.config(f.Yd,"sendPrefetchEventLogs")],a.prototype,"zza",null);g.__decorate([f.config(f.Dg,"logsInterval")],a.prototype,"U6",null);a=g.__decorate([c.N(),g.__param(0,c.l(l.Ci))],a);d.VNa=a;},function(g,d,a){var c,h,l;function b(a,b){this.Oa=b;this.ga=a.lb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);a=a(23);b.prototype.b4a=function(a){var b;b=this;try{return{direction:a.direction,mdb:a.layoutHasChanged,zmb:a.rowInteractionIndex,ya:a.lolomos.map(function(a){return b.X3a(a);})};}catch(m){this.ga.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.X3a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.W3a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Bmb:a.rowSegment};};b.prototype.W3a=function(a){var b,c;b={Jb:a.pts,property:a.property,ke:a.viewableId,index:a.index};c=a.preplay;this.Oa.Yg(c)&&(b.MD=this.$3a(c));a=a.params;this.Oa.Yg(a)&&(b.cb=this.Zoa(a));return b;};b.prototype.$3a=function(a){var b;b={Jb:a.pts,ke:a.viewableId,Yy:a.pipelineNum,index:a.index};a=a.params;this.Oa.Yg(a)&&(b.cb=this.Zoa(a));return b;};b.prototype.Zoa=function(a){return{uc:a.uiLabel,Pf:a.trackingId,oi:a.sessionParams};};b.prototype.$oa=function(a){var b;b=this;try{return a.map(function(a){return b.Y3a(a);});}catch(m){this.ga.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.Y3a=function(a){var b,c;c=a.params;this.Oa.Yg(c)&&(b=this.Z3a(c));return{R:a.movieId,Cd:a.priority,force:a.force,cb:b,uc:a.uiLabel,QIb:a.uiExpectedStartTime,PIb:a.uiExpectedEndTime,bi:a.firstTimeAdded};};b.prototype.Z3a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Oa.Yg(c)&&(b=this.a4a(c));return{DB:this.V3a(a.authParams),oi:b,Pf:a.trackingId,U:a.startPts,Fa:a.manifest,rf:a.isBranching};};b.prototype.V3a=function(a){return{cxa:(a||{}).pinCapableClient};};b.prototype.a4a=function(a){a.SIb=a.uiplaycontext;return a;};b.prototype.wnb=function(a){var b,c;try{b="";this.Oa.Yg(a.wxa)&&(b=JSON.stringify(this.znb(JSON.parse(a.wxa))));c="";this.Oa.Yg(a.xxa)&&(c=JSON.stringify(this.Anb(JSON.parse(a.xxa))));return{dest_id:a.CQ,offset:a.offset,predictions:a.Cxa.map(this.Cnb,this),ppm_input:b,ppm_output:c,prepare_type:a.xHb};}catch(q){this.ga.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Cnb=function(a){return{title_id:a.vo};};b.prototype.znb=function(a){return{direction:a.direction,layoutHasChanged:a.mdb,rowInteractionIndex:a.zmb,lolomos:a.ya.map(this.ynb,this)};};b.prototype.ynb=function(a){return{context:a.context,list:a.list.map(this.xnb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Bmb};};b.prototype.xnb=function(a){var b,c;this.Oa.Yg(a.MD)&&(b=this.Dnb(a.MD));this.Oa.Yg(a.cb)&&(c=this.v$(a.cb));return{preplay:b,pts:a.Jb,viewableId:a.ke,params:c,property:a.property,index:a.index};};b.prototype.Dnb=function(a){var b;this.Oa.Yg(a.cb)&&(b=this.v$(a.cb));return{pts:a.Jb,viewableId:a.ke,params:b,pipelineNum:a.Yy,index:a.index};};b.prototype.v$=function(a){return{uiLabel:a.uc,trackingId:a.Pf,sessionParams:a.oi};};b.prototype.Anb=function(a){return a.map(this.Bnb,this);};b.prototype.Bnb=function(a){var b;this.Oa.Yg(a.cb)&&(b=this.v$(a.cb));return{movieId:a.R,priority:a.Cd,params:b,uiLabel:a.uc,firstTimeAdded:a.bi,viewableId:a.ke,pts:a.Jb};};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(a.we))],l);d.vNa=l;},function(g,d,a){var h,l,f,p,m,q,u,k,v;function b(a,b,c,d,f,g,m,l){this.Cg=a;this.Ey=b;this.ja=c;this.ov=f;this.config=g;this.e4=m;this.I8=l;this.kU=[];this.q6=[];this.V8={};this.ga=d.lb("PrefetchEvents");}function c(a,b,c,d,f,g){this.Cg=a;this.Ey=b;this.ja=c;this.$e=d;this.config=f;this.I8=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(112);l=a(1);f=a(4);p=a(57);m=a(110);q=a(30);u=a(7);k=a(302);a=a(181);c.prototype.create=function(a,c){return new b(this.Cg,this.Ey,this.ja,this.$e,a,this.config,c,this.I8);};v=c;v=g.__decorate([l.N(),g.__param(0,l.l(p.Xs)),g.__param(1,l.l(m.fA)),g.__param(2,l.l(q.Wf)),g.__param(3,l.l(u.rb)),g.__param(4,l.l(k.Gga)),g.__param(5,l.l(a.vY))],v);d.WNa=v;b.prototype.xZa=function(a,b,c){this.ty(h.Wd.aw.WDa,a,b,void 0,c);};b.prototype.zZa=function(a,b,c){this.ty(h.Wd.aw.XDa,a,b,void 0,c);};b.prototype.vZa=function(a,b,c){this.ty(h.Wd.aw.VDa,a,b,void 0,c);};b.prototype.tZa=function(a,b,c){this.ty(h.Wd.aw.TDa,a,b,void 0,c);};b.prototype.kH=function(a,b,c){this.ty(h.Wd.aw.UDa,a,b,void 0,c);};b.prototype.njb=function(a){this.ty(h.Wd.aw.MLa,void 0,a);};b.prototype.Fk=function(a,b,c,d,f,g,m){this.sP()&&(this.ty(h.Wd.aw.MOa,void 0,a),this.geb(a,b,c,d,f,g,m),this.yqa(),this.nua());this.ycb(a)&&this.gmb();};b.prototype.c4a=function(a){a={dest_id:a,cache:this.u$(this.e4())};this.TK("destiny_start",a);};b.prototype.Ojb=function(a){(a=this.I8.wnb(a))?this.TK("destiny_prepare",a):this.ga.error("failed to serialize prepare event");};b.prototype.yqa=function(){0<this.kU.length&&this.sP()&&(this.TK("destiny_events",{dest_id:this.ov.hm,events:this.kU}),this.kU=[]);this.EU&&(this.EU.cancel(),this.EU=void 0);this.Tpa();};b.prototype.nua=function(){var a;if(this.yZa()&&this.sP()){a=this.e4();this.q6=a;a={dest_id:this.ov.hm,offset:this.ov.DR(),cache:this.u$(a)};this.TK("destiny_cachestate",a);}this.DU&&(this.DU.cancel(),this.DU=void 0);this.Spa();};b.prototype.update=function(a){var b;b=this;a.ya.forEach(function(a){a.list.forEach(function(a){b.V8[a.ke]=!0;});});};b.prototype.ycb=function(a){return this.V8[a];};b.prototype.yZa=function(){var a,b,c;a=this;b=this.e4();if(b.length!==this.q6.length)return!0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b)!==JSON.stringify(a.q6[d])&&(c=!0);}catch(P){a.ga.error("Failed to stringify cachedTitle",P);}});return c;};b.prototype.ty=function(a,b,c,d,f){this.sP()&&(a={offset:this.ov.DR(),event_type:a,title_id:c,asset_type:b,size:d,reason:f},this.kU.push(a),this.Tpa(),this.Spa());};b.prototype.Tpa=function(){this.EU||(this.EU=this.ja.Mf(this.config.U6,this.yqa.bind(this)));};b.prototype.Spa=function(){this.DU||(this.DU=this.ja.Mf(this.config.U6,this.nua.bind(this)));};b.prototype.geb=function(a,b,c,d,g,m,l){var p;p=[];c&&p.push({vo:a,gr:h.Wd.vi.sba,state:h.Wd.ZL.hM});d&&p.push({vo:a,gr:h.Wd.vi.fw,state:h.Wd.ZL.hM});g&&p.push({vo:a,gr:h.Wd.vi.gF,state:h.Wd.ZL.hM});(0<m.na(f.Ba)||0<l.na(f.Ba))&&p.push({vo:a,gr:h.Wd.vi.MEDIA,state:h.Wd.ZL.hM,tYa:m.na(f.Ba),Esb:l.na(f.Ba)});a={dest_id:this.ov.hm,offset:this.ov.DR(),xid:b,cache:this.u$(p)};this.TK("destiny_playback",a);};b.prototype.TK=function(a,b){this.config.zza&&(a=this.Ey.mu(a,"info",b),this.Cg.Ub(a));};b.prototype.u$=function(a){return a.map(function(a){return{title_id:a.vo,state:a.state,asset_type:a.gr,size:a.size,audio_ms:a.tYa,video_ms:a.Esb};});};b.prototype.sP=function(){return 0!==this.ov.hm;};b.prototype.gmb=function(){this.ov.fmb();this.V8={};};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);c=a(577);h=a(181);l=a(576);f=a(575);p=a(302);d.Asb=new g.Xb(function(a){a(p.Gga).to(f.VNa).$();a(b.Hga).to(c.WNa).$();a(h.vY).to(l.vNa).$();});},function(g,d,a){var c,h,l,f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(5);l=a(182);b.prototype.k$a=function(){var a;a=A.devicePixelRatio||1;return{width:this.n_.xFa||h.uq.width*a,height:this.n_.wFa||h.uq.height*a};};na.Object.defineProperties(b.prototype,{n_:{configurable:!0,enumerable:!0,get:function(){return a(33).xf;}}});f=b;g.__decorate([l.IS],f.prototype,"n_",null);f=g.__decorate([c.N()],f);d.GQa=f;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(121);b.prototype.compare=function(a,b){var c;c=[];this.E1(a,b,"",c);return c;};b.prototype.E1=function(a,b,c,d){var f;f=this;if(h.qq.Ut(a))h.qq.Ut(b)&&a.length===b.length?a.forEach(function(g,m){f.E1(a[m],b[m],c+"["+m+"]",d);}):d.push({a:a,b:b,path:c});else if(h.qq.qx(a)&&null!=a)if(h.qq.qx(b)&&null!=b){for(var g in a)this.E1(a[g],b[g],c+"."+g,d);for(var m in b)m in a||void 0===b[m]||d.push({a:void 0,b:b[m],path:c+"."+m});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=g.__decorate([c.N()],a);d.pLa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qLa="ObjectComparerSymbol";},function(g,d,a){var c,h,l,f;function b(a){this.location=a;h.xk(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(39);a=a(1);b.KT=function(a){var b,f,g;b={};if(0<a.length){a=a.split("&");for(var d=0;d<a.length;d++){f=a[d].trim();g=f.indexOf("=");0<=g?b[decodeURIComponent(f.substr(0,g).replace(c.Vfa,"%20"))]=decodeURIComponent(f.substr(g+1).replace(c.Vfa,"%20")):b[f.toLowerCase()]="";}}return b;};na.Object.defineProperties(b.prototype,{Ekb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=c.KT(this.Sxa);}},Sxa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.tK)return this.tK;this.tK=this.location.search.substr(1);a=this.tK.indexOf("#");0<=a&&(this.tK=this.Sxa.substr(0,a));return this.tK;}}});f=c=b;f.Vfa=/[+]/g;f=c=g.__decorate([a.N(),g.__param(0,a.l(l.Bea))],f);d.dOa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Y3=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.Y3(a);});};c=b;c=g.__decorate([a.N()],c);d.sQa=c;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.is=a;this.json=b;h.xk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(39);f=a(1);p=a(23);m=a(135);b.prototype.$xa=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.l0(a);});};b.prototype.n9=function(a){var b;b=this;return c.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.uB(a);});};b.prototype.Ea=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.$o(a);});};b.prototype.Okb=function(a){var b;b=this;return c.read(a,function(a){return parseFloat(a);},function(a){return b.is.Af(a);});};b.prototype.Yxa=function(a,b){return c.read(a,function(a){return c.d7a(a,b);},function(a){return void 0!==a;});};b.prototype.p9=function(a,b){return c.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.aya=function(a){var b,d;b=void 0===b?function(){return!0;}:b;d=this;try{return c.read(a,function(a){return d.json.parse(decodeURIComponent(a));},function(a){return d.is.qx(a)&&b(a);});}catch(v){return new m.Zl();}};b.prototype.He=function(a,b,d){var f,g;d=void 0===d?1:d;f=this;a=a.trim();g=b instanceof Function?b:this.v2a(b,d);b=a.indexOf("[");d=a.lastIndexOf("]");if(0!=b||d!=a.length-1)return new m.Zl();a=a.substring(b+1,d);try{return c.sib(a).map(function(a){a=g(f,c.psb(a));if(a instanceof m.Zl)throw a;return a;});}catch(w){return w instanceof m.Zl?w:new m.Zl();}};b.prototype.v2a=function(a,b){var d;b=void 0===b?1:b;d=this;return function(f,g){f=c.W9a(a);return 1<b?d.He(g,a,b-1):f(d,g);};};b.d7a=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d]==a)return d;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new m.Zl();};b.W9a=function(a){switch(a){case"int":return function(a,b){return a.$xa(b);};case"bool":return function(a,b){return a.n9(b);};case"uint":return function(a,b){return a.Ea(b);};case"float":return function(a,b){return a.Okb(b);};case"string":return function(a,b){return a.p9(b);};case"object":return function(a,b){return a.aya(b);};}};b.sib=function(a){var p;for(var b=[["[","]"]],c=[],d=0,f=0,g=0,l=[],h={};f<a.length;h={"char":h["char"]},++f){h["char"]=a.charAt(f);p=void 0;","==h["char"]&&0==g?(c.push(a.substr(d,f-d)),d=f+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(h)))?(++g,l.push(p)):0<l.length&&l[l.length-1][1]==h["char"]&&(--g,l.pop());}if(d!=f)c.push(a.substr(d,f-d));else if(d==f&&0<d)throw new m.Zl();return c;};b.psb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new m.Zl();return a.substring(1,a.length-1);}return a;};a=c=b;a=c=g.__decorate([f.N(),g.__param(0,f.l(p.we)),g.__param(1,f.l(l.Ts))],a);d.wPa=a;},function(g,d,a){var b,c,h,l,f,p,m,q,k,x;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(584);c=a(583);h=a(582);l=a(135);f=a(461);p=a(210);m=a(581);q=a(580);k=a(303);x=a(579);d.Gd=new g.Xb(function(a){a(l.OY).to(b.wPa).$();a(f.CY).to(h.dOa).$();a(p.XY).to(c.sQa).$();a(m.qLa).to(q.pLa).$();a(k.bia).to(x.GQa).$();});},function(g,d,a){var c,h;function b(a){this.Bgb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(304);a=a(1);b.prototype.ira=function(){var a;a=this.Bgb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(c.wfa))],h);d.VEa=h;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(304);c=a(336);h=a(337);l=a(586);f=a(5);d.crypto=new g.Xb(function(a){a(h.vca).to(l.VEa).$();a(b.wfa).Gg(f.pw);a(c.wca).Gg(f.eY);});},function(g,d,a){var c,h,l,f,p,m,q;function b(a,b,c){var d;d=m.nN.call(this,a,b,"network")||this;d.tQ=c;d.HQ=p.GW.cKa;d.Reb=30;d.Rhb=function(a){d.HQ=a.target.value;d.refresh();};d.uhb=function(){d.data={};d.refresh();};d.$ya=function(a){a=JSON.stringify(d.data[d.HQ][Number(a.target.id)].value,null,4);d.coa(a);};return d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);l=a(23);f=a(69);p=a(147);m=a(307);q=a(105);ia(b,m.nN);b.prototype.zc=function(){var a;a=this;if(this.Lm)return Promise.resolve();A.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==q.Us.QKa&&a.toggle();});this.data={};this.tQ.addListener(p.Ica.Uyb,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.Reb&&c.shift();c.push(b);b.type===a.HQ&&a.refresh();});this.Lm=!0;return Promise.resolve();};b.prototype.t4=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.N4=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.Zma.Cn(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+d+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.V4=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.t4(),b=this.data[this.HQ],c=0;c<b.length;++c)a+=this.N4(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.fra=function(){var a;a=this.mc.createElement("button",m.UE,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.uhb;return[a,this.F2a(),this.y2a()];};b.prototype.F2a=function(){var a;a=this.mc.createElement("select",m.UE,Object.keys(p.GW).reduce(function(a,b){b=p.GW[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.Rhb;return a;};b.prototype.y2a=function(){var a,b,c,d;a=this;b=this.mc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.oK;b.onchange=function(){return a.Jqb();};c=this.mc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});d=this.mc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});d.appendChild(b);d.appendChild(c);return d;};b.prototype.oya=function(){return Promise.resolve(this.V4());};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Je)),g.__param(1,c.l(l.we)),g.__param(2,c.l(f.XE))],a);d.Xxb=a;},function(g,d,a){var l,f,p,m,q,k,x,v,n,w,r,y,E,P;function b(a,b,c,d,f,g,m,l,p){var q;q=this;this.Ma=a;this.app=b;this.mc=c;this.ja=d;this.hj=f;this.config=g;this.Br=m;this.hqb=l;this.tf=p;this.iqb=function(){q.MBa.nb(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.Eva=function(){q.bd.VC=!q.bd.VC;q.Xu&&q.$u&&(q.bd.VC?(q.Xu.style.display="inline-block",q.$u.style.display="none"):(q.$u.style.display="inline-block",q.Xu.style.display="none"));q.uz(!1);};this.neb=function(a){var b;q.entries.push(a);b=q.config.fD;0<=b&&q.entries.length>b&&q.entries.shift();void 0===q.bd.sr[a.Bm]&&(q.bd.sr[a.Bm]=!0,q.uz(!1));q.bd.Cl&&!q.UAa?q.iqb():q.MBa.nb();};this.z4a=function(){h.download("all",q.entries.map(function(a){return a.zL(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Lm=!1;this.bd={Cl:!1,VC:!0,GQ:!0,R6:n.Nh.HX,sr:{}};this.MBa=this.hqb(k.Ih(1));this.entries=[];}function c(a){var b;this.elements=[];b=document.createElementNS(c.pL,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(22);p=a(85);m=a(30);q=a(37);k=a(4);x=a(24);v=a(73);n=a(7);w=a(84);r=a(144);y=a(305);E=a(53);P=a(105);h.download=function(a,b){return h.f9a(a).then(function(a){return h.R$a(a,b.join("\r\n")).then(function(a){return h.y4a(a.filename,a.text);});});};h.f9a=function(a){return new Promise(function(b,c){var d,f,g,m,l,h,p;try{d=new Date();f=d.getDate().toString();g=(d.getMonth()+1).toString();m=d.getFullYear().toString();l=d.getHours().toString();h=d.getMinutes().toString();p=d.getSeconds().toString();1===f.length&&(f="0"+f);1===g.length&&(g="0"+g);1===l.length&&(l="0"+l);1===h.length&&(h="0"+h);1===p.length&&(p="0"+p);b(m+g+f+l+h+p+"."+a+".log");}catch(Y){c(Y);}});};h.R$a=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(X){d(X);}});};h.y4a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(O){return Promise.reject(O);}};c.prototype.oE=function(){var a;a=document.createElementNS(c.pL,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};c.prototype.pE=function(a,b,d){var f;f=document.createElementNS(c.pL,"path");f.setAttribute("d",a);b&&f.setAttribute("fill",b);d&&f.setAttribute("fill-rule",d);this.addElement(f);return this;};c.prototype.dL=function(a,b,d,f,g){var m;g=void 0===g?"#000000":g;m=document.createElementNS(c.pL,"rect");m.setAttribute("x",a.toString());m.setAttribute("y",b.toString());m.setAttribute("height",d.toString());m.setAttribute("width",f.toString());g&&m.setAttribute("fill",g);this.addElement(m);return this;};c.prototype.Yob=function(){var a;a=document.createElementNS(c.pL,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};c.prototype.end=function(){this.elements.pop();return this;};c.prototype.Cn=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};c.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};na.Object.defineProperties(c,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Jx:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});c.pL="http://www.w3.org/2000/svg";b.prototype.zc=function(){var a;a=this;this.$g||(this.$g=new Promise(function(b){A.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==P.Us.aJa&&a.toggle();});a.hj.SD(r.hA.yFa,a.neb);b();}));return this.$g;};b.prototype.show=function(){document.body&&(this.element||(this.e2a(),this.Lm=!0),!this.bd.Cl&&this.element&&(document.body.appendChild(this.element),this.bd.Cl=!0,this.update(!0)));};b.prototype.ey=function(){this.Lm&&this.bd.Cl&&this.element&&(document.body.removeChild(this.element),this.bd.Cl=!1);};b.prototype.toggle=function(){this.bd.Cl?this.ey():this.show();this.uz(!1);};b.prototype.e2a=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Lv=this.D2a());a.appendChild(this.E2a());a.appendChild(this.$1a());this.element=a;}catch(L){console.error("Unable to create the log console",L);}};b.prototype.D2a=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.UAa=!0;a.update();a.Lv&&(a.Lv.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.UAa=!1;a.update();a.Lv&&(a.Lv.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.E2a=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.q2a());a.appendChild(this.l2a());a.appendChild(this.h2a());a.appendChild(this.G2a());a.appendChild(this.c2a());a.appendChild(this.u2a());a.appendChild(this.t2a());a.appendChild(this.j2a());a.appendChild(this.d2a());return a;};b.prototype.$1a=function(){var a,b,c,d,f,g;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");d=this.createElement("SELECT",this.qp(22,160,1,2),"<option>Select categories</option>");f=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(f);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?f.style.display="none":(f.innerHTML="",["all","none"].concat(Object.keys(a.bd.sr).sort()).forEach(function(b){f.appendChild(a.a2a(b,c));}),f.style.display="block");g=!g;});return b;};b.prototype.a2a=function(a,b){var c,d,f;c=this;d=this.createElement("LABEL","display: block;margin:1px");d.htmlFor=a;f=this.createElement("INPUT","margin:1px");f.type="checkbox";f.id=a;f.checked=this.bd.sr[a];f.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.bd.sr).forEach(function(b){c.bd.sr[b]="all"===a;}),b.click()):c.bd.sr[a]=!c.bd.sr[a];c.uz(!0);});d.appendChild(f);d.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return d;};b.prototype.q2a=function(){var a,b;a=this;b=this.createElement("SELECT",this.qp(22,NaN,1,2),'<option value="'+n.Nh.ERROR+'">Error</option>'+('<option value="'+n.Nh.Zha+'">Warn</option>')+('<option value="'+n.Nh.HX+'">Info</option>')+('<option value="'+n.Nh.RY+'">Trace</option>')+('<option value="'+n.Nh.kq+'">Debug</option>'));b.value=this.bd.R6.toString();b.addEventListener("change",function(b){a.bd.R6=parseInt(b.target.value);a.uz(!0);},!1);return b;};b.prototype.l2a=function(){var b,c;function a(a){a=a.target.value;b.bd.filter=a?new RegExp(a):void 0;b.uz(!0);}b=this;c=this.createElement("INPUT",this.qp(14,150,1,2));c.value=this.bd.filter?this.bd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.h2a=function(){var a,b,c,d;a=this;b=this.createElement("div",this.qp(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.bd.GQ;c.addEventListener("change",function(b){a.bd.GQ=b.target.checked;a.uz(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};b.prototype.G2a=function(){var a,b,d;a=this;b=this.createElement("BUTTON",this.qp());d=new c("0 0 24 24").oE().Yob().end().pE("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",c.Jx,"nonzero").end().end().Cn();b.appendChild(d);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.c2a=function(){var a,b;a=this.createElement("BUTTON",this.qp());b=new c("0 0 24 24").oE().dL(0,0,24,24,c.background).end().pE("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",c.Jx).end().end().Cn();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.u2a=function(){var a;this.$u=this.createElement("BUTTON",this.qp());this.$u.style.display=this.bd.VC?"none":"inline-block";a=new c("0 0 24 24").oE().dL(0,0,24,24,c.background).end().pE("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",c.Jx,"nonzero").end().end().Cn();this.$u.addEventListener("click",this.Eva,!1);this.$u.appendChild(a);this.$u.setAttribute("title","Shrink the log console");return this.$u;};b.prototype.t2a=function(){var a;this.Xu=this.createElement("BUTTON",this.qp());this.Xu.style.display=this.bd.VC?"inline-block":"none";a=new c("0 0 24 24").oE().dL(4,4,16,16,c.background).end().pE("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",c.Jx,"nonzero").end().end().Cn();this.Xu.addEventListener("click",this.Eva,!1);this.Xu.appendChild(a);this.Xu.setAttribute("title","Expand the log console");return this.Xu;};b.prototype.j2a=function(){var a,b;a=this.createElement("BUTTON",this.qp());b=new c("0 0 26 26").oE().dL(0,0,24,24,c.background).end().pE("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",c.Jx,"nonzero").end().end().Cn();a.appendChild(b);a.addEventListener("click",this.z4a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.d2a=function(){var a,b,d;a=this;b=this.createElement("BUTTON",this.qp());d=new c("0 0 24 24").oE().dL(0,0,24,24,c.background).end().pE("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",c.Jx,"nonzero").end().end().Cn();b.appendChild(d);b.addEventListener("click",function(){a.ey();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.uz=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.CK&&Promise.resolve(this.mZa()+this.g9a().join("\r\n")).then(function(c){b.element&&b.Lv&&(b.Lv.value=c,b.element.style.cssText=b.bd.VC?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ja.Mf(k.Rf,function(){b.Lv.scrollTop=b.Lv.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.g9a=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.bd.R6&&a.bd.sr[c.Bm]&&(c=c.zL(!a.bd.GQ,!a.bd.GQ),a.bd.filter&&!a.bd.filter.test(c)||b.push(c));});return b;};b.prototype.mZa=function(){var a;a=this.Br();return"Version: 6.0015.389.051 \n"+((a?"Esn: "+a.dg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ma.cg.na(k.dm)+", Start: "+this.app.cD.na(k.dm)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,d){return this.mc.createElement(a,b,c,d);};b.prototype.qp=function(a,b,d,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===d?0:d)+"px solid "+c.Jx+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};a=b;a.qpb="logDxDisplay";a=g.__decorate([l.N(),g.__param(0,l.l(q.wi)),g.__param(1,l.l(x.Ue)),g.__param(2,l.l(f.Je)),g.__param(3,l.l(m.Wf)),g.__param(4,l.l(w.hw)),g.__param(5,l.l(y.Dea)),g.__param(6,l.l(v.lq)),g.__param(7,l.l(p.Aw)),g.__param(8,l.l(E.Ul))],a);d.qJa=a;},function(g,d,a){var c,h,l,f,p;function b(a,b){a=l.Xd.call(this,a,"LogDisplayConfigImpl")||this;a.ru=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(35);l=a(38);f=a(25);a=a(167);ia(b,l.Xd);na.Object.defineProperties(b.prototype,{CK:{configurable:!0,enumerable:!0,get:function(){return!0;}},fD:{configurable:!0,enumerable:!0,get:function(){return this.ru.fD;}},pua:{configurable:!0,enumerable:!0,get:function(){return-1;}}});p=b;g.__decorate([h.config(h.Yd,"renderDomDiagnostics")],p.prototype,"CK",null);g.__decorate([h.config(h.U5,"logDisplayMaxEntryCount")],p.prototype,"fD",null);g.__decorate([h.config(h.U5,"logDisplayAutoshowLevel")],p.prototype,"pua",null);p=g.__decorate([c.N(),g.__param(0,c.l(f.Ci)),g.__param(1,c.l(a.hN))],p);d.pJa=p;},function(g,d,a){var c,h;function b(){this.h$="";this.lCa=[[],[]];this.Y=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a(4);h=a(83);b.prototype.downloadRequest=function(a){var b;""===this.h$&&(this.h$=a.Kl);if(!a.Ac){b=this.Dqb(a);this.Y[a.P].push(b);this.lCa[a.P].forEach(function(a){a.wBb(b);});}};b.prototype.Dqb=function(a){return{id:this.p9a(a),Kl:a.Kl,P:a.P,Gn:a.Gn,startTime:a.ls,endTime:a.PD,offset:a.Ik,jH:a.jH,iH:a.iH,duration:a.Er,O:a.O,state:h.Jba.ppa,ia:a.ia,YT:!1,nFb:!1,qsa:!1,zDb:h.Hba.waiting};};b.prototype.p9a=function(a){return a.Ti();};b.prototype.update=function(a){this.lCa[a.P].forEach(function(b){b.XIb(a);});};na.Object.defineProperties(b.prototype,{Kl:{configurable:!0,enumerable:!0,get:function(){return this.h$;}}});a=b;a=g.__decorate([c.N()],a);d.dDa=a;},function(g,d,a){var c,h;function b(a){this.t4a=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(308);b.prototype.zc=function(){var a;a=this;this.$g||(this.$g=new Promise(function(b,c){var d;d=[];a.t4a.forEach(function(a){d.push(a.zc());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.$g;};h=b;h=g.__decorate([c.N(),g.__param(0,c.Iy(a.Tca))],h);d.DGa=h;},function(g,d){function a(a){this.is=a;this.Qcb="#881391";this.xpb="#C41A16";this.ZYa=this.Zgb="#1C00CF";this.Ybb="#D79BDB";this.Arb=this.Xgb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Cn=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Gu=function(a,c){return'<font color="'+((void 0===c?0:c)?this.Ybb:this.Qcb)+'">'+a+": </font>";};a.prototype.Qqa=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.Gu(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.Fra=function(a,c){var b,d,f;b=this;if(c instanceof CryptoKey)return this.E8a(a,c);d=Object.keys(c);f="";f=f+('<li><a href="#">'+("~~NONAME~~"!==a?this.Gu(a):"")+"Object</a>");f=f+"<ul>";d.forEach(function(a){f=a.startsWith("$")?f+b.getValue(a,"REMOVED"):f+b.getValue(a,c[a]);});f+="</ul>";return f+="</li>";};a.prototype.E8a=function(a,c){a=""+('<li><a href="#">'+this.Gu(a)+"CryptoKey</a>");a=a+"<ul>"+this.Fra("algorithm",c.algorithm);a+=this.Wqa("extractable",c.extractable);a+=this.Vra("type",c.type);a+=this.Qqa("usages",c.usages);return a+"</ul></li>";};a.prototype.U9a=function(a,c,d){return'<li><a href="#">'+this.Gu(a,void 0===d?!1:d)+('<font color="'+this.Zgb+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Wqa=function(a,c,d){return'<li><a href="#">'+this.Gu(a,void 0===d?!1:d)+('<font color="'+this.ZYa+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Vra=function(a,c,d){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.Gu(a,void 0===d?!1:d)+('<font color="'+this.xpb+'">"'+c+'"</font>')+"</a></li>";};a.prototype.T9a=function(a){return'<li><a href="#">'+this.Gu(a)+('<font color="'+this.Xgb+'">null</font>')+"</a></li>";};a.prototype.dab=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.Gu(a)+('<font color="'+this.Arb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,d){d=void 0===d?!1:d;return null===c?""+this.T9a(a):this.is.Ut(c)?""+this.Qqa(a,c):this.is.qx(c)?""+this.Fra(a,c):this.is.rh(c)?""+this.Vra(a,c,d):this.is.Af(c)?""+this.U9a(a,c,d):this.is.uB(c)?""+this.Wqa(a,c,d):""+this.dab(a,c);};d.bQa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c){var d;d=p.nN.call(this,a,b,"idb")||this;d.tf=c;d.$ya=function(a){d.P3a(a.target.id).then(function(){return d.refresh();});};d.vhb=function(){d.A_a().then(function(){return d.refresh();});};d.Hhb=function(){d.refresh();};d.yhb=function(){d.s0a();};return d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);l=a(23);f=a(158);p=a(307);m=a(105);ia(b,p.nN);b.prototype.zc=function(){var a;a=this;if(this.Lm)return Promise.resolve();A.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==m.Us.PHa&&a.toggle();});return this.tf.create().then(function(b){a.storage=b;a.Lm=!0;});};b.prototype.t4=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.N4=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"'+b+'"</font>';c=this.Zma.Cn({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+d+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.V4=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.t4(),c=Object.keys(a),d=0;d<c.length;++d)b+=this.N4(d,c[d],a[c[d]]);return b+"</table>";};b.prototype.fra=function(){var a,b,c;a=this.mc.createElement("button",p.UE,"Clear",{"class":this.prefix+"-display-btn"});b=this.mc.createElement("button",p.UE,"Refresh",{"class":this.prefix+"-display-btn"});c=this.mc.createElement("button",p.UE,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.vhb;b.onclick=this.Hhb;c.onclick=this.yhb;return[a,b,c];};b.prototype.Mdb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Msa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Msa;});};b.prototype.P3a=function(a){return this.storage.remove(a);};b.prototype.A_a=function(){return this.storage.removeAll();};b.prototype.oya=function(){var a;a=this;return this.Mdb().then(function(b){return a.V4(b);});};b.prototype.s0a=function(){var a;a=JSON.stringify(this.Msa,null,4);this.coa(a);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Je)),g.__param(1,c.l(l.we)),g.__param(2,c.l(f.KX))],a);d.Lwb=a;},function(g,d,a){var c,h,l,f,p,m,q,k;function b(a){return function(){return new Promise(function(b,c){var d;d=a.Zb.get(h.Vca);d.zc().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(308);a(594);h=a(306);l=a(592);f=a(83);p=a(591);m=a(305);q=a(590);k=a(589);a(588);d.b5a=new g.Xb(function(a){a(m.Dea).to(q.pJa).$();a(c.Tca).to(k.qJa);a(f.aW).to(p.dDa).$();a(h.Vca).to(l.DGa).$();a(h.Uca).AL(b);});},function(g,d,a){var l,f,p,m;function b(){}function c(a){this.Lib=a;}function h(a){this.Nib=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(183);p=a(45);m=a(2);h.prototype.Co=function(a){a.map(this.Nib.Co);};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(f.nga))],a);d.kNa=a;c.prototype.Co=function(a){this.Lib.Co(a.data);};a=c;a=g.__decorate([l.N(),g.__param(0,l.l(f.kga))],a);d.lNa=a;b.prototype.Co=function(a){if(!a.la||"string"!==typeof a.la)throw new p.Wb(m.I.Rs,m.H.Ks,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.la);};f=b;f=g.__decorate([l.N()],f);d.oNa=f;},function(g,d,a){var c,h,l,f;function b(a,b,c){this.qH=b;this.br=c;this.log=a.lb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(65);h=a(62);l=a(7);a=a(1);b.prototype.s$=function(a,b){var c;c=this.qH(h.Mh.start);return this.Xpa(c,a,b);};b.prototype.Dza=function(a){var b,c;b=this;c=this.qH(h.Mh.stop);return this.br().then(function(d){return c.Ag(b.log,d.Iu(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.SK=function(a,b,c){a=this.qH(a);return this.Xpa(a,b,c);};b.prototype.Xpa=function(a,b,c){var d;d=this;return this.br().then(function(f){return a.np(d.log,f.Iu(c.profileId),b.Fa.sy,c);}).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};f=b;f=g.__decorate([a.N(),g.__param(0,a.l(l.rb)),g.__param(1,a.l(h.SW)),g.__param(2,a.l(c.iq))],f);d.dNa=f;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){a=h.Xd.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);f=a(35);p=a(4);a=a(52);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{FD:{configurable:!0,enumerable:!0,get:function(){return this.config.Fm?"unsentplaydatatest":"unsentplaydata";}},q$:{configurable:!0,enumerable:!0,get:function(){return!0;}},xza:{configurable:!0,enumerable:!0,get:function(){return p.xb(1E4);}},D8:{configurable:!0,enumerable:!0,get:function(){return p.xb(4E3);}},Nta:{configurable:!0,enumerable:!0,get:function(){return p.S7(1);}},Ota:{configurable:!0,enumerable:!0,get:function(){return p.Ih(30);}}});m=b;g.__decorate([f.config(f.string,"playdataPersistKey")],m.prototype,"FD",null);g.__decorate([f.config(f.Yd,"sendPersistedPlaydata")],m.prototype,"q$",null);g.__decorate([f.config(f.Dg,"playdataSendDelayMilliseconds")],m.prototype,"xza",null);g.__decorate([f.config(f.Dg,"playdataPersistIntervalMilliseconds")],m.prototype,"D8",null);g.__decorate([f.config(f.Dg,"heartbeatCooldown")],m.prototype,"Nta",null);g.__decorate([f.config(f.Dg,"keepAliveWindow")],m.prototype,"Ota",null);m=g.__decorate([c.N(),g.__param(0,c.l(l.Ci)),g.__param(1,c.l(a.Xl))],m);d.JNa=m;},function(g,d,a){var l,f,p,m,q,k,x,v,n,w,r,y,E,P;function b(a,b,d,f,g,m,l,h){this.config=a;this.ja=d;this.$p=f;this.$y=g;this.WT=m;this.hg=l;this.qy=Promise.resolve();this.closed=!1;this.log=b.lb("PlaydataServices");this.qv=[];this.active=[];this.tmb=new c(a,h);}function c(a,b){this.config=a;this.Ma=b;}function h(a,b,c,d,f,g){this.log=a;this.ja=b;this.j=c;this.Im=d;this.$p=f;this.gjb=g;this.lH=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(4);p=a(7);m=a(30);q=a(225);k=a(311);x=a(16);v=a(310);n=a(2);w=a(184);r=a(309);y=a(130);E=a(37);a=a(63);h.prototype.oT=function(a,b){var d;function c(){var a;a=d.Im.lu(d.j,!1);d.$p.Waa(a)["catch"](function(a){d.log.error("Unable to schedule playdata changes",a);});}d=this;this.log.trace("Adding initial playdata",b);this.$p.fXa(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.Qp=d.ja.lza(a,c);})["catch"](function(f){d.log.error("Unable to add playdata",{error:f,playdata:new w.sY().encode(b)});d.Qp=d.ja.lza(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.lH)return Promise.resolve();this.Qp.cancel();c=this.Im.lu(this.j,!1);return this.$p.Waa(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.j.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.gjb.Dza(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.$p.wya(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.R);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.lH=!0;this.Qp.cancel();this.$p.Waa(this.Im.lu(this.j,!1));};na.Object.defineProperties(c.prototype,{SZa:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ma.cg;return!this.qy||0<=a.Fd(this.qy).nl(this.config.Ota)?(this.qy=a,!0):!1;}}});d.Vyb=c;b.prototype.zc=function(){var a;a=this;this.$g||(this.log.trace("Starting playdata services"),this.$g=this.$p.Skb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.$g;};b.prototype.close=function(){this.closed=!0;this.qv.forEach(function(a){a.oT.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.FD&&b.q$?this.mnb(a):Promise.resolve();};b.prototype.Vob=function(a){this.closed||this.Wob(a);};b.prototype.ipb=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=[];d=this.$y.lu(a,!1);this.active=this.active.filter(function(a){return a!==d.la;});a=this.qv.filter(function(a){return a.key===d.la.toString();}).map(function(a){c.push(a);a.yAa=!0;return a.oT.stop(b.config.q$);});return Promise.all(a).then(function(){c.forEach(function(a){return b.qv.splice(b.qv.indexOf(a),1);});});};b.prototype.Wob=function(a){var b;b=this;a.addEventListener(x.X.Fh,function(){b.tAa(a);});a.background||a.addEventListener(x.X.JS,function(){b.tAa(a);});a.addEventListener(x.X.Fh,function(){b.s$(a);});a.addEventListener(x.X.Fh,function(){b.Sob(a);},1);a.addEventListener(x.X.De,function(){b.hpb();});a.addEventListener(x.X.bCa,function(){b.rnb(a);});a.kc.addListener(function(){a.Za.J2?b.log.trace("stickiness is disabled for timedtext"):b.Cza(a);});a.Ic.addListener(function(){a.Za.J2?b.log.trace("stickiness is disabled for audio"):b.Cza(a);});};b.prototype.tAa=function(a){var b,c;a.he("pdb");if(this.config.D8.wta()){b=this.$y.lu(a,!1);c=b.la;0<=this.qv.findIndex(function(a){return a.key===c;})?this.log.trace("Already collecting online playdata, ignoring",b):(this.log.info("Starting to collect online playdata",b),this.active.push(c),this.qv.push({key:c,oT:this.M9a(a,b),vz:!1,yAa:!1}));}};b.prototype.mnb=function(a){var b,c,d,f;b=this;c=this.$p.VT.filter(function(a){return 0>b.active.indexOf(a.la);});d=void 0;f=void 0;a&&Infinity===a?d=c:(c=za(y.kv(function(b){return b.R===a;},c)),d=c.next().value,f=c.next().value);f&&0<f.length&&this.ja.Mf(this.config.xza,function(){b.Bza(f);});return d&&0!==d.length?this.Bza(d):Promise.resolve();};b.prototype.Bza=function(a){var b;b=this;return a.map(function(a){return function(){return b.WT.Dza(a).then(function(){return b.Jlb(a);});};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve());};b.prototype.Jlb=function(a){var b;b=this;return this.$p.wya(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.M9a=function(a,b){a=new h(this.log,this.ja,a,this.$y,this.$p,this.WT);a.oT(this.config.D8,b);return a;};b.prototype.s$=function(a){var b,c;b=this;c=this.$y.lu(a,!0);this.WT.s$(a,c).then(function(){b.qv.filter(function(b){return b.key===a.la.toString();}).forEach(function(a){a.vz=!0;});})["catch"](function(d){b.log.error("Start command failed",{playdata:c,error:d});return a.kd(b.hg(n.I.$ga,d));});};b.prototype.rnb=function(a){this.tmb.SZa&&this.SK(r.rY.kJ,a,n.I.OX)["catch"](function(){});};b.prototype.Cza=function(a){this.SK(r.rY.splice,a,n.I.Zga)["catch"](function(){});};b.prototype.SK=function(a,b,c){var f;function d(a){var b;b=f.qv.filter(function(b){return b.key===a.la.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.yAa||!b.vz;},!1);}f=this;return d(b)?this.qy:this.qy=this.qy["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();c=f.$y.lu(b,!1);return f.WT.SK(a,b,c);}).then(function(a){return a;})["catch"](function(d){f.log.error("Failed to send event",{eventKey:a,xid:b.la,error:d});d.mk&&b.kd(f.hg(c,d));d.Fp===n.aY.WY&&b.kd(f.hg(c,d));throw d;});};b.prototype.Sob=function(a){this.yob(a)&&this.U$(this.z9a(a),a);};b.prototype.U$=function(a,b){var c;c=this;this.u1();this.l6=this.ja.Mf(a,function(){c.u1();c.SK(r.rY.kJ,b,n.I.OX).then(function(){c.U$(a,b);})["catch"](function(d){d.Fp===n.aY.WY&&c.U$(a,b);});});};b.prototype.hpb=function(){this.u1();};b.prototype.yob=function(a){return a.state.value==x.Lg.Cq;};b.prototype.u1=function(){this.l6&&(this.l6.cancel(),this.l6=void 0);};b.prototype.z9a=function(a){return a.Za.m5?f.xb(a.Za.m5):this.config.Nta;};P=b;P=g.__decorate([l.N(),g.__param(0,l.l(v.Aga)),g.__param(1,l.l(p.rb)),g.__param(2,l.l(m.Wf)),g.__param(3,l.l(k.bga)),g.__param(4,l.l(q.tY)),g.__param(5,l.l(r.dga)),g.__param(6,l.l(a.Rj)),g.__param(7,l.l(E.wi))],P);d.nNa=P;},function(g,d,a){var l,f,p,m,q,k,x,v,n,w;function b(){}function c(){}function h(a,c,d,f,g){var m;m=this;this.is=a;this.tf=c;this.config=d;this.Br=f;this.Mib=g;this.Yp=function(){return new b().encode({version:m.version,data:m.VT});};this.Urb=function(a){a=m.Xaa(a);m.Mib.Co(a);return a;};this.Xaa=function(a){if(m.is.Li(a))return m.Wrb(a);if(void 0!=a.version&&m.is.Af(a.version)&&1==a.version)return m.Xrb(a);if(void 0!=a.version&&m.is.Af(a.version)&&2==a.version)return new b().decode(a);if(a.version&&m.is.Af(a.version))throw new q.Wb(p.I.Rs,p.H.$ba,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new q.Wb(p.I.Rs,p.H.Ks,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Xm=new k.iea(2,this.config().oxa,""!==this.config().oxa&&0<this.config().rjb,this.tf,this.Yp);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(20);p=a(2);m=a(23);q=a(45);k=a(462);x=a(53);v=a(73);n=a(184);a=a(183);h.prototype.Skb=function(){return this.Xm.load(this.Urb)["catch"](function(a){throw new q.Wb(p.I.Rs,a.T||a.tc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.fXa=function(a){return this.Xm.add(a);};h.prototype.wya=function(a){return this.Xm.remove(a,function(a,b){return a.la===b.la;});};h.prototype.Waa=function(a){return this.Xm.update(a,function(a,b){return a.la===b.la;});};h.prototype.toString=function(){return JSON.stringify(this.Yp(),null,"  ");};h.prototype.QBa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Br().dg:"";};h.prototype.Yaa=function(a){return a.map(function(a){return{md:a.downloadableId,duration:a.duration};});};h.prototype.SBa=function(a){return a?{total:a.playTimes.total,audio:this.Yaa(a.playTimes.audio||[]),video:this.Yaa(a.playTimes.video||[]),text:this.Yaa(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.Wrb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.QBa(a.playbackContextId),la:a.xid?a.xid.toString():"",R:a.movieId,position:a.position,oH:a.timestamp,WK:a.playback?1E3*a.playback.startEpoch:-1,Cy:a.mediaId,hK:this.SBa(a.playback),Vb:"",oi:{dummy:"dummy"}};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.tf.create().then(function(a){a.save(b.config().WH,d,!1);});if(!c.profileId||""===c.href||""===c.la)throw new q.Wb(p.I.Rs,p.H.Ks);return{version:2,data:[c]};};h.prototype.Xrb=function(a){var b;b=this;if(!a.playdata||!this.is.Ut(a.playdata))throw new q.Wb(p.I.Rs,p.H.Ks,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.QBa(a.playbackContextId),la:a.xid?a.xid.toString():"",R:a.movieId,position:a.position,oH:a.timestamp,WK:a.playback?1E3*a.playback.startEpoch:-1,Cy:a.mediaId,hK:b.SBa(a.playback),Vb:"",oi:{dummy:"dummy"}};});}(a.playdata)};};na.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Xm.version;}},VT:{configurable:!0,enumerable:!0,get:function(){return this.Xm.fp;}}});w=h;w=g.__decorate([l.N(),g.__param(0,l.l(m.we)),g.__param(1,l.l(x.Ul)),g.__param(2,l.l(f.me)),g.__param(3,l.l(v.lq)),g.__param(4,l.l(a.lga))],w);d.$Ma=w;c.prototype.encode=function(a){var b;b=new n.sY();return a.map(b.encode);};c.prototype.decode=function(a){var b;b=new n.sY();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new c().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new c().decode(a.data)};};},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,w;function b(a){return function(){return a.Zb.get(c.mga).zc();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(125);h=a(225);l=a(184);f=a(311);p=a(600);m=a(599);q=a(310);k=a(598);x=a(309);v=a(597);n=a(183);w=a(596);d.VT=new g.Xb(function(a){a(q.Aga).to(k.JNa).$();a(h.tY).to(l.mNa).$();a(f.bga).to(p.$Ma).$();a(c.mga).to(m.nNa).$();a(c.fN).AL(b);a(x.dga).to(v.dNa).$().VL();a(n.nga).to(w.oNa).$();a(n.kga).to(w.kNa).$();a(n.lga).to(w.lNa).$();});},function(g,d,a){var c,h,l;function b(a){var b;b=l.zM.call(this)||this;b.mc=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);l=a(332);ia(b,l.zM);b.prototype.decode=function(a){return{R:a.movieId,aj:a.packageId,ql:a.drmType,Q4a:a.drmVersion,y6a:a.expiration,e_a:this.a3a(a.cdnResponseData),media:this.i3a(a.media),duration:a.duration,cf:a.playbackContextId,Toa:this.d3a(a.defaultTrackOrderList),zj:a.drmContextId,Mab:a.hasDrmProfile,Kab:a.hasClearProfile,fBa:this.o3a(a.timedtexttracks),rBa:this.r3a(a.trickplays),H0:this.$2a(a.audio_tracks),RV:this.w3a(a.video_tracks),Ym:this.Koa(a.servers),Ej:this.g3a(a.locations),Icb:a.isUsingLegacyBatchingAPI,R0:a.bookmark,osa:a.hasDrmStreams,Lab:a.hasClearStreams,links:a.links,u_a:this.b3a(a.choiceMap),ib:a.initialHeader,Msb:this.x3a(a.watermarkInfo),rf:a.isBranching,J4a:a.dpsid,Fsb:a.viewableType,XC:a.isSupplemental,wna:a.clientIpAddress};};b.prototype.encode=function(a){return{movieId:a.R,packageId:a.aj,drmType:a.ql,drmVersion:a.Q4a,expiration:a.y6a,cdnResponseData:this.E5a(a.e_a),media:this.M5a(a.media),duration:a.duration,playbackContextId:a.cf,defaultTrackOrderList:this.H5a(a.Toa),drmContextId:a.zj,timedtexttracks:this.S5a(a.fBa),trickplays:this.W5a(a.rBa),audio_tracks:this.D5a(a.H0),video_tracks:this.a6a(a.RV),servers:this.Jpa(a.Ym),locations:this.K5a(a.Ej),isUsingLegacyBatchingAPI:a.Icb,bookmark:a.R0,hasDrmProfile:a.Mab,hasClearProfile:a.Kab,hasDrmStreams:a.osa,hasClearStreams:a.Lab,links:a.links,choiceMap:this.F5a(a.u_a),initialHeader:a.ib,watermarkInfo:this.b6a(a.Msb),isBranching:a.rf,dpsid:a.J4a,viewableType:a.Fsb,isSupplemental:a.XC,clientIpAddress:a.wna};};b.prototype.x3a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.b6a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.b3a=function(a){var b;b=this;return a&&{$I:a.initialSegment,type:a.type,ke:a.viewableId,ie:this.kC(a.segments,function(a){return{Zm:a.startTimeMs,lC:a.endTimeMs,xQ:a.defaultNext,next:b.kC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.F5a=function(a){var b;b=this;return a&&{initialSegment:a.$I,type:a.type,viewableId:a.ke,segments:this.kC(a.ie,function(a){return{startTimeMs:a.Zm,endTimeMs:a.lC,defaultNext:a.xQ,next:b.kC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.a3a=function(a){return{MT:a.pbcid,yv:a.sessionABTestCell};};b.prototype.E5a=function(a){return{pbcid:a.MT,sessionABTestCell:a.yv};};b.prototype.i3a=function(a){return this.Cf(a,this.h3a);};b.prototype.M5a=function(a){return this.Cf(a,this.L5a);};b.prototype.h3a=function(a){return{Iaa:this.p3a(a.tracks),id:a.id};};b.prototype.L5a=function(a){return{tracks:this.U5a(a.Iaa),id:a.id};};b.prototype.p3a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,Cha:a.TEXT};};b.prototype.U5a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.Cha};};b.prototype.d3a=function(a){return this.Cf(a,this.c3a);};b.prototype.H5a=function(a){return this.Cf(a,this.G5a);};b.prototype.c3a=function(a){return{CB:a.audioTrackId,Cy:a.mediaId,Dsb:a.videoTrackId,GAa:a.subtitleTrackId,Ljb:a.preferenceOrder};};b.prototype.G5a=function(a){return{audioTrackId:a.CB,mediaId:a.Cy,videoTrackId:a.Dsb,subtitleTrackId:a.GAa,preferenceOrder:a.Ljb};};b.prototype.o3a=function(a){return this.Cf(a,this.n3a);};b.prototype.S5a=function(a){return this.Cf(a,this.R5a);};b.prototype.n3a=function(a){return this.mc.Bk(this.s2(a),{type:a.type,uBa:this.m3a(a.ttDownloadables),iz:a.rawTrackType,ZC:a.languageDescription,language:a.language,id:a.id,yS:a.isNoneTrack,uS:a.isForcedNarrative,opa:a.downloadableIds,kna:this.Koa(a.cdnlist),iJ:a.isLanguageLeftToRight});};b.prototype.R5a=function(a){return this.mc.Bk(this.a3(a),{type:a.type,ttDownloadables:this.Q5a(a.uBa),rawTrackType:a.iz,languageDescription:a.ZC,language:a.language,id:a.id,isNoneTrack:a.yS,isForcedNarrative:a.uS,downloadableIds:a.opa,cdnlist:this.Jpa(a.kna),trackType:a.si,new_track_id:a.io,isLanguageLeftToRight:a.iJ});};b.prototype.m3a=function(a){return this.kC(a,this.l3a);};b.prototype.Q5a=function(a){return this.kC(a,this.P5a);};b.prototype.l3a=function(a){return{Dr:a.downloadUrls,Qab:a.hashAlgo,Rab:a.hashValue,height:a.height,width:a.width,ncb:a.isImage,JJ:a.midxOffset,cT:a.midxSize,size:a.size,fqb:a.textKey};};b.prototype.P5a=function(a){return{downloadUrls:a.Dr,hashAlgo:a.Qab,hashValue:a.Rab,height:a.height,width:a.width,isImage:a.ncb,midxOffset:a.JJ,midxSize:a.cT,size:a.size,textKey:a.fqb};};b.prototype.r3a=function(a){if(a)return this.Cf(a,this.q3a);};b.prototype.W5a=function(a){if(a)return this.Cf(a,this.V5a);};b.prototype.q3a=function(a){return{interval:a.interval,hxa:a.pixelsAspectY,gxa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,eC:a.downloadable_id,Pc:a.urls,id:a.id};};b.prototype.V5a=function(a){return{interval:a.interval,pixelsAspectY:a.hxa,pixelsAspectX:a.gxa,width:a.width,height:a.height,size:a.size,downloadable_id:a.eC,urls:a.Pc,id:a.id};};b.prototype.$2a=function(a){return this.Cf(a,this.Z2a);};b.prototype.D5a=function(a){return this.Cf(a,this.C5a);};b.prototype.Z2a=function(a){return this.mc.Bk(this.s2(a),{id:a.id,qc:this.Y2a(a.streams),si:a.trackType,hk:a.channels,language:a.language,n1:a.channelsFormat,jaa:a.surroundFormatLabel,ZC:a.languageDescription,isNative:a.isNative,p4a:a.disallowedSubtitleTracks,DL:a.track_id,G3a:a.defaultTimedText,c9:a.profileType,type:a.type,Y$:a.stereo,profile:a.profile,A1:a.codecName,iz:a.rawTrackType});};b.prototype.C5a=function(a){return this.mc.Bk(this.a3(a),{id:a.id,streams:this.B5a(a.qc),trackType:a.si,channels:a.hk,language:a.language,channelsFormat:a.n1,surroundFormatLabel:a.jaa,languageDescription:a.ZC,isNative:a.isNative,disallowedSubtitleTracks:a.p4a,track_id:a.DL,defaultTimedText:a.G3a,profileType:a.c9,type:a.type,stereo:a.Y$,profile:a.profile,codecName:a.A1,rawTrackType:a.iz});};b.prototype.w3a=function(a){return this.Cf(a,this.v3a);};b.prototype.a6a=function(a){return this.Cf(a,this.$5a);};b.prototype.v3a=function(a){return this.mc.Bk(this.s2(a),{type:a.type,qc:this.u3a(a.streams),Ne:a.drmHeader&&this.Joa(a.drmHeader),H2:a.dimensionsCount,I2:a.dimensionsLabel,ubb:a.ict,Neb:a.maxCroppedHeight,Oeb:a.maxCroppedWidth,Peb:a.maxCroppedX,Qeb:a.maxCroppedY,c9:a.profileType,Y$:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,exa:a.pixelAspectX,fxa:a.pixelAspectY,profile:a.profile,cfb:a.max_framerate_value,bfb:a.max_framerate_scale,Pfb:a.minCroppedHeight,Qfb:a.minCroppedWidth,Rfb:a.minCroppedX,Sfb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,Y8:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.Joa),oI:a.flavor,DL:a.track_id});};b.prototype.$5a=function(a){return this.mc.Bk(this.a3(a),{type:a.type,streams:this.Z5a(a.qc),drmHeader:a.Ne&&this.Ipa(a.Ne),dimensionsCount:a.H2,dimensionsLabel:a.I2,ict:a.ubb,maxCroppedHeight:a.Neb,maxCroppedWidth:a.Oeb,maxCroppedX:a.Peb,maxCroppedY:a.Qeb,profileType:a.c9,stereo:a.Y$,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.exa,pixelAspectY:a.fxa,profile:a.profile,max_framerate_value:a.cfb,max_framerate_scale:a.bfb,minCroppedHeight:a.Pfb,minCroppedWidth:a.Qfb,minCroppedX:a.Rfb,minCroppedY:a.Sfb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.Y8&&a.Y8.map(this.Ipa),flavor:a.oI,track_id:a.DL});};b.prototype.Joa=function(a){return{Z:a.bytes,r_a:a.checksum,lJ:a.keyId};};b.prototype.Ipa=function(a){return{bytes:a.Z,checksum:a.r_a,keyId:a.lJ};};b.prototype.s2=function(a){return{si:a.trackType,io:a.new_track_id,type:a.type};};b.prototype.a3=function(a){return{trackType:a.si,new_track_id:a.io,type:a.type};};b.prototype.Y2a=function(a){return this.Cf(a,this.X2a);};b.prototype.B5a=function(a){return this.Cf(a,this.A5a);};b.prototype.X2a=function(a){return{RB:a.content_profile,si:a.trackType,O:a.bitrate,size:a.size,Bl:a.isDrm,eC:a.downloadable_id,type:a.type,e8:a.new_stream_id,Pc:this.Loa(a.urls),hk:a.channels,n1:a.channelsFormat,jaa:a.surroundFormatLabel,language:a.language,oYa:a.audioKey};};b.prototype.A5a=function(a){return{content_profile:a.RB,trackType:a.si,bitrate:a.O,size:a.size,isDrm:a.Bl,downloadable_id:a.eC,type:a.type,new_stream_id:a.e8,urls:this.Kpa(a.Pc),channels:a.hk,channelsFormat:a.n1,surroundFormatLabel:a.jaa,language:a.language,audioKey:a.oYa};};b.prototype.u3a=function(a){return this.Cf(a,this.t3a);};b.prototype.Z5a=function(a){return this.Cf(a,this.Y5a);};b.prototype.t3a=function(a){return{RB:a.content_profile,si:a.trackType,O:a.bitrate,size:a.size,Bl:a.isDrm,eC:a.downloadable_id,type:a.type,e8:a.new_stream_id,Pc:this.Loa(a.urls),Pib:a.peakBitrate,H2:a.dimensionsCount,I2:a.dimensionsLabel,ajb:a.pix_w,$ib:a.pix_h,Iya:a.res_w,Hya:a.res_h,Kqa:a.framerate_value,Jqa:a.framerate_scale,Qob:a.startByteOffset,oc:a.vmaf,woa:a.crop_x,xoa:a.crop_y,uoa:a.crop_h,voa:a.crop_w};};b.prototype.Y5a=function(a){return{content_profile:a.RB,trackType:a.si,bitrate:a.O,size:a.size,isDrm:a.Bl,downloadable_id:a.eC,type:a.type,new_stream_id:a.e8,urls:this.Kpa(a.Pc),peakBitrate:a.Pib,dimensionsCount:a.H2,dimensionsLabel:a.I2,pix_w:a.ajb,pix_h:a.$ib,res_w:a.Iya,res_h:a.Hya,framerate_value:a.Kqa,framerate_scale:a.Jqa,startByteOffset:a.Qob,vmaf:a.oc,crop_x:a.woa,crop_y:a.xoa,crop_h:a.uoa,crop_w:a.voa};};b.prototype.Loa=function(a){return this.Cf(a,this.s3a);};b.prototype.Kpa=function(a){return this.Cf(a,this.X5a);};b.prototype.s3a=function(a){return{url:a.url,jna:a.cdn_id};};b.prototype.X5a=function(a){return{url:a.url,cdn_id:a.jna};};b.prototype.Koa=function(a){return this.Cf(a,this.k3a);};b.prototype.Jpa=function(a){return this.Cf(a,this.O5a);};b.prototype.k3a=function(a){return{id:a.id,key:a.key,Aua:a.lowgrade,name:a.name,Od:a.rank,type:a.type,x4a:this.e3a(a.dns)};};b.prototype.O5a=function(a){return{id:a.id,key:a.key,lowgrade:a.Aua,name:a.name,rank:a.Od,type:a.type,dns:this.I5a(a.x4a)};};b.prototype.e3a=function(a){if(a)return{host:a.host,acb:a.ipv4,bcb:a.ipv6,A7a:a.forceLookup};};b.prototype.I5a=function(a){if(a)return{host:a.host,ipv4:a.acb,ipv6:a.bcb,forceLookup:a.A7a};};b.prototype.g3a=function(a){return this.Cf(a,this.f3a);};b.prototype.K5a=function(a){return this.Cf(a,this.J5a);};b.prototype.f3a=function(a){return{key:a.key,Od:a.rank,weight:a.weight,level:a.level};};b.prototype.J5a=function(a){return{key:a.key,rank:a.Od,weight:a.weight,level:a.level};};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Je))],a);d.dKa=a;},function(g,d,a){var c,h,l,f,p,m,q,k;function b(a,b,c,d,f,g,m){this.MWa=a;this.Clb=b;this.Br=d;this.F6=f;this.Fya=g;this.Rya=m;this.ga=c.lb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(316);a(315);f=a(73);p=a(314);m=a(106);q=a(313);a=a(312);b.prototype.wB=function(a,b){var c,d;c=this;d=this.Fya.Sqb(a);return this.MWa.np(this.ga,b.profile,this.W7a(a),d).then(function(a){a.map(function(a){return a.XFb;});return c.Rya.Tqb(a);})["catch"](function(a){c.ga.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.Fya.Vqb(a);return this.Clb.Ag(this.ga,b.profile,a).then(function(a){return c.Rya.Wqb(a);})["catch"](function(a){c.ga.error("PBO release license failed",a);return Promise.reject(a);});};b.prototype.W7a=function(a){var b;b=this.F6();b.wP({ldl:{href:this.Xma(a,"limited"),rel:"ldl"},license:{href:this.Xma(a,"standard"),rel:"license"}});return b;};b.prototype.Xma=function(a,b){return"/license?licenseType="+b+"&playbackContextId="+a.cf+"&esn="+this.Br().dg;};k=b;k=g.__decorate([c.N(),g.__param(0,c.l(l.$fa)),g.__param(1,c.l(p.oga)),g.__param(2,c.l(h.rb)),g.__param(3,c.l(f.lq)),g.__param(4,c.l(m.sA)),g.__param(5,c.l(q.ega)),g.__param(6,c.l(a.fga))],k);d.kJa=k;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c){this.Beb=a;this.br=c;this.ga=b.lb("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(15);l=a(317);f=a(7);p=a(65);m=a(17);b.prototype.DC=function(a,b){var c;c=this;return this.br().then(function(d){return c.Beb.np(c.ga,d.profile,b,a);})["catch"](function(a){c.ga.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.Dna=function(a,b){var c;c={};a&&m.pc(a,function(a,b){c[a]=h.Sd(b)?b:JSON.stringify(b);});b&&m.pc(b,function(a,b){c[a]=h.Sd(b)?b:JSON.stringify(b);});return c;};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.iga)),g.__param(1,c.l(f.rb)),g.__param(2,c.l(p.iq))],a);d.iKa=a;},function(g,d,a){var c,h,l;function b(a){this.F6=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(106);l=a(212);b.prototype.decode=function(a){var b;b=this.B$a(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.D4(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.L8a(a),timedtexttracks:this.U$a(a.textTracks,b),media:this.EC(a.media),trickplays:this.$$a(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.c9a(a),initialHeader:void 0};b.oz=a.oz;b.VD=a.VD;b.sy=this.F6();b.sy.Dla(b);return b;};b.prototype.L8a=function(a){var b,c,d;b=za(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.D4=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.B$a=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.dsa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.c8a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.c8a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.dsa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.hab(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.hab=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.dsa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.U$a=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.P$a(a.downloadables),ttDownloadables:c.Q$a(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.P$a=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.d$a=function(a){var b;b=l.QY.J4();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(wb(a.map(function(a){return a.pixHeight;}))));};b.prototype.Q$a=function(a){var b;if(a){b=this.d$a(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.EC=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.$$a=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.c9a=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.sA))],a);d.jKa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DQa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.lHa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n;function b(a,b,c,d,f,g,l){this.mc=b;this.jl=c;this.LV=d;this.Bb=f;this.$ta=g;this.br=l;this.ga=a.lb("DrmProvider");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);l=a(44);f=a(97);p=a(7);m=a(81);q=a(65);k=a(166);x=a(76);v=a(606);a=a(145);b.prototype.Ze=function(a){var b;b=this;return this.br().then(function(c){return b.mc.ju(a.hp[0].data,[8,4])?{$b:[{id:"ddd",Tu:"cert",eD:void 0}],sJ:[{sessionId:"ddd",data:new Uint8Array(b.jl.decode(v.DQa))}]}:b.mc.ju(a.hp[0].data,b.LV.decode("certificate"))?{$b:[{id:"ddd",Tu:"cert",eD:void 0}],sJ:[{sessionId:"ddd",data:new Uint8Array(b.jl.decode(v.lHa))}]}:b.$ta.wB(b.I7a(a),b.GI(c)).then(function(a){return b.J7a(a);});});};b.prototype.release=function(a){var b;b=this;return this.br().then(function(c){return b.$ta.release(b.L7a(a),b.GI(c)).then(function(c){return b.M7a(c,a);});});};b.prototype.I7a=function(a){var b;b=this;return{la:a.la,cf:a.cf,LQ:a.LQ,ah:x.bua(a.ah),ql:k.en[a.ql],hp:a.hp.map(function(a){return{sessionId:a.sessionId,dataBase64:b.jl.encode(a.data)};}),FJ:a.FJ};};b.prototype.L7a=function(a){var b;b={};a.gp&&a.$b[0].id&&(b[a.$b[0].id]=this.jl.encode(a.gp));return a&&a.gp?{la:a.la,$b:a.$b,Xmb:b}:{la:a.la,$b:a.$b};};b.prototype.J7a=function(a){return{$b:a.$b,sJ:a.sJ};};b.prototype.M7a=function(a,b){return a&&a.response&&a.response.data&&b.$b[0].id&&(a=a.response.data[b.$b[0].id])?{response:this.jl.decode(a)}:{};};b.prototype.GI=function(a){return{log:this.ga,Bb:this.Bb,profile:a.profile};};n=b;n=g.__decorate([c.N(),g.__param(0,c.l(p.rb)),g.__param(1,c.l(h.Je)),g.__param(2,c.l(l.kj)),g.__param(3,c.l(f.Ew)),g.__param(4,c.l(m.Ws)),g.__param(5,c.l(a.sF)),g.__param(6,c.l(q.iq))],n);d.xGa=n;},function(g,d,a){var c,h,l,f,p,m,q;function b(a,b,c,d){this.is=b;this.Bb=c;this.yh=d;this.log=a.lb("IdentityProvider");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(7);f=a(23);p=a(45);m=a(81);a=a(318);b.prototype.ping=function(a,b){var c;c=this;return this.yh.kpa?new Promise(function(d,f){c.yh.kpa(c.GI(a,b)).then(function(){d();})["catch"](function(a){f(new p.Wb(h.I.mY,a.T,a.jc,a.oC,a.yu,a.mk,a.Ja,a.Mn));});}):Promise.reject(new p.Wb(h.I.mY,h.H.Xfa));};b.prototype.uy=function(a,b){var c;c=this;return this.yh.uy?new Promise(function(d,f){c.yh.uy(c.GI(a,b)).then(function(a){d({Tt:a.Tt,dh:a.dh,Vi:a.Vi});})["catch"](function(a){f(new p.Wb(h.I.rF,a.T,a.jc,a.oC,a.yu,a.mk,a.Ja,a.Mn));});}):Promise.reject(new p.Wb(h.I.rF,h.H.Xfa));};b.prototype.GI=function(a,b){a={log:this.log,Bb:this.Bb,profile:a};this.jcb(b)&&(a.Sx=b.Sx,a.password=b.password);this.is.uB(b)&&(a.useNetflixUserAuthData=b);this.is.Li(b)&&(a.dh=b);return a;};b.prototype.jcb=function(a){return void 0===a?!1:this.is.qP(a)?this.is.Li(a.Sx):!1;};q=b;q=g.__decorate([c.N(),g.__param(0,c.l(l.rb)),g.__param(1,c.l(f.we)),g.__param(2,c.l(m.Ws)),g.__param(3,c.l(a.tca))],q);d.MIa=q;},function(g,d,a){var b,c,h,l,f,p,m,q,k,x,v,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(318);c=a(437);h=a(608);l=a(436);f=a(607);p=a(605);m=a(157);q=a(604);k=a(185);x=a(145);v=a(603);n=a(602);d.skb=new g.Xb(function(a){a(b.tca).Gz(function(){return A._cad_global.controlProtocol;});a(c.jea).to(h.MIa).$();a(l.Qca).to(f.xGa).$();a(m.UX).to(p.jKa).$();a(m.Uea).to(n.dKa).$();a(k.TX).to(q.iKa).$();a(x.sF).to(v.kJa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eGb=function(a){return a;};d.Aeb=function(a){return a;};d.fGb=function(a){return Object.assign({},a);};},function(g,d,a){var c,h,l,f,p,m,q,k,x;function b(a,b,c){this.Ma=a;this.Wsb=b;this.performance=c;h.xk(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(610);f=a(31);p=a(39);m=a(37);q=a(1);k=a(322);x=a(4);b.prototype.get=function(a,b,d){var g;g=this;return new Promise(function(l,m){var h,p,q;try{h=g.Wsb.create();"withCredentials"in h||m(Error("Missing CORS support"));h.open("GET",a,!0);b&&(h.withCredentials=!0);d&&(h.timeout=d.na(x.Ba));p=g.Ma.cg;q=void 0;h.onreadystatechange=function(){var b;switch(h.readyState){case XMLHttpRequest.HEADERS_RECEIVED:q=g.Ma.cg.Fd(p);break;case XMLHttpRequest.DONE:b=g.Ma.cg.Fd(p);l({body:h.responseText,status:h.status,headers:c.qib(h.getAllResponseHeaders()),Oc:g.K9a(a,f.Z(h.responseText.length),b,q)});}};h.send();}catch(L){m(L);}});};b.qib=function(a){var b,d,f;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){d=a[c];f=d.indexOf(": ");0<f&&(b[d.substring(0,f).toLowerCase()]=d.substring(f+2));}return b;};b.prototype.K9a=function(a,b,c,d){b={size:b,duration:c,waa:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=l.Aeb(b);a.y3a&&(b.size=f.Z(a.y3a));0<a.duration?b.duration=x.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=x.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.hpa=x.timestamp(a.domainLookupEnd-a.domainLookupStart),b.paa=x.timestamp(a.connectEnd-a.connectStart),b.waa=x.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Aaa=x.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.Aaa=x.timestamp(c),b.paa=x.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=c=b;a=c=g.__decorate([q.N(),g.__param(0,q.l(m.wi)),g.__param(1,q.l(k.cia)),g.__param(2,q.l(p.uY)),g.__param(2,q.optional())],a);d.OHa=a;},function(g,d,a){var c,h,l,f,p;function b(a,b){this.is=a;this.json=b;h.xk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(51);l=a(39);f=a(4);a=a(23);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.qP(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.vB(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.vB(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(!this.is.vB(a.pulse_delay))throw Error("FtlProbe: param.pulse_delay: not a positive integer");if(!this.is.vB(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Ut(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Li(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.qx(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.qP(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.rh(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.rh(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Ckb:a.pulses,Akb:f.xb(a.pulse_delay),Bkb:f.xb(a.pulse_timeout),Mta:a.next?f.xb(a.next):void 0,Pc:a.urls,T6:a.logblob,context:a.ctx};};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.we)),g.__param(1,c.l(l.Ts))],p);d.sHa=p;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Cg=a;this.Ey=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(31);f=a(4);p=a(57);a=a(110);b.prototype.DK=function(a){a=this.Ey.mu("ftlProbeError","info",c.Rsb({url:a.url,sc:a.status,pf_err:a.G8},a));this.Cg.Ub(a);};b.Rsb=function(a,b){b.Oc&&(b=b.Oc,c.Zo(a,"d",b.duration),c.Zo(a,"dns",b.hpa),c.Zo(a,"tcp",b.paa),c.Zo(a,"tls",b.Aaa),c.Zo(a,"ttfb",b.waa),a.sz=b.size.na(l.Vl));return a;};b.Zo=function(a,b,c){c&&(a[b]=c.na(f.Ba));return a;};m=c=b;m=c=g.__decorate([h.N(),g.__param(0,h.l(p.Xs)),g.__param(1,h.l(a.fA))],m);d.oOa=m;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Cg=a;this.Ey=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(31);f=a(4);p=a(57);a=a(110);b.prototype.DK=function(a){a=this.Ey.mu(a.T6,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return c.Ssb({d:a.Oc.duration.na(f.Ba),sc:a.status,sz:a.Oc.size.na(l.Vl),via:a.tsb,cip:a.x_a,err:a.e3},a);})};})});this.Cg.Ub(a);};b.Ssb=function(a,b){c.Zo(a,"dns",b.Oc.hpa);c.Zo(a,"tcp",b.Oc.paa);c.Zo(a,"tls",b.Oc.Aaa);c.Zo(a,"ttfb",b.Oc.waa);return a;};b.Zo=function(a,b,c){c&&(a[b]=c.na(f.Ba));return a;};m=c=b;m=c=g.__decorate([h.N(),g.__param(0,h.l(p.Xs)),g.__param(1,h.l(a.fA))],m);d.pOa=m;},function(g,d,a){var c,h,l,f,p,m,q,k;function b(a,b,c,d,f,g,l){this.config=a;this.Jsa=b;this.ja=c;this.u=d;this.Xlb=f;this.B9=g;this.Ocb=0;this.ga=l.lb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f=a(30);p=a(7);m=a(320);q=a(319);a=a(164);b.prototype.start=function(){this.config.enabled&&!this.Qp&&(this.Qp=this.ja.Mf(this.config.sAa,this.ZD.bind(this)));};b.prototype.stop=function(){this.Qp&&(this.Qp.cancel(),this.Qp=void 0);};b.prototype.ZD=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Ocb++;this.O$a(b).then(function(b){return Promise.all(b.Pc.map(function(c){return a.Iab(b,c.url,c.name);})).then(function(c){0<c.length&&a.Xlb.DK({data:c,context:b.context,T6:b.T6});}).then(function(){return b;});}).then(function(b){a.Qp&&(b.Mta?a.Qp=a.ja.Mf(b.Mta,a.ZD.bind(a)):a.stop());})["catch"](function(b){return a.ga.error("FTL run failed",b);});};b.prototype.O$a=function(a){var b;b=this;return this.Jsa.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.B9.DK({url:a,status:c.status,G8:"FTL API request failed",Oc:c.Oc}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.u.parse(c.body);return d instanceof Error?(b.B9.DK({url:a,status:4,G8:"FTL Probe API JSON parsing error",Oc:c.Oc}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.B9.DK({url:a,status:0,G8:c.message}),b.ga.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Iab=function(a,b,d){var f;f=this;return new Promise(function(g,m){var x;for(var h,p,q,k=[],u={},v=0;v<a.Ckb;u={ld:u.ld},++v){u.ld=0==v?l.Rf:a.Akb;x=function(d){return function(){return new Promise(function(g,l){f.ja.Mf(d.ld,function(){c.hkb(f.Jsa,b,a.Bkb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);p=b(p,"x-ftl-probe-data",a);q=b(q,"x-ftl-error",a);g({status:a.status,Oc:a.Oc,tsb:h||"",x_a:p||"",e3:q||""});})["catch"](function(a){l(a);});});});};}(u);k.push(0<v?k[v-1].then(x):x());}Promise.all(k).then(function(a){g({url:b,name:d,data:a});})["catch"](function(a){m(a);});});};b.hkb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};k=c=b;k=c=g.__decorate([h.N(),g.__param(0,h.l(a.qda)),g.__param(1,h.l(q.Eda)),g.__param(2,h.l(f.Wf)),g.__param(3,h.l(m.pda)),g.__param(4,h.l(a.Uga)),g.__param(5,h.l(a.Tga)),g.__param(6,h.l(p.rb))],k);d.uHa=k;},function(g,d,a){var b,c,h,l,f,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(615);c=a(614);h=a(613);l=a(612);f=a(611);p=a(320);m=a(319);q=a(164);d.O7a=new g.Xb(function(a){a(q.rda).to(b.uHa).$();a(q.Uga).to(c.pOa).$();a(q.Tga).to(h.oOa).$();a(p.pda).to(l.sHa).$();a(m.Eda).to(f.OHa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.ap=a;}a.prototype.Oy=function(){var a,c,d;a=this.ap.w9a();c=this.ap.x9a();d=this.ap.y9a();if("number"===typeof a&&"number"===typeof c&&"number"===typeof d)return(d-a)/c;};return a;}();d.iLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c){this.ap=a;this.Oy=c;}a.prototype.A$=function(a){return this.ap.A$(a);};a.prototype.Sn=function(){return this.ap.Sn();};a.prototype.R9a=function(){return this.Oy.Oy();};return a;}();d.hLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.kua=a;}a.prototype.A$=function(a){try{this.kua.setItem("gtp",JSON.stringify(a));}catch(c){return!1;}return!0;};a.prototype.sra=function(){var a;try{a=this.kua.getItem("gtp");if(a)return JSON.parse(a);}catch(c){}};a.prototype.Sn=function(){var a;a=this.sra();if(a&&a.tp)return a.tp.a;};a.prototype.w9a=function(){var a;a=this.z4();if(a)return a.p25;};a.prototype.x9a=function(){var a;a=this.z4();if(a)return a.p50;};a.prototype.y9a=function(){var a;a=this.z4();if(a)return a.p75;};a.prototype.z4=function(){var a;a=this.sra();if(a&&(a=a.iqr))return a;};return a;}();d.Eba=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(619);c=a(618);h=a(617);d["default"]=function(a){var d;a=new b.Eba(a);d=new h.iLa(a);return new c.hLa(a,d);};},function(g,d,a){var c,h,l,f;function b(a,b,c){this.config=a;this.Vdb=b;this.Yi=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(460);h=a(1);l=a(159);a=a(321);b.prototype.V1=function(){if(this.config.XBa)return this.Yi(this.Vdb());};f=b;f=g.__decorate([h.N(),g.__param(0,h.l(c.ufa)),g.__param(1,h.l(l.tfa)),g.__param(2,h.l(a.vfa))],f);d.gLa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};c=b;c=g.__decorate([a.N()],c);d.IQa=c;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(622);c=a(81);h=a(322);l=a(621);f=a(186);p=a(321);m=a(620);d.xgb=new g.Xb(function(a){a(h.cia).to(b.IQa).$();a(c.Ws).Gz(function(){return A._cad_global.http;});a(f.bN).to(l.gLa).$();a(p.vfa).Gg(m["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xe={ACa:"aseexception",BCa:"asereport",lDa:"audioswitch",JDa:"bitraterestriction",KDa:"blockedautoplay",DEa:"cdnsel",FEa:"chgstrm",rGa:"dlreport",sGa:"dlreq",bHa:"endplay",VIa:"intrplay",FKa:"midplay",yga:"playbackaborted",nOa:"renderstrmswitch",qOa:"repos",uOa:"resumeplay",cPa:"securestop",hPa:"serversel",qPa:"startplay",rPa:"statechanged",yPa:"subtitleerror",APa:"subtitleqoe",RPa:"timedtextrebuffer",SPa:"timedtextswitch",ZPa:"transition"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Meb=function(a,b){var f,p;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){f=a[g];p=b(f);p>d&&(c=f,d=p);}return c;}};},function(g,d,a){var c;function b(a,b,d){a=c.JW.call(this,a,b)||this;a.nH=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(326);ia(b,c.JW);d.BEa=b;},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,w,r,y,E,P;function b(a,b,c,d,f,g,l,m,h,p,q,k,u,v){this.pqb=a;this.WP=b;this.Cg=c;this.D7=d;this.p3=f;this.Qm=g;this.Gd=l;this.KQ=m;this.Bb=h;this.config=p;this.Ma=q;this.Ua=k;this.platform=u;this.q0=v;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(224);h=a(411);l=a(57);f=a(22);p=a(404);m=a(220);q=a(107);k=a(1);x=a(327);v=a(324);n=a(81);w=a(20);r=a(37);y=a(24);E=a(66);a=a(219);b.prototype.create=function(a){return new x.yJa(a,this.pqb,this.WP,this.Cg,this.D7,this.p3,this.Qm,this.Gd,this.KQ,this.Bb,this.config,this.Ma,this.Ua,this.platform,this.q0);};P=b;P=g.__decorate([k.N(),g.__param(0,k.l(c.UY)),g.__param(1,k.l(h.lca)),g.__param(2,k.l(l.Xs)),g.__param(3,k.l(p.Zea)),g.__param(4,k.l(m.jda)),g.__param(5,k.l(q.rA)),g.__param(6,k.l(f.Je)),g.__param(7,k.l(v.Nca)),g.__param(8,k.l(n.Ws)),g.__param(9,k.l(w.me)),g.__param(10,k.l(r.wi)),g.__param(11,k.l(y.Ue)),g.__param(12,k.l(E.kn)),g.__param(13,k.l(a.Fba))],P);d.xJa=P;},function(g,d,a){var c,h,l;function b(a){this.yg=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);a=a(73);b.prototype.deb=function(){var a;a=this.yg()?this.yg().dg.length:40;return h.Z(a+33);};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.lq))],l);d.vJa=l;},function(g,d,a){var h,l,f,p,m,q,k,x;function b(a,b,c,d,f,g,l,m,h,p,q){this.platform=b;this.e2=c;this.type=d;this.severity=f;this.timestamp=g;this.data=l;this.data.clver=this.platform.version;a&&a.Pi&&(a.Pi.os&&(this.data.osplatform=a.Pi.os.name,this.data.osver=a.Pi.os.version),this.data.browsername=a.Pi.name,this.data.browserver=a.Pi.version);a.AS&&(this.data.tester=!0);a.up&&!this.data.groupname&&(this.data.groupname=a.up);a.qr&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.qr:a.qr);a.Fs&&(this.data.uigroupname=a.Fs);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=m;this.data.uniqueLogId=p.Y3();this.data.appId=h;q&&(this.data.soffms=q.by(),this.data.mid=q.R,this.data.lvpi=q.wJ,this.data.uiLabel=q.uc,this.data["startup"===d?"playbackxid":"xid"]=q.la,q.yv&&(a=q.yv,(q=q.yv.split("."))&&1<q.length&&"S"!==q[0][0]&&(a="SABTest"+q[0]+".Cell"+q[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+a:a));}function c(a,b,c,d,f,g){this.Ma=a;this.e2=b;this.config=c;this.Ua=d;this.msb=f;this.platform=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(31);l=a(1);f=a(37);p=a(428);m=a(52);q=a(24);k=a(210);a=a(66);c.prototype.mu=function(a,c,d,f){return new b(this.config,this.platform,this.e2,a,c,this.Ma.cg,d,this.Ua.yra(),this.Ua.id,this.msb,f);};x=c;x=g.__decorate([l.N(),g.__param(0,l.l(f.wi)),g.__param(1,l.l(p.xca)),g.__param(2,l.l(m.Xl)),g.__param(3,l.l(q.Ue)),g.__param(4,l.l(k.XY)),g.__param(5,l.l(a.kn))],x);d.uJa=x;na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.dna||(this.dna=h.Z(this.e2.encode(this.data).length));return this.dna;}}});},function(g,d,a){var c,h,l,f;function b(a){this.config=a;this.Seb=c.Z(5E5);this.nnb=h.S7(1);this.hza=h.Ih(5);this.Vua=c.Z(1E6);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(31);h=a(4);l=a(1);a=a(20);na.Object.defineProperties(b.prototype,{wob:{configurable:!0,enumerable:!0,get:function(){return this.config().xob;}},S6:{configurable:!0,enumerable:!0,get:function(){return this.config().S6;}},c0:{configurable:!0,enumerable:!0,get:function(){return this.config().c0;}}});f=b;f=g.__decorate([l.N(),g.__param(0,l.l(a.me))],f);d.nJa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.Cg=a;this.c0a=b();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);l=a(57);a=a(20);b.prototype.zc=function(){this.Cg.zc();};b.prototype.Ub=function(a){var b;b=a;this.c0a.YBa||(b=Object.assign({},a,{severity:a.data.sev,size:h.Z(a.F8a().length)}));this.Cg.Ub(b);};b.prototype.flush=function(a){return this.Cg.flush(a);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.Xs)),g.__param(1,c.l(a.me))],f);d.hJa=f;},function(g,d,a){var c,h,l;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(188);l=a(31);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.deb());}).reduce(function(a,b){return a.add(b);},l.Z(0));};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Gea))],a);d.wJa=a;},function(g,d,a){var h,l,f,p,m,q,k,x,v,n,w;function b(a,b,c,d,f,g,m,h){this.Ua=a;this.platform=c;this.yg=d;this.json=f;this.mc=g;this.Qm=m;this.leb=h;l.xk(this,"json");this.ga=b.lb("LogblobSender");}function c(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(39);p=a(4);m=a(22);q=a(24);k=a(66);x=a(73);v=a(7);n=a(331);a=a(107);b.prototype.send=function(a,b){var d;d=this;return new Promise(function(a,f){var g;try{g=b.reduce(function(a,b){a.entries.push(d.r2a(b));return a;},new c());a(d.S7a(g));}catch(L){d.ga.error(L.message);f(L);}}).then(function(b){return d.eE(b,a);});};b.prototype.r2a=function(a){return this.mc.Bk(this.mc.Bk({},a.data),{esn:this.yg().dg,sev:a.severity,type:a.type,lver:this.platform.sua,jssid:this.Ua.id,devmod:this.platform.E2,jsoffms:a.timestamp.Fd(this.Ua.cD).na(p.Ba),clienttime:a.timestamp.na(p.Ba),client_utc:a.timestamp.na(p.dm),uiver:this.Qm.Kz});};b.prototype.S7a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(G){for(var c={},d=0;d<a.entries.length;c={gL:c.gL,Md:c.Md},++d){c.Md=Object.assign({},a.entries[d]);try{this.json.stringify(c.Md);}catch(la){c.gL=void 0;this.mc.xu(c.Md,function(a){return function(c,d){try{b.json.stringify(d);}catch(V){a.gL=V.message;a.Md[c]=a.gL;}};}(c));c.Md.stringifyException=c.gL;c.Md.originalType=c.Md.type;c.Md.type="debug";c.Md.sev="error";}}return this.json.stringify(a);}};b.prototype.eE=function(a,b){var c;c=this;return this.leb.Ag(this.ga,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ga.error("PBO logblob failed",a);return Promise.reject(a);});};w=b;w=g.__decorate([h.N(),g.__param(0,h.l(q.Ue)),g.__param(1,h.l(v.rb)),g.__param(2,h.l(k.kn)),g.__param(3,h.l(x.lq)),g.__param(4,h.l(f.Ts)),g.__param(5,h.l(m.Je)),g.__param(6,h.l(a.rA)),g.__param(7,h.l(n.hga))],w);d.zJa=w;},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(4);l=a(31);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.xb(a.timestamp),size:l.Z(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.na(h.Ba),size:a.size.na(l.Vl)};};a=b;a=g.__decorate([c.N()],a);d.tJa=a;},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,w,r,y;function b(a,b,c,d,f,g,l,m){var p;p=this;this.ja=a;this.tf=b;this.fy=d;this.Ep=f;this.config=g;this.$e=l;this.json=m;this.j2=[];h.xk(this,"json");this.ga=this.$e.lb("MessageQueue");this.wu=new w.BKa(this.Ep);c().then(function(a){p.Vg=a;p.data=new n.CKa(p.Ep,a.profile);p.Odb(a);})["catch"](function(a){p.ga.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(51);l=a(31);f=a(117);p=a(188);m=a(30);q=a(7);k=a(65);x=a(57);v=a(53);n=a(333);w=a(333);r=a(39);y=a(2);b.prototype.dr=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.dr(c.id,this.Cra(b),"logblobs",d),this.Rpa()):this.j2.push(d);}catch(L){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ga.error("JSON.stringify error: "+L.message,b);}};b.prototype.jz=function(a){this.data.jz(a);this.Rpa();};b.prototype.m8a=function(){var a,b,c,k;a=[];if(this.data){b=this.config.Vua.to(l.Vl);for(c in this.data.Nd)for(var d=this.Iu(c),f=this.data.Nd[c],g=[],m=[],h=l.Z(0),p=0;p<f.Nd.length;p++){k=f.Nd[p];g.push(k.message);m.push(k.id);h=h.add(this.Ep.measure([k.message]));if(0<=h.nl(b)||p+1===f.Nd.length)this.ga.trace("Batch_"+a.length+": "+g.length+"/"+h,q.$v),a.push({profile:d,Nsa:m.slice(),Nd:g.slice(),size:h}),g=[],m=[],h=l.Z(0);}}return a;};b.prototype.Odb=function(a){var b;b=this;this.config.hza.wta()&&(this.kma=this.tf.create(),this.kma.then(function(a){return a.load("messages");}).then(function(a){b.Ndb(a.value);})["catch"](function(a){a.T===y.H.cm?b.ga.info("No messages to load."):b.ga.error("Failed to load messages.",a);}));this.j2.forEach(function(c){b.data.dr(a.profile.id,b.Cra(!1),"logblobs",c);});this.j2=[];};b.prototype.Ndb=function(a){var b,c,d;b=this;try{c=this.wu.decode(a);d=this.Vg.Iu(c.rP);if(d&&d.th.id===this.data.rP){this.ga.trace("Loading messageQueue.");a={};for(var f in c.Nd)a.profileId=f,c.Nd[a.profileId].Nd.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.dr(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ga.trace("AcountId does not match, ignoring persisted messages.");}catch(O){this.ga.error("Load messageQueue failed.",O);}};b.prototype.Jmb=function(){var a,b;a=this;b=this.wu.encode(this.data);this.kma.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ga.info("MessageQueue: Saved",q.$v);})["catch"](function(b){a.ga.error("Failed to save messages.",b);});};b.prototype.kpb=function(){this.BU&&(this.BU.cancel(),this.BU=void 0);};b.prototype.Rpa=function(){this.config.wob&&!this.BU&&(this.BU=this.ja.Mf(this.config.hza,this.Khb.bind(this)));};b.prototype.Khb=function(){this.kpb();this.Jmb();};b.prototype.Cra=function(a){return a?this.fy.xH():0;};b.prototype.Iu=function(a){return this.Vg.Iu(a)||this.Vg.profile;};na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=l.Z(0);if(this.data)for(var b in this.data.Nd)a=a.add(this.data.Nd[b].size);return a;}}});a=b;a=g.__decorate([c.N(),g.__param(0,c.l(m.Wf)),g.__param(1,c.l(v.Ul)),g.__param(2,c.l(k.iq)),g.__param(3,c.l(f.eA)),g.__param(4,c.l(p.Hea)),g.__param(5,c.l(x.QX)),g.__param(6,c.l(q.rb)),g.__param(7,c.l(r.Ts))],a);d.DKa=a;},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n;function b(a,b,c,d,f,g,l,m){var p;p=this;this.config=a;this.json=c;this.ja=d;this.$db=f;this.IJ=l;this.tQ=m;this.vS=this.xS=this.Lm=!1;this.listeners=[];h.xk(this,"json");this.ga=g.lb("LogBatcher");this.lp();b().then(function(a){p.Vg=a;p.Vg.xS().subscribe(function(a){return p.xS=a;});})["catch"](function(a){p.ga.error("Unable to initialize the account manager for the log batcher",a,q.$v);});}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(1);h=a(51);l=a(39);f=a(335);p=a(65);m=a(30);q=a(7);k=a(57);x=a(334);v=a(2);n=a(69);a(147);d.Xwb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.zc=function(){this.Lm=!0;};b.prototype.Ub=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.nl(this.config.Seb)?this.ga.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.Vg&&(c=this.Vg.profile),this.listeners.forEach(function(b){return b.rva(a);}),b=b||0<=this.config.S6.indexOf(a.type),this.IJ.dr(a,b,c),this.ja.nb(function(){d.n7a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.vS?(this.ga.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ga.trace("Flushing",q.$v);b.Of();b.ja.nb(function(){b.p$(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.p$=function(a){a=void 0===a?!1:a;return c.__awaiter(this,void 0,void 0,function(){var c,d,f,g,l,m,h,p,k,u,v;function b(b){for(;;)switch(c){case 0:k=u;if(u.Lm&&u.xS){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!u.vS){c=2;break;}u.ga.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:p=u.IJ.m8a();h=!1;if(!(0<p.length||a)){c=3;break;}u.Of();u.listeners.forEach(function(a){return a.Eza();});m={};l=za(p);g=l.next();case 4:if(g.done){c=6;break;}m.kr=g.value;try{return u.jz(m.kr),u.ga.trace("Sending batch: "+m.kr.size,q.$v),c=9,{value:u.$db.send(m.kr.profile,m.kr.Nd),done:!1};}catch(H){f=H;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(H){f=H;c=7;break;}case 10:try{c=8;break;}catch(H){f=H;c=7;break;}case 7:d=f;h=!0;u.ga.warn("Failed to send logblobs.",d,q.$v);u.rob(d)&&(u.ga.trace("re-adding failed batch"),m.kr.Nd.forEach(function(a){return function(b,c){k.IJ.dr(b,0!==a.kr.Nsa[c],a.kr.profile);};}(m)));if(!u.Aob(d)){c=11;break;}u.vS=!0;c=6;break;case 11:case 8:case 5:m={kr:m.kr};g=l.next();c=4;break;case 6:case 3:u.lp();if(!h){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;u=this;v={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};Za();v[Symbol.iterator]=function(){return this;};return v;});};b.prototype.rob=function(a){return a.Df===v.GX.Zfa?!1:this.config.c0;};b.prototype.Aob=function(a){return a.tc===v.H.tda||a.tc===v.H.jF||a.tc===v.H.aA?!0:!1;};b.prototype.n7a=function(){var a;a=this;0<this.IJ.size.nl(this.config.Vua)?this.p$()["catch"](function(){return a.ga.warn("failed to send log messages on size threshold");}):this.lp();};b.prototype.Of=function(){this.oy&&(this.oy.cancel(),this.oy=void 0);};b.prototype.lp=function(){this.oy||(this.oy=this.ja.Mf(this.config.nnb,this.cs.bind(this)));};b.prototype.cs=function(){var a;a=this;this.vS=!1;this.Of();this.p$()["catch"](function(){return a.ga.warn("failed to send log messages on timer");});};b.prototype.jz=function(a){this.IJ.jz(a.Nsa);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(y){}return b;};a=b;a=c.__decorate([g.N(),c.__param(0,g.l(k.QX)),c.__param(1,g.l(p.iq)),c.__param(2,g.l(l.Ts)),c.__param(3,g.l(m.Wf)),c.__param(4,g.l(f.Jea)),c.__param(5,g.l(q.rb)),c.__param(6,g.l(x.ffa)),c.__param(7,g.l(n.XE))],a);d.oJa=a;},function(g,d,a){var c,h,l,f,p,m,q;function b(a,b,d,f){var g;g=this;this.oeb=a;this.eeb=b;this.config=f;this.t9=[];this.oeb.SD(c.wCa,this.xab.bind(this));d().then(function(a){var b;b=f().zg.y7a;g.Web=b?q.Nh[b.toUpperCase()]:q.Nh.ERROR;g.Cg=a;g.qnb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(20);f=a(84);p=a(57);m=a(110);q=a(7);b.prototype.xab=function(a,b){this.Cg?this.Txa(a,b):this.t9.push([a,b]);};b.prototype.qnb=function(){var a,b;a=this;b=this.t9;this.t9=[];b.forEach(function(b){a.Txa(b[0],b[1]);});};b.prototype.Txa=function(a,b){var c;if(this.Cg&&this.tob(a)){c={debugMessage:a.message,debugCategory:a.Bm};a.Tc.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.eeb.mu("debug",q.Nh[a.level].toLowerCase(),c,b);this.Cg.Ub(a);}};b.prototype.tob=function(a){var b;b=this.Web;return void 0!==b&&a.level<=b&&!a.Tc.find(function(a){return a.eI(q.$v);});};a=c=b;a.wCa="adaptorAll";a=c=g.__decorate([h.N(),g.__param(0,h.l(f.hw)),g.__param(1,h.l(m.fA)),g.__param(2,h.l(p.Cea)),g.__param(3,h.l(l.me))],a);d.WCa=a;},function(g,d,a){var b,c,h,l,f,p,m,q,k,x,v,n,r,D,y,E,P,G,t,L,O,X,V,da;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(100);c=a(637);h=a(636);l=a(635);f=a(633);p=a(632);m=a(631);q=a(20);k=a(630);x=a(629);v=a(628);n=a(30);r=a(73);D=a(330);y=a(334);E=a(335);P=a(329);G=a(110);t=a(188);L=a(57);O=a(328);X=a(627);V=a(324);da=a(323);d.meb=new g.Xb(function(a){a(L.Xs).to(h.oJa).$();a(y.ffa).to(l.DKa).$();a(E.Jea).to(f.zJa).$();a(t.Hea).to(p.wJa).$();a(L.QX).to(k.nJa).$();a(G.fA).to(x.uJa).$();a(t.Gea).to(v.vJa).$();a(O.Iea).to(X.xJa).$();a(V.Nca).to(da.tGa).$();a(D.Dba).to(c.WCa).$();a(L.Cea).AL(function(a){return function(){return new Promise(function(c){var f,g,l,m;function d(){g()&&l()&&m.If?c(a.Zb.get(L.Xs)):f.nb(d);}f=a.Zb.get(n.Wf);g=a.Zb.get(q.me);l=a.Zb.get(r.lq);m=a.Zb.get(b.ow);f.nb(d);});};});a(P.xea).to(m.hJa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lGa=function(a,b,c,d){this.dg=a;this.Gm=b;this.rC=c;this.Qmb=d;};},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,r,D;function b(a,b,c,d,f,g,l,m,h){this.apa=a;this.tf=b;this.Oa=d;this.d2=f;this.Pd=g;this.debug=l;this.NL=m;this.c2=h;this.bF=/^(SDK-|SLW32-|SLW64-|SLMAC-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.lb("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(23);l=a(639);f=a(7);p=a(340);m=a(44);q=a(136);k=a(22);x=a(1);v=a(53);n=a(337);r=a(336);D=a(86);b.prototype.aqa=function(a){try{return a.match(this.bF)[2];}catch(E){}};b.prototype.bqa=function(a){try{return a.match(this.bF)[1];}catch(E){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(d,f){b.tf.create().then(function(g){var h,p,q,k,u,v;function m(g){b.Oa.Li(g)&&b.Oa.Li(h)?(p=new l.lGa(g,h,q,a.bpa||"cadmium"),d(p)):f({T:c.H.Bca});}h=a.Gm;if(a.X3){u=a.dg;if(b.Oa.Li(u)){v=b.bqa(u);v!=a.Gm&&b.log.error("esn prefix from ui is different",{ui:v,cad:a.Gm,ua:a.userAgent});}else a.P6&&b.log.error("esn from ui is missing");v=Promise.resolve({S:!1});a.xI&&(v=b.Ldb(g,a));v.then(function(d){d.S&&d.rC&&d.deviceId?(q=d.rC,m(h+d.deviceId)):g.load(a.EQ).then(function(a){k=a.value;b.Oa.Li(k)&&(b.Oa.Li(u)?(a=b.aqa(u),q=a===k?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):q="storage_esn_not_in_config",m(h+k));})["catch"](function(d){var p;function l(){g.save(a.EQ,p,!1).then(function(){m(h+p);})["catch"](function(a){f(a);});}d.T===c.H.cm?(b.Oa.Li(a.dg)?(p=b.aqa(a.dg),b.Oa.Li(p)?q="config_since_not_in_storage":(q="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.dg),p=b.apa.Nqa())):(q="generated_since_not_in_config_and_storage",p=b.apa.Nqa()),l()):f(d);});})["catch"](f);}else a.g4a&&b.d2&&b.d2.getKeyByName?b.d2.getKeyByName(a.uYa).then(function(a){a=a.id;if(b.Oa.rh(a))a=String.fromCharCode.apply(void 0,b.Pd.decode(a)),b.debug.assert(""!=a),h=b.bqa(a),m(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({T:c.H.xW,Ja:b.NL.$c(a)});}):a.f4a&&b.c2&&b.c2.ira?b.c2.ira().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.bF.test(a));m(c);})["catch"](function(){f({T:c.H.xW});}):m();})["catch"](function(a){f(a);});});};b.prototype.Ldb=function(a,b){var c;c=this;return new Promise(function(d,f){c.Pdb(a,b).then(function(f){b.lsa?c.xI(b.lsa).then(function(g){var l;if(c.Oa.rh(g)&&c.bF.test(b.Gm+g)){l=Promise.resolve();c.o6a(f,g)&&(l=c.Yqb(a,b));l.then(function(){a.save(b.EQ,g,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:g,exception:c.NL.$c(a)});});d({S:!0,deviceId:g,rC:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.NL.$c(a)});d({S:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:g}),d({S:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.NL.$c(a)});d({S:!1});}):(c.log.error("hardwareDeviceId not provided"),d({S:!1}));})["catch"](f);});};b.prototype.Pdb=function(a,b){var d;d=this;return new Promise(function(f){a.load(b.EQ).then(function(a){a=a.value;d.Oa.rh(a)&&d.bF.test(b.Gm+a)?f(a):(f(void 0),d.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.T!==c.H.cm&&d.log.error("Error loading ESN",a);f(void 0);});});};b.prototype.o6a=function(a,b){return a!==b;};b.prototype.Yqb=function(a,b){return a.remove(b.lgb);};b.prototype.xI=function(a){var b;b=this;return new Promise(function(c,d){try{D.sa.from(a.hardwareDeviceId).tE(1).subscribe(function(a){b.Oa.rh(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(la){d(la);}});};a=b;a=g.__decorate([x.N(),g.__param(0,x.l(p.Kca)),g.__param(1,x.l(v.Ul)),g.__param(2,x.l(f.rb)),g.__param(3,x.l(h.we)),g.__param(4,x.l(r.wca)),g.__param(5,x.l(m.kj)),g.__param(6,x.l(q.YE)),g.__param(7,x.l(k.Je)),g.__param(8,x.l(n.vca))],a);d.mGa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Ma=a;this.uK=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(37);h=a(4);l=a(116);f=a(339);p=a(51);a=a(1);b.prototype.Nqa=function(){for(var a="",b=this.Ma.cg.na(h.Ba),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.uK.j9(new f.Rga(0,31,p.$gb))];return a;};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(c.wi)),g.__param(1,a.l(l.NF))],m);d.kGa=m;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(73);c=a(340);h=a(641);l=a(338);f=a(640);d.yg=new g.Xb(function(a){a(b.lq).hh(function(){return function(){return A._cad_global.device;};});a(l.Lca).to(f.mGa).$();a(c.Kca).to(h.kGa).$();});},function(g,d,a){var c,h;function b(a){this.If=a;this.tU=0;this.Y5=!1;this.pz=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(100);b.prototype.send=function(a){var b,c,d;b=this;c=!!a.hJ&&0!==this.tU;d=this.pz.some(function(a){return!!a.pT.hJ;});return(c||this.Y5||d?new Promise(function(c,d){b.pz.push({pT:a,resolve:c,reject:d});}):this.eE(a)).then(function(a){b.Bwa();return a;})["catch"](function(a){b.Bwa();throw a;});};b.prototype.eE=function(a){this.tU++;a.hJ&&(this.Y5=!0);return this.If.send(a);};b.prototype.Aza=function(a){this.eE(a.pT).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.Bwa=function(){var a;this.tU--;this.Y5=!1;if(0===this.tU&&0<this.pz.length){a=this.pz.shift();this.Aza(a);if(!a.pT.hJ)for(;0<this.pz.length&&!this.pz[0].pT.hJ;)this.Aza(this.pz.shift());}};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.ow))],h);d.NKa=h;},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,r,D,y,E,P,G,t,L;function b(a,b,c,d,f,g,m,h,p,q,k,u,v,x){this.platform=a;this.config=b;this.wI=c;this.odb=d;this.Pd=f;this.Ua=g;this.If=m;this.tnb=h;this.sE=p;this.Sl=q;this.mc=k;this.uK=u;this.json=v;this.o0=x;this.ml=[];l.xk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(66);p=a(20);m=a(52);q=a(24);k=a(44);x=a(4);v=a(100);n=a(228);r=a(97);D=a(22);y=a(2);E=a(116);P=a(81);G=a(39);t=a(87);a=a(342);b.prototype.send=function(a,b,d,f){var k,u,v,n;function g(b){return new Promise(function(c,d){function f(a){var d,f;function c(a,c){u.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.Xr.profile?b.Xr.profile.id:void 0,nonReplayable:b.i8,retryCount:b.wv,userId:b.ML,userTokens:JSON.stringify(k.If.If.getUserIdTokenKeys())})});return{S:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=k.json.parse(a);if(2!=d.length)return u.trace("The MSL envelope did not have enough array items."),c(y.H.vF);if(!d[1].payload)return u.trace("The MSL envelope did not have a payload."),c(y.H.vF);if(!d[1].status)return u.trace("The MSL envelope did not have a status."),c(y.H.vF);a=d[1].status;f=parseInt(a,10);if(isNaN(f)&&"ok"!=a.toLowerCase()||!(200<=f&&300>f))return d=d[1].payload.data,d=k.Pd.decode(d),u.error("The MSL status indicated an error",{status:f},k.Sl.encode(d)),c(y.H.Qea,a);d=d[1].payload.data;d=k.Sl.encode(k.Pd.decode(d));if(!d)return u.trace("The MSL payload is missing."),c(y.H.Rea);try{return k.json.parse(d);}catch(sc){return u.error("EDGE response this.json parse error: ",sc,d),c(y.H.Rea);}}l(b,b.wv).then(function(g){var l,m;if(g.body)if(g=f(g.body),u.trace("Received EDGE response",{Method:a.method}),g.success){if(k.config().zg.G6a&&k.mcb(a)){l=a.RIb;m=g.profileGuid;if(l&&m!==l){g={T:y.H.VMa,Ja:JSON.stringify({serverGuid:m,clientGuid:l})};q(g,b);d(g);return;}}n.success=!0;n.profileId=b.ML;n.elapsedtime=k.Ua.Pe().na(x.Ba)-n.starttime;n.userTokens=JSON.stringify(k.If.If.getUserIdTokenKeys());c(g.result);}else{m=g.result;g.__logs&&(m.ZAb=g.__logs);try{l=k.json.stringify(m.data);}catch(Ma){}g=q(m,b);d({T:m.errorSubCode,jc:m.errorExternalCode,oC:m.errorEdgeCode,Ja:m.errorDetails?[m.errorDetails," ",g].join(""):void 0,mk:m.errorDisplayMessage,Mn:l});}else d({T:y.H.vF,Ja:q({T:y.H.vF},b)});})["catch"](function(a){var c;c=q(a,b);a.Ja&&(a.Ja=[a.Ja," ",c].join(""));d(a);});});}function l(b,d){return new Promise(function(f,g){function l(b,d,p){return k.tnb.send(b).then(function(a){f(a);})["catch"](function(f){var q,v;v=f&&f.fj&&void 0!==f.fj.maxRetries?Math.min(f.fj.maxRetries,p):p;(k.wI.Q9||m(f))&&d<=v?q=!0:(u.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:d,MaxRetries:v},c.ida(f)),q=!1);if(q)return q=f&&f.fj&&void 0!==f.fj.retryAfterSeconds?1E3*f.fj.retryAfterSeconds:k.uK.j9(1E3,1E3*Math.pow(2,Math.min(d-1,v))),u.warn("Method failed, retrying",{Method:a.method,Attempt:d,WaitTime:q,MaxRetries:v},c.ida(f)),h(q).then(function(){return l(b,d+1,v);});g(f);});}return l(b,1,d);});}function m(a){return(a=a&&a.T)&&a>=y.H.aA&&a<=y.H.$z;}function h(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function p(){var c,g;c="";d&&(c+=(0<c.length?"&":"")+"logs=true");f&&(c+=(0<c.length?"&":"")+"debug=true");a.languages=k.config().zg.bz;a.clientVersion=k.platform.version;a.uiVersion=k.config().zg.Kz;g={};k.config().Rva&&(g["X-Netflix.request.expiry.timeout"]=k.config().Rva.toString());c=[{},{headers:g,path:k.config().zg.ypa,payload:{data:k.json.stringify(a)},query:c}];k.config().zg&&(u.debug("Request payload",{Method:a.method},k.sE.oV(c)),u.debug("Request parameters",{Method:a.method},k.sE.oV(a)));return{Xr:b,method:a.method,url:""+(k.o0.endpoint+k.config().zg.Lva)+k.platform.Gm+"/cadmium/"+a.method,body:k.json.stringify(c),timeout:v.na(x.Ba),ML:b.profile?b.profile.id:void 0,Vlb:!0,i8:!1,b3:!0,wv:3,hJ:a.isExclusive};}function q(a,b){n.success=!1;n.profileId=b.ML;n.elapsedtime=k.Ua.Pe().na(x.Ba)-n.starttime;n.userTokens=JSON.stringify(k.If.If.getUserIdTokenKeys());n.subcode=a.errorSubCode||a.T;n.extcode=a.errorExternalCode||a.jc;u.error("BladeRunner command history",k.sE.oV(k.ml));return k.json.stringify(k.ml);}d=void 0===d?!1:d;f=void 0===f?!1:f;k=this;b=this.mc.Bk({Bb:this.odb},b);u=b.log;v=x.Ih(59);n={method:a.method,starttime:this.Ua.Pe().na(x.Ba)};this.ml.push(n);this.ml.length>this.config().UYa&&this.ml.shift();u.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=p();g(c).then(function(b){a(b);})["catch"](function(a){var c;c={S:!1};k.mc.Bk(c,a,{Jp:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.mcb=function(a){return 0<=["bind","ping"].indexOf(a.method)?!0:!1;};b.ida=function(a){var b,c,d;b={};c=a.errorExternalCode||a.jc;d=a.errorDetails||a.Ja;b.ErrorSubCode=a.errorSubCode||a.T||y.H.Qh;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};L=c=b;L=c=g.__decorate([h.N(),g.__param(0,h.l(f.kn)),g.__param(1,h.l(p.me)),g.__param(2,h.l(m.Xl)),g.__param(3,h.l(P.Ws)),g.__param(4,h.l(k.kj)),g.__param(5,h.l(q.Ue)),g.__param(6,h.l(v.ow)),g.__param(7,h.l(a.kfa)),g.__param(8,h.l(n.PY)),g.__param(9,h.l(r.Ew)),g.__param(10,h.l(D.Je)),g.__param(11,h.l(E.NF)),g.__param(12,h.l(G.Ts)),g.__param(13,h.l(t.Hs))],L);d.OKa=L;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(100);c=a(644);h=a(341);l=a(342);f=a(643);d.Fj=new g.Xb(function(a){a(b.ow).Gz(function(){return A._cad_global.msl;});a(h.lfa).to(c.OKa).$();a(l.kfa).to(f.NKa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.C2a=function(a,b,c){return{Nra:function(){return a.G4();},ga:b,request:c,Bg:!1};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=[b.I.jIa,b.I.Zda,b.I.Wda,b.I.Nda,b.I.Xda,b.I.Yda,b.I.Rda,b.I.cea,b.I.Sda,b.I.Pda,b.I.IX,b.I.eea,b.I.Tda,b.I.RM,b.I.Mda,b.I.Qda,b.I.Rs,b.I.Kda,b.I.dea,b.I.Oda,b.I.aea,b.I.rIa,b.I.bea,b.I.kIa,b.I.mIa,b.I.qIa,b.I.oIa,b.I.nIa,b.I.lIa,b.I.pIa,b.I.$da,b.I.Vda,b.I.Uda,b.I.Lda];(function(a){a.jLa=function(a){var f;for(var c={},d=0;d<a.length;d++){f=a[d];if(c[f.Dn])return{Dn:f.Dn,Lna:b.H.FCa};c[f.Dn]=1;}};a.kLa=function(a){var f;for(var d=0;d<a.length;d++){f=a[d];if(-1===c.indexOf(f.Dn))return{Dn:f.Dn,Lna:b.H.GCa};}};}(h||(h={})));d.bkb=function(a){return new Promise(function(b,d){var f;f=h.kLa(a);f&&d(f);(f=h.jLa(a))&&d(f);b(a.sort(function(a,b){return c.indexOf(a.Dn)-c.indexOf(b.Dn);}));});};},function(g){g.M={av:["minInitVideoBitrate",-Infinity],N7:["minHCInitVideoBitrate",-Infinity],zy:["maxInitVideoBitrate",Infinity],LJ:["minInitAudioBitrate",-Infinity],KJ:["minHCInitAudioBitrate",-Infinity],AJ:["maxInitAudioBitrate",Infinity],dT:["minAcceptableVideoBitrate",-Infinity],zva:["minAllowedVideoBitrate",-Infinity],Nua:["maxAllowedVideoBitrate",Infinity],Ava:["minAllowedVmaf",-Infinity],Oua:["maxAllowedVmaf",Infinity],nV:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],MJ:["minRequiredBuffer",2E4],iT:["minRequiredAudioBuffer",0],ii:["minPrebufSize",5800],H9:["requireDownloadDataAtBuffering",!1],I9:["requireSetupConnectionDuringBuffering",!1],r9:["rebufferingFactor",1],Ur:["maxBufferingTime",2E3],Zaa:["useMaxPrebufSize",!0],nD:["maxPrebufSize",4E4],w7:["maxRebufSize",Infinity],M6a:["fastRebufferRecoveryThreshold",Infinity],L6a:["fastRebufferRecoverBwThrehold",3E3],jS:["initialBitrateSelectionCurve",null],Zsa:["initSelectionLowerBound",-Infinity],$sa:["initSelectionUpperBound",Infinity],vV:["throughputPercentForAudio",15],K0:["bandwidthMargin",0],M0:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],JYa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ur:76376,scale:18862.4,gamma:3.0569}],L0:["bandwidthMarginContinuous",!1],KYa:["bandwidthMarginForAudio",!0],kaa:["switchConfigBasedOnInSessionTput",!0],K1:["conservBandwidthMargin",20],tH:["conservBandwidthMarginTputThreshold",6E3],L1:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],MAa:["switchAlgoBasedOnHistIQR",!1],Iv:["switchConfigBasedOnThroughputHistory","iqr"],v7:["maxPlayerStateToSwitchConfig",-1],X6:["lowEndMarkingCriteria","iqr"],JX:["IQRThreshold",.5],v5:["histIQRCalcToUse","simple"],ym:["bandwidthManifold",{curves:[{min:.05,max:.82,ur:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ur:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Vr:["maxTotalBufferLevelPerSession",0],Csa:["highWatermarkLevel",3E4],iBa:["toStableThreshold",3E4],AV:["toUnstableThreshold",0],P$:["skipBitrateInUpswitch",!1],hba:["watermarkLevelForSkipStart",8E3],o5:["highStreamRetentionWindow",9E4],Y6:["lowStreamTransitionWindow",51E4],q5:["highStreamRetentionWindowUp",5E5],a7:["lowStreamTransitionWindowUp",1E5],p5:["highStreamRetentionWindowDown",6E5],Z6:["lowStreamTransitionWindowDown",0],n5:["highStreamInfeasibleBitrateFactor",.5],wy:["lowestBufForUpswitch",9E3],NS:["lockPeriodAfterDownswitch",15E3],c7:["lowWatermarkLevel",15E3],xy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],f7:["lowestWaterMarkLevelBufferRelaxed",!1],E7:["mediaRate",1.5],y7:["maxTrailingBufferLen",15E3],D0:["audioBufferTargetAvailableSize",262144],eba:["videoBufferTargetAvailableSize",1048576],dva:["maxVideoTrailingBufferSize",8388608],Rua:["maxAudioTrailingBufferSize",393216],fR:["fastUpswitchFactor",3],t3:["fastDownswitchFactor",3],US:["maxMediaBufferAllowed",27E4],pD:["maxMediaBufferAllowedInBytes",0],N$:["simulatePartialBlocks",!0],jAa:["simulateBufferFull",!0],M1:["considerConnectTime",!0],J1:["connectTimeMultiplier",1],xua:["lowGradeModeEnterThreshold",12E4],yua:["lowGradeModeExitThreshold",9E4],Sua:["maxDomainFailureWaitDuration",3E4],Pua:["maxAttemptsOnFailure",18],Ypa:["exhaustAllLocationsForFailure",!0],Xua:["maxNetworkErrorsDuringBuffering",20],q7:["maxBufferingTimeAllowedWithNetworkError",6E4],s3:["fastDomainSelectionBwThreshold",2E3],taa:["throughputProbingEnterThreshold",4E4],YAa:["throughputProbingExitThreshold",34E3],lua:["locationProbingTimeout",1E4],hqa:["finalLocationSelectionBwThreshold",1E4],WAa:["throughputHighConfidenceLevel",.75],XAa:["throughputLowConfidenceLevel",.4],M6:["locationStatisticsUpdateInterval",6E4],Xdb:["locationSelectorPersistFailures",!0],iC:["enablePerfBasedLocationSwitch",!1],iGb:["maxRateMaxFragmentGroups",4500],H8:["pipelineScheduleTimeoutMs",2],Ay:["maxPartialBuffersAtBufferingStart",2],O7:["minPendingBufferLen",3E3],mD:["maxPendingBufferLen",6E3],esb:["usePtsUpdateAsSignal",!1],VQ:["enableRequestPacing",!1],r5a:["enableNginxRateLimit",!1],wT:["nginxSendingRate",4E4],u5a:["enableRequestPacingToken",!1],wfb:["mediaRequestPacingSpeedBeforePlayback",.5],vfb:["mediaRequestPacingSpeed",2],R5:["initialMediaRequestToken",2E4],QS:["maxActiveRequestsSABCell100",2],WS:["maxPendingBufferLenSABCell100",500],Jya:["resetActiveRequestsAtSessionInit",!0],x7:["maxStreamingSkew",2E3],Ieb:["maxBufferOccupancyForSkewCheck",Infinity],asb:["useBufferOccupancySkipBack",!0],u7:["maxPendingBufferPercentage",10],By:["maxRequestsInBuffer",120],$R:["headerRequestSize",4096],Uab:["headerCacheEstimateHeaderSize",!1],c8:["neverWipeHeaderCache",!1],aCa:["useSidxInfoFromManifestForHeaderRequestSize",!1],eR:["fastPlayHeaderRequestSize",0],oD:["maxRequestSize",0],M7:["minBufferLenForHeaderDownloading",1E4],Wfb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],uU:["reserveForSkipbackBufferMs",15E3],p8:["numExtraFragmentsAllowed",2],jo:["pipelineEnabled",!0],DJ:["maxParallelConnections",3],lAa:["socketReceiveBufferSize",0],G0:["audioSocketReceiveBufferSize",32768],fba:["videoSocketReceiveBufferSize",65536],l5:["headersSocketReceiveBufferSize",32768],Q7:["minTimeBetweenHeaderRequests",void 0],GV:["updatePtsIntervalMs",1E3],W0:["bufferTraceDenominator",0],GB:["bufferLevelNotifyIntervalMs",2E3],Epa:["enableAbortTesting",!1],Ala:["abortRequestFrequency",8],caa:["streamingStatusIntervalMs",2E3],KD:["prebufferTimeLimit",6E4],gT:["minBufferLevelForTrackSwitch",2E3],t5a:["enablePenaltyForLongConnectTime",!1],B8:["penaltyFactorForLongConnectTime",2],V6:["longConnectTimeThreshold",200],g0:["additionalBufferingLongConnectTime",2E3],h0:["additionalBufferingPerFailure",8E3],zK:["rebufferCheckDuration",6E4],Hpa:["enableLookaheadHints",!1],uua:["lookaheadFragments",2],kp:["enableOCSideChannel",!0],Z8:["probeRequestTimeoutMilliseconds",3E4],CHb:["probeRequestConnectTimeoutMilliseconds",8E3],cN:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],FBa:["updateDrmRequestOnNetworkFailure",!0],SS:["maxDiffAudioVideoEndPtsMs",1E3],Heb:["maxAudioFragmentOverlapMs",80],N3a:["deferAseHeaderCache",!1],AQ:["deferAseScheduling",!1],sqb:["timeBeforeEndOfStreamBufferMark",6E3],t7:["maxFastPlayBufferInMs",2E4],s7:["maxFastPlayBitThreshold",2E8],Jeb:["maxBufferingCompleteBufferInMs",Infinity],eT:["minAudioMediaRequestSizeBytes",0],lT:["minVideoMediaRequestSizeBytes",0],uD:["minAudioMediaRequestDuration",0],vD:["minVideoMediaRequestDuration",0],hT:["minMediaRequestDuration",0],Nfb:["minAudioMediaRequestDurationCache",0],Zfb:["minVideoMediaRequestDurationCache",0],q5a:["enableMultiFragmentRequest",!1],IE:[["useHeaderCache","usehc"],!0],JV:[["useHeaderCacheData","usehcd"],!0],wQ:["defaultHeaderCacheSize",4],u2:["defaultHeaderCacheDataCount",4],v2:["defaultHeaderCacheDataPrefetchMs",0],i5:["headerCacheMaxPendingData",6],j5:["headerCachePriorityLimit",5],Sab:["headerCacheAdoptBothAV",!1],csb:["usePipelineForBranchedAudio",!0],Thb:["onlyDriveSingleChild",!1],t_a:["childBranchBatchedAmount",1E4],mT:["minimumTimeBeforeBranchDecision",2E3],$eb:["maxRequestsToAttachOnBranchActivation",void 0],R7:["minimumJustInTimeBufferLevel",3E3],Gpa:["enableJustInTimeAppends",!1],ZH:["enableDelayedSeamless",!1],aZa:["branchEndPtsIntervalMs",250],zbb:["ignorePtsJustBeforeCurrentSegment",!1],Teb:["maxFragsForFittableOnBranching",300],Gib:["pausePlaylistAtEnd",!0],QWa:["adaptiveParallelTimeoutMs",1E3],hC:["enableAdaptiveParallelStreaming",!1],n4a:["disableBitrateSelectionOnSingleConnection",!1],PP:["bufferThresholdToSwitchToSingleConnMs",45E3],V0:["bufferThresholdToSwitchToParallelConnMs",35E3],a8:["networkFailureResetWaitMs",2E3],Z7:["networkFailureAbandonMs",6E4],YS:["maxThrottledNetworkFailures",5],uV:["throttledNetworkFailureThresholdMs",200],ar:["abortUnsentBlocks",!0],V_:["abortStreamSelectionPeriod",2E3],z7:["maxUnsentBlocks",2],b7:["lowThroughputThreshold",400],j3:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],rqb:["timeAtEachBitrateRoundRobin",1E4],ymb:["roundRobinDirection","forward"],rab:["hackForHttpsErrorCodes",!1],sbb:["httpsConnectErrorAsPerm",!1],Jva:["mp4ParsingInNative",!1],Oe:["enableManagerDebugTraces",!1],Iua:["managerDebugMessageInterval",1E3],Hua:["managerDebugMessageCount",20],gwa:["notifyManifestCacheEom",!0],bI:["enableUsingHeaderCount",!1],mAa:["sourceBufferInOrderAppend",!0],Um:["requireAudioStreamToEncompassVideo",!1],bma:["allowAudioToStreamPastVideo",!1],yB:["allowReissueMediaRequestAfterAbort",!1],doa:["countGapInBuffer",!1],k0:["allowCallToStreamSelector",!1],U0:["bufferThresholdForAbort",2E4],aaa:["ase_stream_selector","optimized"],yma:["audiostreamSelectorAlgorithm","selectaudioadaptive"],O5:["initBitrateSelectorAlgorithm","default"],Y0:["bufferingSelectorAlgorithm","default"],n2:["ase_ls_failure_simulation",""],l2:["ase_dump_fragments",!1],m2:["ase_location_history",0],o2:["ase_throughput",0],Ioa:["ase_simulate_verbose",!1],Nl:["stallAtFrameCount",void 0],m7:["marginPredictor","simple"],iAa:["simplePercentilePredictorPercentile",25],gAa:["simplePercentilePredictorCalcToUse","simple"],hAa:["simplePercentilePredictorMethod","simple"],$rb:["useBackupUnderflowTimer",!0],ZIb:["useManifestDrmHeader",!0],$Ib:["useOnlyManifestDrmHeader",!0],hea:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],b8:["networkMeasurementGranularity","video_location"],vgb:["netIntrStoreWindow",36E3],CGb:["minNetIntrDuration",8E3],cSa:["fastHistoricBandwidthExpirationTime",10368E3],CSa:["bandwidthExpirationTime",5184E3],bSa:["failureExpirationTime",86400],Dka:["historyTimeOfDayGranularity",4],$Ra:["expandDownloadTime",!0],oTa:["minimumMeasurementTime",500],nTa:["minimumMeasurementBytes",131072],MUa:["throughputMeasurementTimeout",2E3],LUa:["initThroughputMeasureDataSize",262144],USa:["historicBandwidthUpdateInterval",2E3],mTa:["minimumBufferToStopProbing",1E4],rBb:["throughputPredictor","ewma"],b$:["secondThroughputEstimator","slidingwindow"],pza:["secondThroughputMeasureWindowInMs",3E5],qBb:["throughputMeasureWindow",5E3],sBb:["throughputWarmupTime",5E3],pBb:["throughputIQRMeasureWindow",1E3],VAb:["IQRBucketizerWindow",15E3],Uua:["maxIQRSamples",100],Dva:["minIQRSamples",5],mBb:["connectTimeHalflife",10],fBb:["responseTimeHalflife",10],eBb:["historicThroughputHalflife",14400],dBb:["historicResponseTimeHalflife",100],cBb:["historicHttpResponseTimeHalflife",100],Dda:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],ika:["minReportedNetIntrDuration",4E3],oBb:["throughputBucketMs",500],$Ab:["bucketHoltWintersWindow",2E3],VRa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],JZ:["filterDefinitionOverrides",{}],JRa:["defaultFilter","throughput-ewma"],sVa:["secondaryFilter","throughput-sw"],PA:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:0},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":0},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":0},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":0},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],Tx:["enableHudsonFieldTest",!1],A5:["hudsonTitles",["81127954"]],Yeb:["maxPartialBuffersAtHudson",1],q8:["numberOfChunksPerSegment",4],PAa:["targetContentLatency",1E4],cqb:["targetLongContentLatency",3E4],egb:["minimumTimeDelay",1],aI:["enableSessionHistoryReport",!1],S2:["earlyStageEstimatePeriod",1E4],Wta:["lateStageEstimatePeriod",3E4],VS:["maxNumSessionHistoryStored",30],jT:["minSessionHistoryDuration",3E4],$H:["enableInitThroughputEstimate",!1],u0:["applyInitThroughputEstimate",!1],ata:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],vP:["addHeaderDataToNetworkMonitor",!0],V$:["startMonitorOnLoadStart",!1],C9:["reportFailedRequestsToNetworkMonitor",!1],QT:["periodicHistoryPersistMs",0],CU:["saveVideoBitrateMs",0],RJ:["needMinimumNetworkConfidence",!0],P0:["biasTowardHistoricalThroughput",!1],Exa:["preferCurrentLocationThroughput",!1],Dxa:["preferCurrentLocationThreshold",0],ceb:["logMemoryUsage",!1],zsa:["headerCacheTruncateHeaderAfterParsing",!0],nYa:["audioFragmentDurationMilliseconds",null],wsb:["videoFragmentDurationMilliseconds",null],mo:["probeServerWhenError",!0],fr:["allowSwitchback",!0],dz:["probeDetailDenominator",100],RS:["maxDelayToReportFailure",300],QG:["allowParallelStreaming",!1],sfb:["mediaPrefetchDisabled",!1],Cva:["minBufferLevelToAllowPrefetch",5E3],Fr:["editVideoFragments",!1],Em:["editAudioFragments",!0],GU:["seamlessAudio",!1],Rmb:["seamlessAudioProfiles",[]],Smb:["seamlessAudioProfilesAndTitles",{}],a$:["seamlessAudioMaximumSyncError",void 0],bJ:["insertSilentFrames",0],ita:["insertSilentFramesOnExit",void 0],hta:["insertSilentFramesOnEntry",void 0],gta:["insertSilentFramesForProfile",void 0],z7a:["forceDiscontinuityAtTransition",!0],Hv:["supportAudioResetOnDiscontinuity",void 0],Gv:["supportAudioEasingOnDiscontinuity",void 0],bp:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],f5a:["editCompleteFragments",!0],agb:["minimumAudioFramesPerFragment",1],sx:["applyProfileTimestampOffset",!1],yn:["applyProfileStreamingOffset",!0],pK:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],pva:["mediaSourceSupportsNegativePts",!1],fT:["minAudioPtsGap",void 0],TQ:["enablePsd",!1],g9:["psdCallFrequency",6E4],h9:["psdReturnToNormal",!1],rK:["psdThroughputThresh",0],OH:["discardLastNPsdBins",0],Fg:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],UQ:["enableRecordJSBridgePerf",!1],rea:["JSBridgeTDigestConfig",{maxc:25,c:.5}],oqb:["throughputThresholdSelectorParam",0],Yrb:["upswitchDuringBufferingFactor",2],BXa:["allowUpswitchDuringBuffering",!1],Wna:["contentOverrides",void 0],O1:["contentProfileOverrides",void 0],u5:["hindsightDenominator",0],t5:["hindsightDebugDenominator",0],NI:["hindsightAlgorithmsEnabled",["htwbr"]],aS:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],s0:["appendMediaRequestOnComplete",!1],TV:["waitForDrmToAppendMedia",!1],I3:["forceAppendHeadersAfterDrm",!1],yK:["reappendRequestsOnSkip",!1],p2:["declareBufferingCompleteAtSegmentEnd",!1],zJ:["maxActiveRequestsPerSession",void 0],E6:["limitAudioDiscountByMaxAudioBitrate",!1],r0:["appendFirstHeaderOnComplete",!0],fL:["strictBufferCapacityCheck",!1],BB:["aseReportDenominator",0],z0:["aseReportIntervalMs",3E5],Laa:["translateToVp9Draft",!1],pYa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],naa:["switchableAudioProfilesOverride",[]],qYa:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],cva:["maxStartingVideoVMAF",110],P7:["minStartingVideoVMAF",1],Cla:["activateSelectStartingVMAF",!1],LU:["selectStartingVMAFTDigest",-1],KU:["selectStartingVMAFMethod","fallback"],vza:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],eK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],o4a:["disablePtsStartsEvent",!0],s9:["recordFirstFragmentOnSubBranchCreate",!0],ofb:["mediaCacheConvertToBinaryData",!1],rfb:["mediaCacheSaveOneObject",!1],Mua:["markRequestActiveOnFirstByte",!1],N6a:["fastplayOverwrite",!1],QQ:["earlyAppendSingleChildBranch",!0],JE:["useNativeDataViewMethods",!1]};},function(g){g.M="4.1.18";},function(g,d,a){var c,h,l,f,p,m;function b(a){var b;b=nrdp.yg.wIb.match(/android-(\d*)/);b?23<b[1]?(a.Hv=!1,a.Gv=!1,a.bp=void 0):(b=nrdp.yg.szb.vCb.platform.pHb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Hv=!0,a.Gv=!1,a.bp=void 0):(a.Hv=!1,a.Gv=!1,a.bp=[]):(a.Hv=!1,a.Gv=!1,a.bp=[]):(a.Hv=!1,a.Gv=!1,a.bp=[]);}c=a(14);h=a(128);l=a(8);f=l.Db;p=l.MediaSource;m=l.wKa;g.M=function(a){var d,g,q,k,n,r;new l.Console("ASEJSMONKEY","media|asejs");if(!l.Db.ic){d=m.prototype.appendBuffer;if(a.s0){f.ic={XD:{qba:!0,xw:!1,sfa:!0}};Object.defineProperties(f.prototype,{$w:{get:function(){return this.LQa;},set:function(){}},Ac:{get:function(){return!this.a6;}}});g=f.prototype.Zi;f.prototype.Zi=function(a){a.response&&(this.LQa=a.response instanceof ArrayBuffer?a.response:a.response.buffer);return g.call(this,a);};f.prototype.AK=function(){this.response=void 0;};l.MediaSource.ic||(l.MediaSource.ic={});void 0===l.MediaSource.ic.YP&&(l.MediaSource.ic.YP=!0);Object.defineProperty(p.prototype,"duration",{get:function(){return this.im;},set:function(a){var b;this.im=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.im=b;});}});q=m.prototype.G$;k={Ac:!1,Ti:function(){return this.requestId;},rna:function(){this.response=void 0;},constructor:{name:"MediaRequest"},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Kl,isHeader:this.Ac,ptsStart:this.ls,ptsOffset:this.Ik,responseType:this.OO,duration:this.Er,readystate:this.We};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}};m.prototype.appendBuffer=function(a,b){var c;if(!b)return d.call(this,a);c=Object.create(k);h({P:this.P,readyState:5,requestId:b.Ti(),ls:b.U,PD:b.U+b.duration,Er:b.duration,Ik:this.Qja||0,Gn:b.Gn,Kl:b.bf.Ec.qa.id,Xa:b.Xa,ad:b.ad,location:b.location,jH:b.offset,iH:b.offset+b.Z-1,O:b.O,response:a,qsa:a&&0<a.byteLength,bf:{Ec:{qa:{ea:this.im-(this.Qja||0)||Infinity}}}},c);return this.zP(c);};m.prototype.G$=function(a,b){this.Qja=Math.floor(1E3*a/b);return q.call(this,a,b);};}else{n=function(a){this.gTa=a;};l.MediaSource.ic||(l.MediaSource.ic={});"undefined"!==typeof nrdp&&nrdp.zBb&&(b(l.MediaSource.ic),l.MediaSource.ic.YP=!1);l.Db.ic={XD:{qba:!0,xw:!0,sfa:!0}};Object.defineProperty(f.prototype,"_response",{get:function(){return this.UVa||this.IRa;},set:function(a){this.IRa=a;}});r=f.prototype.open;f.prototype.open=function(a,b,c,d,f,g,l){1===c&&(this.UVa=new n(this));return r.call(this,a,b,c,d,f,g,l);};f.prototype.AK=function(){this.$w=void 0;};m.prototype.appendBuffer=function(a){if(a instanceof ArrayBuffer)return d.call(this,a);if(a instanceof n)return this.zP(a.gTa);c(!1);};}}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.CCa=function(){return function(a,b){var c;c=this;this.vx=[];this.lD=[];this.rm=1;this.Kbb=function(){c.rm++;};this.C3a=function(){c.rm--;0>=c.rm&&c.XRa();};this.id=a.movieId;this.Fa=a;this.XRa=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(651);new(a(8)).Console("ASEVIEWABLECACHE","media|asejs");g=function(){function a(){this.nP={};}a.prototype.jab=function(a){var c,d,g;c=this;d=a&&(a.playbackContextId||a.movieId);g=this.nP[d];g?g.Kbb():a&&(g=new b.CCa(a,function(){delete c.nP[d];}),d&&(this.nP[d]=g));return g;};a.prototype.clear=function(){this.nP={};};return a;}();d.UXa=new g();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(47);b=a(652);a=function(){function a(a,c,d,g,m,q,k,x,v){void 0===c&&(c=!1);void 0===g&&(g=0);this.Nm=0;this.ib=[];this.lx=b.UXa.jab(a);this.replace=c;this.ge=d;this.U=g;this.ea=m;this.G6=q;this.ao=k;this.nC=x;this.Bs=v;}a.prototype.Jd=function(){this.lx.C3a();};return a;}();d.eKa=a;g.Zh(a.prototype,{R:g.L({get:function(){return this.lx.id;}}),Fa:g.L({get:function(){return this.lx.Fa;}}),vx:{get:function(){return this.lx.vx;},set:function(a){this.lx.vx=a;}},lD:{get:function(){return this.lx.lD;},set:function(a){this.lx.lD=a;}}});},function(g,d,a){var c,h,l;function b(a){h.call(this);this.dB=a;this.Xf=new c();this.Xf.on(this,h.cd.DF,this.BO);this.Xf.on(this,h.cd.qw,this.uG);this.W=l;this.Dja=a.groupId;}c=a(28).dF;d=a(8);h=d.Bq;l=new d.Console("ASEJS","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.constructor=b;b.prototype.open=function(a,b,c){h.prototype.open.call(this,a,b,c);};b.prototype.Jd=function(){this.Xf&&this.Xf.clear();h.prototype.Jd.call(this);};b.prototype.BO=function(a){this.dB.fkb(a.probed,a.affected);this.Jd();};b.prototype.uG=function(a){this.dB.ckb(a.probed,a.affected);this.Jd();};g.M=b;},function(g,d,a){var c,h,l;function b(a,b){this.pG=a;this.Vw=0===Math.floor(1E6*Math.random())%b.dz;this.groupId=1;this.config=b;this.Gr={};this.uv={};}c=a(11);h=a(654);l=a(8);new l.Console("ASEJS_PROBE_MANAGER","asejs");b.prototype.constructor=b;b.prototype.ekb=function(a,b){var d,f,g,h,p,k,n,r,y,E,P;d=this.pG;f=a.ad;g=d.CAa(a.url);h=d.MS(a.url);p=this.config;k=l.time.ca();r=b;y=[];E=g.Ej[0];P=!1;n=this.Gr[f];if(!n)n=this.Gr[f]={count:0,Qe:k,ns:!1,error:b,y$:[],a9:{}};else if(n.Qe>=k-p.uV)return;n.ns||(E&&h.id===E.id&&(a.isPrimary=!0),n.Qe=k,n.ns=!1,n.error=b,++n.count,g&&g.Pc&&0!==g.Pc.length&&(c.forEach(g.Pc,function(b){var c,d,g;c=b.Pb.id;d=c+"-"+f;g=this.uv[d];if(void 0===g||void 0===g.cU)g&&g.Nk&&clearTimeout(g.Nk),b=this.loa(b.url,a,c),this.uv[d]={S:!1,count:0,cU:b.Ti()},y.push(b.Ti()),P=!0;-1===n.y$.indexOf(c)&&n.y$.push(c);},this),this.Vw&&0<y.length&&(g={type:"logdata",target:"endplay",fields:{}},b=r,r={ts:l.time.ca(),es:b.$la,fc:b.nk,fn:b.cqa,nc:b.El,pb:y,gid:this.groupId},b.QI&&(r.hc=b.QI),g.fields.errpb={type:"array",value:r,adjust:["ts"]},d.Py(g)),P&&this.groupId++));};b.prototype.loa=function(a,b,c){var d,f,g,l;d=this.pG.MS(b.url);d=d&&d.Ga&&d.Ga.Wn&&d.Ga.Wn.Aa||300*Math.random(0,1);f=new h(this);g=a.split("?");l="random="+parseInt(1E7*Math.random(),10);f.open(1<g.length?a+"&"+l:a+"?"+l,b,c,d);return f;};b.prototype.fkb=function(a,b){var c,d,f,g,h,p,k,n;c=this.pG;d=this.config;f=b.ad;g=this.Gr[f];p=a.url;k=this.uv[a.ad+"-"+f];if(g&&(h=g.error,k)){k&&k.Nk&&clearTimeout(k.Nk);k.S=!0;k.count=0;k.cU=void 0;g.a9[a.ad]=!0;(k=this.Gr[a.ad])&&!0===k.ns&&d.fr&&(c.Nya(a.ad,k.error.HL[1]),this.Vw&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.errst={type:"array",value:{ts:l.time.ca(),id:a.requestId,servid:b.ad,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Py(k)),this.Gr[a.ad]=void 0);if(p!==b.url){n=this.uv[f+"-"+f];n&&n.S||(f=(f=c.MS(p))&&f.Ga&&f.Ga.Wn&&f.Ga.Wn.Aa||Math.random(0,1)*d.RS,f=Math.min(f,d.RS),setTimeout(function(){var d;if(!(!1!==g.ns||n&&n.S)&&(g.ns=!0,c.Hl(h.HL[0],h.HL[1],b.url,h),this.Vw)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:l.time.ca(),id:a.requestId,servid:b.ad,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Py(d);}}.bind(this),f));}this.Vw&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ca(),id:a.requestId,result:1,servid:a.ad,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Py(k));}};b.prototype.ckb=function(a,b){var d,f,g,h,p,k,n,r,y,E;d=this.pG;f=parseInt(b.ad,10);g=this.Gr[f];h=parseInt(a.ad,10);p=this.uv[h+"-"+f];k=0;y=this.config;if(p&&g){p.S=!1;p.cU=void 0;g.a9[h]=!1;r=g.y$;if(y.fr&&h===f&&b.isPrimary){E=d.MS(b.url);E=E&&E.Ga&&E.Ga.Wn&&E.Ga.Wn.Aa||300*Math.random(0,1);E=E*Math.pow(2,p.count);E=Math.min(E,12E4);E=E+Math.random(0,1)*(1E4>E?100:1E4);p.Nk=setTimeout(function(){var c;p.Nk=void 0;c=this.loa(a.url,b,h);p.cU=c.Ti();}.bind(this),E);}++p.count;h===f&&(k=0,r.forEach(function(a){!1===g.a9[a]&&k++;}),r.length===k&&g.count>=y.YS&&(n=g.error,g.ns=!0,c.forEach(d.CAa(b.url).Pc,function(a){var b;d.Hl(n.HL[0],n.HL[1],a.url,n);if(this.Vw){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:l.time.ca(),id:-1,servid:a.Pb.id},adjust:["ts"]};d.Py(b);}},this)));this.Vw&&(f={type:"logdata",target:"endplay",fields:{}},f.fields.pbres={type:"array",value:{ts:l.time.ca(),id:a.requestId,result:0,servid:a.ad,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.Py(f));}};b.prototype.Vaa=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.pG;b=a.Gza(b);c=this.Gr[b];d=this.uv[b+"-"+b];c&&c.ns&&this.config.fr&&(a.Nya(c.error.$la,!1),this.Vw&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:l.time.ca(),id:-1,servid:b},adjust:["ts"]},a.Py(c)),this.Gr[b]=void 0,d&&d.Nk&&clearTimeout(d.Nk));}};b.prototype.reset=function(){var a,b,c;a=this.uv;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Nk&&clearTimeout(b.Nk);this.uv={};this.Gr={};};g.M=b;},function(g,d,a){var c,h,l,f,p,m,q,k,x,v,n,r,D,y,E,P;function b(a,b,c){var d,f;this.ao=b;this.config=c;E[y.AX]=c.sbb?v:D;this.ao.on("networkFailed",this.zab.bind(this));this.aD=l.time.ca();this.oQ=0;d=this.Vaa.bind(this);f=this.shb.bind(this);a.on("underflow",this.v8.bind(this));a.on("requestProgress",d);a.on("requestComplete",d);a.on("startBuffering",f);this.saa={};this.dB=new q(b,c);this.Obb();}d=a(48);c=a(28).EventEmitter;h=a(11);l=a(8);f=new l.Console("ASEJS_ERROR_DIRECTOR","asejs");p=a(13);m=l.Db;q=a(655);a=[p.hf.sq,!1];k=[p.hf.sq,!0];x=[p.hf.ww,!1];v=[p.hf.ww,!0];n=[p.hf.URL,!0];r=[];D=[p.hf.ww,!1];y=m.Ns;E={};E[y.htb]=x;E[y.IFa]=x;E[y.Eca]=x;E[y.UFa]=x;E[y.MFa]=v;E[y.hEa]=v;E[y.dca]=D;E[y.oW]=D;E[y.iEa]=r;E[y.jEa]=D;E[y.kEa]=D;E[y.eEa]=x;E[y.gEa]=x;E[y.cca]=a;E[y.fEa]=x;E[y.dEa]=D;E[y.qub]=v;E[y.JHa]=D;E[y.Bda]=D;E[y.Ada]=D;E[y.AX]=D;E[y.yda]=D;E[y.IHa]=n;E[y.CX]=v;E[y.NM]=n;E[y.DX]=k;E[y.EX]=v;E[y.LHa]=n;E[y.OM]=D;E[y.Cda]=v;E[y.KHa]=v;E[y.PFa]=v;E[y.JFa]=x;E[y.JOa]=x;E[y.zFa]=x;E[y.AFa]=x;E[y.BFa]=x;E[y.CFa]=x;E[y.DFa]=x;E[y.EFa]=x;E[y.FFa]=x;E[y.GFa]=x;E[y.HFa]=x;E[y.KFa]=x;E[y.LFa]=x;E[y.NFa]=x;E[y.OFa]=x;E[y.QFa]=x;E[y.RFa]=x;E[y.SFa]=x;E[y.TFa]=x;E[y.VFa]=x;E[y.WFa]=x;E[y.IOa]=D;E[y.TIMEOUT]=a;P={};P[y.dca]=!0;P[y.Bda]=!0;P[y.Ada]=!0;P[y.yda]=!0;P[y.Eca]=!0;d(c,b.prototype);b.prototype.eob=function(a){this.Uo=a;};b.prototype.Hl=function(a,b,c,d){var g,l,q,k,u,v,n;g=m.Ns.name[b];l=E[b];v=this.config;n=this.ao;f.warn("Failure "+g+" on "+JSON.stringify(d)+" : critical error count = "+this.oQ);this.ES={QI:a,nk:b,cqa:g,El:c};P[b]&&++this.oQ;if(!h.isArray(l))f.error("Unmapped failure code in JSASE error director : "+b);else if(l!==r){if(d.url)u={},u[n.Gza(d.url)]=[d.url];else if(d.host)u=n.Gnb(d.host,d.port);else{f.error("Invalid affected for network failure");return;}q=l[0];k=l[1];v.mo?h.forEach(u,function(f,m){l===D||l===x?this.dB.ekb({url:d.url?d.url:f[0],ad:m},{$la:m,HL:l,QI:a,nk:b,cqa:g,El:c}):f.some(function(a){n.Hl(q,k,a);return q===p.hf.ww;});!v.kp||0!==a&&void 0!==a||(f=void 0!==d.url?d.url:f[0],this.Uo&&f&&this.Uo.o$("error",f));},this):h.forEach(u,function(b,c){if(l!==D||this.Wlb(c))b.some(function(a){n.Hl(q,k,a);return q===p.hf.ww;}),!v.kp||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.Uo&&b&&this.Uo.o$("error",b));},this);}};b.prototype.Wlb=function(a){var b,c,d;b=l.time.ca();d=this.config;if(c=this.saa[a])if(c.Qe<this.aD)c.Qe=b,c.count=1;else{if(!(c.Qe>=b-d.uV||c.ns||(c.Qe=b,++c.count,c.count<d.YS)))return c.ns=!0;}else this.saa[a]={Qe:b,count:1};};b.prototype.zab=function(a){var b,c,d,g,m,h;b=l.time.ca()-this.aD;c=a;h=this.config;f.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>h.Z7&&(c=!0);c?(this.WD&&(clearTimeout(this.WD),this.WD=void 0),this.vna(),this.dB.reset(),this.ES&&(d=this.ES.nk,g=this.ES.QI,m=this.ES.El),this.emit("streamingFailure",{vcb:a,Yhb:d,Zhb:g,$hb:m})):this.WD||(this.WD=setTimeout(function(){this.WD=void 0;this.HK();}.bind(this),h.a8));};b.prototype.HK=function(a){this.WD||(this.ao.HK(!!a),this.saa={},this.emit("networkFailureReset"));};b.prototype.Vaa=function(a){var b;b=this.config;this.aD=Math.max(a.timestamp||l.time.ca(),this.aD);this.vna();b.mo&&this.dB.Vaa(a);};b.prototype.shb=function(){this.oQ=0;};b.prototype.v8=function(a){var b,c;b=this.config;c=b.q7;this.aD=Math.max(a||l.time.ca(),this.aD);b.$rb&&!this.IL&&(f.info("Setting underflow timeout in "+c+"ms"),this.IL=setTimeout(function(){f.info("Forcing permanent network failure after "+c+"ms, since underflow with no success");this.IL=void 0;this.ao.Hl(p.hf.sq,!0);}.bind(this),c));};b.prototype.vna=function(){this.IL&&(clearTimeout(this.IL),this.IL=void 0,f.info("Cleared underflow timeout"));};b.prototype.Obb=function(){var b,c,d,g;function a(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a;}b=this.ao;c=this;d=this.config.n2;g={};switch(d){case"1":b.on("manifestAdded",function(){var d;d=[];g.n=g.n||0;b.Aqa(function(a,b,c,f){g[f.id]||(g[f.id]=!0,d.push(f.id));});a(d).forEach(function(a){setTimeout(function(){c.Hl(m.Ns.EX,{url:a});},4E3+g.n);g.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.Aqa(function(b,c,d,f){g[f.id]||(g[f.id]=!0,a.push({O:d.O,url:f.id}));});a.sort(function(a,b){return b.O-a.O;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.Vx()||c.Hl(m.Ns.NM,{url:a});},5E3*Math.random());});});break;default:return;}f.warn('Initialized network failure simulation "'+d+'"');};g.M=b;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(27);g=a(8);c=g.Db;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,d){this.aa=d;this.AWa=new b.HQa(a);this.R_=c.la;this.dRa=1E3*c.efb/c.eZa;this.QRa=c.fpa;}a.prototype.mu=function(a){var c;c={aIb:this.R_,xDb:this.QRa?1:0};a.Zd&&(c.bs=b.MB(Math.floor(a.Zd/this.dRa)+1,1,5));a.wT&&(c.limit_rate=a.wT);a.Mma&&(c.bb_reason=a.Mma);return this.kUa(c);};a.prototype.o$=function(a,b){var d,f;try{d=new c(void 0,"notification");f=this.mu({Mma:a});b&&f&&d.open(b,void 0,2,void 0,void 0,void 0,f);}catch(q){this.aa.Gp("SideChannel: Error when sending sendBlackBoxNotification. Error: "+q);}};a.prototype.kUa=function(a){var b;try{b=this.uVa(a);return this.AWa.encrypt(b);}catch(p){this.aa.Gp("SideChannel: Error when obfuscating msg. Error: "+p);}};a.prototype.uVa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.jPa=g;},function(g,d,a){var c;function b(a){this.fx=void 0;this.hTa=a;this.z_=[];this.Gb=[];}a(11);a(13);c=a(43).ny;a(27);b.prototype.reset=function(a){this.fx=void 0;this.z_=[];a&&(this.Gb=[]);};b.prototype.add=function(a,b){var d,g;d=b.filter(function(b,d){return c(b)||d===a.Ed;});g=d.map(function(a){return a.O;});b=d.indexOf(b[a.Ed]);this.fx&&(this.fx.length!==g.length||this.fx.some(function(a,b){return a!==g[b];}))&&(d=this.gra())&&(this.Gb.push(d),this.reset(!1));void 0===this.fx&&(this.fx=g);this.z_.push([b,a.tBa,a.Ra,a.kZa,a.Wma,a.Jjb,a.ghb,a.rxa,a.Yo,a.Gn,a.eqb-a.tBa]);};b.prototype.T5a=function(){for(var a=this.z_,b=[],c=[],d=0;d<a.length;d++){for(var g=a[d],q=[],k=0;k<g.length;k++)q.push(g[k]-(c[k]||0));b.push(q);c=g;}return b;};b.prototype.gra=function(){var a;a=this.T5a();if(0!==a.length)return{dltype:this.hTa,bitrates:this.fx,seltrace:a};};b.prototype.get=function(){var a,b;a=this.gra();b=this.Gb;a&&b.push(a);if(0!==b.length)return b;};g.M=b;},function(g,d,a){var c,h;function b(){this.ZO=[];this.ZO[c.G.VIDEO]=new h(c.G.VIDEO);this.ZO[c.G.AUDIO]=new h(c.G.AUDIO);}a(11);c=a(13);a(8);a(27);h=a(658);b.prototype.kXa=function(a,b,c){this.ZO[a].add(b,c);};b.prototype.I$a=function(){var a;a=[];this.ZO.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};b.prototype.V6a=function(a){var b;b=this.I$a();a.strmsel=b;return 0<b.length;};g.M=b;},function(g,d,a){var h,l,f,p,m,q;function b(a,b,d){this.$a=a;this.aa=b;this.K=d;this.nB=[];[l.G.AUDIO,l.G.VIDEO].forEach(function(a){b.WC(a)&&(this.nB[a]=new c(b,a));}.bind(this));this.qt=void 0;}function c(a,b){this.W=m(f,a.W,"["+b+"]");this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);this.st=this.W.debug.bind(this.W);this.P=b;this.ul=this.nI=this.ll=this.hH=this.vm=this.r6=this.yj=void 0;this.mK=this.lo=0;this.connected=!1;this.z6=this.ry=this.$C=this.w6=this.Su=this.$n=this.gi=void 0;this.NE=this.rpa=!1;this.Wu=this.Sma=this.Xn=void 0;}h=a(11);l=a(13);f=a(8);p=a(43).ny;m=a(27).yJ;q=a(350);Object.defineProperties(b.prototype,{ob:{get:function(){return this.nB;}}});b.prototype.kD=function(a){var b,c,d,g,m,p,q,k,u,n,r,t;b=this.K;c=this.aa;d=a.P;g=c.Cj()[d];m=a.Ec.ia;p=c.xa[m];q=this.nB[d];k=d===l.G.VIDEO?b.D0:b.eba;u=c.zb.value;n=c.It.de();b=a.Pa.Pra();g={iu:g,U:b.bc,nf:n,Ra:b.ujb||n,ol:a.Ex||n,cn:b.cn,jv:b.jv,oEb:b.Y.length,Y:[]};p={state:u,ly:c.ly()&&!c.oCa(),Ev:a.fg,buffer:g,cp:p.vx[d],K4a:k,ueb:c.XA,TDb:c.aSa,rl:c.rl,Yo:c.Yi&&c.Yi.Yo};void 0===p.Ev&&(p.Ev=c.fO(d,m,g.Ra));g.Y=b.Y;if(p.state===l.Ca.jf&&0===g.Y.length&&!h.ka(a.rE.Uw)){a.L9&&(t=f.time.ca()-a.L9.time,r=a.L9.reason);a.Rb("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",q.$n,"lastStreamSelected:",q.gi,"last pipeline.reset:",r,"delta:",t);}h.ka(g.U)?a.seeking&&g.nf!=g.U&&(g.nf=g.U):(g.U=0,g.Ra=0);c.wd.o_a(p);c.wd.gXa(p);return p;};b.prototype.n_a=function(a,b,c){var h,q;a=this.nB[a];for(var d=a.Wu,f="manifest",g=this.aa,l=0,m=b.length-1;0<=m;m--){h=b[m];q=h.O;if(p(h)){l=Math.max(l,q);break;}else!h.inRange&&h.$B&&h.$B.join?f=h.$B.join("|"):h.vl?h.Ge?h.Dh&&(f="hf"):f="av":f="bc";}if(void 0===d||l!==d){a.Wu=l;if(g.Ln)try{this.qt&&this.yab();}catch(la){g.Gp("Hindsight: Error when handling maxbitrate chagned: "+la);}g.Qgb(d,l,f,c);}};b.prototype.II=function(a){var b,c,d,f,g,m,p,q,k,u,n,r;b=this.K;c=this.aa;d=a.P;f=d==l.G.VIDEO;g=0;p=this.nB[d];if(!p.yj)return{df:void 0};q=this.kD(a);k=p.gi;u=a.Ec.ia;n=a.dc;r=k?k.index:p.nI;if(k&&(g=k.O,k.XP)){r=c.oja(n,g);m=n[r];if(k.O!==m.O||!k.XP.replace&&d===l.G.VIDEO)q.state=l.Ca.Ng;k.index=r;k.O=m.O;}m=c.qk(u);n=m.ao.HV(q,n);if(!n)return a.Rb("location selector did not find any urls"),{df:void 0};if(!f){u=b.naa;if(!(u&&u.length||a.JK)&&r&&n[r]&&k&&k.location===n[r].location)return{df:r,uH:!0};a.JK&&(q.state=l.Ca.Ng,r=void 0);}if(f&&b.hC&&b.n4a&&!p.yj.Yn()&&a.Zd>b.PP)return{df:a.Zab,uH:!0};c.wd.gna(q.Ev,n);q=a.rE.n$(q,n,r,c.wd.c$a(d),p.yj.config.bf,b.Zaa&&0===c.pka?b.nD:b.w7,m.nC);if(!q)return a.Rb("stream selector did not find a stream"),{df:void 0};c.rl&&c.Ylb.kXa(a.P,q,n);f&&this.n_a(d,n,a.Ra);c.wd.Phb(q);d=q.Ed;n=n[d].O;k=a.Zd;q.N2a&&k<b.U0&&n<g&&c.eUa(g,n);d!=r&&(f&&b.hC&&c.gia(a,n),f||c.wd.fE(n));h.ka(p.nI)||(p.nI=d);a.ep||(q.ep?(a.ep=!0,p.Sma=q.reason):(a.xJ=q.xJ,a.qz=q.qz,a.mi=q.mi));c.mt();f&&c.wVa(a,q.Mx)||(a.tu=void 0);return{df:d,uH:q.uH,Yya:q.Yya};};b.prototype.y3=function(a,b){var c,d,f,g,m;if(this.qt){c=this;d=this.qt;f=this.aa;g=f.de();m=[];b&&(g=b.ea);f.ma.Ee.forEach(function(b){var d,h;d=c.kD(b);h=b.P;d.P=h;d.headers=f.BC(h);d.nf=g;a===l.Ca.ct&&(d.gya=b.Pa.m0(g));m[h]=d;});d.iqa||d.$6a(m,a)||this.J9();return d;}};b.prototype.yab=function(){var a,b,c,d,g;a=this;b=this.qt;c=this.K;d=this.aa;g=[];b&&(this.y3(void 0),b&&!b.zB&&d.PG.iU.f3(b));d.ma.Ee.forEach(function(b){var c,d;c=a.kD(b);d=b.P;c.ll=f.time.ca();c.dc=b.dc;c.P=d;g[d]=c;});b=d.Cj();b={IWa:b[l.G.AUDIO],KE:b[l.G.VIDEO],CJ:c.By};this.qt=b=new q(g,f.time.ca(),void 0,d.X2,b,c.NI);};b.prototype.J9=function(){this.qt=void 0;};b.prototype.Jrb=function(a){var b,c,d,g,m,h;b=this;c=a.oldValue;d=a.newValue;g=this.qt;a=this.K;m=this.aa;d===l.Ca.jf&&c!==l.Ca.jf?(g&&m.W.warn("override an existing play segment!"),h=[],m.ma.Ee.forEach(function(a){var c,d,f;c=b.kD(a);d=a.P;f=b.ob[d];f.Q$?(c.ll=f.Q$,f.Q$=void 0):c.ll=f.ll;c.dc=a.dc;c.P=d;h[d]=c;}),d=m.Cj(),d={IWa:d[l.G.AUDIO],KE:d[l.G.VIDEO],CJ:a.By},this.qt=g=new q(h,f.time.ca(),c,m.X2,d,a.NI)):d!==l.Ca.jf&&c===l.Ca.jf&&g&&(this.y3(d),g&&!g.zB&&m.PG.iU.f3(g),this.J9());};b.prototype.Aab=function(a){this.nB.forEach(function(b){b.gi||(b.gi={});b.gi.XP={replace:a};b.gi.location=void 0;}.bind(this));};g.M=b;},function(g,d,a){var h,l,f,p,m,q;function b(a,b,c,d,f,g,l){this.mm=c;this.Zj=b;this.Ae=d;this.Xc=f;this.Ve=g;this.K=l;this.W=a;this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.on=this.addEventListener=m.addEventListener;this.removeEventListener=m.removeEventListener;this.emit=this.Ia=m.Ia;this.reset();}function c(a){return a.Fd(h.ec.K7a(Math.floor(a.af)));}h=a(74);l=a(11);f=a(8);p=a(13);m=a(28).EventEmitter;q=a(347);b.prototype.constructor=b;Object.defineProperties(b.prototype,{OP:{get:function(){return this.Xc?this.Xc.OP:-1;}},Isb:{get:function(){return this.Xh.length;}},Zcb:{get:function(){return this.At;}}});b.prototype.reset=function(a){this.Qq=!1;a||(this.Xh=[]);this.tO=this.At=this.MZ=this.SZ=void 0;this.eB=h.ec.Rf;this.yO=this.hB=this.Bt=void 0;this.Jw=h.ec.Rf;this.aP=0;this.b_=this.YZ=h.ec.Rf;this.DZ=!1;this.SO(h.ec.Rf);};b.prototype.mSa=function(a,b){void 0===this.yO&&("object"===typeof this.K.a$&&this.K.a$[a]?(a=new h.ec(this.K.a$[a],1E3).wo(b.ha).add(new h.ec(1,b.ha)),this.yO=h.ec.min(b,a)):this.yO=b);return this.yO;};b.prototype.SO=function(a){this.bWa=a;this.Xc.G$(a.sd,a.ha);};b.prototype.x7a=function(){this.MZ=!0;};b.prototype.pause=function(){this.Qq=!0;};b.prototype.resume=function(){this.Qq=!1;this.Iw();};b.prototype.B9a=function(){return this.At&&this.At.Kd;};b.prototype.C9a=function(){return this.At&&this.At.Bd;};b.prototype.VZa=function(a,b){var d;for(var c=0;c<this.Xh.length;c++){d=this.Xh[c];d.bf.Ec.qa.id===a&&d.Kc>=b&&(d.abort(),this.Xh.splice(c,1),c--);}};b.prototype.kYa=function(a){var b;if(this.K.ZH){b=a.bf.Ec;if(a.Kc>=b.ea)return;a.Ik!=b.Jc&&a.Xza(new h.ec(b.Jc,1E3));}this.Xh.push(a);this.Iw();};b.prototype.Ao=function(){this.Iw();};b.prototype.FK=function(a){a=this.Xh.indexOf(a);-1!==a&&this.Xh.splice(a,1);};b.prototype.Lgb=function(){this.Iw();};b.prototype.UJ=function(){this.DZ||(this.DZ=!0,this.Iw(),this.Xc.endOfStream());};b.prototype.Iw=function(){var a,b,c,d,g,m;b=this.K;c=Object.getOwnPropertyNames(this.Ve);b.r0&&l.V(this.SZ)&&1===c.length&&(a=this.Ve[c[0]],a.complete&&!l.V(a.Xa)&&this.mia(a));if(this.Xh.length)if(this.Xc)if(c=this.Xh[0],this.Qq)this.gB("@"+f.time.ca()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.kta())this.fa("aborted MediaRequest should not appear in the toAppend list"),this.gB("@"+f.time.ca()+", append: removing aborted request from toAppend: "+c.toString()),this.Xh.shift();else{d=c.Xa;if((a=this.Ve[d])&&a.data)if(this.MZ||d!=this.SZ)this.MZ=!1,this.mia(a);else if(!b.TV||c.ue.MI()){a=c.bf;g=c.bc-a.aa.de();if(!(this.Zj===p.G.AUDIO&&c.zp&&c.Zc&&!b.Um&&!this.DZ&&1===this.Xh.length&&g>b.R7)){if(b.ZH||b.Gpa){d=a.Ec.xg;m=c.Kd>=a.Ec.zm;g=g>b.R7;if(a.Ec.zm<a.Ec.ea&&m&&g&&!d)return;}b.Gib&&(b=c.ue.qk(a.ia))&&!b.rx?this.pause():(this.Xh.shift(),this.RQa(c));}}}else this.gB("@"+f.time.ca()+", append: not appending, sourceBuffer not ready");};b.prototype.NQa=function(a){this.K.sx&&this.K.Em&&a.stream.Gk&&(this.eB=a.stream.Gk);};b.prototype.mia=function(a){if(this.Xc.appendBuffer(a.data))this.gB("@"+f.time.ca()+", header appended, streamId: "+a.Xa),this.SZ=a.Xa,this.cVa(a.ia||0,a.Xa),this.NQa(a),this.Iw();else throw this.fa("appendHeader error: "+this.Xc.error),this.gB("@"+f.time.ca()+", appendHeader error: "+this.Xc.error),Error("appendHeaderError");};b.prototype.rVa=function(a){void 0===this.hB&&(this.hB=q.GU(this.K,a));return this.hB;};b.prototype.RQa=function(a){var b,c,d,g,l,m,q,k,u;b=a.Ik;c=!1;d=this.Zj===p.G.AUDIO&&a.Zc&&this.rVa(a.stream);g=h.ec.Rf;l=a.bf.Ec.qa;l.ea&&Infinity!=l.ea&&(l=(l.ea+b)/1E3,Infinity==this.Ae.duration||this.Ae.duration<l)&&(this.Ae.duration=l);if(b!=this.tO){m=this.eB.add(this.Jw).add(new h.ec(b,1E3));this.SO(m);this.tO=b;}l=a.bf;if(d){q=a.stream.Ka;m=this.mSa(a.profile,q);b=a.Jv+a.Ik;if(a.zp)c=new h.ec(a.ea-b,1E3),c=this.Jw.add(c).RR(m);else if(void 0!==this.Bt){k=this.Bt;u=a.XT;new h.ec(b-a.U,1E3);b=this.Jw.add(k.Fd(u));if(u.add(q).pdb(k)||b.RR(m))c=!0,u.add(q),b=b.Fd(q);b.xT(this.Jw)&&(b.RR(h.ec.ZJ.X7(-8))?(m=this.eB.add(b).add(new h.ec(this.tO,1E3)),this.K.Um||(g=this.mRa(a,m),g=this.OSa.Fd(g),g.RR(h.ec.ZJ.X7(2))?(m=m.Fd(h.ec.ZJ),++this.aP):this.aP&&g.lessThan(h.ec.ZJ)&&(m=m.add(h.ec.ZJ),--this.aP)),this.SO(m),this.YZ=h.ec.max(this.YZ,b),this.b_=h.ec.min(this.b_,b),this.eVa(this.YZ,this.b_),g=b.Fd(this.Jw),this.Jw=b):(c=d=!1,this.aP=0,this.Jw=h.ec.Rf,m=this.eB.add(new h.ec(this.tO,1E3)),this.SO(m),l.Rb("Unexpected seamless audio sync "+b.toString()+" at content pts "+a.Kc+" in stream "+a.stream.Xa+" following "+this.At.Kd)));}}if(a.AB(this.Xc,this.At,this.Xh[0],d,c))void 0===this.Bt||this.Zj!==p.G.AUDIO||a.XT.equal(this.Bt.add(g))||(this.YUa(a,this.Bt.add(g)),this.Bt=void 0),this.gB("@"+f.time.ca()+", request appended, type: "+a.P+", streamId: "+a.Xa+", pts: "+a.bc+"-"+a.Bd),this.At=a,a.zp?(this.Bt=a.pxa,this.OSa=this.lRa(a,this.bWa)):this.Bt=void 0,this.dVa(a),this.Iw();else{if(void 0!==this.Xc.error){if("done"==this.Xc.error)return;this.Rb("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Xc.error);throw this.Xc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Xc.error);this.Rb(a.message);throw a;}};b.prototype.mRa=function(a,b){var d;d=a.Yna;this.K.yn&&a.stream.Gk&&(d=d.Fd(a.stream.Gk));return c(d).add(c(b));};b.prototype.lRa=function(a,b){var d,f;d=a.stream.Ka;f=a.Una;this.K.yn&&a.stream.Gk&&(f=f.Fd(a.stream.Gk));return c(f.Fd(d)).add(c(d)).add(c(b));};b.prototype.cVa=function(a,b){a={type:"headerAppended",mediaType:this.Zj,manifestIndex:a,streamId:b};this.Ia(a.type,a);};b.prototype.dVa=function(a){a={type:"requestAppended",mediaType:this.Zj,request:a};this.Ia(a.type,a);};b.prototype.gB=function(a){a={type:"managerdebugevent",message:a};this.Ia(a.type,a);};b.prototype.YUa=function(a,b){var c;c=a.Kc;a=a.XT.Fd(b).af;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.Ia(c.type,c);};b.prototype.eVa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.af,minavsyncerror:b.af}};this.Ia(a.type,a);};g.M=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c,d,g,f,p,m,q,k){this.id=a;this.ia=c;this.U=d;this.HH=f;this.xj=p;this.uE=m;this.zm=q;this.Xqb=k;this.ea=g||Infinity;this.zm="number"===typeof q?q:this.ea;}a.prototype.toString=function(){return"segmentId: "+this.id+" manifestIndex: "+this.ia+" pts: "+this.U+"-"+this.ea+" defaultKey: "+this.HH+" dests: "+JSON.stringify(this.xj)+" terminal: "+!!this.uE;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.ia,"startPts:":this.U,endPts:this.ea,defaultKey:this.HH,"dests:":this.xj,terminal:!!this.uE,beginJITPts:this.zm};};return a;}();d.dPa=g;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);g=a(47);h=a(59);l=a(363);a=a(152);f=function(){function a(b,c){this.ta=[];this.fm=void 0;this.Lb=0;this.W=b;c&&c.length&&(Array.isArray(c)?(this.ta=c.slice(),this.XF(0,this.ta.length)):c instanceof a&&(this.ta=c.ta.slice(),this.XF(0,this.ta.length)));}a.prototype.get=function(a){0>a&&(a+=this.ta.length);return this.ta[a];};a.prototype.push=function(a){this.ta.push(a);this.XF(this.ta.length-1);return this.length;};a.prototype.unshift=function(a){this.ta.unshift(a);this.XF(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.ta.length)return this.t_(this.ta.length-1),this.ta.pop();};a.prototype.shift=function(){if(0!==this.ta.length)return this.t_(0),this.ta.shift();};a.prototype.splice=function(a,b){for(var c,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];0>a&&(a+=this.ta.length);0>a&&(a=0);a>this.ta.length&&(a=this.ta.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.ta.length-a);0<b&&this.t_(a,a+b);f=(c=this.ta).splice.apply(c,[a,b].concat(d));0<d.length&&this.XF(a,a+arguments.length-2);return f;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.ta.length);0>b&&(b+=this.ta.length);if(b>=this.ta.length)return new a(this.W);c>this.ta.length&&(c=this.ta.length);0>c&&(c+=this.ta.length);return new a(this.W,this.ta.slice(b,c));};a.prototype.Al=function(a){if(0===this.ta.length||a.Ib>=this.Nb)this.push(a);else if(a.Nb<=this.Ib)this.unshift(a);else{for(var b=0,d=this.ta.length-1,f;b<d-1;)f=Math.floor((d+b)/2),c(f!==d&&f!==b),a.Ib>=this.ta[f].Nb?b=f:d=f;c(b!==d);c(this.ta[b].Nb<=a.Ib&&this.ta[d].Ib>=a.Nb);this.splice(d,0,a);}};a.prototype.remove=function(a){a=this.ta.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.ta;});return new a(this.W,Array.prototype.concat.apply(this.ta,b));};a.prototype.forEach=function(a){var b;b=this;this.ta.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.ta.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.ta.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.ta.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.ta.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.ta.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.ta.some(function(d,f){c=f;return a(d,f,b);})?this.ta[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.ta.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.W,this.ta.filter(function(a,d){return b(a,d,c);}));};a.prototype.oR=function(a){for(var b=this.ta.length-1;0<=b;--b)a(this.ta[b],b,this);};a.prototype.S$=function(a){for(var b=this.ta.length-1;0<=b;--b)if(a(this.ta[b],b,this))return!0;return!1;};a.prototype.hR=function(a){if(this.empty||a<this.Kc||a>=this.Kd)return-1;for(var b=0,c=this.ta.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.ta[d].Kc&&a<this.ta[d].Kd){c=d;break;}a<this.ta[d].Kd?c=d-1:b=d+1;}return c;};a.prototype.uC=function(a){if(this.empty||a<this.bc||a>=this.Bd)return-1;for(var b=0,c=this.ta.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.ta[d].bc&&a<this.ta[d].Bd){c=d;break;}a<this.ta[d].Bd?c=d-1:b=d+1;}return c;};a.prototype.nqa=function(a){a=this.hR(a);return 0<=a?this.ta[a]:void 0;};a.prototype.oqa=function(a){a=this.uC(a);return 0<=a?this.ta[a]:void 0;};a.prototype.kP=function(a){var b;b=this.ta[a].Nb;for(a+=1;a<this.ta.length&&b===this.ta[a].Ib;++a)b=this.ta[a].Nb;a<this.ta.length?void 0===this.fm?this.fm=new l.bM(this,{Nb:b}):this.fm.Oza(b):void 0===this.fm?this.fm=new l.bM(this,{}):this.fm.sna();};a.prototype.DA=function(a,b){for(var c=a;c<b;++c)this.Lb+=this.ta[c].Z;void 0===this.fm||0===a?this.kP(0):this.fm.Nb===this.Nb?this.kP(a-1):this.ta[a].Ib===this.fm.Nb&&this.kP(a);};a.prototype.Tq=function(a,b){var c;if(0===a)this.fm=void 0,b<this.length&&this.kP(b);else{c=this.fm;c.Nb>this.ta[a-1].Nb&&(b<this.length?c.Oza(this.ta[a-1].Nb):c.sna());}for(;a<b;++a)this.Lb-=this.ta[a].Z;};a.prototype.XF=function(a,b){void 0===b&&(b=a+1);this.DA(a,b);};a.prototype.t_=function(a,b){void 0===b&&(b=a+1);this.Tq(a,b);};return a;}();d.bW=f;(function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);return c;}(f));g.Zh(f.prototype,g.yXa({length:{get:function(){return this.ta.length;}},first:{get:function(){return this.ta[0];}},Qe:{get:function(){return this.ta[this.ta.length-1];}},empty:{get:function(){return 0===this.ta.length;}},Ib:{get:function(){return this.first&&this.first.Ib;}},Nb:{get:function(){return this.Qe&&this.Qe.Nb;}},ku:{get:function(){return this.fm;}},Z:{get:function(){return this.Lb;}},ha:{get:function(){return this.first&&this.first.ha;}},qo:{get:function(){return this.first&&this.first.qo;}},Y:{get:function(){return this.ta;}},ECb:{get:function(){return this.ku&&this.ku.Nb;}},GCb:{get:function(){return this.ku&&this.ku.HD;}},DCb:{get:function(){return this.ku&&this.ku.Kd;}},FCb:{get:function(){return this.ku&&this.ku.Bd;}}}));h.Pk(a.cM,f);},function(g,d,a){var c;function b(){c(!1);}Object.defineProperty(d,"__esModule",{value:!0});c=a(14);g=a(47);a=function(){function a(a,b){this.Hc=a;this.KA=b;this.Nq();}a.prototype.N7a=function(){return this.RA&&this.RA.get(0);};a.prototype.GYa=function(){return this.EA&&this.EA.get(this.EA.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Hc.length;++b)if(this.Yf[b+1]>a)return this.Hc[b].get(a-this.Yf[b]);};a.prototype.push=function(a){this.Hc[this.KA(a)].push(a);this.Nq();return this.Ct;};a.prototype.shift=function(){var a;if(this.RA){a=this.RA.shift();this.Nq();return a;}};a.prototype.pop=function(){var a;if(this.EA){a=this.EA.pop();this.Nq();return a;}};a.prototype.unshift=function(a){this.Hc[this.KA(a)].unshift(a);this.Nq();return this.Ct;};a.prototype.Al=function(a){var b;b=this.KA(a);this.Hc[b].Al(a);this.Nq();};a.prototype.remove=function(a){var b;b=this.Hc.some(function(b){return b.remove(a);});b&&this.Nq();return b;};a.prototype.splice=function(a,b){var k,n,r,y;for(var c,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];for(var f=[],g,l=a+Math.max(0,b),h=0;h<this.Hc.length;++h){k=this.Hc[h];n=this.Yf[h];r=this.Yf[h+1];if(a<r){y=a-n;n=Math.min(l-n,k.length);void 0===g&&0<y&&n<k.length?Array.prototype.push.apply(f,k.splice.apply(k,[y,n-y].concat(d))):(Array.prototype.push.apply(f,k.splice(y,n-y)),void 0===g&&(g=0<h&&0===y?h-1:h));a=r;if(a>=l)break;}}if(d.length&&void 0!==g){for(l=this.KA(d[0]);0<g&&l<g&&this.Hc[g].empty;)--g;for(;d.length&&l===g;){this.Hc[g].push(d.shift());if(!d.length)break;l=this.KA(d[0]);}for(;d.length&&++g<this.Hc.length&&this.Hc[g].empty;)for(;d.length&&l===g;){this.Hc[g].push(d.shift());if(!d.length)break;l=this.KA(d[0]);}d.length&&(c=this.Hc[g]).splice.apply(c,[0,0].concat(d));}this.Nq();return f;};a.prototype.find=function(a){var b,c;b=this;return this.Hc.some(function(d,f){c=d.find(b.Rt(a,f));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Hc.length;++b){c=this.Hc[b].findIndex(this.Rt(a,b));if(-1!==c)return c+this.Yf[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Hc.length;++b){c=this.Hc[b].indexOf(a);if(-1!==c)return c+this.Yf[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Hc.map(function(c,d){return c.map(b.Rt(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Hc.reduce(function(b,d,f){return d.reduce(c.yWa(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Hc.forEach(function(c,d){c.forEach(b.Rt(a,d));});};a.prototype.oR=function(a){for(var b=this.Hc.length-1;0<=b;--b)this.Hc[b].oR(this.Rt(a,b));};a.prototype.some=function(a){var b;b=this;return this.Hc.some(function(c,d){return c.some(b.Rt(a,d));});};a.prototype.S$=function(a){for(var b=this.Hc.length-1;0<=b;--b)if(this.Hc[b].S$(this.Rt(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.Hc.every(function(c,d){return c.every(b.Rt(a,d));});};a.prototype.move=function(a){return this.remove(a)?(this.Al(a),!0):!1;};a.prototype.qob=function(){var a;if(this.Hc[1].length){a=this.Hc[1].shift();this.Hc[0].push(a);this.Nq();}};a.prototype.pqa=function(a){for(var b=-1,c=0;c<this.Hc.length;++c)if(b=a(this.Hc[c]),-1!==b){b+=this.Yf[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Nq=function(){var b;this.Ct=0;this.Yf=[0];this.EA=this.RA=void 0;for(var a=0;a<this.Hc.length;++a){b=this.Hc[a];this.Ct+=b.length;this.Yf.push(this.Yf[this.Yf.length-1]+b.length);!this.RA&&b.length&&(this.RA=b);b.length&&(this.EA=b);}};a.prototype.Rt=function(a,b){var c,d;c=this;d=this.Yf[b];return function(b,f){return a(b,d+f,c);};};a.prototype.yWa=function(a,b){var c,d;c=this;d=this.Yf[b];return function(b,f,g){return a(b,f,d+g,c);};};return a;}();d.OEa=a;g.Zh(a.prototype,{length:{get:function(){return this.Ct;},set:b},empty:{get:function(){return 0===this.Ct;},set:b}});},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(664);g=a(47);h=a(663);l=a(152);f=a(94);a=a(59);c=function(a){function c(b,c){var d,g;d=this;g=[new h.bW(b),new h.bW(b),new h.bW(b)];d=a.call(this,g,function(a){return a.complete?d.empty||a.Ib<=d.G1?0:1:a.active?1:2;})||this;d.ub=g[0];d.Cc=g[1];d.wn=g[2];d.cl=0;d.BN=0;d.W=b;f.call(d,c);return d;}b.__extends(c,a);c.prototype.DA=function(a){a.gl?++this.BN:this.cl+=a.Be;a.cob(this);};c.prototype.Tq=function(a){a.gl?--this.BN:this.cl-=a.Be;a.una();};c.prototype.push=function(b){this.DA(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Tq(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Tq(b);return b;};c.prototype.unshift=function(b){this.DA(b);return a.prototype.unshift.call(this,b);};c.prototype.Al=function(b){this.DA(b);a.prototype.Al.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Tq(b);return!0;};c.prototype.splice=function(b,c){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];f=a.prototype.splice.apply(this,[b,c].concat(d));d.forEach(this.DA.bind(this));f.forEach(this.Tq.bind(this));return f;};c.prototype.tkb=function(a){var b;b=this;this.reduce(function(c,d,f){d.gl&&(a&&a(d,f,b),0===c.length||c[0].end!==f?c.unshift({start:f,end:f+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.hR=function(a){return this.pqa(function(b){return b.hR(a);});};c.prototype.uC=function(a){return this.pqa(function(b){return b.uC(a);});};c.prototype.nqa=function(a){a=this.hR(a);return-1!==a?this.get(a):void 0;};c.prototype.oqa=function(a){a=this.uC(a);return-1!==a?this.get(a):void 0;};c.prototype.Ty=function(a){this.move(a);this.Yx(a);};c.prototype.$J=function(a){this.cl+=a.Be-a.li;this.wC(a);};c.prototype.ji=function(a){for(this.cl+=a.Be-a.li;this.Cc.first&&this.Cc.first.complete&&(this.ub.empty?this.Cc.first===this.c5a:this.Cc.first.Ib===this.ub.Nb);)this.qob();this.Bu(a);};c.prototype.ET=function(a,b){this.cl-=a.Be;++this.BN;this.sR(a,b);};return c;}(c.OEa);d.gDa=c;a.Pk(f,c,!1);a.Pk(l.cM,c);g.Zh(c.prototype,{Z:g.L({get:function(){return this.ub.Z+this.Cc.Z+this.wn.Z;}}),CBa:g.L({get:function(){return this.wn;}}),active:g.L({get:function(){return this.Cc;}}),complete:g.L({get:function(){return this.ub;}}),Xkb:g.L({get:function(){return this.cl;}}),Jna:g.L({get:function(){return this.ub.Z;}}),jv:g.L({get:function(){return this.ub.Z+this.Cc.Z-this.cl;}}),VIb:g.L({get:function(){return this.wn.Z;}}),RHb:g.L({get:function(){return this.Z-this.cl;}}),first:g.L({get:function(){return this.N7a();}}),Qe:g.L({get:function(){return this.GYa();}}),c5a:g.L({get:function(){return!this.ub.empty||this.wn.empty||this.Cc.empty?this.first:this.Cc.Ib<this.wn.Ib?this.Cc.first:this.wn.first;}}),VFb:g.L({get:function(){return this.wn.empty||this.Cc.empty?this.Qe:this.Cc.Nb<this.wn.Nb?this.wn.Qe:this.Cc.Qe;}}),vqa:g.L({get:function(){return this.wn.first;}}),Ib:g.L({get:function(){return this.first&&this.first.Ib;}}),Nb:g.L({get:function(){return this.Qe&&this.Qe.Nb;}}),ha:g.L({get:function(){return this.first&&this.first.ha;}}),qo:g.L({get:function(){return this.first&&this.first.qo;}}),rCb:g.L({get:function(){return this.ub.zh;}}),fHb:g.L({get:function(){return this.Fib-this.G1||0;}}),pFb:g.L({get:function(){return this.Nb-this.G1||0;}}),T_a:g.L({get:function(){return this.ub.duration;}}),Eib:g.L({get:function(){return this.Cc.duration;}}),Jbb:g.L({get:function(){return this.Kd-this.S_a||0;}}),tCb:g.L({get:function(){return this.ub.Qe;}}),G1:g.L({get:function(){return this.ub.empty?this.Ib:this.ub.Nb;}}),S_a:g.L({get:function(){return this.ub.empty?this.Kc:this.ub.Kd;}}),Hna:g.L({get:function(){return this.ub.empty?this.bc:this.ub.Bd;}}),U_a:g.L({get:function(){return this.ub.Z;}}),hHb:g.L({get:function(){return this.Cc.Qe||this.ub.Qe;}}),Fib:g.L({get:function(){return this.Cc.Nb||this.ub.Nb;}}),eHb:g.L({get:function(){return this.Cc.Kd||this.ub.Kd;}}),Wwa:g.L({get:function(){return this.Cc.Bd||this.ub.Bd;}}),zo:g.L({get:function(){return this.wn.length;}}),Yo:g.L({get:function(){return this.Cc.length;}}),uCb:g.L({get:function(){return this.ub.length;}}),uBb:g.L({get:function(){return this.BN;}}),NU:g.L({get:function(){return this.ub.concat(this.Cc);}})});},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);a(8);h=a(58);l=a(27);f=a(200);p=a(82);m=a(203);g=function(a){function d(b,c,f,g,l,h){c=a.call(this,b,g,l,h)||this;c.aO=f;c.Xj=void 0;c.IZ=d.Zz.INIT;c.kBb=g.offset;c.mG=p.Rk.prototype.toString.call(c)+" multiple";c.kB(b.url,g.offset,8,0);return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{data:{get:function(){return this.Xj;},enumerable:!0,configurable:!0}});d.prototype.ji=function(a){var b,g;this.Xj=this.Xj?l.wr(this.Xj,a.response):a.response;a.AK();switch(this.IZ){case d.Zz.INIT:b=new DataView(this.Xj);g=b.getUint32(0);b=b.getUint32(4);h.SN(b);this.kB(a.url,a.offset+a.Z,g,0);f.Qz.prototype.ji.call(this,a);this.IZ=d.Zz.Mea;break;case d.Zz.Mea:b=new DataView(this.Xj);g=b.getUint32(this.tia-8);b=b.getUint32(this.tia-4);h.SN(b);this.kB(a.url,a.offset+a.Z,g-8,0);this.IZ=d.Zz.Kea;f.Qz.prototype.ji.call(this,a);break;case d.Zz.Kea:f.Qz.prototype.ji.call(this,a);break;default:c(!1);}};d.prototype.kB=function(a,b,c,d){a=new m.aM(this.stream,this.aO,this.mG+" ("+this.oa.length+")",{R:this.R,P:this.P,Xa:this.Xa,O:this.O,offset:b,Z:c,url:a,location:this.location,ad:this.ad,responseType:d},this,this.W);this.push(a);this.tia=this.oa.reduce(function(a,b){return a+b.Z;},0);};d.Zz={INIT:0,Mea:1,Kea:2,name:["INIT","MOOF","MDAT"]};return d;}(f.Qz);d.kDa=g;},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);g=a(59);c=a(8);h=a(82);l=a(202);f=a(127);p=c.Db;a=function(a){function d(b,c,d,f,g,l,m){c=this;c=["cache","edit"].filter(function(a,b){return[l,f.Zc][b];});c=c.length?"("+c.join(",")+")":"";void 0===f.responseType&&(f.responseType=p.ic&&!p.ic.XD.xw?0:1);c=a.call(this,b,d,c,f,g,m)||this;h.Rk.call(c,b,f);c.PSa=f.kdb;c.Xf.on(c,p.cd.oyb,c.mUa);c.Xf.on(c,p.cd.nyb,c.lUa);return c;}b.__extends(d,a);d.prototype.zc=function(a,b){f.Sv.prototype.zc.call(this,a,b);this.Va||!a.K.vP&&this.Ac||(this.Va=a.$a.Va);};d.prototype.gv=function(){var a,b;a=[];b={start:this.offset,end:this.offset+this.Z-1};void 0!==this.Kc&&0<=this.Kc&&void 0!==this.Kd&&(b=this.pRa(this.Kc,this.Kd-1,this.PSa,this.ue.K.egb),a.push("ptsRange/"+this.Kc+"-"+(this.Kd-1)),0<b&&a.push("timeDelay/"+b),b={start:0,end:-1},this.AN=this.qTa(this.AN,a));return p.prototype.open.call(this,this.AN,b,this.zN,{},void 0,void 0,this.dia);};d.prototype.CO=function(){this.Cc||(this.Cc=!0,this.Yn=this.track.Yn(),this.Yx(this),this.li=0,this.cj=this.pd);};d.prototype.ska=function(){var a;a=this.pd;this.$k=c.time.ca()-this.pd;this.Xx(this);this.cj=a;};d.prototype.uka=function(){var a;a=this.pd;this.$k=c.time.ca()-this.pd;this.wC(this);this.cj=a;this.li=this.Be;};d.prototype.mUa=function(){var a;a=this.ddb;this.ug=!0;this.Va&&(this.Va.qU(a,this.vt()),this.Va.G9());};d.prototype.lUa=function(){this.Va&&(this.Va.tP(this.TFb,this.ddb,this.cdb),this.Va.sU(this.cdb,this.ug,this.vt()));this.ug=!1;};d.prototype.BO=function(){var a;a=this.pd;this.$k=c.time.ca()-this.pd;this.Va&&this.ug&&this.Va.sU(c.time.ca(),this.ug,this.vt());this.ug=this.Cc=!1;this.Bu(this);this.cj=a;this.li=this.Be;this.Jd();};d.prototype.pRa=function(a,b,c,d){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?d:a-c;};d.prototype.qTa=function(a,b){a=a.split("?");for(var c=a[0],d="",f=0;f<b.length;f++)d+="/"+b[f];return a[1]?c+(d+"?"+a[1]):c+d;};return d;}(l.QE);d.hDa=a;g.Pk(h.Rk,a,!1);},function(g,d,a){var l,f,p,m,q,k,n,v,r,w;function b(a,c){var d;d=a.se?b(a.se,c):[];d.push({Ec:a.qa.id,vva:a.Sa[c].Pa});return d;}function c(a,b,c,d,f){this.aa=a;this.Rq=c;this.Zj=d;this.Kb=b;this.K=f;this.Nza(c.W);this.on=this.addEventListener=m.addEventListener;this.removeEventListener=m.removeEventListener;this.emit=this.Ia=m.Ia;this.Xka();w.call(this,c);}function h(a,b,c,d){for(var f,g=this;g&&g.oa.length;){f=g.oa;if((f=b?f.nqa(a):f.oqa(a))&&(void 0===c||c===f.ia))return f;if(d)break;g=g.Gh;}}l=a(11);a(14);f=a(8);p=a(13);m=a(28).EventEmitter;a(127);q=a(361).Kba;k=a(356).Iba;n=a(667).hDa;v=a(666).kDa;r=a(665).gDa;w=a(94);c.prototype=Object.create(w.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{vz:{get:function(){return 0<this.nz;}},W$:{get:function(){return!this.Sw;}},nz:{get:function(){return this.oa.length;}},zo:{get:function(){return this.oa.zo;}},Ex:{get:function(){return this.oa.Hna||(this.Gh?this.Gh.Ex:0);}},Zd:{get:function(){return this.uia();}},bu:{get:function(){return this.nZ();}},dj:{get:function(){return this.oRa();}},au:{get:function(){return this.iRa();}},BE:{get:function(){return this.oa.T_a;}},As:{get:function(){return this.wia();}},hv:{get:function(){return this.nSa();}},Vwa:{get:function(){return this.KZa();}},XR:{get:function(){return this.oa.length>this.oa.zo;}},Yo:{get:function(){return this.oa.Yo;}},Gh:{get:function(){return this.Kb.se&&this.Kb.se.Sa[this.Zj].Pa;}},Qib:{get:function(){return this.oa.length-this.om;}},Y:{get:function(){return this.oa;}}});c.prototype.Nza=function(a){this.W=a;this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);};c.prototype.nSa=function(){return this.oa.Yo+(this.K.ar?0:this.oa.zo);};c.prototype.oRa=function(){return void 0===this.oa.bc?0:this.oa.Bd-this.oa.bc;};c.prototype.iRa=function(){var a,b;a=this.nZ(!0);b=this.uia(0,!0);return{Z:a,af:b};};c.prototype.uia=function(a,b){void 0===a&&(a=this.aa.de());a=b?Math.max(this.oa.bc,a):a;return Math.max(this.oa.Hna-a,0)||0;};c.prototype.nZ=function(a){var b;b=this.oa.U_a;return a||!this.Gh?b:b+(this.Gh.oa.sCb>=this.oa.bc?this.Gh.nZ():0);};c.prototype.wia=function(){return this.oa.Jna+(this.Gh?this.Gh.wia():0);};c.prototype.KZa=function(){return this.K.ar?this.oa.Eib:this.oa.Jbb;};c.prototype.Cja=function(a){return(this.Kb.se&&this.Kb.se.Sa&&this.Kb.se.Sa[a]?this.Kb.se.Sa[a].Pa.Cja(a):0)+this.oa.Z;};c.prototype.mQ=function(a,b,c,d,g){var h;b=this.K;this.K.oD&&a.Cj()[this.Zj]-this.Cja()<c.Z&&(c.oD=this.K.oD);l.V(g)||(c.location=g.location,c.ad=g.Pb,c.x$=g.Lk);if(b.kp){h=this.aa&&this.aa.Uo;h&&(c.YU=h.mu({Zd:this.Rq.Zd,wT:b.r5a?b.wT:void 0}));}c.tk?(c=new q(g,b,d,c,this,!1,this.Rq),c.addEventListener("headerRequestCancelled",function(a){this.QTa(a.request);}.bind(this))):c=b.q5a?new v(g,b,d,c,this.oa,this.Rq):a.Y2(this.Zj)?new n(g,b,d,c,this.oa,!1,this.Rq):k.create(g,b,d,c,this.oa,!1,this.Rq);c.zc(a,this.Rq);this.xB(c);c.vqb=f.time.ca();a.KTa(c);return c;};c.prototype.wXa=function(a,b){var c;c=this.Rq;b.zc(a,this.Rq);b.i0=!0;this.xB(b);b.complete?(this.qZ(b),a.hwa(c,b.ia,b.Xa,b.bc),this.DE(),this.Bu(b)):(b.active&&this.Yx(b),b.hya&&this.Xx(b));};c.prototype.reset=function(a){function b(a){a.Jd();}this.oa.forEach(b);a||(this.km=this.km.forEach(b));this.Xka(a);};c.prototype.Oya=function(){this.Sw=!1;};c.prototype.Xka=function(a){this.oa=new r(this.W,this);this.om=0;this.bc=null;a||(this.km=[]);this.Sw=!1;};c.prototype.DWa=function(a){var b;b=function(a){a.abort();}.bind(this);this.oa.forEach(b);this.reset(a);};c.prototype.qZ=function(a){this.Sw?a.kR=!1:this.Sw=a.kR=!0;};c.prototype.xB=function(a){a.Ac?this.km.push(a):(this.oa.Al(a),this.qZ(a),a.zp&&(this.Sw=!1));};c.prototype.DE=function(){var a,b,c;b=this.Rq.P;a=this.Kb;if(a.active&&this.om!==this.oa.length){if(a=a.se){c=a.Gra(b);if(0!=c&&(a.Sa[b].WG(),c=a.Gra(b),0!=c))return;}for(var c=this.K.$eb,d=0;this.om<this.oa.length;){if(a=this.oa.get(this.om)){if(this.oa.vqa&&this.oa.vqa.Ib<a.Ib)break;if(!a.ky())break;this.aa.Ke[b].kYa(a);++d;l.ka(this.bc)||(this.bc=a.bc);}++this.om;if(!l.V(c)&&d>=c)break;}}};c.prototype.Vkb=function(a){var d;for(var b,c=0;c<this.oa.length;++c){d=this.oa.get(c);d&&a<d.Bd&&(l.V(b)&&(b=c),d.vh=!1);}l.V(b)||(this.om=b,this.DE());};c.prototype.dob=function(a,b,c){var d;d=this.K;0!==this.oa.zo&&this.oa.CBa.first.O!==b&&(d.Oe&&this.qh("setSelectedBitrate new bitrate: "+b),this.GWa(a,c));};c.prototype.ht=function(a,b){if(!a.abort())return!1;"function"==typeof b&&b(a);return!0;};c.prototype.FWa=function(a){a=this.oa.uC(a);if(-1!==a)for(;++a<this.oa.length;)this.ht(this.oa.get(a));this.q_();this.DE();};c.prototype.q_=function(){var a;a=0;this.oa.tkb(function(b,c){c<this.om&&++a;}.bind(this));this.om-=a;};c.prototype.GWa=function(a,b){var c,d;c=[];if(0!==this.oa.zo){d=this.oa.gHb;this.oa.CBa.S$(function(b){if(!l.V(a)&&b.ia!==a||b.zp||d>b.bc)return!0;b.kR&&(this.Sw=!1);if(!this.ht(b))return this.fa("request abort failed:",b.toString()),!0;c.unshift(b);}.bind(this));this.q_();c.length&&"function"==typeof b&&b(c);}};c.prototype.FK=function(a){var b;a.Ac?(b=this.km.indexOf(a),-1!==b?this.km.splice(b,1):this.fa("requestAborted: unknown header mediaRequest: "+(a&&a.toJSON()))):this.q_();};c.prototype.vkb=function(a,c){var d,f,g,l;d=this.K;f=a;g=this.aa.$a.kAa;if(a>g){f=a-g;l=function(a,b){var g,l,h;g=!1;l=0;h=b.some(function(b){if(f<b.Bd)return g&&a.qZ(b),!0;++l;b.vh||(a.fa("pruning unappended request:",b&&b.toString()),d.Oe&&a.qh("prune pts:",f,"unappended request:",b&&b.toString()),b.kR&&(a.Sw=!1,g=!0),a.ht(b,c)||a.Rb("MediaRequest.abort error:",b.nk));});0<l&&(b.splice(0,l),a.om-=Math.min(l,a.om));return h;};b(this.Kb,this.Zj).some(function(a){a=a.vva;return l(a,a.oa);}.bind(this));return f;}};c.prototype.P9a=function(){return this.oa.empty?null:Math.min(this.oa.HCb,this.oa.Wwa);};c.prototype.Pra=function(){var a,c,d,f,g,h;a=this.K;c=null;d=null;f=0;g=0;h=[];b(this.Kb,this.Zj).forEach(function(b){var m;b=b.vva.oa;l.ka(b.bc)&&(null===d||b.bc<d)&&(d=b.bc);m=a.ar?b.Wwa:b.Bd;l.ka(m)&&(null===c||m>c)&&(c=m);f+=b.jv;g=a.N$?g+b.Xkb:g+b.Jna;Array.prototype.push.apply(h,b.NU.Y);}.bind(this));return{ujb:c,bc:d,jv:f,cn:g,Y:h};};c.prototype.vC=function(a,b,c){return h.call(this,a,!1,b,c);};c.prototype.g7a=function(a){return h.call(this,a,!0,void 0,void 0);};c.prototype.Qrb=function(a,b){var c,d;c=[];d=function(d){var f;f=d.Orb(a,b);1===f||2===f?c.push(d):3===f&&this.ak("swapUrl failure");}.bind(this);this.km.forEach(d);this.oa.forEach(d);return c;};c.prototype.Jj=function(a){this.K.yK&&this.Vkb(a);};c.prototype.fv=function(a){a.a6&&a.ky()&&this.DE();this.Xx(a);};c.prototype.ji=function(a){a.a6&&!a.vh&&this.DE();this.Bu(a);};c.prototype.QTa=function(a){a={type:"headerRequestCancelled",request:a};this.Ia(a.type,a);};c.prototype.ak=function(a){a={type:"streamingFailure",msg:a};this.Ia(a.type,a);};c.prototype.qh=function(a){a={type:"managerdebugevent",message:"@"+f.time.ca()+", "+a};this.Ia(a.type,a);};c.prototype.m0=function(a){var b,c,d;b=this.Zj===p.G.VIDEO?"v_":"a_";c=this.oa;d=c.uC(a);a=0<=d?c.get(d):void 0;return(c=0<=d&&d+1<c.length?c.get(d+1):void 0)&&a?a.Bd!==c.bc?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};g.M=c;},function(g,d,a){var b,c,h,l,f,p,m,q,k,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(13);g=a(94);l=a(668);f=a(8);p=a(27);m=p.Ia;q=p.yJ;k=a(347);n=a(352);a=function(a){function d(b,c,d,g,p,q,k){var u;u=a.call(this,c)||this;u.aa=b;u.Ec=c;u.P=d;u.Ra=g;u.wza=q;u.K=k;u.eia=!1;u.$a=b.$a;u.aTa(c.qa.id);u.Ra=g;u.rE=new n.yw(0,q,k,c.se?c.se.Sa[d].rE:void 0);u.x6=f.time.ca();u.bdb=void 0;u.Pa=new l(b,c,u,d,k);u.Pa.addEventListener("headerRequestCancelled",function(a){b.BSa(a.request);});u.Pa.addEventListener("streamingFailure",function(a){b.ak(a.msg,u.ia);});k.Oe&&u.Pa.addEventListener("managerdebugevent",function(a){m(b,a.type,a);});u.Ufb=d===h.G.VIDEO?k.lT:k.eT;u.hT=(d===h.G.VIDEO?k.vD:k.uD)||k.hT;u.ep=!1;u.X0=0;u.Dy=k.R5;u.Jxa=f.time.ca();u.hB=!1;k.Nl&&(u.Pp=0,u.Fx=0);return u;}b.__extends(d,a);Object.defineProperties(d.prototype,{vz:{get:function(){return this.Pa.vz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{W$:{get:function(){return this.Pa.W$;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Kl:{get:function(){return this.Ec.qa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ex:{get:function(){return this.Pa.Ex;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zd:{get:function(){return this.Pa.Zd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bu:{get:function(){return this.Pa.bu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dj:{get:function(){return this.Pa.dj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{au:{get:function(){return this.Pa.au;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{BE:{get:function(){return this.Pa.BE;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{As:{get:function(){return this.Pa.As;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fZa:{get:function(){var a;a=this.aa.Cj()[this.P];return this.Pa.As/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gZa:{get:function(){var a;a=this.aa.Cj()[this.P];return this.Pa.Pra().cn/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ia:{get:function(){return this.Ec.ia;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{XR:{get:function(){return this.Pa.XR;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nz:{get:function(){return this.Pa.nz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dc:{get:function(){return this.Ec.Ura(this.P);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pl:{get:function(){return this.Ec.H$a(this.P);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{og:{get:function(){return this.aa.WC(this.P)?this.eia:!0;},set:function(a){this.eia=a;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a,b,c){this.ep=!1;this.seeking=void 0;this.og=!1;this.Pa.reset(a);b&&(this.JK=!0);this.L9={reason:c,time:f.time.ca()};};d.prototype.Jj=function(a){this.Pa.Jj(a);this.Dy=this.K.R5;};d.prototype.WG=function(){this.Pa.DE();};d.prototype.Tnb=function(a,b){var c,d;c=this.aa;d=this.P;this.uf=b.uf;this.Xo=b.Xo;b.dc.forEach(function(b){var f;f=c.Ve[d][b.id];f&&!b.Mc&&(f.stream.Mc?b.fQ(f.stream):(f.aK||(f.aK=[]),f.aK.push(a)));});d===h.G.AUDIO&&(this.hB=k.GU(this.K,b.dc[0]));c.ySa(this,b.lnb);this.IZa(b.dc);this.tu=void 0;this.og=!1;};d.prototype.Xnb=function(a,b){var c;if(this.K.yB){c=this.Pa.P9a();null!==c?(this.Ra=c,this.fg=c===a?b:this.aa.fO(this.P,this.Ec.ia,this.Ra)):(this.fa("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.Ra=a,this.fg=b);}else this.Ra=a,this.fg=b;};d.prototype.Tp=function(a){var b,c,d;if(this.pf&&this.pf.U===a)b=this.pf.index,c=a;else{d=this.aa.qk(this.ia);b=d.ib[this.P];if(!b||!b.stream.Mc){this.mv=!0;this.OT=a;return;}c=b.Y;this.pf=this.mqa(b.stream,a,void 0,void 0);if(void 0===this.pf){if(b=c.length-1,c=c.Nf(b),this.fa("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.ai),d.ai){this.mv=!0;this.OT=a;return;}}else b=this.pf.index,c=this.pf.U;}this.fg=b;this.Ra=c;delete this.mv;};d.prototype.jmb=function(a){this.Tp(a);this.og=!1;this.ea=void 0;this.Pa.Oya();};d.prototype.imb=function(a){this.pf=a;this.og=!1;this.ea=void 0;this.fg=this.pf.index;this.Ra=this.pf.U;delete this.mv;this.Pa.Oya();};d.prototype.wmb=function(a){var b;b=this.aa.qk(this.ia).ib[this.P];if(b&&b.stream.Mc){for(var c=b.Y;0<this.fg&&this.Ra>a;)this.Ra=c.Nf(--this.fg);this.fg<this.pf.index&&(this.pf=b.stream.Zg(this.fg));this.mv=void 0;}else this.mv=!0,this.OT=a;};d.prototype.ssb=function(a){var b,c;b=this.Pl[a];c="verifying streamId: "+a+" stream's track: "+(b?b.uf:"unknown")+" currentTrack: "+this.uf;if(!b)return this.aa.qh("unknown streamId: "+a),!1;b.uf!==this.uf&&this.aa.qh(c);return b.uf===this.uf;};d.prototype.IZa=function(a){this.Dsa=a.reduce(function(a,b){return b.inRange&&b.Ge&&!b.Dh&&b.O>a.O?b:a;},a[0]);this.Zab=a.indexOf(this.Dsa);};d.prototype.c6a=function(a){return this.P===h.G.VIDEO?0:this.hB?0:this.K.Um?a&&a.af||0:this.K.Em&&a?-a.af:0;};d.prototype.H$=function(){return this.P===h.G.VIDEO&&this.K.Fr||this.P===h.G.AUDIO&&this.K.Em;};d.prototype.mqa=function(a,b,d,f,g){var l,m,p,q,k,u,n;c(b>=a.Y.Nf(0));l=this.K;m=this.H$();p=a.Y;q=b+0;this.P===h.G.AUDIO&&void 0===f&&m&&l.yn&&!l.sx&&a.Gk&&(b=Math.max(a.Y.Nf(0),b+a.Gk.af));k=p.Bj(q,void 0,!0);this.aa.Y2(this.P)&&(k=Math.floor(k/l.q8)*l.q8);u=a.Zg(k);if(u.ea<b)return u;if(m){q=this.P===h.G.VIDEO?q:b;n=u.iR(q);n?(0<n.Uc&&u.yk(n,!1),this.P!==h.G.AUDIO||l.pva||n.Jb<(l.yn&&!l.sx&&a.Gk?Math.floor(a.Gk.af):0)&&u.spa()):q>=u.ea&&k<p.length-1&&(u=a.Zg(k+1));}this.P===h.G.VIDEO&&d&&u.ea===d&&k<p.length-1?u=a.Zg(k+1):this.P===h.G.AUDIO&&!m&&void 0!==f&&!l.Um&&(d=b+f,d-u.U>l.Heb||u.U<d-g)&&(u=a.Zg(k+1));m&&this.P===h.G.AUDIO&&!u.Zc&&(l.bJ||l.ita||l.f5a)&&void 0!==f&&u.yk();u.XK(b);return u;};d.prototype.e7a=function(a,b){var c,d,f,g,l;c=this.K;d=a.Y;f=d.Ka;g=b?b+this.c6a(f):d.mC(d.length-1);d=d.Bj(g,void 0,!0);f=a.Zg(d);0===d||f.U!==b||this.P!==h.G.VIDEO&&c.Um||(--d,f=a.Zg(d));if(this.H$()){g=this.P===h.G.VIDEO?g:b;if(g<f.ea){l=f.i7a(g);l&&0!==l.Uc?f.yk(l,!0):this.P===h.G.AUDIO&&(l||g<f.U)&&0!==d?f=a.Zg(d-1):this.P===h.G.VIDEO&&l&&0!==d&&(f=a.Zg(d-1));}this.P===h.G.AUDIO&&(c.bJ||c.hta)&&f.yk();}else this.P===h.G.AUDIO&&!c.Um&&b-f.U<f.duration/2&&0!==d&&(f=a.Zg(d-1));f.XK(b);return f;};d.prototype.RU=function(a){this.Eh=a;this.ea=a.ea;};d.prototype.Ty=function(a){a.ea&&a.U&&(this.Dy-=a.ea-a.U);this.Yx(a);};d.prototype.fv=function(a){this.Xx(a);};d.prototype.ji=function(a){this.Bu(a);};d.prototype.Irb=function(a){var b;b=f.time.ca();this.Dy+=a*(b-this.Jxa);this.Jxa=b;};d.prototype.Mya=function(){this.Dy=this.K.R5;};d.prototype.toJSON=function(){return{started:this.vz,startOfSequence:this.W$,segmentId:this.Kl,requestedBufferLevel:this.dj,manifestIndex:this.ia,hasFragments:this.XR};};d.prototype.aTa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.P+"]";this.W=q(f,this.aa.W,a);this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);this.st=this.W.debug.bind(this.W);this.Pa&&this.Pa.Nza(this.W);};return d;}(g);d.rNa=a;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(48);h=a(11);l=a(669);g=a(94);f=a(13);p=a(8);m=a(27).yJ;a=function(a){function d(b,c,d,g,q,k,u){var n,v,x;n=a.call(this,b.aa)||this;n.$a=b;n.qa=d;n.U=g;n.ia=q;n.se=k;v=b.aa;n.aa=v;n.se=k;n.qa=d;n.U=g;n.zm=d.zm;n.children=Object.create(null);n.Zp=[];n.JUa=d.id&&d.id.length?"{"+d.id+"}":void 0;n.W=m(p,v.W,n.JUa);n.Rb=n.W.error.bind(n.W);n.fa=n.W.warn.bind(n.W);n.Hb=n.W.trace.bind(n.W);n.Ta=n.W.log.bind(n.W);n.st=n.W.debug.bind(n.W);n.Jc=v.qk(q).Nm;n.ia=q;n.Oc=void 0;h.ka(u)||(u=g);n.Sa=[];x=c.tpb;[f.G.AUDIO,f.G.VIDEO].forEach(function(a){var b;if(v.WC(a)){b=new l.rNa(v,n,a,u,v,x[a],v.K);n.Sa[a]=b;}});n.P5(q);b.Yk.push(n);return n;}b.__extends(d,a);Object.defineProperties(d.prototype,{dj:{get:function(){return[this.Sa[0].dj,this.Sa[1].dj];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{au:{get:function(){return[this.Sa[0].au,this.Sa[1].au];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Nm:{get:function(){return this.aa.xa[this.ia].Nm;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Kc:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Kd:{get:function(){return this.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ea:{get:function(){return h.ka(this.fja)?this.fja:this.qa.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bc:{get:function(){return this.U+this.Jc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bd:{get:function(){return this.ea+this.Jc;},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{segment:this.qa.id,active:this.active,branchOffset:this.Jc,manifestIndex:this.ia,contentStartPts:this.U,contentEndPts:this.ea,playerStartPts:this.bc,playerEndPts:this.Bd,pipelines:this.Sa,previousBranch:this.se};};d.prototype.Unb=function(a){this.ia=a;};d.prototype.di=function(a){return this.Sa[a];};d.prototype.Ura=function(a){return(a=this.aa.qk(this.ia).ge[a])?a.dc:void 0;};d.prototype.H$a=function(a){return(a=this.aa.qk(this.ia).ge[a])?a.Pl:void 0;};d.prototype.l$a=function(a){return this.Sa[a].nz;};d.prototype.xC=function(a){return this.Sa[a].Zd;};d.prototype.P5=function(a){var b;b=this.aa.qk(a).ge;this.Sa.forEach(function(c){var d;d=b[c.P];d&&c.Tnb(a,d);});};d.prototype.WG=function(){this.Sa.forEach(function(a){a.WG();});};d.prototype.Jd=function(){this.se&&(this.se=this.se.children[this.qa.id]=void 0);h.Lc(this.children,function(a){a&&a.se&&(a.se=void 0);});this.children=Object.create(null);this.JA=void 0;};d.prototype.Gra=function(a){return this.Sa[a].Pa.Qib;};d.prototype.HZa=function(a){var b,c;b=this.hSa();b=this.wja(a,b);if(0>b)return-1;b=a.mC(b);c=this.ea;c=this.wja(a,this.zm||c);return 0>c?-1:Math.max(b,a.Nf(c));};d.prototype.pna=function(){var a,b;if(!("number"!==typeof this.zm||this.zm>=this.ea)){a=this.aa.qk(this.ia).ib[f.G.VIDEO].Y;b=this.HZa(a);if(!(0>b)&&(b=a.Bj(b,0,!0),!(0>b)&&(b=this.xja(b,a),(a=b<a.length&&a.mC(b))&&a<this.ea)))return a;}};d.prototype.Grb=function(a){this.Jc+=a;};d.prototype.GBa=function(a){var b,c,d;b=this;this.fja=a;c=this.aa;d=c.qk(this.ia);this.Sa.forEach(function(g){var l,h,m;l=g.P;h=d.ib[l];m=h.Y.Bj(a-1,0,!0);h=h.stream.Zg(m);g.RU(h);if(m=g.Pa.g7a(h.Kc))m.n7(),l===f.G.VIDEO&&c.e_(b.qa,h.ea);g.Pa.FWa(a);c.Ke[l].VZa(b.qa.id,a);g.Ra>h.ea&&g.Tp(h.ea);});};d.prototype.KB=function(a,b){var c,d,g,l,h,m,p;c=this.$a.K;d=this.aa;g=this.Sa[f.G.AUDIO];l=this.Sa[f.G.VIDEO];h=g?b?g.dj:g.Zd:0;b=l?b?l.dj:l.Zd:0;a||(a=c.ii);m=!d.Qf||l.og&&0===l.Pa.hv;m=(!d.Ni||g.og&&0===g.Pa.hv)&&m;p=!d.Ni||h>=c.ii;a=!d.Qf||b>=a;if(!(m||p&&a))return!1;if(l&&l.ep)return!0;g=g?g.Pa.zo:0;l=l?l.Pa.zo:0;c=c.ar&&(0!==g||0!==l);if(m&&!c)if(this.aa.FO&&0===h&&0===b)this.fa("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.Xqa=function(){var a,b;a=!0;b={};this.Sa.map(function(c){var d;d=c.P===f.G.VIDEO?"v":"a";c=c.au;b[d+"buflmsec"]=c.af;b[d+"buflbytes"]=c.Z;a=a&&0<c.af;});return{TR:a,gH:b};};d.prototype.gV=function(a,b){var c,d,f;c=this;d=p.time.ca();f={};h.Lc(this.children,function(a){var b,g;if(a){a.Oc?(a.Oc.L4a=d-a.Oc.kS,a.Oc.kS=void 0,b=a.Oc.weight):b=c.$a.Sra(c.qa.id,a.qa.id);g=a.Xqa();f[a.qa.id]={weight:b,gH:g.gH,TR:g.TR};}});b={requestTime:d,FU:a,M3a:b,eV:this.qa.id,Oc:f};a||(a=this.aa.de(),b.qAa=a-this.U+this.Jc,b.BQ=0,b.startTime=d);this.Zp.unshift(b);return b;};d.prototype.X_a=function(a){var b,d;b=this.Zp[0];b.FU&&(b.qAa=this.ea-this.U);d=a.Xqa();b.nBa={};c(d.gH,b.nBa);b.TR=a.au.every(function(a){return 0<a.af;});this.Zp=[];return b;};d.prototype.Jj=function(a){var b;b=this.qa;a-=this.Jc;if(b.U<a&&a<b.ea)this.Zp.shift();else if(b=this.Zp[0])b.Jj=!0;};d.prototype.k_a=function(){var a,b,c;a=this.$a;b=this.aa;c=!0;h.Lc(this.qa.xj,function(d,f){d=a.tj[f].ia;f=b.xa[d];f.ib[0]&&f.ib[1]&&f.ib[0].stream.Mc&&f.ib[1].stream.Mc||(c=!1);b.MI(f.R,d)||(c=!1);});return c;};d.prototype.reset=function(a,b,c){this.Sa.forEach(function(d){(h.V(c)||d.P===c)&&d.reset(a,!1,b);});this.se&&this.se.reset(a,b,c);};d.prototype.hSa=function(){var a,b;a=this.aa;b=0;this.Sa.forEach(function(c){c=a.Ke[c.P].B9a()||0;c>b&&(b=c);});return b;};d.prototype.wja=function(a,b){return a.Bj(b-1,0,!0);};d.prototype.xja=function(a,b){var c,d;c=this.qa.Xqb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.ISa(c,b.mC(a))&&(a=this.xja(a+1,b));return a;};d.prototype.ISa=function(a,b){var d,f;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];f=a[c][1];if(b<d)break;if(b>=d&&b<f)return!0;}return!1;};return d;}(g);d.fM=a;},function(g,d,a){var b,c,h,l,f,p,m,q,k;b=a(14);c=a(11);h=a(13);l=a(48);f=a(8);p=a(27).j$;m=a(670);q=a(662);k=a(199);d=function(){function a(a,b,c,d,f){this.aa=a;this.wd=b;this.K=f;this.W=a.W;this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);this.Yk=[];this.tj={};c?(this.lZ=!0,this.yUa(c,d)):(this.Yj=this.uZ("",0,0,void 0,void 0,[],!0),this.Yj.j8=!0,this.Yj.ea=Infinity,this.dP=[this.Yj]);this.Kb=new m.fM(this,b,this.Yj,this.Yj.U,0,void 0,d);this.Kb.active=!0;this.GO=this.rO=void 0;}Object.defineProperties(a.prototype,{Sr:{get:function(){return!!this.lZ;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gcb:{get:function(){return 0===this.Kb.Sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$I:{get:function(){return this.Yj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Si:{get:function(){return this.Kb.qa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zoa:{get:function(){return this.Kb.ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bf:{get:function(){return this.Kb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ee:{get:function(){return this.Kb.Sa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rma:{get:function(){return this.Yk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Jc:{get:function(){return this.Kb.Jc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ke:{get:function(){return this.aa.Ke;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bj:{get:function(){return this.rO?this.rO:this.Rma[0];},enumerable:!0,configurable:!0}});a.prototype.O4=function(a){return"m"+a;};a.prototype.xC=function(a){return(a=this.Kb.Sa[a])?a.Zd:0;};a.prototype.Sra=function(a,b){var c;c=this.tj[a];if(c)return(a=c.xj[b])&&a.weight;this.fa("getSegmentWeight, unknown segment:",a);};a.prototype.v$a=function(a){var b;b=this.tj[a];if(b)return b.U;this.fa("getSegmentStartPts, unknown segment:",a);};a.prototype.e$a=function(){var a;a=this.bj.qa;return a&&("number"===typeof a.zm?a.zm:a.ea);};a.prototype.u$a=function(a){var b;b=this.tj[a];if(!b)this.fa("getSegmentDuration, unknown segment:",a);else if(c.ka(b.ea)&&isFinite(b.ea)&&c.ka(b.U)&&isFinite(b.U))return b.ea-b.U;};a.prototype.kqa=function(a){var c;for(var b=0;b<this.Yk.length;b++){c=this.Kb;if(this.aa.qS(c.ia,a))return c;}};a.prototype.c7a=function(a,b){return this.lja(a,!1,b);};a.prototype.b7a=function(a,b){return this.lja(a,!0,b);};a.prototype.Rlb=function(a,b){c.Lc(this.Yk,function(c){c.ia===a&&(c.ia=b);});c.Lc(this.tj,function(c){c.ia===a&&(c.ia=b);});};a.prototype.Lya=function(){var a;a=this;c.Lc(this.Yk,function(b){b.Jc=a.aa.qk(b.ia).Nm;});};a.prototype.VU=function(a){var b;b=this;c.Lc(this.Yk,function(c){c.Ura(h.G.VIDEO).forEach(function(c){l(b.aa.nia(c.Me,c.O,a),c);});});};a.prototype.T2a=function(){this.Yk.forEach(function(a){a.active=!1;});};a.prototype.ukb=function(){var a;for(;0<this.Yk.length;){a=this.Yk[0];if(!a.active)break;if(a===this.Kb)break;if(!a.Sa.every(function(a){return 0===a.nz;}))break;a.Jd();this.Yk.shift();}};a.prototype.I_a=function(a,b){var c,d;c=this.Kb;if(c.wua)a=c.wua;else{d=this.Kb.Jc;a=new m.fM(this,this.wd,c.qa,0,a,c);a.Sa.forEach(function(a){a.Tp(0);a.RU(c.Sa[a.P].Eh);});a.Jc=d+b;c.wua=a;}this.CA(a,c);};a.prototype.hXa=function(a,b,c){var d,f;if(!this.lZ){this.lZ=!0;d=this.O4(0);this.Yj.id=d;this.tj[d]=this.Yj;this.Yj.ea=this.aa.Aja(this.aa.r9a());this.Yj.ID=!0;}f=this.O4(a);a=this.uZ(f,a,b,c,void 0,[],!0);a.ID=!0;this.dP.forEach(function(a){a.xj={};a.xj[f]={weight:100};a.HH=f;a.uE=!1;});this.dP=[a];};a.prototype.LB=function(a,b){var d,f,g,l;d=this.bj;f=d.gV(b);g=d.qa;l=d.children[a];if(b){if(!g.xj[a])return this.Kb.fa("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(d.xg)return d.xg===a;d.xg=a;l&&d.rR?this.CA(l,d):this.K.ZH&&(a=d.pna(),c.V(a)||d.GBa(a));return!0;}if(!l)return f.Sva=!0,!1;b||(f.Sva=!l.KB());this.aa.v_("chooseNextSegment");d.rR=void 0;d.xg=a;this.CA(l,d);return!0;};a.prototype.cbb=function(a,b){var d,f,g,l,h,m,p;d=this;l=a.qa;b&&!a.xg&&(a.xg=l.HH,a.gV(!0,!0));a.children=Object.create(null);if(this.K.Thb)if(a.xg)f=this.tj[a.xg],g=this.vZ(f,a),a.children[a.xg]=g;else{c.Lc(l.xj,function(a,b){f=d.tj[b];a=f.weight;if(c.V(p)||a>p)h=f,m=b,p=a;});h&&(g=this.vZ(h,a),a.children[m]=g);}else c.Lc(l.xj,function(b,c){a.xg&&c!==a.xg||(f=d.tj[c],g=d.vZ(f,a),a.children[c]=g);});a.xg&&(b=a.children[a.xg])&&this.CA(b,a);a.rR=!0;};a.prototype.Nqb=function(){var a;a=0;c.Lc(this.Yk,function(b){b.Sa.forEach(function(b){a+=b.Pa.Yo;});});return a;};a.prototype.Wpb=function(a,b){var c,d;c=this.dSa(a,b);if(c){c!==this.Kb.qa&&(this.T2a(),d=new m.fM(this,this.wd,c,a,b,this.Kb),d.se=void 0,this.JQa(this.Kb),this.CA(d,this.Kb));c===this.bj.qa&&(this.bj.Zp.shift(),d&&(d.Zp=this.bj.Zp,d.xg=this.bj.xg));this.aa.nka(c,this.Kb.Jc);this.Kb.rR=void 0;}else this.fa("findSegment no segment for manifestIndex:",b);};a.prototype.Fua=function(a,b){var c;c=a.qa;b||(b=c.HH);p(c.id);a.xg||(a.xg=b,a.gV(!0,!0));(b=a.children[a.xg])&&this.CA(b,a);};a.prototype.Pza=function(a,b){if(this.Kb!==a){if(b)for(b=this.Kb;b&&b!==a;)b.active=!1,b=b.se;this.Kb=a;}};a.prototype.Kya=function(a){var b;b=this;c.Lc(a.children,function(a){var c;if(a){c=a.Sa[h.G.AUDIO];c.reset(!0,!0,"audioTrackChange");c.Ra=c.dta;c.fg=c.bta;c.pf=void 0;c.Eh=void 0;b.Kya(a);}});};a.prototype.M9=function(a){var b;b=this;c.Lc(a.children,function(c){c&&(b.kVa(c,a),b.M9(c));});};a.prototype.Ao=function(a,b){var c,d,f,g,l;c=this;if(this.Sr){d=this.K;f=this.bj;g=f.qa;l=p(g.id);!f.xg&&!g.uE&&f.ea-b<=d.mT&&(this.fa(l+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.Fua(f));}this.Kb.Sa.forEach(function(a){c.aa.WC(a.P)&&c.Ke[a.P].Ao(b);});};a.prototype.Ugb=function(a,b){var c,d;if(this.Sr){c=this.rO;if(this.K.zbb&&a&&this.GO&&a.U===this.GO)this.Hb("Ignoring pts that wiggled back into previous segment",this.GO);else if(a=a.bf.Ec,!c||a.qa.id!==c.qa.id){d=c&&c.Sa[h.G.VIDEO].Eh;this.GO=d&&d.U;this.rO=a;this.cRa(c);c=c&&c.X_a(a);this.aa.dUa(a.qa,b,c);}}};a.prototype.Jd=function(){this.MRa(this.Kb);};a.prototype.Igb=function(a,b,c){b.j8||(b.U=this.aa.Era(a,b.U,!0),c||(b.ea=this.aa.Era(a,b.ea,!1)),b.j8=!0);};a.prototype.Uaa=function(a,b){var d;p(a);d=this.tj[a];d?(c.Lc(d.xj,function(a,c){a.weight=b[c]||0;}),a=this.vja(d.xj),d.zm="number"===typeof a?d.U+a:d.ea):this.fa("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Mja=function(a,b,c){var d;d=b?c.Kd:c.Bd;return(b?c.Kc:c.bc)<=a&&a<d;};a.prototype.lja=function(a,b,d){var h;for(var f=this.aa,g=this.Kb;g;){if((!c.ka(d)||f.qS(d,g.ia))&&this.Mja(a,b,g))return g;g=g.se;}if(b)for(var g=Object.keys(this.Kb.children),l=0;l<g.length;l++){h=this.Kb.children[g[l]];if((!c.ka(d)||f.qS(d,h.ia))&&this.Mja(a,b,h))return h;}};a.prototype.vZ=function(a,b){var c,d,f,g,l;c=a.ia;d=this.aa.qk(c);f=k.UG(d.R,this.aa.R);g=new m.fM(this,this.wd,a,a.U,c,b);c=this.aa.cG(g.ia,a.U,g,b,f);l=c.fz;c=c.On;this.K.s9&&(g.Sa[h.G.VIDEO].pf=c[h.G.VIDEO],g.Sa[h.G.AUDIO].pf=c[h.G.AUDIO]);d=this.aa.QA(g.Sa,d.ib,a.ea);g.Sa[h.G.VIDEO].Eh=d[h.G.VIDEO];g.Sa[h.G.AUDIO].Eh=d[h.G.AUDIO];[h.G.VIDEO,h.G.AUDIO].forEach(function(a){var c,d;c=g.Sa[a];d=b.Sa[a];a===h.G.VIDEO&&(d=d.Ra+b.Jc,g.Jc=d-l[a],g.U=l[a]);c.Tp(l[a]);c.dta=c.Ra;c.bta=c.fg;});this.aa.nka(a,g.Jc);return g;};a.prototype.kVa=function(a,b){var c,d,f;c=a.qa;d=this.aa.qk(c.ia);f=k.UG(d.R,this.aa.R);f=this.aa.cG(a.ia,c.U,a,b,f);b=f.fz;a.Sa[h.G.AUDIO].pf=f.On[h.G.AUDIO];c=this.aa.QA(a.Sa,d.ib,c.ea);a.Sa[h.G.AUDIO].Eh=c[h.G.AUDIO];a=a.Sa[h.G.AUDIO];a.Tp(b[h.G.AUDIO]);a.dta=a.Ra;a.bta=a.fg;};a.prototype.JQa=function(a){for(var b=[a.qa.id];a.se;)a=a.se,b.unshift(a.qa.id);this.cZ(a,!0);};a.prototype.cZ=function(a,b){var d,f,g;d=this;f=a.qa;c.Lc(a.children,function(a){a&&d.cZ(a,b);});a.Sa.forEach(function(a){a.Pa.DWa(b);});a.active=!1;a.Jd();g=-1;this.Yk.some(function(b,c){return b===a?(g=c,!0):!1;});-1!==g?this.Yk.splice(g,1):this.fa("Unable to find branch:",a,"in branches array");this.aa.aUa(f);};a.prototype.CA=function(a,b){var d,g,l,h,m,p;d=this;g=b.qa;b.ia!==a.ia&&this.aa.Vja(a.ia);a.active=!0;if(this.K.ZH&&this.Kb.active){l=this.Kb.pna();if(!c.V(l)){h=this.Kb.ea;this.Kb.GBa(l);a.Grb(this.Kb.ea-h);}}a.Sa.forEach(function(a){a.WG();});m=f.time.ca();p={};c.Lc(b.children,function(b){b&&(b.Oc&&(b.Oc.Zd=b.Sa.map(function(a){return a.au.af;}),b.Oc.L4a=m-b.Oc.kS,b.Oc.kS=void 0,p[b.qa.id]=b.Oc),b.qa.id!==a.qa.id&&d.cZ(b));});b.children=Object.create(null);b.children[a.qa.id]=a;b.JA=void 0;this.Pza(a);this.aa.bUa(a.qa,p);1<Object.keys(g.xj).length&&a.KB();};a.prototype.MRa=function(a){var b;b=this;0!==a.Sa.length&&(a.Sa.forEach(function(a){a.Pa.reset();a.rE=void 0;a.active&&(b.Rb("Destroying active pipeline!"),b.aa.lBb(f.time.ca()));}),a.Sa=[],a.Jd());};a.prototype.cRa=function(a){var b,c;if(a){b=f.time.ca();c=a.Zp[0];c&&void 0===c.BQ?c.BQ=b-c.requestTime:c||(this.fa("missing metrics for branch:",a.qa.id),c={eV:a.qa.id,FU:!0,BQ:0,Oc:{}},a.Zp.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.dSa=function(a,d){var f,g,h,m;b(0<=a);for(var l in this.tj){h=this.tj[l];if(this.aa.qS(h.ia,d)){if(h.U<=a&&(c.V(h.ea)||a<h.ea))return h;m=Math.min(Math.abs(a-h.U),Math.abs(a-h.ea));if(c.V(f)||m<f)f=m,g=h;}}return g;};a.prototype.uZ=function(a,b,c,d,f,g,l,h,m){b=new q.dPa(a,b,c,d,f,g,l,h,m);return this.tj[a]=b;};a.prototype.yUa=function(a,b){var d,f,g;d=this;this.Yj=void 0;this.dP=[];f=null;g=null;c.Lc(a.segments,function(a,l){var h,m,p,q,k,u;h=a.startTimeMs;m=a.endTimeMs;p={};c.Lc(a.next,function(b,c){p[c]={weight:b.weight||0,OIb:b.transitionHint||a.transitionHint,d5a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});k=d.vja(p);"number"===typeof k&&(q=h+k);u=a.defaultNext;c.V(u)&&(u=Object.keys(p)[0]);k=c.V(u);q=d.uZ(l,0,h,m,u,p,k,q,a.transitionDelayZones);h<=b&&(b<m||c.V(m))?d.Yj=q:h>b&&(!f||h<g)&&(f=l,g=h);k&&d.dP.push(q);});this.Yj||(this.Yj=f?this.tj[f]:this.tj[a.initialSegment]);};a.prototype.vja=function(a){var b,d;d=0;c.Lc(a,function(a){var c,f;c=a.weight||0;d+=0<c?1:0;f=a.earliestSkipRequestOffset;0<c&&a.transitionHint===h.BOa.sFa&&"number"===typeof f&&(void 0===b||b>f)&&(b=f);});return 1<d&&b;};return a;}();g.M=d;},function(g){function d(a,b,d){var c,g;c=[];d.forEach(function(a){c.push(a[b].Z);});d=c.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],g=c.lastIndexOf(d)):(d=c[0],g=0);return{Wm:d,Ed:g};}function a(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function b(a,b,d,f,g){var c,l,h,p,k,n;c=a.mg;l=d+c.U;d=a.Lj[c.YI];a=a.T0;h={OL:!0,waitUntil:void 0,eJ:!1};p=d.filter(function(a){return a&&a.U<=l&&a.U+a.duration>l;})[0];if(void 0===p)return{eJ:!0};k=g-1-(p.index-1);f=c.QL+f;n=0;n=p.index<c.ng?n+d.slice(c.ws,p.index).reduce(function(a,b){return a+b.Z;},0):n+c.QL;n=n+b.slice(c.ng,p.index).reduce(function(a,b){return a+b.Wm;},0);f-=n;if(k>=a.CJ||f>=a.KE)for(h.OL=!1,p=p.index;p<g&&(k>=a.CJ||f>=a.KE);)h.waitUntil=d[p].U+d[p].duration-c.U,f=p<c.ng?f-d[p].Z:f-b[p].Wm,--k,p+=1;return h;}g.M={f5:function(c){var r,w,t,y,E,P,G,la,L,O,X,V,da;for(var g,l=c.mg,f=c.lk,p=f.Aj,m=c.Lj,q=!0,k=[],n,v=p=Math.min(f.Bp,p);v>=l.ng;v--){g=c.Lj[0][v].U-c.mg.U;v<p&&(g=Math.min(k[v+1].startTime,g));f=m[0][v].Z;n=l.Wt*m[0][v].duration*1/8;a:{r=void 0;E=f+n;n=c.xo;P=l.Sm;G=n.trace;la=1*n.gk;w=g+P-n.timestamp;t=Math.floor(1*w/la);y=0+(w-t*la)/la*a(G,t,la);if(y>=E)r=w-1*E/y*(w-t*la);else for(w=t;y<E;){--w;if(0>w){r=-1;break a;}t=a(G,w,la);if(y+t>=E){r=1*(E-y)/t*la;r=(w+1)*la-r;break;}y+=t;}r=r+n.timestamp-P;}if(0>r){q=!1;break;}k[v]={startTime:r,endTime:g,rQ:g,Wm:f,Ed:0};}g={fi:q,Vp:k,wp:!1,ev:0===k.length};if(!1===g.fi||!0===g.ev)return g;a:{l=c.mg;p=c.lk;m=p.Aj;q=c.Lj;f=k=0;g=g.Vp;r=v=0;m=Math.min(p.Bp,m);for(P=l.ng;P<=m;P++){y=g[P];E=y.Ed;n=q[E][P].duration;la=P===l.ng?0:g[P-1].endTime;E=b(c,g,la,k,P);if(E.eJ){g={fi:!1,wp:!0};break a;}E.OL||(la=E.waitUntil);t=y.rQ;O=c.xo;L=l.Sm;y=0;E=O.trace;G=1*O.gk;w=Math.max(0,la+L-O.timestamp);O=t+L-O.timestamp;if(!(la>=t)){X=Math.max(0,Math.floor(1*w/G));V=1*O/G;if(X===Math.floor(V))y+=(O-w)/G*a(E,X,G);else for(V=Math.ceil(V),L=X,t=V,X*G<w&&(L++,y+=(X*G+G-w)/G*a(E,X,G)),V*G>O&&(y+=(O-t*G)/G*a(E,V,G),t--),w=L;w<=t;w++)y+=a(E,w,G);}G=l.Wt*n*1/8;f+=G;E=d(y-G,P,q);y=E.Wm;E=E.Ed;G=y+G;L=c.xo;t=w=0;O=L.trace;V=Math.max(0,la+l.Sm-L.timestamp);L=1*L.gk;da=X=Math.max(0,Math.floor(1*V/L));for(da*L<V&&(X+=1,V=da*L+L-V,da=V/L*a(O,da,L),w=G-t<da?w+(G-t)/da*1*V:w+V,t+=da);t<G;)V=a(O,X,L),w=G-t<V?w+(G-t)/V*1*L:w+L,t+=V,X+=1;G=w;g[P].startTime=la;g[P].endTime=la+G;g[P].Wm=y;g[P].Ed=E;P<=p.Aj&&(k+=y,r+=n,v+=n*c.dc[E].O);}g={fi:!0,wp:!1,Vp:g,v4a:0<r?1*v/r:0,M2:r,L2:k,K2:f};}return g;}};},function(g,d,a){function b(a,b){void 0===a&&(a=[]);void 0===b&&(b=c);this.data=a;this.length=this.data.length;this.compare=b;if(0<this.length)for(a=(this.length>>1)-1;0<=a;a--)this.aja(a);}function c(a,b){return a<b?-1:a>b?1:0;}a(14);b.prototype.constructor=b;b.prototype.push=function(a){this.data.push(a);this.length++;this.lWa(this.length-1);};b.prototype.pop=function(){var a,b;if(0!==this.length){a=this.data[0];b=this.data.pop();this.length--;0<this.length&&(this.data[0]=b,this.aja(0));return a;}};b.prototype.ED=function(){return this.data[0];};b.prototype.lWa=function(a){for(var b=this.data,c=this.compare,d=b[a],g,h;0<a;){g=a-1>>1;h=b[g];if(0<=c(d,h))break;b[a]=h;a=g;}b[a]=d;};b.prototype.aja=function(a){for(var b=this.data,c=this.compare,d=this.length>>1,g=b[a],h,k,n;a<d;){h=(a<<1)+1;k=b[h];n=h+1;n<this.length&&0>c(b[n],k)&&(h=n,k=b[n]);if(0<=c(k,g))break;b[a]=k;a=h;}b[a]=g;};g.M={ZNa:b};},function(g,d,a){var v,r,w,t;function b(a,b,c){this.Lma=this.CRa(a,b,c);}function c(){}function h(){}function l(){}function f(a){this.v_a=a;}function p(){}function m(){}function q(){}function k(){this.G2={};}function n(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}v=a(14);d=a(191).Yba;r=a(348).MPa;w=a(191).SDa;new(a(8)).Console("ASEJS_QOE_EVAL","media|asejs");t=a(149).bOa||a(149);b.prototype.constructor=b;b.prototype.CRa=function(a,b,c){v(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);v(0<c,"expect buffer_step_sec > 0. but got "+c);for(var d=[];a<b;a+=c)d.push(a);d[d.length-1]<b&&d.push(b);return d;};b.prototype.Ku=function(a){return this.tSa(a,this.Lma);};b.prototype.tSa=function(a,b){a=this.m4a(a,b);if(0===a)throw new c();if(a===b.length)throw new h();return a;};b.prototype.m4a=function(a,b){v(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;v(!1,"expect not coming here in digitize()");};b.prototype.QR=function(){return n(this.Lma.length-1);};c.prototype=Error();h.prototype=Error();l.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.oFa=-20;f.prototype.nFa=20;f.prototype.mFa=void 0;f.prototype.gFa=new d(void 0);f.prototype.iFa=0;f.prototype.hFa=1;f.prototype.rFa=!1;f.prototype.kFa=!0;f.prototype.jFa=!0;f.prototype.pFa=void 0;f.prototype.eFa=!0;f.prototype.fFa=0;f.prototype.ZD=function(a){v(void 0!==a.aBa,"expect recipe.time_varying_bandwidth !== undefined");return this.mVa(this.v_a,a.aBa,void 0!==a.Fva?a.Fva:this.oFa,void 0!==a.fva?a.fva:this.nFa,void 0!==a.eva?a.eva:this.mFa,void 0!==a.Jma?a.Jma:this.gFa,void 0!==a.Ppa?a.Ppa:this.iFa,void 0!==a.Uma?a.Uma:this.hFa,void 0!==a.Kob?a.Kob:this.rFa,void 0!==a.qab?a.qab:this.kFa,void 0!==a.hsa?a.hsa:this.jFa,void 0!==a.Rxa?a.Rxa:this.pFa,void 0!==a.cma?a.cma:this.eFa,void 0!==a.Bma?a.Bma:this.fFa);};f.prototype.mVa=function(a,d,f,g,u,n,x,z,D,da,S,U,H,A){var E,G,Q,ka,fa,P,O,Y,ea,mb,va,hb,Qa,cb,sb,Ta,Ua,Ya,Kb,tc;function y(a){return a[P];}t.z$("dp: ");v(f<=n.ff,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(n.ff<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(f<=x,"expect min_buffer_sec <= end_buffer_sec");v(x<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==u&&v(n.ri<=u,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+n.ri+" and "+u);E=new b(f,g,z);z=new k();G=0;Q=n;z.put([0,E.Ku(n.ff)],[G,Q,void 0,void 0,d,void 0,void 0,void 0]);ka=Q=0;d=a.lab();v(a.MC()==d.length,"expect chunk_map.get_n_epoch() == durations_sec.length");P=-1;for(O in d){for(var P=P+1,L=!0,V=a.xh.map(y),la=E.QR(),X=0;X<la.length;X++){Y=la[X];if(z.m6([P,Y])){fa=z.get([P,Y]);for(var F=fa[0],R=fa[1],ca=fa[4],ba=0;ba<V.length;ba++){d=V[ba];t.update("epoch-ibuf-chunk loop");n=void 0!==U?U(d.sK):d.sK;ea=ca.ip();try{fa=this.ZRa(R,d,ea,A);mb=fa[0];va=fa[1];hb=fa[2];Qa=fa[3];cb=fa[4];sb=fa[5];}catch(Ja){if(Ja instanceof r)continue;else if(Ja instanceof c){Q+=1;continue;}else throw Ja;}Ta=G=!1;try{Ua=E.Ku(Qa.ff);da&&E.Ku(mb);S&&E.Ku(va);if(void 0!==u)if(S){if(hb.ri>u)throw new l();}else if(Qa.ri>u)throw new l();}catch(Ja){if(Ja instanceof c)Ua=void 0,Q+=1;else if(Ja instanceof h)H?G=!0:ka+=1,Ua=void 0;else if(Ja instanceof l)H?Ta=G=!0:ka+=1,Ua=void 0;else throw Ja;}try{if(G&&Ta){v(void 0!==u,"expect max_buffer_kb !== undefined");Kb=S?hb.ri-u:Qa.ri-u;v(0<=Kb,"pause dlnd kb cannot be -ve but is "+Kb);try{Ya=Qa.jjb(Kb);}catch(Ja){if(Ja instanceof w)throw new c();throw Ja;}ea.Xwa(Ya);cb+=Ya;v(Qa.ff<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Ua=E.Ku(Qa.ff);}else if(G&&!Ta){Ya=S?hb.ff-g+1E-8:Qa.ff-g+1E-8;v(0<=Ya,"pause dlnd kb cannot be -ve but is "+Ya);try{Qa.jxa(Ya);}catch(Ja){if(Ja instanceof w)throw new c();throw Ja;}ea.Xwa(Ya);cb+=Ya;v(f<=Qa.ff,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(Qa.ff<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Ua=E.Ku(Qa.ff);}else Ya=0;}catch(Ja){if(Ja instanceof c)Ua=void 0,Q+=1,Ya=void 0;else if(Ja instanceof r)continue;else throw Ja;}G=z.m6([P+1,Ua])?z.get([P+1,Ua])[0]:-Infinity;this.qWa(Qa,Ua,d,n,Y,P+1,G,z,F,ba,ea,cb,sb,Ya)&&(L=!1);}}}if(L){--P;break;}}try{tc=this.pja(P+1,E.Ku(x),z,D,E);}catch(Ja){if(Ja instanceof p)try{tc=this.pja(P+1,E.Ku(x),z,!D,E);}catch(uc){if(uc instanceof p){if(Q>ka)throw new m();throw new q();}throw uc;}else throw Ja;}Y=tc;for(f=[];-1<P;P--)fa=z.get([P+1,Y]),G=fa[0],Q=fa[1],g=fa[3],u=fa[5],x=fa[6],D=fa[7],fa=fa[2],d=a.xh[fa][P],da=d.Mr(),n=d.sK,f.unshift({Lsa:P,B5:fa,info:{SBb:da,sK:n,ZBb:Q.ff,YBb:Q.ri,BDb:u,pa:x,jHb:D}}),Y=g;return f;};f.prototype.pja=function(a,b,c,d,f){var g,l;g=!1;l=f.QR()[0];for(f=f.QR()[f.QR().length-1];;){if(b<l||b>f){g=!0;break;}if(c.m6([a,b]))break;else b=d?b-1:b+1;}if(g)throw new p();return b;};f.prototype.qWa=function(a,b,c,d,f,g,l,h,m,p,q,k,u,n){c=m+d*c.Vm;return void 0!==b&&c>l?(h.put([g,b],[c,a,p,f,q,k,u,n]),!0):!1;};f.prototype.ZRa=function(a,b,d,f){var g,l,h;f=(b.Mr()+f)*b.Vm;d=d.G4a(f);f/=d;g=a.ff-d;l=a.ff+b.Vm;h=a.ip();h.add(b,void 0);a=a.ip();a.add(b,void 0);try{a.jxa(d);}catch(X){if(X instanceof w)throw new c();throw X;}return[g,l,h,a,d,f];};p.prototype=Error();m.prototype=new p();q.prototype=new p();k.prototype={Qaa:function(a){return a.join(",");},put:function(a,b){this.G2[this.Qaa(a)]=b;},get:function(a){return this.G2[this.Qaa(a)];},m6:function(a){return this.Qaa(a)in this.G2;}};g.M={EGa:f,iub:b,ttb:c,utb:h};},function(g,d,a){var w,t,y,E,P,G,la,L,O,X;function b(a){var b,c,d;c=a.xo;b=a.mg;d=a.lk.ea-b.U;c.timestamp>b.Sm&&O.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.Sm);a=[];for(var f,g=c.timestamp,l=0;l<c.trace.length;l++)g>=b.Sm&&(a.push(c.trace[l]),f=c.trace[l]),g+=c.gk,d-=c.gk;for(;0<d;)a.push(f),d-=c.gk;b=c.gk;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new P(a,c,!1);}function c(a,b){return a.yy<b.yy?1:a.yy>b.yy?-1:0;}function h(a){for(var b=a.mg,c=a.lk,d=c.Aj,f=a.Lj,g=!0,l,h=[],m,p=d=Math.min(c.Bp,d);p>=b.ng;p--){X.update("backward step loop");l=a.Lj[0][p].U-a.mg.U;p<d&&(w(void 0!==h[p+1],"expect solution[(fragIndex + 1)] !== undefined"),l=Math.min(h[p+1].startTime,l));c=f[0][p].Z;m=b.Wt*f[0][p].duration*1/8;m=v(c+m,l,a.xo,b.Sm);if(0>m){g=!1;break;}h[p]={startTime:m,endTime:l,rQ:l,Wm:c,Ed:0};}return{fi:g,Vp:h,wp:!1,ev:0===h.length?!0:!1};}function l(a,b){var t,E,D,G,P,O,L;for(var c=a.mg,d=a.lk,f=d.Aj,g=a.Lj,l=0,h=0,m=b.Vp,p,q,u=0,v=0,x,z,f=Math.min(d.Bp,f),y=c.ng;y<=f;y++){X.update("forward step loop");p=m[y];b=p.Ed;x=g[b][y].duration;z=y===c.ng?0:m[y-1].endTime;q=0;b=r(a,m,z,l,y);if(b.eJ)return{fi:!1,wp:!0};b.OL||(q=b.waitUntil-z,z=b.waitUntil);w(0<=q,"expect waittime >= 0 but got "+q);t=p.rQ;D=a.xo;E=c.Sm;p=0;b=D.trace;q=1*D.gk;G=Math.max(0,z+E-D.timestamp);D=t+E-D.timestamp;if(!(z>=t)){P=Math.max(0,Math.floor(1*G/q));O=1*D/q;if(P===Math.floor(O))p+=(D-G)/q*n(b,P,q);else for(O=Math.ceil(O),E=P,t=O,P*q<G&&(E++,p+=(P*q+q-G)/q*n(b,P,q)),O*q>D&&(p+=(D-t*q)/q*n(b,O,q),t--),G=E;G<=t;G++)p+=n(b,G,q);}q=c.Wt*x*1/8;h+=q;b=k(p-q,y,g);p=b.Wm;b=b.Ed;q=p+q;E=a.xo;t=G=0;D=E.trace;O=Math.max(0,z+c.Sm-E.timestamp);E=1*E.gk;L=P=Math.max(0,Math.floor(1*O/E));for(L*E<O&&(P+=1,O=L*E+E-O,L=O/E*n(D,L,E),G=q-t<L?G+(q-t)/L*1*O:G+O,t+=L);t<q;)X.update("getDownloadTime"),O=n(D,P,E),G=q-t<O?G+(q-t)/O*1*E:G+E,t+=O,P+=1;q=G;m[y].startTime=z;m[y].endTime=z+q;m[y].Wm=p;m[y].Ed=b;y<=d.Aj&&(l+=p,v+=x,u=void 0!=g[b][y].oc?u+x*g[b][y].oc:u+x*a.dc[b].oc);}return{fi:!0,wp:!1,Vp:m,gpa:0<v?1*u/v:0,M2:v,L2:l,K2:h};}function f(a){a=a.mg.Y;for(var b=[],c,d=0;d<a.length;d++)X.update("get prebuffered chunks loop"),c=a[d],w(void 0!==c.oc,"expect frag.vmaf !== undefined"),c=new t(c.Z,c.duration/1E3,c.oc),b.push(c);return b;}function p(a){var b,c,d,f;b=a.Lj;c=a.mg;d=a.lk;f=d.Aj;a=a.dc;for(var g=[],l,f=Math.min(d.Bp,f),h=0;h<b.length;h++){for(var d=[],m=c.ng;m<=f;m++)X.update("get chunk map from play segment"),l=b[h][m],l=new t(l.Z,l.duration/1E3,void 0!==l.oc?l.oc:a[h].oc),d.push(l);g.push(d);}return new y(g,!1);}function m(a,b){w(a.MC()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,g,l=0;l<b.length;l++)X.update("calculate twvmaf"),w(b[l].Lsa===l,"expect stream_choices[idx].i_epoch === idx"),g=a.xh[b[l].B5][l],f=g.sK,g=g.Vm,c+=f*g,d+=g;return{gpa:c/d,M2:1E3*d};}function q(a,b,c){var d,f;w(a.MC()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");d=0;f=0;c=c.mg.Wt;for(var g,l=0;l<b.length;l++)X.update("calculate Bytes"),w(b[l].Lsa===l,"expect stream_choices[idx].i_epoch === idx"),g=a.xh[b[l].B5][l],d+=g.Z,f+=c*g.Vm*1E3/8;return{L2:d,K2:f};}function k(a,b,c){var d,f;d=[];c.forEach(function(a){d.push(a[b].Z);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],f=d.lastIndexOf(c)):(c=d[0],f=0);return{Wm:c,Ed:f};}function n(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function v(a,b,c,d){var f,g,l,h,m;f=c.trace;g=1*c.gk;m=b+d-c.timestamp;h=Math.floor(1*m/g);b=0+(m-h*g)/g*n(f,h,g);if(b>=a)l=m-1*a/b*(m-h*g);else for(m=h;b<a;){X.update("find download start time");--m;if(0>m)return-1;h=n(f,m,g);if(b+h>=a){a=1*(a-b)/h*g;l=(m+1)*g-a;break;}b+=h;}return l+c.timestamp-d;}function r(a,b,c,d,f){var g,l,h,m,p,q;g=a.mg;l=c+g.U;c=a.Lj[g.YI];a=a.T0;h={OL:!0,waitUntil:void 0,eJ:!1};m=c.filter(function(a){return a&&a.U<=l&&a.U+a.duration>l;})[0];if(void 0===m)return{eJ:!0};p=f-1-(m.index-1);d=g.QL+d;q=0;q=m.index<g.ng?q+c.slice(g.ws,m.index).reduce(function(a,b){return a+b.Z;},0):q+g.QL;q=q+b.slice(g.ng,m.index).reduce(function(a,b){return a+b.Wm;},0);d-=q;if(p>=a.CJ||d>=a.KE)for(h.OL=!1,m=m.index;m<f&&(p>=a.CJ||d>=a.KE);)X.update("check buffer vacancy"),h.waitUntil=c[m].U+c[m].duration-g.U,d=m<g.ng?d-c[m].Z:d-b[m].Wm,--p,m+=1;h.Wma=d;h.$Bb=p;return h;}w=a(14);t=a(349).IEa;y=a(349).JEa;E=a(674).EGa;P=a(348).LPa;G=a(191).Yba;la=a(673).ZNa;L=a(230).gja;O=new(a(8)).Console("ASEJS_QOE_EVAL","media|asejs");X=a(149).bOa||a(149);g.M={ndb:function(a){var b;b=h(a);return!1===b.fi||!0===b.ev?b:l(a,b);},f5:function(a){var b,d,f,g,m,p,q,k,u,n,r,x,z,y,t,D;X.z$("greedy: ");d=a.Lj;b=a.Lj;f=a.mg;g=a.lk;m=g.Aj;p=a.dc;m=Math.min(g.Bp,m);for(x=f.ng;x<=m;x++){b[0][x].Ax=b[0][x].Z;for(r=1;r<b.length;r++)b[r][x].Ax=b[r][x].Z,b[r-1][x].Ax===b[r][x].Ax&&(b[r][x].Ax=b[r-1][x].Ax+1);r=0;f=b[r][x];f.yy=Infinity;f.df=r;for(r=1;r<b.length;r++)f=b[r][x],g=b[r-1][x],q=8*f.Ax/f.duration,k=8*g.Ax/g.duration,void 0!==f.oc?(u=f.oc,n=g.oc):(u=p[r].oc,n=p[r-1].oc),f.yy=(u-n)/(q-k),f.df=r,w(void 0!==g.yy&&!isNaN(g.yy),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.fi||!0===b.ev)return b;m=a.Lj;f=a.mg;g=a.lk;p=g.Aj;p=Math.min(g.Bp,p);g=[];for(f=f.ng;f<=p;f++)g.push(m[1][f]);for(m=new la(g,c);0<m.length;){X.update("upgrade frags");p=m.pop();f=a;g=b;q=p;k=f.Lj;u=f.mg;t=f.lk;n=t.Aj;r=!0;x=JSON.parse(JSON.stringify(g.Vp));void 0!==q.df&&w(x[q.index].Ed+1===q.df,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");n=Math.min(t.Bp,n);for(var E=q.index;E>=u.ng;E--){D=E===q.index?x[E].Ed+1:x[E].Ed;t=f.Lj[D][E].U-f.mg.U;if(E<n)if(w(void 0!==x[E+1],"expect solution[(fragIndex + 1)] !== undefined"),y=x[E+1].startTime,y<t)t=y;else if(E!==q.index)break;y=k[D][E].Z;z=u.Wt*k[D][E].duration*1/8;z=v(y+z,t,f.xo,u.Sm);if(0>z){r=!1;break;}x[E]={startTime:z,endTime:t,rQ:t,Wm:y,Ed:D};}f={fi:r,Vp:x,ev:g.ev};!0===f.fi&&(b=f,p.df+1<d.length&&m.push(d[p.df+1][p.index]));}return l(a,b);},dp:function(a){var c,d,g,l,k,u;X.z$("dp: ");c=h(a);if(!1===c.fi||!0===c.ev)return c;d=p(a);g=new E(d);l=f(a);l={aBa:b(a),Bma:a.mg.Wt,Fva:0,fva:240,eva:8*a.T0.KE/1E3,Uma:.5,Jma:new G(l),Ppa:0,XEb:void 0,hsa:void 0,Rxa:void 0,cma:!0};g=g.ZD(l);l=m(d,g);d=q(d,g,a);k=[];u=a.mg.ng;g.forEach(function(a){k[u]={Ed:a.B5};u++;});L(c,l);L(c,d);c.Vp=k;return c;}};},function(g,d,a){var c,h;function b(){}c=a(675);h=a(672);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=h.f5;break;case"hvmaftb":b=c.ndb;break;case"hvmafgr":b=c.f5;break;case"hvmafdp":b=c.dp;}return b;};g.M=b;},function(g,d,a){var c,h;function b(a,b,d){this.aa=a;this.W=a.W;this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);this.QQa=new h();this.K=d;this.EO=[];this.bk=void 0;a=d.aS;c.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(13);a(8);c=a(129);a(350);h=a(676);b.prototype=Object.create(c.prototype);b.prototype.add=function(a,b,d){this.bk||(this.bk=b);c.prototype.add.call(this,a,b,d);};b.prototype.t8a=function(){var a;if(0!==this.EO.length){a=[];this.EO.forEach(function(b){b&&b.zB&&a.push(b.Lr());});return a;}};b.prototype.Jd=function(){this.EO=[];};b.prototype.S$a=function(){var a,b,d;a=this.get(this.K.aS.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var g=0;g<d;g++)a[g]=b;}a={trace:a,timestamp:this.bk,gk:this.gc};c.prototype.reset.call(this);this.bk=void 0;return a;};b.prototype.f3=function(a){var b,c,d,g,l,h;if(a&&!a.zB){c=a.lk.Ata;c&&(a.q9=this.m0(a),a.mU=!1);if((b=this.S$a())&&b.trace&&b.trace.length){d=a.mg.Sm;g=b.timestamp;if(g>d){l=b.gk;h=b.trace[0];d=Math.ceil(1*(g-d)/l);b.timestamp=g-d*l;for(g=0;g<d;g++)b.trace.splice(0,0,h);}b.trace.length&&b.trace.pop();}a.xo=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.DZa(a),a.Ewa=b,c&&b&&(a.mU=b.fi),a.zB=!0,this.EO.push(a));}};b.prototype.DZa=function(a){var g,l;for(var b=this.K.NI,c={fi:!1,wp:!1},d=0;d<b.length;d++){g=b[d];l=this.QQa.create(g);l&&(l=l(a),c[g]=l,c.fi=c.fi||l.fi,c.wp=c.wp||l.wp);}return c;};b.prototype.m0=function(a){var b;a=a.lk;b="";1E3>a.RL&&(b+=a.mCa);1E3>a.W_&&(b=b+(""!==b?",":"")+a.pma);1E3<=a.RL&&1E3<=a.W_&&(b="media");return b;};g.M=b;},function(g,d,a){(function(){var c4n,c,d,l,f,z8G,s0G;function b(a,b){var t4n;t4n=2;while(t4n!==7){switch(t4n){case 2:this.config=a;this.Sp=b;a=a.initThroughputPredictor;this.nT=a.modelMap;this.g7=a.lrParams;t4n=9;break;case 9:this.Leb=a.maxBwPredictionMap;this.$ma=a.bwThreshold;t4n=7;break;}}}c4n=2;while(c4n!==10){z8G="1SI";z8G+="Yb";z8G+="ZrNJC";z8G+="p9";s0G="I";s0G+="TE";s0G+="_A";s0G+="SEJS";switch(c4n){case 2:c=a(11);d=a(8);l=new d.Console(s0G);c4n=3;break;case 3:f=a(208);b.prototype.Qn=function(){var J4n,a;J4n=2;while(J4n!==4){switch(J4n){case 2:a=d.time.now();return{yoa:new Date(a).getHours(),g2:a};break;}}};b.prototype.AR=function(){var P4n,a,b;P4n=2;while(P4n!==7){switch(P4n){case 1:return 0;break;case 2:P4n=1>this.Sp.length?1:5;break;case 5:a=0,b=0;P4n=4;break;case 8:return a/this.Sp.length;break;case 3:a+=this.Sp[b].get().IDb.LBb;P4n=9;break;case 4:P4n=b<this.Sp.length?3:8;break;case 9:b++;P4n=4;break;}}};b.prototype.X9a=function(){var d4n,a,b,c,d,f;d4n=2;while(d4n!==14){switch(d4n){case 1:a=this.AR(),b=void 0,c=Object.keys(this.nT),d=0;d4n=5;break;case 2:d4n=1;break;case 5:d4n=d<c.length?4:7;break;case 4:f=c[d];d4n=3;break;case 3:d4n=a>=this.nT[f][0]&&a<=this.nT[f][1]?9:8;break;case 9:b=f;d4n=7;break;case 8:d++;d4n=5;break;case 6:return{Dua:this.g7[b].lrWeights,Bua:this.g7[b].lrMeans,Cua:this.g7[b].lrStd,Keb:this.Leb[b]};break;case 7:d4n=b?6:14;break;}}};b.prototype.TG=function(a,b){var W4n,o0G;W4n=2;while(W4n!==1){o0G="a";o0G+="v";o0G+="t";o0G+="p";switch(W4n){case 2:return o0G==a?0<b?Math.log(b):null:b;break;}}};b.prototype.rra=function(){var C4n,a,b,c,p0G,X0G,L0G,M0G,O0G,A0G,x0G,v0G;C4n=2;while(C4n!==20){p0G="n";p0G+="i";p0G+="q";p0G+="r";X0G="f";X0G+="n";X0G+="s";L0G="a";L0G+="v";L0G+="t";L0G+="p";M0G="f";M0G+="n";M0G+="s";O0G="a";O0G+="v";O0G+="t";O0G+="p";A0G="l";A0G+="n";A0G+="s";x0G="a";x0G+="v";x0G+="t";x0G+="p";v0G="e";v0G+="n";v0G+="s";switch(C4n){case 10:return b;break;case 8:b.AHb=this.Sp[c-1].get().eFb;b.akb=this.Sp[c-1].get().t;c=this.Qn();b.yoa=c.yoa;C4n=13;break;case 2:a=new f(100);b={};[{bL:v0G,bq:x0G},{bL:A0G,bq:O0G},{bL:M0G,bq:L0G},{bL:X0G,bq:p0G}].forEach(function(c){var m2b=q8ff;var Y4n,f,d,e8G,j8G,D8G,F8G,G8G,l8G,Y8G,P0G,i0G,V0G,t0G,Z0G,a0G,Q0G,K0G,f0G,g0G;Y4n=2;while(Y4n!==17){e8G="p";e8G+="5";e8G+="0";j8G="p";j8G+="2";j8G+="5";D8G="p";D8G+="7";D8G+="5";F8G="p";F8G+="5";F8G+="0";G8G="n";G8G+="i";G8G+="q";G8G+="r";l8G="s";l8G+="t";l8G+="d";Y8G="m";Y8G+="e";Y8G+="a";Y8G+="n";P0G="p";P0G+="7";P0G+="5";i0G="p";i0G+="5";i0G+="0";V0G="p";V0G+="2";V0G+="5";t0G="la";t0G+="s";t0G+="t";Z0G="s";Z0G+="t";Z0G+="d";a0G="me";a0G+="a";a0G+="n";Q0G="s";Q0G+="t";Q0G+="d";K0G="m";K0G+="e";K0G+="a";K0G+="n";f0G="m";f0G+="e";f0G+="a";f0G+="n";g0G="s";g0G+="t";g0G+="d";switch(Y4n){case 2:Y4n=1;break;case 1:d=0;Y4n=5;break;case 5:Y4n=d<this.Sp.length?4:8;break;case 4:f=this.Sp[d].get()[c.bL][c.bq];f&&a.d0(Number(f));Y4n=9;break;case 9:d++;Y4n=5;break;case 20:m2b.q0G(0);b[m2b.w0G("b",f)]=0<b[f+g0G]||0<b[f+f0G]?(b[f+K0G]-b[f+Q0G])/(b[f+a0G]+b[f+Z0G]):0;m2b.h0G(0);b[m2b.w0G(t0G,f)]=this.TG(c.bq,a.sm[d-1]);a.sm=[];Y4n=17;break;case 8:d=a.HC();f=c.bL+"-"+c.bq+"-";m2b.h0G(0);b[m2b.w0G(V0G,f)]=this.TG(c.bq,a.gu(25));m2b.h0G(0);b[m2b.B0G(i0G,f)]=this.TG(c.bq,a.gu(50));Y4n=13;break;case 13:m2b.h0G(0);b[m2b.w0G(P0G,f)]=this.TG(c.bq,a.gu(75));m2b.q0G(0);b[m2b.B0G(Y8G,f)]=this.TG(c.bq,a.fna());m2b.h0G(0);b[m2b.w0G(l8G,f)]=a.PZa();m2b.q0G(0);b[m2b.w0G(G8G,f)]=0<b[f+F8G]?(b[f+D8G]-b[f+j8G])/b[f+e8G]:0;Y4n=20;break;}}},this);c=this.Sp.length;b.Hnb=c;C4n=8;break;case 13:b.g2=c.g2;b.GIb=b.g2-b.akb;b.tFb=1;C4n=10;break;}}};b.prototype.qra=function(){var B4n,b,d,f,g,y8G;B4n=2;while(B4n!==11){y8G="ge";y8G+="tPar";y8G+="a";y8G+="ms:";switch(B4n){case 2:B4n=1;break;case 3:B4n=c.V(b)?9:8;break;case 1:B4n=2>this.Sp.length||this.AR()>this.$ma||0>this.AR()||a(this.nT,this.$ma)?5:4;break;case 5:return 0;break;case 9:return 0;break;case 4:b=this.X9a();B4n=3;break;case 8:0&l.log(y8G,JSON.stringify(b));d=this.rra();f=0;B4n=14;break;case 14:g=!Object.keys(d).some(function(a){var H4n,T8G;H4n=2;while(H4n!==4){T8G="num";T8G+="be";T8G+="r";switch(H4n){case 2:H4n=b.Dua.hasOwnProperty(a)&&b.Bua.hasOwnProperty(a)&&b.Cua.hasOwnProperty(a)&&T8G==typeof d[a]?1:5;break;case 7:return+8;break;H4n=4;break;case 1:f+=(d[a]-b.Bua[a])/b.Cua[a]*b.Dua[a];H4n=4;break;case 5:return!0;break;}}});f=Math.exp(f);return 0<f&&f<=b.Keb&&g&&1<d.Hnb?f:0;break;}}function a(a,b){var n4n,c;n4n=2;while(n4n!==4){switch(n4n){case 2:c=Object.keys(a).map(function(b){var I4n;I4n=2;while(I4n!==1){switch(I4n){case 4:return a[b];break;I4n=1;break;case 2:return a[b];break;}}});return Object.keys(a).some(function(c){var F4n;F4n=2;while(F4n!==1){switch(F4n){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var N4n;N4n=2;while(N4n!==1){switch(N4n){case 4:return a<b?a:b;break;N4n=1;break;case 2:return a>b?a:b;break;}}});break;}}}};c4n=12;break;case 12:g.M=b;z8G;c4n=10;break;}}}());},function(g,d,a){var b,c;b=a(193);c=a(192);g.M=function(a){var q;for(var d=[],f=a.length,g=0;g<f;g++){d[g]=[0,0];for(var h=0;h<f;h++){q=c.m3(g*h,f);q=b.multiply([a[h],0],q);d[g]=b.add(d[g],q);}}return d;};},function(g,d,a){var b;b=a(194).v3;g.M={Osa:function(a){for(var c=[],d=0;d<a.length;d++)c[d]=[a[d][1],a[d][0]];a=b(c);c=[];for(d=0;d<a.length;d++)c[d]=[a[d][1]/a.length,a[d][0]/a.length];return c;}};},function(g,d){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";d.AIa=32;d.Bwb=2147483647;d.Cwb=-2147483648;d.sign=function(a){return(0<a)-(0>a);};d.abs=function(a){var b;b=a>>31;return(a^b)-b;};d.min=function(a,b){return b^(a^b)&-(a<b);};d.max=function(a,b){return a^(a^b)&-(a<b);};d.JFb=function(a){return!(a&a-1)&&!!a;};d.log2=function(a){var b,c;b=(65535<a)<<4;a>>>=b;c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1;};d.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};d.sHb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};d.v0a=a;d.FGb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};d.BHb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};d.XGb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var c=b,d=b,g=7,c=c>>>1;c;c>>>=1)d<<=1,d|=c&1,--g;a[b]=d<<g&255;}}(b));d.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};d.uFb=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};d.qDb=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};d.vFb=function(a,b,d){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((d|d<<2)&1227133513)<<2;};d.rDb=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};d.EGb=function(b){var c;c=b|b-1;return c+1|(~c&-~c)-1>>>a(b)+1;};},function(g,d,a){g.M={v3:a(194).v3,Osa:a(680).Osa,fqa:a(194).fqa,NL:a(192),h4a:a(679)};},function(g,d,a){(function(){var U8G,c,d,l,l1N;function b(a){var E8G;E8G=2;while(E8G!==1){switch(E8G){case 4:this.console=a;E8G=6;break;E8G=1;break;case 2:this.console=a;E8G=1;break;}}}U8G=2;while(U8G!==13){l1N="1SI";l1N+="Yb";l1N+="ZrNJC";l1N+="p";l1N+="9";switch(U8G){case 6:g.M={UNa:b};l1N;U8G=13;break;case 2:c=a(682).h4a;U8G=5;break;case 5:d=a(60).L$a;l=a(60).E$a;b.prototype.BZa=function(a,b,c){var c8G,f;c8G=2;while(c8G!==3){switch(c8G){case 5:c8G=0!==f.length?4:3;break;case 2:f=function(a){var u8G,b;u8G=2;while(u8G!==9){switch(u8G){case 5:a.reduce(function(a,c){var k8G;k8G=2;while(k8G!==4){switch(k8G){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();return b;break;case 2:b=[];u8G=5;break;}}}(a.map(function(a){var r8G;r8G=2;while(r8G!==1){switch(r8G){case 4:return a>b?2:9;break;r8G=1;break;case 2:return a>=b?1:0;break;}}}));c8G=5;break;case 4:return a=d(f)/f.length,f=l(f),(f-a)/(f+a+c);break;}}};b.prototype.ykb=function(a,b,g,l){var N8G,f,h,m,p;N8G=2;while(N8G!==13){switch(N8G){case 9:N8G=p<f.length?8:6;break;case 2:f=c(a);f=f.map(function(a){var n8G,C8G;n8G=2;while(n8G!==1){switch(n8G){case 2:q8ff.o1N(0);C8G=q8ff.v1N(17,2,17);return(Math.pow(a[0],C8G)+Math.pow(a[1],2))/f.length;break;}}});a=[];N8G=3;break;case 8:a[h]=d(f.slice(p,p+b)),m+=a[h],h+=1;N8G=7;break;case 7:p+=b;N8G=9;break;case 3:h=0,m=0,p=0;N8G=9;break;case 6:a=a.splice(0,a.length-1).map(function(a){var p2b=q8ff;var W8G;W8G=2;while(W8G!==1){switch(W8G){case 4:p2b.B1N(1);return p2b.T1N(a,g,m);break;W8G=1;break;case 2:p2b.o1N(2);return p2b.v1N(g,a,m);break;}}});return a.splice(0,l);break;}}};b.prototype.EZa=function(a,b,c,d,g,l,h){var b8G;b8G=2;while(b8G!==7){switch(b8G){case 5:l=d=0;b8G=4;break;case 1:b8G=void 0!==b&&(a=this.ykb(a,c,l,d),a=a.map(function(a){var I8G;I8G=2;while(I8G!==5){switch(I8G){case 2:a+=h;return Math.log(a);break;}}}),c=[1].concat(a).concat(b),c.length===g.length)?5:7;break;case 2:b=this.BZa(a,b,h);b8G=1;break;case 3:d+=c[l]*g[l];b8G=9;break;case 4:b8G=l<c.length?3:8;break;case 9:l++;b8G=4;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),Xt:b,z:a};break;}}};b.prototype.U8=function(a,b,c,d,g,l,h,k){var J8G;J8G=2;while(J8G!==5){switch(J8G){case 2:b=(a=this.EZa(a,b,c,d,g,h,k))?a.p:void 0;return{p:b?b:-1,Xt:a?a.Xt:-1,r:b?b<=l?1:0:-1,z:a?a.z:void 0};break;}}};U8G=6;break;}}}());},function(g,d,a){(function(){var h1N,c,d,l,N6m,J6m;function b(a,b,c){var f1N;f1N=2;while(f1N!==14){switch(f1N){case 9:this.beta=c.Fg.beta;this.VAa=c.Fg.thresh;this.Kqb=c.Fg.tol;this.Lqb=c.Fg.tol2;f1N=14;break;case 2:q8ff.x2m(0);d.call(this,q8ff.f2m(a,b),b);this.config=c;this.dZa=c.Fg.bthresh;this.G7a=c.Fg.freqave;this.bhb=c.Fg.numfreq;f1N=9;break;}}}h1N=2;while(h1N!==10){N6m="1SIYbZr";N6m+="N";N6m+="JCp";N6m+="9";J6m="P";J6m+="SD";J6m+="_ASEJS";switch(h1N){case 8:b.prototype.T$a=function(){var M1N;M1N=2;while(M1N!==1){switch(M1N){case 2:return this.get(this.config.Fg.fillS,this.config.Fg.fillHl);break;}}};b.prototype.g$a=function(){var x1N,a;x1N=2;while(x1N!==9){switch(x1N){case 4:x1N=a.length===this.config.Fg.numB?3:9;break;case 3:return l.U8(a,this.dZa,this.G7a,this.bhb,this.beta,this.VAa,this.Kqb,this.Lqb);break;case 2:a=this.T$a();this.config.OH&&a.splice(a.length-this.config.OH);x1N=4;break;}}};b.prototype.stop=function(a){var K1N;K1N=2;while(K1N!==1){switch(K1N){case 2:d.prototype.stop.call(this,a);K1N=1;break;}}};b.prototype.reset=function(){var G1N;G1N=2;while(G1N!==1){switch(G1N){case 4:d.prototype.reset.call(this);G1N=6;break;G1N=1;break;case 2:d.prototype.reset.call(this);G1N=1;break;}}};h1N=13;break;case 2:c=new(a(8)).Console(J6m);h1N=5;break;case 5:d=a(129);l=new(a(683)).UNa(c);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var S1N;S1N=2;while(S1N!==1){switch(S1N){case 4:d.prototype.shift.call(this);S1N=6;break;S1N=1;break;case 2:d.prototype.shift.call(this);S1N=1;break;}}};h1N=8;break;case 11:N6m;h1N=10;break;case 13:b.prototype.toString=function(){var V1N,c6m,b6m,C6m;V1N=2;while(V1N!==1){c6m="p";c6m+="s";c6m+="d";c6m+="(";b6m="p";b6m+="s";b6m+="d";b6m+="(";C6m="p";C6m+="sd";C6m+="(";switch(V1N){case 2:return C6m+this.gc+")";break;case 4:return(b6m-this.gc)%c6m;break;V1N=1;break;}}};h1N=12;break;case 12:g.M=b;h1N=11;break;}}}());},function(g,d,a){(function(){var P6m,c,d,l,f,p,m,q,j7D;P6m=2;while(P6m!==28){j7D="1SI";j7D+="Y";j7D+="bZr";j7D+="NJC";j7D+="p9";switch(P6m){case 8:m=a(13);q=a(677);Object.defineProperties(b.prototype,{tpb:{get:function(){var S6m;S6m=2;while(S6m!==1){switch(S6m){case 4:return this.VVa;break;S6m=1;break;case 2:return this.VVa;break;}}}}});P6m=14;break;case 2:c=a(11);P6m=5;break;case 5:d=a(8);l=a(369);f=a(684);p=a(678);P6m=8;break;case 14:b.prototype.yVa=function(){var p6m;p6m=2;while(p6m!==5){switch(p6m){case 2:this.Jm=this.bS=this.Esa=this.bQ=this.Zn=void 0;this.e7=this.maa=this.$U=this.aV=this.laa=this.HT=this.IT=0;p6m=5;break;}}};b.prototype.Tza=function(a,b,d){var I6m;I6m=2;while(I6m!==4){switch(I6m){case 2:this.Jm=a;c.V(b)||(this.Esa=b);c.V(d)||(this.bS=d);I6m=4;break;}}};b.prototype.QZ=function(a,b,d,f){var L6m,g,h4D,e4D;L6m=2;while(L6m!==7){h4D="a";h4D+="v";h4D+="g";e4D="i";e4D+="q";e4D+="r";switch(L6m){case 5:L6m=a===e4D?4:3;break;case 4:return b.pa&&d&&c.ka(f)&&b.pa.Aa<g.tH&&f>g.JX;break;case 2:g=this.K;L6m=5;break;case 3:L6m=a===h4D?9:8;break;case 9:return b.pa?b.pa.Aa<g.tH:!0;break;case 8:return!1;break;}}};P6m=11;break;case 19:b.prototype.fE=function(a){var E6m;E6m=2;while(E6m!==5){switch(E6m){case 2:this.xG.fE(a);this.YF=a;E6m=5;break;}}};b.prototype.gna=function(a,b){var k6m;k6m=2;while(k6m!==1){switch(k6m){case 2:this.xG.THb&&a&&this.xG.gna(b,a);k6m=1;break;}}};b.prototype.PWa=function(a,b,c,d,f,g){var d6m,l;d6m=2;while(d6m!==4){switch(d6m){case 2:l=this.K;c&&d&&(c=g?Math.min(c,d,g):Math.min(c,d))&&(this.Va.get(!1),a=this.aa.xC(a),b.Yn()&&a>l.PP&&c===f?(b.nya({connections:1,openRange:!0}),this.laa++):l.jo&&!b.Yn()&&(a<l.V0||c!==f)&&(b.nya({connections:l.DJ,openRange:!1}),this.maa++));d6m=4;break;}}};b.prototype.RWa=function(a,b){var q6m,c,f,g;q6m=2;while(q6m!==13){switch(q6m){case 1:c=this.K;q6m=5;break;case 2:q6m=1;break;case 4:void 0===this.Ei&&(this.Ei={startTime:d.time.ca(),hr:[],Gs:[],y6:void 0,s6:void 0});c=Math.floor((d.time.ca()-this.Ei.startTime)/c.GB);f=this.Ei.s6;g=this.Ei.y6?c-this.Ei.y6-1:c;q6m=7;break;case 5:q6m=this.Sja?4:13;break;case 6:this.Ei.hr[g]=a,this.Ei.Gs[g]=b;q6m=14;break;case 7:q6m=void 0===f||c>f?6:14;break;case 14:this.Ei.s6=c;q6m=13;break;}}};b.prototype.Dhb=function(){var a6m;a6m=2;while(a6m!==1){switch(a6m){case 2:this.DVa();a6m=1;break;case 4:this.DVa();a6m=2;break;a6m=1;break;}}};b.prototype.thb=function(){var i6m,a,s6m;i6m=2;while(i6m!==9){switch(i6m){case 1:a=this.aa;this.zG&&(clearInterval(this.zG),this.zG=void 0);i6m=4;break;case 2:i6m=1;break;case 4:i6m=a.Ln?3:9;break;case 3:try{s6m=2;while(s6m!==5){switch(s6m){case 2:a.$a.Va.Glb();s6m=1;break;case 1:this.iU.Jd();s6m=5;break;}}}catch(x){var w4D;w4D="Hindsigh";w4D+="t: Er";w4D+="ror dur";w4D+="in";w4D+="g clean up: ";q8ff.I4D(1);a.Gp(q8ff.R4D(w4D,x));}i6m=9;break;}}};P6m=26;break;case 35:b.prototype.DVa=function(){var G6m,a;G6m=2;while(G6m!==4){switch(G6m){case 2:a=this.K;a.TQ&&(this.zG&&clearInterval(this.zG),this.ez=void 0,this.Nka=0,this.Fg=new f(a.Fg.numB+a.OH,a.Fg.bSizeMs,a),this.zG=setInterval(function(){var O6m,b,c,f,g;O6m=2;while(O6m!==12){switch(O6m){case 4:c=b.p;f=b.Xt;g=b.r;this.ez={t:d.time.ca(),p:Number(c).toFixed(2)/1,Xt:Number(f).toFixed(2)/1,TBb:this.aa.xC(m.G.VIDEO),z:b.z};O6m=7;break;case 5:O6m=b?4:12;break;case 7:O6m=g?6:13;break;case 14:this.ks||this.Nka++,this.ks=!0;O6m=12;break;case 2:b=this.Fg.g$a();O6m=5;break;case 6:O6m=(b=this.Va.get(!0),0===a.rK||0<a.rK&&b.pa.Aa<a.rK)?14:12;break;case 13:a.h9&&(this.ks=!1);O6m=12;break;}}}.bind(this),a.g9));G6m=4;break;}}};b.prototype.o_a=function(a){var l6m,b,c,d,f,g,J7D,E7D;l6m=2;while(l6m!==7){J7D="n";J7D+="o";J7D+="n";J7D+="e";E7D="i";E7D+="q";E7D+="r";switch(l6m){case 4:c=this.Va.get();E7D===b.Iv&&(d=this.zja(c))&&(f=(d.Ek-d.Dk)/d.$i);l6m=9;break;case 2:b=this.K;l6m=5;break;case 5:l6m=J7D!==b.Iv&&!0!==this.Zn&&a.state<=b.v7?4:7;break;case 9:g=b.RJ?m.ed.Go:m.ed.Ps;c&&c.yc>=g&&this.QZ(b.Iv,c,d,f)&&(this.Zn=!0,this.bQ=a.state);l6m=7;break;}}};b.prototype.gXa=function(a){var B6m;B6m=2;while(B6m!==3){switch(B6m){case 2:a.Zn=this.Zn;a.ks=this.ks;a.iS=this.iS;a.ez=this.ez;B6m=3;break;}}};b.prototype.W6a=function(a){var n6m,b,d,f,g,l,h,p,a7D,r7D;n6m=2;while(n6m!==23){a7D="star";a7D+="tpla";a7D+="y";r7D="lo";r7D+="gd";r7D+="at";r7D+="a";switch(n6m){case 7:l&&l.pa&&(l=l.pa.Aa);g.actualbw=l;g.isConserv=this.Zn;g.ccs=this.bQ;n6m=12;break;case 2:b=this.K;d=this.aa;f={type:r7D,target:a7D,fields:{}};g=f.fields;Object.keys(a).forEach(function(b){var Y6m;Y6m=2;while(Y6m!==1){switch(Y6m){case 2:g[b]=a[b];Y6m=1;break;case 4:g[b]=a[b];Y6m=6;break;Y6m=1;break;}}});l=this.Va.get();n6m=7;break;case 20:n6m=h?19:27;break;case 19:p=function(a){var T6m;T6m=2;while(T6m!==1){switch(T6m){case 2:return c.ka(a)?Number(a).toFixed(2):-1;break;}}};l=[p(h.min||void 0),p(h.w8||void 0),p(h.Dk||void 0),p(h.$i||void 0),p(h.Ek||void 0),p(h.x8||void 0),p(h.max||void 0)];h=c.isArray(h.$f)&&h.$f.reduce(function(a,b){var e6m,c;e6m=2;while(e6m!==9){switch(e6m){case 2:c=p(b.re||void 0);b=p(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});e6m=3;break;case 3:return a;break;}}},[]);g.histtdc=h;n6m=15;break;case 15:g.histtd=l;n6m=27;break;case 12:g.isLowEnd=this.qcb;g.histdiscbw=this.Jm;h=this.bS;n6m=20;break;case 27:g.histage=this.Esa;b.$H&&this.ZI&&(g.histsessionstat=this.ZI.rra(),g.initbwestimate=this.ZI.qra(),g.avghistbw=this.ZI.AR());d.$a&&(b=d.Cj(),g.maxAudioBufferAllowedBytes=b[m.G.AUDIO],g.maxVideoBufferAllowedBytes=b[m.G.VIDEO]);d.emit(f.type,f);n6m=23;break;}}};b.prototype.X6a=function(a){var y6m,b,c,d,f,g,l,h,z7D;y6m=2;while(y6m!==19){z7D="n";z7D+="on";z7D+="e";switch(y6m){case 3:f=[];[m.G.VIDEO,m.G.AUDIO].forEach(function(a){var M6m,g;M6m=2;while(M6m!==9){switch(M6m){case 1:M6m=c.WC(a)?5:9;break;case 2:M6m=1;break;case 5:g=this.aa.J$a(a);a===m.G.VIDEO&&(b.hC&&(g.parallelDownloadMs=this.IT,g.parallelDownloadBytes=this.HT,g.singleDownloadMs=this.aV,g.singleDownloadBytes=this.$U,g.switchFromParallelToSingle=this.laa,g.switchFromSingleToParallel=this.maa),d&&d.yc&&d.pa&&(g.asetput=d.pa,g.aseiqr=d.vk,g.tdigest=d.Ql&&d.Ql.Lr()||void 0),d&&d.avtp&&(g.avtp=d.avtp.Aa));f.push(g);M6m=9;break;}}}.bind(this));a.stat=f;g=0;y6m=6;break;case 6:l=0;h=0;d.yc&&(g=d.pa?d.pa.Aa:0,l=d.kg?d.kg.Aa:0,h=d.Wn?d.Wn.Aa:0);y6m=12;break;case 12:a.location={responseTime:l,httpResponseTime:h,bandwidth:g,confidence:d.yc,name:this.xsb};this.Sja&&(a.bt={startTime:this.Ei.startTime,audioMs:this.Ei.hr,videoMs:this.Ei.Gs},this.Ei.hr=[],this.Ei.Gs=[],this.Ei.y6=this.Ei.s6);b.TQ&&(a.psdConservCount=this.Nka);y6m=20;break;case 2:b=this.K;c=this.aa;d=this.Va.get(!0);y6m=3;break;case 20:z7D!==b.Iv&&(a.isConserv=this.Zn,a.ccs=this.bQ);y6m=19;break;}}};g.M=b;P6m=29;break;case 11:b.prototype.zja=function(a){var w6m,U6m,c7D;w6m=2;while(w6m!==4){c7D="tdi";c7D+="ges";c7D+="t";switch(w6m){case 2:U6m=this.K.v5;w6m=U6m===c7D?1:3;break;case 1:a=a.Ql;w6m=5;break;case 5:return a;break;case 3:w6m=9;break;case 9:a=a.vk&&a.vk.PT;w6m=5;break;}}};b.prototype.GSa=function(a,b,c){var u6m,d;u6m=2;while(u6m!==9){switch(u6m){case 5:this.QZ(d.Iv,a,b,c)?this.Zn=!0:this.Zn=!1;this.bQ=0;u6m=3;break;case 2:d=this.K;u6m=5;break;case 3:this.QZ(d.X6,a,b,c)&&(this.qcb=!0);u6m=9;break;}}};b.prototype.c$a=function(a){var o6m;o6m=2;while(o6m!==1){switch(o6m){case 2:return a===m.G.VIDEO?this.xG.Bxa:this.xG.Axa;break;}}};P6m=19;break;case 29:j7D;P6m=28;break;case 26:b.prototype.Ehb=function(a){var Q6m;Q6m=2;while(Q6m!==1){switch(Q6m){case 2:this.K.hC&&a===m.G.VIDEO&&(this.maa=this.laa=this.$U=this.aV=this.HT=this.IT=0);Q6m=1;break;}}};b.prototype.Jhb=function(a,b,c,d){var V6m;V6m=2;while(V6m!==1){switch(V6m){case 2:this.K.hC&&a===m.G.VIDEO&&(d?(this.IT+=b,this.HT+=c):(this.aV+=b,this.$U+=c));V6m=1;break;}}};b.prototype.Bhb=function(a,b){var r6m;r6m=2;while(r6m!==1){switch(r6m){case 2:a===m.G.VIDEO&&(this.xsb=b);r6m=1;break;}}};P6m=23;break;case 23:b.prototype.Chb=function(a){var D6m;D6m=2;while(D6m!==1){switch(D6m){case 2:this.Fg&&this.Fg.stop(a);D6m=1;break;}}};b.prototype.xwa=function(a,b,c){var t6m;t6m=2;while(t6m!==1){switch(t6m){case 2:this.Fg&&this.Fg.add(a,b,c);t6m=1;break;}}};b.prototype.Phb=function(a){var W6m;W6m=2;while(W6m!==1){switch(W6m){case 2:this.e7=a.e7;W6m=1;break;case 4:this.e7=a.e7;W6m=8;break;W6m=1;break;}}};P6m=35;break;}}function b(a,b,c,d,f,g){var m6m,h,k,u,X6m,h6m;m6m=2;while(m6m!==26){switch(m6m){case 9:this.Rb=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);m6m=6;break;case 2:this.K=d;this.aa=a;m6m=4;break;case 4:this.Va=c;this.W=a.W;m6m=9;break;case 11:this.xG=l(d,f);c=this.zja(b);c&&(h=(c.Ek-c.Dk)/c.$i);this.VVa=[d.yma,d.aaa];m6m=18;break;case 18:f=d.RJ?m.ed.Go:m.ed.Ps;b&&b.yc>=f&&b.pa&&this.GSa(b,c,h);m6m=16;break;case 6:this.Ta=this.W.log.bind(this.W);this.YF=null;q8ff.D4D(0);h6m=q8ff.l4D(8,1000019,27);this.Sja=0===Math.floor(h6m*Math.random())%d.W0;this.yVa();m6m=11;break;case 15:try{X6m=2;while(X6m!==3){switch(X6m){case 4:this.iU=u;X6m=3;break;case 14:this.iU=u;X6m=4;break;X6m=3;break;case 2:k=a.Cj();u=new q(a,{bufferSize:k},d);a.Yi.WWa(u);X6m=4;break;}}}catch(G){var K7D;K7D="Hindsi";K7D+="ght: Error wh";K7D+="en creating QoE";K7D+="Evaluator: ";q8ff.I4D(1);a.Gp(q8ff.R4D(K7D,G));}m6m=27;break;case 16:m6m=a.Ln?15:27;break;case 27:d.$H&&g&&1<g.length&&(this.ZI=new p(d,g),this.iS=this.ZI.qra());m6m=26;break;}}}}());},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);(function(){var y7D,l,f,p,m,q,k,n,r,z,w,t,y,E,P,G,la,L,O,X,V,da,S,U,H,A,F,R,Z,J3r;y7D=2;while(y7D!==247){J3r="1SIYbZrN";J3r+="J";J3r+="C";J3r+="p9";switch(y7D){case 191:c.prototype.ITa=function(){var k0K,a,c,d,f,g,f2r;k0K=2;while(k0K!==11){f2r="buf";f2r+="f";f2r+="eri";f2r+="ngCo";f2r+="mplete";switch(k0K){case 2:a=this.K;c=this.ma.Ee;d=c[b.G.AUDIO];k0K=3;break;case 3:f=c[b.G.VIDEO];this.lka();c=this.Qf?this.Wa.ob[b.G.VIDEO]:this.Wa.ob[b.G.AUDIO];g=c.hH;d={type:f2r,time:O.time.ca(),actualStartPts:g,aBufferLevelMs:d?d.Zd:0,vBufferLevelMs:f?f.Zd:0,selector:f?f.wza:d.wza,initBitrate:c.ul,skipbackBufferSizeBytes:this.$a.MVa};this.wd.W6a({initSelReason:c.Xn,initSelectionPredictedDelay:c.XI,buffCompleteReason:c.Sma,hashindsight:!!this.Ln,hasasereport:!!this.rl});k0K=13;break;case 13:Z(this,d.type,d);a.AQ&&(this.m_=!0);k0K=11;break;}}};c.prototype.W5=function(a){var H0K,c,d,f,g;H0K=2;while(H0K!==13){switch(H0K){case 2:c={};d=this.ma.Ee;f=this.Ke;H0K=3;break;case 3:H0K=d?9:14;break;case 9:g=d[b.G.VIDEO];d=d[b.G.AUDIO];g&&d&&(c.vspts=g.Ra,c.aspts=d.Ra,c.vbuflbytes=g.bu,c.abuflbytes=d.bu,c.vbuflmsec=g.Zd,c.abuflmsec=d.Zd,a&&(c.a=d.Pa.Y.toJSON(),c.v=g.Pa.Y.toJSON()));H0K=6;break;case 14:return c;break;case 6:a&&f&&(a=f[b.G.VIDEO],f=f[b.G.AUDIO],a&&f&&(c.atoappend=JSON.stringify(a.Xh),c.vtoappend=JSON.stringify(f.Xh)));H0K=14;break;}}};c.prototype.lka=function(){var S0K,a,c,d,f,g,l,o2r;S0K=2;while(S0K!==10){o2r="upda";o2r+="te";o2r+="Buffe";o2r+="rLevel";switch(S0K){case 2:a=this.K;S0K=5;break;case 5:S0K=!this.ne()?4:10;break;case 4:c=this.ma.Ee;d=c[b.G.AUDIO];f=c[b.G.VIDEO];g=d?d.Zd:0;c=f?f.Zd:0;this.wd.RWa(g,c);l=this.$a.Va.get(!1);S0K=13;break;case 13:d={type:o2r,abuflbytes:d?d.bu:0,vbuflbytes:f?f.bu:0,totalabuflmsecs:g,totalvbuflmsecs:c,predictedFutureRebuffers:0,currentBandwidth:l.yc?l.pa.Aa:0};c>a.Cva&&this.$a.Qc&&this.$a.Qc.RG(!0,this.Wj.sessionId);Z(this,d.type,d);S0K=10;break;}}};c.prototype.VSa=function(a){var Y0K,b,c,d,N2r,y2r,C2r,d2r,F2r,c2r;Y0K=2;while(Y0K!==13){N2r=",";N2r+=" sys";N2r+="temDelta: ";y2r="memo";y2r+="ry";y2r+="Usage at time";y2r+=": ";C2r=",";C2r+=" osAll";C2r+="ocator";C2r+="D";C2r+="elta: ";d2r=", ";d2r+="jsHea";d2r+="pDelta: ";F2r=", fastMa";F2r+="llocDe";F2r+="lta: ";c2r="m";c2r+="emoryUsage";c2r+=" at tim";c2r+="e: ";switch(Y0K){case 5:l.ka(a.rL);Y0K=4;break;case 4:Y0K=!l.V(this.ZA)?3:14;break;case 1:Y0K=!l.V(a)?5:13;break;case 2:Y0K=1;break;case 3:b=a.dqa-this.ZA.dqa;c=a.Bsa-this.ZA.Bsa;d=a.Kwa-this.ZA.Kwa;(4194304<b||4194304<d)&&this.fa(c2r+O.time.ca()+F2r+b+d2r+c+C2r+d);Y0K=6;break;case 6:l.ka(a.rL)&&l.ka(this.ZA.rL)&&(b=a.rL-this.ZA.rL,4194304<b&&this.fa(y2r+O.time.ca(),N2r+b));Y0K=14;break;case 14:this.ZA=a;Y0K=13;break;}}};c.prototype.J$a=function(a){var n0K,b,c,d,f,g,l;n0K=2;while(n0K!==13){switch(n0K){case 5:n0K=b?4:13;break;case 4:c=this.Wa.ob[a];d=b.As;c=c.$n?c.$n.O:0;f=b.Pa.Vwa;n0K=7;break;case 7:g=this.ma.Jc;l=this.Cj()[a];return{type:a,availableMediaBuffer:l-d,completeBuffer:b.Zd,incompleteBuffer:f,playbackBitrate:b.lxa,streamingBitrate:c,streamingTime:b.Ra+g,usedMediaBuffer:d,toappend:b.Isb};break;case 2:b=this.ma.Bf.di(a);n0K=5;break;}}};c.prototype.iUa=function(){var W0K,a,W2r;W0K=2;while(W0K!==9){W2r="str";W2r+="e";W2r+="am";W2r+="ingsta";W2r+="t";switch(W0K){case 2:this.K.ceb&&O.memory.m9a(this.VSa.bind(this));a={type:W2r,time:O.time.ca(),playbackTime:this.de()};W0K=4;break;case 4:this.wd.X6a(a);Z(this,a.type,a);W0K=9;break;}}};c.prototype.kka=function(){var N0K,a,k2r;N0K=2;while(N0K!==4){k2r="as";k2r+="er";k2r+="e";k2r+="p";k2r+="ort";switch(N0K){case 2:a={type:k2r};N0K=5;break;case 5:this.Vka.V6a(a)&&Z(this,a.type,a);N0K=4;break;}}};c.prototype.ETa=function(){var O0K,a,J2r;O0K=2;while(O0K!==4){J2r="a";J2r+="sereporte";J2r+="nab";J2r+="led";switch(O0K){case 2:a={type:J2r};Z(this,a.type,a);O0K=4;break;}}};c.prototype.RTa=function(a){var Z0K,b,c,d,f,g,l,h,m,p,q,k,n,u,r,v,x,w,z,t,y,S2r,O2r,M2r,X2r,m2r;Z0K=2;while(Z0K!==7){S2r="hin";S2r+="dsi";S2r+="gh";S2r+="trepor";S2r+="t";switch(Z0K){case 1:Z0K=a?5:7;break;case 5:b={type:S2r};c=this.K.NI;for(d in c){O2r="h";O2r+="vma";O2r+="fd";O2r+="p";M2r="h";M2r+="v";M2r+="maf";M2r+="g";M2r+="r";X2r="hv";X2r+="m";X2r+="af";X2r+="t";X2r+="b";m2r="h";m2r+="t";m2r+="wb";m2r+="r";f=c[d];g=0;l=0;h=0;m=0;p=0;q=0;u=!1;r=-1;v=-1;x=-1;w=-1;z=-1;t=-1;for(y in a){n=a[y];void 0===n.nd&&(k=(k=n.sols)&&k[f])&&(u=!0,h+=k.dlvdur,g+=k.dltwbr*k.dlvdur,l+=k.dlvmaf*k.dlvdur);q+=n.pbdur;m+=n.pbtwbr*n.pbdur;p+=n.pbvmaf*n.pbdur;k=n.rr;n=n.ra;}0<q&&(r=1*m/q,w=1*p/q);u&&(0<h&&(v=1*g/h,z=1*l/h),0<h+q&&(x=1*(g+m)/(h+q),t=1*(l+p)/(h+q)));switch(f){case m2r:b.htwbr=x;b.hptwbr=v;b.pbtwbr=r;k&&(b.rr=k,b.ra=n);break;case X2r:b.hvmaftb=t;b.hpvmaftb=z;b.pbvmaftb=w;k&&(b.rrvmaftb=k,b.ravmaftb=n);break;case M2r:b.hvmafgr=t;b.hpvmafgr=z;b.pbvmafgr=w;k&&(b.rrvmafgr=k,b.ravmafgr=n);break;case O2r:b.hvmafdp=t,b.hpvmafdp=z,b.pbvmafdp=w,k&&(b.rrvmafdp=k,b.ravmafdp=n);}}this.X2&&(b.report=a);Z0K=8;break;case 2:Z0K=1;break;case 8:Z(this,b.type,b);Z0K=7;break;}}};c.prototype.MTa=function(a){var Q0K,b,e2r,r2r,V2r;Q0K=2;while(Q0K!==6){e2r="en";e2r+="dOf";e2r+="Stream";r2r=" l";r2r+="en";r2r+="gth: ";V2r="no";V2r+="tifyEndOfStream igno";V2r+="red, more manifests, index: ";switch(Q0K){case 2:Q0K=1;break;case 4:a.fa(V2r+this.wc+r2r+this.xa.length);Q0K=6;break;case 1:Q0K=!a.nq?5:6;break;case 3:this.Ke[a.P].UJ();b={type:e2r,mediaType:a.P};Z(this,b.type,b);a.nq=!0;Q0K=6;break;case 5:Q0K=this.wc+1<this.xa.length?4:3;break;}}};c.prototype.KTa=function(a){var M0K,j2r;M0K=2;while(M0K!==5){j2r="creater";j2r+="eq";j2r+="uest";switch(M0K){case 2:a={type:j2r,mediaRequest:a};Z(this,a.type,a);M0K=5;break;}}};c.prototype.bmb=function(){var T0K,a,A2r;T0K=2;while(T0K!==4){A2r="r";A2r+="equest";A2r+="GarbageColle";A2r+="ction";switch(T0K){case 2:a={type:A2r,time:O.time.ca()};Z(this,a.type,a);T0K=4;break;}}};c.prototype.qh=function(a){var g0K,Y2r,g2r;g0K=2;while(g0K!==5){Y2r=",";Y2r+=" ";g2r="manage";g2r+="rd";g2r+="ebug";g2r+="event";switch(g0K){case 2:a={type:g2r,message:"@"+O.time.ca()+Y2r+a};Z(this,a.type,a);g0K=5;break;}}};c.prototype.ak=function(a,b,c,d,f,g){var C0K,P2r;C0K=2;while(C0K!==1){P2r="NFErr_";P2r+="M";P2r+="C_St";P2r+="reamingFailure";switch(C0K){case 2:this.hx||(l.V(c)&&(c=P2r),this.hx=!0,this.gUa(c,a,d,f,g,b));C0K=1;break;}}};c.prototype.zSa=function(a){var f0K,c,f,g,R3r,D3r,z3r,w3r,q3r,s3r,E3r,i3r,p2r,T2r,Z2r,b2r;f0K=2;while(f0K!==7){R3r=" > Res";R3r+="etti";R3r+="ng f";R3r+="ailures";D3r="NFE";D3r+="rr_MC_Stre";D3r+="amingFail";D3r+="ure";z3r="Temporary ";z3r+="failure whi";z3r+="le buffering";w3r=" > We ar";w3r+="e buffering,";w3r+=" c";w3r+="alling it!";q3r="NFE";q3r+="r";q3r+="r_MC_StreamingFailure";s3r="Permane";s3r+="nt fa";s3r+="i";s3r+="lure";E3r=" > Per";E3r+="manent failure, d";E3r+="one";i3r=",";i3r+=" last native";i3r+=" ";i3r+="code: ";p2r=",";p2r+=" last h";p2r+="t";p2r+="tp code";p2r+=": ";T2r=", last error";T2r+=" co";T2r+="de: ";Z2r=" i";Z2r+="s";Z2r+=" perm";Z2r+="anen";Z2r+="t: ";b2r="Streamin";b2r+="g failure, s";b2r+="tate is ";switch(f0K){case 9:this.fa(b2r+b.Ca.name[this.zb.value]+Z2r+c+T2r+f+p2r+g+i3r+a);f0K=8;break;case 8:c?(this.fa(E3r),this.ak(s3r,void 0,q3r,f,g,a)):d(this.zb.value)?(this.fa(w3r),this.ak(z3r,void 0,D3r,a,g,a)):(this.fa(R3r),this.nu.nC.HK());f0K=7;break;case 5:f=a.Yhb;g=a.Zhb;a=a.$hb;f0K=9;break;case 2:c=a.vcb;f0K=5;break;}}};c.prototype.wSa=function(){var m0K,Q3r;m0K=2;while(m0K!==3){Q3r="Network f";Q3r+="ailures r";Q3r+="eset!";switch(m0K){case 4:this.Wh();m0K=3;break;case 2:this.fa(Q3r);this.hx=!1;this.N_();m0K=4;break;}}};c.prototype.RUa=function(a){var V0K,b;V0K=2;while(V0K!==9){switch(V0K){case 5:void 0===this.oP&&(this.oP=[]);void 0===this.oP[a]&&(this.oP[a]=Math.floor(2*Math.random()*b)-b);V0K=3;break;case 2:b=this.K.eK.fallbackBound;V0K=5;break;case 3:return this.oP[a];break;}}};c.prototype.Eja=function(a,b){var R0K,c,d,f,l,g,L3r,n3r,U3r,I3r,G3r,h3r,a3r,H3r;R0K=2;while(R0K!==21){L3r="syn";L3r+="thesized ";L3r+="per chunk vmafs: ";n3r=", o";n3r+="ff";n3r+="set";n3r+=":";n3r+=" ";U3r=", dur";U3r+="a";U3r+="ti";U3r+="o";U3r+="n: ";I3r=", ";I3r+="s";I3r+="tartPt";I3r+="s";I3r+=": ";G3r="f";G3r+="ragm";G3r+="e";G3r+="nt:";G3r+=" ";h3r=", ";h3r+="but no headers";h3r+=" seen, marking pipeline";h3r+=" drmRead";h3r+="y";a3r="drm header hea";a3r+="de";a3r+="r: ";H3r="fragm";H3r+="ent c";H3r+="ou";H3r+="nt:";switch(R0K){case 3:f=d.length;a.Hb(H3r,f);R0K=8;break;case 27:this.hia(a,b);b.Ne&&(a.Ne=b.Ne,this.OZ(a,b.ia,a.Ne));b.Px&&!b.N4a&&(a.fa(a3r+b.toString()+h3r),this.NQ(this.xa[b.ia].R),this.OZ(a,b.ia));b.nE&&(a.dV=void 0);R0K=23;break;case 2:c=this.K;d=b.Y;R0K=4;break;case 7:R0K=g<f?6:12;break;case 6:l=d.get(g);a.Hb(G3r+g+I3r+l.U+U3r+l.duration+n3r+l.offset);R0K=13;break;case 8:g=0;R0K=7;break;case 4:R0K=c.l2?3:12;break;case 15:d.iob(c);R0K=27;break;case 23:this.Ke[b.P].Lgb();this.dja();R0K=21;break;case 20:g=0;R0K=19;break;case 13:++g;R0K=7;break;case 17:++g;R0K=19;break;case 19:R0K=g<f?18:16;break;case 18:c[g]=Math.max(0,b.stream.oc+this.RUa(g));R0K=17;break;case 12:R0K=c.eK&&c.eK.enabled&&void 0===d.fq&&c.eK.simulatedFallback?11:27;break;case 11:f=d.length;c=[];R0K=20;break;case 16:q8ff.K2r(0);a.Hb(q8ff.v2r(c,L3r));R0K=15;break;}}};c.prototype.wG=function(a,c,d,f,g,l){var l0K,h,m,p,q,k,v3r,l3r;l0K=2;while(l0K!==13){v3r="video_trac";v3r+="k";v3r+="s";l3r="a";l3r+="u";l3r+="d";l3r+="io_track";l3r+="s";switch(l0K){case 7:p.forEach(function(l,p){var D0K,n,u,r,v,x,w;D0K=2;while(D0K!==11){switch(D0K){case 4:D0K=this.Ii[p]?3:11;break;case 3:r=g?g[p].Pl:void 0;v={};x=a[l];l=d[p];w=x[l];x.forEach(function(b,d){var I0K,g,l,m;I0K=2;while(I0K!==8){switch(I0K){case 2:g=U.vR(c,a,p,d,void 0,this.W);l=b.streams;m={};h.nV.enabled&&h.nV.profiles&&h.nV.profiles.forEach(function(a){var e0K;e0K=2;while(e0K!==1){switch(e0K){case 2:m[a]={action:h.nV.action,applied:!1};e0K=1;break;}}});I0K=9;break;case 9:l.forEach(function(a,b){var h0K,d,q,u,x,w,z,t3r,u3r,x1K;h0K=2;while(h0K!==27){t3r="k";t3r+="eepLowe";t3r+="st";u3r="n";u3r+="o";u3r+="n";u3r+="e";switch(h0K){case 8:h0K=n?7:17;break;case 11:h0K=x<h.Ava||x>h.Oua?10:20;break;case 18:f&&h.N6a&&0===c?(x=1,b<l.length-1&&a.O==l[b+1].O&&x++,0<b&&a.O==l[b-1].O&&x++,d&&1==x&&(this.ON=z.Ge=!0)):this.ON=!1;h0K=17;break;case 7:q8ff.K2r(1);x1K=q8ff.x2r(1);d=x1K==a.content_profile.indexOf(u3r);z.Ge=f&&!d||!f&&d;z.Ge&&this.ria&&F(this.nia(a.content_profile,a.bitrate,this.ria),z);h0K=13;break;case 10:z.inRange=!1;h0K=20;break;case 3:w=a.content_profile;z={inRange:!0,Ge:!0};h0K=8;break;case 2:q=a.downloadable_id;u=a.bitrate;x=a.vmaf;h0K=3;break;case 20:m.hasOwnProperty(w)&&t3r===m[w].action&&(m[w].applied?z.inRange=!1:m[w].applied=!0);k=k||d;h0K=18;break;case 12:z.inRange=!1;h0K=11;break;case 13:h0K=u<h.zva||u>h.Nua?12:11;break;case 17:z.inRange&&z.Ge&&u>this.YA[p]&&(this.YA[p]=u);h0K=16;break;case 16:v[q]=H.S3(g,b,z,this.K,this.W);(a=r&&r[q])&&a.Mc&&(v[q].fQ(a),b=this.Cj()[p],v[q].vl=v[q].zS(a.Y,this.K.MJ,b));h0K=27;break;}}},this);I0K=8;break;}}},this);D0K=13;break;case 13:x=w.streams.map(function(a){var w0K;w0K=2;while(w0K!==1){switch(w0K){case 4:return v[a.downloadable_id];break;w0K=1;break;case 2:return v[a.downloadable_id];break;}}});m[p]={uf:l,Xo:l+(u?q:0),dc:x,Pl:v,lnb:w,Me:void 0};D0K=11;break;case 2:n=p===b.G.VIDEO;u=p===b.G.AUDIO;D0K=4;break;}}},this);k&&m[1]&&m[1].dc&&m[1].dc.forEach(function(a){var E1K;E1K=2;while(E1K!==1){switch(E1K){case 2:a.Bl||(a.ai=!0);E1K=1;break;}}});return m;break;case 2:h=this.K;m=[];p=[l3r,v3r];q=a[p[1]].length;l===b.G.AUDIO&&p.pop();k=!1;l0K=7;break;}}};c.prototype.ySa=function(a,b){var J1K;J1K=2;while(J1K!==1){switch(J1K){case 2:this.gZ[a.P]=this.$a.Tqa(b);J1K=1;break;}}};c.prototype.xRa=function(a,c,d,f){var r1K,g,l,h,m,p,B3r,x3r;r1K=2;while(r1K!==20){B3r="s";B3r+="tart";B3r+="p";B3r+="lay";x3r="lo";x3r+="g";x3r+="d";x3r+="at";x3r+="a";switch(r1K){case 7:l=c.D4().filter(function(a){var a1K,p1K;a1K=2;while(a1K!==1){switch(a1K){case 2:return void 0!==a.qc[h.id];break;case 4:q8ff.B2r(2);p1K=q8ff.v2r(11,11);return~p1K===a.qc[h.id];break;a1K=1;break;}}})[0],m=l.children.filter(function(a){var z1K;z1K=2;while(z1K!==1){switch(z1K){case 2:return a.Pc.some(function(a){var c1K;c1K=2;while(c1K!==1){switch(c1K){case 2:return a.stream.id===h.id;break;case 4:return a.stream.id==h.id;break;c1K=1;break;}}});break;}}})[0],h.bU=l.id,h.X8=m.id;r1K=6;break;case 5:l=this.xa[c];c=l.ao;h=l.ge[g].Pl[d];d=this.Wa.ob[g];r1K=8;break;case 12:d.$C||(m={type:x3r,target:B3r,fields:{}},g===b.G.AUDIO?m.fields.alocid=h.location:g===b.G.VIDEO&&(m.fields.locid=h.location),this.emit(m.type,m));f&&h.location&&!d.$C?(p=b.ye.et,h.Lk=b.ye.name[p],this.mka(a.ia,a.P,h.location,h.N6,h.Pb,h.tz,h.Lk,h.Kp),d.$C=h.location):h.location&&h.location!==d.$C&&(p=h.Lk,p=l?void 0===d.$C?b.ye.et:c.dE===b.ye.qY?b.ye.dJa:b.ye.hW:b.ye.cJa,h.Lk=b.ye.name[p],this.mka(a.ia,a.P,h.location,h.N6,h.Pb,h.tz,h.Lk,h.Kp),h.Kp=void 0,d.$C=h.location);this.K.mo||(h.Tta=h.location,h.Uta=h.Pb);r1K=20;break;case 2:g=a.P;r1K=5;break;case 6:l=h.location===h.bU;m=h.Pb===h.X8;f&&h.Pb&&!d.ry?(p=b.ye.et,h.Lk=b.ye.name[p],this.oka(a,h.Pb,h.Lk,h.location,h.O),d.ry=h.Pb):h.Pb&&h.Pb!==d.ry&&(p=h.Lk,p=m?void 0===d.ry?b.ye.et:c.dE===b.ye.qY?b.ye.DOa:b.ye.hW:b.ye.COa,h.Lk=b.ye.name[p],this.oka(a,h.Pb,h.Lk,h.location,h.O),d.ry=h.Pb);r1K=12;break;case 8:r1K=void 0===h.bU||void 0===h.X8?7:6;break;}}};c.prototype.Ty=function(a){var j1K,K3r;j1K=2;while(j1K!==1){K3r="requestError ignored, pip";K3r+="elines shutdown, mediaReq";K3r+="uest";K3r+=":";switch(j1K){case 2:this.ne()?this.fa(K3r,a):(a.Ac||this.hwa(a.bf,a.ia,a.Xa,a.bc),this.xRa(a.bf,a.ia,a.Xa,a.Ac),this.gla(a,a.location,a.ad));j1K=1;break;}}};c.prototype.fv=function(a){var K1K,f3r;K1K=2;while(K1K!==1){f3r="onfirstbyte ignored, pipelines shutdown,";f3r+=" media";f3r+="R";f3r+="equest:";switch(K1K){case 2:this.ne()?this.fa(f3r,a):a.i0||(this.Wa.ob[a.P].connected=!0);K1K=1;break;}}};y7D=252;break;case 252:c.prototype.$J=function(a){var y1K,b,c3r,o3r;y1K=2;while(y1K!==7){c3r="req";c3r+="uestP";c3r+="rogre";c3r+="ss";o3r="onprogress ignored,";o3r+=" pipelines shutdown,";o3r+=" mediaRequest:";switch(y1K){case 5:this.fa(o3r,a);y1K=7;break;case 1:y1K=this.ne()?5:4;break;case 4:b=this.pd;this.wd.xwa(this.Be-this.li,a.cj,b);this.K.UQ&&this.bP.push(a.DS);this.emit(c3r,{timestamp:b,url:a.url});y1K=7;break;case 2:y1K=1;break;}}};c.prototype.ji=function(a){var G1K,d3r,F3r;G1K=2;while(G1K!==1){d3r="requestComple";d3r+="t";d3r+="e";F3r="oncomplete ignored, pipelines shu";F3r+="tdo";F3r+="w";F3r+="n, mediaRequest:";switch(G1K){case 2:this.ne()?this.fa(F3r,a):(this.hx&&(this.hx=!1,this.xa[a.ia].nC.HK(!0)),a.i0||(this.wd.xwa(this.Be-this.li,a.cj,a.pd),a.Ac||this.wd.Jhb(a.P,a.duration,a.Be,a.Yn)),a.Ac?(this.vSa(a),this.bmb()):this.Gja(a),this.K.UQ&&this.bP.push(a.DS),this.emit(d3r,{timestamp:a.pd,mediaRequest:a}));G1K=1;break;}}};c.prototype.AD=function(a){var b1K,b,k3r,W3r,N3r,y3r,C3r;b1K=2;while(b1K!==4){k3r="NF";k3r+="Err_MC_";k3r+="StreamingFailu";k3r+="re";W3r="unkn";W3r+="o";W3r+="w";W3r+="n";N3r=", e";N3r+="rrorms";N3r+="g: ";y3r="MP4 ";y3r+="pars";y3r+="ing";y3r+=" ";y3r+="error on: ";C3r="requestError ignored, pipe";C3r+="lines shutdo";C3r+="wn, mediaRequest:";switch(b1K){case 2:b=a.nk;this.ne()?this.fa(C3r,a):a.Ac&&a.parseError?(this.fa(y3r+a+N3r,a.parseError),this.ak(a.parseError)):(this.K.rab&&b===V.Ns.AX&&0<a.Be&&(b=V.Ns.oW),this.xa[a.ia].nC.Hl(a.status,b,a.El,{url:a.url}),this.N_()||this.ak(a.dR||W3r,void 0,k3r,b,a.status,a.El));b1K=4;break;}}};g.M=c;J3r;y7D=247;break;case 108:c.prototype.gia=function(a,b){var l5D,c,f,g,l;l5D=2;while(l5D!==8){switch(l5D){case 2:c=a.P;f=this.Wa.ob[c];g=f.$n;l5D=3;break;case 3:l=f.Su;g&&l&&(f=f.yj)&&(d(this.zb.value)||this.wd.PWa(c,f,g.O,l.O,a.Dsa.O,b));l5D=8;break;}}};c.prototype.rSa=function(a){var D5D;D5D=2;while(D5D!==1){switch(D5D){case 2:return this.ma.Rma.reduce(function(b,c){var I5D;I5D=2;while(I5D!==1){switch(I5D){case 2:return b+c.l$a(a);break;case 4:return b-c.l$a(a);break;I5D=1;break;}}},0);break;}}};c.prototype.Cia=function(a,c){var e5D,f,g,h,m,p,q,k,n,u,M3r,X3r,m3r,S3r;e5D=2;while(e5D!==23){M3r=" ";M3r+=">";M3r+="=";M3r+=" ";X3r="No vaca";X3r+="ncy, stalling due to max fr";X3r+="ameC";X3r+="ount:";m3r="f";m3r+="lo";m3r+="ored to";m3r+=" 0";S3r="negative scheduledB";S3r+="ufferLe";S3r+="vel:";switch(e5D){case 14:0>q&&(a.fa(S3r,q,m3r),q=0);n=c?c.Ra:0;u=c?f.asb?c.gZa:c.fZa:void 0;e5D=11;break;case 24:return f.Tx&&a.Pa.hv>=f.Yeb||!m&&0<f.pD&&g===b.G.VIDEO&&a.As>f.pD||0<f.Vr&&!m&&a.As+(c?c.As:0)>f.Vr||g===b.G.VIDEO&&this.Th&&a.Zd>f.t7&&(c=this.$a.Va.get(!1),c.yc&&c.pa&&c.pa.Aa*a.BE>f.s7)?!1:!0;break;case 11:e5D=f.Nl&&a.Pp>=f.Nl?10:20;break;case 20:h=a.Pa.Vwa;e5D=19;break;case 25:return!1;break;case 26:e5D=(k=1,a.X0<f.Ay&&(k=f.Ay),a.Pa.hv>=k)?25:24;break;case 19:e5D=h>=f.mD||k===b.Ca.jf&&a.Zd>f.Jeb&&!this.Th&&!this.sZ&&!this.MI()||p&&h>Math.max(p*f.u7/100,f.O7)||c&&(p=a.Ra-n,this.Ii[c.P]&&!c.og&&p>=f.x7&&q>f.ii&&(this.$a.Hcb||void 0===u||u<f.Ieb))||f.ar&&a.Pa.zo>=f.z7||this.rSa(g)>=f.By?18:17;break;case 17:p=this.ma.Nqb();e5D=16;break;case 16:e5D=!l.V(f.zJ)&&p>=f.zJ||a.BE+h>=Math.max(f.US,this.$a.kAa+f.p8*m.lD[g])?15:27;break;case 18:return!1;break;case 27:e5D=(m=d(k))?26:24;break;case 15:return!1;break;case 9:p=a.Zd;q=this.de();k=this.zb.value;q=a.Ra+h.Jc-q;e5D=14;break;case 2:f=this.K;g=a.P;h=a.Ec;m=this.xa[h.ia];e5D=9;break;case 10:return a.fa(X3r,a.Pp+M3r+f.Nl),!1;break;}}};c.prototype.ZSa=function(a,b){var h5D,c,d,f;h5D=2;while(h5D!==12){switch(h5D){case 2:c=this.K;h5D=5;break;case 4:a.x6=O.time.ca();c=this.Wa.II(a);d=c.df;h5D=8;break;case 13:return c;break;case 8:h5D=!l.V(d)?7:12;break;case 5:h5D=!(!c.k0&&!c.ar||a.x6+c.V_>O.time.ca())?4:12;break;case 7:d=a.dc[d];f=this.Ve[a.P][d.id];h5D=14;break;case 14:h5D=f&&f.Y&&(d=this.Bia(a,d),!d.UL&&d.gl&&this.Cia(a,b))?13:12;break;}}};c.prototype.lSa=function(a,b){var w5D,c,d,f,g;w5D=2;while(w5D!==12){switch(w5D){case 8:g.nE&&(a.dV===f&&(a.dV=void 0),g.nE=!1);w5D=12;break;case 4:f=b.id;g=this.Ve[d][f];w5D=9;break;case 7:w5D=g?6:14;break;case 9:w5D=g&&!g.Y?8:7;break;case 2:c=this.K;d=a.P;w5D=4;break;case 6:return g;break;case 13:c=this.cO(d,b.Ij,b.ai),this.qG(a,this.mm,b,{url:b.url,offset:0,Z:c}),this.Oja=O.time.ca();w5D=12;break;case 14:w5D=l.V(c.Q7)||l.V(this.Nja)||l.V(this.Oja)||(f=O.time.ca(),!(f-this.Nja<c.Q7||f-this.Oja<c.Q7))?13:12;break;}}};c.prototype.mt=function(){var E8D,a,c,f,g,l,h,m,p,q,p3r,T3r,Z3r,b3r,P3r,Y3r,g3r,A3r,j3r,e3r,r3r,V3r,O3r;E8D=2;while(E8D!==30){p3r="n";p3r+="/";p3r+="a";T3r="vi";T3r+="d";T3r+="e";T3r+="o:";Z3r="n";Z3r+="/";Z3r+="a";b3r="a";b3r+="u";b3r+="di";b3r+="o";b3r+=":";P3r="checkBufferingComplete wit";P3r+="h enough frames, declare bu";P3r+="fferingComplete";Y3r=" ";Y3r+="video";Y3r+=":";Y3r+=" ";g3r="Session checkBufferingCom";g3r+="plete";g3r+=", audio";g3r+=": ";A3r=" ";A3r+="m";A3r+="s";j3r=" ms";j3r+=", v";j3r+="ide";j3r+="o ";j3r+="buffer: ";e3r=", ";e3r+="a";e3r+="udi";e3r+="o buf";e3r+="fer: ";r3r=" ";r3r+=">";r3r+="= ";V3r="buffering ";V3r+="longer t";V3r+="han limit: ";O3r="checkBufferingComplete ignored because stallAtFrameC";O3r+="ount";O3r+=" already hit";switch(E8D){case 25:l=m&&m.Fx<a.Nl;E8D=24;break;case 27:this.fa(O3r);return;break;case 21:E8D=f?35:31;break;case 22:return this.RO(),!0;break;case 31:return!1;break;case 34:E8D=(!c||h>a.ii)&&f&&(c=O.time.ca()-this.mZ,c>=a.KD)?33:32;break;case 10:E8D=this.Qf&&l.lo>=a.ii&&(a.H9&&(q=l.lo+1E3),a.I9&&(!g.connected||!l.connected))?20:19;break;case 33:return this.fa(V3r+c+r3r+a.KD+e3r+h+j3r+p+A3r),this.RO(),!0;break;case 19:a.Oe&&this.qh(g3r+h+Y3r+p);g=this.ma.Bf.KB(q);this.jt&&(h>=a.ii||g)&&(this.sYa(),this.jt=void 0);E8D=16;break;case 4:E8D=!f&&!this.jt?3:9;break;case 35:f=!m||p>a.ii;E8D=34;break;case 9:g=this.Wa.ob[b.G.AUDIO];l=this.Wa.ob[b.G.VIDEO];h=this.ma.Ee;c=h[b.G.AUDIO];E8D=14;break;case 14:m=h[b.G.VIDEO];h=c?c.Zd:0;p=m?m.Zd:0;q=a.ii;E8D=10;break;case 20:return!1;break;case 2:a=this.K;f=d(this.zb.value);E8D=4;break;case 16:E8D=a.Nl&&!g?15:23;break;case 3:return!0;break;case 24:c&&c.Fx<a.Nl||l||(this.fa(P3r,b3r,c?c.Fx:Z3r,T3r,m?m.Fx:p3r),this.hRa=g=!0);E8D=23;break;case 23:E8D=g?22:21;break;case 32:this.HTa();E8D=31;break;case 15:E8D=this.hRa?27:25;break;}}};c.prototype.RO=function(){var J8D,a;J8D=2;while(J8D!==6){switch(J8D){case 8:this.zb.set(b.Ca.jf);this.Wh();J8D=6;break;case 2:a=this.K;this.ma.Ee.forEach(function(a){var r8D;r8D=2;while(r8D!==1){switch(r8D){case 2:a.seeking=void 0;r8D=1;break;case 4:a.seeking=+9;r8D=5;break;r8D=1;break;}}});d(this.zb.value)&&(a.Oe&&this.ma.Ee.forEach(function(a){var a8D,b,H6r,Q6r,R6r,D6r,z6r,w6r,q6r,s6r,E6r,i6r;a8D=2;while(a8D!==9){H6r=",";H6r+=" ne";H6r+="xtAppen";H6r+="dPts";H6r+=": ";Q6r=",";Q6r+=" t";Q6r+="oApp";Q6r+="end:";Q6r+=" ";R6r=", ";R6r+="f";R6r+="ragments: ";D6r=", co";D6r+="mple";D6r+="teStreamingPts: ";z6r=", streamingP";z6r+="t";z6r+="s: ";w6r=", pa";w6r+="rtials:";w6r+=" ";q6r=", totalBuffer";q6r+="By";q6r+="tes: ";s6r=", totalBu";s6r+="ffer";s6r+="Ms:";s6r+=" ";E6r=", buf";E6r+="ferL";E6r+="evelBytes: ";i6r="bufferingComplete: ";i6r+=", me";i6r+="diaType: ";switch(a8D){case 5:b=this.Ke[a.P]||{};a8D=4;break;case 1:a8D=a?5:9;break;case 2:a8D=1;break;case 4:a=i6r+a.P+E6r+a.bu+s6r+a.BE+q6r+a.As+w6r+a.Pa.hv+z6r+a.Ra+D6r+a.Ex+R6r+JSON.stringify(a.Pa.Y)+Q6r+JSON.stringify(b.Xh)+H6r+b.CTa;this.qh(a);a8D=9;break;}}}.bind(this)),this.ITa());this.LG();this.GA&&(clearTimeout(this.GA),this.GA=void 0);J8D=8;break;}}};c.prototype.dla=function(a,c){var z8D,c8D;z8D=2;while(z8D!==7){switch(z8D){case 4:this.QN(a);this.mt();z8D=9;break;case 2:a.og=!0;a.ea=l.ka(c)?c:a.Ra;a.nq=!1;z8D=4;break;case 9:z8D=this.Ln&&a.P===b.G.VIDEO?8:7;break;case 8:try{c8D=2;while(c8D!==1){switch(c8D){case 2:this.g3(b.Ca.zA,{ea:a.ea});c8D=1;break;}}}catch(fa){var a6r;a6r="H";a6r+="indsight:";a6r+=" Error evaluat";a6r+="ing Q";a6r+="oE at endOfStream: ";q8ff.B2r(0);this.Gp(q8ff.v2r(fa,a6r));}z8D=7;break;}}};c.prototype.aVa=function(){var j8D,a;j8D=2;while(j8D!==4){switch(j8D){case 2:a=this.$a.Va;a&&(a=a.get())&&a.avtp&&this.ss.TWa({avtp:a.avtp.Aa});j8D=4;break;}}};c.prototype.SVa=function(a){var K8D,c,d,I6r,G6r,h6r;K8D=2;while(K8D!==8){I6r="startup, playerState no longer";I6r+=" START";I6r+="ING:";G6r="failed to start audio pipe";G6r+="li";G6r+="ne";h6r="f";h6r+="a";h6r+="iled to star";h6r+="t video pi";h6r+="peline";switch(K8D){case 2:this.zb.set(b.Ca.Ng);K8D=5;break;case 5:c=this.ma.Ee;d=c[b.G.AUDIO];c=c[b.G.VIDEO];this.Qf&&!this.ila(a,c)?this.fa(h6r):this.Ni&&!this.ila(a,d)?this.fa(G6r):(this.Eka=!0,this.xa[0].k5=!0,d=this.Wa.ob[b.G.VIDEO],c=this.Wa.ob[b.G.AUDIO],(d&&0<d.lo||c&&0<c.lo)&&this.OTa(a,c?c.lo:0,d?d.lo:0,c?c.mK:0,d?d.mK:0),this.zb.value!=b.Ca.Ng?this.fa(I6r,this.zb.value):(this.UO(0),this.Ni&&this.STa()));K8D=8;break;}}};c.prototype.ila=function(a,c){var y8D,d,f,g,n6r,U6r;y8D=2;while(y8D!==12){n6r="NFErr";n6r+="_M";n6r+="C_StreamingI";n6r+="nitFailure";U6r="startPipeline ";U6r+="f";U6r+="a";U6r+="il";U6r+="ed";switch(y8D){case 5:f=this.Wa.II(c).df;y8D=4;break;case 4:y8D=l.V(f)?3:9;break;case 2:d=c.P;y8D=5;break;case 6:g=this.cO(d,f.Ij,f.ai);this.qG(c,a,f,{offset:0,Z:g,Px:!this.Th&&!this.sZ&&d===b.G.VIDEO,Hr:!this.Wa.ob[d].p7a},f.ia);return!0;break;case 3:return this.ne()||this.ak(U6r,c.ia,n6r),!1;break;case 9:f=c.dc[f];y8D=8;break;case 8:y8D=this.Ve[d][f.id]?7:6;break;case 7:return!0;break;}}};c.prototype.UO=function(a,c){var G8D,f,g,l;G8D=2;while(G8D!==10){switch(G8D){case 2:f=this.K;g=this.Wa.ob[b.G.AUDIO]||{};G8D=4;break;case 8:this.QO=!1;this.zb.set(2===a?b.Ca.ct:b.Ca.Is);this.JTa(c);this.ma.Ee.forEach(function(b){var b8D;b8D=2;while(b8D!==5){switch(b8D){case 2:b.X0=0;b.seeking=0===a||1===a;b8D=5;break;}}});this.mZ=O.time.ca();g.ll=l.ll=this.mZ;G8D=11;break;case 4:l=this.Wa.ob[b.G.VIDEO]||{};g.hH=void 0;l.hH=void 0;G8D=8;break;case 11:0===a&&(!this.Qf||0<l.lo)&&(!this.Ni||0<g.lo)&&(c=this.mt())&&f.AQ?(this.ax&&(clearTimeout(this.ax),this.ax=void 0),this.m_=!0):(f.aI&&(this.CZ=setTimeout(function(){var x8D;x8D=2;while(x8D!==1){switch(x8D){case 4:this.aVa();x8D=3;break;x8D=1;break;case 2:this.aVa();x8D=1;break;}}}.bind(this),f.S2)),d(this.zb.value)&&(this.GA=setTimeout(function(){var p8D;p8D=2;while(p8D!==1){switch(p8D){case 4:this.mt();p8D=9;break;p8D=1;break;case 2:this.mt();p8D=1;break;}}}.bind(this),f.KD)),this.Wh());G8D=10;break;}}};c.prototype.jP=function(a){var F8D,b,L6r;F8D=2;while(F8D!==4){L6r="wipeH";L6r+="eaderCa";L6r+="c";L6r+="he:";switch(F8D){case 2:b=this.K;F8D=5;break;case 5:b.c8||(b.Oe&&this.qh(L6r+a),this.$a.bna(),this.kf&&(this.kf=void 0));F8D=4;break;}}};c.prototype.zia=function(a){var t8D,c,d,f,g,h,f6r,B6r;t8D=2;while(t8D!==13){f6r="c";f6r+="a";f6r+="t";f6r+="c";f6r+="h";B6r="c";B6r+="hec";B6r+="kFo";B6r+="rHcdStar";B6r+="t";switch(t8D){case 9:f=function(a,c){var B8D,d,f,g,h,m,p,u6r;B8D=2;while(B8D!==13){u6r="adop";u6r+="tPipeli";u6r+="ne no heade";u6r+="r for streamId";u6r+=":";switch(B8D){case 8:B8D=!p.tk?7:6;break;case 9:B8D=p&&(f=p.Xa,d=p.tk.stream,l.V(c.Jm)||this.wd.Tza(c.Jm,c.zl,c.uk),h.Xn=c.Xn,h.ul=c.ul,h.Rbb=c.Jm,a.ssb(f))?8:13;break;case 7:a.Rb(u6r,f);B8D=13;break;case 2:g=a.P;h=this.Wa.ob[g];m=!this.Th&&!this.sZ&&g===b.G.VIDEO;p=c[g];B8D=9;break;case 6:B8D=this.jia(a,this.wc,p.tk,m,!0)?14:13;break;case 14:return c=this.Ve[g][f].Y,c=c.Bj(a.Ra,void 0,!0),m=d.Zg(c),d=m.U,a.H$()&&(m=m.iR(a.Ra))&&0<m.Jb&&(d=m.Jb),a.Ra!==d&&(a.Ra=d,a.fg=c,this.A_(g,d)),this.OQa(a,p.data),h.p7a=!0,g===b.G.AUDIO&&this.wd.fE(p.tk.O),f;break;}}}.bind(this);g=function(a){var i8D,c,g,h,x6r,v6r,l6r,t6r;i8D=2;while(i8D!==10){x6r="checkF";x6r+="o";x6r+="rH";x6r+="cdEn";x6r+="d";v6r="adop";v6r+="tHcd";v6r+="S";v6r+="tar";v6r+="t";l6r="ado";l6r+="pt";l6r+="HcdEnd";t6r="hea";t6r+="derCa";t6r+="cheDataNotFoun";t6r+="d";switch(i8D){case 5:i8D=l.V(a)?4:3;break;case 4:d.QG||this.jP(t6r);i8D=10;break;case 6:h=!0;this.Qf&&(h=f(c,a));!this.Ni||d.Sab&&!h||f(g,a);this.Hja=a;this.Pq(l6r);i8D=10;break;case 3:c=this.ma.Ee;g=c[b.G.AUDIO];c=c[b.G.VIDEO];this.Pq(v6r);i8D=6;break;case 2:this.Pq(x6r);i8D=5;break;}}}.bind(this);this.Pq(B6r);this.xa.forEach(function(b){var d8D;d8D=2;while(d8D!==1){switch(d8D){case 2:L.UG(b.R,a)&&(h=b);d8D=1;break;}}});t8D=14;break;case 3:return this.$a.wZa(),da.resolve();break;case 2:c=this;d=this.K;t8D=4;break;case 4:t8D=!this.sWa||!this.$a.Qc?3:9;break;case 14:return this.$a.Qc.reb(a,h?h.ge:{}).then(g).then(function(){var u8D,K6r;u8D=2;while(u8D!==1){K6r="adopte";K6r+="d";K6r+="Comp";K6r+="lete";K6r+="dRequests";switch(u8D){case 2:d.QG||c.kf&&0!==c.kf.length||c.jP(K6r);u8D=1;break;}}})[f6r](function(a){var v8D,o6r;v8D=2;while(v8D!==1){o6r="headerCache:lookupDa";o6r+="taPromise caught error";o6r+=":";switch(v8D){case 2:this.fa(o6r,a);v8D=1;break;case 4:this.fa("",a);v8D=2;break;v8D=1;break;}}}.bind(this));break;}}};c.prototype.wRa=function(a,b,c,d,f){var q8D;q8D=2;while(q8D!==1){switch(q8D){case 2:return this.rWa&&this.$a.Qc&&(c=this.$a.Qc.W6(c,d))&&this.jia(a,b,c,!1,f)?!0:!1;break;}}};c.prototype.jia=function(a,b,c,d,f){var L8D,g,l,c6r;L8D=2;while(L8D!==11){c6r="header";c6r+="cac";c6r+="h";c6r+="e";switch(L8D){case 2:g=this.xa[b].ge[a.P].Pl;l=c.Xa;L8D=4;break;case 3:return!1;break;case 12:return!0;break;case 4:L8D=d!=!!c.Ne?3:9;break;case 9:this.Ve[a.P][l]=c;c.vXa(g[l]);this.hia(a,c);c.Ne&&(c.Ne.source=c6r,this.OZ(a,b,c.Ne));f&&this.PTa(c.R,c.Xa);a.mv&&a.Tp(a.OT);L8D=12;break;}}};c.prototype.OQa=function(a,c){var o8D,f,m,p,d,g,h,q,d6r,F6r;o8D=2;while(o8D!==19){d6r="adoptData, no";d6r+="t";d6r+=" adopting fa";d6r+="iled mediaRequest:";F6r="ad";F6r+="optData, not adopting abo";F6r+="rted mediaRequest:";switch(o8D){case 10:o8D=p||this.kf&&this.kf.length?20:19;break;case 6:o8D=0<c.length?14:12;break;case 14:q=c.shift();o8D=13;break;case 5:d=this.xa[0];f=a.Ec;g=f.qa;h=Math.min(d.ea||Infinity,f.ea||Infinity);o8D=8;break;case 20:c=this.fO(f,a.Ec.ia,a.Ra),void 0!==c?(a.fg=c,a.pf=d.ib[f].stream.Zg(a.fg)):a.fg=a.Eh?a.Eh.index+1:a.fg+1;o8D=19;break;case 8:this.eZ=!0;o8D=7;break;case 12:p&&this.Gja(p);this.eZ=!1;o8D=10;break;case 1:o8D=0!==c.length?5:19;break;case 13:q.readyState===V.Eb.Qv?a.fa(F6r,q.toString()):q.readyState===V.Eb.oq?(a.fa(d6r,q.toString()),this.ht(a,q,!1)):a.Ra>=q.Kc&&a.Ra<q.Kd&&(a.Ra<h||!l.ka(h))?(this.PQa(a,q),a.Ra=q.Kd,l.ka(h)&&a.Ra>=h&&this.e_(g,q.Kd),f===b.G.AUDIO&&this.wd.fE(q.O),q.complete?(m.lo+=q.duration,q.Sdb&&(m.mK+=q.duration),p=q):(this.kf||(this.kf=[]),this.kf.push(q))):this.ht(a,q,!1);o8D=6;break;case 7:f=a.P,m=this.Wa.ob[f];o8D=6;break;case 2:o8D=1;break;}}};c.prototype.PQa=function(a,b){var X8D,c,N6r,y6r,C6r;X8D=2;while(X8D!==9){N6r=",";N6r+=" ";N6r+="p";N6r+="ts";N6r+=": ";y6r=", s";y6r+="t";y6r+="a";y6r+="te";y6r+=": ";C6r="ado";C6r+="pt";C6r+="MediaRequest: t";C6r+="ype: ";switch(X8D){case 2:c=a.P;this.K.Oe&&this.qh(C6r+c+y6r+b.readyState+N6r+b.Kc);this.A_(c,b.Kc);a.Pa.wXa(this,b);X8D=9;break;}}};c.prototype.qG=function(a,b,c,d,f,g){var A8D,h,m,p,q,k,k6r,W6r;A8D=2;while(A8D!==18){k6r="NFErr_MC_Strea";k6r+="min";k6r+="g";k6r+="Failu";k6r+="re";W6r="MediaRequest open fa";W6r+="ile";W6r+="d (";W6r+="2)";switch(A8D){case 5:A8D=!this.wRa(a,c.ia,b,h,d.Hr)?4:19;break;case 2:h=c.id;A8D=5;break;case 13:A8D=!p&&(d.tk=!0,p=a.Pa.mQ(this,this.ma.Bf,d,g,c),this.Ve[b][h]=p,!p.gv())?12:10;break;case 4:b=a.P;m=!!d.Px;p=this.Wa.ob[b];q=!l.V(f)&&f!==a.ia;A8D=7;break;case 12:this.ak(W6r,a.ia,k6r);return;break;case 7:g=!d.Hr||m||q||g?this.jG:p.yj;c.url&&(p.z6=c.url);p=this.Ve[b][h];A8D=13;break;case 10:l.V(f)||(k=this.xa[f]);A8D=20;break;case 19:this.Wh();A8D=18;break;case 20:d.Hr&&k&&(k.ib[b]=p);A8D=19;break;}}};c.prototype.NO=function(a,c,d,f,g){var s8D,h,m;s8D=2;while(s8D!==8){switch(s8D){case 2:h=this.xa[c];m=h.ao;this.ma.Ee.forEach(function(p){var P8D,q,k,n,S6r,J6r;P8D=2;while(P8D!==6){S6r="request";S6r+="HeadersFromManifest, shutdown d";S6r+="ete";S6r+="c";S6r+="ted";J6r="requestHeadersFromMani";J6r+="fe";J6r+="st, unable to ";J6r+="update ur";J6r+="ls";switch(P8D){case 8:n=this.Wa.kD(p);(n=m.HV(n,k.dc))?(k.dc=n,n=this.Wa.ob[q],n=this.oja(k.dc,n.$n?n.$n.O:0),k=k.dc[n],(n=this.Ve[q][k.id])&&n.Y?this.oWa(p,h,n):(q={offset:0,Z:this.cO(q,k.Ij,k.ai),nE:!1,Px:q===b.G.VIDEO,Hr:!0},this.qG(p,a,k,q,c,f))):p.fa(J6r);P8D=6;break;case 4:k=d[q];P8D=3;break;case 5:P8D=this.Ii[q]&&(l.V(g)||q===g)?4:6;break;case 2:q=p.P;P8D=5;break;case 3:P8D=this.ne()?9:8;break;case 9:this.fa(S6r);P8D=6;break;}}}.bind(this));s8D=3;break;case 3:h.k5=!0;this.MN(h,c);s8D=8;break;}}};c.prototype.BSa=function(a){var U8D;U8D=2;while(U8D!==1){switch(U8D){case 2:delete this.Ve[a.P][a.Xa];U8D=1;break;}}};c.prototype.fO=function(a,b,c){var k8D,d;k8D=2;while(k8D!==6){switch(k8D){case 5:d=b.ib[a];k8D=4;break;case 2:b=this.xa[b];k8D=5;break;case 3:k8D=(c=d.Y.Bj(c),-1!==c)?9:6;break;case 4:k8D=d&&d.stream.Mc?3:8;break;case 9:return c;break;case 7:q8ff.K2r(3);return Math.round(q8ff.x2r(c,a));break;case 8:k8D=(a=b.vx[a])?7:6;break;}}};c.prototype.hia=function(a,c){var H8D,d,f,g,l,h,m,p,q,e6r,r6r,V6r,O6r,M6r,X6r,m6r;H8D=2;while(H8D!==23){e6r=",";e6r+=" ";r6r=", str";r6r+="e";r6r+="am ";V6r="), ";V6r+="expect";V6r+="ed tra";V6r+="ck ";O6r=", ";O6r+="s";O6r+="treamId";O6r+=" ";M6r="first header received ";M6r+="f";M6r+="or non-curre";M6r+="nt trac";M6r+="k (index ";X6r="c";X6r+="ou";X6r+="nt:";m6r="addF";m6r+="ragments for stale man";m6r+="ifestIndex:";switch(H8D){case 8:this.fa(m6r,f,X6r,this.xa.length);H8D=23;break;case 3:l=c.Y;H8D=9;break;case 2:d=a.P;f=c.ia;g=c.Xa;H8D=3;break;case 15:this.K.fL?h.vl=m:h.ZU=!m;p.ib[d]&&c!==p.ib[d]?c.Hr&&(h=p.ib[d],a.fa(M6r+c.stream.uf+O6r+c.stream.Xa+V6r+(h&&h.stream.uf)+r6r+(h&&h.stream.Xa)+e6r+h)):(p.ib[d]=c,0===f&&(a=this.ma.Bf,this.cG(f,this.Qf?a.di(b.G.VIDEO).Ra:a.di(b.G.AUDIO).Ra,a)),p.vK=!1,this.MN(p,f),this.ma.M9(this.ma.Bf),this.qB(this.wc+1));this.GZ();c.Es||this.ZTa(f,d,g,p.R,l);H8D=24;break;case 7:h=c.Es?60:l.length;q8ff.B2r(4);m=l.get(q8ff.v2r(1,h));p=this.xa[f];c.zk={hi:m.U+m.duration,edb:m.U,lastIndex:h-1};p.vx[d]=l.cp;H8D=11;break;case 11:p.lD[d]=l.TS;c.aK&&(c.aK.forEach(function(a){var S8D;S8D=2;while(S8D!==5){switch(S8D){case 2:a=this.xa[a].ge[d].Pl;a[g]&&a[g]!==c.stream&&!a[g].Mc&&a[g].fQ(c.stream);S8D=5;break;}}}.bind(this)),c.aK=void 0);h=p.ge[d].Pl[g];m=this.tn.choiceMap&&this.K.Teb;q=this.Cj()[a.P];a.P===b.G.VIDEO&&0<this.K.pD&&(q=Math.min(q,this.K.pD));m=h.zS(this.K.MJ,q,m);H8D=15;break;case 9:H8D=f>=this.xa.length?8:7;break;case 24:this.Wh();H8D=23;break;}}};y7D=149;break;case 24:da=O.Promise;S=O.MediaSource;U=a(204).dW;H=a(364).Lba;A=a(94);F=a(48);f=a(27);R=f.rLa;Z=f.Ia;c.prototype=Object.create(A.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{R:{get:function(){var B7D;B7D=2;while(B7D!==1){switch(B7D){case 4:return this.mm;break;B7D=1;break;case 2:return this.mm;break;}}}},la:{get:function(){var i7D;i7D=2;while(i7D!==1){switch(i7D){case 4:return this.R_;break;i7D=1;break;case 2:return this.R_;break;}}}},rxa:{get:function(){var d7D;d7D=2;while(d7D!==1){switch(d7D){case 2:return this.zb;break;case 4:return this.zb;break;d7D=1;break;}}}},Sr:{get:function(){var u7D;u7D=2;while(u7D!==1){switch(u7D){case 4:return this.ma.Sr;break;u7D=1;break;case 2:return this.ma.Sr;break;}}}},Yu:{get:function(){var v7D;v7D=2;while(v7D!==1){switch(v7D){case 2:return this.Ae.ic;break;case 4:return this.Ae.ic;break;v7D=1;break;}}}},Ni:{get:function(){var q7D;q7D=2;while(q7D!==1){switch(q7D){case 4:return this.Ii[b.G.AUDIO];break;q7D=1;break;case 2:return this.Ii[b.G.AUDIO];break;}}}},Qf:{get:function(){var L7D;L7D=2;while(L7D!==1){switch(L7D){case 2:return this.Ii[b.G.VIDEO];break;case 4:return this.Ii[b.G.VIDEO];break;L7D=1;break;}}}},attributes:{get:function(){var o7D;o7D=2;while(o7D!==1){switch(o7D){case 2:return this.gZ;break;case 4:return this.gZ;break;o7D=1;break;}}}},G6:{get:function(){var X7D;X7D=2;while(X7D!==1){switch(X7D){case 2:return this.Xf;break;case 4:return this.Xf;break;X7D=1;break;}}}},ia:{get:function(){var A7D;A7D=2;while(A7D!==1){switch(A7D){case 4:return this.wc;break;A7D=1;break;case 2:return this.wc;break;}}}},ND:{get:function(){var s7D;s7D=2;while(s7D!==1){switch(s7D){case 2:return 0<=this.sO?this.sO:0;break;case 4:return 2>this.sO?this.sO:6;break;s7D=1;break;}}}},nu:{get:function(){var P7D;P7D=2;while(P7D!==1){switch(P7D){case 2:return this.xa[this.wc];break;case 4:return this.xa[this.wc];break;P7D=1;break;}}}},Yi:{get:function(){var U7D;U7D=2;while(U7D!==1){switch(U7D){case 4:return this.$a.Yi;break;U7D=1;break;case 2:return this.$a.Yi;break;}}}},ss:{get:function(){var k7D;k7D=2;while(k7D!==1){switch(k7D){case 4:return this.$a.ss;break;k7D=1;break;case 2:return this.$a.ss;break;}}}},PG:{get:function(){var H7D;H7D=2;while(H7D!==1){switch(H7D){case 2:return this.wd;break;case 4:return this.wd;break;H7D=1;break;}}}},Ylb:{get:function(){var S7D;S7D=2;while(S7D!==1){switch(S7D){case 4:return this.Vka;break;S7D=1;break;case 2:return this.Vka;break;}}}}});c.prototype.WC=function(a){var Y7D;Y7D=2;while(Y7D!==1){switch(Y7D){case 4:return this.Ii[a];break;Y7D=1;break;case 2:return this.Ii[a];break;}}};c.prototype.RT=function(){var n7D;n7D=2;while(n7D!==1){switch(n7D){case 4:this.cB=-2;n7D=2;break;n7D=1;break;case 2:this.cB=!0;n7D=1;break;}}};c.prototype.Cj=function(){var W7D;W7D=2;while(W7D!==1){switch(W7D){case 2:return this.$a.Cj(this.YA[b.G.AUDIO],this.YA[b.G.VIDEO]);break;}}};c.prototype.Qua=function(){var N7D,a;N7D=2;while(N7D!==3){switch(N7D){case 2:a=0;l.forEach(this.tn.audio_tracks,function(b){var O7D;O7D=2;while(O7D!==1){switch(O7D){case 2:l.forEach(b.streams,function(b){var Z7D;Z7D=2;while(Z7D!==1){switch(Z7D){case 2:a=Math.max(a,b.bitrate);Z7D=1;break;}}});O7D=1;break;}}});return a;break;}}};c.prototype.de=function(){var Q7D;Q7D=2;while(Q7D!==1){switch(Q7D){case 2:return this.It.de();break;case 4:return this.It.de();break;Q7D=1;break;}}};c.prototype.ly=function(){var M7D,j6r;M7D=2;while(M7D!==1){j6r="fu";j6r+="n";j6r+="c";j6r+="tion";switch(M7D){case 2:return j6r===typeof this.It.ly?this.It.ly():this.zb.value===b.Ca.jf;break;}}};c.prototype.oCa=function(){var T7D;T7D=2;while(T7D!==1){switch(T7D){case 2:return this.K.esb?!this.QO:!1;break;case 4:return this.K.esb?~this.QO:~7;break;T7D=1;break;}}};c.prototype.Y2=function(a){var g7D;g7D=2;while(g7D!==1){switch(g7D){case 4:return this.K.Tx||a==b.G.VIDEO;break;g7D=1;break;case 2:return this.K.Tx&&a===b.G.VIDEO;break;}}};c.prototype.xC=function(a){var C7D;C7D=2;while(C7D!==1){switch(C7D){case 2:return this.ma.xC(a);break;case 4:return this.ma.xC(a);break;C7D=1;break;}}};c.prototype.qk=function(a){var f7D;f7D=2;while(f7D!==1){switch(f7D){case 4:return this.xa[a];break;f7D=1;break;case 2:return this.xa[a];break;}}};c.prototype.r9a=function(){var m7D,a;m7D=2;while(m7D!==4){switch(m7D){case 7:return a.ai?this.xa[4]:a;break;m7D=4;break;case 5:return a.ai?this.xa[1]:a;break;case 2:a=this.xa[0];m7D=5;break;}}};y7D=52;break;case 102:c.prototype.VU=function(a){var B5D;B5D=2;while(B5D!==5){switch(B5D){case 2:this.ria=a;this.ma.VU(a);B5D=5;break;}}};c.prototype.Gp=function(a){var i5D,g6r,A6r;i5D=2;while(i5D!==1){g6r="a";g6r+="s";g6r+="eexce";g6r+="ption";A6r="ase";A6r+="exce";A6r+="ption";switch(i5D){case 2:this.emit(A6r,{type:g6r,msg:a});i5D=1;break;}}};c.prototype.Qgb=function(a,b,c,d){var d5D,P6r,Y6r;d5D=2;while(d5D!==5){P6r="max";P6r+="videob";P6r+="itratechanged";Y6r="maxvideob";Y6r+="i";Y6r+="tratechanged";switch(d5D){case 2:a={type:Y6r,time:O.time.ca(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.emit(P6r,a);d5D=5;break;}}};c.prototype.iwa=function(){var u5D,a,b6r;u5D=2;while(u5D!==9){b6r="str";b6r+="eame";b6r+="r";b6r+="end";switch(u5D){case 1:u5D=!this.WVa&&this.K.gwa?5:9;break;case 2:u5D=1;break;case 5:this.WVa=!0;a={type:b6r,time:O.time.ca()};Z(this,a.type,a);u5D=9;break;}}};c.prototype.nia=function(a,b,c){var v5D,d,f;v5D=2;while(v5D!==3){switch(v5D){case 2:d=!0;c.some(function(c){var q5D,g;q5D=2;while(q5D!==8){switch(q5D){case 5:g=c.ranges;d=l.V(g)?b>=c.min&&b<=c.max:g.some(function(a){var L5D;L5D=2;while(L5D!==1){switch(L5D){case 4:return b>a.min||b>a.max;break;L5D=1;break;case 2:return b>=a.min&&b<=a.max;break;}}});!d&&c.disallowed&&c.disallowed.some(function(a){var o5D;o5D=2;while(o5D!==5){switch(o5D){case 3:o5D=a.stream.bitrate!==b?3:7;break;o5D=a.stream.bitrate===b?1:5;break;case 1:return f=a.disallowedBy,!0;break;case 2:o5D=a.stream.bitrate===b?1:5;break;}}});return!0;break;case 1:q5D=a===c.profile?5:8;break;case 2:q5D=1;break;}}});return{inRange:d,$B:f};break;}}};c.prototype.vC=function(a,b,c){var X5D;X5D=2;while(X5D!==1){switch(X5D){case 2:return this.ma.bj.Sa[b].Pa.vC(a,void 0,c);break;}}};c.prototype.UP=function(a){var A5D,c,d;A5D=2;while(A5D!==6){switch(A5D){case 2:c=this.ma.bj;d=0<Object.keys(c.qa&&c.qa.xj||{}).length&&!c.xg?c.Bd-this.K.mT:c.Bd;A5D=4;break;case 3:return!1;break;case 4:A5D=a<c.bc||a>=d?3:9;break;case 9:c=this.vC(a,b.G.AUDIO,!0);a=this.vC(a,b.G.VIDEO,!0);return c&&a&&c.complete&&a.complete;break;}}};c.prototype.g3=function(a,b){var s5D,c,d;s5D=2;while(s5D!==8){switch(s5D){case 2:c=this.Wa;a=c.y3(a,b);s5D=4;break;case 4:d=this.wd.iU;a&&!a.zB&&d.f3(a);s5D=9;break;case 9:b?c.J9():(b=d.t8a(),this.RTa(b));s5D=8;break;}}};c.prototype.oja=function(a,b){var u2b=q8ff;var P5D,c,d,f,T6r,Z6r,F1K;P5D=2;while(P5D!==14){T6r="findNewStre";T6r+="amIndex unable to fi";T6r+="nd stream for bitrate: ";Z6r=" re";Z6r+="turn";Z6r+="ing index: ";switch(P5D){case 5:P5D=(d=a[f],d.Ge&&!d.Dh&&d.inRange)?4:8;break;case 1:P5D=0<=f?5:7;break;case 8:--f;P5D=1;break;case 4:P5D=d.O<=b?3:9;break;case 9:c=f;P5D=8;break;case 2:u2b.K2r(4);F1K=u2b.x2r(18,19);f=a.length-F1K;P5D=1;break;case 3:return f;break;case 7:u2b.K2r(5);this.fa(u2b.x2r(Z6r,c,b,T6r));return c;break;}}};c.prototype.zRa=function(a){var U5D,b;U5D=2;while(U5D!==3){switch(U5D){case 2:b=this.Wa.ob[a.P];b.gi&&b.gi.XP&&(b.gi.XP=void 0);a.JK&&(b.$n=void 0,b.gi=void 0,b.nI=void 0,b.ul=void 0,a.JK=void 0);U5D=3;break;}}};c.prototype.wVa=function(a,b){var k5D,c,d;k5D=2;while(k5D!==19){switch(k5D){case 20:return!1;break;case 5:k5D=b?4:3;break;case 8:k5D=a.Zd<c.M7?7:6;break;case 11:return a.tu=[d],!0;break;case 9:return!0;break;case 2:c=this.K;k5D=5;break;case 7:return!1;break;case 13:k5D=d<b.length?12:20;break;case 3:k5D=a.tu&&0<a.tu.length?9:8;break;case 14:d=0;k5D=13;break;case 4:return a.tu=b,!0;break;case 10:++d;k5D=13;break;case 6:b=a.dc;k5D=14;break;case 12:k5D=(c=b[d],c.Ge&&c.inRange&&!c.Dh&&l.V(this.Ve[a.P][c.id]))?11:10;break;}}};c.prototype.cO=function(a,b,c){var H5D,d;H5D=2;while(H5D!==4){switch(H5D){case 2:d=this.K;return c?d.eR?d.eR:d.$R:d.aCa&&b?b.offset+b.size:!l.V(a)&&(a=this.Wa.ob[a],a.r6)?a.r6+128:2292+12*Math.ceil(this.im/2E3);break;}}};c.prototype.QZa=function(a,c){var S5D,d,f,g,l,h;S5D=2;while(S5D!==20){switch(S5D){case 2:f=this.xa[0];g=b.G.VIDEO;S5D=4;break;case 9:d=f.On[g].bc;S5D=8;break;case 7:d=f.ib[g].Y;l=d.Bj(a,void 0,!0);void 0==l&&l<d.length-1&&++l;c&&(a=f.ib[g].stream.Zg(l).iR(a))&&(h=a.Jb);S5D=12;break;case 4:S5D=f&&f.ib&&f.ib[g]&&f.ib[g].stream.Mc?3:10;break;case 8:return d;break;case 12:void 0===h&&(h=d.Nf(l));S5D=11;break;case 10:d=void 0;S5D=8;break;case 3:S5D=f.On&&f.On[g]&&f.On[g].U<=a&&f.On[g].ea>a?9:7;break;case 11:d=h;S5D=8;break;}}};c.prototype.cG=function(a,c,d,f,g){var Y5D,l,h,m,p,q;Y5D=2;while(Y5D!==8){switch(Y5D){case 2:l=this.xa[a];f&&(m=f.Sa[b.G.VIDEO].Eh.ea,p=f.Sa[b.G.AUDIO].Eh,f=p.ea,h=f-m,g||(m=void 0),p=f-p.U);q=this.nja(d.Sa,l.ib,c,m,h,p);Y5D=3;break;case 3:a===this.ma.zoa&&[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var n5D,b;n5D=2;while(n5D!==4){switch(n5D){case 2:b=d.di(a);n5D=5;break;case 5:b&&(b.pf=q[a]);n5D=4;break;case 7:b||(b.pf=q[a]);n5D=8;break;n5D=4;break;}}});return{fz:q.map(function(a){var W5D;W5D=2;while(W5D!==1){switch(W5D){case 2:return a.U;break;case 4:return a.U;break;W5D=1;break;}}}),On:q};break;}}};c.prototype.TB=function(a,b){var N5D,c,d;N5D=2;while(N5D!==14){switch(N5D){case 2:N5D=1;break;case 1:void 0===a&&(a=this.ND);N5D=5;break;case 5:d=this.ma.c7a(b,a);N5D=4;break;case 3:c=d.Jc;N5D=9;break;case 7:N5D=(d=this.ma.kqa(a))?6:9;break;case 4:N5D=d?3:7;break;case 6:c=d.Jc;N5D=9;break;case 9:l.ka(c)||(c=this.xa[a].Nm);q8ff.K2r(4);return q8ff.v2r(c,b);break;}}};c.prototype.boa=function(a,b){var O5D,c,d;O5D=2;while(O5D!==14){switch(O5D){case 9:l.ka(c)||(c=this.xa[a].Nm);q8ff.B2r(0);return q8ff.x2r(c,b);break;case 2:void 0===a&&(a=this.ND);d=this.ma.b7a(b,a);O5D=4;break;case 4:O5D=d?3:7;break;case 7:O5D=(d=this.ma.kqa(a))?6:9;break;case 3:c=d.Jc;O5D=9;break;case 6:c=d.Jc;O5D=9;break;}}};c.prototype.Era=function(a,c,d){var Z5D;Z5D=2;while(Z5D!==9){switch(Z5D){case 1:Z5D=!a.length?5:4;break;case 5:return c;break;case 2:a=(d?this.nja:this.QA).call(this,a.Sa,this.qk(a.ia).ib,c);Z5D=1;break;case 4:c=a[b.G.VIDEO];return d?c.U:c.ea;break;}}};c.prototype.sla=function(a){var Q5D,c;Q5D=2;while(Q5D!==7){switch(Q5D){case 9:Q5D=(!this.Ii[b.G.VIDEO]||c&&c.stream.Mc)&&a?8:7;break;case 1:Q5D=a?5:7;break;case 2:Q5D=1;break;case 5:c=a[b.G.VIDEO];a=a[b.G.AUDIO];a=!this.Ii[b.G.AUDIO]||a&&a.stream.Mc;Q5D=9;break;case 8:return!0;break;}}};c.prototype.nja=function(a,c,d,f,g,l){var M5D;M5D=2;while(M5D!==1){switch(M5D){case 2:return this.sla(c)?[b.G.VIDEO,b.G.AUDIO].map(function(b){var T5D;T5D=2;while(T5D!==9){switch(T5D){case 5:b=a[b].mqa(c[b].stream,d,f,g,l);d=b.U;return b;break;case 2:T5D=!this.Ii[b]?1:5;break;case 1:return{};break;}}}.bind(this)).reverse():[];break;}}};c.prototype.QA=function(a,c,d){var g5D;g5D=2;while(g5D!==1){switch(g5D){case 2:return this.sla(c)?[b.G.VIDEO,b.G.AUDIO].map(function(b){var C5D;C5D=2;while(C5D!==9){switch(C5D){case 1:return{};break;case 2:C5D=!this.Ii[b]?1:5;break;case 5:b=a[b].e7a(c[b].stream,d);d=b.ea;return b;break;}}}.bind(this)).reverse():[];break;}}};c.prototype.jSa=function(a,b,c,d){var f5D,f;f5D=2;while(f5D!==12){switch(f5D){case 4:d===a.Eh.index?(b=b.pra(a.Eh),b.XK(a.Eh.Jv),b.n7()):f?(b=b.pra(a.pf),b.XK(a.pf.Jv)):b=b.Zg(d);q8ff.B2r(0);b.SJ=q8ff.v2r(1,d);f5D=9;break;case 9:f5D=!b.Zc&&!this.Sr?8:13;break;case 8:++d;f5D=7;break;case 7:f5D=d<c.length&&d<a.Eh.index&&(b.Z<a.Ufb||b.duration<a.hT)?6:13;break;case 6:b.j0(c.get(d)),b.SJ=d+1;f5D=14;break;case 13:return b;break;case 2:c=b.Y;f=d===a.pf.index;f5D=4;break;case 14:++d;f5D=7;break;}}};c.prototype.iSa=function(a,b,c,d){var m5D,f;m5D=2;while(m5D!==11){switch(m5D){case 2:f=this.K;m5D=5;break;case 5:c=b.Y;b=b.Zg(d);q8ff.K2r(0);b.SJ=q8ff.x2r(1,d);m5D=9;break;case 9:m5D=!b.Zc?8:13;break;case 7:m5D=d<c.length&&d<a.Eh.index&&(b.duration<a.hT||0!==d%f.q8)?6:13;break;case 14:++d;m5D=7;break;case 8:++d;m5D=7;break;case 13:b.kdb=this.lO+(O.time.ca()-this.mO);return b;break;case 6:b.j0(c.get(d)),b.SJ=d+1;m5D=14;break;}}};c.prototype.Bia=function(a,b){var V5D,c,d,f;V5D=2;while(V5D!==7){switch(V5D){case 8:return this.Eka&&b.Pb&&c.Vta&&b.Pb!=c.Vta&&(0<a.Pa.hv||0<a.Pa.zo)?{UL:!0,gl:d}:{UL:!1,gl:d};break;case 2:c=this.K;d=!1;f=function(b){var R5D;R5D=2;while(R5D!==1){switch(R5D){case 2:0!==b.length&&(b=b[0],b.Kc<a.Ra&&(b=b.Kc,a.wmb(b)),d=!0);R5D=1;break;}}}.bind(this);c.ar&&a.Pa.dob(this.wc,b.O,f);c=this.Wa.ob[a.P];V5D=8;break;}}};y7D=108;break;case 52:c.prototype.qS=function(a,b){var V7D;V7D=2;while(V7D!==9){switch(V7D){case 5:a=this.xa[a];b=this.xa[b];return a.ai&&b.EJ||b.ai&&a.EJ;break;case 2:V7D=a===b?1:5;break;case 1:return!0;break;}}};c.prototype.BC=function(a){var R7D;R7D=2;while(R7D!==1){switch(R7D){case 2:return this.Ve[a];break;case 4:return this.Ve[a];break;R7D=1;break;}}};c.prototype.i4=function(a){var l7D;l7D=2;while(l7D!==5){switch(l7D){case 2:l7D=(a=this.ma.bj.children[a])?1:5;break;case 1:return{Jc:a.Jc,bc:a.bc,Bd:a.Bd,Kc:a.Kc,Kd:a.Kd};break;}}};c.prototype.Lra=function(){var D7D,a;D7D=2;while(D7D!==4){switch(D7D){case 2:a=this.ma.bj;return{id:a.qa.id,Jc:a.Jc,bc:a.bc,Bd:a.Bd,Kc:a.Kc,Kd:a.Kd};break;}}};c.prototype.aob=function(){var I7D;I7D=2;while(I7D!==5){switch(I7D){case 2:this.FO=!1;I7D=1;break;case 3:this.FO=-8;I7D=7;break;I7D=1;break;case 1:this.ma.Ee.forEach(function(a){var e7D;e7D=2;while(e7D!==1){switch(e7D){case 4:this.QN(a);e7D=9;break;e7D=1;break;case 2:this.QN(a);e7D=1;break;}}}.bind(this));I7D=5;break;}}};c.prototype.Uaa=function(a,b){var h7D;h7D=2;while(h7D!==1){switch(h7D){case 4:return this.ma.Uaa(a,b);break;h7D=1;break;case 2:return this.ma.Uaa(a,b);break;}}};c.prototype.SQa=function(a,b){var w7D,D0r,z0r,w0r,q0r,s0r,E0r,i0r,p6r;w7D=2;while(w7D!==8){D0r="u";D0r+="sing sab cell >= 100";D0r+=", pipelineEn";D0r+="abled: ";z0r="using sab cell ";z0r+=">= 200, p";z0r+="i";z0r+="pel";z0r+="ineEnabled: ";w0r=", a";w0r+="l";w0r+="lowS";w0r+="witchba";w0r+="ck";q0r=", probeD";q0r+="etai";q0r+="lDenomina";q0r+="t";q0r+="or: ";s0r="using s";s0r+="ab cell >= 300, prob";s0r+="eServerWhenError: ";E0r=", al";E0r+="l";E0r+="owS";E0r+="w";E0r+="itchback";i0r=", p";i0r+="ro";i0r+="beDetailDenomina";i0r+="tor: ";p6r="using sab cell >= 4";p6r+="00, pr";p6r+="o";p6r+="beServerWhenError: ";switch(w7D){case 2:b=P(b,a);a=a.cdnResponseData;w7D=5;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.mo=!0,b.dz=1,b.fr=!0),this.Hb(p6r+b.mo+i0r+b.dz+E0r+b.fr)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.mo=!0,b.dz=1,b.fr=!1),this.Hb(s0r+b.mo+q0r+b.dz+w0r+b.fr)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.jo=!1,this.Hb(z0r+b.jo)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.QS}),b.set({maxPendingBufferLen:b.WS})):(b.jo=!0,b.DJ=1,b.zJ=b.QS,b.mD=b.WS),this.Hb(D0r+b.jo)));return b;break;case 4:return b;break;case 5:w7D=!a?4:3;break;}}};c.prototype.UQa=function(a,b){var E6D,d,f;E6D=2;while(E6D!==8){switch(E6D){case 5:return b;break;case 1:E6D=!b.O1||a===this.MSa?5:4;break;case 2:E6D=1;break;case 4:this.MSa=a;for(var c in b.O1)if(new RegExp(c).test(a)){d=b.O1[c];for(f in d){d.hasOwnProperty(f)&&(b[f]=d[f]);}}return b;break;}}};c.prototype.VN=function(a,b,c,d,f,g){var J6D,l,h,p,q,H0r,Q0r,R0r;J6D=2;while(J6D!==9){H0r="ne";H0r+="t";H0r+="workFail";H0r+="ureReset";Q0r="str";Q0r+="e";Q0r+="ami";Q0r+="ngFailure";R0r="log";R0r+="dat";R0r+="a";switch(J6D){case 2:l=this.K;f?(q=this.xa[this.xa.length-1],h=q.G6,p=q.ao,q=q.nC,p.NG(a)):(h=new m(),p=this.Lia(a,this.Th),h.on(p,R0r,function(a){var r6D;r6D=2;while(r6D!==1){switch(r6D){case 2:Z(this,a.type,a);r6D=1;break;case 4:Z(this,a.type,a);r6D=0;break;r6D=1;break;}}},this),q=new G(this,p,this.K),h.on(q,Q0r,this.zSa,this),h.on(q,H0r,this.wSa,this));l.kp&&this.Uo&&q.eob(this.Uo);J6D=3;break;case 3:return new la(a,f,d,b,c,h,p,q,g);break;}}};c.prototype.ARa=function(a){var a6D;a6D=2;while(a6D!==1){switch(a6D){case 2:return this.VN(a.Fa,a.U,a.ea,a.ge,a.replace,a.Bs);break;}}};c.prototype.oWa=function(a,b,c){var z6D;z6D=2;while(z6D!==4){switch(z6D){case 2:a=a.P;b.ib[a]=c;c.Y&&(b.vx[a]=c.Y.cp,b.lD[a]=c.Y.TS);z6D=4;break;}}};c.prototype.yRa=function(){var c6D,a,b;c6D=2;while(c6D!==9){switch(c6D){case 1:c6D=b<this.xa.length?5:3;break;case 5:a=this.xa[b],a.G6.clear(),a.Jd();c6D=4;break;case 2:b=0;c6D=1;break;case 3:this.xa.length=0;c6D=9;break;case 4:++b;c6D=1;break;}}};c.prototype.Lia=function(a,b){var j6D;j6D=2;while(j6D!==4){switch(j6D){case 2:b=new n(this,this.$a.Va,this.$a.sg,!b,this.K);b.NG(a);return b;break;}}};c.prototype.open=function(){var K6D,a,c,d,f,g,h,m,p,v0r,l0r,t0r,L0r,n0r,U0r,I0r,G0r,h0r,a0r;K6D=2;while(K6D!==44){v0r="createM";v0r+="ediaS";v0r+="ou";v0r+="rceEnd";l0r="s";l0r+="tartp";l0r+="lay";t0r="lo";t0r+="gdat";t0r+="a";L0r="Erro";L0r+="r";L0r+=":";n0r="NFErr_MC_";n0r+="StreamingInitFai";n0r+="lure";U0r="exc";U0r+="eption ";U0r+="in init";I0r="Er";I0r+="r";I0r+="o";I0r+="r:";G0r="cr";G0r+="e";G0r+="ateMediaSourceSt";G0r+="ar";G0r+="t";h0r="NFErr";h0r+="_MC_StreamingInitF";h0r+="ailure";a0r="startPts m";a0r+="ust be a po";a0r+="si";a0r+="tive number, n";a0r+="ot ";switch(K6D){case 5:this.ak(a0r+this.IG,void 0,h0r);K6D=44;break;case 15:K6D=m.readyState===O.MediaSource.Eb.OPEN?27:28;break;case 4:a=this.K;c=this.mm;d=[];f=[X.LM];K6D=7;break;case 20:this.$a.Qc&&this.$a.Qc.RG(g,this.Wj.sessionId);h=this.Kia(f);f.forEach(function(a,b){var y6D;y6D=2;while(y6D!==1){switch(y6D){case 2:a.type==X.LM?this.jG=h[b]:this.Wa.ob[a.type].yj=h[b];y6D=1;break;}}}.bind(this));K6D=17;break;case 7:this.Qf&&(d.push(b.G.VIDEO),f.push(X.VIDEO));this.Ni&&(d.push(b.G.AUDIO),f.push(X.AUDIO));f=this.tja(f);this.Pw=0;this.EVa();this.QO=!1;g=a.QG;K6D=20;break;case 29:this.emit(d.type,d);K6D=44;break;case 17:this.Pq(G0r);m=new S(this.It);K6D=15;break;case 28:this.Hb(I0r,m.error),this.ak(U0r,void 0,n0r);K6D=44;break;case 23:throw this.Hb(L0r,m.error),m.error;K6D=22;break;case 34:this.ON&&(this.ON=!1,d=this.ma.Ee[b.G.VIDEO],f=this.Wa.II(d).df,g=null,l.V(f)||(g=d.dc[f],g.qO&&this.Zia(!1)),(l.V(f)||l.V(g)||!g.qO)&&this.Zia(!0));this.WTa();p=function(){var F6D,u0r;F6D=2;while(F6D!==5){u0r="shutdo";u0r+="wn detecte";u0r+="d before startRequests";switch(F6D){case 2:this.YTa();this.ne()?this.fa(u0r):this.SVa(c);F6D=5;break;}}}.bind(this);a.N3a?setTimeout(function(){var t6D;t6D=2;while(t6D!==1){switch(t6D){case 4:this.zia(c).then(p);t6D=4;break;t6D=1;break;case 2:this.zia(c).then(p);t6D=1;break;}}}.bind(this),0):this.zia(c).then(function(){var B6D;B6D=2;while(B6D!==1){switch(B6D){case 2:setTimeout(p,0);B6D=1;break;case 4:setTimeout(p,5);B6D=5;break;B6D=1;break;}}});d={type:t0r,target:l0r,fields:{audiogapconfig:a.fT,audiogapdpi:this.Ae.ic&&this.Ae.ic.fT}};K6D=29;break;case 27:this.Pq(v0r);m.ic||(m.ic=S.ic);this.Ae=m;K6D=24;break;case 24:K6D=!m.f0(d)?23:22;break;case 1:K6D=!l.ka(this.IG)||0>this.IG?5:4;break;case 22:m.sourceBuffers.forEach(function(b){var G6D,d,c0r,o0r,K0r,B0r,x0r;G6D=2;while(G6D!==14){c0r="man";c0r+="ag";c0r+="erdebugevent";o0r="l";o0r+="o";o0r+="gda";o0r+="ta";K0r="e";K0r+="rr";K0r+="o";K0r+="r";B0r="requestAppe";B0r+="nde";B0r+="d";x0r="headerA";x0r+="pp";x0r+="ended";switch(G6D){case 2:d=b.P;b=new w(this.Wa.ob[d].W,d,c,m,b,this.Ve[d],a);b.addEventListener(x0r,this.uSa.bind(this));b.addEventListener(B0r,this.xSa.bind(this));G6D=9;break;case 9:b.addEventListener(K0r,function(a){var b6D,f0r;b6D=2;while(b6D!==1){f0r="NFErr_";f0r+="MC_Streami";f0r+="n";f0r+="gFailure";switch(b6D){case 2:this.ak(a.errorstr,void 0,f0r);b6D=1;break;}}}.bind(this));b.addEventListener(o0r,function(a){var x6D;x6D=2;while(x6D!==1){switch(x6D){case 4:Z(this,a.type,a);x6D=5;break;x6D=1;break;case 2:Z(this,a.type,a);x6D=1;break;}}}.bind(this));a.Oe&&b.addEventListener(c0r,function(a){var p6D;p6D=2;while(p6D!==1){switch(p6D){case 2:Z(this,a.type,a);p6D=1;break;case 4:Z(this,a.type,a);p6D=8;break;p6D=1;break;}}}.bind(this));G6D=6;break;case 6:this.Ke[d]=b;G6D=14;break;}}}.bind(this));this.rl&&this.ETa();this.wd.Dhb();K6D=34;break;case 2:K6D=1;break;}}};c.prototype.Zia=function(a){var i6D,c,W0r,N0r,y0r,C0r,d0r,F0r;i6D=2;while(i6D!==3){W0r="ab";W0r+="or";W0r+="t";W0r+="ed";N0r="suc";N0r+="c";N0r+="e";N0r+="s";N0r+="s";y0r="s";y0r+="kipFastp";y0r+="lay";C0r="skipFa";C0r+="stpl";C0r+="ay";d0r="start";d0r+="p";d0r+="lay";F0r="l";F0r+="og";F0r+="d";F0r+="at";F0r+="a";switch(i6D){case 2:c={type:F0r,target:d0r,fields:{skipFastplayResult:""}};this.LVa&&!a&&this.pn?(this.emit(C0r,{type:y0r}),this.Th=!1,a=this.wG(this.tn,0,this.pn,!1),a=this.VN(this.tn,this.nu.U,this.nu.ea,a),a.ai=!1,a.Xab=!0,a.Bs=this.pn,this.xa[this.wc]=a,c.Tc.Iob=N0r):(this.xa[this.wc].ge[b.G.VIDEO].dc.forEach(function(a){var d6D;d6D=2;while(d6D!==1){switch(d6D){case 2:a.qO&&a.Ge&&(a.Ge=!1);d6D=1;break;}}}),c.Tc.Iob=W0r);Z(this,c.type,c);i6D=3;break;}}};c.prototype.flush=function(){var u6D,a,c,d,f,g,v6D,r0r,V0r,O0r,M0r,X0r,S0r,J0r,k0r;u6D=2;while(u6D!==16){r0r="e";r0r+="n";r0r+="dplay";V0r="l";V0r+="ogd";V0r+="at";V0r+="a";O0r="t";O0r+="hro";O0r+="ughp";O0r+="ut-s";O0r+="w";M0r="thro";M0r+="u";M0r+="g";M0r+="hput-sw";X0r="thr";X0r+="o";X0r+="ughput-sw";S0r="en";S0r+="d";S0r+="p";S0r+="lay";J0r="l";J0r+="o";J0r+="gda";J0r+="t";J0r+="a";switch(u6D){case 11:g&&g.length&&(d.activeRequests=JSON.stringify(g));u6D=10;break;case 3:d={};f=c.get(!0);f&&f.avtp&&f.avtp.Aa&&(d.avtp=f.avtp.Aa,d.dltm=f.avtp.epa);c.flush();f=c.a9a();g=c.OWa;u6D=13;break;case 2:a=this.K;c=this.$a.Va;u6D=4;break;case 4:u6D=c?3:20;break;case 13:u6D=f?12:11;break;case 12:for(var l in f){k0r="n";k0r+="e";f.hasOwnProperty(l)&&(d[k0r+l]=Number(f[l]).toFixed(6));}u6D=11;break;case 10:Object.keys(d).length&&(d={type:J0r,target:S0r,fields:d},Z(this,d.type,d));u6D=20;break;case 18:u6D=this.Ln?17:16;break;case 17:try{v6D=2;while(v6D!==1){switch(v6D){case 4:this.g3(b.Ca.zA);v6D=2;break;v6D=1;break;case 2:this.g3(b.Ca.zA);v6D=1;break;}}}catch(Ga){var m0r;m0r="Hindsight: Err";m0r+="or evalu";m0r+="ating QoE ";m0r+="at stopping: ";q8ff.K2r(0);this.Gp(q8ff.x2r(Ga,m0r));}u6D=16;break;case 20:a.aI&&c&&((f=c.get(!0))&&f[X0r]&&this.ss.aXa({avtp:f[M0r].Aa,variance:f[O0r].Ig}),f&&f.avtp&&f.vk&&f.vk.Oy&&this.ss.XWa({avtp:f.avtp.Aa,niqr:f.vk.Oy.toFixed(4)},f.avtp.epa),a=this.ss.I8a(),c=this.ss.C$a(),a&&(a.n=c,a={type:V0r,target:r0r,fields:{ibef:a}},Z(this,a.type,a),this.ss.save()));this.rl&&this.kka();u6D=18;break;}}};c.prototype.paused=function(){var q6D;q6D=2;while(q6D!==1){switch(q6D){case 2:this.zb.value===b.Ca.jf&&this.zb.set(b.Ca.yq);q6D=1;break;}}};c.prototype.ABa=function(){var L6D;L6D=2;while(L6D!==1){switch(L6D){case 2:this.zb.value===b.Ca.yq&&this.zb.set(b.Ca.jf);L6D=1;break;}}};c.prototype.close=function(){var o6D,a,b,A0r,j0r,e0r;o6D=2;while(o6D!==17){A0r="e";A0r+="n";A0r+="dp";A0r+="l";A0r+="ay";j0r="l";j0r+="ogd";j0r+="a";j0r+="ta";e0r="cl";e0r+="os";e0r+="e";switch(o6D){case 13:a[b]=a[b]?a[b].toFixed(1):0;o6D=12;break;case 20:this.$a.Qc&&this.$a.Qc.RG(!0,this.Wj.sessionId,!0);this.iwa();this.$a.XUa(this);o6D=17;break;case 12:b++;o6D=14;break;case 9:this.hx=!1;o6D=8;break;case 2:a=this.K;this.EUa=!0;this.stop();this.emit(e0r);o6D=9;break;case 7:this.bP.vr();o6D=6;break;case 8:o6D=a.UQ?7:20;break;case 11:a={type:j0r,target:A0r,fields:{bridgestat:a}};o6D=10;break;case 6:a=this.bP.gg([.25,.5,.75,.9,.95,.99]),b=0;o6D=14;break;case 14:o6D=b<a.length?13:11;break;case 10:Z(this,a.type,a);o6D=20;break;}}};c.prototype.Jd=function(){var X6D,a,Y0r,g0r;X6D=2;while(X6D!==11){Y0r="Error on ";Y0r+="MediaSourc";Y0r+="e";Y0r+=" de";Y0r+="stroy: ";g0r="i";g0r+="n";g0r+="acti";g0r+="ve";switch(X6D){case 2:this.Yi.removeEventListener(g0r,this.hka);this.wd.thb();this.Eia();X6D=3;break;case 12:l.V(a)||a.Kn()||this.fa(Y0r,a.error);X6D=11;break;case 7:this.yRa();this.Xf.clear();a=this.Ae;this.Ae=void 0;X6D=12;break;case 3:this.ma.Jd();this.ORa();this.zb.set(b.Ca.yA);X6D=7;break;}}};c.prototype.suspend=function(){var A6D;A6D=2;while(A6D!==1){switch(A6D){case 4:this.jla=-6;A6D=0;break;A6D=1;break;case 2:this.jla=!0;A6D=1;break;}}};c.prototype.resume=function(){var s6D;s6D=2;while(s6D!==5){switch(s6D){case 2:this.jla=!1;this.Wh();s6D=5;break;}}};c.prototype.ne=function(){var P6D;P6D=2;while(P6D!==1){switch(P6D){case 2:return this.EUa||this.ma.gcb;break;case 4:return this.EUa&&this.ma.gcb;break;P6D=1;break;}}};y7D=73;break;case 175:c.prototype.cUa=function(a,b,c){var a0K,P0r;a0K=2;while(a0K!==5){P0r="segment";P0r+="Complet";P0r+="e";switch(a0K){case 2:a={type:P0r,mediaType:a,manifestIndex:b,segmentId:c.id};Z(this,a.type,a);a0K=5;break;}}};c.prototype.e_=function(a,b){var z0K,b0r;z0K=2;while(z0K!==5){b0r="lastSe";b0r+="gm";b0r+="e";b0r+="nt";b0r+="Pts";switch(z0K){case 2:b={type:b0r,segmentId:a.id,pts:Math.floor(b)};z0K=1;break;case 1:a.ID||Z(this,b.type,b);z0K=5;break;}}};c.prototype.UTa=function(a,b,c,d,f){var c0K,Z0r;c0K=2;while(c0K!==5){Z0r="manifestRa";Z0r+="n";Z0r+="ge";switch(c0K){case 2:a={type:Z0r,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(f)};Z(this,a.type,a);c0K=5;break;}}};c.prototype.WTa=function(){var j0K,a,T0r;j0K=2;while(j0K!==4){T0r="ma";T0r+="x";T0r+="Bitr";T0r+="ate";T0r+="s";switch(j0K){case 2:a={type:T0r,audio:this.YA[b.G.AUDIO],video:this.YA[b.G.VIDEO]};Z(this,a.type,a);j0K=4;break;}}};c.prototype.VTa=function(a,b,c){var K0K,d,f,i5r,p0r;K0K=2;while(K0K!==8){i5r="notifyMa";i5r+="nif";i5r+="e";i5r+="stSelected: ";p0r="ma";p0r+="nif";p0r+="estS";p0r+="e";p0r+="lected";switch(K0K){case 4:a={type:p0r,index:a,replace:b,ptsStarts:c,streamingOffset:f.U+f.Nm};K0K=3;break;case 2:d=this.K;f=this.xa[a];K0K=4;break;case 3:d.Oe&&(b=i5r+JSON.stringify(a),d.Oe&&this.qh(b));Z(this,a.type,a);K0K=8;break;}}};c.prototype.TTa=function(a,b,c){var y0K,d,E5r;y0K=2;while(y0K!==9){E5r="m";E5r+="a";E5r+="nif";E5r+="es";E5r+="tPresenting";switch(y0K){case 2:d=this.xa[a];b={type:E5r,index:a,pts:Math.floor(b),movieId:d.R,replace:d.replace,contentOffset:c};0<a&&(b.previousMovieId=this.xa[a-1].R,b.previousIndex=a-1);y0K=3;break;case 3:Z(this,b.type,b);y0K=9;break;}}};c.prototype.hwa=function(a,b,c,d){var G0K,f,g,s5r;G0K=2;while(G0K!==13){s5r="stre";s5r+="amSelecte";s5r+="d";switch(G0K){case 2:f=a.P;b=this.xa[b].ge[f].Pl[c];g=this.Wa.ob[f];g.gi||(g.gi={});g.gi.id=b.id;g.gi.index=b.df;G0K=7;break;case 7:g.gi.O=b.O;g.gi.location=b.location;g.Su&&g.Su===b||(a.rE.spb(d,g.Su,b),g.Su=b,d=0,b.Ga&&b.Ga.yc&&b.Ga.pa&&(d=b.Ga.pa.Aa),g=a.Ec.Jc,a={type:s5r,nativetime:O.time.ca(),mediaType:f,streamId:c,manifestIndex:b.ia,trackIndex:b.Xo,streamIndex:b.df,movieTime:Math.floor(a.Ra+g),bandwidth:d,longtermBw:d,rebuffer:0},Z(this,a.type,a));G0K=13;break;}}};c.prototype.fUa=function(a,b,c,d,f,g){var b0K,q5r;b0K=2;while(b0K!==5){q5r="str";q5r+="e";q5r+="amPr";q5r+="esenting";switch(b0K){case 2:a={type:q5r,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.P,manifestIndex:d,trackIndex:f,streamIndex:g};Z(this,a.type,a);b0K=5;break;}}};c.prototype.jUa=function(a){var x0K,w5r;x0K=2;while(x0K!==5){w5r="vide";w5r+="oL";w5r+="o";w5r+="oped";switch(x0K){case 2:a={type:w5r,offset:a};Z(this,a.type,a);x0K=5;break;}}};c.prototype.mka=function(a,c,d,f,g,l,h,m){var p0K,Q5r,R5r,D5r,z5r;p0K=2;while(p0K!==1){Q5r="a";Q5r+="u";Q5r+="d";Q5r+="io";R5r="v";R5r+="id";R5r+="eo";D5r="lo";D5r+="cation";D5r+="Sel";D5r+="ected";z5r="locat";z5r+="ionSe";z5r+="lecte";z5r+="d";switch(p0K){case 2:Z(this,z5r,{type:D5r,manifestIndex:a,mediatype:c===b.G.VIDEO?R5r:Q5r,location:d,locationlv:f,serverid:g,servername:l,selreason:h,seldetail:m});p0K=1;break;}}};c.prototype.oka=function(a,c,d,f,g){var F0K,l,h,m,h5r,a5r,H5r;F0K=2;while(F0K!==14){h5r="s";h5r+="er";h5r+="ver";h5r+="Swi";h5r+="tch";a5r="a";a5r+="u";a5r+="d";a5r+="i";a5r+="o";H5r="v";H5r+="id";H5r+="e";H5r+="o";switch(F0K){case 2:l=a.P;h=l==b.G.VIDEO?H5r:a5r;m=this.$a.Va.get(!1);F0K=3;break;case 3:a={type:h5r,manifestIndex:a.ia,mediatype:h,server:c,reason:d,location:f,bitrate:g,confidence:m.yc};m.yc&&(a.throughput=m.pa.Aa);l=this.Wa.ob[l];l.ry&&(a.oldserver=l.ry);F0K=6;break;case 6:Z(this,a.type,a);F0K=14;break;}}};c.prototype.hUa=function(a,b,c){var t0K,G5r;t0K=2;while(t0K!==5){G5r="up";G5r+="da";G5r+="teStreamingPts";switch(t0K){case 2:a={type:G5r,manifestIndex:a,trackIndex:b,movieTime:Math.floor(c)};Z(this,a.type,a);t0K=5;break;}}};c.prototype.NTa=function(a,b){var B0K,I5r;B0K=2;while(B0K!==5){I5r="firstReq";I5r+="u";I5r+="estAppen";I5r+="d";I5r+="ed";switch(B0K){case 2:a={type:I5r,manifestIndex:a.ia,mediatype:b.P,time:O.time.ca()};Z(this,a.type,a);B0K=5;break;}}};c.prototype.STa=function(){var i0K,a,c,L5r,n5r,U5r;i0K=2;while(i0K!==3){L5r="init";L5r+="ia";L5r+="lAudioTrac";L5r+="k";n5r="o";n5r+="v";n5r+="er number of track";n5r+="s:";U5r="audio";U5r+="Tr";U5r+="ackIn";U5r+="d";U5r+="ex:";switch(i0K){case 2:a=this.pn[b.G.AUDIO];c=this.tn.audio_tracks;a>c.length?this.fa(U5r,a,n5r,c.length):(a={type:L5r,trackId:c[a].track_id,trackIndex:a},Z(this,a.type,a));i0K=3;break;}}};c.prototype.GTa=function(a,b,c){var d0K,u5r;d0K=2;while(d0K!==9){u5r="audioT";u5r+="rack";u5r+="Swi";u5r+="tchStar";u5r+="ted";switch(d0K){case 2:a=a.audio_tracks;b=a[b];c=a[c];c={type:u5r,oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:c.language,newNumChannels:c.channels};Z(this,c.type,c);d0K=9;break;}}};c.prototype.FTa=function(a){var u0K;u0K=2;while(u0K!==1){switch(u0K){case 2:setTimeout(function(){var v0K,b,t5r;v0K=2;while(v0K!==4){t5r="a";t5r+="udioTrackSw";t5r+="itc";t5r+="hComplete";switch(v0K){case 2:b={type:t5r,trackId:a.Vb,trackIndex:a.uf};Z(this,b.type,b);v0K=4;break;}}}.bind(this),0);u0K=1;break;}}};c.prototype.eUa=function(a,b){var q0K,l5r;q0K=2;while(q0K!==5){l5r="current";l5r+="StreamI";l5r+="nfeasible";switch(q0K){case 2:a={type:l5r,oldBitrate:a,newBitrate:b};Z(this,a.type,a);q0K=5;break;}}};c.prototype.uSa=function(a){var L0K,b;L0K=2;while(L0K!==8){switch(L0K){case 3:this.K=this.UQa(a.Me,this.K);this.xa.forEach(function(a,b){var o0K;o0K=2;while(o0K!==1){switch(o0K){case 2:a.k5||0===b||this.NO(a.R,b,a.ge);o0K=1;break;}}}.bind(this));L0K=8;break;case 5:a=this.xa[a.manifestIndex].ge[b].Pl[a.streamId];this.zVa(this.ma.Bf.di(b),a);L0K=3;break;case 2:b=a.mediaType;L0K=5;break;}}};c.prototype.xSa=function(a){var X0K,b;X0K=2;while(X0K!==8){switch(X0K){case 2:a=a.request;b=a.bf;b.msa=!0;a.kR&&this.NTa(b,a);a.zp&&this.cUa(b.P,a.ia,b.Ec.qa);X0K=8;break;}}};c.prototype.zVa=function(a,b){var A0K;A0K=2;while(A0K!==1){switch(A0K){case 2:this.Wa.ob[a.P].$n={id:b.id,index:b.df,O:b.O,pa:b.Ga&&b.Ga.yc&&b.Ga.pa?b.Ga.pa.Aa:0,location:b.location};A0K=1;break;}}};c.prototype.OZ=function(a,b,c){var s0K;s0K=2;while(s0K!==6){switch(s0K){case 2:s0K=!c||c.tk&&c.Vna?1:6;break;case 4:s0K=a.rpa?3:9;break;case 1:s0K=c?5:8;break;case 8:this.LTa(b,c);this.qB(this.wc+1);s0K=6;break;case 5:a=this.Wa.ob[a.P];s0K=4;break;case 3:return;break;case 9:a.rpa=!0;s0K=8;break;}}};c.prototype.JTa=function(a){var P0K,b,x5r,v5r;P0K=2;while(P0K!==9){x5r="s";x5r+="t";x5r+="art";x5r+="B";x5r+="uffering";v5r="bufferingSt";v5r+="ar";v5r+="te";v5r+="d";switch(P0K){case 2:b={type:v5r,time:O.time.ca(),percentage:a||0};Z(this,b.type,b);this.emit(x5r);this.UZ=a||0;P0K=9;break;}}};c.prototype.HTa=function(){var U0K,a,c,d,f,B5r;U0K=2;while(U0K!==6){B5r="bu";B5r+="fferin";B5r+="g";switch(U0K){case 5:c=O.time.ca();d=this.ma.Bf;d=this.Qf?d.di(b.G.VIDEO):d.di(b.G.AUDIO);f=d.Zd;U0K=8;break;case 2:a=this.K;U0K=5;break;case 8:a=Math.min(Math.max(Math.round(100*(d.xJ?(c-this.mZ)/a.KD:d.mi?d.mi:f/a.ii)),this.UZ),99);a!=this.UZ&&(c={type:B5r,time:c,percentage:a},Z(this,c.type,c),this.UZ=a);U0K=6;break;}}};y7D=191;break;case 149:c.prototype.MN=function(a,c){var Y8D,d,f,g;Y8D=2;while(Y8D!==16){switch(Y8D){case 9:this.M_(a,c);d=[0,0];0===c||a.EJ||a.replace||(g=L.UG(a.R,this.xa[c-1].R),g=this.cG(c,a.U,this.ma.Bf,this.ma.Bf,g),d=g.fz);a.U=d[b.G.VIDEO];Y8D=14;break;case 14:a.fz=d;a.On=g&&g.On;this.xia(c);this.UTa(c,a.Nm,a.U,a.zk.hi,this.Qf?a.ib[b.G.VIDEO].zk.hi:a.ib[b.G.AUDIO].zk.hi);a.vK=!0;Y8D=20;break;case 3:Y8D=!(this.Ni&&!d||this.Qf&&!f)?9:16;break;case 5:d=a.ib[0]&&a.ib[0].stream.Mc;Y8D=4;break;case 1:Y8D=!a.vK?5:16;break;case 2:Y8D=1;break;case 20:q8ff.K2r(0);a=q8ff.x2r(1,c);Y8D=19;break;case 4:f=a.ib[1]&&a.ib[1].stream.Mc;Y8D=3;break;case 19:Y8D=a<this.xa.length?18:16;break;case 18:c=this.xa[a],c.vK=!1,this.MN(c,a);Y8D=17;break;case 17:++a;Y8D=19;break;}}};c.prototype.Aja=function(a){var n8D;n8D=2;while(n8D!==1){switch(n8D){case 2:return a.zk?a.zk.hi:a.ea?a.ea:a.Fa.duration;break;}}};c.prototype.xia=function(a){var W8D,b;W8D=2;while(W8D!==4){switch(W8D){case 2:b=this.xa[a];0===a||b.replace?b.Nm=0:(a=this.xa[a-1],b.Nm=a.Nm+this.Aja(a)-b.U);W8D=4;break;}}};c.prototype.M_=function(a,c){var N8D,d,f,g,l,h,m;N8D=2;while(N8D!==19){switch(N8D){case 2:d=this.K;f=a.ib[b.G.AUDIO];g=a.ib[b.G.VIDEO];N8D=3;break;case 3:N8D=(!this.Ni||f&&f.stream.Mc)&&(!this.Qf||g&&g.stream.Mc)?9:19;break;case 9:l=this.ma.Bf;h=a.ea||Infinity;g=l.Sa;f=this.QA(g,a.ib,h);m=f.map(function(a){var O8D;O8D=2;while(O8D!==1){switch(O8D){case 2:return{hi:a.ea,edb:a.U,lastIndex:a.index};break;}}});f.length&&(a.UFb=f);d=this.Qf?!d.Um||d.Em?m[b.G.VIDEO]:this.lVa(m[b.G.AUDIO],m[b.G.VIDEO]):m[b.G.AUDIO];N8D=11;break;case 11:a.zk=d;this.XTa(c,this.Qf?a.ib[b.G.VIDEO].zk.hi:a.ib[b.G.AUDIO].zk.hi,d.hi);c===this.ma.zoa&&((c=l.qa.ea)&&c<h&&(f=this.QA(g,a.ib,c)),a=g[b.G.VIDEO],c=g[b.G.AUDIO],a&&a.RU(f[b.G.VIDEO]),c&&c.RU(f[b.G.AUDIO]));N8D=19;break;}}};c.prototype.lVa=function(a,b){var Z8D,c,d,f,K5r;Z8D=2;while(Z8D!==8){K5r="maxPts be";K5r+="tween stre";K5r+="ams is largely different. Choosing lower maxPts:";switch(Z8D){case 2:c=this.K;d=b;f=Math.abs(a.hi-b.hi);Z8D=3;break;case 3:f<=c.SS?d=a.hi>b.hi?a:b:f>c.SS&&(d=a.hi<b.hi?a:b,this.fa(K5r,d));return d;break;}}};c.prototype.v_=function(a,c){var Q8D;Q8D=2;while(Q8D!==5){switch(Q8D){case 2:this.ma.Bf.reset(!0,a,c);(void 0===c?[b.G.AUDIO,b.G.VIDEO]:[c]).forEach(function(a){var M8D;M8D=2;while(M8D!==4){switch(M8D){case 7:this.wd.Ehb(a);M8D=1;break;M8D=4;break;case 5:this.wd.Ehb(a);M8D=4;break;case 2:this.Ke[a].reset();this.jVa(a);M8D=5;break;}}}.bind(this));Q8D=5;break;}}};c.prototype.jVa=function(a){var T8D;T8D=2;while(T8D!==8){switch(T8D){case 2:a=this.Wa.ob[a];a.Su=void 0;a.w6=void 0;a.lo=0;T8D=3;break;case 3:a.mK=0;a.connected=!1;T8D=8;break;}}};c.prototype.A_=function(a,c){var g8D,d,f,f5r;g8D=2;while(g8D!==8){f5r="ptsch";f5r+="a";f5r+="ng";f5r+="e";f5r+="d";switch(g8D){case 5:g8D=d.di(a)?4:8;break;case 4:f=this.Wa.ob[a];l.V(f.vm)&&(f.vm=c,a===b.G.VIDEO&&this.Ni&&(a=this.Wa.ob[b.G.AUDIO],l.V(a.vm)&&(d=d.di(b.G.AUDIO),d.Tp(c)),this.emit(f5r,c)));l.V(f.hH)&&(f.hH=c);g8D=8;break;case 2:d=this.ma.Bf;g8D=5;break;}}};c.prototype.vSa=function(a){var C8D,b,c,c5r,o5r;C8D=2;while(C8D!==3){c5r=" ignored,";c5r+=" pip";c5r+="elin";c5r+="es ";c5r+="shutdown";o5r="H";o5r+="e";o5r+="ader request ";switch(C8D){case 2:b=a.bf;c=b.P;this.ne()?this.fa(o5r+a+c5r):(a.bK>a.Xhb&&(this.Wa.ob[c].r6=a.bK),this.Eja(b,a),this.Nja=O.time.ca());C8D=3;break;}}};c.prototype.Gja=function(a){var f8D,c,d,f,g,C5r,d5r,F5r;f8D=2;while(f8D!==8){C5r="a";C5r+="ll";C5r+="Complete";C5r+="d";d5r="tota";d5r+="l f";d5r+="ram";d5r+="es:";F5r="handleRequ";F5r+="estDone, add";F5r+="ing frames:";switch(f8D){case 2:c=this.K;f=a.bf;d=f.Ec;g=a.ia;f8D=9;break;case 9:this.zb.value!=b.Ca.zA&&this.zb.value!=b.Ca.yA&&(this.hUa(g,f.Xo,f.Ex),c.Nl&&(f.Fx+=a.Pp,f.fa(F5r,a.Pp,d5r,f.Fx)),this.mt()||(d=d.di(b.G.VIDEO))&&!d.ep&&d.XR&&this.Wa.II(d),this.QN(f),this.kf&&(a=this.kf.indexOf(a),-1!=a&&this.kf.splice(a,1),0===this.kf.length&&(this.kf=void 0,c.QG||this.eZ||this.jP(C5r))),this.tZ(f)&&this.Wh());f8D=8;break;}}};c.prototype.LG=function(){var m8D,a,c,d,f,g,h,m,y5r;m8D=2;while(m8D!==17){y5r="nu";y5r+="m";y5r+="b";y5r+="er";switch(m8D){case 2:a=this.K;c=this.ND;d=this.xa[c];m8D=3;break;case 3:f=this.ma.Bf;g=this.de()||0;h=this.TB(c,g);this.QO=!0;m=a.GV;m8D=14;break;case 20:m=Math.max(m,1);this.Ot&&clearTimeout(this.Ot);this.Ot=setTimeout(this.LG.bind(this),m);m8D=17;break;case 14:m8D=a.ZH||a.Gpa?13:12;break;case 13:c=this.ma.e$a(),y5r===typeof c&&c-a.R7<=h&&(m=Math.min(m,a.aZa));m8D=12;break;case 12:this.$a.Qc&&d.zk&&d.zk.hi-g<=a.Cva&&this.$a.Qc.RG(!0,this.Wj.sessionId);this.zb.value===b.Ca.jf&&([b.G.VIDEO,b.G.AUDIO].forEach(function(a){var V8D,c,d,p,q,k,n,N5r;V8D=2;while(V8D!==13){N5r="Unable to find re";N5r+="quest pre";N5r+="senting at playerPts:";switch(V8D){case 5:c=f.di(a);V8D=4;break;case 2:V8D=1;break;case 4:V8D=c?3:13;break;case 1:V8D=this.Ii[a]?5:13;break;case 3:k=c;this.QN(c,g);(n=c.Pa.vC(g))&&!n.vh&&(n=this.Ke[a].Zcb);V8D=7;break;case 7:n?(k=n.Bd-g,k<m&&(m=k),q=this.Wa.ob[a],p=n.ia,k=n.bf,this.Qf&&a!==b.G.VIDEO||(this.ma.Ugb(n,n.Ik),p>this.sO?(this.sO=p,this.TTa(p,g,n.Ik),h=this.TB(p,g)):this.XA&&n.Ik!=q.hdb&&this.jUa(n.Ik)),q.hdb=n.Ik,d=n.Xa,d!=q.w6&&(q.w6=d,a=this.xa[p].ge[a].Pl,a=a[d],p=this.TB(p,n.bc),this.fUa(k,n.bc,p,a.ia,a.Xo,a.df)),n=n.O,l.V(n)||n==c.lxa||(c.lxa=n)):c.fa(N5r,g);this.PUa(k,g);this.ma.ukb();V8D=13;break;}}}.bind(this)),this.m_=!1,this.ma.Ao(g,h));this.Wh();m8D=20;break;}}};c.prototype.Wh=function(){var R8D,a;R8D=2;while(R8D!==4){switch(R8D){case 2:a=this.K;R8D=5;break;case 5:!this.Eka||this.m_||this.ax||this.hx||(this.ax=setTimeout(function(){var l8D;l8D=2;while(l8D!==4){switch(l8D){case 2:clearTimeout(this.ax);this.ax=void 0;this.dja();l8D=4;break;}}}.bind(this),a.H8),a.hC&&this.Qf&&(this.Gw||(this.Gw=setTimeout(function(){var D8D,a;D8D=2;while(D8D!==9){switch(D8D){case 3:a&&this.gia(a);D8D=9;break;case 2:clearTimeout(this.Gw);this.Gw=void 0;a=this.ma.Bf.di(b.G.VIDEO);D8D=3;break;}}}.bind(this),a.QWa))));R8D=4;break;}}};c.prototype.dja=function(){var I8D,a,c,d,W5r;I8D=2;while(I8D!==11){W5r="firstDrive";W5r+="Stream";W5r+="i";W5r+="ng";switch(I8D){case 5:void 0===this.PRa&&(this.PRa=!0,this.Pq(W5r));a=this.ma.Ee;I8D=3;break;case 3:c=a[b.G.AUDIO];a=a[b.G.VIDEO];d=!a||a.og;(!c||c.og)&&d&&this.XA&&this.ma.I_a(this.wc,a?a.ea:c.ea);a=!a||a.nq;I8D=14;break;case 14:c&&!c.nq||!a||this.XA||(this.$a.Qc&&this.$a.Qc.RG(!0,this.Wj.sessionId),this.iwa());I8D=13;break;case 13:this.bja(this.ma.Bf);this.ma.Ee.forEach(function(a){var e8D;e8D=2;while(e8D!==1){switch(e8D){case 4:this.QVa(a);e8D=0;break;e8D=1;break;case 2:this.QVa(a);e8D=1;break;}}}.bind(this));I8D=11;break;case 2:I8D=1;break;case 1:I8D=!this.jla&&!this.ne()?5:11;break;}}};c.prototype.tZ=function(a){var h8D;h8D=2;while(h8D!==1){switch(h8D){case 2:return this.ne()||this.zb.value==b.Ca.zA||this.zb.value==b.Ca.yA||this.Wa.ob[a.P].NE||this.eZ?!1:!0;break;}}};c.prototype.bja=function(a,c){var w8D,f,g,l,h,m,k5r;w8D=2;while(w8D!==11){k5r="Still in b";k5r+="uffering state";k5r+=" while pipeli";k5r+="ne";k5r+="'s are done";switch(w8D){case 7:w8D=!m||!h?6:13;break;case 3:h=!l||l.og;m=!g||g.og;w8D=8;break;case 2:f=a.qa;g=a.Sa[b.G.VIDEO];l=a.Sa[b.G.AUDIO];w8D=3;break;case 6:w8D=(this.Qf&&this.cja(a,g,l),this.Ni&&this.cja(a,l,g),h=!l||l.og,m=!g||g.og,!m||!h)?14:13;break;case 8:f.j8||this.ma.Igb(a,f,this.Th&&0===a.ia);w8D=7;break;case 14:return;break;case 13:d(this.zb.value)&&(this.fa(k5r),this.mt());c||f.uE||this.Th||!a.k_a()||((c=d(this.zb.value))&&this.K.p2&&(this.RO(),c=!1),a.rR||this.ma.cbb(a,c),a.WG(),g.msa&&l.msa&&(g=Object.keys(a.children),this.K.QQ&&1===g.length&&!a.children[g[0]].active&&this.ma.Fua(a,g[0]),this.RRa(a,f)));w8D=11;break;}}};c.prototype.RRa=function(a,b){var E9D,c,d,f,g,h,m,p,q,J5r;E9D=2;while(E9D!==22){J5r="N";J5r+="o sub";J5r+="branch cand";J5r+="idates ";J5r+="to drive";switch(E9D){case 9:E9D=!c?8:25;break;case 25:c.Oc||(c.Oc={kS:O.time.ca(),nz:0});c.Oc.weight=d;this.bja(c,!0);E9D=22;break;case 20:0!==p&&0!==q?(l.Lc(m,function(a){var z9D;z9D=2;while(z9D!==4){switch(z9D){case 2:a.Osb=a.weight/p;a.hZa=a.Bva/q;a.UBa=a.hZa-a.Osb;z9D=4;break;}}}),m.sort(function(a,b){var c9D;c9D=2;while(c9D!==1){switch(c9D){case 4:return a.UBa+b.UBa;break;c9D=1;break;case 2:return a.UBa-b.UBa;break;}}})):m.sort(function(a,b){var j9D;j9D=2;while(j9D!==4){switch(j9D){case 2:a=Math.min.apply(null,a.Ec.dj);b=Math.min.apply(null,b.Ec.dj);q8ff.B2r(4);return q8ff.v2r(b,a);break;}}});E9D=19;break;case 13:E9D=1<m.length?12:19;break;case 12:c=m.reduce(function(a,b){var a9D,t1K;a9D=2;while(a9D!==4){switch(a9D){case 2:b.dj=b.Ec.dj;b.Bva=Math.min(b.dj[0],b.dj[1]);q8ff.K2r(6);t1K=q8ff.v2r(19,741,19,20,2);return[a[0]+b.weight,a[t1K]+b.Bva];break;}}},[0,0]);p=c[0];q=c[1];E9D=20;break;case 8:h=[];m=[];l.Lc(a.children,function(a,c){var J9D;J9D=2;while(J9D!==5){switch(J9D){case 2:c=b.xj[c].weight;0!==c&&(c={weight:c,Ec:a},a.KB(f.ii,!0)||m.push(c),h.push(c));J9D=5;break;}}}.bind(this));0===m.length?m=h:2<m.length&&(m.sort(function(a,b){var r9D;r9D=2;while(r9D!==1){switch(r9D){case 2:return b.weight-a.weight;break;case 4:return b.weight*a.weight;break;r9D=1;break;}}}),m.length=2);E9D=13;break;case 3:Math.min(g[0]-a.Dia[0],g[1]-a.Dia[1])>=f.t_a?a.JA=void 0:(c=a.JA,d=b.xj[c.qa.id].weight);E9D=9;break;case 5:E9D=this.cB&&a.JA?4:9;break;case 4:g=a.JA.dj;E9D=3;break;case 19:E9D=0===m.length?18:16;break;case 16:c=m[0].Ec;d=m[0].weight;a.JA=c;E9D=26;break;case 2:f=this.K;E9D=5;break;case 18:this.fa(J5r);return;break;case 26:a.Dia=c.dj;E9D=25;break;}}};c.prototype.cja=function(a,c,f){var K9D,g,h,m,S5r;K9D=2;while(K9D!==33){S5r="drivePipeline, delaying a";S5r+="udio until video actualStar";S5r+="tPts det";S5r+="ermined";switch(K9D){case 21:return;break;case 22:K9D=!f?21:35;break;case 14:this.Th&&l.V(m.ea)&&l.V(a.ea)||(c.og||this.dla(c),this.wc<this.xa.length-1&&this.qB(this.wc+1));K9D=33;break;case 20:c.x6=O.time.ca();K9D=19;break;case 8:K9D=g.Um&&h===b.G.AUDIO&&l.V(this.Wa.ob[b.G.VIDEO].vm)?7:6;break;case 10:K9D=this.Cia(c,f)?20:23;break;case 34:g=c.dc[g];K9D=25;break;case 27:K9D=this.Bia(c,g).UL?26:25;break;case 6:K9D=(l.V(c.fg)&&(c.fg=c.pf?c.pf.index:this.fO(h,a.ia,c.Ra)),c.Eh&&c.fg>c.Eh.index)?14:13;break;case 16:return;break;case 23:f=this.ZSa(c,f);K9D=22;break;case 35:g=f.df;K9D=34;break;case 17:K9D=l.V(g)?16:15;break;case 19:f=this.Wa.II(c);g=f.df;K9D=17;break;case 7:c.fa(S5r);K9D=33;break;case 15:g=c.dc[g];K9D=27;break;case 26:return;break;case 4:K9D=!(c.og||!this.Wa.ob[h].yj||c.mv&&(c.Tp(c.OT),c.mv))?3:33;break;case 25:K9D=(h=this.lSa(c,g))?24:33;break;case 13:K9D=this.tZ(c)&&!(g.VQ&&!d(this.zb.value)&&(m=this.$a.Va)&&(h=m.m$a(),(m=m.get())&&m.pa&&h&&!1===h.UZa(m.pa.Aa)))?12:33;break;case 2:g=this.K;h=c.P;K9D=4;break;case 3:m=this.xa[this.wc];K9D=9;break;case 24:c.bdb=g.O,this.YSa(c,g,h,f.Yya),a.Oc&&++a.Oc.nz;K9D=33;break;case 12:K9D=g.u5a&&!d(this.zb.value)&&0>=c.Dy?11:10;break;case 11:c.Irb(this.oCa()?g.wfb:g.vfb);K9D=33;break;case 9:K9D=m.zk&&!l.V(m.zk.hi)?8:33;break;}}};c.prototype.QN=function(a,b){var y9D,c,d;y9D=2;while(y9D!==3){switch(y9D){case 2:c=this.K;d=a.Ec;!d.qa.uE||this.XA||this.FO||(l.V(b)&&(b=this.de()||0),b-=d.Jc,a.og&&!a.nq&&b+c.sqb>=a.ea&&0===a.Pa.hv&&0===a.Pa.zo&&this.MTa(a));y9D=3;break;}}};c.prototype.YSa=function(a,c,f,g){var G9D,h,m,p,k,n,u,r,v,T5r,Z5r,b5r,P5r,Y5r,g5r,A5r,j5r,e5r,r5r,V5r,O5r,M5r,X5r,m5r;G9D=2;while(G9D!==32){T5r="to pipel";T5r+="in";T5r+="e.r";T5r+="equestedFra";T5r+="mes:";Z5r="make";Z5r+="Reque";Z5r+="s";Z5r+="t ";Z5r+="adding:";b5r="e";b5r+="ditP";b5r+="t";b5r+="s:";P5r="frame";P5r+="Dur";P5r+="ation:";Y5r="e";Y5r+="diting last reques";Y5r+="t to frame";Y5r+=":";g5r="m";g5r+="akeRequ";g5r+="est over";g5r+=" ";g5r+="stall point:";A5r="f";A5r+="a";A5r+="stplay:";j5r="past fragment";j5r+="s len";j5r+="gth:";e5r="makeRe";e5r+="quest nextFragm";e5r+="entIndex:";r5r="NFErr_MC_Stre";r5r+="amin";r5r+="gFailure";V5r="M";V5r+="ediaRequest open ";V5r+="fail";V5r+="ed (";V5r+="1)";O5r="make";O5r+="Request ";O5r+="caught";O5r+=":";M5r=" na";M5r+="ti";M5r+="ve: ";X5r="MediaR";X5r+="e";X5r+="q";X5r+="uest.open error: ";m5r="!continueDriving ";m5r+="in req";m5r+="uestCrea";m5r+="ted";switch(G9D){case 10:d(this.zb.value)&&++a.X0;f.zp&&k===b.G.VIDEO&&this.e_(m.qa,f.ea);this.A_(k,f.U);f.Xza(new q(m.Jc,1E3));G9D=17;break;case 21:f.yk({Uc:r,Jb:v},!0);G9D=35;break;case 27:G9D=(f=this.jSa(a,c,f,u),r=f.vpa.JQ(c.Ka),h.Nl)?26:10;break;case 12:G9D=this.Y2(k)?11:27;break;case 17:O.time.ca();g=a.Pa.mQ(this,m,f,n.yj,c,g);g.gv()?(g.Pp=r,n.Vta=c.Pb,l.ka(n.ul)||(n.Xn=c.Lk,n.XI=c.XI||-1,n.ul=c.O,n.Rbb=c.m$,l.V(c.m$)||this.wd.Tza(c.m$,c.zl,c.uk)),p&&(n.z6=f.url),h.VQ&&this.$a.Va.xB(O.time.ca(),f.Z),this.tZ(a)||a.fa(m5r),a.Xnb(g.Kd,f.SJ),this.zRa(a),this.Wh()):(a.fa(X5r+g.nk+M5r+g.El),g.readyState!==V.Eb.Qv&&(a.fa(O5r,g.nk),this.ak(V5r,a.ia,r5r)));G9D=32;break;case 2:h=this.K;m=a.Ec;G9D=4;break;case 26:G9D=a.Pp+r>h.Nl?25:34;break;case 4:p=c.url;k=a.P;n=this.Wa.ob[k];f=f.Y;G9D=7;break;case 35:f.n7();G9D=34;break;case 14:a.fa(e5r,u,j5r,f.length,A5r,this.Th);G9D=32;break;case 6:G9D=u>=f.length?14:13;break;case 13:r=0;G9D=12;break;case 25:r=r-(a.Pp+r-h.Nl);u=r*c.Ka.af;v=f.U+u;a.fa(g5r,h.Nl,Y5r,r,P5r,u,b5r,v);G9D=21;break;case 7:u=a.fg;G9D=6;break;case 11:f=this.iSa(a,c,f,u);G9D=10;break;case 34:a.Pp+=r;G9D=33;break;case 33:a.fa(Z5r,r,T5r,a.Pp);G9D=10;break;}}};c.prototype.U_=function(a,b){var b9D;b9D=2;while(b9D!==1){switch(b9D){case 4:return this.ht(a.bf,a,b);break;b9D=1;break;case 2:return this.ht(a.bf,a,b);break;}}};c.prototype.ht=function(a,b,c){var x9D,d,f;x9D=2;while(x9D!==14){switch(x9D){case 2:d=this.K;f=b.abort();b.Jd();x9D=3;break;case 3:b.Xf&&b.Xf.clear();d.yB||a.Pa.FK(b);this.Ke[a.P].FK(b);x9D=7;break;case 7:!0===c&&this.Wh();x9D=6;break;case 6:return f;break;}}};c.prototype.NUa=function(a,b,c){var p9D,d;p9D=2;while(p9D!==6){switch(p9D){case 2:d=this.K;d.Tx&&(this.lO=b+d.PAa,this.mO=O.time.ca());p9D=4;break;case 4:a.rFb=c;a.Tp(b);a.Mya();this.kf&&0<this.kf.length&&(this.kf.forEach(function(a){var F9D;F9D=2;while(F9D!==1){switch(F9D){case 4:this.U_(a,+4);F9D=9;break;F9D=1;break;case 2:this.U_(a,!1);F9D=1;break;}}}.bind(this)),this.kf=void 0);this.Tka(a);p9D=6;break;}}};c.prototype.RVa=function(a){var t9D,c,d,p5r;t9D=2;while(t9D!==3){p5r="no new";p5r+="AudioTrac";p5r+="k se";p5r+="t";switch(t9D){case 2:c=a.P;t9D=5;break;case 5:d=this.Wa.ob[c];l.V(d.uT)?a.fa(p5r):(this.Ke[c].pause(),d.NE=!0,this.GTa(this.tn,this.pn[b.G.AUDIO],d.uT.uf));t9D=3;break;}}};y7D=161;break;case 73:c.prototype.CVa=function(){var U6D,a;U6D=2;while(U6D!==7){switch(U6D){case 3:this.HN||(this.HN=setInterval(this.lka.bind(this),a.GB));this.YO||(this.YO=setInterval(this.iUa.bind(this),a.caa));this.rl&&!this.FN&&(this.FN=setInterval(this.kka.bind(this),a.z0));U6D=7;break;case 2:a=this.K;this.Ot&&clearTimeout(this.Ot);this.Ot=setTimeout(this.LG.bind(this),a.GV);U6D=3;break;}}};c.prototype.EVa=function(){var k6D,a,c;k6D=2;while(k6D!==8){switch(k6D){case 2:a=this.K;k6D=5;break;case 4:this.ZF&&clearInterval(this.ZF);c=-1;this.ZF=setInterval(function(){var H6D,a,i4r;H6D=2;while(H6D!==4){i4r="v";i4r+="b";switch(H6D){case 2:a=this.Wa.ob[b.G.VIDEO];(a=a.Su&&a.Su.O)&&c!==a&&(O.storage.set(i4r,a),c=a);H6D=4;break;}}}.bind(this),a.CU);k6D=8;break;case 5:k6D=a.CU?4:8;break;}}};c.prototype.Eia=function(){var S6D;S6D=2;while(S6D!==6){switch(S6D){case 2:this.Ot&&(clearTimeout(this.Ot),this.Ot=void 0);this.HN&&(clearInterval(this.HN),this.HN=void 0);this.YO&&(clearInterval(this.YO),this.YO=void 0);this.FN&&(clearInterval(this.FN),this.FN=void 0);this.GA&&(clearTimeout(this.GA),this.GA=void 0);this.CZ&&(clearTimeout(this.CZ),this.CZ=void 0);S6D=8;break;case 8:this.ZF&&(clearInterval(this.ZF),this.ZF=void 0);this.Gw&&(clearTimeout(this.Gw),this.Gw=void 0);S6D=6;break;}}};c.prototype.play=function(){var Y6D,q4r,E4r;Y6D=2;while(Y6D!==5){q4r="p";q4r+="la";q4r+="y";E4r="play called after p";E4r+="ip";E4r+="elines alread";E4r+="y";E4r+=" shutdown";switch(Y6D){case 2:this.pka++;this.ne()?this.fa(E4r):(this.zb.set(b.Ca.jf),this.CVa(),this.Wa.ob.forEach(function(a){var n6D,s4r;n6D=2;while(n6D!==1){s4r="play: not resuming bufferM";s4r+="an";s4r+="ager, audio track switch i";s4r+="n progres";s4r+="s";switch(n6D){case 2:this.Ii[a.P]&&(a.NE?a.fa(s4r):this.Ke[a.P].resume());n6D=1;break;}}}.bind(this)),this.LG(),this.emit(q4r));Y6D=5;break;}}};c.prototype.stop=function(){var W6D,a,w4r;W6D=2;while(W6D!==6){w4r="s";w4r+="t";w4r+="op";switch(W6D){case 2:a=this.zb.value;this.zb.set(b.Ca.zA);this.Eia();W6D=3;break;case 3:a!==b.Ca.zA&&a!==b.Ca.yA&&this.ma.bj.gV(!1);this.ma.Ee.forEach(function(a){var N6D;N6D=2;while(N6D!==1){switch(N6D){case 2:a.og=!1;N6D=1;break;case 4:a.og=-5;N6D=6;break;N6D=1;break;}}});[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var O6D;O6D=2;while(O6D!==1){switch(O6D){case 2:(a=this.Ke[a])&&a.pause();O6D=1;break;}}}.bind(this));this.emit(w4r);W6D=6;break;}}};c.prototype.JU=function(a,c){var Z6D,d,f,g,h,m,p,q,t4r,u4r,L4r,n4r,U4r,I4r,G4r,h4r,a4r,H4r,Q4r,R4r,D4r,z4r;Z6D=2;while(Z6D!==36){t4r="see";t4r+="kDelay";t4r+="ed";u4r="s";u4r+="ee";u4r+="k";L4r="ptsc";L4r+="h";L4r+="a";L4r+="nged";n4r="s";n4r+="eekFail";n4r+="e";n4r+="d";U4r="after seeking, playerState no longer STAR";U4r+="TING";U4r+=": ";I4r="see";I4r+="kD";I4r+="elay";I4r+="ed";G4r=" p";G4r+="layer";G4r+="S";G4r+="t";G4r+="ate: ";h4r=" media";h4r+=".cur";h4r+="rent";h4r+="Pt";h4r+="s: ";a4r=" cu";a4r+="rre";a4r+="nt manifest:";a4r+=" ";H4r=" m";H4r+="an";H4r+="ifest";H4r+="Inde";H4r+="x: ";Q4r="s";Q4r+="e";Q4r+="e";Q4r+="k";Q4r+=": ";R4r="s";R4r+="e";R4r+="e";R4r+="k";D4r="see";D4r+="kFa";D4r+="il";D4r+="ed";z4r="s";z4r+="eek, no man";z4r+="ifest at manifestIndex:";switch(Z6D){case 11:c<this.wc&&g.replace&&(g.replace=!1);f=this.xa[this.wc];this.ma.Ee.forEach(function(a){var Q6D;Q6D=2;while(Q6D!==1){switch(Q6D){case 2:this.dla(a,f.zk&&f.zk.hi);Q6D=1;break;}}}.bind(this));Z6D=19;break;case 29:[b.G.AUDIO,b.G.VIDEO].forEach(function(a){var M6D;M6D=2;while(M6D!==1){switch(M6D){case 2:d.Ke[a].reset(!0);M6D=1;break;}}});Z6D=28;break;case 37:this.fa(z4r,c),this.emit(D4r);Z6D=36;break;case 38:this.ma.Ee.forEach(function(b){var T6D,c;T6D=2;while(T6D!==4){switch(T6D){case 2:c=b.P;this.Ii[c]&&this.NUa(b,q[c],a);T6D=4;break;}}}.bind(this));Z6D=28;break;case 19:Z6D=!this.Aia(c)?18:15;break;case 42:this.v_(R4r);Z6D=41;break;case 12:Z6D=c!=this.wc?11:26;break;case 22:Z6D=!this.qB(this.wc+1)?21:32;break;case 26:h=this.QA(this.ma.Ee,g.ib,g.ea||Infinity);h=this.Ni?this.Qf?Math.min(h[b.G.AUDIO].U,h[b.G.VIDEO].U):h[b.G.AUDIO].U:h[b.G.VIDEO].U;Z6D=24;break;case 2:d=this;g=this.K;h=this.de();m=a;g.Oe&&this.qh(Q4r+a+H4r+c+a4r+this.wc+h4r+h+G4r+this.zb.value);l.V(c)&&(c=this.wc);Z6D=7;break;case 6:Z6D=(g=this.xa[c])?14:37;break;case 41:p=this.ma.Bf;q=this.cG(p.ia,a,p).fz;this.M_(g,c);Z6D=38;break;case 18:this.$j={ia:c,Gn:a};this.emit(I4r);return;break;case 44:this.fa(U4r+this.zb.value),this.emit(n4r);Z6D=36;break;case 33:a=h,m=a+this.ma.Jc;Z6D=32;break;case 27:return;break;case 43:return this.emit(L4r,m),this.emit(u4r),this.Bla(c),c=h&&this.mt()?100:0,this.UO(1,c),this.Wh(),m;break;case 30:Z6D=(h=this.wc===c&&!this.JSa(c)&&a===g.U)?29:42;break;case 32:this.zb.set(b.Ca.Ng);this.ma.Wpb(a,c);Z6D=30;break;case 21:this.$j={ia:this.wc+1,Gn:a};this.emit(t4r);return;break;case 7:this.ma.Lya();Z6D=6;break;case 28:Z6D=this.zb.value!=b.Ca.Ng?44:43;break;case 15:Z6D=this.LB(this.ma.O4(c),!1,!0)?27:26;break;case 14:!g.EJ&&0<c&&(m=this.boa(c,a));this.zb.set(b.Ca.yA);Z6D=12;break;case 23:Z6D=this.Th?22:33;break;case 24:Z6D=a>h?23:32;break;}}};c.prototype.seek=function(a,b){var g6D,c;g6D=2;while(g6D!==8){switch(g6D){case 2:g6D=1;break;case 1:c=a;l.V(b)&&(b=this.wc);this.ma.Lya();this.xa[b].EJ||this.XA||(c=this.TB(b,a));return this.JU(c,b);break;}}};c.prototype.xrb=function(a){var C6D,V6D,c,d,f,m4r,S4r,J4r,k4r,N4r;C6D=2;while(C6D!==18){m4r="b";m4r+="ran";m4r+="chOffse";m4r+="t";m4r+=":";S4r="ent";S4r+="ry.manifes";S4r+="tOf";S4r+="fse";S4r+="t:";J4r="con";J4r+="tent";J4r+="Pt";J4r+="s";J4r+=":";k4r="und";k4r+="erflow: going";k4r+=" to BUFFERING at player pts:";N4r="u";N4r+="n";N4r+="derflo";N4r+="w";switch(C6D){case 12:C6D=this.Ln?11:10;break;case 9:this.Ke.forEach(function(b){var f6D;f6D=2;while(f6D!==1){switch(f6D){case 2:f=Math.max(0,Math.min(f,b.C9a-a));f6D=1;break;}}});c.Tx&&(this.lO=d+c.cqb,this.mO=O.time.ca());this.ma.Ee.forEach(function(b){var m6D,d,f,y4r,C4r,d4r,F4r,c4r,o4r,f4r,K4r,B4r,x4r,v4r,l4r;m6D=2;while(m6D!==8){y4r="re";y4r+="buf";y4r+="fer";C4r=",";C4r+=" n";C4r+="e";C4r+="xtAppendPts";C4r+=": ";d4r=", to";d4r+="Appe";d4r+="nd";d4r+=":";d4r+=" ";F4r=",";F4r+=" fra";F4r+="g";F4r+="ments:";F4r+=" ";c4r=", com";c4r+="pl";c4r+="eteS";c4r+="treamingPts: ";o4r=", streami";o4r+="ngP";o4r+="ts:";o4r+=" ";f4r=", ";f4r+="par";f4r+="tials: ";K4r=", ";K4r+="to";K4r+="tal";K4r+="BufferB";K4r+="ytes: ";B4r=",";B4r+=" totalBuf";B4r+="f";B4r+="e";B4r+="rMs: ";x4r=", bu";x4r+="ff";x4r+="erLevel";x4r+="Byte";x4r+="s: ";v4r=", me";v4r+="diaTyp";v4r+="e: ";l4r="unde";l4r+="rflow:";l4r+=" ";switch(m6D){case 2:d=b.P;c.Oe&&(f=this.Ke[d],f=l4r+a+v4r+d+x4r+b.bu+B4r+b.BE+K4r+b.As+f4r+b.Pa.hv+o4r+b.Ra+c4r+b.Ex+F4r+JSON.stringify(b.Pa.Y)+d4r+JSON.stringify(f.Xh)+C4r+f.CTa);c.Oe&&this.qh(f);m6D=3;break;case 3:b.ep=!1;c.kp&&this.Uo&&(b=this.Uo,d=this.Wa.ob[d],b.o$(y4r,d.z6));m6D=8;break;}}}.bind(this));this.emit(N4r);this.UO(2);this.Wh();C6D=12;break;case 11:try{V6D=2;while(V6D!==1){switch(V6D){case 2:this.g3(b.Ca.Is);V6D=1;break;case 4:this.g3(b.Ca.Is);V6D=7;break;V6D=1;break;}}}catch(ta){var W4r;W4r="Hinds";W4r+="i";W4r+="ght: Error when evaluat";W4r+="ing QoE at Buffering: ";q8ff.K2r(0);this.Gp(q8ff.v2r(ta,W4r));}C6D=10;break;case 10:d=this.$a.Va.get(!1);d=d.yc?d.pa.Aa:0;f>c.M6a&&d>c.L6a&&this.RO();C6D=18;break;case 2:c=this.K;d=this.TB(this.ND,a);this.fa(k4r,a,J4r,d,S4r,this.nu.Nm,m4r,this.ma.Jc);f=c.US;C6D=9;break;}}};c.prototype.Jj=function(a){var R6D,c,d,O4r;R6D=2;while(R6D!==6){O4r="s";O4r+="k";O4r+="i";O4r+="p";switch(R6D){case 4:d=function(a,b,c){var l6D,X4r;l6D=2;while(l6D!==5){X4r="skip: unexpec";X4r+="ted behaviour - a non-presenting branch";X4r+=" doesn't have a previous branch";switch(l6D){case 2:a!==this.ma.bj&&(a.se?d(a.se,b,c):this.Rb(X4r));a.Sa[b].Jj(c);l6D=5;break;}}}.bind(this);[b.G.AUDIO,b.G.VIDEO].forEach(function(b){var D6D,f,M4r;D6D=2;while(D6D!==8){M4r="s";M4r+="kip: not resuming bufferManager, audio t";M4r+="rack switch in progress";switch(D6D){case 1:D6D=this.Ii[b]?5:8;break;case 2:D6D=1;break;case 5:f=this.Wa.ob[b];this.Ln&&(f.Q$=O.time.ca());c.yK?this.Ke[b].reset():f.NE?f.fa(M4r):this.Ke[b].resume();d(this.ma.Bf,b,a);D6D=8;break;}}}.bind(this));this.zb.set(b.Ca.jf);this.LG();R6D=7;break;case 2:c=this.K;this.ma.bj.Jj(a);R6D=4;break;case 7:this.emit(O4r);R6D=6;break;}}};c.prototype.LB=function(a,c,d){var I6D,f,r4r,V4r;I6D=2;while(I6D!==8){r4r="s";r4r+="e";r4r+="e";r4r+="k";V4r="pts";V4r+="chang";V4r+="ed";switch(I6D){case 5:I6D=c?4:3;break;case 2:f=this.ma.LB(a,c);I6D=5;break;case 4:return f;break;case 3:f?(this.zb.set(b.Ca.yA),(a=this.ma.bj.children[a])&&this.emit(V4r,a.bc),this.zb.set(b.Ca.Ng),this.emit(r4r),a&&this.Bla(a.ia),this.UO(1),this.Wh(),this.mt()):d||(a=this.ma.v$a(a),this.JU(a));return f;break;}}};c.prototype.Vja=function(a){var e6D,b;e6D=2;while(e6D!==6){switch(e6D){case 3:this.mm=b.R;this.tn=b.Fa;e6D=8;break;case 2:this.wc=a;b=this.xa[a];this.pn=b.Bs;e6D=3;break;case 8:this.VTa(a,b.replace,b.fz);this.Wa.Aab(b.replace);e6D=6;break;}}};c.prototype.NG=function(a,c){var h6D,d,f,g,h,m,p,q,k,n,u,p4r,T4r,Z4r,b4r,P4r,Y4r,g4r,A4r,j4r,e4r;h6D=2;while(h6D!==41){p4r="addManifest:";p4r+=" pipelines already sh";p4r+="utdown";T4r="addManifest in fa";T4r+="stplay but not d";T4r+="rm manifest, leaving spa";T4r+="ce for it";Z4r=",";Z4r+=" ";b4r=") las";b4r+="tStre";b4r+="amAppended: (";P4r=",";P4r+=" ";Y4r=" ";Y4r+="stream";Y4r+="Coun";Y4r+="t:";Y4r+=" (";g4r=" player";g4r+="St";g4r+="ate";g4r+=": ";A4r="addMan";A4r+="ifes";A4r+="t, cur";A4r+="rentPts: ";j4r="addManifest ignored, p";j4r+="ipelines alrea";j4r+="dy set EOS:";e4r="bo";e4r+="ol";e4r+="ean";switch(h6D){case 29:h6D=this.Ni&&l.V(c)||this.Qf&&l.V(a)?28:44;break;case 28:return!0;break;case 24:a.Bs=g;a.NB=c.NB;e4r===typeof c.tx?(a.tx=c.tx,a.rx=c.tx):(a.tx=!0,a.rx=!0);this.xa[f]&&this.xa[f].Jd();h6D=35;break;case 5:h6D=this.ne()?4:3;break;case 7:h6D=this.Ni&&g.nq||this.Qf&&f.nq?6:14;break;case 6:this.fa(j4r,g.nq,f.nq);h6D=41;break;case 32:c=this.Wa.ob[b.G.AUDIO].$n;a=this.Wa.ob[b.G.VIDEO].$n;d.Oe&&this.qh(A4r+this.de()+g4r+this.zb.value+Y4r+q[0].dc.length+P4r+q[1].dc.length+b4r+c+Z4r+a+")");h6D=29;break;case 15:g=c.Bs?c.Bs:this.pn;q=this.wG(a,f,g,!1,q);h6D=26;break;case 20:m=c.U||0;p=c.ea;c.replace&&(q=this.xa[0].ge);k=this.Ve[b.G.AUDIO];for(u in k){(n=k[u])&&n.Es&&(n.Qlb()?this.Eja(g,n):this.AD(n));}h6D=15;break;case 14:c||(c={});c.N8&&(this.FO=!0);f=this.xa.length;c.replace&&1!==f?f=1:this.Th&&!c.replace&&1===f&&(this.fa(T4r),f=this.ARa(this.xa[0]),f.J6a=!0,this.xa.push(f),f=this.xa.length);h=a.movieId+"";h6D=20;break;case 26:a=this.VN(a,m,p,q,!!c.replace,g);a.EJ=a.replace;h6D=24;break;case 3:f=this.ma.Ee;g=f[b.G.AUDIO];f=f[b.G.VIDEO];h6D=7;break;case 42:return!0;break;case 2:d=this.K;h6D=5;break;case 35:this.xa[f]=a;this.xia(f);c.replace||this.ma.hXa(f,m,p);h6D=32;break;case 4:this.fa(p4r);h6D=41;break;case 44:this.NO(h,f,q);this.qB(this.wc+1);h6D=42;break;}}};c.prototype.JSa=function(a){var w6D;w6D=2;while(w6D!==1){switch(w6D){case 2:return!!this.xa[a].rx;break;case 4:return~~this.xa[a].rx;break;w6D=1;break;}}};c.prototype.Bla=function(a){var E5D;E5D=2;while(E5D!==5){switch(E5D){case 2:a=this.xa[a];a.rx||(a.rx=!0,[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var J5D;J5D=2;while(J5D!==1){switch(J5D){case 4:this.Ke[a].resume();J5D=8;break;J5D=1;break;case 2:this.Ke[a].resume();J5D=1;break;}}}.bind(this)));E5D=5;break;}}};c.prototype.NQ=function(a){var r5D,c,d,f,g,q7r,s7r,E7r,i7r;r5D=2;while(r5D!==13){q7r=" r";q7r+="eadySt";q7r+="a";q7r+="te";q7r+=": ";s7r=" fo";s7r+="r ";s7r+="m";s7r+="ovieId: ";E7r=",";E7r+=" ";i7r="drmRe";i7r+="ady at streami";i7r+="ng ";i7r+="pts";i7r+=": ";switch(r5D){case 2:d=this.K;r5D=5;break;case 5:r5D=!this.ne()?4:13;break;case 4:l.V(c)&&(c=!0);f=this.ma.Ee;g=f[b.G.AUDIO];f=f[b.G.VIDEO];d.Oe&&this.qh(i7r+g.Ra+E7r+f.Ra+s7r+a+q7r+c);r5D=6;break;case 6:r5D=(this.XZ[a+""]=c)?14:13;break;case 14:this.Ke.forEach(function(a){var a5D;a5D=2;while(a5D!==5){switch(a5D){case 2:d.I3&&a.x7a();d.TV&&a.resume();a5D=5;break;}}}),this.Th&&this.qB(this.$j?this.$j.ia:this.wc+1),this.GZ();r5D=13;break;}}};c.prototype.MI=function(a,b){var z5D;z5D=2;while(z5D!==5){switch(z5D){case 1:return(b=b&&0<=b?this.xa[b]:this.xa[this.wc])&&b.NB||this.XZ[a];break;case 3:a&&(a=this.mm);z5D=0;break;z5D=1;break;case 2:a||(a=this.mm);z5D=1;break;}}};c.prototype.Aia=function(a){var c5D,c,d,f;c5D=2;while(c5D!==10){switch(c5D){case 2:c5D=1;break;case 5:return!1;break;case 4:c=this.ma.Ee;d=c[b.G.AUDIO];c5D=9;break;case 1:c5D=a>=this.xa.length?5:4;break;case 9:c=c[b.G.VIDEO];d=!d||d.og;f=!c||c.og;c=this.xa[a];c5D=14;break;case 13:return!1;break;case 14:c5D=!(a===this.wc+1&&c.replace||d&&f)||!this.XZ[c.R]&&!c.NB?13:12;break;case 12:a=!this.Qf||c.ib[b.G.VIDEO]&&c.ib[b.G.VIDEO].stream.Mc;return(!this.Ni||c.ib[b.G.AUDIO]&&c.ib[b.G.AUDIO].stream.Mc)&&a?!0:!1;break;}}};c.prototype.qB=function(a){var j5D,b;j5D=2;while(j5D!==14){switch(j5D){case 3:j5D=b.J6a||!b.replace?9:8;break;case 5:return!1;break;case 2:j5D=1;break;case 4:b=this.xa[a];j5D=3;break;case 1:j5D=!this.Aia(a)?5:4;break;case 9:return!1;break;case 8:this.XVa(a);this.Wh();return!0;break;}}};c.prototype.XVa=function(a){var K5D,c,d,f,g,D7r,z7r,w7r;K5D=2;while(K5D!==15){D7r=",";D7r+=" ";z7r=",";z7r+=" str";z7r+="eam";z7r+="ingPts: ";w7r="switchMa";w7r+="nif";w7r+="est manife";w7r+="stIndex:";w7r+=" ";switch(K5D){case 17:this.GZ();this.Wh();K5D=15;break;case 3:g=g?g.Ra:void 0;c=(c=f.di(b.G.VIDEO))?c.Ra:void 0;this.K.Oe&&this.qh(w7r+a+z7r+g+D7r+c);g=this.Th;K5D=6;break;case 2:d=this.xa[a];f=this.ma.Bf;g=f.di(b.G.AUDIO);K5D=3;break;case 6:this.Th=!1;d.tx&&(d.rx=!0);d.KP&&(c=this.wG(d.Fa,a,d.Bs,!1,d.ge,b.G.AUDIO),d.ge[b.G.AUDIO]=c[b.G.AUDIO],d.ge[b.G.AUDIO].dc.some(function(a){var y5D;y5D=2;while(y5D!==1){switch(y5D){case 2:return a.Mc?(d.ib[b.G.AUDIO]={stream:a,Y:a.Y},!0):!1;break;}}}),d.KP=void 0);c=this.wc;K5D=11;break;case 11:g?this.ma.Rlb(c,a):f.Unb(a);f.P5(a);[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var G5D,b;G5D=2;while(G5D!==4){switch(G5D){case 2:b=f.di(a);b&&!d.replace&&(d.On?b.imb(d.On[a]):(a=d.fz[a],b.jmb(a)));G5D=4;break;}}}.bind(this));this.Vja(a);this.M_(d,a);K5D=17;break;}}};c.prototype.GZ=function(){var b5D,a,b;b5D=2;while(b5D!==9){switch(b5D){case 2:b5D=1;break;case 1:b5D=this.$j?5:9;break;case 5:a=this.$j.Gn;b=this.$j.ia;b5D=3;break;case 3:this.xa[b]&&(this.$j=void 0,this.JU(a,b));b5D=9;break;}}};c.prototype.qhb=function(){var x5D,a,c,d,R7r;x5D=2;while(x5D!==13){R7r="o";R7r+="nAu";R7r+="dioTrackSwitchStarted ";R7r+="ignored, no audio pipeline";switch(x5D){case 2:a=this.ma.Bf.di(b.G.AUDIO);x5D=5;break;case 5:x5D=a?4:14;break;case 14:this.fa(R7r);x5D=13;break;case 4:c=this.Wa.ob[a.P];d=this.de();(d=a.Pa.vC(d))&&d.bf!=a&&(a=d.bf);this.OUa(a);c.NE=!1;this.Wh();x5D=13;break;}}};c.prototype.sYa=function(){var p5D,a;p5D=2;while(p5D!==3){switch(p5D){case 2:this.FTa(this.jt);p5D=1;break;case 5:p5D=a<this.xa.length?4:3;break;case 8:this.FTa(this.jt);p5D=4;break;p5D=1;break;case 1:a=this.wc;p5D=5;break;case 6:p5D=a<=this.xa.length?9:5;break;p5D=a<this.xa.length?4:3;break;case 4:this.xa[a++].KP=!0;p5D=5;break;case 7:a=this.wc;p5D=4;break;p5D=5;break;}}};c.prototype.Ypb=function(a){var F5D,c,f,g,l,h,n7r,U7r,I7r,G7r,h7r,a7r,H7r,Q7r;F5D=2;while(F5D!==23){n7r="swi";n7r+="tchTrac";n7r+="ks rejected, buffe";n7r+="ring";U7r="swi";U7r+="tchTra";U7r+="cks can'";U7r+="t find trackId:";I7r="switchTracks re";I7r+="jected, previous switch sti";I7r+="ll waiting to start";G7r="switchTracks rejected";G7r+=", buf";G7r+="ferLevelM";G7r+="s";h7r="switchTracks rejecte";h7r+="d, previous switch still in pr";h7r+="ogress: ";a7r=" to ";a7r+="in";a7r+="d";a7r+="e";a7r+="x: ";H7r="swit";H7r+="chTracks";H7r+=" current: ";Q7r="sw";Q7r+="itchTracks rejected";Q7r+=", audio disabled";switch(F5D){case 4:return this.fa(Q7r),!1;break;case 27:c.Oe&&this.qh(H7r+a+a7r+h);f.uT={Vb:l,uf:h};this.RVa(this.ma.Bf.di(b.G.AUDIO));return!0;break;case 16:F5D=h==a?15:27;break;case 14:F5D=f.NE?13:12;break;case 9:return this.fa(h7r+JSON.stringify(this.jt)),!1;break;case 17:a=this.pn[b.G.AUDIO];F5D=16;break;case 8:F5D=d(this.zb.value)?7:6;break;case 20:l=a.CB;F5D=19;break;case 10:return this.fa(G7r,g,"<",c.gT),!1;break;case 13:return this.fa(I7r),!1;break;case 12:g=this.ma.xC(b.G.VIDEO);F5D=11;break;case 6:f=this.Wa.ob[b.G.AUDIO];F5D=14;break;case 5:F5D=!this.Ni?4:3;break;case 19:F5D=!this.tn.audio_tracks.some(function(a,b){var t5D;t5D=2;while(t5D!==1){switch(t5D){case 2:return a.track_id==l?(h=b,!0):!1;break;}}})?18:17;break;case 18:return this.fa(U7r,l),!1;break;case 11:F5D=g<c.gT?10:20;break;case 3:F5D=this.jt?9:8;break;case 15:return!1;break;case 2:c=this.K;F5D=5;break;case 7:return this.fa(n7r),!1;break;}}};y7D=102;break;case 161:c.prototype.OUa=function(a){var B9D,c,d,f,g,l,h,u7r,L7r;B9D=2;while(B9D!==32){u7r="audio";u7r+="TrackC";u7r+="ha";u7r+="ng";u7r+="e";L7r="aud";L7r+="ioSw";L7r+="i";L7r+="tch";switch(B9D){case 24:B9D=d<this.xa.length?23:21;break;case 10:f.$n=void 0;f.gi=void 0;f.nI=void 0;f.ul=void 0;B9D=17;break;case 25:d=this.wc;B9D=24;break;case 21:a.Tp(h);a.Mya();this.ma.Bf.P5(this.wc);l.ib[b.G.AUDIO]&&l.ib[b.G.AUDIO].stream.Mc&&this.ma.M9(this.ma.Bf);B9D=32;break;case 4:f=this.Wa.ob[a.P];this.jt=f.uT;g=this.de();l=this.nu;B9D=7;break;case 27:this.gZ[b.G.AUDIO]=this.$a.Sqa(this.tn,this.pn,b.G.AUDIO)[b.G.AUDIO];c=function(c){var d9D,d,f,g,l;d9D=2;while(d9D!==11){switch(d9D){case 6:f=d.ge[b.G.AUDIO].dc.some(function(a){var u9D;u9D=2;while(u9D!==4){switch(u9D){case 7:return l;break;u9D=4;break;case 1:u9D=!(l&&l.stream&&l.stream.Y&&h<l.stream.Y.Nf(0))?5:4;break;case 5:return l;break;case 2:l=this.Ve[b.G.AUDIO][a.id];u9D=1;break;}}}.bind(this));a.pf=void 0;a.Eh=void 0;d9D=12;break;case 2:d=this.xa[c];f=d.ge;g=this.wG(d.Fa,c,this.pn,this.Th,f,b.G.AUDIO);g[b.G.VIDEO]=f[b.G.VIDEO];d.ge=g;f=!1;d9D=7;break;case 12:f?(d.ib[b.G.AUDIO]=l,d.vK=!1,l.stream.Mc&&this.MN(d,this.wc)):(d.ib[b.G.AUDIO]=void 0,d.vK=!1,this.NO(d.R,c,d.ge,!0,b.G.AUDIO));d9D=11;break;case 7:d9D=d.k5?6:11;break;}}}.bind(this);B9D=25;break;case 7:h=g-d.Jc;this.pn[b.G.AUDIO]=this.jt.uf;f.uT=void 0;l.Bs[b.G.AUDIO]=this.jt.uf;this.kf&&0<this.kf.length&&(this.kf=this.kf.filter(function(c){var i9D;i9D=2;while(i9D!==4){switch(i9D){case 1:return!0;break;case 2:i9D=c.P===b.G.VIDEO?1:5;break;case 5:this.ht(a,c,!1);i9D=4;break;}}}.bind(this)),0===this.kf.length&&(this.kf=void 0,c.QG||this.jP(L7r)));this.Tka(a);B9D=10;break;case 17:this.v_(u7r,b.G.AUDIO);this.ma.Pza(d,!0);this.ma.Kya(d);B9D=27;break;case 22:++d;B9D=24;break;case 23:c(d);B9D=22;break;case 2:c=this.K;d=a.Ec;B9D=4;break;}}};c.prototype.gla=function(a,c,d){var v9D,f,l7r,t7r;v9D=2;while(v9D!==4){l7r="video_";l7r+="l";l7r+="oca";l7r+="t";l7r+="ion";t7r="l";t7r+="o";t7r+="c";t7r+="ati";t7r+="on";switch(v9D){case 2:f=this.K.b8;l.V(c)||l.V(d)||(a.location=c,a.ad=d,(t7r===f||l7r===f&&a.P===b.G.VIDEO)&&this.$a.Va.SU(c),this.wd.Bhb(a.P,c));v9D=4;break;}}};c.prototype.N_=function(){var q9D,a,b,c,d,f,x7r,v7r;q9D=2;while(q9D!==20){x7r="m";x7r+="ani";x7r+="fests";x7r+=":";v7r="updateRequestUrls";v7r+=", no";v7r+=" manifestEntry:";switch(q9D){case 1:a=[];b=0;c=this.nu;q9D=3;break;case 3:q9D=!c?9:8;break;case 6:q9D=0<a.length?14:10;break;case 2:q9D=1;break;case 9:return this.Rb(v7r,this.wc,x7r,this.xa.length),!1;break;case 8:d=c.ao;this.ma.Ee.forEach(function(b){var L9D,c,K7r,B7r;L9D=2;while(L9D!==8){K7r="lo";K7r+="cation selector ";K7r+="returned null st";K7r+="reamList";B7r="location selector is gone, session has been cl";B7r+="ose";B7r+="d";switch(L9D){case 5:L9D=d?4:9;break;case 2:L9D=1;break;case 9:b.fa(B7r);L9D=8;break;case 1:L9D=this.WC(b.P)?5:8;break;case 4:c=this.Wa.kD(b);d.HV(c,b.dc)?(b=b.Pa.Qrb(b.Pl,this.gla.bind(this)),0<b.length&&a.push.apply(a,b)):b.fa(K7r);L9D=8;break;}}}.bind(this));q9D=6;break;case 10:return!0;break;case 14:f={};a.forEach(function(a){var o9D,c;o9D=2;while(o9D!==4){switch(o9D){case 2:c=a.ia;a.Ac&&c>this.wc&&(f[a.ia]=!0,++b);o9D=4;break;}}}.bind(this));q9D=12;break;case 12:l.Lc(f,function(a,b){var X9D;X9D=2;while(X9D!==5){switch(X9D){case 2:a=this.xa[b];this.NO(a.R,b,a.ge);X9D=5;break;}}}.bind(this));return b===a.length?!0:!1;break;}}};c.prototype.PUa=function(a,b){var A9D,c;A9D=2;while(A9D!==3){switch(A9D){case 2:c=this.Ke[a.P];a=a.Pa.vkb(b,function(a){var s9D;s9D=2;while(s9D!==1){switch(s9D){case 4:c.FK(a);s9D=6;break;s9D=1;break;case 2:c.FK(a);s9D=1;break;}}});l.V(a)||this.Wh();A9D=3;break;}}};c.prototype.QVa=function(a){var P9D,b,c,f;P9D=2;while(P9D!==7){switch(P9D){case 1:P9D=!d(this.zb.value)&&a.tu&&0!==a.tu.length&&!a.dV?5:7;break;case 5:b=a.P;c=a.tu.shift();c=a.dc[c];f=c.id;!this.Ve[a.P][f]&&c.Ge&&(a.dV=f,b=this.cO(b,c.Ij,c.ai),this.qG(a,this.mm,c,{offset:0,Z:b,nE:!0}));P9D=7;break;case 2:P9D=1;break;}}};c.prototype.tja=function(a){var U9D,b,c,d;U9D=2;while(U9D!==14){switch(U9D){case 2:b=this.K;c=[];a&&-1==a.indexOf(X.VIDEO)||c.push({type:X.VIDEO,openRange:!b.jo,pipeline:b.jo,connections:b.jo?b.DJ:1,socketBufferSize:b.fba});U9D=3;break;case 7:a&&-1==a.indexOf(X.LM)||c.push({type:X.LM,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.l5});return c;break;case 3:U9D=!a||-1!=a.indexOf(X.AUDIO)?9:7;break;case 9:d=b.jo&&this.Sr&&b.csb;U9D=8;break;case 8:c.push({type:X.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:b.G0});U9D=7;break;}}};c.prototype.Kia=function(a){var k9D,b,c,S7r;k9D=2;while(k9D!==6){S7r="c";S7r+="reateDlTracksSt";S7r+="a";S7r+="rt";switch(k9D){case 3:b.Pw+=a.length;a=a.map(function(a){var H9D,d,J7r,W7r,d7r,c7r,f7r;H9D=2;while(H9D!==12){J7r="des";J7r+="t";J7r+="ro";J7r+="ye";J7r+="d";W7r="tra";W7r+="n";W7r+="sp";W7r+="ortrep";W7r+="ort";d7r="err";d7r+="o";d7r+="r";c7r="n";c7r+="etwork";c7r+="f";c7r+="a";c7r+="iling";f7r="c";f7r+="rea";f7r+="te";f7r+="d";switch(H9D){case 3:d.VG.on(d,f7r,function(){var S9D,o7r;S9D=2;while(S9D!==5){o7r="c";o7r+="reateD";o7r+="lTr";o7r+="acksEnd";switch(S9D){case 2:--b.Pw;0===b.Pw&&b.Pq(o7r);S9D=5;break;}}});d.VG.on(d,c7r,function(){var Y9D,F7r;Y9D=2;while(Y9D!==5){F7r="repo";F7r+="rt";F7r+="NetworkFailin";F7r+="g";F7r+=": ";switch(Y9D){case 2:c.Oe&&b.qh(F7r+d.toString());d.H6a&&(b.nu.nC.Hl(void 0,d.nk,d.El,d.XDb),b.N_());Y9D=5;break;}}});d.VG.on(d,d7r,function(){var n9D,N7r,y7r,C7r;n9D=2;while(n9D!==5){N7r="NFErr";N7r+="_MC_S";N7r+="treami";N7r+="ngFai";N7r+="lure";y7r="Downl";y7r+="oadTrack f";y7r+="atal";y7r+=" error";C7r="Do";C7r+="wnloadT";C7r+="rack ";C7r+="fatal error: ";switch(n9D){case 2:c.Oe&&b.qh(C7r+JSON.stringify(a));b.ak(y7r,void 0,N7r,d.nk,0,d.El);n9D=5;break;}}});d.on(W7r,function(a){var W9D,k7r;W9D=2;while(W9D!==1){k7r="t";k7r+="ran";k7r+="sport";k7r+="r";k7r+="eport";switch(W9D){case 4:b.emit("",a);W9D=5;break;W9D=1;break;case 2:b.emit(k7r,a);W9D=1;break;}}});H9D=6;break;case 6:d.on(J7r,function(){var N9D;N9D=2;while(N9D!==1){switch(N9D){case 2:d.removeAllListeners();N9D=1;break;case 4:d.removeAllListeners();N9D=5;break;N9D=1;break;}}});l.V(d.zc)||d.zc();return d;break;case 2:d=new X(a,b.Wj);d.ue=b;d.VG=new m();H9D=3;break;}}});X.Ag();return a;break;case 2:b=this;c=b.K;0===b.Pw&&b.Pq(S7r);k9D=3;break;}}};c.prototype.ORa=function(){var O9D,a;O9D=2;while(O9D!==9){switch(O9D){case 2:a=[];this.Wa.ob.forEach(function(b){var Z9D;Z9D=2;while(Z9D!==5){switch(Z9D){case 2:l.V(b.yj)||a.push(b.yj);b.yj=void 0;Z9D=5;break;}}});this.jG&&(a.push(this.jG),this.jG=void 0);a.forEach(function(a){var Q9D;Q9D=2;while(Q9D!==4){switch(Q9D){case 2:a.nQ||--this.Pw;a.VG.clear();a.Kn();Q9D=4;break;}}}.bind(this));O9D=9;break;}}};c.prototype.NRa=function(a){var M9D,c;M9D=2;while(M9D!==14){switch(M9D){case 8:c.VG.clear();c.Kn();a.yj=void 0;M9D=14;break;case 2:c=a.P;c==b.G.AUDIO&&(a.JK=!0,this.wd.fE(null));a=this.Wa.ob[c];c=a.yj;c.nQ||--this.Pw;M9D=8;break;}}};c.prototype.Tka=function(a){var T9D,b,c,d,f,g,l;T9D=2;while(T9D!==11){switch(T9D){case 3:T9D=d?9:11;break;case 2:b=a.P;c=this.Wa.ob[b];T9D=4;break;case 4:d=c.yj;T9D=3;break;case 14:b=this.Kia([b[0]]);c.yj=b[0];g.forEach(function(b){var g9D;g9D=2;while(g9D!==1){switch(g9D){case 2:this.qG(a,this.mm,b.stream,b,b.stream.ia);g9D=1;break;}}}.bind(this));T9D=11;break;case 9:g=[];for(l in this.Ve[b]){(f=this.Ve[b][l])&&!f.Y&&f.track==d&&(this.Ve[b][l]=void 0,g.push({stream:f.stream,offset:f.offset,Z:f.Z,Px:f.Px,ia:f.ia,Hr:f.Hr,Vn:f.Vn}),a.Pa.FK(f));}this.NRa(a);b=this.tja([b]);T9D=14;break;}}};c.prototype.Pq=function(a){var C9D,m7r;C9D=2;while(C9D!==5){m7r="st";m7r+="a";m7r+="rt";m7r+="Ev";m7r+="ent";switch(C9D){case 2:a={type:m7r,event:a,time:O.time.ca()};Z(this,a.type,a);C9D=5;break;}}};c.prototype.YTa=function(){var f9D,a,X7r;f9D=2;while(f9D!==4){X7r="ope";X7r+="nCom";X7r+="p";X7r+="let";X7r+="e";switch(f9D){case 2:a={type:X7r};Z(this,a.type,a);f9D=4;break;}}};c.prototype.ZTa=function(a,b,c,d,f){var m9D,M7r;m9D=2;while(m9D!==1){M7r="p";M7r+="tsSta";M7r+="rt";M7r+="s";switch(m9D){case 2:this.K.o4a||(a={type:M7r,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:f.wAa()},Z(this,a.type,a));m9D=1;break;}}};c.prototype.LTa=function(a,b){var V9D,r7r,V7r,O7r;V9D=2;while(V9D!==4){r7r="emptyCont";r7r+="ent";r7r+="Id";V7r="n";V7r+="o";V7r+="n";V7r+="e";O7r="d";O7r+="r";O7r+="m";O7r+="H";O7r+="eader";switch(V9D){case 2:a={type:O7r,manifestIndex:a,drmType:b?b.ql:V7r,contentId:b?b.Vna:r7r};b&&(a.source=b.source,a.header=b.tk);Z(this,a.type,a);V9D=4;break;}}};c.prototype.PTa=function(a,b){var R9D,e7r;R9D=2;while(R9D!==5){e7r="he";e7r+="aderCac";e7r+="he";e7r+="Hit";switch(R9D){case 2:a={type:e7r,movieId:a,streamId:b};Z(this,a.type,a);R9D=5;break;}}};c.prototype.OTa=function(a,b,c,d,f){var l9D,g,j7r;l9D=2;while(l9D!==9){j7r="heade";j7r+="rCacheDataH";j7r+="it";switch(l9D){case 2:g=this.Hja;this.Hja=void 0;a={type:j7r,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:f,actualStartPts:g&&g.vm,headerCount:g&&g.Pr,stats:g&&g.cc};Z(this,a.type,a);l9D=9;break;}}};c.prototype.XTa=function(a,b,c){var D9D,A7r;D9D=2;while(D9D!==5){A7r="ma";A7r+="xPos";A7r+="i";A7r+="tion";switch(D9D){case 2:a={type:A7r,index:a,maxPts:b,endPts:c};Z(this,a.type,a);D9D=5;break;}}};c.prototype.gUa=function(a,b,c,d,f,g){var I9D,Y7r,g7r;I9D=2;while(I9D!==4){Y7r="n";Y7r+="otifyS";Y7r+="treamingE";Y7r+="rro";Y7r+="r: ";g7r="er";g7r+="r";g7r+="or";switch(I9D){case 2:a={type:g7r,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:f,manifestIndex:void 0!==g?g:this.ND};this.Rb(Y7r+JSON.stringify(a));Z(this,a.type,a);I9D=4;break;}}};c.prototype.nka=function(a,b){var e9D,P7r;e9D=2;while(e9D!==5){P7r="seg";P7r+="mentStart";P7r+="ing";switch(e9D){case 2:b={type:P7r,segmentId:a.id,contentOffset:b};a.ID||Z(this,b.type,b);e9D=5;break;}}};c.prototype.aUa=function(a){var h9D,b,b7r;h9D=2;while(h9D!==4){b7r="segmentA";b7r+="bo";b7r+="rted";switch(h9D){case 2:b={type:b7r,segmentId:a.id};a.ID||Z(this,b.type,b);h9D=4;break;}}};c.prototype.sSa=function(a,b){var w9D,c,d,f,s1r,E1r,i1r,p7r,T7r,Z7r;w9D=2;while(w9D!==20){s1r="s";s1r+="e";s1r+="amles";s1r+="s";E1r="r";E1r+="e";E1r+="s";E1r+="e";E1r+="t";i1r="s";i1r+="ki";i1r+="p";p7r="l";p7r+="on";p7r+="g";T7r="l";T7r+="o";T7r+="n";T7r+="g";Z7r="sea";Z7r+="mle";Z7r+="ss";switch(w9D){case 3:c.atRequest.weight=d;l.Lc(b.Oc,function(b,d){var E0K;E0K=2;while(E0K!==1){switch(E0K){case 2:d!=a&&(c.discard[d]={weight:b.weight},F(b.gH,c.discard[d]));E0K=1;break;}}});d=b.FU?b.TR?Z7r:T7r:b.Sva?p7r:b.Jj?i1r:E1r;c.transitionType=d;b.M3a||(c.delayToTransition=b.BQ);d=s1r===d?0:O.time.ca()-b.startTime;c.durationOfTransition=d;w9D=12;break;case 2:c={segment:a,srcsegment:b.eV,srcoffset:b.qAa,seamlessRequested:b.FU,atRequest:{},discard:{}};f=b.Oc[a];f?(d=f.weight,F(f.gH,c.atRequest)):d=this.ma.Sra(b.eV,a);w9D=3;break;case 12:c.atTransition=b.nBa;c.srcsegmentduration=this.ma.u$a(b.eV);return c;break;}}};c.prototype.dUa=function(a,b,c){var J0K,q1r;J0K=2;while(J0K!==4){q1r="segme";q1r+="ntP";q1r+="re";q1r+="sen";q1r+="ting";switch(J0K){case 2:c=c?this.sSa(a.id,c):void 0;b={type:q1r,segmentId:a.id,contentOffset:b,metrics:c};J0K=5;break;case 5:a.ID||Z(this,b.type,b);J0K=4;break;}}};c.prototype.bUa=function(a,b){var r0K,w1r;r0K=2;while(r0K!==5){w1r="segmen";w1r+="tAppe";w1r+="nded";switch(r0K){case 2:b={type:w1r,segmentId:a.id,metrics:b};a.ID||Z(this,b.type,b);r0K=5;break;}}};y7D=175;break;case 2:l=a(11);a(14);f=a(28);p=f.EventEmitter;m=f.dF;q=a(74).ec;k=a(207).TDigest;n=a(353);r=a(685);z=a(671);w=a(661);t=a(660);y=a(659);E=a(657).jPa;P=a(365);G=a(656);a(14);la=a(653).eKa;L=a(199);O=a(8);X=O.Vz;V=O.Db;y7D=24;break;}}function c(a,c,d,f,g,h,q,n,u){var G7D,v,G1r,h1r,H1r,Q1r,R1r,z1r;G7D=2;while(G7D!==84){G1r="med";G1r+="ia";G1r+="|a";G1r+="sej";G1r+="s";h1r="A";h1r+="S";h1r+="E";h1r+="JS";H1r="i";H1r+="nac";H1r+="ti";H1r+="ve";Q1r="SideChanne";Q1r+="l: pbcid is mi";Q1r+="ssing.";R1r="managerde";R1r+="bug";R1r+="e";R1r+="vent";z1r="m";z1r+="ed";z1r+="i";z1r+="ac";z1r+="ache";switch(G7D){case 57:u.aI&&(a=this.$a.ss.Lt);u.UQ&&(this.bP=new k(u.rea.c,u.rea.maxc));this.YA=[0,0];G7D=77;break;case 49:G7D=(u.WBa||u.Nz)&&this.$a.Qc?48:47;break;case 19:this.FO=g.N8;this.Th=g.ai;this.sZ=g.NB;this.ON=!1;G7D=15;break;case 62:this.rl=0===a%u.BB;this.Ve=[Object.create(null),Object.create(null)];this.Ke=[];h=this.Lia(c,this.Th).G$a();a=null;G7D=57;break;case 15:this.rWa=g.IE;this.sWa=g.JV;this.XA=g.teb;this.cB=g.RT;G7D=24;break;case 48:this.Xf.on(this.$a.Qc,z1r,function(a){var x7D,D1r;x7D=2;while(x7D!==1){D1r="me";D1r+="diac";D1r+="a";D1r+="ch";D1r+="e";switch(x7D){case 4:Z(this,"",a);x7D=3;break;x7D=1;break;case 2:Z(this,D1r,a);x7D=1;break;}}}.bind(this));G7D=47;break;case 4:this.fa=this.W.warn.bind(this.W);this.Hb=this.W.trace.bind(this.W);this.Ta=this.W.log.bind(this.W);this.$a=a;this.Wj=h;this.It=n;G7D=14;break;case 13:this.It={path:h.ac,de:h.de,E4:h.E4};G7D=12;break;case 38:this.sO=-1;this.XZ=Object.create(null);this.on=this.addEventListener=p.addEventListener;this.removeEventListener=p.removeEventListener;G7D=53;break;case 85:A.call(this);G7D=84;break;case 86:this.Vka=new y(this,u);G7D=85;break;case 24:this.LVa=g.uIb;this.Ii=[!0,!0];g.iJb?this.Ii[b.G.AUDIO]=!1:g.HBb&&(this.Ii[b.G.VIDEO]=!1);this.ax=void 0;G7D=35;break;case 77:f=this.wG(c,0,d,g.ai);this.wd=new r(this,h,this.$a.Va,u,this.Qua(),a);this.hka=this.wd.Chb.bind(this.wd);G7D=74;break;case 90:G7D=this.Ln?89:87;break;case 50:this.Xf.on(this.$a.Qc,R1r,function(a){var b7D;b7D=2;while(b7D!==1){switch(b7D){case 4:Z(this,a.type,a);b7D=4;break;b7D=1;break;case 2:Z(this,a.type,a);b7D=1;break;}}}.bind(this));G7D=49;break;case 87:G7D=(this.rl=0===Math.floor(1E6*Math.random())%u.BB)?86:85;break;case 12:u=this.SQa(c,u);this.mm=c.movieId+"";u.Tx&&(l.V(u.A5)||0===u.A5.length||-1===u.A5.indexOf(this.mm))&&(u.Tx=!1);this.K=u;G7D=19;break;case 71:d.Xab=!0;d.tx=!0;d.rx=!0;G7D=68;break;case 53:this.emit=this.Ia=p.Ia;this.Xf=new m();G7D=51;break;case 68:this.xa=[d];this.ma=new z(this,this.wd,c.choiceMap,this.IG,u);this.Wa=new t(this.$a,this,u);G7D=90;break;case 28:this.tn=c;this.wc=0;this.gZ=q;this.QO=this.hx=!1;this.pn=d;this.Gw=this.jG=void 0;this.pka=0;G7D=38;break;case 89:v=this;G7D=88;break;case 14:G7D=void 0===this.It||void 0===this.It.de?13:12;break;case 47:u.kp&&(h&&h.MT?(h.eZa=u.cN.lv,h.efb=u.cN.mx,this.Uo=new E(h.MT,h,this)):this.Gp(Q1r));u.Tx&&(this.lO=this.IG+u.PAa,this.mO=O.time.ca());a=Math.floor(1E6*Math.random());this.Ln=0===a%u.u5&&0<u.NI.length;h&&h.rf&&(this.Ln=!1);this.X2=this.Ln&&0===a%u.t5;G7D=62;break;case 74:this.Yi.addEventListener(H1r,this.hka);d=this.VN(c,0,g.ea,f,!1,d);d.ai=g.ai;G7D=71;break;case 88:this.zb.addListener(function(a){var p7D,F7D;p7D=2;while(p7D!==1){switch(p7D){case 2:try{F7D=2;while(F7D!==1){switch(F7D){case 2:v.Wa.Jrb.bind(v.Wa)(a);F7D=1;break;}}}catch(sc){var a1r;a1r="Hindsight";a1r+=": Error when adding updatePlaySeg";a1r+="ment List";a1r+="ener: ";q8ff.B2r(0);v.Gp(q8ff.v2r(sc,a1r));}p7D=1;break;}}});G7D=87;break;case 51:G7D=u.Oe&&this.$a.Qc?50:49;break;case 35:this.aSa=O.time.ca()+g.SDb;this.zb=new R(b.Ca.Ng);this.Ei=void 0;this.R_=h.la;this.im=c.duration;this.IG=f||0;this.mO=this.lO=0;G7D=28;break;case 2:this.W=new O.Console(h1r,G1r,"("+h.sessionId+")");this.Rb=this.W.error.bind(this.W);G7D=4;break;}}}function d(a){var t7D;t7D=2;while(t7D!==1){switch(t7D){case 2:return a===b.Ca.Is||a===b.Ca.ct;break;}}}}());},function(g,d,a){var c,h,l,f,p,m;function b(a,b,d){p=d;m=d.map(function(a,b){return a.Ge&&a.inRange&&!a.Dh?b:null;}).filter(function(a){return null!==a;});if(null===f)return a=h(d),f=d[a].O,new l(a);if(!m.length)return null;a=m.filter(function(a){return d[a].O==f;})[0];return void 0===a?(c.log("Defaulting to first stream due to unvalid bitrate requested: "+f),new l(m[0])):new l(a);}a(11);a(13);d=a(43);a=a(8);c=d.console;h=d.B3;l=d.Mo;f=null;p=null;m=null;a.h_a&&(a.h_a.rE={zc:function(){m=p=f=null;},n$:function(a){f=a;},VEb:function(){return{all:p,TBa:m};}});g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var I1r,b,d2I;I1r=2;while(I1r!==8){d2I="1SIYb";d2I+="Zr";d2I+="N";d2I+="JCp9";switch(I1r){case 2:a(11);I1r=5;break;case 5:b=a(13);a(43);I1r=3;break;case 3:g.M={checkBuffering:function(a,d,g,f,p){var U1r,h,l,k,n,r,w,t,k2I,J2I,Q2I,r2I,t1r;function c(a){var n1r;n1r=2;while(n1r!==5){switch(n1r){case 1:return(r-h.jv)/(r+(a.offset+a.Z)-w);break;case 2:a=d.Y.z3(h.nf+a,void 0,!0);n1r=1;break;}}}U1r=2;while(U1r!==38){k2I="n";k2I+="o";k2I+="re";k2I+="b";k2I+="uff";J2I="o";J2I+="ut";J2I+="o";J2I+="fra";J2I+="nge";Q2I="h";Q2I+="i";Q2I+="g";Q2I+="h";Q2I+="tp";r2I="m";r2I+="ax";r2I+="si";r2I+="ze";switch(U1r){case 43:t=f.offset;U1r=42;break;case 32:--p;U1r=31;break;case 14:n=p.ii*(a.state===b.Ca.ct?p.r9:1);p.t5a&&d.Ga&&d.Ga.kg&&d.Ga.kg.Aa>p.V6&&(n+=p.g0+d.Ga.kg.Aa*p.B8);f&&(n+=f.oQ*p.h0);n=g?Math.min(g,n):n;U1r=10;break;case 44:return n=Math.min(g,l+t),{complete:!1,qz:n,mi:c(n)};break;case 27:U1r=-1===a?26:25;break;case 6:return{complete:!1,xJ:!0};break;case 8:return{complete:!0,reason:r2I};break;case 16:return k<d.O&&(n=Math.min(g,Math.max(p.zK*(d.O/k-1),n))),{complete:!1,qz:n,mi:(r-h.jv)/(r+(n-(h.Ra-h.nf))*d.O/8)};break;case 17:U1r=!d.Y||!d.Y.length?16:15;break;case 25:w=d.Y.Fl(a);U1r=24;break;case 31:U1r=p>a?30:41;break;case 24:U1r=l>=n?23:40;break;case 9:U1r=l>=g?8:7;break;case 21:n=d.Y.Qd(a);p=Math.min(a+Math.floor(p.zK/n),d.Y.length-1);t=d.Y.Fl(p);q8ff.I2I(0);t1r=q8ff.z2I(16,203,4,26,10);n=t1r*w/k-h.nf;U1r=32;break;case 22:return{complete:!0,reason:Q2I};break;case 2:h=a.buffer;l=a.Zd||h.ol-h.nf;k=d.pa||0;n=0;U1r=9;break;case 19:r=0;h.Y.forEach(function(a){var L1r;L1r=2;while(L1r!==1){switch(L1r){case 2:r+=a.U+a.duration>h.nf?a.Z:0;L1r=1;break;}}});U1r=17;break;case 28:U1r=0<t?44:43;break;case 15:a=d.Y.Bj(h.Ra);U1r=27;break;case 30:f=d.Y.get(p);t=8*t/k-f.U-n;U1r=28;break;case 20:return{complete:!1,qz:n};break;case 40:0<k&&k<d.O&&(n=Math.min(g,Math.max(p.zK*(d.O/k-1),n)));return{complete:!1,qz:n,mi:c(n)};break;case 7:U1r=k<=p.b7&&(0<k||!p.j3)?6:14;break;case 26:return{complete:!0,reason:J2I};break;case 10:U1r=!k?20:19;break;case 42:--p;U1r=31;break;case 41:return{complete:!0,reason:k2I};break;case 23:U1r=k>d.O*p.fR?22:21;break;}}}};d2I;I1r=8;break;}}}());},function(g,d,a){(function(){var E2I,c,d,l,f,q3M;function b(a,b,d,g){var y2I,h,z3M,J3M,j2I;y2I=2;while(y2I!==11){z3M="pl";z3M+="ayer missing streamin";z3M+="gIndex";J3M="Must";J3M+=" have at least one selected stre";J3M+="am";switch(y2I){case 7:y2I=h.Ga&&h.Ga.pa&&h.O<h.Ga.pa.Aa-a.oqb?6:14;break;case 3:q8ff.e3M(0);j2I=q8ff.m3M(7,1,10,3);g=d.length-j2I;y2I=9;break;case 2:l(!c.V(g),J3M);l(c.ka(b.Ev),z3M);b=f(g);y2I=3;break;case 8:h=d[g];y2I=7;break;case 9:y2I=-1<g?8:13;break;case 14:--g;y2I=9;break;case 6:return b.Ed=g,b;break;case 13:b.Ed=0;return b;break;}}}E2I=2;while(E2I!==13){q3M="1SIYb";q3M+="ZrNJC";q3M+="p9";switch(E2I){case 7:d=a(195);g.M={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:b,PAUSED:b};q3M;E2I=13;break;case 2:c=a(11);a(13);d=a(43);a(8);l=d.assert;f=d.Mo;E2I=7;break;}}}());},function(g,d,a){var c;function b(a,b,d){return new c(d.length-1);}a(11);c=a(43).Mo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c;function b(){return new c(0);}a(11);c=a(43).Mo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var j3M,l,f,p,m,q,k,n,r,z,w,r9M;j3M=2;while(j3M!==10){r9M="1SI";r9M+="Yb";r9M+="ZrN";r9M+="JC";r9M+="p9";switch(j3M){case 3:m=f.debug;q=f.assert;j3M=8;break;case 6:r=f.ny;z=f.Mo;w=a(351);g.M={STARTING:function(a,c,d,f){var p9M,g,h,K9M,V9M,c9M;p9M=2;while(p9M!==14){K9M=" kb";K9M+="p";K9M+="s, prof";K9M+="ile ";K9M+=":";V9M="selectAudioS";V9M+="treamSta";V9M+="rting: selected";V9M+=" stream :";c9M="selec";c9M+="tAudioStreamStarting: overrid";c9M+="ing config";c9M+=" wi";c9M+="th ";switch(p9M){case 3:g={minInitAudioBitrate:a.LJ,minHCInitAudioBitrate:a.KJ,maxInitAudioBitrate:a.AJ,minRequiredAudioBuffer:a.iT},m&&p.log(c9M+JSON.stringify(h)),k(h,g);p9M=9;break;case 2:g=a;h=d[f||0].Me;p9M=4;break;case 6:return a;break;case 4:p9M=(h=b(h,a.naa)||b(h,a.pYa))?3:9;break;case 9:a=w[n.Ca.name[n.Ca.Ng]](g,c,d,f);d=d[a.Ed];m&&p.log(V9M+d.O+K9M+d.Me);p9M=6;break;}}},BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};r9M;j3M=10;break;case 2:l=a(11);f=a(43);p=f.console;j3M=3;break;case 8:k=a(48);n=a(13);j3M=6;break;}}function d(a,b,c,d){var G9M;G9M=2;while(G9M!==1){switch(G9M){case 2:return d&&a>c.wy&&(l.V(this.yp)||this.bD>this.yp||b-this.yp>c.NS);break;}}}function b(a,b){var S3M,c;S3M=2;while(S3M!==3){switch(S3M){case 2:c=void 0;b.some(function(b){var H3M,d;H3M=2;while(H3M!==3){switch(H3M){case 2:H3M=1;break;case 8:H3M=5;break;H3M=1;break;case 1:d=b.profiles;(d=d&&0<=d.indexOf(a))&&(c=b.override);return d;break;}}});return c;break;}}}function c(a,b,c,f){var x9M,g,h,k,n,u,v,x,w,t,d9M,E9M,X9M,s9M,t9M,b9M,w9M,n9M,Z9M,g9M,W9M,T9M,Y9M,N9M,F9M,U9M,h9M,k9M,I9M,a9M,C9M,O9M,v9M;x9M=2;while(x9M!==30){d9M=" kbps, ";d9M+="try to down";d9M+="switch";E9M=" ";E9M+="kb";E9M+="p";E9M+="s <";E9M+=" ";X9M="throughpu";X9M+="t fo";X9M+="r audio ";s9M=", streami";s9M+="ng";s9M+="Pts";s9M+=" = ";t9M=", lastUps";t9M+="witc";t9M+="hPts =";t9M+=" ";b9M="  U";b9M+="psw";b9M+="itch ";b9M+="allowed. lastDownswitchPts = ";w9M="kbps, stre";w9M+="a";w9M+="mingP";w9M+="ts";w9M+=" :";n9M=", ";n9M+="audio ";n9M+="throughpu";n9M+="t";n9M+=":";Z9M=" kbps, prof";Z9M+="ile ";Z9M+=":";g9M="selectAudi";g9M+="oStream: selec";g9M+="ted st";g9M+="ream :";W9M=" ";W9M+="k";W9M+="b";W9M+="p";W9M+="s";T9M=" ";T9M+="kb";T9M+="ps,";T9M+=" to ";Y9M="switchin";Y9M+="g ";Y9M+="audio f";Y9M+="ro";Y9M+="m ";N9M="d";N9M+="o";N9M+="w";N9M+="n";F9M="u";F9M+="p";U9M=" k";U9M+="b";U9M+="p";U9M+="s";h9M=" ";h9M+="kbps";h9M+=" > ";k9M="t";k9M+="hrough";k9M+="pu";k9M+="t for a";k9M+="udio ";I9M="Must have at least one sel";I9M+="ected";I9M+=" stream";a9M="m";a9M+="s";C9M=", ";C9M+="buffe";C9M+="r level = ";O9M=", las";O9M+="tUpsw";O9M+="itchPt";O9M+="s";O9M+=" = ";v9M="  Ups";v9M+="witch ";v9M+="not allowed. lastDownswitchPts = ";switch(x9M){case 16:x9M=r(t)&&(0==v||t.O*w.mpa<x)?15:27;break;case 9:x9M=k&&1<k.length?8:34;break;case 35:m&&p.log(v9M+this.yp+O9M+this.bD+C9M+t+a9M);x9M=34;break;case 11:g=0;x9M=34;break;case 21:g=u;x9M=34;break;case 22:x9M=(u=k[v],t=c[u],r(t)&&x>w.DBa*t.O)?21:23;break;case 12:x9M=0>v?11:10;break;case 23:x9M=++v<k.length?22:34;break;case 25:x9M=d(t,u.Ra,w,b.ly)?24:35;break;case 18:u=k[v];t=c[u];x9M=16;break;case 2:x9M=1;break;case 1:q(!l.V(f),I9M);g=f;h=c[f].Me;a.naa.some(function(d){var L9M,f,g,l,m,p,q;L9M=2;while(L9M!==13){switch(L9M){case 3:l=(d=d.CD)&&d.iT||a.iT;m=d&&d.sGb||-Infinity;p=d&&d.Qua||Infinity;q=b.buffer.iu;L9M=6;break;case 2:f=d.profiles;g=f&&0<=f.indexOf(h);L9M=4;break;case 6:k=c.filter(function(a){var B9M,b;B9M=2;while(B9M!==4){switch(B9M){case 2:b=a.O;B9M=5;break;case 5:return b>=m&&b<=p&&0<=f.indexOf(a.Me)&&b*l/8<q;break;}}}).map(function(a){var l9M;l9M=2;while(l9M!==1){switch(l9M){case 2:return a.df;break;case 4:return a.df;break;l9M=1;break;}}});L9M=14;break;case 4:L9M=g?3:14;break;case 14:return g;break;}}});x9M=9;break;case 27:v--;x9M=19;break;case 26:x9M=v<k.length-1&&x>w.DBa*u&&(m&&p.log(k9M+x+h9M+w.DBa+"*"+u+U9M),u=b.buffer,t=u.ol-u.nf,n.Y&&n.Y.length)?25:34;break;case 8:n=c[f];u=n.O;x9M=6;break;case 34:x=c[g];g!==f&&m&&p.log((g>f?F9M:N9M)+Y9M+n.O+T9M+x.O+W9M);m&&p.log(g9M+x.O+Z9M+h+n9M+x.pa+w9M+b.buffer.Ra);return new z(g);break;case 24:m&&p.log(b9M+this.yp+t9M+this.bD+s9M+u.Ra);x9M=23;break;case 15:g=u;x9M=34;break;case 20:m&&p.log(X9M+x+E9M+w.mpa+"*"+u+d9M),--v;x9M=19;break;case 10:x9M=v&&x<w.mpa*u?20:26;break;case 6:v=k.indexOf(f);x=n.pa;w=a.qYa;x9M=12;break;case 19:x9M=0<=v?18:34;break;}}}}());},function(g,d,a){var c,h,l,f;function b(a,b,d){var g,m;g=this.VZ;b=b.buffer.Ra;m="forward"===a.ymb;if(c.V(g))return g=m?h(d):h(d,d.length),this.WZ=b,this.VZ=g,new f(g);l(d[g])||(g=h(d,g),this.WZ=b,this.VZ=g);if(0>g)return null;if(b>this.WZ+a.rqb){a=d.map(function(a,b){return a.Ge&&a.inRange&&!a.Dh?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;m?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.VZ=a[g];this.WZ=b;return new f(a[g]);}return new f(g);}c=a(11);a(13);d=a(43);h=d.B3;l=d.ny;f=d.Mo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c;function b(a,b,d){a=d.map(function(a,b){return a.Ge&&a.inRange&&!a.Dh?b:null;}).filter(function(a){return null!==a;});return a.length?new c(a[Math.floor(Math.random()*a.length)]):null;}a(13);c=a(43).Mo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c,h,l,f;function b(a,b,d,g){if(c.V(g))a=h(d);else if(l(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new f(a);}c=a(11);a(13);d=a(43);h=d.B3;l=d.ny;f=d.Mo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);(function(){var u9M,c,g,l,f,p,m,q,k,n,V2x,c2x,p2x,G2x,l2x,B2x,L2x,H9M;u9M=2;while(u9M!==18){V2x="chec";V2x+="kd";V2x+="e";V2x+="fa";V2x+="ult";c2x="d";c2x+="ef";c2x+="a";c2x+="ul";c2x+="t";p2x="de";p2x+="fa";p2x+="ul";p2x+="t";G2x="def";G2x+="aul";G2x+="t";l2x="defa";l2x+="ul";l2x+="t";B2x="de";B2x+="fau";B2x+="l";B2x+="t";L2x="c";L2x+="heckB";L2x+="ufferin";L2x+="g";H9M="1SI";H9M+="YbZr";H9M+="NJ";H9M+="Cp9";switch(u9M){case 10:d.yw.prototype.KB=function(a,b,c,d){var j9M;j9M=2;while(j9M!==1){switch(j9M){case 2:return this.PG.checkBuffering.call(this,a,b,c,d,this.config);break;}}};d.yw.prototype.spb=function(a,b,d){var S9M;S9M=2;while(S9M!==1){switch(S9M){case 2:c.V(b)?this.yp=this.bD=void 0:b.O<d.O&&(this.bD=a);S9M=1;break;}}};H9M;u9M=18;break;case 4:l=a(8);f=g.console;p=g.oR;m=g.qma;u9M=7;break;case 13:d.yw=function(a,b,c,d){var i9M,f;i9M=2;while(i9M!==8){switch(i9M){case 3:b=b||c.aaa;this.PG=q.reduce(function(a,c){var Q9M;Q9M=2;while(Q9M!==5){switch(Q9M){case 2:a[c]=((k[b]||k[n[c]])[c]||k[n[c]][c]).bind(f);return a;break;}}},{});i9M=8;break;case 2:f=this;this.config=c;d&&(this.Uw=d.Uw,this.kO=d.kO);i9M=3;break;}}};d.yw.prototype.constructor=d.yw;d.yw.prototype.n$=function(a,d,g,h,q,k,n){var D9M,R9M,u,r,v,x,w,t,z,y,E,D,P,A,x2x;D9M=2;while(D9M!==37){x2x="Stream ";x2x+="se";x2x+="lec";x2x+="tor called wit";x2x+="h invalid player state ";switch(D9M){case 42:D9M=R9M===b.Ca.ct?43:41;break;case 13:D9M=0<D?12:11;break;case 6:E=g.Y;D=E.length;D9M=13;break;case 41:D9M=R9M===b.Ca.jf?23:40;break;case 24:this.kO=b.MM.Ng;D9M=23;break;case 43:this.kO=b.MM.Ng;D9M=23;break;case 21:D9M=!u||null===u.Ed?35:34;break;case 26:R9M=a.state;D9M=R9M===b.Ca.Ng?25:44;break;case 39:return f.error(x2x+b.Ca.name[a.state]),null;break;case 11:c.V(z)&&(z=this.Uw);p(d,function(c){var y9M;y9M=2;while(y9M!==9){switch(y9M){case 1:y9M=r!==c.Ga||r&&r.ks!==a.ks||r&&r.ez!==a.ez?5:4;break;case 2:y9M=c.Ge&&c.inRange&&!c.Dh&&c.Ga&&c.Ga.yc?1:3;break;case 5:r=c.Ga,r.ks=a.ks,r.ez=a.ez,a&&a.Zn&&c.Ga&&(c.Ga.Zn=!0),v===b.Ca.Ng&&t.$H&&a.iS&&t.u0&&(c.Ga.pa.Aa=a.iS),w=Math.floor(h(c.Ga,a.buffer)),w=0===w?1:w;y9M=4;break;case 4:c.pa=w;y9M=9;break;case 3:c.pa=void 0;y9M=9;break;}}});v===b.Ca.Ng&&c.ka(z)&&(v=b.Ca.Is);A=d.filter(function(a){var f9M;f9M=2;while(f9M!==1){switch(f9M){case 2:return a&&a.Ge&&a.inRange&&!a.Dh;break;}}});D9M=18;break;case 12:P=E[D-1].Xa,z=m(d,function(a){var M9M;M9M=2;while(M9M!==1){switch(M9M){case 2:return a.id===P;break;case 4:return a.id==P;break;M9M=1;break;}}}),z=0<=z?z:void 0;D9M=11;break;case 18:A.length||(A=d.filter(function(a){var o9M;o9M=2;while(o9M!==1){switch(o9M){case 4:return a||a.Ge||-a.Dh;break;o9M=1;break;case 2:return a&&a.Ge&&!a.Dh;break;}}}),A.forEach(function(a){var m9M;m9M=2;while(m9M!==1){switch(m9M){case 4:a.inRange=~8;m9M=8;break;m9M=1;break;case 2:a.inRange=!0;m9M=1;break;}}}));E=A;t.fL?E=A.filter(function(a){var P9M;P9M=2;while(P9M!==1){switch(P9M){case 2:return a.vl;break;case 4:return a.vl;break;P9M=1;break;}}}):a.state!==b.Ca.jf&&a.state!==b.Ca.yq&&(E=A.filter(function(a){var e9M;e9M=2;while(e9M!==1){switch(e9M){case 2:return!a.ZU;break;case 4:return-a.ZU;break;e9M=1;break;}}}));A=0<E.length?E:A.slice(0,1);D9M=27;break;case 44:D9M=R9M===b.Ca.Is?43:42;break;case 35:return null;break;case 25:this.bD=this.yp=void 0;D9M=24;break;case 3:t=this.config;z=this.Uw;c.ka(z)&&a&&a.state===b.Ca.Ng&&(z=this.Uw=void 0);c.ka(z)&&z>=d.length&&(z=this.Uw=void 0);D9M=6;break;case 34:this.Uw=u.Ed;q=d[u.Ed];u.reason&&(q.Lk=u.reason,q.m$=u.Qr,q.XI=u.XI,q.zl=u.zl,q.uk=u.uk);c.ka(z)&&q.O<d[z].O&&(this.yp=g.Ra);a.state!==b.Ca.jf&&a.state!==b.Ca.yq?(k=this.KB(a,q,k,n),(u.ep=k.complete)?u.reason=k.reason:(u.ep=!1,u.qz=k.qz,u.xJ=k.xJ,u.mi=k.mi)):u.ep=!0;a.rl&&(u.Ra=g.Ra,k=a&&a.Ev,n=q.Y,u.Gn=n&&!isNaN(k)&&0<=k&&k<n.length?n.Nf(k):g.Ra,u.Jjb=q.pa||0,u.ghb=q.Ga&&q.Ga.pa&&q.Ga.pa.Aa||0,u.kZa=g.ol-g.nf,u.Wma=g.cn,u.rxa=v,u.Yo=a&&a.Yo,u.tBa=x,u.eqb=l.time.ca());return u;break;case 23:u=this.PG[b.Ca.name[v]].call(this,t,a,A,y,h,q);u.uo?(u.Mx=[],d.forEach(function(a,b){var J9M;J9M=2;while(J9M!==4){switch(J9M){case 2:a===u.uo&&(u.Ed=b);a.baa&&u.Mx.push(b);a.baa=!1;J9M=4;break;}}}),u.Mx.length||(u.Mx=void 0)):(q=function(a){var z9M;z9M=2;while(z9M!==1){switch(z9M){case 4:return m(d,function(b){return b!=A[a];});break;z9M=1;break;case 2:return m(d,function(b){var q9M;q9M=2;while(q9M!==1){switch(q9M){case 2:return b===A[a];break;case 4:return b!==A[a];break;q9M=1;break;}}});break;}}},u.Ed=q(u.Ed),u.Mx&&(u.Mx=u.Mx.map(q)));D9M=21;break;case 40:D9M=R9M===b.Ca.yq?23:39;break;case 27:void 0!==z&&(y=m(A,function(a){var A9M;A9M=2;while(A9M!==1){switch(A9M){case 2:return a.O>d[z].O;break;case 4:return a.O<=d[z].O;break;A9M=1;break;}}}),y=0<y?y-1:0===y?0:A.length-1);D9M=26;break;case 2:g=a&&a.buffer;v=a&&a.state;x=l.time.ca();D9M=3;break;}}};u9M=10;break;case 2:c=a(11);g=a(43);u9M=4;break;case 7:q=[b.Ca.name[b.Ca.Ng],b.Ca.name[b.Ca.Is],b.Ca.name[b.Ca.ct],b.Ca.name[b.Ca.jf],b.Ca.name[b.Ca.yq],L2x];k={first:a(695),random:a(694),optimized:a(195),roundrobin:a(693),selectaudio:a(351),selectaudioadaptive:a(692),"default":a(195),lowest:a(691),highest:a(690),throughputthreshold:a(689),checkdefault:a(688),testscript:a(687)};n={STARTING:B2x,BUFFERING:l2x,REBUFFERING:G2x,PLAYING:p2x,PAUSED:c2x,checkBuffering:V2x};u9M=13;break;}}}());},function(g,d,a){var q,k,n,r,t,w,D,y;function b(a){var c,d,f;a=a.parent;c=!1;if(a&&a.children){d={};d[w.zi]=[];d[w.Oh]=[];d[w.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.xd].push(a);});0<d[w.zi].length||(d[w.Oh].length===f.length?a.xd!==w.Oh&&(a.xd=w.Oh,t.error("PERM failing :",k.hf.name[a.Ux]+" "+a.id),c=!0):(a.xd===w.zi&&(a.xd=w.TEMPORARY,t.error("TEMP failing :",k.hf.name[a.Ux]+" "+a.id),c=!0),d[w.TEMPORARY].forEach(function(a){a.xd=w.zi;})),c&&b(a));}}function c(a){var c;for(var b=[];a;a=a.parent)switch(a.Ux){case k.hf.ww:c=a;b.unshift(c.id+"("+c.name+")");break;case k.hf.wea:b.unshift(a.id);break;case k.hf.URL:b.unshift("<url for "+a.stream.O+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.xd!==w.zi){b={};b[w.zi]=[];b[w.Oh]=[];b[w.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.xd].push(a);});0<b[w.zi].length&&(a.xd=w.zi,h(a));}}function l(a){return a.xd!==w.zi;}function f(a){switch(a.xd){case w.zi:return"OK";case w.Oh:return"FAILED PERMANENTLY";case w.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function p(a){a.iba=a.Ga.yc>=k.ed.Ps&&!a.Ga.Vx?a.Ga.pa.Aa*a.weight:0;}function m(a,b){if(a.xd===w.TEMPORARY||a.xd===w.Oh&&b)a.xd=w.zi;a.children&&a.children.forEach(function(a){a&&m(a,b);});}q=a(11);k=a(13);d=a(59);n=a(28);r=a(8);t=new r.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.zi=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Oh=2]="PERMANENT";}(w||(w={})));(function(a){a[a.nLa=0]="ORIGINAL";a[a.rEa=1]="CONTINUOUS";}(D||(D={})));(function(a){a[a.et=0]="STARTUP";a[a.lzb=1]="REBUFFER";a[a.wA=2]="SEEK";a[a.Uvb=3]="FAILURE";a[a.wyb=4]="PERFORMANCE";}(y||(y={})));a=function(){var K2x;function a(a,b,c,d,f){var r2x,g,k4z,O4z,N4z,J4z;r2x=2;while(r2x!==25){k4z="1";k4z+="SIYbZr";k4z+="NJCp";k4z+="9";O4z="c";O4z+="l";O4z+="ose";N4z="un";N4z+="d";N4z+="erf";N4z+="l";N4z+="ow";J4z="netw";J4z+="o";J4z+="r";J4z+="k";switch(r2x){case 2:g=this;this.events=a;this.Yi=b;this.K6=c;r2x=9;break;case 6:this.mode=D.nLa;this.Vu=void 0;this.Ej={};this.Ym={};r2x=11;break;case 18:this.Ck={id:J4z,Ux:k.hf.sq,xd:w.zi,Kp:void 0,parent:void 0,children:this.Zr};this.cE=this.wO=null;this.dE=k.ye.et;r2x=15;break;case 9:this.no=d;this.config=f;this.no=f.iC&&d;r2x=6;break;case 11:this.Pc={};this.qc={};this.Zr=[];this.tT=!1;r2x=18;break;case 15:r2x=a&&(this.events.on(N4z,function(){var v2x;v2x=2;while(v2x!==1){switch(v2x){case 4:g.amb();v2x=7;break;v2x=1;break;case 2:g.amb();v2x=1;break;}}}),f.Xdb)?27:26;break;case 27:this.events.on(O4z,function(){var O2x;O2x=2;while(O2x!==1){switch(O2x){case 4:g.Vib();O2x=0;break;O2x=1;break;case 2:g.Vib();O2x=1;break;}}});r2x=26;break;case 26:k4z;r2x=25;break;}}}K2x=2;while(K2x!==27){switch(K2x){case 11:a.prototype.HK=function(a){var f2x;f2x=2;while(f2x!==1){switch(f2x){case 2:m(this.Ck,a);f2x=1;break;case 4:m(this.Ck,a);f2x=2;break;f2x=1;break;}}};a.prototype.Py=function(a){var o2x,V4z;o2x=2;while(o2x!==1){V4z="logda";V4z+="t";V4z+="a";switch(o2x){case 2:this.Ia(V4z,a);o2x=1;break;case 4:this.Ia("",a);o2x=2;break;o2x=1;break;}}};a.prototype.Mxa=function(a){var m2x,b;m2x=2;while(m2x!==4){switch(m2x){case 2:b=this;a.streams.forEach(function(a){var P2x,c,d,f,m4z;P2x=2;while(P2x!==13){m4z="n";m4z+="o";m4z+="n";m4z+="e";m4z+="-";switch(P2x){case 4:P2x=q.V(d)?3:7;break;case 2:c=a.downloadable_id;d=b.qc[c];P2x=4;break;case 3:f=a.content_profile;d={id:c,O:a.bitrate,oc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(m4z),Ge:!0,Pc:[],KL:{},Ej:[]};P2x=8;break;case 8:b.qc[d.id]=d;P2x=7;break;case 7:a.urls.forEach(function(a){var e2x,c,f,g;e2x=2;while(e2x!==11){switch(e2x){case 4:e2x=q.V(f)&&(a=b.Ym[a.cdn_id])?3:11;break;case 13:g.qc[d.id]=d;e2x=12;break;case 2:c=a.url;f=b.Pc[c];e2x=4;break;case 3:g=a.location;f={id:c,Ux:k.hf.URL,xd:w.zi,Kp:void 0,parent:a,children:[],url:c,Pb:a,stream:d};b.Pc[c]=f;a.children.push(f);d.Pc.push(f);0===d.Ej.filter(function(a){var A2x;A2x=2;while(A2x!==1){switch(A2x){case 4:return a.id==g.id;break;A2x=1;break;case 2:return a.id===g.id;break;}}}).length&&d.Ej.push(g);e2x=13;break;case 12:(c=d.KL[g.id])?c.push(f):d.KL[g.id]=[f];e2x=11;break;}}});q.Lc(d.KL,function(a){var J2x;J2x=2;while(J2x!==1){switch(J2x){case 2:a.sort(function(a,b){var z2x;z2x=2;while(z2x!==1){switch(z2x){case 2:return a.Pb.Od-b.Pb.Od;break;case 4:return a.Pb.Od*b.Pb.Od;break;z2x=1;break;}}});J2x=1;break;}}});d.Ej=d.Ej.sort(function(a,b){var q2x;q2x=2;while(q2x!==1){switch(q2x){case 2:return a.level-b.level||a.Od-b.Od;break;}}});P2x=13;break;}}});m2x=4;break;}}};a.prototype.Hrb=function(a){var j2x,b,c,d,f,g,h;j2x=2;while(j2x!==27){switch(j2x){case 19:a.every(function(a){var L6x;L6x=2;while(L6x!==5){switch(L6x){case 2:q.Na(h)&&(h=a.level);return h!==a.level?(b.no=!1,g=k.ye.Nba,!1):a.Ga.yc<k.ed.Go?!1:a.Ga.pa.Aa>c.s3?(b.no=!1,g=k.ye.mHa,!1):!0;break;}}})&&(this.no=!1,g=k.ye.Nba);j2x=18;break;case 10:a.forEach(function(a){var x6x;x6x=2;while(x6x!==1){switch(x6x){case 2:a.Ga.yc>=k.ed.Go?(a.Kxa=a.Kxa||a.hs,a.hs=!1,a.aQ=k.ed.Go):(a.hs=!0,a.aQ=a.Ga.yc);x6x=1;break;}}});h=null;j2x=19;break;case 8:j2x=0===a.length?7:6;break;case 14:j2x=null===this.wO||this.wO+c.M6<f?13:12;break;case 2:j2x=1;break;case 11:j2x=this.no?10:15;break;case 13:a.forEach(function(a){var H2x;H2x=2;while(H2x!==1){switch(H2x){case 2:a.id!==b.Yi.location&&(a.Ga=b.K6.get(a.id));H2x=1;break;}}}),this.wO=f;j2x=12;break;case 6:f=r.time.ca();j2x=14;break;case 3:d=a.ol-a.nf;a=this.Zr.filter(function(a){var S2x;S2x=2;while(S2x!==1){switch(S2x){case 2:return!l(a)&&0!==a.level;break;case 4:return-l(a)||5==a.level;break;S2x=1;break;}}});j2x=8;break;case 7:return null;break;case 18:c.iC?a.sort(function(a,c){var B6x;B6x=2;while(B6x!==1){switch(B6x){case 2:return a.level-c.level||(b.no&&a.hs&&!c.hs?-1:0)||(b.no&&c.hs&&!a.hs?1:0)||(b.no&&a.hs&&c.hs?a.Od-c.Od:0)||c.aQ-a.aQ||c.iba-a.iba||a.Od-c.Od;break;}}}):a.sort(function(a,b){var l6x;l6x=2;while(l6x!==1){switch(l6x){case 2:return a.level-b.level||a.Od-b.Od;break;}}});this.Vu||q.Na(g)||(this.Vu=!0);return a;break;case 15:c.iC?(g=k.ye.HJa,this.mode===D.rEa&&(this.no=d>c.taa)):g=this.dE;j2x=18;break;case 12:g=null;j2x=11;break;case 1:b=this;c=this.config;a=a.buffer;j2x=3;break;}}};K2x=18;break;case 2:a.prototype.G$a=function(){var C2x;C2x=2;while(C2x!==1){switch(C2x){case 4:return this.Zr[1].Ga;break;C2x=1;break;case 2:return this.Zr[0].Ga;break;}}};a.prototype.D4=function(){var a2x;a2x=2;while(a2x!==1){switch(a2x){case 4:return this.Zr;break;a2x=1;break;case 2:return this.Zr;break;}}};a.prototype.Vx=function(){var I2x;I2x=2;while(I2x!==1){switch(I2x){case 2:return l(this.Ck);break;case 4:return l(this.Ck);break;I2x=1;break;}}};a.prototype.Gza=function(a){var k2x;k2x=2;while(k2x!==5){switch(k2x){case 2:k2x=(a=this.Pc[a])&&a.parent?1:5;break;case 1:return a.parent.id;break;case 9:return a.parent.id;break;k2x=5;break;}}};a.prototype.MS=function(a){var h2x;h2x=2;while(h2x!==5){switch(h2x){case 1:return a.Pb.location;break;case 2:h2x=(a=this.Pc[a])&&a.Pb?1:5;break;}}};K2x=9;break;case 9:a.prototype.CAa=function(a){var U2x;U2x=2;while(U2x!==5){switch(U2x){case 3:U2x=(a=this.Pc[a])?5:1;break;U2x=(a=this.Pc[a])?1:5;break;case 2:U2x=(a=this.Pc[a])?1:5;break;case 1:return a.stream;break;}}};a.prototype.Aqa=function(a){var F2x,b;F2x=2;while(F2x!==3){switch(F2x){case 8:F2x=2;break;F2x=1;break;case 2:F2x=1;break;case 1:F2x=a?5:3;break;case 5:b=a.bind(this);q.forEach(this.Pc,function(a){var N2x,c;N2x=2;while(N2x!==4){switch(N2x){case 2:c=a.Pb;b(c.location,c,a.stream,a);N2x=4;break;}}});F2x=3;break;}}};a.prototype.NG=function(a){var Y2x,b,W4z;Y2x=2;while(Y2x!==20){W4z="ma";W4z+="nifestA";W4z+="dded";switch(Y2x){case 2:b=this;a.locations.forEach(function(a){var T2x,c,d,f,g;T2x=2;while(T2x!==13){switch(T2x){case 2:c=a.key;T2x=5;break;case 5:T2x=!b.Ej[c]?4:13;break;case 4:d=[];f=b.K6.get(c);g=b.Ck;a={id:c,Ux:k.hf.wea,xd:w.zi,Od:a.rank,level:a.level,weight:a.weight,Kp:void 0,parent:g,children:d,Ym:d,qc:{},hs:!1,Kxa:!1,Ga:f,iba:null,aQ:void 0};b.Ej[a.id]=a;g.children.push(a);p(a);T2x=13;break;}}});this.wO=r.time.ca();Y2x=3;break;case 3:this.Zr.sort(function(a,b){var W2x;W2x=2;while(W2x!==1){switch(W2x){case 2:return a.level-b.level||a.Od-b.Od;break;}}});a.servers.forEach(function(a){var g2x,c,d,f;g2x=2;while(g2x!==14){switch(g2x){case 2:c=a.id;g2x=5;break;case 4:d=b.Ej[a.key];g2x=3;break;case 5:g2x=!b.Ym[c]?4:14;break;case 9:f=[];a={id:c,Ux:k.hf.ww,xd:w.zi,Kp:void 0,parent:d,children:f,Pc:f,name:a.name,type:a.type,Od:a.rank,location:d};b.Ym[a.id]=a;d.children.push(a);g2x=14;break;case 3:g2x=d?9:14;break;}}});Y2x=8;break;case 8:a.audio_tracks.forEach(function(a){var Z2x;Z2x=2;while(Z2x!==1){switch(Z2x){case 2:b.Mxa(a);Z2x=1;break;case 4:b.Mxa(a);Z2x=5;break;Z2x=1;break;}}});a.video_tracks.forEach(function(a){var n2x;n2x=2;while(n2x!==1){switch(n2x){case 2:b.Mxa(a);n2x=1;break;case 4:b.Mxa(a);n2x=7;break;n2x=1;break;}}});a=this.Zr.filter(function(a){var w2x,c;w2x=2;while(w2x!==3){switch(w2x){case 2:c=a.Ym.every(function(a){var b2x,K6x;b2x=2;while(b2x!==1){switch(b2x){case 2:return 0===a.Pc.length;break;case 4:q8ff.I4z(0);K6x=q8ff.d4z(16,18);return K6x!==a.Pc.length;break;b2x=1;break;}}});c&&(a.Ym.forEach(function(a){var t2x;t2x=2;while(t2x!==1){switch(t2x){case 2:b.Ym[a.id]=void 0;t2x=1;break;}}}),b.Ej[a.id]=void 0,a.parent=void 0,a.children.length=0,a.qc={});return!c;break;}}});Y2x=14;break;case 14:a.forEach(function(a){var s2x;s2x=2;while(s2x!==1){switch(s2x){case 2:a.Ym.sort(function(a,b){var X2x;X2x=2;while(X2x!==1){switch(X2x){case 2:return a.Od-b.Od;break;case 4:return a.Od/b.Od;break;X2x=1;break;}}});s2x=1;break;}}});this.Zr=a;this.Ck.children=a;this.emit(W4z);this.dump();Y2x=20;break;}}};a.prototype.HV=function(a,b){var E2x,c,d,f,g,h,m,n,u,v,M4z,g4z,P4z,X4z;E2x=2;while(E2x!==23){M4z="(";M4z+="empty";M4z+=" stream ";M4z+="l";M4z+="ist)";g4z="D";g4z+="id ";g4z+="not find a URL for ";g4z+="ANY";g4z+=" stream...";P4z="netwo";P4z+="rkFai";P4z+="led";X4z="Networ";X4z+="k has failed, ";X4z+="not up";X4z+="dating stream select";X4z+="ion";switch(E2x){case 11:E2x=this.Yi.location&&f.yc>=n?10:19;break;case 19:E2x=q.Na(this.cE)||g?18:17;break;case 6:E2x=l(this.Ck)?14:13;break;case 9:h=a.buffer.ol-a.buffer.nf||0;m=0;r.In&&r.In();E2x=6;break;case 27:E2x=!v.length?26:25;break;case 13:n=k.ed.Ps;d.RJ&&(n=k.ed.Go);E2x=11;break;case 18:this.cE=this.Hrb(a);E2x=17;break;case 20:u&&(u.Ga=f,p(u));E2x=19;break;case 2:c=this;d=this.config;f=this.Yi.get();g=this.no;E2x=9;break;case 10:u=this.Ej[this.Yi.location];E2x=20;break;case 16:return this.Hl(k.hf.sq,!1),null;break;case 17:E2x=!this.cE?16:15;break;case 15:v=this.cE;E2x=27;break;case 14:return null;break;case 26:return this.Hl(k.hf.sq,!1),null;break;case 25:b.forEach(function(a,b){var d2x,p,L4z,t4z,u4z,i4z;d2x=2;while(d2x!==4){L4z=" K";L4z+="b";L4z+="ps";L4z+=")";t4z=" ";t4z+="(";u4z="]";u4z+=" ";i4z="Fa";i4z+="iling stre";i4z+="am [";switch(d2x){case 9:p=a.id;d2x=7;break;d2x=5;break;case 5:v.some(function(b){var u2x,c,m;u2x=2;while(u2x!==7){switch(u2x){case 2:c=b.qc[p];u2x=5;break;case 5:u2x=!c?4:3;break;case 4:return!1;break;case 3:m=c.Ej[0];void 0===a.bU&&(a.bU=m.id,a.X8=c.KL[m.id][0].Pb.id);return c.KL[b.id].some(function(c){var i2x,p,K4z,o4z,U4z,a4z,p4z;i2x=2;while(i2x!==11){K4z="loc";K4z+="ation";K4z+="failove";K4z+="r";o4z="serverf";o4z+="ai";o4z+="lover";U4z="pe";U4z+="r";U4z+="fo";U4z+="r";U4z+="mance";a4z="pr";a4z+="o";a4z+="be";p4z="unk";p4z+="n";p4z+="own";switch(i2x){case 4:i2x=l(c)?3:9;break;case 1:i2x=l(c.Pb)?5:4;break;case 2:i2x=1;break;case 5:return c.Pb.xd===w.TEMPORARY&&(a.xd=w.TEMPORARY),d.mo&&a.Pb===c.Pb.id&&c.Pb.Kp&&(a.Kp=c.Pb.Kp),!1;break;case 3:return!1;break;case 9:p=p4z;a.location!==b.id&&(d.mo?a.NFb=b.id===m.id:p=b!==v[0]?""+k.ye.hW:void 0===a.location?""+k.ye.et:g?a4z:q.V(a.Tta)||a.Tta===b.id?q.V(a.Uta)||a.Uta===c.Pb.id?U4z:o4z:K4z,a.location=b.id,a.N6=b.level,a.Lk=p);i2x=7;break;case 7:a.url=c.url;a.Pb=c.Pb.id;a.tz=c.Pb.name;a.Ga=d.P0?b.Ga.yc>=k.ed.Go?!d.Exa||h<d.Dxa?b.Ga:b.Ga.pa&&b.Ga.pa.Aa&&f.pa&&f.pa.Aa&&b.Ga.pa.Aa<f.pa.Aa?f:b.Ga:f.yc<n?b.Ga:f:f.yc===k.ed.HAVE_NOTHING||b.Ga.yc>=k.ed.Go?!d.Exa||h<d.Dxa?b.Ga:b.Ga.pa&&b.Ga.pa.Aa&&f.pa&&f.pa.Aa&&b.Ga.pa.Aa<f.pa.Aa?f:b.Ga:f;return!0;break;}}});break;}}})?(a.Dh=void 0,a.xd=void 0,a.Ge&&++m):a.xd&&a.xd===w.TEMPORARY?c.Ck.xd=w.TEMPORARY:a.Dh||(t.warn(i4z+b+u4z+p+t4z+a.O+L4z),a.C_a(),a.Dh=!0);d2x=4;break;case 2:p=a.id;d2x=5;break;}}});return l(this.Ck)?(t.warn(X4z),this.tT=!0,this.emit(P4z,this.Ck.xd===w.Oh),null):m?b:(t.warn(g4z+(b.length?"":M4z)),this.Hl(k.hf.sq,!0),null);break;}}};K2x=14;break;case 18:a.prototype.amb=function(){var G6x,a;G6x=2;while(G6x!==9){switch(G6x){case 2:a=this.Yi.location;this.Vu=!1;this.no=this.config.iC&&!0;this.Zr.forEach(function(b){var p6x;p6x=2;while(p6x!==1){switch(p6x){case 2:b.id!==a&&b.Ga&&b.Ga.yc>k.ed.Ps&&(b.Ga.yc=k.ed.Ps);p6x=1;break;}}});G6x=9;break;}}};a.prototype.Vib=function(){var c6x,a;c6x=2;while(c6x!==4){switch(c6x){case 2:a=this;this.tT||this.Zr.forEach(function(b){var V6x;V6x=2;while(V6x!==1){switch(V6x){case 2:b.xd===w.TEMPORARY&&a.K6.fail(b.id,r.time.ca());V6x=1;break;}}});c6x=4;break;}}};a.prototype.dump=function(){};return a;break;case 14:a.prototype.Gnb=function(a,b){var Q2x,c,d;Q2x=2;while(Q2x!==9){switch(Q2x){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;q.forEach(this.Pc,function(f,g){var D2x,h,l,m,p,e4z,Q4z;D2x=2;while(D2x!==13){e4z="8";e4z+="0";Q4z="4";Q4z+="4";Q4z+="3";switch(D2x){case 3:D2x=l&&4===l.length?9:13;break;case 9:m="s"===l[1];p=l[2];l=l[3];l.length||(l=m?Q4z:e4z);q.Sd(p)&&q.Sd(l)&&p===a&&l==b&&(h?h.push(g):c[f]=[g]);D2x=13;break;case 2:f=f.parent?f.parent.id:"";h=c[f];l=g.match(d);D2x=3;break;}}});return c;break;}}};a.prototype.Hl=function(a,d,g,h){var R2x,m,p,q,M2x,D4z,v4z,w4z,E4z,f4z,Z4z,c4z,j4z,B4z;R2x=2;while(R2x!==25){D4z="Inval";D4z+="i";D4z+="d failure state";v4z="net";v4z+="w";v4z+="orkFa";v4z+="il";v4z+="ed";w4z="Emitting networkFaile";w4z+="d, pe";w4z+="rmanent =";E4z="Unable to find fai";E4z+="lur";E4z+="e en";E4z+="tity for URL ";f4z=" : ";f4z+="wa";f4z+="s ";Z4z=" ";Z4z+="a";Z4z+="t";Z4z+=" ";c4z=" ";c4z+="failure r";c4z+="eport";c4z+="ed for ";j4z="T";j4z+="E";j4z+="M";j4z+="P";B4z="PE";B4z+="R";B4z+="M";switch(R2x){case 3:R2x=q!==m.xd?9:25;break;case 2:m=a!==k.hf.sq&&g?this.Pc[g]:this.Ck,p=this.Ck.xd,q=d?w.Oh:w.TEMPORARY;R2x=1;break;case 16:R2x=M2x===w.zi?14:15;break;case 9:t.warn((d?B4z:j4z)+c4z+k.hf.name[a]+Z4z+c(m)+f4z+f(m));R2x=8;break;case 1:R2x=m&&m.parent&&m.Ux!==a?5:4;break;case 18:h&&(this.dE=k.ye.TMa,m.Kp=h);this.dump();R2x=25;break;case 8:M2x=m.xd;R2x=M2x===w.Oh?7:6;break;case 26:q8ff.F4z(1);t.warn(q8ff.T4z(g,E4z));R2x=25;break;case 4:R2x=m?3:26;break;case 14:m.xd=q;b(m);this.tT=this.tT||l(this.Ck);a=this.Ck.xd;a>p&&(t.warn(w4z,a===w.Oh),this.emit(v4z,a===w.Oh));this.cE=null;this.dE=k.ye.ERROR;R2x=18;break;case 6:R2x=M2x===w.TEMPORARY?14:16;break;case 5:m=m.parent;R2x=1;break;case 15:R2x=27;break;case 27:throw Error(D4z);R2x=14;break;case 7:return;break;}}};a.prototype.Nya=function(a,b){var y2x;y2x=2;while(y2x!==3){switch(y2x){case 8:y2x=(a=this.Ym[a])?2:9;break;y2x=(a=this.Ym[a])?1:5;break;case 2:y2x=(a=this.Ym[a])?1:5;break;case 5:this.cE=null;this.dE=k.ye.qY;y2x=3;break;case 1:m(a,b),h(a);y2x=5;break;case 7:m(a,b),h(a);y2x=8;break;y2x=5;break;}}};K2x=11;break;}}}();d.Pk(n.EventEmitter,a);g.M=a;},function(g,d,a){var l,f;function b(a,c,d){Object.keys(a).forEach(function(f){var g,h;if(l.pe(a[f]))if(a[f].pS){g=a[f];h=d+g.offset;a[f]=c.slice(h,h+g.byteLength);}else a[f]=b(a[f],c,d);});return a;}function c(a,b,d){Object.keys(a).forEach(function(f){var g;if(l.pS(a[f])){g=a[f];b.push(g);a[f]={pS:!0,offset:d.f2,byteLength:g.byteLength};d.f2+=g.byteLength;}else l.pe(a[f])&&c(a[f],b,d);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}l=a(108);f=a(48);g.M={n0a:function(a){var b,d,g;b=f(a,{});a=[];b=c(b,a,{f2:0});b=JSON.stringify(b);d=new ArrayBuffer(b.length+4);g=new DataView(d);g.setUint32(0,b.length);for(var l=4,p=0,k=b.length;p<k;p++)g.setUint8(l,b.charCodeAt(p)),l++;a=[d].concat(a);return h.apply(null,a);},m0a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,c),f="",g=0;g<d.byteLength;g++)f+=String.fromCharCode(d[g]);c=4+c;f=JSON.parse(f);return b(f,a,c);}};},function(g,d,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function c(a,b){var d,f,g;d=[];if(h.pe(b)){f={};g={};g[a]=f;d.push(g);d=Object.keys(b).reduce(function(d,g){var l,m,p;l=b[g];p={};h.pS(l)?(m=a+".__embed__."+g,p[m]=l,d.push(p)):h.pe(l)?(m=a+".__sub__."+g,l=c(m,l),f[g]=l[0][m],d=d.concat(l.slice(1))):f[g]=l;return d;},d);}else g={},g[a]=b,d.push(g);return d;}h=a(108);g.M={r4a:c,Vbb:function(a){var c,w;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],g=d.length,d=a[d.join(".")],h=1;h<c.length;h++)for(var l=!1,k=!1,n=d,r=g;r<c[h].length;r++){w=c[h][r];switch(w){case"__metadata__":break;case"__sub__":k=!0;break;case"__embed__":l=!0;break;default:k?(n=n[w],k=!1):l&&(n[w]=a[c[h].join(".")],l=!1);}}return d;},pcb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function b(a){return a;}function c(){return b;}a(11);g.M={AI:c,P4:c};},function(g,d,a){var b,c,h,l;b=a(11);c=a(108);h={};h[c.Yl.Yv]=function(a){return a;};h[c.Yl.lN]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[c.Yl.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};l={};l[c.Yl.Yv]=function(a){return a;};l[c.Yl.lN]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d<f;d++)c[d]=a.charCodeAt(d);return b;};l[c.Yl.OBJECT]=function(a){return b.V(a)||b.Na(a)?a:l[c.Yl.lN](JSON.stringify(a));};g.M={AI:function(a){return h[a]||h[c.Yl.Yv];},P4:function(a){return l[a]||l[c.Yl.Yv];}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.qj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.qj=a;}this.lm=[];}function a(c,d){var g,f,h,m,k,n,r;g=c.lm;f=c.qj;h=2*d+1;m=2*d+2;k=g[d];n=g[h];r=g[m];n&&f(n.Cd,k.Cd)&&(!r||f(n.Cd,r.Cd))?(b(g,d,h),a(c,h)):r&&f(r.Cd,k.Cd)&&(b(g,d,m),a(c,m));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.lm=[];};d.prototype.Al=function(a,d){this.lm.push({Cd:a,value:d});a=this.lm;d=this.qj;for(var c=a.length-1,f=0===c?null:Math.floor((c-1)/2);null!==f&&d(a[c].Cd,a[f].Cd);)b(a,c,f),c=f,f=0===c?null:Math.floor((c-1)/2);};d.prototype.remove=function(){var c;if(0!==this.lm.length){c=this.lm[0];b(this.lm,0,this.lm.length-1);this.lm.pop();a(this,0);return c.value;}};d.prototype.ED=function(){if(0!==this.lm.length)return this.lm[0].value;};d.prototype.enqueue=d.prototype.Al;d.prototype.U3a=d.prototype.remove;d.prototype.Fz=function(){return this.lm.map(function(a){return a.value;});};g.M=d;},function(g,d,a){var c,h,l,f,p,m,k,n;function b(a,d,g){var z,L;function q(a,b,c,d){a.info.call(a,function(a,f){var g;if(a)d(a);else{try{g=f.values[this.context].entries[b][c].size;}catch(Y){g=-1;}-1<g?d(null,g):this.Co(function(a,b){a?d(a):(b[c]&&(g=b[c].size),d(null,g));});}}.bind(a));}function u(a,c,d,f,g,l,m){var n;l?l.vj||(l.vj={}):l={vj:{}};z(f);n=h.time.now();f=new k(function(b,f){a.create(h.storage.mA,c,d,function(a,c){a?f(a):b(c);});}).then(function(d){d.S?q(a,h.storage.mA,c,function(a,f){a?m(a):(L(f),z(f),l.vj[b.YL.MX]={S:!0,time:g,wh:f,Ru:c,Vxa:d,duration:h.time.now()-n},l.ci=d.ci,m(null,l));}):(l.vj[b.YL.MX]={S:!1,Ru:c,error:d.error},m(null,l));},function(a){m(a);});p.Lp(f);}function r(a,b,c,d,f,g){d.Al(c.time,c);for(var h=c.time-864E5,l=d.ED();l&&!isNaN(l.time)&&l.time<h;)l=d.U3a(),z(0-(l.Z||0)),l=d.ED();d=d.Fz().map(function(a){return a.time+";"+a.Z;});u(a,b,Array.prototype.join.call(d,"|"),c.Z,c.time,f,g);}function v(a,c,d,f,g,p,k,n,u){var v;v=h.time.now();a.create(d,f,g,function(g,x){var w;if(g)m.error("Failed to replace item",f,g);else if(x.S){w=x.ci;q(a,d,f,function(d,g){var l,m;if(d)u(d);else{d={time:n,Z:g||0};l={ci:w,vj:{}};m=h.time.now()-v;l.vj[b.YL.REPLACE]={S:!0,time:n,wh:g,Ru:f,Vxa:x,duration:m};p?r(a,c,d,k,l,u):(z(g),u(null,l));}});}else u(l.xN.Tl(x.error||"Failed to create item"));});}function x(a,c,d,f,g,p,k,n,u){var v;v=h.time.now();a.append(d,f,g,function(g,x){var w;if(g)m.error("Failed to save item "+f,g),u(g);else if(x.S){w=x.ci;q(a,d,f,function(d,g){var l,m;if(d)u(d);else{d={time:n,Z:g||0};l={ci:w,vj:{}};m=h.time.now()-v;l.vj[b.YL.wOa]={S:!0,time:n,wh:g,Ru:f,Vxa:x,duration:m};p?r(a,c,d,k,l,u):(z(g),u(null,l));}});}else u(l.xN.Tl(x.error||"Failed to save item"));});}function t(a,b){a&&c.qb(a.remove)&&a.Rh.valid&&a.remove(h.storage.mA,b.WA,function(d,f){if(d)m.error("Failed to delete old journal key",d);else try{f&&(c.V(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.PDb;}))&&r(a,b.WA,{time:0,Z:0},b.EG,0,function(){});}catch(S){}});}if(!a.Rh.valid)return n;this.Via=c.V(d)||c.Na(d)?0:d;this.zZ=a;this.RZ=this.aG=0;this.EG=new f();this.BUa=g||"default";this.WA=this.BUa+".NRDCACHEJOURNALKEY";z=function(a){isNaN(a)||(this.aG+=a);return this.aG;}.bind(this);L=function(a){isNaN(a)||(this.RZ+=a);return this.RZ;}.bind(this);this.A4=function(){return this.WA;};this.save=function(a,b,c,d){var f;f=h.time.now();x(this.zZ,this.WA,a,b,c,0<=this.Via,this.EG,f,d);};this.replace=function(a,b,c,d){var f;f=h.time.now();v(this.zZ,this.WA,a,b,c,0<=this.Via,this.EG,f,d);};this.Zqa=function(a){var b,f;b=this.aG;a-=864E5;for(var c=this.EG.Fz(),d=0;d<c.length;d++){f=c[d];f.time<a&&!isNaN(f.Z)&&(b-=f.Z);}return b;};(function(a){var b;b=a.zZ;a.aG=0;b.read(h.storage.mA,a.WA,0,-1,function(c,d){var f,g,l,k;f=[];g=0;l=!0;if(c)m.error("Failed to compile records",c);else if(d.S){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);z(d);f=c.map(function(a){a=a.split(";");return{time:Number(a[0]),Z:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a+b.Z;},0)))for(var l=!1,p=h.time.now()-864E5;g<f.length;g++){k=f[g];k.time<p||(a.EG.Al(k.time,k),z(k.Z));}}catch(ra){}}l&&t(b,a);});}(this));}c=a(11);h=a(109);l=a(197);f=a(702);d=a(48);p=a(196);m=new h.Console("DISKWRITEMANAGER","media|asejs");k=h.Promise;d({YL:{wOa:"saveitem",REPLACE:"replaceitem",MX:"journalupdate"}},b);n={save:function(a,b,c,d){d(l.Lea);},replace:function(a,b,c,d){d(l.Lea);},A4:function(){return"";},Zqa:function(){return 0;}};b.prototype.constructor=b;g.M={create:function(a,c,d){return new b(a,c,d);},Zxb:n};},function(g,d,a){var p,m,k,n,r,v,t,w,D;function b(){}function c(d,f,g,k,q){var n;n=p.qb(k)?k:b;this.Gt=d;this.IA=g.iu;this.Zq=0;this.YRa=g.t6a||"NONE";this.Fq=p.V(q)||p.Na(q)?0:q;this.Wc={};this.qn=g.mGb||m.storage.mA;this.Po=f;this.tB=r.create(this.Po,g.P2a*this.Fq,this.Gt);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Ia=D.Ia;this.Fja=l(this,c.cd.REPLACE);this.ASa=l(this,c.cd.$ha);this.bx;this.bx=g.ZBa?a(701):a(700);this.Po.query(this.qn,this.Dl(""),function(a,b){var c;if(a)n(a);else{c=this.tB.A4();a=Object.keys(b).filter(function(a){return a!==c&&v.UC(a);}).map(this.Paa.bind(this));this.lU(a,function(a,c){Object.keys(c).map(function(a){var d,f;d=c[a];this.Wc[v.cR(a)]=d;if(d.N9&&1<Object.keys(d.N9).length){f=0;Object.keys(d.N9).forEach(function(a){b[this.Dl(a)]&&p.ka(b[this.Dl(a)].size)&&(f+=b[this.Dl(a)].size);}.bind(this));a=v.cR(a);this.Wc[a].size=f;}else a=v.cR(a),b[this.Dl(a)]&&(this.Wc[a].size=b[this.Dl(a)].size);}.bind(this));h(this.Po,this.qn,this.Gt,function(a,b){this.Zq=b;a?n(a):n(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,d,f){var g;g=p.qb(f)?f:b;a.query(c,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function l(a,b){return function(d,f,g,l,k){return function(q,n){var u;if(q)f||a.Ia(c.cd.ERROR,{itemKey:d,error:q}),g(q);else{u={wh:0,duration:0,items:[],time:m.time.now()};Object.keys(n.vj).map(function(b){var c;c=n.vj[b];b={key:a.Paa(c.Ru),Se:b};c.S?(u.wh+=c.wh,b.BS=c.wh,p.ka(c.duration)&&(u.duration+=c.duration)):b.error=c.error;u.items.push(b);});q=p.qb(l)?l():0;0<k&&(u.XB=k-q);h(a.Po,a.qn,a.Gt,function(c,d){c?g(c):(a.Zq=d,u.ci=a.IA-d,f||a.Ia(b,w.cra(u)),g(null,u));});}};};}function f(a,b){return 0<b&&a>=b?!0:!1;}p=a(11);m=a(109);k=a(197);d=a(48);n=new m.Console("MEDIACACHE","media|asejs");r=a(703);v=a(354);t=a(108);w=a(196);D=a(28).EventEmitter;d({cd:{$ha:"writeitem",REPLACE:"replaceitem",MX:"journalupdate",ERROR:"mediacache-error"}},c);c.prototype.getName=function(){return this.Gt;};c.prototype.Paa=function(a){return a.slice(this.Gt.length+1);};c.prototype.r4=function(){return Object.keys(this.Wc).filter(function(a){a=v.U3(this.Wc[a]);return void 0===a||0>=a.Nna();}.bind(this));};c.prototype.V9a=function(){return Object.keys(this.Wc).reduce(function(a,b){var c;c=this.Wc[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:m.time.now()}).VHb;};c.prototype.b9a=function(){var a;switch(this.YRa){case"FIFO":a=this.V9a();}return a;};c.prototype.Q3a=function(a){var c;c=p.qb(a)?a:b;this.ura(function(b){var d,f,g;d=this.Wc;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!v.UC(a)&&0>f.indexOf(a);}))&&0<b.length){g=this;b=m.Promise.all(b.map(function(a){return new m.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{u9:!0});},function(a){c(a,{u9:!1});});w.Lp(b);}else a(void 0,{u9:!1});}.bind(this));};c.prototype.Tkb=function(a,c,d){var f,g;f=p.qb(c)?c:b;c=this.Dl(a);g=m.time.now();this.Po.read(this.qn,c,0,-1,function(b,c){var l;if(b)f(b);else if(c&&c.S&&c.value){p.qb(d)||(d=this.bx.AI(t.Yl.Yv),v.UC(a)?d=this.bx.AI(t.Yl.OBJECT):(b=this.Wc[a],!p.V(b)&&p.ka(b.resourceIndex[a])?(b=b.resourceIndex[a],p.V(b)&&(b=t.Yl.Yv),d=this.bx.AI(b)):n.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{l=d(c.value);}catch(V){return f(k.vA.Tl(V.message));}c={duration:m.time.now()-g};this.Wc[a]&&p.ka(this.Wc[a].size)&&(c.or=p.ka(this.Wc[a].size)?this.Wc[a].size:0);f(null,l,c);}else f(k.vA.Tl(c.error));}.bind(this));};c.prototype.read=function(a,b,c){this.Tkb(a,b,c);};c.prototype.lU=function(a,c,d){var f,g,l;f=p.qb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))f(k.vA.Tl("item keys must be an array"));else{g={};l=[];a=m.Promise.all(a.map(function(a){return new m.Promise(function(b,c){var f;d&&!p.V(d[a])&&(f=this.bx.AI(d[a]));this.read(a,function(d,f,h){d?(f={},f[a]=d,c(f)):(g[a]=f,l.push({duration:h.duration,or:h.or}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<l.length&&(a=l.reduce(function(a,b){p.ka(b.duration)&&(a.duration+=b.duration);p.ka(b.or)&&(a.or+=b.or);return a;},{duration:0,or:0}));f(null,g,a);},function(a){f(a);});w.Lp(a);}};c.prototype.write=function(a,c,d,g,l){var h,m,q;d=p.qb(d)?d:b;h=this.Dl(a);m="function"===typeof l?l():0;q=t.a5(c);q=this.bx.P4(q)(c);q.byteLength+this.Zq>=this.IA?d(k.Tz):f(q.byteLength+m,this.Fq)?d(k.yN):this.tB.save(this.qn,h,c,this.ASa(a,g,d,l,this.Fq),q.byteLength);};c.prototype.replace=function(a,c,d,g,l){var h,m,q,u;h=p.qb(d)?d:b;m=this.Dl(a);q=0;"function"===typeof l&&(q=l());d=t.a5(c);u=this.bx.P4(d)(c);d=(this.Wc[a]||{}).size||0;0>=d&&this.Wc[a]?this.Hra([a],function(b){n.trace("Replacing key",a,"which exists:",!!this.Wc[a],this.Wc[a]?this.Wc[a]:void 0,"and has size",b,"with",c,"with size",u.byteLength,"plus _used",this.Zq,"vs capacity",this.IA);u.byteLength-b+this.Zq>=this.IA?h(k.Tz):f(u.byteLength-b+q,this.Fq)?h(k.yN):this.tB.replace(this.qn,m,c,this.Fja(a,g,h,l,this.Fq),u.byteLength);}.bind(this)):(n.trace("Replacing key",a,"which exists:",!!this.Wc[a],this.Wc[a]?this.Wc[a]:void 0,"and has size",d,"with",c,"with size",u.byteLength,"plus _used",this.Zq,"vs capacity",this.IA),u.byteLength-d+this.Zq>=this.IA?h(k.Tz):f(u.byteLength-d+q,this.Fq)?h(k.yN):this.tB.replace(this.qn,m,c,this.Fja(a,g,h,l,this.Fq),u.byteLength));};c.prototype.Slb=function(a,d,f,g){var l;l=p.qb(d)?d:b;"[object Object]"!==Object.prototype.toString.call(a)?l(k.xN.Tl("items must be a map of keys to objects")):(d=m.Promise.all(Object.keys(a).map(function(b){return new m.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,ej:b}):c(d);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,d,h,k;try{b=Number.MAX_VALUE;d=a.reduce(function(a,c){c.error||(a.wh+=c.wh,p.ka(c.duration)&&(a.duration+=c.duration),!p.V(c.ci)&&c.ci<b&&(b=c.ci),c.items.map(function(b){a.items.push({key:b.key,Se:b.Se,BS:b.BS,ieb:b.ieb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.ci=b));return a;},{wh:0,items:[],time:m.time.now(),duration:0});0<this.Fq&&(d.XB=this.Fq-g());h=a.filter(function(a){return!p.V(a.error);});k=w.gsa(h);f||(k?k.forEach(function(a){this.Ia(c.cd.ERROR,a);}.bind(this)):this.Ia(c.cd.REPLACE,w.cra(d)));l(k,d);}catch(S){l(S);}}.bind(this),function(a){f||this.Ia(c.cd.ERROR,a);l(a);}.bind(this)),w.Lp(d));};c.prototype["delete"]=function(a,c){var d;d=p.qb(c)?c:b;this.Po.remove(this.qn,this.Dl(a),function(a,b){a?d(a):b&&b.S?h(this.Po,this.qn,this.Dl(""),function(a,b){a?d(a):(this.Zq=b,d());}.bind(this)):d(k.tFa.Tl(b.error));}.bind(this));};c.prototype.ura=function(a){this.query("",function(b,c){b?(n.error("Failed to get keys",b),a([])):a(c);});};c.prototype.query=function(a,c){var d,f;d=p.qb(c)?c:b;f=this.tB.A4();this.Po.query(this.qn,this.Dl(a),function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a!==f;}).map(this.Paa.bind(this)));}.bind(this));};c.prototype.Dl=function(a){return this.Gt+"."+a;};c.prototype.clear=function(a){var d;d=p.qb(a)?a:b;this.ura(function(a){var b;b=m.Promise.all(a.map(function(a){return new m.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){d(a);},function(a){this.Ia(c.cd.ERROR,a);d([],a);}.bind(this));w.Lp(b);}.bind(this));};c.prototype.Hra=function(a,c){var d,f;d=p.qb(c)?c:b;f=(a||[]).map(function(a){return this.Dl(a);}.bind(this));this.Po.query(this.qn,this.Gt,function(b,c){b?(n.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0<=f.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),d(b));}.bind(this));};c.prototype.r8a=function(a){return this.tB.Zqa(a);};c.prototype.constructor=c;g.M=c;},function(g,d,a){var c,h,l,f,p;function b(a){this.Rh=a;this.context=a.context;this.bwa="NULLCONTEXT"===a.context?!0:!1;}c=a(11);h=a(109);l=new h.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.kx=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.bwa)throw Error("Media Cache not supported");b.apply(this.Rh,a);}catch(x){c(x);}};b.prototype.query=function(a,b,c,d){try{if(this.bwa)throw Error("Media Cache not supported");this.Rh.query(a,b,function(a){c(null,a);},d);}catch(v){c(v);}};b.prototype.read=function(a,b,c,d,f){this.kx(this.Rh.read,a,b,c,d,f);};b.prototype.remove=function(a,b,c){this.kx(this.Rh.remove,a,b,c);};b.prototype.create=function(a,b,c,d){this.kx(this.Rh.create,a,b,c,d);};b.prototype.append=function(a,b,c,d){this.kx(this.Rh.append,a,b,c,d);};b.prototype.info=function(a){this.kx(this.Rh.info,a);};b.prototype.Co=function(a){this.kx(this.Rh.Co,a);};b.prototype.flush=function(a){this.kx(this.Rh.flush,a);};b.prototype.clear=function(){this.Rh.clear();};g.M={i2a:function(a){var d,g,m,k,n;d=a.wDb||"NRDMEDIADISKCACHE";p=a.bC||0;0!==p||c.V(h.options)||c.V(h.options.bT)||(p=h.options.bT);a=p;try{k=h.storage.PH;if(!k||!c.pe(k))throw l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=k[d])l.warn("Disk store exists, returning"),g=new b(m);else{if(c.V(h.storage)||!c.qb(h.storage.jQ)||h.options&&0===h.options.bT)throw l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";l.warn("Disk store context doesn't exist, creating with size "+a);n=h.storage.jQ({context:d,size:a,encrypted:!0,signed:!0});if(!n||!n.valid)throw"Failed to create disk store context";g=new b(n);}}catch(w){l.warn("Exception creating disk store context - returning NullContext (noops)",w);g=new b(f);}return g;},P8a:function(){return p;},Xub:b};},function(g,d,a){var b,c,h,l,f;b=a(11);h=[];f=!1;g.M={eta:function(d,g,k){var m;if(f)b.qb(k)&&(c.Lm||c.iy?setTimeout(function(){k(c);},0):h.push(k));else{f=!0;m=a(109);m.VI(d);l=new m.Console("MEDIACACHE","media|asejs");c=new(a(355))(g,function(a){a&&l.warn("Failed to initialize MediaCache",a);b.qb(k)&&setTimeout(function(){k(c);},0);h.map(function(a){setTimeout(function(){a(c);},0);});});}return c;},lEb:function(d,f){c=new(a(355))(d,function(a,c){a&&l.warn("Failed to initialize MediaCache",a);b.qb(f)&&setTimeout(function(){f(c);},0);});}};},function(g,d,a){var b,c,h,l,f,p,m,k,n,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(13);g=a(8);h=a(27);l=a(198);f=a(198);p=a(200);m=a(82);k=a(203);n=g.Db;r=h.wr;a=function(a){function d(b,d,f,g,l,h){var p;g=a.call(this,b,f,g,h)||this;l=m.Rk.prototype.toString.call(g)+(l?"(cache)":"");p={offset:f.offset,Z:f.V7,responseType:0};g.push(new k.aM(b,d,l+"(moof)",p,g,h));p={offset:f.offset+p.Z+8,Z:f.Z-(p.Z+8),responseType:n.ic&&!n.ic.XD.xw?0:1};g.P===c.G.VIDEO&&g.ae&&g.ae.offset&&(g.Pn!==g.U?(p.offset=f.offset+g.ae.offset,p.Z=f.Z-g.ae.offset):g.Cu>g.ea&&(p.Z-=f.Z-g.ae.offset));g.push(new k.aM(b,d,l+"(mdat)",p,g,h));return g;}b.__extends(d,a);d.prototype.AB=function(a){var b,c;if(this.vh)return!0;if(!this.ky())return!1;c=!1;if(this.Iqa)c=a.appendBuffer(r(this.Bpa),this);else if(this.Zc&&this.U!==this.Pn&&this.ae&&void 0!==this.ae.Uc){b=new l.WM(this.stream,this.oa[0].response);if(b=b.uya(this.ae.Uc,this.ha))c=a.appendBuffer(r(b.ce),this),this.DO(b.ce);this.LO();}else if(this.Zc&&this.ea!==this.Cu&&this.ae&&void 0!==this.ae.Uc){b=new l.WM(this.stream,this.oa[0].response);if(b=b.xya(this.ae.Uc,this.ha))c=a.appendBuffer(r(b.ce),this),this.DO(b.ce);this.LO();}else c=a.appendBuffer(this.oa[0].response,this);c&&(c=a.appendBuffer(f.zeb(this.oa[1].Z),this))&&(c=a.appendBuffer(this.oa[1].response,this));this.vh=c;this.Elb();return c;};return d;}(p.Qz);d.eDa=a;},function(g){var d,a,b,c;d={name:"heaac-2-dash reset sample",profile:53,hk:2,sampleRate:24E3,duration:1024,vs:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,hk:2,sampleRate:24E3,duration:1024,vs:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,hk:6,sampleRate:48E3,duration:1536,vs:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};c={name:"ddplus-2.0-dash standard sample",profile:57,hk:2,sampleRate:48E3,duration:1536,vs:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.M={rAa:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":c},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":c};},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});a(14);b=a(13);c=a(199);h=a(198);l=a(74);f=a(27);a(8);g=function(){var y4z;function a(){var C4z,d8K;C4z=2;while(C4z!==1){d8K="1";d8K+="SIY";d8K+="bZr";d8K+="NJC";d8K+="p9";switch(C4z){case 4:"";C4z=6;break;C4z=1;break;case 2:d8K;C4z=1;break;}}}y4z=2;while(y4z!==13){switch(y4z){case 2:a.prototype.Iia=function(a){var h0z;h0z=2;while(h0z!==1){switch(h0z){case 2:return a&&c.UG(a.R,this.R)&&a.N3===this.N3?!0:!1;break;}}};a.prototype.qRa=function(){var x0z,a,b,c,d;x0z=2;while(x0z!==7){switch(x0z){case 2:a=this.ue.K;b=void 0!==a.Hv?a.Hv:this.ue.Yu&&this.ue.Yu.Hv;c=void 0!==a.Gv?a.Gv:this.ue.Yu&&this.ue.Yu.Gv;d=this.ue.Yu&&this.ue.Yu.bp;x0z=9;break;case 9:Array.isArray(d)&&Array.isArray(a.bp)?d=d.filter(function(b){var c2b=q8ff;var n0z,S0z,r0z;n0z=2;while(n0z!==1){switch(n0z){case 2:c2b.J8K(0);S0z=c2b.E8K(18,19);return S0z!==a.bp.indexOf(b);break;case 4:c2b.J8K(1);r0z=c2b.E8K(2,92,40,1,14);return!r0z==a.bp.indexOf(b);break;n0z=1;break;}}}):Array.isArray(a.bp)?d=a.bp:Array.isArray(d)||(d=[]);return-1!==d.indexOf(this.profile)?{Bqa:!!b,Pya:!b,L$:!b||!c}:{Bqa:!1,Pya:!1,L$:!c};break;}}};a.prototype.yia=function(a,b){var Y0z,c,d,f,g,j8K,A8K;Y0z=2;while(Y0z!==13){j8K="de";j8K+="fa";j8K+="u";j8K+="lt";A8K="d";A8K+="ef";A8K+="au";A8K+="l";A8K+="t";switch(Y0z){case 8:g.Up=g.L$?void 0!==c?c:1:0;g.K9=void 0!==d?d:g.Pya;return g;break;case 3:Y0z=(c=(void 0!==a?a:f.bJ)||0,a=f.gta&&f.gta[this.stream.profile])?9:8;break;case 2:f=this.ue.K;g=this.qRa();Y0z=4;break;case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[A8K]?a[j8K]:c;Y0z=8;break;case 4:Y0z=void 0!==f.bJ&&null!==f.bJ?3:14;break;case 14:g.L$=!1;Y0z=8;break;}}};a.prototype.rRa=function(){var H0z,k8K;H0z=2;while(H0z!==1){k8K="onE";k8K+="nt";k8K+="r";k8K+="y";switch(H0z){case 4:return this.yia(this.ue.K.hta,"");break;H0z=1;break;case 2:return this.yia(this.ue.K.hta,k8K);break;}}};y4z=3;break;case 3:a.prototype.sRa=function(){var G0z,G8K;G0z=2;while(G0z!==1){G8K="o";G8K+="nEx";G8K+="it";switch(G0z){case 2:return this.yia(this.ue.K.ita,G8K);break;case 4:return this.yia(this.ue.K.ita,"");break;G0z=1;break;}}};a.prototype.TQa=function(a,b){var z0z,d,f,g,h,m,p,k,q,n,r,t;z0z=2;function c(a){var A0z,b,c;A0z=2;while(A0z!==9){switch(A0z){case 2:a=Math.floor(Math.min(q,a)/p.sd);A0z=5;break;case 5:b=p.sd*a;q8ff.J8K(0);c=q8ff.b8K(r,b);return{Jl:a,zh:b,yEb:c,Yva:0<a&&c<k/1E3};break;}}}while(z0z!==15){switch(z0z){case 2:f=this.ue.K;g=!0;z0z=4;break;case 4:d=!1;h=f.fT;m=this.ue.Yu&&this.ue.Yu.fT;m=void 0!==h?h:void 0!==m?m:100;z0z=7;break;case 7:p=this.Ka;k=p.ha;q=this.zh;h=this.zh;z0z=12;break;case 12:n=a?a.jK:this.HD-2*p.sd;r=n-this.Hqa;b=f.z7a||b;a&&!b&&(d=c(r),t=d.Jl,h=d.zh,d=d.Yva);!d&&(t=n-l.ec.Kva(m,k),t=new l.ec(t-this.Hqa,k),a=c(t.sd),t=a.Jl,h=a.zh,a=a.Yva)&&(--t,h=p.sd*t);z0z=18;break;case 16:return{sob:g,web:d};break;case 18:this.yk({Uc:t,Jb:l.ec.Baa(this.Mw+h,k)},!0);t<(f.agb||1)&&(g=!1);z0z=16;break;}}};a.prototype.AB=function(a,c,d,g,l){var R0z,h;R0z=2;while(R0z!==6){switch(R0z){case 2:h=this.ue.K;R0z=5;break;case 5:R0z=this.vh?4:3;break;case 3:a=this.Iqa?a.appendBuffer(f.wr(this.Bpa),this):this.Zc&&!this.zp?this.TRa(a,c,g,l):this.Zc&&this.zp?this.URa(a,d,g,l):this.P===b.G.AUDIO&&h.Um&&c&&this.Jv&&c.Bd>=this.Bd&&this.Kd-this.Jv<this.Jv-this.Kc?!0:a.appendBuffer(this.response,this);this.vh=!0;this.AK();R0z=7;break;case 4:return!1;break;case 7:return a;break;}}};a.prototype.TRa=function(a,c,d,g){var s0z,l,m,p,F8K,q8K;s0z=2;while(s0z!==6){F8K=" ";F8K+="fr";F8K+="om [";F8K+=" ";q8K="AseFragmentMediaRequ";q8K+="est";q8K+=": Fragment edit faile";q8K+="d for";q8K+=" ";switch(s0z){case 2:m={Up:0};l=!1;s0z=4;break;case 4:p=!0;this.P===b.G.AUDIO&&c&&(d?g&&this.spa():this.Iia(c)?c.ae&&this.ae&&this.ae.Uc!==c.ae.Uc&&this.yk({Uc:c.ae.Uc,Jb:c.Kd},!1):(m=this.rRa(),c.Bd===this.bc&&(m.Up=0)));0>=this.duration&&(p=!1,l=!0);p&&(this.bc>this.Pn||m.Up?(c=this.ae&&this.ae.Uc,l=new h.WM(this.stream,this.response),(c=l.uya(c,this.Hy,m.Up,m.K9))?(l=a.appendBuffer(f.wr(c.ce),this),this.LO(m),this.DO(c.ce)):(this.W.Rb(q8K+this.toString()+F8K+this.Pn+"-"+this.Cu+"]"),l=!0)):l=a.appendBuffer(this.response,this));s0z=7;break;case 7:return l;break;}}};a.prototype.URa=function(a,c,d,g){var l0z,l,m,p,R8K,B8K;l0z=2;while(l0z!==6){R8K=" ";R8K+="f";R8K+="rom [";R8K+=" ";B8K="AseFragmentMediaRequest: Frag";B8K+="ment edit";B8K+=" failed for ";switch(l0z){case 2:l=this.ue.K;p={Up:0};l0z=4;break;case 4:m=!0;this.P===b.G.AUDIO&&(d?g&&(this.R4a(),m=0<this.ae.Uc):this.Iia(c)?c.ae&&0!=c.ae.Uc?this.yk({Uc:c.ae.Uc,Jb:c.Kc},!0):m=!1:(p=this.sRa(),l.Um||(c=this.TQa(c,p.Bqa),(m=c.sob)&&c.web&&!p.K9&&(p.Up=0))));m&&0===this.duration&&(m=!1);l0z=8;break;case 8:m?this.Bd<this.Cu||p.Up?(c=this.ae&&this.ae.Uc,m=new h.WM(this.stream,this.response),(m=m.xya(c,this.ha,p.Up,p.K9))?(a=a.appendBuffer(f.wr(m.ce),this),this.LO(p),this.DO(m.ce)):(this.W.Rb(B8K+this.toString()+R8K+this.Pn+"-"+this.Cu+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;}}};return a;break;}}}();d["default"]=new g();},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(59);c=a(82);a=function(a){function d(b,d,g,h,l){h=a.call(this,b,d,h,l)||this;d.Z=g.byteLength;c.Rk.call(h,b,d);h.$w=g;h.Kw=d.Z;return h;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ac:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Yn:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{DS:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pd:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{El:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nk:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.$w;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Sdb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Be:{get:function(){return this.Kw;},enumerable:!0,configurable:!0}});d.prototype.ky=function(){return!0;};d.prototype.AB=function(a){return this.vh=a.appendBuffer(this.response,this);};d.prototype.Ti=function(){return-1;};d.prototype.abort=function(){return!0;};d.prototype.Jd=function(){};d.prototype.sV=function(){return!1;};return d;}(a(127).Sv);d.fDa=a;g.Pk(c.Rk,a);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,b,c,d,g;this.Ie();a=this.Np([{Gaa:"int32"},{Voa:"int32"},{Lx:"int32"},{zQ:"int32"},{yQ:"int32"}]);b=a.Gaa;c=a.Voa;d=a.Lx;g=a.yQ;a=a.zQ;this.Tc={Vb:b,F3a:c,w2:d,x2:g,Soa:a};this.Gaa=b;this.Voa=c;this.Lx=d;this.zQ=a;this.yQ=g;this.u.dx({Lx:this.Lx});return!0;};c.kl="trex";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(36);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.RGa=this.u.lf();a=this.u.Rc();this.BAa=!!(a&128);this.Oha=!!(a&64);this.yfa=!!(a&32);this.rpb=a&31;this.S3a=this.BAa?this.u.lf():void 0;this.Oha&&this.u.KO(this.u.Rc());this.lLa=this.yfa?this.u.lf():void 0;c.kq&&this.u.Hb("ES_Descriptor: ES_ID="+this.RGa+", streamDependenceFlag="+this.BAa+", URL_Flag="+this.Oha+", OCRstreamFlag="+this.yfa+", streamPriority="+this.rpb+", dependsOn_ES_ID="+this.S3a+", OCR_ES_Id="+this.lLa);this.Rka();return!0;};d.tag=3;return d;}(a(150)["default"]);d["default"]=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(36);g=a(150);h=a(357);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.cya=function(){var a;a=this.u.yf(4);return 15!==a?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][a]:this.u.yf(24);};d.prototype.parse=function(a){if(this.hcb(a)&&64===a.qwa){this.ir=this.Wxa();this.Imb=this.cya();this.i_a=this.u.yf(4);this.Kmb=this.n3=5===this.ir||29===this.ir?5:-1;this.xkb=29===this.ir?1:-1;0<this.n3&&(this.E6a=this.cya(),this.ir=this.Wxa(),22===this.ir&&(this.D6a=this.u.yf(4)));switch(this.ir){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.O3=this.u.yf(1),this.t0a=(this.R3a=this.u.yf(1))?this.u.yf(14):void 0,this.u.yf(1),this.tI=3===this.ir?256:23===this.ir?this.O3?480:512:this.O3?960:1024;}c.kq&&this.u.Hb("AudioSpecificConfig: audioObjectType="+this.ir+", samplingFrequency="+this.Imb+", channelConfiguration="+this.i_a+", extensionAudioObjectType="+this.n3+", sbrPresentFlag="+this.Kmb+", psPresentFlag="+this.xkb+", extensionSamplingFrequency="+this.E6a+", extensionChannelConfiguration="+this.D6a+", frameLengthFlag="+this.O3+", coreCoderDelay="+this.t0a+", frameLength="+this.tI);}this.skip();return!0;};d.prototype.Wxa=function(){var a;a=this.u.yf(5);31===a&&(a=32+this.u.yf(6));return a;};d.prototype.hcb=function(a){return a.tag===h["default"].tag;};d.tag=5;return d;}(g["default"]);d["default"]=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(151);a=a(36);c=g.cY;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Ie();this.Tc=this.Np([{zT:"int32"},{MH:"int16"}]);return!0;};d.kl=c;return d;}(a["default"]);d["default"]=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(36);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Ie();c.kq&&this.u.Hb("ESDBox");this.QGa=this.u.Qka();return!0;};d.kl="esds";return d;}(c["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(b){var c;if(b=a.prototype.parse.call(this,b)&&this.zr(b,!0)){c=this.mI("esds");if(c=c&&c.QGa.mI(5))this.tI=c.tI;}return b;};c.kl="mp4a";return c;}(a(358)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(58);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Ie();this.Tc=this.Np([{uHb:"int32"},{ksa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Tc.ksa=c.SN(this.Tc.ksa);return!0;};d.kl="hdlr";return d;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Tc=this.Np([{XBb:"int32"},{Wu:"int32"},{Gma:"int32"}]);return!0;};c.kl="btrt";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Tc=this.Np([{dFb:"int32"},{gJb:"int32"}]);return!0;};c.kl="pasp";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.Ie();this.Tc=this.Np(1===this.version?[{Gqa:"int64"}]:[{Gqa:"int32"}]);a=this.zr(a,!0);this.u.Hb("Finished parsing mehd box");return a;};c.kl="mehd";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.Ie();a=1===this.version?[{vg:"int64"},{modificationTime:"int64"},{Vb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{vg:"int32"},{modificationTime:"int32"},{Vb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{ldb:"int16"},{CXa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Tc=this.Np(a);this.Tc.JIb=!!(this.oe&1);this.Tc.KIb=!!(this.oe&2);this.Tc.LIb=!!(this.oe&4);this.Tc.MIb=!!(this.oe&8);this.u.Hb("Finished parsing track box");return!0;};c.kl="tkhd";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){a=this.zr(a,!0);this.u.Hb("Finished parsing track box");return a;};c.kl="trak";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.Ie();this.Tc=1===this.version?this.Np([{vg:"int64"},{modificationTime:"int64"},{ha:"int32"},{duration:"int64"}]):this.Np([{vg:"int32"},{modificationTime:"int32"},{ha:"int32"},{duration:"int32"}]);return this.zr(a);};c.kl="mvhd";return c;}(a(36)["default"]);d["default"]=g;},function(g,d,a){var ka,fa,ma,ta,ga,ba,ea,ha,ja,ia,na,oa,qa,ua,mb,va,hb,Qa,cb,sb,Ta;function b(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function c(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function h(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function l(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function f(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function p(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);this.hE=a.config.hE;this.eU=new ma(0,1);a.config.yn&&(b=a.config.pK[a.profile])&&(a=b[a.O])&&(this.eU=new ma(a));}function m(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function k(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function n(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function r(a,b,c,d){qa.call(this,a,b,c,d);}function v(a,b,c,d){ga.call(this,a,b,c,d);}function t(a,b,c,d){ga.call(this,a,b,c,d);}function w(a,b,c,d){oa.call(this,a,b,c,d);}function D(a,b,c,d){ga.call(this,a,b,c,d);}function y(a,b,c,d){ga.call(this,a,b,c,d);}function E(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function P(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function G(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function A(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function L(a,c,d,f){this.Qa=b;this.Qa.call(this,a,c,d,f);}function O(a,c,d,f){this.Qa=b;this.Qa.call(this,a,c,d,f);}function X(a){function b(b,c,d,f){this.Qa=ga;this.Qa.call(this,b,c,d,f);this.Uva=a;}b.prototype=new ga();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Fca:{get:function(){return this.Uva;}}});b.prototype.parse=function(){this.u.Hb("renaming '"+this.type+"' to draft type '"+this.Uva+"'");this.u.offset=this.startOffset+4;this.u.wla(this.Fca);this.type=this.Fca;return!0;};return b;}function V(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function F(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function S(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function U(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function H(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function R(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function aa(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function ca(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function Z(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}function Q(a,b,c,d){this.Qa=ga;this.Qa.call(this,a,b,c,d);}ka=a(14);fa=a(151);a(8);ma=a(74).ec;ta=a(367);a(58);a(58);a(58);ga=a(36)["default"];d=a(723)["default"];ba=a(722)["default"];ea=a(721)["default"];ha=a(720)["default"];ja=a(719)["default"];ia=a(718)["default"];na=a(717)["default"];oa=a(359)["default"];qa=a(358)["default"];ua=a(716)["default"];mb=a(715)["default"];va=a(714)["default"];hb=a(150)["default"];Qa=a(357)["default"];cb=a(713)["default"];sb=a(712)["default"];a=a(711)["default"];b.prototype=new ga();b.prototype.constructor=b;b.prototype.parse=function(a){return this.zr(a,!0);};c.prototype=new ga();c.prototype.constructor=c;c.prototype.parse=function(a){var b;b=this.startOffset+this.length;a=this.zr(a,!0);this.u.Hb("marking orginal end of moov: 0x"+b.toString(16));this.u.QJ=b;return a;};h.prototype=new ga();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.Ie();this.fileSize=this.u.ph();this.ha=this.u.ph();this.duration=this.u.ph(!1,!0);this.swa=this.u.ph();this.u.ph();this.phb=this.u.ph();this.Cgb=this.u.fb();this.twa=this.u.ph();this.uqa=this.u.fb();this.gqa=this.u.CG();a={moof:{offset:this.swa},sidx:{offset:this.twa,size:this.uqa}};a[fa.ofa]={offset:this.phb,size:this.Cgb};this.u.offset-this.startOffset<=this.length-24&&(this.ohb=this.u.ph(),this.tgb=this.u.fb(),this.nhb=this.u.ph(),this.rgb=this.u.fb(),a[fa.dY]={offset:this.ohb,size:this.tgb},a[fa.bY]={offset:this.nhb,size:this.rgb});this.u.Aya(a);return!0;};l.prototype=new ga();l.prototype.constructor=l;l.prototype.parse=function(){var a,d,f;this.Ie();1<=this.version&&(this.gqa=this.u.CG());a=this.u.fb();this.Yb={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.u.AG();"uuid"===d&&(d=this.u.CG());f=this.u.ph();this.Yb[d]={offset:b,size:f};b+=f;}this.u.Aya(this.Yb);return!0;};f.prototype=new ga();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.Ie();1===this.version?(this.u.ph(),this.u.ph(),this.ha=this.u.fb(),this.duration=this.u.ph()):(this.u.fb(),this.u.fb(),this.ha=this.u.fb(),this.duration=this.u.fb());a=this.u.lf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.u.dx({ha:this.ha});return!0;};p.prototype=new ga();p.prototype.constructor=p;p.prototype.zUa=function(){this.Ie();this.u.fb();this.ha=this.u.fb();this.eU=this.eU.wo(this.ha);0===this.version?(this.R2=this.u.fb(),this.E3=this.u.fb()):(this.R2=this.u.ph(),this.E3=this.u.ph());this.emb=this.u.lf();this.v9=this.u.lf();};p.prototype.parse=function(a){var b,c,d,f,g,h,l,m;this.zUa();b=this.ha;c=a.Ka&&a.Ka.ha||b;d=c/b;f=this.startOffset+this.length+this.E3;g=this.u.config.truncate&&60<this.v9;h=g?60:this.v9;l=this.u.JO(h,12,!1);m=1===d?this.u.JO(h,12,!1):ta.from(Uint32Array,{length:h},function(){var a;a=Math.round(this.u.fb()*d);this.u.offset+=8;return a;},this);if(this.hE){for(var p=this.hE*c/1E3,k=0,q=1;q<h;q++)Math.abs(m[k]-p)>Math.abs(m[k]+m[q]-p)?(m[k]+=m[q],l[k]+=l[q]):(++k,k!==q&&(m[k]=m[q],l[k]=l[q]));++k;m=new Uint32Array(m.buffer.slice(0,4*k));l=new Uint32Array(l.buffer.slice(0,4*k));}b=new ma(this.R2,b).add(this.eU);h={ha:c,Ol:b.wo(c).sd,offset:f,sizes:l,Qd:m};this.u.dx({Y:h,Es:g});a.Ij=this;return!0;};m.prototype=new ga();m.prototype.constructor=m;m.prototype.parse=function(){for(var a=[],b=(this.length-8)/2,c=0;c<b;c++)a.push(this.u.lf()/100);this.u.dx({fq:a});return!0;};k.prototype=new ga();k.prototype.constructor=k;Object.defineProperties(k.prototype,{WKa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},sMa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});k.prototype.parse=function(a){var b,c;this.Ie();b=this.u.CG();this.u.Hb("parsing pssh box ID = "+b);c=this.u.fb();this.u.Hb("pssh size = 0x"+c.toString(16));c=this.u.data.slice(this.u.offset,this.u.offset+c);a={ctxt:a,header:c};if(b==this.sMa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.WKa)a.type="nflxheader";else return this.u.Hb("Unrecognized pssh systemID: "+b),!0;this.u.Hb("Handling pssh type: "+a.type);this.u.Ia(a.type,a);return!0;};n.prototype=new ga();n.prototype.constructor=n;n.prototype.parse=function(a){var b,c;this.Ie();this.u.fb();if(a=this.zr(a,!0)){b={type:"sampledescriptions",boxes:this.Yb};c=Object.keys(this.Yb);c.length&&this.Yb[c[0]].length&&(this.Yb[c[0]][0]instanceof qa?b.frameDuration=new ma(this.Yb[c[0]][0].tI,this.Yb[c[0]][0].gza):this.Yb[c[0]][0]instanceof w&&(c=this.Yb[c[0]][0].Yb[fa.cY])&&c.length&&(c=c[0].Tc,1E3!==c.MH&&1001!==c.MH||0!==c.zT%1E3?this.u.fa("Unexpected frame rate in NetflixFrameRateBox: "+c.zT+"/"+c.MH):b.frameDuration=new ma(c.MH,c.zT)));this.u.Ia(b.type,b);}return a;};r.prototype=Object.create(qa.prototype);r.prototype.constructor=r;r.prototype.parse=function(a){qa.prototype.parse.call(this,a);if(a=this.zr(a,!0))this.tI=1536;return a;};v.prototype=Object.create(ga.prototype);v.prototype.parse=function(){this.u.yf(2);this.u.yf(5);this.u.yf(3);this.u.yf(3);this.u.JHb(1);this.u.yf(5);this.u.yf(5);return!0;};t.prototype=Object.create(ga.prototype);t.prototype.parse=function(){this.Ygb=this.u.lf()&7;for(var a=0;a<this.Ygb;a++)this.u.yf(2),this.u.yf(5),this.u.yf(5),this.u.yf(3),this.u.Lkb(1),0<this.u.yf(4)?this.u.Lkb(9):this.u.yf(1);return!0;};w.prototype=Object.create(oa.prototype);w.constructor=w;w.prototype.parse=function(a){oa.prototype.parse.call(this,a);this.Tc=this.Np([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{cFb:"int32"},{fJb:"int32"},{offset:32,type:"offset"},{E7a:"int16"},{Z_a:{type:"int8",PXa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return this.zr(a,!0);};D.prototype=Object.create(ga.prototype);D.constructor=D;D.prototype.parse=function(){var a;this.u.Rc();this.SCa=this.u.Rc();this.u.Rc();this.u.Rc();this.u.Rc();this.pAa=this.r_(this.u.Rc()&31);this.r_(this.u.Rc());this.d9=this.pAa.length?this.pAa[0][0]:this.SCa;this.Mka=this.u.offset;this.startOffset+this.length<this.u.offset&&(100===this.EHb||110===this.d9||122===this.d9||144===this.d9)&&(this.u.Rc(),this.u.Rc(),this.r_(this.u.Rc()));a=this.startOffset+this.length-this.Mka;0<a&&this.sj(a,this.Mka);return!0;};D.prototype.r_=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.u.lf(),b.push(this.u.KO(d));return b;};y.prototype=Object.create(ga.prototype);y.constructor=y;y.prototype.parse=function(){this.Ie();this.Omb=this.u.AG();"cenc"==this.Omb&&(this.u.offset-=4,this.u.wla("piff"));this.u.fb();return!0;};P.prototype=new ga();P.prototype.constructor=P;P.prototype.parse=function(a){var b,c;this.Ie();this.u.offset+=4;b=this.u.offset;c=this.u.data.slice(b,b+16);c.toString=E;this.u.Hb("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.u.Ia(a.type,a);return!0;};G.prototype=new ga();G.prototype.constructor=G;G.prototype.parse=function(){this.Ie();this.sl=this.u.lf();this.ffb=this.u.JO(this.sl,void 0,!0);this.u.dx({cv:this.ffb});return!0;};A.prototype=new ga();A.prototype.constructor=A;A.prototype.parse=function(a){var b,c,d,f,g,h;f=a.Ij;ka(f);a=a.Ka;b=f.ha;f=f.v9;ka(a);ka(b);ka(f);this.Ie();ka(2>this.version);this.sl=this.u.lf();this.JD=new Uint16Array(f+1);c=a.V$a(b);g=c/b;h=a.wo(c).sd;if(0===this.version)for(this.$D=new Uint16Array(),this.Fl=new Uint32Array(),a=b=0;a<=f;++a){if(this.JD[a]=b,a<this.sl&&(d=this.u.Rc(),0!==d))for(c=0;c<d;++c,++b)this.$D[b]=Math.floor((this.u.fb()+1)*g)/h,this.Fl[b]=this.u.fb();}else if(1===this.version)for(c=this.u.SUa(this.sl),this.u.offset+=4,this.Fl=this.u.JO(this.sl,10,!1),this.u.offset-=8,this.$D=ta.from(Uint16Array,{length:this.sl},function(){var a;a=Math.floor((this.u.fb()+1)*g)/h;this.u.offset+=6;return a;},this),b=a=0;a<=f;++a){for(;b<c.length&&c[b]<a;)++b;this.JD[a]=b;}this.u.dx({uh:{JD:this.JD,$D:this.$D,Fl:this.Fl}});return!0;};L.prototype=Object.create(b.prototype);L.prototype.constructor=L;L.prototype.parse=function(a){return b.prototype.parse.call(this,a);};O.prototype=Object.create(b.prototype);O.prototype.constructor=O;O.prototype.parse=function(a){if(!b.prototype.parse.call(this,a))return!1;if(a=this.yo("tfhd"))this.jr=a.Ima?a.jr:this.u.Ww.startOffset;return!0;};V.prototype=new ga();V.prototype.constructor=V;V.prototype.parse=function(){var a,b,p,k,d,g;a=this.u;b=a.offset;this.Ie();if(1===this.version){this.u.Hb("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.Rc(),f=a.Rc(),g=a.Rc(),h=a.Rc(),l=a.lf(),m=[],p=0;p<l;++p)m=a.Rc();p=(d&240)>>>4;k=(d&14)>>>1;d=d&1;g=16===g?1:0;f!=h&&this.u.fa("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+h+" should be the same value!");h=2;switch(f){case 1:h=2;break;case 6:h=1;break;case 9:h=5;break;default:this.u.fa("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,p<<4|h);a.view.setUint8(c++,k<<4|g<<1|d);l+=2;m.push(0,0);a.view.setUint16(c,l);c+=2;m.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};F.prototype=new ga();F.prototype.constructor=F;F.kl="tfhd";Object.defineProperties(F.prototype,{Ima:{get:function(){return this.oe&1;}},Gmb:{get:function(){return this.oe&2;}},I3a:{get:function(){return this.oe&8;}},L3a:{get:function(){return this.oe&16;}},J3a:{get:function(){return this.oe&32;}}});F.prototype.parse=function(){this.Ie();this.Gaa=this.u.fb();this.jr=this.Ima?this.u.ph():void 0;this.Gmb&&this.u.fb();this.Lx=this.I3a?this.u.fb():void 0;this.zQ=this.L3a?this.u.fb():void 0;this.yQ=this.J3a?this.u.fb():void 0;return!0;};S.prototype=new ga();S.prototype.constructor=S;S.prototype.parse=function(){this.Ie();this.bH=1===this.version?this.u.ph():this.u.fb();return!0;};S.prototype.Zc=function(a){var b;b=this.startOffset+12;this.bH+=a;1===this.version?this.u.zWa(this.bH,b):this.u.fl(this.bH,!1,b);};U.prototype=new ga();U.prototype.constructor=U;Object.defineProperties(U.prototype,{Eoa:{get:function(){return this.oe&1;}},G3:{get:function(){return this.oe&4;}},zU:{get:function(){return this.oe&256;}},AU:{get:function(){return this.oe&512;}},fza:{get:function(){return this.oe&1024;}},X9:{get:function(){return this.oe&2048;}}});U.prototype.parse=function(){this.Ie();this.Qma=this.u.offset;this.Dd=this.u.fb();this.Ar=this.Eoa?this.u.s_():0;this.G3&&this.u.fb();this.KK=(this.zU?4:0)+(this.AU?4:0)+(this.fza?4:0)+(this.X9?4:0);this.lR=this.u.offset;ka(this.Eoa,"Expected data offset to be present in Track Run");ka(this.length-(this.u.offset-this.startOffset)===this.Dd*this.KK,"Expected remaining data in box to be sample information");return!0;};U.prototype.BG=function(a,b,c){var d,f,g;d=this.zU?this.u.fb():a.Lx;f=this.AU?this.u.fb():a.zQ;a=this.fza?this.u.fb():a.yQ;g=0===this.version?this.X9?this.u.fb():0:this.X9?this.u.s_():0;return{Fmb:g,jIb:a,zHb:c+g-(void 0!==b?b:g),rs:f,LK:d};};U.prototype.Zc=function(a,b,c,d,f,g,h){var l,m,p,k;l=0;m=0;this.u.offset=this.lR;for(d=0;d<f;++d)k=this.BG(b,p,m),0==d&&(p=k.Fmb),l+=k.rs,m+=k.LK;d=f;f=this.u.offset;k=this.BG(b,p,m);this.lE=d;this.Job=m;if(h){if(this.TD=this.Ar+l,this.ms=0,d===this.Dd)return!0;}else if(this.TD=this.Ar,this.ms=l,0===d)return!0;if(0===d||d===this.Dd)return!1;this.Apa=!0;if(h){this.ms+=k.rs;for(h=d+1;h<this.Dd;++h)k=this.BG(b,p,m),this.ms+=k.rs;this.u.offset=this.Qma;this.Dd=d;this.u.fl(this.Dd);this.u.xO(g);this.G3&&(this.u.offset+=4);this.sj(this.length-(f-this.startOffset),f);}else b=f-this.lR,this.u.offset=this.Qma,this.Dd-=d,this.u.fl(this.Dd),this.Ar+=l,this.u.xO(g),this.u.xla(this.Ar),this.G3&&(this.u.offset+=4),this.sj(b,this.u.offset);c.sj(this.ms,a.jr+this.TD);return!0;};U.prototype.Tlb=function(a,b,c,d,f,g){var l;if(d){d=this.TD;for(var h=this.Dd-1;0<=h&&this.Dd-h<=f;--h){this.u.offset=this.lR+h*this.KK;l=this.BG(b);if(l.LK!=g.duration){this.u.fa("Could not replace sample of duration "+l.LK+" with silence of duration "+g.duration);break;}if(this.AU)this.u.offset-=this.KK-(this.zU?4:0),this.u.fl(g.vs.byteLength);else if(g.vs.byteLength!==l.rs){this.u.fa("Cannot replace sample with default size with silence of different size");break;}d-=l.rs;c.fB(l.rs,g.vs,a.jr+d);}}else for(d=this.TD+this.ms,h=0;h<this.Dd&&h<f;++h){this.u.offset=this.lR+(h+this.lE)*this.KK;l=this.BG(b);if(l.LK!=g.duration){this.u.fa("Could not replace sample of duration "+l.LK+" with silence of duration "+g.duration);break;}if(this.AU)this.u.offset-=this.KK-(this.zU?4:0),this.u.fl(g.vs.byteLength);else if(g.vs.byteLength!==l.rs){this.u.fa("Cannot replace sample with default size with silence of different size");break;}c.fB(l.rs,g.vs,a.jr+d);d+=l.rs;}};H.prototype=Object.create(ga.prototype);H.prototype.constructor=H;Object.defineProperties(H.prototype,{ux:{get:function(){return this.oe&1;}}});H.prototype.parse=function(){this.Ie();this.ux&&this.u.AG();this.ux&&this.u.fb();this.K3a=this.u.Rc();this.Dd=this.u.fb();this.u.KO(this.Dd);return!0;};H.prototype.Zc=function(a,b){if(a&&0===this.K3a){a=b?this.Dd-a:a;this.u.offset=this.startOffset+13+(this.ux?8:0);this.Dd-=a;this.u.fl(this.Dd);this.V9=0;if(b)this.u.offset+=this.Dd;else{for(b=0;b<a;++b)this.V9+=this.u.Rc();this.u.offset-=a;}this.sj(a,this.u.offset);}return!0;};R.prototype=Object.create(ga.prototype);R.prototype.constructor=R;Object.defineProperties(R.prototype,{ux:{get:function(){return this.oe&1;}}});R.prototype.parse=function(){this.Ie();this.ux&&this.u.AG();this.ux&&this.u.fb();this.sl=this.u.fb();ka(1===this.sl,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Ar=0===this.version?this.u.s_():this.u.UUa();return!0;};R.prototype.Zc=function(a,b){this.Ar+=a;this.u.offset=this.startOffset+16+(this.ux?8:0)+(0===this.version?0:4);this.u.xO(b);this.u.xla(this.Ar);return!0;};aa.prototype=Object.create(ga.prototype);aa.prototype.constructor=aa;Object.defineProperties(aa.prototype,{Qwa:{get:function(){return this.oe&1;}},gsb:{get:function(){return this.oe&2;}}});aa.prototype.parse=function(){this.Ie();this.Qwa&&(this.u.fb(),this.Wcb=this.u.KO(16));this.Dd=this.u.fb();return!0;};aa.prototype.Zc=function(a,b){var c,d;c=b?this.Dd-a:a;this.u.offset=this.startOffset+28+(this.Qwa?20:0);this.Dd-=c;this.u.fl(this.Dd);a=this.u.offset;if(this.gsb)for(c=b?this.Dd:c;0<c;--c){this.u.offset+=8;d=this.u.lf();this.u.offset+=6*d;}else this.u.offset+=8*(b?this.Dd:c);b?this.sj(this.length-(this.u.offset-this.startOffset),this.u.offset):this.sj(this.u.offset-a,a);};ca.prototype=Object.create(ga.prototype);ca.prototype.constructor=ca;ca.prototype.parse=function(){this.Ie();return!0;};ca.prototype.Zc=function(a,b,c){c?this.sj(b-a,this.startOffset+12+a):this.sj(a,this.startOffset+12);return!0;};Z.prototype=Object.create(ga.prototype);Z.prototype.constructor=Z;Z.prototype.parse=function(){this.Ie();this.u.AG();1===this.version&&this.u.fb();this.sl=this.u.fb();this.MK=[];for(var a=0;a<this.sl;++a)for(var b=this.u.fb(),c=this.u.fb(),d=0;d<b;++d)this.MK.push(c);return!0;};Z.prototype.Zc=function(a,b){this.MK=b?this.MK.slice(0,a):this.MK.slice(a);a=this.MK.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.u.offset=this.startOffset+16+(1===this.version?4:0);this.u.fl(a.length);a.forEach(function(a){this.u.fl(a.count);this.u.fl(a.group);}.bind(this));this.sl>a.length&&this.sj(8*(this.sl-a.length));this.sl=a.length;return!0;};Q.prototype=Object.create(ga.prototype);Q.prototype.constructor=Q;Q.prototype.parse=function(){return!0;};Ta={Yb:{moov:c,trak:b,mdia:b,mdhd:f,minf:b,pssh:k,encv:w,schi:b,sidx:p,sinf:b,stbl:b,stsd:n,tenc:P,mvex:b,moof:L,traf:O,tfhd:F,trun:U,sbgp:Z,sdtp:ca,saiz:H,saio:R,tfdt:S,mdat:Q,vmaf:m},erb:{vpcC:V,SmDm:X("smdm"),CoLL:X("coll")},Zqb:{avcC:D,schm:y},W9:{"ac-3":r,"ec-3":r,dac3:v,dec3:t,avc1:w,avc3:w,avc2:w,avc4:w,hvc1:w,hev1:w},su:{base:hb}};[na,ba,ea,d,ha,ja,ia,a].forEach(function(a){Ta.Yb[a.kl]=a;});[ua,mb].forEach(function(a){Ta.W9[a.kl]=a;});[sb,Qa,cb].forEach(function(a){Ta.su[a.tag]=a;});Ta.Yb[fa.UKa]=h;Ta.Yb[fa.VKa]=l;Ta.Yb[fa.OLa]=P;Ta.Yb[fa.dY]=G;Ta.Yb[fa.bY]=A;Ta.Yb[fa.Kfa]=aa;Ta.W9[fa.cY]=va;Ta.Wba=ga;g.M=Ta;},function(g,d,a){(function(){var L8K,G,A,L,O,X,V,F,S,U,H,R,aa,ca,Z,Q,ka,fa,ma,ta,ga,ba,ea,ha,ja,ia,na,oa,qa,ua,p4y,C4y,r4y,J4y,W9r;function y(a){var m1K,b;m1K=2;while(m1K!==9){switch(m1K){case 2:b=E(a);b.timescale=a.ha;m1K=4;break;case 4:b.frameDuration=a.stream.Ka&&a.stream.Ka.sd;return b;break;}}}function n(a,b){var k1K,c,d,N9r,B9r;k1K=2;while(k1K!==9){N9r=" movi";N9r+="eId";N9r+=": ";B9r="Failed to load data from disk becaus";B9r+="e the AseStr";B9r+="eam ";B9r+="was missing from the stream ma";B9r+="p streamId: ";switch(k1K){case 2:c=this.Gb[b.R];k1K=5;break;case 5:k1K=c?4:9;break;case 4:d=parseInt(b.P);(a=a&&a[d]?a[d].Pl:{})&&a[b.Xa]?(a=a[b.Xa],b.Y&&a.BT(b.ha,b.Ka?new ca(b.Ka,b.ha):void 0,b.Y),b.Ac&&a&&a.Mc?(c=new S(a,{Z:b.Z,offset:b.offset,Vn:b.Vn,Ne:b.Ne,Ny:void 0,Es:!1},this),this.iia(c)):b.response instanceof ArrayBuffer&&(b=new H(a,b,b.response),c.data||(c.data={}),c.data[b.Xa]||(c.data[b.Xa]=[]),c.data[b.Xa].push(b))):oa(B9r+b.Xa+N9r+b.R);k1K=9;break;}}}function P(a){var i1K,b;i1K=2;while(i1K!==3){switch(i1K){case 4:return b;break;case 2:b={Ac:a.isHeader,P:a.mediaType,R:a.movieId,Xa:a.streamId,O:a.bitrate,location:a.location,ad:a.serverId,Z:a.bytes,offset:a.offset,Vn:a.headerData,Y:a.fragments,Ne:a.drmHeader,response:a.response,ha:a.timescale,Ka:a.frameDuration,Ib:a.startTicks,zh:a.durationTicks,Nb:a.startTicks+a.durationTicks,Ud:a.saveToDisk};!b.Y||b.Y instanceof ArrayBuffer||(b.Y.Ol=b.Y.startTicks,b.Y.offset=b.Y.offset,b.Y.ha=b.Y.timescale,b.Y.sizes=new Uint32Array(a.sizes),b.Y.Qd=new Uint32Array(a.durations));i1K=4;break;}}}function f(a){var X8K,b;X8K=2;while(X8K!==3){switch(X8K){case 2:b=0;X8K=5;break;case 8:b=1;X8K=3;break;X8K=5;break;case 5:G.forEach(a,function(a){var Z8K;Z8K=2;while(Z8K!==1){switch(Z8K){case 2:G.forEach(a.streams,function(a){var n8K;n8K=2;while(n8K!==1){switch(n8K){case 2:b=Math.max(b,a.bitrate);n8K=1;break;}}});Z8K=1;break;}}});return b;break;}}}function E(a){var e1K;e1K=2;while(e1K!==1){switch(e1K){case 2:return{mediaType:a.P,streamId:a.Xa,movieId:a.R,bitrate:a.O,location:a.location,serverId:a.ad,saveToDisk:a.Ud,offset:a.offset,bytes:a.Z,startTicks:a.Ib,durationTicks:a.zh,timescale:a.ha};break;}}}function t(a){var Z1K,b,c,d;Z1K=2;while(Z1K!==10){switch(Z1K){case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].P]={Xa:c,tk:a.headers[c],data:d});}b.vm=a.vm;Z1K=9;break;case 2:b=[];Z1K=5;break;case 9:b.Pr=a.Pr;b.cc=a.cc;b.ul=a.ul;b.Xn=a.Xn;Z1K=14;break;case 5:Z1K=a&&a.data?4:10;break;case 14:b.Jm=a.Jm;b.zl=a.zl;b.uk=a.uk;return b;break;}}}function D(a){var D1K;D1K=2;while(D1K!==1){switch(D1K){case 2:return{Cd:a.priority,R:a.movieId,headers:a.headers,Pr:0,DH:0,ZR:0,Ud:a.saveToDisk,cc:a.stats,ul:a.firstSelectedStreamBitrate,Xn:a.initSelectionReason,Jm:a.histDiscountedThroughputValue,uk:a.histTdigest,zl:a.histAge};break;}}}function l(a,b,c,g,h,l,m){var c8K,p,k,q,n,u,o9r,Q9r;c8K=2;while(c8K!==10){o9r="Unable to find requested a";o9r+="udio track in manife";o9r+="st:";Q9r="Unable to find";Q9r+=" audio ";Q9r+="nor vid";Q9r+="eo tracks in ma";Q9r+="nifest:";switch(c8K){case 6:c8K=G.V(n)&&G.V(u)?14:13;break;case 14:oa(Q9r,g);c8K=10;break;case 2:p=c.video_tracks;k=f(c.audio_tracks);c8K=4;break;case 12:oa(o9r,g);c8K=10;break;case 11:return[].concat(n||[]).concat(u||[]);break;case 4:q=f(c.video_tracks);a=a.Cj(k,q);b.ac.buffer.iu=a[ba.G.VIDEO];p.some(function(a,f){var V8K;V8K=2;while(V8K!==5){switch(V8K){case 1:return n=d(c,b,ba.G.VIDEO,f,h,l,k,m),!0;break;case 2:V8K=!a.stereo?1:5;break;case 3:V8K=+a.stereo?4:6;break;V8K=!a.stereo?1:5;break;}}});c.audio_tracks.some(function(a,f){var M8K;M8K=2;while(M8K!==5){switch(M8K){case 2:M8K=a.track_id==g?1:5;break;case 3:M8K=a.track_id===g?2:6;break;M8K=a.track_id==g?1:5;break;case 1:return u=d(c,b,ba.G.AUDIO,f,h,l,k,m),!0;break;}}});c8K=6;break;case 13:c8K=G.V(u)&&g?12:11;break;}}}function c(a,b,c,d,f){var U8K,q9r,l9r;U8K=2;while(U8K!==8){q9r="up";q9r+="dateStreamSelectio";q9r+="n returned ";q9r+="null lis";q9r+="t";l9r="selectStre";l9r+="am ";l9r+="retur";l9r+="ned ";l9r+="null";switch(U8K){case 1:d=O(d,f);U8K=5;break;case 5:U8K=(a=a.stream[c?1:0].n$(a.ac,b,void 0,c?d.Bxa:d.Axa))?4:3;break;case 4:return c=b[a.Ed],c.Xn=a.reason,c.Jm=a.Qr,c.$ab=a.zl,c.bS=a.uk,c;break;case 2:U8K=(b=a.location.HV(a.ac,b))?1:9;break;case 3:oa(l9r);U8K=8;break;case 9:oa(q9r);U8K=8;break;}}}function m(a,b){var f1K,c;f1K=2;while(f1K!==4){switch(f1K){case 2:c=Object.keys(a).map(function(c){var g1K;g1K=2;while(g1K!==1){switch(g1K){case 2:return Z.resolve(a[c]).then(k.bind(this,b));break;}}}.bind(this));return Z.all(c).then(function(a){var o1K;o1K=2;while(o1K!==1){switch(o1K){case 2:a.sort(function(a,b){var Y1K;Y1K=2;while(Y1K!==1){switch(Y1K){case 2:return a.Ac===b.Ac?0:a.Ac?-1:1;break;}}}).map(n.bind(this,b));o1K=1;break;}}}.bind(this));break;}}}function v(a,b,c,d){var U1K;U1K=2;while(U1K!==23){switch(U1K){case 8:this.sG=b.wQ;this.jx=[];U1K=6;break;case 2:this.$a=a;this.km=Object.create(null);this.pm=b;this.Gb=Object.create(null);this.kt=0;this.tg=[];U1K=8;break;case 6:this.YN=!1;this.OA=[];this.cx={};this.on=this.addEventListener=ma.addEventListener;this.removeEventListener=ma.removeEventListener;U1K=10;break;case 10:this.emit=this.Ia=ma.Ia;this.QSa=p.bind(this);this.Qt=(this.pm.Nz||this.pm.WBa)&&0<(this.pm.bC||(L.options||{}).bT||0);this.WRa=this.pm.HDb;this.un=this.pm.rfb;this.eTa=this.pm.ofb;U1K=15;break;case 15:this.Zja=!1;this.Qg=this.$Z=void 0;this.Qt&&(this.pm.bC||(this.pm.bC=(L.options||{}).bT||0),this.Et=new Z(function(a,b){var V1K;V1K=2;while(V1K!==1){switch(V1K){case 2:(void 0!==d?d.eta:function(a){var M1K;M1K=2;while(M1K!==1){switch(M1K){case 2:return ga.eta(L,this.pm,a);break;case 4:return ga.eta(L,this.pm,a);break;M1K=1;break;}}}.bind(this))(function(c){var X1K,t9r;X1K=2;while(X1K!==4){t9r="Med";t9r+="ia cache did not ini";t9r+="tialize";switch(X1K){case 2:this.Qg=c;this.Zja=c.Lm;(this.$Z=c.iy)?b(this.$Z):this.Zja?(r(this.Qg,this),a()):b(Error(t9r));X1K=4;break;}}}.bind(this));V1K=1;break;}}}.bind(this)));this.Wj=c;U1K=24;break;case 24:aa.call(this);U1K=23;break;}}}L8K=2;while(L8K!==85){p4y="m";p4y+="edia|";p4y+="asejs";C4y="ME";C4y+="DIACA";C4y+="C";C4y+="H";C4y+="E";r4y="media|";r4y+="asej";r4y+="s";J4y="H";J4y+="EADE";J4y+="RCACH";J4y+="E";W9r="1S";W9r+="I";W9r+="YbZ";W9r+="rNJ";W9r+="Cp9";switch(L8K){case 2:G=a(11);A=a(14);L=a(8);O=a(369);a(205);X=a(365);V=a(204).dW;L8K=6;break;case 50:v.prototype.list=function(){var u3K;u3K=2;while(u3K!==1){switch(u3K){case 2:return this.tg;break;case 4:return this.tg;break;u3K=1;break;}}};v.prototype.Uza=function(a){var O3K;O3K=2;while(O3K!==1){switch(O3K){case 2:this.sG!=a&&(this.sG=a,this.NN());O3K=1;break;}}};v.prototype.WSa=function(a){var I3K,b;I3K=2;while(I3K!==4){switch(I3K){case 2:b=G.V(a)?"":a.toString();return new Z(function(a){var b3K,E3K;b3K=2;while(b3K!==4){switch(b3K){case 2:b3K=G.V(this.Qg)?1:5;break;case 9:b3K=G.V(this.Qg)?9:3;break;b3K=G.V(this.Qg)?1:5;break;case 8:a({});b3K=2;break;b3K=4;break;case 5:try{E3K=2;while(E3K!==1){switch(E3K){case 2:this.Qg.gz("",function(c){var J3K;J3K=2;while(J3K!==5){switch(J3K){case 2:c=c.filter(function(a){var S3K,S9r;S3K=2;while(S3K!==5){S9r="movi";S9r+="eE";S9r+="ntry";switch(S3K){case 2:a=a.split(".");return b&&(b===a[0]||S9r===a[0]&&b===a[1]);break;}}}.bind(this)).reduce(function(a,b){var d3K,c,b9r;d3K=2;while(d3K!==3){b9r="mo";b9r+="vieEn";b9r+="try";switch(d3K){case 4:return a;break;case 2:c=b.split(".");b9r!==c[0]&&(b=c[1],c=c[2],G.V(a[b])&&(a[b]={}),G.V(a[b][c])&&(a[b][c]=!0));d3K=4;break;}}},{});a(c);J3K=5;break;}}}.bind(this));E3K=1;break;}}}catch(Qa){a({});}b3K=4;break;case 1:a({});b3K=4;break;}}}.bind(this));break;}}};v.prototype.W6=function(a,b){var A3K;A3K=2;while(A3K!==4){switch(A3K){case 2:A3K=(a=this.Gb[a])?1:4;break;case 9:A3K=(a=this.Gb[a])?9:1;break;A3K=(a=this.Gb[a])?1:4;break;case 5:return b;break;case 1:A3K=(b=a.headers[b])?5:4;break;}}};v.prototype.reb=function(a,b){var j3K,c;j3K=2;while(j3K!==4){switch(j3K){case 2:c=this.vua(a);return c||!this.Qt?Z.resolve(c):(this.un?this.RSa(a,b):this.QSa(a,b)).then(function(a){var k3K;k3K=2;while(k3K!==1){switch(k3K){case 4:return t(a);break;k3K=1;break;case 2:return t(a);break;}}});break;}}};v.prototype.vua=function(a){var G3K;G3K=2;while(G3K!==1){switch(G3K){case 2:return t(this.Gb[a]);break;case 4:return t(this.Gb[a]);break;G3K=1;break;}}};v.prototype.vy=function(){var q3K,i9r;q3K=2;while(q3K!==1){i9r="Medi";i9r+="a cac";i9r+="he is ";i9r+="not enabled";switch(q3K){case 2:return this.Et?this.Et.then(function(){var F3K;F3K=2;while(F3K!==1){switch(F3K){case 2:return new Z(function(a){var B3K,a9r;B3K=2;while(B3K!==1){a9r="mo";a9r+="vi";a9r+="e";a9r+="E";a9r+="ntry";switch(B3K){case 2:this.Qg.gz(a9r,function(b){var R3K,c;R3K=2;while(R3K!==8){switch(R3K){case 4:c=[];b.forEach(function(a){var L3K;L3K=2;while(L3K!==1){switch(L3K){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);L3K=1;break;}}});a(c);R3K=8;break;case 1:R3K=!b||0>=b.length?5:4;break;case 5:a([]);R3K=8;break;case 2:R3K=1;break;}}});B3K=1;break;}}}.bind(this));break;}}}.bind(this)):Z.reject(i9r);break;}}};v.prototype.xqa=function(){var t3K,c,d,f,g,h,y9r,E9r;t3K=2;function a(a){var U3K;U3K=2;while(U3K!==1){switch(U3K){case 2:a.una();U3K=1;break;case 4:a.una();U3K=2;break;U3K=1;break;}}}while(t3K!==3){switch(t3K){case 2:c=0;for(h in this.Gb)if(f=this.Gb[h],f.data){d=!1;for(var l in f.data){y9r="in en";y9r+="tr";y9r+="y:";E9r="missing headerEnt";E9r+="ry for stream";E9r+="Id:";(g=f.headers[l])||qa(E9r,l,y9r,f);G.V(void 0)||!g||void 0===g.P?((G.V(void 0)||void 0!=l)&&b(f,l),f.data[l].forEach(a),delete f.data[l]):d=!0;}d||delete f.data;}this.bVa(c);t3K=3;break;}}function b(a,b){var x3K;x3K=2;while(x3K!==1){switch(x3K){case 2:a.data[b].forEach(function(a){var K3K;K3K=2;while(K3K!==5){switch(K3K){case 2:a.abort(ua);c+=a.Be;K3K=5;break;}}});x3K=1;break;}}}};L8K=63;break;case 30:qa=Q.error.bind(Q);ua={onabort:function(){},onerror:function(){}};v.prototype=Object.create(aa.prototype);v.prototype.constructor=v;Object.defineProperties(v.prototype,{cache:{get:function(){var l1K;l1K=2;while(l1K!==1){switch(l1K){case 4:return this.Gb;break;l1K=1;break;case 2:return this.Gb;break;}}}}});v.prototype.Hb=fa;v.prototype.fa=oa;v.prototype.Rb=qa;L8K=39;break;case 55:v.prototype.bVa=function(a){var l3K,u9r;l3K=2;while(l3K!==1){u9r="flush";u9r+="e";u9r+="dB";u9r+="ytes";switch(l3K){case 2:0!==a&&(a={type:u9r,bytes:a},this.Ia(a.type,a));l3K=1;break;}}};v.prototype.ZUa=function(a){var P3K,f9r;P3K=2;while(P3K!==5){f9r="cac";f9r+="heEv";f9r+="ic";f9r+="t";switch(P3K){case 2:a={type:f9r,movieId:a};this.Ia(a.type,a);P3K=5;break;}}};v.prototype.Ty=function(a){var Q3K,b;Q3K=2;while(Q3K!==4){switch(Q3K){case 2:b=this.Gb[a.R];b&&(a.Ac?G.V(b.cc.Asa)&&(b.cc.Asa=a.Gf):G.V(b.cc.LD)&&(b.cc.LD=a.Gf));Q3K=4;break;}}};v.prototype.ji=function(a){var r3K;r3K=2;while(r3K!==1){switch(r3K){case 2:a.Ac?this.Shb(a):this.Uhb(a);r3K=1;break;}}};v.prototype.Shb=function(a){var T5K;T5K=2;while(T5K!==3){switch(T5K){case 4:this.hVa(a,function(){var h5K;h5K=2;while(h5K!==5){switch(h5K){case 2:a.Wr.ZR--;this.rZ(a);h5K=5;break;}}}.bind(this));T5K=3;break;case 2:a.uqb=a.pd;this.iia(a);a.YR(a.uqb);T5K=4;break;}}};v.prototype.Uhb=function(a){var W5K,b,c,d,f,g,h,l,m,U9r,x9r,g9r,n9r,I9r,v9r,H9r,d9r,D9r;W5K=2;while(W5K!==15){U9r=".re";U9r+="sp";U9r+="onse";x9r=".d";x9r+="rmHe";x9r+="ader";g9r=".heade";g9r+="r";g9r+="Da";g9r+="ta";n9r=".m";n9r+="e";n9r+="tadat";n9r+="a";I9r="m";I9r+="an";I9r+="age";I9r+="rdebug";I9r+="event";v9r=", ";v9r+="rem";v9r+="ainin";v9r+="g: ";H9r=",";H9r+=" ";H9r+="pts:";H9r+=" ";d9r=",";d9r+=" stream";d9r+="Id";d9r+=":";d9r+=" ";D9r=", h";D9r+="eade";D9r+="rCach";D9r+="e dataComplete: movieI";D9r+="d: ";switch(W5K){case 5:c=this.Gb[b]||a.Wr;W5K=4;break;case 4:W5K=c?3:15;break;case 3:this.pm.Oe&&(b="@"+L.time.ca()+D9r+b+d9r+a.Xa+H9r+a.U+v9r+(c.DH-1),this.Ia(I9r,{message:b}));d=function(){var N5K;N5K=2;while(N5K!==5){switch(N5K){case 2:--c.DH;this.rZ(a);N5K=5;break;}}}.bind(this);W5K=8;break;case 2:b=a.R;W5K=5;break;case 7:b=a.response;f=a.Vn;g=a.Ne;h=L.time.ca();W5K=12;break;case 8:W5K=a.Ud&&0===a.responseType&&this.Qt&&!this.un?7:16;break;case 12:l=[a.R,a.Xa,a.Kc].join(".");m={};q8ff.e9r(0);m[q8ff.p9r(n9r,l)]={ej:E(a),Bc:ia};G.V(f)||(m[l+g9r]={ej:f,Bc:ia});G.V(g)||(m[l+x9r]={ej:g,Bc:ia});G.V(b)||(m[l+U9r]={ej:b,Bc:ia});this.Qg.iza(m,function(a){var C5K;C5K=2;while(C5K!==5){switch(C5K){case 2:a||(a=L.time.ca()-h,c.cc.CL+=a);d();C5K=5;break;}}}.bind(this));W5K=15;break;case 16:d();W5K=15;break;}}};v.prototype.AD=function(a){var H5K,F9r;H5K=2;while(H5K!==5){F9r="_on";F9r+="Er";F9r+="r";F9r+="or: ";switch(H5K){case 2:oa(F9r,a.toString());this.rZ(a);H5K=5;break;}}};v.prototype.nVa=function(a,b){var v2b=q8ff;var w5K,c,d,f,g,h,m9r,K9r,M9r,A9r,z9r,R9r,h9r;w5K=2;while(w5K!==16){m9r=".";m9r+="s";m9r+="iz";m9r+="es";K9r=".";K9r+="fr";K9r+="ag";K9r+="men";K9r+="ts";M9r=".d";M9r+="ur";M9r+="ations";A9r=".d";A9r+="r";A9r+="mHeade";A9r+="r";z9r=".headerDa";z9r+="t";z9r+="a";R9r=".";R9r+="met";R9r+="a";R9r+="d";R9r+="ata";h9r="he";h9r+="a";h9r+="d";h9r+="e";h9r+="r";switch(w5K){case 2:w5K=1;break;case 1:w5K=!a.Ud||!this.Qt||a.rD[a.Xa]&&a.rD[a.Xa].header?5:4;break;case 12:w5K=a.stream.Mc?11:17;break;case 4:c=[a.R,a.Xa,h9r].join(".");d=L.time.ca();f=y(a);w5K=8;break;case 8:g={};v2b.e9r(0);g[v2b.p9r(R9r,c)]={ej:f,Bc:ia};v2b.e9r(0);g[v2b.p9r(z9r,c)]={ej:a.Vn,Bc:ia};f=a.Ne||a.Ny;G.V(f)||(g[c+A9r]={ej:f,Bc:ia});w5K=12;break;case 18:v2b.e9r(0);g[v2b.C9r(M9r,c)]={ej:h.Qd.buffer,Bc:ia};w5K=17;break;case 5:b();w5K=16;break;case 17:this.Qg.iza(g,function(c){var f5K;f5K=2;while(f5K!==5){switch(f5K){case 2:c||(c=L.time.ca()-d,a.Wr.cc.CL+=c);b();f5K=5;break;}}});w5K=16;break;case 11:f={timescale:a.stream.Y.ha,startTicks:a.stream.Y.Ol,offset:a.stream.Y.Fl(0)};h=a.stream.Y.iE;v2b.V9r(0);g[v2b.C9r(K9r,c)]={ej:f,Bc:ia};v2b.e9r(0);g[v2b.p9r(m9r,c)]={ej:h.sizes.buffer,Bc:ia};w5K=18;break;}}};L8K=70;break;case 87:g.M=v;W9r;L8K=85;break;case 6:F=a(364).Lba;a(82);S=a(362).cW;U=a(361).Kba;H=a(710).fDa;R=a(356).Iba;aa=a(94);ca=a(74).ec;L8K=18;break;case 23:ea=a(353);ha=a(352).yw;ja=L.Vz;a(27);ia={lifespan:259200};fa=Q.trace.bind(Q);na=ka.trace.bind(ka);oa=Q.warn.bind(Q);L8K=30;break;case 70:v.prototype.hVa=function(a,b){var g5K,c;g5K=2;while(g5K!==9){switch(g5K){case 2:c=a.config;G.V(a.Eya)||this.MO(a,a.Eya);g5K=4;break;case 4:a.Ud&&!this.un?this.nVa(a,b):b();c.JV||0!==Object.keys(this.km).length||this.Xia();g5K=9;break;}}};v.prototype.tVa=function(a,b){var o5K,P9r;o5K=2;while(o5K!==4){P9r="prebuffs";P9r+="tat";P9r+="s";switch(o5K){case 5:this.Ia(a.type,a);o5K=4;break;case 7:this.Ia(a.type,a);o5K=0;break;o5K=4;break;case 2:a.cc.lK=b;a={type:P9r,movieId:a.R,stats:{prebuffstarted:a.cc.LD,prebuffcomplete:a.cc.lK}};o5K=5;break;}}};v.prototype.iB=function(a,b){var Y5K,c,L9r,Z9r,j9r,w9r;Y5K=2;while(Y5K!==8){L9r="mediac";L9r+="a";L9r+="chelook";L9r+="u";L9r+="p";Z9r="saveto";Z9r+="d";Z9r+="i";Z9r+="s";Z9r+="k";j9r="media";j9r+="ca";j9r+="chestats";w9r="m";w9r+="edi";w9r+="aca";w9r+="c";w9r+="he";switch(Y5K){case 3:c.oneObject=this.un;this.WRa&&this.Ia(w9r,c);Y5K=8;break;case 2:c={type:j9r,operation:a};Z9r===a&&(c.saveTime=b.jza);L9r===a&&(c.lookupTime=b.PS,c.dataFound=b.qQ);Y5K=3;break;}}};v.prototype.pVa=function(a){var y5K,b,c,d,f,g,h,G9r;y5K=2;while(y5K!==16){G9r="b";G9r+="ill";G9r+="bo";G9r+="ar";G9r+="d";switch(y5K){case 1:y5K=this.Gb[a]?5:16;break;case 2:y5K=1;break;case 5:b=L.time.ca();c={};d=this.Gb[a];f=w(d);c.movieEntry=f;y5K=7;break;case 6:g={};Object.keys(d.headers).forEach(function(a){var s5K,b,c,f;s5K=2;while(s5K!==6){switch(s5K){case 3:s5K=b.Ne||b.Ny?9:8;break;case 4:b.Vn&&(c.headerData=b.Vn);s5K=3;break;case 2:b=d.headers[a];c=y(b);s5K=4;break;case 8:b.stream.Mc&&(f={timescale:b.stream.Y.ha,startTicks:b.stream.Y.Ol,offset:b.stream.Y.Fl(0)},b=b.stream.Y.iE,c.fragments=f,c.sizes=b.sizes.buffer,c.durations=b.Qd.buffer);g[a]=c;s5K=6;break;case 9:c.drmHeader=b.Ne||b.Ny;s5K=8;break;}}});y5K=13;break;case 13:c.headers=g;y5K=12;break;case 7:y5K=d.headers?6:12;break;case 11:h={};Object.keys(d.data).forEach(function(a){var v5K,b,c;v5K=2;while(v5K!==3){switch(v5K){case 2:b=d.data[a];c={};b&&(b.forEach(function(a){var a5K,b;a5K=2;while(a5K!==3){switch(a5K){case 2:b=E(a);b.response=a.response;c[a.Kc]=b;a5K=3;break;}}}),h[a]=c);v5K=3;break;}}});y5K=20;break;case 19:f={lifespan:259200};this.eTa&&(f.convertToBinaryData=!0);this.Qg.save(G9r,a,c,f,function(a){var u5K,Y9r;u5K=2;while(u5K!==1){Y9r="saveto";Y9r+="d";Y9r+="is";Y9r+="k";switch(u5K){case 2:a||this.iB(Y9r,{jza:L.time.ca()-b});u5K=1;break;}}}.bind(this));y5K=16;break;case 12:y5K=d.data?11:19;break;case 20:c.data=h;y5K=19;break;}}};v.prototype.Lja=function(a){var O5K,c9r;O5K=2;while(O5K!==1){c9r="Media";c9r+=" cac";c9r+="he is not enabled";switch(O5K){case 2:return this.Et?this.Et.then(function(){var I5K;I5K=2;while(I5K!==1){switch(I5K){case 2:return new Z(function(b){var b5K;b5K=2;while(b5K!==1){switch(b5K){case 2:this.Qg.gz(a.toString(),function(c){var E5K;E5K=2;while(E5K!==1){switch(E5K){case 2:c&&0!==c.length?1===c.length&&c[0]===a.toString()?b(!0):b(!1):b(!1);E5K=1;break;}}}.bind(this));b5K=1;break;}}}.bind(this));break;}}}.bind(this)):Z.reject(c9r);break;}}};v.prototype.TUa=function(a,c,d){var J5K;J5K=2;while(J5K!==1){switch(J5K){case 2:return new Z(function(f,g){var S5K,X9r;S5K=2;while(S5K!==1){X9r="b";X9r+="i";X9r+="llboa";X9r+="rd";switch(S5K){case 2:this.Qg.read(X9r,a,function(h,l){var d5K,s9r;d5K=2;while(d5K!==1){s9r="mediac";s9r+="a";s9r+="chelo";s9r+="okup";switch(d5K){case 2:h?g(h):(l=l[a],l.movieEntry&&(h=D(l.movieEntry),this.Gb[a]=h,++this.kt,this.NN(),this.tg.push(h),this.tg.sort(b),l.headers&&Object.keys(l.headers).forEach(function(a){var A5K;A5K=2;while(A5K!==3){switch(A5K){case 2:a=l.headers[a];a.isHeader=!0;A5K=5;break;case 5:a=P(a);n.call(this,c,a);A5K=3;break;}}}.bind(this)),l.data&&Object.keys(l.data).forEach(function(a){var j5K;j5K=2;while(j5K!==1){switch(j5K){case 2:Object.keys(l.data[a]).forEach(function(b){var k5K;k5K=2;while(k5K!==5){switch(k5K){case 2:b=P(l.data[a][b]);n.call(this,c,b);k5K=5;break;}}}.bind(this));j5K=1;break;}}}.bind(this)),this.Gb[a]&&G.pe(this.Gb[a].data)&&Object.keys(this.Gb[a].data).forEach(function(b){var G5K;G5K=2;while(G5K!==1){switch(G5K){case 2:this.Gb[a].data[b].sort(function(a,b){var q5K;q5K=2;while(q5K!==1){switch(q5K){case 2:return a.Kc-b.Kc;break;case 4:return a.Kc/b.Kc;break;q5K=1;break;}}});G5K=1;break;}}}.bind(this))),this.iB(s9r,{PS:L.time.ca()-d,qQ:!0}),f(this.Gb[a]));d5K=1;break;}}}.bind(this));S5K=1;break;}}}.bind(this));break;}}};v.prototype.RSa=function(a,b){var F5K,c,T4y;F5K=2;while(F5K!==4){T4y="Medi";T4y+="a";T4y+=" ";T4y+="cac";T4y+="he is not enabled";switch(F5K){case 2:c=L.time.ca();return this.Et?this.Et.then(function(){var B5K;B5K=2;while(B5K!==1){switch(B5K){case 2:return this.Lja(a);break;case 4:return this.Lja(a);break;B5K=1;break;}}}.bind(this)).then(function(d){var R5K,O4y;R5K=2;while(R5K!==5){O4y="me";O4y+="dia";O4y+="cache";O4y+="lo";O4y+="okup";switch(R5K){case 2:R5K=d?1:4;break;case 9:R5K=d?6:6;break;R5K=d?1:4;break;case 1:return this.TUa(a.toString(),b,c);break;case 4:this.iB(O4y,{PS:L.time.ca()-c,qQ:!1});R5K=5;break;}}}.bind(this)):Z.reject(T4y);break;}}};v.prototype.SSa=function(a){var L5K,b;L5K=2;while(L5K!==4){switch(L5K){case 2:b=this.Gb[a];return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Z(function(b){var t5K,c,d;t5K=2;while(t5K!==8){switch(t5K){case 5:d=this.Gb[a];d.headers&&Object.keys(d.headers).forEach(function(a){var U5K;U5K=2;while(U5K!==5){switch(U5K){case 2:c[a]||(c[a]={});c[a].header=!0;U5K=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var x5K;x5K=2;while(x5K!==5){switch(x5K){case 2:c[a]||(c[a]={});d.data[a].forEach(function(b){var K5K;K5K=2;while(K5K!==1){switch(K5K){case 2:c[a][b.Kc]=!0;K5K=1;break;}}});x5K=5;break;}}});t5K=9;break;case 9:return b(c);break;case 2:c={};t5K=5;break;}}}.bind(this)):this.Lja(a).then(function(b){var c5K;c5K=2;while(c5K!==1){switch(c5K){case 2:return b?new Z(function(b,c){var V5K,k4y;V5K=2;while(V5K!==1){k4y="billb";k4y+="o";k4y+="ard";switch(V5K){case 2:this.Qg.read(k4y,a,function(d,f){var M5K,g;M5K=2;while(M5K!==6){switch(M5K){case 4:c(d);M5K=6;break;case 2:f=f[a];M5K=5;break;case 3:g={};M5K=9;break;case 9:f.headers&&Object.keys(f.headers).forEach(function(a){var X5K;X5K=2;while(X5K!==5){switch(X5K){case 2:g[a]||(g[a]={});g[a].header=!0;X5K=5;break;}}});f.data&&Object.keys(f.data).forEach(function(a){var Z5K;Z5K=2;while(Z5K!==5){switch(Z5K){case 2:g[a]||(g[a]={});Object.keys(f.data[a]).forEach(function(b){var n5K;n5K=2;while(n5K!==1){switch(n5K){case 4:g[a][b]=-2;n5K=7;break;n5K=1;break;case 2:g[a][b]=!0;n5K=1;break;}}});Z5K=5;break;}}});b(g);M5K=6;break;case 5:M5K=d?4:3;break;}}}.bind(this));V5K=1;break;}}}.bind(this)):{};break;}}}.bind(this));break;}}};L8K=87;break;case 18:Z=L.Promise;Q=new L.Console(J4y,r4y);ka=new L.Console(C4y,p4y);fa=a(28);ma=fa.EventEmitter;ta=fa.dF;ga=a(706);ba=a(13);L8K=23;break;case 39:v.prototype.Kn=function(){var P1K;P1K=2;while(P1K!==5){switch(P1K){case 3:this.flush();this.Xia();P1K=8;break;P1K=5;break;case 2:this.flush();this.Xia();P1K=5;break;}}};v.prototype.HRa=function(){var Q1K,a;Q1K=2;while(Q1K!==9){switch(Q1K){case 2:Q1K=1;break;case 5:a=this;a.jx=[{type:ba.G.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:ba.G.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(b){var T3K,e4y;T3K=2;while(T3K!==3){e4y="e";e4y+="r";e4y+="r";e4y+="o";e4y+="r";switch(T3K){case 2:b=new ja(b,a.Wj);b.on(e4y,function(){});T3K=5;break;case 5:G.V(b.zc)||b.zc();return b;break;}}});ja.Ag();Q1K=9;break;case 1:Q1K=0===this.jx.length?5:9;break;}}};v.prototype.Xia=function(){var h3K,a;h3K=2;while(h3K!==3){switch(h3K){case 2:a=this.jx;this.jx=[];a.forEach(function(a){var W3K;W3K=2;while(W3K!==5){switch(W3K){case 2:a.removeAllListeners();a.Kn();W3K=5;break;case 3:a.removeAllListeners();a.Kn();W3K=8;break;W3K=5;break;}}});h3K=3;break;}}};v.prototype.RG=function(a,b,c){var N3K,d,f;N3K=2;while(N3K!==7){switch(N3K){case 2:d=this.cx;f=a;N3K=4;break;case 4:N3K=(d[b]=a)?3:9;break;case 9:c&&delete d[b];f?(this.YN=!1,this.XSa()):this.YN=!0;N3K=7;break;case 3:for(var g in d){d.hasOwnProperty(g)&&!1===d[g]&&(f=!1);}N3K=9;break;}}};v.prototype.XSa=function(){var C3K;C3K=2;while(C3K!==1){switch(C3K){case 2:!this.YN&&0<this.OA.length&&(this.OA.forEach(function(a){var H3K;H3K=2;while(H3K!==1){switch(H3K){case 2:this.MO(a.Wab,a.Jb);H3K=1;break;}}}.bind(this)),this.OA=[]);C3K=1;break;}}};v.prototype.Tjb=function(a,c){var w3K,d,f,g,h,N4y,B4y,V4y;w3K=2;while(w3K!==25){N4y="); ignorin";N4y+="g prepare for movieI";N4y+="d: ";B4y="PTS pa";B4y+="ssed to HeaderCache.prepareP is ";B4y+="not undefine";B4y+="d or a positive number (";V4y="A config ";V4y+="must be";V4y+=" pa";V4y+="ssed to prepareP";switch(w3K){case 15:w3K=f>h.j5||this.kt+1>this.sG&&f>this.tg[0].Cd?27:26;break;case 10:w3K=!this.un||!d.Ud?20:17;break;case 6:return Z.reject();break;case 12:d=this.Gb[d];w3K=11;break;case 14:w3K=!G.V(g)&&(!G.ka(g)||0>g)?13:12;break;case 11:w3K=!G.V(d)&&(2<=d.Pr||!h.bI)?10:16;break;case 4:g=c.Jb;A(c.config,V4y);h=c.config;this.Uza(h.wQ);w3K=7;break;case 13:return qa(B4y+g+N4y+d),Z.reject();break;case 17:return Z.resolve();break;case 19:void 0===d.data&&(d.cc.LD=void 0);w3K=18;break;case 26:return this.fVa(a,c);break;case 16:w3K=!c.Ud||!this.Qt||this.un?15:26;break;case 20:w3K=(d.Cd=f,this.tg.sort(b),!G.V(g))?19:17;break;case 18:for(var l in d.headers){!G.V(d.headers[l].url)&&null!==d.headers[l].url&&(void 0===d.data||void 0===d.data[l]||d.data[l].length<h.u2)?this.MO(d.headers[l],g):(G.V(d.headers[l].url)||null===d.headers[l].url)&&void 0!==d.data&&void 0!==d.data[l]&&0<d.data[l].length&&delete d.headers[l];}w3K=17;break;case 7:w3K=h.sfb?6:14;break;case 2:d=c.R;f=c.Cd;w3K=4;break;case 27:return Z.reject();break;}}};v.prototype.fVa=function(a,c){var f3K,d,f,g,h,m,p,k,q,n,u,r,v,x,t,Q4y;f3K=2;while(f3K!==23){Q4y="A conf";Q4y+="ig m";Q4y+="ust be pa";Q4y+="ssed to _request";Q4y+="Header";switch(f3K){case 19:f3K=!n?18:17;break;case 3:h=c.Ud;m=c.H9a();f3K=8;break;case 2:d=c.R;f=c.Cd;g=c.Jb;f3K=3;break;case 8:p=m.Fa;k=m.ai;m=m.CB;A(c.config,Q4y);f3K=13;break;case 13:q=c.config;q=X(q,p);f3K=11;break;case 11:c={stream:[new ha(void 0,q.yma,q),new ha(void 0,q.aaa,q)],location:new ea(null,a.Va,a.sg,!k,q),ac:{state:ba.Ca.Ng,Z5:!0,buffer:{iu:void 0,U:0,nf:0,Ra:0,ol:0,jv:0,Y:[]}}};c.location.NG(p);n=l(a,c,p,m,k,q,Q);f3K=19;break;case 18:return Z.reject();break;case 17:u=this.Gb[d];u||(u={Cd:f,R:d,headers:Object.create(null),Pr:0,ZR:0,DH:0,data:void 0,Ud:h,cc:{}},!u.Ud||this.un?this.Gb[d]=u:u.cc.CL=0,this.tg.push(u),this.tg.sort(b));r=[];q.Uab&&(v=2292+12*Math.ceil(p.duration/2E3));x=this.Qg;t=this.Qt;return(h?this.un?this.SSa(d):this.WSa(d):Z.resolve()).then(function(a){var g3K;g3K=2;while(g3K!==5){switch(g3K){case 2:n.forEach(function(b){var o3K,c;o3K=2;while(o3K!==4){switch(o3K){case 2:c=v?v:q.$R;q.bI&&u.headers[b.Xa]||(G.V(u.ul)&&b.P===ba.G.VIDEO&&(u.ul=b.O,u.Xn=b.Xn,u.Jm=b.Jm,u.zl=b.$ab,u.uk=b.bS),k&&b.P===ba.G.VIDEO&&q.eR?c=q.eR:q.aCa&&b.Ij&&(c=b.Ij.offset+b.Ij.size),b={stream:b,url:b.url,offset:0,Z:c,Ud:h},h&&(u.cc.pfb=!G.V(a)&&0<Object.keys(a).length,b.rD=a),b=this.gVa(b,g,u,q),r.push(b));o3K=4;break;}}}.bind(this));g3K=1;break;case 9:return Z.all(r);break;g3K=5;break;case 1:return Z.all(r);break;}}}.bind(this)).then(function(a){var Y3K;Y3K=2;while(Y3K!==1){switch(Y3K){case 2:return new Z(function(b){var y3K,c,l4y,o4y;y3K=2;while(y3K!==9){l4y="movi";l4y+="e";l4y+="En";l4y+="tr";l4y+="y";o4y="bi";o4y+="llboa";o4y+="rd";switch(y3K){case 2:y3K=1;break;case 1:y3K=t&&h&&!this.un?5:3;break;case 5:c=w(u);x.save(o4y,[l4y,u.R].join("."),c,ia,function(){var s3K;s3K=2;while(s3K!==1){switch(s3K){case 2:b(a);s3K=1;break;case 4:b(a);s3K=2;break;s3K=1;break;}}});y3K=9;break;case 3:b(a);y3K=9;break;}}}.bind(this));break;}}}.bind(this)).then(function(a){var v3K;v3K=2;while(v3K!==3){switch(v3K){case 2:a=Math.max.apply(Math,a);u.cc.mR=u.cc.Asa;u.cc.HS=a;return{firstheadersent:u.cc.mR,lastheadercomplete:u.cc.HS};break;}}});break;}}};v.prototype.flush=function(){var a3K,a,t4y,q4y;a3K=2;while(a3K!==7){t4y="manag";t4y+="er";t4y+="debu";t4y+="gevent";q4y=",";q4y+=" headerCac";q4y+="he flush: ";switch(a3K){case 3:this.kt=0;this.tg=[];this.pm.Oe&&(a="@"+L.time.ca()+q4y,this.Ia(t4y,{message:a}));a3K=7;break;case 2:this.xqa();for(var b in this.km){a=this.km[b];a.abort(ua);}this.Gb=Object.create(null);a3K=3;break;}}};L8K=50;break;case 63:v.prototype.Mia=function(a,b){var c3K,c;c3K=2;while(c3K!==6){switch(c3K){case 3:b.Ud=a.Ud;b.vqb=L.time.ca();b.$Eb=this;return b;break;case 5:2>this.jx.length&&this.HRa();b=void 0===a.U?new U(a.stream,b,this.jx[c],a,this,!0,this):R.create(a.stream,b,this.jx[c],a,this,!0,this);c3K=3;break;case 2:c=a.stream.P;c3K=5;break;}}};v.prototype.rZ=function(a){var V3K,b,S4y;V3K=2;while(V3K!==8){S4y="savet";S4y+="o";S4y+="d";S4y+="i";S4y+="sk";switch(V3K){case 2:a.Ac&&delete this.km[a.Xa];delete a.response;a.Jd();b=this.Gb[a.R]||a.Wr;V3K=9;break;case 9:0===b.ZR&&0===b.DH&&(this.tVa(b,a.pd),b.Ud&&(b.cc.pfb||(this.un?this.pVa(a.R):this.iB(S4y,{jza:b.cc.CL}))));V3K=8;break;}}};v.prototype.gVa=function(a,b,c,d){var M3K,f;M3K=2;while(M3K!==11){switch(M3K){case 8:return Z.reject();break;case 9:M3K=!f.gv()?8:7;break;case 2:f=this.Mia(a,d);f.Eya=b;f.Wr=c;f.rD=a.rD;M3K=9;break;case 7:c.ZR++;this.km[f.Xa]=f;M3K=14;break;case 13:f.YR=a.YR;M3K=11;break;case 14:M3K=a.YR?13:12;break;case 12:return new Z(function(a){var X3K;X3K=2;while(X3K!==1){switch(X3K){case 4:f.YR=a;X3K=4;break;X3K=1;break;case 2:f.YR=a;X3K=1;break;}}});break;}}};v.prototype.fTa=function(a,b,c){var Z3K,d,f;Z3K=2;while(Z3K!==7){switch(Z3K){case 3:return function(a,b){var j2b=q8ff;var n3K;n3K=2;while(n3K!==1){switch(n3K){case 2:j2b.e9r(1);return j2b.p9r(b,d);break;case 4:j2b.e9r(2);return j2b.C9r(d,b);break;n3K=1;break;}}};break;case 4:Z3K=0<d?3:9;break;case 9:f=c.length<a.u2?c.length:a.u2;return function(a){var M2b=q8ff;var D3K;D3K=2;while(D3K!==1){switch(D3K){case 2:M2b.V9r(1);return M2b.C9r(a,f);break;case 4:M2b.e9r(3);return M2b.p9r(a,f);break;D3K=1;break;}}};break;case 2:d=a.v2;b.Ud&&this.Qt&&(a.aT?d=a.aT:a.Wua&&0<a.Wua&&(d=2E3*a.Wua));Z3K=4;break;}}};v.prototype.MO=function(a,b){var z3K,n,g,c,d,f,h,l,m,p,k,q,u4y,y4y,E4y,i4y,a4y,b4y;z3K=2;while(z3K!==48){u4y="managerd";u4y+="e";u4y+="b";u4y+="uge";u4y+="vent";y4y=", s";y4y+="ta";y4y+="rtPts: ";E4y=",";E4y+=" pts:";E4y+=" ";i4y=", s";i4y+="tr";i4y+="ea";i4y+="mId:";i4y+=" ";a4y=", headerCach";a4y+="e requestD";a4y+="ata: movie";a4y+="Id: ";b4y="no proper ";b4y+="frag";b4y+="ment found to request data at pts";switch(z3K){case 28:n=q===ba.G.VIDEO?g.lT:g.eT,g=q===ba.G.VIDEO?g.Zfb:g.Nfb;z3K=44;break;case 21:p.P===ba.G.AUDIO&&!g.pva&&k.Jb<(g.yn&&!g.sx&&f.Gk?Math.floor(f.Gk.af):0)&&(++k.Uc,k.Jb+=p.Ka.af),0<k.Uc&&p.yk(k,!1);z3K=35;break;case 42:z3K=!p.Zc?41:37;break;case 44:z3K=m<l.length&&!c(k,f)?43:49;break;case 14:h=this.Gb[c]||a.Wr;z3K=13;break;case 18:a.P===ba.G.AUDIO&&g.Em&&g.yn&&!g.sx&&f.Gk&&(b=Math.max(f.Y.Nf(0),b+f.Gk.af));z3K=17;break;case 12:z3K=a.P===ba.G.AUDIO?11:18;break;case 23:z3K=k===ba.G.VIDEO&&g.Fr||k===ba.G.AUDIO&&g.Em?22:35;break;case 30:k=f=0;q=p.P;z3K=28;break;case 40:z3K=q<l.length&&(p.Z<n||p.duration<g)?39:37;break;case 19:b=h.vm;z3K=18;break;case 13:z3K=h?12:48;break;case 17:l=a.Y;m=l.Bj(b);z3K=15;break;case 41:q8ff.V9r(0);q=q8ff.C9r(1,m);z3K=40;break;case 15:z3K=-1===m?27:26;break;case 26:p=a.stream.Zg(m);p.Ud=a.Ud;k=a.P;z3K=23;break;case 22:z3K=(k=p.iR(b))?21:35;break;case 2:c=a.R;d=a.Xa;f=a.stream;z3K=3;break;case 37:G.V(h.vm)&&(h.vm=p.U);p.Ud&&(p.responseType=0);a.Ud&&this.Qt&&a.rD[d]&&a.rD[d][p.U]||(q=this.Mia(p,a.config),q.Ud&&(q.Wr=a.Wr),q.gv(),++h.DH,b.push(q));++k;f+=p.duration;p=void 0;z3K=50;break;case 10:h.B2=a;return;break;case 27:qa(b4y,b);z3K=48;break;case 11:z3K=void 0===h.vm?10:19;break;case 38:++q;z3K=40;break;case 7:z3K=this.OA.length>g.i5?6:48;break;case 39:p.j0(l.get(q)),p.SJ=q+1,m=q;z3K=38;break;case 8:this.OA.push({Wab:a,Jb:b});z3K=7;break;case 9:z3K=this.YN?8:14;break;case 3:g=a.config;z3K=9;break;case 43:void 0===p&&(p=a.stream.Zg(m),p.Ud=a.Ud);z3K=42;break;case 50:++m;z3K=44;break;case 35:g.Oe&&(b="@"+L.time.ca()+a4y+c+i4y+d+E4y+b+y4y+p.U,this.Ia(u4y,{message:b}));void 0===h.data&&(h.data=Object.create(null));void 0===h.data[d]&&(h.data[d]=[]);b=h.data[d];c=this.fTa(g,a,l);z3K=30;break;case 6:this.OA.shift();z3K=7;break;case 49:h.B2&&(a=h.B2,delete h.B2,this.MO(a,h.vm));z3K=48;break;}}};v.prototype.iia=function(a){var m3K,b,c;m3K=2;while(m3K!==3){switch(m3K){case 2:b=a.Xa;c=this.Gb[a.R]||a.Wr;c&&(c.oXa||c.Ud&&!this.un||(c.oXa=!0,++this.kt),c.headers||(c.headers={}),c.headers[b]=a,this.pm.bI&&++c.Pr,this.NN());m3K=3;break;}}};v.prototype.NN=function(){var e3K,b,c,d;e3K=2;function a(a){var i3K;i3K=2;while(i3K!==5){switch(i3K){case 2:a.abort();d+=a.Be;i3K=5;break;}}}while(e3K!==11){switch(e3K){case 5:e3K=!(this.kt<=this.sG)?4:11;break;case 2:d=0;e3K=5;break;case 3:e3K=(c=this.tg.shift())?9:4;break;case 9:b=c.R;e3K=8;break;case 7:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}e3K=6;break;case 4:e3K=this.kt>this.sG?3:12;break;case 6:delete this.Gb[b];--this.kt;e3K=13;break;case 13:this.ZUa(b);e3K=4;break;case 8:e3K=c.data?7:6;break;case 12:this.$Ua(d);e3K=11;break;}}};v.prototype.$Ua=function(a){var p3K,f4y;p3K=2;while(p3K!==1){f4y="d";f4y+="isca";f4y+="r";f4y+="dedBytes";switch(p3K){case 2:0!==a&&(a={type:f4y,bytes:a},this.Ia(a.type,a));p3K=1;break;}}};L8K=55;break;}}function p(a,c){var D8K,R4y;D8K=2;while(D8K!==1){R4y="Media cac";R4y+="he is not";R4y+=" en";R4y+="abled";switch(D8K){case 2:return this.Et?this.Et.then(function(){var z8K,d,f;z8K=2;while(z8K!==3){switch(z8K){case 4:return new Z(function(g){var p8K,D4y;p8K=2;while(p8K!==1){D4y="m";D4y+="ovie";D4y+="E";D4y+="ntr";D4y+="y";switch(p8K){case 2:this.Qg.gz([D4y,a].join("."),function(h){var l8K,l,p,n4y,d4y;l8K=2;while(l8K!==7){n4y="bil";n4y+="lb";n4y+="oard";d4y="med";d4y+="iacacheloo";d4y+="k";d4y+="up";switch(l8K){case 2:l8K=1;break;case 1:l8K=!h||0>=h.length?5:4;break;case 5:g(),this.iB(d4y,{PS:L.time.ca()-d,qQ:!1});l8K=7;break;case 4:h=h[0];l=function(){var P8K;P8K=2;while(P8K!==1){switch(P8K){case 2:this.Qg.gz(a,function(b){var Q8K;Q8K=2;while(Q8K!==5){switch(Q8K){case 2:b=b.reduce(function(a,b){var r8K,c,H4y;r8K=2;while(r8K!==8){H4y="drm";H4y+="Header._";H4y+="_emb";H4y+="e";H4y+="d__";switch(r8K){case 5:r8K=-1!==c.indexOf(H4y)?4:3;break;case 2:c=b.substr(0,b.lastIndexOf("."));r8K=5;break;case 4:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});m.bind(this)(b,c).then(function(){var T1K,b,c,I4y,v4y;T1K=2;while(T1K!==8){I4y="medi";I4y+="aca";I4y+="c";I4y+="hel";I4y+="ookup";v4y="No co";v4y+="ntent ";v4y+="da";v4y+="ta found";v4y+=" for ";switch(T1K){case 2:b=L.time.ca()-d;c=!1;this.Gb[a]&&G.pe(this.Gb[a].data)?(Object.keys(this.Gb[a].data).forEach(function(b){var h1K;h1K=2;while(h1K!==1){switch(h1K){case 2:this.Gb[a].data[b].sort(function(a,b){var W1K;W1K=2;while(W1K!==1){switch(W1K){case 2:return a.Ib-b.Ib;break;case 4:return a.Ib+b.Ib;break;W1K=1;break;}}});h1K=1;break;}}}.bind(this)),c=!0):na(v4y+a,this.Gb[a]);this.iB(I4y,{PS:b,qQ:c});g(this.Gb[a]);T1K=8;break;}}}.bind(this),function(){var N1K;N1K=2;while(N1K!==1){switch(N1K){case 4:g();N1K=5;break;N1K=1;break;case 2:g();N1K=1;break;}}});Q8K=5;break;}}}.bind(this));P8K=1;break;}}}.bind(this);p=function(a){var C1K;C1K=2;while(C1K!==1){switch(C1K){case 2:return!(G.V(a)||G.Na(a)||G.V(a.cc)||G.Na(a.cc)||G.V(a.R)||G.Na(a.R)||G.V(a.Cd)||G.Na(a.Cd));break;}}};l8K=8;break;case 8:p(this.Gb[a])?l():this.Qg.read(n4y,h,function(c,d){var H1K,h,m,w1K;H1K=2;while(H1K!==9){switch(H1K){case 5:G.V(h)||(m=D(h));G.V(m)||G.Na(m)||(m.cc=m.cc||{},m.headers=m.headers||{});p(m)?(this.Gb[a]=m,++this.kt,this.NN(),this.tg.push(m),this.tg.sort(b),l()):(f(a),g());H1K=9;break;case 2:try{w1K=2;while(w1K!==1){switch(w1K){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));w1K=1;break;}}}catch(uc){h=d;}H1K=5;break;}}}.bind(this));l8K=7;break;}}}.bind(this));p8K=1;break;}}}.bind(this));break;case 2:d=L.time.ca();f=function(a){var m8K,b,c,d,h4y;m8K=2;while(m8K!==7){h4y="mov";h4y+="i";h4y+="eEn";h4y+="try";switch(m8K){case 4:c=function(a){var e8K;e8K=2;while(e8K!==1){switch(e8K){case 2:a.map(d.bind(this));e8K=1;break;case 4:a.map(d.bind(this));e8K=5;break;e8K=1;break;}}}.bind(this);d=function(a){var i8K,F4y,U4y,x4y,g4y;i8K=2;while(i8K!==1){F4y="billb";F4y+="oa";F4y+="rd";U4y="de";U4y+="l";U4y+="ete";x4y="billb";x4y+="oa";x4y+="rd";g4y="del";g4y+="et";g4y+="e";switch(i8K){case 4:this.Qg[g4y](x4y,a);i8K=0;break;i8K=1;break;case 2:this.Qg[U4y](F4y,a);i8K=1;break;}}}.bind(this);this.Qg.gz(b,c);this.Qg.gz(a,c);m8K=7;break;case 2:b=[h4y,a].join(".");a=a.toString();m8K=4;break;}}}.bind(this);z8K=4;break;}}}.bind(this)):Z.reject(R4y);break;}}}function d(a,b,d,f,g,h,l,m){var x8K,p,k,q,n,u,A4y,z4y;x8K=2;while(x8K!==13){A4y="vi";A4y+="deo";A4y+="_t";A4y+="rack";A4y+="s";z4y="aud";z4y+="i";z4y+="o_t";z4y+="racks";switch(x8K){case 2:p=d===ba.G.VIDEO;k=[];q=[];n=V.vR(void 0,a,d,f,void 0,m);a[[z4y,A4y][d]][f].streams.forEach(function(a,b){var K8K,c;K8K=2;while(K8K!==14){switch(K8K){case 2:a=F.S3(n,b,void 0,h,m);b=a.O;c=a.oc;K8K=3;break;case 3:K8K=b<h.zva||b>h.Nua?9:8;break;case 8:K8K=c<h.Ava||c>h.Oua?7:6;break;case 9:a.inRange=!1;K8K=8;break;case 7:a.inRange=!1;K8K=6;break;case 6:(a.Bl?q:k).push(a);K8K=14;break;}}});a=[];x8K=7;break;case 7:g&&0!==k.length&&(u=c(b,k,p,h,l))&&a.push(u);u||(u=c(b,q,p,h,l))&&a.push(u);return a;break;}}}function b(a,b){var t8K;t8K=2;while(t8K!==1){switch(t8K){case 4:return b.Cd/a.Cd;break;t8K=1;break;case 2:return b.Cd-a.Cd;break;}}}function k(a,b){var s1K,c,M4y,D5K;s1K=2;while(s1K!==7){M4y="h";M4y+="e";M4y+="a";M4y+="d";M4y+="er";switch(s1K){case 2:c={};a=b[0].split(".");s1K=4;break;case 4:c.movieId=a[0];c.streamId=a[1];q8ff.V9r(4);D5K=q8ff.C9r(16,22,19);c.isHeader=M4y===a[D5K];return new Z(function(a,d){var v1K,K4y;v1K=2;while(v1K!==1){K4y="bil";K4y+="lbo";K4y+="ar";K4y+="d";switch(v1K){case 2:this.Qg.lU(K4y,b,function(b,f){var u1K,g,O1K,w4y,P4y;u1K=2;while(u1K!==5){switch(u1K){case 2:try{O1K=2;while(O1K!==4){w4y="Miss";w4y+="ing or inva";w4y+="li";w4y+="d media data parts for stream";w4y+=" ";P4y="M";P4y+="issing";P4y+=" or invali";P4y+="d header data parts for stream ";switch(O1K){case 2:O1K=b?1:3;break;case 8:O1K=g.Ac?7:6;break;case 1:d(b);O1K=5;break;case 5:a(g);O1K=4;break;case 3:Object.keys(f).map(function(a){var I1K,b,g,A1K,S1K,W4y,m4y;I1K=2;while(I1K!==6){W4y="fr";W4y+="agme";W4y+="n";W4y+="ts";m4y="m";m4y+="et";m4y+="a";m4y+="d";m4y+="ata";switch(I1K){case 5:I1K=m4y===b?4:9;break;case 2:b=a.substr(a.lastIndexOf(".")+1);I1K=5;break;case 8:try{A1K=2;while(A1K!==1){switch(A1K){case 4:c[b]=f[a];A1K=5;break;A1K=1;break;case 2:c[b]=f[a];A1K=1;break;}}}catch(Ja){d(Ja);}I1K=6;break;case 9:I1K=W4y===b?8:7;break;case 7:c[b]=f[a];I1K=6;break;case 4:try{S1K=2;while(S1K!==1){switch(S1K){case 2:g=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f[a])));S1K=1;break;}}}catch(Ja){g=f[a];}Object.keys(g).map(function(a){var d1K;d1K=2;while(d1K!==1){switch(d1K){case 4:c[a]=g[a];d1K=8;break;d1K=1;break;case 2:c[a]=g[a];d1K=1;break;}}});I1K=6;break;}}});g=P(c);O1K=8;break;case 6:O1K=void 0===g.Z||void 0===g.offset||void 0===g.ha||void 0===g.Ib||void 0===g.zh?14:5;break;case 7:g.Vn&&g.ha&&g.Y&&void 0!==g.Y.Ol&&void 0!==g.Y.offset&&void 0!==g.Y.Qd&&g.Y.Qd.length&&void 0!==g.Y.sizes&&g.Y.sizes.length||(b=P4y+g.Xa,d(b));O1K=5;break;case 14:b=w4y+g.Xa,d(b);O1K=5;break;}}}catch(Ya){d(Ya);}u1K=5;break;}}});v1K=1;break;}}}.bind(this));break;}}}function r(a,b){var q1K,c,G4y,j4y;q1K=2;while(q1K!==3){G4y="mediac";G4y+="ac";G4y+="he";j4y="mediacach";j4y+="e";j4y+="-error";switch(q1K){case 4:c.on(a,j4y,function(a){var L1K,L4y,Z4y;L1K=2;while(L1K!==5){L4y="med";L4y+="iacac";L4y+="h";L4y+="e";Z4y="e";Z4y+="r";Z4y+="r";Z4y+="o";Z4y+="r";switch(L1K){case 2:a.type=Z4y;b.Ia(L4y,a);L1K=5;break;}}});q1K=3;break;case 2:c=new ta();c.on(a,G4y,function(a){var B1K,Y4y;B1K=2;while(B1K!==4){Y4y="m";Y4y+="e";Y4y+="dia";Y4y+="c";Y4y+="ache";switch(B1K){case 9:B1K=a.keys&&a.items?2:7;break;B1K=a.keys||a.items?1:5;break;case 2:B1K=a.keys||a.items?1:5;break;case 5:b.Ia(Y4y,a);B1K=4;break;case 1:a.keys||a.items.map(function(a){var R1K;R1K=2;while(R1K!==1){switch(R1K){case 2:return a.key;break;case 4:return a.key;break;R1K=1;break;}}});B1K=5;break;}}});q1K=4;break;}}}function w(a){var n1K;n1K=2;while(n1K!==1){switch(n1K){case 2:return{priority:a.Cd,movieId:a.R,headers:Object.create(null),saveToDisk:a.Ud,stats:{},firstSelectedStreamBitrate:a.ul,initSelectionReason:a.Xn,histDiscountedThroughputValue:a.Jm,histTdigest:a.uk,histAge:a.zl};break;}}}}());},function(g,d,a){var h,l;function b(){this.Oq=this.fG=this.gO=this.uO=this.bO=null;}function c(a){this.K=a;this.Lt=[];this.gm=new b();this.oG();}h=a(11);a(13);a(27);l=a(8);new l.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Kh=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.bO=a.ens,this.uO=a.lns,this.gO=a.fns,this.fG=a.d,this.Oq=l.time.yT(a.t),b=!0);return b;};b.prototype.Fe=function(){var a;if(h.Na(this.bO)||h.Na(this.uO)||h.Na(this.gO)||h.Na(this.fG)||h.Na(this.Oq))return null;a={d:this.fG,t:l.time.PJ(this.Oq)};a.ens=this.bO;a.lns=this.uO;a.fns=this.gO;return a;};b.prototype.get=function(){var a,b;a=this.Fe();if(a){b=new Date(l.time.PJ(this.Oq));a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};c.prototype.oG=function(){var a;a=l.storage.get("sth");a&&this.HG(a);};c.prototype.HG=function(a){var c,d;c=null;d=this.K;a.forEach(function(a){var d;d=new b();d.Kh(a)?(c=!0,this.Lt.push(d)):h.Na(c)&&(c=!1);},this);this.Lt=this.Lt.filter(function(a){return a.fG>=d.jT;});this.Lt.sort(function(a,b){return a.Oq-b.Oq;});return h.Na(c)?!0:c;};c.prototype.NZ=function(){var a;a=[];this.Lt.forEach(function(b){a.push(b.Fe());},this);return a;};c.prototype.save=function(){var a,c,d;a=this.NZ();c=this.K;d=this.gm.Fe();d&&d.d>=c.jT&&(a.push(d),this.Lt.push(this.gm));a.length>c.VS&&(a=a.slice(a.length-c.VS,a.length));this.gm=new b();a&&l.storage.set("sth",a);};c.prototype.reset=function(){this.gm=new b();};c.prototype.I8a=function(){return this.gm.get();};c.prototype.C$a=function(){return this.Lt.length+1;};c.prototype.TWa=function(a){this.gm.bO=a;this.gm.Oq=l.time.ca();};c.prototype.aXa=function(a){this.gm.uO=a;this.gm.Oq=l.time.ca();};c.prototype.XWa=function(a,b){this.gm.gO=a;this.gm.Oq=l.time.ca();this.gm.fG=b;};g.M=c;},function(g,d,a){var c,h;function b(a){this.K=a;this.oG();}c=a(11);h=a(8);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Fe();h.storage.set("nh",a);};b.prototype.$ob=function(){this.gx||(this.gx=!0,this.Sq=h.time.ca());};b.prototype.mpb=function(){var a;if(this.gx){a=h.time.ca();this.Xq+=a-this.Sq;this.Sq=a;this.gx=!1;this.nG=null;}};b.prototype.jta=function(a,b){this.gx&&(b>this.Sq&&(this.Xq+=b-this.Sq,this.Sq=b),null===this.nG||a>this.nG)&&(a=b-a,this.UA.push([this.Xq-a,a]),this.H_(),this.nG=b);};b.prototype.H_=function(){var a;a=this.Xq-this.K.vgb;this.UA=this.UA.filter(function(b){return b[0]>a;});};b.prototype.oG=function(){var a;a=h.storage.get("nh");this.HG(a)||(this.Sq=h.time.ca(),this.Xq=0,this.gx=!1,this.nG=null,this.UA=[]);};b.prototype.HG=function(a){if(!(a&&c.has(a,"t")&&c.has(a,"s")&&c.has(a,"i")&&c.ka(a.t)&&c.ka(a.s)&&c.isArray(a.i)))return!1;this.Sq=h.time.yT(1E3*a.t);this.Xq=1E3*a.s;this.gx=!1;this.UA=a.i.map(function(a){return[1E3*a[0],a[1]];});this.nG=null;return!0;};b.prototype.Fe=function(){return this.gx?{t:h.time.now()/1E3|0,s:(this.Xq+(h.time.ca()-this.Sq))/1E3|0,i:this.UA.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.PJ(this.Sq)/1E3|0,s:this.Xq/1E3|0,i:this.UA.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.M=b;},function(g,d,a){var h,l,f,p,m;function b(a){var b;if(!a.L_){b=a.asa();a.sg.px(b["default"].Aa,a.Og);a.sg.Mz(b.vk?b.vk.PT:void 0,b.vk?b.vk.aE:void 0);h.Na(a.Ab)||(a.L_=!0);}}function c(a,b,c){var d;this.K=c;this.el={};this.PA=c.PA;this.jja=new p(this.PA);this.reset();this.Ht=a;this.sg=b;this.Kja=l.Ck.name();this.sg.QU(this.Kja);this.DG=this.Fw=0;this.WF=[];l.events.on("networkchange",function(a){this.Kja=a;this.sg.QU(a);}.bind(this));d=c.o2;d&&(d={yc:f.ed.fF,pa:{Aa:parseInt(d,10),Ig:0},kg:{DYa:0,Ig:0},Wn:{DYa:0,Ig:0}},this.get=function(){return d;});}h=a(11);l=a(8);f=a(13);a(27);d=a(28).EventEmitter;p=a(376).nda;m=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");c.prototype=Object.create(d);Object.defineProperties(c.prototype,{startTime:{get:function(){return this.Gc;}},yc:{get:function(){return this.Og;}},Yo:{get:function(){return this.Fw;}},OWa:{get:function(){return this.WF;}}});c.prototype.GRa=function(){var a,b,c;a=this.K;b=a.JZ;c=this.jja;return a.VRa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};c.prototype.reset=function(){var a,c,d;a=this.K.JZ;c=this.jja;d=this.K;this.location=null;this.el=this.GRa();this.Uq=c.create("respconn-ewma",a);this.Kq=c.create("respconn-ewma",a);this.Og=f.ed.HAVE_NOTHING;this.nWa=function(){b(this);}.bind(this);this.lP=void 0;this.zt=this.Lb=this.Ab=this.Gc=null;this.eRa=this.gP=0;this.HUa=!1;d.Jya&&(this.DG=this.Fw=0,this.WF=[]);};c.prototype.SU=function(a){var b;b=this.el;if(a!==this.location){h.V(this.lP)||(clearInterval(this.lP),this.lP=void 0);h.Na(this.location)&&(this.gP=0,this.Gc=null);if(!h.Na(a)){this.Og=f.ed.HAVE_NOTHING;for(var c in b)b[c]&&b[c].reset&&b[c].reset();this.Uq.reset();this.Kq.reset();}h.Na(this.Gc)||(this.gP+=(h.Na(this.Ab)?l.time.ca():this.Ab)-this.Gc);this.Ab=this.Gc=null;this.Lb=0;this.location=a;this.sg.SU(a);}};c.prototype.QU=function(a){this.sg.QU(a);};c.prototype.WWa=function(a){this.el.QoEEvaluator?m.warn("monitor (QoEEvaluator) already existed."):this.el.QoEEvaluator=a;};c.prototype.Glb=function(){delete this.el.QoEEvaluator;};c.prototype.xB=function(a,b){var c;c=this.el["req-pacer"];c&&c.xB(a,b);};c.prototype.m$a=function(){return this.el["req-pacer"];};c.prototype.tP=function(a,c,d){var g,l;g=this.K;l=this.el;if(h.V(c))m.warn("addDataReceived called with undefined start time");else{g.$Ra&&10>d-c?c=d-10:0===d-c&&(c=d-1);for(var p in l)l[p]&&l[p].add&&l[p].add(a,c,d);this.Og=Math.max(this.Og,f.ed.Ps);h.Na(this.Gc)&&(this.Gc=c,this.Ab=null,this.L_=!1,this.Lb=0);h.Na(this.Ab)||(c>this.Ab&&(this.Gc+=c-this.Ab),this.Ab=null,this.L_=!1);this.Lb+=a;this.Og<f.ed.Go&&(d-this.Gc>g.oTa||this.Lb>g.nTa)&&(this.Og=f.ed.Go);this.Og<f.ed.fF&&(d-this.Gc>g.MUa||this.Lb>g.LUa)&&(!this.HUa||this.eRa>g.mTa)&&(this.Og=f.ed.fF,b(this),this.lP=setInterval(this.nWa,g.USa));h.Na(this.zt)||(c-this.zt>g.ika?this.Ht.jta(this.zt,c):d-c>g.ika&&this.Ht.jta(c,d));this.zt=Math.max(d,this.zt);}};c.prototype.er=function(a){this.Uq.add(a);this.sg.er(a);};c.prototype.cr=function(a){this.Kq.add(a);this.sg.cr(a);};c.prototype.start=function(a){var b;h.Na(this.zt)&&!h.Na(this.Ab)&&(this.zt=a);b=this.el;if(this.K.V$)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};c.prototype.stop=function(a){var b,c;b=this.el;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Ab=h.Na(this.Ab)?a:Math.min(this.Ab,a);this.zt=null;};c.prototype.flush=function(){var a,b;a=this.el;for(b in a)a[b]&&a[b].flush&&a[b].flush();};c.prototype.fail=function(){this.Gc=null;};c.prototype.a9a=function(){var a,b;a=this.el.entropy;a&&(b=a.CZa(),a.reset());return b;};c.prototype.asa=function(){var a,b,c,d,f,g,h;a=l.time.ca();b={};c=this.el;d=this.K;f=d.JRa;g=d.sVa;for(h in c)c[h]&&c[h].get&&(b[h]=c[h].get(a),"iqr"===c[h].type&&(b.vk=b[h]),"tdigest"===c[h].type&&(b.Ql=b[h]));b["default"]=f&&b[f]?b[f]:b["throughput-ewma"];"none"!==d.b$&&"none"!==g&&(b.qza=g&&b[g]?b[g]:b["throughput-sw"]);return b;};c.prototype.get=function(){var a,b,c,d,f;a=this.asa();b=a["default"];c=this.Uq.get();d=this.Kq.get();if(a.qza)f=a.qza,b=h.ka(b.Aa)&&h.ka(f.Aa)&&b.Aa>f.Aa&&0<f.Aa?f:b;a.yc=this.Og;a.pa=b;a.kg=c;a.Wn=d;b=this.gP+!h.Na(this.Gc)?(h.Na(this.Ab)?l.time.ca():this.Ab)-this.Gc:0;a.time=b;return a;};c.prototype.qU=function(a,b){1===++this.Fw&&(this.emit("active",a),this.start(a));b&&this.WF.push(b);};c.prototype.G9=function(){++this.DG;};c.prototype.sU=function(a,b,c){b&&--this.DG;--this.Fw;this.K.Jya&&(this.Fw=Math.max(this.Fw,0),this.DG=Math.max(this.DG,0));0===this.Fw&&(this.stop(a),this.emit("inactive",a));c&&(a=this.WF.indexOf(c),0<=a&&this.WF.splice(a,1));};g.M=c;},function(g){(function(){var c4y,J8y;function d(){var X4y;X4y=2;while(X4y!==5){switch(X4y){case 2:this.Jt=this.Lb=0;this.Da=this.Gc=void 0;X4y=5;break;}}}c4y=2;while(c4y!==8){J8y="1";J8y+="SIYbZ";J8y+="rN";J8y+="JCp";J8y+="9";switch(c4y){case 2:d.prototype.start=function(a){var s4y;s4y=2;while(s4y!==1){switch(s4y){case 2:this.Gc?a<this.Gc?(this.Jt+=this.Gc-a,this.Gc=a):a>this.Da&&(this.Da=this.Gc=a):this.Da=this.Gc=a;s4y=1;break;}}};d.prototype.stop=function(a){var O8y;O8y=2;while(O8y!==1){switch(O8y){case 2:this.Da&&a>this.Da&&(this.Jt+=a-this.Da,this.Da=a);O8y=1;break;}}};d.prototype.add=function(a,b,c){var T8y;T8y=2;while(T8y!==4){switch(T8y){case 2:this.start(b);this.stop(c);this.Lb+=a;T8y=4;break;}}};d.prototype.get=function(){var k8y;k8y=2;while(k8y!==1){switch(k8y){case 2:return{Aa:this.Jt?Math.floor(8*this.Lb/this.Jt):null,epa:this.Jt?this.Jt:0};break;}}};g.M=d;J8y;c4y=8;break;}}}());},function(g,d,a){var c;function b(a){var b,c;b=a.tb;c=a.mb;this.nx=a.sw||4E3;this.$Va=b;this.lTa=c;this.reset();}c=a(8);new c.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.IO=function(a,b){this.Lb+=b;this.tg.push({t:a,Xt:b});this.tg.sort(function(a,b){return a.t-b.t;});};b.prototype.yG=function(){var a;if(null!==this.tt&&null!==this.bk&&0!==this.tg.length)for(;this.tt-this.bk>this.nx&&this.tg.length;){a=this.tg.shift();this.Lb-=a.Xt;this.bk=a.t;}};b.prototype.reset=function(){this.tg=[];this.bk=this.tt=null;this.Lb=0;};b.prototype.setInterval=function(a){this.nx=a;this.yG();};b.prototype.o$a=function(){var a;a=c.time.ca();return 8*this.Lb/(a-this.bk);};b.prototype.UZa=function(a){return null===this.tt||null===this.bk?!0:a<=this.lTa?!0:this.o$a()<=this.$Va;};b.prototype.xB=function(a,b){null===this.tt&&(this.tt=a);null===this.bk&&(this.bk=a);a>this.tt&&(this.tt=a);a<this.tt-this.nx||(a<this.bk&&(this.bk=a),this.IO(a,b),this.yG());};g.M=b;},function(g,d,a){var c;function b(a){var b,d;b=a.sw;d=a.mw;this.nx=b;this.kZ={uhd:a.uhdl,hd:a.hdl};this.Ug=Math.max(Math.ceil(1*b/d),1);this.pTa=a.mins||1;c.call(this,b,d);this.reset();}c=a(129);new(a(8)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(c.prototype);b.prototype.flush=function(){this.vc.map(function(a,b){this.Wla(a,this.a4(b));},this);};b.prototype.CZa=function(){var a,b,c,d,g,k,n,w;a=this.kZ;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.G_[b];g=this.E_[b];if(d.first){k=d.first;n=d.cz;void 0!==n&&(g[k][n]+=1);d.first=void 0;}for(var d=[],k=0,c=n=c.length+1,r=0;r<n;r++){for(var v=0,t=0;t<c;t++)v+=g[t][r];k+=v;d.push(v);}v=-1;if(k>this.pTa){for(r=v=0;r<n;r++)if(0<d[r])for(t=0;t<c;t++){w=g[t][r];0<w&&(v-=w*Math.log(1*w/d[r]));}v/=k*Math.log(2);}this.FZ[b]=v;}return this.FZ;};b.prototype.Wla=function(a,b){var c,h,l;for(var c=this.Ug,d=this.kZ;this.ZN.length>=c;)this.ZN.shift();for(;this.$N.length>=c;)this.$N.shift();this.ZN.push(a);this.$N.push(b);a=this.ZN.reduce(function(a,b){return a+b;},0);b=this.$N.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var g in d)if(d.hasOwnProperty(g)){b=this.G_[g];c=this.E_[g];h=this.Dkb(a,d[g]);l=b.cz;void 0!==l?c[h][l]+=1:b.first=h;b.cz=h;}}};b.prototype.Dkb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Wla(this.vc[0],this.a4(0));c.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.G_={};this.ZN=[];this.$N=[];this.E_={};this.FZ={};a=this.kZ;for(b in a)if(a.hasOwnProperty(b)){for(var d=this.E_,g=b,m,k=void 0,n=Array(k),k=m=a[b].length+1,r=0;r<k;r++){n[r]=Array(m);for(var v=0;v<m;v++)n[r][v]=0;}d[g]=n;this.G_[b]={first:void 0,cz:void 0};this.FZ[b]=0;}c.prototype.reset.call(this);};g.M=b;},function(g,d,a){var c,h,l,f,p,m,k,n,r,v;function b(a){this.KRa=a;}d=a(375);c=d.pGa;h=d.nGa;l=a(374).oGa;f=a(373);p=a(372);m=a(206);k=a(370);n=a(731);r=a(730);v=a(729);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,g,q,u;g=this.KRa[a];q=b[a];u={};g&&Object.keys(g).forEach(function(a){u[a]=g[a];});q&&Object.keys(q).forEach(function(a){u[a]=q[a];});switch(u.type){case"slidingwindow":d=new l(u.mw);break;case"discontiguous-ewma":d=new h(u.mw,u.wt);break;case"iqr":d=new f(u.mx,u.mn,u.bw,u.iv);break;case"tdigest":d=new p(u);break;case"discrete-ewma":d=new c(u.hl,u["in"]);break;case"tdigest-history":d=new m(u);break;case"iqr-history":d=new k(u);break;case"avtp":d=new v();break;case"entropy":d=new n(u);break;case"req-pacer":d=new r(u);}d&&(d.type=u.type);return d;};g.M=b;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;}function c(a){this.jd=null;this.qj=a;this.size=0;}d=a(371);b.prototype.Xe=function(a){return a?this.right:this.left;};b.prototype.Ll=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.Al=function(a){if(null===this.jd)return this.jd=new b(a),this.size++,!0;for(var c=0,d=null,g=this.jd;;){if(null===g)return g=new b(a),d.Ll(c,g),ret=!0,this.size++,!0;if(0===this.qj(g.data,a))return!1;c=0>this.qj(g.data,a);d=g;g=g.Xe(c);}};c.prototype.remove=function(a){var c,d,g,n,k;if(null===this.jd)return!1;c=new b(void 0);d=c;d.right=this.jd;for(var g=null,h=null,k=1;null!==d.Xe(k);){g=d;d=d.Xe(k);n=this.qj(a,d.data);k=0<n;0===n&&(h=d);}return null!==h?(h.data=d.data,g.Ll(g.right===d,d.Xe(null===d.left)),this.jd=c.right,this.size--,!0):!1;};g.M=c;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function c(a){this.jd=null;this.qj=a;this.size=0;}function h(a){return null!==a&&a.red;}function l(a,b){var c;c=a.Xe(!b);a.Ll(!b,c.Xe(b));c.Ll(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.Ll(!b,l(a.Xe(!b),!b));return l(a,b);}d=a(371);b.prototype.Xe=function(a){return a?this.right:this.left;};b.prototype.Ll=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.Al=function(a){var c,d,g,p,k,n,r,t,y;c=!1;if(null===this.jd)this.jd=new b(a),c=!0,this.size++;else{d=new b(void 0);g=0;p=0;k=null;n=d;r=null;t=this.jd;for(n.right=this.jd;;){null===t?(t=new b(a),r.Ll(g,t),c=!0,this.size++):h(t.left)&&h(t.right)&&(t.red=!0,t.left.red=!1,t.right.red=!1);if(h(t)&&h(r)){y=n.right===k;t===r.Xe(p)?n.Ll(y,l(k,!p)):n.Ll(y,f(k,!p));}y=this.qj(t.data,a);if(0===y)break;p=g;g=0>y;null!==k&&(n=k);k=r;r=t;t=t.Xe(g);}this.jd=d.right;}this.jd.red=!1;return c;};c.prototype.remove=function(a){var c,d,r,g,t,n,y;if(null===this.jd)return!1;c=new b(void 0);d=c;d.right=this.jd;for(var g=null,p,k=null,n=1;null!==d.Xe(n);){r=n;p=g;g=d;d=d.Xe(n);t=this.qj(a,d.data);n=0<t;0===t&&(k=d);if(!h(d)&&!h(d.Xe(n)))if(h(d.Xe(!n)))p=l(d,n),g.Ll(r,p),g=p;else if(!h(d.Xe(!n))&&(t=g.Xe(!r),null!==t))if(h(t.Xe(!r))||h(t.Xe(r))){y=p.right===g;h(t.Xe(r))?p.Ll(y,f(g,r)):h(t.Xe(!r))&&p.Ll(y,l(g,r));r=p.Xe(y);r.red=!0;d.red=!0;r.left.red=!1;r.right.red=!1;}else g.red=!1,t.red=!0,d.red=!0;}null!==k&&(k.data=d.data,g.Ll(g.right===d,d.Xe(null===d.left)),this.size--);this.jd=c.right;null!==this.jd&&(this.jd.red=!1);return null!==k;};g.M=c;},function(g,d,a){g.M={hOa:a(734),Qtb:a(733)};},function(g){var d,a,b;d=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;b=Object.prototype.propertyIsEnumerable;g.M=function(){var a,d;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0;}catch(f){return!1;}}()?Object.assign:function(c,g){var h,f;if(null===c||void 0===c)throw new TypeError("Object.assign cannot be called with null or undefined");f=Object(c);for(var p,m=1;m<arguments.length;m++){h=Object(arguments[m]);for(var k in h)a.call(h,k)&&(f[k]=h[k]);if(d){p=d(h);for(var n=0;n<p.length;n++)b.call(h,p[n])&&(f[p[n]]=h[p[n]]);}}return f;};},function(g){function d(a){this.MA=a;this.gd=0;this.lB=null;}d.prototype.add=function(a,b,c){null!==this.lB&&b>this.lB&&(this.gd+=b-this.lB,this.lB=null);this.MA.add(a,b-this.gd,c-this.gd,this.gd);};d.prototype.stop=function(a){null===this.lB&&(this.lB=a);};d.prototype.U8=function(a,b){return this.MA.U8(a,b);};d.prototype.get=function(){return this.MA.get();};d.prototype.reset=function(){this.MA.reset();};d.prototype.toString=function(){return this.MA.toString();};g.M=d;},function(g){function d(a,b,c){this.sB=a;this.Ug=Math.floor((a+b-1)/b);this.gc=b;this.VUa=c;this.reset();}d.prototype.shift=function(){this.vc.shift();this.Yf.shift();};d.prototype.update=function(a,b){this.vc[a]+=b;};d.prototype.push=function(a){this.vc.push(0);this.Yf.push(a?a:0);this.Da+=this.gc;};d.prototype.add=function(a,b,c,d){var g,f;if(null===this.Da){g=Math.max(Math.floor((c-b+this.gc-1)/this.gc),1);for(this.Da=b;this.vc.length<g;)this.push(d);}for(;this.Da<c;)if(this.push(d),this.VUa)for(;1<this.vc.length&&c+d-(this.Da-this.gc*this.vc.length+this.Yf[0])>this.sB;)this.shift();else this.vc.length>this.Ug&&this.shift();if(b>this.Da-this.gc)this.update(this.vc.length-1,a);else if(b==c)d=this.vc.length-Math.max(Math.ceil((this.Da-c)/this.gc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.vc.length;++d){g=this.Da-d*this.gc;f=g+this.gc;if(!(g>c)){if(f<b)break;this.update(this.vc.length-d,Math.round(a*(Math.min(f,c)-Math.max(g,b))/(c-b)));}}for(;this.vc.length>this.Ug;)this.shift();};d.prototype.reset=function(){this.vc=[];this.Yf=[];this.Da=null;};d.prototype.setInterval=function(a){this.Ug=Math.floor((a+this.gc-1)/this.gc);};g.M=d;},function(g,d,a){var h,l,f,p;function b(a,b,c){h.call(this,a,b,c);}function c(a,c){l.call(this,new b(a,c,!1));}h=a(738);l=a(737);f=a(60).h8a;p=a(60).gab;b.prototype=Object.create(h.prototype);b.prototype.Aa=function(){return Math.floor(8*f(this.vc)/this.gc);};b.prototype.Ig=function(){return Math.floor(64*p(this.vc)/(this.gc*this.gc));};b.prototype.get=function(){return{Aa:this.Aa(),Ig:this.Ig(),WBb:this.vc.length};};b.prototype.toString=function(){return"bsw("+this.sB+","+this.gc+","+this.Ug+")";};c.prototype=Object.create(l.prototype);c.prototype.setInterval=function(a){this.MA.setInterval(a);};g.M=c;},function(g,d,a){var c;function b(a){this.bE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.bE[b]=a.charCodeAt(b);}c=new(a(8)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,d;b=this.bE.length;if(void 0===this.bE)c.warn("XORCiper.encrypt is called with undefined secret!");else{d="";for(var g=0;g<a.length;++g)d+=String.fromCharCode(this.bE[g%b]^a.charCodeAt(g));return encodeURIComponent(d);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.bE.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.bE[d%c]^a.charCodeAt(d));return b;};g.M=b;},function(g,d,a){var b;b=0;g.M=function(c,d){var f,h,m,k;function g(a,b){return(a["$ASE$order"+k]||0)-(b["$ASE$order"+k]||0);}f=a(48);h=this;m=d?[d]:[];k="$op$"+b++;f({value:c,addListener:function(a,b){a["$ASE$order"+k]=b;m=m.slice();m.push(a);m.sort(g);},removeListener:function(a){var b;m=m.slice();0<=(b=m.indexOf(a))&&m.splice(b,1);},set:function(a,b){var c;if(h.value!==a){c={oldValue:h.value,newValue:a};b&&f(b,c);h.value=a;a=m;b=a.length;for(var d=0;d<b;d++)a[d](c);}}},h);};},function(g){function d(a,b){this.Aa=a;this.Ig=b;}d.prototype.R8=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),d=0;2>d;d++)var g=Math.abs(c),f=1/(1+g/2),g=f*Math.exp(-g*g-1.26551223+f*(1.00002368+f*(.37409196+f*(.09678418+f*(-.18628806+f*(.27886807+f*(-1.13520398+f*(1.48851587+f*(-.82215223+.17087277*f))))))))),g=(0<=c?g:2-g)-b,c=c+g/(1.1283791670955126*Math.exp(-(c*c))-c*g);a=1>a?c:-c;}return this.Aa-Math.sqrt(2*this.Ig)*a;};g.M=d;},function(g,d,a){g.M={mJa:a(377),eLa:a(728),dLa:a(727),Nwb:a(370),rAb:a(206),iPa:a(726)};},function(g){function d(a,c,d,g){a.trace(":",d,":",g);c(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,c,g,l){g=l?g.bind(l):g;l=!1;if(a){this.console&&(g=d.bind(null,this.console,g,c));if("function"===typeof a.addEventListener)l=a.addEventListener(c,g);else if("function"===typeof a.addListener)l=a.addListener(c,g);else throw Error("Emitter does not have a function to add listeners for '"+c+"'");this.listeners.push([a,c,g]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.M=a;},function(g){function d(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.al)return this.al={},this.al[a]=[c],!0;b=this.al[a];return void 0===b?(this.al[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.al?this.al[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}g.M={addEventListener:d,on:d,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.al)return!1;b=this.al[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.al[a],!0;b.splice(c,1);return!0;},Ia:a,emit:a,removeAllListeners:function(a){this.al&&(void 0===a?delete this.al:delete this.al[a]);return this;}};},function(g,d,a){(function(){function b(b,c){var C8y,d;C8y=2;while(C8y!==12){var p1b="D";p1b+="E";p1b+="B";p1b+="U";p1b+="G:";var c1b="nf";c1b+="-a";c1b+="se v";c1b+="ersio";c1b+="n:";switch(C8y){case 2:d=a(649);P(c1b,d,p1b,!1);this.cB=this.Jja=!1;this.K=b;this.cx=[];C8y=8;break;case 8:this.on=this.addEventListener=l.addEventListener;this.removeEventListener=l.removeEventListener;this.emit=this.Ia=l.Ia;C8y=14;break;case 14:this.fP=c;y=this;C8y=12;break;}}}var r8y,c,d,l,f,p,m,k,n,r,v,t,w,D,y,E,P;r8y=2;while(r8y!==40){var A2b="1SIYbZ";A2b+="rN";A2b+="JCp";A2b+="9";var z1b="med";z1b+="ia|asej";z1b+="s";var N1b="ASE";N1b+="J";N1b+="S";switch(r8y){case 34:b.prototype.XUa=function(a){var y8y,b;y8y=2;while(y8y!==3){var D1b="can't find ses";D1b+="sion i";D1b+="n array, movieId:";switch(y8y){case 2:this.Va.SU(null);b=this.cx.indexOf(a);y8y=4;break;case 4:c.V(b)?P(D1b,a.mm):(this.cx.splice(b,1),0===this.cx.length&&this.Ht.mpb(),this.Ht.save(),this.sg.save());y8y=3;break;}}};b.prototype.Tqa=function(a){var u8y,b;u8y=2;while(u8y!==3){switch(u8y){case 2:b={profile:a.spoofedProfile||a.profile,Q3:a.max_framerate_value,P3:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,exa:a.pixelAspectX,fxa:a.pixelAspectY,hk:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};b.prototype.Sqa=function(a,b,c){var f8y,f;f8y=2;while(f8y!==3){var H1b="vid";H1b+="eo_trac";H1b+="k";H1b+="s";var x1b="audio";x1b+="_";x1b+="t";x1b+="rac";x1b+="ks";var m1b="aud";m1b+="io";m1b+="_tracks";switch(f8y){case 2:f=[{},{}];(c===d.G.AUDIO?[m1b]:[x1b,H1b]).forEach(function(c,d){var D8y;D8y=2;while(D8y!==1){switch(D8y){case 2:a[c].some(function(a,c){var d8y;d8y=2;while(d8y!==1){switch(d8y){case 2:return c===b[d]?(f[d]=y.Tqa(a),!0):!1;break;}}});D8y=1;break;}}});return f;break;}}};b.prototype.KBa=function(a){var H8y;H8y=2;while(H8y!==1){switch(H8y){case 2:t.VI(a);H8y=1;break;case 4:t.VI(a);H8y=3;break;H8y=1;break;}}};r8y=30;break;case 11:w=a(650);D=t.Promise;f=new t.Console(N1b,z1b);r8y=19;break;case 2:c=a(11);d=a(13);l=a(28).EventEmitter;f=a(743);r8y=9;break;case 23:b.prototype.yr=function(a,b,f,g,h,l,m,p){var b8y;b8y=2;while(b8y!==4){var o1b="open: streamingM";o1b+="a";o1b+="nager ";o1b+="not initted";var K1b="branch";K1b+="in";K1b+="g";switch(b8y){case 2:b8y=this.Jja?1:5;break;case 7:P("");b8y=1;break;b8y=4;break;case 1:return p=p||this.K,this.Va.reset(),this.Ht.$ob(),this.cla.reset(),void 0===l&&(l=this.Sqa(a,b)),c.V(this.TO)&&(this.Cj()[d.G.VIDEO]<=p.Wfb?this.TO=0:this.TO=p.uU),a&&a.choiceMap&&K1b===a.choiceMap.type&&(h.rf=!0),g.RT=this.cB,a=new v(this,a,b,f,g,h,l,m,p),this.cx.push(a),a;break;case 5:P(o1b);b8y=4;break;}}};b.prototype.W6=function(a,b){var a8y;a8y=2;while(a8y!==1){switch(a8y){case 2:return this.Qc&&(a=this.Qc.W6(a,b))?a:!1;break;}}};b.prototype.seb=function(a){var i8y;i8y=2;while(i8y!==1){switch(i8y){case 2:return this.Qc&&(a=this.Qc.vua(a))?a:!1;break;}}};b.prototype.vy=function(){var E8y;E8y=2;while(E8y!==1){switch(E8y){case 2:return this.Qc?this.Qc.vy():D.resolve([]);break;}}};r8y=34;break;case 16:f.error.bind(f);b.prototype.constructor=b;Object.defineProperties(b.prototype,{Yi:{get:function(){var p8y;p8y=2;while(p8y!==1){switch(p8y){case 2:return this.Va;break;case 4:return this.Va;break;p8y=1;break;}}}},ss:{get:function(){var e8y;e8y=2;while(e8y!==1){switch(e8y){case 2:return this.cla;break;case 4:return this.cla;break;e8y=1;break;}}}},kAa:{get:function(){var V8y;V8y=2;while(V8y!==1){switch(V8y){case 2:return this.TO;break;case 4:return this.TO;break;V8y=1;break;}}}},Hcb:{get:function(){var B8y;B8y=2;while(B8y!==1){switch(B8y){case 2:return!c.V(this.XO);break;case 4:return~c.V(this.XO);break;B8y=1;break;}}}}});r8y=26;break;case 9:p=f.mJa;m=f.eLa;k=f.dLa;n=f.iPa;r8y=14;break;case 19:E=f.trace.bind(f);f.log.bind(f);P=f.warn.bind(f);r8y=16;break;case 26:b.prototype.zc=function(a,b,d,f,g,h){var N8y,l;N8y=2;while(N8y!==19){var s2b="med";s2b+="ia";s2b+="cac";s2b+="he";var E2b="cac";E2b+="heEvic";E2b+="t";var d2b="f";d2b+="lushe";d2b+="d";d2b+="Bytes";var O2b="di";O2b+="scar";O2b+="ded";O2b+="Bytes";var S2b="pr";S2b+="eb";S2b+="uff";S2b+="sta";S2b+="ts";switch(N8y){case 10:b=new r(this,l,d,h),a=function(a){var o8y;o8y=2;while(o8y!==1){switch(o8y){case 4:this.Ia(a.type,a);o8y=4;break;o8y=1;break;case 2:this.Ia(a.type,a);o8y=1;break;}}}.bind(this),b.addEventListener(S2b,a),b.addEventListener(O2b,a),b.addEventListener(d2b,a),b.addEventListener(E2b,a),(l.WBa||l.Nz)&&b.addEventListener(s2b,function(a){var l8y;l8y=2;while(l8y!==1){var r2b="m";r2b+="ed";r2b+="iac";r2b+="ache";switch(l8y){case 4:this.Ia("",a);l8y=7;break;l8y=1;break;case 2:this.Ia(r2b,a);l8y=1;break;}}}.bind(this)),this.Qc=b;N8y=20;break;case 8:w(l);this.sg=new p(l,this.fP);this.Ht=new k(l);this.Va=new m(this.Ht,this.sg,l);N8y=13;break;case 20:this.Jja=!0;N8y=19;break;case 13:this.cla=new n(l);l.QT&&!this.oVa&&(this.oVa=setInterval(function(){var Q8y;Q8y=2;while(Q8y!==5){switch(Q8y){case 2:this.sg.save();this.Ht.save();Q8y=5;break;}}}.bind(this),l.QT));N8y=11;break;case 2:l=this.K;0<l.Vr&&(!c.V(a)&&a>l.Vr&&(a=l.Vr),b>l.Vr&&(b=l.Vr));c.V(a)?this.XO=b:this.gRa=[a,b];this.TO=f;this.MVa=g;N8y=8;break;case 11:N8y=l.IE||l.JV?10:20;break;}}};b.prototype.Cj=function(a,b){var q8y,d;q8y=2;while(q8y!==7){switch(q8y){case 8:return this.gRa;break;case 5:c.V(a)&&(a=192);c.V(b)&&(b=5800);q8ff.j1b(0);d=q8ff.M1b(b,a);q8y=9;break;case 1:q8y=this.XO?5:8;break;case 9:return[Math.floor(this.XO*a/d),Math.floor(this.XO*b/d)];break;case 2:q8y=1;break;}}};b.prototype.RT=function(){var t8y;t8y=2;while(t8y!==1){switch(t8y){case 2:this.cB||(this.cB=!0,this.cx.forEach(function(a){var S8y;S8y=2;while(S8y!==1){switch(S8y){case 4:a.RT();S8y=8;break;S8y=1;break;case 2:a.RT();S8y=1;break;}}}));t8y=1;break;}}};r8y=23;break;case 30:b.prototype.cna=function(a,b){var v8y;v8y=2;while(v8y!==1){var G2b="c";G2b+="a";G2b+="tc";G2b+="h";switch(v8y){case 2:this.Qc&&(a=this.Qc.Tjb(this,a),c.V(b)||a.then(b),a[G2b](function(a){var I8y;I8y=2;while(I8y!==1){var Z2b="cachePr";Z2b+="epa";Z2b+="re cau";Z2b+="ght error:";switch(I8y){case 4:E("",a);I8y=8;break;I8y=1;break;case 2:E(Z2b,a);I8y=1;break;}}}));v8y=1;break;}}};b.prototype.b1=function(){var n8y;n8y=2;while(n8y!==1){switch(n8y){case 2:this.Qc&&this.Qc.flush();n8y=1;break;}}};b.prototype.wZa=function(){var g8y;g8y=2;while(g8y!==1){switch(g8y){case 2:this.Qc&&this.Qc.xqa();g8y=1;break;}}};b.prototype.c1=function(){var x8y;x8y=2;while(x8y!==1){switch(x8y){case 4:return this.Qc?this.Qc.list():[];break;x8y=1;break;case 2:return this.Qc?this.Qc.list():[];break;}}};r8y=43;break;case 43:b.prototype.bna=function(){var U8y;U8y=2;while(U8y!==1){switch(U8y){case 2:this.Qc&&this.Qc.Kn();U8y=1;break;}}};g.M=b;A2b;r8y=40;break;case 14:r=a(725);v=a(686);t=a(8);r8y=11;break;}}}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(747),d);},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(66);h=a(167);g=a(4);a=a(31);d.vCa=!0;d.iOa=!1;c=b.da.get(c.kn);b=b.da.get(h.hN);d.ZLa=b.zd;d.$La=b.o6;d.FF={};d.Pea=c.Fj;d.PW=c.Gm;d.PGa=c.pC;d.sda=c.X3;d.Aca=c.E2;d.Iub=c.D2;d.Jub=c.E2;d.Cca=c.bpa;d.Swb=c.Tcb;d.fJa=c.sua;d.Oxb=!1;d.aLa=!0;d.xf={PW:c.Gm,Fo:void 0,Ms:void 0,xFa:void 0,wFa:void 0,OMa:void 0,zca:void 0,vFa:void 0};d.SLa=b.EB;d.TLa=b.vYa;d.eMa=b.t$;d.RLa=b.JP;d.oMa=b.QV;d.jMa=b.ys;d.XLa=b.d3;d.YLa=b.XQ;d.PLa=b.y0.na(a.Vl);d.QLa=b.A0.na(a.Vl);d.bMa=b.r7.na(g.Ba);d.cMa=b.Veb.na(a.Vl);d.aMa=b.fD;d.mMa=b.CV;d.pMa=b.kba;d.ULa=b.f1;d.VLa=b.w1;d.WLa=b.xna;d.hMa=b.lV;d.gMa=b.Z$.na(a.Vl);d.nMa=b.eCa;d.dMa=b.UD;d.iMa=b.xaa;d.kMa=b.yE.na(a.Vl);d.lMa=b.AV.na(g.Ba);d.fMa=void 0;},function(g,d){function a(a){this.Ob=a;this.Ja=JSON.stringify(this.I9a());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.I9a=function(){var a;a=[];(!this.Ob.Yh||0>=this.Ob.Yh.length)&&a.push({error:"No CDN."});this.Ob.t2||a.push({error:"No default audio track.",foundTracks:this.s4(this.Ob.wm)});this.Ob.z2||a.push({error:"No default video track.",foundTracks:this.s4(this.Ob.cq)});this.Ob.y2||a.push({error:"No default subtitle track.",foundTracks:this.s4(this.Ob.jj)});return a;};a.prototype.s4=function(a){return a&&0<a.length?a.map(function(a){return a.Vb;}):"No tracks found.";};d.kKa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){a=h.Xd.call(this,a,"ManifestParserConfigImpl")||this;a.ru=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);f=a(35);p=a(167);m=a(31);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{gaa:{configurable:!0,enumerable:!0,get:function(){return[];}},J3:{configurable:!0,enumerable:!0,get:function(){return"";}},k1:{configurable:!0,enumerable:!0,get:function(){return[];}},j1:{configurable:!0,enumerable:!0,get:function(){return[];}},L3:{configurable:!0,enumerable:!0,get:function(){return"";}},D5:{configurable:!0,enumerable:!0,get:function(){return 0;}},yE:{configurable:!0,enumerable:!0,get:function(){return this.ru.yE.na(m.Vl);}},ys:{configurable:!0,enumerable:!0,get:function(){return this.ru.ys;}}});a=b;g.__decorate([f.config(f.eaa,"supportedAudioTrackTypes")],a.prototype,"gaa",null);g.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"J3",null);g.__decorate([f.config(f.wBa,"cdnIdWhiteList")],a.prototype,"k1",null);g.__decorate([f.config(f.wBa,"cdnIdBlackList")],a.prototype,"j1",null);g.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"L3",null);g.__decorate([f.config(f.Mv,"imageSubsResolution")],a.prototype,"D5",null);g.__decorate([f.config(f.Mv,"timedTextSimpleFallbackThreshold")],a.prototype,"yE",null);g.__decorate([f.config(f.eaa,"timedTextProfiles")],a.prototype,"ys",null);a=g.__decorate([c.N(),g.__param(0,c.l(l.Ci)),g.__param(1,c.l(p.hN))],a);d.fKa=a;},function(g,d,a){var c,h,l,f;function b(a,b){return h.VM.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(130);h=a(383);l=a(75);f=a(155);ia(b,h.VM);b.prototype.Cib=function(a){var b,d;b=this;a=za(c.kv(function(a){return a.qc&&0<a.qc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.io});});a=d.map(function(a){var c;c=a.si;c={type:l.Uf.video,Vb:a.io,jy:a.DL,si:f.VY[c.toLowerCase()]||f.No.qA,iz:c,qc:[],Hf:{}};c.qc=b.mBa(a.qc,c);b.log.trace("Transformed video track",{StreamCount:c.qc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.uib=function(a){var b;b=a.map(function(a){return a.Y8;}).filter(Boolean);b=[].concat.apply([],[].concat(wb(b))).map(function(a){return a.Z;});a=a.map(function(a){return a.Ne;}).filter(Boolean).map(function(a){return a.Z;});return 0<b.length?b:a;};d.yQa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nDa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d,a){var c,h,l,f,p;function b(a,b,c,d){a=h.VM.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(753);h=a(383);l=a(130);f=a(75);p=a(155);ia(b,h.VM);b.prototype.eib=function(a,b,d){var g,h,m;g=this;a=za(l.kv(function(a){return a.qc&&0<a.qc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.bsa(a));});m=this.config.gaa;a=za(l.kv(function(a){return 0===m.length||0<=m.indexOf(a.si);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.bsa(a));});a=h.map(function(a){var h;h=a.si;h={type:f.Uf.audio,Vb:a.io,jy:a.DL,si:p.VY[h.toLowerCase()]||p.No.qA,iz:h,wj:a.language,displayName:a.ZC,hk:a.hk,mCb:a.hk,lCb:Number(a.hk[0]),jj:g.a8a(a.io,b,d),Hf:{Bcp47:a.language,TrackId:a.io},qc:[],isNative:a.isNative};h.qc=g.mBa(a.qc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.qc.length,AllowedTimedTextTracks:h.jj.length});h.A1=c.nDa[h.qc[0].Me];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.rYa=function(a){var b,c;b=this;c=this.config.J3;if(c){if(a=za(a.filter(function(a){return a.wj==c||a.Vb==c;})).next().value)return a;}else if(this.j.pR&&(a=za(a.filter(function(a){return a.Vb==b.j.pR;})).next().value))return a;};b.prototype.bsa=function(a){return{language:a.ZC,bcp47:a.language,type:a.si};};b.prototype.a8a=function(a,b,c){return b.filter(function(b){return b.Iaa.AUDIO===a;}).map(function(a){return a.Iaa.Cha;}).map(function(a){return c.find(function(b){return b.Vb===a;});}).filter(Boolean);};d.mDa=b;},function(g,d){function a(a,c,d){this.log=a;this.j=c;this.Naa=d;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Bib=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Pc&&0<a.Pc.length;}).map(function(a){return b.Naa(b.j,a.id,a.height,a.width,a.gxa,a.hxa,a.size,{unknown:a.Pc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.eQa=a;},function(g,d){function a(a,c,d,g,f,p){this.k7=a;this.l1=c;this.TAa=d;this.lrb=g;this.Ama=f;this.kCa=p;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.JT=function(a){var b,d,g,f,p,m,k,n,r,v,t,w,D,y,E,P;a=this.k7.decode(a);b=this.l1.Twa(a.Ym,a.Ej,!0);d=this.TAa.zib(a.fBa);g=this.lrb.Bib(a.rBa);f=this.Ama.eib(a.H0,a.media,d);p=this.kCa.Cib(a.RV);m=this.tib(a,f,d);k=m[0];n=p[0];r=this.Ama.rYa(f)||k.Ic||f[0];k=this.TAa.yqb(r.jj)||k.kc||r.jj[0];v=this.kCa.uib(a.RV);t=a.cf;w=a.wna;D=a.osa;y=a.zj;E=a.H0.findIndex(function(a){return a.io==r.Vb;});P=a.RV.findIndex(function(a){return a.io==n.Vb;});return{po:v,Yh:b,wm:f,cq:p,jj:d,Ds:g,cf:t,Inb:w,Qu:D,zj:y,Qoa:E,Uoa:P,$T:m,z2:n,t2:r,y2:k,tGb:a};};a.prototype.tib=function(a,c,d){var b,f;b=[];f=a.Toa[0];b.push({Ic:c.find(function(a){return a.jy===f.CB;}),kc:d.find(function(a){return a.jy===f.GAa;}),vHb:0});return b;};d.hKa=a;},function(g,d,a){var c,h,l,f;function b(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.l1=d;this.M8=f;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(5);l=a(155);f=a(212);b.prototype.zib=function(a){var b;b=this;a=a.map(function(a){var d,f,g;d=b.Uqb(a);!1!==a.yS||d.length||b.log.error("track without downloadables",b.xra(a));!0!==a.uS||d.length||b.log.error("forced track without downloadables",b.xra(a));f={};g=[];if(0<d.length){f=d[0];g=f.profile;if(g==c.Uj.kA||g==c.Uj.YM)f=b.knb(d);g=b.l1.Twa(a.kna,void 0,!1);}a=b.M8(b.j,a.io,a.id,f.md,f.Pc||{},g,a.language,a.ZC,l.VY[a.si.toLowerCase()]||l.No.qA,a.iz.toUpperCase(),f.profile,b.L9a(f)||{},a.yS,a.uS,a.iJ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.yqb=function(a){var b,c;b=this;c=this.config.L3;if(c){if(a=za(a.filter(function(a){return a.wj==c||a.Vb==c;})).next().value)return a;}else if(this.j.qR&&(a=za(a.filter(function(a){return a.Vb==b.j.qR;})).next().value))return a;};b.prototype.Uqb=function(a){var b,c,d;b=this;c=a.uBa;d=a.opa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{md:d[a],profile:a,size:f.size||0,Cd:b.V8a(a,f),offset:f.JJ||0,Zib:f.width,dxa:f.height,Pc:f.Dr};});a.sort(function(a,b){return a.Cd-b.Cd;});return a;};b.prototype.V8a=function(a,b){var d,f;d=this.config.ys.indexOf(a);b=b.size;f=this.config.yE;return a===c.Uj.yW&&0<f&&b>f?this.config.ys.length+1:0<=d?d:this.config.ys.length;};b.prototype.L9a=function(a){if(a.profile===c.Uj.kA||a.profile===c.Uj.YM)return{offset:a.offset,length:a.size,UHb:{width:a.Zib,height:a.dxa}};};b.prototype.knb=function(a){var b,d;b=this.config.D5||f.QY.J4();d=za(a.filter(function(a){return a.profile===c.Uj.kA||a.profile===c.Uj.YM;}).filter(function(a){return a.dxa===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.uq.height,intendedResolution:b});return a[0];};b.prototype.xra=function(a){return{isNone:a.yS,isForced:a.uS,bcp47:a.language,id:a.io};};d.HPa=b;},function(g){g.M=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var b,c;b=a(758);d=a(49);c=a(390);a=d(function(a,d){return c(b(a),d);});g.M=a;},function(g,d,a){d=a(216);a=a(214);a=d(a);g.M=a;},function(g,d,a){d=a(49)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});g.M=d;},function(g,d,a){var b;d=a(49);b=a(761);a=d(function(a,d){return b([a],d);});g.M=a;},function(g,d,a){var b,c;d=a(49);b=a(387);c=function(){function a(a,b){this.XL=b;this.iI=a;}a.prototype["@@transducer/init"]=b.zc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.XL["@@transducer/step"](a,this.iI(b));};return a;}();a=d(function(a,b){return new c(a,b);});g.M=a;},function(g,d,a){var b,c,h,l,f,p;d=a(49);b=a(389);c=a(385);h=a(214);l=a(763);f=a(384);p=a(386);a=d(b(["fantasy-land/map","map"],l,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},p(b));default:return c(a,b);}}));g.M=a;},function(g,d,a){var b,c;d=a(49);b=a(764);c=a(762);a=d(function(a,d){return b(c(a),d);});g.M=a;},function(g,d,a){d=a(49)(function(a,c){return c>a?c:a;});g.M=d;},function(g,d,a){var c,h;function b(a,d,g){return function(){var n;for(var f=[],l=0,p=a,k=0;k<d.length||l<arguments.length;){k<d.length&&(!h(d[k])||l>=arguments.length)?n=d[k]:(n=arguments[l],l+=1);f[k]=n;h(n)||--p;k+=1;}return 0>=p?g.apply(this,f):c(p,b(a,f,g));};}c=a(213);h=a(156);g.M=b;},function(g,d,a){var b,c,h,l,f;d=a(49);b=a(385);c=a(384);h=a(766);l=a(765);f=a(760);a=d(function(a,d){return c(f(h,0,l("length",d)),function(){var c,f;c=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,c);},d));});});g.M=a;},function(g,d,a){var b;d=a(111);b=a(768);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.M=a;},function(g,d,a){var b,c;b=a(215);c=Object.prototype.toString;g.M=function(){return"[object Arguments]"===c.call(arguments)?function(a){return"[object Arguments]"===c.call(a);}:function(a){return b("callee",a);};};},function(g,d,a){var b,c;d=a(49);b=a(387);c=function(){function a(a,b){this.XL=b;this.iI=a;}a.prototype["@@transducer/init"]=b.zc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.iI(b)?this.XL["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new c(a,b);});g.M=a;},function(g,d,a){var b;b=a(213);d=a(49)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});g.M=d;},function(g){var d;d=function(){function a(a){this.iI=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.iI(a,c);};return a;}();g.M=function(a){return new d(a);};},function(g){g.M=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,c;d=a(111);b=a(388);c=a(774);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||c(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.M=a;},function(g){g.M=function(d,a){for(var b=0,c=a.length,g=[];b<c;)d(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.M=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var b;d=a(390);b=a(769);a=a(759);a=b([d,a]);g.M=a;},function(g,d,a){var b;d=a(216);b=a(215);a=d(function(a,d,g){var c,l;c={};for(l in d)b(l,d)&&(c[l]=b(l,g)?a(l,d[l],g[l]):d[l]);for(l in g)b(l,g)&&!b(l,c)&&(c[l]=g[l]);return c;});g.M=a;},function(g,d,a){var b,c;d=a(216);b=a(391);c=a(779);a=d(function l(a,d,g){return c(function(c,d,f){return b(d)&&b(f)?l(a,d,f):a(c,d,f);},d,g);});g.M=a;},function(g,d,a){var b;d=a(49);b=a(780);a=d(function(a,d){return b(function(a,b,c){return c;},a,d);});g.M=a;},function(g,d,a){var c;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(130);b.prototype.Twa=function(a,b,d){var f,g,l,h,k;f=this;g=this.config.k1;l=this.config.j1;a=za(c.kv(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>l.indexOf(a.id);},a||[]));h=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});k=h.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Od:a.Od,type:a.type,L6:a.key,HFb:a.Aua,location:{id:c.key,Od:c.Od,level:c.level,weight:c.weight,Yh:[]}};});k.sort(function(a,b){return a.Od-b.Od;});k.forEach(function(a){return a.location.Yh=k.filter(function(b){return b.L6===a.L6;});});this.log.trace("Transformed cdns",{Count:k.length});if(d&&!k.length)throw Error("no valid cdns");return k;};d.CEa=b;},function(g,d,a){var c,h,l,f,p,m,k,n,r,v,t,w,D;function b(a,b,c,d,f,g){this.$e=a;this.k7=b;this.config=c;this.M8=d;this.Naa=f;this.BV=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(157);f=a(392);p=a(782);m=a(757);k=a(756);n=a(755);r=a(754);v=a(752);t=a(382);w=a(381);a=a(380);b.prototype.create=function(a){var b,c;b=this.$e.lb("ManifestParser",a);c=new p.CEa(b,this.config);return new k.hKa(this.k7,c,new m.HPa(b,this.config,a,c,this.M8),new n.eQa(b,a,this.Naa),new r.mDa(b,this.config,a,this.BV),new v.yQa(b,this.BV));};D=b;D=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(l.Uea)),g.__param(2,c.l(f.Vea)),g.__param(3,c.l(t.Cga)),g.__param(4,c.l(a.Mha)),g.__param(5,c.l(w.Iha))],D);d.gKa=D;},function(g,d,a){var b,c,h,l,f,p,m,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(393);c=a(783);h=a(392);l=a(751);f=a(382);p=a(381);m=a(379);k=a(750);d.Deb=new g.Xb(function(d){d(h.Vea).to(l.fKa).$();d(b.Wea).to(c.gKa).$();d(f.Cga).Gg(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(211).RF;return new(Function.prototype.bind.apply(d,[null].concat(wb(c))))();});d(p.Iha).Gg(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(343).wEa;return new(Function.prototype.bind.apply(d,[null].concat(wb(c))))();});d(m.Xea).hh(function(){return function(a){return new k.kKa(a);};});});},function(g,d,a){var c,h,l,f,p,m,k,n,r;function b(a,b,c,d,f,g){this.fC=a;this.Pd=b;this.config=c;this.Fj=f;this.br=g;this.log=d.lb("CDMAttestedDescriptor");this.bra();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(120);l=a(44);f=a(20);p=a(7);m=a(76);k=a(100);n=a(65);r=a(241);b.prototype.bra=function(){var a;a=this;return this.config().j5a?this.ara().then(function(b){if(b)return Promise.resolve(void 0);a.Yta||(a.Yta=a.D9a());return a.Yta;}).then(function(b){return Promise.all([Promise.resolve(b),a.ara()]);}).then(function(a){var b;a=za(a);b=a.next().value;if(!a.next().value)return b;}):(this.Fj.If.removeServiceToken("cad"),Promise.resolve(void 0));};b.prototype.D9a=function(){var a;a=this;return this.fC().then(function(b){var c;c={type:m.xi.Vs,hS:a.Pd.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="),context:{zd:a.config().zd}};return b.R7a(c,new r.YX());}).then(function(b){var c;c=a.Pd.encode(b.C6.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.ara=function(){var a;a=this;return this.br().then(function(b){return(b=a.Fj.If.getServiceTokens(b.profile.id))&&b.find(function(a){return"cad"===a.name;});});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.xM)),g.__param(1,c.l(l.kj)),g.__param(2,c.l(f.me)),g.__param(3,c.l(p.rb)),g.__param(4,c.l(k.ow)),g.__param(5,c.l(n.iq))],a);d.ZDa=a;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(785),d);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(394);c=a(786);d.AZa=new g.Xb(function(a){a(b.aca).to(c.ZDa).$();});},function(g,d,a){var c,h,l;function b(a){this.Oa=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(23);l=a(4);b.prototype.zpb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Oa.Af(c)?d=Math.round(c*b.na(l.Ba)/100):(a=parseInt(a),this.Oa.$o(a)&&(d=a));return l.xb(Math.min(d,b.na(l.Ba)));};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.we))],a);d.MDa=a;},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(20);b.prototype.u4=function(){return this.Eu().WYa;};b.prototype.v4=function(){return this.Eu().XYa;};b.prototype.q9a=function(){return this.Eu().YYa;};b.prototype.d4=function(){return this.Eu().Nma;};b.prototype.Eu=function(){return this.config();};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.me))],h);d.LDa=h;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c,d){this.NP=b;this.Oa=c;this.VYa=d;this.ga=a.lb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(396);l=a(395);f=a(7);p=a(23);m=a(4);b.prototype.Zla=function(a){var b,c;b=a.Za.playbackState&&a.Za.playbackState.currentTime;c=this.A8a(a.R);b=this.Oa.kk(b)?m.xb(b):c;if(this.Oa.Yg(b))this.ga.info("Overriding bookmark",{From:a.FE.na(m.Ba),To:b.na(m.Ba)}),a=Object.assign({},a,{FE:b});else if(this.ybb(a))return this.ga.trace("Ignoring bookmark because it's too close to beginning"),m.Ih(0);return this.xbb(a)?(this.ga.trace("Ignoring bookmark because it's too close to end"),m.Ih(0)):a.FE;};b.prototype.ybb=function(a){return 0>a.FE.nl(this.u4(a));};b.prototype.u4=function(a){return this.Oma(this.NP.u4(),a.TT);};b.prototype.xbb=function(a){return 0<a.FE.nl(this.v4(a));};b.prototype.v4=function(a){var b;b=a.Za.rf?this.NP.q9a():this.NP.v4();return a.TT.Fd(this.Oma(b,a.TT));};b.prototype.A8a=function(a){var b;a=this.NP.d4()[a];b=-1;this.Oa.rh(a)?b=parseInt(a):this.Oa.Af(a)&&(b=a);if(this.Oa.$o(b))return m.xb(b);};b.prototype.Oma=function(a,b){return this.VYa.zpb(a,b);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(f.rb)),g.__param(1,c.l(h.Vba)),g.__param(2,c.l(p.we)),g.__param(3,c.l(l.Uba))],a);d.NDa=a;},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(217);c=a(396);h=a(395);l=a(790);f=a(789);p=a(788);d.R0=new g.Xb(function(a){a(b.nW).to(l.NDa).$();a(c.Vba).to(f.LDa).$();a(h.Uba).to(p.MDa).$();});},function(g,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});ia(a,Error);d.pea=a;},function(g,d,a){var c,h,l,f;function b(a){this.Oa=a;this.F_={};this.Zka={};for(var b in c.VE)this.Oa.Af(parseInt(b))&&(this.Zka[c.VE[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(218);h=a(792);l=a(1);a=a(23);b.prototype.track=function(a){var b;if(this.Oa.rh(a)){if(!this.Zka[a])throw new h.pea("Cast Interaction type "+a+" is undefined.");}else{if(!this.Oa.kk(c.VE[a]))throw new h.pea("Cast Interaction type "+a+" is undefined.");a=c.VE[a];}b=this.F_[a];this.F_[a]=b?b+1:1;};f=b;f=g.__decorate([l.N(),g.__param(0,l.l(a.we))],f);d.AEa=f;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(218);c=a(793);d.VP=new g.Xb(function(a){a(b.jca).to(c.AEa);});},function(g,d,a){var h,l,f;function b(a,b,c){var d;d=this;this.ga=a;this.valid=!0;this.b3=!1;this.context=c.context;this.size=c.size;this.$g=b.create().then(function(a){d.storage=a;return a.vJ("mediacache").then(function(a){d.keys=a;});});}function c(a,b){this.$e=a;this.tf=b;this.PH={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(7);a=a(53);c.prototype.jQ=function(a){this.PH[a.context]=new b(this.$e.lb("DiskStorageContext"),this.tf,a);return this.PH[a.context];};f=c;f=g.__decorate([h.N(),g.__param(0,h.l(l.rb)),g.__param(1,h.l(a.Ul))],f);d.qGa=f;b.prototype.create=function(a,b,c,d){var f,g,l;f=this;g=this.getKey(a,b);l=Date.now();this.$g.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ga.trace("create succeeded for "+g+", "+(Date.now()-l)+" ms");d(f.MR(a,b));});})["catch"](function(c){f.ga.trace("create failed",c);d(f.Fu(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ga.trace("append "+c);d(this.Fu(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.$g.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ga.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.MR(a,b));});c(d.MR(a,b));})["catch"](function(f){d.ga.trace("remove failed",f);c(d.Fu(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,l,h;g=this;l=this.getKey(a,b);h=Date.now();0!==c||-1!=d?f(this.Fu(a,b,"byteStart/byteEnd combination is not supported")):this.$g.then(function(){if(g.keys.hasOwnProperty(l))return g.storage.load(l).then(function(m){g.ga.trace("read succeeded for "+l+", "+(Date.now()-h)+" ms");f(Object.assign(g.MR(a,b),{value:m.value,QBb:c,end:d}));});f(g.Fu(a,b,"Item doesn't exist"));})["catch"](function(c){g.ga.trace("read failed",c);f(g.Fu(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ga.trace("info ");this.$g.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.A8(c);a[c.CH]||(a[c.CH]={});a[c.CH][c.Ru]={size:0};return a;},{}),total:b.size,aJb:0};a(c);})["catch"](function(c){b.ga.trace("info failed",c);a(b.Fu(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.$g.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.A8(b).Ru]={size:0};return a;},{});d.ga.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ga.trace("query failed",a);c({});});};b.prototype.Co=function(a){var b;b=this;this.ga.trace("validate");this.$g.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.A8(c).Ru]={size:0};return a;},{});a(c);})["catch"](function(c){b.ga.trace("validate failed",c);a(b.Fu(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.MR=function(a,b){return{S:!0,CH:void 0===a?"":a,key:void 0===b?"":b,hsb:0,ci:this.size};};b.prototype.Fu=function(a,b,c){return{S:!1,error:c,CH:void 0===a?"":a,key:void 0===b?"":b,hsb:0,ci:this.size};};b.prototype.A8=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{CH:a,Ru:b};};d.Yub=b;},function(g,d,a){var c,h;function b(a){var b;b=this;this.tf=a;this.tf.create().then(function(a){b.storage=a;});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(53);b.prototype.getData=function(){var a;a=this.storage;return a?a.x$a():{};};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.Ul))],h);d.YCa=h;},function(g,d,a){var c,h,l;function b(a){this.$e=a;this.Yr={};this.ga=this.$e.lb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);a=a(7);b.prototype.load=function(a){var b;if(this.Yr.hasOwnProperty(a)){b=this.Yr[a];this.ga.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ga.debug("Storage entry not found",{key:a});return Promise.reject({T:h.H.cm});};b.prototype.save=function(a,b,c){if(c&&this.Yr.hasOwnProperty(a))return Promise.resolve(!1);this.Yr[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Yr[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Yr).map(function(b){return{key:b,value:a.Yr[b]};});return Promise.resolve(b);};b.prototype.vJ=function(a){var b;b=Object.keys(this.Yr).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Yr={};return Promise.resolve();};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.rb))],l);d.AKa=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qFa="__default_rule_key__";},function(g,d,a){var h,l,f,p,m,k,n,r;function b(a,b,c,d){this.ga=a;this.config=b;this.vbb=c;this.I7=d;this.En={mem:{storage:this.I7,cc:this.ooa(),key:"mem"}};this.qva=!1;this.Cv=this.config.Cv;}function c(a,b,c,d){this.$e=a;this.tf=b;this.I7=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);f=a(158);p=a(7);m=a(398);k=a(798);n=a(219);a=a(52);c.prototype.create=function(){this.zH||(this.zH=this.UB());return this.zH;};c.prototype.UB=function(){this.EXa=new b(this.$e.lb("AppStorage"),this.config,this.tf,this.I7);return this.EXa.create();};r=c;r=g.__decorate([h.N(),g.__param(0,h.l(p.rb)),g.__param(1,h.l(f.KX)),g.__param(2,h.l(m.efa)),g.__param(3,h.l(a.Xl))],r);d.XCa=r;b.prototype.create=function(){var a;a=this;return this.o2a().then(function(b){if(!a.TZa(b,a.config.C5))throw a.Ggb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=b.j4(a);g=Date.now();f.storage.load(a).then(function(a){b.Qk(f.key,"load",!0,g);c(a);})["catch"](function(a){b.Qk(f.key,"load",(a&&(a.T||a.errorSubCode))===l.H.cm,g);d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){var l,h;l=d.j4(a);h=Date.now();l.storage.save(a,b,c).then(function(a){d.Qk(l.key,"save",!0,h);f(a);})["catch"](function(a){d.Qk(l.key,"save",!1,h);g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=b.j4(a);g=Date.now();f.storage.remove(a).then(function(){b.Qk(f.key,"remove",!0,g);c();})["catch"](function(a){b.Qk(f.key,"remove",!1,g);d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){var d;a.rya("mem").then(function(){d=Date.now();return a.rya("idb");})["catch"](function(b){a.Qk("idb","removeAll",!1,d);return Promise.reject(b);}).then(function(){a.Qk("idb","removeAll",!0,d);b();})["catch"](function(b){a.ga.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b,c;a=this;b=[];return this.fua("mem").then(function(d){b=b.concat(d);c=Date.now();return a.fua("idb");})["catch"](function(b){a.Fcb(b)||(a.Qk("idb","loadAll",!1,c),a.ga.error("IndexedDb.LoadAll exception",b));return[];}).then(function(d){b=b.concat(d);a.Qk("idb","loadAll",!0,c);return b;})["catch"](function(b){a.ga.error("load all failed",b);throw b;});};b.prototype.vJ=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=Date.now();g=b.En.idb;g?g.storage.vJ(a).then(function(a){b.Qk("idb","loadKeys",!0,f);c(a);})["catch"](function(a){b.Qk("idb","loadKeys",!1,f);b.ga.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.x$a=function(){var a;a={memSubs:this.qva};this.En.idb&&(a.idb=this.y$a());return a;};b.prototype.o2a=function(){var a;a=this;return this.vbb.create().then(function(b){a.En.idb={storage:b,cc:a.ooa(),key:"idb"};})["catch"](function(b){a.qva=!0;a.ga.error("idb failed to load",b);return b||{T:l.H.Qh};});};b.prototype.TZa=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Ggb=function(a){var b;b="";a&&(b+=a.T);return{T:b};};b.prototype.y$a=function(){var a,b,c;a=this;c=this.En.idb;c&&(b=n.rha.reduce(function(b,d){b[d]=a.z$a(c.cc[d]);return b;},{}));return b;};b.prototype.z$a=function(a){return{count:a.count,succ:a.HAa,total:a.total,max:a.max};};b.prototype.rya=function(a){return(a=this.En[a])?a.storage.removeAll():Promise.resolve();};b.prototype.fua=function(a){return(a=this.En[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.f7a=function(a){for(var b in this.Cv)if(a.startsWith(b))return this.Cv[b];return this.Cv[k.qFa];};b.prototype.j4=function(a){var b,c;b=this;this.f7a(a).every(function(a){return b.En[a]?(c=b.En[a],!1):!0;});c||(this.ga.error("component not found for storageKey",{qpb:a,IBb:Object.keys(this.En),rules:this.Cv}),c=this.En.mem);this.ga.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.ooa=function(){return n.rha.reduce(function(a,b){a[b]={count:0,total:0,HAa:0,max:0};return a;},{});};b.prototype.Qk=function(a,b,c,d){d=Date.now()-d;if(a=this.En[a])b=a.cc[b],b.count++,c&&(b.HAa++,b.total+=d,d>b.max&&(b.max=d));};b.prototype.Fcb=function(a){return(a&&(a.T||a.errorSubCode))===l.H.cm;};d.Eba=b;},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(52);na.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.$$;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.SAa;}}});h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.Xl))],h);d.UEa=h;},function(g,d,a){var c,h,l,f,p;function b(a,b){a=l.Xd.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.Ry="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(35);l=a(38);f=a(52);a=a(25);ia(b,l.Xd);na.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Fm?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.$$;}},AP:{configurable:!0,enumerable:!0,get:function(){return this.config.AP;}},M$:{configurable:!0,enumerable:!0,get:function(){return 0;}},$K:{configurable:!0,enumerable:!0,get:function(){return 0;}},wqa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});p=b;g.__decorate([h.config(h.Mv,"simulateIdbOpenError")],p.prototype,"M$",null);g.__decorate([h.config(h.Mv,"simulateIdbLoadAllError")],p.prototype,"$K",null);g.__decorate([h.config(h.Yd,"fixInvalidDatabase")],p.prototype,"wqa",null);p=g.__decorate([c.N(),g.__param(0,c.l(a.Ci)),g.__param(1,c.l(f.Xl))],p);d.PIa=p;},function(g,d,a){var h,l,f;function b(a,b,c){this.config=a;this.Hk=b;this.gs=c;}function c(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(70);(function(a){a[a.hY=0]="NoData";a[a.Error=1]="Error";a[a.Bw=2]="Timeout";}(f=d.mOa||(d.mOa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.bR("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.H.fha;switch(a.reason){case f.hY:b=h.H.cm;break;case f.Bw:b=h.H.UOa;}d({T:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,l){d.bR(c?"add":"put",!0,{name:a,data:b}).then(function(){g(!c);})["catch"](function(a){var b;b=h.H.iha;switch(a.reason){case f.Bw:b=h.H.XOa;}l({T:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.bR("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.H.JY;switch(a.reason){case f.Bw:b=h.H.dha;}d({T:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.bR("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.H.JY;switch(a.reason){case f.Bw:b=h.H.dha;}c({T:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.Hk.Il(this.config.timeout,new Promise(function(b,d){var g,l,h;if(a.config.$K)d(new c(a.config.$K));else{g=[];l=a.gs.transaction(a.config.Ry,"readonly");h=l.objectStore(a.config.Ry).openCursor();l.onerror=function(){d(new c(f.Error,h.error));};h.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(w){d(new c(f.Error,w));}else b(g);};h.onerror=function(){d(new c(f.Error,h.error));};}}))["catch"](function(a){return a instanceof l.nn?Promise.reject(new c(f.Bw,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};b.prototype.vJ=function(a){var b;b=this;return this.Hk.Il(this.config.timeout,new Promise(function(d,g){var l,h,m;if(b.config.$K)g(new c(b.config.$K));else{l={};h=b.gs.transaction(b.config.Ry,"readonly");m=h.objectStore(b.config.Ry).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);h.onerror=function(){g(new c(f.Error,m.error));};m.onsuccess=function(b){var h,m;try{h=b.target.result;if(h){m=h.key;a&&0!==m.indexOf(a)?d(l):(l[m]=void 0,h["continue"]());}else d(l);}catch(E){g(new c(f.Error,E));}};m.onerror=function(){g(new c(f.Error,m.error));};}}))["catch"](function(a){return a instanceof l.nn?Promise.reject(new c(f.Bw,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};b.prototype.bR=function(a,b,d){var g;g=this;return this.Hk.Il(this.config.timeout,new Promise(function(l,h){var m,k;m=g.gs.transaction(g.config.Ry,b?"readwrite":"readonly");k=m.objectStore(g.config.Ry)[a](d);m.onerror=function(){h(new c(f.Error,k.error));};k.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?l(d.data):h(new c(f.hY));}catch(E){h(new c(f.hY,E));}else l();};k.onerror=function(){h(new c(f.Error,k.error));};}))["catch"](function(a){return a instanceof l.nn?Promise.reject(new c(f.Bw,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};d.OIa=b;},function(g,d,a){var l,f,k,m,q,n,r,v,t,w,D,y;function b(a,b,c,d,f,g){this.config=b;this.EH=c;this.tf=d;this.rsb=f;this.Ok=g;this.ga=a.lb(n.NY);}function c(a,b){this.config=a;this.zs=b;}function h(a,b,c,d,f){this.config=b;this.zs=c;this.Ok=f;this.ga=a.lb(n.NY);this.EH=new Promise(function(a,b){var c;try{c=d();c?a(c):b({T:q.H.Hda});}catch(da){b({T:q.H.QM,cause:da});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(7);k=a(802);m=a(159);q=a(2);n=a(401);r=a(402);v=a(70);t=a(53);w=a(115);D=a(158);y=a(61);h.prototype.create=function(){this.k2||(this.k2=this.UB());return this.k2;};h.prototype.Kn=function(a){var b;b=this;this.k2=null;return this.zs.Il(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof v.nn?Promise.reject({T:q.H.QM}):a.T?Promise.reject(a):Promise.reject({T:q.H.QM,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.zs.Il(this.config.timeout,new Promise(function(c,d){b.EH.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({T:q.H.QM,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.UB=function(){var a,b;a=this;return this.zs.Il(this.config.timeout,new Promise(function(c,d){a.config.M$?d({T:a.config.M$}):a.EH.then(function(f){a.Ok.mark(y.oj.$Ha);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.Ok.mark(y.oj.XHa);d({T:q.H.THa});},b.onupgradeneeded=function(){var c;a.Ok.mark(y.oj.gIa);c=b.result;try{c.createObjectStore(a.config.Ry,{keyPath:"name"});}catch(X){a.ga.error("Exception while creating object store",X);}},b.onsuccess=function(g){var l,h;a.Ok.mark(y.oj.fIa);try{l=g.target.result;h=l.objectStoreNames.length;a.ga.trace("objectstorenames length ",h);if(0===h){a.ga.error("invalid indexedDb state, deleting");a.Ok.mark(y.oj.ZHa);try{l.close();}catch(da){}f.deleteDatabase(a.config.name);setTimeout(function(){d({T:q.H.SHa});},1);return;}}catch(da){a.ga.error("Exception while inspecting indexedDb objectstorenames",da);}c(b.result);},b.onerror=function(){a.Ok.mark(y.oj.YHa);a.ga.error("IndexedDB open error",b.error);d({T:q.H.UHa,cause:b.error});}):d({T:q.H.Ida});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof v.nn){try{b&&b.readyState&&a.Ok.mark("readyState-"+b.readyState);}catch(la){}if(a.config.AP&&b&&"done"===b.readyState){if(a.nsb(b))return a.Ok.mark(y.oj.dIa),Promise.resolve(b.result);a.Ok.mark(y.oj.cIa);}a.Ok.mark(y.oj.bIa);return Promise.reject({T:q.H.WHa});}if(c.T)return Promise.reject(c);a.Ok.mark(y.oj.aIa);a.ga.error("IndexedDB open exception occurred",c);return Promise.reject({T:q.H.VHa,cause:c});});};h.prototype.nsb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(P){this.Ok.mark(y.oj.eIa);this.ga.error("failed to check open request state",P);}return!1;};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(f.rb)),g.__param(1,l.l(r.SM)),g.__param(2,l.l(v.uA)),g.__param(3,l.l(m.Gda)),g.__param(4,l.l(w.Dw))],a);d.QHa=a;c.prototype.create=function(a){return Promise.resolve(new k.OIa(this.config,this.zs,a));};a=c;a=g.__decorate([l.N(),g.__param(0,l.l(r.SM)),g.__param(1,l.l(v.uA))],a);d.QIa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.zH||(this.zH=this.UB(this.rsb));return this.zH;};b.prototype.UB=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Ok.mark(y.oj.OOa);b.EH.create().then(function(f){b.tf.create(f).then(function(g){Promise.all(a.map(function(a){return a.Co(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ga.debug("DB validation failed, cause: "+a);b.config.wqa?(b.ga.debug("Fixing corrupt DB"),b.EH.Kn(f).then(function(){b.ga.error("Invalid database deleted, creating new database.");b.UB().then(function(a){b.ga.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ga.error("Couldn't delete invalid database.");d(a);})):(b.ga.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([l.N(),g.__param(0,l.l(f.rb)),g.__param(1,l.l(r.SM)),g.__param(2,l.l(D.Fda)),g.__param(3,l.l(D.kea)),g.__param(4,l.Iy(t.sha)),g.__param(5,l.l(w.Dw))],a);d.RIa=a;},function(g,d,a){var c,h,l;function b(a){this.gs=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);a=a(159);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.gs.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(v){}c({key:a,value:g});}else d({T:h.H.cm});}catch(v){d({T:h.H.fha,cause:v});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.gs.getItem(a))f(!1);else try{"string"===typeof b?d.gs.setItem(a,b):d.gs.setItem(a,JSON.stringify(b));f(!0);}catch(v){g({T:h.H.iha,cause:v});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.gs.removeItem(a);c();}catch(u){d({T:h.H.JY,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.vJ=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.cLa))],l);d.lJa=l;},function(g,d,a){var c,h,l,f,k;function b(a,b,c){this.Hk=b;this.config=c;this.ga=a.lb(f.NY);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(70);f=a(401);a=a(400);b.prototype.Co=function(a){return this.config.enabled?this.config.timeout?this.Hk.Il(this.config.timeout,this.lpa(a)):this.lpa(a):Promise.resolve();};b.prototype.lpa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ga.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ga.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=b;k=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(l.uA)),g.__param(2,c.l(a.uca))],k);d.TEa=k;},function(g,d,a){var b,c,h,l,f,k,m,q,n,r,v,t,w,D,y,E,P,G,F;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(402);c=a(53);h=a(159);l=a(805);f=a(399);k=a(804);m=a(400);q=a(158);n=a(803);r=a(801);v=a(800);t=a(799);w=a(53);D=a(398);y=a(797);E=a(219);P=a(796);G=a(397);F=a(795);d.storage=new g.Xb(function(a){a(h.tfa).hh(function(){return function(){return A.localStorage;};});a(h.Gda).hh(function(){return function(){return A.indexedDB;};});a(E.Fba).to(P.YCa).$();a(D.efa).to(y.AKa).$();a(w.Ul).to(t.XCa).$();a(f.Aea).to(k.lJa).$();a(b.SM).to(r.PIa).$();a(q.kea).to(n.QIa).$();a(c.sha).to(l.TEa).$();a(q.Fda).to(n.QHa).$();a(q.KX).to(n.RIa).$();a(m.uca).to(v.UEa).$();a(G.Mca).to(F.qGa).$();});},function(g,d,a){var c,h,l;function b(a){this.Vjb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(220);a=a(403);b.prototype.T6a=function(){var a,b;a={hI:h.cw.Unknown};b=this.Vjb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.hI=b.value?h.cw.Present:h.cw.Absent;if(a.hI===h.cw.ktb){c=function(){b.value&&(a.hI=h.cw.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.hI=h.cw.Error;});return a;};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.Iga))],l);d.kHa=l;},function(g,d,a){var c,h,l;function b(a,b){this.iva=a;this.log=b.lb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(405);h=a(7);a=a(1);b.prototype.u3=function(a){var b,c,d;b=this;c={ic:void 0};if(this.iva.jva){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,O:1E3*a.O,uR:"24"};this.iva.u3(d).then(function(a){return c.ic=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=b;l=g.__decorate([a.N(),g.__param(0,a.l(c.$ea)),g.__param(1,a.l(h.rb))],l);d.oKa=l;},function(g,d,a){var c,h;function b(a){this.navigator=a;this.jva="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(39);b.prototype.u3=function(a){return this.jva?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.O,framerate:a.uR}}).then(function(a){return{AIb:a.supported,Mob:a.smooth,Bjb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.CF))],h);d.nKa=h;},function(g,d,a){var c,h;function b(a,b,d,g){a=c.Wl.call(this,a,b,d)||this;a.jp=g;a.type=h.pj.lha;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(131);h=a(26);ia(b,c.Wl);b.prototype.FI=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.jp.Jh.toString()});};d.ZOa=b;},function(g,d,a){var c,h,l;function b(a,b,d,g,l,k){a=c.Wl.call(this,a,b,d)||this;a.Pm=g;a.bo=l;a.Ma=k;a.type=h.pj.tW;a.log=a.bo.lb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(131);h=a(26);l=a(4);ia(b,c.Wl);b.prototype.Wp=function(a){switch(a){case h.kh.Ho:return this.Tpb;default:return Promise.resolve(!1);}};b.prototype.FC=function(){var a;a=this;return this.Wp(h.kh.Ho).then(function(a){return a?h.kh.Ho:void 0;}).then(function(b){return a.yH(b);});};b.prototype.b0=function(a){return this.nv=a;};b.prototype.JL=function(){var a;if(this.nv){a=this.wsa&&this.xsa&&this.wsa.Fd(this.xsa).na(l.Ba);this.nv.itshdcp=JSON.stringify({hdcp1:this.Nr,time1:a});}};na.Object.defineProperties(b.prototype,{Ak:{configurable:!0,enumerable:!0,get:function(){this.lva||(this.lva=this.Pm.DI().then(function(a){return a.createMediaKeys();}));return this.lva;}},Tpb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.iaa||(this.config().o5a?this.iaa=this.Ak.then(function(b){if(b&&b.getStatusForPolicy)return a.xsa=a.Ma.cg,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.wsa=a.Ma.cg;a.Nr=b;a.log.trace("hdcpStatus: "+a.Nr);return"usable"===a.Nr;});a.Nr="not available";a.log.trace("hdcpStatus: "+a.Nr);return!1;})["catch"](function(b){a.Nr="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Nr},b);return!1;}).then(function(b){a.JL();return b;}):(this.Nr="not enabled",this.log.trace("hdcpStatus: "+this.Nr),this.JL(),this.iaa=Promise.resolve(!1)));return this.iaa;}}});d.HEa=b;},function(g,d,a){var c,h,l,f,k,m,q,n,r,v,t,w,D,y,E,P,G,F,L;function b(a,b,c,d,f,g,m){a=h.Wl.call(this,a,b,c)||this;a.ja=d;a.Ma=f;a.bo=g;a.Pd=m;a.type=l.pj.lw;a.TE="hvc1";a.cEa="avc1";a.ixa={};a.log=a.bo.lb("MicrosoftVideoCapabilityDetector");a.ME[l.vd.Do]=n.le.eF;a.Xob();a.lL&&a.config().zfb?a.M4a=a.k2a():(a.M4a=Promise.resolve(""),a.config().Bfb?a.n2a():a.config().Afb&&a.m2a());return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(131);l=a(26);g=a(96);f=a(137);k=a(86);m=a(4);q=a(231);n=a(132);r=a(221);v="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");t="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");w="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");D="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");y="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");E="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");P=["hdcp=1"];G=["hdcp=2"];F=new g.zw();L=new q.jW();ia(b,h.Wl);b.prototype.Wp=function(a){switch(a){case l.kh.Ho:return this.JAa();case l.kh.gw:return this.qK;default:return Promise.resolve(!1);}};b.prototype.CC=function(){return this.lL?this.tbb?this.JAa().then(function(a){return Promise.resolve(a?f.bb.Vc:f.bb.JF);}):Promise.resolve(f.bb.JF):this.Upb?Promise.resolve(f.bb.JF):Promise.resolve(f.bb.Ko);};b.prototype.mL=function(){return this.Spb();};b.prototype.oL=function(){return this.lL&&this.LAa()?this.qK:Promise.resolve(!1);};b.prototype.kL=function(){return this.Rpb();};b.prototype.b0=function(a){this.nv=a;Object.assign(this.nv,this.ixa);a.itshwdrm=this.lL;a.itsqhd=this.KAa();a.itshevc=this.LAa();a.itshdr=this.mL();a.itsdv=this.kL();return a;};b.prototype.OG=function(a,b){(this.nv?this.nv:this.ixa)[a]=b;};b.prototype.FC=function(){var a;a=this;return this.Wp(l.kh.gw).then(function(b){return b?a.yH(l.kh.gw):a.Wp(l.kh.Ho).then(function(b){return b?a.yH(l.kh.Ho):a.yH(void 0);});});};b.prototype.FI=function(){return this.CC().then(function(a){return a===f.bb.Vc?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.x3=function(a){var b;b=this;return a.filter(function(a){var c,g;for(var c=za(b.js),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=za(b.Tm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.b9[a];c=[];g=f.bb.Ko;if(a)return b.is.rh(a)?d=a:(c=a.Sc,d=a.$d,g=a.fe),b.hu(g,d,c);});};b.prototype.Hx=function(){var a;a=h.Wl.prototype.Hx.call(this);a[c.ba.uN]="vp09.00.11.08.02";a[c.ba.vN]="vp09.00.11.08.02";a[c.ba.wN]="vp09.00.11.08.02";a[c.ba.gX]={$d:"hev1.2.6.L90.B0",fe:f.bb.Vc,Sc:v};a[c.ba.jX]={$d:"hev1.2.6.L93.B0",fe:f.bb.Vc,Sc:v};a[c.ba.mX]={$d:"hev1.2.6.L120.B0",fe:f.bb.Vc,Sc:v};a[c.ba.pX]={$d:"hev1.2.6.L123.B0",fe:f.bb.Vc,Sc:v};a[c.ba.hF]={$d:"hev1.2.6.L150.B0",fe:f.bb.Vc,Sc:v};a[c.ba.iF]={$d:"hev1.2.6.L153.B0",fe:f.bb.Vc,Sc:v};a[c.ba.hX]={$d:"hev1.2.6.L90.B0",fe:f.bb.Vc,Sc:v};a[c.ba.kX]={$d:"hev1.2.6.L93.B0",fe:f.bb.Vc,Sc:v};a[c.ba.nX]={$d:"hev1.2.6.L120.B0",fe:f.bb.Vc,Sc:v};a[c.ba.qX]={$d:"hev1.2.6.L123.B0",fe:f.bb.Vc,Sc:v};a[c.ba.rX]={$d:"hev1.2.6.L150.B0",fe:f.bb.Vc,Sc:v};a[c.ba.sX]={$d:"hev1.2.6.L153.B0",fe:f.bb.Vc,Sc:v};a[c.ba.GM]={$d:"hev1.2.6.L90.B0",fe:f.bb.Vc,Sc:w};a[c.ba.HM]={$d:"hev1.2.6.L93.B0",fe:f.bb.Vc,Sc:w};a[c.ba.IM]={$d:"hev1.2.6.L120.B0",fe:f.bb.Vc,Sc:w};a[c.ba.JM]={$d:"hev1.2.6.L123.B0",fe:f.bb.Vc,Sc:D};a[c.ba.bX]={$d:"hev1.2.6.L150.B0",fe:f.bb.Vc,Sc:D};a[c.ba.dX]={$d:"hev1.2.6.L153.B0",fe:f.bb.Vc,Sc:D};a[c.ba.pM]={$d:"hev1.2.6.L90.B0",fe:f.bb.Vc,Sc:y};a[c.ba.qM]={$d:"hev1.2.6.L93.B0",fe:f.bb.Vc,Sc:y};a[c.ba.rM]={$d:"hev1.2.6.L120.B0",fe:f.bb.Vc,Sc:y};a[c.ba.sM]={$d:"hev1.2.6.L123.B0",fe:f.bb.Vc,Sc:E};a[c.ba.tM]={$d:"hev1.2.6.L150.B0",fe:f.bb.Vc,Sc:E};a[c.ba.uM]={$d:"hev1.2.6.L153.B0",fe:f.bb.Vc,Sc:E};return a;};b.prototype.hu=function(a,b,c){a=r.nw.lQ(a,b,c);return this.pr(a);};b.prototype.KAa=function(){return this.hu(f.bb.Vc,this.TE,v);};b.prototype.Spb=function(){return this.hu(f.bb.Vc,this.TE,w);};b.prototype.Rpb=function(){return this.hu(f.bb.Vc,this.TE,y);};b.prototype.LAa=function(){return this.hu(f.bb.Vc,this.TE,t);};b.prototype.JAa=function(){var a;a=this;return this.qK.then(function(b){return b?Promise.resolve(b):a.Pxa;});};b.prototype.JL=function(){this.nv&&(this.nv.itshdcp=JSON.stringify({hdcp1:this.usa,time1:this.ZAa-this.uAa,hdcp2:this.vsa,time2:this.$Aa-this.vAa}));};b.prototype.Xob=function(){var a;a=this;this.lL?(this.O8=new k.Bi(),this.P8=new k.Bi(),this.Pxa=k.sa.from(this.O8).Caa().then(function(a){return"probably"===a;}),this.qK=k.sa.from(this.P8).Caa().then(function(a){return"probably"===a;}),this.dAa(this.P8,this.config().Dfb),this.sxa(this.l9a.bind(this),this.P8),this.qK.then(function(b){b||(a.dAa(a.O8,a.config().Cfb),a.sxa(a.k9a.bind(a),a.O8));})):(this.Pxa=Promise.resolve(!0),this.qK=Promise.resolve(!1));};b.prototype.sxa=function(a,b){k.sa.zs(0,this.config().Efb).map(function(){return a();}).aL(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).uL(k.sa.from(b)).Caa();};b.prototype.dAa=function(a,b){this.ja.Mf(m.xb(b),function(){a.next("timeout");a.complete();});};b.prototype.k9a=function(){var a;a=r.nw.lQ(f.bb.JF,this.cEa,P).split("|");this.usa=r.nw.haa(a[0],a[1]);this.ZAa=this.Ma.cg.na(m.Ba);this.uAa=this.uAa||this.ZAa;this.JL();return this.usa;};b.prototype.l9a=function(){var a;a=r.nw.lQ(f.bb.Vc,this.TE,G).split("|");this.vsa=r.nw.haa(a[0],a[1]);this.$Aa=this.Ma.cg.na(m.Ba);this.vAa=this.vAa||this.$Aa;this.JL();return this.vsa;};b.prototype.k2a=function(){var a;a=this;return this.X1(f.bb.Vc,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.OG("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.m2a=function(){var a;a=this;this.X1(f.bb.Ko,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Pd.decode(b));a.OG("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.OG("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.n2a=function(){var a;a=this;this.X1(f.bb.Ko,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Pd.decode(b));a.OG("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.OG("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.X1=function(a,b){var c;c=this;return new Promise(function(d,f){var q,n,r;function g(a){try{k(a.target,"Unexpectedly got an mskeyerror event: 0x"+L.uI(a&&a.target&&a.target.error&&a.target.error.CIb||0,4));}catch(ma){k(a.target,ma);}}function l(a){k(a.target,"Unexpectedly got an mskeyadded event");}function h(a){var b;try{b=c.q3(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(ta){k(a.target,ta);}}function k(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);f(d);}function p(a){a.removeEventListener("mskeymessage",h);a.removeEventListener("mskeyadded",l);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{n=new Uint8Array(F.ypb(b));r=new A.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);r.addEventListener("mskeymessage",h);r.addEventListener("mskeyadded",l);r.addEventListener("mskeyerror",g);q=c.ja.Mf(m.xb(1E3),function(){k(r,Error("timeout"));});}catch(fa){f(fa);}});};b.prototype.q3=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};na.Object.defineProperties(b.prototype,{tbb:{configurable:!0,enumerable:!0,get:function(){return this.config().n5a&&(!this.config().Ffb||this.KAa());}},lL:{configurable:!0,enumerable:!0,get:function(){try{return this.pr(f.bb.Vc);}catch(O){return!1;}}},Upb:{configurable:!0,enumerable:!0,get:function(){try{return this.pr(f.bb.JF);}catch(O){return!1;}}}});b.EE='video/mp4;codecs="{0},mp4a";';d.aKa=b;},function(g,d,a){var c,h,l,f,k;function b(a,b,d,g){a=f.HW.call(this,a,b)||this;a.is=d;a.platform=g;a.type=c.Uv.lw;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(26);h=a(72);l=a(137);f=a(406);k=a(221);ia(b,f.HW);b.prototype.jL=function(){return this.config().YH&&this.hu(l.bb.Ko,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Hx=function(){var a;a={};a[h.Sk.KM]="mp4a.40.2";a[h.Sk.eX]="mp4a.40.5";"browser"===this.platform.D2?this.config().YH&&(a[h.Sk.nM]={$d:"avc1",fe:l.bb.Ko,Sc:["audio-endpoint-codec=DD+JOC"]},a[h.Sk.oM]={$d:"avc1",fe:l.bb.Ko,Sc:["audio-endpoint-codec=DD+JOC"]}):(this.config().V2&&(a[h.Sk.nM]="ec-3"),this.config().U2&&(a[h.Sk.vW]="ec-3"),this.config().YH&&(a[h.Sk.oM]={$d:"avc1",fe:l.bb.Ko,Sc:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.x3=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=za(b.js),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=za(b.Tm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.b9[a];c=[];f=l.bb.Ko;if(a)return b.is.rh(a)?d=a:(c=a.Sc,d=a.$d,f=a.fe),b.hu(f,d,c);});};b.prototype.hu=function(a,b,c){a=k.nw.lQ(a,b,c);return this.pr(a);};d.EKa=b;},function(g,d,a){var c,h,l,f,k,m,q,n,r,v,t,w,D,y,E,P,G,A,L;function b(a,b,c,d,f,g,l,h,m,k,p){this.Fta=a;this.cast=b;this.config=c;this.ja=d;this.Ma=f;this.is=g;this.Pm=l;this.bo=h;this.jp=m;this.platform=k;this.Pd=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(26);l=a(223);f=a(160);k=a(222);m=a(813);q=a(812);n=a(131);r=a(406);v=a(30);t=a(37);w=a(23);D=a(811);y=a(119);E=a(7);P=a(810);G=a(64);A=a(66);a=a(44);b.prototype.X1a=function(a){var b;b=this.Fta.moa();switch(a){case h.Uv.lw:return new m.EKa(this.config,b,this.is,this.platform);default:return new r.HW(this.config,b);}};b.prototype.H2a=function(a){var b;b=this.Fta.moa();switch(a){case h.pj.qW:a=new k.kca(this.config,b,this.is,this.cast);break;case h.pj.tW:a=new D.HEa(this.config,b,this.is,this.Pm,this.bo,this.Ma);break;case h.pj.lw:a=new q.aKa(this.config,b,this.is,this.ja,this.Ma,this.bo,this.Pd);break;case h.pj.lha:a=new P.ZOa(this.config,b,this.is,this.jp);break;default:a=new n.Wl(this.config,b,this.is);}return a;};L=b;L=g.__decorate([c.N(),g.__param(0,c.l(l.qea)),g.__param(1,c.l(k.sW)),g.__param(2,c.l(f.wM)),g.__param(3,c.l(v.Wf)),g.__param(4,c.l(t.wi)),g.__param(5,c.l(w.we)),g.__param(6,c.l(y.kw)),g.__param(7,c.l(E.rb)),g.__param(8,c.l(G.gn)),g.__param(9,c.l(A.kn)),g.__param(10,c.l(a.kj))],L);d.xEa=L;},function(g,d,a){var c,h,l,f,k,m;function b(a,b,c){this.config=a;this.Roa=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(223);l=a(160);f=a(26);k=a(222);m=a(221);b.prototype.moa=function(){switch(this.config().PV){case f.pj.qW:return k.kca.T1(this.Roa,this.cast);case f.pj.lw:return m.nw.T1(this.config);default:return this.Roa;}};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.wM)),g.__param(1,c.l(h.pga)),g.__param(2,c.l(k.sW))],a);d.XIa=a;},function(g,d,a){var c,h,l,f,k;function b(a,b,d){this.DQ=a;this.Oa=b;this.sE=d;this.wWa="video/mp4;codecs={0}";this.YQa="audio/mp4;codecs={0}";a=this.DQ.yI(c.vd.Do);this.vWa=l.le.poa(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(26);h=a(1);l=a(132);f=a(23);a=a(228);b.prototype.AH=function(a){a=this.DQ.n9a(a);a=this.Oa.kk(a)?a:c.vd.PF;return this.sE.format(this.wWa,this.vWa[a]);};b.prototype.iQ=function(){return this.sE.format(this.YQa,l.le.YV);};k=b;k=g.__decorate([h.N(),g.__param(0,h.l(c.IW)),g.__param(1,h.l(f.we)),g.__param(2,h.l(a.PY))],k);d.lPa=k;},function(g,d,a){var c,h,l,f,k,m;function b(a,b,c){this.config=a;this.hna=b;this.djb=c;this.lkb=this.z2a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(26);h=a(160);l=a(1);f=a(72);k=a(410);a=a(409);b.prototype.M$a=function(){return this.Uqa().Xra();};b.prototype.N$a=function(){return this.sp().Xra();};b.prototype.Uqa=function(){this.E0&&this.E0.type==this.config().F0||(this.E0=this.hna.X1a(this.config().F0));return this.E0;};b.prototype.sp=function(){this.OV&&this.OV.type==this.config().PV||(this.OV=this.hna.H2a(this.config().PV),this.OV.b0(this.djb.d9a()));return this.OV;};b.prototype.n9a=function(a){var f;if(!a||!a.length)return c.vd.FM;a=this.j7a(a);for(var b=[c.vd.PF,c.vd.FM,c.vd.rN,c.vd.pq,c.vd.Do,c.vd.ft,c.vd.ih],d=b.length;d--;){f=b[d];if((0,this.lkb[f])(a))return f;}return c.vd.PF;};b.prototype.Wp=function(a){return this.sp().Wp(a);};b.prototype.pr=function(a){return this.sp().pr(a);};b.prototype.CC=function(){return this.sp().CC();};b.prototype.mL=function(){return this.sp().mL();};b.prototype.jL=function(){return this.Uqa().jL();};b.prototype.kL=function(){return this.sp().kL();};b.prototype.oL=function(){return this.sp().oL();};b.prototype.yI=function(a){return this.sp().yI(a);};b.prototype.FC=function(){return this.sp().FC();};b.prototype.FI=function(){return this.sp().FI();};b.prototype.j7a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Me]="";});return Object.keys(b);};b.prototype.z2a=function(){var a;a={};a[c.vd.ih]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[c.vd.ft]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[c.vd.Do]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[c.vd.pq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[c.vd.rN]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[c.vd.FM]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=za(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[f.ba.EM]);a[c.vd.PF]=function(){return!0;};return a;};m=b;m=g.__decorate([l.N(),g.__param(0,l.l(h.wM)),g.__param(1,l.l(a.hca)),g.__param(2,l.l(k.kda))],m);d.jGa=m;},function(g,d,a){var b,c,h,l,f,k,m,q,n,r,v,t,w,D,y,E,P,G,F,L;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(26);c=a(20);h=a(817);l=a(160);f=a(113);k=a(816);m=a(223);q=a(815);n=a(410);r=a(409);v=a(814);t=a(222);w=a(5);D=a(405);y=a(809);E=a(404);P=a(808);G=a(220);F=a(807);L=a(403);d.DQ=new g.Xb(function(a){a(f.AA).to(k.lPa).$();a(b.IW).to(h.jGa).$();a(m.qea).to(q.XIa).$();a(r.hca).to(v.xEa).$();a(m.pga).Gg({isTypeSupported:w.lA&&w.lA.isTypeSupported});a(t.sW).Gg("undefined"!==typeof cast?cast:null);a(n.kda).Gz(function(){return{d9a:function(){return A._cad_global.platformExtraInfo;}};});a(l.wM).Gz(function(a){return a.Zb.get(c.me);});a(D.$ea).to(y.nKa).$();a(E.Zea).to(P.oKa).$();a(G.jda).to(F.kHa).$();a(L.Iga).Gg(A);});},function(g,d,a){function b(a){this.E4a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);d.JPa=b;},function(g,d,a){var c,h;function b(a){this.Pqb=a;this.wV={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(224);b.prototype.x8a=function(){var a,b,c;a=[];for(b in this.wV){c=this.wV[b];a.push({nH:Number(b),Bz:c.Sn().Bz,P2:c.Sn().P2});}return a;};b.prototype.uP=function(a){var b,c;b=a.nH;c=this.wV[b];c||(c=this.Pqb(),this.wV[b]=c);c.uP(a);};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.UY))],h);d.EEa=h;},function(g,d,a){var c,h,l,f;function b(a){this.config=a;this.O$=h.Rf;this.mE=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);l=a(4);a=a(412);b.prototype.Sn=function(){var b;for(var a;0<this.mE.length;)a=this.mE.shift(),this.Hla(a);a=void 0===this.VH||void 0===this.Ox?l.Rf:this.Ox.Fd(this.VH);b=a.Ita()?0:this.O$.na(h.Rz)/a.na(l.Ba);return{Bz:Math.floor(b),P2:a.na(l.Ba)};};b.prototype.uP=function(a){this.O$=this.O$.add(a.size);this.mE.push(a.D4a);for(this.mE.sort(function(a,b){return a.start.nl(b.start);});this.mE.length>this.config.E4a;)a=this.mE.shift(),this.Hla(a);};b.prototype.Hla=function(a){void 0===this.VH&&(this.VH=a.start);void 0!==this.Ox&&0>this.Ox.nl(a.start)&&(this.VH=this.VH.add(a.start.Fd(this.Ox)));if(void 0===this.Ox||0>this.Ox.nl(a.end))this.Ox=a.end;};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(a.Fha))],f);d.KPa=f;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(821);c=a(820);h=a(819);l=a(411);f=a(412);k=a(224);d.Cz=new g.Xb(function(a){a(k.Gha).to(b.KPa);a(l.lca).to(c.EEa).$();a(f.Fha).Gg(new h.JPa());a(k.UY).hh(function(a){return function(){return a.Zb.get(k.Gha);};});});},function(g,d,a){var c,h,l,f,k;function b(a,b,c,d,f,g,l,k,p,n,r,t,A,L,O,F,V){var m;m=this;this.Gd=a;this.Oa=b;this.Ua=c;this.Tb=f;this.$y=l;this.qH=k;this.LWa=p;this.config=n;this.hg=t;this.R=A;this.j=r.create(A,F,L,O);this.j.background=!0;this.j.Fa=V;this.j.uc=F;this.log=d.lb("VideoPlayer",this.j);this.$wa=[];this.ended=!1;this.jba();this.j.state.addListener(function(a){a.newValue===h.Lg.Cq&&m.od(h.kb.d6,{movieId:A});});this.j.Za.rf&&(this.FB=g.Z1a(this,this.j,this.hg),this.j.addEventListener(h.X.k$,function(a){m.od(h.kb.jnb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(16);l=a(4);f=a(5);k=a(62);b.prototype.isReady=function(){return this.j.state.value===h.Lg.Cq;};b.prototype.N9a=function(){return this.j.R;};b.prototype.b5=function(){return this.j.la;};b.prototype.$x=function(){return this.j.sf;};b.prototype.ly=function(){return this.j.YT.value;};b.prototype.tcb=function(){return this.j.paused.value;};b.prototype.kcb=function(){return this.ended;};b.prototype.pk=function(){var a;a=this.j.$0.value;return a?{networkStalled:!!a.fV,stalled:!!a.fV,progress:a.mi,progressRollback:!!a.okb}:null;};b.prototype.getError=function(){var a;a=this.j.Bh;return a?a.Daa():null;};b.prototype.Qn=function(){return this.j.qd.value;};b.prototype.q8a=function(){var a;a=(this.HI()||0)+this.j.Yqa();return Math.min(a,this.n4());};b.prototype.HI=function(){return this.j.ay();};b.prototype.n4=function(){return this.j.QB.na(l.Ba);};b.prototype.iab=function(){return this.j.LE?{width:this.j.LE.width,height:this.j.LE.height}:null;};b.prototype.D8a=function(){var f;if(this.j.cq){for(var a,b=0;b<this.j.cq.length;b++)for(var c=this.j.cq[b],d=0;d<c.qc.length;d++){f=c.qc[d];this.Oa.Af(f.J2a)&&this.Oa.Af(f.toa)&&this.Oa.Af(f.soa)&&this.Oa.Af(f.roa)&&0<f.toa&&(f=f.roa/f.soa,a=this.Oa.Af(a)?Math.min(a,f):f);}return a;}};b.prototype.O8a=function(){var a;a=this;return{addEventListener:this.j.F2.addEventListener,removeEventListener:this.j.F2.removeEventListener,getModel:function(){return a.j.F2.wGb;},getTime:function(){return a.Ua.Pe().na(l.Ba);},getGroups:function(){var b;b=a.j.UT;return b?b.j9a():[];}};};b.prototype.e8a=function(){var a,c;a=[];if(this.j.wm)for(var b=0;b<this.j.wm.length;b++){c=this.JC(this.j.wm[b]);null!==c&&a.push(c);}return a;};b.prototype.$ra=function(){var a,d;a=[];if(null!==this.j.Ic.value)for(var b=this.j.Ic.value.jj,c=0;c<b.length;c++){d=this.JC(b[c]);null!==d&&a.push(d);}return a;};b.prototype.scb=function(){return this.j.muted.value;};b.prototype.kab=function(){return this.j.volume.value;};b.prototype.d8a=function(){return this.JC(this.j.Ic.value);};b.prototype.Zra=function(){return this.JC(this.j.kc.value);};b.prototype.dcb=function(){return!!this.j.background;};b.prototype.Wnb=function(a){this.j.muted.set(!!a);};b.prototype.job=function(a){this.j.volume.set(this.owa(a,1));};b.prototype.$nb=function(a){this.j.playbackRate.set(this.owa(a,2));};b.prototype.Lnb=function(a){var b,c;b=this;c=this.j.wm.find(function(c){return b.JC(c)===a;});c?this.j.Ic.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.$za=function(a){var d;if(null!==this.j.Ic.value){for(var b=this.j.Ic.value.jj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.kc.set(null);return;}if(this.JC(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.kc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.Kza=function(a){this.j.background=a;};b.prototype.cL=function(){this.j.cL();};b.prototype.addEventListener=function(a,b,c){this.Tb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Tb.removeListener(a,b);};b.prototype.tv=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,d){try{a.od(h.kb.Udb,void 0,!0);b.Fa&&(b.Fa.watermarkInfo&&a.od(h.kb.Lsb,b.Fa.watermarkInfo,!0),b.Fa.choiceMap&&a.od(h.kb.inb,{segmentMap:b.Fa.choiceMap},!0));d({S:!0});}catch(x){d({T:c.H.pg,Ja:a.Gd.$c(x)});}}));};b.prototype.close=function(a){var b;b=this;this.zna||(this.zna=new Promise(function(c){a?b.j.kd(a,c):b.j.close(c);}));return this.zna;};b.prototype.play=function(){this.j.An?this.j.fireEvent(h.X.dza):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.X.bCa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.X.jsb));};b.prototype.seek=function(a,b,c){this.j.eg?this.j.eg.seek(a,b,c):this.j.wx=a;};b.prototype.ijb=function(a){return this.FB?(this.log.trace("Playing a segment",a),this.FB.play(a)):Promise.resolve();};b.prototype.Hkb=function(a){return this.FB?(this.log.trace("Queueing a segment",a),this.FB.ni(a)):Promise.resolve();};b.prototype.aq=function(a,b){return this.FB?(this.log.trace("Updating next segment weights",a,b),this.FB.aq(a,b)):Promise.resolve();};b.prototype.GL=function(){this.j.GL();};b.prototype.NR=function(){var a;a=this.j.bn.NR();return{bounds:a.eH,margins:a.Om,size:a.size,visibility:a.visibility};};b.prototype.YK=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.xL&&(b&&this.j.xL.C$(b),c&&this.j.xL.D$(c),"boolean"===typeof a&&this.j.xL.E$(a));this.j.bn&&d&&this.j.bn.fob(d);};b.prototype.UU=function(a){this.j.UU(a);};b.prototype.Y$a=function(a){return this.j.Cs&&this.j.Cs.i9a(a)||null;};b.prototype.Z7a=function(){return this.Gd.Bk({playerver:this.config.version,jssid:this.config.Pcb,groupName:this.config.config.up,xid:this.j.la,pbi:this.j.index},this.config.ejb,{prefix:"pi_"});};b.prototype.Lbb=function(a){this.j.kd(this.hg(c.I.TGa,c.H.Qh,a));};b.prototype.Jdb=function(a,b,c){if(!this.Oa.fma(a))throw Error("invalid url");this.$wa.push({url:a,name:b,wYa:c});this.Nxa();};b.prototype.Tra=function(){var a,b,c,d,f,g,h,l;a={};b=this.j.gK;try{if(this.j.Bh&&(a.errorCode=this.j.Bh.FQ,a.errorType=b?"endplay":"startplay"),a.playdelay=this.j.gK,a.xid=this.j.la,this.j.Fa&&this.Oa.rh(this.j.Fa.packageId)&&(a.packageId=Number(this.j.Fa.packageId)),a.auth=this.j.g8a(),a.hdr=this.j.t9a(),b){a.totaltime=this.j.ko?this.Wx(this.j.ko.Z4()):0;a.abrdel=this.j.ko?this.j.ko.Vqa():0;c=this.j.eg;d=c?c.Zx():null;this.Oa.Af(d)&&(a.totdfr=d);d=c?c.zI():null;this.Oa.Af(d)&&(a.totcfr=d);f=c?c.u9a():null;f&&(a.rbfrs_decoder=f.A3a,a.rbfrs_network=f.wgb);a.rbfrs_delay=this.j.ko?this.j.ko.v9a():0;a.init_vbr=this.j.lS;g=this.IR();this.Oa.kk(g)&&(a.pdltime=g);h=this.j.ig.value;l=h&&h.stream;l&&(a.vbr=l.O,a.vdlid=l.md);a.bufferedTime=this.j.Yqa();}}catch(y){this.log.error("error capturing session summary",y);}return a;};b.prototype.l4=function(){var a;a=this;return new Promise(function(b,c){a.j.l4(function(a){a.success?b(a):c(a);});});};b.prototype.cI=function(a){var b,c,d;b=this;if(this.Oa.Af(this.j.qd.value)){c=Object.assign({},this.$y.lu(this.j,!1),{action:a});d=this.qH(k.Mh.cI);return this.LWa().then(function(a){return d.np(b.log,a.profile,b.j.Fa.sy,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.tc,errorExternalCode:a.Df,errorData:a.data,errorDetails:a.ZB};});}return Promise.resolve({success:!1});};b.prototype.JC=function(a){var b;if(null!==a){b=a.zkb=a.zkb||{trackId:a.Vb,bcp47:a.wj,displayName:a.displayName,trackType:a.si,channels:a.hk};a.xp&&(b.isImageBased=!0);this.wcb(a)&&(b.isNative=a.isNative);this.xcb(a)&&(b.isNoneTrack=a.jJ(),b.isForcedNarrative=a.tS());return b;}return null;};b.prototype.wcb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.xcb=function(a){return"undefined"!==typeof a.jJ&&"undefined"!==typeof a.tS;};b.prototype.owa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.Wx=function(a){return this.Oa.Af(a)?(a/1E3).toFixed(0):"";};b.prototype.od=function(a,b,c){b=b||{};b.target=this;this.Tb.wb(a,b,!c);};b.prototype.jba=function(){var a;a=this;this.j.addEventListener(h.X.raa,function(){a.od(h.kb.Dm);});this.j.addEventListener(h.X.$S,function(){a.od(h.kb.Vma);});this.j.addEventListener(h.X.Op,function(){a.od(h.kb.Vma);});this.j.addEventListener(h.X.RC,function(b){a.od(h.kb.RC,{errorCode:b});});this.j.addEventListener(h.X.Ema,function(b){a.od(h.kb.xYa,b.j);});this.j.addEventListener(h.X.An,function(b){a.od(h.kb.yYa,b);});this.j.YT.addListener(function(){a.od(h.kb.vjb);});this.j.paused.addListener(function(){a.od(h.kb.Iib);});this.j.muted.addListener(function(){a.od(h.kb.ogb);});this.j.volume.addListener(function(){a.od(h.kb.Gsb);});this.j.Fc.addListener(function(){a.HBa();});this.j.state.addListener(function(){a.HBa();});this.j.$0.addListener(function(b){a.Rdb||a.j.state.value!=h.Lg.Cq||b.newValue||(a.Rdb=!0,a.od(h.kb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.Tra());}));a.od(h.kb.a1);});this.j.Ic.addListener(function(b){a.od(h.kb.LP);b.oldValue&&b.newValue&&b.oldValue.jj==b.newValue.jj||a.od(h.kb.Ez);setTimeout(function(){var b;if(null!==a.j.Ic.value&&null!==a.j.kc.value){b=a.j.Ic.value.jj;0<=b.indexOf(a.j.kc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.kc.set(b[0]));}},0);});this.j.kc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.Vb==b.newValue.Vb||a.od(h.kb.zE);});this.j.addEventListener(h.X.Ez,function(){a.od(h.kb.Ez);});this.j.addEventListener(h.X.EL,function(){a.od(h.kb.EL);});this.j.state.addListener(function(b){switch(b.newValue){case h.Lg.Cq:a.od(h.kb.$4a);a.od(h.kb.Bsb);a.od(h.kb.zma);a.od(h.kb.Ez);a.od(h.kb.Tdb);a.Nxa();a.Qsb();break;case h.Lg.HY:a.j.Bh&&a.od(h.kb.error,a.j.Bh.Daa());break;case h.Lg.GY:a.od(h.kb.closed),a.Tb.cC();}});};b.prototype.Qsb=function(){var a;a=this;this.j.bn.addEventListener("showsubtitle",function(b){a.od(h.kb.Dob,b,!0);});this.j.bn.addEventListener("removesubtitle",function(b){a.od(h.kb.Llb,b,!0);});};b.prototype.Nxa=function(){if(this.j.state.value==h.Lg.Cq){for(var a,b,c;b=this.$wa.shift();)a=this.j.bn.a0(b.url,b.name),b.wYa&&(c=a);c&&this.j.kc.set(c);}};b.prototype.HBa=function(){var a;a=this.j.state.value==h.Lg.Cq&&this.j.Fc.value==h.am.OW;this.ended!==a&&(this.ended=a,this.od(h.kb.d6a));};b.prototype.IR=function(){var a,b;try{a=/playercore.*js/;b=f.tq.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(u){}};d.TIa=b;},function(g,d,a){var c,h,l,f,k,m,q,n,r,v,t,w;function b(a){this.Nc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(466);l=a(22);f=a(23);k=a(24);m=a(7);q=a(69);n=a(226);r=a(823);v=a(225);t=a(62);w=a(65);b.prototype.w2a=function(a,b,c,d,g,h,p,u){return new r.TIa(this.Nc.get(l.Je),this.Nc.get(f.we),this.Nc.get(k.Ue),this.Nc.get(m.rb),this.Nc.get(q.BM),this.Nc.get(n.LY),this.Nc.get(v.tY),this.Nc.get(t.SW),this.Nc.get(w.iq),a,b,c,d,g,h,p,u);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.lea))],a);d.vQa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(414);c=a(824);d.ysb=new g.Xb(function(a){a(b.Yha).to(c.vQa).$();});},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(20);b.prototype.kkb=function(a,b,c){var d;if(this.config().vnb){d=a.metrics;c||(void 0===d?b.gD.transition({isBranching:b.Za.rf||void 0,srcxid:b.la,srcmid:b.R,segment:a.segmentId,dataerror:"missingMetrics"}):b.gD.transition({isBranching:b.Za.rf||void 0,srcxid:b.la,srcmid:b.R,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.me))],h);d.$Pa=h;},function(g,d,a){var h;function b(){}function c(a,b,c,d,g){this.debug=a;this.version=b;this.Pcb=c;this.ejb=d;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.d4=function(){return this.config.Nma;};c.prototype.Kra=function(){return this.config.xjb;};b.prototype.Eu=function(a,b,d,g,h){return new c(a,b,d,g,h);};h=b;h=g.__decorate([a.N()],h);d.ePa=h;},function(g,d,a){var l,f,k,m;function b(a,b,c,d,f,g,h,l,m){var p;p=this;this.ac=b;this.j=c;this.wD=d;this.bv=f;this.ja=g;this.BP=h;this.hg=l;this.Jaa=m;this.kz=function(){p.Hp&&(p.Hp.closed||p.Hp.unsubscribe(),p.Hp=void 0);};this.log=a.lb("SegmentManager",this.j);this.ie=new Map();this.rta=!0;this.j.Za.rf&&(this.j.addEventListener(k.X.k$,function(a){return p.Lhb(a);}),this.j.addEventListener(k.X.closed,this.kz));}function c(a,b){this.id=a;this.s1=b;}function h(a,b,c,d){return f.Wb.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(d,"__esModule",{value:!0});l=a(2);f=a(45);k=a(16);m=a(4);ia(h,f.Wb);h.prototype.toString=function(){return this.code+"-"+this.tc+" : "+this.message+"\n"+JSON.stringify(this.data);};c.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Zm,contentEndPts:this.lC};};na.Object.defineProperties(c.prototype,{Zm:{configurable:!0,enumerable:!0,get:function(){return this.s1.startTimeMs;}},lC:{configurable:!0,enumerable:!0,get:function(){return this.s1.endTimeMs;}},Agb:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.s1.next);}}});b.prototype.Lhb=function(a){var b,d;b=this;if(0===this.ie.size){d=this.j.CR();Object.keys(d).forEach(function(a){b.ie.set(a,new c(a,d[a]));});}this.va=this.ie.get(a.segmentId);this.Jaa.kkb(a,this.j,this.rta);this.rta=!1;};b.prototype.play=function(a){this.hz&&(this.hz=void 0);this.kz();this.log.trace("Playing segment",a);return this.tta(a)?this.hjb(a):this.ST(a);};b.prototype.ni=function(a){this.log.trace("Queueing segment",a);return this.tta(a)?this.Gkb(a):this.Ikb(a);};b.prototype.aq=function(a,b){var c,d;c=this;d=this.j.gb;if(!d)return Promise.reject(this.getError(l.I.Pba,"ASE session manager is not yet initialized",l.H.iW,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.Uaa(a,b);c.j.fireEvent(k.X.aq,{Kl:a,Trb:b});f();}catch(D){g(c.getError(l.I.Pba,"updateNextSegmentWeights threw an exception",l.H.yDa,{segmentId:a,updates:b,error:D}));}});};b.prototype.tta=function(a){return this.va?void 0!==this.j.CR()[this.va.id].next[a]:!1;};b.prototype.Mra=function(){if(this.j.gb)return this.j.gb.Lra().Bd;};b.prototype.z8a=function(a){if(this.j.gb)return(a=this.j.gb.i4(a))&&a.Jc;};b.prototype.hjb=function(a){var b,c,d;b=this;c=this.j.gb;if(!c)return Promise.reject(this.getError(l.I.RE,"ASE session manager is not yet initialized",l.H.iW,{id:a}));if(this.va&&1===this.va.Agb.length)return this.ST(a);if(!this.j.eg)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.I.RE,"MediaPresenter is not initialized",l.H.vDa,{id:a}));d=this.z8a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.ST(a)):new Promise(function(f,g){var r,u,v,t,x,w;function h(){!v&&u&&r&&(w.cancel(),v=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:r,completed:v}),c.LB(a,!1,!0)?(f(),v=!0):(v=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.ST(a).then(f)["catch"](g)));}function p(){r=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:r,completed:v});b.j.removeEventListener(k.X.Op,p);h();}function q(){b.j.removeEventListener(k.X.mz,q);c.stop();}function n(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:r,completed:v});c.removeEventListener("stop",n);h();}r=!1;u=!1;v=!1;t=b.ie.get(a);x=t.Zm+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:x,currentSegment:b.va,nextSegment:t},null,"  "));b.j.fireEvent(k.X.vT,{Si:b.va&&b.va.id,TJ:a});c.addEventListener("stop",n);b.j.addEventListener(k.X.mz,q);b.j.addEventListener(k.X.Op,p);w=b.ja.Mf(m.Ih(10),function(){v=!0;w.cancel();g(b.getError(l.I.RE,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.H.uDa,{id:a,stopped:u,repositioned:r,completed:v}));});b.ac.seek(x,k.Mg.xA);});};b.prototype.ST=function(a){var b;b=this.ie.get(a);return b?this.uza(b,l.I.RE):Promise.reject(this.getError(l.I.RE,"Unable to find the separated segment",l.H.Oba,{id:a}));};b.prototype.Gkb=function(a){var b;b=this.j.gb;if(!b)return Promise.reject(this.getError(l.I.Vv,"ASE session manager is not yet initialized",l.H.iW,{id:a}));if(b.LB(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.I.Vv,"ASE chooseNextSegment failed",l.H.rDa,{id:a}));};b.prototype.Ikb=function(a){var b,c;b=this;if(this.hz)return Promise.reject(this.getError(l.I.Vv,"Unable to queue a non-next segment because there is currently already a segment queued",l.H.xDa,{currentSegment:this.va?this.va.id:void 0,queuedSegment:this.hz.id,failedSegment:a}));if(!this.va)return Promise.reject(this.getError(l.I.Vv,"Unable to queue a non-next segment because there is no currently playing segment",l.H.sDa,{nextSegmentid:a}));c=this.ie.get(a);if(!c)return Promise.reject(this.getError(l.I.Vv,"Unable to find the separated segment",l.H.Oba,{nextSegmentid:a,currentSegmentId:this.va.id}));this.hz={id:a,OD:new Promise(function(d,f){var g,h;g=b.wD.koa({Kra:function(){return 100;}},function(){return b.ac.Qn()||0;});h=b.Mra()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.Ola(b.bv.joa(a+":lastPts",h));b.Hp=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.va.id,playerEndPts:b.Mra(),pts:h});b.hz=void 0;b.kz();b.uza(c,l.I.Vv).then(d)["catch"](f);},function(c){b.hz=void 0;b.kz();f(b.getError(l.I.Vv,"ASE session manager is not yet initialized",l.H.tDa,{id:a,error:c}));});})};this.hz.OD["catch"](function(a){b.j.kd(b.hg(a.code,a));});return Promise.resolve();};b.prototype.uza=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.ac.seek(a.Zm,k.Mg.wA);d();}catch(w){f(c.getError(b,"Seek threw an exception",l.H.wDa,{id:a.id,error:w}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.RDa=b;},function(g,d,a){var f,k,m;function b(a,b,c,d,g,h,l,m,p){var q;q=this;this.Ua=a;this.bv=c;this.wD=d;this.L8=g;this.config=h;this.hg=l;this.iK=m;this.s6a=Object.keys(k.kb).map(function(a){return{event:k.kb[a],Mu:function(b){return q.Tb.wb(k.kb[a],b);}};});this.Tb=p.create();this.zv=[];this.log=b.lb("SegmentManager");new f.Bi();this.F3=!0;}function c(a,b,c,d,g,l,k,m,p){var q;q=this;this.log=a;this.config=b;this.ihb=c;this.bv=d;this.L8=g;this.hg=l;this.iK=k;this.Rp=m;this.qa=p;this.kz=function(){q.Hp&&(q.Hp.closed||q.Hp.unsubscribe(),q.Hp=void 0);};this.log.debug("Constructing session data",h(p));this.J6=new f.Bi();this.Cqb=new Promise(function(a){q.Ukb=a;});}function h(a){return{movieId:a.R,uiLabel:a.uc};}function l(a){return JSON.stringify({movieId:a.R,nextStartPts:a.xD,currentEndPts:a.WB,uiLabel:a.uc,params:a.cb?{trackingId:a.cb.Pf,authParams:a.cb.DB,sessionParams:a.cb.oi,disableTrackStickiness:a.cb.J2,uiPlayStartTime:a.cb.FV,loadImmediately:a.cb.LS,playbackState:a.cb.playbackState?{currentTime:a.cb.playbackState.currentTime,volume:a.cb.playbackState.volume,muted:a.cb.playbackState.muted}:void 0,pin:a.cb.Xy,heartbeatCooldown:a.cb.m5}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});f=a(86);k=a(16);m=a(4);c.prototype.load=function(a){var b;b=this;this.log.trace("Loading new segment",h(this.qa));this.ac=this.L8.w2a(this.config,this.iK,this.hg,this.qa.R,this.qa.Rm,this.qa.cb,this.qa.uc,this.qa.ge);this.ac.addEventListener(k.kb.RC,function(a){b.log.trace("Segment is inactive",h(b.qa));b.Rp.close(b.hg(a.errorCode));});this.ac.addEventListener(k.kb.closed,this.kz);a&&(this.log.debug("Pausing background segment",h(this.qa)),this.ac.addEventListener(k.kb.d6,function(a){b.isa(a);}),this.ac.pause());};c.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.qa));if(this.Hp)this.log.trace("Segment is currently observing",h(this.qa));else if(this.qa.cb&&this.qa.cb.LS)this.J6.next(this);else{b=this.ihb.koa(this.config,function(){var b;if(a.ac){b=a.ac.Qn();if(b)return b;}return 0;});c=this.bv.joa("LOAD",this.JZa(this.qa));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.Ola(c);this.Hp=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.qa));a.J6.next(a);a.kz();});}};c.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.qa),error:a});return this.ac?(this.ac.removeEventListener(k.kb.d6,this.isa),this.ac.close(a)):Promise.resolve();};c.prototype.JZa=function(a){var b,c;b=a.WB;a=a.cb?a.cb.LS:!1;c=0;b&&!a&&(c=b-this.config.config.iua,c<this.config.config.Lua&&(c=b-(b-this.config.config.Lua)/2));return c;};c.prototype.isa=function(a){this.log.trace("Received the transition event",{movieId:a.R});this.Ukb(l(this.qa));};b.prototype.JR=function(){return this.Ld&&this.Ld.ac?this.Ld.ac.isReady():!1;};b.prototype.Rn=function(){if(!this.Ld||!this.Ld.ac)throw Error("Player not ready");return this.Ld.ac;};b.prototype.e0=function(a){this.log.info("Adding segment",l(a));this.F3?(this.log.trace("First segment, loading",h(a)),a=this.hua(a),this.F3=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.nmb(a));return a?a.Cqb:null;};b.prototype.transition=function(a){var b;if(this.$r&&this.$r.ac){b=this.$r;this.$r=void 0;this.log.info("Transitioning segment",l(b.qa));b&&b.ac&&b.ac.UU(this.Ua.Pe().na(m.Ba));return this.oBa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Ld.qa)),nextSession:this.$r?JSON.stringify(h(this.$r.qa)):void 0});c=[this.Ld.close(a)];this.$r&&c.push(this.$r.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.$r=void 0;b.zv=[];b.F3=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Tb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Tb.removeListener(a,b);};b.prototype.hua=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.Ld&&(this.config.d4()[a.R]=a.xD);c=this.h7a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.J6.subscribe(function(a){b.tqb(a);});this.Ld?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.$r=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.oBa(c));return c;};b.prototype.oBa=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.qa));c=this.Ld;this.Ld=a;if(this.Ld.ac&&(this.Ld.ac.Kza(!1),this.jba(this.Ld.ac,c?c.ac:void 0),c&&c.ac)){d=c.ac.$x();a=this.Ld.ac.$x();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.Ld.ac&&(a.style.display="block",this.Ld.ac.getError()?this.Ld.ac.close():(this.Ld.ac.j.Krb(b),this.Ld.ac.cL(),this.Ld.ac.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.tqb=function(a){var b,c,d,f;if(this.zv.length&&a.ac){a=a.ac.Qn();b=this.zv[0];c=this.Ld.qa.WB;d=this.Ld.qa.cb?this.Ld.qa.cb.LS:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.iua);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.qa)),this.hua(b.qa),this.zv.splice(0,1));}}};b.prototype.h7a=function(a){var b;b=null;this.Ld?this.zv.forEach(function(c){c.qa.R===a.R&&(b=c);}):b=this.yr(a);return b;};b.prototype.nmb=function(a){var c;if(this.Ld.qa.R===a.R)return this.Rwa(this.Ld.qa,a),this.log.trace("Overwrote the currently playing segment data",l(this.Ld.qa)),this.Ld;for(var b=0;b<this.zv.length;++b){c=this.zv[b];if(c.qa.R===a.R)return this.Rwa(c.qa,a),this.log.trace("Overwrote the currently playing segment data",l(c.qa)),c;}a=this.yr(a);this.zv.push(a);this.Ld.observe();return a;};b.prototype.Rwa=function(a,b){a.xD=b.xD||a.xD;a.WB=b.WB||a.WB;a.uc=b.uc||a.uc;a.cb=b.cb||a.cb;a.ge=b.ge||a.ge;};b.prototype.yr=function(a){return new c(this.log,this.config,this.wD,this.bv,this.L8,this.hg,this.iK,this,a);};b.prototype.jba=function(a,b){this.s6a.forEach(function(c){b&&b.removeEventListener(c.event,c.Mu);a.addEventListener(c.event,c.Mu);});this.Tb.wb(k.MF.QK);};d.gPa=b;},function(g,d,a){var c,h,l,f,k,m,q,n,r,t,z,w,D,y;function b(a,b,c,d,f,g,h,l,k,m,p){this.Ua=a;this.$e=b;this.bv=c;this.wD=d;this.zsb=f;this.iK=g;this.ja=h;this.BP=l;this.Jaa=k;this.hg=m;this.i3=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(7);f=a(418);k=a(417);m=a(63);q=a(415);n=a(414);r=a(829);t=a(828);z=a(83);w=a(30);D=a(413);a=a(420);b.prototype.s2a=function(a){return new r.gPa(this.Ua,this.$e,this.bv,this.wD,this.zsb,a,this.hg,this.iK,this.i3);};b.prototype.Z1a=function(a,b,c){c=void 0===c?this.hg:c;return new t.RDa(this.$e,a,b,this.wD,this.bv,this.ja,this.BP,c,this.Jaa);};y=b;y=g.__decorate([c.N(),g.__param(0,c.l(h.Ue)),g.__param(1,c.l(l.rb)),g.__param(2,c.l(f.hfa)),g.__param(3,c.l(k.ifa)),g.__param(4,c.l(n.Yha)),g.__param(5,c.l(q.zga)),g.__param(6,c.l(w.Wf)),g.__param(7,c.l(z.aW)),g.__param(8,c.l(D.Jha)),g.__param(9,c.l(m.Rj)),g.__param(10,c.l(a.AM))],y);d.fPa=y;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(226);c=a(416);h=a(830);l=a(827);f=a(413);k=a(826);d.ie=new g.Xb(function(a){a(b.LY).to(h.fPa).$();a(c.mha).to(l.ePa).$();a(f.Jha).to(k.$Pa).$();});},function(g,d,a){var c;function b(a,b){this.config=a;this.qd=b;this.OJ=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(86);b.prototype.Ola=function(a){0===this.OJ.filter(function(b){return b.U7===a;}).length&&this.OJ.push({U7:a,eya:!1});};b.prototype.observe=function(){var a;a=this;return c.sa.interval(this.config.Kra()).Ir(function(){var b,d;b=a.qd();d=a.OJ.filter(function(a){return!a.eya&&a.U7.time<=b;});d.forEach(function(a){a.eya=!0;});return c.sa.from(d.map(function(a){return a.U7;}));});};d.JKa=b;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(832);b.prototype.koa=function(a,b){return new h.JKa(a,b);};a=b;a=g.__decorate([c.N()],a);d.IKa=a;},function(g,d){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.Fd=function(b,c){return new a(b,this.time-c);};d.HKa=a;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(834);b.prototype.joa=function(a,b){return new h.HKa(a,b);};a=b;a=g.__decorate([c.N()],a);d.GKa=a;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(418);c=a(835);h=a(417);l=a(833);d.OJ=new g.Xb(function(a){a(b.hfa).to(c.GKa).$();a(h.ifa).to(l.IKa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(g,d,a){var t,z,w,D;function b(a,b){this.Pd=a;this.Gd=b;this.Tc=[];}function c(a){return r.call(this,a,function(a){return{Details:a};})||this;}function h(a){return r.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=r.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Pd=a;return b;}function f(a,b){b=r.call(this,b,function(a){return a();})||this;b.Gd=a;return b;}function k(a,b){return q.call(this,a,b,function(a){var b;b=z.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.L_a(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function m(a){return r.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function q(a,b,c){b=r.call(this,b,c)||this;b.Gd=a;return b;}function n(a){return r.call(this,a,function(a){return{Details:a};})||this;}function r(a,b){this.ro=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);t=a(1);z=a(837);w=a(22);a=a(44);r.prototype.eI=function(a){return this.ro===a;};ia(n,r);n.prototype.Hz=function(a,b){return b?"":"\r\n"+this.ro;};ia(q,r);q.prototype.Hz=function(){var a;a="";this.Gd.xu(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(G){try{a+=", "+b+": "+JSON.stringify(c);}catch(la){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ia(m,r);m.prototype.Hz=function(a){var b;b="\r\n"+this.ro.message;a||(b+="\r\n"+this.ro.stack);return b;};ia(k,q);k.L_a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.Avb=k;ia(f,r);f.prototype.Hz=function(){var a;a="";this.Gd.xu(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ia(l,r);l.prototype.Hz=function(a,b){return this.ro&&!b?"\r\n"+this.Pd.encode(this.ro):"";};ia(h,r);h.prototype.Hz=function(){return this.ro?this.ro.toJSON():"";};ia(c,r);c.prototype.Hz=function(){return", "+(this.ro.toString?""+this.ro.toString():"");};b.prototype.lXa=function(a){this.Tc.push(new n(a));};b.prototype.cXa=function(a){this.Tc.push(new q(this.Gd,a));};b.prototype.VWa=function(a){this.Tc.push(new m(a));};b.prototype.UWa=function(a){this.Tc.push(new k(this.Gd,a));};b.prototype.YWa=function(a){this.Tc.push(new f(this.Gd,a));};b.prototype.mXa=function(a){this.Tc.push(new l(this.Pd,a));};b.prototype.bXa=function(a){this.Tc.push(new h(a));};b.prototype.nXa=function(a){this.Tc.push(new c(a));};b.prototype.Cn=function(){return this.Tc;};D=b;D=g.__decorate([t.N(),g.__param(0,t.l(a.kj)),g.__param(1,t.l(w.Je))],D);d.sJa=D;},function(g,d,a){var c,h,l,f;function b(a,b){this.Pd=a;this.Gd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(838);l=a(44);a=a(22);b.prototype.E9a=function(){return new h.sJa(this.Pd,this.Gd);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.kj)),g.__param(1,c.l(a.Je))],f);d.rJa=f;},function(g,d,a){var c,h;function b(a,b,c,d,g,h,k){this.level=a;this.Bm=b;this.timestamp=c;this.message=d;this.Tc=g;this.prefix=h;this.index=void 0===k?0:k;}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.zL=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Cpb(!!a));return(this.timestamp.na(c.Ba)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Bm+"| "+a;};b.prototype.Cpb=function(a){var g;for(var b=this.Tc.length,c="",d=0;d<b;++d){g=this.Tc[d].ro;d&&c.length&&(c+=" ");if("object"===typeof g)if(null===g)c+="null";else if(g instanceof Error)c+=this.Bpb(g,a);else try{c+=JSON.stringify(g);}catch(u){c+=this.Apb(g);}else c+=g;}return c;};b.prototype.Bpb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Apb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.iDa=b;},function(g,d,a){var c,h;function b(a,b,d,g,h,k){a=c.tF.call(this,a,b,d,g)||this;a.pab=h;Array.isArray(k)?a.prefix=k:k&&"string"===typeof k&&(a.prefix=[],a.prefix.push(k));return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(227);h=a(840);ia(b,c.tF);b.prototype.St=function(a,b,c){a=new h.iDa(a,this.Bm,this.Ua.Pe(),b,c,this.prefix);b=za(this.hj.hj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.Y1=function(a){return new b(this.Ua,this.nr,this.hj,a,this.pab,this.prefix);};d.jDa=b;},function(g,d,a){var c,h,l;function b(a,b,d,g,h){a=l.tF.call(this,a,b,d,h)||this;a.j=g;c.xk(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(51);h=a(419);l=a(227);ia(b,l.tF);b.prototype.Y1=function(a){return new b(this.Ua,this.nr,this.hj,this.j,a);};b.prototype.St=function(a,b,c){a=new h.Eea(a,this.Bm,this.Ua.Pe(),b,c,this.j.index);b=za(this.hj.hj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};d.FNa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,c,d){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==d&&(this.message=d);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(843);d.HB=function(a,d){var f;a=a.E9a();for(var c=0;c<d.length;++c){f=d[c];void 0!=f&&null!=f&&(f.Hf&&(f=f.Hf),f.constructor===Uint8Array?a.mXa(f):"MediaRequest"===f.constructor.name?a.bXa(f):"string"===typeof f?a.lXa(f):"function"===typeof f?a.YWa(f):f instanceof Error?a.VWa(f):f instanceof b.EnumeratedErrorBase?a.UWa(f):f instanceof Object?a.cXa(f):a.nXa(f));}return a.Cn();};},function(g,d,a){var c,h,l,f,k,m,q;function b(a,b,c){this.Ua=a;this.hj=b;this.Q6=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(227);h=a(1);l=a(842);f=a(24);k=a(84);m=a(7);q=a(841);b.prototype.lb=function(a,b,d,f,g){d=void 0===d?this.hj:d;return b?new l.FNa(this.Ua,this.Q6,d,b,a):g?new q.jDa(this.Ua,this.Q6,d,a,f||"",g):new c.tF(this.Ua,this.Q6,d,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.Ue)),g.__param(1,h.l(k.hw)),g.__param(2,h.l(m.Fea))],a);d.AJa=a;},function(g,d,a){var c;function b(){this.jE={};this.hj=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.SD=function(a,b){var c;c=this;b&&(this.jE[a]=b,this.hj=Object.keys(this.jE).map(function(a){return c.jE[a];}));};b.prototype.BBa=function(a){var b;b=this;delete this.jE[a];this.hj=Object.keys(this.jE).map(function(a){return b.jE[a];});};c=b;c=g.__decorate([a.N()],c);d.BJa=c;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(846);c=a(845);g=a(1);h=a(84);l=a(7);f=a(839);d.peb=new g.Xb(function(a){a(l.rb).to(c.AJa).$();a(h.hw).to(b.BJa).$();a(l.Fea).to(f.rJa).$();});},function(g,d,a){var c,h;function b(a,b){this.ja=a;this.eQ=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(30);b.prototype.nb=function(a){this.cC();this.gj=this.ja.Mf(this.eQ,a);};b.prototype.cC=function(){this.gj&&this.gj.cancel();this.gj=void 0;};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.Wf))],h);d.eGa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dGa="DebouncerFactorySymbol";},function(g,d,a){var c,h,l;function b(a,b,c){this.ja=a;this.Bqb=b;this.Mu=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(30);h=a(1);l=a(4);b.prototype.lp=function(){this.gj||(this.gj=this.ja.Mf(l.xb(this.Bqb),this.Mu));};b.prototype.Of=function(){this.gj&&this.gj.cancel();this.gj=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.Wf))],a);d.UPa=a;},function(g,d,a){var c,h;function b(a){this.mc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(22);a(5);b=g.__decorate([c.N(),g.__param(0,c.l(h.Je))],b);d.pQa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qQa="UserAgentUtilities";},function(g,d){function a(){this.searchParams={};}function b(b){this.Qa=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};na.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Qa+this.searchParams.toString();}}});d.oQa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,d,a){var c;function b(a){this.LSa=void 0===a?!1:a;this.jd={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.jd[b];c?this.LSa&&-1!==c.indexOf(a)||c.push(a):this.jd[b]=[a];};b.prototype.remove=function(a,b){this.Tq(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Tq(a);};b.prototype.r7a=function(){var a;a=this;return Object.keys(this.jd).sort().reduce(function(b,c){return b.concat(a.jd[c]);},[]);};b.prototype.Tq=function(a,b){var c;c=this;Object.keys(this.jd).forEach(function(d){var f;if(void 0===b||b===parseInt(d)){d=c.jd[d];-1<(f=d.indexOf(a))&&d.splice(f,1);}});};c=b;c=g.__decorate([a.N()],c);d.YNa=c;},function(g,d,a){var c,h,l,f;function b(a,b,c){var d;d=this;this.app=a;this.ja=b;this.eQ=c;this.cs=function(a){d.gj=void 0;d.qrb(a||d.eQ);};this.Sta=l.xb(-this.eQ.na(l.Ba));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(4);a=a(30);b.prototype.nb=function(a){this.Z9=a;this.gj=this.gj||this.hb(this.cs);};b.prototype.cC=function(){this.gj&&this.gj.cancel();this.gj=void 0;};b.prototype.qrb=function(a){var b,c;b=this.app.Pe();if(this.Z9){c=a.Fd(b.Fd(this.Sta));0>=c.nl(l.Rf)?(a=this.Z9,this.Z9=void 0,this.Sta=b,a()):this.gj=this.gj||this.ja.Mf(c,this.cs.bind(this,a));}};b.prototype.hb=function(a){return this.ja.Mf(l.Rf,a);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.Ue)),g.__param(1,c.l(a.Wf))],f);d.IPa=f;},function(g,d,a){var c,h,l,f,k,m,n,r,t;function b(a,b){this.Ua=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(24);f=a(45);k=a(2);m=a(16);n=a(4);r=a(5);a=a(426);b.prototype.i4a=function(a){var b,d,g,h,l,p,q,r,u;b=this;l=a.qd.value;p=a.xm.value;q=a.Fc.value;r=a.state.value;h={segmentId:a.H4(),mediaTime:l,segmentTime:a.ay(),bufferingState:c.jZa[p],presentingState:c.Zjb[q],playbackState:c.pjb[r],mseBuffersBusy:this.D$a(a),intBuffersBusy:this.s9a(a),tabVisible:this.aqb(),decodedFrameCount:this.z3a(a),videoElementInDom:this.vsb(a),lastVideoSync:this.Ua.Pe().Fd(n.xb(a.qL)).na(n.Ba)};u=q===m.am.VF?a.Za.rf?this.config.Hwa:this.config.Gwa:this.config.Gva;p!==m.gM.rfa?(d=k.H.cFa,this.Tma(h.mseBuffersBusy,h.intBuffersBusy)&&(g=c.Qba)):q!==m.am.jf&&(d=k.H.dFa,(a=a.eg)&&a.jb.sourceBuffers.forEach(function(a){var d,f;d=c.xfb[a.P];h[d+"Ranges"]=a.BR();a=a.buffered();if(0===a.length)h[d+"Undecoded"]=0,g=c.zDa;else{f=1E3*a.end(0)-l;h[d+"Undecoded"]=f;1<a.length&&(g=c.ADa);l<1E3*a.start(0)||l>1E3*a.end(0)?g=c.BDa:f<u.na(n.Ba)?g=c.CDa:b.Tma(h.mseBuffersBusy,h.intBuffersBusy)&&(g=c.Qba);}}));a="";try{a=JSON.stringify(h);}catch(O){a="Cannot stringify details: "+O;}return new f.Wb(k.I.Lfa,d,g,void 0,void 0,void 0,a,void 0);};b.prototype.D$a=function(a){var b;if(a.jb){b={};a.jb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.s9a=function(a){var b;if(a.jb){b={};a.jb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.pk()};});return b;}};b.prototype.aqb=function(){return!r.ud.hidden;};b.prototype.z3a=function(a){return(a=a.eg)&&(a=a.jb.Ha)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.vsb=function(a){if(a=a.eg)if(a=a.jb.Ha)return r.ud.body.contains(a);return!1;};b.prototype.Tma=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};t=c=b;t.zDa="1";t.ADa="2";t.BDa="3";t.Qba="4";t.CDa="5";t.xfb=["Audio","Video"];t.jZa=["","NORMAL","BUFFERING","STALLED"];t.Zjb=["","WAITING","PLAYING ","PAUSED","ENDED"];t.pjb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];t=c=g.__decorate([h.N(),g.__param(0,h.l(l.Ue)),g.__param(1,h.l(a.jfa))],t);d.hGa=t;},function(g,d,a){var c,h,l,f;function b(a,b){this.Ua=a;this.entries=[];this.ga=b.lb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(4);a=a(7);b.prototype.mark=function(a,b){a={name:a,la:b,wqb:this.Ua.Pe()};this.entries.push(a);return a;};b.prototype.J9a=function(){return this.entries.slice();};b.prototype.zra=function(){var a;a={};try{a=this.J9a().filter(function(a){return!a.la;}).reduce(function(a,b){a[b.name]=b.wqb.na(l.Ba);return a;},{});}catch(m){this.ga.error(" getMapOfCommonMarks exception",m);}return a;};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.Ue)),g.__param(1,c.l(a.rb))],f);d.WPa=f;},function(g,d,a){var c,h,l,f;function b(a){return h.dM.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(35);h=a(38);l=a(1);a=a(25);ia(b,h.dM);na.Object.defineProperties(b.prototype,{$Ba:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;g.__decorate([c.config(c.Yd,"usePerformanceApi")],f.prototype,"$Ba",null);f=g.__decorate([l.N(),g.__param(0,l.l(a.uW))],f);d.KEa=f;},function(g,d,a){var c,h,l,f;function b(a){a=h.dM.call(this,a,"DebugConfigImpl")||this;a.fDb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(35);h=a(38);l=a(1);a=a(25);ia(b,h.dM);na.Object.defineProperties(b.prototype,{cZa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;g.__decorate([c.config(c.Yd,"breakOnError")],f.prototype,"cZa",null);f=g.__decorate([l.N(),g.__param(0,l.l(a.uW))],f);d.fGa=f;},function(g,d,a){var c,h,l,f;function b(a,b,c){this.config=a;this.Oa=b;this.ga=c.lb("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(23);l=a(136);a=a(7);b.prototype.assert=function(){};b.prototype.YXa=function(a,b){this.assert(this.Oa.kk(a),b);};b.prototype.ZXa=function(a,b){this.assert(this.Oa.Yg(a),b);};b.prototype.dYa=function(a,b){this.assert(this.Oa.rh(a),b);};b.prototype.gYa=function(a,b){this.assert(this.Oa.Li(a),b);};b.prototype.eYa=function(a,b){this.assert(this.Oa.rh(a)||null===a||void 0===a,b);};b.prototype.bYa=function(a,b){this.assert(this.Oa.Af(a),b);};b.prototype.aYa=function(a,b){this.assert(this.Oa.l0(a),b);};b.prototype.fYa=function(a,b){this.assert(this.Oa.$o(a),b);};b.prototype.cYa=function(a,b){this.assert(this.Oa.vB(a),b);};b.prototype.WXa=function(a,b){this.assert(this.Oa.uB(a),b);};b.prototype.$Xa=function(a,b){this.assert(this.Oa.MG(a),b);};b.prototype.$bb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.UEb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(q){return q.stack;}};};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.Hca)),g.__param(1,c.l(h.we)),g.__param(2,c.l(a.rb))],f);d.gGa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.is=a;this.Gd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(23);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.Gd.xu(a,function(a,d){a=b.Lpa(a)+"="+b.Lpa(d);c=c?c+(","+a):a;});return c;};b.prototype.Lpa=function(a){return this.is.kk(a)?this.is.Af(a)?""+a:this.is.rh(a)?(a=a.replace(c.pya,this.Feb.bind(this)),!c.Jkb.test(a)&&c.pgb.test(a)&&(a='"'+a+'"'),a):this.is.uB(a)?""+a:this.is.T_(a)?"NaN":"":"";};b.prototype.Feb=function(a){return c.map[a];};f=c=b;f.map={'"':'""',"\r":"","\n":" "};f.pya=/(?!^.+)["\r\n](?=.+$)/g;f.Jkb=/["].*["]/g;f.pgb=/[", ]/;f=c=g.__decorate([h.N(),g.__param(0,h.l(l.we)),g.__param(1,h.l(a.Je))],f);d.WEa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.Ma=a;this.xR=this.Ma.cg.na(l.Ba)-1;this.heb=this.FS=0;this.id=""+b.xH();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(4);a=a(117);b.prototype.Pe=function(){var a,b;a=this.Ma.cg.na(l.Ba)-this.xR;if(a<this.FS){b=this.FS+1;this.xR-=b-a;a=b;}this.FS=a;return l.xb(this.FS);};b.prototype.yra=function(){return this.heb++;};na.Object.defineProperties(b.prototype,{cD:{configurable:!0,enumerable:!0,get:function(){return l.xb(this.xR);}}});f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.wi)),g.__param(1,c.l(a.eA))],f);d.ZCa=f;},function(g){g.M="function"===typeof Object.create?function(d,a){d.Opb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.Opb=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(g){g.M=function(d){return d&&"object"===typeof d&&"function"===typeof d.ip&&"function"===typeof d.fill&&"function"===typeof d.LHb;};},function(g,d,a){var c;function b(a){this.Y7a=a;this.VR=!1;this.cS=this.BL=this.wE=0;this.UI=!1;this.dS=0;}Object.defineProperty(d,"__esModule",{value:!0});c=a(230);b.prototype.dXa=function(a){a<this.wE&&(this.BL+=this.wE);this.wE=a;this.VR=!0;};b.prototype.C8a=function(){if(this.VR)return this.UI?this.dS-this.cS:this.BL+this.wE-this.cS;};b.prototype.refresh=function(){var a;a=this.Y7a();c.ka(a)&&this.dXa(a);};b.prototype.Rob=function(){this.UI||(this.VR&&(this.dS=this.BL+this.wE),this.UI=!0);};b.prototype.gpb=function(){this.UI&&(this.VR&&(this.cS+=this.BL+this.wE-this.dS),this.dS=0,this.UI=!1);};d.tLa=b;},function(g,d,a){var c,h,l;function b(a){this.ja=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(30);l=a(70);b.prototype.Il=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ja.Mf(a,function(){f(new l.nn(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Wf))],a);d.cOa=a;},function(g,d,a){var c,h,l,f,k,m,n,r;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};k={};m={};n={};r=/\s+/g;[l,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b<<18;k[c]=b<<12;m[c]=b<<6;n[c]=b;}});b.prototype.encode=function(a){return c.Z2(a,l,"=");};b.prototype.decode=function(a){return c.r2(a);};b.r2=function(a){var b,c,d;a=a.replace(r,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),g=0,h=0,l;h<c;){l=f[a[g++]]+k[a[g++]]+m[a[g++]]+n[a[g++]];if(!(0<=l&&16777215>=l))throw Error("bad base64");b[h++]=l>>>16;b[h++]=l>>>8&255;b[h++]=l&255;}if(0<d&&(l=f[a[g++]]+k[a[g++]],b[h++]=l>>>16,1<d&&(l+=m[a[g++]],b[h++]=l>>>8&255),!(0<=l&&16776960>=l&&0===(l&(1<d?255:65535)))))throw Error("bad base64");return b;};b.Z2=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,l;f<h;){l=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=l&&16777215>=l))throw Error("not bytes");d+=b[l>>>18]+b[l>>>12&63]+b[l>>>6&63]+b[l&63];}if(f==h){l=(a[f++]<<8)+a[f++];if(!(0<=l&&65535>=l))throw Error("not bytes");d+=b[l>>>10]+b[l>>>4&63]+b[l<<2&63]+c;}else if(f==g-1){l=a[f++];if(!(0<=l&&255>=l))throw Error("not bytes");d+=b[l>>>2]+b[l<<4&63]+c+c;}return d;};h=c=b;h=c=g.__decorate([a.N()],h);d.FDa=h;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return c.Z2(a);};b.prototype.decode=function(a){return c.r2(a);};b.Z2=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,g="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};b.r2=function(a){var b,c,d,g,h;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)h=a.charCodeAt(d),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)h=a.charCodeAt(d),128>h?c[g++]=h:(2048>h?c[g++]=192|h>>>6:(c[g++]=224|h>>>12,c[g++]=128|h>>>6&63),c[g++]=128|h&63);return c;};h=c=b;h=c=g.__decorate([a.N()],h);d.rQa=h;},function(g,d,a){var c,h,l,f,k,m,n;function b(a,b,d,f){var g;g=this;this.config=a;this.R2a=b;this.Tb=d;this.performance=f;this.Nhb=function(a){g.Fza=a.Fd(g.cg);};c.xk(this,"date");c.xk(this,"performance");this.DXa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.Fza=h.Rf;this.Tb.addListener(n.oea.Hza,this.Nhb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(51);h=a(4);l=a(1);f=a(39);k=a(432);m=a(69);n=a(16);na.Object.defineProperties(b.prototype,{cg:{configurable:!0,enumerable:!0,get:function(){return this.Hva?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.xb(this.R2a.now());}},w$:{configurable:!0,enumerable:!0,get:function(){return this.cg.add(this.Fza);}},Hva:{configurable:!0,enumerable:!0,get:function(){return this.config.$Ba&&this.DXa;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(k.nca)),g.__param(1,l.l(f.Gca)),g.__param(2,l.l(m.VW)),g.__param(3,l.l(f.uY)),g.__param(3,l.optional())],a);d.LEa=a;},function(g,d,a){var c,h;function b(a){this.$pb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(116);b.prototype.random=function(){return this.$pb.random();};b.prototype.j9=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.vha))],h);d.lOa=h;},function(g,d,a){var c,h,l,f,k;function b(a,b){this.Ma=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f=a(37);a=a(116);b.prototype.xH=function(){return this.Ma.cg.na(l.dm)*c.eca+Math.floor(this.random.random()*c.eca);};k=c=b;k.eca=1E4;k=c=g.__decorate([h.N(),g.__param(0,h.l(f.wi)),g.__param(1,h.l(a.NF))],k);d.LIa=k;},function(g,d,a){var h,l,f,k;function b(a){this.AE=a;l.xk(this,"timers");}function c(a,b){this.AE=a;this.WZa=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(39);k=a(4);c.prototype.cancel=function(){this.WZa(this.AE);};b.prototype.nb=function(a){return this.Mf(k.Rf,a);};b.prototype.Mf=function(a,b){var d;d=this.AE.setTimeout(b,a.na(k.Ba));return new c(this.AE,function(a){a.clearTimeout(d);});};b.prototype.lza=function(a,b){var d;d=this.AE.setInterval(b,a.na(k.Ba));return new c(this.AE,function(a){a.clearInterval(d);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.aia))],a);d.bPa=a;},function(g,d,a){var b,c,h,l,f,k,m,n,r,t,v,z,w,D,y,E,P,G,F,L,O,X,V,R,S,U,H,Y,aa,ba,Z,Q,ka,fa,ma,ta,ga,ca,ea,ha,ia,ja,na,oa,qa,ua,xa,va,za,Ba,Ca,Fa,Ha,Ia,La,Oa,Ra,Ja,Va,Wa,Xa;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(39);c=a(37);h=a(30);l=a(117);f=a(116);k=a(872);m=a(871);n=a(870);r=a(869);t=a(97);v=a(99);z=a(44);w=a(22);D=a(23);y=a(69);E=a(70);P=a(431);G=a(868);F=a(231);L=a(867);O=a(430);X=a(866);V=a(121);R=a(429);S=a(865);U=a(228);H=a(96);Y=a(862);aa=a(24);ba=a(428);Z=a(861);Q=a(860);ka=a(136);fa=a(859);ma=a(7);ta=a(432);ga=a(858);ca=a(115);ea=a(857);ha=a(427);ia=a(856);ja=a(855);na=a(85);oa=a(5);qa=a(425);ua=a(854);xa=a(424);va=a(853);za=a(423);Ba=a(20);Ca=a(66);Fa=a(63);Ha=a(422);Ia=a(852);La=a(851);Oa=a(421);Ra=a(420);Ja=a(114);Va=a(850);Wa=a(849);Xa=a(848);d.P_a=new g.Xb(function(a){a(b.Ts).Gg(JSON);a(b.aia).Gg(A);a(f.vha).Gg(Math);a(b.Bea).Gg(oa.ZM);a(b.uY).Gg(oa.tq);a(b.Gca).Gg(Date);a(b.CF).Gg(oa.nj);a(b.xKa).Gg(oa.lA);a(ta.nca).to(ga.KEa).$();a(aa.Ue).to(Y.ZCa).$();a(c.wi).to(r.LEa).$();a(h.Wf).to(k.bPa).$();a(l.eA).to(m.LIa).$();a(E.uA).to(X.cOa).$();a(f.NF).to(n.lOa).$();a(ka.YE).to(Q.gGa).$();a(ka.Hca).to(fa.fGa).$();a(t.Ew).to(G.rQa).$();a(v.Wv).to(F.jW).$();a(z.kj).to(L.FDa).$();a(w.Je).to(O.Qha).$();a(D.we).Gg(V.qq);a(Oa.AM).to(Ra.iHa).$();a(y.BM).to(R.Oj).F5();a(y.XE).to(R.Oj).$();a(y.VW).to(R.Oj).$();a(U.PY).to(H.zw).$();a(ba.xca).to(Z.WEa).$();a(ca.Dw).to(ea.WPa).$();a("Factory<LoggerFactory>").Eqb(ma.rb);a(ha.Jca).to(ia.hGa).$();a(na.Aw).hh(function(a){return function(b){return new ja.IPa(a.Zb.get(aa.Ue),a.Zb.get(h.Wf),b);};});a(Wa.dGa).hh(function(a){return function(b){return new Xa.eGa(a.Zb.get(h.Wf),b);};});a(qa.AY).Fqb(ua.YNa);a(qa.XNa).hh(function(a){var b;b=a.Zb.get(qa.AY);return function(){return new b(!1);};});a(qa.Jga).hh(function(a){var b;b=a.Zb.get(qa.AY);return function(){return new b(!0);};});a(xa.Pha).hh(function(){return function(a){return new va.oQa(a);};});a(Fa.Rj).hh(function(a){return function(b,c,d){var f,g,h;f=a.Zb.get(ka.YE);g=a.Zb.get(Ba.me);h=a.Zb.get(Ca.kn);return new za.MNa(f,g,h,Ha.afa,b,c,d);};});a(P.Efa).hh(function(){return function(a){return new S.tLa(a);};});a(Ia.qQa).to(La.pQa).$();a(Ja.Cw).hh(function(a){return function(b,c){return new Va.UPa(a.Zb.get(h.Wf),b,c);};});});},function(g,d,a){var b,c,h,l,f,k,m,n,r,t,v,z,w,D,y,E,P,G,A,L,O,F,V,R,S,U,H,Y,aa,ba,Z,Q,ka;Object.defineProperty(d,"__esModule",{value:!0});b=a(873);c=a(847);h=a(836);l=a(831);f=a(825);k=a(822);m=a(818);n=a(806);r=a(794);t=a(791);v=a(787);z=a(784);w=a(645);D=a(245);y=a(642);E=a(638);P=a(623);G=a(616);A=a(609);L=a(601);O=a(595);F=a(244);V=a(587);R=a(585);S=a(578);U=a(574);H=a(571);Y=a(569);aa=a(564);ba=a(548);Z=a(531);Q=a(526);ka=a(522);d.Idb=function(a){a.load(b.P_a,k.Cz,c.peb,m.DQ,r.VP,h.OJ,l.ie,f.ysb,n.storage,t.R0,v.AZa,z.Deb,w.Fj,D.th,y.yg,E.meb,P.xgb,G.O7a,A.skb,L.VT,O.b5a,F.eme,V.crypto,R.Gd,S.Asb,U.SXa,H.hgb,Y.Kib,aa.j,ba.O_a,Z.frb,Q.Wi,ka.ki);};},function(g,d,a){var h,l;function b(a,b,c,d,g){this.Ua=a;this.config=b;this.ja=c;this.cs=d;this.name=g;}function c(a,b,c,d){var f;f=this;this.Ua=a;this.ja=b;this.timeout=c;this.Aqb=d;this.Hab=function(){f.lH=!0;f.oy.cancel();f.Aqb();};this.startTime=this.Ua.Pe();this.oy=this.ja.Mf(this.timeout,function(){f.Hab();});this.lH=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(88);c.prototype.stop=function(){this.lH||(this.jV=this.Ua.Pe(),this.oy.cancel());};na.Object.defineProperties(c.prototype,{Cpa:{configurable:!0,enumerable:!0,get:function(){if(this.jV&&this.startTime)return this.jV.Fd(this.startTime);}}});b.prototype.b_a=function(){var a;a=this;this.JB=new c(this.Ua,this.ja,this.config.E5,function(){a.cs(new l.gf(h.I.Xga,h.H.NGa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.E5+"ms"));});};b.prototype.a_a=function(){this.JB&&this.JB.stop();};b.prototype.Enb=function(){this.VK=this.Ua.Pe();};b.prototype.c_a=function(){var a;a=this;this.IV=new c(this.Ua,this.ja,this.config.c$,function(){a.cs(new l.gf(h.I.Xga,h.H.MGa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.c$+"ms"));});};b.prototype.ina=function(){this.IV&&this.IV.stop();};na.Object.defineProperties(b.prototype,{rd:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.JB){b=this.JB.Cpa;b&&(a.sva=b);this.VK&&this.JB.jV&&(a.VK=this.VK.Fd(this.JB.jV));}this.IV&&(b=this.IV.Cpa)&&(a.Ina=b);return a;}}});d.XGa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.xpa=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};d.$Ga=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.VGa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.mq||(d.mq={});g[g.TBa=0]="usable";g[g.z6a=1]="expired";g[g.Flb=2]="released";g[g.Lwa=3]="outputRestricted";g[g.cib=4]="outputDownscaled";g[g.cpb=5]="statusPending";g[g.Wbb=6]="internalError";},function(g,d,a){var c,h,l,f,k,m,n,r,t,v,z,w,D,y,E,P,G,A,L,O,F;function b(a,b,c,d,g,k,m,p,n){var q;q=this;this.Ua=b;this.jl=c;this.config=d;this.mf=g;this.Lh=k;this.ql=m;this.ja=p;this.Hk=n;this.onMessage=function(a){var b,c,d;b=q.Lh.Q1(a);c=b.message;d=b.K7;q.PU(b.sessionId);q.Nu=q.Lh.Nu(b);q.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:q.Nu});"license-renewal"===d&&(q.log.trace("Received a renewal request"),q.ah=v.xi.bm,q.Se=O.lz);q.Se!==O.Ze||q.Nu||(q.C6={ql:q.ql,data:c},q.il(z.Eo.jya));q.Se===O.lz&&q.il(z.Eo.kya);q.qJ&&(q.qJ.next({gp:c,mna:d,ah:q.ah}),q.ah!==v.xi.bm||q.Nu||(q.qJ.complete(),q.qJ=void 0));q.Se===O.stop&&(q.Of.a_a(),q.config.Jh&&q.NK&&(q.NK.next({gp:c}),q.NK.complete(),q.NK=void 0));};this.zwa=function(a){var b,c;b=q.Lh.P1(a).n6;q.PU(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{G.$Ga.xpa(b,function(a,b){q.log.trace("key status: "+b);b=F[b];q.Qta.next({lJ:new Uint8Array(a),value:b.status});b.error&&(c=new P.gf(b.error),q.i6(c));});}catch(ta){c=new P.gf(f.I.AMa);c.NH(ta);}c?q.j6(c):(q.Lh.$P()||q.Lta(),q.ah!==v.xi.Vs||q.Lh.I0()||(q.log.info("Kicking off license renewal",{timeout:q.config.Uu}),setTimeout(function(){q.yya();},q.config.Uu.na(l.Ba))));};this.zD=function(a){var b;b=q.Lh.Hn(a);q.log.error("Received event: "+a.type,b);q.Tr(b);q.j6(b);q.Ch||q.wk||q.i6(b);};this.Tr=function(a){q.Ch&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Lh.Hn(b));q.Ch&&(q.Ch.error(a),q.Ch=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Ch&&(q.Ch.error(a),q.Ch=void 0);});};this.Kta=function(){q.Ch&&(q.Ch.complete(),q.Ch=void 0);};this.j6=function(a){q.wk&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Lh.Hn(b));q.Se===O.lz&&q.il(z.Eo.Tla);q.Ch=void 0;q.wk&&(q.wk.error(a),q.wk=void 0);},function(){q.log.trace("Issuing a license error");q.Ch=void 0;q.wk&&(q.wk.error(a),q.wk=void 0);}));};this.Lta=function(){q.wk&&(q.log.info("Successfully added license"),q.Se===O.Ze?q.il(z.Eo.Mla):q.Se===O.lz&&q.il(z.Eo.Sla),q.wk.complete(),q.wk=void 0);};this.i6=function(a){q.Nn&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Lh.Hn(b));q.Ch=void 0;q.wk=void 0;q.Nn&&(q.Nn.next(a),q.Nn.complete(),q.Nn=void 0);},function(){q.log.trace("Issuing a CDM error");q.Ch=void 0;q.wk=void 0;q.Nn&&(q.Nn.next(a),q.Nn.complete(),q.Nn=void 0);});};this.il=function(a){q.rd.push({time:q.Ua.Pe(),Lfb:a});};this.log=a.lb("EmeSession");this.qJ=new h.Bi();this.config.Jh&&(this.NK=new h.Bi());this.Qta=new h.OF();this.Nn=new h.Bi();this.Se=O.zrb;this.rd=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(86);l=a(4);f=a(2);k=a(24);m=a(7);n=a(44);r=a(30);t=a(64);v=a(76);z=a(433);w=a(878);D=a(166);y=a(232);E=a(877);P=a(88);G=a(876);A=a(875);L=a(70);(function(a){a[a.zrb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Ze=3]="license";a[a.lz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(O||(O={})));F={usable:{status:w.mq.TBa},expired:{status:w.mq.z6a,error:f.I.Mfa},released:{status:w.mq.Flb},"output-not-allowed":{status:w.mq.Lwa,error:f.I.Nfa},"output-restricted":{status:w.mq.Lwa},"output-downscaled":{status:w.mq.cib},"status-pending":{status:w.mq.cpb},"internal-error":{status:w.mq.Wbb,error:f.I.zMa}};b.prototype.CC=function(){return this.context.zd;};b.prototype.Hu=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.Se=O.closed;this.rd=[];return this.mf.Dta()?(this.log.trace("Closing the session"),this.mf.vya(this.onMessage),this.mf.tya(this.zwa),this.mf.sya(this.zD),this.Ak=void 0,h.sa.create(function(b){a.Hk.Il(a.config.gma,a.mf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Lh.Hn(c);c.code=f.I.CMa;b.error(c);});})):h.sa.empty();};b.prototype.Scb=function(){return this.Qta.x0();};b.prototype.gI=function(){return this.Nn?this.Nn.x0():void 0;};b.prototype.pp=function(){return this.ql;};b.prototype.MI=function(){return void 0!==this.Ze;};b.prototype.yr=function(a,b,c,d){var g;g=this;this.ah=d;this.Se=O.create;this.context=a;this.il(z.Eo.aua);return h.sa.create(function(h){(c.rsa()?Promise.resolve():g.Hk.Il(g.config.hma,g.mf.kQ(a,b)).then(function(a){g.log.trace("Created media keys");c.gE(a);return g.LXa(a);})).then(function(){g.Ak=c.Ak;try{g.mf.yr(g.Ak,g.Lh.Q4(d));g.mf.Nla(g.onMessage);g.mf.Kla(g.zwa);g.mf.Jla(g.zD);g.PU(g.mf.Hu());h.next(g);h.complete();}catch(aa){h.error(new P.gf(f.I.GGa,f.H.pg,void 0,"Unable to create a persisted key session",aa));}})["catch"](function(a){a.code&&a.tc?h.error(a):h.error(new P.gf(f.I.Xca,a instanceof L.nn?f.H.aF:f.H.pg,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.Znb=function(a){this.Eg=a;this.log.Gla("xid",a.la);};b.prototype.wR=function(a){var b;b=this;this.Se=O.Ze;this.log.trace("Generating a license challenge");this.Ch=new h.Bi();if(!a)return this.y1(new P.gf(f.I.$ca,f.H.NW));if(0===a.length)return this.y1(new P.gf(f.I.$ca,f.H.MW));this.Hk.Il(this.config.ima,this.mf.Oqa("cenc",a)).then(function(){b.PU(b.mf.Hu());})["catch"](function(a){var c;c=new P.gf(f.I.Zca,a instanceof L.nn?f.H.aF:f.H.pg);c.message="Unable to generate request.";c.NH(a);b.log.error("Unable to generate a license request",c);b.Tr(c);});this.log.trace("Returning the challenge subject");return this.Ch;};b.prototype.Lla=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Tr(new P.gf(f.I.ada,f.H.MW))):this.Nu?this.Hk.Il(this.config.p0,this.mf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.Lh.Hn(a);a.code=f.I.yM;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Tr(a);}):(this.Se===O.Ze&&(this.il(z.Eo.iya),this.Ze=a,this.Kta()),this.Se===O.lz&&(this.il(z.Eo.lya),this.Ze=a,this.v0())):this.Se===O.lz?(this.il(z.Eo.mya),this.i6(a)):this.Tr(a);};b.prototype.v0=function(){var a,b;a=this;if(!this.Ze)return this.y1(new P.gf(f.I.ada,f.H.NW));this.wk=new h.Bi();b=this.Ze;this.Ze=void 0;this.Hk.Il(this.config.p0,this.mf.update(b)).then(function(){a.Lh.$P()&&a.Lta();})["catch"](function(b){b=a.Lh.Hn(b);b.code=f.I.Qfa;b.message="Unable to update the EME";a.log.error(b.message,b);a.j6(b);});return this.wk;};b.prototype.rJ=function(){return this.qJ;};b.prototype.U7a=function(){var a;a=this;if(this.Se===O.Ze&&this.ah===v.xi.Vs)return h.sa.empty();this.Se=O.stop;this.log.trace("Generating a secure stop challenge");this.Ch=new h.Bi();this.Of=new A.XGa(this.Ua,this.config,this.ja,function(){a.log.error("got a timeout error");},"non-persisted");this.Of.b_a();this.mf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.Lh.Hn(b);c.code=f.I.cda;c.tc=f.H.pg;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Tr(c);});return this.Ch;};b.prototype.Ula=function(a){a&&a.constructor!==Uint8Array?this.Tr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Tr(new P.gf(f.I.bda,f.H.MW))):(this.log.trace("Secure stop is ready to apply"),this.rza=a,this.Of.Enb(),this.Kta()):(this.log.error("The secure stop buffer is undefined"),this.Tr(new P.gf(f.I.bda,f.H.NW)));};b.prototype.MXa=function(){var a;a=this;if(!this.rza)return h.sa.from([this]);this.log.trace("Setting the secure stop data");return h.sa.create(function(b){a.Of.c_a();a.mf.update(a.rza).then(function(){a.Of.ina();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.Of.ina();d=a.Lh.Hn(c);d.code=f.I.yM;d.tc=f.H.pg;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};b.prototype.LXa=function(a){var b,c;b=this;c=this.Lh.g4();return c?(c=this.jl.decode(c),this.Hk.Il(this.config.jma,this.mf.Yza(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.PU=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Gla("sessionId",a));};b.prototype.yya=function(){this.log.trace("Initiating a renewal request");this.ah=v.xi.bm;this.Se=O.lz;this.Lh.T5(this.mf);};b.prototype.y1=function(a){var b;b=this;return h.sa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(m.rb)),g.__param(1,c.l(k.Ue)),g.__param(2,c.l(n.kj)),g.__param(3,c.l(t.gn)),g.__param(4,c.l(E.VGa)),g.__param(5,c.l(y.AGa)),g.__param(6,c.l(D.CGa)),g.__param(7,c.l(r.Wf)),g.__param(8,c.l(L.uA))],a);d.ZGa=a;},function(g,d,a){var c,h,l,f,k,m,q,n,r;function b(a,b,c,d,f,g,h){this.bo=a;this.Ua=b;this.Pd=c;this.config=d;this.ja=f;this.Hk=g;this.Pm=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(7);l=a(24);f=a(44);k=a(64);m=a(30);q=a(70);n=a(879);a=a(119);b.prototype.create=function(){var a;a=this;return Promise.all([this.Pm.Z8a(),this.Pm.Y8a(),this.Pm.pp()]).then(function(b){var c,d;c=za(b);b=c.next().value;d=c.next().value;c=c.next().value;return new n.ZGa(a.bo,a.Ua,a.Pd,a.config,b,d,c,a.ja,a.Hk);});};r=b;r=g.__decorate([c.N(),g.__param(0,c.l(h.rb)),g.__param(1,c.l(l.Ue)),g.__param(2,c.l(f.kj)),g.__param(3,c.l(k.gn)),g.__param(4,c.l(m.Wf)),g.__param(5,c.l(q.uA)),g.__param(6,c.l(a.kw))],r);d.YGa=r;},function(g,d){function a(a){this.oia=a;this.Ija=0;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.next=function(){return this.oia.length>this.Ija?{value:this.oia[this.Ija++],done:!1}:{done:!0};};d.bDa=a;},function(g,d,a){var c,h,l,f,k,m,q,n,r,t;function b(a,b,c,d){this.Gd=a;this.Wg=b;this.Sl=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(22);f=a(99);k=a(97);m=a(881);q=a(88);n=a(70);r=a(76);a=a(64);b.prototype.$P=function(){return!1;};b.prototype.I0=function(){return!1;};b.prototype.Q4=function(a){return this.config.Jh&&a===r.xi.bm?"persistent-usage-record":"temporary";};b.prototype.g4=function(){};b.prototype.M4=function(){return[];};b.prototype.Nu=function(a){return this.Gd.ju(a.message,this.Sl.decode("certificate"));};b.prototype.T5=function(a){a.update(this.Sl.decode("renew")).then(function(){});};b.prototype.Q1=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,K7:"license-request"};};b.prototype.P1=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=m.bDa;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,n6:new c([[f,"usable"]])};};b.prototype.Hn=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new q.gf(h.I.eN,a instanceof n.nn?h.H.aF:h.H.Wz,c?this.Wg.uI(c,4):d,"",b);b.NH(a);return b;};t=b;t=g.__decorate([c.N(),g.__param(0,c.l(l.Je)),g.__param(1,c.l(f.Wv)),g.__param(2,c.l(k.Ew)),g.__param(3,c.l(a.gn))],t);d.YOa=t;},function(g,d,a){var c,h,l,f,k,m,q,n,r;function b(a,b,c,d){var f;f=this;this.mc=a;this.LV=b;this.jl=c;this.qta=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.A2a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h(d);f.Pv(12);f.Ov("frma");f.Ov("avc1");f.Pv(20);f.Ov("schm");f.VV(0);f.VV(0);f.Ov(a);f.Pv(b);"piff"==a?(f.Pv(56),f.Ov("schi"),f.Pv(48),f.Ov("uuid"),f.qCa(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Pv(40),f.Ov("schi"),f.Pv(32),f.Ov("tenc"));f.VV(0);f.VV(0);f.Pv(264);f.qCa(c);return d;}c=b("piff",65537,a);c=f.LV.decode(f.jl.encode(c));a=b("cenc",65536,a);a=f.LV.decode(f.jl.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.A9a=function(a){var b;a=a.subarray(14,30);a=f.jl.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.kmb=function(){f.Gi.forEach(function(a){f.aa&&f.aa.addEventListener(a.name,a.Mu);});f.Gi.length=0;};this.Gi=[];this.log=d.lb("EmeFactory");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(98);l=a(1);f=a(2);k=a(22);m=a(97);q=a(44);n=a(7);r=a(5);b.prototype.Hu=function(){if(this.aa)return this.aa.sessionId;};b.prototype.Dya=function(a){this.lG=a;return Promise.resolve({});};b.prototype.kQ=function(a){var c;function b(){var b,d;b=c.mc.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);d=b.lastChild;c.$ka=b;a.Ha=r.ud.createElement("VIDEO");d?c.$ka.insertBefore(a.Ha,d):c.$ka.appendChild(a.Ha);}c=this;return new Promise(function(d,g){function h(){try{c.Mq=new A.WebKitMediaKeys(c.lG);a.Ha.webkitSetMediaKeys(c.Mq);d(c.Mq);}catch(P){c.log.error("CREATE: Exception on webkitSetMediaKeys",P);g({S:!1,code:f.I.EY,Ja:c.mc.$c(P)});}}if(c.qta(c.lG))try{c.Mq=new A.WebKitMediaKeys(c.lG);a.Ha&&a.Ha.webkitSetMediaKeys(c.Mq);d(c.Mq);}catch(P){g({S:!1,code:f.I.EY,Ja:c.mc.$c(P)});}else{try{c.Mq=new A.WebKitMediaKeys(c.lG);}catch(P){g({S:!1,code:f.I.EY,Ja:c.mc.$c(P)});}a.Ha?a.Ha.webkitSetMediaKeys(c.Mq):(b(),c.Ae=new r.lA(),c.Ae.addEventListener("sourceopen",h),c.Zf=URL.createObjectURL(c.Ae),a.Ha.src=c.Zf);d(c.Mq);}});};b.prototype.yr=function(){};b.prototype.Dta=function(){return!!this.aa;};b.prototype.Yza=function(){return Promise.resolve();};b.prototype.Oqa=function(a,b){try{return this.qta(this.lG)&&(b=this.A2a(this.A9a(b))),this.aa=this.Mq.createSession("video/mp4",b,null),this.kmb(),Promise.resolve();}catch(w){return Promise.reject(w);}};b.prototype.update=function(a){if(!this.aa)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.aa.update(a),Promise.resolve();}catch(z){return Promise.reject(z);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.aa)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.aa.close(),Promise.resolve();}catch(v){return Promise.reject(v);}finally{this.aa=void 0;}};b.prototype.remove=function(){if(!this.aa)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.aa.close(),Promise.resolve();}catch(v){return Promise.reject(v);}};b.prototype.Nla=function(a){this.aa?this.aa.addEventListener(c.Yz,a):this.Gi.push({name:c.Yz,Mu:a});};b.prototype.Kla=function(a){this.aa?this.aa.addEventListener(c.QW,a):this.Gi.push({name:c.QW,Mu:a});};b.prototype.Jla=function(a){this.aa?this.aa.addEventListener(c.Xz,a):this.Gi.push({name:c.Xz,Mu:a});};b.prototype.vya=function(a){if(!this.aa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.aa.removeEventListener(c.Yz,a);};b.prototype.tya=function(a){if(!this.aa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.aa.removeEventListener(c.QW,a);};b.prototype.sya=function(a){if(!this.aa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.aa.removeEventListener(c.Xz,a);};a=c=b;a.Yz="webkitkeymessage";a.QW="webkitkeyadded";a.Xz="webkitkeyerror";a=c=g.__decorate([l.N(),g.__param(0,l.l(k.Je)),g.__param(1,l.l(m.Ew)),g.__param(2,l.l(q.kj)),g.__param(3,l.l(n.rb))],a);d.rHa=a;},function(g,d,a){var c,h,l,f,k,m,q,n,r;function b(a,b,c,d){this.Gd=a;this.Wg=b;this.jp=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(22);f=a(99);k=a(232);m=a(88);q=a(70);n=a(64);a=a(20);b.prototype.$P=function(){return!0;};b.prototype.I0=function(){return!0;};b.prototype.Q4=function(){return"temporary";};b.prototype.g4=function(){return"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.M4=function(){var a,b;a=[{contentType:k.Zs,robustness:"HW_SECURE_DECODE"},{contentType:k.Zs,robustness:"SW_SECURE_DECODE"},{contentType:k.Zs,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.Zs,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.iA,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Cqa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.Nu=function(a){return this.Gd.ju(a.message,new Uint8Array([8,4]));};b.prototype.T5=function(){};b.prototype.Q1=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),K7:a.messageType};};b.prototype.P1=function(a){return{type:a.type,sessionId:a.target.sessionId,n6:a.target.keyStatuses.entries()};};b.prototype.Hn=function(a){var b,c,d;b=new m.gf(h.I.eN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.tc=1<=c&&9>=c?h.H.Wz+c:h.H.Wz):b.tc=a instanceof q.nn?h.H.aF:h.H.pg;try{d=a.message.match(/\((\d*)\)/)[1];b.Df=this.Wg.uI(d,4);}catch(y){}b.NH(a);return b;};r=b;r=g.__decorate([c.N(),g.__param(0,c.l(l.Je)),g.__param(1,c.l(f.Wv)),g.__param(2,c.l(n.gn)),g.__param(3,c.l(a.me))],r);d.GEa=r;},function(g,d,a){var c,h;function b(a){return h.BY.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(434);ia(b,h.BY);a=b;a=g.__decorate([c.N()],a);d.TNa=a;},function(g,d,a){var c,h,l,f,k,m,q,n,r;function b(a,b,c){this.Wg=a;this.Pd=b;this.config=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(99);f=a(44);k=a(232);m=a(88);q=a(76);n=a(64);r=a(70);b.prototype.$P=function(){return!0;};b.prototype.I0=function(){return!1;};b.prototype.Q4=function(a){return this.config.Jh&&a===q.xi.bm?"persistent-usage-record":"temporary";};b.prototype.g4=function(){};b.prototype.M4=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.iA}],videoCapabilities:[{contentType:k.Zs}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.Nu=function(){return!1;};b.prototype.T5=function(){};b.prototype.Q1=function(a){var b;b=new Uint8Array(a.message);b=this.q3(b,"PlayReadyKeyMessage","Challenge");b=this.Pd.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,K7:a.messageType};};b.prototype.P1=function(a){return{type:a.type,sessionId:a.target.sessionId,n6:a.target.keyStatuses.entries()};};b.prototype.Hn=function(a){var b,c;b=new m.gf(h.I.eN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.tc=1<=c&&9>=c?h.H.Wz+c:h.H.Wz):b.tc=a instanceof r.nn?h.H.aF:h.H.pg;try{b.Df=this.Wg.uI(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(D){}b.NH(a);return b;};b.prototype.q3=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.Wv)),g.__param(1,c.l(f.kj)),g.__param(2,c.l(n.gn))],a);d.UGa=a;},function(g,d,a){var c,h,l,f,k,m,q,n,r,t,z,w,D,y,E,P,G,A,L,F;function b(a,b,c,d,f,g,h,l,k){this.bo=a;this.Gd=b;this.Sl=c;this.Wg=d;this.Pd=f;this.is=g;this.rT=h;this.config=l;this.jp=k;this.log=this.bo.lb("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(7);f=a(88);k=a(166);m=a(886);q=a(885);n=a(884);r=a(434);t=a(22);z=a(99);w=a(44);D=a(23);y=a(39);E=a(883);P=a(882);G=a(97);A=a(20);L=a(137);a=a(64);b.prototype.DI=function(){this.OD||(this.OD=this.Cmb());return this.OD;};b.prototype.p2a=function(a){var b;b=this;return new Promise(function(c,d){var g,l;g=L.bb.m4(a);l=b.ora(g);g=b.lra(g);l.Dya(a,g.M4()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.gf(h.I.Yca,h.H.pg,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.pp=function(){var a;a=this;return this.DI().then(function(b){return a.mra(b);});};b.prototype.X8a=function(){var a,b;a=this;b=this.config().o6||[this.config().zd];if(1<b.length)return this.DI().then(function(b){return a.mra(b);}).then(function(a){return L.bb.kra(a);});b=L.bb.m4(b[0]);return Promise.resolve(L.bb.kra(b));};b.prototype.Y8a=function(){var a;a=this;return this.pp().then(function(b){return a.lra(b);});};b.prototype.Z8a=function(){var a;a=this;return this.pp().then(function(b){return a.ora(b);});};b.prototype.mra=function(a){return L.bb.m4(a.keySystem);};b.prototype.lra=function(a){switch(a){case k.en.az:return new m.UGa(this.Wg,this.Pd,this.jp);case k.en.tC:return new P.YOa(this.Gd,this.Wg,this.Sl,this.jp);default:return new n.GEa(this.Gd,this.Wg,this.jp,this.config);}};b.prototype.ora=function(a){switch(a){case k.en.az:return new q.TNa(this.rT,this.is);case k.en.tC:return new E.rHa(this.Gd,this.Sl,this.Pd,this.bo);default:return new r.BY(this.rT,this.is);}};b.prototype.Cmb=function(){var a,b;a=this;b=(this.config().o6||[this.config().zd]).map(function(b){return function(){return a.p2a(b);};});return this.Dmb(b);};b.prototype.Dmb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};F=b;F=g.__decorate([c.N(),g.__param(0,c.l(l.rb)),g.__param(1,c.l(t.Je)),g.__param(2,c.l(G.Ew)),g.__param(3,c.l(z.Wv)),g.__param(4,c.l(w.kj)),g.__param(5,c.l(D.we)),g.__param(6,c.l(y.CF)),g.__param(7,c.l(A.me)),g.__param(8,c.l(a.gn))],F);d.tKa=F;},function(g,d,a){var c,h,l,f,k,m,q,n,r,t,z,w,D;function b(a,b,c,d,f,g,l,k,p){var q;q=this;this.ja=b;this.Gj=c;this.config=d;this.wI=f;this.h5a=g;this.IB=l;this.Pm=k;this.ova=p;this.Fpb=function(a,b){b.rJ().tE(1).subscribe(function(a){q.Zta.next({ql:b.pp(),data:a.gp});});b.rJ().map(function(c){return q.Kr(a,b,c);}).Zu().RH(function(a){b.$b=a.$b[0];return b.Lla(a.sJ[0].data);}).subscribe(void 0,function(a){b.Lla(a);},function(){q.uZa(b);});};this.Gpb=function(a){a.NK.map(function(b){return q.Ora(a,b);}).Zu().RH(function(b){return a.Ula(b.response);}).subscribe(void 0,function(b){a.Ula(b);});};this.log=a.lb("DrmServices");this.Zta=new h.Bi();this.wI().Bo&&this.IB.Xxa().then(function(){q.fpb();})["catch"](function(a){q.log.error("Unable to load the persisted DRM data",a);});this.config.mS&&this.Pm.DI().then(function(a){return q.ioa(a,{zd:a.keySystem},m.xi.bm,p()).Ir(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(86);l=a(7);f=a(30);k=a(436);m=a(76);q=a(64);n=a(165);r=a(243);t=a(435);z=a(20);w=a(119);a=a(242);b.prototype.tv=function(a,b){var c;c=this;return new Promise(function(d,f){c.Ze(a,b).subscribe(d,f);});};b.prototype.R7a=function(a,b){var c;c=this;return new Promise(function(d,f){c.wR(a,b).subscribe(d,f);});};b.prototype.Ze=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.wra(a,a.type));return this.wH(a.context,a.type,b).Ir(function(b){b.Znb(a.Eg);c.Fpb(a,b);return c.Ona(b.wR(a.hS),b);});};b.prototype.lpb=function(a,b){var c,d;c=this;this.config.Jh?(this.log.info("Releasing server license and EME license",this.R4(a)),this.Gpb(a),d=a.U7a()):(this.log.info("Releasing server license",this.R4(a)),d=this.Ora(a));return this.Ona(d,a).RH(function(){c.IB.z9(Object.assign({zd:a.context.zd,$b:[]},a.Eg));b.Ilb();});};b.prototype.rJ=function(){return this.Zta.x0();};b.prototype.wra=function(a,b){return{movieId:a.Eg.R,xid:a.Eg.la,type:m.bua(b)};};b.prototype.R4=function(a){return{movieId:a.Eg?a.Eg.R:void 0,xid:a.Eg?a.Eg.la:void 0,keySessionId:a.Hu()};};b.prototype.Ona=function(a,b){return h.sa.concat(a,h.sa.of(b)).Qe();};b.prototype.Kr=function(a,b,c){this.log.info("Sending license request",this.wra(a,c.ah));return h.sa.Du(this.Gj.Ze({la:a.Eg.la,cf:a.Eg.cf,LQ:[a.Eg.zj],hp:[{sessionId:b.Hu()||"session",data:c.gp}],ah:c.ah,ql:b.pp(),mna:c.mna,FJ:a.Eg.FJ}));};b.prototype.Ora=function(a,b){this.log.info("Sending release request",this.R4(a));return b?h.sa.Du(this.Gj.release({la:a.Eg.la,$b:[a.$b],gp:b.gp})):h.sa.Du(this.Gj.release({la:a.Eg.la,$b:[a.$b]}));};b.prototype.wR=function(a,b){return this.wH(a.context,a.type,b).Ir(function(b){b.wR(a.hS);return b.rJ().map(function(){return b;});});};b.prototype.wH=function(a,b,c){var d;d=this;return h.sa.Du(this.Pm.DI()).Ir(function(f){return d.ioa(f,a,b,c);});};b.prototype.ioa=function(a,b,c,d){return h.sa.Du(this.h5a.create()).Ir(function(f){return f.yr(b,a,d,c);});};b.prototype.epb=function(a){var b;b=this;return this.config.Jh?h.sa.empty():h.sa.Du(this.Gj.release({la:a.la,$b:a.$b}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.sa.empty();}).map(function(){return a;});};b.prototype.fpb=function(){var a;a=this;this.ja.Mf(this.config.E8,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.IB.MQ.length});b=a.IB.MQ.filter(function(a){return!a.active;}).map(function(b){return a.epb(b);});h.sa.concat.apply(h.sa,[].concat(wb(b))).subscribe(function(b){a.IB.z9(b);});});};b.prototype.uZa=function(a){var b;if(a.Hu()&&a.Eg){b=new r.KW();b.zd=a.context.zd;b.$b=[a.$b];b.profileId=a.Eg.profileId;b.la=a.Eg.la;b.R=a.Eg.R;this.IB.Ila(b);}};D=b;D=g.__decorate([c.N(),g.__param(0,c.l(l.rb)),g.__param(1,c.l(f.Wf)),g.__param(2,c.l(k.Qca)),g.__param(3,c.l(q.gn)),g.__param(4,c.l(z.me)),g.__param(5,c.l(t.eda)),g.__param(6,c.l(n.pW)),g.__param(7,c.l(w.kw)),g.__param(8,c.l(a.XX))],D);d.yGa=D;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(120);c=a(888);h=a(119);l=a(887);f=a(435);k=a(880);d.g5a=new g.Xb(function(a){a(b.Rca).to(c.yGa).$();a(h.kw).to(l.tKa).$();a(f.eda).to(k.YGa);});},function(g,d,a){var c,h,l,f;function b(a,b,c,d,f){this.platform=a;this.Fj=b;this.config=c;this.tf=f;this.log=d.lb("AccountManager");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(45);f=a(2);b.prototype.Iu=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,d){a.Xaa().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.H7a(c.value));b();})["catch"](function(g){a.log.debug("Unable to load persisted account data",{code:g.T,cause:g.cause});g.T===f.H.cm?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):d(c.yL(f.I.RM,g,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.Gqb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.Gqb=function(){var a;a=this;return{version:"1.0",account:this.profile.th.zV(),profile:this.profile.zV(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].zV();})};};b.prototype.H7a=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.hQ(c);if(c=a.profile)this.profile=this.Gx(d,c),this.Ysa(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.Gx(d,a);b.profile&&a.id!==b.profile.id&&b.Rla(a);});}};b.prototype.Rla=function(a){this.profiles[a.id]=a;};b.prototype.A9=function(a){delete this.profiles[a.id];};b.prototype.Ysa=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.Fj.If.clearUserIdTokens();this.profile=this.Gx(this.hQ());this.Ysa();};b.yL=function(a,b,c){return b.T&&b.cause?new l.Wb(a,b.T,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.tc?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new l.Wb(a,f.H.pg,void 0,void 0,void 0,c,b.stack,b):new l.Wb(a,f.H.Qh,void 0,void 0,void 0,c,void 0,b);};a=c=b;a=c=g.__decorate([h.N()],a);d.ZV=a;},function(g,d,a){var c;function b(a,b,d,g,k){g=void 0===g?c.xb(0):g;this.config=a;this.th=b;this.mJ=g;this.w9=void 0===k?!1:k;this.id=void 0!==d?d:this.K8a();this.languages=(a=a())&&a.zg&&a.zg.bz||["en-US"];}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.zV=function(){return{id:this.id,lastAccessTime:this.mJ?this.mJ.na(c.Ba):0,languages:this.languages};};b.prototype.T3=function(a){this.id=a.id.toString();this.mJ=c.xb(a.lastAccessTime||0);this.languages=a.languages||this.config().zg.bz;this.w9=!0;};d.Kga=b;},function(g,d,a){var c;function b(a,b,d,g,k){return c.Kga.call(this,a,b,d,g,k)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(891);ia(b,c.Kga);b.prototype.icb=function(){var a;a=this.config();return a&&a.Fm?"browsertest"===this.id:"browser"===this.id;};b.prototype.K8a=function(){var a;a=this.config();return a&&a.Fm?"browsertest":"browser";};d.Bga=b;},function(g,d){function a(a,c){this.id=void 0===a?"browser":a;this.Vi=void 0===c?!0:c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.zV=function(){return{id:this.id,isNonMember:this.Vi};};a.prototype.T3=function(a){this.id=a.id.toString();this.Vi=a.isNonMember;};d.Bba=a;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);c=a(77);a=a(78);g=function(a){function c(b){a.call(this);this.dhb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.zf=function(a){return new h(a,this.dhb);};return c;}(g.sa);d.iGa=g;h=function(a){function d(b,c){a.call(this,b);this.Im=c;this.prb();}b(d,a);d.prototype.prb=function(){try{this.tRa();}catch(p){this.Rb(p);}};d.prototype.tRa=function(){var a;a=this.Im();a&&this.add(c.xs(this,a));};return d;}(a.xq);},function(g,d,a){g=a(894);d.defer=g.iGa.create;},function(g,d,a){g=a(10);a=a(895);g.sa.defer=a.defer;},function(g,d,a){g=a(10);a=a(445);g.sa.from=a.from;},function(g,d,a){var c,h,l,f,k,m,q,n,r,t,z;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Rv(a).Ff(new q(b));}c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(101);l=a(102);g=a(50);f=a(78);k=a(77);m=a(162);d.nba=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.Ff.call(b.apply(void 0,[c].concat(a)));};};d.ctb=b;q=function(){function a(a){this.jg=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.jg));};return a;}();d.TAb=q;n=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.k6=[];this.active=0;this.jg="function"===typeof c?c:null;this.values=d;}c(b,a);b.prototype.Sg=function(a){var b;b=this.k6;l.isArray(a)?b.push(new t(a)):"function"===typeof a[m.iterator]?b.push(new r(a[m.iterator]())):b.push(new z(this.destination,this,a));};b.prototype.ub=function(){var a,b,d;a=this.k6;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.dpb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.Mgb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.m_a=function(){var f,l;for(var a=this.k6,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.Un&&!f.Un())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];l=f.next();f.NC()&&(g=!0);if(l.done){c.complete();return;}h.push(l.value);}this.jg?this.J_(h):c.next(h);g&&c.complete();};b.prototype.J_=function(a){var b;try{b=this.jg.apply(this,a);}catch(P){this.destination.error(P);return;}this.destination.next(b);};return b;}(g.Ph);d.UAb=n;r=function(){function a(a){this.iterator=a;this.f8=a.next();}a.prototype.Un=function(){return!0;};a.prototype.next=function(){var a;a=this.f8;this.f8=this.iterator.next();return a;};a.prototype.NC=function(){var a;a=this.f8;return a&&a.done;};return a;}();t=function(){function a(a){this.zn=a;this.length=this.index=0;this.length=a.length;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.zn;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Un=function(){return this.zn.length>this.index;};a.prototype.NC=function(){return this.zn.length===this.index;};return a;}();z=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.dpb=!0;this.buffer=[];this.X5=!1;}c(b,a);b.prototype[m.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.X5?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Un=function(){return 0<this.buffer.length;};b.prototype.NC=function(){return 0===this.buffer.length&&this.X5;};b.prototype.Zi=function(){0<this.buffer.length?(this.X5=!0,this.parent.Mgb()):this.destination.complete();};b.prototype.Qy=function(a,b){this.buffer.push(b);this.parent.m_a();};b.prototype.subscribe=function(a,b){return k.xs(this,this.observable,this,b);};return b;}(f.xq);},function(g,d,a){g=a(898);d.nba=g.ctb;},function(g,d,a){g=a(10);a=a(899);g.sa.nba=a.nba;},function(g,d,a){var b,c,h,l,f,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(101);h=a(102);g=a(78);l=a(77);f={};d.C1=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];d=null;"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.Ff.call(new c.Rv([b].concat(a)),new k(d));};};k=function(){function a(a){this.jg=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.jg));};return a;}();d.NEa=k;m=function(a){function c(b,c){a.call(this,b);this.jg=c;this.active=0;this.values=[];this.rwa=[];}b(c,a);c.prototype.Sg=function(a){this.values.push(f);this.rwa.push(a);};c.prototype.ub=function(){var a,b,d;a=this.rwa;b=a.length;if(0===b)this.destination.complete();else{this.Eaa=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.xs(this,d,d,c));}}};c.prototype.Zi=function(){0===--this.active&&this.destination.complete();};c.prototype.Qy=function(a,b,c){var d;a=this.values;d=a[c];d=this.Eaa?d===f?--this.Eaa:this.Eaa:0;a[c]=b;0===d&&(this.jg?this.J_(a):this.destination.next(a.slice()));};c.prototype.J_=function(a){var b;try{b=this.jg.apply(this,a);}catch(z){this.destination.error(z);return;}this.destination.next(b);};return c;}(g.xq);d.xub=m;},function(g,d,a){var b,c,h,l;b=a(118);c=a(102);h=a(101);l=a(901);d.C1=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;b.my(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&c.isArray(a[0])&&(a=a[0]);return new h.Rv(a,g).Ff(new l.NEa(d));};},function(g,d,a){g=a(10);a=a(902);g.sa.C1=a.C1;},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(438);g=a(10);h=a(161);l=a(118);f=a(440);a=function(a){function d(b,d,g){void 0===b&&(b=0);a.call(this);this.fs=-1;this.upa=0;c.uta(d)?this.fs=1>Number(d)&&1||Number(d):l.my(d)&&(g=d);l.my(g)||(g=h.async);this.ja=g;this.upa=f.fJ(b)?+b-this.ja.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.hb=function(a){var b,c,d;b=a.index;c=a.fs;d=a.ef;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.nb(a,c);}};d.prototype.zf=function(a){return this.ja.nb(d.hb,this.upa,{index:0,fs:this.fs,ef:a});};return d;}(g.sa);d.VPa=a;},function(g,d,a){g=a(904);d.zs=g.VPa.create;},function(g,d,a){g=a(10);a=a(905);g.sa.zs=a.zs;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this);this.error=b;this.ja=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.hb=function(a){a.ef.error(a.error);};c.prototype.zf=function(a){var b,d;b=this.error;d=this.ja;a.Kj=!0;if(d)return d.nb(c.hb,0,{error:b,ef:a});a.error(b);};return c;}(a(10).sa);d.fHa=g;},function(g,d,a){g=a(907);d.aWa=g.fHa.create;},function(g,d,a){g=a(10);a=a(908);g.sa["throw"]=a.aWa;},function(g,d,a){g=a(439);d.Sy=g.zhb;},function(g,d,a){g=a(10);a=a(910);g.sa.Sy=a.Sy;},function(g,d,a){g=a(10);a=a(446);g.sa.of=a.of;},function(g,d,a){var b,c,h,l;b=a(10);c=a(101);h=a(118);l=a(233);d.J7=function(){var d,g,k;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;k=a[a.length-1];h.my(k)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof k&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof b.sa?a[0]:l.Zu(d)(new c.Rv(a,g));};},function(g,d,a){g=a(10);a=a(913);g.sa.J7=a.J7;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(438);g=a(10);h=a(161);a=function(a){function d(b,d){void 0===b&&(b=0);void 0===d&&(d=h.async);a.call(this);this.fs=b;this.ja=d;if(!c.uta(b)||0>b)this.fs=0;d&&"function"===typeof d.nb||(this.ja=h.async);}b(d,a);d.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new d(a,b);};d.hb=function(a){var b,c;b=a.ef;c=a.fs;b.next(a.index);b.closed||(a.index+=1,this.nb(a,c));};d.prototype.zf=function(a){var b;b=this.fs;a.add(this.ja.nb(d.hb,b,{index:0,ef:a,fs:b}));};return d;}(g.sa);d.UIa=a;},function(g,d,a){g=a(915);d.interval=g.UIa.create;},function(g,d,a){g=a(10);a=a(916);g.sa.interval=a.interval;},function(g,d,a){g=a(443);d.Du=g.Lga.create;},function(g,d,a){g=a(10);a=a(918);g.sa.Du=a.Du;},function(g,d,a){g=a(133);d.empty=g.cF.create;},function(g,d,a){g=a(10);a=a(920);g.sa.empty=a.empty;},function(g,d,a){g=a(10);a=a(134);g.sa.concat=a.concat;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);c=a(77);d.tV=function(a,b){return function(c){return c.Ff(new h(a,b));};};h=function(){function a(a,b){this.jg=a;this.Hj=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.jg,this.Hj));};return a;}();l=function(a){function d(b,c,d){a.call(this,b);this.jg=c;this.Hj=d;this.index=0;}b(d,a);d.prototype.Sg=function(a){var b,c;c=this.index++;try{b=this.jg(a,c);}catch(x){this.destination.error(x);return;}this.PZ(b,a,c);};d.prototype.PZ=function(a,b,d){var f;f=this.nS;f&&f.unsubscribe();this.add(this.nS=c.xs(this,a,b,d));};d.prototype.ub=function(){var b;b=this.nS;b&&!b.closed||a.prototype.ub.call(this);};d.prototype.Yq=function(){this.nS=null;};d.prototype.Zi=function(b){this.remove(b);this.nS=null;this.Ef&&a.prototype.ub.call(this);};d.prototype.Qy=function(a,b,c,d){this.Hj?this.gWa(a,b,c,d):this.destination.next(b);};d.prototype.gWa=function(a,b,c,d){var f;try{f=this.Hj(a,b,c,d);}catch(z){this.destination.error(z);return;}this.destination.next(f);};return d;}(g.xq);},function(g,d,a){var b;b=a(923);d.tV=function(a,d){return b.tV(a,d)(this);};},function(g,d,a){g=a(10);a=a(924);g.sa.prototype.tV=a.tV;},function(g,d,a){var b,c;b=a(452);d.mgb=function(a,d){return function(f){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return f.Ff(new c(g,d));h=Object.create(f,b.g0a);h.source=f;h.pV=g;return h;};};c=function(){function a(a,b){this.pV=a;this.RK=b;}a.prototype.call=function(a,b){var c,d;c=this.RK;d=this.pV();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.uxb=c;},function(g,d,a){var b,c;b=a(454);c=a(926);d.gU=function(a,d,f,g){var h,l;f&&"function"!==typeof f&&(g=f);h="function"===typeof f?f:void 0;l=new b.OF(a,d,g);return function(a){return c.mgb(function(){return l;},h)(a);};};},function(g,d,a){var b;b=a(927);d.gU=function(a,d,g,f){return b.gU(a,d,g,f)(this);};},function(g,d,a){g=a(10);a=a(928);g.sa.prototype.gU=a.gU;},function(g,d,a){var b,c,h,l,f;b=a(101);c=a(234);h=a(133);l=a(134);f=a(118);d.hV=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];f.my(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new c.KY(a[0],g),d):1<k?l.concat(new b.Rv(a,g),d):l.concat(new h.cF(g),d);};};},function(g,d,a){var b;b=a(930);d.hV=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.hV.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(931);g.sa.prototype.hV=a.hV;},function(){},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);c=a(77);d.uL=function(a){return function(b){return b.Ff(new h(a));};};h=function(){function a(a){this.cwa=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.cwa));};return a;}();l=function(a){function d(b,d){a.call(this,b);this.cwa=d;this.add(c.xs(this,d));}b(d,a);d.prototype.Qy=function(){this.complete();};d.prototype.Zi=function(){};return d;}(g.xq);},function(g,d,a){var b;b=a(934);d.uL=function(a){return b.uL(a)(this);};},function(g,d,a){g=a(10);a=a(935);g.sa.prototype.uL=a.uL;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.$Ca=g;},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);c=a(937);h=a(133);d.tE=function(a){return function(b){return 0===a?new h.cF():b.Ff(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new c.$Ca();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;}();f=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Sg=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.Ph);},function(g,d,a){var b;b=a(938);d.tE=function(a){return b.tE(a)(this);};},function(g,d,a){g=a(10);a=a(939);g.sa.prototype.tE=a.tE;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.aL=function(a){return function(b){return b.Ff(new c(a));};};c=function(){function a(a){this.sv=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.sv));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.sv=c;this.R$=!0;this.index=0;}b(c,a);c.prototype.Sg=function(a){var b;b=this.destination;this.R$&&this.orb(a);this.R$||b.next(a);};c.prototype.orb=function(a){try{this.R$=!!this.sv(a,this.index++);}catch(m){this.destination.error(m);}};return c;}(g.Ph);},function(g,d,a){var b;b=a(941);d.aL=function(a){return b.aL(a)(this);};},function(g,d,a){g=a(10);a=a(942);g.sa.prototype.aL=a.aL;},function(g,d,a){var b;b=a(439);d.Sy=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.Sy.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(944);g.sa.prototype.Sy=a.Sy;},function(g,d,a){var b;b=a(441);d.sD=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.sD(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(946);g.sa.prototype.sD=a.sD;g.sa.prototype.Ir=a.sD;},function(g,d,a){var b;b=a(233);d.Zu=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Zu(a)(this);};},function(g,d,a){g=a(10);a=a(948);g.sa.prototype.Zu=a.Zu;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.map=function(a,b){return function(d){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return d.Ff(new c(a,b));};};c=function(){function a(a,b){this.jg=a;this.qaa=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.jg,this.qaa));};return a;}();d.nxb=c;h=function(a){function c(b,c,d){a.call(this,b);this.jg=c;this.count=0;this.qaa=d||this;}b(c,a);c.prototype.Sg=function(a){var b;try{b=this.jg.call(this.qaa,a,this.count++);}catch(q){this.destination.error(q);return;}this.destination.next(b);};return c;}(g.Ph);},function(g,d,a){var b;b=a(950);d.map=function(a,d){return b.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(951);g.sa.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.aHa=g;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);c=a(953);d.Qe=function(a,b,c){return function(d){return d.Ff(new h(a,b,c,d));};};h=function(){function a(a,b,c,d){this.sv=a;this.Hj=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.sv,this.Hj,this.defaultValue,this.source));};return a;}();l=function(a){function d(b,c,d,f,g){a.call(this,b);this.sv=c;this.Hj=d;this.defaultValue=f;this.source=g;this.Un=!1;this.index=0;"undefined"!==typeof f&&(this.GS=f,this.Un=!0);}b(d,a);d.prototype.Sg=function(a){var b;b=this.index++;this.sv?this.hWa(a,b):this.Hj?this.qla(a,b):(this.GS=a,this.Un=!0);};d.prototype.hWa=function(a,b){var c;try{c=this.sv(a,b,this.source);}catch(x){this.destination.error(x);return;}c&&(this.Hj?this.qla(a,b):(this.GS=a,this.Un=!0));};d.prototype.qla=function(a,b){var c;try{c=this.Hj(a,b);}catch(x){this.destination.error(x);return;}this.GS=c;this.Un=!0;};d.prototype.ub=function(){var a;a=this.destination;this.Un?(a.next(this.GS),a.complete()):a.error(new c.aHa());};return d;}(g.Ph);},function(g,d,a){var b;b=a(954);d.Qe=function(a,d,g){return b.Qe(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(955);g.sa.prototype.Qe=a.Qe;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(50);d.bqb=function(a,b,c){return function(d){return d.Ff(new h(a,b,c));};};h=function(){function a(a,b,c){this.zgb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.zgb,this.error,this.complete));};return a;}();l=function(a){function d(b,d,f,g){a.call(this,b);b=new c.Ph(d,f,g);b.Kj=!0;this.add(b);this.U9=b;}b(d,a);d.prototype.Sg=function(a){var b;b=this.U9;b.next(a);b.yz?this.destination.error(b.zz):this.destination.next(a);};d.prototype.Rb=function(a){var b;b=this.U9;b.error(a);b.yz?this.destination.error(b.zz):this.destination.error(a);};d.prototype.ub=function(){var a;a=this.U9;a.complete();a.yz?this.destination.error(a.zz):this.destination.complete();};return d;}(c.Ph);},function(g,d,a){var b;b=a(957);d.AZ=function(a,d,g){return b.bqb(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(958);g.sa.prototype.RH=a.AZ;g.sa.prototype.AZ=a.AZ;},function(g,d,a){function b(){return function(){function a(){this.ck=[];}a.prototype.add=function(a){this.has(a)||this.ck.push(a);};a.prototype.has=function(a){return-1!==this.ck.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.ck.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.ck.length=0;};return a;}();}g=a(79);d.uGb=b;d.Set=g.root.Set||b();},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);c=a(77);h=a(960);d.IQ=function(a,b){return function(c){return c.Ff(new l(a,b));};};l=function(){function a(a,b){this.CS=a;this.w7a=b;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.CS,this.w7a));};return a;}();f=function(a){function d(b,d,f){a.call(this,b);this.CS=d;this.values=new h.Set();f&&this.add(c.xs(this,f));}b(d,a);d.prototype.Qy=function(){this.values.clear();};d.prototype.l8=function(a){this.Rb(a);};d.prototype.Sg=function(a){this.CS?this.tWa(a):this.kja(a,a);};d.prototype.tWa=function(a){var b,c;c=this.destination;try{b=this.CS(a);}catch(v){c.error(v);return;}this.kja(b,a);};d.prototype.kja=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return d;}(g.xq);d.$ub=f;},function(g,d,a){var b;b=a(961);d.IQ=function(a,d){return b.IQ(a,d)(this);};},function(g,d,a){g=a(10);a=a(962);g.sa.prototype.IQ=a.IQ;},function(g,d,a){var b,c,h,l,f,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(161);h=a(440);g=a(50);l=a(235);d.ld=function(a,b){var d;void 0===b&&(b=c.async);d=h.fJ(a)?+a-b.now():Math.abs(a);return function(a){return a.Ff(new f(d,b));};};f=function(){function a(a,b){this.ld=a;this.ja=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.ld,this.ja));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.ld=c;this.ja=d;this.ni=[];this.Wpa=this.active=!1;}b(c,a);c.hb=function(a){for(var b=a.source,c=b.ni,d=a.ja,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.nb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.qVa=function(a){this.active=!0;this.add(a.nb(c.hb,this.ld,{source:this,destination:this.destination,ja:a}));};c.prototype.nza=function(a){var b;if(!0!==this.Wpa){b=this.ja;a=new m(b.now()+this.ld,a);this.ni.push(a);!1===this.active&&this.qVa(b);}};c.prototype.Sg=function(a){this.nza(l.Notification.W1(a));};c.prototype.Rb=function(a){this.Wpa=!0;this.ni=[];this.destination.error(a);};c.prototype.ub=function(){this.nza(l.Notification.S1());};return c;}(g.Ph);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var b,c;b=a(161);c=a(964);d.ld=function(a,d){void 0===d&&(d=b.async);return c.ld(a,d)(this);};},function(g,d,a){g=a(10);a=a(965);g.sa.prototype.ld=a.ld;},function(g,d,a){var b;b=a(442);d.sH=function(){return b.sH()(this);};},function(g,d,a){g=a(10);a=a(967);g.sa.prototype.sH=a.sH;},function(g,d){d.wbb=function(a){return a;};},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);c=a(234);h=a(133);a=function(a){function d(b,c){a.call(this);this.w0=b;(this.ja=c)||1!==b.length||(this.Lq=!0,this.value=b[0]);}b(d,a);d.create=function(a,b){var f;f=a.length;return 0===f?new h.cF():1===f?new c.KY(a[0],b):new d(a,b);};d.hb=function(a){var b,c,d;b=a.w0;c=a.index;d=a.ef;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.nb(a)));};d.prototype.zf=function(a){var b,c,f;b=this.w0;c=this.ja;f=b.length;if(c)return c.nb(d.hb,0,{w0:b,index:0,length:f,ef:a});for(c=0;c<f&&!a.closed;c++)a.next(b[c]);a.complete();};return d;}(g.sa);d.cDa=a;},function(g,d,a){var b,c,h,l,f,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(79);g=a(10);h=a(162);a=function(a){function c(b,c){a.call(this);this.ja=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[h.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new f(b);else b=new l(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.hb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.ef;if(a.LI)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.nb(a));}};c.prototype.zf=function(a){var b,d;b=this.iterator;d=this.ja;if(d)return d.nb(c.hb,0,{index:0,iterator:b,ef:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(g.sa);d.YIa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Dv=a;this.TI=b;this.B6=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.TI<this.B6?{done:!1,value:this.Dv.charAt(this.TI++)}:{done:!0,value:void 0};};return a;}();f=function(){function a(a,b,d){var f;void 0===b&&(b=0);if(void 0===d)if(d=+a.length,isNaN(d))d=0;else if(0!==d&&"number"===typeof d&&c.root.isFinite(d)){f=+d;d=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(d));d=0>=d?0:d>k?k:d;}this.NXa=a;this.TI=b;this.B6=d;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.TI<this.B6?{done:!1,value:this.NXa[this.TI++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,d,a){var b;b=a(134);g=a(134);d.$_a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(c){return c.Ff.call(b.concat.apply(void 0,[c].concat(a)));};};},function(g,d,a){var b;b=a(972);g=a(134);d.$_a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(973);g.sa.prototype.concat=a.concat;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c,d){a.call(this);this.parent=b;this.bib=c;this.aib=d;this.index=0;}b(c,a);c.prototype.Sg=function(a){this.parent.Qy(this.bib,a,this.aib,this.index++,this);};c.prototype.Rb=function(a){this.parent.l8(a,this);this.unsubscribe();};c.prototype.ub=function(){this.parent.Zi(this);this.unsubscribe();};return c;}(a(50).Ph);d.mea=g;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);c=a(77);d.ZZa=function(a){return function(b){var c;c=new h(a);b=b.Ff(c);return c.i1=b;};};h=function(){function a(a){this.RK=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.RK,this.i1));};return a;}();l=function(a){function d(b,c,d){a.call(this,b);this.RK=c;this.i1=d;}b(d,a);d.prototype.error=function(b){var d;if(!this.Ef){d=void 0;try{d=this.RK(b,this.i1);}catch(u){a.prototype.error.call(this,u);return;}this.kWa();this.add(c.xs(this,d));}};return d;}(g.xq);},function(g,d,a){var b;b=a(976);d.pZ=function(a){return b.ZZa(a)(this);};},function(g,d,a){g=a(10);a=a(977);g.sa.prototype["catch"]=a.pZ;g.sa.prototype.pZ=a.pZ;},function(g,d,a){var b,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(237);a=function(a){function d(b,d){var f;f=this;void 0===b&&(b=c);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return f.frame;});this.Ueb=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.vj,b=this.Ueb,c,d;(d=a.shift())&&(this.frame=d.ld)<=b&&!(c=d.Ag(d.state,d.ld)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};d.R3=10;return d;}(a(236).fW);d.AQa=a;c=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ja=b;this.WL=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.nb=function(b,d){var f;void 0===d&&(d=0);if(!this.id)return a.prototype.nb.call(this,b,d);this.active=!1;f=new c(this.ja,this.WL);this.add(f);return f.nb(b,d);};c.prototype.rU=function(a,b,d){void 0===d&&(d=0);this.ld=a.frame+d;a=a.vj;a.push(this);a.sort(c.Nob);return!0;};c.prototype.nU=function(){};c.prototype.dO=function(b,c){if(!0===this.active)return a.prototype.dO.call(this,b,c);};c.Nob=function(a,b){return a.ld===b.ld?a.index===b.index?0:a.index>b.index?1:-1:a.ld>b.ld?1:-1;};return c;}(g.eW);d.zQa=c;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(163);h=a(71);g=a(451);a=a(449);c=function(a){function c(b,c){a.call(this);this.Nd=b;this.iL=[];this.ja=c;}b(c,a);c.prototype.zf=function(b){var c,d;c=this;d=c.qua();b.add(new h.Tj(function(){c.rua(d);}));return a.prototype.zf.call(this,b);};c.prototype.nob=function(){for(var a=this,b=a.Nd.length,c=0;c<b;c++)(function(){var b;b=a.Nd[c];a.ja.nb(function(){b.notification.observe(a);},b.frame);}());};return c;}(c.Bi);d.rwb=c;a.nma(c,[g.uha]);},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(10);h=a(71);g=a(451);a=a(449);c=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.qua();a.add(new h.Tj(function(){b.rua(c);}));b.Mmb(a);return a;});this.Nd=b;this.iL=[];this.ja=c;}b(c,a);c.prototype.Mmb=function(a){var d;for(var b=this.Nd.length,c=0;c<b;c++){d=this.Nd[c];a.add(this.ja.nb(function(a){a.message.notification.observe(a.ef);},d.frame,{message:d,ef:a}));}};return c;}(c.sa);d.MEa=c;a.nma(c,[g.uha]);},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);c=a(235);h=a(981);a(980);l=a(450);f=a(979);g=function(a){function d(b){a.call(this,f.zQa,750);this.XXa=b;this.lbb=[];this.u7a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.lbb;0<b.length;)b.shift().nob();a.prototype.flush.call(this);for(b=this.u7a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.XXa(c.ox,c.Hm);}};d.bHb=function(a){var h,k;if("string"!==typeof a)return new l.QF(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.R3;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.QF(d):new l.QF(d,f);};d.aHb=function(a,b,d,f){var q,r,t;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,l=[],k=a.indexOf("^"),k=-1===k?0:k*-this.R3,m="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof h.MEa?b[a].Nd:b[a];},p=-1,n=0;n<g;n++){q=n*this.R3+k;r=void 0;t=a[n];switch(t){case"-":case" ":break;case"(":p=q;break;case")":p=-1;break;case"|":r=c.Notification.S1();break;case"^":break;case"#":r=c.Notification.hoa(d||"error");break;default:r=c.Notification.W1(m(t));}r&&l.push({frame:-1<p?p:q,notification:r});}return l;};return d;}(f.AQa);d.Eha=g;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.oU=function(){return function(a){return a.Ff(new c(a));};};c=function(){function a(a){this.pl=a;}a.prototype.call=function(a,b){var c;c=this.pl;c.rm++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.Fn=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.pl=c;}b(c,a);c.prototype.Yq=function(){var a,b;a=this.pl;if(a){this.pl=null;b=a.rm;0>=b?this.Fn=null:(a.rm=b-1,1<b?this.Fn=null:(b=this.Fn,a=a.ot,this.Fn=null,!a||b&&a!==b||a.unsubscribe()));}else this.Fn=null;};return c;}(g.Ph);},function(g,d){g=function(){function a(b,c){void 0===c&&(c=a.now);this.aPa=b;this.now=c;}a.prototype.nb=function(a,c,d){void 0===c&&(c=0);return new this.aPa(this,a).nb(d,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.$Oa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(236).fW);d.gOa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.call(this);}b(c,a);c.prototype.nb=function(){return this;};return c;}(a(71).Tj);d.TCa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this,b,c);this.ja=b;this.WL=c;}b(c,a);c.prototype.nb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.nb.call(this,b,c);this.ld=c;this.state=b;this.ja.flush(this);return this;};c.prototype.Ag=function(b,c){return 0<c||this.closed?a.prototype.Ag.call(this,b,c):this.dO(b,c);};c.prototype.rU=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.ld?a.prototype.rU.call(this,b,c,d):b.flush(this);};return c;}(a(237).eW);d.fOa=g;},function(g,d,a){g=a(987);a=a(985);d.ni=new a.gOa(g.fOa);},function(g,d){d.Fgb=function(){};},function(g,d,a){var c;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:c.Fgb;}c=a(989);d.Xib=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};d.Yib=b;},function(g,d,a){var b,c,h;b=a(50);c=a(239);h=a(240);d.Iqb=function(a,d,g){if(a){if(a instanceof b.Ph)return a;if(a[c.rz])return a[c.rz]();}return a||d||g?new b.Ph(a,d,g):new b.Ph(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(a){b.call(this);this.gI=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.tN=g;},function(g,d,a){var c,h;function b(){try{return h.apply(this,arguments);}catch(l){return c.zu.e=l,c.zu;}}c=a(457);d.sBa=function(a){h=a;return b;};},function(g,d,a){var c,h,l,f,k,m,n,r,t,v,z,w,D,y,E;function b(a,b,c,d,f,g){a=E.ZV.call(this,a,b,c,d,f)||this;a.Gj=g;a.log=d.lb("AccountManager");a.iD=new l.OF(1);return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(86);f=a(100);k=a(66);m=a(20);n=a(7);r=a(45);t=a(2);v=a(4);z=a(53);w=a(437);D=a(893);y=a(892);E=a(890);ia(b,E.ZV);b.prototype.zc=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.Fm)return Promise.reject(new r.Wb(t.I.RM,t.H.ECa));this.$g||(this.reset(),this.$g=new Promise(function(b,c){a.tf.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.iD.next(a.profile.th);b();})["catch"](function(b){a.$g=void 0;c(b);});}));return this.$g;};b.prototype.uy=function(a,b){var c;c=this;if(this.Cx)return Promise.reject(new r.Wb(t.I.rF,t.H.oba));this.Cx=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,f){c.Gj.ping(c.profile,void 0===a?!0:{Sx:a,password:b}).then(function(){return c.Gj.uy(c.profile,void 0);}).then(function(a){c.mmb(a);return c.save();}).then(function(){c.Cx=!1;c.iD.next(c.profile.th);d(c.profile);})["catch"](function(a){c.Cx=!1;c.log.error("Unable to login user",a);c.reset(!0);f(E.ZV.yL(t.I.rF,a));});});};b.prototype.qeb=function(){this.log.info("logout");this.profile=this.Gx(this.hQ());this.profiles={};this.Fj.If.clearUserIdTokens();this.iD.next(this.profile.th);return this.save();};b.prototype.Xpb=function(a){var b;b=this;if(this.Cx)return Promise.reject(new r.Wb(t.I.mN,t.H.oba));this.Cx=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.Gj.ping(this.profile,a).then(function(){var c;c=b.Gx(b.profile.th,{id:a});return b.Gj.uy(c,void 0);}).then(function(c){b.Cx=!1;if(c.Tt!=b.profile.th.id)throw b.iD.next(b.profile.th),new r.Wb(t.I.mN,t.H.uCa,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.dh])?(b.profile=c,b.A9(b.profile)):(b.Rla(b.profile),b.profile=b.Gx(b.profile.th,{Tt:b.profile.th.id,dh:a,Vi:b.profile.th.Vi}));return b.save();}).then(function(){return b.profile;})["catch"](function(a){b.Cx=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw c.yL(t.I.mN,a);});};b.prototype.K4=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.M2a=function(){return l.sa.from(this.iD);};b.prototype.xS=function(){return"windows_app"===this.platform.D2?l.sa.from(this.iD).map(function(a){return!(a.Vi||"browser"===a.id);}):l.sa.of(!0);};b.prototype.mmb=function(a){var b,c;b=this;this.profile&&a.dh&&a.dh!==this.profile.id&&this.Fj.If.rekeyUserIdToken(this.profile.id,a.dh);this.profile.th.id!==a.Tt&&this.reset();c=this.Iu(a.dh);c?(this.profile=c,this.A9(c)):this.profile.id!==a.dh&&(this.profile=this.Gx(this.hQ(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].icb();}).pop())&&this.A9(this.profiles[a]);};b.prototype.Gx=function(a,b){if(b&&void 0!==b.Tt)return new y.Bga(this.config,a,b.dh,v.xb(0),!1);a=new y.Bga(this.config,a);b&&a.T3(b);return a;};b.prototype.hQ=function(a){var b;if(a&&void 0!==a.Tt)return new D.Bba(a.Tt,a.Vi);b=new D.Bba();a&&b.T3(a);return b;};b.prototype.Xaa=function(){return Promise.resolve(!0);};a=c=b;a=c=g.__decorate([h.N(),g.__param(0,h.l(k.kn)),g.__param(1,h.l(f.ow)),g.__param(2,h.l(m.me)),g.__param(3,h.l(n.rb)),g.__param(4,h.l(z.Ul)),g.__param(5,h.l(w.jea))],a);d.KNa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);c=a(994);d.th=new g.Xb(function(a){a(b.Cba).to(c.KNa).$();});},function(g,d,a){var c,h,l,f,k;function b(a,b){return h.Xd.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(25);f=a(4);a=a(35);ia(b,h.Xd);na.Object.defineProperties(b.prototype,{mS:{configurable:!0,enumerable:!0,get:function(){return!1;}},Jh:{configurable:!0,enumerable:!0,get:function(){return!1;}},Uu:{configurable:!0,enumerable:!0,get:function(){return f.Rf;}},E8:{configurable:!0,enumerable:!0,get:function(){return f.Ih(10);}},E5:{configurable:!0,enumerable:!0,get:function(){return f.xb(2E3);}},c$:{configurable:!0,enumerable:!0,get:function(){return f.xb(1E3);}},Wib:{configurable:!0,enumerable:!0,get:function(){return f.xb(2500);}},WH:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},qI:{configurable:!0,enumerable:!0,get:function(){return!1;}},nL:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gl:{configurable:!0,enumerable:!0,get:function(){return!0;}},gma:{configurable:!0,enumerable:!0,get:function(){return f.Ih(30);}},hma:{configurable:!0,enumerable:!0,get:function(){return f.Ih(30);}},jma:{configurable:!0,enumerable:!0,get:function(){return f.Ih(30);}},ima:{configurable:!0,enumerable:!0,get:function(){return f.Ih(30);}},p0:{configurable:!0,enumerable:!0,get:function(){return f.Ih(30);}},ksb:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;g.__decorate([a.config(a.Yd,"initializeKeySystemAtStartup")],k.prototype,"mS",null);g.__decorate([a.config(a.Yd,"secureStopEnabled")],k.prototype,"Jh",null);g.__decorate([a.config(a.Dg,"licenseRenewalRequestDelay")],k.prototype,"Uu",null);g.__decorate([a.config(a.Dg,"persistedReleaseDelay")],k.prototype,"E8",null);g.__decorate([a.config(a.Dg,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"E5",null);g.__decorate([a.config(a.Dg,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"c$",null);g.__decorate([a.config(a.Dg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"Wib",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"WH",null);g.__decorate([a.config(a.Yd,"forceLimitedDurationLicense")],k.prototype,"qI",null);g.__decorate([a.config(a.Yd,"supportsLimitedDurationLicense")],k.prototype,"nL",null);g.__decorate([a.config(a.Yd,"prepareCadmium")],k.prototype,"Gl",null);g.__decorate([a.config(a.Dg,"apiCloseTimeout")],k.prototype,"gma",null);g.__decorate([a.config(a.Dg,"apiCreateMediaKeysTimeout")],k.prototype,"hma",null);g.__decorate([a.config(a.Dg,"apiSetServerCertificateTimeout")],k.prototype,"jma",null);g.__decorate([a.config(a.Dg,"apiGenerateRequestTimeout")],k.prototype,"ima",null);g.__decorate([a.config(a.Dg,"apiUpdateTimeout")],k.prototype,"p0",null);g.__decorate([a.config(a.Yd,"usesArmor")],k.prototype,"ksb",null);k=g.__decorate([c.N(),g.__param(0,c.l(l.Ci)),g.__param(1,c.l(l.Uz)),g.__param(1,c.optional())],k);d.Sba=k;},function(g,d,a){var c,h,l,f;function b(a,b){return f.Sba.call(this,a,void 0===b?"FirefoxEmeConfig":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(25);l=a(35);f=a(996);ia(b,f.Sba);na.Object.defineProperties(b.prototype,{mS:{configurable:!0,enumerable:!0,get:function(){return!0;}},nL:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.Yd,"initializeKeySystemAtStartup")],a.prototype,"mS",null);g.__decorate([l.config(l.Yd,"supportsLimitedDurationLicense")],a.prototype,"nL",null);a=g.__decorate([c.N(),g.__param(0,c.l(h.Ci)),g.__param(1,c.l(h.Uz)),g.__param(1,c.optional())],a);d.WGa=a;},function(g,d,a){var c,h,l,f,k,m,n;function b(a,b,c,d){a=f.Xd.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.mf=b;a.Ma=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(37);h=a(1);l=a(4);f=a(38);k=a(87);m=a(35);a=a(25);ia(b,f.Xd);na.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.W3+(-1===this.W3.indexOf("?")?"?":"&")+"monotonic="+this.Ma.Hva+"&device=web";}},sAa:{configurable:!0,enumerable:!0,get:function(){return l.Rf;}},K3:{configurable:!0,enumerable:!0,get:function(){return"";}},W3:{configurable:!0,enumerable:!0,get:function(){return this.mf.endpoint+"/ftl/probe"+(this.K3?"?force="+this.K3:"");}}});n=b;g.__decorate([m.config(m.Yd,"ftlEnabled")],n.prototype,"enabled",null);g.__decorate([m.config(m.Dg,"ftlStartDelay")],n.prototype,"sAa",null);g.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"K3",null);g.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"W3",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.Ci)),g.__param(1,h.l(k.Hs)),g.__param(2,h.l(c.wi)),g.__param(3,h.l(a.Uz)),g.__param(3,h.optional())],n);d.tHa=n;},function(g,d,a){var c,h,l,f;function b(a,b){return l.Xd.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(35);l=a(38);a=a(25);ia(b,l.Xd);na.Object.defineProperties(b.prototype,{XBa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});f=b;g.__decorate([h.config(h.Yd,"useNetworkMonitor")],f.prototype,"XBa",null);f=g.__decorate([c.N(),g.__param(0,c.l(a.Ci)),g.__param(1,c.l(a.Uz)),g.__param(1,c.optional())],f);d.fLa=f;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Iwa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Ffa=a;},function(g,d,a){var c,h,l,f,k,m,n;function b(a,b){return f.Xd.call(this,a,void 0===b?"GeneralConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(4);h=a(1);l=a(35);f=a(38);k=a(52);a=a(25);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.dI=function(a,b){return a.Yxa(m[b]||b,k.Os);};ia(b,f.Xd);na.Object.defineProperties(b.prototype,{dI:{configurable:!0,enumerable:!0,get:function(){return k.Os.aOa;}},$$:{configurable:!0,enumerable:!0,get:function(){return c.Ih(8);}},up:{configurable:!0,enumerable:!0,get:function(){return"";}},qr:{configurable:!0,enumerable:!0,get:function(){return"";}},Fs:{configurable:!0,enumerable:!0,get:function(){return"";}},SAa:{configurable:!0,enumerable:!0,get:function(){return!1;}},AP:{configurable:!0,enumerable:!0,get:function(){return!0;}},C5:{configurable:!0,enumerable:!0,get:function(){return!0;}},w6a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Pi:{configurable:!0,enumerable:!0,get:function(){return{};}},Q9:{configurable:!0,enumerable:!0,get:function(){return!1;}},AS:{configurable:!0,enumerable:!0,get:function(){return!1;}},SV:{configurable:!0,enumerable:!0,get:function(){return!1;}},LL:{configurable:!0,enumerable:!0,get:function(){return["baggins.prod.netflix.net","cloudfront.net"];}},Cv:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Fm:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Os.Dha,k.Os.nea].indexOf(this.dI);}}});n=b;g.__decorate([l.config(d.dI,"environment")],n.prototype,"dI",null);g.__decorate([l.config(l.Dg,"storageTimeout")],n.prototype,"$$",null);g.__decorate([l.config(l.string,"groupName")],n.prototype,"up",null);g.__decorate([l.config(l.string,"canaryGroupName")],n.prototype,"qr",null);g.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"Fs",null);g.__decorate([l.config(l.Yd,"testIndexDBForCorruptedDatabase")],n.prototype,"SAa",null);g.__decorate([l.config(l.Yd,"applyIndexedDbOpenWorkaround")],n.prototype,"AP",null);g.__decorate([l.config(l.Yd,"ignoreIdbOpenError")],n.prototype,"C5",null);g.__decorate([l.config(l.Yd,"executeStorageMigration")],n.prototype,"w6a",null);g.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"Pi",null);g.__decorate([l.config(l.Yd,"retryAllMslRequestsOnError")],n.prototype,"Q9",null);g.__decorate([l.config(l.Yd,"isTestAccount")],n.prototype,"AS",null);g.__decorate([l.config(l.Yd,"vuiCommandLogging")],n.prototype,"SV",null);g.__decorate([l.config(l.zn("string",1))],n.prototype,"LL",null);g.__decorate([l.config(l.object,"storageRules")],n.prototype,"Cv",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.Ci)),g.__param(1,h.l(a.Uz)),g.__param(1,h.optional())],n);d.xHa=n;},function(g,d,a){var l,f,k,m,n;function b(){this.pu={};this.Wya=0;}function c(a,b,c,d,f){this.debug=a;this.Rr=b;this.VJ=c;this.$e=d;this.jU=f;}function h(a,b,c){this.Rr=a;this.VJ=b;this.jU=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(136);k=a(7);m=a(135);n=a(461);a=a(25);h=g.__decorate([l.N(),g.__param(0,l.l(a.TM)),g.__param(1,l.l(m.OY)),g.__param(2,l.l(n.CY))],h);d.QEa=h;c=g.__decorate([l.N(),g.__param(0,l.l(f.YE)),g.__param(1,l.l(a.TM)),g.__param(2,l.l(m.OY)),g.__param(3,l.l(k.rb)),g.__param(4,l.l(n.CY))],c);d.tQa=c;na.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.pu;},set:function(a){this.pu=a;this.Wya++;}},Vya:{configurable:!0,enumerable:!0,get:function(){return this.Wya;}}});a=b;a=g.__decorate([l.N()],a);d.SIa=a;},function(g,d,a){var b,c,h,l,f,k,m,n,r,t,v;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(20);c=a(1002);h=a(25);l=a(52);f=a(1001);k=a(460);m=a(999);n=a(164);r=a(998);t=a(64);v=a(997);d.config=new g.Xb(function(a){a(b.me).hh(function(){return function(){return A._cad_global.config;};});a(h.uW).to(c.QEa).$();a(h.Ci).to(c.tQa).$();a(h.TM).to(c.SIa).$();a(l.Xl).to(f.xHa).$();a(k.ufa).to(m.fLa).$();a(n.qda).to(r.tHa).$();a(t.gn).to(v.WGa).$();});},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=a(88);h=a(120);l=a(244);d.rkb=function(a){l.XH.parent=a.Zb;return function(){f||(f=new Promise(function(a,d){try{a(l.XH.get(h.Rca));}catch(u){d(new c.gf(b.I.iIa,b.H.DIa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return f;};};},function(g,d,a){var l,f,k,m,n,r,t,v;function b(a,b,d){var f;f=this;this.is=a;this.tf=b;this.config=d;this.Yp=function(){return{version:f.version,drmData:f.MQ.map(function(a){return a.Yp();})};};this.V3=function(a){var b;f.is.Li(a)&&(a=c(a));1===a.version&&(a=h(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new v.KW(a);});}catch(G){throw new n.Wb(k.I.bA,k.H.Ks,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",G);}}else{if(!a.version||!f.is.Af(a.version))throw new n.Wb(k.I.bA,k.H.Ks,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new n.Wb(k.I.bA,k.H.$ba,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.Xm=new r.iea(2,this.config.WH,this.is.Li(this.config.WH),this.tf,this.Yp);}function c(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new n.Wb(k.I.bA,k.H.Ks);return{version:1,drmData:[a]};}function h(a,b){if(a.Ut(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new v.KW({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Yp();})};throw new n.Wb(k.I.bA,k.H.Ks);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(64);k=a(2);m=a(23);n=a(45);r=a(462);t=a(53);v=a(243);b.prototype.Xxa=function(){return this.Zob();};b.prototype.Ila=function(a){return this.Xm.add(a);};b.prototype.z9=function(a){return this.Xm.remove(a,function(a,b){return a.la===b.la;});};b.prototype.toString=function(){return JSON.stringify(this.Yp(),null,"  ");};b.prototype.Zob=function(){var a;a=this;this.bya||(this.bya=new Promise(function(b,c){a.Xm.load(a.V3).then(function(){b();})["catch"](function(a){a.T&&a.cause?c(new n.Wb(k.I.bA,a.T,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.bya;};na.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Xm.version;}},MQ:{configurable:!0,enumerable:!0,get:function(){return this.Xm.fp;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(m.we)),g.__param(1,l.l(t.Ul)),g.__param(2,l.l(f.gn))],a);d.vEa=a;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(65);c=a(245);d.qkb=function(a){return function(){var d;if(!h){c.X_.parent=a.Zb;d=c.X_.get(b.Cba);h=new Promise(function(a,b){d.zc().then(function(){a(d);})["catch"](function(a){b(a);});});}return h;};};},function(g,d,a){var h,l,f,k,m,n,r,t,v,c,b;function b(){this.vYa=this.EB=r.gW.ZIa;this.t$=!0;this.JP=[t.Sk.KM];this.QV=[t.ba.WW,t.ba.EM,t.ba.zHa,t.ba.AHa];this.ys=[t.Uj.yW,t.Uj.HOa,t.Uj.kA];this.zd=v.bb.FQa;this.d3=!0;this.XQ=!1;this.y0=m.Z(288E4);this.A0=m.Z(335544320);this.r7=k.xb(31E3);this.Veb=m.Z(6291456);this.fD=1E3;this.CV=!0;this.kba=!1;this.w1=this.f1=!0;this.xna=!1;this.lV="idb";this.Z$=m.Z(0);this.eCa=!1;this.UD=!0;this.xaa={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};this.yE=m.Z(0);this.AV=k.xb(0);}function c(a){a=a.userAgent;this.version="6.0015.389.051";this.Fj=!0;this.pC="F";this.Gm=/Intel Mac OS X/.test(a)?"NFCDFF-MC-":/Windows NT/.test(a)?"NFCDFF-02-":"NFCDFF-LX-";this.X3=!0;this.E2="firefox-cadmium";this.D2="browser";this.sua="";this.bpa="cadmium";this.Tcb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(39);f=a(66);k=a(4);m=a(31);n=a(167);r=a(464);t=a(72);v=a(137);c=g.__decorate([h.N(),g.__param(0,h.l(l.CF))],c);b=g.__decorate([h.N()],b);d.platform=new h.Xb(function(a){a(f.kn).to(c);a(n.hN).to(b);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nva=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).Hqb(b);});};};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);h=a(67);d.vxa=function(){return function(a,d){d=new h.Metadata(c.HF,d);if(Reflect.h5(c.HF,a.constructor))throw Error(b.bKa);Reflect.A2(c.HF,d,a.constructor);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(67);h=a(89);d.vL=function(a){return function(d,g,l){var f;f=new c.Metadata(b.XM,a);h.Az(d,g,l,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(67);h=a(89);d.Iy=function(a){return function(d,g,l){var f;f=new c.Metadata(b.jw,a);"number"===typeof l?h.Az(d,g,l,f):h.tL(d,g,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(67);h=a(89);d.Hg=function(){return function(a,d,g){var f;f=new c.Metadata(b.SF,!0);h.Az(a,d,g,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(67);h=a(89);d.optional=function(){return function(a,d,g){var f;f=new c.Metadata(b.Cfa,!0);"number"===typeof g?h.Az(a,d,g,f):h.tL(a,d,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(67);h=a(89);d.Pva=function(a){return function(d,g,l){var f;f=new c.Metadata(b.$s,a);"number"===typeof l?h.Az(d,g,l,f):h.tL(d,g,f);};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(67);c=a(89);d.NAa=function(a,d){return function(f,g,h){var l;l=new b.Metadata(a,d);"number"===typeof h?c.Az(f,g,h,l):c.tL(f,g,l);};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);d.N=function(){return function(a){var d;if(Reflect.h5(c.kY,a))throw Error(b.$Fa);d=Reflect.getMetadata(c.uFa,a)||[];Reflect.A2(c.kY,d,a);return a;};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);d.Xb=function(){return function(a){this.id=b.id();this.x9=a;};}();d.Mba=function(){return function(a){this.id=b.id();this.x9=a;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);g=function(){function a(){this.Vh=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.BF);if(null===c||void 0===c)throw Error(b.BF);d=this.Vh.get(a);void 0!==d?(d.push(c),this.Vh.set(a,d)):this.Vh.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.BF);a=this.Vh.get(a);if(void 0!==a)return a;throw Error(b.sea);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.BF);if(!this.Vh["delete"](a))throw Error(b.sea);};a.prototype.psa=function(a){if(null===a||void 0===a)throw Error(b.BF);return this.Vh.has(a);};a.prototype.clone=function(){var b;b=new a();this.Vh.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.grb=function(a){this.Vh.forEach(function(b,c){a(c,b);});};return a;}();d.CJa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,c){var d;d=new a();d.cH=b;d.Hfb=c;return d;};return a;}();d.zub=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(80);c=a(468);g=function(){function a(a){this.sb=a;}a.prototype.$=function(){this.sb.scope=b.dn.MY;return new c.Xv(this.sb);};a.prototype.F5=function(){this.sb.scope=b.dn.qN;return new c.Xv(this.sb);};return a;}();d.HDa=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(1020);c=a(247);h=a(246);g=function(){function a(a){this.sb=a;this.jZ=new h.mW(this.sb);this.iZ=new c.lW(this.sb);this.qia=new b.HDa(a);}a.prototype.$=function(){return this.qia.$();};a.prototype.F5=function(){return this.qia.F5();};a.prototype.VL=function(){return this.jZ.VL();};a.prototype.Ip=function(a){return this.iZ.Ip(a);};return a;}();d.Tba=g;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(80);h=a(1021);l=a(468);g=function(){function a(a){this.sb=a;}a.prototype.to=function(a){this.sb.type=c.jh.LX;this.sb.Ui=a;return new h.Tba(this.sb);};a.prototype.hBa=function(){if("function"!==typeof this.sb.te)throw Error(""+b.GIa);this.to(this.sb.te);};a.prototype.Gg=function(a){this.sb.type=c.jh.pca;this.sb.cache=a;this.sb.gC=null;this.sb.Ui=null;new l.Xv(this.sb);};a.prototype.Gz=function(a){this.sb.type=c.jh.Wca;this.sb.cache=null;this.sb.gC=a;this.sb.Ui=null;new h.Tba(this.sb);};a.prototype.Fqb=function(a){this.sb.type=c.jh.qca;this.sb.Ui=a;new l.Xv(this.sb);};a.prototype.hh=function(a){this.sb.type=c.jh.UW;this.sb.Im=a;new l.Xv(this.sb);};a.prototype.Eqb=function(a){this.sb.type=c.jh.UW;this.sb.Im=function(b){return function(){return b.Zb.get(a);};};new l.Xv(this.sb);};a.prototype.AL=function(a){this.sb.type=c.jh.Mga;this.sb.Gj=a;new l.Xv(this.sb);};a.prototype.Hqb=function(a){this.Gz(function(b){return b.Zb.get(a);});};return a;}();d.IDa=g;},function(g,d,a){var h,l,f;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.Dq.mca;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function c(a,b){var c;if(Reflect.Nab(f.HF,a)){c=Reflect.getMetadata(f.HF,a);try{b[c.value]();}catch(u){throw Error(h.QMa(a.name,u.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);l=a(80);f=a(32);d.lmb=function(a,d,f){var g;g=null;0<d.length?(g=d.filter(function(a){return null!==a.target&&a.target.type===l.Dq.rca;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,d,f)):g=new a();c(a,g);return g;};},function(g,d,a){var h,l,f,k,m;function b(a){return function(d){var f,g,n,p,q;f=d.cH;g=d.r1;n=d.target&&d.target.isArray();p=!d.ds||!d.ds.target||!d.target||!d.ds.target.Geb(d.target.te);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!d.target.vta()||0!==f.length){q=f[0];f=q.scope===l.dn.MY;p=q.scope===l.dn.Request;if(f&&q.Z_)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.jh.pca)n=q.cache;else if(q.type===l.jh.Function)n=q.cache;else if(q.type===l.jh.qca)n=q.Ui;else if(q.type===l.jh.Wca&&null!==q.gC)n=c("toDynamicValue",q.te,function(){return q.gC(d.DD);});else if(q.type===l.jh.UW&&null!==q.Im)n=c("toFactory",q.te,function(){return q.Im(d.DD);});else if(q.type===l.jh.Mga&&null!==q.Gj)n=c("toProvider",q.te,function(){return q.Gj(d.DD);});else if(q.type===l.jh.LX&&null!==q.Ui)n=m.lmb(q.Ui,g,b(a));else throw g=k.IC(d.te),Error(h.BIa+" "+g);"function"===typeof q.Ip&&(n=q.Ip(d.DD,n));f&&(q.cache=n,q.Z_=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function c(a,b,c){try{return c();}catch(v){if(f.Eta(v))throw Error(h.bEa(a,b.toString()));throw v;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);l=a(80);f=a(471);k=a(138);m=a(1023);d.resolve=function(a){return b(a.GD.S9.cmb)(a.GD.S9);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a,c,d,g,k){this.id=b.id();this.te=a;this.DD=c;this.ds=d;this.target=k;this.r1=[];this.cH=Array.isArray(g)?g:[g];this.cmb=null===d?new Map():null;}a.prototype.Fla=function(b,c,d){b=new a(b,this.DD,this,c,d);this.r1.push(b);return b;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Dv=a;}a.prototype.startsWith=function(a){return 0===this.Dv.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Dv.split("").reverse().join("");return this.startsWith.call({Dv:a},b);};a.prototype.contains=function(a){return-1!==this.Dv.indexOf(a);};a.prototype.equals=function(a){return this.Dv===a;};a.prototype.value=function(){return this.Dv;};return a;}();d.eOa=g;},function(g,d,a){var f,k,m,n,r,t;function b(a,b,d,g){var h,n,u,v,w,x,z,D,A,F;h=a.dra(d);n=h.Gna;if(void 0===n)throw Error(k.PJa+" "+b+".");for(var h=h.isb,p=Object.keys(h),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){v=r;w=g;x=b;z=n;u=h[v.toString()]||[];D=l(u);A=!0!==D.Hg;z=z[v];F=D.l||D.Iy;z=F?F:z;z instanceof f.PX&&(z=z.Brb());if(A){A=z===Function;A=z===Object||A||void 0===z;if(!w&&A)throw Error(k.QJa+" argument "+v+" in class "+x+".");v=new t.oN(m.Dq.rca,D.vL,z);v.Bc=u;u=v;}else u=null;null!==u&&p.push(u);}a=c(a,d);return p.concat(a);}function c(a,b){var k,n,p;for(var d=a.f$a(b),f=[],g=0,h=Object.keys(d);g<h.length;g++){k=h[g];n=d[k];p=l(d[k]);k=new t.oN(m.Dq.mca,p.vL||k,p.l||p.Iy);k.Bc=n;f.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=c(a,b),f=f.concat(a));return f;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.Bc.filter(function(a){return a.key===n.SF;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[n.nF],Iy:b[n.jw],vL:b[n.XM],Hg:b[n.SF]};}Object.defineProperty(d,"__esModule",{value:!0});f=a(470);k=a(54);m=a(80);n=a(32);r=a(138);d.getFunctionName=r.getFunctionName;t=a(469);d.M8a=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};d.l8a=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sNa=function(){return function(a,b){this.DD=a;this.S9=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a){this.id=b.id();this.Zb=a;}a.prototype.eXa=function(a){this.GD=a;};return a;}();d.sca=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kW={vxb:2,xfa:0,uLa:1};},function(g,d,a){var f,k,m,n,r,t,v,z,w,D,y,A;function b(a,b,d,g,h){var k,m;k=l(d.Zb,h.te);m=[];k.length===f.kW.xfa&&d.Zb.options.aH&&"function"===typeof h.te&&a.dra(h.te).Gna&&(d.Zb.bind(h.te).hBa(),k=l(d.Zb,h.te));m=b?k:k.filter(function(a){var b;b=new y.Request(a.te,d,g,a,h);return a.PB(b);});c(h.te,m,h,d.Zb);return m;}function c(a,b,c,d){switch(b.length){case f.kW.xfa:if(c.vta())break;a=t.IC(a);b=k.ZKa;b+=t.qdb(a,c);b+=t.eua(d,a,l);throw Error(b);case f.kW.uLa:if(!c.isArray())break;default:if(!c.isArray())throw a=t.IC(a),b=k.xCa+" "+a,b+=t.eua(d,a,l),Error(b);}}function h(a,c,d,f,g,l){var n;null===g?(c=b(a,c,f,null,l),n=new y.Request(d,f,null,c,l),d=new w.sNa(f,n),f.eXa(d)):(c=b(a,c,f,g,l),n=g.Fla(l.te,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=n.Fla(b.te,b,l);else{if(b.cache)return;c=n;}if(b.type===m.jh.LX&&null!==b.Ui){d=D.M8a(a,b.Ui);if(!f.Zb.options.Bv){g=D.l8a(a,b.Ui);if(d.length<g)throw b=k.yCa(D.getFunctionName(b.Ui)),Error(b);}d.forEach(function(b){h(a,!1,b.te,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.FA;d.psa(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1030);k=a(54);m=a(80);n=a(32);r=a(471);t=a(138);v=a(1029);z=a(67);w=a(1028);D=a(1027);y=a(1025);A=a(469);d.c4=function(a){return a.FA;};d.GD=function(a,b,c,d,f,g,l,k){void 0===k&&(k=!1);b=new v.sca(b);c=new z.Metadata(c?n.jw:n.nF,f);d=new A.oN(d,"",f,c);void 0!==g&&(g=new z.Metadata(g,l),d.Bc.push(g));try{return h(a,k,f,b,null,d),b;}catch(S){throw r.Eta(S)&&b.GD&&t.y_a(b.GD.S9),S;}};d.QCb=function(a,b,c,d){c=new A.oN(m.Dq.YY,"",b,new z.Metadata(c,d));a=new v.sca(a);return new y.Request(b,a,null,[],c);};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(80);c=a(103);g=function(){function a(a,d){this.id=c.id();this.Z_=!1;this.te=a;this.scope=d;this.type=b.jh.WIa;this.PB=function(){return!0;};this.gC=this.Ip=this.Gj=this.Im=this.cache=this.Ui=null;}a.prototype.clone=function(){var b;b=new a(this.te,this.scope);b.Z_=!1;b.Ui=this.Ui;b.gC=this.gC;b.scope=this.scope;b.type=this.type;b.Im=this.Im;b.Gj=this.Gj;b.PB=this.PB;b.Ip=this.Ip;b.cache=this.cache;return b;};return a;}();d.GDa=g;},function(g,d,a){var b,c,h,k,f,n,m,q,r,t,v,z;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(V){g(V);}}function k(a){try{l(d["throw"](a));}catch(V){g(V);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};c=this&&this.YAb||function(a,b){var f,g,h,k,l;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,h&&(k=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[0,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;h=c[1];c=[0];continue;case 7:c=f.Vy.pop();f.Jz.pop();continue;default:if(!(k=f.Jz,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))f.label=c[1];else if(6===c[0]&&f.label<k[1])f.label=k[1],k=c;else if(k&&f.label<k[2])f.label=k[2],f.Vy.push(c);else{k[2]&&f.Vy.pop();f.Jz.pop();continue;}}c=b.call(a,f);}catch(V){c=[6,V];h=0;}finally{g=k=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,NU:function(){if(k[0]&1)throw k[1];return k[1];},Jz:[],Vy:[]};La();La();Za();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;};Object.defineProperty(d,"__esModule",{value:!0});h=a(1032);k=a(54);f=a(80);a(32);n=a(472);m=a(1031);q=a(1024);r=a(1022);t=a(103);v=a(138);a(1019);z=a(1018);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+k.pEa);if(void 0===a.Kx)a.Kx=f.dn.qN;else if(a.Kx!==f.dn.MY&&a.Kx!==f.dn.qN&&a.Kx!==f.dn.Request)throw Error(""+k.nEa);if(void 0===a.aH)a.aH=!1;else if("boolean"!==typeof a.aH)throw Error(""+k.mEa);if(void 0===a.Bv)a.Bv=!1;else if("boolean"!==typeof a.Bv)throw Error(""+k.oEa);this.options={aH:a.aH,Kx:a.Kx,Bv:a.Bv};this.id=t.id();this.FA=new z.CJa();this.NVa=[];this.parent=this.a_=null;this.iTa=new n.$X();}a.J7=function(b,c){var f,g;function d(a,b){a.grb(function(a,c){c.forEach(function(a){b.add(a.te,a.clone());});});}f=new a();g=m.c4(f);b=m.c4(b);c=m.c4(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.uja(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.x9(f.Kma,f.yBa,f.Jta,f.fya);}};a.prototype.tJ=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b(this,void 0,void 0,function(){var b,d,f,g,h;return c(this,function(c){switch(c.label){case 0:b=this.uja(),d=0,f=a,c.label=1;case 1:if(!(d<f.length))return[3,4];g=f[d];h=b(g.id);return[4,g.x9(h.Kma,h.yBa,h.Jta,h.fya)];case 2:c.NU(),c.label=3;case 3:return d++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new h.GDa(a,this.options.Kx||f.dn.qN);this.FA.add(a,b);return new r.IDa(b);};a.prototype.Wkb=function(a){this.xBa(a);return this.bind(a);};a.prototype.xBa=function(a){try{this.FA.remove(a);}catch(y){throw Error(k.YDa+" "+v.IC(a));}};a.prototype.ota=function(a){var b;b=this.FA.psa(a);!b&&this.parent&&(b=this.parent.ota(a));return b;};a.prototype.restore=function(){var a;a=this.NVa.pop();if(void 0===a)throw Error(k.$Ka);this.FA=a.cH;this.a_=a.Hfb;};a.prototype.b2a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.sja(!1,!1,f.Dq.YY,a);};a.prototype.getAll=function(a){return this.sja(!0,!0,f.Dq.YY,a);};a.prototype.resolve=function(a){var b;b=this.b2a();b.bind(a).hBa();return b.get(a);};a.prototype.uja=function(){var f;function a(a){return function(b){b=f.Wkb.bind(f)(b);b.sb.fgb=a;return b;};}function b(){return function(a){return f.ota.bind(f)(a);};}function c(){return function(a){f.xBa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.sb.fgb=a;return b;};}f=this;return function(f){return{Kma:d(f),Jta:b(),fya:a(f),yBa:c()};};};a.prototype.sja=function(a,b,c,d){var f;f=null;a={EYa:a,k0a:function(a){return a;},rcb:b,key:void 0,te:d,dqb:c,value:void 0};if(this.a_){if(f=this.a_(a),void 0===f||null===f)throw Error(k.EIa);}else f=this.GUa()(a);return f;};a.prototype.GUa=function(){var a;a=this;return function(b){var c;c=m.GD(a.iTa,a,b.rcb,b.dqb,b.te,b.key,b.value,b.EYa);c=b.k0a(c);return q.resolve(c);};};return a;}();d.WE=g;},function(g,d,a){(function(a){var b;(function(b){var ba,S,U,H,Y,aa,ca,Z,Q;function c(a,b,c){var d;d=Q.get(a);if(!d){if(!c)return;d=new ca();Q.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ca();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=y(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(g(a,b,c))return k(a,b,c);b=y(b);return null!==b?h(a,b,c):void 0;}function k(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function n(a,b){var c,f;c=r(a,b);a=y(a);if(null===a)return c;b=n(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new Z();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return G(a);}function r(a,b){var d;a=c(a,b,!1);d=[];a&&F(a,function(a,b){return d.push(b);});return d;}function t(a){return void 0===a;}function z(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function w(a){return"object"===typeof a?null!==a:"function"===typeof a;}function D(a){return"symbol"===typeof a?a:String(a);}function y(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===aa||b!==aa)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function E(a){a=a.next();return a.done?void 0:a;}function F(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=E(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function G(a){var b;b=[];F(a,function(a,c){b.push(c);});return b;}function R(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function L(){var a;a={};return function(){function b(){this.sn=[];this.ck=[];this.LN=a;this.KN=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.sn.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.eO(a,!1);};b.prototype.get=function(a){a=this.eO(a,!1);return 0<=a?this.ck[a]:void 0;};b.prototype.set=function(a,b){a=this.eO(a,!0);this.ck[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.eO(b,!1);if(0<=c){b=this.sn.length;for(c+=1;c<b;c++)this.sn[c-1]=this.sn[c],this.ck[c-1]=this.ck[c];this.sn.length--;this.ck.length--;this.LN=a;this.KN=-2;return!0;}return!1;};b.prototype.clear=function(){this.sn.length=0;this.ck.length=0;this.LN=a;this.KN=-2;};b.prototype.keys=function(){return R(this.sn,void 0,"key");};b.prototype.values=function(){return R(void 0,this.ck,"value");};b.prototype.entries=function(){return R(this.sn,this.ck,"key+value");};b.prototype.eO=function(a,b){var c;if(this.LN===a)return this.KN;c=this.sn.indexOf(a);0>c&&b&&(c=this.sn.length,this.sn.push(a),this.ck.push(void 0));return this.LN=a,this.KN=c;};return b;}();}function O(){return function(){function a(){this.Vh=new ca();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Vh.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Vh.has(a);};a.prototype.add=function(a){return this.Vh.set(a,a),this;};a.prototype["delete"]=function(a){return this.Vh["delete"](a);};a.prototype.clear=function(){this.Vh.clear();};a.prototype.keys=function(){return this.Vh.keys();};a.prototype.values=function(){return this.Vh.values();};a.prototype.entries=function(){return this.Vh.entries();};return a;}();}function X(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(Y.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ba.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:H()});}return a[f];}d=H();f=b();return function(){function a(){this.Tw=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?Y.has(a,this.Tw):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?Y.get(a,this.Tw):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Tw]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Tw]:!1;};a.prototype.clear=function(){this.Tw=b();};return a;}();}function V(a){a.WAb=1;delete a.XAb;return a;}ba=Object.prototype.hasOwnProperty;S="function"===typeof Object.create;U=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();H=S?function(){return V(Object.create(null));}:U?function(){return V({__proto__:null});}:function(){return V({});};(function(a){var b;b=!S&&!U;a.has=b?function(a,b){return ba.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ba.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(Y||(Y={})));aa=Object.getPrototypeOf(Function);ca="function"===typeof Map?Map:L();Z="function"===typeof Set?Set:O();Q=new("function"===typeof WeakMap?WeakMap:(X()))();b.qu=function(a,b,c,d){var g;if(t(d)){if(t(c)){if(!z(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!t(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!z(a))throw new TypeError();if(!w(b))throw new TypeError();c=D(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!z(a))throw new TypeError();if(!w(b))throw new TypeError();if(t(c))throw new TypeError();if(!w(d))throw new TypeError();c=D(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!t(g)){if(!w(g))throw new TypeError();d=g;}}return d;}};b.Bc=function(a,b){return function(d,f){if(t(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!w(d))throw new TypeError();f=D(f);c(d,f,!0).set(a,b);}};};b.A2=function(a,b,d){var f;if(!w(d))throw new TypeError();t(f)||(f=D(f));c(d,f,!0).set(a,b);};b.Nab=function(a,b){var c;if(!w(b))throw new TypeError();t(c)||(c=D(c));return d(a,b,c);};b.h5=function(a,b){var c;if(!w(b))throw new TypeError();t(c)||(c=D(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!w(b))throw new TypeError();t(c)||(c=D(c));return h(a,b,c);};b.MEb=function(a,b,c){if(!w(b))throw new TypeError();t(c)||(c=D(c));return k(a,b,c);};b.KEb=function(a,b){if(!w(a))throw new TypeError();t(b)||(b=D(b));return n(a,b);};b.NEb=function(a,b){if(!w(a))throw new TypeError();t(b)||(b=D(b));return r(a,b);};b.sDb=function(a,b,d){var f;if(!w(b))throw new TypeError();t(d)||(d=D(d));f=c(b,d,!1);if(t(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=Q.get(b);a["delete"](d);if(0<a.size)return!0;Q["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ba.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof A?A:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(168)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1034);A._cad_global={};A.DEBUG=!1;a(6);a(5);a(15);a(17);a(33);a(29);a(93);a(281);a(378);a(42);a(21);a(12);a(68);a(55);a(509);a(508);a(154);a(423);a(19);a(507);a(506);a(172);a(505);a(254);a(190);a(346);a(275);a(268);a(270);a(269);a(253);a(252);a(251);a(291);a(290);a(288);a(124);a(179);a(504);a(503);a(9);a(264);a(502);a(104);a(34);a(274);a(126);a(345);a(344);a(189);a(501);a(250);a(315);a(287);a(500);a(123);a(176);a(499);a(498);a(323);a(177);a(95);a(327);a(178);a(292);a(497);a(140);a(266);a(143);a(175);a(280);a(122);a(284);a(496);a(282);a(92);a(495);a(494);a(493);a(492);a(491);a(267);a(41);a(490);a(265);a(272);a(276);a(343);a(283);a(271);a(273);a(263);a(187);a(489);a(488);a(325);a(296);a(258);a(139);a(487);a(486);a(485);a(484);a(477);a(474);a(278);},function(g,d,a){g.M=a(1035);}]));}(window));