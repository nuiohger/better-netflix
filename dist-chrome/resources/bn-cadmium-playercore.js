if(navigator.userAgent.indexOf("Windows") < 0) Object.defineProperty(navigator, "userAgent", {value: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"});
q011.Q8o = function() {return typeof q011.H8o.V0f === 'function' ? q011.H8o.V0f.apply(q011.H8o, arguments) : q011.H8o.V0f;}; q011.n58 = function() {return typeof q011.S58.V0f === 'function' ? q011.S58.V0f.apply(q011.S58, arguments) : q011.S58.V0f;}; q011.F9i = function() {return typeof q011.B9i.V0f === 'function' ? q011.B9i.V0f.apply(q011.B9i, arguments) : q011.B9i.V0f;}; q011.k0f = function() {return typeof q011.o0f.V0f === 'function' ? q011.o0f.V0f.apply(q011.o0f, arguments) : q011.o0f.V0f;}; q011.f3e = function() {return typeof q011.A3e.V0f === 'function' ? q011.A3e.V0f.apply(q011.A3e, arguments) : q011.A3e.V0f;}; q011.T1Z = function() {return typeof q011.C1Z.V0f === 'function' ? q011.C1Z.V0f.apply(q011.C1Z, arguments) : q011.C1Z.V0f;}; q011.L89 = function() {return typeof q011.E89.V0f === 'function' ? q011.E89.V0f.apply(q011.E89, arguments) : q011.E89.V0f;}; q011.H8o = function(W8o) {return {P0f: function() {var G8o, i8o = arguments; switch(W8o) {case 3: G8o = i8o[2] + i8o[3] + i8o[0] + i8o[1]; break; case 5: G8o = i8o[1] - i8o[2] + i8o[0]; break; case 1: G8o = i8o[1] / i8o[0]; break; case 4: G8o = -i8o[0]; break; case 2: G8o = i8o[0] - i8o[1]; break; case 0: G8o = i8o[1] + i8o[0]; break;}return G8o;}, V0f: function(J8o) {W8o = J8o;}};}(); q011.e3e = function() {return typeof q011.A3e.P0f === 'function' ? q011.A3e.P0f.apply(q011.A3e, arguments) : q011.A3e.P0f;}; q011.B9i = function(p9i) {return {P0f: function() {var r9i, g9i = arguments; switch(p9i) {case 0: r9i = g9i[0] * g9i[1]; break;}return r9i;}, V0f: function(w9i) {p9i = w9i;}};}(); q011.F3t = function() {return typeof q011.Q3t.V0f === 'function' ? q011.Q3t.V0f.apply(q011.Q3t, arguments) : q011.Q3t.V0f;}; q011.D09 = function() {return typeof q011.s09.V0f === 'function' ? q011.s09.V0f.apply(q011.s09, arguments) : q011.s09.V0f;}; q011.e1Z = function() {return typeof q011.C1Z.V0f === 'function' ? q011.C1Z.V0f.apply(q011.C1Z, arguments) : q011.C1Z.V0f;}; q011.B0f = function() {return typeof q011.o0f.P0f === 'function' ? q011.o0f.P0f.apply(q011.o0f, arguments) : q011.o0f.P0f;}; q011.x3e = function() {return typeof q011.A3e.P0f === 'function' ? q011.A3e.P0f.apply(q011.A3e, arguments) : q011.A3e.P0f;}; q011.d9K = function() {return typeof q011.z9K.V0f === 'function' ? q011.z9K.V0f.apply(q011.z9K, arguments) : q011.z9K.V0f;}; q011.j6k = function() {return typeof q011.Q6k.V0f === 'function' ? q011.Q6k.V0f.apply(q011.Q6k, arguments) : q011.Q6k.V0f;}; q011.c24 = function() {return typeof q011.w24.P0f === 'function' ? q011.w24.P0f.apply(q011.w24, arguments) : q011.w24.P0f;}; q011.A3e = function(g8e) {return {P0f: function() {var I3e, a3e = arguments; switch(g8e) {case 0: I3e = a3e[0] - a3e[1]; break; case 1: I3e = -a3e[0] - a3e[4] + -a3e[1] + a3e[3] + a3e[2]; break;}return I3e;}, V0f: function(V3e) {g8e = V3e;}};}(); q011.e6k = function() {return typeof q011.Q6k.P0f === 'function' ? q011.Q6k.P0f.apply(q011.Q6k, arguments) : q011.Q6k.P0f;}; q011.M24 = function() {return typeof q011.w24.P0f === 'function' ? q011.w24.P0f.apply(q011.w24, arguments) : q011.w24.P0f;}; q011.s09 = function(g09) {return {P0f: function() {var x09, d09 = arguments; switch(g09) {case 0: x09 = d09[1] + d09[0]; break;}return x09;}, V0f: function(X09) {g09 = X09;}};}(); q011.h3e = function() {return typeof q011.A3e.V0f === 'function' ? q011.A3e.V0f.apply(q011.A3e, arguments) : q011.A3e.V0f;}; q011.D89 = function() {return typeof q011.E89.P0f === 'function' ? q011.E89.P0f.apply(q011.E89, arguments) : q011.E89.P0f;}; q011.T0f = function() {return typeof q011.o0f.V0f === 'function' ? q011.o0f.V0f.apply(q011.o0f, arguments) : q011.o0f.V0f;}; q011.k5k = function() {return typeof q011.u5k.P0f === 'function' ? q011.u5k.P0f.apply(q011.u5k, arguments) : q011.u5k.P0f;}; q011.z4E = function() {return typeof q011.o4E.V0f === 'function' ? q011.o4E.V0f.apply(q011.o4E, arguments) : q011.o4E.V0f;}; q011.x8E = function() {return typeof q011.i8E.V0f === 'function' ? q011.i8E.V0f.apply(q011.i8E, arguments) : q011.i8E.V0f;}; q011.s4E = function() {return typeof q011.o4E.V0f === 'function' ? q011.o4E.V0f.apply(q011.o4E, arguments) : q011.o4E.V0f;}; q011.i1s = function(t8s) {return {P0f: function() {var b1s, m1s = arguments; switch(t8s) {case 2: b1s = m1s[2] / (m1s[0] + m1s[1]); break; case 0: b1s = (m1s[1] - m1s[0]) * m1s[2] / m1s[3]; break; case 1: b1s = m1s[0] - (m1s[1] - m1s[2]); break;}return b1s;}, V0f: function(c1s) {t8s = c1s;}};}(); q011.l3t = function() {return typeof q011.Q3t.P0f === 'function' ? q011.Q3t.P0f.apply(q011.Q3t, arguments) : q011.Q3t.P0f;}; q011.M6k = function() {return typeof q011.Q6k.P0f === 'function' ? q011.Q6k.P0f.apply(q011.Q6k, arguments) : q011.Q6k.P0f;}; q011.z9K = function(o9K) {return {P0f: function() {var L9K, H9K = arguments; switch(o9K) {case 0: L9K = H9K[0] >= H9K[1]; break; case 1: L9K = H9K[1] < H9K[0]; break; case 2: L9K = H9K[1] + H9K[0]; break; case 3: L9K = H9K[2] / H9K[0] * H9K[1] * H9K[3]; break;}return L9K;}, V0f: function(f9K) {o9K = f9K;}};}(); q011.w24 = function(i24) {return {P0f: function() {var f24, L24 = arguments; switch(i24) {case 0: f24 = (L24[2] - L24[0]) * L24[1]; break;}return f24;}, V0f: function(R24) {i24 = R24;}};}(); q011.K9i = function() {return typeof q011.B9i.P0f === 'function' ? q011.B9i.P0f.apply(q011.B9i, arguments) : q011.B9i.P0f;}; q011.y6k = function() {return typeof q011.Q6k.V0f === 'function' ? q011.Q6k.V0f.apply(q011.Q6k, arguments) : q011.Q6k.V0f;}; q011.Q9K = function() {return typeof q011.z9K.P0f === 'function' ? q011.z9K.P0f.apply(q011.z9K, arguments) : q011.z9K.P0f;}; function q011() {} q011.S58 = function(O58) {return {P0f: function() {var k58, L58 = arguments; switch(O58) {case 1: k58 = L58[2] + L58[1] + L58[0] + L58[3] + L58[4]; break; case 0: k58 = L58[1] + L58[0]; break;}return k58;}, V0f: function(g58) {O58 = g58;}};}(); q011.Z8E = function() {return typeof q011.i8E.P0f === 'function' ? q011.i8E.P0f.apply(q011.i8E, arguments) : q011.i8E.P0f;}; q011.C1Z = function(h2Z) {return {P0f: function() {var y2Z, a2Z = arguments; switch(h2Z) {case 0: y2Z = a2Z[0] + a2Z[1]; break;}return y2Z;}, V0f: function(Y1Z) {h2Z = Y1Z;}};}(); q011.o0f = function(E0f) {return {P0f: function() {var Q0f, K0f = arguments; switch(E0f) {case 1: Q0f = K0f[0] + K0f[1]; break; case 5: Q0f = K0f[1] / K0f[0]; break; case 4: Q0f = K0f[0] / K0f[2] | K0f[1]; break; case 3: Q0f = K0f[3] * K0f[1] / K0f[2] | K0f[0]; break; case 8: Q0f = K0f[2] - K0f[0] + K0f[1]; break; case 0: Q0f = K0f[0] - K0f[1]; break; case 6: Q0f = (K0f[1] / K0f[2] | K0f[3]) * K0f[0]; break; case 7: Q0f = K0f[1] === K0f[0]; break; case 2: Q0f = K0f[3] + K0f[0] / K0f[1] * K0f[2]; break; case 9: Q0f = (K0f[4] - K0f[2]) * K0f[1] - K0f[3] + K0f[0]; break;}return Q0f;}, V0f: function(A0f) {E0f = A0f;}};}(); q011.v8E = function() {return typeof q011.i8E.P0f === 'function' ? q011.i8E.P0f.apply(q011.i8E, arguments) : q011.i8E.P0f;}; q011.r58 = function() {return typeof q011.S58.P0f === 'function' ? q011.S58.P0f.apply(q011.S58, arguments) : q011.S58.P0f;}; q011.n1s = function() {return typeof q011.i1s.P0f === 'function' ? q011.i1s.P0f.apply(q011.i1s, arguments) : q011.i1s.P0f;}; q011.T4E = function() {return typeof q011.o4E.P0f === 'function' ? q011.o4E.P0f.apply(q011.o4E, arguments) : q011.o4E.P0f;}; q011.h4E = function() {return typeof q011.o4E.P0f === 'function' ? q011.o4E.P0f.apply(q011.o4E, arguments) : q011.o4E.P0f;}; q011.W1Z = function() {return typeof q011.C1Z.P0f === 'function' ? q011.C1Z.P0f.apply(q011.C1Z, arguments) : q011.C1Z.P0f;}; q011.L09 = function() {return typeof q011.s09.P0f === 'function' ? q011.s09.P0f.apply(q011.s09, arguments) : q011.s09.P0f;}; q011.K24 = function() {return typeof q011.w24.V0f === 'function' ? q011.w24.V0f.apply(q011.w24, arguments) : q011.w24.V0f;}; q011.P3t = function() {return typeof q011.Q3t.V0f === 'function' ? q011.Q3t.V0f.apply(q011.Q3t, arguments) : q011.Q3t.V0f;}; q011.b0f = function() {return typeof q011.o0f.P0f === 'function' ? q011.o0f.P0f.apply(q011.o0f, arguments) : q011.o0f.P0f;}; q011.n89 = function() {return typeof q011.E89.P0f === 'function' ? q011.E89.P0f.apply(q011.E89, arguments) : q011.E89.P0f;}; q011.E89 = function(s89) {return {P0f: function() {var p89, z89 = arguments; switch(s89) {case 0: p89 = z89[0] * z89[1]; break;}return p89;}, V0f: function(T89) {s89 = T89;}};}(); q011.z09 = function() {return typeof q011.s09.P0f === 'function' ? q011.s09.P0f.apply(q011.s09, arguments) : q011.s09.P0f;}; q011.e89 = function() {return typeof q011.E89.V0f === 'function' ? q011.E89.V0f.apply(q011.E89, arguments) : q011.E89.V0f;}; q011.k24 = function() {return typeof q011.w24.V0f === 'function' ? q011.w24.V0f.apply(q011.w24, arguments) : q011.w24.V0f;}; q011.M3t = function() {return typeof q011.Q3t.P0f === 'function' ? q011.Q3t.P0f.apply(q011.Q3t, arguments) : q011.Q3t.P0f;}; q011.V8o = function() {return typeof q011.H8o.P0f === 'function' ? q011.H8o.P0f.apply(q011.H8o, arguments) : q011.H8o.P0f;}; q011.R8E = function() {return typeof q011.i8E.V0f === 'function' ? q011.i8E.V0f.apply(q011.i8E, arguments) : q011.i8E.V0f;}; q011.x5k = function() {return typeof q011.u5k.V0f === 'function' ? q011.u5k.V0f.apply(q011.u5k, arguments) : q011.u5k.V0f;}; q011.A8o = function() {return typeof q011.H8o.V0f === 'function' ? q011.H8o.V0f.apply(q011.H8o, arguments) : q011.H8o.V0f;}; q011.c9i = function() {return typeof q011.B9i.P0f === 'function' ? q011.B9i.P0f.apply(q011.B9i, arguments) : q011.B9i.P0f;}; q011.p09 = function() {return typeof q011.s09.V0f === 'function' ? q011.s09.V0f.apply(q011.s09, arguments) : q011.s09.V0f;}; q011.i8E = function(z8E) {return {P0f: function() {var f8E, e8E = arguments; switch(z8E) {case 2: f8E = e8E[0] + e8E[1]; break; case 0: f8E = e8E[1] * e8E[0] - e8E[2]; break; case 1: f8E = -(e8E[0] / -e8E[1] * e8E[2]); break;}return f8E;}, V0f: function(g8E) {z8E = g8E;}};}(); q011.S1s = function() {return typeof q011.i1s.V0f === 'function' ? q011.i1s.V0f.apply(q011.i1s, arguments) : q011.i1s.V0f;}; q011.w8o = function() {return typeof q011.H8o.P0f === 'function' ? q011.H8o.P0f.apply(q011.H8o, arguments) : q011.H8o.P0f;}; q011.W9K = function() {return typeof q011.z9K.V0f === 'function' ? q011.z9K.V0f.apply(q011.z9K, arguments) : q011.z9K.V0f;}; q011.T58 = function() {return typeof q011.S58.V0f === 'function' ? q011.S58.V0f.apply(q011.S58, arguments) : q011.S58.V0f;}; q011.s1s = function() {return typeof q011.i1s.P0f === 'function' ? q011.i1s.P0f.apply(q011.i1s, arguments) : q011.i1s.P0f;}; q011.o4E = function(k4E) {return {P0f: function() {var X4E, S4E = arguments; switch(k4E) {case 8: X4E = S4E[3] / S4E[2] * S4E[0] - S4E[1]; break; case 3: X4E = S4E[1] - S4E[0]; break; case 1: X4E = S4E[1] * S4E[2] / S4E[0]; break; case 2: X4E = S4E[1] / S4E[0]; break; case 0: X4E = S4E[2] / S4E[1] / S4E[4] ^ S4E[3] + S4E[5] / S4E[0]; break; case 6: X4E = S4E[0] / -S4E[1]; break; case 9: X4E = S4E[3] * (S4E[2] - S4E[0]) - S4E[1]; break; case 4: X4E = void S4E[1] !== S4E[0]; break; case 7: X4E = (S4E[3] * S4E[2] - S4E[4] + S4E[0]) / S4E[1]; break; case 5: X4E = +S4E[1] != S4E[0]; break;}return X4E;}, V0f: function(y4E) {k4E = y4E;}};}(); q011.K9K = function() {return typeof q011.z9K.P0f === 'function' ? q011.z9K.P0f.apply(q011.z9K, arguments) : q011.z9K.P0f;}; q011.K5k = function() {return typeof q011.u5k.P0f === 'function' ? q011.u5k.P0f.apply(q011.u5k, arguments) : q011.u5k.P0f;}; q011.Q6k = function(T6k) {return {P0f: function() {var J6k, N6k = arguments; switch(T6k) {case 0: J6k = (N6k[0] - N6k[3]) * -N6k[1] / N6k[2]; break;}return J6k;}, V0f: function(l6k) {T6k = l6k;}};}(); q011.y1s = function() {return typeof q011.i1s.V0f === 'function' ? q011.i1s.V0f.apply(q011.i1s, arguments) : q011.i1s.V0f;}; q011.k9i = function() {return typeof q011.B9i.V0f === 'function' ? q011.B9i.V0f.apply(q011.B9i, arguments) : q011.B9i.V0f;}; q011.R58 = function() {return typeof q011.S58.P0f === 'function' ? q011.S58.P0f.apply(q011.S58, arguments) : q011.S58.P0f;}; q011.u5k = function(j5k) {return {P0f: function() {var R5k, e5k = arguments; switch(j5k) {case 0: R5k = (e5k[2] - e5k[1]) / -e5k[0]; break;}return R5k;}, V0f: function(t5k) {j5k = t5k;}};}(); q011.Q3t = function(V3t) {return {P0f: function() {var v3t, N3t = arguments; switch(V3t) {case 0: v3t = N3t[1] - N3t[0]; break;}return v3t;}, V0f: function(n3t) {V3t = n3t;}};}(); q011.y5k = function() {return typeof q011.u5k.V0f === 'function' ? q011.u5k.V0f.apply(q011.u5k, arguments) : q011.u5k.V0f;}; q011.H1Z = function() {return typeof q011.C1Z.P0f === 'function' ? q011.C1Z.P0f.apply(q011.C1Z, arguments) : q011.C1Z.P0f;}; (function(t, da) {var pb, Ab, Ba, tc, ia, na, Xa, Id, Jd, xa, ta, Jb, Kd, uc, Ld, Md, Wc, q, ga, hc, Nd, Xc, A, S, Z, vb, $a, Ta, aa, Ya, Fa, Lb, ua, ra, ya, ab, vc, bb, mb, fb, wc, Yc, Od, Cb, Db, Mb, Zc, Wb, wb, xc, Ib, $c, Pd, Xb, ad, bd, cd, dd, jb, ed, fd, gd, Zb, qb, kb, $b, yc, zc, Ac, db, We, Ea, Kb, Qd, Bc, hb, Rd, Xe, nb, Sd, Td, Cc, Ud, Ye, gc, Vd, Te, Ze, hd, Dc, $e, af, Bd, bf, Cd, Wd, eb, ic, Xd, jc, Yd, ib, Zd, id, $d, jd, Ec, ae, df, Dd, Fc, Tc, be, cf, ce, kd, de, ee, fe, ld, Hb, he, ge, ef, kc, ie, nd, lc, je, md, ke, le, od, ne, oe, Ic, Pb, ac, Qb, pe, qe, re, se, te, ue, Jc, ff, ve, we, qd, xe, gb, Nb, Yb, Ob, Eb, xb, Gc, Ua, Bb, me, mc, Rb, ye, gf, nc, ze, hf, bc, Ae, Kc, rd, oc, sd, Be, pc, Ce, De, Ee, jf, qc, Fe, kf, lf, Ge, pd, Hc, He, Se, Ie, mf, of, nf, cc, sc, pf, Ad, qf, Je, Uc, oa, Ve; function Ma(l, q) {if(!q || "utf-8" === q) return Nc(l); throw Error("unsupported encoding");} function Na(l, q) {if(!q || "utf-8" === q) return Oc(l); throw Error("unsupported encoding");} function Nc(l) {for(var q = 0, m, Oa = l.length, t = ""; q < Oa;) {m = l[q++]; if(m & 128) if(192 === (m & 224)) m = ((m & 31) << 6) + (l[q++] & 63); else if(224 === (m & 240)) m = ((m & 15) << 12) + ((l[q++] & 63) << 6) + (l[q++] & 63); else throw Error("unsupported character"); t += String.fromCharCode(m);} return t;} function Oc(l) {var q, m, Oa, t, A; q = l.length; m = 0; t = 0; for(Oa = q; Oa--;)A = l.charCodeAt(Oa), 128 > A ? m++ : m = 2048 > A ? m + 2 : m + 3; m = new Uint8Array(m); for(Oa = 0; Oa < q; Oa++)A = l.charCodeAt(Oa), 128 > A ? m[t++] = A : (2048 > A ? m[t++] = 192 | A >>> 6 : (m[t++] = 224 | A >>> 12, m[t++] = 128 | A >>> 6 & 63), m[t++] = 128 | A & 63); return m;} function Pa(l, m) {if(l === m) return !0; if(!l || !m || l.length != m.length) return !1; for(var q = 0; q < l.length; ++q)if(l[q] != m[q]) return !1; return !0;} function Za(l) {var Oa; if(!(l && l.constructor == Uint8Array || Array.isArray(l))) throw new TypeError("Cannot compute the hash code of " + l); for(var m = 1, q = 0; q < l.length; ++q) {Oa = l[q]; if("number" !== typeof Oa) throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Oa); m = 31 * m + Oa & 4294967295;} return m;} function vd(l, m) {var D; if(l === m) return !0; if(!l || !m) return !1; m instanceof Array || (m = [m]); for(var q = 0; q < m.length; ++q) {for(var Oa = m[q], A = !1, t = 0; t < l.length; ++t) {D = l[t]; if(Oa.equals && "function" === typeof Oa.equals && Oa.equals(D) || Oa == D) {A = !0; break;} } if(!A) return !1;} return !0;} function wd(l, m) {return vd(l, m) && (l.length == m.length || vd(m, l));} function m(l, m, q) {var Oa, A; q && (Oa = q); if("object" !== typeof l || "function" !== typeof l.result || "function" !== typeof l.error) throw new TypeError("callback must be an object with function properties 'result' and 'error'."); try {A = m.call(Oa, l); A !== da && l.result(A);} catch(Pc) {try {l.error(Pc);} catch(Da) {} } } function D(l, q, A) {if("object" !== typeof l || "function" !== typeof l.timeout) throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'."); m(l, q, A);} function l(l, m, q) {1E5 > l && (l = 1E5 + l); Object.defineProperties(this, {internalCode: {value: l, writable: !1, configurable: !1}, responseCode: {value: m, writable: !1, configurable: !1}, message: {value: q, writable: !1, configurable: !1}});} function Qc(l) {switch(l) {case Ea.PSK: case Ea.MGK: return !0; default: return !1;}} function xd(l) {switch(l) {case Ea.PSK: case Ea.MGK: case Ea.X509: case Ea.RSA: case Ea.NPTICKET: case Ea.ECC: return !0; default: return !1;}} function Pe(l) {return l.toJSON();} function yd(m, q) {sc ? q.result(sc) : Promise.resolve().then(function() {return ya.getKeyByName(m);})["catch"](function() {return ya.generateKey({name: m}, !1, ["wrapKey", "unwrapKey"]);}).then(function(l) {sc = l; q.result(sc);})["catch"](function(m) {q.error(new A(l.INTERNAL_EXCEPTION, "Unable to get system key"));});} function zd(l, m) {var q, A, t; q = m.masterToken; A = m.userIdToken; t = m.serviceTokens; return {NccpMethod: l.method, UserId: l.userId, UT: A && A.serialNumber, MT: q && q.serialNumber + ":" + q.sequenceNumber, STCount: t && t.length};} function Qe(l) {return l.uniqueKey();} function Re(t, D, Ub, Sa, Vb) {var za; function Oa(l, K) {l.errorCode === q.ENTITY_REAUTH || l.errorCode === q.ENTITYDATA_REAUTH ? (Sa.clearCryptoContexts(), Qa()) : l.errorCode !== q.USER_REAUTH && l.errorCode !== q.USERDATA_REAUTH || Da(K);} function Da(l) {if(l = Sa.getUserIdToken(l)) Sa.removeUserIdToken(l), Qa();} function T(l, K, R) {var H; H = []; (function Q() {l.read(-1, K, {result: function(l) {m(R, function() {var E, J, L, R, K; if(l) H.push(l), Q(); else switch(H.length) {case 0: return new Uint8Array(0); case 1: return H[0]; default: R = H.length, K = 0; for(J = E = 0; J < R; J++)E += H[J].length; E = new Uint8Array(E); for(J = 0; J < R; J++)L = H[J], E.set(L, K), K += L.length; return E;}});}, timeout: function() {R.timeout();}, error: function(l) {R.error(l);}});}());} function Qa() {Sa.getStoreState({result: function(l) {for(var K = za.slice(), R = 0; R < K.length; R++)K[R]({storeState: l});}, timeout: function() {t.error("Timeout getting store state", "" + e);}, error: function(l) {t.error("Error getting store state", "" + l);}});} za = []; this.addEventHandler = function(l, K) {switch(l) {case "shouldpersist": za.push(K);}}; this.send = function(m) {return new Promise(function(K, R) {var H, I, Q; H = m.timeout; I = new Ad(t, Ub, m, Sa.getKeyRequestData()); Q = new Bd(m.url); t.trace("Sending MSL request"); D.request(Ub, I, Q, H, {result: function(I) {var E; I && I.getMessageHeader(); t.trace("Received MSL response", {Method: m.method}); if(I) {m.allowTokenRefresh && Qa(); E = I.getErrorHeader(); E ? (Oa(E, m.userId), R({success: !1, error: E})) : T(I, H, {result: function(l) {K({success: !0, body: Ma(l)});}, timeout: function() {R({success: !1, subCode: Vb.MSL_READ_TIMEOUT});}, error: function(l) {R({success: !1, error: l});}});} else R({success: !1, error: new A(l.INTERNAL_EXCEPTION, "Null response stream"), description: "Null response stream"});}, timeout: function() {R({success: !1, subCode: Vb.MSL_REQUEST_TIMEOUT});}, error: function(l) {R({success: !1, error: l});}});});}; this.hasUserIdToken = function(l) {return !!Sa.getUserIdToken(l);}; this.getUserIdTokenKeys = function() {return Sa.getUserIdTokenKeys();}; this.removeUserIdToken = Da; this.clearUserIdTokens = function() {Sa.clearUserIdTokens(); Qa();}; this.isErrorReauth = function(l) {return l && l.errorCode == q.USERDATA_REAUTH;}; this.isErrorHeader = function(l) {return l instanceof Hb;}; this.getErrorCode = function(l) {return l && l.errorCode;}; this.getStateForMdx = function(l) {var K, R; K = Sa.getMasterToken(); l = Sa.getUserIdToken(l); R = Sa.getCryptoContext(K); return {masterToken: K, userIdToken: l, cryptoContext: R};}; this.buildPlayDataRequest = function(l, K) {var R; R = new Cd(); D.request(Ub, new Ad(t, Ub, l), R, l.timeout, {result: function() {K.result(R.getRequest());}, error: function() {K.result(R.getRequest());}, timeout: function() {K.timeout();}});}; this.rekeyUserIdToken = function(l, K) {Sa.rekeyUserIdToken(l, K); Qa();}; this.getServiceTokens = function() {return Sa.getServiceTokens(Sa.getMasterToken());}; this.removeServiceToken = function(l) {var K; K = Sa.getMasterToken(); Sa.getServiceTokens(K).find(function(R) {return R.name === l;}) && (Sa.removeServiceTokens(l, K), Qa());};} function Rc(m, q, t, D, Vb, S) {function Sa(q) {var T; return Promise.resolve().then(function() {T = m.authenticationKeyNames[q]; if(!T) throw new A(l.KEY_IMPORT_ERROR, "Invalid config keyName " + q); return ya.getKeyByName(T);}).then(function(m) {return new Promise(function(q, K) {Wb(m, {result: q, error: function() {K(new A(l.KEY_IMPORT_ERROR, "Unable to create " + T + " CipherKey"));}});});})["catch"](function(m) {throw new A(l.KEY_IMPORT_ERROR, "Unable to import " + T, m);});} return Promise.resolve().then(function() {if(!ya.getKeyByName) throw new A(l.INTERNAL_EXCEPTION, "No WebCrypto cryptokeys"); return Promise.all([Sa("e"), Sa("h"), Sa("w")]);}).then(function(l) {var T, za, Ja; T = {}; T[q] = new t(m.esn, l[0], l[1], l[2]); l = new D(m.esn); za = new Se(); za = [new Vb(za)]; Ja = new S(q); return {entityAuthFactories: T, entityAuthData: l, keyExchangeFactories: za, keyRequestData: Ja};});} function Sc(m, q, t) {var fc; function D() {return Promise.resolve().then(function() {return ya.generateKey(q, !1, ["wrapKey", "unwrapKey"]);}).then(function(l) {return Oa(l.publicKey, l.privateKey);});} function Oa(m, q) {return Promise.all([new Promise(function(q, T) {Ib(m, {result: q, error: function(m) {T(new A(l.INTERNAL_EXCEPTION, "Unable to create keyx public key", m));}});}), new Promise(function(m, T) {Xb(q, {result: m, error: function(m) {T(new A(l.INTERNAL_EXCEPTION, "Unable to create keyx private key", m));}});})]).then(function(l) {l = new Tc("rsaKeypairId", t, l[0], l[1]); fc && (l.storeData = {keyxPublicKey: m, keyxPrivateKey: q}); return l;});} fc = !m.systemKeyWrapFormat; return Promise.resolve().then(function() {var l, q; l = m.storeState; q = l && l.keyxPublicKey; l = l && l.keyxPrivateKey; return fc && q && l ? Oa(q, l) : D();}).then(function(l) {var q, Qa, za; q = {}; q[Ea.NONE] = new Te(); Qa = new gc(m.esn); za = [new Dd()]; return {entityAuthFactories: q, entityAuthData: Qa, keyExchangeFactories: za, keyRequestData: l, createKeyRequestData: fc ? D : da};});} function Ia() {Ia = function() {}; oa.Symbol || (oa.Symbol = Ue);} function Ue(l) {return "jscomp_symbol_" + (l || "") + Ve++;} function Wa() {var l; Ia(); l = oa.Symbol.iterator; l || (l = oa.Symbol.iterator = oa.Symbol("iterator")); "function" != typeof Array.prototype[l] && Uc(Array.prototype, l, {configurable: !0, writable: !0, value: function() {return Ed(this);}}); Wa = function() {};} function Ed(l) {var m; m = 0; return Fd(function() {return m < l.length ? {done: !1, value: l[m++]} : {done: !0};});} function Fd(l) {Wa(); l = {next: l}; l[oa.Symbol.iterator] = function() {return this;}; return l;} function Aa(l) {var m; Wa(); Ia(); Wa(); m = l[Symbol.iterator]; return m ? m.call(l) : Ed(l);} function ha(l, m) {var A; function q() {} q.prototype = m.prototype; l.prototype = new q(); l.prototype.constructor = l; for(var t in m) if(Object.defineProperties) {A = Object.getOwnPropertyDescriptor(m, t); A && Object.defineProperty(l, t, A);} else l[t] = m[t];} function zb(l) {if(!(l instanceof Array)) {l = Aa(l); for(var m, q = []; !(m = l.next()).done;)q.push(m.value); l = q;} return l;} function Ra(l, m) {var q, A; if(m) {q = oa; l = l.split("."); for(var t = 0; t < l.length - 1; t++) {A = l[t]; A in q || (q[A] = {}); q = q[A];} l = l[l.length - 1]; t = q[l]; m = m(t); m != t && null != m && Uc(q, l, {configurable: !0, writable: !0, value: m});} } function lb(l, m) {return Object.prototype.hasOwnProperty.call(l, m);} function Vc(l, m) {var q, t; Wa(); l instanceof String && (l += ""); q = 0; t = {next: function() {var A; if(q < l.length) {A = q++; return {value: m(A, l[A]), done: !1};} t.next = function() {return {done: !0, value: void 0};}; return t.next();}}; t[Symbol.iterator] = function() {return t;}; return t;} function Gd(l, m, q) {if(null == l) throw new TypeError("The 'this' value for String.prototype." + q + " must not be null or undefined"); if(m instanceof RegExp) throw new TypeError("First argument to String.prototype." + q + " must not be a regular expression"); return l + "";} function Hd(l, m, q) {var D; l instanceof String && (l = String(l)); for(var t = l.length, A = 0; A < t; A++) {D = l[A]; if(m.call(q, D, A, l)) return {Qh: A, BT: D};} return {Qh: -1, BT: void 0};} Ab = t.nfCrypto || t.msCrypto || t.webkitCrypto || t.crypto; Ba = Ab && (Ab.webkitSubtle || Ab.subtle); tc = t.nfCryptokeys || t.msCryptokeys || t.webkitCryptokeys || t.cryptokeys; (function(l) {var m, q; m = function() {function l(l, q) {l instanceof m ? (this.abv = l.abv, this.position = l.position) : (this.abv = l, this.position = q || 0);} l.prototype = {readByte: function() {return this.abv[this.position++];}, writeByte: function(l) {this.abv[this.position++] = l;}, peekByte: function(l) {return this.abv[l];}, copyBytes: function(l, m, q) {var T; T = new Uint8Array(this.abv.buffer, this.position, q); l = new Uint8Array(l.buffer, m, q); T.set(l); this.position += q;}, seek: function(l) {this.position = l;}, skip: function(l) {this.position += l;}, getPosition: function() {return this.position;}, setPosition: function(l) {this.position = l;}, getRemaining: function() {return this.abv.length - this.position;}, getLength: function() {return this.abv.length;}, isEndOfStream: function() {return this.position >= this.abv.length;}, show: function() {return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}}; return l;}(); q = {}; (function() {var L, E, J, La, pa, Ha, sa, f, c; function l(a, b) {var c; b.writeByte(a.tagClass << 6 | a.constructed << 5 | a.tag); c = a.payloadLen; if(128 > c) b.writeByte(c); else {for(var k = c, h = 0; k;)++h, k >>= 8; b.writeByte(128 | h); for(k = 0; k < h; ++k)b.writeByte(c >> 8 * (h - k - 1) & 255);} if(a.child) for(a.tag == L.BIT_STRING && b.writeByte(0), c = a._child; c;) {if(!l(c, b)) return !1; c = c.next;} else switch(a.tag) {case L.INTEGER: a.backingStore[a.dataIdx] >> 7 && b.writeByte(0); b.copyBytes(a.backingStore, a.dataIdx, a.dataLen); break; case L.BIT_STRING: b.writeByte(0); b.copyBytes(a.backingStore, a.dataIdx, a.dataLen); break; case L.OCTET_STRING: b.copyBytes(a.backingStore, a.dataIdx, a.dataLen); break; case L.OBJECT_IDENTIFIER: b.copyBytes(a.backingStore, a.dataIdx, a.dataLen);}return !0;} function t(a) {var b, c; b = a.readByte(); c = b & 127; if(c == b) return c; if(3 < c || 0 === c) return -1; for(var k = b = 0; k < c; ++k)b = b << 8 | a.readByte(); return b;} function A(a, b, c) {var d, h, g, p, n, r, u; d = a.backingStore; h = new m(d, b); b += c; c = a; if(8 < pa++) return da; for(; h.getPosition() < b;) {h.getPosition(); n = h.readByte(); if(31 == (n & 31)) {for(p = 0; n & 128;)p <<= 8, p |= n & 127; n = p;} g = n; p = g & 31; if(0 > p || 30 < p) return da; n = t(h); if(0 > n || n > h.getRemaining()) return da; c.constructed = g & 32; c.tagClass = (g & 192) >> 6; c.tag = p; c.dataLen = n; c.dataIdx = h.getPosition(); p = h; r = g; g = n; if(r & 32) p = !0; else if(r < L.BIT_STRING || r > L.OCTET_STRING) p = !1; else {u = new m(p); r == L.BIT_STRING && u.skip(1); u.readByte() >> 6 & 1 ? p = !1 : (r = t(u), p = u.getPosition() - p.getPosition() + r == g);} p && (p = h.getPosition(), g = n, c.tag == L.BIT_STRING && (c.dataIdx++ , c.dataLen-- , p++ , g--), c.child = new E(d, c), A(c.child, p, g)); c.tag == L.INTEGER && (p = h.getPosition(), 0 == h.peekByte(p) && h.peekByte(p + 1) >> 7 && (c.dataIdx++ , c.dataLen--)); h.skip(n); h.getPosition() < b && (c.next = new E(d, c.parent), c = c.next);} pa--; return a;} function D(a, b, c) {if(9 != c) return !1; for(c = 0; 9 > c; ++c)if(a[b++] != Ha[c]) return !1; return !0;} function T(a) {var b; if(!(a && a.child && a.child.next && a.child.child && a.child.next.child)) return !1; b = a.child.child; return D(b.backingStore, b.dataIdx, b.dataLen) && 2 == a.nChildren && 2 == a.child.nChildren && 2 == a.child.next.child.nChildren ? !0 : !1;} function Qa(a) {var b; if(!(a && a.child && a.child.next && a.child.next.child && a.child.next.next && a.child.next.next.child)) return !1; b = a.child.next.child; return D(b.backingStore, b.dataIdx, b.dataLen) && 3 == a.nChildren && 2 == a.child.next.nChildren && 9 == a.child.next.next.child.nChildren ? !0 : !1;} function za(a) {var b, c; b = J.createSequenceNode(); c = new La(b); c.addChild(J.createSequenceNode()); c.addChild(J.createOidNode(Ha)); c.addSibling(J.createNullNode()); c.addToParent(b, J.createBitStringNode(null)); c.addChild(J.createSequenceNode()); c.addChild(J.createIntegerNode(a.n)); c.addSibling(J.createIntegerNode(a.e)); return b;} function Ja(a) {var b; a = a.child.next.child.child; b = a.data; a = a.next; return new sa(b, a.data, null, null);} function K(a) {var b, c; b = J.createSequenceNode(); c = new La(b); c.addChild(J.createIntegerNode(new Uint8Array([0]))); c.addSibling(J.createSequenceNode()); c.addChild(J.createOidNode(Ha)); c.addSibling(J.createNullNode()); c.addToParent(b, J.createOctetStringNode(null)); c.addChild(J.createSequenceNode()); c.addChild(J.createIntegerNode(new Uint8Array([0]))); c.addSibling(J.createIntegerNode(a.n)); c.addSibling(J.createIntegerNode(a.e)); c.addSibling(J.createIntegerNode(a.d)); c.addSibling(J.createIntegerNode(a.p)); c.addSibling(J.createIntegerNode(a.q)); c.addSibling(J.createIntegerNode(a.dp)); c.addSibling(J.createIntegerNode(a.dq)); c.addSibling(J.createIntegerNode(a.qi)); return b;} function R(a) {var b; b = []; a = a.child.next.next.child.child.next; for(var c = 0; 8 > c; c++)b.push(a.data), a = a.next; return new f(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7]);} function H(a, b, d, k) {if(!(a instanceof sa || a instanceof f)) return da; if(d) for(var h = 0; h < d.length; ++h)if(-1 == c.indexOf(d[h])) return da; b = {kty: "RSA", alg: b, key_ops: d || [], ext: k == da ? !1 : k, n: ia(a.n, !0), e: ia(a.e, !0)}; a instanceof f && (b.d = ia(a.d, !0), b.p = ia(a.p, !0), b.q = ia(a.q, !0), b.dp = ia(a.dp, !0), b.dq = ia(a.dq, !0), b.qi = ia(a.qi, !0)); return b;} function I(a) {var b, c, k, h, g, p, n, r, u, v; if(!a.kty || "RSA" != a.kty || !a.n || !a.e) return da; b = "RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" "); if(a.alg && -1 == b.indexOf(a.alg)) return da; b = []; a.use ? "enc" == a.use ? b = ["encrypt", "decrypt", "wrap", "unwrap"] : "sig" == a.use && (b = ["sign", "verify"]) : b = a.key_ops; c = a.ext; k = na(a.n, !0); h = na(a.e, !0); if(a.d) {g = na(a.d, !0); p = na(a.p, !0); n = na(a.q, !0); r = na(a.dp, !0); u = na(a.dq, !0); v = na(a.qi, !0); return new f(k, h, g, p, n, r, u, v, a.alg, b, c);} return new sa(k, h, c, b);} function Q(a, b, c, k) {this.der = a; this.type = b; this.keyOps = c; this.extractable = k;} L = {BER: 0, BOOLEAN: 1, INTEGER: 2, BIT_STRING: 3, OCTET_STRING: 4, NULL: 5, OBJECT_IDENTIFIER: 6, OBJECT_DESCRIPTOR: 7, INSTANCE_OF_EXTERNAL: 8, REAL: 9, ENUMERATED: 10, EMBEDDED_PPV: 11, UTF8_STRING: 12, RELATIVE_OID: 13, SEQUENCE: 16, SET: 17, NUMERIC_STRING: 18, PRINTABLE_STRING: 19, TELETEX_STRING: 20, T61_STRING: 20, VIDEOTEX_STRING: 21, IA5_STRING: 22, UTC_TIME: 23, GENERALIZED_TIME: 24, GRAPHIC_STRING: 25, VISIBLE_STRING: 26, ISO64_STRING: 26, GENERAL_STRING: 27, UNIVERSAL_STRING: 28, CHARACTER_STRING: 29, BMP_STRING: 30}; E = function(a, b, c, k, h, g) {this._data = a; this._parent = b || da; this._constructed = c || !1; this._tagClass = 0; this._tag = k || 0; this._dataIdx = h || 0; this._dataLen = g || 0;}; E.prototype = {_child: da, _next: da, get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx, this._dataIdx + this._dataLen));}, get backingStore() {return this._data;}, get constructed() {return this._constructed;}, set constructed(a) {this._constructed = 0 != a ? !0 : !1;}, get tagClass() {return this._tagClass;}, set tagClass(a) {this._tagClass = a;}, get tag() {return this._tag;}, set tag(a) {this._tag = a;}, get dataIdx() {return this._dataIdx;}, set dataIdx(a) {this._dataIdx = a;}, get dataLen() {return this._dataLen;}, set dataLen(a) {this._dataLen = a;}, get child() {return this._child;}, set child(a) {this._child = a; this._child.parent = this;}, get next() {return this._next;}, set next(a) {this._next = a;}, get parent() {return this._parent;}, set parent(a) {this._parent = a;}, get payloadLen() {var a; a = 0; if(this._child) {for(var b = this._child; b;)a += b.length, b = b.next; this._tag == L.BIT_STRING && a++;} else switch(this._tag) {case L.INTEGER: a = this._dataLen; this._data[this._dataIdx] >> 7 && a++; break; case L.BIT_STRING: a = this._dataLen + 1; break; case L.OCTET_STRING: a = this._dataLen; break; case L.NULL: a = 0; break; case L.OBJECT_IDENTIFIER: D(this._data, this._dataIdx, this._dataLen) && (a = 9);}return a;}, get length() {var a, b; a = this.payloadLen; if(127 < a) for(b = a; b;)b >>= 8, ++a; return a + 2;}, get der() {var a, b; a = this.length; if(!a) return da; a = new Uint8Array(a); b = new m(a); return l(this, b) ? a : da;}, get nChildren() {for(var a = 0, b = this._child; b;)a++ , b = b.next; return a;} }; J = {createSequenceNode: function() {return new E(null, null, !0, L.SEQUENCE, null, null);}, createOidNode: function(a) {return new E(a, null, !1, L.OBJECT_IDENTIFIER, 0, a ? a.length : 0);}, createNullNode: function() {return new E(null, null, !1, L.NULL, null, null);}, createBitStringNode: function(a) {return new E(a, null, !1, L.BIT_STRING, 0, a ? a.length : 0);}, createIntegerNode: function(a) {return new E(a, null, !1, L.INTEGER, 0, a ? a.length : 0);}, createOctetStringNode: function(a) {return new E(a, null, !1, L.OCTET_STRING, 0, a ? a.length : 0);}}; La = function(a) {this._currentNode = this._rootNode = a;}; La.prototype = {addChild: function(a) {this.addTo(this._currentNode, a);}, addSibling: function(a) {this.addTo(this._currentNode.parent, a);}, addTo: function(a, b) {this._currentNode = b; this._currentNode.parent = a; if(a.child) {for(var c = a.child; c.next;)c = c.next; c.next = b;} else a.child = b;}, addToParent: function(a, b) {this.findNode(a) && this.addTo(a, b);}, findNode: function(a) {for(var b = this._currentNode; b;) {if(a == b) return !0; b = b.parent;} return !1;}}; pa = 0; Ha = new Uint8Array([42, 134, 72, 134, 247, 13, 1, 1, 1]); sa = function(a, b, c, k) {this.n = a; this.e = b; this.ext = c; this.keyOps = k;}; f = function(a, b, c, k, h, g, p, n, r, u, v) {this.n = a; this.e = b; this.d = c; this.p = k; this.q = h; this.dp = g; this.dq = p; this.qi = n; this.alg = r; this.keyOps = u; this.ext = v;}; c = "sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" "); Q.prototype.getDer = function() {return this.der;}; Q.prototype.getType = function() {return this.type;}; Q.prototype.getKeyOps = function() {return this.keyOps;}; Q.prototype.getExtractable = function() {return this.extractable;}; q.parse = function(a) {pa = 0; return A(new E(a), 0, a.length);}; q.show = function(a, b) {}; q.isRsaSpki = T; q.isRsaPkcs8 = Qa; q.NodeFactory = J; q.Builder = La; q.tagVal = L; q.RsaPublicKey = sa; q.RsaPrivateKey = f; q.buildRsaSpki = za; q.parseRsaSpki = function(a) {a = q.parse(a); return T ? Ja(a) : da;}; q.buildRsaPkcs8 = K; q.parseRsaPkcs8 = function(a) {a = q.parse(a); return Qa(a) ? R(a) : da;}; q.buildRsaJwk = H; q.parseRsaJwk = I; q.RsaDer = Q; q.rsaDerToJwk = function(a, b, c, k) {a = q.parse(a); if(!a) return da; if(T(a)) a = Ja(a); else if(Qa(a)) a = R(a); else return da; return H(a, b, c, k);}; q.jwkToRsaDer = function(a) {var b, c; a = I(a); if(!a) return da; if(a instanceof sa) b = "spki", c = za(a).der; else if(a instanceof f) b = "pkcs8", c = K(a).der; else return da; return new Q(c, b, a.keyOps, a.ext);}; q.webCryptoAlgorithmToJwkAlg = function(a) {return "RSAES-PKCS1-v1_5" == a.name ? "RSA1_5" : "RSASSA-PKCS1-v1_5" == a.name ? "SHA-256" == a.hash.name ? "RS256" : "SHA-384" == a.hash.name ? "RS384" : "SHA-512" == a.hash.name ? "RS512" : da : da;}; q.webCryptoUsageToJwkKeyOps = function(a) {return a.map(function(a) {return "wrapKey" == a ? "wrap" : "unwrapKey" == a ? "unwrap" : a;});};}()); l.ASN1 = q;}(t)); (function() {for(var l = {}, m = {}, q = {"=": 0, ".": 0}, t = {"=": 0, ".": 0}, A = /\s+/g, D = /^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/, Da = 64; Da--;)l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]] = 262144 * Da, m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]] = 4096 * Da, q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]] = 64 * Da, t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]] = Da; for(Da = 64; Da-- && "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da] != "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da];)l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]] = 262144 * Da, m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]] = 4096 * Da, q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]] = 64 * Da, t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]] = Da; ia = function(l, m) {for(var q = "", T = 0, K = l.length, R = K - 2, H, I = m ? "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_" : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Q = m ? "" : "="; T < R;)H = 65536 * l[T++] + 256 * l[T++] + l[T++], q += I[H >>> 18] + I[H >>> 12 & 63] + I[H >>> 6 & 63] + I[H & 63]; T == R ? (H = 65536 * l[T++] + 256 * l[T++], q += I[H >>> 18] + I[H >>> 12 & 63] + I[H >>> 6 & 63] + Q) : T == K - 1 && (H = 65536 * l[T++], q += I[H >>> 18] + I[H >>> 12 & 63] + Q + Q); return q;}; na = function(T, Qa) {var za; T = T.replace(A, ""); if(Qa) {za = T.length % 4; if(za) for(var za = 4 - za, Ja = 0; Ja < za; ++Ja)T += "=";} za = T.length; if(0 != za % 4 || !D.test(T)) throw Error("bad base64: " + T); for(var K = za / 4 * 3 - ("=" == T[za - 1] ? 1 : 0) - ("=" == T[za - 2] ? 1 : 0), R = new Uint8Array(K), H = 0, I = 0; H < za;)Ja = l[T[H++]] + m[T[H++]] + q[T[H++]] + t[T[H++]], R[I++] = Ja >>> 16, I < K && (R[I++] = Ja >>> 8 & 255, I < K && (R[I++] = Ja & 255)); return R;};}()); Xa = {}; (function() {var D, Da, T, za; function l(q) {if(!(this instanceof l)) return new l(q); for(var K = 0, R = Da.length; K < R; K++)this[Da[K]] = ""; this.bufferCheckPosition = Xa.MAX_BUFFER_LENGTH; this.q = this.c = this.p = ""; this.opt = q || {}; this.closed = this.closedRoot = this.sawRoot = !1; this.tag = this.error = null; this.state = T.BEGIN; this.stack = new D(); this.index = this.position = this.column = 0; this.line = 1; this.slashed = !1; this.unicodeI = 0; this.unicodeS = null; m(this, "onready");} function m(l, m, R) {if(l[m]) l[m](R);} function q(l, q) {var R, H; R = l.opt; H = l.textNode; R.trim && (H = H.trim()); R.normalize && (H = H.replace(/\s+/g, " ")); l.textNode = H; l.textNode && m(l, q ? q : "onvalue", l.textNode); l.textNode = "";} function t(l, K) {q(l); K += "\nLine: " + l.line + "\nColumn: " + l.column + "\nChar: " + l.c; K = Error(K); l.error = K; m(l, "onerror", K); return l;} function A(Ja) {Ja.state !== T.VALUE && t(Ja, "Unexpected end"); q(Ja); Ja.c = ""; Ja.closed = !0; m(Ja, "onend"); l.call(Ja, Ja.opt); return Ja;} D = Array; Xa.parser = function(m) {return new l(m);}; Xa.CParser = l; Xa.MAX_BUFFER_LENGTH = 65536; Xa.DEBUG = !1; Xa.INFO = !1; Xa.EVENTS = "value string key openobject closeobject openarray closearray error end ready".split(" "); Da = ["textNode", "numberNode"]; Xa.EVENTS.filter(function(l) {return "error" !== l && "end" !== l;}); T = 0; Xa.STATE = {BEGIN: T++, VALUE: T++, OPEN_OBJECT: T++, CLOSE_OBJECT: T++, OPEN_ARRAY: T++, CLOSE_ARRAY: T++, TEXT_ESCAPE: T++, STRING: T++, BACKSLASH: T++, END: T++, OPEN_KEY: T++, CLOSE_KEY: T++, TRUE: T++, TRUE2: T++, TRUE3: T++, FALSE: T++, FALSE2: T++, FALSE3: T++, FALSE4: T++, NULL: T++, NULL2: T++, NULL3: T++, NUMBER_DECIMAL_POINT: T++, NUMBER_DIGIT: T++}; for(var Qa in Xa.STATE) Xa.STATE[Xa.STATE[Qa]] = Qa; T = Xa.STATE; Object.getPrototypeOf || (Object.getPrototypeOf = function(l) {return l.__proto__;}); za = /[\\"\n]/g; l.prototype = {end: function() {A(this);}, write: function(l) {var H, I, Q; if(this.error) throw this.error; if(this.closed) return t(this, "Cannot write after close. Assign an onready handler."); if(null === l) return A(this); for(var K = l[0], R; K;) {R = K; this.c = K = l.charAt(this.index++); R !== K ? this.p = R : R = this.p; if(!K) break; this.position++; "\n" === K ? (this.line++ , this.column = 0) : this.column++; switch(this.state) {case T.BEGIN: "{" === K ? this.state = T.OPEN_OBJECT : "[" === K ? this.state = T.OPEN_ARRAY : "\r" !== K && "\n" !== K && " " !== K && "\t" !== K && t(this, "Non-whitespace before {[."); continue; case T.OPEN_KEY: case T.OPEN_OBJECT: if("\r" === K || "\n" === K || " " === K || "\t" === K) continue; if(this.state === T.OPEN_KEY) this.stack.push(T.CLOSE_KEY); else if("}" === K) {m(this, "onopenobject"); m(this, "oncloseobject"); this.state = this.stack.pop() || T.VALUE; continue;} else this.stack.push(T.CLOSE_OBJECT); '"' === K ? this.state = T.STRING : t(this, 'Malformed object key should start with "'); continue; case T.CLOSE_KEY: case T.CLOSE_OBJECT: if("\r" === K || "\n" === K || " " === K || "\t" === K) continue; ":" === K ? (this.state === T.CLOSE_OBJECT ? (this.stack.push(T.CLOSE_OBJECT), q(this, "onopenobject")) : q(this, "onkey"), this.state = T.VALUE) : "}" === K ? (q(this), m(this, "oncloseobject", void 0), this.state = this.stack.pop() || T.VALUE) : "," === K ? (this.state === T.CLOSE_OBJECT && this.stack.push(T.CLOSE_OBJECT), q(this), this.state = T.OPEN_KEY) : t(this, "Bad object"); continue; case T.OPEN_ARRAY: case T.VALUE: if("\r" === K || "\n" === K || " " === K || "\t" === K) continue; if(this.state === T.OPEN_ARRAY) if(m(this, "onopenarray"), this.state = T.VALUE, "]" === K) {m(this, "onclosearray"); this.state = this.stack.pop() || T.VALUE; continue;} else this.stack.push(T.CLOSE_ARRAY); '"' === K ? this.state = T.STRING : "{" === K ? this.state = T.OPEN_OBJECT : "[" === K ? this.state = T.OPEN_ARRAY : "t" === K ? this.state = T.TRUE : "f" === K ? this.state = T.FALSE : "n" === K ? this.state = T.NULL : "-" === K ? this.numberNode += K : "0" === K ? (this.numberNode += K, this.state = T.NUMBER_DIGIT) : -1 !== "123456789".indexOf(K) ? (this.numberNode += K, this.state = T.NUMBER_DIGIT) : t(this, "Bad value"); continue; case T.CLOSE_ARRAY: if("," === K) this.stack.push(T.CLOSE_ARRAY), q(this, "onvalue"), this.state = T.VALUE; else if("]" === K) q(this), m(this, "onclosearray", void 0), this.state = this.stack.pop() || T.VALUE; else if("\r" === K || "\n" === K || " " === K || "\t" === K) continue; else t(this, "Bad array"); continue; case T.STRING: R = this.index - 1; H = this.slashed, I = this.unicodeI; a: for(; ;) {if(Xa.DEBUG) for(; 0 < I;)if(this.unicodeS += K, K = l.charAt(this.index++), 4 === I ? (this.textNode += String.fromCharCode(parseInt(this.unicodeS, 16)), I = 0, R = this.index - 1) : I++ , !K) break a; if('"' === K && !H) {this.state = this.stack.pop() || T.VALUE; (this.textNode += l.substring(R, this.index - 1)) || m(this, "onvalue", ""); break;} if("\\" === K && !H && (H = !0, this.textNode += l.substring(R, this.index - 1), K = l.charAt(this.index++), !K)) break; if(H) if(H = !1, "n" === K ? this.textNode += "\n" : "r" === K ? this.textNode += "\r" : "t" === K ? this.textNode += "\t" : "f" === K ? this.textNode += "\f" : "b" === K ? this.textNode += "\b" : "u" === K ? (I = 1, this.unicodeS = "") : this.textNode += K, K = l.charAt(this.index++), R = this.index - 1, K) continue; else break; za.lastIndex = this.index; Q = za.exec(l); if(null === Q) {this.index = l.length + 1; this.textNode += l.substring(R, this.index - 1); break;} this.index = Q.index + 1; K = l.charAt(Q.index); if(!K) {this.textNode += l.substring(R, this.index - 1); break;} } this.slashed = H; this.unicodeI = I; continue; case T.TRUE: if("" === K) continue; "r" === K ? this.state = T.TRUE2 : t(this, "Invalid true started with t" + K); continue; case T.TRUE2: if("" === K) continue; "u" === K ? this.state = T.TRUE3 : t(this, "Invalid true started with tr" + K); continue; case T.TRUE3: if("" === K) continue; "e" === K ? (m(this, "onvalue", !0), this.state = this.stack.pop() || T.VALUE) : t(this, "Invalid true started with tru" + K); continue; case T.FALSE: if("" === K) continue; "a" === K ? this.state = T.FALSE2 : t(this, "Invalid false started with f" + K); continue; case T.FALSE2: if("" === K) continue; "l" === K ? this.state = T.FALSE3 : t(this, "Invalid false started with fa" + K); continue; case T.FALSE3: if("" === K) continue; "s" === K ? this.state = T.FALSE4 : t(this, "Invalid false started with fal" + K); continue; case T.FALSE4: if("" === K) continue; "e" === K ? (m(this, "onvalue", !1), this.state = this.stack.pop() || T.VALUE) : t(this, "Invalid false started with fals" + K); continue; case T.NULL: if("" === K) continue; "u" === K ? this.state = T.NULL2 : t(this, "Invalid null started with n" + K); continue; case T.NULL2: if("" === K) continue; "l" === K ? this.state = T.NULL3 : t(this, "Invalid null started with nu" + K); continue; case T.NULL3: if("" === K) continue; "l" === K ? (m(this, "onvalue", null), this.state = this.stack.pop() || T.VALUE) : t(this, "Invalid null started with nul" + K); continue; case T.NUMBER_DECIMAL_POINT: "." === K ? (this.numberNode += K, this.state = T.NUMBER_DIGIT) : t(this, "Leading zero not followed by ."); continue; case T.NUMBER_DIGIT: -1 !== "0123456789".indexOf(K) ? this.numberNode += K : "." === K ? (-1 !== this.numberNode.indexOf(".") && t(this, "Invalid number has two dots"), this.numberNode += K) : "e" === K || "E" === K ? (-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || t(this, "Invalid number has two exponential"), this.numberNode += K) : "+" === K || "-" === K ? ("e" !== R && "E" !== R && t(this, "Invalid symbol in number"), this.numberNode += K) : (this.numberNode && m(this, "onvalue", parseFloat(this.numberNode)), this.numberNode = "", this.index-- , this.state = this.stack.pop() || T.VALUE); continue; default: t(this, "Unknown state: " + this.state);}} if(this.position >= this.bufferCheckPosition) {l = Math.max(Xa.MAX_BUFFER_LENGTH, 10); R = K = 0; for(H = Da.length; R < H; R++) {I = this[Da[R]].length; if(I > l) switch(Da[R]) {case "text": break; default: t(this, "Max buffer length exceeded: " + Da[R]);}K = Math.max(K, I);} this.bufferCheckPosition = Xa.MAX_BUFFER_LENGTH - K + this.position;} return this;}, resume: function() {this.error = null; return this;}, close: function() {return this.write(null);}};}()); (function() {var t; function l(l, m) {m || (m = l.length); return l.reduce(function(l, q, T) {return T < m ? l + String.fromCharCode(q) : l;}, "");} for(var m = {}, q = 0; 256 > q; ++q) {t = l([q]); m[t] = q;} for(var A = Object.keys(m).length, D = [], q = 0; 256 > q; ++q)D[q] = [q]; Id = function(q, T) {var E, J; function t(l, E) {var J; for(; 0 < E;) {if(I >= H.length) return !1; if(E > Q) {J = l; J = J >>> E - Q; H[I] |= J & 255; E -= Q; Q = 8; ++I;} else E <= Q && (J = l, J <<= Q - E, J &= 255, J >>>= 8 - Q, H[I] |= J & 255, Q -= E, E = 0, 0 == Q && (Q = 8, ++I));} return !0;} for(var za in m) T[za] = m[za]; for(var Ja = A, K = [], R = 8, H = new Uint8Array(q.length), I = 0, Q = 8, L = 0; L < q.length; ++L) {E = q[L]; K.push(E); za = l(K); J = T[za]; if(!J) {K = l(K, K.length - 1); if(!t(T[K], R)) return null; 0 != Ja >> R && ++R; T[za] = Ja++; K = [E];} } return 0 < K.length && (za = l(K), J = T[za], !t(J, R)) ? null : H.subarray(0, 8 > Q ? I + 1 : I);}; Jd = function(l) {var L, E, Q, t; for(var q = D.slice(), m = 0, t = 0, A = 8, K = new Uint8Array(Math.ceil(1.5 * l.length)), R = 0, H, I = []; m < l.length && !(8 * (l.length - m) - t < A);) {for(var Q = H = 0; Q < A;) {L = Math.min(A - Q, 8 - t); E = l[m]; E = E << t; E = E & 255; E = E >>> 8 - L; Q = Q + L; t = t + L; 8 == t && (t = 0, ++m); H |= (E & 255) << A - Q;} Q = q[H]; 0 == I.length ? ++A : (Q ? I.push(Q[0]) : I.push(I[0]), q[q.length] = I, I = [], q.length == 1 << A && ++A, Q || (Q = q[H])); H = R + Q.length; H >= K.length && (L = new Uint8Array(Math.ceil(1.5 * H)), L.set(K), K = L); K.set(Q, R); R = H; I = I.concat(Q);} return K.subarray(0, R);};}()); (function() {var l, m, t; xa = "utf-8"; ta = 9007199254740992; l = Jb = {GZIP: "GZIP", LZW: "LZW"}; Object.freeze(Jb); Kd = function(m) {for(var q = [l.GZIP, l.LZW], t = 0; t < q.length && 0 < m.length; ++t)for(var A = q[t], T = 0; T < m.length; ++T)if(m[T] == A) return A; return null;}; m = uc = {AES_CBC_PKCS5Padding: "AES/CBC/PKCS5Padding", AESWrap: "AESWrap", RSA_ECB_PKCS1Padding: "RSA/ECB/PKCS1Padding"}; Object.freeze(uc); Ld = function(l) {return m.AES_CBC_PKCS5Padding == l ? m.AES_CBC_PKCS5Padding : m.RSA_ECB_PKCS1Padding == l ? m.RSA_ECB_PKCS1Padding : m[l];}; t = Md = {HmacSHA256: "HmacSHA256", SHA256withRSA: "SHA256withRSA"}; Object.freeze(Md); Wc = function(l) {return t[l];}; q = {FAIL: 1, TRANSIENT_FAILURE: 2, ENTITY_REAUTH: 3, USER_REAUTH: 4, KEYX_REQUIRED: 5, ENTITYDATA_REAUTH: 6, USERDATA_REAUTH: 7, EXPIRED: 8, REPLAYED: 9, SSOTOKEN_REJECTED: 10}; Object.freeze(q);}()); ga = {isObjectLiteral: function(l) {return null !== l && "object" === typeof l && l.constructor === Object;}, extendDeep: function() {var l, m, q, t, A, D, S, T; l = arguments[0]; m = 1; q = arguments.length; t = !1; "boolean" === typeof l && (t = l, l = arguments[1], m = 2); for(; m < q; m++)if(null != (A = arguments[m])) for(D in A) t && D in l || (T = A[D], l !== T && T !== da && (S = l[D], l[D] = null !== S && null !== T && "object" === typeof S && "object" === typeof T ? ga.extendDeep(t, {}, S, T) : T)); return l;}}; (function() {var S, T; function l(l, m) {return function() {var q, K; q = l.base; l.base = m; K = l.apply(this, arguments); l.base = q; return K;};} function m(m, q, t) {var K, R, H, I; t = t || T; I = !!t.extendAll; for(K in q) R = q.__lookupGetter__(K), H = q.__lookupSetter__(K), R || H ? (R && m.__defineGetter__(K, R), H && m.__defineSetter__(K, H)) : (R = q[K], H = m[K], "function" === typeof R && "function" === typeof H && R !== H ? (R.base !== Function.prototype.base && (R = l(R, H)), R.base = H) : (I || t[K]) && ga.isObjectLiteral(R) && ga.isObjectLiteral(H) && (R = ga.extendDeep({}, H, R)), m[K] = R);} function q() {var l, m; l = Array.prototype.slice; m = l.call(arguments, 1); return this.extend({init: function K() {var R; R = l.call(arguments, 0); K.base.apply(this, m.concat(R));}});} function t(l, q) {var T; T = new this(S); m(T, l, q); return D(T);} function A(l, q) {m(this.prototype, l, q); return this;} function D(l) {var m; m = function() {var l; l = this.init; l && arguments[0] !== S && l.apply(this, arguments);}; l && (m.prototype = l); m.prototype.constructor = m; m.extend = t; m.bind = q; m.mixin = A; return m;} S = {}; T = {actions: !0}; Function.prototype.base = function() {}; ga.Class = {create: D, mixin: m, extend: function(l, m) {var q; q = D(); q.prototype = new l(); return q.extend(m);}}; ga.mixin = function() {ga.log && ga.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()"); m.apply(null, arguments);};}()); (function() {var S, T, Qa; function l(l, m) {return function() {var q, R; q = l.base; l.base = m; R = l.apply(this, arguments); l.base = q; return R;};} function m(m, q, K) {var R, H, I, Q; K = K || T; Q = !!K.extendAll; for(R in q) H = q.__lookupGetter__(R), I = q.__lookupSetter__(R), H || I ? (H && m.__defineGetter__(R, H), I && m.__defineSetter__(R, I)) : (H = q[R], I = m[R], "function" === typeof H && "function" === typeof I && H !== I ? (H.base !== Qa && (H = l(H, I)), H.base = I) : (Q || K[R]) && ga.isObjectLiteral(H) && ga.isObjectLiteral(I) && (H = ga.extendDeep({}, I, H)), m[R] = H);} function q() {var l, m; l = Array.prototype.slice; m = l.call(arguments, 1); return this.extend({init: function R() {var H; H = l.call(arguments, 0); R.base.apply(this, m.concat(H));}});} function t(l, q) {var K; K = new this(S); m(K, l, q); return D(K);} function A(l, q) {m(this.prototype, l, q); return this;} function D(l) {var m; m = function() {var l; l = this.init; l && arguments[0] !== S && l.apply(this, arguments);}; l && (m.prototype = l); m.prototype.constructor = m; m.extend = t; m.bind = q; m.mixin = A; return m;} S = {}; T = {actions: !0}; Qa = function() {}; Function.prototype.base = Qa; ga.Class = {create: D, mixin: m, extend: function(l, m) {var q; q = D(); q.prototype = new l(); return q.extend(m);}}; ga.mixin = function() {ga.log && ga.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()"); m.apply(null, arguments);};}()); (function() {function l(l) {return l == ta ? 1 : l + 1;} function m(m) {if(0 === Object.keys(m._waiters).length) return 0; for(var q = l(m._nextWaiter); !m._waiters[q];)q = l(q); return q;} hc = ga.Class.create({init: function() {Object.defineProperties(this, {_queue: {value: [], writable: !1, enumerable: !1, configurable: !1}, _waiters: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _nextWaiter: {value: 0, writable: !0, enumerable: !1, configurable: !1}, _lastWaiter: {value: 0, writable: !0, enumerable: !1, configurable: !1}});}, cancel: function(l) {var q; if(this._waiters[l]) {q = this._waiters[l]; delete this._waiters[l]; l == this._nextWaiter && (this._nextWaiter = m(this)); q.call(this, da);} }, cancelAll: function() {for(; 0 !== this._nextWaiter;)this.cancel(this._nextWaiter);}, poll: function(q, t) {var A, S; A = this; S = l(this._lastWaiter); this._lastWaiter = S; D(t, function() {var l, T; if(0 < this._queue.length) {l = this._queue.shift(); setTimeout(function() {t.result(l);}, 0);} else {-1 != q && (T = setTimeout(function() {delete A._waiters[S]; S == A._nextWaiter && (A._nextWaiter = m(A)); t.timeout();}, q)); this._waiters[S] = function(l) {clearTimeout(T); setTimeout(function() {t.result(l);}, 0);}; this._nextWaiter || (this._nextWaiter = S);} }, A); return S;}, add: function(l) {var q; if(this._nextWaiter) {q = this._waiters[this._nextWaiter]; delete this._waiters[this._nextWaiter]; this._nextWaiter = m(this); q.call(this, l);} else this._queue.push(l);}});}()); (function() {var l; l = 0 - ta; Nd = ga.Class.create({nextBoolean: function() {var l; l = new Uint8Array(1); Ab.getRandomValues(l); return l[0] & 1 ? !0 : !1;}, nextInt: function(l) {var m; if(null !== l && l !== da) {if("number" !== typeof l) throw new TypeError("n must be of type number"); if(1 > l) throw new RangeError("n must be greater than zero"); --l; m = new Uint8Array(4); Ab.getRandomValues(m); return Math.floor(((m[3] & 127) << 24 | m[2] << 16 | m[1] << 8 | m[0]) / 2147483648 * (l - 0 + 1) + 0);} l = new Uint8Array(4); Ab.getRandomValues(l); m = (l[3] & 127) << 24 | l[2] << 16 | l[1] << 8 | l[0]; return l[3] & 128 ? -m : m;}, nextLong: function() {var q, m; for(var m = l; m == l;) {m = new Uint8Array(7); Ab.getRandomValues(m); q = 16777216 * ((m[6] & 31) << 24 | m[5] << 16 | m[4] << 8 | m[3]) + (m[2] << 16 | m[1] << 8 | m[0]); m = m[6] & 128 ? -q - 1 : q;} return m;}, nextBytes: function(l) {Ab.getRandomValues(l);}});}()); (function() {function l(l) {return l == ta ? 1 : l + 1;} function m(m) {if(0 === Object.keys(m._waitingReaders).length) return 0; for(var q = l(m._nextReader); !m._waitingReaders[q];)q = l(q); return q;} function q(m) {if(0 === Object.keys(m._waitingWriters).length) return 0; for(var q = l(m._nextWriter); !m._waitingWriters[q];)q = l(q); return q;} Xc = ga.Class.create({init: function() {Object.defineProperties(this, {_readers: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _waitingReaders: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _writer: {value: null, writable: !0, enumerable: !1, configurable: !1}, _waitingWriters: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _nextReader: {value: 0, writable: !0, enumerable: !1, configurable: !1}, _nextWriter: {value: 0, writable: !0, enumerable: !1, configurable: !1}, _lastNumber: {value: 0, writable: !0, enumerable: !1, configurable: !1}});}, cancel: function(l) {var t; if(this._waitingReaders[l]) {t = this._waitingReaders[l]; delete this._waitingReaders[l]; l == this._nextReader && (this._nextReader = m(this)); t.call(this, !0);} this._waitingWriters[l] && (t = this._waitingWriters[l], delete this._waitingWriters[l], l == this._nextWriter && (this._nextWriter = q(this)), t.call(this, !0));}, cancelAll: function() {for(; 0 !== this._nextWriter;)this.cancel(this._nextWriter); for(; 0 !== this._nextReader;)this.cancel(this._nextReader);}, readLock: function(q, t) {var A, S; A = this; S = l(this._lastNumber); this._lastNumber = S; D(t, function() {var l; if(!this._writer && 0 === Object.keys(this._waitingWriters).length) return this._readers[S] = !0, S; -1 != q && (l = setTimeout(function() {delete A._waitingReaders[S]; S == A._nextReader && (A._nextReader = m(A)); t.timeout();}, q)); this._waitingReaders[S] = function(m) {clearTimeout(l); m ? setTimeout(function() {t.result(da);}, 0) : (A._readers[S] = !0, setTimeout(function() {t.result(S);}, 0));}; this._nextReader || (this._nextReader = S);}, A); return S;}, writeLock: function(m, t) {var A, S; A = this; S = l(this._lastNumber); this._lastNumber = S; D(t, function() {var l; if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer) return this._writer = S; -1 != m && (l = setTimeout(function() {delete A._waitingWriters[S]; S == A._nextWriter && (A._nextWriter = q(A)); t.timeout();}, m)); this._waitingWriters[S] = function(m) {clearTimeout(l); m ? setTimeout(function() {t.result(da);}, 0) : (A._writer = S, setTimeout(function() {t.result(S);}, 0));}; this._nextWriter || (this._nextWriter = S);}, A); return S;}, unlock: function(m) {if(m == this._writer) this._writer = null; else {if(!this._readers[m]) throw new aa("There is no reader or writer with ticket number " + m + "."); delete this._readers[m];} if(this._nextWriter) 0 < Object.keys(this._readers).length || (m = this._waitingWriters[this._nextWriter], delete this._waitingWriters[this._nextWriter], this._nextWriter = q(this), m.call(this, !1)); else {for(var t = this._nextReader; 0 < Object.keys(this._waitingReaders).length; t = l(t))this._waitingReaders[t] && (m = this._waitingReaders[t], delete this._waitingReaders[t], m.call(this, !1)); this._nextReader = 0;} }});}()); ga.Class.mixin(l, {JSON_PARSE_ERROR: new l(0, q.FAIL, "Error parsing JSON."), JSON_ENCODE_ERROR: new l(1, q.FAIL, "Error encoding JSON."), ENVELOPE_HASH_MISMATCH: new l(2, q.FAIL, "Computed hash does not match envelope hash."), INVALID_PUBLIC_KEY: new l(3, q.FAIL, "Invalid public key provided."), INVALID_PRIVATE_KEY: new l(4, q.FAIL, "Invalid private key provided."), PLAINTEXT_ILLEGAL_BLOCK_SIZE: new l(5, q.FAIL, "Plaintext is not a multiple of the block size."), PLAINTEXT_BAD_PADDING: new l(6, q.FAIL, "Plaintext contains incorrect padding."), CIPHERTEXT_ILLEGAL_BLOCK_SIZE: new l(7, q.FAIL, "Ciphertext is not a multiple of the block size."), CIPHERTEXT_BAD_PADDING: new l(8, q.FAIL, "Ciphertext contains incorrect padding."), ENCRYPT_NOT_SUPPORTED: new l(9, q.FAIL, "Encryption not supported."), DECRYPT_NOT_SUPPORTED: new l(10, q.FAIL, "Decryption not supported."), ENVELOPE_KEY_ID_MISMATCH: new l(11, q.FAIL, "Encryption envelope key ID does not match crypto context key ID."), CIPHERTEXT_ENVELOPE_PARSE_ERROR: new l(12, q.FAIL, "Error parsing ciphertext envelope."), CIPHERTEXT_ENVELOPE_ENCODE_ERROR: new l(13, q.FAIL, "Error encoding ciphertext envelope."), SIGN_NOT_SUPPORTED: new l(14, q.FAIL, "Sign not supported."), VERIFY_NOT_SUPPORTED: new l(15, q.FAIL, "Verify not suppoprted."), SIGNATURE_ERROR: new l(16, q.FAIL, "Signature not initialized or unable to process data/signature."), HMAC_ERROR: new l(17, q.FAIL, "Error computing HMAC."), ENCRYPT_ERROR: new l(18, q.FAIL, "Error encrypting plaintext."), DECRYPT_ERROR: new l(19, q.FAIL, "Error decrypting ciphertext."), INSUFFICIENT_CIPHERTEXT: new l(20, q.FAIL, "Insufficient ciphertext for decryption."), SESSION_KEY_CREATION_FAILURE: new l(21, q.FAIL, "Error when creating session keys."), ASN1_PARSE_ERROR: new l(22, q.FAIL, "Error parsing ASN.1."), ASN1_ENCODE_ERROR: new l(23, q.FAIL, "Error encoding ASN.1."), INVALID_SYMMETRIC_KEY: new l(24, q.FAIL, "Invalid symmetric key provided."), INVALID_ENCRYPTION_KEY: new l(25, q.FAIL, "Invalid encryption key."), INVALID_HMAC_KEY: new l(26, q.FAIL, "Invalid HMAC key."), WRAP_NOT_SUPPORTED: new l(27, q.FAIL, "Wrap not supported."), UNWRAP_NOT_SUPPORTED: new l(28, q.FAIL, "Unwrap not supported."), UNIDENTIFIED_JWK_TYPE: new l(29, q.FAIL, "Unidentified JSON web key type."), UNIDENTIFIED_JWK_USAGE: new l(30, q.FAIL, "Unidentified JSON web key usage."), UNIDENTIFIED_JWK_ALGORITHM: new l(31, q.FAIL, "Unidentified JSON web key algorithm."), WRAP_ERROR: new l(32, q.FAIL, "Error wrapping plaintext."), UNWRAP_ERROR: new l(33, q.FAIL, "Error unwrapping ciphertext."), INVALID_JWK: new l(34, q.FAIL, "Invalid JSON web key."), INVALID_JWK_KEYDATA: new l(35, q.FAIL, "Invalid JSON web key keydata."), UNSUPPORTED_JWK_ALGORITHM: new l(36, q.FAIL, "Unsupported JSON web key algorithm."), WRAP_KEY_CREATION_FAILURE: new l(37, q.FAIL, "Error when creating wrapping key."), INVALID_WRAP_CIPHERTEXT: new l(38, q.FAIL, "Invalid wrap ciphertext."), UNSUPPORTED_JWE_ALGORITHM: new l(39, q.FAIL, "Unsupported JSON web encryption algorithm."), JWE_ENCODE_ERROR: new l(40, q.FAIL, "Error encoding JSON web encryption header."), JWE_PARSE_ERROR: new l(41, q.FAIL, "Error parsing JSON web encryption header."), INVALID_ALGORITHM_PARAMS: new l(42, q.FAIL, "Invalid algorithm parameters."), JWE_ALGORITHM_MISMATCH: new l(43, q.FAIL, "JSON web encryption header algorithms mismatch."), KEY_IMPORT_ERROR: new l(44, q.FAIL, "Error importing key."), KEY_EXPORT_ERROR: new l(45, q.FAIL, "Error exporting key."), DIGEST_ERROR: new l(46, q.FAIL, "Error in digest."), UNSUPPORTED_KEY: new l(47, q.FAIL, "Unsupported key type or algorithm."), UNSUPPORTED_JWE_SERIALIZATION: new l(48, q.FAIL, "Unsupported JSON web encryption serialization."), XML_PARSE_ERROR: new l(49, q.FAIL, "Error parsing XML."), XML_ENCODE_ERROR: new l(50, q.FAIL, "Error encoding XML."), INVALID_WRAPPING_KEY: new l(51, q.FAIL, "Invalid wrapping key."), UNIDENTIFIED_CIPHERTEXT_ENVELOPE: new l(52, q.FAIL, "Unidentified ciphertext envelope version."), UNIDENTIFIED_SIGNATURE_ENVELOPE: new l(53, q.FAIL, "Unidentified signature envelope version."), UNSUPPORTED_CIPHERTEXT_ENVELOPE: new l(54, q.FAIL, "Unsupported ciphertext envelope version."), UNSUPPORTED_SIGNATURE_ENVELOPE: new l(55, q.FAIL, "Unsupported signature envelope version."), UNIDENTIFIED_CIPHERSPEC: new l(56, q.FAIL, "Unidentified cipher specification."), UNIDENTIFIED_ALGORITHM: new l(57, q.FAIL, "Unidentified algorithm."), SIGNATURE_ENVELOPE_PARSE_ERROR: new l(58, q.FAIL, "Error parsing signature envelope."), SIGNATURE_ENVELOPE_ENCODE_ERROR: new l(59, q.FAIL, "Error encoding signature envelope."), INVALID_SIGNATURE: new l(60, q.FAIL, "Invalid signature."), WRAPKEY_FINGERPRINT_NOTSUPPORTED: new l(61, q.FAIL, "Wrap key fingerprint not supported"), UNIDENTIFIED_JWK_KEYOP: new l(62, q.FAIL, "Unidentified JSON web key key operation."), MASTERTOKEN_UNTRUSTED: new l(1E3, q.ENTITY_REAUTH, "Master token is not trusted."), MASTERTOKEN_KEY_CREATION_ERROR: new l(1001, q.ENTITY_REAUTH, "Unable to construct symmetric keys from master token."), MASTERTOKEN_EXPIRES_BEFORE_RENEWAL: new l(1002, q.ENTITY_REAUTH, "Master token expiration timestamp is before the renewal window opens."), MASTERTOKEN_SESSIONDATA_MISSING: new l(1003, q.ENTITY_REAUTH, "No master token session data found."), MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE: new l(1004, q.ENTITY_REAUTH, "Master token sequence number is out of range."), MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new l(1005, q.ENTITY_REAUTH, "Master token serial number is out of range."), MASTERTOKEN_TOKENDATA_INVALID: new l(1006, q.ENTITY_REAUTH, "Invalid master token data."), MASTERTOKEN_SIGNATURE_INVALID: new l(1007, q.ENTITY_REAUTH, "Invalid master token signature."), MASTERTOKEN_SESSIONDATA_INVALID: new l(1008, q.ENTITY_REAUTH, "Invalid master token session data."), MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC: new l(1009, q.ENTITY_REAUTH, "Master token sequence number does not have the expected value."), MASTERTOKEN_TOKENDATA_MISSING: new l(1010, q.ENTITY_REAUTH, "No master token data found."), MASTERTOKEN_TOKENDATA_PARSE_ERROR: new l(1011, q.ENTITY_REAUTH, "Error parsing master token data."), MASTERTOKEN_SESSIONDATA_PARSE_ERROR: new l(1012, q.ENTITY_REAUTH, "Error parsing master token session data."), MASTERTOKEN_IDENTITY_REVOKED: new l(1013, q.ENTITY_REAUTH, "Master token entity identity is revoked."), MASTERTOKEN_REJECTED_BY_APP: new l(1014, q.ENTITY_REAUTH, "Master token is rejected by the application."), USERIDTOKEN_MASTERTOKEN_MISMATCH: new l(2E3, q.USER_REAUTH, "User ID token master token serial number does not match master token serial number."), USERIDTOKEN_NOT_DECRYPTED: new l(2001, q.USER_REAUTH, "User ID token is not decrypted or verified."), USERIDTOKEN_MASTERTOKEN_NULL: new l(2002, q.USER_REAUTH, "User ID token requires a master token."), USERIDTOKEN_EXPIRES_BEFORE_RENEWAL: new l(2003, q.USER_REAUTH, "User ID token expiration timestamp is before the renewal window opens."), USERIDTOKEN_USERDATA_MISSING: new l(2004, q.USER_REAUTH, "No user ID token user data found."), USERIDTOKEN_MASTERTOKEN_NOT_FOUND: new l(2005, q.USER_REAUTH, "User ID token is bound to an unknown master token."), USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new l(2006, q.USER_REAUTH, "User ID token master token serial number is out of range."), USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new l(2007, q.USER_REAUTH, "User ID token serial number is out of range."), USERIDTOKEN_TOKENDATA_INVALID: new l(2008, q.USER_REAUTH, "Invalid user ID token data."), USERIDTOKEN_SIGNATURE_INVALID: new l(2009, q.USER_REAUTH, "Invalid user ID token signature."), USERIDTOKEN_USERDATA_INVALID: new l(2010, q.USER_REAUTH, "Invalid user ID token user data."), USERIDTOKEN_IDENTITY_INVALID: new l(2011, q.USER_REAUTH, "Invalid user ID token user identity."), RESERVED_2012: new l(2012, q.USER_REAUTH, "The entity is not associated with the user."), USERIDTOKEN_IDENTITY_NOT_FOUND: new l(2013, q.USER_REAUTH, "The user identity was not found."), USERIDTOKEN_PASSWORD_VERSION_CHANGED: new l(2014, q.USER_REAUTH, "The user identity must be reauthenticated because the password version changed."), USERIDTOKEN_USERAUTH_DATA_MISMATCH: new l(2015, q.USER_REAUTH, "The user ID token and user authentication data user identities do not match."), USERIDTOKEN_TOKENDATA_MISSING: new l(2016, q.USER_REAUTH, "No user ID token data found."), USERIDTOKEN_TOKENDATA_PARSE_ERROR: new l(2017, q.USER_REAUTH, "Error parsing user ID token data."), USERIDTOKEN_USERDATA_PARSE_ERROR: new l(2018, q.USER_REAUTH, "Error parsing user ID token user data."), USERIDTOKEN_REVOKED: new l(2019, q.USER_REAUTH, "User ID token is revoked."), USERIDTOKEN_REJECTED_BY_APP: new l(2020, q.USER_REAUTH, "User ID token is rejected by the application."), SERVICETOKEN_MASTERTOKEN_MISMATCH: new l(3E3, q.FAIL, "Service token master token serial number does not match master token serial number."), SERVICETOKEN_USERIDTOKEN_MISMATCH: new l(3001, q.FAIL, "Service token user ID token serial number does not match user ID token serial number."), SERVICETOKEN_SERVICEDATA_INVALID: new l(3002, q.FAIL, "Service token data invalid."), SERVICETOKEN_MASTERTOKEN_NOT_FOUND: new l(3003, q.FAIL, "Service token is bound to an unknown master token."), SERVICETOKEN_USERIDTOKEN_NOT_FOUND: new l(3004, q.FAIL, "Service token is bound to an unknown user ID token."), SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new l(3005, q.FAIL, "Service token master token serial number is out of range."), SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new l(3006, q.FAIL, "Service token user ID token serial number is out of range."), SERVICETOKEN_TOKENDATA_INVALID: new l(3007, q.FAIL, "Invalid service token data."), SERVICETOKEN_SIGNATURE_INVALID: new l(3008, q.FAIL, "Invalid service token signature."), SERVICETOKEN_TOKENDATA_MISSING: new l(3009, q.FAIL, "No service token data found."), UNIDENTIFIED_ENTITYAUTH_SCHEME: new l(4E3, q.FAIL, "Unable to identify entity authentication scheme."), ENTITYAUTH_FACTORY_NOT_FOUND: new l(4001, q.FAIL, "No factory registered for entity authentication scheme."), X509CERT_PARSE_ERROR: new l(4002, q.ENTITYDATA_REAUTH, "Error parsing X.509 certificate data."), X509CERT_ENCODE_ERROR: new l(4003, q.ENTITYDATA_REAUTH, "Error encoding X.509 certificate data."), X509CERT_VERIFICATION_FAILED: new l(4004, q.ENTITYDATA_REAUTH, "X.509 certificate verification failed."), ENTITY_NOT_FOUND: new l(4005, q.FAIL, "Entity not recognized."), INCORRECT_ENTITYAUTH_DATA: new l(4006, q.FAIL, "Entity used incorrect entity authentication data type."), RSA_PUBLICKEY_NOT_FOUND: new l(4007, q.ENTITYDATA_REAUTH, "RSA public key not found."), NPTICKET_GRACE_PERIOD_EXCEEDED: new l(4008, q.ENTITYDATA_REAUTH, "Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."), NPTICKET_SERVICE_ID_MISSING: new l(4009, q.ENTITYDATA_REAUTH, "NP-Ticket service ID is missing."), NPTICKET_SERVICE_ID_DISALLOWED: new l(4010, q.ENTITYDATA_REAUTH, "NP-Ticket service ID is not allowed."), NPTICKET_NOT_YET_VALID: new l(4011, q.ENTITYDATA_REAUTH, "NP-Ticket issuance date is in the future."), NPTICKET_EXPIRED: new l(4012, q.ENTITYDATA_REAUTH, "NP-Ticket has expired."), NPTICKET_PRIVATE_KEY_NOT_FOUND: new l(4013, q.ENTITYDATA_REAUTH, "No private key found for NP-Ticket GUID."), NPTICKET_COOKIE_VERIFICATION_FAILED: new l(4014, q.ENTITYDATA_REAUTH, "NP-Ticket cookie signature verification failed."), NPTICKET_INCORRECT_COOKIE_VERSION: new l(4015, q.ENTITYDATA_REAUTH, "Incorrect NP-Ticket cookie version."), NPTICKET_BROKEN: new l(4016, q.ENTITYDATA_REAUTH, "NP-Ticket broken."), NPTICKET_VERIFICATION_FAILED: new l(4017, q.ENTITYDATA_REAUTH, "NP-Ticket signature verification failed."), NPTICKET_ERROR: new l(4018, q.ENTITYDATA_REAUTH, "Unknown NP-Ticket TCM error."), NPTICKET_CIPHER_INFO_NOT_FOUND: new l(4019, q.ENTITYDATA_REAUTH, "No cipher information found for NP-Ticket."), NPTICKET_INVALID_CIPHER_INFO: new l(4020, q.ENTITYDATA_REAUTH, "Cipher information for NP-Ticket is invalid."), NPTICKET_UNSUPPORTED_VERSION: new l(4021, q.ENTITYDATA_REAUTH, "Unsupported NP-Ticket version."), NPTICKET_INCORRECT_KEY_LENGTH: new l(4022, q.ENTITYDATA_REAUTH, "Incorrect NP-Ticket public key length."), UNSUPPORTED_ENTITYAUTH_DATA: new l(4023, q.FAIL, "Unsupported entity authentication data."), CRYPTEX_RSA_KEY_SET_NOT_FOUND: new l(4024, q.FAIL, "Cryptex RSA key set not found."), ENTITY_REVOKED: new l(4025, q.FAIL, "Entity is revoked."), ENTITY_REJECTED_BY_APP: new l(4026, q.ENTITYDATA_REAUTH, "Entity is rejected by the application."), FORCE_LOGIN: new l(5E3, q.USERDATA_REAUTH, "User must login again."), NETFLIXID_COOKIES_EXPIRED: new l(5001, q.USERDATA_REAUTH, "Netflix ID cookie identity has expired."), NETFLIXID_COOKIES_BLANK: new l(5002, q.USERDATA_REAUTH, "Netflix ID or Secure Netflix ID cookie is blank."), UNIDENTIFIED_USERAUTH_SCHEME: new l(5003, q.FAIL, "Unable to identify user authentication scheme."), USERAUTH_FACTORY_NOT_FOUND: new l(5004, q.FAIL, "No factory registered for user authentication scheme."), EMAILPASSWORD_BLANK: new l(5005, q.USERDATA_REAUTH, "Email or password is blank."), AUTHMGR_COMMS_FAILURE: new l(5006, q.TRANSIENT_FAILURE, "Error communicating with authentication manager."), EMAILPASSWORD_INCORRECT: new l(5007, q.USERDATA_REAUTH, "Email or password is incorrect."), UNSUPPORTED_USERAUTH_DATA: new l(5008, q.FAIL, "Unsupported user authentication data."), SSOTOKEN_BLANK: new l(5009, q.SSOTOKEN_REJECTED, "SSO token is blank."), SSOTOKEN_NOT_ASSOCIATED: new l(5010, q.USERDATA_REAUTH, "SSO token is not associated with a Netflix user."), USERAUTH_USERIDTOKEN_INVALID: new l(5011, q.USERDATA_REAUTH, "User authentication data user ID token is invalid."), PROFILEID_BLANK: new l(5012, q.USERDATA_REAUTH, "Profile ID is blank."), UNIDENTIFIED_USERAUTH_MECHANISM: new l(5013, q.FAIL, "Unable to identify user authentication mechanism."), UNSUPPORTED_USERAUTH_MECHANISM: new l(5014, q.FAIL, "Unsupported user authentication mechanism."), SSOTOKEN_INVALID: new l(5015, q.SSOTOKEN_REJECTED, "SSO token invalid."), USERAUTH_MASTERTOKEN_MISSING: new l(5016, q.USERDATA_REAUTH, "User authentication required master token is missing."), ACCTMGR_COMMS_FAILURE: new l(5017, q.TRANSIENT_FAILURE, "Error communicating with the account manager."), SSO_ASSOCIATION_FAILURE: new l(5018, q.TRANSIENT_FAILURE, "SSO user association failed."), SSO_DISASSOCIATION_FAILURE: new l(5019, q.TRANSIENT_FAILURE, "SSO user disassociation failed."), MDX_USERAUTH_VERIFICATION_FAILED: new l(5020, q.USERDATA_REAUTH, "MDX user authentication data verification failed."), USERAUTH_USERIDTOKEN_NOT_DECRYPTED: new l(5021, q.USERDATA_REAUTH, "User authentication data user ID token is not decrypted or verified."), MDX_USERAUTH_ACTION_INVALID: new l(5022, q.USERDATA_REAUTH, "MDX user authentication data action is invalid."), CTICKET_DECRYPT_ERROR: new l(5023, q.USERDATA_REAUTH, "CTicket decryption failed."), USERAUTH_MASTERTOKEN_INVALID: new l(5024, q.USERDATA_REAUTH, "User authentication data master token is invalid."), USERAUTH_MASTERTOKEN_NOT_DECRYPTED: new l(5025, q.USERDATA_REAUTH, "User authentication data master token is not decrypted or verified."), CTICKET_CRYPTOCONTEXT_ERROR: new l(5026, q.USERDATA_REAUTH, "Error creating CTicket crypto context."), MDX_PIN_BLANK: new l(5027, q.USERDATA_REAUTH, "MDX controller or target PIN is blank."), MDX_PIN_MISMATCH: new l(5028, q.USERDATA_REAUTH, "MDX controller and target PIN mismatch."), MDX_USER_UNKNOWN: new l(5029, q.USERDATA_REAUTH, "MDX controller user ID token or CTicket is not decrypted or verified."), USERAUTH_USERIDTOKEN_MISSING: new l(5030, q.USERDATA_REAUTH, "User authentication required user ID token is missing."), MDX_CONTROLLERDATA_INVALID: new l(5031, q.USERDATA_REAUTH, "MDX controller authentication data is invalid."), USERAUTH_ENTITY_MISMATCH: new l(5032, q.USERDATA_REAUTH, "User authentication data does not match entity identity."), USERAUTH_INCORRECT_DATA: new l(5033, q.FAIL, "Entity used incorrect key request data type"), SSO_ASSOCIATION_WITH_NONMEMBER: new l(5034, q.USERDATA_REAUTH, "SSO user association failed because the customer is not a member."), SSO_ASSOCIATION_WITH_FORMERMEMBER: new l(5035, q.USERDATA_REAUTH, "SSO user association failed because the customer is a former member."), SSO_ASSOCIATION_CONFLICT: new l(5036, q.USERDATA_REAUTH, "SSO user association failed because the token identifies a different member."), USER_REJECTED_BY_APP: new l(5037, q.USERDATA_REAUTH, "User is rejected by the application."), PROFILE_SWITCH_DISALLOWED: new l(5038, q.TRANSIENT_FAILURE, "Unable to switch user profile."), MEMBERSHIPCLIENT_COMMS_FAILURE: new l(5039, q.TRANSIENT_FAILURE, "Error communicating with the membership manager."), USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY: new l(5040, q.USER_REAUTH, "The entity is not associated with the user."), UNSUPPORTED_COMPRESSION: new l(6E3, q.FAIL, "Unsupported compression algorithm."), COMPRESSION_ERROR: new l(6001, q.FAIL, "Error compressing data."), UNCOMPRESSION_ERROR: new l(6002, q.FAIL, "Error uncompressing data."), MESSAGE_ENTITY_NOT_FOUND: new l(6003, q.FAIL, "Message header entity authentication data or master token not found."), PAYLOAD_MESSAGE_ID_MISMATCH: new l(6004, q.FAIL, "Payload chunk message ID does not match header message ID ."), PAYLOAD_SEQUENCE_NUMBER_MISMATCH: new l(6005, q.FAIL, "Payload chunk sequence number does not match expected sequence number."), PAYLOAD_VERIFICATION_FAILED: new l(6006, q.FAIL, "Payload chunk payload signature verification failed."), MESSAGE_DATA_MISSING: new l(6007, q.FAIL, "No message data found."), MESSAGE_FORMAT_ERROR: new l(6008, q.FAIL, "Malformed message data."), MESSAGE_VERIFICATION_FAILED: new l(6009, q.FAIL, "Message header/error data signature verification failed."), HEADER_DATA_MISSING: new l(6010, q.FAIL, "No header data found."), PAYLOAD_DATA_MISSING: new l(6011, q.FAIL, "No payload data found in non-EOM payload chunk."), PAYLOAD_DATA_CORRUPT: new l(6012, q.FAIL, "Corrupt payload data found in non-EOM payload chunk."), UNIDENTIFIED_COMPRESSION: new l(6013, q.FAIL, "Unidentified compression algorithm."), MESSAGE_EXPIRED: new l(6014, q.EXPIRED, "Message expired and not renewable. Rejected."), MESSAGE_ID_OUT_OF_RANGE: new l(6015, q.FAIL, "Message ID is out of range."), INTERNAL_CODE_NEGATIVE: new l(6016, q.FAIL, "Error header internal code is negative."), UNEXPECTED_RESPONSE_MESSAGE_ID: new l(6017, q.FAIL, "Unexpected response message ID. Possible replay."), RESPONSE_REQUIRES_ENCRYPTION: new l(6018, q.KEYX_REQUIRED, "Message response requires encryption."), PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE: new l(6019, q.FAIL, "Payload chunk sequence number is out of range."), PAYLOAD_MESSAGE_ID_OUT_OF_RANGE: new l(6020, q.FAIL, "Payload chunk message ID is out of range."), MESSAGE_REPLAYED: new l(6021, q.REPLAYED, "Non-replayable message replayed."), INCOMPLETE_NONREPLAYABLE_MESSAGE: new l(6022, q.FAIL, "Non-replayable message sent non-renewable or without key request data or without a master token."), HEADER_SIGNATURE_INVALID: new l(6023, q.FAIL, "Invalid Header signature."), HEADER_DATA_INVALID: new l(6024, q.FAIL, "Invalid header data."), PAYLOAD_INVALID: new l(6025, q.FAIL, "Invalid payload."), PAYLOAD_SIGNATURE_INVALID: new l(6026, q.FAIL, "Invalid payload signature."), RESPONSE_REQUIRES_MASTERTOKEN: new l(6027, q.KEYX_REQUIRED, "Message response requires a master token."), RESPONSE_REQUIRES_USERIDTOKEN: new l(6028, q.USER_REAUTH, "Message response requires a user ID token."), REQUEST_REQUIRES_USERAUTHDATA: new l(6029, q.FAIL, "User-associated message requires user authentication data."), UNEXPECTED_MESSAGE_SENDER: new l(6030, q.FAIL, "Message sender is equal to the local entity or not the master token entity."), NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN: new l(6031, q.FAIL, "Non-replayable message requires a master token."), NONREPLAYABLE_ID_OUT_OF_RANGE: new l(6032, q.FAIL, "Non-replayable message non-replayable ID is out of range."), MESSAGE_SERVICETOKEN_MISMATCH: new l(6033, q.FAIL, "Service token master token or user ID token serial number does not match the message token serial numbers."), MESSAGE_PEER_SERVICETOKEN_MISMATCH: new l(6034, q.FAIL, "Peer service token master token or user ID token serial number does not match the message peer token serial numbers."), RESPONSE_REQUIRES_INTEGRITY_PROTECTION: new l(6035, q.KEYX_REQUIRED, "Message response requires integrity protection."), HANDSHAKE_DATA_MISSING: new l(6036, q.FAIL, "Handshake message is not renewable or does not contain key request data."), MESSAGE_RECIPIENT_MISMATCH: new l(6037, q.FAIL, "Message recipient does not match local identity."), UNIDENTIFIED_KEYX_SCHEME: new l(7E3, q.FAIL, "Unable to identify key exchange scheme."), KEYX_FACTORY_NOT_FOUND: new l(7001, q.FAIL, "No factory registered for key exchange scheme."), KEYX_REQUEST_NOT_FOUND: new l(7002, q.FAIL, "No key request found matching header key response data."), UNIDENTIFIED_KEYX_KEY_ID: new l(7003, q.FAIL, "Unable to identify key exchange key ID."), UNSUPPORTED_KEYX_KEY_ID: new l(7004, q.FAIL, "Unsupported key exchange key ID."), UNIDENTIFIED_KEYX_MECHANISM: new l(7005, q.FAIL, "Unable to identify key exchange mechanism."), UNSUPPORTED_KEYX_MECHANISM: new l(7006, q.FAIL, "Unsupported key exchange mechanism."), KEYX_RESPONSE_REQUEST_MISMATCH: new l(7007, q.FAIL, "Key exchange response does not match request."), KEYX_PRIVATE_KEY_MISSING: new l(7008, q.FAIL, "Key exchange private key missing."), UNKNOWN_KEYX_PARAMETERS_ID: new l(7009, q.FAIL, "Key exchange parameters ID unknown or invalid."), KEYX_MASTER_TOKEN_MISSING: new l(7010, q.FAIL, "Master token required for key exchange is missing."), KEYX_INVALID_PUBLIC_KEY: new l(7011, q.FAIL, "Key exchange public key is invalid."), KEYX_PUBLIC_KEY_MISSING: new l(7012, q.FAIL, "Key exchange public key missing."), KEYX_WRAPPING_KEY_MISSING: new l(7013, q.FAIL, "Key exchange wrapping key missing."), KEYX_WRAPPING_KEY_ID_MISSING: new l(7014, q.FAIL, "Key exchange wrapping key ID missing."), KEYX_INVALID_WRAPPING_KEY: new l(7015, q.FAIL, "Key exchange wrapping key is invalid."), KEYX_INCORRECT_DATA: new l(7016, q.FAIL, "Entity used incorrect wrapping key data type"), CRYPTEX_ENCRYPTION_ERROR: new l(8E3, q.FAIL, "Error encrypting data with cryptex."), CRYPTEX_DECRYPTION_ERROR: new l(8001, q.FAIL, "Error decrypting data with cryptex."), CRYPTEX_MAC_ERROR: new l(8002, q.FAIL, "Error computing MAC with cryptex."), CRYPTEX_VERIFY_ERROR: new l(8003, q.FAIL, "Error verifying MAC with cryptex."), CRYPTEX_CONTEXT_CREATION_FAILURE: new l(8004, q.FAIL, "Error creating cryptex cipher or MAC context."), DATAMODEL_DEVICE_ACCESS_ERROR: new l(8005, q.TRANSIENT_FAILURE, "Error accessing data model device."), DATAMODEL_DEVICETYPE_NOT_FOUND: new l(8006, q.FAIL, "Data model device type not found."), CRYPTEX_KEYSET_UNSUPPORTED: new l(8007, q.FAIL, "Cryptex key set not supported."), CRYPTEX_PRIVILEGE_EXCEPTION: new l(8008, q.FAIL, "Insufficient privileges for cryptex operation."), CRYPTEX_WRAP_ERROR: new l(8009, q.FAIL, "Error wrapping data with cryptex."), CRYPTEX_UNWRAP_ERROR: new l(8010, q.FAIL, "Error unwrapping data with cryptex."), CRYPTEX_COMMS_FAILURE: new l(8011, q.TRANSIENT_FAILURE, "Error comunicating with cryptex."), CRYPTEX_SIGN_ERROR: new l(8012, q.FAIL, "Error computing signature with cryptex."), INTERNAL_EXCEPTION: new l(9E3, q.TRANSIENT_FAILURE, "Internal exception."), MSL_COMMS_FAILURE: new l(9001, q.FAIL, "Error communicating with MSL entity."), NONE: new l(9999, q.FAIL, "Special unit test error.")}); Object.freeze(l); (function() {A = ga.Class.create(Error()); A.mixin({init: function(l, m, q) {var D, S, aa; function t() {return S ? S : this.cause && this.cause instanceof A ? this.cause.messageId : da;} Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); D = l.message; m && (D += " [" + m + "]"); aa = this.stack; Object.defineProperties(this, {message: {value: D, writable: !1, configurable: !0}, error: {value: l, writable: !1, configurable: !0}, cause: {value: q, writable: !1, configurable: !0}, name: {value: "MslException", writable: !1, configurable: !0}, masterToken: {value: null, writable: !0, configurable: !1}, entityAuthenticationData: {value: null, writable: !0, configurable: !1}, userIdToken: {value: null, writable: !0, configurable: !1}, userAuthenticationData: {value: null, writable: !0, configurable: !1}, messageId: {get: t, set: function(l) {if(0 > l || l > ta) throw new RangeError("Message ID " + l + " is outside the valid range."); t() || (S = l);}, configurable: !0}, stack: {get: function() {var l; l = this.toString(); aa && (l += "\n" + aa); q && q.stack && (l += "\nCaused by " + q.stack); return l;}, configurable: !0}});}, setEntity: function(l) {!l || this.masterToken || this.entityAuthenticationData || (l instanceof gb ? this.masterToken = l : l instanceof Kb && (this.entityAuthenticationData = l)); return this;}, setUser: function(l) {!l || this.userIdToken || this.userAuthenticationData || (l instanceof Yb ? this.userIdToken = l : l instanceof Bb && (this.userAuthenticationData = l)); return this;}, setMessageId: function(l) {this.messageId = l; return this;}, toString: function() {return this.name + ": " + this.message;}});}()); S = A.extend({init: function fc(l, m, q) {fc.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslCryptoException", writable: !1, configurable: !0}});}}); Z = A.extend({init: function Ub(l, m, q) {Ub.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslEncodingException", writable: !1, configurable: !0}});}}); vb = A.extend({init: function Sa(l, m, q) {Sa.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslEntityAuthException", writable: !1, configurable: !0}});}}); (function() {$a = ga.Class.create(Error()); $a.mixin({init: function(l, m, q) {var t; Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); t = this.stack; Object.defineProperties(this, {message: {value: l, writable: !1, configurable: !1}, cause: {value: m, writable: !1, configurable: !1}, requestCause: {value: q, writable: !1, configurable: !1}, name: {value: "MslErrorResponseException", writable: !1, configurable: !0}, stack: {get: function() {var l; l = this.toString(); t && (l += "\n" + t); m && m.stack && (l += "\nCaused by " + m.stack); return l;}, configurable: !0}});}, toString: function() {return this.name + ": " + this.message;}});}()); (function() {Ta = ga.Class.create(Error()); Ta.mixin({init: function(l, m) {var q; Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); q = this.stack; Object.defineProperties(this, {message: {value: l, writable: !1, configurable: !1}, cause: {value: m, writable: !1, configurable: !1}, name: {value: "MslIoException", writable: !1, configurable: !0}, stack: {get: function() {var l; l = this.toString(); q && (l += "\n" + q); m && m.stack && (l += "\nCaused by " + m.stack); return l;}, configurable: !0}});}, toString: function() {return this.name + ": " + this.message;}});}()); (function() {aa = ga.Class.create(Error()); aa.mixin({init: function(l, m) {var q; Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); q = this.stack; Object.defineProperties(this, {message: {value: l, writable: !1, configurable: !1}, cause: {value: m, writable: !1, configurable: !1}, name: {value: "MslInternalException", writable: !1, configurable: !0}, stack: {get: function() {var l; l = this.toString(); q && (l += "\n" + q); m && m.stack && (l += "\nCaused by " + m.stack); return l;}, configurable: !0}});}, toString: function() {return this.name + ": " + this.message;}});}()); (function() {Ya = ga.Class.create(Error()); Ya.mixin({init: function(l, m) {var q; Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); q = this.stack; Object.defineProperties(this, {message: {value: l, writable: !1, configurable: !1}, cause: {value: m, writable: !1, configurable: !1}, name: {value: "MslInterruptedException", writable: !1, configurable: !0}, stack: {get: function() {var l; l = this.toString(); q && (l += "\n" + q); m && m.stack && (l += "\nCaused by " + m.stack); return l;}, configurable: !0}});}, toString: function() {return this.name + ": " + this.message;}});}()); Fa = A.extend({init: function Vb(l, m, q) {Vb.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslKeyExchangeException", writable: !1, configurable: !0}});}}); Lb = A.extend({init: function Pc(l, m) {Pc.base.call(this, l); Object.defineProperties(this, {masterToken: {value: m, writable: !1, configurable: !1}, name: {value: "MslMasterTokenException", writable: !1, configurable: !0}});}}); ua = A.extend({init: function Da(l, m, q) {Da.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslMessageException", writable: !1, configurable: !0}});}}); ra = A.extend({init: function T(l, m, q) {T.base.call(this, l, m, q); Object.defineProperties(this, {name: {value: "MslUserAuthException", writable: !1, configurable: !0}});}}); (function() {var K; function l(l) {return "undefined" === typeof l ? !1 : l;} function m(l) {return l && l.length ? (ab === K.V2014_02 && (l = l.map(function(l) {return "wrap" == l ? "wrapKey" : "unwrap" == l ? "unwrapKey" : l;})), l) : ab === K.V2014_02 ? "encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" ") : "encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");} function q(l, m, q, Q, L) {return Promise.resolve().then(function() {return Ba.importKey(l, m, q, Q, L);})["catch"](function(E) {var H; if("spki" !== l && "pkcs8" !== l) throw E; E = ASN1.webCryptoAlgorithmToJwkAlg(q); H = ASN1.webCryptoUsageToJwkKeyOps(L); E = ASN1.rsaDerToJwk(m, E, H, Q); if(!E) throw Error("Could not make valid JWK from DER input"); E = JSON.stringify(E); return Ba.importKey("jwk", Oc(E), q, Q, L);});} function A(l, m) {return Promise.resolve().then(function() {return Ba.exportKey(l, m);})["catch"](function(H) {if("spki" !== l && "pkcs8" !== l) throw H; return Ba.exportKey("jwk", m).then(function(l) {l = JSON.parse(Nc(new Uint8Array(l))); l = ASN1.jwkToRsaDer(l); if(!l) throw Error("Could not make valid DER from JWK input"); return l.getDer().buffer;});});} K = vc = {LEGACY: 1, V2014_01: 2, V2014_02: 3, LATEST: 3}; Object.freeze(vc); ab = K.LATEST; ya = {encrypt: function(l, m, q) {switch(ab) {case K.LEGACY: return new Promise(function(H, I) {var E; E = Ba.encrypt(l, m, q); E.oncomplete = function(l) {H(l.target.result);}; E.onerror = function(l) {I(l);};}); case K.V2014_01: case K.V2014_02: return Ba.encrypt(l, m, q).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, decrypt: function(l, m, q) {switch(ab) {case K.LEGACY: return new Promise(function(H, I) {var E; E = Ba.decrypt(l, m, q); E.oncomplete = function(l) {H(l.target.result);}; E.onerror = function(l) {I(l);};}); case K.V2014_01: case K.V2014_02: return Ba.decrypt(l, m, q).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, sign: function(l, m, q) {switch(ab) {case K.LEGACY: return new Promise(function(H, I) {var E; E = Ba.sign(l, m, q); E.oncomplete = function(l) {H(l.target.result);}; E.onerror = function(l) {I(l);};}); case K.V2014_01: case K.V2014_02: return Ba.sign(l, m, q).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, verify: function(l, m, q, Q) {switch(ab) {case K.LEGACY: return new Promise(function(H, E) {var J; J = Ba.verify(l, m, q, Q); J.oncomplete = function(l) {H(l.target.result);}; J.onerror = function(l) {E(l);};}); case K.V2014_01: case K.V2014_02: return Ba.verify(l, m, q, Q); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, digest: function(l, m) {switch(ab) {case K.LEGACY: return new Promise(function(q, H) {var I; I = Ba.digest(l, m); I.oncomplete = function(l) {q(l.target.result);}; I.onerror = function(l) {H(l);};}); case K.V2014_01: case K.V2014_02: return Ba.digest(l, m).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, generateKey: function(q, H, I) {var R, L; R = l(H); L = m(I); switch(ab) {case K.LEGACY: return new Promise(function(l, m) {var E; E = Ba.generateKey(q, R, L); E.oncomplete = function(m) {l(m.target.result);}; E.onerror = function(l) {m(l);};}); case K.V2014_01: case K.V2014_02: return Ba.generateKey(q, R, L); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, deriveKey: function(q, H, I, Q, L) {var E, J; E = l(Q); J = m(L); switch(ab) {case K.LEGACY: return new Promise(function(l, m) {var L; L = Ba.deriveKey(q, H, I, E, J); L.oncomplete = function(m) {l(m.target.result);}; L.onerror = function(l) {m(l);};}); case K.V2014_01: case K.V2014_02: return Ba.deriveKey(q, H, I, E, J); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, importKey: function(R, H, I, Q, L) {var E, J; E = l(Q); J = m(L); switch(ab) {case K.LEGACY: return new Promise(function(l, m) {var q; q = Ba.importKey(R, H, I, E, J); q.oncomplete = function(m) {l(m.target.result);}; q.onerror = function(l) {m(l);};}); case K.V2014_01: case K.V2014_02: return q(R, H, I, E, J); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, exportKey: function(l, m) {switch(ab) {case K.LEGACY: return new Promise(function(q, H) {var I; I = Ba.exportKey(l, m); I.oncomplete = function(l) {q(l.target.result);}; I.onerror = function(l) {H(l);};}); case K.V2014_01: case K.V2014_02: return A(l, m).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, wrapKey: function(l, m, q, Q) {switch(ab) {case K.LEGACY: return new Promise(function(l, E) {var H; H = Ba.wrapKey(m, q, Q); H.oncomplete = function(m) {l(m.target.result);}; H.onerror = function(l) {E(l);};}); case K.V2014_01: case K.V2014_02: return Ba.wrapKey(l, m, q, Q).then(function(l) {return new Uint8Array(l);}); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}, unwrapKey: function(q, H, I, Q, L, E, J) {switch(ab) {case K.LEGACY: return new Promise(function(l, m) {var E; E = Ba.unwrapKey(H, L, I); E.oncomplete = function(m) {l(m.target.result);}; E.onerror = function(l) {m(l);};}); case K.V2014_01: case K.V2014_02: return Ba.unwrapKey(q, H, I, Q, L, l(E), m(J)); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}}; tc && tc.getKeyByName && (ya.getKeyByName = function(l) {switch(ab) {case K.LEGACY: return new Promise(function(m, q) {var H; H = tc.getKeyByName(l); H.oncomplete = function(l) {m(l.target.result);}; H.onerror = function(l) {q(l);};}); case K.V2014_01: case K.V2014_02: return tc.getKeyByName(l); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}); t.netflix = t.netflix || {}; t.netflix.crypto = ya;}()); bb = {name: "AES-KW"}; mb = {name: "AES-CBC"}; fb = {name: "HMAC", hash: {name: "SHA-256"}}; wc = {name: "RSA-OAEP", hash: {name: "SHA-1"}}; Yc = {name: "RSAES-PKCS1-v1_5"}; Od = {name: "RSASSA-PKCS1-v1_5", hash: {name: "SHA-256"}}; Cb = ["encrypt", "decrypt"]; Db = ["wrap", "unwrap"]; Mb = ["sign", "verify"]; (function() {Zc = ga.Class.create({init: function(q, t, A) {var K; function T(l) {m(t, function() {var m; m = l ? ia(l) : da; Object.defineProperties(K, {rawKey: {value: q, writable: !1, configurable: !1}, keyData: {value: l, writable: !1, configurable: !1}, keyDataB64: {value: m, writable: !1, configurable: !1}}); return this;}, K);} K = this; m(t, function() {if(!q || "object" != typeof q) throw new S(l.INVALID_SYMMETRIC_KEY); !A && q.extractable ? ya.exportKey("raw", q).then(function(l) {T(new Uint8Array(l));}, function(m) {t.error(new S(l.KEY_EXPORT_ERROR, "raw"));}) : T(A);}, K);}, size: function() {return this.keyData.length;}, toByteArray: function() {return this.keyData;}, toBase64: function() {return this.keyDataB64;}}); Wb = function(l, m) {new Zc(l, m);}; wb = function(q, t, A, D) {m(D, function() {try {q = "string" == typeof q ? na(q) : q;} catch(K) {throw new S(l.INVALID_SYMMETRIC_KEY, "keydata " + q, K);} ya.importKey("raw", q, t, !0, A).then(function(l) {new Zc(l, D, q);}, function(m) {D.error(new S(l.INVALID_SYMMETRIC_KEY));});});};}()); (function() {xc = ga.Class.create({init: function(q, t, A) {var K; function T(l) {m(t, function() {Object.defineProperties(K, {rawKey: {value: q, writable: !1, configurable: !1}, encoded: {value: l, writable: !1, configurable: !1}}); return this;}, K);} K = this; m(t, function() {if(!q || "object" != typeof q || "public" != q.type) throw new TypeError("Only original public crypto keys are supported."); !A && q.extractable ? ya.exportKey("spki", q).then(function(l) {T(new Uint8Array(l));}, function(m) {t.error(new S(l.KEY_EXPORT_ERROR, "spki"));}) : T(A);});}, getEncoded: function() {return this.encoded;}}); Ib = function(l, m) {new xc(l, m);}; $c = function(q, t, A, D) {m(D, function() {try {q = "string" == typeof q ? na(q) : q;} catch(K) {throw new S(l.INVALID_PUBLIC_KEY, "spki " + q, K);} ya.importKey("spki", q, t, !0, A).then(function(l) {new xc(l, D, q);}, function(m) {D.error(new S(l.INVALID_PUBLIC_KEY));});});};}()); (function() {Pd = ga.Class.create({init: function(q, t, A) {var K; function T(l) {m(t, function() {Object.defineProperties(K, {rawKey: {value: q, writable: !1, configurable: !1}, encoded: {value: l, writable: !1, configurable: !1}}); return this;}, K);} K = this; m(t, function() {if(!q || "object" != typeof q || "private" != q.type) throw new TypeError("Only original private crypto keys are supported."); !A && q.extractable ? ya.exportKey("pkcs8", q).then(function(l) {T(new Uint8Array(l));}, function(m) {t.error(new S(l.KEY_EXPORT_ERROR, "pkcs8"));}) : T(A);});}, getEncoded: function() {return this.encoded;}}); Xb = function(l, m) {new Pd(l, m);};}()); (function() {var q; q = dd = {V1: 1, V2: 2}; ad = ga.Class.create({init: function(l, t, A, K) {m(K, function() {var m, H, I, Q; m = q.V1; H = l; I = null; for(Q in uc) if(uc[Q] == l) {m = q.V2; H = null; I = l; break;} Object.defineProperties(this, {version: {value: m, writable: !1, enumerable: !1, configurable: !1}, keyId: {value: H, writable: !1, configurable: !1}, cipherSpec: {value: I, writable: !1, configurable: !1}, iv: {value: t, writable: !1, configurable: !1}, ciphertext: {value: A, writable: !1, configurable: !1}}); return this;}, this);}, toJSON: function() {var l; l = {}; switch(this.version) {case q.V1: l.keyid = this.keyId; this.iv && (l.iv = ia(this.iv)); l.ciphertext = ia(this.ciphertext); l.sha256 = "AA=="; break; case q.V2: l.version = this.version; l.cipherspec = this.cipherSpec; this.iv && (l.iv = ia(this.iv)); l.ciphertext = ia(this.ciphertext); break; default: throw new aa("Ciphertext envelope version " + this.version + " encoding unsupported.");}return l;}}); bd = function(l, m, q, K) {new ad(l, m, q, K);}; cd = function(t, A, T) {m(T, function() {var m, R, H, I, Q, L, E; m = t.keyid; R = t.cipherspec; H = t.iv; I = t.ciphertext; Q = t.sha256; if(!A) if((A = t.version) && "number" === typeof A && A === A) {L = !1; for(E in q) if(q[E] == A) {L = !0; break;} if(!L) throw new S(l.UNIDENTIFIED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " + JSON.stringify(t));} else A = q.V1; switch(A) {case q.V1: if("string" !== typeof m || H && "string" !== typeof H || "string" !== typeof I || "string" !== typeof Q) throw new Z(l.JSON_PARSE_ERROR, "ciphertext envelope " + JSON.stringify(t)); break; case q.V2: E = t.version; if(E != q.V2) throw new S(l.UNIDENTIFIED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " + JSON.stringify(t)); if("string" !== typeof R || H && "string" !== typeof H || "string" !== typeof I) throw new Z(l.JSON_PARSE_ERROR, "ciphertext envelope " + JSON.stringify(t)); R = Ld(R); if(!R) throw new S(l.UNIDENTIFIED_CIPHERSPEC, "ciphertext envelope " + JSON.stringify(t)); m = R; break; default: throw new S(l.UNSUPPORTED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " + JSON.stringify(t));}try {H && (H = na(H)); I = na(I);} catch(J) {throw new S(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR, "encryption envelope " + JSON.stringify(t), J);} new ad(m, H, I, T);});};}()); (function() {var q; q = gd = {V1: 1, V2: 2}; jb = ga.Class.create({init: function(l, m, t) {var K; switch(l) {case q.V1: K = t; break; case q.V2: K = {}; K.version = l; K.algorithm = m; K.signature = ia(t); K = Na(JSON.stringify(K), xa); break; default: throw new aa("Signature envelope version " + l + " encoding unsupported.");}Object.defineProperties(this, {version: {value: l, writable: !1, enumerable: !1, configurable: !1}, algorithm: {value: m, writable: !1, configurable: !1}, signature: {value: t, writable: !1, configurable: !1}, bytes: {value: K, writable: !1, configurable: !1}});}}); ed = function() {var l, t, A, K; 2 == arguments.length ? (l = q.V1, t = arguments[0], A = null, K = arguments[1]) : 3 == arguments.length && (l = q.V2, A = arguments[0], t = arguments[1], K = arguments[2]); m(K, function() {return new jb(l, A, t);});}; fd = function(t, A, D) {m(D, function() {var m, R, H, I, Q, L, E; if(A) switch(A) {case q.V1: return new jb(q.V1, null, t); case q.V2: try {m = Ma(t, xa); R = JSON.parse(m); H = parseInt(R.version); I = R.algorithm; Q = R.signature; if(!H || "number" !== typeof H || H != H || "string" !== typeof I || "string" !== typeof Q) throw new Z(l.JSON_PARSE_ERROR, "signature envelope " + ia(t)); if(q.V2 != H) throw new S(l.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + ia(t)); L = Wc(I); if(!L) throw new S(l.UNIDENTIFIED_ALGORITHM, "signature envelope " + ia(t)); E = na(Q); if(!E) throw new S(l.INVALID_SIGNATURE, "signature envelope " + Base64Util.encode(t)); return new jb(q.V2, L, E);} catch(J) {if(J instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "signature envelope " + ia(t), J); throw J;} default: throw new S(l.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + ia(t));}try {m = Ma(t, xa); R = JSON.parse(m);} catch(J) {R = null;} if(R && R.version) {if(m = R.version, "number" !== typeof m || m !== m) m = q.V1;} else m = q.V1; switch(m) {case q.V1: return new jb(m, null, t); case q.V2: L = R.algorithm; Q = R.signature; if("string" !== typeof L || "string" !== typeof Q) return new jb(q.V1, null, t); L = Wc(L); if(!L) return new jb(q.V1, null, t); try {E = na(Q);} catch(J) {return new jb(q.V1, null, t);} return new jb(m, L, E); default: throw new S(l.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + t);}});};}()); Zb = ga.Class.create({encrypt: function(l, m) {}, decrypt: function(l, m) {}, wrap: function(l, m) {}, unwrap: function(l, m, q, t) {}, sign: function(l, m) {}, verify: function(l, m, q) {}}); (function() {var q; q = kb = {RSA_OAEP: wc.name, A128KW: bb.name}; pb = "A128GCM"; qb = ga.Class.create({init: function(l, m, t, K, R) {switch(m) {case q.RSA_OAEP: R = R && (R.rawKey || R); K = K && (K.rawKey || K); break; case q.A128KW: R = K = K && (K.rawKey || K); break; default: throw new aa("Unsupported algorithm: " + m);}Object.defineProperties(this, {_ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, _algo: {value: m, writable: !1, enumerable: !1, configurable: !1}, _enc: {value: t, writable: !1, enumerable: !1, configurable: !1}, _wrapKey: {value: R, writable: !1, enumerable: !1, configurable: !1}, _unwrapKey: {value: K, writable: !1, enumerable: !1, configurable: !1}});}, encrypt: function(m, q) {q.error(new S(l.ENCRYPT_NOT_SUPPORTED));}, decrypt: function(m, q) {q.error(new S(l.DECRYPT_NOT_SUPPORTED));}, wrap: function(q, t) {m(t, function() {ya.wrapKey("jwe+jwk", q.rawKey, this._wrapKey, this._wrapKey.algorithm).then(function(l) {t.result(l);}, function(m) {t.error(new S(l.WRAP_ERROR));});}, this);}, unwrap: function(q, t, A, K) {function R(q) {m(K, function() {switch(q.type) {case "secret": Wb(q, K); break; case "public": Ib(q, K); break; case "private": Xb(q, K); break; default: throw new S(l.UNSUPPORTED_KEY, "type: " + q.type);}});} m(K, function() {ya.unwrapKey("jwe+jwk", q, this._unwrapKey, this._unwrapKey.algorithm, t, !1, A).then(function(l) {R(l);}, function() {K.error(new S(l.UNWRAP_ERROR));});}, this);}, sign: function(m, q) {q.error(new S(l.SIGN_NOT_SUPPORTED));}, verify: function(m, q, t) {t.error(new S(l.VERIFY_NOT_SUPPORTED));}});}()); $b = Zb.extend({encrypt: function(l, m) {m.result(l);}, decrypt: function(l, m) {m.result(l);}, wrap: function(l, m) {m.result(l);}, unwrap: function(l, m, q, t) {t.result(l);}, sign: function(l, m) {m.result(new Uint8Array(0));}, verify: function(l, m, q) {q.result(!0);}}); (function() {var q; q = zc = {ENCRYPT_DECRYPT_OAEP: 1, ENCRYPT_DECRYPT_PKCS1: 2, WRAP_UNWRAP_OAEP: 3, WRAP_UNWRAP_PKCS1: 4, SIGN_VERIFY: 5}; yc = Zb.extend({init: function za(l, m, R, H, I) {za.base.call(this); R && (R = R.rawKey); H && (H = H.rawKey); Object.defineProperties(this, {id: {value: m, writable: !1, enumerable: !1, configurable: !1}, privateKey: {value: R, writable: !1, enumerable: !1, configurable: !1}, publicKey: {value: H, writable: !1, enumerable: !1, configurable: !1}, transform: {value: I == q.ENCRYPT_DECRYPT_PKCS1 ? Yc : I == q.ENCRYPT_DECRYPT_OAEP ? wc : "nullOp", writable: !1, enumerable: !1, configurable: !1}, wrapTransform: {value: I == q.WRAP_UNWRAP_PKCS1 ? Yc : I == q.WRAP_UNWRAP_OAEP ? wc : "nullOp", writable: !1, enumerable: !1, configurable: !1}, algo: {value: I == q.SIGN_VERIFY ? Od : "nullOp", writable: !1, enumerable: !1, configurable: !1}});}, encrypt: function(q, t) {var K; K = this; m(t, function() {if("nullOp" == this.transform) return q; if(!this.publicKey) throw new S(l.ENCRYPT_NOT_SUPPORTED, "no public key"); if(0 == q.length) return q; ya.encrypt(K.transform, K.publicKey, q).then(function(m) {bd(K.id, null, m, {result: function(m) {var q; try {q = JSON.stringify(m); t.result(Na(q, xa));} catch(Q) {t.error(new S(l.ENCRYPT_ERROR, null, Q));} }, error: function(m) {m instanceof A || (m = new S(l.ENCRYPT_ERROR, null, m)); t.error(m);}});}, function(m) {t.error(new S(l.ENCRYPT_ERROR));});}, this);}, decrypt: function(q, t) {var K; K = this; m(t, function() {var m, H; if("nullOp" == this.transform) return q; if(!this.privateKey) throw new S(l.DECRYPT_NOT_SUPPORTED, "no private key"); if(0 == q.length) return q; try {H = Ma(q, xa); m = JSON.parse(H);} catch(I) {if(I instanceof SyntaxError) throw new S(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR, null, I); throw new S(l.DECRYPT_ERROR, null, I);} cd(m, dd.V1, {result: function(m) {var q; try {if(m.keyId != K.id) throw new S(l.ENVELOPE_KEY_ID_MISMATCH); q = t.result; ya.decrypt(K.transform, K.privateKey, m.ciphertext).then(q, function(m) {t.error(new S(l.DECRYPT_ERROR));});} catch(L) {L instanceof A ? t.error(L) : t.error(new S(l.DECRYPT_ERROR, null, L));} }, error: function(m) {m instanceof Z && (m = new S(l.CIPHERTEXT_ENVELOPE_ENCODE_ERROR, null, m)); m instanceof A || (m = new S(l.DECRYPT_ERROR, null, m)); t.error(m);}});}, this);}, wrap: function(q, t) {m(t, function() {var m; if("nullOp" == this.wrapTransform || !this.publicKey) throw new S(l.WRAP_NOT_SUPPORTED, "no public key"); m = t.result; ya.wrapKey("jwk", q.rawKey, this.publicKey, this.wrapTransform).then(m, function(m) {t.error(new S(l.WRAP_ERROR));});}, this);}, unwrap: function(q, t, K, R) {function H(q) {m(R, function() {switch(q.type) {case "secret": Wb(q, R); break; case "public": Ib(q, R); break; case "private": Xb(q, R); break; default: throw new S(l.UNSUPPORTED_KEY, "type: " + q.type);}});} m(R, function() {if("nullOp" == this.wrapTransform || !this.privateKey) throw new S(l.UNWRAP_NOT_SUPPORTED, "no private key"); ya.unwrapKey("jwk", q, this.privateKey, {name: this.privateKey.algorithm.name, hash: {name: "SHA-1"}}, t, !1, K).then(H, function(m) {R.error(new S(l.UNWRAP_ERROR));});}, this);}, sign: function(q, t) {m(t, function() {if("nullOp" == this.algo) return new Uint8Array(0); if(!this.privateKey) throw new S(l.SIGN_NOT_SUPPORTED, "no private key"); ya.sign(this.algo, this.privateKey, q).then(function(l) {ed(l, {result: function(l) {t.result(l.bytes);}, error: t.error});}, function(m) {t.error(new S(l.SIGNATURE_ERROR));});}, this);}, verify: function(q, t, K) {var R; R = this; m(K, function() {if("nullOp" == this.algo) return !0; if(!this.publicKey) throw new S(l.VERIFY_NOT_SUPPORTED, "no public key"); fd(t, gd.V1, {result: function(H) {m(K, function() {var m; m = K.result; ya.verify(this.algo, this.publicKey, H.signature, q).then(m, function(m) {K.error(new S(l.SIGNATURE_ERROR));});}, R);}, error: K.error});}, this);}});}()); (function() {Ac = Zb.extend({init: function Qa(l, m, q, R, H) {Qa.base.call(this); q = q && q.rawKey; R = R && R.rawKey; H = H && H.rawKey; Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, id: {value: m, writable: !1, enumerable: !1, configurable: !1}, encryptionKey: {value: q, writable: !1, enumerable: !1, configurable: !1}, hmacKey: {value: R, writable: !1, enumerable: !1, configurable: !1}, wrapKey: {value: H, writable: !1, enumerable: !1, configurable: !1}});}, encrypt: function(q, t) {var D; D = this; m(t, function() {var m; if(!this.encryptionKey) throw new S(l.ENCRYPT_NOT_SUPPORTED, "no encryption/decryption key"); if(0 == q.length) return q; m = new Uint8Array(16); this.ctx.getRandom().nextBytes(m); ya.encrypt({name: mb.name, iv: m}, D.encryptionKey, q).then(function(q) {q = new Uint8Array(q); bd(D.id, m, q, {result: function(m) {var q; try {q = JSON.stringify(m); t.result(Na(q, xa));} catch(Q) {t.error(new S(l.ENCRYPT_ERROR, null, Q));} }, error: function(m) {m instanceof A || (m = new S(l.ENCRYPT_ERROR, null, m)); t.error(m);}});}, function(m) {t.error(new S(l.ENCRYPT_ERROR));});}, this);}, decrypt: function(q, t) {var D; D = this; m(t, function() {var m, R; if(!this.encryptionKey) throw new S(l.DECRYPT_NOT_SUPPORTED, "no encryption/decryption key"); if(0 == q.length) return q; try {R = Ma(q, xa); m = JSON.parse(R);} catch(H) {if(H instanceof SyntaxError) throw new S(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR, null, H); throw new S(l.DECRYPT_ERROR, null, H);} cd(m, dd.V1, {result: function(m) {try {if(m.keyId != D.id) throw new S(l.ENVELOPE_KEY_ID_MISMATCH); ya.decrypt({name: mb.name, iv: m.iv}, D.encryptionKey, m.ciphertext).then(function(l) {l = new Uint8Array(l); t.result(l);}, function() {t.error(new S(l.DECRYPT_ERROR));});} catch(I) {I instanceof A ? t.error(I) : t.error(new S(l.DECRYPT_ERROR, null, I));} }, error: function(m) {m instanceof Z && (m = new S(l.CIPHERTEXT_ENVELOPE_ENCODE_ERROR, null, m)); m instanceof A || (m = new S(l.DECRYPT_ERROR, null, m)); t.error(m);}});}, this);}, wrap: function(q, t) {m(t, function() {if(!this.wrapKey) throw new S(l.WRAP_NOT_SUPPORTED, "no wrap/unwrap key"); ya.wrapKey("raw", q.rawKey, this.wrapKey, this.wrapKey.algorithm).then(function(l) {t.result(l);}, function(m) {t.error(new S(l.WRAP_ERROR));});}, this);}, unwrap: function(q, t, A, K) {function R(q) {m(K, function() {switch(q.type) {case "secret": Wb(q, K); break; case "public": Ib(q, K); break; case "private": Xb(q, K); break; default: throw new S(l.UNSUPPORTED_KEY, "type: " + q.type);}});} m(K, function() {if(!this.wrapKey) throw new S(l.UNWRAP_NOT_SUPPORTED, "no wrap/unwrap key"); ya.unwrapKey("raw", q, this.wrapKey, this.wrapKey.algorithm, t, !1, A).then(function(l) {R(l);}, function(m) {K.error(new S(l.UNWRAP_ERROR));});}, this);}, sign: function(q, t) {var A; A = this; m(t, function() {if(!this.hmacKey) throw new S(l.SIGN_NOT_SUPPORTED, "no HMAC key."); ya.sign(fb, this.hmacKey, q).then(function(l) {m(t, function() {var m; m = new Uint8Array(l); ed(m, {result: function(l) {t.result(l.bytes);}, error: t.error});}, A);}, function() {t.error(new S(l.HMAC_ERROR));});}, this);}, verify: function(q, t, A) {var K; K = this; m(A, function() {if(!this.hmacKey) throw new S(l.VERIFY_NOT_SUPPORTED, "no HMAC key."); fd(t, gd.V1, {result: function(t) {m(A, function() {ya.verify(fb, this.hmacKey, t.signature, q).then(function(l) {A.result(l);}, function(m) {A.error(new S(l.HMAC_ERROR));});}, K);}, error: A.error});}, this);}});}()); db = Ac.extend({init: function Qa(m, q, t, R, H) {if(t || R || H) Qa.base.call(this, m, t + "_" + q.sequenceNumber, R, H, null); else {if(!q.isDecrypted()) throw new Lb(l.MASTERTOKEN_UNTRUSTED, q); Qa.base.call(this, m, q.identity + "_" + q.sequenceNumber, q.encryptionKey, q.hmacKey, null);} }}); We = Zb.extend({encrypt: function(l, m) {m.result(l);}, decrypt: function(l, m) {m.result(l);}, wrap: function(l, m) {m.error(new aa("Wrap is unsupported by the MSL token crypto context."));}, unwrap: function(l, m, q, t) {t.error(new aa("Unwrap is unsupported by the MSL token crypto context."));}, sign: function(l, m) {m.result(new Uint8Array(0));}, verify: function(l, m, q) {q.result(!1);}}); Ea = {PSK: "PSK", MGK: "MGK", X509: "X509", RSA: "RSA", NPTICKET: "NPTICKET", ECC: "ECC", NONE: "NONE"}; Object.freeze(Ea); (function() {Kb = ga.Class.create({init: function(l) {Object.defineProperties(this, {scheme: {value: l, writable: !1, configurable: !1}});}, getIdentity: function() {}, getAuthData: function() {}, equals: function(l) {return this === l ? !0 : l instanceof Kb ? this.scheme == l.scheme : !1;}, toJSON: function() {var l; l = {}; l.scheme = this.scheme; l.authdata = this.getAuthData(); return l;}}); Qd = function(m, q) {var t, K, R; t = q.scheme; K = q.authdata; if(!t || !K) throw new Z(l.JSON_PARSE_ERROR, "entityauthdata " + JSON.stringify(q)); if(!Ea[t]) throw new vb(l.UNIDENTIFIED_ENTITYAUTH_SCHEME, t); R = m.getEntityAuthenticationFactory(t); if(!R) throw new vb(l.ENTITYAUTH_FACTORY_NOT_FOUND, t); return R.createData(m, K);};}()); Bc = ga.Class.create({init: function(l) {Object.defineProperties(this, {scheme: {value: l, writable: !1, configurable: !1}});}, createData: function(l, m) {}, getCryptoContext: function(l, m) {}}); (function() {hb = Kb.extend({init: function za(l) {za.base.call(this, Ea.MGK); Object.defineProperties(this, {identity: {value: l, writable: !1, configurable: !1}});}, getIdentity: function() {return this.identity;}, getAuthData: function() {var l; l = {}; l.identity = this.identity; return l;}, equals: function Ja(l) {return this === l ? !0 : l instanceof hb ? Ja.base.call(this, this, l) && this.identity == l.identity : !1;}}); Rd = function(m) {var q; q = m.identity; if(!q) throw new Z(l.JSON_PARSE_ERROR, "mgk authdata" + JSON.stringify(m)); return new hb(q);};}()); Xe = Bc.extend({init: function za(l) {za.base.call(this, Ea.MGK); Object.defineProperties(this, {localIdentity: {value: l, writable: !1, enumerable: !1, configurable: !1}});}, createData: function(l, m) {return Rd(m);}, getCryptoContext: function(m, q) {if(!(q instanceof hb)) throw new aa("Incorrect authentication data type " + JSON.stringify(q) + "."); if(q.identity != this.localIdentity) throw new vb(l.ENTITY_NOT_FOUND, "mgk " + q.identity).setEntity(q); return new $b();}}); (function() {nb = Kb.extend({init: function Ja(l) {Ja.base.call(this, Ea.PSK); Object.defineProperties(this, {identity: {value: l, writable: !1}});}, getIdentity: function() {return this.identity;}, getAuthData: function() {var l; l = {}; l.identity = this.identity; return l;}, equals: function K(l) {return this === l ? !0 : l instanceof nb ? K.base.call(this, this, l) && this.identity == l.identity : !1;}}); Sd = function(m) {var q; q = m.identity; if(!q) throw new Z(l.JSON_PARSE_ERROR, "psk authdata" + JSON.stringify(m)); return new nb(q);};}()); Td = Bc.extend({init: function Ja(l) {Ja.base.call(this, Ea.PSK); Object.defineProperties(this, {localIdentity: {value: l, writable: !1, enumerable: !1, configurable: !1}});}, createData: function(l, m) {return Sd(m);}, getCryptoContext: function(m, q) {if(!(q instanceof nb)) throw new aa("Incorrect authentication data type " + JSON.stringify(q) + "."); if(q.getIdentity() != this.localIdentity) throw new vb(l.ENTITY_NOT_FOUND, "psk " + q.identity).setEntity(q); return new $b();}}); (function() {Cc = Kb.extend({init: function K(l, m) {K.base.call(this, Ea.RSA); Object.defineProperties(this, {identity: {value: l, writable: !1, configurable: !1}, publicKeyId: {value: m, writable: !1, configurable: !1}});}, getIdentity: function() {return this.identity;}, getAuthData: function() {var l; l = {}; l.identity = this.identity; l.pubkeyid = this.publicKeyId; return l;}, equals: function R(l) {return this === l ? !0 : l instanceof Cc ? R.base.call(this, this, l) && this.identity == l.identity && this.publicKeyId == l.publicKeyId : !1;}}); Ud = function(m) {var q, I; q = m.identity; I = m.pubkeyid; if(!q || "string" !== typeof q || !I || "string" !== typeof I) throw new Z(l.JSON_PARSE_ERROR, "RSA authdata" + JSON.stringify(m)); return new Cc(q, I);};}()); Ye = Bc.extend({init: function K(l) {K.base.call(this, Ea.RSA); Object.defineProperties(this, {store: {value: l, writable: !1, enumerable: !1, configurable: !1}});}, createData: function(l, m) {return Ud(m);}, getCryptoContext: function(m, q) {var H, I, t; if(!(q instanceof Cc)) throw new aa("Incorrect authentication data type " + q + "."); H = q.identity; I = q.publicKeyId; t = this.store.getPublicKey(I); if(!t) throw new vb(l.RSA_PUBLICKEY_NOT_FOUND, I).setEntity(q); return new yc(m, H, null, t, zc.SIGN_VERIFY);}}); (function() {gc = Kb.extend({init: function R(l) {R.base.call(this, Ea.NONE); Object.defineProperties(this, {identity: {value: l, writable: !1}});}, getIdentity: function() {return this.identity;}, getAuthData: function() {var l; l = {}; l.identity = this.identity; return l;}, equals: function H(l) {return this === l ? !0 : l instanceof gc ? H.base.call(this, this, l) && this.identity == l.identity : !1;}}); Vd = function(m) {var q; q = m.identity; if(!q) throw new Z(l.JSON_PARSE_ERROR, "Unauthenticated authdata" + JSON.stringify(m)); return new gc(q);};}()); Te = Bc.extend({init: function R() {R.base.call(this, Ea.NONE);}, createData: function(l, m) {return Vd(m);}, getCryptoContext: function(l, m) {if(!(m instanceof gc)) throw new aa("Incorrect authentication data type " + JSON.stringify(m) + "."); return new $b();}}); Ze = ga.Class.create({init: function() {Object.defineProperties(this, {rsaKeys: {value: {}, writable: !1, enumerable: !1, configurable: !1}});}, addPublicKey: function(l, m) {if(!(m instanceof xc)) throw new aa("Incorrect key data type " + m + "."); this.rsaKeys[l] = m;}, getIdentities: function() {return Object.keys(this.rsaKeys);}, removePublicKey: function(l) {delete this.rsaKeys[l];}, getPublicKey: function(l) {return this.rsaKeys[l];}}); hd = ga.Class.create({abort: function() {}, close: function() {}, mark: function() {}, reset: function() {}, markSupported: function() {}, read: function(l, m, q) {}}); Dc = ga.Class.create({abort: function() {}, close: function(l, m) {}, write: function(l, m, q, t, L) {}, flush: function(l, m) {}}); $e = ga.Class.create({init: function(l) {Object.defineProperties(this, {_data: {value: l, writable: !1, enumerable: !1, configurable: !1}, _closed: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _currentPosition: {value: 0, writable: !0, enumerable: !1, configurable: !1}, _mark: {value: -1, writable: !0, enumerable: !1, configurable: !1}});}, abort: function() {}, close: function() {this._close = !0;}, mark: function() {this._mark = this._currentPosition;}, reset: function() {if(-1 == this._mark) throw new Ta("Stream has not been marked."); this._currentPosition = this._mark;}, markSupported: function() {return !0;}, read: function(l, m, q) {D(q, function() {var m; if(this._closed) throw new Ta("Stream is already closed."); if(this._currentPosition == this._data.length) return null; -1 == l && (l = this._data.length - this._currentPosition); m = this._data.subarray(this._currentPosition, this._currentPosition + l); this._currentPosition += m.length; return m;}, this);}}); af = ga.Class.create({init: function() {var l; l = {_closed: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _result: {value: new Uint8Array(0), writable: !0, enuemrable: !1, configurable: !1}, _buffered: {value: [], writable: !1, enumerable: !1, configurable: !1}}; Object.defineProperties(this, l);}, abort: function() {}, close: function(l, m) {this._closed = !0; m.result(!0);}, write: function(l, m, q, t, L) {D(L, function() {var E; if(this._closed) throw new Ta("Stream is already closed."); if(0 > m) throw new RangeError("Offset cannot be negative."); if(0 > q) throw new RangeError("Length cannot be negative."); if(m + q > l.length) throw new RangeError("Offset plus length cannot be greater than the array length."); E = l.subarray(m, q); this._buffered.push(E); return E.length;}, this);}, flush: function(l, m) {var q, H; for(; 0 < this._buffered.length;) {q = this._buffered.shift(); if(this._result) {H = new Uint8Array(this._result.length + q.length); H.set(this._result); H.set(q, this._result.length); this._result = H;} else this._result = new Uint8Array(q);} m.result(!0);}, size: function() {this.flush(1, {result: function() {}}); return this._result.length;}, toByteArray: function() {this.flush(1, {result: function() {}}); return this._result;}}); bf = ga.Class.create({getResponse: function(l, m, q) {}}); (function() {var l, m; l = Dc.extend({init: function(l, m) {var q; q = {_httpLocation: {value: l, writable: !1, enumerable: !1, configurable: !1}, _timeout: {value: m, writable: !0, enumerable: !1, configurable: !1}, _buffer: {value: new af(), writable: !1, enumerable: !1, configurable: !1}, _response: {value: da, writable: !0, enumerable: !1, configurable: !1}, _abortToken: {value: da, writable: !0, enumerable: !1, configurable: !1}, _responseQueue: {value: new hc(), writable: !0, enumerable: !1, configurable: !1}}; Object.defineProperties(this, q);}, setTimeout: function(l) {this._timeout = l;}, getResponse: function(l, m) {var q; q = this; this._responseQueue.poll(l, {result: function(l) {D(m, function() {l && this._responseQueue.add(l); return l;}, q);}, timeout: function() {D(m, function() {this._response = {isTimeout: !0}; this._responseQueue.add(this._response); this.abort(); m.timeout();}, q);}, error: function(l) {D(m, function() {this._response = {isError: !0}; this._responseQueue.add(this._response); throw l;}, q);}});}, abort: function() {this._abortToken && this._abortToken.abort();}, close: function(l, m) {var q; q = this; D(m, function() {var l; if(this._response) return !0; l = this._buffer.toByteArray(); 0 < l.length && (this._abortToken = this._httpLocation.getResponse({body: l}, this._timeout, {result: function(l) {q._response = {response: l}; q._responseQueue.add(q._response);}, timeout: function() {q._response = {isTimeout: !0}; q._responseQueue.add(q._response);}, error: function(l) {q._response = {isError: !0, error: l}; q._responseQueue.add(q._response);}})); return !0;}, this);}, write: function(l, m, q, E, J) {D(J, function() {if(this._response) throw new Ta("HttpOutputStream already closed."); this._buffer.write(l, m, q, E, J);}, this);}, flush: function(l, m) {D(m, function() {if(this._response) return !0; this._buffer.flush(l, m);}, this);}}); m = hd.extend({init: function(l) {Object.defineProperties(this, {_out: {value: l, writable: !1, enumerable: !1, configurable: !1}, _buffer: {value: da, writable: !0, enumerable: !1, configurable: !1}, _exception: {value: da, writable: !0, enumerable: !1, configurable: !1}, _timedout: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _json: {value: da, writable: !0, enumerable: !1, configurable: !1}});}, abort: function() {this._out.abort();}, close: function() {this._buffer && this._buffer.close();}, mark: function() {this._buffer || this._buffer.mark();}, reset: function() {this._buffer && this._buffer.reset();}, markSupported: function() {if(this._buffer) return this._buffer.markSupported();}, read: function(l, m, q) {var J; function E(E) {D(q, function() {if(!E) return new Uint8Array(0); this._out.getResponse(m, {result: function(E) {D(q, function() {var H; if(E.isTimeout) this._timedout = !0, q.timeout(); else {if(E.isError) throw this._exception = E.error || new Ta("Unknown HTTP exception."), this._exception; if(!E.response) throw this._exception = new Ta("Missing HTTP response."), this._exception; E.response.json !== da && (this._json = E.response.json, this.getJSON = function() {return J._json;}); H = E.response.content || Oc("string" === typeof E.response.body ? E.response.body : JSON.stringify(this._json)); this._buffer = new $e(H); this._buffer.read(l, m, q);} }, J);}, timeout: function() {q.timeout();}, error: function(l) {q.error(l);}});}, J);} J = this; D(q, function() {if(this._exception) throw this._exception; if(this._timedout) q.timeout(); else {if(this._aborted) return new Uint8Array(0); this._buffer ? this._buffer.read(l, m, q) : this._out.close(m, {result: function(l) {E(l);}, timeout: function() {q.timeout();}, error: function(l) {q.error(l);}});} }, J);}}); Bd = ga.Class.create({init: function(l, m) {Object.defineProperties(this, {_httpLocation: {value: l, writable: !1, enumerable: !1, configurable: !1}, _timeout: {value: m, writable: !0, enumerable: !1, configurable: !1}});}, setTimeout: function(l) {this._timeout = l;}, openConnection: function() {var q; q = new l(this._httpLocation, this._timeout); return {input: new m(q), output: q};}});}()); (function() {var l, m; l = Dc.extend({init: function() {var l; l = {_buffer: {value: new Uint8Array(), writable: !0, enumerable: !1, configurable: !1}}; Object.defineProperties(this, l);}, setTimeout: function() {}, getResponse: function(l, m) {m.result({success: !1, content: null, errorHttpCode: da, errorSubCode: da});}, abort: function() {}, close: function(l, m) {m.result(!0);}, write: function(l, m, q, E, J) {var H, t; try {if(0 > m) throw new RangeError("Offset cannot be negative."); if(0 > q) throw new RangeError("Length cannot be negative."); if(m + q > l.length) throw new RangeError("Offset plus length cannot be greater than the array length."); H = l.subarray(m, q); t = new Uint8Array(this._buffer.length + H.length); t.set(this._buffer); t.set(H, this._buffer.length); this._buffer = t; J.result(H.length);} catch(Ha) {J.error(Ha);} }, flush: function(l, m) {m.result(!0);}, request: function() {return this._buffer;}}); m = hd.extend({init: function() {}, abort: function() {}, close: function() {}, mark: function() {}, reset: function() {}, markSupported: function() {}, read: function(l, m, q) {q.result(new Uint8Array(16));}}); Cd = ga.Class.create({init: function() {var q; q = {output: {value: new l(), writable: !1, enumerable: !1, configurable: !1}, input: {value: new m(), writable: !0, enumerable: !1, configurable: !1}}; Object.defineProperties(this, q);}, setTimeout: function() {}, openConnection: function() {return {input: this.input, output: this.output};}, getRequest: function() {return Nc(this.output.request());}});}()); Wd = function(l, m, q) {function H(l) {var m, q; l = new cf(Ma(l, "utf-8")); m = []; for(q = l.nextValue(); q !== da;)m.push(q), q = l.nextValue(); return m;} (function(l, m, J) {l.read(-1, m, {result: function(l) {l && l.length ? J(null, l) : J(null, null);}, timeout: function() {q.timeout();}, error: function(l) {J(l, null);}});}(l, m, function(m, E) {m ? q.error(m) : E ? l.getJSON !== da && "function" === typeof l.getJSON ? q.result(l.getJSON()) : q.result(H(E)) : q.result(null);}));}; eb = {SYMMETRIC_WRAPPED: "SYMMETRIC_WRAPPED", ASYMMETRIC_WRAPPED: "ASYMMETRIC_WRAPPED", DIFFIE_HELLMAN: "DIFFIE_HELLMAN", JWE_LADDER: "JWE_LADDER", JWK_LADDER: "JWK_LADDER", AUTHENTICATED_DH: "AUTHENTICATED_DH"}; Object.freeze(eb); (function() {ic = ga.Class.create({init: function(l) {Object.defineProperties(this, {keyExchangeScheme: {value: l, writable: !1, configurable: !1}});}, getKeydata: function() {}, toJSON: function() {var l; l = {}; l.scheme = this.keyExchangeScheme; l.keydata = this.getKeydata(); return l;}, equals: function(l) {return this === l ? !0 : l instanceof ic ? this.keyExchangeScheme == l.keyExchangeScheme : !1;}, uniqueKey: function() {return this.keyExchangeScheme;}}); Xd = function(q, H, t) {m(t, function() {var m, I, E; m = H.scheme; I = H.keydata; if(!m || !I || "object" !== typeof I) throw new Z(l.JSON_PARSE_ERROR, "keyrequestdata " + JSON.stringify(H)); if(!eb[m]) throw new Fa(l.UNIDENTIFIED_KEYX_SCHEME, m); E = q.getKeyExchangeFactory(m); if(!E) throw new Fa(l.KEYX_FACTORY_NOT_FOUND, m); E.createRequestData(q, I, t);});};}()); (function() {jc = ga.Class.create({init: function(l, m) {Object.defineProperties(this, {masterToken: {value: l, writable: !1, configurable: !1}, keyExchangeScheme: {value: m, wrtiable: !1, configurable: !1}});}, getKeydata: function() {}, toJSON: function() {var l; l = {}; l.mastertoken = this.masterToken; l.scheme = this.keyExchangeScheme; l.keydata = this.getKeydata(); return l;}, equals: function(l) {return this === l ? !0 : l instanceof jc ? this.masterToken.equals(l.masterToken) && this.keyExchangeScheme == l.keyExchangeScheme : !1;}, uniqueKey: function() {return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}}); Yd = function(q, H, t) {m(t, function() {var I, L, E; I = H.mastertoken; L = H.scheme; E = H.keydata; if(!L || !I || "object" !== typeof I || !E || "object" !== typeof E) throw new Z(l.JSON_PARSE_ERROR, "keyresponsedata " + JSON.stringify(H)); if(!eb[L]) throw new Fa(l.UNIDENTIFIED_KEYX_SCHEME, L); Nb(q, I, {result: function(J) {m(t, function() {var m; m = q.getKeyExchangeFactory(L); if(!m) throw new Fa(l.KEYX_FACTORY_NOT_FOUND, L); return m.createResponseData(q, J, E);});}, error: function(l) {t.error(l);}});});};}()); (function() {var q; q = ga.Class.create({init: function(l, m) {Object.defineProperties(this, {keyResponseData: {value: l, writable: !1, configurable: !1}, cryptoContext: {value: m, writable: !1, configurable: !1}});}}); ib = ga.Class.create({init: function(l) {Object.defineProperties(this, {scheme: {value: l, writable: !1, configurable: !1}});}, createRequestData: function(l, m, q) {}, createResponseData: function(l, m, q) {}, generateResponse: function(l, m, q, t) {}, getCryptoContext: function(l, m, q, t, E) {}, generateSessionKeys: function(q, t) {m(t, function() {var m, H; m = new Uint8Array(16); H = new Uint8Array(32); q.getRandom().nextBytes(m); q.getRandom().nextBytes(H); wb(m, mb, Cb, {result: function(m) {wb(H, fb, Mb, {result: function(l) {t.result({encryptionKey: m, hmacKey: l});}, error: function(m) {t.error(new S(l.SESSION_KEY_CREATION_FAILURE, null, m));}});}, error: function(m) {t.error(new S(l.SESSION_KEY_CREATION_FAILURE, null, m));}});});}, importSessionKeys: function(l, m, q) {wb(l, mb, Cb, {result: function(l) {wb(m, fb, Mb, {result: function(m) {q.result({encryptionKey: l, hmacKey: m});}, error: function(l) {q.error(l);}});}, error: function(l) {q.error(l);}});}}); ib.KeyExchangeData = q;}()); (function() {var t, I, Q; function q(q, E, J, H, I) {m(I, function() {var pa, L; switch(E) {case t.PSK: pa = new nb(H), L = q.getEntityAuthenticationFactory(Ea.PSK); if(!L) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, E); pa = L.getCryptoContext(q, pa); return new qb(q, kb.A128KW, pb, da); case t.MGK: pa = new hb(H); L = q.getEntityAuthenticationFactory(Ea.MGK); if(!L) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, E); pa = L.getCryptoContext(q, pa); return new qb(q, kb.A128KW, pb, da); case t.WRAP: pa = q.getMslCryptoContext(); pa.unwrap(J, bb, Db, {result: function(f) {m(I, function() {return new qb(q, kb.A128KW, pb, f);});}, error: I.error}); break; default: throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, E);}});} t = {PSK: "PSK", MGK: "MGK", WRAP: "WRAP"}; I = id = ic.extend({init: function E(l, m) {E.base.call(this, eb.JWE_LADDER); switch(l) {case t.WRAP: if(!m) throw new aa("Previous wrapping key based key exchange requires the previous wrapping key data and ID."); break; default: m = null;}Object.defineProperties(this, {mechanism: {value: l, writable: !1, configurable: !1}, wrapdata: {value: m, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.mechanism = this.mechanism; this.wrapdata && (l.wrapdata = ia(this.wrapdata)); return l;}, equals: function J(l) {return l === this ? !0 : l instanceof id ? J.base.call(this, l) && this.mechanism == l.mechanism && Pa(this.wrapdata, l.wrapdata) : !1;}, uniqueKey: function La() {var l; l = La.base.call(this) + ":" + this.mechanism; this.wrapdata && (l += ":" + Za(this.wrapdata)); return l;}}); Q = $d = jc.extend({init: function pa(l, m, f, c, a) {pa.base.call(this, l, eb.JWE_LADDER); Object.defineProperties(this, {wrapKey: {value: m, writable: !1, configurable: !1}, wrapdata: {value: f, writable: !1, configurable: !1}, encryptionKey: {value: c, writable: !1, configurable: !1}, hmacKey: {value: a, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.wrapkey = ia(this.wrapKey); l.wrapdata = ia(this.wrapdata); l.encryptionkey = ia(this.encryptionKey); l.hmackey = ia(this.hmacKey); return l;}, equals: function Ha(l) {return this === l ? !0 : l instanceof $d ? Ha.base.call(this, l) && Pa(this.wrapKey, l.wrapKey) && Pa(this.wrapdata, l.wrapdata) && Pa(this.encryptionKey, l.encryptionKey) && Pa(this.hmacKey, l.hmacKey) : !1;}, uniqueKey: function sa() {return sa.base.call(this) + ":" + Za(this.wrapKey) + ":" + Za(this.wrapdata) + ":" + Za(this.encryptionKey) + ":" + Za(this.hmacKey);}}); Zd = ib.extend({init: function f(c) {f.base.call(this, eb.JWE_LADDER); Object.defineProperties(this, {repository: {value: c, writable: !1, enumerable: !1, configurable: !1}});}, createRequestData: function(f, c, a) {m(a, function() {var a, d, k; a = c.mechanism; d = c.wrapdata; if(!a || a == t.WRAP && (!d || "string" !== typeof d)) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(c)); if(!t[a]) throw new Fa(l.UNIDENTIFIED_KEYX_MECHANISM, a); switch(a) {case t.WRAP: try {k = na(d);} catch(h) {throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, "keydata " + c.toString());} if(null == k || 0 == k.length) throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, "keydata " + c.toString()); break; default: k = null;}return new I(a, k);});}, createResponseData: function(f, c, a) {var b, d, k, h, g, p, n; f = a.wrapkey; b = a.wrapdata; d = a.encryptionkey; k = a.hmackey; if(!(f && "string" === typeof f && b && "string" === typeof b && d && "string" === typeof d && k) || "string" !== typeof k) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(a)); try {h = na(f); g = na(b);} catch(r) {throw new S(l.INVALID_SYMMETRIC_KEY, "keydata " + JSON.stringify(a), r);} try {p = na(d);} catch(r) {throw new S(l.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(a), r);} try {n = na(k);} catch(r) {throw new S(l.INVALID_HMAC_KEY, "keydata " + JSON.stringify(a), r);} return new Q(c, h, g, p, n);}, generateResponse: function(f, c, a, b) {var p, n; function d(a, g, c) {p.generateSessionKeys(f, {result: function(d) {m(b, function() {k(a, g, c, d.encryptionKey, d.hmacKey);}, p);}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}});} function k(a, g, d, k, z) {m(b, function() {q(f, c.mechanism, c.wrapdata, a, {result: function(a) {a.wrap(g, {result: function(a) {h(g, d, k, z, a);}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}});}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}});}, p);} function h(a, c, d, h, k) {m(b, function() {var p; p = new qb(f, kb.A128KW, pb, a); p.wrap(d, {result: function(a) {p.wrap(h, {result: function(b) {g(c, k, d, a, h, b);}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}});}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}});}, p);} function g(g, c, d, h, k, y) {m(b, function() {var r; r = f.getTokenFactory(); n ? r.renewMasterToken(f, n, d, k, {result: function(a) {m(b, function() {var d, p; d = new db(f, a); p = new Q(a, c, g, h, y); return new ib.KeyExchangeData(p, d, b);}, p);}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;});}}) : r.createMasterToken(f, a, d, k, {result: function(a) {m(b, function() {var d, p; d = new db(f, a); p = new Q(a, c, g, h, y); return new ib.KeyExchangeData(p, d, b);}, p);}, error: b.error});}, p);} p = this; m(b, function() {var g, h; if(!(c instanceof I)) throw new aa("Key request data " + JSON.stringify(c) + " was not created by this factory."); g = a; if(a instanceof gb) {if(!a.isVerified()) throw new Lb(l.MASTERTOKEN_UNTRUSTED, a); n = a; g = a.identity;} h = new Uint8Array(16); f.getRandom().nextBytes(h); wb(h, bb, Db, {result: function(a) {m(b, function() {f.getMslCryptoContext().wrap(a, {result: function(b) {d(g, a, b);}, error: function(a) {m(b, function() {a instanceof A && a.setEntity(n); throw a;}, p);}});}, p);}, error: function(a) {m(b, function() {throw new S(l.WRAP_KEY_CREATION_FAILURE, null, a).setEntity(n);}, p);}});}, p);}, getCryptoContext: function(f, c, a, b, d) {var h; function k(a, b, c, r, k) {m(d, function() {var g; g = new qb(f, kb.A128KW, pb, k); g.unwrap(b.encryptionKey, mb, Cb, {result: function(p) {g.unwrap(b.hmacKey, fb, Mb, {result: function(a) {m(d, function() {this.repository.addCryptoContext(b.wrapdata, g); this.repository.removeCryptoContext(c); return new db(f, b.masterToken, r, p, a);}, h);}, error: function(b) {m(d, function() {b instanceof A && b.setEntity(a); throw b;});}});}, error: function(b) {m(d, function() {b instanceof A && b.setEntity(a); throw b;});}});}, h);} h = this; m(d, function() {var b, p; if(!(c instanceof I)) throw new aa("Key request data " + JSON.stringify(c) + " was not created by this factory."); if(!(a instanceof Q)) throw new aa("Key response data " + JSON.stringify(a) + " was not created by this factory."); b = c.mechanism; p = c.wrapdata; f.getEntityAuthenticationData(null, {result: function(g) {m(d, function() {var c, n, h; c = g.getIdentity(); switch(b) {case t.PSK: n = new nb(c); h = f.getEntityAuthenticationFactory(Ea.PSK); if(!h) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, b).setEntity(g); n = h.getCryptoContext(f, n); n = new qb(f, kb.A128KW, pb, da); break; case t.MGK: n = new hb(c); h = f.getEntityAuthenticationFactory(Ea.MGK); if(!h) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, b).setEntity(g); n = h.getCryptoContext(f, n); n = new qb(f, kb.A128KW, pb, n.wrapKey); break; case t.WRAP: n = this.repository.getCryptoContext(p); if(!n) throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, ia(p)).setEntity(g); break; default: throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, b).setEntity(g);}n.unwrap(a.wrapKey, bb, Db, {result: function(b) {k(g, a, p, c, b);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(g); throw a;});}});}, h);}, error: d.error});}, h);}});}()); (function() {var t, I, Q, L; function q(q, J, H, I, Q) {m(Q, function() {var E, f; switch(J) {case t.PSK: E = new nb(I), f = q.getEntityAuthenticationFactory(Ea.PSK); if(!f) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, J); E = f.getCryptoContext(q, E); return new L(da); case t.MGK: E = new hb(I); f = q.getEntityAuthenticationFactory(Ea.MGK); if(!f) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, J); E = f.getCryptoContext(q, E); return new L(da); case t.WRAP: E = q.getMslCryptoContext(); E.unwrap(H, bb, Db, {result: function(c) {m(Q, function() {return new L(c);});}, error: Q.error}); break; default: throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, J);}});} t = {PSK: "PSK", MGK: "MGK", WRAP: "WRAP"}; I = Ec = ic.extend({init: function J(l, m) {J.base.call(this, eb.JWK_LADDER); switch(l) {case t.WRAP: if(!m) throw new aa("Previous wrapping key based key exchange requires the previous wrapping key data and ID."); break; default: m = null;}Object.defineProperties(this, {mechanism: {value: l, writable: !1, configurable: !1}, wrapdata: {value: m, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.mechanism = this.mechanism; this.wrapdata && (l.wrapdata = ia(this.wrapdata)); return l;}, equals: function La(l) {return l === this ? !0 : l instanceof Ec ? La.base.call(this, l) && this.mechanism == l.mechanism && Pa(this.wrapdata, l.wrapdata) : !1;}, uniqueKey: function pa() {var l; l = pa.base.call(this) + ":" + this.mechanism; this.wrapdata && (l += ":" + Za(this.wrapdata)); return l;}}); Q = ae = jc.extend({init: function Ha(l, f, c, a, b) {Ha.base.call(this, l, eb.JWK_LADDER); Object.defineProperties(this, {wrapKey: {value: f, writable: !1, configurable: !1}, wrapdata: {value: c, writable: !1, configurable: !1}, encryptionKey: {value: a, writable: !1, configurable: !1}, hmacKey: {value: b, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.wrapkey = ia(this.wrapKey); l.wrapdata = ia(this.wrapdata); l.encryptionkey = ia(this.encryptionKey); l.hmackey = ia(this.hmacKey); return l;}, equals: function sa(f) {return this === f ? !0 : f instanceof ae ? sa.base.call(this, f) && Pa(this.wrapKey, f.wrapKey) && Pa(this.wrapdata, f.wrapdata) && Pa(this.encryptionKey, f.encryptionKey) && Pa(this.hmacKey, f.hmacKey) : !1;}, uniqueKey: function f() {return f.base.call(this) + ":" + Za(this.wrapKey) + ":" + Za(this.wrapdata) + ":" + Za(this.encryptionKey) + ":" + Za(this.hmacKey);}}); L = Zb.extend({init: function(f) {f && f.rawKey && (f = f.rawKey); Object.defineProperties(this, {_wrapKey: {value: f, writable: !1, enumerable: !1, configurable: !1}});}, encrypt: function(f, c) {c.error(new S(l.ENCRYPT_NOT_SUPPORTED));}, decrypt: function(f, c) {c.error(new S(l.DECRYPT_NOT_SUPPORTED));}, wrap: function(f, c) {m(c, function() {ya.wrapKey("jwk", f.rawKey, this._wrapKey, bb).then(function(a) {c.result(a);}, function(a) {c.error(new S(l.WRAP_ERROR));});}, this);}, unwrap: function(f, c, a, b) {function d(a) {m(b, function() {switch(a.type) {case "secret": Wb(a, b); break; case "public": Ib(a, b); break; case "private": Xb(a, b); break; default: throw new S(l.UNSUPPORTED_KEY, "type: " + a.type);}});} m(b, function() {ya.unwrapKey("jwk", f, this._wrapKey, bb, c, !1, a).then(function(a) {d(a);}, function(a) {b.error(new S(l.UNWRAP_ERROR));});}, this);}, sign: function(f, c) {c.error(new S(l.SIGN_NOT_SUPPORTED));}, verify: function(f, c, a) {a.error(new S(l.VERIFY_NOT_SUPPORTED));}}); jd = ib.extend({init: function c(a) {c.base.call(this, eb.JWK_LADDER); Object.defineProperties(this, {repository: {value: a, writable: !1, enumerable: !1, configurable: !1}});}, createRequestData: function(c, a, b) {m(b, function() {var b, c, h; b = a.mechanism; c = a.wrapdata; if(!b || b == t.WRAP && (!c || "string" !== typeof c)) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(a)); if(!t[b]) throw new Fa(l.UNIDENTIFIED_KEYX_MECHANISM, b); switch(b) {case t.WRAP: try {h = na(c);} catch(g) {throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, "keydata " + a.toString());} if(null == h || 0 == h.length) throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, "keydata " + a.toString()); break; default: h = null;}return new I(b, h);});}, createResponseData: function(c, a, b) {var d, k, h, g, p, n, r; c = b.wrapkey; d = b.wrapdata; k = b.encryptionkey; h = b.hmackey; if(!(c && "string" === typeof c && d && "string" === typeof d && k && "string" === typeof k && h) || "string" !== typeof h) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(b)); try {g = na(c); p = na(d);} catch(u) {throw new S(l.INVALID_SYMMETRIC_KEY, "keydata " + JSON.stringify(b), u);} try {n = na(k);} catch(u) {throw new S(l.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(b), u);} try {r = na(h);} catch(u) {throw new S(l.INVALID_HMAC_KEY, "keydata " + JSON.stringify(b), u);} return new Q(a, g, p, n, r);}, generateResponse: function(c, a, b, d) {var n, r; function k(a, b, g) {n.generateSessionKeys(c, {result: function(c) {m(d, function() {h(a, b, g, c.encryptionKey, c.hmacKey);}, n);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}});} function h(b, p, h, k, y) {m(d, function() {q(c, a.mechanism, a.wrapdata, b, {result: function(a) {a.wrap(p, {result: function(a) {g(p, h, k, y, a);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}});}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}});}, n);} function g(a, b, g, c, h) {m(d, function() {var n; n = new L(a); n.wrap(g, {result: function(a) {n.wrap(c, {result: function(d) {p(b, h, g, a, c, d);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}});}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}});}, n);} function p(a, g, p, h, k, w) {m(d, function() {var u; u = c.getTokenFactory(); r ? u.renewMasterToken(c, r, p, k, {result: function(b) {m(d, function() {var p, n; p = new db(c, b); n = new Q(b, g, a, h, w); return new ib.KeyExchangeData(n, p, d);}, n);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;});}}) : u.createMasterToken(c, b, p, k, {result: function(b) {m(d, function() {var p, n; p = new db(c, b); n = new Q(b, g, a, h, w); return new ib.KeyExchangeData(n, p, d);}, n);}, error: d.error});}, n);} n = this; m(d, function() {var g, p; if(!(a instanceof I)) throw new aa("Key request data " + JSON.stringify(a) + " was not created by this factory."); g = b; if(b instanceof gb) {if(!b.isVerified()) throw new Lb(l.MASTERTOKEN_UNTRUSTED, b); r = b; g = b.identity;} p = new Uint8Array(16); c.getRandom().nextBytes(p); wb(p, bb, Db, {result: function(a) {m(d, function() {c.getMslCryptoContext().wrap(a, {result: function(b) {k(g, a, b);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(r); throw a;}, n);}});}, n);}, error: function(a) {m(d, function() {throw new S(l.WRAP_KEY_CREATION_FAILURE, null, a).setEntity(r);}, n);}});}, n);}, getCryptoContext: function(c, a, b, d, k) {var g; function h(a, b, d, h, v) {m(k, function() {var p; p = new L(v); p.unwrap(b.encryptionKey, mb, Cb, {result: function(n) {p.unwrap(b.hmacKey, fb, Mb, {result: function(a) {m(k, function() {this.repository.addCryptoContext(b.wrapdata, p); this.repository.removeCryptoContext(d); return new db(c, b.masterToken, h, n, a);}, g);}, error: function(b) {m(k, function() {b instanceof A && b.setEntity(a); throw b;});}});}, error: function(b) {m(k, function() {b instanceof A && b.setEntity(a); throw b;});}});}, g);} g = this; m(k, function() {var p, d; if(!(a instanceof I)) throw new aa("Key request data " + JSON.stringify(a) + " was not created by this factory."); if(!(b instanceof Q)) throw new aa("Key response data " + JSON.stringify(b) + " was not created by this factory."); p = a.mechanism; d = a.wrapdata; c.getEntityAuthenticationData(null, {result: function(a) {m(k, function() {var g, n, r; g = a.getIdentity(); switch(p) {case t.PSK: n = new nb(g); r = c.getEntityAuthenticationFactory(Ea.PSK); if(!r) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, p).setEntity(a); n = r.getCryptoContext(c, n); n = new L(n.wrapKey); break; case t.MGK: n = new hb(g); r = c.getEntityAuthenticationFactory(Ea.MGK); if(!r) throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, p).setEntity(a); n = r.getCryptoContext(c, n); n = new L(n.wrapKey); break; case t.WRAP: n = this.repository.getCryptoContext(d); if(!n) throw new Fa(l.KEYX_WRAPPING_KEY_MISSING, ia(d)).setEntity(a); break; default: throw new Fa(l.UNSUPPORTED_KEYX_MECHANISM, p).setEntity(a);}n.unwrap(b.wrapKey, bb, Db, {result: function(c) {h(a, b, d, g, c);}, error: function(b) {m(k, function() {b instanceof A && b.setEntity(a); throw b;});}});}, g);}, error: k.error});}, g);}});}()); df = ga.Class.create({addCryptoContext: function(l, m) {}, getCryptoContext: function(l) {}, removeCryptoContext: function(l) {}}); (function() {var t, I, Q, L; function q(m, q, H, I, L) {switch(H) {case t.JWE_RSA: case t.JWEJS_RSA: return new qb(m, kb.RSA_OAEP, pb, I, L); case t.JWK_RSA: return new yc(m, q, I, L, zc.WRAP_UNWRAP_OAEP); case t.JWK_RSAES: return new yc(m, q, I, L, zc.WRAP_UNWRAP_PKCS1); default: throw new S(l.UNSUPPORTED_KEYX_MECHANISM, H);}} t = Fc = {RSA: "RSA", ECC: "ECC", JWE_RSA: "JWE_RSA", JWEJS_RSA: "JWEJS_RSA", JWK_RSA: "JWK_RSA", JWK_RSAES: "JWK_RSAES"}; I = Tc = ic.extend({init: function J(l, m, q, t) {J.base.call(this, eb.ASYMMETRIC_WRAPPED); Object.defineProperties(this, {keyPairId: {value: l, writable: !1, configurable: !1}, mechanism: {value: m, writable: !1, configurable: !1}, publicKey: {value: q, writable: !1, configurable: !1}, privateKey: {value: t, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.keypairid = this.keyPairId; l.mechanism = this.mechanism; l.publickey = ia(this.publicKey.getEncoded()); return l;}, equals: function La(l) {var m; if(l === this) return !0; if(!(l instanceof Tc)) return !1; m = this.privateKey === l.privateKey || this.privateKey && l.privateKey && Pa(this.privateKey.getEncoded(), l.privateKey.getEncoded()); return La.base.call(this, l) && this.keyPairId == l.keyPairId && this.mechanism == l.mechanism && Pa(this.publicKey.getEncoded(), l.publicKey.getEncoded()) && m;}, uniqueKey: function pa() {var l, m; l = this.publicKey.getEncoded(); m = this.privateKey && this.privateKey.getEncoded(); l = pa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + Za(l); m && (l += ":" + Za(m)); return l;}}); Q = function(q, H) {m(H, function() {var m, f, c, a; m = q.keypairid; f = q.mechanism; c = q.publickey; if(!m || "string" !== typeof m || !f || !c || "string" !== typeof c) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(q)); if(!t[f]) throw new Fa(l.UNIDENTIFIED_KEYX_MECHANISM, f); try {a = na(c); switch(f) {case t.JWE_RSA: case t.JWEJS_RSA: case t.JWK_RSA: $c(a, wc, Db, {result: function(a) {H.result(new I(m, f, a, null));}, error: function(a) {H.error(a);}}); break; case t.JWK_RSAES: $c(a, Yc, Db, {result: function(a) {H.result(new I(m, f, a, null));}, error: function(a) {H.error(a);}}); break; default: throw new S(l.UNSUPPORTED_KEYX_MECHANISM, f);}} catch(b) {if(!(b instanceof A)) throw new S(l.INVALID_PUBLIC_KEY, "keydata " + JSON.stringify(q), b); throw b;} });}; L = be = jc.extend({init: function Ha(l, f, c, a) {Ha.base.call(this, l, eb.ASYMMETRIC_WRAPPED); Object.defineProperties(this, {keyPairId: {value: f, writable: !1, configurable: !1}, encryptionKey: {value: c, writable: !1, configurable: !1}, hmacKey: {value: a, writable: !1, configurable: !1}});}, getKeydata: function() {var l; l = {}; l.keypairid = this.keyPairId; l.encryptionkey = ia(this.encryptionKey); l.hmackey = ia(this.hmacKey); return l;}, equals: function sa(f) {return this === f ? !0 : f instanceof be ? sa.base.call(this, f) && this.keyPairId == f.keyPairId && Pa(this.encryptionKey, f.encryptionKey) && Pa(this.hmacKey, f.hmacKey) : !1;}, uniqueKey: function f() {return f.base.call(this) + ":" + this.keyPairId + ":" + Za(this.encryptionKey) + ":" + Za(this.hmacKey);}}); Dd = ib.extend({init: function c() {c.base.call(this, eb.ASYMMETRIC_WRAPPED);}, createRequestData: function(c, a, b) {Q(a, b);}, createResponseData: function(c, a, b) {var d, k, h, g; c = b.keypairid; d = b.encryptionkey; k = b.hmackey; if(!c || "string" !== typeof c || !d || "string" !== typeof d || !k || "string" !== typeof k) throw new Z(l.JSON_PARSE_ERROR, "keydata " + JSON.stringify(b)); try {h = na(d);} catch(p) {throw new S(l.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(b), p);} try {g = na(k);} catch(p) {throw new S(l.INVALID_HMAC_KEY, "keydata " + JSON.stringify(b), p);} return new L(a, c, h, g);}, generateResponse: function(c, a, b, d) {var g; function k(p, n) {m(d, function() {var r; r = q(c, a.keyPairId, a.mechanism, null, a.publicKey); r.wrap(p, {result: function(a) {m(d, function() {r.wrap(n, {result: function(b) {h(p, a, n, b);}, error: function(a) {m(d, function() {a instanceof A && b instanceof gb && a.setEntity(b); throw a;}, g);}});}, g);}, error: function(a) {m(d, function() {a instanceof A && b instanceof gb && a.setEntity(b); throw a;}, g);}});}, g);} function h(p, n, h, k) {m(d, function() {var r; r = c.getTokenFactory(); b instanceof gb ? r.renewMasterToken(c, b, p, h, {result: function(b) {m(d, function() {var g, p; g = new db(c, b); p = new L(b, a.keyPairId, n, k); return new ib.KeyExchangeData(p, g, d);}, g);}, error: function(a) {m(d, function() {a instanceof A && a.setEntity(b); throw a;}, g);}}) : r.createMasterToken(c, b, p, h, {result: function(b) {m(d, function() {var g, p; g = new db(c, b); p = new L(b, a.keyPairId, n, k); return new ib.KeyExchangeData(p, g, d);}, g);}, error: d.error});}, g);} g = this; m(d, function() {if(!(a instanceof I)) throw new aa("Key request data " + JSON.stringify(a) + " was not created by this factory."); this.generateSessionKeys(c, {result: function(a) {k(a.encryptionKey, a.hmacKey);}, error: function(a) {m(d, function() {a instanceof A && b instanceof gb && a.setEntity(b); throw a;}, g);}});}, g);}, getCryptoContext: function(c, a, b, d, k) {var h; h = this; m(k, function() {var g, p, n; if(!(a instanceof I)) throw new aa("Key request data " + JSON.stringify(a) + " was not created by this factory."); if(!(b instanceof L)) throw new aa("Key response data " + JSON.stringify(b) + " was not created by this factory."); g = a.keyPairId; p = b.keyPairId; if(g != p) throw new Fa(l.KEYX_RESPONSE_REQUEST_MISMATCH, "request " + g + "; response " + p).setEntity(d); p = a.privateKey; if(!p) throw new Fa(l.KEYX_PRIVATE_KEY_MISSING, "request Asymmetric private key").setEntity(d); n = q(c, g, a.mechanism, p, null); n.unwrap(b.encryptionKey, mb, Cb, {result: function(a) {n.unwrap(b.hmacKey, fb, Mb, {result: function(g) {c.getEntityAuthenticationData(null, {result: function(p) {m(k, function() {var d; d = p.getIdentity(); return new db(c, b.masterToken, d, a, g);}, h);}, error: function(a) {m(k, function() {a instanceof A && a.setEntity(d); throw a;}, h);}});}, error: function(a) {m(k, function() {a instanceof A && a.setEntity(d); throw a;}, h);}});}, error: function(a) {m(k, function() {a instanceof A && a.setEntity(d); throw a;}, h);}});}, h);}});}()); cf = ga.Class.create({init: function(l) {var m, q, t, L, E, J, A, pa; m = Xa.parser(); q = []; t = []; A = 0; pa = !1; m.onerror = function(l) {pa || (pa = !0, m.end());}; m.onopenobject = function(l) {var m; if(L) L[J] = {}, t.push(L), L = L[J]; else if(E) {m = {}; t.push(E); E.push(m); L = m; E = da;} else L = {}; J = l;}; m.oncloseobject = function() {var l; l = t.pop(); l ? "object" === typeof l ? L = l : (L = da, E = l) : (q.push(L), A = m.index, L = da);}; m.onopenarray = function() {var l; if(L) L[J] = [], t.push(L), E = L[J], L = da; else if(E) {l = []; t.push(E); E.push(l); E = l;} else E = [];}; m.onclosearray = function() {var l; l = t.pop(); l ? "object" === typeof l ? (L = l, E = da) : E = l : (q.push(E), A = m.index, E = da);}; m.onkey = function(l) {J = l;}; m.onvalue = function(l) {L ? L[J] = l : E ? E.push(l) : (q.push(l), A = m.index);}; m.write(l).close(); Object.defineProperties(this, {_values: {value: q, writable: !1, enumerable: !1, configurable: !1}, _lastIndex: {value: A, writable: !0, enumerable: !1, configurable: !1}});}, more: function() {return 0 < this._values.length;}, nextValue: function() {return 0 == this._values.length ? da : this._values.shift();}, lastIndex: function() {return this._lastIndex;}}); (function() {var q, t, I, Q, L; q = kd = "entityauthdata"; t = de = "mastertoken"; I = ee = "headerdata"; Q = fe = "errordata"; L = ld = "signature"; ce = function(E, J, H, pa) {m(pa, function() {var m, A, f, c, a, b; m = J[q]; A = J[t]; f = J[L]; if(m && "object" !== typeof m || A && "object" !== typeof A || "string" !== typeof f) throw new Z(l.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(J)); try {c = na(f);} catch(d) {throw new ua(l.HEADER_SIGNATURE_INVALID, "header/errormsg " + JSON.stringify(J), d);} a = null; m && (a = Qd(E, m)); b = J[I]; if(b != da && null != b) {if("string" !== typeof b) throw new Z(l.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(J)); A ? Nb(E, A, {result: function(d) {md(E, b, a, d, c, H, pa);}, error: function(a) {pa.error(a);}}) : md(E, b, a, null, c, H, pa);} else if(m = J[Q], m != da && null != m) {if("string" !== typeof m) throw new Z(l.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(J)); ge(E, m, a, c, pa);} else throw new Z(l.JSON_PARSE_ERROR, JSON.stringify(J));});};}()); (function() {function t(l, m) {this.errordata = l; this.signature = m;} Hb = ga.Class.create({init: function(q, t, Q, L, E, J, R, pa, Ha, sa) {var f; f = this; m(sa, function() {var c, a; 0 > J && (J = -1); if(0 > L || L > ta) throw new aa("Message ID " + L + " is out of range."); if(!t) throw new ua(l.MESSAGE_ENTITY_NOT_FOUND); if(Ha) return Object.defineProperties(this, {entityAuthenticationData: {value: t, writable: !1, configurable: !1}, recipient: {value: Q, writable: !1, configurable: !1}, messageId: {value: L, writable: !1, configurable: !1}, errorCode: {value: E, writable: !1, configurable: !1}, internalCode: {value: J, writable: !1, configurable: !1}, errorMessage: {value: R, writable: !1, configurable: !1}, userMessage: {value: pa, writable: !1, configurable: !1}, errordata: {value: Ha.errordata, writable: !1, enumerable: !1, configurable: !1}, signature: {value: Ha.signature, writable: !1, enumerable: !1, configurable: !1}}), this; c = {}; Q && (c.recipient = Q); c.messageid = L; c.errorcode = E; 0 < J && (c.internalcode = J); R && (c.errormsg = R); pa && (c.usermsg = pa); try {a = q.getEntityAuthenticationFactory(t.scheme).getCryptoContext(q, t);} catch(b) {throw b instanceof A && (b.setEntity(t), b.setMessageId(L)), b;} c = Na(JSON.stringify(c), xa); a.encrypt(c, {result: function(b) {m(sa, function() {a.sign(b, {result: function(a) {m(sa, function() {Object.defineProperties(this, {entityAuthenticationData: {value: t, writable: !1, configurable: !1}, recipient: {value: Q, writable: !1, configurable: !1}, messageId: {value: L, writable: !1, configurable: !1}, errorCode: {value: E, writable: !1, configurable: !1}, internalCode: {value: J, writable: !1, configurable: !1}, errorMessage: {value: R, writable: !1, configurable: !1}, userMessage: {value: pa, writable: !1, configurable: !1}, errordata: {value: b, writable: !1, enumerable: !1, configurable: !1}, signature: {value: a, writable: !1, enumerable: !1, configurable: !1}}); return this;}, f);}, error: function(a) {m(sa, function() {a instanceof A && (a.setEntity(t), a.setMessageId(L)); throw a;}, f);}});}, f);}, error: function(a) {m(sa, function() {a instanceof A && (a.setEntity(t), a.setMessageId(L)); throw a;}, f);}});}, f);}, toJSON: function() {var l; l = {}; l[kd] = this.entityAuthenticationData; l[fe] = ia(this.errordata); l[ld] = ia(this.signature); return l;}}); he = function(l, m, q, t, E, J, A, pa, R) {new Hb(l, m, q, t, E, J, A, pa, null, R);}; ge = function(H, I, Q, L, E) {m(E, function() {var J, R, pa; if(!Q) throw new ua(l.MESSAGE_ENTITY_NOT_FOUND); try {R = Q.scheme; pa = H.getEntityAuthenticationFactory(R); if(!pa) throw new vb(l.ENTITYAUTH_FACTORY_NOT_FOUND, R); J = pa.getCryptoContext(H, Q);} catch(Ha) {throw Ha instanceof A && Ha.setEntity(Q), Ha;} try {I = na(I);} catch(Ha) {throw new ua(l.HEADER_DATA_INVALID, I, Ha).setEntity(Q);} if(!I || 0 == I.length) throw new ua(l.HEADER_DATA_MISSING, I).setEntity(Q); J.verify(I, L, {result: function(pa) {m(E, function() {if(!pa) throw new S(l.MESSAGE_VERIFICATION_FAILED).setEntity(Q); J.decrypt(I, {result: function(J) {m(E, function() {var f, c, a, b, d, k, h, g; f = Ma(J, xa); try {c = JSON.parse(f);} catch(n) {if(n instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "errordata " + f, n).setEntity(Q); throw n;} a = c.recipient !== da ? c.recipient : null; b = parseInt(c.messageid); d = parseInt(c.errorcode); k = parseInt(c.internalcode); h = c.errormsg; g = c.usermsg; if(a && "string" !== typeof a || !b || b != b || !d || d != d || c.internalcode && k != k || h && "string" !== typeof h || g && "string" !== typeof g) throw new Z(l.JSON_PARSE_ERROR, "errordata " + f).setEntity(Q); if(0 > b || b > ta) throw new ua(l.MESSAGE_ID_OUT_OF_RANGE, "errordata " + f).setEntity(Q); c = !1; for(var p in q) if(q[p] == d) {c = !0; break;} c || (d = q.FAIL); if(k) {if(0 > k) throw new ua(l.INTERNAL_CODE_NEGATIVE, "errordata " + f).setEntity(Q).setMessageId(b);} else k = -1; f = new t(I, L); new Hb(H, Q, a, b, d, k, h, g, f, E);});}, error: function(l) {m(E, function() {l instanceof A && l.setEntity(Q); throw l;});}});});}, error: function(l) {m(E, function() {l instanceof A && l.setEntity(Q); throw l;});}});});};}()); ef = ga.Class.create({getUserMessage: function(l, m) {}}); (function() {nd = function(l, m) {var q, t; if(!l || !m) return null; q = l.compressionAlgorithms.filter(function(l) {for(var q = 0; q < m.compressionAlgorithms.length; ++q)if(l == m.compressionAlgorithms[q]) return !0; return !1;}); t = l.languages.filter(function(l) {for(var q = 0; q < m.languages.length; ++q)if(l == m.languages[q]) return !0; return !1;}); return new kc(q, t);}; kc = ga.Class.create({init: function(l, m) {l || (l = []); m || (m = []); l.sort(); Object.defineProperties(this, {compressionAlgorithms: {value: l, writable: !1, enumerable: !0, configurable: !1}, languages: {value: m, writable: !1, enumerable: !0, configurable: !1}});}, toJSON: function() {var l; l = {}; l.compressionalgos = this.compressionAlgorithms; l.languages = this.languages; return l;}, equals: function(l) {return this === l ? !0 : l instanceof kc ? wd(this.compressionAlgorithms, l.compressionAlgorithms) && wd(this.languages, l.languages) : !1;}, uniqueKey: function() {return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}}); ie = function(m) {var q, t, L; q = m.compressionalgos; t = m.languages; if(q && !(q instanceof Array) || t && !(t instanceof Array)) throw new Z(l.JSON_PARSE_ERROR, "capabilities " + JSON.stringify(m)); m = []; for(var Q = 0; q && Q < q.length; ++Q) {L = q[Q]; Jb[L] && m.push(L);} return new kc(m, t);};}()); (function() {var sa, f; function q(c, a, b, d, k) {this.customer = c; this.sender = a; this.messageCryptoContext = b; this.headerdata = d; this.signature = k;} function t(c, a, b, d, k, h, g, p, n, r, u, v, f, z, y, w, x, C, F, P) {return {cryptoContext: {value: a, writable: !1, configurable: !1}, customer: {value: b, writable: !1, configurable: !1}, entityAuthenticationData: {value: d, writable: !1, configurable: !1}, masterToken: {value: k, writable: !1, configurable: !1}, sender: {value: h, writable: !1, configurable: !1}, messageId: {value: g, writable: !1, configurable: !1}, nonReplayableId: {value: w, writable: !1, configurable: !1}, keyRequestData: {value: p, writable: !1, configurable: !1}, keyResponseData: {value: n, writable: !1, configurable: !1}, userAuthenticationData: {value: r, writable: !1, configurable: !1}, userIdToken: {value: u, writable: !1, configurable: !1}, serviceTokens: {value: v, writable: !1, configurable: !1}, peerMasterToken: {value: f, writable: !1, configurable: !1}, peerUserIdToken: {value: z, writable: !1, configurable: !1}, peerServiceTokens: {value: y, writable: !1, configurable: !1}, messageCapabilities: {value: C, writable: !1, configurable: !1}, renewable: {value: x, writable: !1, enumerable: !1, configurable: !1}, headerdata: {value: F, writable: !1, enumerable: !1, configurable: !1}, signature: {value: P, writable: !1, enumerable: !1, configurable: !1}};} function I(c, a, b) {var d; if(b) {if(a = c.getMslStore().getCryptoContext(b)) return a; if(!b.isVerified() || !b.isDecrypted()) throw new Lb(l.MASTERTOKEN_UNTRUSTED, b); return new db(c, b);} b = a.scheme; d = c.getEntityAuthenticationFactory(b); if(!d) throw new vb(l.ENTITYAUTH_FACTORY_NOT_FOUND, b); return d.getCryptoContext(c, a);} function Q(c, a, b, d, k) {m(k, function() {a.verify(b, d, {result: function(c) {m(k, function() {if(!c) throw new S(l.MESSAGE_VERIFICATION_FAILED); a.decrypt(b, {result: function(a) {m(k, function() {return Ma(a, xa);});}, error: function(a) {k.error(a);}});});}, error: function(a) {k.error(a);}});});} function L(c, a, b) {m(b, function() {if(a) Yd(c, a, b); else return null;});} function E(c, a, b, d) {m(d, function() {if(a) Ob(c, a, b, d); else return null;});} function J(c, a, b, d) {m(d, function() {if(b) me(c, a, b, d); else return null;});} function La(c, a, b, d, k, h, g) {var n; function p(a, g, v) {var r, u; if(g >= a.length) {r = []; for(u in n) r.push(n[u]); v.result(r);} else {r = a[g]; if("object" !== typeof r) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + h); Gc(c, r, b, d, k, {result: function(b) {m(v, function() {n[b.uniqueKey()] = b; p(a, g + 1, v);});}, error: function(a) {v.error(a);}});} } n = {}; m(g, function() {if(a) {if(!(a instanceof Array)) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + h); p(a, 0, g);} else return [];});} function pa(c, a, b, d, k, h) {function g(a, b, g) {m(g, function() {var c; c = b.peermastertoken; if(c && "object" !== typeof c) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + k); if(!c) return null; Nb(a, c, g);});} function p(a, b, g, c) {m(c, function() {var p; p = b.peeruseridtoken; if(p && "object" !== typeof p) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + k); if(!p) return null; Ob(a, p, g, c);});} m(h, function() {if(!c.isPeerToPeer()) return {peerMasterToken: null, peerUserIdToken: null, peerServiceTokens: []}; g(c, a, {result: function(g) {m(h, function() {var n; n = b ? b.masterToken : g; p(c, a, n, {result: function(b) {m(h, function() {La(c, a.peerservicetokens, n, b, d, k, {result: function(a) {m(h, function() {return {peerMasterToken: g, peerUserIdToken: b, peerServiceTokens: a};});}, error: function(a) {m(h, function() {a instanceof A && (a.setEntity(n), a.setUser(b)); throw a;});}});});}, error: function(a) {m(h, function() {a instanceof A && a.setEntity(n); throw a;});}});});}, error: h.error});});} function Ha(c, a, b, d) {var h; function k(a, b) {m(d, function() {if(b >= a.length) return h; Xd(c, a[b], {result: function(g) {m(d, function() {h.push(g); k(a, b + 1);});}, error: function(a) {d.error(a);}});});} h = []; m(d, function() {var g; g = a.keyrequestdata; if(!g) return h; if(!(g instanceof Array)) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + b); k(g, 0);});} sa = ke = ga.Class.create({init: function(c, a, b, d, k, h, g, p, n) {Object.defineProperties(this, {messageId: {value: c, writable: !1, configurable: !1}, nonReplayableId: {value: a, writable: !1, configurable: !1}, renewable: {value: b, writable: !1, configurable: !1}, capabilities: {value: d, writable: !1, configurable: !1}, keyRequestData: {value: k, writable: !1, configurable: !1}, keyResponseData: {value: h, writable: !1, configurable: !1}, userAuthData: {value: g, writable: !1, configurable: !1}, userIdToken: {value: p, writable: !1, configurable: !1}, serviceTokens: {value: n, writable: !1, configurable: !1}});}}); f = le = ga.Class.create({init: function(c, a, b) {Object.defineProperties(this, {peerMasterToken: {value: c, writable: !1, configurable: !1}, peerUserIdToken: {value: a, writable: !1, configurable: !1}, peerServiceTokens: {value: b, writable: !1, configurable: !1}});}}); lc = ga.Class.create({init: function(c, a, b, d, k, h, g) {var n; function p(p) {m(g, function() {var r, v, f, z, y, w, x, C, F, P, M, ea, O, l, U, Y, X; a = b ? null : a; r = d.nonReplayableId; v = d.renewable; f = d.capabilities; z = d.messageId; y = d.keyRequestData ? d.keyRequestData : []; w = d.keyResponseData; x = d.userAuthData; C = d.userIdToken; F = d.serviceTokens ? d.serviceTokens : []; c.isPeerToPeer() ? (P = k.peerMasterToken, M = k.peerUserIdToken, ea = k.peerServiceTokens ? k.peerServiceTokens : []) : (M = P = null, ea = []); if(0 > z || z > ta) throw new aa("Message ID " + z + " is out of range."); if(!a && !b) throw new aa("Message entity authentication data or master token must be provided."); w ? c.isPeerToPeer() ? (O = b, l = w.masterToken) : (O = w.masterToken, l = P) : (O = b, l = P); if(C && (!O || !C.isBoundTo(O))) throw new aa("User ID token must be bound to a master token."); if(M && (!l || !M.isBoundTo(l))) throw new aa("Peer user ID token must be bound to a peer master token."); F.forEach(function(a) {if(a.isMasterTokenBound() && (!O || !a.isBoundTo(O))) throw new aa("Master token bound service tokens must be bound to the provided master token."); if(a.isUserIdTokenBound() && (!C || !a.isBoundTo(C))) throw new aa("User ID token bound service tokens must be bound to the provided user ID token.");}, this); ea.forEach(function(a) {if(a.isMasterTokenBound() && (!l || !a.isBoundTo(l))) throw new aa("Master token bound peer service tokens must be bound to the provided peer master token."); if(a.isUserIdTokenBound() && (!M || !a.isBoundTo(M))) throw new aa("User ID token bound peer service tokens must be bound to the provided peer user ID token.");}, this); if(h) {U = h.customer; Y = h.messageCryptoContext; X = t(c, Y, U, a, b, p, z, y, w, x, C, F, P, M, ea, r, v, f, h.headerdata, h.signature); Object.defineProperties(this, X); return this;} U = C ? C.customer : null; X = {}; p && (X.sender = p); X.messageid = z; "number" === typeof r && (X.nonreplayableid = r); X.renewable = v; f && (X.capabilities = f); 0 < y.length && (X.keyrequestdata = y); w && (X.keyresponsedata = w); x && (X.userauthdata = x); C && (X.useridtoken = C); 0 < F.length && (X.servicetokens = F); P && (X.peermastertoken = P); M && (X.peeruseridtoken = M); 0 < ea.length && (X.peerservicetokens = ea); try {Y = I(c, a, b);} catch(N) {throw N instanceof A && (N.setEntity(b), N.setEntity(a), N.setUser(C), N.setUser(x), N.setMessageId(z)), N;} X = Na(JSON.stringify(X), xa); Y.encrypt(X, {result: function(d) {m(g, function() {Y.sign(d, {result: function(h) {m(g, function() {var g; g = t(c, Y, U, a, b, p, z, y, w, x, C, F, P, M, ea, r, v, f, d, h); Object.defineProperties(this, g); return this;}, n);}, error: function(c) {m(g, function() {c instanceof A && (c.setEntity(b), c.setEntity(a), c.setUser(C), c.setUser(x), c.setMessageId(z)); throw c;}, n);}});}, n);}, error: function(c) {m(g, function() {c instanceof A && (c.setEntity(b), c.setEntity(a), c.setUser(C), c.setUser(x), c.setMessageId(z)); throw c;}, n);}});}, n);} n = this; m(g, function() {h ? p(h.sender) : b ? c.getEntityAuthenticationData(null, {result: function(a) {a = a.getIdentity(); p(a);}, error: g.error}) : p(null);}, n);}, isEncrypting: function() {return this.masterToken || Qc(this.entityAuthenticationData.scheme);}, isRenewable: function() {return this.renewable;}, toJSON: function() {var c; c = {}; this.masterToken ? c[de] = this.masterToken : c[kd] = this.entityAuthenticationData; c[ee] = ia(this.headerdata); c[ld] = ia(this.signature); return c;}}); je = function(c, a, b, d, k, h) {new lc(c, a, b, d, k, null, h);}; md = function(c, a, b, d, k, h, g) {m(g, function() {var p, n; b = d ? null : b; if(!b && !d) throw new ua(l.MESSAGE_ENTITY_NOT_FOUND); p = a; try {a = na(p);} catch(r) {throw new ua(l.HEADER_DATA_INVALID, p, r);} if(!a || 0 == a.length) throw new ua(l.HEADER_DATA_MISSING, p); try {n = I(c, b, d);} catch(r) {throw r instanceof A && (r.setEntity(d), r.setEntity(b)), r;} Q(c, n, a, k, {result: function(p) {m(g, function() {var r, v, B, z, y; try {r = JSON.parse(p);} catch(w) {if(w instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p, w).setEntity(d).setEntity(b); throw w;} v = parseInt(r.messageid); if(!v || v != v) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p).setEntity(d).setEntity(b); if(0 > v || v > ta) throw new ua(l.MESSAGE_ID_OUT_OF_RANGE, "headerdata " + p).setEntity(d).setEntity(b); B = d ? r.sender : null; if(d && (!B || "string" !== typeof B)) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p).setEntity(d).setEntity(b).setMessageId(v); z = r.keyresponsedata; if(z && "object" !== typeof z) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p).setEntity(d).setEntity(b).setMessageId(v); y = g; g = {result: function(a) {y.result(a);}, error: function(a) {a instanceof A && (a.setEntity(d), a.setEntity(b), a.setMessageId(v)); y.error(a);}}; L(c, z, {result: function(u) {m(g, function() {var w, y; w = !c.isPeerToPeer() && u ? u.masterToken : d; y = r.useridtoken; if(y && "object" !== typeof y) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p); E(c, y, w, {result: function(x) {m(g, function() {var y; y = r.userauthdata; if(y && "object" !== typeof y) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p); J(c, w, y, {result: function(y) {m(g, function() {var z, F, C; if(y) {F = y.scheme; C = c.getUserAuthenticationFactory(F); if(!C) throw new ra(l.USERAUTH_FACTORY_NOT_FOUND, F).setUser(x).setUser(y); F = d ? d.identity : b.getIdentity(); z = C.authenticate(c, F, y, x);} else z = x ? x.customer : null; La(c, r.servicetokens, w, x, h, p, {result: function(w) {m(g, function() {var F, C, P, ea; F = r.nonreplayableid !== da ? parseInt(r.nonreplayableid) : null; C = r.renewable; if(F != F || "boolean" !== typeof C) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p); if(0 > F || F > ta) throw new ua(l.NONREPLAYABLE_ID_OUT_OF_RANGE, "headerdata " + p); P = null; ea = r.capabilities; if(ea) {if("object" !== typeof ea) throw new Z(l.JSON_PARSE_ERROR, "headerdata " + p); P = ie(ea);} Ha(c, r, p, {result: function(ea) {pa(c, r, u, h, p, {result: function(p) {m(g, function() {var h, r, M, O; h = p.peerMasterToken; r = p.peerUserIdToken; M = p.peerServiceTokens; O = new sa(v, F, C, P, ea, u, y, x, w); h = new f(h, r, M); r = new q(z, B, n, a, k); new lc(c, b, d, O, h, r, g);});}, error: g.error});}, error: function(a) {m(g, function() {a instanceof A && (a.setUser(x), a.setUser(y)); throw a;});}});});}, error: function(a) {m(g, function() {a instanceof A && (a.setEntity(w), a.setUser(x), a.setUser(y)); throw a;});}});});}, error: g.error});});}, error: g.error});});}, error: g.error});});}, error: g.error});});};}()); (function() {function q(l, m) {this.payload = l; this.signature = m;} od = ga.Class.create({init: function(l, q, t, L, E, J, A, pa) {var I; I = this; m(pa, function() {var H, f; if(0 > l || l > ta) throw new aa("Sequence number " + l + " is outside the valid range."); if(0 > q || q > ta) throw new aa("Message ID " + q + " is outside the valid range."); if(A) return Object.defineProperties(this, {sequenceNumber: {value: l, writable: !1, configurable: !1}, messageId: {value: q, writable: !1, configurable: !1}, compressionAlgo: {value: L, writable: !1, configurable: !1}, data: {value: E, writable: !1, configurable: !1}, endofmsg: {value: t, writable: !1, enumerable: !1, configurable: !1}, payload: {value: A.payload, writable: !1, enumerable: !1, configurable: !1}, signature: {value: A.signature, writable: !1, enumerable: !1, configurable: !1}}), this; L ? (H = pd(L, E), H || (L = null, H = E)) : (L = null, H = E); f = {}; f.sequencenumber = l; f.messageid = q; t && (f.endofmsg = t); L && (f.compressionalgo = L); f.data = ia(H); H = Na(JSON.stringify(f), xa); J.encrypt(H, {result: function(c) {m(pa, function() {J.sign(c, {result: function(a) {m(pa, function() {Object.defineProperties(this, {sequenceNumber: {value: l, writable: !1, configurable: !1}, messageId: {value: q, writable: !1, configurable: !1}, compressionAlgo: {value: L, writable: !1, configurable: !1}, data: {value: E, writable: !1, configurable: !1}, endofmsg: {value: t, writable: !1, enumerable: !1, configurable: !1}, payload: {value: c, writable: !1, enumerable: !1, configurable: !1}, signature: {value: a, writable: !1, enumerable: !1, configurable: !1}}); return this;}, I);}, error: function(a) {pa.error(a);}});}, I);}, error: function(c) {pa.error(c);}});}, I);}, isEndOfMessage: function() {return this.endofmsg;}, toJSON: function() {var l; l = {}; l.payload = ia(this.payload); l.signature = ia(this.signature); return l;}}); ne = function(l, m, q, t, E, J, A) {new od(l, m, q, t, E, J, null, A);}; oe = function(t, I, Q) {m(Q, function() {var L, E, J, H; L = t.payload; E = t.signature; if(!L || "string" !== typeof L || "string" !== typeof E) throw new Z(l.JSON_PARSE_ERROR, "payload chunk " + JSON.stringify(t)); try {J = na(L);} catch(pa) {throw new ua(l.PAYLOAD_INVALID, "payload chunk " + JSON.stringify(t), pa);} try {H = na(E);} catch(pa) {throw new ua(l.PAYLOAD_SIGNATURE_INVALID, "payload chunk " + JSON.stringify(t), pa);} I.verify(J, H, {result: function(E) {m(Q, function() {if(!E) throw new S(l.PAYLOAD_VERIFICATION_FAILED); I.decrypt(J, {result: function(E) {m(Q, function() {var m, f, c, a, b, d, k; m = Ma(E, xa); try {f = JSON.parse(m);} catch(h) {if(h instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "payload chunk payload " + m, h); throw h;} c = parseInt(f.sequencenumber); a = parseInt(f.messageid); b = f.endofmsg; d = f.compressionalgo; f = f.data; if(!c || c != c || !a || a != a || b && "boolean" !== typeof b || d && "string" !== typeof d || "string" !== typeof f) throw new Z(l.JSON_PARSE_ERROR, "payload chunk payload " + m); if(0 > c || c > ta) throw new A(l.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE, "payload chunk payload " + m); if(0 > a || a > ta) throw new A(l.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE, "payload chunk payload " + m); b || (b = !1); if(d && !Jb[d]) throw new ua(l.UNIDENTIFIED_COMPRESSION, d); try {k = na(f);} catch(h) {throw new ua(l.PAYLOAD_DATA_CORRUPT, f, h);} if(k && 0 != k.length) m = d ? Hc(d, k) : k; else {if(0 < f.length) throw new ua(l.PAYLOAD_DATA_CORRUPT, f); if(b) m = new Uint8Array(0); else throw new ua(l.PAYLOAD_DATA_MISSING, f);} k = new q(J, H); new od(c, a, b, d, m, I, k, Q);});}, error: function(l) {Q.error(l);}});});}, error: function(l) {Q.error(l);}});});};}()); (function() {var Q, L; function q(q, t, I, L, H) {var f, c, a, b, d; function E() {m(H, function() {var k, h; c >= t.length && (c = 0, ++f); if(f >= a.length) {if(b) throw b; throw new Fa(l.KEYX_FACTORY_NOT_FOUND, JSON.stringify(t));} k = a[f]; h = t[c]; k.scheme != h.keyExchangeScheme ? (++c, E()) : k.generateResponse(q, h, d, {result: function(a) {H.result(a);}, error: function(a) {m(H, function() {if(!(a instanceof A)) throw a; b = a; ++c; E();});}});});} f = 0; c = 0; a = q.getKeyExchangeFactories(); d = I ? I : L; E();} function t(l, t, I, L, H) {m(H, function() {var E; E = t.keyRequestData; if(t.isRenewable() && 0 < E.length) L ? L.isRenewable() || L.isExpired() ? q(l, E, L, null, H) : l.getTokenFactory().isNewestMasterToken(l, L, {result: function(f) {m(H, function() {if(f) return null; q(l, E, L, null, H);});}, error: H.error}) : q(l, E, null, I.getIdentity(), H); else return null;});} function I(q, t, I, L) {m(L, function() {var m, E, f, c; m = t.userIdToken; E = t.userAuthenticationData; f = t.messageId; if(m && m.isVerified()) {if(m.isRenewable() && t.isRenewable() || m.isExpired() || !m.isBoundTo(I)) {E = q.getTokenFactory(); E.renewUserIdToken(q, m, I, L); return;} } else if(t.isRenewable() && I && E) {m = t.customer; if(!m) {m = E.scheme; c = q.getUserAuthenticationFactory(m); if(!c) throw new ra(l.USERAUTH_FACTORY_NOT_FOUND, m).setEntity(I).setUser(E).setMessageId(f); m = c.authenticate(q, I.identity, E, null);} E = q.getTokenFactory(); E.createUserIdToken(q, m, I, L); return;} return m;});} Q = new Uint8Array(0); L = Pb = function(l) {if(0 > l || l > ta) throw new aa("Message ID " + l + " is outside the valid range."); return l == ta ? 0 : l + 1;}; ac = function(l) {if(0 > l || l > ta) throw new aa("Message ID " + l + " is outside the valid range."); return 0 == l ? ta : l - 1;}; Qb = function(l, q, t, I, L) {m(L, function() {var E; if(I == da || null == I) {E = l.getRandom(); do I = E.nextLong(); while(0 > I || I > ta);} else if(0 > I || I > ta) throw new aa("Message ID " + I + " is outside the valid range."); l.getEntityAuthenticationData(null, {result: function(f) {m(L, function() {var c; c = l.getMessageCapabilities(); return new Ic(l, I, c, f, q, t, null, null, null, null, null);});}, error: function(f) {L.error(f);}});});}; pe = function(l, q, H) {m(H, function() {var J, Q, f, c, a, b; function E(b) {m(H, function() {b instanceof A && (b.setEntity(J), b.setEntity(Q), b.setUser(f), b.setUser(c), b.setMessageId(a)); throw b;});} J = q.masterToken; Q = q.entityAuthenticationData; f = q.userIdToken; c = q.userAuthenticationData; a = q.messageId; b = L(a); t(l, q, Q, J, {result: function(a) {m(H, function() {var c; c = a ? a.keyResponseData.masterToken : c = J; l.getEntityAuthenticationData(null, {result: function(d) {m(H, function() {I(l, q, c, {result: function(g) {m(H, function() {var c, n, h; f = g; c = nd(q.messageCapabilities, l.getMessageCapabilities()); n = q.keyResponseData; h = q.serviceTokens; return l.isPeerToPeer() ? new Ic(l, b, c, d, n ? n.masterToken : q.peerMasterToken, q.peerUserIdToken, q.peerServiceTokens, J, f, h, a) : new Ic(l, b, c, d, n ? n.masterToken : J, f, h, null, null, null, a);});}, error: E});});}, error: E});});}, error: E});});}; qe = function(l, q, t, I, H) {m(H, function() {l.getEntityAuthenticationData(null, {result: function(E) {m(H, function() {var f, c; if(q != da && null != q) f = L(q); else {c = l.getRandom(); do f = c.nextInt(); while(0 > f || f > ta);} he(l, E, f, t.responseCode, t.internalCode, t.message, I, H);});}, error: function(l) {H.error(l);}});});}; Ic = ga.Class.create({init: function(l, m, q, t, I, L, f, c, a, b, d) {var k, h, g, p, n; if(!l.isPeerToPeer() && (c || a)) throw new aa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode."); k = d && !l.isPeerToPeer() ? d.keyResponseData.masterToken : I; h = {}; l.getMslStore().getServiceTokens(k, L).forEach(function(a) {h[a.name] = a;}, this); f && f.forEach(function(a) {h[a.name] = a;}, this); n = {}; l.isPeerToPeer() && (g = c, p = a, f = d ? d.keyResponseData.masterToken : c, l.getMslStore().getServiceTokens(f, a).forEach(function(a) {n[a.name] = a;}, this), b && b.forEach(function(a) {n[a.name] = a;}, this)); Object.defineProperties(this, {_ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, _entityAuthData: {value: t, writable: !1, enumerable: !1, configurable: !1}, _masterToken: {value: I, writable: !0, enumerable: !1, configurable: !1}, _messageId: {value: m, writable: !1, enumerable: !1, configurable: !1}, _capabilities: {value: q, writable: !1, enumerable: !1, configurable: !1}, _keyExchangeData: {value: d, writable: !1, enumerable: !1, configurable: !1}, _nonReplayable: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _renewable: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _keyRequestData: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _userAuthData: {value: null, writable: !0, enumerable: !1, configurable: !1}, _userIdToken: {value: L, writable: !0, enumerable: !1, configurable: !1}, _serviceTokens: {value: h, writable: !1, enumerable: !1, configurable: !1}, _peerMasterToken: {value: g, writable: !0, enumerable: !1, configurable: !1}, _peerUserIdToken: {value: p, writable: !0, enumerable: !1, configurable: !1}, _peerServiceTokens: {value: n, writable: !1, enumerable: !1, configurable: !1}});}, getMessageId: function() {return this._messageId;}, getMasterToken: function() {return this._masterToken;}, getUserIdToken: function() {return this._userIdToken;}, getKeyExchangeData: function() {return this._keyExchangeData;}, willEncryptHeader: function() {return this._masterToken || Qc(this._entityAuthData.scheme);}, willEncryptPayloads: function() {return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Qc(this._entityAuthData.scheme);}, willIntegrityProtectHeader: function() {return this._masterToken || xd(this._entityAuthData.scheme);}, willIntegrityProtectPayloads: function() {return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || xd(this._entityAuthData.scheme);}, getHeader: function(q) {m(q, function() {var m, E, t, I, L; m = this._keyExchangeData ? this._keyExchangeData.keyResponseData : null; E = []; for(t in this._serviceTokens) E.push(this._serviceTokens[t]); I = []; for(L in this._keyRequestData) I.push(this._keyRequestData[L]); if(this._nonReplayable) {if(!this._masterToken) throw new ua(l.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN); L = this._ctx.getMslStore().getNonReplayableId(this._masterToken);} else L = null; m = new ke(this._messageId, L, this._renewable, this._capabilities, I, m, this._userAuthData, this._userIdToken, E); E = []; for(t in this._peerServiceTokens) E.push(this._peerServiceTokens[t]); t = new le(this._peerMasterToken, this._peerUserIdToken, E); je(this._ctx, this._entityAuthData, this._masterToken, m, t, q);}, this);}, isNonReplayable: function() {return this._nonReplayable;}, setNonReplayable: function(l) {this._nonReplayable = l; return this;}, isRenewable: function() {return this._renewable;}, setRenewable: function(l) {this._renewable = l; return this;}, setAuthTokens: function(l, m) {var q, t, E; if(m && !m.isBoundTo(l)) throw new aa("User ID token must be bound to master token."); if(this._keyExchangeData && !this._ctx.isPeerToPeer()) throw new aa("Attempt to set message builder master token when key exchange data exists as a trusted network server."); try {q = this._ctx.getMslStore().getServiceTokens(l, m);} catch(sa) {if(sa instanceof A) throw new aa("Invalid master token and user ID token combination despite checking above.", sa); throw sa;} t = []; for(E in this._serviceTokens) t.push(this._serviceTokens[E]); t.forEach(function(q) {(q.isUserIdTokenBound() && !q.isBoundTo(m) || q.isMasterTokenBound() && !q.isBoundTo(l)) && delete this._serviceTokens[q.name];}, this); q.forEach(function(l) {this._serviceTokens[l.name] = l;}, this); this._masterToken = l; this._userIdToken = m;}, setUserAuthenticationData: function(l) {this._userAuthData = l; return this;}, setCustomer: function(l, q) {var t; t = this; m(q, function() {var E; if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken) throw new aa("User ID token or peer user ID token already exists for the remote user."); E = this._keyExchangeData ? this._keyExchangeData.keyResponseData.masterToken : this._ctx.isPeerToPeer() ? this._peerMasterToken : this._masterToken; if(!E) throw new aa("User ID token or peer user ID token cannot be created because no corresponding master token exists."); this._ctx.getTokenFactory().createUserIdToken(this._ctx, l, E, {result: function(l) {m(q, function() {this._ctx.isPeerToPeer() ? this._peerUserIdToken = l : (this._userIdToken = l, this._userAuthData = null); return !0;}, t);}, error: function(l) {q.error(l);}});}, t);}, addKeyRequestData: function(l) {this._keyRequestData[l.uniqueKey()] = l; return this;}, removeKeyRequestData: function(l) {delete this._keyRequestData[l.uniqueKey()]; return this;}, addServiceToken: function(m) {var q; q = this._keyExchangeData && !this._ctx.isPeerToPeer() ? this._keyExchangeData.keyResponseData.masterToken : this._masterToken; if(m.isMasterTokenBound() && !m.isBoundTo(q)) throw new ua(l.SERVICETOKEN_MASTERTOKEN_MISMATCH, "st " + JSON.stringify(m) + "; mt " + JSON.stringify(q)).setEntity(q); if(m.isUserIdTokenBound() && !m.isBoundTo(this._userIdToken)) throw new ua(l.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st " + JSON.stringify(m) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(q).setUser(this._userIdToken); this._serviceTokens[m.name] = m; return this;}, addServiceTokenIfAbsent: function(l) {this._serviceTokens[l.name] || this.addServiceToken(l); return this;}, excludeServiceToken: function(l) {delete this._serviceTokens[l]; return this;}, deleteServiceToken: function(l, q) {var t; t = this; m(q, function() {var E, J; E = this._serviceTokens[l]; if(!E) return this; J = E.isMasterTokenBound() ? this._masterToken : null; E = E.isUserIdTokenBound() ? this._userIdToken : null; xb(this._ctx, l, Q, J, E, !1, null, new $b(), {result: function(l) {m(q, function() {return this.addServiceToken(l);}, t);}, error: function(l) {l instanceof A && (l = new aa("Failed to create and add empty service token to message.", l)); q.error(l);}});}, t);}, getServiceTokens: function() {var l, m; l = []; for(m in this._serviceTokens) l.push(this._serviceTokens[m]); return l;}, getPeerMasterToken: function() {return this._peerMasterToken;}, getPeerUserIdToken: function() {return this._peerUserIdToken;}, setPeerAuthTokens: function(m, q) {var t; if(!this._ctx.isPeerToPeer()) throw new aa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode."); if(q && !m) throw new aa("Peer master token cannot be null when setting peer user ID token."); if(q && !q.isBoundTo(m)) throw new ua(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit " + q + "; mt " + m).setEntity(m).setUser(q); try {t = this._ctx.getMslStore().getServiceTokens(m, q);} catch(pa) {if(pa instanceof A) throw new aa("Invalid peer master token and user ID token combination despite proper check.", pa); throw pa;} Object.keys(this._peerServiceTokens).forEach(function(l) {var t; t = this._peerServiceTokens[l]; t.isUserIdTokenBound() && !t.isBoundTo(q) ? delete this._peerServiceTokens[l] : t.isMasterTokenBound() && !t.isBoundTo(m) && delete this._peerServiceTokens[l];}, this); t.forEach(function(l) {var m; m = l.name; this._peerServiceTokens[m] || (this._peerServiceTokens[m] = l);}, this); this._peerUserIdToken = q; this._peerMasterToken = m; return this;}, addPeerServiceToken: function(m) {if(!this._ctx.isPeerToPeer()) throw new aa("Cannot set peer service tokens when not in peer-to-peer mode."); if(m.isMasterTokenBound() && !m.isBoundTo(this._peerMasterToken)) throw new ua(l.SERVICETOKEN_MASTERTOKEN_MISMATCH, "st " + JSON.stringify(m) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken); if(m.isUserIdTokenBound() && !m.isBoundTo(this._peerUserIdToken)) throw new ua(l.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st " + JSON.stringify(m) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken); this._peerServiceTokens[m.name] = m; return this;}, addPeerServiceTokenIfAbsent: function(l) {this._peerServiceTokens[l.name] || this.addPeerServiceToken(l); return this;}, excludePeerServiceToken: function(l) {delete this._peerServiceTokens[l]; return this;}, deletePeerServiceToken: function(l, q) {var t; t = this; m(q, function() {var E, J; E = this._peerServiceTokens[l]; if(!E) return this; J = E.isMasterTokenBound() ? this._peerMasterToken : null; E = E.isUserIdTokenBound() ? this._peerUserIdToken : null; xb(this._ctx, l, Q, J, E, !1, null, new $b(), {result: function(l) {m(q, function() {return this.addPeerServiceToken(l);}, t);}, error: function(l) {l instanceof A && (l = new aa("Failed to create and add empty peer service token to message.", l)); q.error(l);}});}, t);}, getPeerServiceTokens: function() {var l, m; l = []; for(m in this._peerServiceTokens) l.push(this._peerServiceTokens[m]); return l;}});}()); (function() {function l(l, m) {return m[l] ? m[l] : m[""];} function q(l) {var m; m = l.builder.getKeyExchangeData(); return m && !l.ctx.isPeerToPeer() ? m.keyResponseData.masterToken : l.builder.getMasterToken();} re = ga.Class.create({init: function(l, m, q) {l = {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, cryptoContexts: {value: m.getCryptoContexts(), writable: !1, enumerable: !1, configurable: !1}, builder: {value: q, writable: !1, enumerable: !1, configurable: !1}}; Object.defineProperties(this, l);}, isPrimaryMasterTokenAvailable: function() {return q(this) ? !0 : !1;}, isPrimaryUserIdTokenAvailable: function() {return this.builder.getUserIdToken() ? !0 : !1;}, isPeerMasterTokenAvailable: function() {return this.builder.getPeerMasterToken() ? !0 : !1;}, isPeerUserIdTokenAvailable: function() {return this.builder.getPeerUserIdToken() ? !0 : !1;}, getPrimaryServiceTokens: function() {return this.builder.getServiceTokens();}, getPeerServiceTokens: function() {return this.builder.getPeerServiceTokens();}, addPrimaryServiceToken: function(l) {try {return this.builder.addServiceToken(l), !0;} catch(Q) {if(Q instanceof ua) return !1; throw Q;} }, addPeerServiceToken: function(l) {try {return this.builder.addPeerServiceToken(l), !0;} catch(Q) {if(Q instanceof ua) return !1; throw Q;} }, addUnboundPrimaryServiceToken: function(q, t, L, E, J) {var I; I = this; m(J, function() {var H; H = l(q, this.cryptoContexts); if(!H) return !1; xb(this.ctx, q, t, null, null, L, E, H, {result: function(l) {m(J, function() {try {this.builder.addServiceToken(l);} catch(sa) {if(sa instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite being unbound.", sa); throw sa;} return !0;}, I);}, error: function(l) {J.error(l);}});}, I);}, addUnboundPeerServiceToken: function(q, t, L, E, J) {var I; I = this; m(J, function() {var H; H = l(q, this.cryptoContexts); if(!H) return !1; xb(this.ctx, q, t, null, null, L, E, H, {result: function(l) {m(J, function() {try {this.builder.addPeerServiceToken(l);} catch(sa) {if(sa instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite being unbound.", sa); throw sa;} return !0;}, I);}, error: function(l) {J.error(l);}});}, I);}, addMasterBoundPrimaryServiceToken: function(t, H, L, E, J) {var I; I = this; m(J, function() {var Q, A; Q = q(this); if(!Q) return !1; A = l(t, this.cryptoContexts); if(!A) return !1; xb(this.ctx, t, H, Q, null, L, E, A, {result: function(l) {m(J, function() {try {this.builder.addServiceToken(l);} catch(f) {if(f instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token.", f); throw f;} return !0;}, I);}, error: function(l) {J.error(l);}});}, I);}, addMasterBoundPeerServiceToken: function(q, t, L, E, J) {var H; H = this; m(J, function() {var I, Q; I = this.builder.getPeerMasterToken(); if(!I) return !1; Q = l(q, this.cryptoContexts); if(!Q) return !1; xb(this.ctx, q, t, I, null, L, E, Q, {result: function(l) {m(J, function() {try {this.builder.addPeerServiceToken(l);} catch(f) {if(f instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token.", f); throw f;} return !0;}, H);}, error: function(l) {J.error(l);}});}, H);}, addUserBoundPrimaryServiceToken: function(t, H, L, E, J) {var I; I = this; m(J, function() {var Q, A, R; Q = q(this); if(!Q) return !1; A = this.builder.getUserIdToken(); if(!A) return !1; R = l(t, this.cryptoContexts); if(!R) return !1; xb(this.ctx, t, H, Q, A, L, E, R, {result: function(f) {m(J, function() {try {this.builder.addServiceToken(f);} catch(c) {if(c instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.", c); throw c;} return !0;}, I);}, error: function(f) {J.error(f);}});}, I);}, addUserBoundPeerServiceToken: function(q, t, H, E, J) {var L; L = this; m(J, function() {var I, Q, A; I = this.builder.getPeerMasterToken(); if(!I) return !1; Q = this.builder.getPeerUserIdToken(); if(!Q) return !1; A = l(q, this.cryptoContexts); if(!A) return !1; xb(this.ctx, q, t, I, Q, H, E, A, {result: function(f) {m(J, function() {try {this.builder.addPeerServiceToken(f);} catch(c) {if(c instanceof ua) throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.", c); throw c;} return !0;}, L);}, error: function(f) {J.error(f);}});}, L);}, excludePrimaryServiceToken: function(l) {for(var m = this.builder.getServiceTokens(), q = 0; q < m.length; ++q)if(m[q].name == l) return this.builder.excludeServiceToken(l), !0; return !1;}, excludePeerServiceToken: function(l) {for(var m = this.builder.getPeerServiceTokens(), q = 0; q < m.length; ++q)if(m[q].name == l) return this.builder.excludePeerServiceToken(l), !0; return !1;}, deletePrimaryServiceToken: function(l, q) {m(q, function() {for(var m = this.builder.getServiceTokens(), t = 0; t < m.length; ++t)if(m[t].name == l) {this.builder.deleteServiceToken(l, {result: function() {q.result(!0);}, error: function(l) {q.error(l);}}); return;} return !1;}, this);}, deletePeerServiceToken: function(l, q) {m(q, function() {for(var m = this.builder.getPeerServiceTokens(), t = 0; t < m.length; ++t)if(m[t].name == l) {this.builder.deletePeerServiceToken(l, {result: function() {q.result(!0);}, error: function(l) {q.error(l);}}); return;} return !1;}, this);}});}()); (function() {function q(q, t, Q, L) {m(L, function() {var J, H, I, R, D, f; function E() {m(L, function() {var c; if(f >= Q.length) {if(D) throw D; throw new Fa(l.KEYX_RESPONSE_REQUEST_MISMATCH, JSON.stringify(Q));} c = Q[f]; I != c.keyExchangeScheme ? (++f, E()) : R.getCryptoContext(q, c, H, J, {result: L.result, error: function(a) {m(L, function() {if(!(a instanceof A)) throw a; D = a; ++f; E();});}});});} J = t.masterToken; H = t.keyResponseData; if(!H) return null; I = H.keyExchangeScheme; R = q.getKeyExchangeFactory(I); if(!R) throw new Fa(l.KEYX_FACTORY_NOT_FOUND, I); f = 0; E();});} se = hd.extend({init: function(m, t, Q, L, E, J, R) {var H; H = this; D(R, function() {var b; function I() {H._ready = !0; H._readyQueue.add(!0);} function R(a, b) {var c; try {c = b.masterToken; a.getTokenFactory().isMasterTokenRevoked(a, c, {result: function(g) {g ? (H._errored = new Lb(g, c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId), I()) : f(a, b);}, error: function(a) {a instanceof A && (a.setEntity(b.masterToken), a.setUser(b.userIdToken), a.setUser(b.userAuthenticationData), a.setMessageId(b.messageId)); H._errored = a; I();}});} catch(g) {g instanceof A && (g.setEntity(b.masterToken), g.setUser(b.userIdToken), g.setUser(b.userAuthenticationData), g.setMessageId(b.messageId)); H._errored = g; I();} } function f(a, b) {var d, g; try {d = b.masterToken; g = b.userIdToken; g ? a.getTokenFactory().isUserIdTokenRevoked(a, d, g, {result: function(p) {p ? (H._errored = new MslUserIdTokenException(p, g).setEntity(d).setUser(g).setMessageId(b.messageId), I()) : c(a, b);}, error: function(a) {a instanceof A && (a.setEntity(b.masterToken), a.setUser(b.userIdToken), a.setUser(b.userAuthenticationData), a.setMessageId(b.messageId)); H._errored = a; I();}}) : c(a, b);} catch(p) {p instanceof A && (p.setEntity(b.masterToken), p.setUser(b.userIdToken), p.setUser(b.userAuthenticationData), p.setMessageId(b.messageId)); H._errored = p; I();} } function c(b, c) {var d; try {d = c.masterToken; d.isExpired() ? c.isRenewable() && 0 != c.keyRequestData.length ? b.getTokenFactory().isMasterTokenRenewable(b, d, {result: function(g) {g ? (H._errored = new ua(g, "Master token is expired and not renewable.").setEntity(d).setUser(c.userIdToken).setUser(c.userAuthenticationData).setMessageId(c.messageId), I()) : a(b, c);}, error: function(a) {a instanceof A && (a.setEntity(c.masterToken), a.setUser(c.userIdToken), a.setUser(c.userAuthenticationData), a.setMessageId(c.messageId)); H._errored = a; I();}}) : (H._errored = new ua(l.MESSAGE_EXPIRED, JSON.stringify(c)).setEntity(d).setUser(c.userIdToken).setUser(c.userAuthenticationData).setMessageId(c.messageId), I()) : a(b, c);} catch(g) {g instanceof A && (g.setEntity(c.masterToken), g.setUser(c.userIdToken), g.setUser(c.userAuthenticationData), g.setMessageId(c.messageId)); H._errored = g; I();} } function a(a, b) {var c, g; try {c = b.masterToken; g = b.nonReplayableId; "number" === typeof g ? c ? a.getTokenFactory().acceptNonReplayableId(a, c, g, {result: function(a) {a || (H._errored = new ua(l.MESSAGE_REPLAYED, JSON.stringify(b)).setEntity(c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId)); I();}, error: function(a) {a instanceof A && (a.setEntity(c), a.setUser(b.userIdToken), a.setUser(b.userAuthenticationData), a.setMessageId(b.messageId)); H._errored = a; I();}}) : (H._errored = new ua(l.INCOMPLETE_NONREPLAYABLE_MESSAGE, JSON.stringify(b)).setEntity(b.entityAuthenticationData).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId), I()) : I();} catch(p) {p instanceof A && (p.setEntity(b.masterToken), p.setEntity(b.entityAuthenticationData), p.setUser(b.userIdToken), p.setUser(b.userAuthenticationData), p.setMessageId(b.messageId)); H._errored = p; I();} } b = {_source: {value: t, writable: !1, enumerable: !1, configurable: !1}, _parser: {value: da, writable: !0, enumerable: !1, configurable: !1}, _charset: {value: Q, writable: !1, enumerable: !1, configurable: !1}, _remainingData: {value: "", writable: !0, enumerable: !1, configurable: !1}, _timeout: {value: J, writable: !1, enumerable: !1, configurable: !1}, _header: {value: da, writable: !0, enumerable: !1, configurable: !1}, _cryptoContext: {value: da, writable: !0, enumerable: !1, configurable: !1}, _keyxCryptoContext: {value: da, writable: !0, enumerable: !1, configurable: !1}, _payloadSequenceNumber: {value: 1, writable: !0, enuemrable: !1, configurable: !1}, _eom: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _closeSource: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _payloads: {value: [], writable: !0, enumerable: !1, configurable: !1}, _payloadIndex: {value: -1, writable: !0, enumerable: !1, configurable: !1}, _payloadOffset: {value: 0, writable: !0, enuemrable: !1, configurable: !1}, _markOffset: {value: 0, writable: !0, enumerable: !1, configurable: !1}, _currentPayload: {value: null, writable: !0, enumerable: !1, configurable: !1}, _readException: {value: null, writable: !0, enumerable: !1, configurable: !1}, _ready: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _readyQueue: {value: new hc(), writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _timedout: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _errored: {value: null, writable: !0, enumerable: !1, configurable: !1}}; Object.defineProperties(this, b); Wd(H._source, J, {result: function(b) {H._json = b; H._jsonIndex = 0; null === H._json ? (H._errored = new Z(l.MESSAGE_DATA_MISSING), I()) : ce(m, H._json[H._jsonIndex++], E, {result: function(b) {var c; H._header = b; if(H._header instanceof Hb) H._keyxCryptoContext = null, H._cryptoContext = null, I(); else {c = H._header; q(m, c, L, {result: function(b) {var g; try {H._keyxCryptoContext = b; m.isPeerToPeer() || !H._keyxCryptoContext ? H._cryptoContext = c.cryptoContext : H._cryptoContext = H._keyxCryptoContext; try {g = c.masterToken; g && (m.isPeerToPeer() || g.isVerified()) ? R(m, c) : a(m, c);} catch(n) {n instanceof A && (n.setEntity(c.masterToken), n.setUser(c.userIdToken), n.setUser(c.userAuthenticationData), n.setMessageId(c.messageId)); H._errored = n; I();} } catch(n) {n instanceof A && (n.setEntity(c.masterToken), n.setEntity(c.entityAuthenticationData), n.setUser(c.userIdToken), n.setUser(c.userAuthenticationData), n.setMessageId(c.messageId)); H._errored = n; I();} }, error: function(a) {a instanceof A && (a.setEntity(c.masterToken), a.setEntity(c.entityAuthenticationData), a.setUser(c.userIdToken), a.setUser(c.userAuthenticationData), a.setMessageId(c.messageId)); H._errored = a; I();}});} }, error: function(a) {H._errored = a; I();}});}, timeout: function() {H._timedout = !0; I();}, error: function(a) {H._errored = a; I();}}); return this;}, H);}, nextData: function(m, q) {var t; t = this; D(q, function() {var E; function m(l) {D(l, function() {var q; if(this._jsonIndex < this._json.length) return q = this._json[this._jsonIndex++]; Wd(this._source, this._timeout, {result: function(q) {q && q.length && 0 < q.length ? (q.forEach(function(l) {this._json.push(l);}), m(l)) : (this._eom = !0, l.result(null));}, timeout: function() {l.timeout();}, error: function(m) {l.error(m);}});}, t);} E = this.getMessageHeader(); if(!E) throw new aa("Read attempted with error message."); if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length) return this._payloads[this._payloadIndex++]; if(this._eom) return null; m({result: function(m) {D(q, function() {if(!m) return null; if("object" !== typeof m) throw new Z(l.MESSAGE_FORMAT_ERROR); oe(m, this._cryptoContext, {result: function(m) {D(q, function() {var q, t, H, f; q = E.masterToken; t = E.entityAuthenticationData; H = E.userIdToken; f = E.getUserAuthenticationData; if(m.messageId != E.messageId) throw new ua(l.PAYLOAD_MESSAGE_ID_MISMATCH, "payload mid " + m.messageId + " header mid " + E.messageId).setEntity(q).setEntity(t).setUser(H).setUser(f); if(m.sequenceNumber != this._payloadSequenceNumber) throw new ua(l.PAYLOAD_SEQUENCE_NUMBER_MISMATCH, "payload seqno " + m.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(q).setEntity(t).setUser(H).setUser(f); ++this._payloadSequenceNumber; m.isEndOfMessage() && (this._eom = !0); q = m.data; this._payloads.push(q); this._payloadIndex = -1; return q;}, t);}, error: function(m) {m instanceof SyntaxError && (m = new Z(l.JSON_PARSE_ERROR, "payloadchunk", m)); q.error(m);}});}, t);}, timeout: function() {q.timeout();}, error: function(l) {q.error(l);}});}, t);}, isReady: function(l, m) {var t; function q() {D(m, function() {if(this._aborted) return !1; if(this._timedout) m.timeout(); else {if(this._errored) throw this._errored; return !0;} }, t);} t = this; D(m, function() {this._ready ? q() : this._readyQueue.poll(l, {result: function(l) {D(m, function() {if(l === da) return !1; q();}, t);}, timeout: function() {m.timeout();}, error: function(l) {m.error(l);}});}, t);}, getMessageHeader: function() {return this._header instanceof lc ? this._header : null;}, getErrorHeader: function() {return this._header instanceof Hb ? this._header : null;}, getIdentity: function() {var l, m; l = this.getMessageHeader(); if(l) {m = l.masterToken; return m ? m.identity : l.entityAuthenticationData.getIdentity();} return this.getErrorHeader().entityAuthenticationData.getIdentity();}, getCustomer: function() {var l; l = this.getMessageHeader(); return l ? l.customer : null;}, getPayloadCryptoContext: function() {return this._cryptoContext;}, getKeyExchangeCryptoContext: function() {return this._keyxCryptoContext;}, closeSource: function(l) {this._closeSource = l;}, abort: function() {this._aborted = !0; this._source.abort(); this._readyQueue.cancelAll();}, close: function() {this._closeSource && this._source.close();}, mark: function() {if(this._currentPayload) {for(; 0 < this._payloads.length && this._payloads[0] !== this._currentPayload;)this._payloads.shift(); this._payloadIndex = 0; this._currentPayload = this._payloads[this._payloadIndex++]; this._markOffset = this._payloadOffset;} else this._payloadIndex = -1, this._payloads = [];}, markSupported: function() {return !0;}, read: function(l, m, q) {var E; function t() {D(q, function() {var H, I, L, Q; function t(f) {D(f, function() {var c, a, b; if(I && Q >= I.length) return I.subarray(0, Q); c = -1; if(this._currentPayload) {a = this._currentPayload.length - this._payloadOffset; if(!I) {b = a; if(-1 != this._payloadIndex) for(var d = this._payloadIndex; d < this._payloads.length; ++d)b += this._payloads[d].length; 0 < b && (I = new Uint8Array(b));} a = Math.min(a, I ? I.length - Q : 0); 0 < a && (c = this._currentPayload.subarray(this._payloadOffset, this._payloadOffset + a), I.set(c, L), c = a, L += a, this._payloadOffset += a);} -1 != c ? (Q += c, t(f)) : this.nextData(m, {result: function(a) {D(f, function() {if(this._aborted) return I ? I.subarray(0, Q) : new Uint8Array(0); this._currentPayload = a; this._payloadOffset = 0; if(this._currentPayload) t(f); else return 0 == Q && 0 != l ? null : I ? I.subarray(0, Q) : new Uint8Array(0);}, E);}, timeout: function() {f.timeout(I ? I.subarray(0, Q) : new Uint8Array(0));}, error: function(a) {D(f, function() {a instanceof A && (a = new Ta("Error reading the payload chunk.", a)); if(0 < Q) return E._readException = a, I.subarray(0, Q); throw a;}, E);}});}, E);} if(this._aborted) return new Uint8Array(0); if(this._timedout) q.timeout(new Uint8Array(0)); else {if(this._errored) throw this._errored; if(null != this._readException) {H = this._readException; this._readException = null; throw H;} I = -1 != l ? new Uint8Array(l) : da; L = 0; Q = 0; t(q);} }, E);} E = this; D(q, function() {if(-1 > l) throw new RangeError("read requested with illegal length " + l); this._ready ? t() : this._readyQueue.poll(m, {result: function(l) {l === da ? q.result(!1) : t();}, timeout: function() {q.timeout(new Uint8Array(0));}, error: function(l) {q.error(l);}});}, E);}, reset: function() {this._payloadIndex = 0; 0 < this._payloads.length ? (this._currentPayload = this._payloads[this._payloadIndex++], this._payloadOffset = this._markOffset) : this._currentPayload = null;}}); te = function(l, m, q, t, E, J, A) {new se(l, m, q, t, E, J, A);};}()); (function() {ue = Dc.extend({init: function(l, m, q, t, L, E, J) {var H; H = this; D(J, function() {var J, A, f; function I() {H._ready = !0; H._readyQueue.add(!0);} J = nd(l.getMessageCapabilities(), t.messageCapabilities); A = null; J && (A = Kd(J.compressionAlgorithms)); J = {_destination: {value: m, writable: !1, enumerable: !1, configurable: !1}, _charset: {value: q, writable: !1, enumerable: !1, configurable: !1}, _capabilities: {value: J, writable: !1, enumerable: !1, configurable: !1}, _header: {value: t, writable: !1, enumerable: !1, configurable: !1}, _compressionAlgo: {value: A, writable: !0, enumerable: !1, configurable: !1}, _cryptoContext: {value: L, writable: !1, enumerable: !1, configurable: !1}, _payloadSequenceNumber: {value: 1, writable: !0, enumerable: !1, configurable: !1}, _currentPayload: {value: [], writable: !0, enumerable: !1, configurable: !1}, _closed: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _payloads: {value: [], writable: !1, enumerable: !1, configurable: !1}, _ready: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _readyQueue: {value: new hc(), writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _timedout: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _errored: {value: null, writable: !0, enumerable: !1, configurable: !1}}; Object.defineProperties(this, J); f = Na(JSON.stringify(t), q); m.write(f, 0, f.length, E, {result: function(c) {try {H._aborted ? I() : c < f.length ? (H._timedout = !0, I()) : m.flush(E, {result: function(a) {H._aborted || (H._timedout = !a); I();}, timeout: function() {H._timedout = !0; I();}, error: function(a) {H._errored = a; I();}});} catch(a) {H._errored = a; I();} }, timeout: function() {H._timedout = !0; I();}, error: function(c) {H._errored = c; I();}}); return this;}, H);}, setCompressionAlgorithm: function(l, m, q) {var H; function t() {H.flush(m, {result: function(m) {D(q, function() {if(!m) throw new Ta("flush() aborted"); this._compressionAlgo = l; return !0;}, H);}, timeout: function() {q.timeout();}, error: function(l) {q.error(l);}});} H = this; D(q, function() {if(!this.getMessageHeader()) throw new aa("Cannot write payload data for an error message."); if(this._compressionAlgo == l) return !0; if(l) {if(!this._capabilities) return !1; for(var m = this._capabilities.compressionAlgorithms, q = 0; q < m.length; ++q)if(m[q] == l) {t(); return;} return !1;} t();}, H);}, getMessageHeader: function() {return this._header instanceof lc ? this._header : null;}, getErrorMessage: function() {return this._header instanceof Hb ? this._header : null;}, getPayloads: function() {return this._payloads;}, abort: function() {this._aborted = !0; this._destination.abort(); this._readyQueue.cancelAll();}, close: function(l, m) {var q; q = this; D(m, function() {if(this._aborted) return !1; if(this._timedout) m.timeout(); else {if(this._errored) throw this._errored; if(this._closed) return !0; this._closed = !0; this.flush(l, {result: function(l) {D(m, function() {l && (this._currentPayload = null); return l;}, q);}, timeout: function() {m.timeout();}, error: function(l) {m.error(l);}});} }, q);}, flush: function(l, m) {var t; function q() {D(m, function() {var q, E, R; if(this._aborted) return !1; if(this._timedout) m.timeout(); else {if(this._errored) throw this._errored; if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length) return !0; q = this.getMessageHeader(); if(!q) return !0; E = 0; this._currentPayload && this._currentPayload.forEach(function(l) {E += l.length;}); for(var H = new Uint8Array(E), I = 0, Q = 0; this._currentPayload && Q < this._currentPayload.length; ++Q) {R = this._currentPayload[Q]; H.set(R, I); I += R.length;} ne(this._payloadSequenceNumber, q.messageId, this._closed, this._compressionAlgo, H, this._cryptoContext, {result: function(q) {D(m, function() {var f; this._payloads.push(q); f = Na(JSON.stringify(q), this._charset); this._destination.write(f, 0, f.length, l, {result: function(c) {D(m, function() {if(this._aborted) return !1; c < q.length ? m.timeout() : this._destination.flush(l, {result: function(a) {D(m, function() {if(this._aborted) return !1; if(a) return ++this._payloadSequenceNumber, this._currentPayload = this._closed ? null : [], !0; m.timeout();}, t);}, timeout: function() {m.timeout();}, error: function(a) {a instanceof A && (a = new Ta("Error encoding payload chunk [sequence number " + t._payloadSequenceNumber + "].", a)); m.error(a);}});}, t);}, timeout: function(c) {m.timeout();}, error: function(c) {c instanceof A && (c = new Ta("Error encoding payload chunk [sequence number " + t._payloadSequenceNumber + "].", c)); m.error(c);}});}, t);}, error: function(l) {l instanceof A && (l = new Ta("Error encoding payload chunk [sequence number " + t._payloadSequenceNumber + "].", l)); m.error(l);}});} }, t);} t = this; D(m, function() {this._ready ? q() : this._readyQueue.poll(l, {result: function(l) {l === da ? m.result(!1) : q();}, timeout: function() {m.timeout();}, error: function(l) {m.error(l);}});}, t);}, write: function(l, m, q, t, L) {D(L, function() {var t; if(this._aborted) return !1; if(this._timedout) L.timeout(); else {if(this._errored) throw this._errored; if(this._closed) throw new Ta("Message output stream already closed."); if(0 > m) throw new RangeError("Offset cannot be negative."); if(0 > q) throw new RangeError("Length cannot be negative."); if(m + q > l.length) throw new RangeError("Offset plus length cannot be greater than the array length."); if(!this.getMessageHeader()) throw new aa("Cannot write payload data for an error message."); t = l.subarray(m, m + q); this._currentPayload.push(t); return t.length;} }, this);}}); Jc = function(l, m, q, t, L, E, J) {new ue(l, m, q, t, L, E, J);};}()); ff = ga.Class.create({sentHeader: function(l) {}, receivedHeader: function(l) {}}); Object.freeze({USERDATA_REAUTH: q.USERDATA_REAUTH, SSOTOKEN_REJECTED: q.SSOTOKEN_REJECTED}); ve = ga.Class.create({getCryptoContexts: function() {}, getRecipient: function() {}, isEncrypted: function() {}, isIntegrityProtected: function() {}, isNonReplayable: function() {}, isRequestingTokens: function() {}, getUserId: function() {}, getUserAuthData: function(l, m, q, t) {}, getCustomer: function() {}, getKeyRequestData: function(l) {}, updateServiceTokens: function(l, m, q) {}, write: function(l, m, q) {}, getDebugContext: function() {}}); ga.Class.create({getInputStream: function(l) {}, getOutputStream: function(l) {}}); (function() {var La, pa, S, sa, f, c, a, b, d, k, h, g; function t(a) {return function() {a.abort();};} function H(a, b) {Object.defineProperties(this, {masterToken: {value: a, writable: !1, configurable: !1}, ticket: {value: b, writable: !1, configurable: !1}});} function I(a, b) {Object.defineProperties(this, {builder: {value: a, writable: !1, configurable: !1}, msgCtx: {value: b, writable: !1, configurable: !1}});} function Q(a, b, g) {Object.defineProperties(this, {requestHeader: {value: a, writable: !1, configurable: !1}, payloads: {value: b, writable: !1, configurable: !1}, handshake: {value: g, writable: !1, configurable: !1}});} function L(a, b) {Object.defineProperties(this, {requestHeader: {value: b.requestHeader, writable: !1, configurable: !1}, payloads: {value: b.payloads, writable: !1, configurable: !1}, handshake: {value: b.handshake, writable: !1, configurable: !1}, response: {value: a, writable: !1, configurable: !1}});} function E(a) {for(; a;) {if(a instanceof Ya) return !0; a = a instanceof A ? a.cause : da;} return !1;} function J(a, b, g, c, d, h, k, f, w) {qe(b, c, d, h, {result: function(c) {g && g.sentHeader(c); Jc(b, k, xa, c, null, null, f, {result: function(b) {a.setAbort(function() {b.abort();}); b.close(f, {result: function(a) {D(w, function() {if(!a) throw new Ya("sendError aborted."); return a;});}, timeout: function() {w.timeout();}, error: function(a) {w.error(a);}});}, timeout: function() {}, error: function(a) {w.error(a);}});}, error: function(a) {w.error(a);}});} La = Dc.extend({close: function(a, b) {b.result(!0);}, write: function(a, b, g, c, d) {m(d, function() {return Math.min(a.length - b, g);});}, flush: function(a, b) {b.result(!0);}}); pa = ef.extend({getUserMessage: function(a, b) {return null;}}); S = ve.extend({init: function(a) {Object.defineProperties(this, {_appCtx: {value: a, writable: !1, enumerable: !1, configurable: !1}});}, getCryptoContexts: function() {return this._appCtx.getCryptoContexts();}, isEncrypted: function() {return this._appCtx.isEncrypted();}, isIntegrityProtected: function() {return this._appCtx.isIntegrityProtected();}, isNonReplayable: function() {return this._appCtx.isNonReplayable();}, isRequestingTokens: function() {return this._appCtx.isRequestingTokens();}, getUserId: function() {return this._appCtx.getUserId();}, getUserAuthData: function(a, b, g, c) {this._appCtx.getUserAuthData(a, b, g, c);}, getCustomer: function() {return this._appCtx.getCustomer();}, getKeyRequestData: function(a) {this._appCtx.getKeyRequestData(a);}, updateServiceTokens: function(a, b, g) {this._appCtx.updateServiceTokens(a, b, g);}, write: function(a, b, g) {this._appCtx.write(a, b, g);}, getDebugContext: function() {return this._appCtx.getDebugContext();}}); sa = S.extend({init: function n(a, b) {n.base.call(this, b); Object.defineProperties(this, {_payloads: {value: a, writable: !1, enumerable: !1, configurable: !1}});}, write: function(a, b, g) {var d; function c(n, h) {var r; if(n == d._payloads.length) g.result(!0); else {r = d._payloads[n]; a.setCompressionAlgorithm(r.compressionAlgo, b, {result: function(k) {a.write(r.data, 0, r.data.length, b, {result: function(k) {D(g, function() {r.isEndOfMessage() ? c(n + 1, h) : a.flush(b, {result: function(a) {g.result(a);}, timeout: function() {g.timeout();}, error: function(a) {g.error(a);}});}, d);}, timeout: function(a) {g.timeout(a);}, error: function(a) {g.error(a);}});}, timeout: function() {}, error: function(a) {g.error(a);}});} } d = this; c(0);}}); f = S.extend({init: function r(a) {r.base.call(this, a);}, isEncrypted: function() {return !1;}, isNonReplayable: function() {return !1;}, write: function(a, b, g) {g.result(!0);}}); c = {}; h = ga.Class.create({init: function(a) {a || (a = new pa()); Object.defineProperties(this, {_filterFactory: {value: null, writable: !0, enumerable: !1, configurable: !1}, _renewingContexts: {value: [], writable: !1, enumerable: !1, configurable: !1}, _masterTokenLocks: {value: {}, writable: !1, enumerable: !1, configurable: !1}, _messageRegistry: {value: a, writable: !1, enumerable: !1, configurable: !1}});}, setFilterFactory: function(a) {this._filterFactory = a;}, getNewestMasterToken: function(a, b, g, c) {var d; d = this; D(c, function() {var h, r, k, u, v; h = b.getMslStore(); r = h.getMasterToken(); if(!r) return null; k = r.uniqueKey(); u = this._masterTokenLocks[k]; u || (u = new Xc(), this._masterTokenLocks[k] = u); v = u.readLock(g, {result: function(v) {D(c, function() {var w; if(v === da) throw new Ya("getNewestMasterToken aborted."); w = h.getMasterToken(); if(r.equals(w)) return new H(r, v); u.unlock(v); u.writeLock(g, {result: function(h) {D(c, function() {if(h === da) throw new Ya("getNewestMasterToken aborted."); delete this._masterTokenLocks[k]; u.unlock(h); return this.getNewestMasterToken(a, b, g, c);}, d);}, timeout: function() {c.timeout();}, error: function(a) {c.error(a);}});}, d);}, timeout: function() {c.timeout();}, error: function(a) {c.error(a);}}); a.setAbort(function() {v && (u.cancel(v), v = da);});}, d);}, deleteMasterToken: function(a, b) {var g; if(b) {g = this; setTimeout(function() {var c, d; c = b.uniqueKey(); d = g._masterTokenLocks[c]; d || (d = new Xc(), g._masterTokenLocks[c] = d); d.writeLock(-1, {result: function(h) {a.getMslStore().removeCryptoContext(b); delete g._masterTokenLocks[c]; d.unlock(h);}, timeout: function() {throw new aa("Unexpected timeout received.");}, error: function(a) {throw a;}});}, 0);} }, releaseMasterToken: function(a) {var b; if(a && a.masterToken) {b = a.masterToken.uniqueKey(); b = this._masterTokenLocks[b]; if(!b) throw new aa("Master token read/write lock does not exist when it should."); b.unlock(a.ticket);} }, updateOutgoingCryptoContexts: function(a, b, g) {var c; c = a.getMslStore(); !a.isPeerToPeer() && g && (c.setCryptoContext(g.keyResponseData.masterToken, g.cryptoContext), this.deleteMasterToken(a, b.masterToken));}, updateIncomingCryptoContexts: function(a, b, g) {var c, d; c = g.getMessageHeader(); if(c) {d = a.getMslStore(); if(c = c.keyResponseData) d.setCryptoContext(c.masterToken, g.getKeyExchangeCryptoContext()), this.deleteMasterToken(a, b.masterToken);} }, storeServiceTokens: function(a, b, g, c) {var r, k; a = a.getMslStore(); for(var d = [], h = 0; h < c.length; ++h) {r = c[h]; if(!r.isBoundTo(b) || !b.isVerified()) {k = r.data; k && 0 == k.length ? a.removeServiceTokens(r.name, r.isMasterTokenBound() ? b : null, r.isUserIdTokenBound() ? g : null) : d.push(r);} } 0 < d.length && a.addServiceTokens(d);}, buildRequest: function(a, b, g, c, d) {var h; h = this; this.getNewestMasterToken(a, b, c, {result: function(a) {m(d, function() {var c, r, k; c = a && a.masterToken; if(c) {r = g.getUserId(); k = b.getMslStore(); r = (r = r ? k.getUserIdToken(r) : null) && r.isBoundTo(c) ? r : null;} else r = null; Qb(b, c, r, null, {result: function(b) {m(d, function() {b.setNonReplayable(g.isNonReplayable()); return {builder: b, tokenTicket: a};});}, error: function(b) {m(d, function() {this.releaseMasterToken(a); b instanceof A && (b = new aa("User ID token not bound to master token despite internal check.", b)); throw b;}, h);}});}, h);}, timeout: function() {d.timeout();}, error: function(a) {d.error(a);}});}, buildResponse: function(a, b, g, c, d, h) {var r; r = this; pe(b, c, {result: function(k) {D(h, function() {k.setNonReplayable(g.isNonReplayable()); if(!b.isPeerToPeer() && !c.keyResponseData) return {builder: k, tokenTicket: null}; this.getNewestMasterToken(a, b, d, {result: function(a) {D(h, function() {var c, d, h; c = a && a.masterToken; if(c) {d = g.getUserId(); h = b.getMslStore(); d = (d = d ? h.getUserIdToken(d) : null) && d.isBoundTo(c) ? d : null;} else d = null; k.setAuthTokens(c, d); return {builder: k, tokenTicket: a};}, r);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});}, r);}, error: function(a) {h.error(a);}});}, buildErrorResponse: function(a, b, g, c, d, h, k) {var v; function r(a, c) {D(k, function() {var h, r; h = Pb(d.messageId); r = new sa(c, g); Qb(b, null, null, h, {result: function(g) {D(k, function() {b.isPeerToPeer() && g.setPeerAuthTokens(a.peerMasterToken, a.peerUserIdToken); g.setNonReplayable(r.isNonReplayable()); return {errorResult: new I(g, r), tokenTicket: null};}, v);}, error: function(a) {k.error(a);}});}, v);} function u(c, r) {v.getNewestMasterToken(a, b, h, {result: function(a) {D(k, function() {var h, u, f; h = a && a.masterToken; u = Pb(d.messageId); f = new sa(r, g); Qb(b, h, null, u, {result: function(g) {D(k, function() {b.isPeerToPeer() && g.setPeerAuthTokens(c.peerMasterToken, c.peerUserIdToken); g.setNonReplayable(f.isNonReplayable()); return {errorResult: new I(g, f), tokenTicket: a};}, v);}, error: function(a) {k.error(a);}});}, v);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});} v = this; D(k, function() {var f, w, x, B; f = c.requestHeader; w = c.payloads; x = d.errorCode; switch(x) {case q.ENTITYDATA_REAUTH: case q.ENTITY_REAUTH: b.getEntityAuthenticationData(x, {result: function(a) {D(k, function() {if(!a) return null; r(f, w);}, v);}, error: function(a) {k.error(a);}}); break; case q.USERDATA_REAUTH: case q.SSOTOKEN_REJECTED: g.getUserAuthData(x, !1, !0, {result: function(a) {D(k, function() {if(!a) return null; u(f, w);}, v);}, error: function(a) {k.error(a);}}); break; case q.USER_REAUTH: u(f, w); break; case q.KEYX_REQUIRED: x = Pb(d.messageId), B = new sa(w, g); Qb(b, null, null, x, {result: function(a) {D(k, function() {b.isPeerToPeer() && a.setPeerAuthTokens(f.peerMasterToken, f.peerUserIdToken); a.setRenewable(!0); a.setNonReplayable(B.isNonReplayable()); return {errorResult: new I(a, B), tokenTicket: null};}, v);}, error: function(a) {k.error(a);}}); break; case q.EXPIRED: this.getNewestMasterToken(a, b, h, {result: function(a) {D(k, function() {var c, h, r, u; c = a && a.masterToken; h = f.userIdToken; r = Pb(d.messageId); u = new sa(w, g); Qb(b, c, h, r, {result: function(g) {D(k, function() {b.isPeerToPeer() && g.setPeerAuthTokens(f.peerMasterToken, f.peerUserIdToken); f.masterToken.equals(c) && g.setRenewable(!0); g.setNonReplayable(u.isNonReplayable()); return {errorResult: new I(g, u), tokenTicket: a};}, v);}, error: function(a) {k.error(a);}}, v);}, v);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}}); break; case q.REPLAYED: this.getNewestMasterToken(a, b, h, {result: function(a) {D(k, function() {var c, h, r, u; c = a && a.masterToken; h = f.userIdToken; r = Pb(d.messageId); u = new sa(w, g); Qb(b, c, h, r, {result: function(g) {D(k, function() {b.isPeerToPeer() && g.setPeerAuthTokens(f.peerMasterToken, f.peerUserIdToken); f.masterToken.equals(c) ? (g.setRenewable(!0), g.setNonReplayable(!1)) : g.setNonReplayable(u.isNonReplayable()); return {errorResult: new I(g, u), tokenTicket: a};}, v);}, error: function(a) {k.error(a);}});}, v);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}}); break; default: return null;}}, v);}, cleanupContext: function(a, b, g) {switch(g.errorCode) {case q.ENTITY_REAUTH: this.deleteMasterToken(a, b.masterToken); break; case q.USER_REAUTH: g = b.userIdToken, b.masterToken && g && a.getMslStore().removeUserIdToken(g);}}, send: function(a, b, g, c, d, h, k) {var B; function r(a, c, h) {D(k, function() {var r; r = d.getPeerUserIdToken(); !b.isPeerToPeer() && !c || b.isPeerToPeer() && !r ? (r = g.getCustomer()) ? d.setCustomer(r, {result: function(b) {D(k, function() {c = d.getUserIdToken(); u(a, c, h);}, B);}, error: function(a) {k.error(a);}}) : u(a, c, h) : u(a, c, h);}, B);} function u(a, b, c) {D(k, function() {var h, r; h = !c && (!g.isEncrypted() || d.willEncryptPayloads()) && (!g.isIntegrityProtected() || d.willIntegrityProtectPayloads()) && (!g.isNonReplayable() || d.isNonReplayable() && a); h || d.setNonReplayable(!1); r = []; d.isRenewable() && (!a || a.isRenewable() || g.isNonReplayable()) ? g.getKeyRequestData({result: function(g) {D(k, function() {var k; for(var c = 0; c < g.length; ++c) {k = g[c]; r.push(k); d.addKeyRequestData(k);} v(a, b, h, r);}, B);}, error: function(a) {k.error(a);}}) : v(a, b, h, r);}, B);} function v(r, u, v, w) {D(k, function() {var w; w = new re(b, g, d); g.updateServiceTokens(w, !v, {result: function(w) {d.getHeader({result: function(w) {D(k, function() {var x, B; x = g.getDebugContext(); x && x.sentHeader(w); x = d.getKeyExchangeData(); this.updateOutgoingCryptoContexts(b, w, x); this.storeServiceTokens(b, r, u, w.serviceTokens); x = !b.isPeerToPeer() && x ? x.cryptoContext : w.cryptoContext; if(a.isAborted()) throw new Ya("send aborted."); B = null != this._filterFactory ? this._filterFactory.getOutputStream(c) : c; Jc(b, B, xa, w, x, h, {result: function(b) {a.setAbort(function() {b.abort();}); f(b, w, v);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, B);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, error: function(a) {k.error(a);}});}, B);} function f(c, d, r) {var u, v; if(r) g.write(c, h, {result: function(b) {D(k, function() {if(a.isAborted()) throw new Ya("MessageOutputStream write aborted."); w(c, d, r);}, B);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}}); else {u = new La(); v = new $b(); Jc(b, u, xa, d, v, h, {result: function(b) {g.write(b, h, {result: function(g) {D(k, function() {if(a.isAborted()) throw new Ya("MessageOutputStream proxy write aborted."); b.close(h, {result: function(a) {D(k, function() {var g; if(!a) throw new Ya("MessageOutputStream proxy close aborted."); g = b.getPayloads(); w(c, d, r, g);}, B);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, B);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});} } function w(a, b, g, c) {a.close(h, {result: function(d) {D(k, function() {if(!d) throw new Ya("MessageOutputStream close aborted."); c || (c = a.getPayloads()); return new Q(b, c, !g);}, B);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});} B = this; D(k, function() {var a, b, c, h; a = d.getMasterToken(); b = d.getUserIdToken(); c = !1; if(g.getUserId()) {h = !b; g.getUserAuthData(null, d.isRenewable(), h, {result: function(g) {D(k, function() {g && (d.willEncryptHeader() && d.willIntegrityProtectHeader() ? d.setUserAuthenticationData(g) : c = !0); r(a, b, c);}, B);}, error: function(a) {k.error(a);}});} else r(a, b, c);}, B);}, receive: function(a, b, g, c, d, h, k) {var r; r = this; D(k, function() {var u, v, f; if(a.isAborted()) throw new Ya("receive aborted."); u = []; d && (u = d.keyRequestData.filter(function() {return !0;})); v = g.getCryptoContexts(); f = this._filterFactory ? this._filterFactory.getInputStream(c) : c; te(b, f, xa, u, v, h, {result: function(c) {a.setAbort(function() {c.abort();}); c.isReady(h, {result: function(a) {D(k, function() {var h, u, v, f; if(!a) throw new Ya("MessageInputStream aborted."); h = c.getMessageHeader(); u = c.getErrorHeader(); v = g.getDebugContext(); v && v.receivedHeader(h ? h : u); if(d && (v = u ? u.errorCode : null, h || v != q.FAIL && v != q.TRANSIENT_FAILURE && v != q.ENTITY_REAUTH && v != q.ENTITYDATA_REAUTH)) {v = h ? h.messageId : u.messageId; f = Pb(d.messageId); if(v != f) throw new ua(l.UNEXPECTED_RESPONSE_MESSAGE_ID, "expected " + f + "; received " + v);} b.getEntityAuthenticationData(null, {result: function(a) {D(k, function() {var r, k, v, f; r = a.getIdentity(); if(h) {k = h.entityAuthenticationData; v = h.masterToken; k = v ? h.sender : k.getIdentity(); if(v && v.isDecrypted() && v.identity != k || r == k) throw new ua(l.UNEXPECTED_MESSAGE_SENDER, k); d && this.updateIncomingCryptoContexts(b, d, c); r = h.keyResponseData; b.isPeerToPeer() ? (r = r ? r.masterToken : h.peerMasterToken, v = h.peerUserIdToken, k = h.peerServiceTokens) : (r = r ? r.masterToken : h.masterToken, v = h.userIdToken, k = h.serviceTokens); f = g.getUserId(); f && v && !v.isVerified() && b.getMslStore().addUserIdToken(f, v); this.storeServiceTokens(b, r, v, k);} else if(k = u.entityAuthenticationData.getIdentity(), r == k) throw new ua(l.UNEXPECTED_MESSAGE_SENDER, k); return c;}, r);}, error: k.error});}, r);}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, timeout: function() {k.timeout();}, error: function(a) {k.error(a);}});}, r);}, sendReceive: function(a, b, g, c, d, h, k, f, C) {var u; function r(r, v) {D(C, function() {h.setRenewable(v); this.send(a, b, g, d, h, k, {result: function(d) {D(C, function() {var h; h = d.requestHeader.keyRequestData; f || d.handshake || !h.isEmpty() ? this.receive(a, b, g, c, d.requestHeader, k, {result: function(a) {D(C, function() {v && this.releaseRenewalLock(b, r, a); return new L(a, d);}, u);}, timeout: function() {D(C, function() {v && this.releaseRenewalLock(b, r, null); C.timeout();}, u);}, error: function(a) {D(C, function() {v && this.releaseRenewalLock(b, r, null); throw a;}, u);}}) : D(C, function() {v && this.releaseRenewalLock(b, r, null); return new L(null, d);}, u);}, u);}, timeout: function() {D(C, function() {v && this.releaseRenewalLock(b, r, null); C.timeout();}, u);}, error: function(a) {D(C, function() {v && this.releaseRenewalLock(b, r, null); throw a;}, u);}});}, u);} u = this; D(C, function() {var c; c = new hc(); this.acquireRenewalLock(a, b, g, c, h, k, {result: function(a) {r(c, a);}, timeout: function() {C.timeout();}, error: function(a) {a instanceof Ya ? C.result(null) : C.error(a);}});}, u);}, acquireRenewalLock: function(a, b, g, d, h, k, f) {var v; function r(w, x, B) {D(f, function() {var F, C; if(a.isAborted()) throw new Ya("acquireRenewalLock aborted."); for(var y = null, z = 0; z < this._renewingContexts.length; ++z) {F = this._renewingContexts[z]; if(F.ctx === b) {y = F.queue; break;} } if(!y) return this._renewingContexts.push({ctx: b, queue: d}), !0; C = y.poll(k, {result: function(a) {D(f, function() {var d; if(a === da) throw new Ya("acquireRenewalLock aborted."); y.add(a); if(a === c || a.isExpired()) r(a, x, B); else {if(B && !x || x && !x.isBoundTo(a)) {d = b.getMslStore().getUserIdToken(B); x = d && d.isBoundTo(a) ? d : null;} h.setAuthTokens(a, x); h.isRenewable() && a.equals(w) ? r(a, x, B) : g.isRequestingTokens() && !x ? r(a, x, B) : u(a, x);} }, v);}, timeout: function() {}, error: function(a) {}}); a.setAbort(function() {C && (y.cancel(C), C = da);});}, v);} function u(c, h) {D(f, function() {var u; if(a.isAborted()) throw new Ya("acquireRenewalLock aborted."); if(!c || c.isRenewable() || !h && g.getUserId() || h && h.isRenewable()) {for(var r = null, k = 0; k < this._renewingContexts.length; ++k) {u = this._renewingContexts[k]; if(u.ctx === b) {r = u.queue; break;} } if(!r) return this._renewingContexts.push({ctx: b, queue: d}), !0;} return !1;}, v);} v = this; D(f, function() {var a, b, c; a = h.getMasterToken(); b = h.getUserIdToken(); c = g.getUserId(); g.isEncrypted() && !h.willEncryptPayloads() || g.isIntegrityProtected() && !h.willIntegrityProtectPayloads() || h.isRenewable() || !a && g.isNonReplayable() || a && a.isExpired() || !(b || !c || h.willEncryptHeader() && h.willIntegrityProtectHeader()) || g.isRequestingTokens() && (!a || c && !b) ? r(a, b, c) : u(a, b);}, v);}, releaseRenewalLock: function(a, b, g) {var k; for(var d, h, r = 0; r < this._renewingContexts.length; ++r) {k = this._renewingContexts[r]; if(k.ctx === a) {d = r; h = k.queue; break;} } if(h !== b) throw new aa("Attempt to release renewal lock that is not owned by this queue."); g ? (g = g.messageHeader) ? (h = g.keyResponseData) ? b.add(h.masterToken) : (a = a.isPeerToPeer() ? g.peerMasterToken : g.masterToken) ? b.add(a) : b.add(c) : b.add(c) : b.add(c); this._renewingContexts.splice(d, 1);}}); we = ga.Class.create({init: function() {var a; a = {_impl: {value: new h(), writable: !1, enumerable: !1, configurable: !1}, _shutdown: {value: !1, writable: !1, enumerable: !1, configurable: !1}}; Object.defineProperties(this, a);}, setFilterFactory: function(a) {this._impl.setFilterFactory(a);}, shutdown: function() {this._shutdown = !0;}, receive: function(b, g, c, d, h, k) {var r; if(this._shutdown) throw new A("MslControl is shutdown."); r = new a(this._impl, b, g, c, d, h); setTimeout(function() {r.call(k);}, 0); return t(r);}, respond: function(a, g, c, d, h, k, f) {var r; if(this._shutdown) throw new A("MslControl is shutdown."); r = new b(this._impl, a, g, c, d, h, k); setTimeout(function() {r.call(f);}, 0); return t(r);}, error: function(a, b, g, c, h, k, f) {var r; if(this._shutdown) throw new A("MslControl is shutdown."); r = new d(this._impl, a, b, g, c, h, k); setTimeout(function() {r.call(f);}, 0); return t(r);}, request: function(a, b) {var g, c, d, h, r, u; if(this._shutdown) throw new A("MslControl is shutdown."); if(5 == arguments.length) {if(g = arguments[2], d = c = null, h = arguments[3], r = arguments[4], a.isPeerToPeer()) {r.error(new aa("This method cannot be used in peer-to-peer mode.")); return;} } else if(6 == arguments.length && (g = null, c = arguments[2], d = arguments[3], h = arguments[4], r = arguments[5], !a.isPeerToPeer())) {r.error(new aa("This method cannot be used in trusted network mode.")); return;} u = new k(this._impl, a, b, g, c, d, null, 0, h); setTimeout(function() {u.call(r);}, 0); return t(u);}}); a = ga.Class.create({init: function(a, b, g, c, d, h) {Object.defineProperties(this, {_ctrl: {value: a, writable: !1, enumerable: !1, configurable: !1}, _ctx: {value: b, writable: !1, enumerable: !1, configurable: !1}, _msgCtx: {value: g, writable: !1, enumerable: !1, configurable: !1}, _input: {value: c, writable: !1, enumerable: !1, configurable: !1}, _output: {value: d, writable: !1, enumerable: !1, configurable: !1}, _timeout: {value: h, writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _abortFunc: {value: da, writable: !0, enumerable: !1, configurable: !1}});}, isAborted: function() {return this._aborted;}, abort: function() {this._aborted = !0; this._abortFunc && this._abortFunc.call(this);}, setAbort: function(a) {this._abortFunc = a;}, call: function(a) {var d; function b(b) {D(a, function() {var c; c = b.messageHeader; if(!c) return b; this.setAbort(function() {b.abort();}); b.mark(Number.MAX_VALUE); b.read(1, d._timeout, {result: function(c) {D(a, function() {if(c && 0 == c.length) return null; if(c) return b.reset(), b; g(b);}, d);}, timeout: function() {a.timeout();}, error: function(b) {D(a, function() {var g, h, r; if(E(b)) return null; g = c ? c.messageId : null; b instanceof Ta ? (h = l.MSL_COMMS_FAILURE, r = b) : (h = l.INTERNAL_EXCEPTION, r = new aa("Error peeking into the message payloads.")); J(this, this._ctx, this._msgCtx.getDebugContext(), g, h, null, this._output, this._timeout, {result: function(b) {a.error(r);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {if(E(g)) return null; throw new $a("Error peeking into the message payloads.", g, b);}, d);}});}, d);}});}, d);} function g(b) {D(a, function() {b.close(); this._ctrl.buildResponse(this, this._ctx, this._msgCtx, b.messageHeader, this._timeout, {result: function(g) {D(a, function() {var d, h, r, u, v; d = g.builder; h = g.tokenTicket; r = b.messageHeader; u = new f(this._msgCtx); if(!this._ctx.isPeerToPeer() || r.isEncrypting() || r.keyResponseData) c(r, d, u, h); else {v = new k(this._ctrl, this._ctx, u, null, this._input, this._output, g, 1, this._timeout); this.setAbort(function() {v.abort();}); v.call(a);} }, d);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {var c, h, r, k; if(E(g)) return null; g instanceof A ? (c = g.messageId, h = g.error, r = b.messageHeader.messageCapabilities, r = this._ctrl.messageRegistry.getUserMessage(h, r ? r.languages : null), k = g) : (c = requestHeader ? requestHeader.messageId : null, h = l.INTERNAL_EXCEPTION, r = null, k = new aa("Error creating an automatic handshake response.", g)); J(this, this._ctx, this._msgCtx.getDebugContext(), c, h, r, this._output, this._timeout, {result: function(b) {a.error(k);}, timeout: function() {a.timeout();}, error: function(b) {D(a, function() {if(E(b)) return null; throw new $a("Error creating an automatic handshake response.", b, g);}, d);}});}, d);}});}, d);} function c(b, g, c, h) {D(a, function() {g.setRenewable(!1); this._ctrl.send(this._ctx, c, this._output, g, this._timeout, {result: function(b) {D(a, function() {this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(h); return null;}, d);}, timeout: function() {D(a, function() {this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(h); a.timeout();}, d);}, error: function(g) {D(a, function() {var c, r, k, u; this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(h); if(E(g)) return null; g instanceof A ? (c = g.messageId, r = g.error, k = b ? b.messageCapabilities : null, k = this._ctrl.messageRegistry.getUserMessage(r, k ? k.languages : null), u = g) : g instanceof Ta ? (c = b ? b.messageId : null, r = l.MSL_COMMS_FAILURE, k = null, u = g) : (c = b ? b.messageId : null, r = l.INTERNAL_EXCEPTION, k = null, u = new aa("Error sending an automatic handshake response.", g)); J(this, this._ctx, this._msgCtx.getDebugContext(), c, r, k, this._output, this._timeout, {result: function(b) {a.error(u);}, timeout: function() {a.timeout();}, error: function(b) {D(a, function() {if(E(b)) return null; throw new $a("Error sending an automatic handshake response.", b, g);}, d);}});}, d);}});}, d);} d = this; D(a, function() {this._ctrl.receive(this, this._ctx, this._msgCtx, this._input, null, this._timeout, {result: function(a) {b(a);}, timeout: function() {a.timeout();}, error: function(b) {D(a, function() {var g, c, h, r; if(E(b)) return null; b instanceof A ? (g = b.messageId, c = b.error, h = this._ctrl.messageRegistry.getUserMessage(c, null), r = b) : (g = null, c = l.INTERNAL_EXCEPTION, h = null, r = new aa("Error receiving the message header.", b)); J(this, this._ctx, this._msgCtx.getDebugContext(), g, c, h, this._output, this._timeout, {result: function(b) {a.error(r);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {if(E(g)) return null; throw new $a("Error receiving the message header.", g, b);}, d);}});}, d);}});}, d);}}); b = ga.Class.create({init: function(a, b, g, c, d, h, k) {Object.defineProperties(this, {_ctrl: {value: a, writable: !1, enumerable: !1, configurable: !1}, _ctx: {value: b, writable: !1, enumerable: !1, configurable: !1}, _msgCtx: {value: g, writable: !1, enumerable: !1, configurable: !1}, _input: {value: c, writable: !1, enumerable: !1, configurable: !1}, _output: {value: d, writable: !1, enumerable: !1, configurable: !1}, _request: {value: h, writable: !1, enumerable: !1, configurable: !1}, _timeout: {value: k, writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _abortFunc: {value: da, writable: !0, enumerable: !1, configurable: !1}});}, isAborted: function() {return this._aborted;}, abort: function() {this._aborted = !0; this._abortFunc && this._abortFunc.call(this);}, setAbort: function(a) {this._abortFunc = a;}, trustedNetworkExecute: function(a, b, g) {var c; c = this; D(g, function() {var d, h; if(12 < b + 1) return !1; if(d = this._msgCtx.isIntegrityProtected() && !a.willIntegrityProtectHeader() ? l.RESPONSE_REQUIRES_INTEGRITY_PROTECTION : this._msgCtx.isEncrypted() && !a.willEncryptPayloads() ? l.RESPONSE_REQUIRES_ENCRYPTION : null) {h = ac(a.getMessageId()); J(this, this._ctx, this._msgCtx.getDebugContext(), h, d, null, this._output, this._timeout, {result: function(a) {g.result(!1);}, timeout: function() {g.timeout();}, error: function(a) {D(g, function() {if(E(a)) return !1; throw new $a("Response requires encryption or integrity protection but cannot be protected: " + d, a, null);}, c);}});} else !this._msgCtx.getCustomer() || a.getMasterToken() || a.getKeyExchangeData() ? (a.setRenewable(!1), this._ctrl.send(this._ctx, this._msgCtx, this._output, a, this._timeout, {result: function(a) {g.result(!0);}, timeout: function() {g.timeout();}, error: function(a) {g.error(a);}})) : (h = ac(a.getMessageId()), J(this, this._ctx, this._msgCtx.getDebugContext(), h, l.RESPONSE_REQUIRES_MASTERTOKEN, null, this._output, this._timeout, {result: function(a) {g.result(!1);}, timeout: function() {g.timeout();}, error: function(a) {D(g, function() {if(E(a)) return !1; throw new $a("Response wishes to attach a user ID token but there is no master token.", a, null);}, c);}}));}, c);}, peerToPeerExecute: function(a, b, g, c) {var h; function d(b) {D(c, function() {var d; d = b.response; d.close(); d = d.getErrorHeader(); this._ctrl.cleanupContext(this._ctx, b.requestHeader, d); this._ctrl.buildErrorResponse(this, this._ctx, a, b, d, {result: function(a) {D(c, function() {var b, d; if(!a) return !1; b = a.errorResult; d = a.tokenTicket; this.peerToPeerExecute(b.msgCtx, b.builder, g, {result: function(a) {D(c, function() {this._ctrl.releaseMasterToken(d); return a;}, h);}, timeout: function() {D(c, function() {this._ctrl.releaseMasterToken(d); c.timeout();}, h);}, error: function(a) {D(c, function() {this._ctrl.releaseMasterToken(d); throw a;}, h);}});}, h);}});}, h);} h = this; D(c, function() {var r; if(12 < g + 2) return !1; if(null != a.getCustomer() && null == b.getPeerMasterToken() && null == b.getKeyExchangeData()) {r = ac(b.getMessageId()); J(this, this._ctx, a.getDebugContext(), r, l.RESPONSE_REQUIRES_MASTERTOKEN, null, this._output, this._timeout, {result: function(a) {c.result(!1);}, timeout: function() {c.timeout();}, error: function(a) {D(c, function() {if(E(a)) return !1; throw new $a("Response wishes to attach a user ID token but there is no master token.", a, null);}, h);}});} else this._ctrl.sendReceive(this._ctx, a, this._input, this._output, b, this._timeout, !1, {result: function(b) {D(c, function() {var u, v, f; function r() {u.read(32768, h._timeout, {result: function(a) {D(c, function() {a ? r() : k();}, h);}, timeout: function() {c.timeout();}, error: function(a) {c.error(a);}});} function k() {D(c, function() {var d; d = new sa(b.payloads, a); this._ctrl.buildResponse(this, this._ctx, d, v, this._timeout, {result: function(a) {D(c, function() {var b; b = a.tokenTicket; this.peerToPeerExecute(d, a.builder, g, {result: function(a) {D(c, function() {this._ctrl.releaseMasterToken(b); return a;}, h);}, timeout: function() {D(c, function() {this._ctrl.releaseMasterToken(b); c.timeout();}, h);}, error: function(a) {D(c, function() {this._ctrl.releaseMasterToken(b); throw a;}, h);}});}, h);}, timeout: function() {c.timeout();}, error: function(a) {c.error(a);}});}, h);} u = b.response; g += 2; if(!u) return !0; v = u.getMessageHeader(); if(v) {f = b.payloads; f = 0 < f.length && 0 < f[0].data.length; if(b.handshake && f) r(); else return !0;} else d(b);}, h);}, timeout: function() {c.timeout();}, error: function(a) {c.error(a);}});}, h);}, call: function(a) {var b; b = this; this._ctrl.buildResponse(this, this._ctx, this._msgCtx, this._request, this._timeout, {result: function(g) {D(a, function() {var c, d; c = g.builder; d = g.tokenTicket; this._ctx.isPeerToPeer() ? this.peerToPeerExecute(this._msgCtx, c, 3, {result: function(g) {D(a, function() {this._ctx.isPeerToPeer() && this.releaseMasterToken(d); return g;}, b);}, timeout: function() {D(a, function() {this._ctx.isPeerToPeer() && this.releaseMasterToken(d); a.timeout();}, b);}, error: function(g) {D(a, function() {var h, r, k, u; this._ctx.isPeerToPeer() && this.releaseMasterToken(d); if(E(g)) return !1; h = ac(c.getMessageId()); g instanceof A ? (r = g.error, k = this._request.messageCapabilities, k = this._ctrl.messageRegistry.getUserMessage(r, k ? k.languages : null), u = g) : g instanceof Ta ? (r = l.MSL_COMMS_FAILURE, k = null, u = g) : (r = l.INTERNAL_EXCEPTION, k = null, u = new aa("Error sending the response.", g)); J(this, this._ctx, this._msgCtx.getDebugContext(), h, r, k, this._output, this._timeout, {result: function(b) {a.error(u);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {if(E(g)) return !1; throw new $a("Error sending the response.", g, null);}, b);}});}, b);}}) : this.trustedNetworkExecute(c, 3, {result: function(g) {D(a, function() {this._ctx.isPeerToPeer() && this.releaseMasterToken(d); return g;}, b);}, timeout: function() {D(a, function() {this._ctx.isPeerToPeer() && this.releaseMasterToken(d); a.timeout();}, b);}, error: function(g) {D(a, function() {var h, r, k, u; this._ctx.isPeerToPeer() && this.releaseMasterToken(d); if(E(g)) return !1; h = ac(c.getMessageId()); g instanceof A ? (r = g.error, k = this._request.messageCapabilities, k = this._ctrl.messageRegistry.getUserMessage(r, k ? k.languages : null), u = g) : g instanceof Ta ? (r = l.MSL_COMMS_FAILURE, k = null, u = g) : (r = l.INTERNAL_EXCEPTION, k = null, u = new aa("Error sending the response.", g)); J(this, this._ctx, this._msgCtx.getDebugContext(), h, r, k, this._output, this._timeout, {result: function(b) {a.error(u);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {if(E(g)) return !1; throw new $a("Error sending the response.", g, null);}, b);}});}, b);}});}, b);}, timeout: function() {a.timeout();}, error: function(g) {D(a, function() {var c, d, h, r; if(E(g)) return !1; g instanceof A ? (c = g.messageId, d = g.error, h = this._request.messageCapabilities, h = this._ctrl.messageRegistry.getUserMessage(d, h ? h.languages : null), r = g) : (c = null, d = l.INTERNAL_EXCEPTION, h = null, r = new aa("Error building the response.", g)); J(this, this._ctx, this._msgCtx.getDebugContext(), c, d, h, this._output, this._timeout, {result: function(b) {a.error(r);}, timeout: function() {a.timeout();}, error: function(c) {D(a, function() {if(E(c)) return null; throw new $a("Error building the response.", c, g);}, b);}});}, b);}});}}); d = ga.Class.create({init: function(a, b, g, c, d, h, k) {Object.defineProperties(this, {_ctrl: {value: a, writable: !1, enumerable: !1, configurable: !1}, _ctx: {value: b, writable: !1, enumerable: !1, configurable: !1}, _msgCtx: {value: g, writable: !1, enumerable: !1, configurable: !1}, _appError: {value: c, writable: !1, enumerable: !1, configurable: !1}, _output: {value: output, writable: !1, enumerable: !1, configurable: !1}, _request: {value: h, writable: !1, enumerable: !1, configurable: !1}, _timeout: {value: k, writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _abortFunc: {value: da, writable: !0, enumerable: !1, configurable: !1}});}, isAborted: function() {return this._aborted;}, abort: function() {this._aborted = !0; this._abortFunc && this._abortFunc.call(this);}, setAbort: function(a) {this._abortFunc = a;}, call: function(a) {var b; b = this; D(a, function() {var g, c; if(this._appError == ENTITY_REJECTED) g = this._request.masterToken ? l.MASTERTOKEN_REJECTED_BY_APP : l.ENTITY_REJECTED_BY_APP; else if(this._appError == USER_REJECTED) g = this._request.userIdToken ? l.USERIDTOKEN_REJECTED_BY_APP : l.USER_REJECTED_BY_APP; else throw new aa("Unhandled application error " + this._appError + "."); c = this._request.messageCapabilities; c = this._ctrl.messageRegistry.getUserMessage(g, c ? c.languages : null); J(this, this._ctx, this._msgCtx.getDebugContext(), this._request.messageId, g, c, this._output, this._timeout, {result: function(b) {a.result(b);}, timeout: a.timeout, error: function(g) {D(a, function() {if(E(g)) return !1; if(g instanceof A) throw g; throw new aa("Error building the error response.", g);}, b);}});}, b);}}); g = {result: function() {}, timeout: function() {}, error: function() {}}; k = ga.Class.create({init: function(a, b, g, c, d, h, k, f, C) {var r; k ? (r = k.builder, k = k.tokenTicket) : k = r = null; Object.defineProperties(this, {_ctrl: {value: a, writable: !1, enumerable: !1, configurable: !1}, _ctx: {value: b, writable: !1, enumerable: !1, configurable: !1}, _msgCtx: {value: g, writable: !1, enumerable: !1, configurable: !1}, _remoteEntity: {value: c, writable: !1, enumerable: !1, configurable: !1}, _input: {value: d, writable: !0, enumerable: !1, configurable: !1}, _output: {value: h, writable: !0, enumerable: !1, configurable: !1}, _openedStreams: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _builder: {value: r, writable: !0, enumerable: !1, configurable: !1}, _tokenTicket: {value: k, writable: !0, enumerable: !1, configurable: !1}, _timeout: {value: C, writable: !1, enumerable: !1, configurable: !1}, _msgCount: {value: f, writable: !1, enumerable: !1, configurable: !1}, _aborted: {value: !1, writable: !0, enumerable: !1, configurable: !1}, _abortFunc: {value: da, writable: !0, enumerable: !1, configurable: !1}});}, isAborted: function() {return this._aborted;}, abort: function() {this._aborted = !0; this._abortFunc && this._abortFunc.call(this);}, setAbort: function(a) {this._abortFunc = a;}, execute: function(a, b, c, d, h) {var v; function r(b) {function r(a) {D(h, function() {var g; g = b.response; return a ? a : g;}, v);} D(h, function() {var u, f; u = b.response; u.close(); f = u.getErrorHeader(); this._ctrl.cleanupContext(this._ctx, b.requestHeader, f); this._ctrl.buildErrorResponse(this, this._ctx, a, b, f, c, {result: function(a) {D(h, function() {var b, f, w, B; if(!a) return u; b = a.errorResult; f = a.tokenTicket; w = b.builder; b = b.msgCtx; if(this._ctx.isPeerToPeer()) this.execute(b, w, this._timeout, d, {result: function(a) {D(h, function() {this._ctrl.releaseMasterToken(f); r(a);}, v);}, timeout: function() {D(h, function() {this._ctrl.releaseMasterToken(f); h.timeout();}, v);}, error: function(a) {D(h, function() {this._ctrl.releaseMasterToken(f); h.error(a);}, v);}}); else {this._openedStreams && (this._input.close(), this._output.close(c, g)); B = new k(this._ctrl, this._ctx, b, this._remoteEntity, null, null, {builder: w, tokenTicket: f}, d, this._timeout); this.setAbort(function() {B.abort();}); B.call({result: function(a) {r(a);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});} }, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});}, v);} function u(b) {D(h, function() {var w, B, x, y, z; function r() {w.read(32768, v._timeout, {result: function(a) {a ? r() : u();}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});} function u() {D(h, function() {var g; g = new sa(b.payloads, a); this._ctrl.buildResponse(this, this._ctx, a, B, c, {result: function(a) {D(h, function() {var b; b = a.tokenTicket; this.execute(g, a.builder, this._timeout, d, {result: function(a) {D(h, function() {this._ctrl.releaseMasterToken(b); return a;}, v);}, timeout: function() {D(h, function() {this._ctrl.releaseMasterToken(b); h.timeout();}, v);}, error: function(a) {D(h, function() {this._ctrl.releaseMasterToken(b); throw a;}, v);}});}, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});}, v);} w = b.response; B = w.getMessageHeader(); x = b.payloads; x = 0 < x.length && 0 < x[0].data.length; if(!this._ctx.isPeerToPeer()) {if(!b.handshake || !x) return w; this._openedStreams && (this._input.close(), this._output.close(c, g)); y = new sa(b.payloads, a); this._ctrl.buildResponse(this, this._ctx, a, B, c, {result: function(a) {D(h, function() {var b; b = new k(this._ctrl, this._ctx, y, this._remoteEntity, null, null, a, d, this._timeout); this.setAbort(function() {b.abort();}); b.call(h);}, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});} else if(b.handshake && x) r(); else if(0 < B.keyRequestData.length) {z = new f(a); this._ctrl.buildResponse(this, this._ctx, z, B, c, {result: function(a) {D(h, function() {var b, g; b = a.builder; g = a.tokenTicket; w.mark(); w.read(1, this._timeout, {result: function(a) {D(h, function() {function c() {w.read(32768, v._timeout, {result: function(a) {a ? c() : r();}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});} function r() {v.execute(z, b, v._timeout, d, {result: function(a) {D(h, function() {this._ctrl.releaseMasterToken(g); return a;}, v);}, timeout: function() {D(h, function() {this._ctrl.releaseMasterToken(g); h.timeout();}, v);}, error: function(a) {D(h, function() {this._ctrl.releaseMasterToken(g); throw a;}, v);}});} if(a) if(w.reset(), 12 >= d + 1) b.setRenewable(!1), this._ctrl.send(this, this._ctx, z, this._output, b, this._timeout, {result: function(a) {D(h, function() {this.releaseMasterToken(g); return w;}, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}}); else return this.releaseMasterToken(g), w; else c();}, v);}, timeout: function() {D(h, function() {this.releaseMasterToken(g); h.timeout();}, v);}, error: function(a) {D(h, function() {this.releaseMasterToken(g); throw a;}, v);}});}, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});} }, v);} v = this; D(h, function() {if(12 < d + 2) return null; this._ctrl.sendReceive(this, this._ctx, a, this._input, this._output, b, c, !0, {result: function(a) {D(h, function() {var b; if(!a) return null; b = a.response; d += 2; b.getMessageHeader() ? u(a) : r(a);}, v);}, timeout: function() {h.timeout();}, error: function(a) {h.error(a);}});}, v);}, call: function(a) {var c; function b(b, d, h) {D(a, function() {this.execute(this._msgCtx, b, h, this._msgCount, {result: function(b) {D(a, function() {this._ctrl.releaseMasterToken(d); this._openedStreams && this._output.close(h, g); b && b.closeSource(this._openedStreams); return b;}, c);}, timeout: function() {D(a, function() {this._ctrl.releaseMasterToken(d); this._openedStreams && (this._output.close(h, g), this._input.close()); a.timeout();}, c);}, error: function(b) {D(a, function() {this._ctrl.releaseMasterToken(d); this._openedStreams && (this._output.close(h, g), this._input.close()); if(E(b)) return null; throw b;}, c);}});}, c);} c = this; D(a, function() {var d, h, r; d = this._timeout; if(!this._input || !this._output) try {this._remoteEntity.setTimeout(this._timeout); h = Date.now(); r = this._remoteEntity.openConnection(); this._output = r.output; this._input = r.input; -1 != d && (d = this._timeout - (Date.now() - h)); this._openedStreams = !0;} catch(w) {this._builder && this._ctrl.releaseMasterToken(this._tokenTicket); this._output && this._output.close(this._timeout, g); this._input && this._input.close(); if(E(w)) return null; throw w;} this._builder ? b(this._builder, this._tokenTicket, d) : this._ctrl.buildRequest(this, this._ctx, this._msgCtx, this._timeout, {result: function(g) {D(a, function() {b(g.builder, g.tokenTicket, d);}, c);}, timeout: function() {D(a, function() {this._openedStreams && (this._output.close(this._timeout, g), this._input.close()); a.timeout();}, c);}, error: function(b) {D(a, function() {this._openedStreams && (this._output.close(this._timeout, g), this._input.close()); if(E(b)) return null; throw b;}, c);}});}, c);}});}()); (function() {qd = ga.Class.create({init: function(l) {Object.defineProperties(this, {id: {value: l, writable: !1, configurable: !1}});}, toJSON: function() {var l; l = {}; l.id = this.id; return l;}, equals: function(l) {return this === l ? !0 : l instanceof qd ? this.id == l.id : !1;}, uniqueKey: function() {return this.id;}}); xe = function(m) {var q; q = m.id; if(!q) throw new Z(l.JSON_PARSE_ERROR, JSON.stringify(m)); return new qd(q);};}()); ga.Class.create({isNewestMasterToken: function(l, m, q) {}, isMasterTokenRevoked: function(l, m) {}, acceptNonReplayableId: function(l, m, q, t) {}, createMasterToken: function(l, m, q, t, L) {}, isMasterTokenRenewable: function(l, m, q) {}, renewMasterToken: function(l, m, q, t, L) {}, isUserIdTokenRevoked: function(l, m, q, t) {}, createUserIdToken: function(l, m, q, t) {}, renewUserIdToken: function(l, m, q, t) {}}); (function() {function q(l, m, q, t) {this.sessiondata = l; this.tokendata = m; this.signature = q; this.verified = t;} gb = ga.Class.create({init: function(l, q, t, L, E, J, A, D, R, S, f) {var c; c = this; m(f, function() {var a, b, d, k, h; if(t.getTime() < q.getTime()) throw new aa("Cannot construct a master token that expires before its renewal window opens."); if(0 > L || L > ta) throw new aa("Sequence number " + L + " is outside the valid range."); if(0 > E || E > ta) throw new aa("Serial number " + E + " is outside the valid range."); a = Math.floor(q.getTime() / 1E3); b = Math.floor(t.getTime() / 1E3); if(S) d = S.sessiondata; else {k = {}; J && (k.issuerdata = J); k.identity = A; k.encryptionkey = ia(D.toByteArray()); k.hmackey = ia(R.toByteArray()); d = Na(JSON.stringify(k), xa);} if(S) return Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, renewalWindowSeconds: {value: a, writable: !1, enumerable: !1, configurable: !1}, expirationSeconds: {value: b, writable: !1, enumerable: !1, configurable: !1}, sequenceNumber: {value: L, writable: !1, configurable: !1}, serialNumber: {value: E, writable: !1, configurable: !1}, issuerData: {value: J, writable: !1, configurable: !1}, identity: {value: A, writable: !1, configurable: !1}, encryptionKey: {value: D, writable: !1, configurable: !1}, hmacKey: {value: R, writable: !1, configurable: !1}, sessiondata: {value: d, writable: !1, enumerable: !1, configurable: !1}, verified: {value: S.verified, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: S.tokendata, writable: !1, enumerable: !1, configurable: !1}, signature: {value: S.signature, writable: !1, enumerable: !1, configurable: !1}}), this; h = l.getMslCryptoContext(); h.encrypt(d, {result: function(g) {m(f, function() {var p, n; p = {}; p.renewalwindow = a; p.expiration = b; p.sequencenumber = L; p.serialnumber = E; p.sessiondata = ia(g); n = Na(JSON.stringify(p), xa); h.sign(n, {result: function(g) {m(f, function() {Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, renewalWindowSeconds: {value: a, writable: !1, enumerable: !1, configurable: !1}, expirationSeconds: {value: b, writable: !1, enumerable: !1, configurable: !1}, sequenceNumber: {value: L, writable: !1, enumerable: !1, configurable: !1}, serialNumber: {value: E, writable: !1, enumerable: !1, configurable: !1}, issuerData: {value: J, writable: !1, configurable: !1}, identity: {value: A, writable: !1, configurable: !1}, encryptionKey: {value: D, writable: !1, configurable: !1}, hmacKey: {value: R, writable: !1, configurable: !1}, sessiondata: {value: d, writable: !1, enumerable: !1, configurable: !1}, verified: {value: !0, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: n, writable: !1, enumerable: !1, configurable: !1}, signature: {value: g, writable: !1, enumerable: !1, configurable: !1}}); return this;}, c);}, error: function(a) {f.error(a);}});}, c);}, error: function(a) {f.error(a);}});}, this);}, get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);}, get expiration() {return new Date(1E3 * this.expirationSeconds);}, isDecrypted: function() {return this.sessiondata ? !0 : !1;}, isVerified: function() {return this.verified;}, isRenewable: function(l) {return this.isVerified() ? this.renewalWindow.getTime() <= this.ctx.getTime() : !0;}, isExpired: function(l) {return this.isVerified() ? this.expiration.getTime() <= this.ctx.getTime() : !1;}, isNewerThan: function(l) {var m; if(this.sequenceNumber == l.sequenceNumber) return this.expiration > l.expiration; if(this.sequenceNumber > l.sequenceNumber) {m = this.sequenceNumber - ta + 127; return l.sequenceNumber >= m;} m = l.sequenceNumber - ta + 127; return this.sequenceNumber < m;}, toJSON: function() {var l; l = {}; l.tokendata = ia(this.tokendata); l.signature = ia(this.signature); return l;}, equals: function(l) {return this === l ? !0 : l instanceof gb ? this.serialNumber == l.serialNumber && this.sequenceNumber == l.sequenceNumber && this.expiration.getTime() == l.expiration.getTime() : !1;}, uniqueKey: function() {return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}}); Nb = function(t, I, Q) {m(Q, function() {var L, E, J, H, D; L = t.getMslCryptoContext(); E = I.tokendata; J = I.signature; if("string" !== typeof E || "string" !== typeof J) throw new Z(l.JSON_PARSE_ERROR, "mastertoken " + JSON.stringify(I)); try {H = na(E);} catch(Ha) {throw new A(l.MASTERTOKEN_TOKENDATA_INVALID, "mastertoken " + JSON.stringify(I), Ha);} if(!H || 0 == H.length) throw new Z(l.MASTERTOKEN_TOKENDATA_MISSING, "mastertoken " + JSON.stringify(I)); try {D = na(J);} catch(Ha) {throw new A(l.MASTERTOKEN_SIGNATURE_INVALID, "mastertoken " + JSON.stringify(I), Ha);} L.verify(H, D, {result: function(E) {m(Q, function() {var J, f, c, a, b, d, k, h, g, p; d = Ma(H, xa); try {k = JSON.parse(d); J = parseInt(k.renewalwindow); f = parseInt(k.expiration); c = parseInt(k.sequencenumber); a = parseInt(k.serialnumber); b = k.sessiondata;} catch(n) {if(n instanceof SyntaxError) throw new Z(l.MASTERTOKEN_TOKENDATA_PARSE_ERROR, "mastertokendata " + d, n); throw n;} if(!J || J != J || !f || f != f || "number" !== typeof c || c != c || "number" !== typeof a || a != a || "string" !== typeof b) throw new Z(l.MASTERTOKEN_TOKENDATA_PARSE_ERROR, "mastertokendata " + d); if(f < J) throw new A(l.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL, "mastertokendata " + d); if(0 > c || c > ta) throw new A(l.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE, "mastertokendata " + d); if(0 > a || a > ta) throw new A(l.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "mastertokendata " + d); h = new Date(1E3 * J); g = new Date(1E3 * f); try {p = na(b);} catch(n) {throw new A(l.MASTERTOKEN_SESSIONDATA_INVALID, b, n);} if(!p || 0 == p.length) throw new A(l.MASTERTOKEN_SESSIONDATA_MISSING, b); E ? L.decrypt(p, {result: function(b) {m(Q, function() {var d, p, n, k, f, y; f = Ma(b, xa); try {y = JSON.parse(f); d = y.issuerdata; p = y.identity; n = y.encryptionkey; k = y.hmackey;} catch(w) {if(w instanceof SyntaxError) throw new Z(l.MASTERTOKEN_SESSIONDATA_PARSE_ERROR, "sessiondata " + f, w); throw w;} if(d && "object" !== typeof d || !p || "string" !== typeof n || "string" !== typeof k) throw new Z(l.MASTERTOKEN_SESSIONDATA_PARSE_ERROR, "sessiondata " + f); wb(n, mb, Cb, {result: function(n) {wb(k, fb, Mb, {result: function(k) {m(Q, function() {var r; r = new q(b, H, D, E); new gb(t, h, g, c, a, d, p, n, k, r, Q);});}, error: function(a) {Q.error(new S(l.MASTERTOKEN_KEY_CREATION_ERROR, a));}});}, error: function(a) {Q.error(new S(l.MASTERTOKEN_KEY_CREATION_ERROR, a));}});});}, error: function(a) {Q.error(a);}}) : (J = new q(null, H, D, E), new gb(t, h, g, c, a, null, null, null, null, J, Q));});}, error: function(l) {Q.error(l);}});});};}()); (function() {function q(l, m, q) {this.tokendata = l; this.signature = m; this.verified = q;} Yb = ga.Class.create({init: function(l, q, t, L, E, J, D, R, S) {var I; I = this; m(S, function() {var f, c, a, b, d, k, h; if(t.getTime() < q.getTime()) throw new aa("Cannot construct a user ID token that expires before its renewal window opens."); if(!L) throw new aa("Cannot construct a user ID token without a master token."); if(0 > E || E > ta) throw new aa("Serial number " + E + " is outside the valid range."); f = Math.floor(q.getTime() / 1E3); c = Math.floor(t.getTime() / 1E3); a = L.serialNumber; if(R) {b = R.tokendata; d = R.signature; k = R.verified; a = L.serialNumber; Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, renewalWindowSeconds: {value: f, writable: !1, enumerable: !1, configurable: !1}, expirationSeconds: {value: c, writable: !1, enumerable: !1, configurable: !1}, mtSerialNumber: {value: a, writable: !1, configurable: !1}, serialNumber: {value: E, writable: !1, configurable: !1}, issuerData: {value: J, writable: !1, configurable: !1}, customer: {value: D, writable: !1, configurable: !1}, verified: {value: k, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: b, writable: !1, enumerable: !1, configurable: !1}, signature: {value: d, writable: !1, enumerable: !1, configurable: !1}}); return this;} b = {}; J && (b.issuerdata = J); b.identity = D; b = Na(JSON.stringify(b), xa); h = l.getMslCryptoContext(); h.encrypt(b, {result: function(b) {m(S, function() {var g, d; g = {}; g.renewalwindow = f; g.expiration = c; g.mtserialnumber = a; g.serialnumber = E; g.userdata = ia(b); d = Na(JSON.stringify(g), xa); h.sign(d, {result: function(a) {m(S, function() {Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, renewalWindowSeconds: {value: f, writable: !1, enumerable: !1, configurable: !1}, expirationSeconds: {value: c, writable: !1, enumerable: !1, configurable: !1}, mtSerialNumber: {value: L.serialNumber, writable: !1, configurable: !1}, serialNumber: {value: E, writable: !1, configurable: !1}, issuerData: {value: J, writable: !1, configurable: !1}, customer: {value: D, writable: !1, configurable: !1}, verified: {value: !0, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: d, writable: !1, enumerable: !1, configurable: !1}, signature: {value: a, writable: !1, enumerable: !1, configurable: !1}}); return this;}, I);}, error: function(a) {m(S, function() {a instanceof A && a.setEntity(L); throw a;}, I);}});}, I);}, error: function(a) {m(S, function() {a instanceof A && a.setEntity(L); throw a;}, I);}});}, this);}, get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);}, get expiration() {return new Date(1E3 * this.expirationSeconds);}, isVerified: function() {return this.verified;}, isDecrypted: function() {return this.customer ? !0 : !1;}, isRenewable: function() {return this.renewalWindow.getTime() <= this.ctx.getTime();}, isExpired: function() {return this.expiration.getTime() <= this.ctx.getTime();}, isBoundTo: function(l) {return l && l.serialNumber == this.mtSerialNumber;}, toJSON: function() {var l; l = {}; l.tokendata = ia(this.tokendata); l.signature = ia(this.signature); return l;}, equals: function(l) {return this === l ? !0 : l instanceof Yb ? this.serialNumber == l.serialNumber && this.mtSerialNumber == l.mtSerialNumber : !1;}, uniqueKey: function() {return this.serialNumber + ":" + this.mtSerialNumber;}}); Ob = function(t, I, Q, L) {m(L, function() {var E, J, H, D, R; E = t.getMslCryptoContext(); J = I.tokendata; H = I.signature; if("string" !== typeof J || "string" !== typeof H) throw new Z(l.JSON_PARSE_ERROR, "useridtoken " + JSON.stringify(I)).setEntity(Q); try {D = na(J);} catch(sa) {throw new A(l.USERIDTOKEN_TOKENDATA_INVALID, "useridtoken " + JSON.stringify(I), sa).setEntity(Q);} if(!D || 0 == D.length) throw new Z(l.USERIDTOKEN_TOKENDATA_MISSING, "useridtoken " + JSON.stringify(I)).setEntity(Q); try {R = na(H);} catch(sa) {throw new A(l.USERIDTOKEN_TOKENDATA_INVALID, "useridtoken " + JSON.stringify(I), sa).setEntity(Q);} E.verify(D, R, {result: function(J) {m(L, function() {var f, c, a, b, d, k, h, g, p, n; k = Ma(D, xa); try {h = JSON.parse(k); f = parseInt(h.renewalwindow); c = parseInt(h.expiration); a = parseInt(h.mtserialnumber); b = parseInt(h.serialnumber); d = h.userdata;} catch(r) {if(r instanceof SyntaxError) throw new Z(l.USERIDTOKEN_TOKENDATA_PARSE_ERROR, "usertokendata " + k, r).setEntity(Q); throw r;} if(!f || f != f || !c || c != c || "number" !== typeof a || a != a || "number" !== typeof b || b != b || "string" !== typeof d) throw new Z(l.USERIDTOKEN_TOKENDATA_PARSE_ERROR, "usertokendata " + k).setEntity(Q); if(c < f) throw new A(l.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL, "mastertokendata " + k).setEntity(Q); if(0 > a || a > ta) throw new A(l.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "usertokendata " + k).setEntity(Q); if(0 > b || b > ta) throw new A(l.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "usertokendata " + k).setEntity(Q); g = new Date(1E3 * f); p = new Date(1E3 * c); if(!Q || a != Q.serialNumber) throw new A(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + a + "; mt " + JSON.stringify(Q)).setEntity(Q); try {n = na(d);} catch(r) {throw new A(l.USERIDTOKEN_USERDATA_INVALID, d, r).setEntity(Q);} if(!n || 0 == n.length) throw new A(l.USERIDTOKEN_USERDATA_MISSING, d).setEntity(Q); J ? E.decrypt(n, {result: function(a) {m(L, function() {var c, d, h, n, k; h = Ma(a, xa); try {n = JSON.parse(h); c = n.issuerdata; d = n.identity;} catch(w) {if(w instanceof SyntaxError) throw new Z(l.USERIDTOKEN_USERDATA_PARSE_ERROR, "userdata " + h).setEntity(Q); throw w;} if(c && "object" !== typeof c || "object" !== typeof d) throw new Z(l.USERIDTOKEN_USERDATA_PARSE_ERROR, "userdata " + h).setEntity(Q); try {k = xe(d);} catch(w) {throw new A(l.USERIDTOKEN_IDENTITY_INVALID, "userdata " + h, w).setEntity(Q);} d = new q(D, R, J); new Yb(t, g, p, Q, b, c, k, d, L);});}, error: function(a) {m(L, function() {a instanceof A && a.setEntity(Q); throw a;});}}) : (f = new q(D, R, J), new Yb(t, g, p, Q, b, null, null, f, L));});}, error: function(l) {m(L, function() {l instanceof A && l.setEntity(Q); throw l;});}});});};}()); (function() {function q(m, q) {var t, E, J; t = m.tokendata; if("string" !== typeof t) throw new Z(l.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(m)); try {E = na(t);} catch(La) {throw new A(l.SERVICETOKEN_TOKENDATA_INVALID, "servicetoken " + JSON.stringify(m), La);} if(!E || 0 == E.length) throw new Z(l.SERVICETOKEN_TOKENDATA_MISSING, "servicetoken " + JSON.stringify(m)); try {J = JSON.parse(Ma(E, xa)).name;} catch(La) {if(La instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(m), La); throw La;} if(!J) throw new Z(l.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(m)); return q[J] ? q[J] : q[""];} function t(l, m, q) {this.tokendata = l; this.signature = m; this.verified = q;} Eb = ga.Class.create({init: function(l, q, t, E, J, H, D, R, S, f) {var c; c = this; m(f, function() {var a, b, d, k, h; if(E && J && !J.isBoundTo(E)) throw new aa("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token."); a = E ? E.serialNumber : -1; b = J ? J.serialNumber : -1; if(S) return h = S.tokendata, Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, name: {value: q, writable: !1, configurable: !1}, mtSerialNumber: {value: a, writable: !1, configurable: !1}, uitSerialNumber: {value: b, writable: !1, configurable: !1}, data: {value: t, writable: !1, configurable: !1}, encrypted: {value: H, writable: !1, enumerable: !1, configurable: !1}, compressionAlgo: {value: D, writable: !1, configurable: !1}, verified: {value: S.verified, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: h, writable: !1, enumerable: !1, configurable: !1}, signature: {value: S.signature, writable: !1, enumerable: !1, configurable: !1}}), this; D ? (d = pd(D, t), d.length < t.length || (D = null, d = t)) : (D = null, d = t); k = {}; k.name = q; -1 != a && (k.mtserialnumber = a); -1 != b && (k.uitserialnumber = b); k.encrypted = H; D && (k.compressionalgo = D); if(H && 0 < d.length) R.encrypt(d, {result: function(g) {m(f, function() {var d; k.servicedata = ia(g); d = Na(JSON.stringify(k), xa); R.sign(d, {result: function(g) {m(f, function() {Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, name: {value: q, writable: !1, configurable: !1}, mtSerialNumber: {value: a, writable: !1, configurable: !1}, uitSerialNumber: {value: b, writable: !1, configurable: !1}, data: {value: t, writable: !1, configurable: !1}, encrypted: {value: H, writable: !1, enumerable: !1, configurable: !1}, compressionAlgo: {value: D, writable: !1, configurable: !1}, verified: {value: !0, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: d, writable: !1, enumerable: !1, configurable: !1}, signature: {value: g, writable: !1, enumerable: !1, configurable: !1}}); return this;}, c);}, error: function(a) {m(f, function() {a instanceof A && (a.setEntity(E), a.setUser(J)); throw a;});}});}, c);}, error: function(a) {m(f, function() {a instanceof A && (a.setEntity(E), a.setUser(J)); throw a;});}}); else {k.servicedata = ia(d); h = Na(JSON.stringify(k), xa); R.sign(h, {result: function(g) {m(f, function() {Object.defineProperties(this, {ctx: {value: l, writable: !1, enumerable: !1, configurable: !1}, name: {value: q, writable: !1, configurable: !1}, mtSerialNumber: {value: a, writable: !1, configurable: !1}, uitSerialNumber: {value: b, writable: !1, configurable: !1}, data: {value: t, writable: !1, configurable: !1}, encrypted: {value: H, writable: !1, enumerable: !1, configurable: !1}, compressionAlgo: {value: D, writable: !1, configurable: !1}, verified: {value: !0, writable: !1, enumerable: !1, configurable: !1}, tokendata: {value: h, writable: !1, enumerable: !1, configurable: !1}, signature: {value: g, writable: !1, enumerable: !1, configurable: !1}}); return this;}, c);}, error: function(a) {m(f, function() {a instanceof A && (a.setEntity(E), a.setUser(J)); throw a;});}});} }, this);}, isEncrypted: function() {return this.encrypted;}, isVerified: function() {return this.verified;}, isDecrypted: function() {return this.data ? !0 : !1;}, isDeleted: function() {return this.data && 0 == this.data.length;}, isMasterTokenBound: function() {return -1 != this.mtSerialNumber;}, isBoundTo: function(l) {return l ? l instanceof gb ? l.serialNumber == this.mtSerialNumber : l instanceof Yb ? l.serialNumber == this.uitSerialNumber : !1 : !1;}, isUserIdTokenBound: function() {return -1 != this.uitSerialNumber;}, isUnbound: function() {return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;}, toJSON: function() {var l; l = {}; l.tokendata = ia(this.tokendata); l.signature = ia(this.signature); return l;}, equals: function(l) {return this === l ? !0 : l instanceof Eb ? this.name == l.name && this.mtSerialNumber == l.mtSerialNumber && this.uitSerialNumber == l.uitSerialNumber : !1;}, uniqueKey: function() {return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}}); xb = function(l, m, q, t, J, H, A, D, R) {new Eb(l, m, q, t, J, H, A, D, null, R);}; Gc = function(H, Q, L, E, J, D) {m(D, function() {var I, R, S, f, c, a, b, d, k, h, g, p, n; !J || J instanceof Zb || (J = q(Q, J)); I = Q.tokendata; R = Q.signature; if("string" !== typeof I || "string" !== typeof R) throw new Z(l.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(Q)).setEntity(L).setEntity(E); try {S = na(I);} catch(r) {throw new A(l.SERVICETOKEN_TOKENDATA_INVALID, "servicetoken " + JSON.stringify(Q), r).setEntity(L).setEntity(E);} if(!S || 0 == S.length) throw new Z(l.SERVICETOKEN_TOKENDATA_MISSING, "servicetoken " + JSON.stringify(Q)).setEntity(L).setEntity(E); try {f = na(R);} catch(r) {throw new A(l.SERVICETOKEN_SIGNATURE_INVALID, "servicetoken " + JSON.stringify(Q), r).setEntity(L).setEntity(E);} g = Ma(S, xa); try {p = JSON.parse(g); c = p.name; a = p.mtserialnumber ? parseInt(p.mtserialnumber) : -1; b = p.uitserialnumber ? parseInt(p.uitserialnumber) : -1; d = p.encrypted; k = p.compressionalgo; h = p.servicedata;} catch(r) {if(r instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "servicetokendata " + g, r).setEntity(L).setEntity(E); throw r;} if(!c || "number" !== typeof a || a != a || "number" !== typeof b || b != b || "boolean" !== typeof d || k && "string" !== typeof k || "string" !== typeof h) throw new Z(l.JSON_PARSE_ERROR, "servicetokendata " + g).setEntity(L).setEntity(E); if(p.mtserialnumber && 0 > a || a > ta) throw new A(l.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "servicetokendata " + g).setEntity(L).setEntity(E); if(p.uitserialnumber && 0 > b || b > ta) throw new A(l.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "servicetokendata " + g).setEntity(L).setEntity(E); if(-1 != a && (!L || a != L.serialNumber)) throw new A(l.SERVICETOKEN_MASTERTOKEN_MISMATCH, "st mtserialnumber " + a + "; mt " + L).setEntity(L).setEntity(E); if(-1 != b && (!E || b != E.serialNumber)) throw new A(l.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st uitserialnumber " + b + "; uit " + E).setEntity(L).setEntity(E); d = !0 === d; if(k) {if(!Jb[k]) throw new A(l.UNIDENTIFIED_COMPRESSION, k); n = k;} else n = null; J ? J.verify(S, f, {result: function(p) {m(D, function() {var k, r; if(p) {try {k = na(h);} catch(B) {throw new A(l.SERVICETOKEN_SERVICEDATA_INVALID, "servicetokendata " + g, B).setEntity(L).setEntity(E);} if(!k || 0 != h.length && 0 == k.length) throw new A(l.SERVICETOKEN_SERVICEDATA_INVALID, "servicetokendata " + g).setEntity(L).setEntity(E); if(d && 0 < k.length) J.decrypt(k, {result: function(g) {m(D, function() {var h, k; h = n ? Hc(n, g) : g; k = new t(S, f, p); new Eb(H, c, h, -1 != a ? L : null, -1 != b ? E : null, d, n, J, k, D);});}, error: function(a) {m(D, function() {a instanceof A && (a.setEntity(L), a.setUser(E)); throw a;});}}); else {k = n ? Hc(n, k) : k; r = new t(S, f, p); new Eb(H, c, k, -1 != a ? L : null, -1 != b ? E : null, d, n, J, r, D);} } else k = "" == h ? new Uint8Array(0) : null, r = new t(S, f, p), new Eb(H, c, k, -1 != a ? L : null, -1 != b ? E : null, d, n, J, r, D);});}, error: function(a) {m(D, function() {a instanceof A && (a.setEntity(L), a.setUser(E)); throw a;});}}) : (I = "" == h ? new Uint8Array(0) : null, R = new t(S, f, !1), new Eb(H, c, I, -1 != a ? L : null, -1 != b ? E : null, d, n, J, R, D));});};}()); Ua = {EMAIL_PASSWORD: "EMAIL_PASSWORD", NETFLIXID: "NETFLIXID", SSO: "SSO", SWITCH_PROFILE: "SWITCH_PROFILE", MDX: "MDX"}; Object.freeze(Ua); (function() {Bb = ga.Class.create({init: function(l) {Object.defineProperties(this, {scheme: {value: l, writable: !1, configurable: !1}});}, getAuthData: function() {}, equals: function(l) {return this === l ? !0 : l instanceof Bb ? this.scheme == l.scheme : !1;}, toJSON: function() {var l; l = {}; l.scheme = this.scheme; l.authdata = this.getAuthData(); return l;}}); me = function(q, t, I, A) {m(A, function() {var m, E, J; m = I.scheme; E = I.authdata; if(!m || !E) throw new Z(l.JSON_PARSE_ERROR, "userauthdata " + JSON.stringify(I)); if(!Ua[m]) throw new ra(l.UNIDENTIFIED_USERAUTH_SCHEME, m); J = q.getUserAuthenticationFactory(m); if(!J) throw new ra(l.USERAUTH_FACTORY_NOT_FOUND, m); J.createData(q, t, E, A);});};}()); mc = ga.Class.create({init: function(l) {Object.defineProperties(this, {scheme: {value: l, writable: !1, configurable: !1}});}, createData: function(l, m, q, t) {}, authenticate: function(l, m, q, t) {}}); (function() {Rb = Bb.extend({init: function H(l, m) {H.base.call(this, Ua.NETFLIXID); Object.defineProperties(this, {netflixId: {value: l, writable: !1, configurable: !1}, secureNetflixId: {value: m, writable: !1, configurable: !1}});}, getAuthData: function() {var l; l = {}; l.netflixid = this.netflixId; this.secureNetflixId && (l.securenetflixid = this.secureNetflixId); return l;}, equals: function I(l) {return this === l ? !0 : l instanceof Rb ? I.base.call(this, l) && this.netflixId == l.netflixId && this.secureNetflixId == l.secureNetflixId : !1;}}); ye = function(m) {var q, t; q = m.netflixid; t = m.securenetflixid; if(!q) throw new Z(l.JSON_PARSE_ERROR, "NetflixId authdata " + JSON.stringify(m)); return new Rb(q, t);};}()); gf = mc.extend({init: function H() {H.base.call(this, Ua.NETFLIXID);}, createData: function(l, q, t, L) {m(L, function() {return ye(t);});}, authenticate: function(m, q, t, L) {if(!(t instanceof Rb)) throw new aa("Incorrect authentication data type " + t + "."); m = t.secureNetflixId; if(!t.netflixId || !m) throw new ra(l.NETFLIXID_COOKIES_BLANK).setUser(t); throw new ra(l.UNSUPPORTED_USERAUTH_DATA, this.scheme).setUser(t);}}); (function() {nc = Bb.extend({init: function I(l, m) {I.base.call(this, Ua.EMAIL_PASSWORD); Object.defineProperties(this, {email: {value: l, writable: !1, configurable: !1}, password: {value: m, writable: !1, configurable: !1}});}, getAuthData: function() {var l; l = {}; l.email = this.email; l.password = this.password; return l;}, equals: function Q(l) {return this === l ? !0 : l instanceof nc ? Q.base.call(this, this, l) && this.email == l.email && this.password == l.password : !1;}}); ze = function(m) {var q, t; q = m.email; t = m.password; if(!q || !t) throw new Z(l.JSON_PARSE_ERROR, "email/password authdata " + JSON.stringify(m)); return new nc(q, t);};}()); hf = mc.extend({init: function I() {I.base.call(this, Ua.EMAIL_PASSWORD);}, createData: function(l, q, t, E) {m(E, function() {return ze(t);});}, authenticate: function(m, q, t, E) {if(!(t instanceof nc)) throw new aa("Incorrect authentication data type " + t + "."); m = t.password; if(!t.email || !m) throw new ra(l.EMAILPASSWORD_BLANK).setUser(t); throw new ra(l.UNSUPPORTED_USERAUTH_DATA, this.scheme).setUser(t);}}); (function() {var E, J, D, pa, Ha, sa, f, c; function q(a, b) {return "<" + a + ">" + b + "</" + a + ">";} function t(a) {return a.replace(/[<>&"']/g, function(a) {return Ha[a];});} function L(a) {return encodeURIComponent(a).replace("%20", "+").replace(/[!'()]/g, escape).replace(/\*/g, "%2A");} E = Kc = {MSL: "MSL", NTBA: "NTBA", MSL_LEGACY: "MSL_LEGACY"}; J = ga.Class.create({getAction: function() {}, getNonce: function() {}, getPin: function() {}, getSignature: function() {}, getEncoding: function() {}, equals: function() {}}); D = rd = J.extend({init: function(a, b, c, k, h, g, p) {var u; function d(g) {m(p, function() {var d, n; try {n = {}; n.useridtoken = a; n.action = b; n.nonce = c; n.pin = ia(g); d = Na(JSON.stringify(n), xa);} catch(y) {throw new Z(l.JSON_ENCODE_ERROR, "MSL-based MDX authdata", y);} h.sign(d, {result: function(a) {r(d, a);}, error: p.error});}, u);} function r(g, d) {m(p, function() {Object.defineProperties(this, {_userIdToken: {value: a, writable: !1, enumerable: !1, configurable: !1}, _action: {value: b, writable: !1, enumerable: !1, configurable: !1}, _nonce: {value: c, writable: !1, enumerable: !1, configurable: !1}, _pin: {value: k, writable: !1, enumerable: !1, configurable: !1}, _encoding: {value: g, writable: !1, enumerable: !1, configurable: !1}, _signature: {value: d, writable: !1, enumerable: !1, configurable: !1}}); return this;}, u);} u = this; m(p, function() {g ? r(g.encoding, g.signature) : h.encrypt(Na(k, xa), {result: function(a) {d(a);}, error: p.error});}, u);}, getUserIdToken: function() {return this._userIdToken;}, getAction: function() {return this._action;}, getNonce: function() {return this._nonce;}, getPin: function() {return this._pin;}, getSignature: function() {return this._signature;}, getEncoding: function() {return this._encoding;}, equals: function(a) {return this === a ? !0 : a instanceof D ? this._action == a._action && this._nonce == a._nonce && this._pin == a._pin && this._userIdToken.equals(a._userIdToken) : !1;}}); rd.ACTION = "userauth"; pa = function(a, b, c, k, h) {function g(g) {m(h, function() {var p, n, k, f, z, y; p = Ma(c, xa); try {y = JSON.parse(p); n = y.useridtoken; k = y.action; f = y.nonce; z = y.pin;} catch(w) {if(w instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + p, w); throw w;} if(!(n && "object" === typeof n && k && "string" === typeof k && f && "number" === typeof f && z) || "string" !== typeof z) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + p); Ob(a, n, b, {result: function(a) {m(h, function() {if(!a.isDecrypted()) throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED, "MDX authdata " + p); d(g, a, k, f, z);});}, error: function(a) {m(h, function() {if(a instanceof A) throw new ra(l.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + p, a); throw a;});}});});} function d(a, b, g, d, p) {m(h, function() {var n; n = na(p); a.decrypt(n, {result: function(a) {m(h, function() {var p; p = Ma(a, xa); new D(b, g, d, p, null, {encoding: c, signature: k}, h);});}, error: h.error});});} m(h, function() {var d, p; try {p = a.getMslStore().getCryptoContext(b); d = p ? p : new db(a, b);} catch(u) {if(u instanceof Lb) throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + ia(c)); throw u;} d.verify(c, k, {result: function(a) {m(h, function() {if(!a) throw new S(l.MDX_USERAUTH_VERIFICATION_FAILED, "MDX authdata " + ia(c)); g(d);});}, error: h.error});});}; Ha = {"<": "&lt;", ">": "&gt;", "&": "&amp;", '"': "&quot;", "'": "&apos;"}; sa = oc = J.extend({init: function(a, b, c, k) {var d, g; d = q("action", t(a)); g = q("nonce", b.toString()); c = q("pin", c); d = q("registerdata", d + g + c); d = Na(d, "utf-8"); Object.defineProperties(this, {_action: {value: a, writable: !1, enumerable: !1, configurable: !1}, _nonce: {value: b, writable: !1, enumerable: !1, configurable: !1}, _pin: {value: null, writable: !1, enumerable: !1, configurable: !1}, _encoding: {value: d, writable: !1, enumerable: !1, configurable: !1}, _signature: {value: k, writable: !1, enumerable: !1, configurable: !1}});}, getAction: function() {return this._action;}, getNonce: function() {return this._nonce;}, getPin: function() {return this._pin;}, getSignature: function() {return this._signature;}, getEncoding: function() {return this._encoding;}, equals: function(a) {return this === a ? !0 : a instanceof sa ? this._action == a._action && this._nonce == a._nonce && this._pin == a._pin : !1;}}); oc.ACTION = "regpairrequest"; f = sd = J.extend({init: function(a, b, c, k, h, g) {var r; function d(c) {m(g, function() {var d, h, p, r, u; d = ia(c); h = q("action", t(a)); p = q("nonce", b.toString()); r = q("pin", d); h = q("registerdata", h + p + r); u = Na(h, "utf-8"); d = "action=" + L(a) + "&nonce=" + L(b.toString()) + "&pin=" + L(d); k.sign(Na(d, "utf-8"), {result: function(a) {n(u, a);}, error: g.error});}, r);} function n(d, h) {m(g, function() {Object.defineProperties(this, {_action: {value: a, writable: !1, enumerable: !1, configurable: !1}, _nonce: {value: b, writable: !1, enumerable: !1, configurable: !1}, _pin: {value: c, writable: !1, enumerable: !1, configurable: !1}, _encoding: {value: d, writable: !1, enumerable: !1, configurable: !1}, _signature: {value: h, writable: !1, enumerable: !1, configurable: !1}}); return this;}, r);} r = this; m(g, function() {h ? n(h.encoding, h.signature) : k.encrypt(Na(c, "utf-8"), {result: function(a) {d(a);}, error: g.error});}, r);}, getAction: function() {return this._action;}, getNonce: function() {return this._nonce;}, getPin: function() {return this._pin;}, getSignature: function() {return this._signature;}, getEncoding: function() {return this._encoding;}, equals: function(a) {return this === a ? !0 : a instanceof f ? this._action == a._action && this._nonce == a._nonce && this._pin == a._pin : !1;}}); sd.ACTION = oc.ACTION; c = function(a, b, c, k, h) {m(h, function() {var g, d, n, r, u, v, B; g = a.getMslStore().getCryptoContext(b); d = g ? g : new db(a, b); g = Ma(c, "utf-8"); n = new DOMParser().parseFromString(g, "application/xml"); g = n.getElementsByTagName("action"); r = n.getElementsByTagName("nonce"); n = n.getElementsByTagName("pin"); u = g && 1 == g.length && g[0].firstChild ? g[0].firstChild.nodeValue : null; v = r && 1 == r.length && r[0].firstChild ? parseInt(r[0].firstChild.nodeValue) : null; B = n && 1 == n.length && n[0].firstChild ? n[0].firstChild.nodeValue : null; if(!u || !v || !B) throw new Z(l.XML_PARSE_ERROR, "MDX authdata " + ia(c)); g = "action=" + L(u) + "&nonce=" + L(v.toString()) + "&pin=" + L(B); d.verify(Na(g, "utf-8"), k, {result: function(a) {m(h, function() {var b; if(!a) throw new S(l.MDX_USERAUTH_VERIFICATION_FAILED, "MDX authdata " + ia(c)); b = na(B); d.decrypt(b, {result: function(a) {m(h, function() {var b; b = Ma(a, "utf-8"); new f(u, v, b, null, {encoding: c, signature: k}, h);});}, error: h.error});});}, error: h.error});});}; bc = Bb.extend({init: function b(c, k, h, g, p, n) {var d, u, v, f, z, y; b.base.call(this, Ua.MDX); d = null; u = null; v = null; if("string" === typeof h) c = E.MSL_LEGACY, v = h; else if(h instanceof Uint8Array) c = E.NTBA, u = h; else if(h instanceof gb) c = E.MSL, d = h; else throw new TypeError("Controller token " + h + " is not a master token, encrypted CTicket, or MSL token construct."); f = h = null; z = null; if(n) {y = n.controllerAuthData; h = y.getAction(); f = y.getPin(); n = n.userIdToken; y instanceof D ? z = y.getUserIdToken().customer : n && (z = n.customer);} Object.defineProperties(this, {mechanism: {value: c, writable: !1, configurable: !1}, action: {value: h, writable: !1, configurable: !1}, targetPin: {value: k, writable: !1, configurable: !1}, controllerPin: {value: f, writable: !1, configurable: !1}, customer: {value: z, writable: !1, configurable: !1}, _masterToken: {value: d, writable: !1, enumerable: !1, configurable: !1}, _encryptedCTicket: {value: u, writable: !1, enumerable: !1, configurable: !1}, _mslTokens: {value: v, writable: !1, enumerable: !1, configurable: !1}, _controllerEncoding: {value: g, writable: !1, enumerable: !1, configurable: !1}, _signature: {value: p, writable: !1, enumerable: !1, configurable: !1}});}, getAuthData: function() {var b, c; b = {}; switch(this.mechanism) {case E.MSL: c = JSON.parse(JSON.stringify(this._masterToken)); b.mastertoken = c; break; case E.NTBA: c = Ma(this._encryptedCTicket, "utf-8"); b.cticket = c; break; case E.MSL_LEGACY: b.cticket = this._mslTokens; break; default: throw new aa("Unsupported MDX mechanism.");}b.pin = this.targetPin; b.mdxauthdata = ia(this._controllerEncoding); b.signature = ia(this._signature); return b;}, equals: function d(c) {return this === c ? !0 : c instanceof bc ? d.base.call(this, c) && (this._masterToken == c._masterToken || this._masterToken && this._masterToken.equals(c._masterToken)) && (this._encryptedCTicket == c._encryptedCTicket || this._encryptedCTicket && Pa(this._encryptedCTicket, c._encryptedCTicket)) && this._mslTokens == c._mslTokens && Pa(this._controllerEncoding, c._controllerEncoding) && Pa(this._signature, c._signature) : !1;}}); Ae = function(d, k, h) {function g(g, c, p, n) {Nb(d, c, {result: function(c) {m(h, function() {if(!c.isDecrypted()) throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + k.toString()); pa(d, c, p, n, {result: function(p) {m(h, function() {var h, n; h = p.getEncoding(); n = p.getSignature(); return new bc(d, g, c, h, n, {controllerAuthData: p, userIdToken: null});});}, error: h.error});});}, error: function(g) {m(h, function() {if(g instanceof A) throw new ra(l.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(k), g); throw g;});}});} function p(g, c, d, p) {m(h, function() {throw new ra(l.UNSUPPORTED_USERAUTH_MECHANISM, "NtbaControllerData$parse");});} function n(g, p, n, f) {function r(g, c) {m(c, function() {var h, p; try {h = na(g);} catch(P) {throw new ra(l.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(k), P);} if(!h || 0 == h.length) throw new ra(l.USERAUTH_MASTERTOKEN_MISSING, "MDX authdata " + JSON.stringify(k)); try {p = JSON.parse(Ma(h, "utf-8")); Nb(d, p, {result: function(g) {m(c, function() {if(!g.isDecrypted()) throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + k.toString()); return g;});}, error: function(g) {m(c, function() {if(g instanceof A) throw new ra(l.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(k), g); throw g;});}});} catch(P) {if(P instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(k), P); throw P;} });} function u(g, c, h) {m(h, function() {var p, n; try {p = na(g);} catch(M) {throw new ra(l.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + JSON.stringify(k), M);} if(!p || 0 == p.length) throw new ra(l.USERAUTH_USERIDTOKEN_MISSING, "MDX authdata " + JSON.stringify(k)); try {n = JSON.parse(Ma(p, "utf-8")); Ob(d, n, c, {result: function(g) {m(h, function() {if(!g.isDecrypted()) throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED, "MDX authdata " + JSON.stringify(k)); return g;});}, error: function(g) {m(h, function() {if(g instanceof A) throw new ra(l.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + JSON.stringify(k), g); throw g;});}});} catch(M) {if(M instanceof SyntaxError) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(k), M); throw M;} });} m(h, function() {var v; v = p.split(","); if(3 != v.length || "1" != v[0]) throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM, "MDX authdata " + JSON.stringify(k)); r(v[1], {result: function(r) {u(v[2], r, {result: function(u) {c(d, r, n, f, {result: function(c) {m(h, function() {return new bc(d, g, p, n, f, {controllerAuthData: c, userIdToken: u});});}, error: function(g) {m(h, function() {if(g instanceof Lb) throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + JSON.stringify(k), g); throw g;});}});}, error: h.error});}, error: h.error});});} m(h, function() {var c, d, h, f, z; c = k.pin; d = k.mdxauthdata; h = k.signature; if(!c || "string" !== typeof c || !d || "string" !== typeof d || !h || "string" !== typeof h) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(k)); try {f = na(d); z = na(h);} catch(y) {throw new ra(l.MDX_CONTROLLERDATA_INVALID, "MDX authdata " + JSON.stringify(k), y);} if(k.mastertoken) {d = k.mastertoken; if(!d || "object" !== typeof d) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(k)); g(c, d, f, z);} else if(k.cticket) {d = k.cticket; if(!d || "string" !== typeof d) throw new Z(l.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(k)); -1 == d.indexOf(",") ? p(c, d, f, z) : n(c, d, f, z);} else throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM, "MDX authdata " + JSON.stringify(k));});};}()); (function() {var m, q, t; m = rd.ACTION; q = oc.ACTION; t = sd.ACTION; Be = mc.extend({init: function J() {J.base.call(this, Ua.MDX);}, createData: function(l, m, q, t) {Ae(l, q, t);}, authenticate: function(J, A, L, I) {if(!(L instanceof bc)) throw new aa("Incorrect authentication data type " + L.getClass().getName() + "."); J = L.action; switch(L.mechanism) {case Kc.MSL: if(m != J) throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(L); break; case Kc.NTBA: if(q != J) throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(L); break; case Kc.MSL_LEGACY: if(t != J) throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(L);}J = L.controllerPin; A = L.targetPin; if(!J || !A) throw new ra(l.MDX_PIN_BLANK).setUser(L); if(J != A) throw new ra(l.MDX_PIN_MISMATCH).setUser(L); J = L.customer; if(!J) throw new ra(l.MDX_USER_UNKNOWN).setUser(L); if(I && (I = I.customer, !J.equals(I))) throw new ra(l.USERIDTOKEN_USERAUTH_DATA_MISMATCH, "uad customer " + J + "; uit customer " + I).setUser(L); return J;}});}()); (function() {var m, q, t; m = {MICROSOFT_SAML: "MICROSOFT_SAML", SAMSUNG: "SAMSUNG", MICROSOFT_JWT: "MICROSOFT_JWT", GOOGLE_JWT: "GOOGLE_JWT"}; q = De = ga.Class.create({init: function(l, m) {Object.defineProperties(this, {email: {value: l, writable: !1, enumerable: !0, configurable: !1}, password: {value: m, writable: !1, enumerable: !0, configurable: !1}});}}); t = Ee = ga.Class.create({init: function(l, m) {Object.defineProperties(this, {netflixId: {value: l, writable: !1, enumerable: !0, configurable: !1}, secureNetflixId: {value: m, writable: !1, enumerable: !0, configurable: !1}});}}); pc = Bb.extend({init: function J(l, m, L, A) {var f, c, a, b; J.base.call(this, Ua.SSO); f = null; c = null; a = null; b = null; L instanceof q ? (f = L.email, c = L.password) : L instanceof t && (a = L.netflixId, b = L.secureNetflixId); Object.defineProperties(this, {mechanism: {value: l, writable: !1, configurable: !1}, token: {value: m, writable: !1, configurable: !1}, email: {value: f, writable: !1, configurable: !1}, password: {value: c, writable: !1, configurable: !1}, netflixId: {value: a, writable: !1, configurable: !1}, secureNetflixId: {value: b, writable: !1, configurable: !1}, profileGuid: {value: "undefined" === typeof A ? null : A, writable: !1, configurable: !1}});}, getAuthData: function() {var l; l = {}; l.mechanism = this.mechanism; l.token = ia(this.token); this.email && this.password ? (l.email = this.email, l.password = this.password) : this.netflixId && this.secureNetflixId && (l.netflixid = this.netflixId, l.securenetflixid = this.secureNetflixId); this.profileGuid && (l.profileguid = this.profileGuid); return l;}, equals: function La(l) {return this === l ? !0 : l instanceof pc ? La.base.call(this, l) && this.mechanism == l.mechanism && Pa(this.token, l.token) && this.email == l.email && this.password == l.password && this.netflixId == l.netflixId && this.secureNetflixId == l.secureNetflixId && this.profileGuid == l.profileGuid : !1;}}); Ce = function(L) {var A, I, D, f, c, a, b, d, k; A = L.mechanism; I = L.token; if(!A || !I || "string" !== typeof I) throw new Z(l.JSON_PARSE_ERROR, "SSO authdata " + JSON.stringify(L)); if(!m[A]) throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM, "SSO authdata " + JSON.stringify(L)); D = L.email; f = L.password; c = L.netflixid; a = L.securenetflixid; b = L.profileguid; if(D && !f || !D && f || c && !a || !c && a || D && c) throw new Z(l.JSON_PARSE_ERROR, "SSO authdata " + JSON.stringify(L)); try {d = na(I);} catch(h) {throw new ra(l.SSOTOKEN_INVALID, "SSO authdata " + JSON.stringify(L), h);} D && f ? k = new q(D, f) : c && a && (k = new t(c, a)); return new pc(A, d, k, b);};}()); jf = mc.extend({init: function Q() {Q.base.call(this, Ua.SSO);}, createData: function(l, q, t, J) {m(J, function() {return Ce(t);});}, authenticate: function(m, q, t, J) {var E, L; if(!(t instanceof pc)) throw new aa("Incorrect authentication data type " + t + "."); m = t.token; q = t.email; J = t.password; E = t.netflixId; L = t.secureNetflixId; if(!m || 0 == m.length) throw new ra(l.SSOTOKEN_BLANK); if(!(null === q && null === J || q && J)) throw new ra(l.EMAILPASSWORD_BLANK); if(!(null === E && null === L || E && L)) throw new ra(l.NETFLIXID_COOKIES_BLANK).setUser(t); throw new ra(l.UNSUPPORTED_USERAUTH_DATA, this.scheme).setUser(t);}}); (function() {qc = Bb.extend({init: function L(l, m) {L.base.call(this, Ua.SWITCH_PROFILE); Object.defineProperties(this, {userIdToken: {value: l, writable: !1, configurable: !1}, profileGuid: {value: m, writable: !1, configurable: !1}});}, getAuthData: function() {var l; l = {}; l.useridtoken = JSON.parse(JSON.stringify(this.userIdToken)); l.profileguid = this.profileGuid; return l;}, equals: function E(l) {return this == l ? !0 : l instanceof qc ? E.base.call(this, l) && this.userIdToken.equals(l.userIdToken) && this.profileGuid == l.profileGuid : !1;}}); Fe = function(q, t, A, D) {m(D, function() {var E, J; if(!t) throw new ra(l.USERAUTH_MASTERTOKEN_MISSING); E = A.useridtoken; J = A.profileguid; if("object" !== typeof E || "string" !== typeof J) throw new Z(l.JSON_PARSE_ERROR, "switch profile authdata " + JSON.stringify(A)); Ob(q, E, t, {result: function(f) {m(D, function() {if(!f.isDecrypted()) throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED, "switch profile authdata " + JSON.stringify(A)); return new qc(f, J);});}, error: function(f) {D.error(new ra(l.USERAUTH_USERIDTOKEN_INVALID, "switch profile authdata " + JSON.stringify(A), f));}});});};}()); kf = mc.extend({init: function L(l) {L.base.call(this, Ua.SWITCH_PROFILE); Object.defineProperties(this, {_store: {value: l, writable: !1, enumerable: !1, configurable: !1}});}, createData: function(l, m, q, t) {Fe(l, m, q, t);}, authenticate: function(m, q, t, A) {if(!(t instanceof qc)) throw new aa("Incorrect authentication data type " + t + "."); q = t.userIdToken; m = t.profileGuid; if(!m) throw new ra(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t); q = q.user; if(!q) throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t); m = this._store.switchUsers(q, m); if(!m) throw new ra(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t); if(A && (A = A.user, !m.equals(A))) throw new ra(l.USERIDTOKEN_USERAUTH_DATA_MISMATCH, "uad user " + m + "; uit user " + A).setUserAuthenticationData(t); return m;}}); Object.freeze({ENTITY_REAUTH: q.ENTITY_REAUTH, ENTITYDATA_REAUTH: q.ENTITYDATA_REAUTH}); lf = ga.Class.create({getTime: function() {}, getRandom: function() {}, isPeerToPeer: function() {}, getMessageCapabilities: function() {}, getEntityAuthenticationData: function(l, m) {}, getMslCryptoContext: function() {}, getEntityAuthenticationFactory: function(l) {}, getUserAuthenticationFactory: function(l) {}, getTokenFactory: function() {}, getKeyExchangeFactory: function(l) {}, getKeyExchangeFactories: function() {}, getMslStore: function() {}}); Ge = ga.Class.create({setCryptoContext: function(l, m) {}, getMasterToken: function() {}, getNonReplayableId: function(l) {}, getCryptoContext: function(l) {}, removeCryptoContext: function(l) {}, clearCryptoContexts: function() {}, addUserIdToken: function(l, m) {}, getUserIdToken: function(l) {}, removeUserIdToken: function(l) {}, clearUserIdTokens: function() {}, addServiceTokens: function(l) {}, getServiceTokens: function(l, m) {}, removeServiceTokens: function(l, m, q) {}, clearServiceTokens: function() {}}); (function() {var m; m = Jb; pd = function(q, t) {var E; E = {}; switch(q) {case m.LZW: return Id(t, E); case m.GZIP: return gzip$compress(t); default: throw new A(l.UNSUPPORTED_COMPRESSION, q);}}; Hc = function(q, t, L) {switch(q) {case m.LZW: return Jd(t); case m.GZIP: return gzip$uncompress(t); default: throw new A(l.UNSUPPORTED_COMPRESSION, q.name());}};}()); Ge.extend({setCryptoContext: function(l, m) {}, getMasterToken: function() {return null;}, getNonReplayableId: function(l) {return 1;}, getCryptoContext: function(l) {return null;}, removeCryptoContext: function(l) {}, clearCryptoContexts: function() {}, addUserIdToken: function(l, m) {}, getUserIdToken: function(l) {return null;}, removeUserIdToken: function(l) {}, clearUserIdTokens: function() {}, addServiceTokens: function(l) {}, getServiceTokens: function(m, q) {if(q) {if(!m) throw new A(l.USERIDTOKEN_MASTERTOKEN_NULL); if(!q.isBoundTo(m)) throw new A(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + q.mtSerialNumber + "; mt " + m.serialNumber);} return [];}, removeServiceTokens: function(m, q, t) {if(t && q && !t.isBoundTo(q)) throw new A(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + t.masterTokenSerialNumber + "; mt " + q.serialNumber);}, clearServiceTokens: function() {}}); (function() {He = Ge.extend({init: function E() {E.base.call(this); Object.defineProperties(this, {masterTokens: {value: {}, writable: !1, enumerable: !1, configurable: !1}, cryptoContexts: {value: {}, writable: !1, enumerable: !1, configurable: !1}, userIdTokens: {value: {}, writable: !1, enumerable: !1, configurable: !1}, nonReplayableIds: {value: {}, writable: !1, enumerable: !1, configurable: !1}, unboundServiceTokens: {value: {}, writable: !1, enumerable: !1, configurable: !1}, mtServiceTokens: {value: {}, writable: !1, enumerable: !1, configurable: !1}, uitServiceTokens: {value: {}, writable: !1, enumerable: !1, configurable: !1}});}, setCryptoContext: function(l, m) {var q; if(m) {q = l.uniqueKey(); this.masterTokens[q] = l; this.cryptoContexts[q] = m;} else this.removeCryptoContext(l);}, getMasterToken: function() {var l, m, q; l = null; for(m in this.masterTokens) {q = this.masterTokens[m]; if(!l || q.isNewerThan(l)) l = q;} return l;}, getNonReplayableId: function(l) {var m; l = l.serialNumber; m = this.nonReplayableIds[l] !== da ? this.nonReplayableIds[l] : 0; if(0 > m || m > ta) throw new aa("Non-replayable ID " + m + " is outside the valid range."); m = m == ta ? 0 : m + 1; return this.nonReplayableIds[l] = m;}, getCryptoContext: function(l) {return this.cryptoContexts[l.uniqueKey()];}, removeCryptoContext: function(l) {var m, q; m = l.uniqueKey(); if(this.masterTokens[m]) {delete this.masterTokens[m]; delete this.cryptoContexts[m]; m = l.serialNumber; for(q in this.masterTokens) if(this.masterTokens[q].serialNumber == m) return; delete this.nonReplayableIds[m]; Object.keys(this.userIdTokens).forEach(function(m) {m = this.userIdTokens[m]; m.isBoundTo(l) && this.removeUserIdToken(m);}, this); try {this.removeServiceTokens(null, l, null);} catch(pa) {if(pa instanceof A) throw new aa("Unexpected exception while removing master token bound service tokens.", pa); throw pa;} } }, clearCryptoContexts: function() {[this.masterTokens, this.cryptoContexts, this.nonReplayableIds, this.userIdTokens, this.uitServiceTokens, this.mtServiceTokens].forEach(function(l) {for(var m in l) delete l[m];}, this);}, addUserIdToken: function(m, q) {var t, E; t = !1; for(E in this.masterTokens) if(q.isBoundTo(this.masterTokens[E])) {t = !0; break;} if(!t) throw new A(l.USERIDTOKEN_MASTERTOKEN_NOT_FOUND, "uit mtserialnumber " + q.mtSerialNumber); this.userIdTokens[m] = q;}, getUserIdToken: function(l) {return this.userIdTokens[l];}, removeUserIdToken: function(l) {var m, q, t; m = null; for(q in this.masterTokens) {t = this.masterTokens[q]; if(l.isBoundTo(t)) {m = t; break;} } Object.keys(this.userIdTokens).forEach(function(q) {if(this.userIdTokens[q].equals(l)) {delete this.userIdTokens[q]; try {this.removeServiceTokens(null, m, l);} catch(sa) {if(sa instanceof A) throw new aa("Unexpected exception while removing user ID token bound service tokens.", sa); throw sa;} } }, this);}, clearUserIdTokens: function() {var m; for(var l in this.userIdTokens) {m = this.userIdTokens[l]; try {this.removeServiceTokens(null, null, m);} catch(La) {if(La instanceof A) throw new aa("Unexpected exception while removing user ID token bound service tokens.", La); throw La;} delete this.userIdTokens[l];} }, addServiceTokens: function(m) {m.forEach(function(m) {var q, t, E; if(m.isUnbound()) this.unboundServiceTokens[m.uniqueKey()] = m; else {if(m.isMasterTokenBound()) {q = !1; for(t in this.masterTokens) if(m.isBoundTo(this.masterTokens[t])) {q = !0; break;} if(!q) throw new A(l.SERVICETOKEN_MASTERTOKEN_NOT_FOUND, "st mtserialnumber " + m.mtSerialNumber);} if(m.isUserIdTokenBound()) {q = !1; for(E in this.userIdTokens) if(m.isBoundTo(this.userIdTokens[E])) {q = !0; break;} if(!q) throw new A(l.SERVICETOKEN_USERIDTOKEN_NOT_FOUND, "st uitserialnumber " + m.uitSerialNumber);} m.isMasterTokenBound() && ((E = this.mtServiceTokens[m.mtSerialNumber]) || (E = {}), E[m.uniqueKey()] = m, this.mtServiceTokens[m.mtSerialNumber] = E); m.isUserIdTokenBound() && ((E = this.uitServiceTokens[m.uitSerialNumber]) || (E = {}), E[m.uniqueKey()] = m, this.uitServiceTokens[m.uitSerialNumber] = E);} }, this);}, getServiceTokens: function(m, q) {var t, E, J, D; if(q) {if(!m) throw new A(l.USERIDTOKEN_MASTERTOKEN_NULL); if(!q.isBoundTo(m)) throw new A(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + q.mtSerialNumber + "; mt " + m.serialNumber);} t = {}; for(E in this.unboundServiceTokens) {J = this.unboundServiceTokens[E]; t[J.uniqueKey()] = J;} if(m && (J = this.mtServiceTokens[m.serialNumber])) for(E in J) {D = J[E]; D.isUserIdTokenBound() || (t[E] = D);} if(q && (J = this.uitServiceTokens[q.serialNumber])) for(E in J) D = J[E], D.isBoundTo(m) && (t[E] = D); J = []; for(E in t) J.push(t[E]); return J;}, removeServiceTokens: function(m, q, t) {var J, D, c; if(t && q && !t.isBoundTo(q)) throw new A(l.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + t.mtSerialNumber + "; mt " + q.serialNumber); if(m && !q && !t) {Object.keys(this.unboundServiceTokens).forEach(function(a) {this.unboundServiceTokens[a].name == m && delete this.unboundServiceTokens[a];}, this); for(var E in this.mtServiceTokens) {J = this.mtServiceTokens[E]; D = Object.keys(J); D.forEach(function(a) {J[a].name == m && delete J[a];}, this); this.mtServiceTokens[E] = J;} for(var f in this.uitServiceTokens) J = this.uitServiceTokens[f], E = Object.keys(J), E.forEach(function(a) {J[a].name == m && delete J[a];}, this), this.uitServiceTokens[f] = J;} if(q && !t) {if(J = this.mtServiceTokens[q.serialNumber]) D = Object.keys(J), D.forEach(function(a) {var b; b = J[a]; m && b.name != m || delete J[a];}, this), this.mtServiceTokens[q.serialNumber] = J; for(f in this.uitServiceTokens) {c = this.uitServiceTokens[f]; E = Object.keys(c); E.forEach(function(a) {var b; b = c[a]; m && b.name != m || b.isBoundTo(q) && delete c[a];}, this); this.uitServiceTokens[f] = c;} } t && (J = this.uitServiceTokens[t.serialNumber]) && (E = Object.keys(J), E.forEach(function(a) {var b; b = J[a]; m && b.name != m || q && !b.isBoundTo(q) || delete J[a];}, this), this.uitServiceTokens[t.serialNumber] = J);}, clearServiceTokens: function() {[this.unboundServiceTokens, this.mtServiceTokens, this.uitServiceTokens].forEach(function(l) {for(var m in l) delete l[m];}, this);}});}()); Se = df.extend({init: function E() {E.base.call(this); Object.defineProperties(this, {_contextMap: {value: {}, writable: !1, enumerable: !1, configurable: !1}});}, addCryptoContext: function(l, m) {var q; if(m && l && l.length) {q = ia(l); this._contextMap[q] = m;} }, getCryptoContext: function(l) {return l && l.length ? (l = ia(l), this._contextMap[l] || null) : null;}, removeCryptoContext: function(l) {l && l.length && (l = ia(l), delete this._contextMap[l]);}}); Ie = Xe.extend({init: function J(l, m, q, t) {J.base.call(this, l); Object.defineProperties(this, {_kde: {value: m, writable: !1, enumerable: !1, configurable: !1}, _kdh: {value: q, writable: !1, enumerable: !1, configurable: !1}, _kdw: {value: t, writable: !1, enumerable: !1, configurable: !1}});}, getCryptoContext: function(m, q) {if(!(q instanceof hb)) throw new aa("Incorrect authentication data type " + JSON.stringify(q) + "."); if(q.identity != this.localIdentity) throw new vb(l.ENTITY_NOT_FOUND, "mgk " + q.identity); return new Ac(m, this.localIdentity, this._kde, this._kdh, this._kdw);}}); mf = Td.extend({init: function La(l, m, q, f) {La.base.call(this, l); Object.defineProperties(this, {_kpe: {value: m, writable: !1, enumerable: !1, configurable: !1}, _kph: {value: q, writable: !1, enumerable: !1, configurable: !1}, _kpw: {value: f, writable: !1, enumerable: !1, configurable: !1}});}, getCryptoContext: function(m, q) {if(!(q instanceof nb)) throw new aa("Incorrect authentication data type " + JSON.stringify(q) + "."); if(q.identity != this.localIdentity) throw new vb(l.ENTITY_NOT_FOUND, "psk " + q.identity); return new Ac(m, this.localIdentity, this._kpe, this._kph, this._kpw);}}); of = He.extend({init: function pa(l, m, f, c, a, b) {pa.base.call(this); this._log = l; this._esn = m; this._keyRequestData = f; this._createKeyRequestData = c; this._systemKeyName = a; this._systemKeyWrapFormat = b;}, setCryptoContext: function Ha(l, f, c) {var a; a = this; a._log.trace("Adding MasterToken", {SequenceNumber: l.sequenceNumber, SerialNumber: l.serialNumber, Expiration: l.expiration.getTime()}); Ha.base.call(this, l, f); !c && (l = a._createKeyRequestData) && (a._log.trace("Generating new keyx request data"), l().then(function(b) {a._keyRequestData = b;}, function(b) {a._log.error("Unable to generate new keyx request data", "" + b);}));}, addUserIdToken: function sa(f, c) {this._log.trace("Adding UserIdToken", {UserId: f, SerialNumber: c.serialNumber, MTSerialNumber: c.mtSerialNumber, Expiration: c.expiration.getTime()}); sa.base.call(this, f, c);}, addServiceTokens: function f(c) {f.base.call(this, c.filter(function(a) {return !nf[a.name];}));}, getUserIdTokenKeys: function() {var f, c; f = []; for(c in this.userIdTokens) f.push(c); return f;}, rekeyUserIdToken: function(f, c) {this.userIdTokens[f] && (this.userIdTokens[c] = this.userIdTokens[f], delete this.userIdTokens[f]);}, getKeyRequestData: function() {return this._keyRequestData;}, getStoreState: function(f) {var c; c = this; m(f, function() {var a; a = c.getMasterToken(); a ? c.getKeysForStore(a, {result: function(b) {m(f, function() {var d, k, h; d = c.userIdTokens; k = Object.keys(d).map(function(b) {var g; g = d[b]; return {userId: b, userIdTokenJSON: d[b].toJSON(), serviceTokenJSONList: c.getServiceTokens(a, g).map(Pe)};}); b.esn = c._esn; b.masterTokenJSON = a.toJSON(); b.userList = k; h = c._keyRequestData.storeData; h && Object.keys(h).forEach(function(a) {b[a] = h[a];}); return b;});}, timeout: f.timeout, error: f.error}) : f.result(null);});}, getKeysForStore: function(f, c) {var a; a = this; m(c, function() {var b; b = a.getCryptoContext(f); b = {encryptionKey: b.encryptionKey, hmacKey: b.hmacKey}; if(b.encryptionKey && b.hmacKey) if(a._systemKeyWrapFormat) a.wrapKeysWithSystemKey(b, c); else return b; else throw new A(l.INTERNAL_EXCEPTION, "Unable to get CryptoContext keys");});}, wrapKeysWithSystemKey: function(f, c) {var a; a = this; yd(this._systemKeyName, {result: function(b) {m(c, function() {var d, k, h, g; d = f.encryptionKey; k = f.hmacKey; h = d[cc]; g = k[cc]; if(h && g) return {wrappedEncryptionKey: h, wrappedHmacKey: g}; Promise.resolve().then(function() {return Promise.all([ya.wrapKey(a._systemKeyWrapFormat, d, b, b.algorithm), ya.wrapKey(a._systemKeyWrapFormat, k, b, b.algorithm)]);}).then(function(a) {h = ia(a[0]); d[cc] = h; g = ia(a[1]); k[cc] = g; c.result({wrappedEncryptionKey: h, wrappedHmacKey: g});})["catch"](function(a) {c.error(new A(l.INTERNAL_EXCEPTION, "Error wrapping key with SYSTEM key", a));});});}, timeout: c.timeout, error: c.error});}, unwrapKeysWithSystemKey: function(f, c) {var a; a = this; yd(this._systemKeyName, {result: function(b) {m(c, function() {var d, k; d = na(f.wrappedEncryptionKey); k = na(f.wrappedHmacKey); Promise.resolve().then(function() {return Promise.all([ya.unwrapKey(a._systemKeyWrapFormat, d, b, b.algorithm, mb, !1, Cb), ya.unwrapKey(a._systemKeyWrapFormat, k, b, b.algorithm, fb, !1, Mb)]);}).then(function(a) {var b; b = a[0]; a = a[1]; b[cc] = f.wrappedEncryptionKey; a[cc] = f.wrappedHmacKey; c.result({encryptionKey: b, hmacKey: a});})["catch"](function(a) {c.error(new A(l.INTERNAL_EXCEPTION, "Error unwrapping with SYSTEM key", a));});});}, timeout: c.timeout, error: c.error});}, loadStoreState: function(f, c, a, b) {var h, g; function d(b, g) {var d; try {d = a.userList.slice();} catch(u) {} d ? function v() {var a; a = d.shift(); a ? Ob(c, a.userIdTokenJSON, b, {result: function(g) {try {h.addUserIdToken(a.userId, g); k(b, g, a.serviceTokenJSONList, {result: v, timeout: v, error: v});} catch(y) {v();} }, timeout: v, error: v}) : g.result();}() : g.result();} function k(a, b, g, d) {var p, n; try {p = g.slice();} catch(z) {} if(p) {n = h.getCryptoContext(a); (function y() {var g; g = p.shift(); g ? Gc(c, g, a, b, n, {result: function(a) {h.addServiceTokens([a]); y();}, timeout: function() {y();}, error: function() {y();}}) : d.result();}());} else d.result();} h = this; g = h._log; a.esn != h._esn ? (g.error("Esn mismatch, starting fresh"), b.error()) : function(b) {var k, v, B, z; function d() {var a; if(!k && v && B && z) {k = !0; a = new db(c, v, f.esn, {rawKey: B}, {rawKey: z}); h.setCryptoContext(v, a, !0); b.result(v);} } function p(a, c) {g.error(a, c && "" + c); k || (k = !0, b.error());} a.masterTokenJSON ? (Nb(c, a.masterTokenJSON, {result: function(a) {v = a; d();}, timeout: function() {p("Timeout parsing MasterToken");}, error: function(a) {p("Error parsing MasterToken", a);}}), h._systemKeyWrapFormat ? h.unwrapKeysWithSystemKey(a, {result: function(a) {B = a.encryptionKey; z = a.hmacKey; d();}, timeout: function() {p("Timeout unwrapping keys");}, error: function(a) {p("Error unwrapping keys", a);}}) : Promise.resolve().then(function() {return ya.encrypt({name: mb.name, iv: new Uint8Array(16)}, a.encryptionKey, new Uint8Array(1));}).then(function(b) {B = a.encryptionKey;})["catch"](function(a) {p("Error loading encryptionKey");}).then(function() {return ya.sign(fb, a.hmacKey, new Uint8Array(1));}).then(function(b) {z = a.hmacKey; d();})["catch"](function(a) {p("Error loading hmacKey");})) : p("Persisted store is corrupt");}({result: function(a) {d(a, b);}, timeout: b.timeout, error: b.error});}}); nf = {"streaming.servicetokens.movie": !0, "streaming.servicetokens.license": !0}; cc = "$netflix$msl$wrapsys"; pf = lf.extend({init: function(f, c, a, b, d, k) {var h, g; h = new kc([Jb.LZW]); g = new Ze(); g.addPublicKey(c, a); b[Ea.RSA] = new Ye(g); c = {}; c[Ua.EMAIL_PASSWORD] = new hf(); c[Ua.NETFLIXID] = new gf(); c[Ua.MDX] = new Be(); c[Ua.SSO] = new jf(); c[Ua.SWITCH_PROFILE] = new kf(); f = {_mslCryptoContext: {value: new We(), writable: !0, enumerable: !1, configurable: !1}, _capabilities: {value: h, writable: !1, enumerable: !1, configurable: !1}, _entityAuthData: {value: d, writable: !0, enumerable: !1, configurable: !1}, _entityAuthFactories: {value: b, writable: !1, enumerable: !1, configurable: !1}, _userAuthFactories: {value: c, writable: !1, enumerable: !1, configurable: !1}, _keyExchangeFactories: {value: k, writable: !1, enumerable: !1, configurable: !1}, _store: {value: f, writable: !1, enumerable: !1, configurable: !1}}; Object.defineProperties(this, f);}, getTime: function() {return Date.now();}, getRandom: function() {return new Nd();}, isPeerToPeer: function() {return !1;}, getMessageCapabilities: function() {return this._capabilities;}, getEntityAuthenticationData: function(f, c) {c.result(this._entityAuthData);}, getMslCryptoContext: function() {return this._mslCryptoContext;}, getEntityAuthenticationFactory: function(f) {return this._entityAuthFactories[f];}, getUserAuthenticationFactory: function(f) {return this._userAuthFactories[f];}, getTokenFactory: function() {return null;}, getKeyExchangeFactory: function(f) {return this._keyExchangeFactories.filter(function(c) {return c.scheme == f;})[0];}, getKeyExchangeFactories: function() {return this._keyExchangeFactories;}, getMslStore: function() {return this._store;}}); Ad = ve.extend({init: function(f, c, a, b) {this._log = f; this._mslContext = c; this._mslRequest = a; this._keyRequestData = b;}, getCryptoContexts: function() {return {};}, isEncrypted: function() {return !!this._mslRequest.encrypted;}, isNonReplayable: function() {return !!this._mslRequest.nonReplayable;}, isRequestingTokens: function() {return !0;}, getUserId: function() {return this._mslRequest.profileGuid || this._mslRequest.userId || null;}, getUserAuthData: function(f, c, a, b) {var d, k; d = this._mslRequest; k = this._mslContext; m(b, function() {var b, g; if(f || !d.shouldSendUserAuthData) return null; if(d.token) {d.email ? b = new De(d.email, d.password) : d.netflixId && (b = new Ee(d.netflixId, d.secureNetflixId)); g = "undefined" === typeof d.profileGuid ? null : d.profileGuid; return new pc(d.mechanism, Na(d.token), b, g);} return d.email ? new nc(d.email, d.password) : d.netflixId ? new Rb(d.netflixId, d.secureNetflixId) : d.mdxControllerToken ? (b = new oc("regpairrequest", d.mdxNonce, d.mdxEncryptedPinB64, d.mdxSignature).getEncoding(), new bc(k, d.mdxPin, d.mdxControllerToken, b, d.mdxSignature)) : d.useNetflixUserAuthData ? new Rb() : d.profileGuid ? (b = d.userId, b = k.getMslStore().userIdTokens[b], new qc(b, d.profileGuid)) : a && d.sendUserAuthIfRequired ? new Rb() : null;});}, getCustomer: function() {return null;}, getKeyRequestData: function(f) {f.result(this._mslRequest.allowTokenRefresh ? [this._keyRequestData] : []);}, updateServiceTokens: function(f, c, a) {var b, d, k, h, g, p; b = this._log; d = (this._mslRequest.serviceTokens || []).slice(); k = this._mslContext; c = k.getMslStore(); h = f.builder.getMasterToken(); g = this.getUserId(); p = c.getUserIdToken(g); (function r() {var g; g = d.shift(); if(g) try {g instanceof Eb ? (f.addPrimaryServiceToken(g), r()) : Gc(k, g, h, p, null, {result: function(a) {try {f.addPrimaryServiceToken(a);} catch(B) {b.warn("Exception adding service token", "" + B);} r();}, timeout: function() {b.warn("Timeout parsing service token"); r();}, error: function(a) {b.warn("Error parsing service token", "" + a); r();}});} catch(v) {b.warn("Exception processing service token", "" + v); r();} else a.result(!0);}());}, write: function(f, c, a) {var b; b = Na(this._mslRequest.body); f.write(b, 0, b.length, c, {result: function(d) {d != b.length ? a.error(new Ta("Not all data was written to output.")) : f.flush(c, {result: function() {a.result(!0);}, timeout: function() {a.timeout();}, error: function(b) {a.error(b);}});}, timeout: function() {a.timeout();}, error: function(b) {a.error(b);}});}, getDebugContext: function() {this._dc || (this._dc = new qf(this._log, this._mslRequest)); return this._dc;}}); qf = ff.extend({init: function(f, c) {this._log = f; this._mslRequest = c;}, sentHeader: function(f) {this._log.trace("Sent MSL header", zd(this._mslRequest, f), f.serviceTokens && f.serviceTokens.map(Qe).join("\n"));}, receivedHeader: function(f) {var c, a; c = zd(this._mslRequest, f); a = f.errorCode; a ? this._log.warn("Received MSL error header", c, {errorCode: a, errorMessage: f.errorMessage, internalCode: f.internalCode}) : this._log.trace("Received MSL header", c);}}); Je = {PSK: function(f) {return Rc(f, Ea.PSK, mf, nb, jd, Ec);}, MGK: function(f) {return Rc(f, Ea.MGK, Ie, hb, jd, Ec);}, MGK_WITH_FALLBACK: function(f) {var c, a; switch(f.esnPrefix) {case "GOOGEUR001": case "GOOGLEXX01": c = "PSK"; break; default: c = "MGK";}a = Je[c]; if(!a) throw new A(l.INTERNAL_EXCEPTION, "Invalid fallback authenticationType: " + c); return a(f);}, MGK_JWE: function(f) {return Rc(f, Ea.MGK, Ie, hb, Zd, id);}, JWK_RSA: function(f) {return Sc(f, {name: "RSA-OAEP", modulusLength: 2048, publicExponent: new Uint8Array([1, 0, 1]), hash: {name: "SHA-1"}}, Fc.JWK_RSA);}, JWK_RSAES: function(f) {return Sc(f, {name: "RSAES-PKCS1-v1_5", modulusLength: 2048, publicExponent: new Uint8Array([1, 0, 1])}, Fc.JWK_RSAES);}, JWEJS_RSA: function(f) {return Sc(f, {name: "RSA-OAEP", modulusLength: 2048, publicExponent: new Uint8Array([1, 0, 1])}, Fc.JWEJS_RSA);}}; t.netflix = t.netflix || {}; t.netflix.msl = {createMslClient: function(f, c) {var a, b, d, k, h; a = f.log; h = f.notifyMilestone || function() {}; Promise.resolve().then(function() {if(!(Ba && Ba.generateKey && Ba.importKey && Ba.unwrapKey)) throw new A(l.INTERNAL_EXCEPTION, "No WebCrypto"); ab = Ba.generateKey({name: "AES-CBC", length: 128}, !0, Cb).then ? vc.V2014_02 : vc.LEGACY; h("mslisik"); return ya.importKey("spki", f.serverIdentityKeyData, Od, !1, ["verify"]);}).then(function(a) {return new Promise(function(b, g) {Ib(a, {result: b, error: function() {g(new A(l.KEY_IMPORT_ERROR, "Unable to create server identity verification key"));}});});}).then(function(a) {b = a; if(a = Je[f.authenticationType]) return h("mslcc"), a(f); throw new A(l.INTERNAL_EXCEPTION, "Invalid authenticationType: " + f.authenticationType);}).then(function(g) {var c; d = new of(a, f.esn, g.keyRequestData, g.createKeyRequestData, f.authenticationKeyNames.s, f.systemKeyWrapFormat); k = new pf(d, f.serverIdentityId, b, g.entityAuthFactories, g.entityAuthData, g.keyExchangeFactories); c = f.storeState; if(c) return h("mslss"), a.info("Loading store state"), new Promise(function(a, b) {d.loadStoreState(f, k, c, {result: a, timeout: a, error: a});}); a.info("No store state, starting fresh");}).then(function() {var b; b = new we(); h("msldone"); c.result(new Re(a, b, k, d, f.ErrorSubCodes));})["catch"](function(a) {c.error(a);});}, IHttpLocation: bf, MslIoException: Ta}; Uc = "function" == typeof Object.defineProperties ? Object.defineProperty : function(f, c, a) {if(a.get || a.set) throw new TypeError("ES3 does not support getters and setters."); f != Array.prototype && f != Object.prototype && (f[c] = a.value);}; oa = "undefined" != typeof t && t === this ? this : "undefined" != typeof global && null != global ? global : this; Ve = 0; Ra("Object.setPrototypeOf", function(f) {return f ? f : "object" != typeof "".__proto__ ? null : function(c, a) {c.__proto__ = a; if(c.__proto__ !== a) throw new TypeError(c + " is not extensible"); return c;};}); Ra("Object.assign", function(f) {return f ? f : function(c, a) {var d; for(var b = 1; b < arguments.length; b++) {d = arguments[b]; if(d) for(var k in d) lb(d, k) && (c[k] = d[k]);} return c;};}); Ra("Object.getOwnPropertySymbols", function(f) {return f ? f : function() {return [];};}); Ra("Promise", function(f) {var b, d; function c(a) {var b; this.cJ = 0; this.c7 = void 0; this.$H = []; b = this.e0(); try {a(b.resolve, b.reject);} catch(g) {b.reject(g);} } function a() {this.Ws = null;} if(f) return f; a.prototype.Tia = function(a) {null == this.Ws && (this.Ws = [], this.gSa()); this.Ws.push(a);}; a.prototype.gSa = function() {var a; a = this; this.Uia(function() {a.r0a();});}; b = oa.setTimeout; a.prototype.Uia = function(a) {b(a, 0);}; a.prototype.r0a = function() {var a, g; for(; this.Ws && this.Ws.length;) {a = this.Ws; this.Ws = []; for(var b = 0; b < a.length; ++b) {g = a[b]; delete a[b]; try {g();} catch(p) {this.iSa(p);} } } this.Ws = null;}; a.prototype.iSa = function(a) {this.Uia(function() {throw a;});}; c.prototype.e0 = function() {var b, g; function a(a) {return function(c) {g || (g = !0, a.call(b, c));};} b = this; g = !1; return {resolve: a(this.Xeb), reject: a(this.G6)};}; c.prototype.Xeb = function(a) {var b; if(a === this) this.G6(new TypeError("A Promise cannot resolve to itself")); else if(a instanceof c) this.Qgb(a); else {a: switch(typeof a) {case "object": b = null != a; break a; case "function": b = !0; break a; default: b = !1;}b ? this.Web(a) : this.Rma(a);} }; c.prototype.Web = function(a) {var b; b = void 0; try {b = a.then;} catch(g) {this.G6(g); return;} "function" == typeof b ? this.Rgb(b, a) : this.Rma(a);}; c.prototype.G6 = function(a) {this.wva(2, a);}; c.prototype.Rma = function(a) {this.wva(1, a);}; c.prototype.wva = function(a, b) {if(0 != this.cJ) throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.cJ); this.cJ = a; this.c7 = b; this.s0a();}; c.prototype.s0a = function() {if(null != this.$H) {for(var a = this.$H, b = 0; b < a.length; ++b)a[b].call(), a[b] = null; this.$H = null;} }; d = new a(); c.prototype.Qgb = function(a) {var b; b = this.e0(); a.JN(b.resolve, b.reject);}; c.prototype.Rgb = function(a, b) {var g; g = this.e0(); try {a.call(b, g.resolve, g.reject);} catch(p) {g.reject(p);} }; c.prototype.then = function(a, b) {var d, h, k; function g(a, b) {return "function" == typeof a ? function(b) {try {d(a(b));} catch(z) {h(z);} } : b;} k = new c(function(a, b) {d = a; h = b;}); this.JN(g(a, d), g(b, h)); return k;}; c.prototype["catch"] = function(a) {return this.then(void 0, a);}; c.prototype.JN = function(a, b) {var c; function g() {switch(c.cJ) {case 1: a(c.c7); break; case 2: b(c.c7); break; default: throw Error("Unexpected state: " + c.cJ);}} c = this; null == this.$H ? d.Tia(g) : this.$H.push(function() {d.Tia(g);});}; c.resolve = function(a) {return a instanceof c ? a : new c(function(b) {b(a);});}; c.reject = function(a) {return new c(function(b, g) {g(a);});}; c.race = function(a) {return new c(function(b, g) {for(var d = Aa(a), h = d.next(); !h.done; h = d.next())c.resolve(h.value).JN(b, g);});}; c.all = function(a) {var b, g; b = Aa(a); g = b.next(); return g.done ? c.resolve([]) : new c(function(a, d) {var h, n; function p(b) {return function(g) {h[b] = g; n--; 0 == n && a(h);};} h = []; n = 0; do h.push(void 0), n++ , c.resolve(g.value).JN(p(h.length - 1), d), g = b.next(); while(!g.done);});}; c.$jscomp$new$AsyncExecutor = function() {return new a();}; return c;}); Ra("Array.prototype.keys", function(f) {return f ? f : function() {return Vc(this, function(c) {return c;});};}); Ra("Math.tanh", function(f) {return f ? f : function(c) {var a; c = Number(c); if(0 === c) return c; a = Math.exp(-2 * Math.abs(c)); a = (1 - a) / (1 + a); return 0 > c ? -a : a;};}); Ra("String.prototype.endsWith", function(f) {return f ? f : function(c, a) {var b; b = Gd(this, c, "endsWith"); c += ""; void 0 === a && (a = b.length); a = Math.max(0, Math.min(a | 0, b.length)); for(var d = c.length; 0 < d && 0 < a;)if(b[--a] != c[--d]) return !1; return 0 >= d;};}); Ra("Number.MAX_SAFE_INTEGER", function() {return 9007199254740991;}); Ra("Array.prototype.find", function(f) {return f ? f : function(c, a) {return Hd(this, c, a).BT;};}); Ra("Array.prototype.entries", function(f) {return f ? f : function() {return Vc(this, function(c, a) {return [c, a];});};}); Ra("Array.prototype.values", function(f) {return f ? f : function() {return Vc(this, function(c, a) {return a;});};}); Ra("Array.prototype.fill", function(f) {return f ? f : function(c, a, b) {var d; d = this.length || 0; 0 > a && (a = Math.max(0, d + a)); if(null == b || b > d) b = d; b = Number(b); 0 > b && (b = Math.max(0, d + b)); for(a = Number(a || 0); a < b; a++)this[a] = c; return this;};}); Ra("Array.prototype.findIndex", function(f) {return f ? f : function(c, a) {return Hd(this, c, a).Qh;};}); Ra("String.prototype.startsWith", function(f) {return f ? f : function(c, a) {var b, d, k; b = Gd(this, c, "startsWith"); c += ""; d = b.length; k = c.length; a = Math.max(0, Math.min(a | 0, b.length)); for(var h = 0; h < k && a < d;)if(b[a++] != c[h++]) return !1; return h >= k;};}); Ra("WeakMap", function(f) {var d, k; function c(a) {this.OG = (k += Math.random() + 1).toString(); if(a) {Ia(); Wa(); a = Aa(a); for(var b; !(b = a.next()).done;)b = b.value, this.set(b[0], b[1]);} } function a(a) {lb(a, d) || Uc(a, d, {value: {}});} function b(b) {var g; g = Object[b]; g && (Object[b] = function(b) {a(b); return g(b);});} if(function() {var a, b, c; if(!f || !Object.seal) return !1; try {a = Object.seal({}); b = Object.seal({}); c = new f([[a, 2], [b, 3]]); if(2 != c.get(a) || 3 != c.get(b)) return !1; c["delete"](a); c.set(b, 4); return !c.has(a) && 4 == c.get(b);} catch(n) {return !1;} }()) return f; d = "$jscomp_hidden_" + Math.random().toString().substring(2); b("freeze"); b("preventExtensions"); b("seal"); k = 0; c.prototype.set = function(b, g) {a(b); if(!lb(b, d)) throw Error("WeakMap key fail: " + b); b[d][this.OG] = g; return this;}; c.prototype.get = function(a) {return lb(a, d) ? a[d][this.OG] : void 0;}; c.prototype.has = function(a) {return lb(a, d) && lb(a[d], this.OG);}; c.prototype["delete"] = function(a) {return lb(a, d) && lb(a[d], this.OG) ? delete a[d][this.OG] : !1;}; return c;}); Ra("Map", function(f) {var k, h; function c() {var a; a = {}; return a.ir = a.next = a.head = a;} function a(a, b) {var g; g = a.Pq; return Fd(function() {if(g) {for(; g.head != a.Pq;)g = g.ir; for(; g.next != g.head;)return g = g.next, {done: !1, value: b(g)}; g = null;} return {done: !0, value: void 0};});} function b(a, b) {var g, c, d; g = b && typeof b; "object" == g || "function" == g ? k.has(b) ? g = k.get(b) : (g = "" + ++h, k.set(b, g)) : g = "p_" + b; c = a.qt[g]; if(c && lb(a.qt, g)) for(a = 0; a < c.length; a++) {d = c[a]; if(b !== b && d.key !== d.key || b === d.key) return {id: g, list: c, index: a, pd: d};} return {id: g, list: c, index: -1, pd: void 0};} function d(a) {this.qt = {}; this.Pq = c(); this.size = 0; if(a) {a = Aa(a); for(var b; !(b = a.next()).done;)b = b.value, this.set(b[0], b[1]);} } if(function() {var a, b, c, d; if(!f || !f.prototype.entries || "function" != typeof Object.seal) return !1; try {a = Object.seal({x: 4}); b = new f(Aa([[a, "s"]])); if("s" != b.get(a) || 1 != b.size || b.get({x: 4}) || b.set({x: 4}, "t") != b || 2 != b.size) return !1; c = b.entries(); d = c.next(); if(d.done || d.value[0] != a || "s" != d.value[1]) return !1; d = c.next(); return d.done || 4 != d.value[0].x || "t" != d.value[1] || !c.next().done ? !1 : !0;} catch(u) {return !1;} }()) return f; Ia(); Wa(); k = new WeakMap(); d.prototype.set = function(a, c) {var g; g = b(this, a); g.list || (g.list = this.qt[g.id] = []); g.pd ? g.pd.value = c : (g.pd = {next: this.Pq, ir: this.Pq.ir, head: this.Pq, key: a, value: c}, g.list.push(g.pd), this.Pq.ir.next = g.pd, this.Pq.ir = g.pd, this.size++); return this;}; d.prototype["delete"] = function(a) {a = b(this, a); return a.pd && a.list ? (a.list.splice(a.index, 1), a.list.length || delete this.qt[a.id], a.pd.ir.next = a.pd.next, a.pd.next.ir = a.pd.ir, a.pd.head = null, this.size-- , !0) : !1;}; d.prototype.clear = function() {this.qt = {}; this.Pq = this.Pq.ir = c(); this.size = 0;}; d.prototype.has = function(a) {return !!b(this, a).pd;}; d.prototype.get = function(a) {return (a = b(this, a).pd) && a.value;}; d.prototype.entries = function() {return a(this, function(a) {return [a.key, a.value];});}; d.prototype.keys = function() {return a(this, function(a) {return a.key;});}; d.prototype.values = function() {return a(this, function(a) {return a.value;});}; d.prototype.forEach = function(a, b) {for(var c = this.entries(), g; !(g = c.next()).done;)g = g.value, a.call(b, g[1], g[0], this);}; d.prototype[Symbol.iterator] = d.prototype.entries; h = 0; return d;}); Ra("Set", function(f) {function c(a) {this.Go = new Map(); if(a) {a = Aa(a); for(var b; !(b = a.next()).done;)this.add(b.value);} this.size = this.Go.size;} if(function() {var a, b, c, k; if(!f || !f.prototype.entries || "function" != typeof Object.seal) return !1; try {a = Object.seal({x: 4}); b = new f(Aa([a])); if(!b.has(a) || 1 != b.size || b.add(a) != b || 1 != b.size || b.add({x: 4}) != b || 2 != b.size) return !1; c = b.entries(); k = c.next(); if(k.done || k.value[0] != a || k.value[1] != a) return !1; k = c.next(); return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0] ? !1 : c.next().done;} catch(h) {return !1;} }()) return f; Ia(); Wa(); c.prototype.add = function(a) {this.Go.set(a, a); this.size = this.Go.size; return this;}; c.prototype["delete"] = function(a) {a = this.Go["delete"](a); this.size = this.Go.size; return a;}; c.prototype.clear = function() {this.Go.clear(); this.size = 0;}; c.prototype.has = function(a) {return this.Go.has(a);}; c.prototype.entries = function() {return this.Go.entries();}; c.prototype.values = function() {return this.Go.values();}; c.prototype[Symbol.iterator] = c.prototype.values; c.prototype.forEach = function(a, b) {var c; c = this; this.Go.forEach(function(d) {return a.call(b, d, d, c);});}; return c;}); (function(f) {var a; function c(b) {var d; if(a[b]) return a[b].K; d = a[b] = {Qh: b, g7a: !1, K: {}}; f[b].call(d.K, d, d.K, c); d.g7a = !0; return d.K;} a = {}; c.Uxb = f; c.Btb = a; c.d = function(a, d, k) {c.$$a(a, d) || Object.defineProperty(a, d, {configurable: !1, enumerable: !0, get: k});}; c.r = function(a) {Object.defineProperty(a, "__esModule", {value: !0});}; c.n = function(a) {var b; b = a && a.Zea ? function() {return a["default"];} : function() {return a;}; c.d(b, "a", b); return b;}; c.$$a = function(a, c) {return Object.prototype.hasOwnProperty.call(a, c);}; c.p = ""; return c(c.wAb = 978);}([function(f, c, a) {Object.defineProperty(c, "__esModule", {value: !0}); f = a(36); c.xob = f; f = a(975); c.ZC = f.ZC; f = a(77); c.fm = f.fm; c.Vg = f.Vg; c.Ep = f.Ep; f = a(959); c.A9 = f.A9; c.Sb = f.Sb; f = a(958); c.P = f.P; f = a(957); c.hT = f.hT; f = a(956); c.zra = f.zra; f = a(449); c.j = f.j; c.sV = f.sV; f = a(955); c.optional = f.optional; f = a(954); c.sg = f.sg; f = a(953); c.ix = f.ix; f = a(952); c.sJ = f.sJ; f = a(951); c.bta = f.bta; f = a(451); c.GV = f.GV; f = a(101); c.id = f.id; f = a(87); c.st = f.st; f = a(446); c.Jwa = f.Jwa; c.r8 = f.r8; c.Ara = f.Ara; c.Pwa = f.Pwa; f = a(138); c.UA = f.UA; a = a(950); c.xra = a.xra;}, function(f, c, a) {function b() {b = Object.assign || function(a) {for(var b, c = 1, g = arguments.length; c < g; c++) {b = arguments[c]; for(var d in b) Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d]);} return a;}; return b.apply(this, arguments);} function d(a, b) {d = Object.setPrototypeOf || {__proto__: []} instanceof Array && function(a, b) {a.__proto__ = b;} || function(a, b) {for(var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);}; return d(a, b);} function k(a, b) {function c() {this.constructor = a;} d(a, b); a.prototype = null === b ? Object.create(b) : (c.prototype = b.prototype, new c());} function h(a, b) {var c, g, d; c = {}; for(g in a) Object.prototype.hasOwnProperty.call(a, g) && 0 > b.indexOf(g) && (c[g] = a[g]); if(null != a && "function" === typeof Object.getOwnPropertySymbols) {d = 0; for(g = Object.getOwnPropertySymbols(a); d < g.length; d++)0 > b.indexOf(g[d]) && (c[g[d]] = a[g[d]]);} return c;} function g(a, b, c, g) {var d, p, h; d = arguments.length; p = 3 > d ? b : null === g ? g = Object.getOwnPropertyDescriptor(b, c) : g; if("object" === typeof Reflect && "function" === typeof Reflect.st) p = Reflect.st(a, b, c, g); else for(var n = a.length - 1; 0 <= n; n--)if(h = a[n]) p = (3 > d ? h(p) : 3 < d ? h(b, c, p) : h(b, c)) || p; return 3 < d && p && Object.defineProperty(b, c, p), p;} function p(a, b) {return function(c, g) {b(c, g, a);};} function n(a, b) {if("object" === typeof Reflect && "function" === typeof Reflect.Nb) return Reflect.Nb(a, b);} function r(a, b, c, g) {return new (c || (c = Promise))(function(d, p) {function h(a) {try {k(g.next(a));} catch(ba) {p(ba);} } function n(a) {try {k(g["throw"](a));} catch(ba) {p(ba);} } function k(a) {a.done ? d(a.value) : new c(function(b) {b(a.value);}).then(h, n);} k((g = g.apply(a, b || [])).next());});} function u(a, b) {var d, p, h, n, k; function c(a) {return function(b) {return g([a, b]);};} function g(c) {if(p) throw new TypeError("Generator is already executing."); for(; d;)try {if(p = 1, h && (n = c[0] & 2 ? h["return"] : c[0] ? h["throw"] || ((n = h["return"]) && n.call(h), 0) : h.next) && !(n = n.call(h, c[1])).done) return n; if(h = 0, n) c = [c[0] & 2, n.value]; switch(c[0]) {case 0: case 1: n = c; break; case 4: return d.label++ , {value: c[1], done: !1}; case 5: d.label++; h = c[1]; c = [0]; continue; case 7: c = d.ux.pop(); d.hy.pop(); continue; default: if(!(n = d.hy, n = 0 < n.length && n[n.length - 1]) && (6 === c[0] || 2 === c[0])) {d = 0; continue;} if(3 === c[0] && (!n || c[1] > n[0] && c[1] < n[3])) d.label = c[1]; else if(6 === c[0] && d.label < n[1]) d.label = n[1], n = c; else if(n && d.label < n[2]) d.label = n[2], d.ux.push(c); else {n[2] && d.ux.pop(); d.hy.pop(); continue;} }c = b.call(a, d);} catch(ba) {c = [6, ba]; h = 0;} finally {p = n = 0;} if(c[0] & 5) throw c[1]; return {value: c[0] ? c[1] : void 0, done: !0};} d = {label: 0, dva: function() {if(n[0] & 1) throw n[1]; return n[1];}, hy: [], ux: []}; Ia(); Ia(); Wa(); return k = {next: c(0), "throw": c(1), "return": c(2)}, "function" === typeof Symbol && (k[Symbol.iterator] = function() {return this;}), k;} function v(a, b) {for(var c in a) b.hasOwnProperty(c) || (b[c] = a[c]);} function B(a) {var b, c; Ia(); Ia(); Wa(); b = "function" === typeof Symbol && a[Symbol.iterator]; c = 0; return b ? b.call(a) : {next: function() {a && c >= a.length && (a = void 0); return {value: a && a[c++], done: !a};}};} function z(a, b) {var c, g, d, p; Ia(); Ia(); Wa(); c = "function" === typeof Symbol && a[Symbol.iterator]; if(!c) return a; a = c.call(a); d = []; try {for(; (void 0 === b || 0 < b--) && !(g = a.next()).done;)d.push(g.value);} catch(G) {p = {error: G};} finally {try {g && !g.done && (c = a["return"]) && c.call(a);} finally {if(p) throw p.error;} } return d;} function y() {for(var a = [], b = 0; b < arguments.length; b++)a = a.concat(z(arguments[b])); return a;} function w(a) {return this instanceof w ? (this.BT = a, this) : new w(a);} function x(a, b, c) {var k, r, u; function g(a) {k[a] && (r[a] = function(b) {return new Promise(function(c, g) {1 < u.push([a, b, c, g]) || d(a, b);});});} function d(a, b) {var c; try {c = k[a](b); c.value instanceof w ? Promise.resolve(c.value.BT).then(p, h) : n(u[0][2], c);} catch(qa) {n(u[0][3], qa);} } function p(a) {d("next", a);} function h(a) {d("throw", a);} function n(a, b) {(a(b), u.shift(), u.length) && d(u[0][0], u[0][1]);} Ia(); if(!Symbol.yN) throw new TypeError("Symbol.asyncIterator is not defined."); k = c.apply(a, b || []); u = []; Ia(); return r = {}, g("next"), g("throw"), g("return"), r[Symbol.yN] = function() {return this;}, r;} function C(a) {var c, g; function b(b, d) {c[b] = a[b] ? function(c) {return (g = !g) ? {value: w(a[b](c)), done: "return" === b} : d ? d(c) : c;} : d;} Ia(); Wa(); return c = {}, b("next"), b("throw", function(a) {throw a;}), b("return"), c[Symbol.iterator] = function() {return this;}, c;} function F(a) {var g, d; function b(b) {d[b] = a[b] && function(g) {return new Promise(function(d, p) {g = a[b](g); c(d, p, g.done, g.value);});};} function c(a, b, c, g) {Promise.resolve(g).then(function(b) {a({value: b, done: c});}, b);} Ia(); if(!Symbol.yN) throw new TypeError("Symbol.asyncIterator is not defined."); Ia(); g = a[Symbol.yN]; Ia(); Wa(); Ia(); return g ? g.call(a) : (a = "function" === typeof B ? B(a) : a[Symbol.iterator](), d = {}, b("next"), b("throw"), b("return"), d[Symbol.yN] = function() {return this;}, d);} function l(a, b) {Object.defineProperty ? Object.defineProperty(a, "raw", {value: b}) : a.raw = b; return a;} function M(a) {var b; if(a && a.Zea) return a; b = {}; if(null != a) for(var c in a) Object.hasOwnProperty.call(a, c) && (b[c] = a[c]); b["default"] = a; return b;} function ea(a) {return a && a.Zea ? a : {"default": a};} a.r(c); a.d(c, "__extends", function() {return k;}); a.d(c, "__assign", function() {return b;}); a.d(c, "__rest", function() {return h;}); a.d(c, "__decorate", function() {return g;}); a.d(c, "__param", function() {return p;}); a.d(c, "__metadata", function() {return n;}); a.d(c, "__awaiter", function() {return r;}); a.d(c, "__generator", function() {return u;}); a.d(c, "__exportStar", function() {return v;}); a.d(c, "__values", function() {return B;}); a.d(c, "__read", function() {return z;}); a.d(c, "__spread", function() {return y;}); a.d(c, "__await", function() {return w;}); a.d(c, "__asyncGenerator", function() {return x;}); a.d(c, "__asyncDelegator", function() {return C;}); a.d(c, "__asyncValues", function() {return F;}); a.d(c, "__makeTemplateObject", function() {return l;}); a.d(c, "__importStar", function() {return M;}); a.d(c, "__importDefault", function() {return ea;});}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); (function(a) {a[a.Zg = 7001] = "UNKNOWN"; a[a.tKa = 7002] = "UNHANDLED_EXCEPTION"; a[a.PCa = 7003] = "INIT_COMPONENT_LOG_TO_REMOTE"; a[a.yaa = 7010] = "INIT_ASYNCCOMPONENT"; a[a.Waa = 7011] = "INIT_HTTP"; a[a.NCa = 7014] = "INIT_BADMOVIEID"; a[a.bDa = 7016] = "INIT_NETFLIXID_MISSING"; a[a.aDa = 7017] = "INIT_NETFLIXID_INVALID"; a[a.dDa = 7018] = "INIT_SECURENETFLIXID_MISSING"; a[a.Xaa = 7020] = "INIT_PLAYBACK_LOCK"; a[a.Yaa = 7022] = "INIT_SESSION_LOCK"; a[a.cDa = 7029] = "INIT_POSTAUTHORIZE"; a[a.Qnb = 7031] = "INIT_HEADER_MEDIA"; a[a.Anb = 7032] = "HEADER_MISSING"; a[a.znb = 7033] = "HEADER_FRAGMENTS_MISSING"; a[a.eDa = 7034] = "INIT_TIMEDTEXT_TRACK"; a[a.Rnb = 7035] = "INIT_LOAD_DOWNLOADED_MEDIA"; a[a.Snb = 7036] = "INIT_STREAMS_NOT_AVAILABLE"; a[a.Sxa = 7037] = "ASE_SESSION_ERROR"; a[a.YCa = 7041] = "INIT_CORE_OBJECTS1"; a[a.ZCa = 7042] = "INIT_CORE_OBJECTS2"; a[a.$Ca = 7043] = "INIT_CORE_OBJECTS3"; a[a.Laa = 7051] = "INIT_COMPONENT_REQUESTQUOTA"; a[a.Baa = 7052] = "INIT_COMPONENT_FILESYSTEM"; a[a.Maa = 7053] = "INIT_COMPONENT_STORAGE"; a[a.Naa = 7054] = "INIT_COMPONENT_STORAGELOCK"; a[a.Eaa = 7055] = "INIT_COMPONENT_LOGPERSIST"; a[a.Mnb = 7056] = "INIT_COMPONENT_NRDDPI"; a[a.Onb = 7057] = "INIT_COMPONENT_PEPPERCRYPTO"; a[a.Faa = 7058] = "INIT_COMPONENT_MAINTHREADMONITOR"; a[a.kV = 7059] = "INIT_COMPONENT_DEVICE"; a[a.Nnb = 7062] = "INIT_COMPONENT_NTBA"; a[a.Gaa = 7063] = "INIT_COMPONENT_MSL"; a[a.QCa = 7064] = "INIT_COMPONENT_NCCPDEVICEPARAMETERS"; a[a.Haa = 7065] = "INIT_COMPONENT_NCCP"; a[a.Iaa = 7066] = "INIT_COMPONENT_NCCPLOGBATCHER"; a[a.Wr = 7067] = "INIT_COMPONENT_PERSISTEDPLAYDATA"; a[a.Pnb = 7068] = "INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM"; a[a.MK = 7069] = "INIT_COMPONENT_ACCOUNT"; a[a.SCa = 7070] = "INIT_COMPONENT_NRDP_CONFIG_LOADER"; a[a.UCa = 7071] = "INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER"; a[a.VCa = 7072] = "INIT_COMPONENT_NRDP_MEDIA"; a[a.WCa = 7073] = "INIT_COMPONENT_NRDP_PREPARE_LOADER"; a[a.XCa = 7074] = "INIT_COMPONENT_NRDP_REGISTRATION"; a[a.RCa = 7081] = "INIT_COMPONENT_NRDP"; a[a.TCa = 7082] = "INIT_COMPONENT_NRDP_DEVICE"; a[a.Uaa = 7083] = "INIT_COMPONENT_WEBCRYPTO"; a[a.Qaa = 7084] = "INIT_COMPONENT_VIDEO_PREPARER"; a[a.Vaa = 7085] = "INIT_CONGESTION_SERVICE"; a[a.Daa = 7086] = "INIT_COMPONENT_IDB_VIEWER_TOOL"; a[a.Oaa = 7087] = "INIT_COMPONENT_TRACKING_LOG"; a[a.Aaa = 7088] = "INIT_COMPONENT_BATTERY_MANAGER"; a[a.zaa = 7089] = "INIT_COMPONENT_ASE_MANAGER"; a[a.Paa = 7090] = "INIT_COMPONENT_VIDEO_CACHE"; a[a.zy = 7091] = "INIT_COMPONENT_DRM_CACHE"; a[a.OCa = 7092] = "INIT_COMPONENT_DRM"; a[a.Jaa = 7093] = "INIT_COMPONENT_PREFETCH_EVENTS"; a[a.Caa = 7094] = "INIT_COMPONENT_FTL"; a[a.Kaa = 7095] = "INIT_COMPONENT_PREPARE_MODEL"; a[a.Raa = 7096] = "INIT_COMPONENT_VIDEO_SESSION_EDGE"; a[a.Saa = 7097] = "INIT_COMPONENT_VIDEO_SESSION_MDX"; a[a.Taa = 7098] = "INIT_COMPONENT_VIDEO_SESSION_TEST"; a[a.eca = 7111] = "NCCP_AUTHORIZE"; a[a.cya = 7112] = "AUTHORIZE_UNKNOWN"; a[a.fFa = 7117] = "NCCP_AUTHORIZE_VERIFY"; a[a.Tda = 7120] = "START"; a[a.Su = 7121] = "LICENSE"; a[a.Pda = 7122] = "SECURESTOP"; a[a.Xda = 7123] = "STOP"; a[a.upb = 7124] = "NCCP_FPSAPPDATA"; a[a.qV = 7125] = "KEEPALIVE"; a[a.aAa = 7126] = "DEACTIVATE"; a[a.uJa = 7127] = "SYNC_DEACTIVATE_LINKS"; a[a.rpb = 7130] = "NCCP_ACTIVATE"; a[a.MV = 7131] = "NCCP_PING"; a[a.fca = 7133] = "NCCP_NETFLIXID"; a[a.CBa = 7134] = "ENGAGE"; a[a.rD = 7135] = "LOGIN"; a[a.nL = 7136] = "SWITCH_PROFILES"; a[a.IDa = 7137] = "LOGBLOB"; a[a.vca = 7138] = "PAUSE"; a[a.Hda = 7139] = "RESUME"; a[a.Sda = 7140] = "SPLICE"; a[a.QAa = 7141] = "DOWNLOAD_EVENT"; a[a.QGa = 7202] = "PLAY_INIT_EXCEPTION"; a[a.sob = 7301] = "MEDIA_DOWNLOAD"; a[a.iqb = 7330] = "PLAY_MSE_EME_CREATE_KEYSESSION_FAILED"; a[a.jqb = 7331] = "PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION"; a[a.XV = 7332] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED"; a[a.Cca = 7333] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR"; a[a.YV = 7334] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED"; a[a.WGa = 7335] = "PLAY_MSE_EME_KEY_STATUS_EXCEPTION"; a[a.Fca = 7351] = "PLAY_MSE_NOTSUPPORTED"; a[a.Dca = 7352] = "PLAY_MSE_EME_NOTSUPPORTED"; a[a.Bca = 7353] = "PLAY_MSE_DECODER_TIMEOUT"; a[a.ZV = 7354] = "PLAY_MSE_EME_TYPE_NOTSUPPORTED"; a[a.bW = 7355] = "PLAY_MSE_SOURCEADD"; a[a.RGa = 7356] = "PLAY_MSE_CREATE_MEDIAKEYS"; a[a.Eca = 7357] = "PLAY_MSE_GENERATEKEYREQUEST"; a[a.nqb = 7358] = "PLAY_MSE_PARSECHALLENGE"; a[a.hqb = 7359] = "PLAY_MSE_ADDKEY"; a[a.qqb = 7360] = "PLAY_MSE_UNEXPECTED_NEEDKEY"; a[a.$Ga = 7361] = "PLAY_MSE_EVENT_ERROR"; a[a.$V = 7362] = "PLAY_MSE_SETMEDIAKEYS"; a[a.dL = 7363] = "PLAY_MSE_EVENT_KEYERROR"; a[a.ZGa = 7364] = "PLAY_MSE_EME_SESSION_CLOSE"; a[a.aHa = 7365] = "PLAY_MSE_GETCURRENTTIME"; a[a.bHa = 7367] = "PLAY_MSE_SETCURRENTTIME"; a[a.cHa = 7371] = "PLAY_MSE_SOURCEAPPEND"; a[a.oqb = 7373] = "PLAY_MSE_SOURCEAPPEND_INIT"; a[a.gHa = 7375] = "PLAY_MSE_UNEXPECTED_SEEKING"; a[a.fHa = 7376] = "PLAY_MSE_UNEXPECTED_SEEKED"; a[a.eHa = 7377] = "PLAY_MSE_UNEXPECTED_REWIND"; a[a.pqb = 7379] = "PLAY_MSE_SOURCE_EOS"; a[a.dHa = 7381] = "PLAY_MSE_SOURCEBUFFER_ERROR"; a[a.mqb = 7385] = "PLAY_MSE_KEYSESSION_UPDATE"; a[a.SGa = 7391] = "PLAY_MSE_CREATE_MEDIASOURCE"; a[a.TGa = 7392] = "PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL"; a[a.UGa = 7393] = "PLAY_MSE_CREATE_MEDIASOURCE_OPEN"; a[a.XGa = 7394] = "PLAY_MSE_EME_MISSING_DRMHEADER"; a[a.YGa = 7395] = "PLAY_MSE_EME_MISSING_PSSH"; a[a.kqb = 7396] = "PLAY_MSE_EME_MISSING_CERT"; a[a.lqb = 7397] = "PLAY_MSE_EME_NO_PRK_SUPPORT"; a[a.VGa = 7398] = "PLAY_MSE_DURATIONCHANGE_ERROR"; a[a.aW = 7399] = "PLAY_MSE_SET_LICENSE_ERROR"; a[a.FBa = 7400] = "EXTERNAL"; a[a.bL = 7500] = "PAUSE_TIMEOUT"; a[a.KK = 7502] = "INACTIVITY_TIMEOUT"; a[a.bya = 7510] = "AUTHORIZATION_EXPIRED"; a[a.Bmb = 7520] = "DECRYPT_AUDIO"; a[a.Qda = 7600] = "SECURE_STOP_PROMISE_EXPIRED"; a[a.UIa = 7601] = "SECURE_STOP_KEY_ERROR"; a[a.orb = 7602] = "SECURE_STOP_VIDEO_ERROR"; a[a.Zqb = 7603] = "SECURE_STOP_NCCP_ERROR"; a[a.$qb = 7604] = "SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR"; a[a.nrb = 7605] = "SECURE_STOP_STORAGE_REMOVE_ERROR"; a[a.drb = 7620] = "SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE"; a[a.VIa = 7621] = "SECURE_STOP_PERSISTED_NO_MORE_ERROR"; a[a.erb = 7622] = "SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED"; a[a.frb = 7623] = "SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN"; a[a.irb = 7624] = "SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST"; a[a.arb = 7625] = "SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED"; a[a.grb = 7626] = "SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA"; a[a.krb = 7627] = "SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR"; a[a.hrb = 7628] = "SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED"; a[a.crb = 7631] = "SECURE_STOP_PERSISTED_KEY_ERROR"; a[a.mrb = 7632] = "SECURE_STOP_PERSISTED_VIDEO_ERROR"; a[a.jrb = 7633] = "SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE"; a[a.brb = 7634] = "SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED"; a[a.lrb = 7635] = "SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE"; a[a.Zmb = 7700] = "EME_INVALID_KEYSYSTEM"; a[a.wU = 7701] = "EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED"; a[a.vU = 7702] = "EME_CREATE_MEDIAKEYS_FAILED"; a[a.yU = 7703] = "EME_GENERATEREQUEST_FAILED"; a[a.sK = 7704] = "EME_UPDATE_FAILED"; a[a.$mb = 7705] = "EME_KEYSESSION_ERROR"; a[a.inb = 7706] = "EME_NO_KEYMESSAGE"; a[a.Q$ = 7707] = "EME_REMOVE_FAILED"; a[a.yBa = 7708] = "EME_LOAD_FAILED"; a[a.M$ = 7709] = "EME_CREATE_SESSION_FAILED"; a[a.xBa = 7710] = "EME_LDL_RENEWAL_ERROR"; a[a.N$ = 7711] = "EME_INVALID_INITDATA_DATA"; a[a.O$ = 7712] = "EME_INVALID_LICENSE_DATA"; a[a.wBa = 7713] = "EME_LDL_KEYSSION_ALREADY_CLOSED"; a[a.zBa = 7714] = "EME_MEDIAKEYS_GENERIC_ERROR"; a[a.P$ = 7715] = "EME_INVALID_SECURESTOP_DATA"; a[a.tBa = 7716] = "EME_CLOSE_FAILED"; a[a.OGa = 7800] = "PLAYDATA_STORE_FAILURE"; a[a.gqb = 7801] = "PLAYDATA_SEND_FAILURE"; a[a.UC = 7900] = "BRANCH_PLAY_FAILURE"; a[a.Hu = 7901] = "BRANCH_QUEUE_FAILURE"; a[a.E9 = 7902] = "BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE"; a[a.Lpb = 8E3] = "NRDP_REGISTRATION_ACTIVATE_FAILURE"; a[a.Mpb = 8010] = "NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE"; a[a.cGa = 8100] = "PBO_EVENTLOOKUP_FAILURE";}(c.I || (c.I = {}))); (function(a) {a[a.Zg = 1001] = "UNKNOWN"; a[a.ye = 1003] = "EXCEPTION"; a[a.iDa = 1004] = "INVALID_DI"; a[a.Wxa = 1011] = "ASYNCLOAD_EXCEPTION"; a[a.Xxa = 1013] = "ASYNCLOAD_TIMEOUT"; a[a.Txa = 1015] = "ASYNCLOAD_BADCONFIG"; a[a.Uxa = 1016] = "ASYNCLOAD_COMPONENT_DUPLICATE"; a[a.Vxa = 1017] = "ASYNCLOAD_COMPONENT_MISSING"; a[a.yy = 1101] = "HTTP_UNKNOWN"; a[a.iV = 1102] = "HTTP_XHR"; a[a.mD = 1103] = "HTTP_PROTOCOL"; a[a.lD = 1104] = "HTTP_OFFLINE"; a[a.nD = 1105] = "HTTP_TIMEOUT"; a[a.Ru = 1106] = "HTTP_READTIMEOUT"; a[a.Vr = 1107] = "HTTP_ABORT"; a[a.eV = 1108] = "HTTP_PARSE"; a[a.oaa = 1110] = "HTTP_BAD_URL"; a[a.xy = 1111] = "HTTP_PROXY"; a[a.Gba = 1203] = "MSE_AUDIO"; a[a.Hba = 1204] = "MSE_VIDEO"; a[a.rEa = 1250] = "MSE_MEDIA_ERR_BASE"; a[a.apb = 1251] = "MSE_MEDIA_ERR_ABORTED"; a[a.dpb = 1252] = "MSE_MEDIA_ERR_NETWORK"; a[a.bpb = 1253] = "MSE_MEDIA_ERR_DECODE"; a[a.epb = 1254] = "MSE_MEDIA_ERR_SRC_NOT_SUPPORTED"; a[a.cpb = 1255] = "MSE_MEDIA_ERR_ENCRYPTED"; a[a.Lu = 1260] = "EME_MEDIA_KEYERR_BASE"; a[a.gnb = 1261] = "EME_MEDIA_KEYERR_UNKNOWN"; a[a.bnb = 1262] = "EME_MEDIA_KEYERR_CLIENT"; a[a.fnb = 1263] = "EME_MEDIA_KEYERR_SERVICE"; a[a.enb = 1264] = "EME_MEDIA_KEYERR_OUTPUT"; a[a.dnb = 1265] = "EME_MEDIA_KEYERR_HARDWARECHANGE"; a[a.cnb = 1266] = "EME_MEDIA_KEYERR_DOMAIN"; a[a.hnb = 1269] = "EME_MEDIA_UNAVAILABLE_CDM"; a[a.vBa = 1280] = "EME_ERROR_NODRMSESSSION"; a[a.uBa = 1281] = "EME_ERROR_NODRMREQUESTS"; a[a.Xmb = 1282] = "EME_ERROR_INDIV_FAILED"; a[a.Ymb = 1283] = "EME_ERROR_UNSUPPORTED_MESSAGETYPE"; a[a.BBa = 1284] = "EME_TIMEOUT_MESSAGE"; a[a.ABa = 1285] = "EME_TIMEOUT_KEYCHANGE"; a[a.zU = 1286] = "EME_UNDEFINED_DATA"; a[a.xU = 1286] = "EME_EMPTY_DATA"; a[a.aD = 1287] = "EME_INVALID_STATE"; a[a.anb = 1288] = "EME_LDL_DOES_NOT_SUPPORT_PRK"; a[a.Apb = 1303] = "NCCP_METHOD_NOT_SUPPORTED"; a[a.Dpb = 1305] = "NCCP_PARSEXML"; a[a.hFa = 1309] = "NCCP_PROCESS_EXCEPTION"; a[a.Cpb = 1311] = "NCCP_NETFLIXID_MISSING"; a[a.Epb = 1312] = "NCCP_SECURENETFLIXID_MISSING"; a[a.xpb = 1313] = "NCCP_HMAC_MISSING"; a[a.wpb = 1315] = "NCCP_HMAC_MISMATCH"; a[a.vpb = 1317] = "NCCP_HMAC_FAILED"; a[a.tpb = 1321] = "NCCP_CLIENTTIME_MISSING"; a[a.spb = 1323] = "NCCP_CLIENTTIME_MISMATCH"; a[a.SK = 1331] = "NCCP_PROTOCOL"; a[a.iFa = 1333] = "NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS"; a[a.jFa = 1337] = "NCCP_PROTOCOL_REDIRECT_LOOP"; a[a.Fpb = 1341] = "NCCP_TRANSACTION"; a[a.ypb = 1343] = "NCCP_INVALID_DRMTYPE"; a[a.zpb = 1344] = "NCCP_INVALID_LICENCE_RESPONSE"; a[a.Bpb = 1345] = "NCCP_MISSING_PAYLOAD"; a[a.Mca = 1346] = "PROTOCOL_NOT_INITIALIZED"; a[a.yqb = 1347] = "PROTOCOL_MISSING_FIELD"; a[a.pHa = 1348] = "PROTOCOL_MISMATCHED_PROFILEGUID"; a[a.zj = 1402] = "STORAGE_NODATA"; a[a.urb = 1403] = "STORAGE_EXCEPTION"; a[a.aea = 1405] = "STORAGE_QUOTA_NOT_GRANTED"; a[a.bea = 1407] = "STORAGE_QUOTA_TO_SMALL"; a[a.$da = 1411] = "STORAGE_LOAD_ERROR"; a[a.qJa = 1412] = "STORAGE_LOAD_TIMEOUT"; a[a.cea = 1414] = "STORAGE_SAVE_ERROR"; a[a.tJa = 1415] = "STORAGE_SAVE_TIMEOUT"; a[a.xW = 1417] = "STORAGE_DELETE_ERROR"; a[a.Yda = 1418] = "STORAGE_DELETE_TIMEOUT"; a[a.Zda = 1421] = "STORAGE_FS_REQUESTFILESYSTEM"; a[a.nJa = 1423] = "STORAGE_FS_GETDIRECTORY"; a[a.pJa = 1425] = "STORAGE_FS_READENTRIES"; a[a.kJa = 1427] = "STORAGE_FS_FILEREAD"; a[a.mJa = 1429] = "STORAGE_FS_FILEWRITE"; a[a.lJa = 1431] = "STORAGE_FS_FILEREMOVE"; a[a.oJa = 1432] = "STORAGE_FS_PARSEJSON"; a[a.sJa = 1451] = "STORAGE_NO_LOCALSTORAGE"; a[a.rJa = 1453] = "STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION"; a[a.Spb = 1501] = "NTBA_UNKNOWN"; a[a.Rpb = 1502] = "NTBA_EXCEPTION"; a[a.Npb = 1504] = "NTBA_CRYPTO_KEY"; a[a.Ppb = 1506] = "NTBA_CRYPTO_OPERATION"; a[a.Opb = 1508] = "NTBA_CRYPTO_KEYEXCHANGE"; a[a.Qpb = 1515] = "NTBA_DECRYPT_UNSUPPORTED"; a[a.p$ = 1553] = "DEVICE_NO_ESN"; a[a.eU = 1555] = "DEVICE_ERROR_GETTING_ESN"; a[a.Ica = 1603] = "PLUGIN_LOAD_MISSING"; a[a.Gca = 1605] = "PLUGIN_LOAD_ERROR"; a[a.Jca = 1607] = "PLUGIN_LOAD_TIMEOUT"; a[a.Hca = 1609] = "PLUGIN_LOAD_EXCEPTION"; a[a.kHa = 1625] = "PLUGIN_EXCEPTION"; a[a.hHa = 1627] = "PLUGIN_CALLBACK_ERROR"; a[a.iHa = 1629] = "PLUGIN_CALLBACK_TIMEOUT"; a[a.XBa = 1701] = "FORMAT_UNKNOWN"; a[a.caa = 1713] = "FORMAT_XML"; a[a.YBa = 1715] = "FORMAT_XML_CONTENT"; a[a.WBa = 1721] = "FORMAT_BASE64"; a[a.xK = 1723] = "FORMAT_DFXP"; a[a.ACa = 1801] = "INDEXDB_OPEN_EXCEPTION"; a[a.waa = 1802] = "INDEXDB_NOT_SUPPORTED"; a[a.zCa = 1803] = "INDEXDB_OPEN_ERROR"; a[a.xaa = 1804] = "INDEXDB_OPEN_NULL"; a[a.yCa = 1805] = "INDEXDB_OPEN_BLOCKED"; a[a.BCa = 1807] = "INDEXDB_OPEN_TIMEOUT"; a[a.xCa = 1808] = "INDEXDB_INVALID_STORE_STATE"; a[a.LK = 1809] = "INDEXDB_ACCESS_EXCEPTION"; a[a.yEa = 1901] = "MSL_UNKNOWN"; a[a.sEa = 1911] = "MSL_INIT_NO_MSL"; a[a.Lba = 1913] = "MSL_INIT_ERROR"; a[a.tEa = 1915] = "MSL_INIT_NO_WEBCRYPTO"; a[a.wV = 1931] = "MSL_ERROR"; a[a.Mba = 1933] = "MSL_REQUEST_TIMEOUT"; a[a.xEa = 1934] = "MSL_READ_TIMEOUT"; a[a.Jba = 1935] = "MSL_ERROR_HEADER"; a[a.wD = 1936] = "MSL_ERROR_ENVELOPE"; a[a.Kba = 1937] = "MSL_ERROR_MISSING_PAYLOAD"; a[a.xV = 1957] = "MSL_ERROR_REAUTH"; a[a.QW = 2103] = "WEBCRYPTO_MISSING"; a[a.LKa = 2105] = "WEBCRYPTOKEYS_MISSING"; a[a.MKa = 2107] = "WEBCRYPTO_IFRAME_LOAD_ERROR"; a[a.kmb = 2200] = "CACHEDDATA_PARSEJSON"; a[a.M9 = 2201] = "CACHEDDATA_UNSUPPORTED_VERSION"; a[a.lmb = 2202] = "CACHEDDATA_UPGRADE_FAILED"; a[a.Or = 2203] = "CACHEDDATA_INVALID_FORMAT"; a[a.n9 = 3E3] = "ACCOUNT_CHANGE_INFLIGHT"; a[a.Ixa = 3001] = "ACCOUNT_INVALID"; a[a.OAa = 3100] = "DOWNLOADED_MANIFEST_UNAVAILABLE"; a[a.NAa = 3101] = "DOWNLOADED_MANIFEST_PARSE_EXCEPTION"; a[a.Gmb = 3200] = "DOWNLOADED_LICENSE_UNAVAILABLE"; a[a.Hmb = 3201] = "DOWNLOADED_LICENSE_UNUSEABLE"; a[a.Fmb = 3202] = "DOWNLOADED_LICENSE_EXCEPTION"; a[a.vrb = 3300] = "STORAGE_VA_LOAD_ERROR"; a[a.wrb = 3301] = "STORAGE_VA_LOAD_TIMEOUT"; a[a.zrb = 3302] = "STORAGE_VA_SAVE_ERROR"; a[a.Arb = 3303] = "STORAGE_VA_SAVE_TIMEOUT"; a[a.xrb = 3304] = "STORAGE_VA_REMOVE_ERROR"; a[a.yrb = 3305] = "STORAGE_VA_REMOVE_TIMEOUT"; a[a.hGa = 5003] = "PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW"; a[a.YFa = 5005] = "PBO_ACCOUNT_ON_HOLD"; a[a.bGa = 5006] = "PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED"; a[a.dGa = 5033] = "PBO_INSUFFICIENT_MATURITY_LEVEL"; a[a.$Fa = 5059] = "PBO_BLACKLISTED_IP"; a[a.ZFa = 5070] = "PBO_AGE_VERIFICATION_REQUIRED"; a[a.aGa = 5080] = "PBO_CHOICE_MAP_ERROR"; a[a.gGa = 5090] = "PBO_RESTRICTED_TO_TESTERS"; a[a.fGa = 5091] = "PBO_MALFORMED_REQUEST"; a[a.eGa = 5092] = "PBO_INVALID_SERVICE_VERSION"; a[a.cAa = 5100] = "DECODER_TIMEOUT_BUFFERING"; a[a.dAa = 5101] = "DECODER_TIMEOUT_PRESENTING"; a[a.PAa = 5200] = "DOWNLOADER_IO_ERROR"; a[a.D9 = 5300] = "BRANCHING_SEGMENT_NOTFOUND"; a[a.zya = 5301] = "BRANCHING_PRESENTER_UNINITIALIZED"; a[a.Hlb = 5302] = "BRANCHING_SEGMENT_STREAMING_NOT_STARTED"; a[a.TT = 5303] = "BRANCHING_ASE_UNINITIALIZED"; a[a.vya = 5304] = "BRANCHING_ASE_FAILURE"; a[a.xya = 5305] = "BRANCHING_MOMENT_FAILURE"; a[a.wya = 5306] = "BRANCHING_CURRENT_SEGMENT_UNINITIALIZED"; a[a.Glb = 5307] = "BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED"; a[a.Aya = 5308] = "BRANCHING_SEEK_THREW"; a[a.Flb = 5309] = "BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS"; a[a.yya = 5310] = "BRANCHING_PLAY_TIMEDOUT"; a[a.Bya = 5311] = "BRANCHING_SEGMENT_ALREADYQUEUED"; a[a.Cya = 5312] = "BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(c.v || (c.v = {}))); (function(a) {a[a.Iya = 5003] = "BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW"; a[a.Dya = 5005] = "BR_ACCOUNT_ON_HOLD"; a[a.Gya = 5006] = "BR_CONCURRENT_STREAM_QUOTA_EXCEEDED"; a[a.Hya = 5033] = "BR_INSUFFICIENT_MATURITY_LEVEL"; a[a.Fya = 5059] = "BR_BLACKLISTED_IP"; a[a.Eya = 5070] = "BR_AGE_VERIFICATION_REQUIRED"; a[a.Llb = 2204] = "BR_PLAYBACK_CONTEXT_CREATION"; a[a.Jlb = 2205] = "BR_DRM_LICENSE_AQUISITION"; a[a.Mlb = 2206] = "BR_PLAYBACK_SERVICE_ERROR"; a[a.Klb = 2207] = "BR_ENDPOINT_ERROR"; a[a.Ilb = 2208] = "BR_AUTHORIZATION_ERROR";}(c.Ou || (c.Ou = {}))); (function(a) {a[a.Zrb = 21E3] = "Undefined"; a[a.xlb = 21001] = "AggregateError"; a[a.rnb = 21002] = "EventStoreError"; a[a.Vqb = 21003] = "RequestTypeError"; a[a.Vpb = 21004] = "NullPointerError"; a[a.kpb = 22E3] = "MembershipError"; a[a.kob = 22001] = "LicenseAggregateError"; a[a.Trb = 22002] = "TotalLicensesPerDeviceReached"; a[a.Srb = 22003] = "TotalLicensesPerAccountReached"; a[a.Rrb = 22004] = "TitleNotAvailableForOffline"; a[a.Hrb = 22005] = "StudioOfflineTitleLimitReached"; a[a.osb = 22006] = "YearlyStudioDownloadLimitReached"; a[a.psb = 22007] = "YearlyStudioLicenseLimitReached"; a[a.WBb = 22008] = "viewingWindowExpired"; a[a.lob = 22009] = "LicenseIdMismatch"; a[a.bqb = 23E3] = "OfflineDeviceLimitReached"; a[a.Omb = 23001] = "DeviceAggregateError"; a[a.Qmb = 23002] = "DeviceDeactivationLimitError"; a[a.nob = 24E3] = "LicenseNotMarkedPlayable"; a[a.Sqb = 24001] = "RefreshLicenseIdMismatch"; a[a.oob = 24002] = "LicenseReleasedError"; a[a.qob = 24003] = "LicenseTooOld"; a[a.Kmb = 24004] = "DataMissError"; a[a.Lmb = 24005] = "DataWriteError"; a[a.Rmb = 24006] = "DeviceNotActiveError"; a[a.jsb = 24007] = "ViewableNotAvailableInRegion"; a[a.zqb = 24008] = "PackageRevokedError"; a[a.Crb = 25E3] = "ServerError"; a[a.Wnb = 25001] = "IOError"; a[a.Nmb = 25002] = "DependencyCommandError"; a[a.tmb = 25003] = "ClientUsageError"; a[a.Mqb = 26001] = "PlayableAggregateError"; a[a.mob = 26002] = "LicenseNotActive"; a[a.Nqb = 26003] = "PlayableLicenseIdMismatch"; a[a.Uqb = 27001] = "ReleaseLicenseIdMismatch"; a[a.Tqb = 27002] = "ReleaseDeviceOwnerMismatch"; a[a.pob = 28008] = "LicenseReleasedViaDeactivate"; a[a.npb = 28001] = "MigrateLicenseIdMismatch"; a[a.Jrb = 28002] = "SyncLicenseIdMismatch";}(c.JDa || (c.JDa = {}))); c.JK = {Nya: "400", xKa: "401", Oca: "413"}; c.LV = {snb: 1, Mrb: 2, lnb: 3, Yrb: 4, job: 5, knb: 6, NW: 7, EBa: 8, Qqb: 9, rrb: 10};}, function(f, c, a) {var b, d, k, h, g, p, n, r; Object.defineProperty(c, "__esModule", {value: !0}); b = a(452); f = a(12); d = a(28); k = a(2); h = a(160); g = a(161); p = a(52); n = a(14); r = a(315); c.qbb = r.s6; c.my = b.yb.get(h.uL); c.IJ = c.my.encode.bind(c.my); c.HJ = c.my.decode.bind(c.my); c.Pk = b.yb.get(g.XJ); c.otb = c.Pk.encode.bind(c.Pk); c.ntb = c.Pk.decode.bind(c.Pk); c.cja = c.Pk.vG.bind(c.Pk); c.ptb = c.Pk.Dwa.bind(c.Pk); c.df = b.yb.get(p.zk); c.kq = function(a) {a = n.$c(a) ? c.HJ(a) : a; return c.df.encode(a);}; c.Qk = c.df.decode.bind(c.df); c.NSa = function(a) {return c.IJ(c.Qk(a));}; c.Wf = a(70).Pl; c.onb = function(a) {return 7100 <= a && 7200 > a;}; c.MBa = function(a) {return a == k.I.bL || a == k.I.KK;}; c.OBa = function(a) {return 1100 <= a && 1199 >= a;}; c.qnb = function(a) {return 1300 <= a && 1399 >= a;}; c.pnb = function(a) {return 1900 <= a && 1999 >= a;}; c.X$ = function(a, b) {return 1 <= a && 9 >= a ? b + a : b;}; c.PBa = function(a) {return c.X$(a, k.v.rEa);}; c.Y$ = function(a) {return c.X$(a, k.v.Lu);}; c.gm = function(a) {var b, c, g; b = {}; c = a.errorExternalCode || a.xb; g = a.errorDetails || a.Ga; b.ErrorSubCode = a.errorSubCode || a.S || k.v.Zg; c && (b.ErrorExternalCode = c); g && (b.ErrorDetails = g); return b;}; c.PJa = a(504); c.LA = function() {return b.yb.get(d.pU);}; c.Og = b.yb.get(f.Jb); c.log = c.Og.Cb("General"); c.Gc = function(a, b) {return c.Og.Cb(a, void 0, b);}; c.jf = function(a, b) {return c.Og.Cb(b, a, void 0);}; c.lP = function(a, b, g, d) {return c.Og.Cb(a, void 0, d, b, g);}; c.da = b.yb;}, function(f, c, a) {var k, h, g, p, n, r, u, v, B, z, y, w, x, C, F; function b(a) {return (a = c.config.Pjb[d(a)]) ? a : {};} function d(a) {if(a) {if(0 <= a.indexOf("billboard")) return "billboard"; if(0 <= a.toLowerCase().indexOf("preplay")) return "preplay"; if(0 <= a.indexOf("embedded")) return "embedded";} } Object.defineProperty(c, "__esModule", {value: !0}); k = a(5); h = a(27); g = a(3); p = a(49); n = a(9); r = a(14); u = a(32); v = a(28); B = a(59); z = a(18); a(12); y = a(6); w = a(17); x = a(94); C = a(15); F = a(208); c.QUa = function(a) {var va, Va, wa, A, Ga, Lc, D, Ka, S, Ke; function b(a, c) {z.ic(a, function(a, g) {C.rb(g) ? c[a] = g.call(void 0, c[a]) : C.Ad(g) && (c[a] = c[a] || {}, b(g, c[a]));});} function d(a, b) {for(var c = [], g = 1; g < arguments.length; ++g)c[g - 1] = arguments[g]; return function(b) {C.cb(b) && (c[1] = b); n.ha(C.rb(a)); return a.apply(void 0, c);};} function f(a) {a = a.toLowerCase(); A.hasOwnProperty(a) && (wa[a] = A[a], Ga[a] = A[a]); return a;} function l(a, b, c) {var d; a = a.toLowerCase(); if(wa.hasOwnProperty(a)) {d = wa[a]; try {d = c ? c(d) : d;} catch(dc) {d = void 0;} if(void 0 !== d) return d; n.ha(!1); g.log.error("Invalid configuration value. Name: " + a);} return b;} function P(a, b, c, g) {return l(a, b, function(a) {C.$c(a) && (a = z.ed(a)); if(C.H6a(a, c, g)) return a;});} function m(a, b, c, g) {return l(a, b, function(a) {C.$c(a) && (a = z.ed(a)); if(C.Jt(a, c, g)) return a;});} function q(a, b, c, g) {return l(a, b, function(a) {C.$c(a) && (a = parseFloat(a)); if(C.aa(a, c, g)) return a;});} function N(a, b, c) {return l(a, b, function(a) {if(c ? c.test(a) : C.$c(a)) return a;});} function G(a, b) {return l(a, b, function(a) {if("true" == a || !0 === a) return !0; if("false" == a || !1 === a) return !1;});} function ca(a, b) {return l(a, b, function(a) {if(C.$c(a)) return JSON.parse(y.SV(a)); if(C.Ad(a)) return a;});} function V(a, b, c, g, d, p) {var h; a = a.toLowerCase(); wa.hasOwnProperty(a) && (h = wa[a]); if(!C.cb(h)) return b; if(C.$c(h)) if(h[0] !== c) h = g(h); else try {h = JSON.parse(y.SV(h));} catch(cb) {h = void 0;} if(void 0 === h) return b; for(a = 0; a < d.length; a++)if(!d[a](h)) return b; return p ? p(h) : h;} function fa(a, b, c, g, d) {return V(a, b, "[", function(a) {a = a.split("|"); for(var b = a.length; b--;)a[b] = z.ed(a[b]); return a;}, [function(a) {return C.isArray(a) && 0 < a.length;}, function(a) {for(var b = a.length; b--;)if(!C.Jt(a[b], c, g)) return !1; return !0;}, function(a) {return void 0 === d || a.length >= d;}]);} function ba(a, b, c, g, d, h) {return V(a, b, "[", function(a) {a = a.split(";"); for(var b = a.length; b--;) {a[b] = a[b].split("|"); for(var c = a[b].length; c--;)a[b][c] = z.ed(a[b][c]);} return a;}, [function(a) {return C.isArray(a) && 0 < a.length;}, function(a) {for(var b = a.length; b-- && void 0 !== a;) {if(!C.isArray(a[b])) return !1; for(var d = a[b].length; d--;)if(!C.Jt(a[b][d], c, g)) return !1;} return !0;}, function(a) {if(void 0 !== d) for(var b = a.length; b--;)if(d !== a[b].length) return !1; return !0;}, function(a) {return void 0 === h || a.length >= h;}]);} function ma(a, b) {return V(a, b, "[", function(a) {a = C.isArray(a) ? a : a.split("|"); for(var b = a.length; b--;)try {a[b] = JSON.parse(y.SV(a[b]));} catch(dc) {a = void 0; break;} return a;}, [function(a) {return C.isArray(a) && 0 < a.length;}, function(a) {for(var b = a.length; b--;)if(!C.cb(a[b]) || !C.Ad(a[b])) return !1; return !0;}]);} function ja(a, b, c, g) {return V(a, b, "[", function(a) {return C.isArray(a) ? a : a.split("|");}, [function(a) {return C.isArray(a) && 0 < a.length;}, function(a) {for(var b = a.length; b--;)if(c ? !c.test(a[b]) : !C.Kt(a[b])) return !1; return !0;}, function(a) {return void 0 === g || a.length >= g;}]);} function ka(a, b, c) {return V(a, b, "{", function(a) {var b, g, d; b = {}; a = a.split(";"); for(var c = a.length; c--;) {g = a[c]; d = g.indexOf(":"); if(0 >= d) return; b[g.substring(0, d)] = g.substring(d + 1);} return b;}, [function(a) {return C.Ad(a) && 0 < Object.keys(a).length;}, function(a) {if(c) for(var b in a) if(!c.test(a[b])) return !1; return !0;}], function(a) {var c; c = {}; z.va(c, b); z.va(c, a); return c;});} function qa(a) {var b; b = []; z.ic(a, function(a, c) {var g; try {g = "videoapp" === a.toLowerCase() ? "[object object]" : JSON.stringify(c);} catch(sb) {g = "cantparse";} b.push(a + "=" + g);}); return b.join("\n");} va = /^[0-9]+[%]?$/; Va = /^[0-9]*$/; Ga = {}; Lc = !0; D = !0; Ka = g.da.get(p.Dk); (function() {var c; function b(a) {a.split(",").forEach(function(a) {var b; b = a.indexOf("="); 0 < b && (wa[a.substring(0, b).toLowerCase()] = a.substring(b + 1));});} wa = {}; z.va(wa, u.yca); a && a.length && y.forEach.call(a, function(a) {C.$c(a) ? b(a) : C.Ad(a) && z.va(wa, a, {tB: !0});}); A = z.va({}, h.t2(), {tB: !0}); c = h.ydb().cadmiumconfig; c && (g.log.info("Config cookie loaded", c), b(c)); if(u.Jxa || wa.istestaccount) z.va(wa, A), Ga = A; "clearkey" != N("drmType") || wa.keysystemid || (wa.keysystemid = (t.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest ? "webkit-" : HTMLVideoElement.prototype.msSetMediaKeys ? "ms-" : "") + "org.w3.clearkey");}()); c.config = {}; S = {W0: function(a) {return G(f("enableDDPlus20"), r.Kg(a, !0));}, V0: function(a) {return G(f("enableDDPlus"), r.Kg(a, !0));}, eG: d(G, f("enableDDPlusAtmos"), !1), nvb: function(a) {return Lc = G(f("enableLSSDH"), r.Kg(a, !0));}, l_a: function(a) {return G(f("enableHEVC"), r.Kg(a, !1));}, xsa: function(a) {return G(f("overrideEnableHEVC"), r.Kg(a, !1));}, k_a: function(a) {return G(f("enableHDR"), r.Kg(a, !1));}, wsa: function(a) {return G(f("overrideEnableHDR"), r.Kg(a, !1));}, w_a: function(a) {return G(f("enableVP9"), r.Kg(a, !1));}, ysa: function(a) {return G(f("overrideEnableVP9"), r.Kg(a, !1));}, r_a: function(a) {return G(f("enablePRK"), r.Kg(a, !1));}, m_a: function(a) {return G(f("enableHWDRM"), r.Kg(a, !1));}, mvb: function(a) {return D = G(f("enableImageSubs"), r.Kg(a, !0));}, zN: function(a) {return ja("audioProfiles", r.Kg(a, u.nGa));}, $ub: function(a) {return G("disableHD", r.Kg(a, !1));}, ET: d(m, "videoCapabilityDetectorType", v.Si.Ku), FZ: d(m, "audioCapabilityDetectorType", v.Gu.Ku), OJ: function(a) {return ja("videoProfiles", r.Kg(a, u.MGa));}, c9: d(N, f("videoCodecs")), Br: function(a) {return ja("timedTextProfiles", r.Kg(a, u.HGa)).filter(function(a) {return a === B.Bj.fU ? Lc : a === B.Bj.Jy ? D : !0;});}, endpoint: d(G, f("endpoint"), !1), I7: d(G, f("setMediaKeysEarly"), !1), QG: d(G, f("ignoreKeyStatusOutputNotAllowed"), !1), W8: d(G, f("useSetServerCertificateApi"), !1), iC: d(N, "serverCertificate", u.xca), xla: d(G, f("doNotPerformLdlOnPlaybackCreate"), !1), yla: d(G, f("doNotPerformLdlOnPlaybackStart"), !1), Qtb: d(G, f("checkHdcpLevelBeforeCreatingManifestRequest"), !1), kxa: d(G, f("useHdcpLevelOnCast"), !1), n_a: d(G, f("enableHdcp"), !1), eta: d(m, f("preCacheMediaKeys"), 0), $m: d(G, f("prepareCadmium"), !1), DQa: d(G, f("acceptManifestOnPrepareItemParams"), !0), oI: d(ca, "ppmconfig", {maxNumberTitlesScheduled: 1}), kcb: d(G, f("playerPredictionModelV2"), !0), vib: d(G, f("supportsLimitedDurationLicense"), !1), BO: d(G, f("enableLdlPrefetch"), !1), AO: d(G, f("enableGetHeadersAndMediaPrefetch"), !1), SF: d(G, f("deleteCachedManifestOnPlayback"), !1), UF: d(G, f("deleteOtherManifestCacheOnCreate"), !1), TF: d(G, f("deleteOtherLdlCacheOnCreate"), !1), Nbb: d(m, f("periodicPrepareLogsIntervalMilliseconds"), 36E5), Hcb: d(m, f("prepareManifestCacheMaxCount"), 50), Fcb: d(m, f("prepareLdlCacheMaxCount"), 30), lta: d(m, f("prepareManifestExpiryMilliseconds"), 12E5), Gcb: d(m, f("prepareLdlExpiryMilliseconds"), 78E4), vzb: d(N, "prepItemsStorePrefix", "prepitems"), Ecb: d(N, f("prepareInsertStrategyPersistentTasks"), "append", /^(prepend|append|ignore)$/), XBb: d(G, "waitForSecureStopToTeardownMediaElement", !0), Jr: d(ca, "videoApp"), Yo: d(ca, "storageRules"), Z2: d(G, "ignoreIdbOpenError"), N1a: d(G, "ftlEnabled", !0), DRa: d(G, "appStorageLogging", !0), Ctb: d(m, f("cacheApiGetRangeTimeoutMilliseconds"), 1), gvb: d(ca, "downloaderForOfflineMock"), a3: d(m, f("imageSubsResolution"), 0), g6a: d(m, f("imageSubsMaxBuffer"), u.AGa, 0), vF: d(G, f("captureBatteryStatus"), !1), m2a: d(m, f("getBatteryApiTimeoutMilliseconds"), 5E3), Cd: function() {return N(f("keySystemId"), u.vGa, void 0);}, Jtb: d(N, f("canHDCP"), "constrict", /^(constrict|ifpresent|never)$/), C9a: d(m, f("hdcpGlobalTimeout1"), 1E4), D9a: d(m, f("hdcpGlobalTimeout2"), 1E4), jyb: d(m, f("hdcpQueryTimeout1"), 1E3), kyb: d(m, f("hdcpQueryTimeout2"), 1E3), E9a: d(m, f("hdcpQueryTimeout2"), 100), F9a: d(G, f("microsoftHwdrmRequiresHevc"), !1), z9a: d(G, f("microsoftEnableDeviceInfo"), !1), A9a: d(G, f("microsoftEnableHardwareInfo"), !1), B9a: d(G, f("microsoftEnableHardwareReset"), !1), nxa: d(G, f("useNewLogger"), !1), e8a: d(G, "logMediaPipelineStatus", !1), DI: d(G, f("renderDomDiagnostics"), !0), iqa: function() {return -1;}, pB: d(P, f("logDisplayMaxEntryCount"), u.wGa, -1), n8a: d(P, f("logToConsoleLevel"), -1), TSa: d(P, f("bladerunnerCmdHistorySize"), 10), Ql: function() {return Ka.Ql;}, ikb: d(G, "upgradeNetflixId", !0), yyb: d(N, "netflixIdEsnPrefix"), Y3: d(G, "logErrorIfEsnNotProvided", !0), c1: d(G, "enforceSinglePlayback", u.tGa), IO: d(G, "enforceSingleSession", u.uGa), B_: d(G, "closeOtherPlaybacks", !0), hSa: d(m, "asyncLoadTimeout", 15E3, 1), C8a: d(m, "mainThreadMonitorPollRate", 0), fyb: d(m, "mediaBufferCompactionThrottleTimeMs", 500), Myb: d(G, "nrdpAlwaysShowUIOverlay", !1), Oyb: d(G, "nrdpValidateSSOTokens", !0), Nyb: d(N, "nrdpConfigServiceApiPath", "/cbp/cadmiumconfig-default"), WAb: d(G, "showNrdpDebugBadging", !1), TUa: d(N, "congestionServiceApiPath", "/cbp/html5player/congestion"), zO: d(G, "enableCongestionService", !1), IT: function() {return Ka.IT;}, vo: function() {return Ka.vo;}, tq: function() {return Ka.tq;}, Gr: function() {return Ka.Gr;}, wxa: d(m, f("verbosePlaybackInfoDenominator"), 0), K6: d(G, "renderTimedText", u.CGa), scb: d(G, "preBufferTimedText", !0), K0a: d(G, "fatalOnTimedTextLoadError", !0), $ib: d(ka, "timedTextStyleDefaults", {}), vwa: d(ka, "timedTextStyleOverrides", {}), A8: d(ka, "timedTextFontFamilyMapping", u.GGa || {"default": "font-family:Arial,Helvetica;font-weight:bolder"}), wwa: d(m, f("timedTextTimeOverride"), 0), EC: d(m, "timedTextSimpleFallbackThreshold", u.IGa), n0: d(N, f("customDfxpUrl")), u_a: d(G, f("enableSubtitleTrackerLogging"), !1), Ufb: d(G, f("sendSubtitleQoeLogblobOnMidplay"), !1), l_: d(fa, "cdnIdWhiteList", []), k_: d(fa, "cdnIdBlackList", []), ftb: d(G, f("asynchronousCDNSelection"), !0), D1: d(N, f("forceAudioTrack")), h$a: d(G, "muteVolumeOnPlaybackClose", !0), Pyb: d(N, "nrdpVolumeControlType", "VOLUME_STREAM"), F1: d(N, f("forceTimedTextTrack")), Xqa: d(m, f("maxRetriesTimedTextDownload"), 0), uwa: d(m, f("timedTextRetryInterval"), 8E3), c8: d(m, "storageMinimumSize", u.EGa, 0), ZS: d(N, "storageType", u.FGa, /^(none|fs|idb|ls)$/), a8a: d(m, "lockExpiration", 1E4), b8a: d(m, "lockRefresh", 3E3), $Ta: d(G, "captureUnhandledExceptions", !0), f6a: d(G, "ignoreUnhandledExceptionDuringPlayback", !0), Ujb: d(G, "unhandledExceptionsArePlaybackErrors", !1), Twa: d(N, "unhandledExceptionSource", ""), Ncb: d(G, "preserveLastFrame", !1), L9a: d(m, "minBufferingTimeInMilliseconds", 4E3), $cb: d(m, "progressBackwardsGraceTimeMilliseconds", 4E3), adb: d(m, "progressBackwardsMinPercent", 10), VSa: d(N, f("bookmarkIgnoreBeginning"), "0", va), WSa: d(N, f("bookmarkIgnoreEnd"), "5%", va), XSa: d(N, f("bookmarkIgnoreEndForBranching"), "60000", va), YSa: d(G, "bookmarkIgnoreEndForOverride", !1), WUa: d(N, "connectionStrategy", "parallel", /^(parallel|single)$/), mtb: d(N, f("bandwidthMeterType"), "sliding_window", /^(historical|sliding_window)$/), exb: d(m, "initParallelConnections", 3), yH: d(m, "maxParallelConnections", 3), P6: d(G, "reportThroughputInLogblobs", !0), Oqa: d(m, "maxBufferSizeMilliseconds", u.yGa, 1E4, k.as), w4: d(m, "maxBufferSizeBytes", u.xGa), ltb: d(m, "backToFrontBufferRatioPercent", 25, 0, 1E3), GZ: d(m, "audioChunkSizeMilliseconds", 16E3), mSa: d(m, "audioChunkSizeMillisecondsBranching", 0), b9: d(m, "videoChunkSizeMilliseconds", 4004), Jkb: d(m, "videoChunkSizeMillisecondsBranching", 0), Ikb: d(m, "videoChunkSizeMillisecondsAL1", 0), U4: d(m, "minAudioMediaRequestSizeBytes", 0), Z4: d(m, "minVideoMediaRequestSizeBytes", 0), UZa: d(G, "droppedFrameRateFilterEnabled", !1), VZa: d(m, "droppedFrameRateFilterMaxObservation", 60, 10, 1E3), XZa: d(ba, "droppedFrameRateFilterPolicy", [[3, 15], [6, 9], [9, 2], [15, 1]], void 0, void 0, 2, 0), ivb: d(G, "droppedFrameRateFilterWithoutRebufferEnabled", !0), wO: d(m, "droppedFrameRateFilterBasedOnPreviousSession"), Hla: d(fa, "droppedFrameRateFilterBasedOnPreviousSessionPolicy"), WZa: d(m, "droppedFrameRateFilterMinHeight", 384), $Za: d(m, "droppedFramesStorageSessionLimit", 0), ZZa: d(m, "droppedFramesStorageInterval", 6E4), YZa: d(fa, "droppedFramesPercentilesList", []), G9a: d(G, "microsoftScreenSizeFilterEnabled", !1), Ojb: d(G, "uiLabelFilterEnabled", !0), Njb: d(ca, "uiLabelFilter", {}), GYa: d(m, f("defaultVolume"), 100, 0, 100), ula: d(G, "disableVideoRightClickMenu", !0), Q9a: d(m, "minDecoderBufferMilliseconds", 1E3, 0, k.as), qsa: d(m, "optimalDecoderBufferMilliseconds", 5E3, 0, k.as), Uab: d(m, "optimalDecoderBufferMillisecondsBranching", 3E3, 0, k.as), VQ: d(m, "minimumTimeBeforeBranchDecision", 3E3, 0, k.as), y4: d(m, "maxDecoderBufferMilliseconds", u.zGa, 0, k.as), ela: d(m, "decoderTimeoutMilliseconds", 1E4, 1), rZa: d(G, "disgardMediaOnAppend", !1), GRa: d(G, "appendMediaBeforeInit", !1), Ebb: d(m, "pauseTimeoutLimitMilliseconds", 18E5), e3: d(m, "inactivityMonitorInterval", 3E4, 0), BQa: d(fa, "abrdelLogPointsSeconds", [15, 30, 60, 120], 0, void 0, 4), Qvb: d(ba, f("fixedVideoBitrates"), [], void 0, void 0, 2, 0), IBb: d(G, f("useFilteredInitialBitratesOnly"), !1), v_a: d(G, "enableTrickPlay", !1), pRa: d(fa, "additionalDownloadSimulationParams", [2E3, 2E3, 100], 0, void 0, 3), Ejb: d(m, "trickPlayHighResolutionBitrateThreshold", 1E3), Fjb: d(m, "trickPlayHighResolutionThresholdMilliseconds", 1E4), Hjb: d(q, "trickplayBufferFactor", .5), Kwa: d(m, "trickPlayDownloadRetryCount", 1), bvb: d(m, "doNotSwitchDownIfBufferIsAboveMilliseconds", 18E4), Hwb: d(m, "histAggregationTimeSpanInSeconds", 300), Iwb: d(m, "histCompareBitsIPv4", 24), Jwb: d(m, "histCompareBitsIPv6", 32), Kwb: d(N, "histFilterType", "none", /^(none|timeofDay|dayOfWeekAndTimeOfDay)$/), Nwb: d(m, "histSizeLimit", 1E3), Mwb: d(m, "histMinSampleSize", 1), Lwb: d(m, "histMaxSampleSize", 1E3), Owb: d(m, "histTimeOfDayRangeInSeconds", 3600), t4: d(N, "marginPredictor", "simple", /^(simple|scale|iqr|percentile)$/), Cva: d(m, "simplePercentilePredictorPercentile", 25), Ava: d(N, "simplePercentilePredictorCalcToUse", "simple", /^(simple|tdigest)$/), Bva: d(N, "simplePercentilePredictorMethod", "simple", /^(simple|minimum)$/), Zaa: d(ca, "IQRBandwidthFactorConfig", {iur: !0, minr: 8E3, maxr: 2E4, rlaf: 60, flb: .1, fup: .95, fmind: .2, fmaxd: 1, fmintp: .25, fmindp: .75}), j5: d(N, "networkMeasurementGranularity", "video_location", /^(location|video_location)$/), saa: d(ca, "HistoricalTDigestConfig", {maxc: 25, rc: "ewma", c: .5, hl: 7200}), fKa: d(ca, "TputTDigestConfig", {maxc: 25, c: .5, b: 5E3, w: 15E3}), Qqa: d(P, "maxIQRSamples", Infinity), nra: d(P, "minIQRSamples", 5), V8: d(G, "useResourceTimingAPI", !1), Ioa: d(G, "ignoreFirstByte", !0), u9a: d(G, "mediaRequestAsyncLoadStart", !0), skb: d(G, "useXHROnLoadStart", !1), Peb: d(G, "resetHeuristicStateAfterSkip", !0), Fvb: d(fa, "failedDownloadRetryWaits", [10, 200, 500, 1E3, 2E3, 4E3, 8E3, 16E3]), k1: d(fa, "failedDownloadRetryWaitsASE", [10, 200, 500, 1E3, 2E3, 4E3]), OAb: d(m, "selectCdnDownloadRetryCountBeforeCdnSwitch", 2), QAb: d(m, "selectCdnTimeoutMilliseconds", 1E3), PAb: d(m, "selectCdnSignificantLatency", 300), NAb: d(m, "selectCdnBandwidthThresholdKbps", 2E3), RAb: d(N, "selectCdnType", "bandwidth", /^(latency|bandwidth)$/), LBb: d(G, "useVariableConnectTimeout", !1), myb: d(m, "minConnectTimeoutMilliseconds", 4E3), M_: d(m, "connectTimeoutMilliseconds", 8E3, 500), dub: d(m, "connectTimeoutBufferDiscount", 2), eub: d(m, "connectTimeoutoutUpperLimitMultiplier", 1E4), o5: d(m, "noProgressTimeoutMilliseconds", 8E3, 500), pkb: d(G, "useOnLineApi", !1), Ewb: d(m, "headerDownloadRetryCountBeforeCdnSwitch", 1), twa: d(m, "timedTextDownloadRetryCountBeforeCdnSwitch", 3), Dra: d(m, "netflixRequestExpiryTimeout", !1), Vsb: d(G, "abortInProgressDownload", !0), Usb: d(G, "abortInProgressAtRebuffer", !1), yQa: d(G, "abortPreemptively", !1), gxb: d(m, "initialHeaderDownloadTimeout", 2E3), Fwb: d(m, "headerDownloadTimeout", 3E3), Xkb: d(G, "webkitDecodedFrameCountIncorrectlyReported", !1), Efb: d(m, "seekBackOnAudioTrackChangeMilliseconds", 8E3), h8: d(ja, f("supportedAudioTrackTypes"), [], void 0, 1), Qoa: d(m, "initialLogFlushTimeout", 5E3), Usa: d(N, "playdataPersistKey", Ka.Ql ? "unsentplaydatatest" : "unsentplaydata"), A7: d(G, "sendPersistedPlaydata", !0), hcb: d(m, "playdataPersistIntervalMilliseconds", 4E3), mzb: d(m, "playdataSendDelayMilliseconds", 1E4), BS: d(G, "sendPlaydataBackupOnInit", !0), i8a: d(ja, "logPerformanceTiming", "navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")), I9a: d(G, "midplayEnabled", !0), hra: d(m, "midplayIntervalMilliseconds", 3E5), J9a: d(fa, "midplayKeyPoints", [15E3, 3E4, 6E4, 12E4]), aG: d(m, "downloadReportDenominator", 0), GZa: d(m, "downloadReportInterval", 3E5), tO: d(ja, "downloadReportTcpInfo", []), evb: d(m, "downloadReportTraceInterval", 1E3), hqa: d(m, "logConfigApplyDenominator", 0), ija: d(ka, f("bookmarkByMovieId"), {}), Wpa: d(G, f("limitedDurationLicense"), !1), oB: d(m, f("licenseRenewalRequestDelay"), 0), H5: d(m, f("persistedReleaseDelay"), 1E4), Nxb: d(G, f("limitedDurationFlagOverride"), void 0), Yh: d(G, f("secureStopEnabled"), !1), KAb: d(G, f("secureStopFromPersistedKeySession"), !1), Sua: d(m, "secureStopKeyMessageTimeoutMilliseconds", 2E3, 1), p7: d(m, "secureStopKeyAddedTimeoutMilliseconds", 1E3, 1), Cfb: d(m, f("secureStopPersistedKeyMessageTimeoutMilliseconds"), 2500, 1), Dfb: d(m, f("secureStopPersistedKeySessionRetries"), 17, 1), Bfb: d(m, "secureStopPersistedKeyAddedTimeoutUnmatchedSession", 1E3, 1), JAb: d(G, f("secureStopDisplayLogWindowOnError"), !1), LAb: d(G, f("secureStopIgnoreVideoError"), !1), NC: d(G, f("useCdmId"), !1), fxb: d(ja, "initSegmentBoxTypeList", ["ftyp", "moov"]), bxb: d(ja, "ignorePsshList", []), Eua: d(m, "safariPlayPauseWorkaroundDelay", 100), dlb: d(G, "workaroundForMediaSourceDuration", !1), Dxa: d(m, "workaroundValueForSeekIssue", 1200), elb: d(G, "workaroundSaio", !0), $Bb: d(G, "workaroundTenc", !0), i9: d(G, f("workaroundAudioKeyFrame"), u.NGa), g_: d(G, f("callEndOfStream"), u.qGa), Lbb: d(G, "performRewindCheck", !0), M0a: d(G, "fatalOnUnexpectedSeeking", !0), L0a: d(G, "fatalOnUnexpectedSeeked", !0), Zja: d(G, f("clipLongVideo"), u.sGa), Ngb: d(G, f("setVideoElementSize")), y_: d(G, f("clearVideoSrc"), u.rGa), ola: d(m, f("delayPlayPause"), 0), FSa: d(G, f("avoidSBRemove"), !1), sn: d(G, f("useTypescriptEme"), !1), cG: d(N, f("drmPersistKey"), "unsentDrmData"), sI: d(G, f("promiseBasedEme"), !1), ZTa: d(G, "captureKeyStatusData", !1), $A: d(G, "includeCapabilitiesInRequestMediaKeySystemAccess", !0), T$a: d(G, f("nudgeSourceBuffer"), !1), Uua: d(P, f("seekDelta"), 1), wcb: d(G, f("preciseSeeking"), !1), xcb: d(G, f("preciseSeekingOnTwoCoreDevice"), !1), nla: d(ka, f("delayErrorHandling")), sT: d(G, "trackingLogEnabled", u.KGa), F8: d(N, "trackingLogPath", "/customerevents/track/debug"), pjb: d(fa, "trackingLogStallKeyPoints", [1E4, 3E4, 6E4, 12E4]), xBb: d(G, "trackingLogRegPairRequests", !1), Of: d(N, "esn", ""), oma: d(N, "fesn", ""), X0: d(G, f("enableEmeVerboseLogging"), !1), o_a: d(G, "enableLastChunkLogging", !1), YE: d(N, "appId", "", Va), sessionId: d(N, "sessionId", "", Va), n_: d(N, "cdnProxyUrl"), rkb: d(G, "usePlayReadyHeaderObject", !1), Ima: d(m, "forceXhrErrorResponseCode", void 0), ig: {ura: d(N, "mslApiPath", "/msl/"), Jla: d(N, f("edgePath"), "/cbp/cadmium-29"), Hzb: d(N, "proxyPath", ""), iy: d(N, "uiVersion"), uT: d(N, "uiPlatform"), Mtb: function() {return "0";}, Ex: d(ja, "preferredLanguages", k.eAa, /^[a-zA-Z-]{2,5}$/, 1), uAb: d(G, "retryOnNetworkFailures", !0), x1a: d(N, f("forceDebugLogLevel"), void 0, /^(ERROR|WARN|INFO|TRACE)$/), $sb: d(G, "alwaysIncludeIdsInPlaydata", !0), gBb: d(G, "supportPreviewContent", !1), qib: d(G, "supportPreviewContentPin", !0), rib: d(G, "supportWatermarking", !0), Tvb: d(G, "forceClearStreams", !1), uxa: d(G, "validatePinProtection", u.LGa), fhb: d(G, "showAllSubDubTracks", !1), Kyb: d(N, f("nrdjsPath"), "nrdjs/2.4.9/"), Lyb: d(m, f("nrdjsVersion"), 2), C0a: d(G, f("failOnGuidMismatch"), !1)}, NR: {enabled: d(G, "qcEnabled", !1), Yl: d(N, "qcPackageId", "")}, Bh: {Zxb: d(m, f("managerIntervalMilliseconds"), 18E5), jBb: d(m, f("syncLicensesIntervalMilliseconds"), 864E5), Lxb: d(m, f("licensePolicyIntervalMilliseconds"), 3E4), uhb: d(m, f("startPlayWindowDelayMilliseconds"), 3E4)}, fF: d(N, "authenticationType", Ka.Ql ? u.pGa : u.oGa), $ia: d(ka, "authenticationKeyNames", z.va({e: "DKE", h: "DKH", w: "DKW", s: "DKS"})), Aib: d(N, "systemKeyWrapFormat"), h6a: d(G, "includeNetflixIdUserAuthData", !0), bhb: d(G, "shouldSendUserAuthData", !0), B7: d(G, "sendUserAuthIfRequired", u.DGa), Wgb: d(G, "shouldClearUserData", !1), D6: d(G, "refreshCredentialsAfterManifestAuthError", u.BGa), d$a: d(G, "mslDeleteStore", !1), e$a: d(G, "mslPersistStore", !0), nVa: d(G, "correctNetworkForShortTitles", !0), qcb: d(G, "postplayHighInitBitrate", !1), s1a: d(G, "flushHeaderCacheOnAudioTrackChange", !0), J0a: d(G, "fatalOnAseStreamingFailure", !0), $ka: d(m, f("debugAseDenominator"), 100), xZ: d(m, "aseAudioBufferSizeBytes", u.lGa), AZ: d(m, "aseVideoBufferSizeBytes", u.mGa), dJ: d(fa, "streamingFailureRetryWaits", [4E3, 8E3]), BB: d(m, "minInitVideoBitrate", 560), W4: d(m, "minHCInitVideoBitrate", 560), uB: d(m, "maxInitVideoBitrate", Infinity), HH: d(m, "minInitAudioBitrate", 0), GH: d(m, "minHCInitAudioBitrate", 0), wH: d(m, "maxInitAudioBitrate", 65535), PQ: d(m, "minAcceptableVideoBitrate", 235), IH: d(m, "minRequiredBuffer", 3E4), Vh: d(m, "minPrebufSize", 7800), x6: d(q, "rebufferingFactor", 1), Xq: d(m, "maxBufferingTime", 2600), U8: d(G, "useMaxPrebufSize", !0), wB: d(m, "maxPrebufSize", 45E3), F4: d(m, "maxRebufSize", Infinity), VP: d(ma, "initialBitrateSelectionCurve", null), Moa: d(m, "initSelectionLowerBound", 560), Noa: d(m, "initSelectionUpperBound", 1050), jT: d(m, "throughputPercentForAudio", 15), NZ: d(m, "bandwidthMargin", 10), OZ: d(G, "bandwidthMarginContinuous", !1), PZ: d(ma, "bandwidthMarginCurve", [{m: 65, b: 8E3}, {m: 65, b: 3E4}, {m: 50, b: 6E4}, {m: 45, b: 9E4}, {m: 40, b: 12E4}, {m: 20, b: 18E4}, {m: 5, b: 24E4}]), N_: d(m, "conservBandwidthMargin", 20), m8: d(G, "switchConfigBasedOnInSessionTput", !1), CF: d(m, "conservBandwidthMarginTputThreshold", 0), O_: d(ma, "conservBandwidthMarginCurve", [{m: 80, b: 8E3}, {m: 80, b: 3E4}, {m: 70, b: 6E4}, {m: 60, b: 9E4}, {m: 50, b: 12E4}, {m: 30, b: 18E4}, {m: 10, b: 24E4}]), fwa: d(G, "switchAlgoBasedOnHistIQR", !1), xu: d(N, "switchConfigBasedOnThroughputHistory", "none", /^(none|iqr|avg)$/), E4: d(P, "maxPlayerStateToSwitchConfig", -1), g4: d(N, "lowEndMarkingCriteria", "none", /^(none|iqr|avg)$/), lV: d(q, "IQRThreshold", .5), T2: d(N, "histIQRCalcToUse", "simple"), KSa: d(q, "bandwidthMarginScaledRatioUpperBound", 2), Yq: d(m, "maxTotalBufferLevelPerSession", 0), uoa: d(m, "highWatermarkLevel", 3E4), Cwa: d(m, "toStableThreshold", 3E4), qT: d(m, "toUnstableThreshold", u.JGa), T7: d(G, "skipBitrateInUpswitch", !0), f9: d(m, "watermarkLevelForSkipStart", 8E3), M2: d(m, "highStreamRetentionWindow", 9E4), h4: d(m, "lowStreamTransitionWindow", 51E4), O2: d(m, "highStreamRetentionWindowUp", 3E5), j4: d(m, "lowStreamTransitionWindowUp", 3E5), N2: d(m, "highStreamRetentionWindowDown", 6E5), i4: d(m, "lowStreamTransitionWindowDown", 0), L2: d(q, "highStreamInfeasibleBitrateFactor", .5), Zw: d(m, "lowestBufForUpswitch", 15E3), xQ: d(m, "lockPeriodAfterDownswitch", 15E3), l4: d(m, "lowWatermarkLevel", 25E3), $w: d(m, "lowestWaterMarkLevel", 2E4), o4: d(G, "lowestWaterMarkLevelBufferRelaxed", !1), M4: d(q, "mediaRate", 1), I4: d(m, "maxTrailingBufferLen", 1E4), DZ: d(m, "audioBufferTargetAvailableSize", 262144), a9: d(m, "videoBufferTargetAvailableSize", 1048576), Yqa: d(m, "maxVideoTrailingBufferSize", 8388608), Nqa: d(m, "maxAudioTrailingBufferSize", 393216), RO: d(q, "fastUpswitchFactor", 3), n1: d(q, "fastDownswitchFactor", 1), FQ: d(m, "maxMediaBufferAllowed", 24E4), LS: d(G, "simulatePartialBlocks", !0), Dva: d(G, "simulateBufferFull", !0), P_: d(G, "considerConnectTime", !1), L_: d(q, "connectTimeMultiplier", 1), uqa: d(m, "lowGradeModeEnterThreshold", 12E4), vqa: d(m, "lowGradeModeExitThreshold", 9E4), Pqa: d(m, "maxDomainFailureWaitDuration", 3E4), Lqa: d(m, "maxAttemptsOnFailure", 18), gma: d(G, "exhaustAllLocationsForFailure", !0), Tqa: d(m, "maxNetworkErrorsDuringBuffering", 20), x4: d(m, "maxBufferingTimeAllowedWithNetworkError", 6E4), m1: d(m, "fastDomainSelectionBwThreshold", 2E3), v8: d(m, "throughputProbingEnterThreshold", 4E4), qwa: d(m, "throughputProbingExitThreshold", 34E3), dqa: d(m, "locationProbingTimeout", 1E4), rma: d(m, "finalLocationSelectionBwThreshold", 1E4), nwa: d(q, "throughputHighConfidenceLevel", .75), pwa: d(q, "throughputLowConfidenceLevel", .4), zA: d(G, "enablePerfBasedLocationSwitch", !1), cn: d(G, "probeServerWhenError", !0), c6: d(m, "probeRequestTimeoutMilliseconds", 8E3), gq: d(G, "allowSwitchback", !0), Gx: d(m, "probeDetailDenominator", 100), BQ: d(m, "maxDelayToReportFailure", 300), W3: d(m, "locationStatisticsUpdateInterval", 6E4), V_: d(G, "countGapInBuffer", !1), Tv: d(G, "allowReissueMediaRequestAfterAbort", !0), oZ: d(G, "allowCallToStreamSelector", !0), WZ: d(m, "bufferThresholdForAbort", 1E4), L5: d(m, "pipelineScheduleTimeoutMs", 2), bx: d(m, "maxPartialBuffersAtBufferingStart", 2), X4: d(m, "minPendingBufferLen", 6E3), vB: d(m, "maxPendingBufferLen", 12E3), a9a: d(m, "maxPendingBufferLenAL1", 3E4), EO: d(G, "enableRequestPacing", !1), H4: d(m, "maxStreamingSkew", 4E3), D4: d(m, "maxPendingBufferPercentage", 10), cx: d(m, "maxRequestsInBuffer", 60), Vqa: d(m, "maxRequestsInBufferAL1", 240), Wqa: d(m, "maxRequestsInBufferBranching", 120), MP: d(m, "headerRequestSize", 4096), V4: d(m, "minBufferLenForHeaderDownloading", 1E4), dS: d(m, "reserveForSkipbackBufferMs", 1E4), v5: d(m, "numExtraFragmentsAllowed", 2), Xm: d(G, "pipelineEnabled", !1), Gva: d(m, "socketReceiveBufferSize", 0), HZ: d(m, "audioSocketReceiveBufferSize", 32768), d9: d(m, "videoSocketReceiveBufferSize", 65536), K2: d(m, "headersSocketReceiveBufferSize", 32768), wT: d(m, "updatePtsIntervalMs", 1E3), YZ: d(m, "bufferTraceDenominator", 100), Yz: d(m, "bufferLevelNotifyIntervalMs", 2E3), Uz: d(m, "aseReportDenominator", 0), yZ: d(m, "aseReportIntervalMs", 3E5), Ola: d(G, "enableAbortTesting", !1), lia: d(m, "abortRequestFrequency", 8), e8: d(m, "streamingStatusIntervalMs", 2E3), MB: d(m, "prebufferTimeLimit", 24E4), RQ: d(m, "minBufferLevelForTrackSwitch", 2E3), E5: d(m, "penaltyFactorForLongConnectTime", 2), e4: d(m, "longConnectTimeThreshold", 200), kZ: d(m, "additionalBufferingLongConnectTime", 2E3), lZ: d(m, "additionalBufferingPerFailure", 8E3), BI: d(m, "rebufferCheckDuration", 6E4), Rla: d(G, "enableLookaheadHints", !1), qqa: d(m, "lookaheadFragments", 2), ko: d(G, "enableOCSideChannel", !0), ZK: d(ca, "OCSCBufferQuantizationConfig", {lv: 5, mx: 240}), Ywa: d(G, "updateDrmRequestOnNetworkFailure", !1), hO: d(G, "deferAseScheduling", !1), CQ: d(m, "maxDiffAudioVideoEndPtsMs", 16E3), OC: d(G, "useHeaderCache", !0), gO: d(m, "defaultHeaderCacheSize", 4), B0: d(m, "defaultHeaderCacheDataPrefetchMs", 8E3), I2: d(m, "headerCacheMaxPendingData", 6), Ndb: d(G, "recreateHeaderCacheDownloadTracks", !0), J2: d(m, "headerCachePriorityLimit", 5), A5a: d(G, "headerCacheFlushForCircularBuffer", !0), iG: d(G, "enableUsingHeaderCount", !1), qoa: d(G, "headerCacheTruncateHeaderAfterParsing", !0), r1a: d(G, f("flushHeaderCacheBeforePlayback"), !1), i5: d(m, "networkFailureResetWaitMs", 2E3), h5: d(m, "networkFailureAbandonMs", 6E4), JQ: d(m, "maxThrottledNetworkFailures", 3), iT: d(m, "throttledNetworkFailureThresholdMs", 200), Rn: d(G, "abortUnsentBlocks", !1), J4: d(m, "maxUnsentBlocks", 2), YY: d(m, "abortStreamSelectionPeriod", 2E3), k4: d(P, "lowThroughputThreshold", 400), g1: d(G, "excludeSessionWithoutHistoryFromLowThroughputThreshold", !1), tra: d(G, "mp4ParsingInNative", !1), Hva: d(G, "sourceBufferInOrderAppend", !0), hn: d(G, "requireAudioStreamToEncompassVideo", !0), Gia: d(G, "allowAudioToStreamPastVideo", !0), hdb: d(G, "pruneRequestsFromNative", !1), vcb: d(G, "preciseBufferLevel", !1), xe: d(G, "enableManagerDebugTraces", !1), Fqa: d(m, "managerDebugMessageInterval", 1E3), Eqa: d(m, "managerDebugMessageCount", 20), Ora: d(G, "notifyManifestCacheEom", !1), DN: d(m, "bufferThresholdToSwitchToSingleConnMs", 18E4), XZ: d(m, "bufferThresholdToSwitchToParallelConnMs", 12E4), xR: d(m, "periodicHistoryPersistMs", 3E5), oS: d(m, "saveVideoBitrateMs", 18E4), uZ: d(G, "appendMediaRequestOnComplete", !0), JT: d(G, "waitForDrmToAppendMedia", !1), C1: d(G, f("forceAppendHeadersAfterDrm"), !1), AI: d(G, f("reappendRequestsOnSkip"), !0), l$a: d(m, "netIntrStoreWindow", 36E3), S9a: d(m, "minNetIntrDuration", 8E3), G0a: d(m, "fastHistoricBandwidthExpirationTime", 10368E3), HSa: d(m, "bandwidthExpirationTime", 5184E3), E0a: d(m, "failureExpirationTime", 86400), G5a: d(m, "historyTimeOfDayGranularity", 4), u0a: d(G, "expandDownloadTime", !1), Y9a: d(m, "minimumMeasurementTime", 500), X9a: d(m, "minimumMeasurementBytes", 131072), Mib: d(m, "throughputMeasurementTimeout", 2E3), o6a: d(m, "initThroughputMeasureDataSize", 262144), Oib: d(N, "throughputPredictor", "ewma"), Lib: d(m, "throughputMeasureWindow", 5E3), Rib: d(m, "throughputWarmupTime", 5E3), Kib: d(m, "throughputIQRMeasureWindow", 5E3), oDa: d(m, "IQRBucketizerWindow", 15E3), UUa: d(m, "connectTimeHalflife", 10), Zeb: d(m, "responseTimeHalflife", 10), F5a: d(m, "historicBandwidthUpdateInterval", 2E3), Nib: d(ma, "throughputMeasurementWindowCurve", null), X5a: d(m, "httpResponseTimeWarmup", 10), $eb: d(m, "responseTimeWarmup", 10), W9a: d(m, "minimumBufferToStopProbing", 1E4), K5a: d(m, "holtWintersDiscretizeInterval", 500), L5a: d(m, "holtWintersHalfLifeAlpha", 6700), N5a: d(m, "holtWintersHalfLifeGamma", 6700), O5a: d(m, "holtWintersInitialCounts", 3), P5a: d(m, "holtWintersMinInitialCounts", 3), M5a: d(G, "holtWintersHalfLifeCurveEnabled", !1), Q5a: d(G, "holtWintersUpperBoundEnabled", !1), n7: d(N, "secondThroughputEstimator", "none"), Qua: d(P, "secondThroughputMeasureWindowInMs", Infinity), j_a: d(ja, "enableFilters", "throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")), Y0a: d(ca, "filterDefinitionOverrides", {}), yYa: d(N, "defaultFilter", "throughput-ewma"), yfb: d(N, "secondaryFilter", "none"), zYa: d(ca, "defaultFilterDefinitions", {"throughput-ewma": {type: "discontiguous-ewma", mw: 5E3, wt: 5E3}, "throughput-sw": {type: "slidingwindow", mw: 5E3}, "throughput-iqr": {type: "iqr", mx: Infinity, mn: 5, bw: 15E3, iv: 1E3}, "throughput-iqr-history": {type: "iqr-history"}, "throughput-location-history": {type: "discrete-ewma", hl: 14400, "in": 3600}, "respconn-location-history": {type: "discrete-ewma", hl: 100, "in": 25}, "throughput-tdigest": {type: "tdigest", maxc: 25, c: .5, b: 1E3, w: 15E3, mn: 6}, "throughput-tdigest-history": {type: "tdigest-history", maxc: 25, rc: "ewma", c: .5, hl: 7200}, "respconn-ewma": {type: "discrete-ewma", hl: 10, "in": 10}, avtp: {type: "avtp"}, entropy: {type: "entropy", mw: 2E3, sw: 3E4, "in": "none", mins: 1, hdl: [150, 230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958], uhdl: [150, 230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958, 10657, 16322, 25E3]}}), SH: d(G, "needMinimumNetworkConfidence", !0), RZ: d(G, "biasTowardHistoricalThroughput", !0), hZ: d(G, "addHeaderDataToNetworkMonitor", !1), Y7: d(G, "startMonitorOnLoadStart", !1), O6: d(G, "reportFailedRequestsToNetworkMonitor", !1), A4: d(P, "maxFastPlayBufferInMs", Infinity), z4: d(P, "maxFastPlayBitThreshold", Infinity), tZ: d(G, "appendFirstHeaderOnComplete", !0), URa: d(N, "ase_stream_selector", "optimized"), g3: d(N, "initBitrateSelectorAlgorithm", "default"), $Z: d(N, "bufferingSelectorAlgorithm", "default"), t0: d(N, "ase_ls_failure_simulation", ""), r0: d(G, "ase_dump_fragments", !1), s0: d(m, "ase_location_history", 0), u0: d(m, "ase_throughput", 0), ala: d(G, "ase_simulate_verbose", !1), Q$a: d(G, "notifyOpenConnectBlackBox", !0), ncb: d(m, "pollingPeriod", 150), aqa: d(m, "loadTimeMs", 18E4), Hqa: d(m, "marginTimeMs", 1E4), ly: d(G, "useMediaCache", !1), vA: d(m, "diskCacheSizeLimit", 52428800), LQ: d(m, "mediaCachePrefetchMs", 8E3), L4: d(ka, "mediaCachePartitionConfig", {partitions: [{key: "billboard", capacity: 31457280, owner: "browser-player@netflix.com", evictionPolicy: "FIFO"}]}), ERa: d(G, "appendCachedMediaAsMediaRequest", !0), xG: d(G, "generateHardwareDeviceId", !1), kab: d(ja, "offlineLogCategories", ["VideoCache", "CachedVideoEdgeSession"]), gZ: d(G, "addFailedLogBlobsToQueue", !0), $gb: d(G, "shouldSaveLogs", !1), b4: d(ja, "logTypesToSave", "startup startplay endplay debug subtitleqoe playbackaborted".split(" ")), o8a: d(ja, "logTypesToFilter", "repos resumeplay midplay serversel cdnsel statechanged".split(" ")), Pjb: {billboard: {BB: d(m, "billboardMinInitVideoBitrate", 1050), uB: d(m, "billboardMaxInitVideoBitrate", null), Vh: d(m, "billboardMinPrebufSize", null), wB: d(m, "billboardMaxPrebufSize", null), Xq: d(m, "billboardMaxBufferingTime", null), bx: d(m, "billboardMaxPartialBuffersAtBufferingStart", null), $w: d(m, "billboardLowestWaterMarkLevel", 6E3), Zw: d(m, "billboardLowestBufForUpswitch", 25E3), xu: d(N, "billboardSwitchConfigBasedOnThroughputHistory", "none", /^(none|iqr|avg)$/)}, preplay: {BB: d(m, "preplayMinInitVideoBitrate", 1050), uB: d(m, "preplayMaxInitVideoBitrate", null), Vh: d(m, "preplayMinPrebufSize", null), wB: d(m, "preplayMaxPrebufSize", null), Xq: d(m, "preplayMaxBufferingTime", null), bx: d(m, "preplayMaxPartialBuffersAtBufferingStart", null), $w: d(m, "preplayLowestWaterMarkLevel", 6E3), Zw: d(m, "preplayLowestBufForUpswitch", 25E3)}, embedded: {BB: d(m, "embeddedMinInitVideoBitrate", 1050), uB: d(m, "embeddedMaxInitVideoBitrate", null), Vh: d(m, "embeddedMinPrebufSize", null), wB: d(m, "embeddedMaxPrebufSize", null), Xq: d(m, "embeddedMaxBufferingTime", null), bx: d(m, "embeddedMaxPartialBuffersAtBufferingStart", null), $w: d(m, "embeddedLowestWaterMarkLevel", 6E3), Zw: d(m, "embeddedLowestBufForUpswitch", 25E3)}}, CO: d(G, "enablePsd", !1), k6: d(m, "psdCallFrequency", 6E4), l6: d(G, "psdReturnToNormal", !1), vI: d(m, "psdThroughputThresh", 0), XF: d(m, "discardLastNPsdBins", 0), pg: d(ca, "psdPredictor", {numB: 240, bSizeMs: 1E3, fillS: "last", fillHl: 1E3, bthresh: 100, freqave: 5, numfreq: 26, beta: [-2.57382621685251, 1.00514098612371, -.369357559975733, .00999932810065489, .142934270516382, .162644679552085, -.0566219452189998, .022239120872481, -.0668887810950692, -.179565604901062, -.164944450316777, -.269160823754313, -.353934286812968, .127490861540904, -.30639082364227, -.21647101116447, -.0842995352796247, -.0103329141448779, -.12855537458795, .181738862222313, .263672043403025, .0755588656690725, .400401204107367, -.420677412792809, -1.09035458665828, 1.27111376831522, .561903634898845, -1.17759977644374], thresh: .22, tol: 1E-10, tol2: 1E-4}), x_a: d(G, "enableVerbosePlaydelayLogging", !1), Fq: d(G, "enableRl", !1), aC: d(m, "rlLogParam", 5), t_a: d(G, "enableSeamless", !1), S2: d(m, "hindsightDenominator", 0), R2: d(m, "hindsightDebugDenominator", 0), NP: d(ca, "hindsightParam", {numB: Infinity, bSizeMs: 1E3, fillS: "last", fillHl: 1E3}), hG: d(G, "enableSessionHistoryReport", !1), R0: d(m, "earlyStageEstimatePeriod", 1E4), Ppa: d(m, "lateStageEstimatePeriod", 3E4), GQ: d(m, "maxNumSessionHistoryStored", 30), TQ: d(m, "minSessionHistoryDuration", 3E4), gG: d(G, "enableInitThroughputEstimate", !1), Ooa: d(ca, "initThroughputPredictor", {bwThreshold: 4E3, lrWeights: {}}), vH: d(m, "maxActiveRequestsPerSession", 3), zQ: d(m, "maxActiveRequestsSABCell100", 2), HQ: d(m, "maxPendingBufferLenSABCell100", 500), P3: d(G, "limitAudioDiscountByMaxAudioBitrate", !0), vi: d(ca, "browserInfo", {}), rTa: d(m, f("busyGracePeriod"), 199), Vfb: d(G, f("sendTransitionLogblob"), !0), Ol: d(G, f("editAudioFragments"), !1), zw: d(G, f("editVideoFragments"), !1), e_a: d(G, f("editAudioFragmentsBranching"), !0), g_a: d(G, f("editVideoFragmentsBranching"), !0), i6a: d(G, f("includeSegmentInfoOnLogblobs"), !0), x0a: d(G, "exposeTestData", !1), v0: d(G, "declareBufferingCompleteAtSegmentEnd", !0), Xv: d(G, "applyProfileTimestampOffset", !1), iq: d(G, "applyProfileStreamingOffset", !1), yRa: d(G, f("allowSmallSeekDelta"), !1), Fva: d(m, f("smallSeekDeltaThresholdMilliseconds"), F.uW), i_a: d(G, "enableCDMAttestedDescriptors", !1), U6: d(G, "requireDownloadDataAtBuffering", !1), V6: d(G, "requireSetupConnectionDuringBuffering", !1), L6: d(G, "renormalizeFirstFragment", !1), M6: d(G, "renormalizeLastFragment", !1), z6: d(G, "recordFirstFragmentOnSubBranchCreate", !1)}; Ke = !0; c.nka = function(a) {var d; if(t._cad_global.logBatcher && 0 < c.config.hqa && 0 === w.Dy % c.config.hqa) try {d = new x.Ly(void 0, "config", "info", {params: a}); t._cad_global.logBatcher.$l(d);} catch(rb) {g.log.error("Failed to log config$apply", rb);} t._cad_global || (t._cad_global = {}); t._cad_global.config = c.config; t._cad_global.platformExtraInfo = u.ei; n.ha(a); a && (wa = z.va({}, a, {tB: !0}), z.va(wa, Ga, {tB: !0}), b(S, c.config), c.config.hH && g.log.trace("Config applied for", qa(Ke ? wa : a)), Ke = !1);}; c.nka(wa);}; c.$tb = function(a, b) {return C.$c(a) && "%" == a[a.length - 1] ? y.Bf(parseFloat(a) * b / 100) : a | 0;}; c.PUa = function(a) {return a ? (a = z.va({}, c.config), z.va(a, {qsa: c.config.Uab}, {No: !0})) : c.config;}; c.aub = function(a) {var g; g = z.va({}, c.config); return z.va(g, b(a), {No: !0});}; c.pka = function(c) {c = b(c); return z.va({}, a(150)(c), {No: !0});}; c.oka = function(b, g) {g = !!g && (0 <= g.indexOf("h264hpl") || 0 <= g.indexOf("vp9")); b = {GZ: b ? c.config.mSa : c.config.GZ, b9: b ? c.config.Jkb : g ? c.config.Ikb : c.config.b9, Tv: b ? !1 : c.config.Tv, cx: b && g ? Math.max(c.config.Wqa, c.config.Vqa) : b ? c.config.Wqa : g ? c.config.Vqa : c.config.cx, vB: g ? c.config.a9a : c.config.vB, Ol: c.config.Ol || b && c.config.e_a, zw: c.config.zw || b && c.config.g_a}; return z.va({}, a(150)(b), {No: !0});}; c.cub = b; c.bub = d; c.Ztb = "";}, function(f, c, a) {var b; Object.defineProperty(c, "__esModule", {value: !0}); b = a(9); c.Db = function() {}; c.B9 = function() {b.ha();}; c.HIa = function() {return !0;}; c.kb = {N: !0}; c.wj = 1E3; c.Xqb = 86400; c.Yqb = 604800; c.tob = 1E4; c.uob = 1E7; c.dsb = 1.5; c.hob = .128; c.Elb = 7.8125; c.Olb = 128; c.as = 145152E5; c.fEa = 1E5; c.$K = "$netflix$player$order"; c.Ny = -1; c.aL = 1; c.eAa = ["en-US"]; c.Plb = 8; c.gEa = 65535; c.qrb = 65536; c.Xpb = Number.MAX_VALUE; c.uU = "playready"; c.G$ = "widevine"; c.rBa = "fps"; c.qBa = "clearkey"; c.Hy = 'audio/mp4; codecs="mp4a.40.5"'; c.iEa = 'audio/mp4; codecs="mp4a.a6"'; c.yn = 'video/mp4; codecs="avc1.640028"'; c.wob = 'video/mp4; codecs="hev1.2.6.L153.B0"'; c.vob = 'video/mp4; codecs="dvhe.01000000"'; c.pBa = "9A04F079-9840-4286-AB92-E65BE0885F95"; c.Vmb = "29701FE4-3CC7-4A34-8C5B-AE90C7439A47"; c.Wmb = "EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED"; c.bmb = ["4E657466-6C69-7850-6966-665374726D21", "4E657466-6C69-7848-6165-6465722E7632"]; c.Yya = "A2394F52-5A9B-4F14-A244-6C427C648DF4"; c.cmb = "4E657466-6C69-7846-7261-6D6552617465"; c.dmb = "8974DBCE-7BE7-4C51-84F9-7148F9882554"; c.Ylb = "mp4a"; c.Wya = "enca"; c.Vlb = "ec-3"; c.Tlb = "avc1"; c.Xya = "encv"; c.Xlb = "hvcC"; c.Wlb = "hev1"; c.Ulb = "dvhe"; c.Zlb = "vp09"; c.uV = 0; c.vD = 1;}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); f = "undefined" === typeof t ? {} : t; c.Yg = f.navigator || {}; c.Dh = c.Yg.userAgent; c.UK = f.location; c.vp = f.screen; c.im = f.performance; c.kd = f.document || {}; c.Hpb = c.kd.documentElement; c.Vs = Array.prototype; c.sort = c.Vs.sort; c.map = c.Vs.map; c.slice = c.Vs.slice; c.every = c.Vs.every; c.reduce = c.Vs.reduce; c.filter = c.Vs.filter; c.forEach = c.Vs.forEach; c.pop = c.Vs.pop; c.JD = Object.create; c.OFa = Object.keys; c.oK = Date.now; c.MJa = String.fromCharCode; c.An = Math.floor; c.HEa = Math.ceil; c.Bf = Math.round; c.Ek = Math.max; c.Af = Math.min; c.yD = Math.random; c.xD = Math.abs; c.Qba = Math.pow; c.IEa = Math.sqrt; c.RV = f.escape; c.SV = f.unescape; c.URL = f.URL || f.webkitURL; c.ED = f.MediaSource || f.WebKitMediaSource; c.DD = f.WebKitMediaKeys || f.MSMediaKeys || f.MediaKeys; c.ds = f.nfCrypto || f.webkitCrypto || f.msCrypto || f.crypto; c.Ll = c.ds && (c.ds.webkitSubtle || c.ds.subtle); c.QV = f.nfCryptokeys || f.webkitCryptokeys || f.msCryptokeys || f.cryptokeys; c.PERSISTENT = f.PERSISTENT; c.TEMPORARY = f.TEMPORARY; c.oFa = f.requestFileSystem || f.webkitRequestFileSystem; c.hca = f.Blob; c.VK = c.Yg.persistentStorage || c.Yg.webkitPersistentStorage; c.ica = c.VK ? void 0 : f.storageInfo || f.webkitStorageInfo; try {c.indexedDB = f.indexedDB;} catch(a) {c.dxb = a || "noex";} try {c.localStorage = f.localStorage;} catch(a) {c.bqa = a || "noex";} }, function(f, c, a) {var k; function b(a) {return k.sL.apply(this, arguments) || this;} function d(a) {return new k.sp(a, c.Qa);} Object.defineProperty(c, "__esModule", {value: !0}); k = a(445); ha(b, k.sL); c.Qrb = b; c.iyb = function(a) {return new k.sp(a, c.CD);}; c.Hb = d; c.am = function(a) {return new k.sp(a, c.Dp);}; c.b5 = function(a) {return new k.sp(a, c.$ba);}; c.Uwb = function(a) {return new k.sp(a, c.sCa);}; c.timestamp = function(a) {return d(a);}; c.CD = new b(1, "\u03bcs"); c.Qa = new b(1E3, "ms", c.CD); c.Dp = new b(1E3 * c.Qa.rg, "s", c.CD); c.$ba = new b(60 * c.Dp.rg, "min", c.CD); c.sCa = new b(60 * c.$ba.rg, "hr", c.CD); c.vg = d(0);}, function(f) {var c; c = {aa: function(a) {return "number" === typeof a;}, Ad: function(a) {return "object" === typeof a;}, $c: function(a) {return "string" === typeof a;}, R: function(a) {return "undefined" === typeof a;}, A6a: function(a) {return "boolean" === typeof a;}, rb: function(a) {return "function" === typeof a;}, Ja: function(a) {return null === a;}, isArray: function(a) {return "[object Array]" === Object.prototype.toString.call(a);}, isFinite: function(a) {return isFinite(a) && !isNaN(parseFloat(a));}, has: function(a, b) {return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a, b);}, bbb: function(a) {var b, d; d = []; if(!c.Ad(a)) throw new TypeError("Object.pairs called on non-object"); for(b in a) a.hasOwnProperty(b) && d.push([b, a[b]]); return d;}}; c.wc = c.forEach = function(a, b, d) {if(null === a || "undefined" === typeof a) return a; if(a.length === +a.length) for(var k = 0, h = a.length; k < h; k++)b.call(d, a[k], k, a); else for(k in a) c.has(a, k) && b.call(d, a[k], k, a); return a;}; f.K = c;}, function(f, c, a) {Object.defineProperty(c, "__esModule", {value: !0}); f = a(3); a = a(133); c.Kub = !0; c.ke = f.da.get(a.pK); c.ha = c.ke.assert.bind(c.ke); c.Fub = c.ke.XRa.bind(c.ke); c.Gub = c.ke.YRa.bind(c.ke); c.OXa = c.ke.cSa.bind(c.ke); c.PF = c.ke.fSa.bind(c.ke); c.Jub = c.ke.dSa.bind(c.ke); c.Hub = c.ke.aSa.bind(c.ke); c.dO = c.ke.$Ra.bind(c.ke); c.qw = c.ke.eSa.bind(c.ke); c.Iub = c.ke.bSa.bind(c.ke); c.Eub = c.ke.VRa.bind(c.ke); c.Zka = c.ke.ZRa.bind(c.ke); c.Lub = c.ke.x6a.bind(c.ke);}, function(f) {var c, a; c = a = {SG: function(a) {for(var b in a) a.hasOwnProperty(b) && (c[b] = a[b]);}, reset: function() {c = a;}}; f.K = c;}, function(f, c, a) {var b, d, k, h; b = a(75); d = a(941); k = a(235); h = a(940); f = function() {function a(a) {this.Kp = !1; a && (this.cf = a);} a.prototype.nf = function(b) {var c; c = new a(); c.source = this; c.tx = b; return c;}; a.prototype.subscribe = function(a, b, c) {var g; g = this.tx; a = d.hjb(a, b, c); g ? g.call(a, this.source) : a.add(this.source || !a.uj ? this.cf(a) : this.MY(a)); if(a.uj && (a.uj = !1, a.$x)) throw a.ay; return a;}; a.prototype.MY = function(a) {try {return this.cf(a);} catch(n) {a.$x = !0; a.ay = n; a.error(n);} }; a.prototype.forEach = function(a, c) {var g; g = this; c || (b.root.cv && b.root.cv.config && b.root.cv.config.Promise ? c = b.root.cv.config.Promise : b.root.Promise && (c = b.root.Promise)); if(!c) throw Error("no Promise impl found"); return new c(function(b, c) {var d; d = g.subscribe(function(b) {if(d) try {a(b);} catch(y) {c(y); d.unsubscribe();} else a(b);}, c, b);});}; a.prototype.cf = function(a) {return this.source.subscribe(a);}; a.prototype[k.observable] = function() {return this;}; a.prototype.Rbb = function() {for(var a = [], b = 0; b < arguments.length; b++)a[b - 0] = arguments[b]; return 0 === a.length ? this : h.Sbb(a)(this);}; a.prototype.oT = function() {var a, c; c = this; a || (b.root.cv && b.root.cv.config && b.root.cv.config.Promise ? a = b.root.cv.config.Promise : b.root.Promise && (a = b.root.Promise)); if(!a) throw Error("no Promise impl found"); return new a(function(a, b) {var g; c.subscribe(function(a) {return g = a;}, function(a) {return b(a);}, function() {return a(g);});});}; a.create = function(b) {return new a(b);}; return a;}(); c.oa = f;}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); f = c.Ch || (c.Ch = {}); f[f.VBa = 0] = "FATAL"; f[f.ERROR = 1] = "ERROR"; f[f.Tea = 2] = "WARN"; f[f.jV = 3] = "INFO"; f[f.GW = 4] = "TRACE"; f[f.bAa = 5] = "DEBUG"; c.xba = "LogFieldBuilderFactorySymbol"; c.Jb = "LoggerFactorySymbol"; c.Pr = {};}, function(f) {f.K = {wa: {Ag: 0, Mr: 1, hs: 2, Oe: 3, Xy: 4, Wy: 5, Bn: 6, name: "STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")}, Nlb: {ls: 0, trb: 1, name: ["STARTUP", "STEADY"]}, GK: {Ag: 0, srb: 1, uKa: 2, name: ["STARTING", "STABLE", "UNSTABLE"]}, u: {AUDIO: 0, VIDEO: 1, name: ["AUDIO", "VIDEO"]}, $f: {AUDIO: 0, VIDEO: 1, name: ["AUDIO", "VIDEO"]}, Ne: {URL: 0, dv: 1, oba: 2, up: 3, name: ["URL", "SERVER", "LOCATION", "NETWORK"]}, Uc: {HAVE_NOTHING: 0, Ur: 1, vn: 2, hD: 3, name: ["HAVE_NOTHING", "HAVE_SOMETHING", "HAVE_MINIMUM", "HAVE_ENOUGH"]}, xqb: {ls: 0, Oqb: 1, WIa: 2, tnb: 3, dqb: 4, name: ["startup", "rebuffer", "seek", "dlfail", "perfprobe"]}, ge: {C9: 0, UBa: 1, vqb: 2, NEXT: 3, Zpb: 4, Krb: 5, unb: 6, hEa: 7, ls: 8, ERROR: 9, cW: 10, oHa: 11, ST: 12, HDa: 13, GDa: 14, ZIa: 15, YIa: 16, name: "maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")}, jnb: {up: 0, Amb: 1, name: ["NETWORK", "DECODE"]}, XIa: {gAa: "delayedSeamless", Jnb: "hideLongTransition"}};}, function(f, c, a) {var g; function b(a) {return null !== a && void 0 !== a;} function d(a) {return typeof a == c.TJa;} function k(a, b) {for(var c in a) a.hasOwnProperty(c) && b(c, a[c]);} function h(a, c, g) {var d, h, p; if(c) if(g) {d = g.tB; h = g.prefix; p = g.No; k(c, function(c, g) {if(!p || b(g)) a[(h || "") + (d ? c.toLowerCase() : c)] = g;});} else k(c, function(b, c) {a[b] = c;}); return a;} Object.defineProperty(c, "__esModule", {value: !0}); g = a(6); c.Db = function() {}; c.wj = 1E3; c.JD = Object.create; c.OFa = Object.keys; c.oK = Date.now; c.An = Math.floor; c.HEa = Math.ceil; c.Bf = Math.round; c.Ek = Math.max; c.Af = Math.min; c.yD = Math.random; c.xD = Math.abs; c.Qba = Math.pow; c.ai = "$attributes"; c.LT = "$children"; c.MT = "$name"; c.kp = "$text"; c.Gxa = "$parent"; c.TC = "$sibling"; c.TJa = "string"; c.Orb = "number"; c.Nrb = "function"; c.SJa = "object"; c.cb = b; c.Ad = function(a) {return typeof a == c.SJa;}; c.$c = d; c.Kt = function(a) {return d(a) && a;}; c.ed = function(a) {return parseInt(a, 10);}; c.xl = function(a, b, c) {return a >= b ? a <= c ? a : c : b;}; c.ic = k; c.va = h; c.XI = function(a) {return h({}, a);}; c.Kg = function(a) {var d; for(var c = 0; c < arguments.length; ++c); for(var c = 0, g = arguments.length; c < g;) {d = arguments[c++]; if(b(d)) return d;} }; c.NRa = function(a) {for(var b, c = !0, g; c;)for(c = !1, b = a.length; --b;)g = a[b], g.startTime < a[b - 1].startTime && (a[b] = a[b - 1], a[b - 1] = g, c = !0);}; c.jt = function(a, b) {if(a.length == b.length) {for(var c = a.length; c--;)if(a[c] != b[c]) return !1; return !0;} return !1;}; c.createElement = function(a, b, c, d) {var h; h = g.kd.createElement(a); b && (h.style.cssText = b); c && (h.innerHTML = c); d && k(d, function(a, b) {h.setAttribute(a, b);}); return h;}; c.FF = function(a) {var b; b = ""; k(a, function(a, c) {b += (b ? ";" : "") + a + ":" + c;}); return b;}; c.ZO = function(a, b, g) {var d; a / b > g ? (d = c.Bf(b * g), a = b) : (d = a, a = c.Bf(a / g)); return {width: d, height: a};}; c.V2 = function() {var b, c; function a(a) {return b[a];} b = {"&": "&amp;", "'": "&#39;", '"': "&quot;", "<": "&lt;", ">": "&gt;"}; c = /[&'"<>]/g; return function(b) {return b.replace(c, a);};}(); c.xc = function(a) {var b, c; if(a) {b = a.stack; c = a.number; a = "" + a; b ? (b = "" + b, 0 != b.indexOf(a) && (b = a + "\n" + b)) : b = a; c && (b += "\nnumber:" + c); return b;} }; c.v = {Zg: 1001, ye: 1003, XBa: 1701, caa: 1713, YBa: 1715, WBa: 1721, xK: 1723};}, function(f, c, a) {Object.defineProperty(c, "__esModule", {value: !0}); f = a(112); c.is = f.rp; c.cb = function(a) {return c.is.Lf(a);}; c.Ad = function(a) {return c.is.Uv(a);}; c.V6a = function(a) {return c.is.mN(a);}; c.isArray = function(a) {return c.is.Wn(a);}; c.xpa = function(a) {return c.is.Jia(a);}; c.aa = function(a, d, k) {return c.is.If(a, d, k);}; c.H6a = function(a, d, k) {return c.is.pZ(a, d, k);}; c.Jt = function(a, d, k) {return c.is.Xn(a, d, k);}; c.npa = function(a) {return c.is.Qz(a);}; c.sxb = function(a) {return c.is.vQa(a);}; c.vxb = function(a) {return c.is.wQa(a);}; c.ypa = function(a) {return c.is.Kia(a);}; c.$c = function(a) {return c.is.fh(a);}; c.Kt = function(a) {return c.is.ti(a);}; c.dpa = function(a) {return c.is.Oz(a);}; c.rb = function(a) {return c.is.Pz(a);};}, function(f, c, a) {var d, k; function b(a, g) {var h; h = c.yp[0]; h == g && (h = c.yp[1]); h ? h.close(function() {b(a, g);}) : a && a(d.kb);} Object.defineProperty(c, "__esModule", {value: !0}); d = a(5); f = a(17); k = a(9); a = a(33); c.ida = b; c.jL = function(a, b) {switch(a) {case c.jW: c.jda.push(b); return; case c.kW: c.kda.push(b); return;}k.ha(!1);}; c.yp = []; c.jda = []; c.kda = []; c.jW = 1; c.kW = 3; f = f.$ja(); c.$u = {nW: f, aIa: f, VHa: 0, $Ha: void 0, hL: void 0}; c.qda = a.Ha.mwa; c.Ze = a.Ha.zF; c.fL = a.Ha.iTa; c.pW = a.Ha.Q6; c.oW = a.Ha.$R; c.xj = a.Ha.BR; c.hda = a.Ha.wSa; c.iL = a.Ha.Vpa; c.gL = a.Ha.closed; c.WHa = a.Ha.uYa; c.gIa = a.Ha.bp; c.oda = a.Ha.dhb; c.iIa = a.Ha.BJ; c.hIa = a.Ha.Du; c.YHa = a.Ha.q7a; c.fIa = a.Ha.Zva; c.mda = a.Ha.wQ; c.nda = a.Ha.fgb; c.lda = a.Ha.TG; c.rda = a.Ha.Zib; c.gda = a.Ha.TRa; c.fda = a.Ha.SRa; c.dIa = a.Ha.u7; c.eIa = a.Ha.Ifb; c.cIa = a.Ha.Gfb; c.bIa = a.Ha.Ffb; c.ZHa = a.Ha.I8a; c.pda = a.Ha.ln; c.AV = a.BV.Nja; c.gpb = a.BV.mjb; c.FV = a.Vba.Cra; c.EV = a.Vba.Yk; c.dda = "network"; c.cda = "media"; c.THa = "timedtext"; c.RD = a.Vy.FIa; c.eda = a.Vy.Gda; c.mW = a.Vy.GIa; c.lW = a.Vy.Fda; c.Ty = a.Eh.iJa; c.Gk = a.Eh.Wda; c.km = a.Eh.ms; c.Sy = a.Eh.wW; c.SD = a.Eh.vW; c.Ak = a.aK.jca; c.Nr = a.aK.Mr; c.L9 = a.aK.gJa; c.fi = a.lm.dE; c.Dn = a.lm.Oe; c.zp = a.lm.Bn; c.bv = a.lm.AU; c.UHa = "playback";}, function(f, c, a) {var d, k, h, g; function b() {return c.FL.oQ.pa(g.Qa);} Object.defineProperty(c, "__esModule", {value: !0}); f = a(452); d = a(42); k = a(29); h = a(114); g = a(7); c.Afa = f.yb.get(d.Pi); c.FL = f.yb.get(k.Xf); c.NMa = f.yb.get(h.Cy); c.Dy = c.FL.id; c.Ya = function() {return c.FL.Xd().pa(g.Qa);}; c.ht = function() {return c.Afa.jg.pa(g.Dp);}; c.zUa = function() {return c.FL.oQ.pa(g.Dp);}; c.$ja = function() {return c.NMa.GF();}; c.yUa = b; c.eA = function() {return c.Afa.jg.pa(g.Qa);}; c.aka = function() {return b();};}, function(f, c, a) {var b, d, k, h; Object.defineProperty(c, "__esModule", {value: !0}); b = a(9); d = a(14); k = a(6); h = a(15); c.ic = c.ic || function(a, b) {for(var c in a) a.hasOwnProperty(c) && b(c, a[c]);}; c.va = c.va || function(a, b, h) {var g, n, p; if(b) if(h) {g = h.tB; n = h.prefix; p = h.No; c.ic(b, function(b, c) {if(!p || d.cb(c)) a[(n || "") + (g ? b.toLowerCase() : b)] = c;});} else c.ic(b, function(b, c) {a[b] = c;}); return a;}; c.RTa = function(a, b, c, d) {var g; if(a) {g = a[b]; h.rb(g) && (c = g.apply(a, k.slice.call(arguments, 3)));} }; c.Qia = function(a) {for(var b = {}, c = a.length; c--;)b[a[c]] = !0; return b;}; c.ed = c.ed || function(a) {return parseInt(a, 10);}; c.$yb = function(a) {return /^true$/i.test(a);}; c.wta = function(a, b) {return k.Bf(a + k.yD() * (b - a));}; c.dT = function(a) {return JSON.stringify(a, null, "  ");}; c.V2 = function() {var c, d; function a(a) {b.ha(void 0 !== c[a]); return c[a];} c = {"&": "&amp;", "'": "&#39;", '"': "&quot;", "<": "&lt;", ">": "&gt;"}; d = /[&'"<>]/g; return function(b) {return b.replace(d, a);};}(); c.trim = function() {var a; a = /^\s+|\s+$/gm; return function(b) {return b.replace(a, "");};}(); c.D8a = function(a) {return Array.isArray(a) ? a : [a];}; c.xc = c.xc || function(a) {var b, c, g; if(a) {b = a.stack; c = a.number; g = a.message; g || (g = "" + a); b ? (a = "" + b, 0 != a.indexOf(g) && (a = g + "\n" + a)) : a = g; c && (a += "\nnumber:" + c); return a;} }; c.Fk = function(a) {return h.aa(a) ? a.toFixed(0) : "";}; c.HD = function(a) {return h.aa(a) ? (a / 1E3).toFixed(0) : "";}; c.xFa = function(a) {return h.aa(a) ? a.toFixed() : "";}; c.kVa = function(a) {for(var b = [], c = 0; c < a.length; c++)b[c] = a[c]; return b;};}, function(f, c, a) {var b, d, k, h, g, p, n, r, u, v, B, z, y, w, x; Object.defineProperty(c, "__esModule", {value: !0}); f = a(364); b = a(4); d = a(5); a(27); k = a(17); h = a(3); g = a(95); p = a(56); n = a(9); r = a(106); u = a(2); v = a(704); c.T3 = {}; B = h.Gc("loadAsync"); z = []; w = h.da.get(g.ns); x = p.Jc.Bg; c.Yd = function(a, b) {n.ha(!y); z.push({P7a: b, vm: a});}; c.pH = f.bCa(function(a) {var h, n; function g(b) {c.S3 = k.Ya(); g = d.Db; n.wf(); a(b);} h = 0; n = new r.$y(b.config.hSa, function() {B.error("Load timed out"); g({errorCode: h, S: u.v.Xxa});}); v.Pcb(z).then(function(a) {function b() {var c, p, k; if(c = a.shift()) try {p = c.P7a; h = k = c.vm; n.wf(); n.lo(); p(function(a) {a.N ? b() : (a.errorCode = a.errorCode || k, w.mark(x.$xa), g(a));});} catch(X) {B.error("Exception while loading component", X); w.mark(x.Zxa); g({errorCode: k, S: u.v.Wxa, Ga: "" + X});} else w.mark(x.Yxa), g(d.kb);} c.qQ = k.Ya(); w.mark(x.aya); y = !0; b();}, function(a) {g({errorCode: a.vm, S: a.kka});});}); c.qH = function(a) {n.ha(void 0 === c.T3[a]); c.T3[a] = k.Ya();};}, function(f, c, a) {(function(b) {var x, C, F, l, M, m, O; function c(a, b) {if(a === b) return 0; for(var c = a.length, g = b.length, d = 0, h = Math.min(c, g); d < h; ++d)if(a[d] !== b[d]) {c = a[d]; g = b[d]; break;} return c < g ? -1 : g < c ? 1 : 0;} function k(a) {return b.K9 && "function" === typeof b.K9.isBuffer ? b.K9.isBuffer(a) : !(null == a || !a.Gsb);} function h(a) {return k(a) || "function" !== typeof b.ArrayBuffer ? !1 : "function" === typeof ArrayBuffer.isView ? ArrayBuffer.isView(a) : a ? a instanceof DataView || a.buffer && a.buffer instanceof ArrayBuffer ? !0 : !1 : !1;} function g(a) {if(x.rb(a)) return l ? a.name : (a = a.toString().match(m)) && a[1];} function p(a) {return "string" === typeof a ? 128 > a.length ? a : a.slice(0, 128) : a;} function n(a) {if(l || !x.rb(a)) return x.aH(a); a = g(a); return "[Function" + (a ? ": " + a : "") + "]";} function r(a, b, c, g, d) {throw new M.AssertionError({message: c, Rv: a, Rl: b, tx: g, qhb: d});} function u(a, b) {a || r(a, !0, b, "==", M.ok);} function v(a, b, g, d) {var n; if(a === b) return !0; if(k(a) && k(b)) return 0 === c(a, b); if(x.dH(a) && x.dH(b)) return a.getTime() === b.getTime(); if(x.spa(a) && x.spa(b)) return a.source === b.source && a.global === b.global && a.multiline === b.multiline && a.lastIndex === b.lastIndex && a.ignoreCase === b.ignoreCase; if(null !== a && "object" === typeof a || null !== b && "object" === typeof b) {if(!h(a) || !h(b) || Object.prototype.toString.call(a) !== Object.prototype.toString.call(b) || a instanceof Float32Array || a instanceof Float64Array) {if(k(a) !== k(b)) return !1; d = d || {Rv: [], Rl: []}; n = d.Rv.indexOf(a); if(-1 !== n && n === d.Rl.indexOf(b)) return !0; d.Rv.push(a); d.Rl.push(b); return B(a, b, g, d);} return 0 === c(new Uint8Array(a.buffer), new Uint8Array(b.buffer));} return g ? a === b : a == b;} function B(a, b, c, g) {var d, h, n; if(null === a || void 0 === a || null === b || void 0 === b) return !1; if(x.opa(a) || x.opa(b)) return a === b; if(c && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b)) return !1; d = "[object Arguments]" == Object.prototype.toString.call(a); h = "[object Arguments]" == Object.prototype.toString.call(b); if(d && !h || !d && h) return !1; if(d) return a = F.call(a), b = F.call(b), v(a, b, c); d = O(a); n = O(b); if(d.length !== n.length) return !1; d.sort(); n.sort(); for(h = d.length - 1; 0 <= h; h--)if(d[h] !== n[h]) return !1; for(h = d.length - 1; 0 <= h; h--)if(n = d[h], !v(a[n], b[n], c, g)) return !1; return !0;} function z(a, b, c) {v(a, b, !0) && r(a, b, c, "notDeepStrictEqual", z);} function y(a, b) {if(!a || !b) return !1; if("[object RegExp]" == Object.prototype.toString.call(b)) return b.test(a); try {if(a instanceof b) return !0;} catch(Y) {} return Error.isPrototypeOf(b) ? !1 : !0 === b.call({}, a);} function w(a, b, c, g) {var d, h, n; if("function" !== typeof b) throw new TypeError('"block" argument must be a function'); "string" === typeof c && (g = c, c = null); try {b();} catch(V) {d = V;} b = d; g = (c && c.name ? " (" + c.name + ")." : ".") + (g ? " " + g : "."); a && !b && r(b, c, "Missing expected exception" + g); d = "string" === typeof g; h = !a && x.ZP(b); n = !a && b && !c; (h && d && y(b, c) || n) && r(b, c, "Got unwanted exception" + g); if(a && b && c && !y(b, c) || !a && b) throw b;} x = a(582); C = Object.prototype.hasOwnProperty; F = Array.prototype.slice; l = function() {return "foo" === function() {}.name;}(); M = f.K = u; m = /\s*function\s+([^\(\s]*)\s*/; M.AssertionError = function(a) {var b; this.name = "AssertionError"; this.Rv = a.Rv; this.Rl = a.Rl; this.tx = a.tx; this.message = a.message ? a.message : p(n(this.Rv)) + " " + this.tx + " " + p(n(this.Rl)); b = a.qhb || r; Error.captureStackTrace ? Error.captureStackTrace(this, b) : (a = Error(), a.stack && (a = a.stack, b = g(b), b = a.indexOf("\n" + b), 0 <= b && (a = a.substring(a.indexOf("\n", b + 1) + 1)), this.stack = a));}; x.l6a(M.AssertionError, Error); M.fail = r; M.ok = u; M.equal = function(a, b, c) {a != b && r(a, b, c, "==", M.equal);}; M.q5 = function(a, b, c) {a == b && r(a, b, c, "!=", M.q5);}; M.vYa = function(a, b, c) {v(a, b, !1) || r(a, b, c, "deepEqual", M.vYa);}; M.wYa = function(a, b, c) {v(a, b, !0) || r(a, b, c, "deepStrictEqual", M.wYa);}; M.F$a = function(a, b, c) {v(a, b, !1) && r(a, b, c, "notDeepEqual", M.F$a);}; M.Iyb = z; M.Yhb = function(a, b, c) {a !== b && r(a, b, c, "===", M.Yhb);}; M.G$a = function(a, b, c) {a === b && r(a, b, c, "!==", M.G$a);}; M["throws"] = function(a, b, c) {w(!0, a, b, c);}; M.cvb = function(a, b, c) {w(!1, a, b, c);}; M.axb = function(a) {if(a) throw a;}; O = Object.keys || function(a) {var b, c; b = []; for(c in a) C.call(a, c) && b.push(c); return b;};}.call(this, a(169)));}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); c.fe = "IsTypeSymbol";}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); c.ze = "UtilitiesSymbol";}, function(f, c, a) {f.K = {cCa: a(585), Ea: a(31).Ea, jw: a(31).jw, uH: a(31).uH, t7: a(31).t7, RFa: a(584), Cqb: a(195), JIa: a(583), QKa: a(579)};}, function(f, c, a) {f.K = {EventEmitter: a(588), eD: a(587)};}, function(f, c) {Object.defineProperty(c, "__esModule", {value: !0}); c.bb = function(a) {return t.setTimeout(a, 0);};}, function(f, c, a) {var r, u, v, B, z, y, w, x, C, F, l, M, m, O, q; function b(a) {var b, c, g, d; b = a.url.split("?"); c = b[0]; g = "sc=" + a.sfb; d = a.uja ? "random=" + (1E17 * M.yD()).toFixed(0) : ""; c = b[1] ? c + ("?" + b[1] + "&" + g) : c + ("?" + g); c = c + (d ? "&" + d : ""); a.wb && !z.y3(c) && (a = v.config && v.config.n_) && (c = a.replace("{URL}", c).replace("{EURL}", encodeURIComponent(c))); return c;} function d(a) {var b, c, g, d; b = a.url.split("?"); c = b[0]; g = "bb_reason=" + a.reason; d = a.uja ? "random=" + (1E17 * M.yD()).toFixed(0) : ""; c = b[1] ? c + ("?" + b[1] + "&" + g) : c + ("?" + g); c = c + (d ? "&" + d : ""); a.wb && !z.y3(c) && (a = v.config && v.config.n_) && (c = a.replace("{URL}", c).replace("{EURL}", encodeURIComponent(c))); return c;} function k(a, b) {var c, g, d, n; c = a.url.split("?"); g = c[0]; d = h(a); d && (b.pr = d, g = "/" == g[g.length - 1] ? g + "range/" : g + "/range/", g += d); d = a.uja ? "random=" + (1E17 * M.yD()).toFixed(0) : ""; v.config.ko && a.JS && (n = "sc=" + a.JS, d = n + (d ? "&" + d : "")); g = c[1] ? g + ("?" + c[1] + (d ? "&" + d : "")) : g + (d ? "?" + d : ""); a.wb && !z.y3(g) && (a = v.config && v.config.n_) && (g = a.replace("{URL}", g).replace("{EURL}", encodeURIComponent(g))); b.url = g;} function h(a) {var b; b = a.offset; if(void 0 !== b) return F.dO(b), void 0 !== a.length ? (a = a.offset + a.length - 1, F.dO(a), F.ha(b <= a), b + "-" + a) : b + "-";} function g() {return !1 !== M.Yg.onLine;} function p(a, b, g, d) {var h, n; h = d.ata; n = d.headers; a.open(h ? "POST" : "GET", b, !g); switch(d.responseType) {case c.YA: a.responseType = "arraybuffer"; break; case c.zoa: l.RTa(a, "overrideMimeType", void 0, "text/xml");}h && (b = {"Content-Type": w.$c(h) ? "text/plain" : "application/x-octet-stream"}, n = n ? w.va(b, n) : b); n && w.ic(n, function(b, c) {a.setRequestHeader(b, c);}); d.withCredentials && (a.withCredentials = !0); void 0 !== a.msCaching && (a.msCaching = "disabled"); h ? a.send(h) : a.send();} function n(a, b) {switch(b.type) {case c.YA: return a.response || new ArrayBuffer(0); case c.zoa: return a.responseXML; default: return a.responseText;}} Object.defineProperty(c, "__esModule", {value: !0}); r = a(19); u = a(51); v = a(4); B = a(5); z = a(27); y = a(17); w = a(14); x = a(2); C = a(3); F = a(9); l = a(18); M = a(6); m = a(25); O = a(15); c.Wb = function() {var z, l, P, M; function a(a) {var b; try {b = a.url; O.ypa(b) ? 0 === b.indexOf("https") ? M.ssl++ : 0 === b.indexOf("http") ? M["non-ssl"]++ : M.invalid++ : M.invalid++;} catch(ma) {} } function h() {l.jc(c.W5a); l.jc(c.Aoa);} function f() {l.jc(c.X2); l.jc(c.Aoa);} z = C.Gc("Http"); l = new u.di(); P = 0; M = {ssl: 0, "non-ssl": 0, invalid: 0}; r.Yd(x.I.Waa, function(a) {v.config.pkb && (t.addEventListener("online", h), t.addEventListener("offline", f), c.W2 = g); a(B.kb);}); return {addEventListener: l.addListener, removeEventListener: l.removeListener, download: function(b, g) {var ba, ea, W, V, G, U, X, Y, N, t, ca; function d() {var a; d = w.Db; ca && (clearTimeout(ca), ca = null); l.removeListener(c.X2, f); N && (N.onloadstart = null, N.onreadystatechange = null, N.onprogress = null, N.onerror = null, N.onload = null, N = N.onabort = null); Y.N || (Y.S != x.v.Vr ? ba.warn("Download failed", ea, C.gm(Y)) : ba.trace("Download aborted", ea)); a = W; W = void 0; for(var b = a.length; b--;)(function() {var c; c = a[b]; m.bb(function() {c(Y);});}()); l.jc(c.U5a, Y, !0);} function h() {ca && (clearTimeout(ca), ca = null); ca = setTimeout(B, t ? X : U);} function r(a, b, c, g) {var h; Y.N = !1; Y.S = a; h = y.Ya(); Y.Pf.uf = Y.Pf.uf || h; Y.Pf.nk = Y.Pf.nk || h; 0 < b && (Y.mh = Y.xb = b); c && (Y.Ga = c); g && (Y.pk = g); a !== x.v.lD && a !== x.v.Ru && a !== x.v.nD || !N || (N.onabort = null, M()); d();} function u(a) {var b, c; try {c = a.getResponseHeader("X-Netflix.Retry.Server.Policy"); c && (b = JSON.parse(c));} catch(tb) {} return b;} function f() {c.W2() || r(x.v.lD);} function B() {r(t ? x.v.Ru : x.v.nD);} function M() {try {N && N.abort();} catch(sb) {} } function fa() {r(x.v.Vr);} F.ha(g); ba = b.G && b.G.log && C.jf(b.G, "Http") || z; ea = {Num: P++}; W = [g]; V = {}; U = b.M_ || v.config.M_; X = b.o5 || v.config.o5; a(b); Y = function() {var a, c, g; a = w.Db; c = w.Db; g = w.Db; return {request: b, type: b.responseType, Pf: V, abort: M, timeout: B, oia: function(a) {d !== w.Db && (F.ha(W, "Callback should be added before download starts."), W && W.unshift(a));}, gsa: function(a) {g(a);}, jsa: function(b) {a(b);}, oj: function(a) {c(a);}, ugb: function(a) {g = a;}, Egb: function(b) {a = b;}, sgb: function(a) {c = a;}};}(); m.bb(function() {var a, g; if(O.ypa(b.url)) try {if(k(b, Y), G = Y.url, F.PF(G), ea.Url = G, c.W2()) {N = new XMLHttpRequest(); a = v.config.skb && "undefined" != typeof N.onloadstart; a && (N.onloadstart = function() {var a; a = y.Ya(); V.requestTime = a; Y.gsa({mediaRequest: b, timestamp: a});}); N.onreadystatechange = function() {if(2 == N.readyState) {t = !0; V.uf = y.Ya(); N.onreadystatechange = null; h(); for(var a = Y, c = N.getAllResponseHeaders().split("\n"), g = c.length, d, n, p = {}; g--;)if(d = c[g]) n = d.indexOf(": "), 1 <= n && n < d.length - 1 && (p[d.substr(0, n)] = d.substr(n + 2)); a.headers = p; Y.jsa({timestamp: V.uf, connect: !0, mediaRequest: b, start: V.requestTime, rt: [V.uf - V.requestTime]});} }; N.onprogress = function(a) {t = !0; V.xq = a.loaded; h(); a = {mediaRequest: b, bytes: a.loaded, tempstamp: y.Ya(), bytesLoaded: a.loaded}; Y.jsa(a);}; N.onload = function() {var a; if(d !== w.Db) {F.ha(void 0 === V.nk); V.nk = y.Ya(); V.uf = V.uf || V.nk; if(200 <= N.status && 299 >= N.status) if(a = n(N, Y), b.o) try {Y.content = b.o(a, Y); Y.N = !0; Y.parsed = !0; Y.raw = a;} catch(tb) {ba.warn("Exception parsing response", tb, ea); r(x.v.eV, void 0, w.xc(tb));} else Y.parsed = !1, Y.content = a, Y.N = !0; else N.status == q ? r(x.v.xy, N.status) : r(x.v.mD, N.status, N.response, u(N)); d();} }; N.onabort = fa; N.onerror = function() {var a, b; a = N.status; "undefined" !== typeof v.config.Ima && (a = v.config.Ima); if(0 < a) if(a == q) r(x.v.xy, a); else {try {b = N.responseText;} catch(rc) {} r(x.v.mD, a, b, u(N));} else r(x.v.yy);}; g = y.Ya(); p(N,G,!1,b);l.jc(c.V5a,Y,!0);a||(V.requestTime=g,Y.gsa({mediaRequest:b,timestamp:g}));h();l.addListener(c.X2,f);}else m.bb(r.bind(void 0,x.v.lD));}catch(cb){ba.error("Exception starting download",cb,ea);r(x.v.iV,void 0,w.xc(cb));}else r(x.v.oaa);});return Y;},$b:M,P$a:function(a){var b;b=new XMLHttpRequest();a=d(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},hhb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},Vcb:function(a){var b,c,g;b=new XMLHttpRequest();c=a.url;g=a.Scb;b.open("HEAD",c);b.timeout=Math.max(2*g.Z7a,v.config.c6);b.onreadystatechange=function(){2==b.readyState&&g&&g.Gi({url:c});};b.ontimeout=b.onerror=function(){g&&g.u5({url:c});};b.send();}};}();c.Ywb=b;c.Vwb=d;c.Xwb=k;c.Wwb=h;c.W2=B.HIa;c.Zwb=g;c.msb=p;c.lsb=n;c.V5a=1;c.U5a=2;c.W5a=3;c.X2=4;c.Aoa=5;c.yoa=1;c.zoa=2;c.YA=3;q=420;t._cad_global||(t._cad_global={});t._cad_global.http=c.Wb;},function(f,c,a){var v,B,z,y,w,x,C;function b(){var a,b;if(a=c.t2.vha)return a;a=x.UK.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=d(a);return c.t2.vha=a;}function d(a){for(var b=/[+]/g,c=(a||"").split("&"),g={},d,h=0;h<c.length;h++)a=y.trim(c[h]),d=a.indexOf("="),0<=d?g[decodeURIComponent(a.substr(0,d).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(d+1).replace(b,"%20")):g[a.toLowerCase()]=null;return g;}function k(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function h(a){return k(a.constructor);}function g(a){return x.sort.call(a,function(a,b){return a-b;});}function p(a){for(var b=0,c=a.length;c--;)b+=a[c];return b;}function n(a){return(a=a.match(/Chrome\/(\d*)\./))&&a[1]|0;}function r(a){return(a=a.match(/Firefox\/(\d*)\./))&&a[1]|0;}function u(){return C.rb(x.Yg.requestMediaKeySystemAccess);}Object.defineProperty(c,"__esModule",{value:!0});v=a(5);B=a(9);z=a(3);y=a(18);w=a(14);x=a(6);C=a(15);c.hka=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;return!0;};c.jt=c.jt||function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};c.bAb=function(a){var b;if(a){b=a.length;if(b)return b=y.wta(0,b-1),a[b];}};c.aVa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};c.iRa=function(a,b){function c(){a.removeEventListener("loadedmetadata",c);b.apply(this,arguments);}a.addEventListener("loadedmetadata",c);};c.ydb=function(){var a,b,c,g,d,h;a=x.kd.cookie.split("; ");b=a.length;h={};for(c=0;c<b;c++)if(g=y.trim(a[c]))d=g.indexOf("="),0<d&&(h[g.substr(0,d)]=g.substr(d+1));return h;};c.twb=b;c.t2=Object.assign(b,{vha:void 0});c.pR=d;c.XH=function(a){var b;b="";w.ic(a,function(a,c){b&&(b+="&");B.ha(w.$c(c)||C.aa(c)||C.dpa(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};c.getFunctionName=k;c.kna=h;c.Xra=function(a){var b;b="";C.isArray(a)||C.xpa(a)?b=x.reduce.call(a,function(a,b){return a+(32<=b&&128>b?x.MJa(b):".");},""):w.$c(a)?b=a:w.ic(a,function(a,c){b+=(b?", ":"")+"{"+a+": "+(C.rb(c)?k(c)||"function":c)+"}";});return"["+h(a)+" "+b+"]";};c.xzb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};c.FF=c.FF||function(a){var b;b="";w.ic(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};c.nxb=function(a,b){var c;c=a[0];if(b<=c[0])return c.slice(1);for(var g=1,d;d=a[g++];){if(b<=d[0]){a=(b-c[0])/(d[0]-c[0]);b=[];for(g=1;g<c.length;g++)b.push((c[g]||0)+a*((d[g]||0)-(c[g]||0)));return b;}c=d;}return c.slice(1);};c.zlb=function(a,b){var d;for(var c={},g=0;g<b.length;g++){d=b[g];if("string"!=typeof d&&"number"!=typeof d)return!1;c[b[g]]=1;}for(g=0;g<a.length;g++)if(d=a[g],!c[d])return!1;return!0;};c.nya=function(a,b){0>a.indexOf(b)&&a.push(b);};c.PT=g;c.Blb=p;c.w9=function(a,b){var c,g,d,h;c=-1;g=a.length;if(1===arguments.length){for(;++c<g&&!(null!=(d=a[c])&&d<=d);)d=void 0;for(;++c<g;)null!=(h=a[c])&&h>d&&(d=h);}else{for(;++c<g&&!(null!=(d=b.call(a,a[c],c))&&d<=d);)d=void 0;for(;++c<g;)null!=(h=b.call(a,a[c],c))&&h>d&&(d=h);}return d;};c.Alb=function(a,b){var c,g,d,h;c=-1;g=a.length;if(1===arguments.length){for(;++c<g&&!(null!=(d=a[c])&&d<=d);)d=void 0;for(;++c<g;)null!=(h=a[c])&&d>h&&(d=h);}else{for(;++c<g&&!(null!=(d=b.call(a,a[c],c))&&d<=d);)d=void 0;for(;++c<g;)null!=(h=b.call(a,a[c],c))&&d>h&&(d=h);}return d;};c.GB=function(a){return C.rb(a.then)?a:new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};c.Nvb=function(a,b){var d,h,n,p,k,r;function c(a){0>d.indexOf(a)&&C.aa(a)&&d.push(a);}a=a.slice();g(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];h=b.length;try{for(;h--;){k=""+b[h];r=w.ed(k);switch(k[k.length-1]){case"-":for(n=a.length;n--;)if(p=a[n],p<r){c(p);break;}break;case"+":for(n=0;n<a.length;n++)if(p=a[n],p>r){c(p);break;}break;default:0<=a.indexOf(r)&&c(r);}}}catch(N){}d.length||d.push(a[0]);g(d);return d;};c.ZO=c.ZO||function(a,b,c){var g;a/b>c?(g=x.Bf(b*c),a=b):(g=a,a=x.Bf(a/c));return{width:g,height:a};};c.Xtb=function(a,b,c){for(var g=[],d=0;d<b;d++)g.push(x.Qba(a[d]-c,2));return x.IEa(p(g)/g.length);};c.dt=function(a,b){var c;c=a.length;b=(c-1)*b+1;if(1===b)return a[0];if(b==c)return a[c-1];c=x.An(b);return a[c-1]+(b-c)*(a[c]-a[c-1]);};c.HRa=function(a){var b;b={useSetServerCertificateApi:!0};50<=n(x.Dh)&&w.va(a,b);};c.awb=n;c.btb=function(a,b,c){r(x.Dh)>=a&&w.va(b,c);};c.dwb=r;c.Pvb=function(a,b){if(!C.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=C.isArray(b)?b:[b];for(var c=a.length,g=0;g<c;g++)for(var d=0;d<b.length;d++)if(a[g].type==b[d])return a[g];throw Error("Box not found "+b);};c.amb=function(a){return a.Kq("trak/mdia/minf/stbl/stsd/"+v.Wya+"|"+v.Xya).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.w1.schm.qfb;})[0].Kq("schi/tenc").kH;};c.$lb=function(a){var c;function b(a,b){var g;g=c[a];c[a]=c[b];c[b]=g;}c=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return c;};c.qpa=u;c.cQ=function(a){return u()||a.vib;};c.ozb=function(a){return function(b){return b&&b[a];};};C.rb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var c,g;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);c=new ArrayBuffer(b-a);g=new Uint8Array(c);a=new Uint8Array(this,a,b-a);g.set(a);return c;});c.y3=function(a){return a&&0==a.toLowerCase().indexOf("https");};c.Y2a=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};c.xP=function(){var a,b,c;try{a=/playercore.*js/;b=x.im.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){c=x.Bf(b[0].duration);return JSON.stringify(c);}}catch(ea){}};c.rzb=function(a,b,c){if(a&&a.length)if(c&&c.rUa)try{a.forEach(function(a,g){var d;d=(g=c.rUa[g])&&g.media;d&&w.$c(d)?(d=z.Qk(d).buffer,a.media={arrayBuffer:d,length:d.byteLength,stream:b,wb:g.cdn}):z.log.warn("chunk not in cache",a.Sh);});}catch(ea){z.log.error("error reading cached chunks",ea);}else z.log.warn("chunks not available in cached stream",c.type);else z.log.warn("chunks not available in mediabuffer",c.type);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Rea=1]="Video";}(c.BD||(c.BD={})));(function(a){a[a.Ku=0]="Default";a[a.Wu=1]="Microsoft";}(c.Gu||(c.Gu={})));(function(a){a[a.Ku=0]="Default";a[a.ZT=1]="Cast";a[a.aU=2]="Chrome";a[a.Wu=3]="Microsoft";a[a.fea=4]="Safari";}(c.Si||(c.Si={})));(function(a){a[a.VD=0]="SD";a[a.zK=1]="HD";a[a.rL=2]="UHD";a[a.Yf=3]="DV";a[a.qp=4]="HDR10";a[a.ps=5]="VP9";}(c.Sd||(c.Sd={})));(function(a){a[a.wn=0]="Level_1_4";a[a.Tu=1]="Level_2_2";}(c.Wg||(c.Wg={})));c.isb=function(){};(function(a){a[a.Dqb=0]="Platform";a[a.ymb=1]="CurrentTitle";}(c.GKa||(c.GKa={})));c.pU="DeviceCapabilitiesSymbol";c.Tmb=function(){};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xf="ApplicationSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.wg="ConfigSymbol";},function(f,c,a){var u;function b(a,b){if(a.length==b.length){for(var c=a.length,d=0,h=g(a),n=g(b),p=0;p<c;p++)d+=a[p]*b[p];return(d-h*n/c)/c;}return!1;}function d(a){if(!Array.isArray(a))return!1;a=k(a);return Math.sqrt(a);}function k(a){var b;if(!Array.isArray(a))return!1;b=h(a);return g(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function h(a){return Array.isArray(a)?g(a)/a.length:!1;}function g(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function p(a,b,c){return Math.max(Math.min(a,c),b);}function n(a,b){return"number"===typeof a?a:b;}function r(a){return 1/(1+Math.exp(-a));}u=a(8);f.K={Ea:function(a,b,c){try{a.Ea(b,c);}catch(y){a.Tb("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",y,"Event:",c);}},jw:function(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;},xF:p,Uja:function(a,b,c,g){return{min:p(n(a.min,b),c,g),max:p(n(a.max,b),c,g),vq:p(a.vq||6E4,0,6E5),Kja:p(a.Kja||0,-3E5,3E5),scale:p(a.scale||6E4,0,3E5),Lua:p(a.Lua||0,-3E5,3E5),gamma:p(a.gamma||1,.1,10)};},ic:function(a,b){void 0!==a&&u.bbb(a).forEach(function(a){b(a[0],a[1]);});},ema:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(r(6*(b-(a.vq+(a.Kja||0)*(1-c)))/(a.scale+(a.Lua||0)*(1-c))),a.gamma));},o0a:function(a,b){return a.min+(a.max-a.min)*Math.pow(r(6*(b-a.vq)/a.scale),a.gamma);},D4a:g,g2a:h,V4a:k,x4a:d,cwb:b,bwb:function(a,c){var g;if(a.length==c.length){g=b(a,c);a=d(a);c=d(c);return g/(a*c);}return!1;},uH:function(a,b,c){return b.vXa?b.vXa(c):new a.Console("ASEJS","media|asejs",c);},t7:function(a){return a.length?"{"+a+"} ":"";},Kua:function(a,b,c){return{min:a.min*c+(1-c)*b.min,max:a.max*c+(1-c)*b.max,vq:a.vq*c+(1-c)*b.vq,scale:a.scale*c+(1-c)*b.scale,gamma:a.gamma*c+(1-c)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},jhb:r};},function(f,c,a){var g,p,n,r,u,v,B,z,y,w;function b(a,b){var c,g,d;try{c=n.Yg.plugins;g=c.length;for(d=0;d<g;d++)if(b.test(c[d][a]))return c[d];return!1;}catch(ea){}}function d(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(F){}return"true";}return"false";}function k(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:g.yn,robustness:"HW_SECURE_DECODE"},{contentType:g.yn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:g.Hy,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Yg.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var b;b=a.getConfiguration();a=b.videoCapabilities;(b=b.audioCapabilities)&&b.length&&(b=h(b),0<=b.indexOf("SW_SECURE_CRYPTO")&&(c.ei.cptheaacwv_sw_cryp=!0));a&&a.length?(c.ei.cpth264wv=!0,b=h(a),0<=b.indexOf("SW_SECURE_DECODE")&&(c.ei.cpth264wv_sw_dec=!0),0<=b.indexOf("HW_SECURE_DECODE")&&(c.ei.cpth264wv_hw_dec=!0)):c.ei.cpth264wv=!1;})["catch"](function(){c.ei.cpth264wv=!1;});}catch(C){}}function h(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(c,"__esModule",{value:!0});a(1).__exportStar(a(707),c);g=a(5);f=a(27);p=a(14);n=a(6);r=a(28);c.uxb=/CrOS/.test(n.Dh);c.Eda=/CrOS/.test(n.Dh);c.yca={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,enableCongestionService:!1,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:r.Si.aU};f.HRa(c.yca);c.eqb=b;c.fqb=d;c.Aca=d();r=c.Aca;if(!(u=c.Aca))a:{try{n.Yg.plugins.refresh();u=d();break a;}catch(x){}u=void 0;}v=!!b("name",/Chrome Remote Desktop Viewer/i);B=!!b("name",/Chromoting Viewer/i);a:{try{z=MediaSource.isTypeSupported(g.yn);break a;}catch(x){}z=void 0;}a:{try{y=p.createElement("VIDEO").canPlayType(g.yn);break a;}catch(x){}y=void 0;}a:{try{if(f.qpa())k();else{w=p.createElement("VIDEO").canPlayType(g.yn,"com.widevine.alpha");break a;}}catch(x){}w=void 0;}c.ei={wvp:r,wvp2:u,crdvp:v,cvp:B,itsh264:z,cpth264:y,cpth264wv:w};c.zca=function(){return{te:function(b,c,g,d){return new(a(706))(b,c,g,d);},request:a(705)};};c.Rtb=k;c.uwb=h;c.xca="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";},function(f,c){function a(){}function b(){}function d(){}function k(){}function h(){}function g(){}function p(){}function n(){}function r(){}Object.defineProperty(c,"__esModule",{value:!0});r.tQ="loadedtracks";r.sQ="loadedmetadata";r.loaded="loaded";r.error="error";r.closed="closed";r.Yk="currenttimechanged";r.pF="bufferedtimechanged";r.yO="durationchanged";r.FT="videosizechanged";r.sR="pausedchanged";r.T5="playingchanged";r.HO="endedchanged";r.$z="busychanged";r.eF="audiotracklistchanged";r.dF="audiotrackchanged";r.bp="timedtexttracklistchanged";r.Cr="timedtexttrackchanged";r.Du="trickplayframeschanged";r.$Q="mutedchanged";r.HT="volumechanged";r.IS="showsubtitle";r.YR="removesubtitle";r.KT="watermark";r.t3="isReadyToTransition";r.TG="inactivated";r.xS="segmentmaploaded";r.yS="segmentpresenting";r.KZ="autoplaywasallowed";r.LZ="autoplaywasblocked";c.Va=r;n.iva="serverTimeChanged";c.eba=n;p.mwa=1;p.zF=2;p.iTa=3;p.Q6=4;p.$R=5;p.BR=6;p.wSa=7;p.Vpa=8;p.closed=9;p.uYa=10;p.bp=11;p.dhb=12;p.BJ=13;p.Du=14;p.q7a=15;p.Zva=16;p.wQ=17;p.fgb=18;p.TG=19;p.Zib=20;p.TRa=21;p.$F=22;p.u7=23;p.zZ=24;p.Ifb=25;p.Gfb=26;p.Ffb=27;p.I8a=28;p.ln=29;p.aja=35;p.aw=36;p.SRa=37;p.wkb=38;p.rxa=39;p.m5=40;p.Hr=41;p.MSa=42;c.Ha=p;g.Nja=30;g.mjb=31;c.BV=g;h.Cra=51;h.paused=52;h.Yk=53;h.eC=54;c.Vba=h;k.iJa=0;k.Wda=1;k.ms=2;k.wW=3;k.vW=4;c.Eh=k;d.jca=1;d.Mr=2;d.gJa=3;c.aK=d;b.dE=1;b.Oe=2;b.Bn=3;b.AU=4;c.lm=b;a.FIa=1;a.Gda=2;a.GIa=3;a.Fda=4;c.Vy=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.bU="ConfigurableInputsSymbol";c.Cj="ValidatingConfigurableInputsSymbol";c.YC="ConfigNameSymbol";c.OK="InitParamsSymbol";},function(f,c,a){var k;function b(a){return k.sL.apply(this,arguments)||this;}function d(a){return new k.sp(a,c.ry);}Object.defineProperty(c,"__esModule",{value:!0});k=a(445);ha(b,k.sL);c.jmb=b;c.AN=d;c.ga=function(a){return new k.sp(a,c.Bk);};c.Ixb=function(a){return new k.sp(a,c.mba);};c.hyb=function(a){return new k.sp(a,c.SEa);};c.ry=new b(1,"b");c.Bk=new b(8*c.ry.rg,"B",c.ry);c.mba=new b(1024*c.Bk.rg,"KB",c.ry);c.SEa=new b(1024*c.mba.rg,"MB",c.ry);c.vg=d(0);},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.cs="named";c.RK="name";c.aE="unmanaged";c.tca="optional";c.pD="inject";c.Vu="multi_inject";c.qea="inversify:tagged";c.rea="inversify:tagged_props";c.WV="inversify:paramtypes";c.iAa="design:paramtypes";c.MD="post_construct";},function(f,c,a){var h,g;function b(a){return a&&a.Te&&a.inRange&&!a.qh&&!1!==a.fl;}function d(a,b,c){return!h.aa(a)||a<b?b:a>c?c:a;}function k(a){if(!(this instanceof k))return new k(a);this.Rf=h.aa(a)?a:void 0;}h=a(8);g=new(a(10)).Console("ASEJS_STREAM_SELECTOR","media|asejs");f.K={console:g,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",g.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Sw:b,v1:function(a,b,c){var n,p,k,r;function g(b){var g;g=a[b];if(!g.Te||!g.inRange||g.qh||c&&!c(g,b))return!1;r=b;return!0;}n=a.length;p=0;k=n;h.isArray(b)&&(p=d(b[0],0,n),k=d(b[1],0,n),b=b[2]);b=d(b,p-1,k);for(n=b-1;n>=p;--n)if(g(n))return r;for(n=b+1;n<k;++n)if(g(n))return r;return-1;},$9a:function(a,b){return Math.floor(a/(125*b)*1E3);},tTa:function(a,b){return Math.ceil(a/1E3*b*125);},Ema:function(a,b,c){var g;g=a.length-1;for(b=c?b.bind(c):b;0<=g;--g)b(a[g],g,a);},wxb:function(a,c){return!a.slice(c+1).some(b);},mm:k,LRa:function(a,b){var c;return a.some(function(a,g,d){c=a;return b(a,g,d);})?c:void 0;},vZ:function(a,b){var c;return a.some(function(a,g,d){c=g;return b(a,g,d);})?c:-1;},xF:d};},function(f){f.K=function(c,a){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.hi={oqa:"logblob",Ma:"manifest",Hc:"license",events:"events"};f=c.$e||(c.$e={});f[f.oD=20]="High";f[f.Iy=10]="Medium";f[f.$r=0]="Low";c.tW={$e:"reqPriority",PIa:"reqAttempt",QIa:"reqName"};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qi="PboCommandContextSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gi="SchedulerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pi="ClockSymbol";},function(f,c,a){var k,h,g,p;function b(a,b){var c;c=p.call(this,a,b)||this;c.qka=b;c.debug=a.debug;c.Z=a.Og.Cb(c.qka);return c;}function d(a,b){this.qka=b;this.j6={};this.Sq=a.Sq;this.WH=a.WH;this.PR=a.PR;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(441);h=a(0);g=a(132);c.RJa="isTestAccount";d.prototype.Jma=function(){};d.prototype.Yeb=function(a,b){this.j6[a]=[b,this.Sq.xua];};d.prototype.P6a=function(a){return k.KD.of(this.j6[a]).map(function(a){return a[1];}).bI(-1)<this.Sq.xua;};d.prototype.k4a=function(a){return k.KD.of(this.j6[a]).map(function(a){return a[0];}).bI(function(){throw Error("Invalid State Error");});};oa.Object.defineProperties(d.prototype,{xRa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Sq&&this.Sq.data){a=this.Sq.data[c.RJa];"undefined"!==typeof a&&(b=a.toString());a=this.WH.t6(b);a=a instanceof g.yl?!1:a;}else a=!1;return a;}}});p=d;p=f.__decorate([h.P(),f.__param(0,h.sg()),f.__param(1,h.sg())],p);c.YJ=p;ha(b,p);b.prototype.Jma=function(a,b){this.Z.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=b;a=f.__decorate([f.__param(0,h.sg()),f.__param(1,h.sg())],a);c.he=a;},function(f,c,a){var h,g,p;function b(a){return function(b,c){return b.v6(c,a);};}function d(a,b){return a.PR.qdb[b]||k(a,b);}function k(a,b){a=a.Sq.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(c,"__esModule",{value:!0});h=a(35);g=a(7);p=a(132);c.config=function(a,b){return function(c,g,h){var n,r;n=void 0!==b?b:g;r=h.get;void 0!==r&&(h.get=function(){var b;if(!this.P6a(g))return this.k4a(g);a:{b=(this.xRa?d:k)(this,n.toString());if(void 0!==b)if(b=a(this.WH,b),b instanceof p.yl)this.Jma(n,b);else break a;b=r.bind(this)();}this.Yeb(g,b);return b;});return h;};};c.j3=function(a,b){return a.Dta(b);};c.ef=function(a,b){return a.t6(b);};c.Eu=function(a,b){return a.Ba(b);};c.string=function(a,b){return a.v6(b);};c.f8=function(a,b){return a.ae(b,c.string);};c.oxb=function(a,b){return a.ae(b,c.j3);};c.Qwa=function(a,b){return a.ae(b,c.Eu);};c.Ei=function(a,b){a=a.Ba(b);return a instanceof p.yl?a:g.Hb(a);};c.ga=function(a,b){a=a.Ba(b);return a instanceof p.yl?a:h.ga(a);};c.url=b(/^\S+$/);c.vvb=function(a){return function(b,c){return b.Bta(c,a);};};c.object=function(){return function(a,b){return a.Eta(b);};};c.Tta=b;c.Zn=function(a,b){return function(c,g){return c.ae(g,a,b);};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.X$a=function(a,b){return a-b;};c.fBb=function(a,b){return a.localeCompare(b);};c.mj=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wea="WindowTimersSymbol";c.Yr="JSONSymbol";c.GD="NavigatorSymbol";c.Wba="MediaSourceSymbol";c.tba="LocationSymbol";c.u$="DateSymbol";c.hW="PerformanceSymbol";},function(f,c,a){var d,k,h,g,p,n,r;function b(a,b,c){h.ha(a&&a!=k.I.Zg,"There should always be a specific error code");this.errorCode=a||k.I.Zg;b&&p.Ad(b)?(this.S=b.S||b.nb,this.xb=b.xb||b.yc,this.EA=b.EA||b.Wj,this.Ga=b.Ga||b.uw,this.rO=b.Nf,this.Gq=b.Gq||b.vra||b.Tm,this.bl=b.bl||b.data,b.CH&&(this.CH=b.CH),this.mh=b.mh,this.j$a=b.method,this.bR=b.bR,this.alert=b.alert,h.ha(!this.mh||this.mh==this.xb)):(this.S=b,this.xb=c);a=this.stack=[this.errorCode];this.S?a.push(this.S):this.xb&&a.push(k.v.Zg);this.xb&&a.push(this.xb);this.pO=n.tK+a.join("-");}Object.defineProperty(c,"__esModule",{value:!0});d=a(5);k=a(2);h=a(9);g=a(3);p=a(14);n=a(32);r=a(330);c.yj=b;b.prototype.toString=function(){var a;a="[PlayerError #"+this.pO+"]";this.Ga&&(a+=" "+this.Ga);this.rO&&(a+=" (CustomMessage: "+this.rO+")");return a;};b.prototype.pT=function(){var a,b,c;this.rO&&(a=["streaming_error"]);a||r.CV.MA()!==d.uU||("80080017"==this.xb&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.xb&&(a=["pause_timeout"]));a||r.CV.MA()!==d.G$||this.errorCode!==k.I.wU&&this.errorCode!==k.I.vU||(a=["no_cdm","platform_error","plugin_error"]);this.Gq&&this.Gq===k.LV.NW&&this.xb&&(this.xb.endsWith("2018")||this.xb.endsWith("2020"))&&(a=["received_soad"]);if(!a)switch(this.errorCode){case k.I.bL:case k.I.KK:case k.I.bya:case k.I.XV:a=["pause_timeout"];break;case k.I.Xaa:case k.I.Yaa:a=this.S?["platform_error"]:["multiple_tabs"];break;case k.I.rD:case k.I.nL:case k.I.bDa:case k.I.aDa:case k.I.dDa:a=["should_signout_and_signin"];break;case k.I.kV:case k.I.Fca:case k.I.Dca:case k.I.bW:case k.I.RGa:a=["platform_error","plugin_error"];break;case k.I.Eca:a=["no_cdm","platform_error","plugin_error"];break;case k.I.ZV:a=this.S?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.I.sK:case k.I.dL:case k.I.aW:switch(this.xb){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case k.I.YV:a=["unsupported_output"];}!a&&g.OBa(this.S)&&(a=this.S==k.v.xy?["geo"]:["internet_connection_problem"]);if(!a){b=this.S;c=parseInt(b,10);switch(isNaN(c)?b:c){case k.v.QW:a=["should_upgrade"];break;case k.v.iFa:case k.v.xV:a=["should_signout_and_signin"];break;case k.v.jFa:a=["internet_connection_problem"];break;case k.v.aea:case k.v.bea:case k.v.Zda:a=["storage_quota"];break;case k.v.Ica:case k.v.Gca:case k.v.Jca:case k.v.Hca:case k.v.p$:a=["platform_error","plugin_error"];break;case k.v.eU:case k.v.waa:case k.v.xaa:a=["private_mode"];}}a=a||[];a.push(n.tK+this.errorCode);this.S&&a.push(""+this.S);a={display:{code:this.pO,text:this.rO},messageIdList:a,alert:this.alert};if(this.Gq||this.vra)a.mslErrorCode=this.Gq||this.vra||this.Tm;return a;};c.av=function(a,c){return new b(a,c,void 0).pT();};},function(f,c,a){var b,d;b=a(108);d=a(153);f.K=function(a){return function g(c,n){switch(arguments.length){case 0:return g;case 1:return d(c)?g:b(function(b){return a(c,b);});default:return d(c)&&d(n)?g:d(c)?b(function(b){return a(b,n);}):d(n)?b(function(b){return a(c,b);}):a(c,n);}};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.Sr||(c.Sr={});f[f.xea=0]="Test";f[f.dba=1]="Int";f[f.HJa=2]="Staging";f[f.xIa=3]="Prod";c.Dk="GeneralConfigSymbol";},function(f,c,a){var b,d,k,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(439);f=a(67);k=a(237);h=a(236);g=function(a){function c(b,c,d){var n;a.call(this);this.ay=null;this.mf=this.uj=this.$x=!1;switch(arguments.length){case 0:this.destination=k.empty;break;case 1:if(!b){this.destination=k.empty;break;}if("object"===typeof b){if(b instanceof g||"syncErrorThrowable"in b&&b[h.Sx]){n=b[h.Sx]();this.uj=n.uj;this.destination=n;n.add(this);}else this.uj=!0,this.destination=new p(this,b);break;}default:this.uj=!0,this.destination=new p(this,b,c,d);}}b(c,a);c.prototype[h.Sx]=function(){return this;};c.create=function(a,b,g){a=new c(a,b,g);a.uj=!1;return a;};c.prototype.next=function(a){this.mf||this.Fg(a);};c.prototype.error=function(a){this.mf||(this.mf=!0,this.Tb(a));};c.prototype.complete=function(){this.mf||(this.mf=!0,this.Ff());};c.prototype.unsubscribe=function(){this.closed||(this.mf=!0,a.prototype.unsubscribe.call(this));};c.prototype.Fg=function(a){this.destination.next(a);};c.prototype.Tb=function(a){this.destination.error(a);this.unsubscribe();};c.prototype.Ff=function(){this.destination.complete();this.unsubscribe();};c.prototype.hQa=function(){var a,b;a=this.Bv;b=this.Dv;this.Dv=this.Bv=null;this.unsubscribe();this.mf=this.closed=!1;this.Bv=a;this.Dv=b;};return c;}(f.Aj);c.Fh=g;p=function(a){function c(b,c,g,h){var p;a.call(this);this.EE=b;b=this;d.rb(c)?p=c:c&&(p=c.next,g=c.error,h=c.complete,c!==k.empty&&(b=Object.create(c),d.rb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.QL=b;this.Fg=p;this.Tb=g;this.Ff=h;}b(c,a);c.prototype.next=function(a){var b;if(!this.mf&&this.Fg){b=this.EE;b.uj?this.RW(b,this.Fg,a)&&this.unsubscribe():this.SW(this.Fg,a);}};c.prototype.error=function(a){var b;if(!this.mf){b=this.EE;if(this.Tb)b.uj?this.RW(b,this.Tb,a):this.SW(this.Tb,a),this.unsubscribe();else if(b.uj)b.ay=a,b.$x=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,b,c;a=this;if(!this.mf){b=this.EE;if(this.Ff){c=function(){return a.Ff.call(a.QL);};b.uj?this.RW(b,c):this.SW(c);}this.unsubscribe();}};c.prototype.SW=function(a,b){try{a.call(this.QL,b);}catch(B){throw this.unsubscribe(),B;}};c.prototype.RW=function(a,b,c){try{b.call(this.QL,c);}catch(z){return a.ay=z,a.$x=!0;}return!1;};c.prototype.Xp=function(){var a;a=this.EE;this.EE=this.QL=null;a.unsubscribe();};return c;}(g);},function(f,c,a){var d,k,h,g,p;function b(){var a,b;a=this;this.Gf={};this.Bs="$es$"+c.QBa++;this.FX=h.da.get(g.Dk);this.NOa=h.da.get(p.yda);this.on=function(b,c,g){a.addListener(b,c,g);};this.addListener=this.FX.zT?function(b,c,g){a.Gf&&(a.Gf[b]=a.Gf[b]||a.NOa()).add(c,g);}:function(b,c,g){var h,p;h=d.$K+a.Bs+"$"+b;if(a.Gf){p=a.Gf[b]?a.Gf[b].slice():[];g&&(c[h]=g);0>p.indexOf(c)&&(p.push(c),p.sort(function(a,b){return(a[h]||0)-(b[h]||0);}));a.Gf[b]=p;}};this.removeListener=this.FX.zT?function(b,c){a.Gf&&a.Gf[b]&&a.Gf[b].removeAll(c);}:function(b,c){if(a.Gf&&a.Gf[b]){for(var g=a.Gf[b].slice(),d;0<=(d=g.indexOf(c));)g.splice(d,1);a.Gf[b]=g;}};this.f2=this.FX.zT?function(b){return a.Gf&&a.Gf[b]?a.Gf[b].q1a():[];}:function(b){return a.Gf[b]||(a.Gf[b]=[]);};b=this;this.jc=function(a,c,g){var d;if(b.Gf){d=b.f2(a);for(a={Qh:0};a.Qh<d.length;a={Qh:a.Qh},a.Qh++)g?function(a){return function(){var b;b=d[a.Qh];k.bb(function(){b(c);});};}(a)():d[a.Qh].call(this,c);}};}Object.defineProperty(c,"__esModule",{value:!0});d=a(5);k=a(25);h=a(3);g=a(49);p=a(406);c.QBa=0;b.prototype.vw=function(){this.Gf=void 0;};c.di=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.zk="Base64EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.mea="StorageValidatorSymbol";c.ul="AppStorageFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.RAa="Cannot apply @injectable decorator multiple times.";c.SAa="Metadata key was used more than once in a parameter:";c.FD="NULL argument";c.kba="Key Not Found";c.Lxa="Ambiguous match found for serviceIdentifier:";c.eza="Could not unbind serviceIdentifier:";c.rFa="No matching bindings found for serviceIdentifier:";c.pEa="Missing required @injectable annotation in:";c.qEa="Missing required @inject or @multiInject annotation in:";c.sKa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};c.hza="Circular dependency found:";c.Jpb="Sorry, this feature is not fully implemented yet.";c.gDa="Invalid binding type:";c.sFa="No snapshot available to restore.";c.jDa="Invalid return type in middleware. Middleware must return!";c.Vnb="Value provided to function binding must be a function!";c.lDa="The toSelf function can only be applied when a constructor is used as service identifier";c.hDa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";c.Qxa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};c.wza="Invalid Container constructor argument. Container options must be an object.";c.uza="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";c.tza="Invalid Container option. Auto bind injectable must be a boolean";c.vza="Invalid Container option. Skip base check must be a boolean";c.AEa="Cannot apply @postConstruct decorator multiple times in the same class";c.lHa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};c.iza=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};c.fJa="Maximum call stack size exceeded";},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(51);b=a(25);d=a(6);c.Nd=new f.di();c.ck=1;c.Mw=2;c.F2=3;c.IG=4;c.E2=5;b.bb(function(){var b,g,p;function a(a,b){if(g)g.on(a,b);else t.addEventListener(a,b);}b=t.jQuery;g=b&&b(t);b=(b=t.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;p=d.kd.hidden;b?b(function(a){c.Nd.jc(c.ck,a);}):a("beforeunload",function(a){c.Nd.jc(c.ck,a);});a("keydown",function(a){c.Nd.jc(c.Mw,a);});a("resize",function(){c.Nd.jc(c.F2);});d.kd.addEventListener("visibilitychange",function(){p!==d.kd.hidden&&(p=d.kd.hidden,c.Nd.jc(c.IG));});});(function(){t.addEventListener("error",function(a){c.Nd.jc(c.E2,a);return!0;});}());},function(f,c,a){var g;function b(){}function d(){}function k(){}function h(){}Object.defineProperty(c,"__esModule",{value:!0});a=a(110);(function(a){a[a.Bp=0]="STANDARD";a[a.Ey=1]="LIMITED";a[a.uqb=2]="PREVIEW";}(g||(g={})));h.S9="created";h.Uda="started";h.dea="succeeded";h.hm="failed";h.sy="cancelled";h.dK="cancelled_on_create";h.VC="cancelled_on_start";h.cK="cancelled_not_encrypted";c.Jd=h;k.Xrb="uirequest";k.tqb="prefetch_start";k.rqb="prefetch_complete";k.sqb="prefetch_delete";k.jGa="periodic_update";(function(a){a[a.Lca=0]="PRE_FETCH";a[a.Cda=1]="QC";a[a.Bp=2]="STANDARD";a[a.eea=3]="SUPPLEMENTAL";a[a.MAa=4]="DOWNLOAD";}(f=c.jm||(c.jm={})));a={manifest:a.Kd.bi.q9,ldl:a.Kd.bi.Su,getHeaders:a.Kd.bi.iD,getMedia:a.Kd.bi.MEDIA};d.aya="asl_start";d.Yxa="asl_comp";d.Zxa="asl_exc";d.$xa="asl_fail";d.jJa="stf_creat";d.csb="vald_start";d.bsb="vald_fail";d.asb="vald_comp";d.FCa="idb_open";d.CCa="idb_block";d.MCa="idb_upgr";d.LCa="idb_succ";d.DCa="idb_error";d.ECa="idb_invalid_state";d.HCa="idb_open_timeout";d.JCa="idb_open_wrkarnd";d.KCa="idb_storelen_exc";d.GCa="idb_open_exc";d.ICa="idb_timeout_invalid_storelen";d.uEa="msl_load_data";d.wEa="msl_load_no_data";d.vEa="msl_load_failed";d.tlb="app_st_idb_fail";d.Nxa="app_st_winfs_fail";d.ulb="app_st_idb_winfs_fail";d.Oxa="app_st_winfs_start";d.Pxa="app_st_winfs_succ";d.Mxa="app_st_winfs_create_fail";d.Uob="mig_start";d.Qob="mig_result_degraded";d.Tob="mig_result_winfs";d.Rob="mig_result_idb";d.Sob="mig_result_invalid";d.Lob="mig_exc";d.Zob="mig_winfs_unavailable_degraded";d.Cob="mig_already_done_in_winfs";d.Mob="mig_exc_during_migration_degraded";d.Vob="mig_winfs_loadall_failed_degraded";d.Yob="mig_winfs_saveall_undefined_degraded";d.Iob="mig_cant_proceed_idb_unavailable_degraded";d.Hob="mig_cant_proceed_idb_loadall_failed_degraded";d.Oob="mig_idb_already_done_winfs_unavailable_degraded";d.Nob="mig_idb_already_done_winfs_no_status_forced";d.Pob="mig_idb_firsttime_user_forced";d.Job="mig_done_no_downloads_data";d.Wob="mig_winfs_remove_all_failed";d.Xob="mig_winfs_remove_all_succ";d.Aob="mig_aborted_winfs_saveall_failed";d.Bob="mig_aborted_winfs_unavailable";d.Kob="mig_done_winfs_saveall_succ";d.Eob="mig_besteffort_idb_save_succ";d.Dob="mig_besteffort_idb_save_fail";d.Gob="mig_besteffort_winfs_save_succ";d.Fob="mig_besteffort_winfs_save_fail";c.Bg=d;b.FDa=g;b.uka=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Jd=h;b.mHa=k;b.jm=f;b.gVa=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.ND=a;b.Bg=d;c.Jc=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xg={start:"start",stop:"stop",jH:"keepAlive",resume:"resume",pause:"pause",CA:"engage",splice:"splice"};c.vK="EventPboCommandFactorySymbol";c.jea="StartEventPboCommandSymbol";c.kea="StopEventPboCommandSymbol";c.lba="KeepAliveEventPboCommandSymbol";c.Nca="PauseEventPboCommandSymbol";c.Nda="ResumeEventPboCommandSymbol";c.hea="SpliceEventPboCommandSymbol";c.W$="EngageEventPboCommandSymbol";},function(f,c,a){var d;function b(a,b,c,p,n,r,u,f,B,z,y){this.code=void 0===a?d.I.Zg:a;this.nb=b;this.yc=c;this.Wj=p;this.Tm=n;this.message=r;this.uw=u;this.data=f;this.Nf=B;this.ecb=z;this.alert=y;this.N=!1;}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);b.xc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.kO=function(a){this.uw=b.xc(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.nb,extCode:this.yc,edgeCode:this.Wj,mslCode:this.Tm,message:this.message,details:this.uw,data:this.data,errorDisplayMessage:this.Nf,playbackServiceError:this.ecb};};c.dc=b;},function(f,c){function a(){}function b(){}function d(){}Object.defineProperty(c,"__esModule",{value:!0});d.Tr="playready-h264mpl30-dash";d.Qu="playready-h264mpl31-dash";d.fD="playready-h264mpl40-dash";d.eCa="playready-h264hpl30-dash";d.fCa="playready-h264hpl31-dash";d.gCa="playready-h264hpl40-dash";d.XU="hevc-main-L30-dash-cenc";d.YU="hevc-main-L31-dash-cenc";d.ZU="hevc-main-L40-dash-cenc";d.$U="hevc-main-L41-dash-cenc";d.aV="hevc-main-L50-dash-cenc";d.bV="hevc-main-L51-dash-cenc";d.PU="hevc-main10-L30-dash-cenc";d.RU="hevc-main10-L31-dash-cenc";d.TU="hevc-main10-L40-dash-cenc";d.VU="hevc-main10-L41-dash-cenc";d.jD="hevc-main10-L50-dash-cenc";d.kD="hevc-main10-L51-dash-cenc";d.QU="hevc-main10-L30-dash-cenc-prk";d.SU="hevc-main10-L31-dash-cenc-prk";d.UU="hevc-main10-L40-dash-cenc-prk";d.WU="hevc-main10-L41-dash-cenc-prk";d.Fnb="hevc-main-L30-L31-dash-cenc-tl";d.Gnb="hevc-main-L31-L40-dash-cenc-tl";d.Hnb="hevc-main-L40-L41-dash-cenc-tl";d.Inb="hevc-main-L50-L51-dash-cenc-tl";d.Bnb="hevc-main10-L30-L31-dash-cenc-tl";d.Cnb="hevc-main10-L31-L40-dash-cenc-tl";d.Dnb="hevc-main10-L40-L41-dash-cenc-tl";d.Enb="hevc-main10-L50-L51-dash-cenc-tl";d.hU="hevc-dv-main10-L30-dash-cenc";d.iU="hevc-dv-main10-L31-dash-cenc";d.jU="hevc-dv-main10-L40-dash-cenc";d.kU="hevc-dv-main10-L41-dash-cenc";d.lU="hevc-dv-main10-L50-dash-cenc";d.t$="hevc-dv-main10-L51-dash-cenc";d.jK="hevc-dv5-main10-L30-dash-cenc-prk";d.kK="hevc-dv5-main10-L31-dash-cenc-prk";d.lK="hevc-dv5-main10-L40-dash-cenc-prk";d.mK="hevc-dv5-main10-L41-dash-cenc-prk";d.nK="hevc-dv5-main10-L50-dash-cenc-prk";d.mU="hevc-dv5-main10-L51-dash-cenc-prk";d.GU="hevc-hdr-main10-L30-dash-cenc";d.HU="hevc-hdr-main10-L31-dash-cenc";d.IU="hevc-hdr-main10-L40-dash-cenc";d.JU="hevc-hdr-main10-L41-dash-cenc";d.KU="hevc-hdr-main10-L50-dash-cenc";d.MU="hevc-hdr-main10-L51-dash-cenc";d.AK="hevc-hdr-main10-L30-dash-cenc-prk";d.BK="hevc-hdr-main10-L31-dash-cenc-prk";d.CK="hevc-hdr-main10-L40-dash-cenc-prk";d.DK="hevc-hdr-main10-L41-dash-cenc-prk";d.LU="hevc-hdr-main10-L50-dash-cenc-prk";d.NU="hevc-hdr-main10-L51-dash-cenc-prk";d.Qea="vp9-profile0-L21-dash-cenc";d.vL="vp9-profile0-L30-dash-cenc";d.wL="vp9-profile0-L31-dash-cenc";d.xL="vp9-profile0-L40-dash-cenc";d.Lea="vp9-profile2-L30-dash-cenc-prk";d.Mea="vp9-profile2-L31-dash-cenc-prk";d.Nea="vp9-profile2-L40-dash-cenc-prk";d.Oea="vp9-profile2-L50-dash-cenc-prk";d.Pea="vp9-profile2-L51-dash-cenc-prk";d.TIa=[d.Tr];d.lCa=[d.Qu,d.fD];d.pKa=[d.XU,d.YU,d.ZU,d.$U,d.aV,d.bV];d.rKa=[d.PU,d.RU,d.TU,d.VU,d.jD,d.kD];d.qKa=[d.QU,d.SU,d.UU,d.WU,d.jD,d.kD];d.kCa=[d.GU,d.HU,d.IU,d.JU,d.KU,d.MU];d.jCa=[d.AK,d.BK,d.CK,d.DK,d.LU,d.NU];d.UAa=[d.hU,d.jU,d.lU,d.iU,d.kU,d.t$];d.TAa=[d.jK,d.lK,d.nK,d.kK,d.mK,d.mU];d.Jmb=[d.hU,d.iU,d.jU,d.lU,d.kU];d.Imb=[d.jK,d.kK,d.lK,d.nK,d.mK];d.gsb=[d.vL,d.wL,d.xL];d.ps=[d.Qea,d.vL,d.wL,d.xL,d.Lea,d.Mea,d.Nea,d.Oea,d.Pea];d.jaa=d.TIa.concat(d.lCa);d.iCa=d.pKa;d.hCa=d.rKa;d.fya=[].concat(d.jaa,d.iCa,d.hCa,d.qKa,d.kCa,d.jCa,d.UAa,d.TAa,d.ps);c.$=d;b.EK="heaac-2-dash";b.hK="ddplus-2.0-dash";b.cU="ddplus-5.1-dash";b.iK="ddplus-atmos-dash";b.OU="playready-heaac-2-dash";b.nCa="heaac-2-dash-enc";b.Wza="ddplus-2.0-dash-enc";b.Xza="ddplus-5.1-dash-enc";b.mCa="playready-heaac-2-dash-enc";b.fya=[].concat(b.EK,b.hK,b.cU,b.iK,b.OU,b.nCa,b.Wza,b.Xza,b.mCa);c.yk=b;a.cJa="simplesdh";a.fU="dfxp-ls-sdh";a.Jy="nflx-cmisc";a.prb="simplesdh-enc";a.Emb="dfxp-ls-sdh-enc";a.TK="nflx-cmisc-enc";c.Bj=a;},function(f){f.K=function a(b,d){var k;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){k=Object.getOwnPropertyDescriptor(b,a);void 0!==k&&Object.defineProperty(d,a,k);});};},function(f,c,a){var h,g,p,n,r;function b(a,b){n.call(this,a,b);h(void 0!==b.Lh&&void 0!==b.Am);h(void 0===b.R_||b.R_===b.Lh+b.Am);h(void 0===b.Gw||b.Gw<=b.Lh);h(void 0===b.eP||b.eP===b.Gw+b.Lma);this.mi=b.index;this.qv=b.Lh;this.Hn=b.Am;this.DX=void 0!==b.Gw?b.Gw:this.Lh;this.EX=b.Lma||this.Am;this.JM=b.rta||0;this.Aga=!!b.Do;this.xNa=b.OH;this.ZKa=b.Ig;this.ys=b.xd;this.uv=b.Pc;this.Vha=b.yu;this.fg=!1;}function d(){h(!1);}function k(a){return{get:a,set:d};}h=a(20);g=a(13);p=a(60);n=a(189);r=a(66);b.prototype=Object.create(n.prototype);Object.defineProperties(b.prototype,{p3:k(function(){return!0;}),index:k(function(){return this.mi;}),Lh:k(function(){return this.qv;}),Am:k(function(){return this.Hn;}),Gw:k(function(){return this.DX;}),Lma:k(function(){return this.EX;}),rta:k(function(){return this.JM;}),Do:k(function(){return this.Aga;}),OH:k(function(){return this.xNa;}),Ig:k(function(){return this.ZKa;}),xd:k(function(){return this.ys;}),Pc:k(function(){return this.uv;}),yu:k(function(){return this.Vha;}),R_:k(function(){return this.qv+this.Hn;}),eP:k(function(){return this.DX+this.EX;}),ER:k(function(){return this.qv+this.JM;}),Q5:k(function(){return this.ER+this.Hn;}),Mma:k(function(){return this.DX+this.JM;}),D1a:k(function(){return this.Mma+this.EX;}),Wsa:k(function(){return this.Wha(this.ER);}),jcb:k(function(){return this.Wha(this.Q5);}),X:k(function(){return this.Gl(this.ER);}),ca:k(function(){return this.Gl(this.Q5);}),duration:k(function(){return this.ca-this.X;}),ij:k(function(){return this.Gl(this.Mma);}),Em:k(function(){return this.Gl(this.D1a);}),Kma:k(function(){return this.Em-this.ij;}),lk:k(function(){return this.Gl(this.rta);}),io:k(function(){return this.Gl(this.Lh);}),Lg:k(function(){return this.Gl(this.Lh);}),xi:k(function(){return this.Gl(this.R_);}),Oa:k(function(){return this.Gl(this.ER);}),pc:k(function(){return this.Gl(this.Q5);}),G1:k(function(){return this.Gl(this.Gw);}),C1a:k(function(){return this.Gl(this.eP);}),Eq:k(function(){return this.duration;}),nr:k(function(){return this.X;}),QB:k(function(){return this.ca;})});b.prototype.Wha=function(a){return new r(a,this.ma);};b.prototype.Gl=function(a){return Math.floor(r.Awa(a,this.ma));};b.prototype.tva=function(a){this.JM=a.vk(this.La.ma).Fd;};b.prototype.Iqa=function(){this.Aga=!0;};b.prototype.TI=function(a){this.Vha=a;};b.prototype.Qm=function(a,b){a?b?a.Ib<this.C1a&&(this.Hn=a.Qc*this.La.Fd,this.uv=a,this.ys=!0):0<a.Qc&&(this.qv=this.Gw+a.Qc*this.La.Fd,this.Hn=this.eP-this.qv,this.uv=a,this.ys=!0):this.ys=!0;};b.prototype.SZa=function(){var a;this.ys?(a=this.uv,++a.Qc,a.Ib+=this.stream.La.Je):a={Ib:this.G1+this.stream.La.Je,Qc:1};this.Qm(a,!1);};b.prototype.j1a=function(a){var c;if(!(a<this.X||a>=this.ca)&&this.Ig&&this.Ig.length){a=new r(a-this.X,1E3).wA(this.stream.La);for(var b=this.Ig.length-1;0<=b;--b){c=this.Ig[b];if(c.Qc<=a)return c;}return{Qc:0,Ib:this.ij};}};b.prototype.i1a=function(a){var c;if(!(a<this.X||a>=this.ca)&&this.Ig&&this.Ig.length){a=new r(a-this.X,1E3).wA(this.stream.La);for(var b=0;b<this.Ig.length;++b){c=this.Ig[b];if(c.Qc>=a)return c;}}};b.prototype.tma=function(a,b){var c,g;if(!(a<this.X||a>=this.ca)){c=this.La.Fd;g=this.La.ma;a=Math.min((b?Math.ceil:Math.floor)((r.a$a(a,g)-this.Lh+(g/1E3-1))/c),Math.floor(this.Am/c)-1);return{Qc:a,Ib:r.Awa(this.Lh+a*c,g)};}};b.prototype.u1=function(a){return this.O===g.u.VIDEO?this.j1a(a):this.tma(a,!1);};b.prototype.g1a=function(a){return this.O===g.u.VIDEO?this.i1a(a):this.tma(a,!0);};b.prototype.wRa=function(a){this.Kc+=a.ga;this.bg+=a.duration;};b.prototype.toString=function(){return"["+this.Za+", "+this.L+"kbit/s, c:"+this.Lg+"-"+this.xi+",p:"+this.Oa+"-"+this.pc+",d:"+this.duration+"]";};b.prototype.toJSON=function(){var a;a=n.prototype.toJSON.call(this);p({index:this.index,X:this.X,ca:this.ca,Lg:this.Lg,Ytb:this.xi,ij:this.ij,Em:this.Em,Pc:this.Pc},a);return a;};f.K=b;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(20);c.iX=function(a){b("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};c.Efa=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};c.Asb=function(a,b){return Math.floor(1E3*a/b);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.tV="LogBatcherConfigSymbol";c.Zr="LogBatcherSymbol";c.uba="LogBatcherProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.s9="AccountManagerSymbol";c.mp="AccountManagerProviderSymbol";},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);f=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.cs?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();c.Metadata=f;},function(f,c,a){var k;function b(a,b){var c,g,d;if("number"!==typeof a||"number"!==typeof b)a=!1;else if(a&&b){c=Math.abs(a);for(g=Math.abs(b);g;){d=g;g=c%g;c=d;}a=Math.abs(a*b/c);}else a=0;return a;}function d(){k(!1);}k=a(20);c=a(564);a=function(){function a(a,b){"object"===typeof a?(this.FY=a.Fd,this.Ps=a.ma):(this.FY=a,this.Ps=b);}a.Uyb=function(b){return new a(1,b);};a.M1=function(b){return new a(b,1E3);};a.Awa=function(a,b){return Math.floor(1E3*a/b);};a.a$a=function(a,b){return Math.floor(a*b/1E3);};a.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};a.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};a.prototype.vk=function(b){b/=this.ma;return new a(Math.floor(this.Fd*b),Math.floor(this.ma*b));};a.prototype.add=function(c){var g;if(this.ma===c.ma)return new a(this.Fd+c.Fd,this.ma);g=b(this.ma,c.ma);return this.vk(g).add(c.vk(g));};a.prototype.Ed=function(b){return this.add(new a(-b.Fd,b.ma));};a.prototype.ZQ=function(b){return new a(this.Fd*b,this.ma);};a.prototype.wA=function(a){var c;if(this.ma===a.ma)return this.Fd/a.Fd;c=b(this.ma,a.ma);return this.vk(c).wA(a.vk(c));};a.prototype.O4a=function(a){return b(this.ma,a);};a.prototype.Mdb=function(){return new a(this.ma,this.Fd);};a.prototype.compare=function(a,c){var g;if(this.ma===c.ma)return a(this.Fd,c.Fd);g=b(this.ma,c.ma);return a(this.vk(g).Fd,c.vk(g).Fd);};a.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};a.prototype.q5=function(a){return this.compare(function(a,b){return a!==b;},a);};a.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};a.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};a.prototype.Qpa=function(a){return this.compare(function(a,b){return a<=b;},a);};a.prototype.$na=function(a){return this.compare(function(a,b){return a>=b;},a);};a.prototype.toJSON=function(){return{ticks:this.Fd,timescale:this.ma};};a.prototype.toString=function(){return this.Fd+"/"+this.ma;};a.vg=new a(0,1);a.nsa=new a(1,1E3);return a;}();c.OYa(a.prototype,{Fd:{get:function(){return this.FY;},set:d},ma:{get:function(){return this.Ps;},set:d},Je:{get:function(){return 1E3*this.FY/this.Ps;},set:d}});f.K=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return a.reduce(function(a,b){return a.concat(b instanceof n.tL?b.GA:b);},[]);}d=a(99);k=a(440);h=a(439);g=a(943);p=a(438);n=a(942);f=function(){function a(a){this.closed=!1;this.Jz=this.Dv=this.Bv=null;a&&(this.Xp=a);}a.prototype.unsubscribe=function(){var a,c,r,f,y,w;a=!1;if(!this.closed){r=this.Bv;f=this.Dv;y=this.Xp;w=this.Jz;this.closed=!0;this.Jz=this.Dv=this.Bv=null;for(var x=-1,C=f?f.length:0;r;)r.remove(this),r=++x<C&&f[x]||null;h.rb(y)&&(r=g.Mwa(y).call(this),r===p.zt&&(a=!0,c=c||(p.zt.e instanceof n.tL?b(p.zt.e.GA):[p.zt.e])));if(d.isArray(w))for(x=-1,C=w.length;++x<C;)r=w[x],k.Ad(r)&&(r=g.Mwa(r.unsubscribe).call(r),r===p.zt&&(a=!0,c=c||[],r=p.zt.e,r instanceof n.tL?c=c.concat(b(r.GA)):c.push(r)));if(a)throw new n.tL(c);}};a.prototype.add=function(b){var c;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!==typeof c.dfa&&(b=c,c=new a(),c.Jz=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.Jz||(this.Jz=[])).push(c);c.dfa(this);return c;};a.prototype.remove=function(a){var b;b=this.Jz;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.dfa=function(a){var b,c;b=this.Bv;c=this.Dv;b&&b!==a?c?-1===c.indexOf(a)&&c.push(a):this.Dv=[a]:this.Bv=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();c.Aj=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(20);f=function(){function a(a,b,c,d){this.o=a;this.type=b;this.startOffset=c;this.length=d;a&&(this.level=a.level);this.HB=d;}a.prototype.se=function(){var a,b,c;this.version=this.o.Fc();a=this.o.Fc();b=this.o.Fc();c=this.o.Fc();this.Wd=a<<16|b<<8|c;};a.prototype.Hta=function(a,b,c){if(1<c){for(var g=[];0<c--;)g.push(this.yha(a,b));return g;}return this.yha(a,b);};a.prototype.qr=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var g,d;if("offset"===a.type){c.o.Vb("Adding offset:"+a.offset);g=a.offset;if(0<g%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.o.offset+=g/8;}else for(g in a){d=a[g];b[g]="string"===typeof d?c.Hta(d):c.Hta(d.type,d.length,d.MRa);}});return b;};a.prototype.parse=function(){return!0;};a.prototype.sG=function(a){this.o.Ea(a.type,a);};a.prototype.e6a=function(){};a.prototype.qn=function(a){return void 0!==this.Pb[a]&&1===this.Pb[a].length?this.Pb[a][0]:void 0;};a.prototype.Yi=function(a,c){c=void 0===c?this.o.offset:c;b(c>=this.startOffset+8&&c+a<=this.startOffset+this.HB,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.HB).toString(16)+")");this.length-=a;this.o.Nk(this.length,!1,this.startOffset);this.o.Yi(a,c);};a.prototype.zq=function(a,b){var c,d;c=this.o.offset;d=this.length-(c-this.startOffset);0<d&&(b=this.o.g0(this,c,d,b),b.Mn=void 0,b.addEventListener("error",this.sG.bind(this)),b.addEventListener("drmheader",this.sG.bind(this)),b.addEventListener("nflxheader",this.sG.bind(this)),b.addEventListener("keyid",this.sG.bind(this)),b.addEventListener("requestdata",this.e6a.bind(this)),b.addEventListener("sampledescriptions",this.sG.bind(this)),this.Pb=b.Pb,b.parse(a));return!0;};a.prototype.Bz=function(a,c,g){g=void 0===g?this.o.offset:g;b(g>=this.startOffset+8&&g+a<=this.startOffset+this.HB,"Removal range [0x"+g.toString(16)+"-0x"+(g+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.HB).toString(16)+")");this.length+=(c?c.byteLength:0)-a;this.o.Nk(this.length,!1,this.startOffset);this.o.Bz(a,c,g);};a.prototype.yha=function(a,b){var c;c=this.length-this.o.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.o.Fc();break;case"int64":a=this.o.dh();break;case"int32":a=this.o.ab();break;case"int16":a=this.o.Re();break;case"string":a=this.o.xdb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};return a;}();c["default"]=f;},function(f,c,a){var b,d;c=a(301);b=a(190);d=a(555);a=a(66);f.K={KV:b.KV,JV:b.JV,QK:d.QK,Uma:b.Uma,Drb:c.Pb.sidx,r4:d.r4,Cea:a};},function(f,c,a){var b,d;c=a(590);b=a(13);d=a(10);f.K={jo:c,E8a:function(b){d.SG(b);return a(589);},platform:d,Pl:b,get vQ(){return a(314);},syb:function(){return a(190);}};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.op="DeviceFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cf={audio:"audio",video:"video",mT:"timedtext",L8:"trickplay"};},function(f,c,a){var b,d,k,h,g,p,n,r;b=a(75);d=a(429);k=a(428);h=a(440);g=a(11);p=a(165);n=a(925);r=a(235);c.Ar=function(a,c,f,z){var u;u=new n.cba(a,f,z);if(u.closed)return null;if(c instanceof g.oa)if(c.Kp)u.next(c.value),u.complete();else return u.uj=!0,c.subscribe(u);else if(d.bpa(c)){a=0;for(f=c.length;a<f&&!u.closed;a++)u.next(c[a]);u.closed||u.complete();}else{if(k.ppa(c))return c.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(c&&"function"===typeof c[p.iterator]){c=c[p.iterator]();do{a=c.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(c&&"function"===typeof c[r.observable])if(c=c[r.observable](),"function"!==typeof c.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new n.cba(a,f,z));else c="You provided "+(h.Ad(c)?"an invalid object":"'"+c+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(c));}return null;};},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);c.prototype.px=function(a,b){this.destination.next(b);};c.prototype.s5=function(a){this.destination.error(a);};c.prototype.Gi=function(){this.destination.complete();};return c;}(a(50).Fh);c.xp=f;},function(f,c,a){f=a(169);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;f="undefined"!==typeof t&&t||"undefined"!==typeof f&&f||a;c.root=f;if(!f)throw Error("RxJS could not find any global context (window, self, global)");},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(67);c.pDa=f.pDa;f=a(11);c.oa=f.oa;f=a(166);c.ii=f.ii;f=a(435);c.UD=f.UD;f=a(433);c.c$=f.c$;f=a(932);c.yea=f.yea;a(928);a(924);a(918);a(916);a(913);a(909);a(906);a(902);a(899);a(897);a(895);a(893);a(890);a(886);a(883);a(882);a(879);a(875);a(872);a(871);a(869);a(867);a(864);a(862);a(861);a(859);a(856);a(853);a(850);a(847);a(846);f=a(237);c.SFa=f.SFa;a=a(67);c.Aj=a.Aj;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.fm={Request:"Request",AW:"Singleton",qL:"Transient"};c.Vg={d$:"ConstantValue",e$:"Constructor",L$:"DynamicValue",EU:"Factory",Function:"Function",oV:"Instance",ADa:"Invalid",Bda:"Provider"};c.Ep={a$:"ClassProperty",f$:"ConstructorArgument",PW:"Variable"};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);c.xl=c.xl||function(a,b,c){return a>=b?a<=c?a:c:b;};c.Ypb=function(a,b,c,g,p){return(a-b)*(p-g)/(c-b)+g;};c.zg=function(a){if(b.aa(a))return(a/1E3).toFixed(3);};},function(f,c,a){var d,k,h;function b(a,b,c,d,h,k){this.context=a;this.errorCode=b;this.bfb=c;this.S6=h;this.R6=k;this.name=d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(318);h=a(7);b.prototype.send=function(a,b,c,d,h,k){var g;g=this;return this.S2a(a,b,c,d,h,k).then(function(a){return g.context.tZa.send(a.context,a.request);});};b.prototype.S2a=function(a,b,c,d,h,f){var g,p;try{g=k.oTa(this.context.Y2.GF(),c,this.context.Bq().Of,this.context.yx,this.context.platform,d,h);p=this.mTa(a,b,f);return Promise.resolve({context:p,request:g});}catch(y){return Promise.reject(y);}};b.prototype.mTa=function(a,b,c){return{Wb:this.context.Wb,log:a,Tj:this.name,url:this.context.mkb(k.pTa(this.context.Ud,this.context.yx,this.name)),profile:b,e7:this.bfb,timeout:h.am(59),headers:{"Content-Type":"text/plain"},R6:this.R6,S6:void 0!==c?c:this.S6};};b.prototype.Fm=function(a){return k.Fm(this.errorCode,a);};b.prototype.Pja=function(a){var b;b=this;a.forEach(function(a){if(b.ZP(a))throw a.error;});};b.prototype.ZP=function(a){return void 0!==a.error;};a=b;a=f.__decorate([d.P(),f.__param(0,d.sg()),f.__param(1,d.sg()),f.__param(2,d.sg()),f.__param(3,d.sg()),f.__param(4,d.sg()),f.__param(5,d.sg())],a);c.ci=a;},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(5);d=a(4);k=a(2);h=a(3);g=a(159);p=a(703);t._cad_global||(t._cad_global={});f.Yd(k.I.Paa,function(a){var n;n=h.Gc("VideoCache");d.config.Jr&&d.config.Jr.downloader?h.da.get(g.rK).get()?h.da.get(p.CKa).create(d.config.Jr,"VIDEOAPP").then(function(g){c.Bh=g;t._cad_global.videoCache=c.Bh;a(b.kb);})["catch"](function(c){n.error("Unable to load video cache",c);a(b.kb);}):(n.warn("downloads unavailable"),a(b.kb)):a(b.kb);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Ela=0]="downloading";a[a.JZa=1]="downloaded";a[a.fg=2]="appended";a[a.buffered=3]="buffered";a[a.mAb=4]="removed";a[a.GBb=5]="unused";}(c.z9||(c.z9={})));(function(a){a[a.waiting=1]="waiting";a[a.Syb=2]="ondeck";a[a.Ela=4]="downloading";a[a.JZa=8]="downloaded";a[a.YG=6]="inprogress";}(c.y9||(c.y9={})));c.Clb="AseBufferViewSymbol";c.x9="AseBufferAccountingSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uu="LoggerSinksSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.wK="EventSourceSymbol";c.FU="GlobalEventSourceSymbol";c.nU="DebugEventSourceSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kr="ApiInfoSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lr="ApplicationStateSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gs="PlatformSymbol";},function(f,c,a){var k,h;function b(a,b,c,d,h){var g,p,r;g={};p="number"===typeof h;h=void 0!==h&&p?h.toString():c;if(p&&void 0!==c)throw Error(k.hDa);Reflect.H2(a,b)&&(g=Reflect.getMetadata(a,b));c=g[h];if(Array.isArray(c))for(var p=0,n=c;p<n.length;p++){r=n[p];if(r.key===d.key)throw Error(k.SAa+" "+r.key.toString());}else c=[];c.push(d);g[h]=c;Reflect.C0(a,g,b);}function d(a,b){return function(c,g){b(c,g,a);};}Object.defineProperty(c,"__esModule",{value:!0});k=a(54);h=a(36);c.by=function(a,c,d,k){b(h.qea,a,c,k,d);};c.qJ=function(a,c,d){b(h.rea,a.constructor,c,d);};c.st=function(a,b,c){"number"===typeof c?Reflect.st([d(c,a)],b):"string"===typeof c?Reflect.st([a],b,c):Reflect.st([a],b);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);c.REa=function(a){var h;function d(){}h=[];this.yr=function(a){var g;for(var b=[],c=h.length;c--;){g=h[c];g.yr(a)&&b.push(g.nG);}if(b.length)return b;};c.Xba.forEach(function(b){(b=b(a))&&h.push(b);});0<h.length&&a.addEventListener(b.xj,d);};c.AD=function(a){c.Xba.push(a);};c.Xba=[];},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);d=a(5);k=a(4);f=a(2);h=a(9);g=a(3);p=a(353);n=a(32);r=a(6);b.Yd(f.I.kV,function(a){var f,u;h.ha(k.config);h.ha(r.ds&&r.ds.getDeviceId||r.QV||n.iaa);f=g.da.get(p.A$);u=g.Gc("Device");b.qH("devs");f.create({deviceId:k.config.deviceId,R1:n.iaa,mO:"deviceid",Of:k.config.Of,Bm:n.Ye.BU,tfb:n.q$,userAgent:r.Dh,Y3:k.config.Y3,hZa:n.Ye.n$,uSa:k.config.$ia.e,gZa:n.Ye.jAa,xG:k.config.xG,foa:k.config.Jr,f$a:k.config.Ql?"mslstoretest":"mslstore"}).then(function(g){c.Mf=g;t._cad_global||(t._cad_global={});t._cad_global.device=c.Mf;u.info("Esn source: "+c.Mf.HA);b.qH("devdone");a(d.kb);})["catch"](function(b){b.N=void 0;a(b);});});},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(17);d=a(9);k=a(25);c.ZD=function(a){var n,r,f;function c(b){f=null;h(b||a);}function h(a){var g,d;g=b.Ya();if(r){d=a-(g-n);0>=d?(a=r,r=null,n=g,a()):f=f||setTimeout(c.bind(this,a),d);}}d.qw(a);n=-a;this.ib=function(a){r=a;f=f||k.bb(c);};this.vw=function(){f&&clearTimeout(f);f=null;};};c.ynb=function(a,c){var g,d;g=0;this.get=function(){var h;h=b.Ya();if(!d||h-g>c)g=h,d=a();return d;};this.clear=function(){d=void 0;};};c.Mmb=function(a){var b;d.qw(a);this.ib=function(c){b&&this.vw();b=setTimeout(c,a);};this.vw=function(){b&&clearTimeout(b);b=null;};};},function(f){function c(a){this.ag=a;}c.prototype={};c.prototype.Fgb=function(a){this.ag=a;};c.prototype.wUa=function(){this.ag=void 0;};c.prototype.KA=function(a){this.ag&&this.ag.sx&&this.ag.sx(a);};c.prototype.JA=function(a){this.ag&&this.ag.Xt&&this.ag.Xt(a);};c.prototype.uG=function(a){this.ag&&this.ag.aI&&this.ag.aI(a);};c.prototype.tG=function(a){this.ag&&this.ag.Hi&&this.ag.Hi(a);};c.prototype.dP=function(a){this.ag&&this.ag.FB&&this.ag.FB(a);};c.prototype.cP=function(a,b){this.ag&&this.ag.jR&&this.ag.jR(a,b);};c.prototype.sx=c.prototype.KA;c.prototype.Xt=c.prototype.JA;c.prototype.aI=c.prototype.uG;c.prototype.Hi=c.prototype.tG;c.prototype.FB=c.prototype.dP;c.prototype.jR=c.prototype.cP;f.K=c;},function(f,c,a){var d,k,h;function b(a,b,c,d,f){b=h.ci.call(this,a,b,d,k.hi.events,f,k.hi.events+"/"+c)||this;b.context=a;b.p0a=c;return b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(39);h=a(79);ha(b,h.ci);b.prototype.kg=function(a,b,c){var g;g=this;return this.send(a,b,c.href,this.FN(c)).then(function(){return c;})["catch"](function(a){throw g.Fm(a);});};b.prototype.Cm=function(a,b,c,d){var g;g=this;return this.send(a,b,c.QA("events").href,this.FN(d)).then(function(a){c.UE(a.result.links);return d;})["catch"](function(a){throw g.Fm(a);});};b.prototype.FN=function(a){return{event:this.p0a,xid:a.ia,position:a.position||0,clientTime:a.yF,sessionStartTime:a.SI,mediaId:a.dx,trackId:a.ac,sessionId:a.sessionId,appId:a.YE,playTimes:this.qTa(a.kI),sessionParams:a.wh,mdxControllerEsn:a.K4,persistentlicense:a.J5,cachedcontent:a.f_};};b.prototype.a_=function(a){return{downloadableId:a.vc,duration:a.duration};};b.prototype.qTa=function(a){return{total:a.total,audio:a.audio.map(this.a_),video:a.video.map(this.a_),text:a.text.map(this.a_)};};a=b;a=f.__decorate([d.P(),f.__param(0,d.sg()),f.__param(1,d.sg()),f.__param(2,d.sg()),f.__param(3,d.sg()),f.__param(4,d.sg())],a);c.Oi=a;},function(f){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},bk:function(){return this.buffer.length-this.position;},rf:function(){return this.buffer[this.position++];},ae:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Dd:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},iu:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Bdb:function(){for(var a="",b;b=this.rf();)a+=String.fromCharCode(b);return a;},zb:function(){return this.Dd(2);},Ba:function(){return this.Dd(4);},sf:function(){return this.Dd(8);},Cta:function(){return this.Dd(2)/256;},u6:function(){return this.Dd(4)/65536;},mk:function(a){for(var b,c="";a--;)b=this.rf(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},SB:function(){return this.mk(4)+"-"+this.mk(2)+"-"+this.mk(2)+"-"+this.mk(2)+"-"+this.mk(6);},Cdb:function(a){for(var b=0,c=0;c<a;c++)b+=this.rf()<<(c<<3);return b;},zI:function(){return this.Cdb(4);},j9:function(a){this.buffer[this.position++]=a;},Fxa:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},glb:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];},SJ:function(a,b){this.glb(a.ae(b));}};f.K=c;},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y;function b(a,b,c,f){var w,x;if(d.config.nxa)return h.da.get(g.Fy).ot(b,c,f,a);f=f||{};p.ha(void 0===f.jssid&&void 0===f.client_utc&&void 0===f.type&&void 0===f.sev&&void 0===f.lver&&void 0===f.xid&&void 0===f.mid&&void 0===f.esn&&void 0===f.snum&&void 0===f.lnum);f.clver="0.0012.893.010";d.config&&d.config.vi&&(d.config.vi.os&&(f.osplatform=d.config.vi.os.name,f.osver=d.config.vi.os.version),f.browsername=d.config.vi.name,f.browserver=d.config.vi.version);h.da.get(n.Dk).hH&&(f.tester=!0);d.config.vo&&(f.groupname=d.config.vo);d.config.Gr&&(f.uigroupname=d.config.Gr);w=k.ht();this.timestamp=h.da.get(r.Pi).jg;x=h.da.get(u.Xf);c={type:b,sev:c,devmod:v.o$};B.va(c,f);B.va(c,{jssid:k.Dy,appId:x.id,appLogSeqNum:x.xna(),jsoffms:k.Ya(),client_utc:w,lver:v.gFa||"2012.2-CAD"});f=h.da.get(l.OW);c.uniqueLogId=f.S1();f="startup"===b?"playbackxid":"xid";d.config.tq&&(c.groupname=c.groupname?c.groupname+("|"+d.config.tq):d.config.tq);c.uigroupname&&(c.groupname=c.groupname?c.groupname+("|"+c.uigroupname):c.uigroupname);a&&(B.va(c,{soffms:a.Lw(),mid:a.M,lvpi:a.sH,uiLabel:a.Tc||""}),c[f]=a.ia,a.ou&&(f=a.ou,(a=a.ou.split("."))&&1<a.length&&"S"!==a[0][0]&&(f="SABTest"+a[0]+".Cell"+a[1]),c.groupname=c.groupname?c.groupname+("|"+f):f));this.data=c;this.type=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);k=a(17);h=a(3);g=a(107);p=a(9);n=a(49);r=a(42);u=a(29);v=a(32);B=a(18);l=a(209);y=a(151);c.Ly=b;b.prototype.G2a=function(){this.Lfa||(this.Lfa=y.q4(this.data));return this.Lfa;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ns="TimingApiSymbol";},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.format=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.prototype.$hb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.prototype.dT=function(a){return JSON.stringify(a,null,"  ");};d=b;d=f.__decorate([a.P()],d);c.ev=d;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yu="MslSymbol";},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(231);k=a(134);h=a(116);a=function(a){function c(b,c){a.call(this);this.Zn=b;(this.ka=c)||1!==b.length||(this.Kp=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var g;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];h.Rw(b)?a.pop():b=null;g=a.length;return 1<g?new c(a,b):1===g?new d.yW(a[0],b):new k.dD(b);};c.bb=function(a){var b,c,d;b=a.Zn;c=a.index;d=a.Me;c>=a.count?d.complete():(d.next(b[c]),d.closed||(a.index=c+1,this.ib(a)));};c.prototype.cf=function(a){var b,d,g;b=this.Zn;d=b.length;g=this.ka;if(g)return g.ib(c.bb,0,{Zn:b,index:0,count:d,Me:a});for(g=0;g<d&&!a.closed;g++)a.next(b[g]);a.complete();};return c;}(f.oa);c.Fu=a;},function(f,c){c.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.F$="DrmServicesSymbol";c.$C="DrmServicesProviderSymbol";},function(f,c){var a;Object.defineProperty(c,"__esModule",{value:!0});a=0;c.id=function(){return a++;};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(4);d=a(5);k=a(9);h=a(2);g=a(3);p=a(64);f.Yd(h.I.MK,function(a){k.ha(b.config);k.ha(t._cad_global.msl.Ke);g.da.get(p.mp)().then(function(b){c.eg=b;a(d.kb);})["catch"](function(b){a(b);});});},function(f,c,a){var g,p;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function d(a){return g.$c(a);}function k(a){return g.aa(a);}function h(a){return!b(a)&&!d(a)&&!k(a)&&!Array.isArray(a)&&g.Ad(a);}g=a(8);p={Ju:0,mL:1,uFa:2,OBJECT:3,Zg:4};f.K={D2:function(a){return b(a)?p.Ju:d(a)?p.mL:k(a)?p.uFa:h(a)?p.OBJECT:p.Zg;},YP:b,$c:d,aa:k,Ad:h,wl:p};},function(f){var c;c={SG:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);}};f.K=c;},function(f,c,a){function b(a,b){this.Mz=a;this.Hg=Math.floor((a+b-1)/b);this.Ob=b;this.reset();}a(20);b.prototype.shift=function(){this.ec.shift();this.Qn.shift();};b.prototype.iI=function(a){return this.zja(this.ec[a],a);};b.prototype.update=function(a,b){this.ec[a]=(this.ec[a]||0)+b;};b.prototype.push=function(){this.ec.push(0);this.Qn.push(0);this.Aa+=this.Ob;};b.prototype.add=function(a,b,c){var g,d,h;if(null===this.Aa)for(g=Math.max(Math.floor((c-b+this.Ob-1)/this.Ob),1),this.Aa=b;this.ec.length<g;)this.push();for(;this.Aa<=c;)this.push(),this.ec.length>this.Hg&&this.shift();if(null===this.Dj||b<this.Dj)this.Dj=b;if(b>this.Aa-this.Ob)this.update(this.ec.length-1,a);else if(b==c)g=this.ec.length-Math.max(Math.ceil((this.Aa-c)/this.Ob),1),0<=g&&this.update(g,a);else for(g=1;g<=this.ec.length;++g){d=this.Aa-g*this.Ob;h=d+this.Ob;if(!(d>c)){if(h<b)break;this.update(this.ec.length-g,Math.round(a*(Math.min(h,c)-Math.max(d,b))/(c-b)));}}for(;this.ec.length>this.Hg;)this.shift();};b.prototype.start=function(a){null===this.Dj&&(this.Dj=a);null===this.Aa&&(this.Aa=a);};b.prototype.stop=function(a){var b,c;if(null!==this.Aa)if(a-this.Aa>10*this.Mz)this.reset();else{for(;this.Aa<=a;)this.push(),this.ec.length>this.Hg&&this.shift();b=this.ec.length-Math.ceil((this.Aa-this.Dj)/this.Ob);0>b&&(this.Dj=this.Aa-this.Ob*this.ec.length,b=0);c=this.ec.length-Math.ceil((this.Aa-a)/this.Ob);if(b===c)this.Qn[b]+=a-this.Dj;else if(c>b)for(this.Qn[b]+=(this.Aa-this.Dj)%this.Ob,this.Qn[c]+=this.Ob-(this.Aa-a)%this.Ob,a=b+1;a<c;++a)this.Qn[a]=this.Ob;this.Dj=null;}};b.prototype.zja=function(a,b){b=this.T1(b);return 0===b?null:8*a/b;};b.prototype.T1=function(a){var b;b=this.Qn[a];null!==this.Dj&&(a=this.Aa-(this.ec.length-a-1)*this.Ob,a>this.Dj&&(b=a-this.Dj<=this.Ob?b+(a-this.Dj):this.Ob));return b;};b.prototype.get=function(a,b){var c,g;c=this.ec.map(this.zja,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Ob));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(g||0):g=void 0!==g?b*c[a]+(1-b)*g:c[a];}return c;};b.prototype.reset=function(){this.ec=[];this.Qn=[];this.Dj=this.Aa=null;};b.prototype.setInterval=function(a){this.Hg=Math.floor((a+this.Ob-1)/this.Ob);};f.K=b;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);c.$y=function(a,c){var d;b.va(this,{lo:function(){d||(d=setTimeout(c,a));},wf:function(){d&&(clearTimeout(d),d=void 0);}});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fy="LogMessageFactorySymbol";},function(f,c,a){var b;b=a(153);f.K=function(a){return function h(c){return 0===arguments.length||b(c)?h:a.apply(this,arguments);};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uca="PboLinksManagerSymbol";c.Ry="PboLinksManagerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){function b(){}function c(){}function k(){}k.cza="cache_start";k.dza="cache_success";k.$ya="cache_abort";k.bza="cache_fail";k.aza="cache_evict";k.iGa="pb_request";k.hJa="start_playback";a.Nu=k;c.q9="auth";c.Su="ldl";c.iD="hdr";c.MEDIA="media";a.bi=c;b.bK="cached";b.LOADING="loading";b.EBa="expired";a.VJ=b;}(c.Kd||(c.Kd={})));c.wda="PrefetchEventsFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yy="SourceBufferTypeProviderSymbol";},function(f,c){var b;function a(){}Object.defineProperty(c,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Zk=function(a){return void 0!==a;};a.prototype.Lf=function(a){return null!==a&&void 0!==a;};a.prototype.Uv=function(b){return a.Iia(b);};a.prototype.mN=function(b){return!(!b||!a.Iia(b));};a.prototype.Wn=function(a){return Array.isArray(a);};a.prototype.Jia=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.If=function(b,c,h){return a.jia(b,c,h);};a.prototype.WY=function(b){return a.WY(b);};a.prototype.pZ=function(b,c,h){return a.sN(b,c,h)&&0===b%1;};a.prototype.Xn=function(b,c,h){return a.sN(b,c||0,h);};a.prototype.Qz=function(b){return a.sN(b,1);};a.prototype.vQa=function(b){return a.sN(b,0,255);};a.prototype.wQa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Kia=function(a){return!(!a||!b.test(a));};a.prototype.fh=function(b){return a.kia(b);};a.prototype.ti=function(b){return!(!a.kia(b)||!b);};a.prototype.Oz=function(a){return!0===a||!1===a;};a.prototype.Pz=function(a){return"function"==typeof a;};a.kia=function(a){return"string"==typeof a;};a.jia=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.WY=function(a){return"number"==typeof a&&isNaN(a);};a.sN=function(b,c,h){return a.jia(b,c,h)&&0===b%1;};a.Iia=function(a){return"object"==typeof a;};c.rp=new a();},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.pea="SystemRandomSymbol";c.TD="RandomGeneratorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cy="IdProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Bp=0]="STANDARD";a[a.Ey=1]="LIMITED";}(c.xn||(c.xn={})));c.u7a=function(a){return["STANDARD","LIMITED"][a];};},function(f,c){c.Rw=function(a){return a&&"function"===typeof a.ib;};},function(f,c,a){var d,k;function b(a,b,c,n,r){a=void 0===a?d.I.Zg:a;return k.dc.call(this,a,b,c,void 0,void 0,n,k.dc.xc(r),r)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);k=a(58);ha(b,k.dc);c.zf=b;},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y,w,x,C,F,P,M,m;function b(){return v.da.get(P.eL)()["catch"](function(a){v.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){v.log.error("Unable to send deferred playdata",a);});}Object.defineProperty(c,"__esModule",{value:!0});d=a(19);k=a(80);h=a(177);g=a(47);p=a(172);n=a(246);r=a(4);u=a(16);v=a(3);B=a(198);l=a(29);y=a(2);w=a(34);x=a(159);C=a(203);F=a(14);P=a(124);M=a(154);m=a(17);c.HKa=function(){var f,z;function a(a){v.da.get(w.OK).data=a;}f=this;z=v.da.get(B.iW);f.createPlayer=function(a,b){var c,g,d,h;b&&(F.Ad(b)?(c=b,g=b.uiLabel||"",d=b.manifest):c={Ug:b});h=v.da.get(l.Xf).Xd();d&&d.runtime&&(d.clientGenesis=d.clientGenesis||m.eA(),d=v.da.get(M.zV).decode(d));a=new p.DKa(a,c,g,d,h);c=b.clipStart;b=b.clipDuration;return 0<c||0<b?n.XWa(a,c,b):a;};f.closeAllPlayers=function(a){u.ida(function(){a&&a();});};f.init=function(a){d.pH(function(d){d.N?r.config.BS?b().then(function(){return h.QHa();})["catch"](function(a){v.log.error("Unable to initialize the playdata services",a);}).then(function(){F.va(f,c.gv);a&&a(F.va({success:!0},c.gv));}):(F.va(f,c.gv),a&&a(F.va({success:!0},c.gv))):a&&a({success:!1,error:g.av(d.errorCode||y.I.yaa,d)});});};f.applyConfig=function(b){a(b);r.nka(b);};f.prepare=function(a,b){var c,g;c=z.rla(a);try{g=[];c.forEach(function(a,b){c.filter(function(c,g){return g>b&&c.M==a.M;})[0]||g.push(a);});r.config.$m&&t._cad_global.videoPreparer&&t._cad_global.videoPreparer.du(g,b);}catch(ca){v.log.warn("Prepare call failed",ca);}};f.predownload=function(a,b){var c;try{c=z.rla(a);c&&r.config.ly&&t._cad_global.videoPreparer&&t._cad_global.videoPreparer.zcb(c,b);}catch(G){v.log.warn("Predownload call failed",G);}};f.lookupPredownloaded=function(){return r.config.ly&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Yw():Promise.resolve([]);};f.ppmUpdate=function(a){"undefined"!==typeof t._cad_global.playerPredictionModel?((a=z.bZa(a))&&t._cad_global.playerPredictionModel.update(a),t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.update(a)):v.log.error("ppmUpdate called but there is no ppmModel");};f.canFulfillUIIntent=function(a,b,c){if(r.config.$m&&t._cad_global.videoPreparer)return t._cad_global.videoPreparer.i_(a,b,c);c(!1);};f.supportsHdr=function(a){var b;try{b=v.LA().lJ();a(b);}catch(N){a(!1);}};f.supportsUltraHd=function(a){v.LA().mJ().then(function(b){a(b);})["catch"](function(){a(!1);});};f.supportsDolbyAtmos=function(a){var b;try{b=v.LA().iJ();a(b);}catch(N){a(!1);}};f.supportsDolbyVision=function(a){var b;try{b=v.LA().jJ();a(b);}catch(N){a(!1);}};f.videoCache=function(){if(v.da.get(x.rK).get())return k.Bh;};f.close=function(){};f.deviceThroughput=function(){var a;a=v.da.get(C.YK).a0();return a?Promise.resolve(a.Gm()):Promise.resolve(void 0);};f.deviceThroughputNiqr=function(){var a;a=v.da.get(C.YK).a0();return a?Promise.resolve(a.L3a()):Promise.resolve(void 0);};f.isSeamlessEnabled=function(){return r.config.t_a;};a(arguments[0]);r.QUa(arguments);v.LA().mJ();};c.gv={};},function(f,c,a){var b,d,k,h,g,p,n,r,u,v,B,l,y;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(140);d=a(485);k=a(139);h=a(4);g=a(5);p=a(146);n=a(260);r=a(17);u=a(2);v=a(3);B=a(203);l=a(6);y=a(121);f.Yd(u.I.zaa,function(f){var u,w,z,P,M,m,O;u=v.da.get(B.YK).a0();w=v.da.get(p.C$).uy;z={};z.Bx=v.lP("ASE");z.RRa=v.lP("JS-ASE",void 0,"Platform");z.Gc=v.lP;z.storage=y.storage;z.Cq=y.Cq;z.M3a=l.oK;z.getTime=r.Ya;z.mB={};z.Ua=b.Ua;z.Ap=d.Ap;z.uy=w;z.MediaSource=n.PEa;z.SourceBuffer=k.Tba;z.jwb=function(){};w=new Promise(function(a){y.storage.load("nh",function(b){z.mB.nh=b.N?b.data:void 0;a();});});P=new Promise(function(a){y.storage.load("lh",function(b){z.mB.lh=b.N?b.data:void 0;a();});});M=new Promise(function(a){y.storage.load("gh",function(b){z.mB.gh=b.N?b.data:void 0;a();});});m=new Promise(function(a){y.storage.load("sth",function(b){z.mB.sth=b.N?b.data:void 0;a();});});O=new Promise(function(a){y.storage.load("vb",function(b){z.mB.vb=b.N?b.data:void 0;a();});});Promise.all([w,P,O,m,M]).then(function(){var b,d;b=a(483)(z);d=a(70);c.Pj=a(259);c.Pj.declare(d.jo);c.Pj.declare({ly:["useMediaCache",!1],vA:["diskCacheSizeLimit",0],Bub:["dailyDiskCacheWriteLimit",0],LQ:["mediaCachePrefetchMs",8E3],L4:["mediaCachePartitionConfig",{}]});c.Pj.set(a(150)(h.config),!0,v.lP("ASE"));b=d.E8a(b);c.cj=new b(c.Pj,u);c.cj.Zc(h.config.xZ,h.config.AZ,{Bx:z.Bx},h.config.dS);f(g.kb);})["catch"](function(a){z.Bx.error("Exception loading location history from local storage",a);});});},function(f,c,a){var g,p,n,r,u,v,B,z,y,w,x,l,F,P,M,m,O,q,U,Y,X,N,G,ca,V,fa,ba,ma,ja,ka,qa,va,Va,wa,A;function b(a){switch(a){case N.v.mD:return"http";case N.v.nD:return"connectiontimeout";case N.v.Ru:return"readtimeout";case N.v.eV:return"corruptcontent";case N.v.Vr:return"abort";case N.v.yy:case N.v.iV:return"unknown";}}function d(b,g,d,p){var n,r,f,v,x;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(b.devmod=nrdp.device.deviceModel);g.TN&&(b.pbcid=g.TN);g.Rg&&(b.playbackoffline=g.Rg,b.oxid=g.A5,b.offlinenetworkstatus=g.Zra);p&c.yg&&(m.ha(!b||void 0===b.moff),0<=g.Ic.value&&(b.moff=O.HD(g.Ic.value)));if(p&c.My){n=a(70).Pl;r=g.wb[n.u.VIDEO].value;n=g.wb[n.u.AUDIO].value;f=g.vh.value;v=g.og.value;r&&(b.cdnid=r.id,b.cdnname=r.name);n&&(b.acdnid=n.id,b.acdnname=n.name);f&&(b.adlid=f.stream.vc,b.abitrate=f.stream.L);v&&(b.vdlid=v.stream.vc,b.vbitrate=v.stream.L,b.vheight=v.stream.height,b.vwidth=v.stream.width);}p&c.Df&&(g.fb&&(b.abuflbytes=g.CZ(),b.abuflmsec=g.Yv(),b.vbuflbytes=g.Z8(),b.vbuflmsec=g.oy()),(r=g.jl&&g.jl.K2a&&g.jl.K2a())&&(b.curdlstatename=r));if(p&c.XK){h(b);try{x=g.We.getBoundingClientRect();b.rendersize=x.width+"x"+x.height;b.renderpos=x.left+"x"+x.top;}catch(ob){}}p&c.fs&&(x=ma.Yg.hardwareConcurrency,0<=x&&(b.numcores=x),0<=g.X_&&(b.cpuspeed=g.X_),(x=g.xO&&g.xO.j2a())&&(b.droppedFrames=JSON.stringify(x)),x=g.xO&&g.xO.n2(u.config.YZa),O.ic(x,function(a,c){b["droppedFramesP"+a]=JSON.stringify(c);}));if(p&c.WK)try{g.Qj&&(b.cdninfo=JSON.stringify(g.Qj.map(function(a){return{id:a.id,nm:a.name,rk:a.rd,wt:a.location.weight,lv:a.location.level};})));}catch(ob){}d&&p&c.UV&&(m.ha(g.oh),(d=g.oh)?k(b,d):b.errorcode=N.I.Zg,b.errorcode===U.tK+N.I.Bca&&(b.lastSyncWithVideoElement=w.Ya()-g.gwa));}function k(a,c){m.ha(c.errorCode);a.errorcode=U.tK+(c.errorCode||N.I.Zg);c.S&&(a.errorsubcode=c.S);c.xb&&(a.errorextcode=c.xb);c.EA&&(a.erroredgecode=c.EA);c.Ga&&(a.errordetails=c.Ga);c.mh&&(a.httperr=c.mh);c.bR&&(a.aseneterr=c.bR);c.bl&&(a.errordata=c.bl);c.CH&&(a.mediaerrormessage=c.CH);if(c.xb===N.Ou.Iya||c.xb===N.Ou.Dya||c.xb===N.Ou.Gya||c.xb===N.Ou.Hya||c.xb===N.Ou.Fya||c.xb===N.Ou.Eya)a.nccperr=c.xb;(c=b(c.S))&&(a.nwerr=c);}function h(a){a.screensize=ma.vp.width+"x"+ma.vp.height;a.screenavailsize=ma.vp.availWidth+"x"+ma.vp.availHeight;a.clientsize=t.innerWidth+"x"+t.innerHeight;}Object.defineProperty(c,"__esModule",{value:!0});g=a(179);p=a(26);n=a(266);r=a(5);u=a(4);v=a(94);B=a(16);z=a(27);y=a(72);w=a(17);x=a(3);l=a(222);F=a(397);P=a(63);M=a(217);m=a(9);O=a(18);q=a(7);U=a(32);Y=a(56);X=a(22);N=a(2);G=a(14);ca=a(35);V=a(354);fa=a(265);ba=a(488);ma=a(6);ja=a(25);ka=a(33);qa=a(15);va=a(390);Va=a(487);wa=a(218);A=a(125);c.yFa=function(h){var ta,Ea,Fa,Ba,Na,Ia,Ma,Ta,Pa,Wa,Ra,Xa,Ya,Ua,ab,Za,gb,db,$a,eb,hb,ib,mb,fb,nb,pb,lb,vb,bb,wb,jb,qb,kb;function k(a,b,c,g,p){d(g,h,b,c);a=new v.Ly(h,a,p||(b?"error":"info"),g);t._cad_global.logBatcher.$l(a);}function f(a){var b,d,v,y,l,C,F,P,M,fa,m,ba,ea,W,ja,V,G,N,ka,va,ca,wa,A;b={};try{b={browserua:ma.Dh,browserhref:location.href,playdelaysdk:O.Fk(h.MTa()),applicationPlaydelay:O.Fk(h.GTa()),playdelay:O.Fk(h.LTa()),trackid:h.Ug,connection_type:"parallel"===u.config.WUa?"multi":"single",bookmark:O.Fk(h.Xs||0),pbnum:h.index,endianness:z.Y2a()};u.config.x_a&&(b.transitiontime=h.gy,b.uiplaystarttime=h.oc.vT,b.playbackrequestedat=h.mI.pa(q.Qa),b.clockgettime=w.Ya(),b.clockgetpreciseepoch=w.eA(),b.clockgetpreciseappepoch=w.aka(),b.absolutestarttime=h.kP(),b.relativetime=h.Lw());ud(b,"startplay");}catch(Gb){ta.error("error in startplay log fields",Gb);}h.aw&&(b.blocked=h.aw);u.config.endpoint||(b.configendpoint="error");h.Ve&&(b.playbackcontextid=h.Ve);h.RN&&(b.controllerESN=h.RN);if(u.config.IT&&h.oc.e9){for(var p={},n=Object.keys(h.oc.e9),r,f=n.length;f--;)r=n[f],p[r.toLowerCase()]=h.oc.e9[r];b.vui=p;}qa.aa(h.kja)&&(b.bookmarkact=O.Fk(h.kja));(p=Fa.f2a())&&(b.nccpat=p);(p=Fa.y3a()||h.pQ&&h.pQ.pa(q.Qa))&&(b.nccplt=p);(p=sf())&&(b.downloadables=p);t._cad_global.device&&qa.cb(t._cad_global.device.HA)&&(b.esnSource=t._cad_global.device.HA);U.ei&&O.va(b,U.ei,{prefix:"pi_"});u.config.zO&&(b.congested=g.kw&&g.kw.yG()&&g.kw.yG().isCongested);(p=ma.Yg&&ma.Yg.connection&&ma.Yg.connection.type)&&(b.nettype=p);h.Loa&&(b.initSelReason=h.Loa);h.aB&&(b.initvbitrate=h.aB);h.nia&&(b.actualbw=h.nia);h.mu&&(b.selector=h.mu);b.fullDlreports=h.Pla;b.hasasereport=h.Xj;b.hashindsight=h.$k;h.woa&&(b.histdiscbw=h.woa);h.Koa&&(b.initseldiscbw=h.Koa);void 0!==h.cH&&(b.isConserv=h.cH);void 0!==h.ho&&(b.ccs=h.ho);h.eQ&&(b.isLowEnd=h.eQ);if(p=h.H5a)b.histtdmax=qa.aa(p.max)?Number(p.max).toFixed(2):void 0,b.histtdp90=qa.aa(p.eI)?Number(p.eI).toFixed(2):void 0,b.histtdp75=qa.aa(p.uh)?Number(p.uh).toFixed(2):void 0,b.histtdp50=qa.aa(p.ng)?Number(p.ng).toFixed(2):void 0,b.histtdp25=qa.aa(p.th)?Number(p.th).toFixed(2):void 0,b.histtdp10=qa.aa(p.dI)?Number(p.dI).toFixed(2):void 0,b.histtdmin=qa.aa(p.min)?Number(p.min).toFixed(2):void 0;h.nF&&(b.bcreason=h.nF);if(h.state.value>=B.km)try{v=h.xm();v&&(hb=z.w9(v.map(function(a){return a.L;})),ib=z.w9(v.map(function(a){return a.height;})),d=0<v.length?Va.Q8a(v,function(a){return a.L;}):void 0,b.maxbitrate=hb,b.maxresheight=ib);}catch(Gb){ta.error("Exception computing max bitrate",Gb);}try{y=z.xP();y&&(b.pdltime=y);}catch(Gb){}try{O.va(b,h.$d,{prefix:"sm_"});O.va(b,h.DP(),{prefix:"vd_"});}catch(Gb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&h.hu&&(b.pssh=h.hu);h.kh&&h.kh.Uh&&h.kh.Uh.keySystem&&(b.keysys=h.kh.Uh.keySystem);if(u.config.$m&&t._cad_global.videoPreparer)try{v={};l=t._cad_global.videoPreparer.getStats(void 0,void 0,h.M);C=h.kP();F=l.zu.MUa;v.attempts=l.kta||0;v.num_completed_tasks=F.length;P=x.da.get(X.ze).X0a;y={};M=Y.Jc.Jd.dea;fa=Y.Jc.Jd.hm;m=Y.Jc.Jd.dK;ba=Y.Jc.Jd.VC;ea=Y.Jc.Jd.cK;l.Nh&&(y.scheduled=l.Nh-C);W=h.Ma;W&&qa.cb(W.Ox)&&(y.preauthsent=W.Ox-h.He,y.preauthreceived=W.WB-h.He);ja=F.filter(P("type","manifest"));v.mf_succ=ja.filter(P("status",M)).length;v.mf_fail=ja.filter(P("status",fa)).length;V=h.$d;qa.cb(V.lg)&&0>V.lg&&h.He&&(y.ldlsent=V.lc,y.ldlreceived=V.lr);G=F.filter(P("type","ldl"));v.ldl_succ=G.filter(P("status",M)).length;v.ldl_fail=G.filter(P("status",fa)).length;l=!0;if(!y.preauthreceived||0<=y.preauthreceived)l=!1;u.config.BO||(l=!1);N=G.filter(P("status",m)).length;ka=G.filter(P("status",ba)).length;va=G.filter(P("status",ea)).length;u.config.BO&&0===N+ka+va&&(!y.ldlreceived||0<=y.ldlreceived)&&(l=!1);if(u.config.AO){ca=t._cad_global.videoPreparer.mP(h.M);if(ca){if(ca.YO&&(y.headersent=ca.YO-h.He),ca.nQ&&(y.headerreceived=ca.nQ-h.He),ca.NB&&(y.prebuffstarted=ca.NB-h.He),ca.pI&&(y.prebuffcomplete=ca.pI-h.He),!y.prebuffcomplete||0<=y.prebuffcomplete)l=!1;}else l=!1;}wa=F.filter(P("type","getHeadersAndMedia"));v.hm_succ=wa.filter(P("status",M)).length;v.hm_fail=wa.filter(P("status",fa)).length;O.va(b,v,{prefix:"pr_"});b.eventlist=JSON.stringify(y);b.prefetchCompleted=l;da(b);}catch(Gb){ta.warn("error in collecting video prepare data",Gb);}b.avtp=fb.Gm().cy;h.tj&&ha(b);if(h.bd.value)try{b.ttTrackFields=h.bd.value.Sh;}catch(Gb){}if(F=h.ud&&h.ud.value&&h.ud.value.Ab){A={};F.forEach(function(a){A[a.ve]=void 0;});b.audioProfiles=Object.keys(A);}Sb(b);h.Ma&&"boolean"===typeof h.Ma.isSupplemental&&(b.isSupplemental=h.Ma.isSupplemental);b.headerCacheHit=!!h.wo;h.wo&&(b.headerCacheDataAudio=h.wo.audio,b.headerCacheDataAudioFromMediaCache=h.wo.audioFromMediaCache,b.headerCacheDataVideo=h.wo.video,b.headerCacheDataVideoFromMediaCache=h.wo.videoFromMediaCache);h.Ma&&(b.packageId=h.Ma.packageId);h.Ma&&h.Ma.choiceMap&&(b.hasChoiceMap=!0);b.isNonMember=qb.Ci;void 0===bb&&void 0!==d&&(bb=vb.o1(d));void 0===jb&&(jb=wb.O0a());h.oc.kf&&(b.isBranching=!0);tb(h,b);ga(b);oa(b);na(b);ra(b);ua(b);ya(b);k("startplay",a,c.yg|c.My|c.Df|c.XK|c.fs|c.WK|c.UV,b);}function C(){var a,b;a={waittime:O.Fk(h.Lw()),abortedevent:"startplay",browserua:ma.Dh,trackid:h.Ug};h.Ve&&(a.playbackcontextid=h.Ve);h.aB&&(a.initvbitrate=h.aB);try{b=z.xP();b&&(a.pdltime=b);O.va(a,h.$d,{prefix:"sm_"});}catch(Mc){}ia(a,!0);ua(a);ya(a);Sb(a);Le(a);xa(a,h.Ni.value,h.Vz.value);k("playbackaborted",!1,c.yg|c.Df|c.fs,a);}function ea(a,b,d){a=O.va({vdlid:h.Ni.value.vc,playingms:a,pausedms:b,intrplayseq:Za++},d);ud(a,"intrplay");a.cdnid=a.vcdnid=h.wb[kb.u.VIDEO].value&&h.wb[kb.u.VIDEO].value.id;a.acdnid=h.wb[kb.u.AUDIO].value&&h.wb[kb.u.AUDIO].value.id;a.locid=Pa&&Pa.X3;a.loclv=Pa&&Pa.fqa;u.config.zO&&(a.congested=g.kw&&g.kw.yG()&&g.kw.yG().isCongested);a.avtp=fb.Gm().cy;h.tj&&(ia(a,!0),ha(a),rc(a));try{O.va(a,h.DP(),{prefix:"vd_"});}catch(Me){}tb(h,a);xa(a,h.og.value&&h.og.value.stream,h.vh.value&&h.vh.value.stream);k("intrplay",!1,c.yg|c.Df,a);}function W(){k("timedtextrebuffer",!1,c.yg|c.Df,{track:h.bd.value.Sh});}function Ga(a){a.newValue&&Ba&&(a={track:a.newValue.Sh},xa(a,h.og.value&&h.og.value.stream,h.vh.value&&h.vh.value.stream),k("timedtextswitch",!1,c.yg|c.Df,a));}function yb(a){k("serversel",!1,c.yg|c.Df,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});}function Fb(a){k("asereport",!1,c.Df,{strmsel:a.strmsel});}function ob(a){k("aseexception",!1,c.Df,{msg:a.msg});}function D(){var a,b;if(h.Qj)try{a=!1;Ea%u.config.aG&&!h.Xj&&(a=!0,$a=$a.filter(function(a){return!a.N;}));if(0<$a.length){b=n.XUa($a);$a=[];b.erroronly=a;u.config.tO.length&&(b.tcpinfo=u.config.tO.join(","));O.ic(b,function(a,c){b[a]=JSON.stringify(c);});k("dlreport",!1,c.Df,b);}}catch(Mc){ta.error("Exception in dlreport.",Mc);}}function sb(a){var g,d,p,n,r,f;g=a.request;d=a.request.Di;p=g.track;if(p){n=!a.N&&a.S!=N.v.Vr;r=p.type;f=a.Pf;if(n||h.sH){d={dltype:r,url1:g.url,url2:a.url||"",cdnid:g.wb&&g.wb.id,tresp:O.Fk(f.uf-f.requestTime),brecv:O.xFa(f.xq),trecv:O.Fk(f.nk-f.uf),sbr:d&&d.L};a.pr&&(d.range=a.pr);switch(r){case y.Cf.audio:d.adlid=g.stream.vc;break;case y.Cf.video:d.vdlid=g.stream.vc;break;case y.Cf.mT:d.ttdlid=p.vc;}(g=b(a.S))&&(d.nwerr=g);a.mh&&(d.httperr=a.mh);k("dlreq",n,c.Df,d);}}}function S(){var a,b;if(h.state.value==B.km){a=aa();u.config.P6&&(a.avtp=fb.Gm().cy,h.tj&&ha(a));a.midplayseq=gb++;b=h.Ac.value;a.prstate=b==B.Dn?"playing":b==B.zp?"paused":b==B.bv?"ended":"waiting";!h.Rg&&u.config.Ufb&&cb("midplay");u.config.$m&&t._cad_global.videoPreparer&&da(a);ga(a);oa(a);k("midplay",!1,c.yg|c.Df|c.fs|c.XK,a);}}function cb(a){var b,g;b={};b.trigger=a;try{g=h.o2();b.subtitleqoescore=h.ap.C4a(g);b.metrics=JSON.stringify(h.ap.y2(g));}catch(Me){ta.error("error getting subtitle qoe data",Me);}k("subtitleqoe",!1,c.yg|c.fs|c.My,b,"info");}function tb(a,b){var c,g;if(u.config.i6a){c=a.p2();if(c){b.segment=c;g=a.Kw();a:{if(a=a.pP())if(c=a[c]){c=c.uC;break a;}c=void 0;}null!==g&&void 0!==c&&(b.segmentoffset=g-c);}}}function rc(a){var b,c;b=h.Q2;c=b&&b.Feb;b&&b.Doa&&(a.htwbr=b.Doa,a.pbtwbr=b.uR,a.hptwbr=b.T5a);b&&b.Dua&&(a.rr=b.Dua,a.ra=b.vdb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));}function Sb(a){var b,c;b=h.Xe&&h.Xe.value&&h.Xe.value.Ab;if(b){c={};b.forEach(function(a){c[a.ve]=void 0;});a.videoProfiles=Object.keys(c);}}function Le(a){var b,c,g;try{b=x.da.get(X.ze).createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){g=c.getExtension("WEBGL_debug_renderer_info");g&&(a.WebGLRenderer=c.getParameter(g.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(g.UNMASKED_VENDOR_WEBGL));}}catch(xf){}}function ec(a){var b,g,d,p,z;b=aa();g=[];ud(b,"endplay");b.browserua=ma.Dh;h.gp&&"downloaded"===h.gp.Qna()&&(b.trickplay_ms=h.AJ.offset,b.trickplay_res=h.AJ.jua);u.config.V8&&(b.rtinfo=h.l4a());if(u.config.P6){nb.v2a().forEach(function(a){g.push({cdnid:a.bA,avtp:a.cy,tm:a.L0});});d=fb.Gm().cy;void 0!==b.avtp?b.avtp_retired=d:b.avtp=d;b.cdnavtp=g;h.tj&&ha(b);}void 0!==h.cH&&(b.isConserv=h.cH);void 0!==h.ho&&(b.ccs=h.ho);b.endreason=a?"error":h.Ac.value==B.bv?"ended":"stopped";h.KN&&O.va(U.ei,{cast_interaction_counts:h.KN.HY});U.ei&&O.va(b,U.ei,{prefix:"pi_"});d=h.oh;a&&d&&x.MBa(d.errorCode)&&(p="info");try{O.va(b,h.$d,{prefix:"sm_"});}catch(Ne){}h.f3&&(b.inactivityTime=h.f3);ia(b,"info"!==p&&a);rc(b);if(h.gw){for(var d=h.gw,n=u.config.Yz,r=h.He,f={iv:n,seg:[]},v=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},w=d.ao.map(v),v=d.jp.map(v),y,l=0;l<w.length;l++){if(w[l]||v[l])y?(y.ams.push(w[l]),y.vms.push(v[l])):y={ams:[d.ao[l]],vms:[d.jp[l]],soffms:d.startTime+l*n-r};l!==w.length-1&&w[l]&&v[l]||!y||(f.seg.push(y),y=void 0);}b.bt=JSON.stringify(f);}if(h.KQ&&0<h.KQ.length){z=[];h.KQ.forEach(function(a){z.push({soffms:a.time-h.He,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});b.maxvbevents=z;}h.qta&&(b.psdConservCount=h.qta);h.fb&&h.fb.Cc.bC&&(b.rl=JSON.stringify(h.fb.Cc.bC),b.rlmod=h.fb.Cc.aC);a&&(Sb(b),Le(b));cb("endplay");u.config.$m&&t._cad_global.videoPreparer&&da(b);b.isNonMember=qb.Ci;h.oc.kf&&(b.isBranching=!0);tb(h,b);ga(b);oa(b);na(b);h.fO&&(b.dqec=h.fO);ra(b);ya(b);Aa(b);jb&&(b.externaldisplay=jb.kG);k("endplay",a,c.yg|c.My|c.Df|c.fs|c.XK|c.UV,b,p);}function Oe(a){a=G.XI(a);a.details&&(a.details=JSON.stringify(a.details));k("subtitleerror",!0,c.yg|c.My|c.WK,a);}function sf(){var a;if(h.py&&h.bo){a=[];h.py.concat(h.bo).forEach(function(b){b.Ab.forEach(function(b){a.push({dlid:b.vc,type:b.type,bitrate:b.L,vmaf:b.ee});});});return JSON.stringify(a);}}function vf(){var b,c,g;function a(a,b){var d,h,p;d=a.cdnId;h=g[d];p=a.vmaf;h||(h={cdnid:d,dls:[]},g[d]=h,c.push(h));m.qw(a.bitrate);m.qw(a.duration);d={bitrate:a.bitrate,tm:ma.Bf(a.duration)};p&&(m.qw(a.vmaf),d.vf=p);d[b]=O.ed(a.downloadableId);h.dls.push(d);}b=h.Ym.d2a();c=[];g={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);}function aa(){var a,b,c,g,d,p,n,k,r,f,u,v,w;a=h.Ym;b={totaltime:O.HD(a.C2()),cdndldist:vf(),reposcount:ab,intrplaycount:Za};try{c={numskip:0,numlowqual:0};g=h.Pg;d=g.uP();qa.aa(d)&&(b.totfr=d,c.numren=d);d=g.Iw();qa.aa(d)&&(b.totdfr=d,c.numrendrop=d);d=g.zG();qa.aa(d)&&(b.totcfr=d,c.numrenerr=d);d=g.vP();qa.aa(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(c);b.videofr=h.Ni.value.gP.toFixed(3);p=a.ana();p&&(b.abrdel=p);n=a.v5a()&&a.i2a();n&&(b.tw_vmaf=n);k=a.h2a();k&&O.va(b,k);b.rbfrs=Za;b.maxbitrate=hb;b.maxresheight=ib;r=h.Xe.value.Ab;for(w=0;w<r.length;w++){f=r[w];if(v=h.O4.yr(f)){m.ha(u);b.maxbitrate=u?u.L:0;b.maxresheight=u?u.height:0;b.bitratefilters=v.join("|");break;}u=f;}h.gp&&(b.trickplay=h.gp.Qna());null!==h.ap.bja&&(b.avg_subt_delay=h.ap.bja);}catch(Ne){ta.error("Exception reading some of the endplay fields",Ne);}O.va(b,h.DP(),{prefix:"vd_"});return b;}function Z(){k("blockedautoplay",!1,c.yg|c.fs,{browserua:ma.Dh});}function ub(){var a,b,c;b=[];if(u.config.I9a){c={era:function(){},cva:function(){S();}};pb.addListener(c);u.config.J9a.forEach(function(a){b.push(setTimeout(S,a));});u.config.hra&&(a=setInterval(Tb,u.config.hra));h.addEventListener(B.Ze,function(){pb.removeListener(c);b.forEach(function(a){clearTimeout(a);});a&&clearInterval(a);});}}function Tb(){t._cad_global.logBatcher.flush(!0)["catch"](function(){return ta.warn("failed to flush logbatcher on midplay interval");});}function da(a){var b;try{b=t._cad_global.videoPreparer.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Sma);}catch(Mc){}}function ga(a){ta.debug("httpstats",p.Wb.$b);O.va(a,p.Wb.$b,{prefix:"http_"});}function ia(a,b){u.config.$ka&&!(Ea%u.config.$ka)&&h.fb&&h.fb.l3&&(a.ASEstats=JSON.stringify(h.fb.l3(b)));}function ha(a){var b,c;b=h.tj.sb.get(!0);if(b.bc&&b.ja){a.aseavtp=Number(b.ja.sa).toFixed(2);a.asevartp=Number(b.ja.ug).toFixed(2);if(b.kj){c=b.kj.Wm;!c||isNaN(c.uh)||isNaN(c.th)||isNaN(c.ng)||(a.aseniqr=0<c.ng?Number((c.uh-c.th)/c.ng).toFixed(2):-1,a.aseiqr=Number(c.uh-c.th).toFixed(2),a.asemedtp=Number(c.ng).toFixed(2));a.iqrsamples=b.kj.Uo;}b.tk&&b.tk.Lq&&(a.tdigest=b.tk.Lq());}}function oa(a){var b;try{b=ma.im.memory;qa.V6a(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(Mc){}}function na(a){var b;b=h.kh;u.config.ZTa&&b&&!u.config.sn&&(a.keystatuses=h.D$a(b.MX),ta.trace("keystatuses",a.keystatuses));}function ra(a){try{u.config.vF&&(a.battery=h.n2a(),ta.trace("batterystatuses",a.battery));}catch(rf){}}function ua(a){var b;b=h.oc.wh;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);}function ya(a){if(lb)try{a.storagestats=lb.getData();}catch(rf){}}function Aa(a){bb&&bb.tc&&(a.media_capabilities_smooth=bb.tc.mhb,a.media_capabilities_efficient=bb.tc.rcb,a.media_capabilities_bitrate=bb.tc.L,a.media_capabilities_height=bb.tc.height,a.media_capabilities_width=bb.tc.width);}function xa(a,b,c){c&&(a.adlid=c.vc,a.abitrate=c.L);b&&(a.vdlid=b.vc,a.vbitrate=b.L);}function ud(a,b){var c;c=h.Lq(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});}ta=x.jf(h,"NccpLogging");Ea=h.ia;Fa=h.DB;Na=h.paused.value;Ua=[];ab=0;Za=0;gb=0;db=0;$a=[];fb=x.da.get(l.IW)();nb=x.da.get(F.Z9);pb=x.da.get(P.Zr);vb=x.da.get(va.Rba);wb=x.da.get(wa.$$);qb=x.da.get(A.OD);u.config.DRa&&(lb=x.da.get(M.v9));kb=a(70).Pl;m.ha(Fa);m.ha(t._cad_global.logBatcher);(function(){var g;function a(a){function c(a){var b;if(h.Xb&&h.Xb.sourceBuffers){b=h.Xb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.ak(),updating:b.updating(),ranges:b.oP()};}}Ra="rebuffer";a={cause:a.cause};a.cause&&a.cause===B.cda&&(a.mediaTime=h.Ic.value,a.buf_audio=c(r.uV),a.buf_video=c(r.vD));ea(Ua[B.Dn]||0,Ua[B.zp]||0,a);Ia=w.Ya();ja.bb(b);}function b(){var a,b;if(Ia&&h.Ac.value!=B.fi){a=w.Ya()-Ia;b=Xa;b={playdelay:O.Fk(a),reason:Ra,intrplayseq:Za-1,skipped:b};tb(h,b);k("resumeplay",!1,c.yg|c.My|c.Df,b);"rebuffer"==Ra&&h.Ym.VQa(O.Fk(a));Ma&&Ma!=h.ud.value&&k("audioswitch",!1,c.yg|c.Df,{switchdelay:O.Fk(w.Ya()-Ta),newtrackinfo:h.ud.value.ac,oldtrackinfo:Ma.ac});Xa=Ra=Ia=void 0;}}h.addEventListener(ka.Ha.$F,sb,r.aL);h.addEventListener(ka.Ha.aw,Z);if(u.config.aG||u.config.Uz)h.addEventListener(ka.Ha.$F,function(a){$a.push(n.YUa(a));}),db=t.setInterval(D,u.config.GZa);u.config.P6&&h.addEventListener(ka.Ha.$F,function(a){var b,c,g;b=q.Hb(a.Pf.uf);c=q.Hb(a.Pf.nk);g=ca.ga(a.Pf.xq||0);g.Apa()||g.ipa()||(b=new V.Jda(b,c),fb.pN(new fa.qU(b,g)),a&&a.request&&a.request.Di&&a.request.Di.Rc&&nb.pN(new ba.Hza(b,g,a.request.Di.Rc)));});h.paused.addListener(function(a){var b;b=a.newValue;a.H$a&&b||b==Na||(a={newstate:b?"Paused":"Playing",oldstate:Na?"Paused":"Playing"},tb(h,a),xa(a,h.og.value&&h.og.value.stream,h.vh.value&&h.vh.value.stream),k("statechanged",!1,c.yg|c.Df,a),Na=b);});h.addEventListener(B.fL,a);h.addEventListener(B.WHa,a);h.addEventListener(B.rda,W);h.aq.addListener(Ga);h.Ac.addListener(function(a){var b;a=a.oldValue;b=w.Ya();a==B.fi?Ua=[]:Ua[a]=(Ua[a]||0)+(b-Ya);Ya=b;});h.addEventListener(B.oW,function(a){var g,d;switch(a.cause){case B.eda:case B.mW:if(Ra&&Ia){g=w.Ya()-Ia;d=Ra;g={waittime:O.Fk(g),abortedevent:"resumeplay",browserua:ma.Dh,resumeplayreason:d};h.Ve&&(g.playbackcontextid=h.Ve);h.aB&&(g.initvbitrate=h.aB);xa(g,h.Ni.value,h.Vz.value);k("playbackaborted",!1,c.yg|c.Df,g);}else Ba||C();Ra="repos";a={moffold:O.HD(a.YH),reposseq:ab++};xa(a,h.og.value&&h.og.value.stream,h.vh.value&&h.vh.value.stream);k("repos",!1,c.yg|c.Df,a);Ia=w.Ya();ja.bb(b);}});h.Ac.addListener(b);h.ud.addListener(function(a){Ta=w.Ya();Ma=a.oldValue;});h.addEventListener(B.xj,function(){m.ha(!Ba);Ba=!0;f(!1);ub();u.config.Qoa&&(eb=setTimeout(function(){t._cad_global.logBatcher&&t._cad_global.logBatcher.flush(!1)["catch"](function(){return ta.warn("failed to flush logbatcher on initialLogFlushTimeout");});eb=void 0;},u.config.Qoa));});h.addEventListener(B.Ze,function(){eb&&clearTimeout(eb);if(u.config.aG||u.config.Uz)db&&clearInterval(db),D();Ba?ec(!!h.oh):h.oh?f(!0):C();mb||(k=r.Db);});h.Xz&&h.Xz.addListener(function(a){k("bitraterestriction",!1,c.yg|c.Df,a.newValue);});h.Ni.addListener(function(a){var b,g,d;if(a.oldValue&&a.Tja){b=a.oldValue;g=a.newValue;d=a.GSa;a={moff:O.HD(a.Tja),vbitrate:g.L,vbitrateold:b.L,vdlid:g.vc,vdlidold:b.vc,vheight:g.height,vheightold:b.height,vwidth:g.width,vwidthold:b.width,bw:d};tb(h,a);k("chgstrm",!1,c.Df,a);}});h.og.addListener(function(a){var b,d;if(a.newValue){b=a.newValue.stream;if(g!=b){if(g){d=g;a={moff:O.HD(a.newValue.Rja.startTime),vdlidold:d.vc,vbitrateold:d.L};tb(h,a);xa(a,b,h.vh.value&&h.vh.value.stream);k("renderstrmswitch",!1,c.Df,a);}g=b;}}});h.addEventListener(B.mda,function(a){function b(a,b){var g,d,h,p,n;if(!a||a.X3!==b.location){g={X3:b.location,fqa:b.locationlv,ggb:b.serverid,kC:b.servername};d=b.serverid;h=b.serverrtt;p=b.serverbw;n={locid:b.location,loclv:b.locationlv,selocaid:d,selocaname:b.servername};n.mediatype=b.mediatype;n.selcdnrtt=h;n.selcdnbw=p;n.selreason=b.selreason;n.testreason=b.testreason;n.fastselthreshold=b.fastselthreshold;n.seldetail=b.seldetail;n.cdnbwdata=JSON.stringify([{id:d,rtt:h,bw:p}]);a&&(n.oldlocid=a.X3,n.oldloclv=a.fqa,n.oldocaid=a.ggb,n.oldocaname=a.kC);k("cdnsel",!1,c.WK,n);return g;}}"audio"===a.mediaType?(a=b(Wa,a))&&(Wa=a):(a=b(Pa,a))&&(Pa=a);});h.addEventListener(B.nda,yb);h.addEventListener(B.gda,Fb);h.addEventListener(B.fda,ob);u.config.Yh&&(mb=!0);h.addEventListener(B.fIa,Oe);h.addEventListener(B.pda,function(){Xa=!0;});}());this.wS=function(a){a.browserua=ma.Dh;k("securestop",!a.success,c.yg|c.fs,a);k=r.Db;};this.transition=function(a){k("transition",!1,0,a);};};c.BFa=b;c.Tpb=d;c.zFa=k;c.AFa=h;c.yg=1;c.My=2;c.Df=4;c.XK=8;c.fs=16;c.WK=32;c.UV=64;},function(f,c,a){var b,d,k,h,g,p,n;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(274);d=a(4);k=a(5);h=a(275);g=a(2);p=a(273);n=a(271);c.storage=c.storage||void 0;c.Cq=c.Cq||void 0;f.Yd(g.I.Maa,function(a){var g;switch(d.config.ZS){case"fs":g=b.Ohb;break;case"idb":g=p.Phb;break;case"none":g=h.Rhb;break;case"ls":g=n.Qhb;}g(function(b){b.N?(c.storage=b.storage,c.Cq=b.Cq,a(k.kb)):a(b);});});},function(f,c,a){var d,k;function b(a,b,c,d){k.call(this,c);this.location=a.location||b.location;this.Rc=a.Rb||b.Rb;this.F7=a.F7||b.F7;this.Hk=!1;this.T=d;}a(8);a(24);d=a(13);c=a(10);k=a(91);new c.Console("ASEJS","media|asejs");a(20);b.prototype=Object.create(k.prototype);b.prototype.toJSON=function(){return this.toString();};b.prototype.Zc=function(a,b){this.te=a;this.Ue=b;this.nZ=!1;this.T=b;};b.prototype.NM=function(a){var b,c,h;b={type:"logdata",target:"endplay",fields:{}};c=this.O===d.u.AUDIO?"audioedit":"videoedit";h=[this.ij===this.X?this.xi:this.Lg,this.ij===this.X?-this.duration:this.duration];a&&a.Xo&&h.push(a.Xo);b.fields[c]={type:"array",value:h};this.te&&this.te.emit(b.type,b);};b.prototype.FM=function(a){this.te.H.AI&&(this.Nma=!0,this.Lla=a);};f.K=b;},function(f,c,a){var g,p,n,r,u,v;function b(a,b){this.Vi=a;n.call(this,a.Lb,b);}function d(){p(!1);}function k(a,b,c){this.ma=c;this.wd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Kc=void 0;}function h(a,b,c,d,h,p){this.xz=16;this.Lb=a;this.Vc=b.offset;this.On=b.sizes;this.HPa=new k(a.In,b.sizes,a.ma);this.Xha=void 0;this.yNa=c;this.UW=d&&d.Xl;this.SY=h;this.ZMa=Math.min(this.Lb.length,this.On.length);this.lNa=this.wLa();this.ql.In.length!==this.On.length&&g.error("Mis-matched stream duration ("+this.ql.In.length+","+this.On.length+") for movie id "+p);this.ql.CL&&!this.UW&&g.error("Mis-matched additional SAPs information for movie id "+p);}a(8);a(13);g=new(a(10)).Console("FRAGMENTS","media|asejs");p=a(20);a(66);n=a(192).gKa;r=a(304);u=a(303);b.prototype=Object.create(n.prototype);Object.defineProperties(b.prototype,{ga:{get:function(){return this.Vi.sizes(this.mi);},set:d},offset:{get:function(){return this.Vi.Xl(this.mi);},set:d},OH:{get:function(){return this.Vi.Tt&&this.Vi.Tt[this.mi];},set:d},Ig:{get:function(){return this.Vi.Y1a(this.mi);},set:d},ee:{get:function(){return this.Vi.xk&&this.Vi.xk[this.mi];},set:d}});b.prototype.constructor=b;b.prototype.toJSON=function(){return{index:this.index,ga:this.ga,offset:this.offset,X:this.X,ca:this.ca,duration:this.duration,Ig:this.Ig};};Object.defineProperties(k.prototype,{ga:{get:function(){return void 0!==this.Kc?this.Kc:this.dX();},set:d}});k.from=function(a){for(var b=new Uint32Array(a.length),c=new Uint32Array(a.length),g=0,d,h,p=0;p<a.length;++p)d=a[p],h=d.Kc,b[p]=d.Hn,c[p]=h,g+=h;a=new k(b,c,a.length?a[0].ma:1E3);a.Kc=g;return a;};k.prototype.dX=function(){for(var a=this.sizes,b=this.length,c=0,g=0;g<b;++g)c+=a[g];return this.Kc=c;};k.prototype.subarray=function(a,b){return new k(this.wd.subarray(a,b),this.sizes.subarray(a,b),this.ma);};k.prototype.concat=function(){var a,b,c,g;a=Array.prototype.concat.apply(Array(this),arguments);b=a.reduce(function(a,b){return a+b.length;},0);c=new Uint32Array(b);g=new Uint32Array(b);a.reduce(function(a,b){u.set(c,b.wd,a);u.set(g,b.sizes,a);return a+b.length;},0);return new k(c,g,a[0].ma);};h.constructor=h;h.uub=function(a,b){var c,g;b=b.ma;c=b/1E3;g=new DataView(a);a=Math.floor(a.byteLength/16);return{ma:b,startTime:g.getUint32(4)*c,offset:65536*g.getUint32(8)+g.getUint16(12),sizes:r.Xna(g,0,a,16),wd:u.from(Uint32Array,{length:a},function(a,b){return g.gAb(16*b+14)*c;})};};Object.defineProperties(h.prototype,{O:{get:function(){return this.Lb.O;},set:d},length:{get:function(){return this.ZMa;},set:d},nn:{get:function(){return this.Lb.nn;},set:d},Yla:{get:function(){return this.Lb.Yla;},set:d},X:{get:function(){return this.Lb.X;},set:d},ca:{get:function(){return this.Lb.ca;},set:d},Jl:{get:function(){return this.Lb.Jl;},set:d},EQ:{get:function(){return this.Lb.EQ;},set:d},IQ:{get:function(){return this.lNa;},set:d},La:{get:function(){return this.Lb.La;},set:d},ma:{get:function(){return this.Lb.ma;},set:d},zh:{get:function(){return this.Xha||this.dX();},set:d},Tt:{get:function(){return this.yNa;},set:d},Dia:{get:function(){return this.UW;},set:d},xk:{get:function(){return this.SY;},set:d},ql:{get:function(){return this.Lb;},set:d},ZI:{get:function(){return this.HPa;},set:d}});h.prototype.dX=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes(b);return this.Xha=a;};try{v=!0;}catch(B){v=!1;}h.prototype.xLa=function(){if(this.length&&!this.Pp){this.Pp=v?new Float64Array(Math.ceil(this.length/this.xz)):Array(Math.ceil(this.length/this.xz));for(var a=this.Vc,b=0;b<this.Pp.length;++b){this.Pp[b]=a;for(var c=0;c<this.xz;++c)a+=this.On[b*this.xz+c];}}};h.prototype.sizes=function(a){return this.On[a];};h.prototype.Sf=function(a){return this.Lb.Sf(a);};h.prototype.BA=function(a){return this.Lb.Sf(a)+this.Lb.wd(a);};h.prototype.Xl=function(a){if(this.NL!==a){if(0===a)return this.Vc;if(this.NL===a-1)this.cX+=this.On[this.NL],++this.NL;else{this.Pp||this.xLa();for(var b=Math.floor(a/this.xz),c=b*this.xz,b=this.Pp[b];c<a;++c)b+=this.On[c];this.NL=a;this.cX=b;}}return this.cX;};h.prototype.wd=function(a){return this.Lb.wd(a);};h.prototype.get=function(a){return new b(this,a);};h.prototype.Y1a=function(a){var b,c,g;p(0<=a);b=this.ql.CL;c=this.ql.ffa;g=this.UW;if(!g||!b||a>=b.length)return[];for(var d=[],h=a===b.length-1?c.length:b[a+1],b=b[a];b<h;++b)d.push({Qc:c[b],Ib:this.Sf(a)+this.La.ZQ(c[b]).Je,offset:g[b]});return d;};h.prototype.Uva=function(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}(h.prototype.Sf);h.prototype.subarray=function(a,b){p(void 0===a||0<=a&&a<this.length);p(void 0===b||b>a&&b<=this.length);return new h(this.Lb.subarray(a,b),{offset:this.Xl(a),sizes:this.On.subarray(a,b)},this.Tt&&this.Tt.subarray(a,b),this.Dia&&{Xl:this.Dia});};h.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};h.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};h.prototype.reduce=function(a,b){var c;c=void 0!==b?b:this.get(0);for(b=void 0!==b?0:1;b<this.length;++b)c=a(c,this.get(b),b,this);return c;};h.prototype.Zj=function(a,b,c){return this.Lb.Zj(a,b,c);};h.prototype.oG=function(a,b,c){return this.Lb.oG(a,b,c);};h.prototype.U_=function(a,b){return this.Lb.U_(a,b);};h.prototype.wLa=function(){var a,b,c,g,d;b=0;c=this.Lb.Hga;g=this.Lb.In;d=this.On;if(void 0===c||c>=this.length){for(var h=0;h<this.length;++h)a=d[h]/g[h],a>b&&(b=a,c=h);void 0===this.Lb.Hga&&(this.Lb.Hga=c);}else b=d[c]/g[c];return Math.floor(b*this.ma/125);};h.prototype.hQ=function(a,b,c){var g,d,h,p,n,k,r,f,u;g=!0;d=0;p=this.Lb.wd;n=this.On;k=Math.floor(a*this.ma/1E3);r=0;f=0;u=0;if(this.Lb.cia)for(d=this.Lb.cia;d<=this.Lb.gQa;++d)r+=p[d],f+=n[d];if(f>b)g=!1;else for(;d<this.length&&(!c||d<c);){h=n[d];a=p[d];if(f+h>b&&r<k){g=!1;this.Lb.cia=u;this.Lb.gQa=d;break;}for(;0<d-u&&f+h>b;)r-=p[u],f-=n[u],++u;r+=a;f+=h;++d;}return g;};h.prototype.toJSON=function(){return{length:this.length,Jl:this.Jl};};h.prototype.dump=function(){var b;g.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.Jl+"ms");for(var a=0;a<this.length;++a){b=this.get(a);g.trace("StreamFragments: "+a+": ["+b.X+"-"+b.ca+"] @ "+b.offset+", "+b.ga+" bytes");}};f.K={KJa:h,DJa:k};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zca="PboPlaydataServicesSymbol";c.eL="PboPlaydataServicesProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OD="PboConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.ResponseType||(c.ResponseType={});f[f.Text=0]="Text";f[f.nsb=1]="Xml";f[f.Rlb=2]="Binary";c.Lnb="HttpClientSymbol";c.sD="LegacyHttpSymbol";},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);d=a(9);k=a(149);c.ai="$attributes";c.LT="$children";c.MT="$name";c.kp="$text";c.Gxa="$parent";c.TC="$sibling";c.Cbb=/^\s*\<\?xml.*\?\>/i;c.ezb=function(a,b,d){a=(a||"").replace(c.Cbb,"");k.l9('<nccp:wrapper xmlns:nccp="http://www.netflix.com/eds/nccp/'+b+'">'+a+"</nccp:wrapper>",d);};c.P2a=function(a,b,c){for(var g=2;g<arguments.length;++g);for(g=1;(b=arguments[g++])&&(a=a[b]););return a;};c.bzb=function(a,g){var h;a?h=b.ed(a[c.kp]):void 0!==g&&(h=g);d.dO(h);return h;};c.xbb=function(a){var b;a&&(b=a[c.kp]);d.OXa(b);return b;};c.Yxb=function(a,b){var g;g={};g[c.ai]=a;g[c.kp]=b;return g;};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(738);a=a(735);c.x9a=f;c.Oo=a;},function(f,c,a){var d,k,h,g;function b(a,b,c){var p;p=h.fK.call(this,a,b,d.BD.Rea)||this;p.config=a;p.N4=b;p.is=c;p.type=d.Si.Ku;p.RC=g.sd.Hka();return p;}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);k=a(59);h=a(394);f=a(96);g=a(130);new f.ev();ha(b,h.fK);b.prototype.$o=function(){return Promise.resolve(!1);};b.prototype.PA=function(){return Promise.resolve("");};b.prototype.lJ=function(){return!1;};b.prototype.jJ=function(){return!1;};b.prototype.mJ=function(){return Promise.resolve(!1);};b.prototype.iJ=function(){return!1;};b.prototype.qP=function(a){return this.RC[a];};b.prototype.fZ=function(a){return a;};b.prototype.Gqa=function(a){switch(a){case d.Wg.wn:return"1.4";case d.Wg.Tu:return"2.2";}};b.prototype.ow=function(){var a;a={};a[k.$.Tr]="avc1.4D401E";a[k.$.Qu]="avc1.4D401F";a[k.$.fD]="avc1.4D4028";a[k.$.XU]="hev1.1.6.L90.B0";a[k.$.YU]="hev1.1.6.L93.B0";a[k.$.ZU]="hev1.1.6.L120.B0";a[k.$.$U]="hev1.1.6.L123.B0";a[k.$.aV]="hev1.1.6.L150.B0";a[k.$.bV]="hev1.1.6.L153.B0";a[k.$.PU]="hev1.2.6.L90.B0";a[k.$.RU]="hev1.2.6.L93.B0";a[k.$.TU]="hev1.2.6.L120.B0";a[k.$.VU]="hev1.2.6.L123.B0";a[k.$.jD]="hev1.2.6.L150.B0";a[k.$.kD]="hev1.2.6.L153.B0";a[k.$.QU]="hev1.2.6.L90.B0";a[k.$.SU]="hev1.2.6.L93.B0";a[k.$.UU]="hev1.2.6.L120.B0";a[k.$.WU]="hev1.2.6.L123.B0";a[k.$.GU]="hev1.2.6.L90.B0";a[k.$.HU]="hev1.2.6.L93.B0";a[k.$.IU]="hev1.2.6.L120.B0";a[k.$.JU]="hev1.2.6.L123.B0";a[k.$.KU]="hev1.2.6.L150.B0";a[k.$.MU]="hev1.2.6.L153.B0";a[k.$.AK]="hev1.2.6.L90.B0";a[k.$.BK]="hev1.2.6.L93.B0";a[k.$.CK]="hev1.2.6.L120.B0";a[k.$.DK]="hev1.2.6.L123.B0";a[k.$.hU]=g.sd.Yf;a[k.$.iU]=g.sd.Yf;a[k.$.jU]=g.sd.Yf;a[k.$.kU]=g.sd.Yf;a[k.$.lU]=g.sd.Yf;a[k.$.t$]=g.sd.Yf;a[k.$.jK]=g.sd.Yf;a[k.$.kK]=g.sd.Yf;a[k.$.lK]=g.sd.Yf;a[k.$.mK]=g.sd.Yf;a[k.$.nK]=g.sd.Yf;a[k.$.mU]=g.sd.W9;a[k.$.Qea]=g.sd.cE;a[k.$.vL]=g.sd.cE;a[k.$.wL]=g.sd.cE;a[k.$.xL]=g.sd.cE;a[k.$.Lea]=g.sd.bE;a[k.$.Mea]=g.sd.bE;a[k.$.Nea]=g.sd.bE;a[k.$.Oea]=g.sd.bE;a[k.$.Pea]=g.sd.bE;return a;};b.prototype.s2=function(){return this.config().OJ;};b.prototype.SA=function(){return Promise.resolve(void 0);};b.prototype.EG=function(){return Promise.resolve(void 0);};b.prototype.IF=function(a){var b;b=[];this.is.Lf(a)&&b.push(this.Gqa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};b.KC="video/mp4;codecs={0};";c.Ck=b;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);b.Hka=function(a){var c;c={};c[d.Sd.VD]=b.yK;c[d.Sd.zK]=b.yK;c[d.Sd.rL]=b.gD;c[d.Sd.qp]=b.qp;c[d.Sd.Yf]=a||b.Yf;c[d.Sd.ps]=b.cE;return c;};b.yK="avc1.640028";b.gD="hev1.1.6.L93.B0";b.V9="dvhe.01000000";b.Eza="dvhe.dtr.uhd60";b.W9="dvhe.05.09";b.Yf=b.V9;b.qp=b.gD;b.NT="mp4a.40.2";b.zmb="ec-3";b.fsb="vp9";b.cE="vp09.00.11.08.02";b.bE="vp09.02.31.10.01";b.Fza=[b.W9,b.Eza,b.V9];c.sd=b;},function(f,c){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(c,"__esModule",{value:!0});ha(a,Error);c.Zy=a;c.kL="PromiseTimerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.yl=function(){};c.DW="StringObjectReaderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.v$="DebugConfigSymbol";c.pK="DebugSymbol";},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b){a.call(this);this.ka=b;}b(c,a);c.create=function(a){return new c(a);};c.bb=function(a){a.Me.complete();};c.prototype.cf=function(a){var b;b=this.ka;if(b)return b.ib(c.bb,0,{Me:a});a.complete();};return c;}(a(11).oa);c.dD=f;},function(f,c,a){var b,d,k,h;b=a(116);d=a(427);k=a(426);h=a(423);c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 1===a.length||2===a.length&&b.Rw(a[1])?k.from(a[0]):h.BF()(d.of.apply(void 0,a));};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.cD="EmeConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.PD="PlatformConfigDefaultsSymbol";},function(f,c,a){var p;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function d(a,b){return null===a.dr?!1:a.dr.ce===b?!0:d(a.dr,b);}function k(a){function c(a,g){void 0===g&&(g=[]);g.push(b(a.ce));return null!==a.dr?c(a.dr,g):g;}return c(a).reverse().join(" --\x3e ");}function h(a){a.r_.forEach(function(a){if(d(a,a.ce))throw a=k(a),Error(p.hza+" "+a);h(a);});}function g(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(c,"__esModule",{value:!0});p=a(54);c.UA=b;c.Ypa=function(a,b,c){var d;d="";a=c(a,b);0!==a.length&&(d="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Bi&&(b=g(a.Bi));d=d+"\n "+b;a.lw.gra&&(d=d+" - "+a.lw.gra);}));return d;};c.tUa=h;c.v7a=function(a,b){var c,g;if(b.w3()||b.q3()){c="";g=b.I3a();b=b.L2a();null!==g&&(c+=g.toString()+"\n");null!==b&&b.forEach(function(a){c+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+c;}return" "+a;};c.getFunctionName=g;},function(f,c,a){var k,h,g,p,n,r,u,v,B,l,y,w;function b(a){b=y.Db;c.NEa=a.appendBuffer?"appendBuffer":"append";c.zD=!g.config.FSa&&!!a.remove;c.DV=!!a.addEventListener;}function d(a,d,f,u,w,B){var x,y;x=this;this.G=a;this.ifa=w;this.oz=!1;this.rv={data:[],state:"",operation:""};this.type=d;this.li=new n.di();d=f(this.type);this.Ega={Type:this.type};g.config.oB&&(y=!0,this.x1=new p.Hd(!1));B.trace("Adding source buffer",this.Ega,{TypeId:d});this.cd=u.addSourceBuffer(d);b(this.cd);c.DV&&(this.cd.addEventListener("updatestart",function(){x.rv.state="updatestart";}),this.cd.addEventListener("update",function(){x.rv.state="update";}),this.cd.addEventListener("updateend",function(){x.oz=!1;x.mfa&&x.mfa();x.rv.state="updateend";y&&x.cd.buffered.length&&(y=!1,x.x1.set(!0));}),this.cd.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&B.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(X){}a.Kh(new h.yj(v.I.dHa,k.e2(x.type)));}),this.cd.addEventListener("abort",function(){}));a.addEventListener(r.gL,function(){x.cd=void 0;});}Object.defineProperty(c,"__esModule",{value:!0});k=a(208);h=a(47);g=a(4);p=a(175);n=a(51);r=a(16);u=a(3);a(81);v=a(2);a(7);B=a(9);l=a(285);y=a(14);w=a(15);d.prototype.ak=function(){return this.oz;};d.prototype.updating=function(){return this.cd?this.cd.updating:!1;};d.prototype.lva=function(a){this.mfa=a;};d.prototype.buffered=function(){return this.cd.buffered;};d.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};d.prototype.toJSON=function(){return{type:this.type};};d.prototype.oP=function(){var a,b,g,d,h,p,n;try{a=this.cd.buffered;h=0;if(a)for(b=[],g=0,d=a.length,g=0;g<d;g++){p=a.start(g);n=a.end(g);h=h+(n-p);B.ha(n>p);b.push(p+"-"+n);}c.zD&&B.ha(85>h,"Source buffer is too big, size is "+h+", should not be more than 85");if(b)return{Buffered:h.toFixed(3),Ranges:b.join("|")};}catch(W){}};d.prototype.Mia=function(a,b){B.ha(this.cd.buffered&&1>=this.cd.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.oP()));B.ha(!this.oz);this.xva("append",a);b=b&&b.lk/1E3;w.aa(b)&&this.cd.timestampOffset!==b&&(this.cd.timestampOffset=b);this.cd[c.NEa](a);c.DV&&(this.oz=!0);};d.prototype.remove=function(a,b){B.ha(!this.oz);try{c.zD&&(this.xva("remove"),this.cd.remove(a,b),c.DV&&(this.oz=!0));}catch(F){u.log.error("SourceBuffer remove exception",F,this.Ega);}};d.prototype.xva=function(a,b){this.rv.data=b||[];this.rv.state="init";this.rv.operation=a;};d.prototype.K7=function(){};d.prototype.appendBuffer=function(a){this.G.Pg.FRa(this,a);return!0;};d.prototype.tN=function(a){l.LJa("MediaRequest {0} readystate: {1}",a.Ai(),a.readyState);this.G.Pg.tN(a);return!0;};d.prototype.endOfStream=function(){};d.prototype.addEventListener=function(a,b,c){this.li.addListener(a,b,c);};d.prototype.removeEventListener=function(a,b){this.li.removeListener(a,b);};oa.Object.defineProperties(d.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.type;}},BN:{configurable:!0,enumerable:!0,get:function(){return this.ifa.BN;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.ifa.sourceId;}}});c.Tba=d;},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y;function b(a,b){var n;n=new h.di();this.YG=this.rF=this.sF=void 0;this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.jc.bind(this);this.si=a;this.qz=b;this.Fv=l++;this.ya=g.Gc("MediaRequest");"notification"===b?k.config.ko&&(this.Gs=B.XFa):this.Gs=d.v9a;p.ha(void 0!==this.Gs);this.KL=this.dg=this.PM=void 0;this.Ae=c.Ua.$a.UNSENT;this.$X=this.xX=this.bM=this.RE=void 0;this.kk=this.nv=0;this.Cfa=this.AX=this.pv=this.Fs=this.OX=this.Dg=this.vM=this.Pe=this.Gv=void 0;this.vY=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(263);k=a(4);h=a(51);g=a(3);p=a(9);n=a(14);r=a(6);u=a(5);v=a(15);B=a(261);l=0;(function(){function a(){var a;a={requestId:this.Fv,segmentId:this.Vo,isHeader:this.Mb,ptsStart:this.nr,ptsOffset:this.lk,responseType:this.PM,duration:this.Eq,readystate:this.Ae};this.stream&&(a.bitrate=this.stream.L);return JSON.stringify(a);}n.va(b.prototype,{N$a:function(a){this.Ae===c.Ua.$a.OPENED&&(this.YG=!0,this.vM=this.Dg=a.timestamp,this.Ae=c.Ua.$a.ks,this.emit(c.Ua.jd.rca,a));},t5:function(a){var b;if(this.Ae<c.Ua.$a.js){this.vY=[];b=a.timestamp-this.vM;!this.Mb&&0<b&&(this.Cfa=!0,this.vY.push(b));!0!==k.config.Ioa&&(this.Dg=a.timestamp);this.Ae=c.Ua.$a.js;this.emit(c.Ua.jd.qca,a);}},R$a:function(a){this.Ae===c.Ua.$a.js&&(this.OX=this.Dg=a.timestamp,a.newBytes=a.bytesLoaded-this.nv,this.nv=a.bytesLoaded,v.cb(this.OX)&&this.emit(c.Ua.jd.sca,a));},Gi:function(a){if(this.Ae===c.Ua.$a.ks||this.Ae===c.Ua.$a.js)this.YG=!1,this.Dg=a.timestamp,this.Ae=c.Ua.$a.DONE,a.newBytes=this.zh-this.nv,this.nv=this.zh,v.cb(this.pv)&&(this.Dg=this.pv,0===a.newBytes&&(this.OX=this.pv)),v.cb(this.Fs)&&(this.vM=this.Fs),this.Gv=a.response,this.emit(c.Ua.jd.ID,a);},I$a:function(a){this.YG=!1;this.emit(c.Ua.jd.NFa,a);},u5:function(a){this.Dg=a.timestamp;this.RE=a.httpcode;this.bM=a.errorcode;this.xX=c.Ua.Rr.name[this.bM];this.$X=a.nativecode;this.emit(c.Ua.jd.Zu,a);this.YG=!1;},open:function(a,b,g,d,h,p,n){this.Vx=!1;this.KL=b;this.dg=a;this.PM=g;if(!a)return!1;this.Ae=c.Ua.$a.OPENED;this.Gs.wG(this,b,n);return!0;},Be:function(){-1!==[c.Ua.$a.OPENED,c.Ua.$a.ks,c.Ua.$a.js].indexOf(this.Ae)&&this.abort();return!0;},Vja:function(){this.Gv=void 0;this.AF.response=void 0;this.Boa=this.AF.cadmiumResponse.content=void 0;},l8:function(a){this.dg=a;this.Gs.J8(this);return!0;},abort:function(){this.Ae=c.Ua.$a.em;this.Gs.XY(this);return!0;},pause:u.Db,getResponseHeader:u.Db,getAllResponseHeaders:u.Db,Ai:function(){return this.Fv;},toString:a,toJSON:a,P4a:function(){var a,b;if(k.config.V8&&r.im&&r.im.getEntriesByType&&(!v.cb(this.Fs)||!v.cb(this.pv))){a=this.url.split("nflxvideo.net")[0].split("//").pop()+"";a=a+("*nflxvideo.net/range/"+this.sF+"-"+this.rF+"*");b=new RegExp(a);a=r.im.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];v.cb(a)&&(0<a.startTime&&(this.Fs=a.startTime,0<a.requestStart&&(this.Fs=Math.max(this.Fs,a.requestStart))),0<a.responseStart&&(this.AX=a.responseStart),0<a.responseEnd&&(this.pv=a.responseEnd));}},Q6a:function(){return v.cb(this.Fs)&&v.cb(this.pv)&&v.cb(this.AX);}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ae;},set:function(){}},status:{get:function(){return this.RE;}},Sl:{get:function(){return this.bM;}},l1:{get:function(){return this.xX;}},Um:{get:function(){return this.$X;}},Oc:{get:function(){return this.nv;}},response:{get:function(){return this.Gv;}},track:{get:function(){return this.si;}},label:{get:function(){return this.qz;}},byteLength:{get:function(){return this.rF-this.sF+1;}},url:{get:function(){return this.dg;}},responseType:{get:function(){return this.PM;}},sTa:{get:function(){return this.KL;}},zh:{get:function(){return this.KL.end-this.KL.start+1;}},He:{get:function(){return this.vM;}},Ge:{get:function(){return this.Dg;}},V7a:{get:function(){return this.Fs;}},n1a:{get:function(){return this.AX;}},KUa:{get:function(){return this.pv;}},connect:{get:function(){return this.Cfa;}},vr:{get:function(){return this.vY;}},joa:{get:function(){return this.response&&0<this.response.byteLength;}}});}());(function(a){a.jd={rca:"mr1",qca:"mr2",sca:"mr3",ID:"mr4",NFa:"mr5",Zu:"mr6"};a.$a={UNSENT:0,OPENED:1,ks:2,js:3,DONE:5,hm:6,em:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.Ri={tl:0,Cp:1,TV:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Rr={NO_ERROR:-1,wAa:0,r$:1,IAa:2,AAa:3,oza:4,Q9:5,XT:6,pza:7,qza:8,rza:9,lza:10,nza:11,P9:12,mza:13,kza:14,pCa:15,qaa:16,paa:17,fV:18,HK:19,gV:20,hV:21,rCa:22,IK:23,raa:24,qCa:25,DAa:26,xAa:27,eJa:28,nAa:29,oAa:30,pAa:31,qAa:32,rAa:33,sAa:34,tAa:35,uAa:36,vAa:37,yAa:38,zAa:39,BAa:40,CAa:41,EAa:42,FAa:43,GAa:44,HAa:45,JAa:46,KAa:47,dJa:48,TIMEOUT:49,dV:50,naa:51,oCa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};}(y||(y={})));c.Ua=Object.assign(b,y);},function(f,c,a){var b,d,k,h,g,p,n,r,u;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(268);d=a(4);k=a(5);h=a(2);g=a(9);p=a(3);n=a(18);r=a(83);u=a(84);c.Ut={};t._cad_global||(t._cad_global={});t._cad_global.controlProtocol=c.Ut;f.Yd(h.I.Haa,function(a){var h,r,f;g.ha(d.config);h=p.Gc("Nccp");r=d.config.ig;g.ha(r);f=p.da.get(u.Kr);h.info("Creating EDGE instance",{Endpoint:f.endpoint+r.ura,Path:r.Jla});n.va(c.Ut,new b.wFa(h));a(k.kb);});c.vyb=p.da.get(r.wK);c.uyb="1";c.wyb="2";c.xyb="3";c.tyb="4";},function(f,c,a){var b,d,k,h,g,p,n,r,u,v,B;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(5);d=a(4);k=a(55);h=a(17);g=a(2);p=a(9);n=a(3);r=a(18);u=a(6);v=a(121);B=a(15);f.Yd(g.I.Naa,function(a){var x,l,z;function f(){var a;f=b.Db;a=setInterval(w,d.config.b8a);k.Nd.addListener(k.ck,function(b){b&&b.isPopStateEvent?x.trace("popstate event, Lock timers can stay"):(r.ic(l,function(a,b){localStorage.removeItem(b.Vl);}),clearInterval(a));},b.Ny);}function w(){var a;a=h.ht();r.ic(l,function(b,c){b=localStorage.getItem(c.Vl);b=JSON.parse(b);b.updated=a;localStorage.setItem(c.Vl,JSON.stringify(b));});}p.ha(v.storage);x=n.Gc("StorageLock");l={};z=Date.now()+"-"+Math.floor(1E6*Math.random());c.vC={Rz:function(a,c){var n,k,v,w,y,C,F;function p(a){localStorage.setItem(k,JSON.stringify(a));a={Vl:k};l[k]=a;x.trace("Lock acquired",{Name:a.Vl});f();c({N:!0,yQ:a});}if(localStorage){n=h.ht();k="lock-"+a;a={updated:n,sessionId:z,count:1};try{if(k in localStorage){v=localStorage.getItem(k);y=JSON.parse(v);B.Jt(y.updated)&&(w=y.updated);C=u.xD(n-w)*b.wj<d.config.a8a;F=z===y.sessionId;C?F?(y.count+=1,x.debug("Incremented lock count for existing playbackSession",{id:z,count:y.count}),y.updated=n,p(y)):c({N:!1}):(x.error("Lock was expired or invalid, ignoring",{Epoch:n,LockEpoch:w}),p(a));}else p(a);}catch(ca){x.error("Error acquiring Lock",{errorSubCode:g.v.ye,errorDetails:r.xc(ca)});c({N:!0});}}else u.bqa?x.error("Local storage access exception",{errorSubCode:g.v.rJa,errorDetails:r.xc(u.bqa)}):x.error("No localstorage",{errorSubCode:g.v.sJa}),c({N:!0});},release:function(a,c){var g,d;p.ha(l[a.Vl]==a);if(localStorage){try{g=localStorage.getItem(a.Vl);d=JSON.parse(g);1<d.count?(--d.count,localStorage.setItem(a.Vl,JSON.stringify(d)),x.trace("Lock count decremented",{Name:a.Vl,count:d.count})):(localStorage.removeItem(a.Vl),delete l[a.Vl],x.trace("Lock released",{Name:a.Vl}));}catch(W){x.error("Unable to release Lock",{Name:a.Vl},W);}c&&c(b.kb);}}};d.config.IO?c.vC.Rz("session",function(g){c.vC.kva=g;a(b.kb);}):a(b.kb);});},function(f,c,a){(function(){var q01,l,y,w,x,C,F,P,M,m,O,q,U,Y,X,N,G,W4f;function c(a,b,c){var K01;K01=2;while(K01!==5){switch(K01){case 2:a=M(c.Vh,a*c.M4);return P(a,b);break;}}}function u(a){var T01,b,c;T01=2;while(T01!==3){switch(T01){case 2:b=new O(),c=this.Mga;b.Zb=q(a,function(a){var j01;j01=2;while(j01!==1){switch(j01){case 2:return a.L>=c;break;case 4:return a.L<=c;break;j01=1;break;}}})||a[a.length-1];b.DF=!0;return b;break;}}}function B(a,b,c,g){var f01,J0f;f01=2;while(f01!==1){J0f="pl";J0f+="ay";J0f+="i";J0f+="n";J0f+="g";switch(f01){case 2:return J0f===a.$Z?v(a,b,c,g):r(a,c,g);break;}}}function g(a,b,g){var Z01,d,n,r,f,N0f,M0f,m0f,U0f;Z01=2;while(Z01!==14){N0f="Del";N0f+="ay";N0f+="Targ";N0f+="e";N0f+="t";M0f="V";M0f+="M";M0f+="A";M0f+="F";m0f="n";m0f+="o_va";m0f+="l";m0f+="i";m0f+="d_";U0f="no_su";U0f+="i";U0f+="table_st";U0f+="ream";switch(Z01){case 5:b=null;Z01=4;break;case 3:Z01=0<=f&&g[f].ee>=a.pra&&!(d=g[f],b=h(d,a),n=c(d.L,b.Rq,a),r=k(b.Rq,a),b.WG=n,n=n<r,d=d.ee>=a.pra&&d.ee<=a.c9a,r=n&&d)?9:7;break;case 2:Z01=g.filter(function(a){var O01;O01=2;while(O01!==1){switch(O01){case 2:return 110>=a.ee&&0<a.ee;break;case 4:return 886<a.ee||2>=a.ee;break;O01=1;break;}}}).length<g.length?1:5;break;case 1:return p(a,b,g);break;case 7:l.Ja(b)&&(b=h(g[0],a),b.reason=U0f);return b;break;case 4:d=!1,n=!1,r=!1,f=g.length-1;Z01=3;break;case 8:f--;Z01=3;break;case 9:r=[m0f],d||r.push(M0f),n||r.push(N0f),b.reason=r.join("");Z01=8;break;}}}function n(a,b,c){var X01,d,q0f,r0f;X01=2;while(X01!==7){q0f="h";q0f+="ist_";q0f+="b";q0f+="i";q0f+="trate";r0f="v";r0f+="b";switch(X01){case 2:d=x.storage.get(r0f);X01=1;break;case 1:X01=void 0===d?5:4;break;case 4:a=new O();a.Zb=q(c.reverse(),function(a){var l01;l01=2;while(l01!==1){switch(l01){case 4:return a.L>d;break;l01=1;break;case 2:return a.L<=d;break;}}})||c[0];a.reason=q0f;X01=8;break;case 8:return a;break;case 5:return a.mia?g(a,b,c):p(a,b,c);break;}}}function r(a,b,c){var y01,d,h,p,n,F0f,y0f;y01=2;while(y01!==7){F0f="no_f";F0f+="easible_s";F0f+="tre";F0f+="am";y0f="Mu";y0f+="st";y0f+=" have";y0f+=" at least one selecte";y0f+="d stream";switch(y01){case 3:b.Zb=d;h!==d&&(b.reason=n,b.Rq=p);return b;break;case 2:F(!l.R(c),y0f);d=b[c],h=d;d.ja&&(d=q(b.slice(0,Math.min(c+(a.zRa?2:1),b.length)).reverse(),g),void 0===d&&(d=b[0],n=F0f,p=d.ja));b=new O();y01=3;break;}}function g(b){var G01,c,c0f;G01=2;while(G01!==8){c0f="buf";c0f+="f_lt";c0f+="_hi";c0f+="s";c0f+="t";switch(G01){case 5:return!1;break;case 2:c=b.ja;G01=1;break;case 4:n=c0f;p=c;return!0;break;case 1:G01=!c||(b.L>d.L?a.lkb:1)*b.L>c?5:4;break;}}}}function p(a,g,d){var o01,h,p;o01=2;while(o01!==3){switch(o01){case 2:h=new O();p=Math.max(a.BB,a.PQ,g.o3?a.W4:-Infinity);h.Zb=q(d.filter(function(b){var h01;h01=2;while(h01!==1){switch(h01){case 2:return b.L<=a.uB;break;case 4:return b.L>=a.uB;break;h01=1;break;}}}).reverse(),function(g){var v01,d,n,k,p0f,l0f,a0f,I0f;v01=2;while(v01!==7){p0f="his";p0f+="t_bufft";p0f+="ime";l0f="no_";l0f+="h";l0f+="isto";l0f+="ric";l0f+="al_lte_minbitrate";a0f="hist_tp";a0f+="ut_lt_mi";a0f+="nbitrate";I0f="lt_his";I0f+="t";I0f+="_lte_minbitrate";switch(v01){case 2:d={ja:g.ja,Oj:g.qa&&g.qa.Oj,tk:g.qa&&g.qa.tk};v01=1;break;case 1:v01=g.L>p?5:8;break;case 8:n=d.ja,g.L<=n?(h.Rq=n,d&&(h.il=d.Oj?d.Oj:0,h.ek=d.Oj?d.tk:void 0),h.reason=I0f,d=!0):n?(h.Rq=n,d&&(h.il=d.Oj?d.Oj:0,h.ek=d.Oj?d.tk:void 0),h.reason=a0f,d=!1):(h.reason=l0f,d=!0);v01=9;break;case 5:g=g.L;k=d.ja;v01=3;break;case 3:k?(n=b(a,g),c(g,k,a)<=n?(h.Rq=k,d&&(h.il=d.Oj?d.Oj:0,h.ek=d.Oj&&d.tk),h.reason=p0f,d=!0):d=!1):d=!1;v01=9;break;case 9:return d;break;}}})||d[0];return h;break;}}}q01=2;while(q01!==9){W4f="1SIY";W4f+="b";W4f+="ZrNJC";W4f+="p9";switch(q01){case 2:l=a(8),y=a(13),w=a(37),x=a(10);a(123);C=w.console,F=w.assert,P=w.$9a,M=w.tTa,m=w.xF,O=w.mm,q=w.LRa,U=w.vZ,Y=a(31).jhb,X=a(193),N=a(38),G=a(123).DJa;f.K={STARTING:function(a,b,c){var t01,j4f;t01=2;while(t01!==1){j4f="his";j4f+="toric";j4f+="a";j4f+="l";switch(t01){case 2:return j4f===a.g3?n(a,b,c):a.mia?g(a,b,c):p(a,b,c);break;}}},BUFFERING:B,REBUFFERING:B,PLAYING:v,PAUSED:v};q01=3;break;case 3:W4f;q01=9;break;}}function h(a,b){var g01,g,c,w4f,C4f;g01=2;while(g01!==12){w4f="his";w4f+="t";w4f+="_t";w4f+="hrou";w4f+="ghput";C4f="h";C4f+="i";C4f+="st_tdige";C4f+="st";switch(g01){case 8:g01=7;break;case 2:c=new O();c.Zb=a;a=c.Zb.qa||{};c.ek=a.Oj&&a.tk;c.il=a.Oj?a.Oj:0;a=N(c.ek,{});g01=8;break;case 7:g01=(g=l.aa(b.AS)&&0<=b.AS&&100>=b.AS&&!l.R(a)&&!l.Ja(a))?6:14;break;case 6:a.pf=X.U3a(a),g=l.rb(a.pf)?!0:!1;g01=14;break;case 14:g?(b=a.pf(b.AS/100)||c.Zb.ja,c.Rq=b,c.reason=C4f):c.Zb.ja&&(b=c.Zb.ja,c.Rq=b,c.reason=w4f);return c;break;}}}function k(a,b){var w89=q011;var s01,c,Z4f,R4f,r01,E01;s01=2;while(s01!==9){Z4f="si";Z4f+="g";Z4f+="m";Z4f+="oi";Z4f+="d";R4f="l";R4f+="o";R4f+="g";switch(s01){case 2:w89.k0f(8);r01=w89.b0f(100016,16,200000);w89.k0f(9);E01=w89.B0f(3,19,3,10,56);a=m(a,0,r01)/E01;s01=1;break;case 1:s01=0===b.zS.lastIndexOf(R4f,0)?5:3;break;case 5:c=b.Wua[b.zS];return c&&2==c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.Xq;break;case 3:return 0===b.zS.lastIndexOf(Z4f,0)?(c=b.Wua[b.zS])&&2==c.length?1E3*(c[0]+c[1]*Y(a)):b.Xq:b.Xq;break;}}}function b(a,b){var V01,c,g;V01=2;while(V01!==13){switch(V01){case 5:V01=0===g?4:3;break;case 1:c=a.VP,g=U(c,function(a){var I01;I01=2;while(I01!==1){switch(I01){case 4:return b>a.r;break;I01=1;break;case 2:return b<=a.r;break;}}});V01=5;break;case 2:V01=a.VP?1:14;break;case 8:q011.T0f(0);a=c[q011.B0f(g,1)];c=c[g];return Math.floor(a.d+(c.d-a.d)*(b-a.r)/(c.r-a.r));break;case 4:return c[0].d;break;case 14:return a.Xq;break;case 9:return c[c.length-1].d;break;case 3:V01=-1===g?9:8;break;}}}function v(a,b,c,g,d,h){var e01,N,X,Y,t,r,f,v,w,x,B,z,P,M,fa,m,ba,ea,ma,W,ja,V,U,s4f,h4f;function k(b,c){var x01;x01=2;while(x01!==1){switch(x01){case 2:return b>a.Zw&&(l.R(this.Co)||this.lB>this.Co||c-this.Co>a.xQ&&b>a.l4);break;}}}e01=2;function n(c,g,d,p,n,k){var a29=q011;var u01,N,Y,y,X,t,V,l,W,G,P,qa,ka,va,m,O,u,q,U,f,n4f,D4f,t4f,H4f,O4f,G4f,Y4f,L4f,X4f,S4f;u01=2;while(u01!==49){n4f="First stre";n4f+="am";n4f+=" unavai";n4f+="lable";D4f="Fi";D4f+="rst stre";D4f+="am undefined";t4f="First s";t4f+="tream not";t4f+=" in rang";t4f+="e";H4f="Se";H4f+="cond stream has";H4f+=" ";H4f+="faile";H4f+="d";O4f="Second strea";O4f+="m";O4f+=" not ";O4f+="in ";O4f+="range";G4f="S";G4f+="eco";G4f+="nd ";G4f+="stream unav";G4f+="ailable";Y4f="Seco";Y4f+="nd stream und";Y4f+="efin";Y4f+="ed";L4f="First st";L4f+="ream h";L4f+="as fai";L4f+="led";switch(u01){case 6:u01=f>=c.L*u?14:13;break;case 22:F(!c.qh,L4f);F(y,Y4f);F(y.Te,G4f);F(y.inRange,O4f);F(!y.qh,H4f);u01=32;break;case 52:a:{X4f=" >= f";X4f+="ragmentsLen";X4f+="gth: ";S4f="S";S4f+="tre";S4f+="amingIndex: ";N=l.concat(N);Y=P;a29.k0f(1);y=a29.b0f(g,W);X=V;t=a.IH;V=a.eJ;l=N.ma;W=Math.min(N.length,g+W+G);G=N.wd;P=N.sizes;a29.T0f(0);va=a29.B0f(m,Y);m=Infinity;O=U=0;N=N.wd[0];a29.T0f(2);u=a29.b0f(l,1E3,u,N);a29.k0f(3);N=a29.B0f(0,k,p,8);a29.T0f(4);k=a29.b0f(p,0,8);a29.T0f(5);p=a29.B0f(1E3,l);g>=W&&C.error(S4f+g+X4f+W);Y+=N;0===d&&(Y=0);a29.k0f(5);Y*=a29.B0f(1E3,l);a29.k0f(5);d*=a29.B0f(1E3,l);a29.T0f(5);t*=a29.b0f(1E3,l);a29.k0f(5);X*=a29.b0f(1E3,l);for(va*=l/1E3;g<W;){qa=P[g];ka=G[g];if(q<qa){for(U=Math.max(qa,n);q<U;){Y=u;q+=P[O];++O;N=G[O];u+=N;}if(!V&&(N=d-Y,N<t)){n={result:!1,m4:N/(l/1E3),fl:!1};break a;}a29.T0f(0);N=a29.b0f(d,Y);}else if(N=Math.max(d-Y,0),N<X&&N<U){n={result:!1,m4:Math.min(N,m)/(l/1E3),fl:!0};break a;}a29.k0f(6);Y+=a29.b0f(p,qa,k,0);d+=ka;for(q-=qa;u<Y&&O<g;){q+=P[O];++O;u+=G[O];}++g;if(g>=y&&N>va)break;U=N;m=Math.min(N,m);}n={result:!0,m4:m/(l/1E3),fl:!0};}u01=29;break;case 39:u01=0<U?38:37;break;case 4:k||y||(c.bT=!0);u01=3;break;case 31:u01=!p||p<c.L*a.L2||!X?30:43;break;case 14:return!0;break;case 51:n=p>c.IQ?{result:!0,A8a:0,fl:!0}:{result:!1,A8a:0,fl:!0};u01=29;break;case 13:d=!a.P_||c===d||c.Rb===d.Rb&&h?0:(d=c.qa)&&d.Le&&d.Le.sa?d.Le.sa+a.L_*(d.Le.ug?Math.sqrt(d.Le.ug):0):0;y=g,l=M,P=w+d-v,u=ea,m=B-v;a29.T0f(0);d=a29.b0f(x,v);O=z;u01=20;break;case 1:u01=ja&&!ja.N0a&&ja.ja>=f&&ja.L<=c.L?5:4;break;case 30:n=!1;u01=29;break;case 3:u01=!k||!y?9:13;break;case 41:u01=U?40:50;break;case 32:a29.k0f(7);F(a29.B0f(g,N));u01=31;break;case 40:U=W;u01=39;break;case 50:W=Math.max(0,Math.min(W,c.U.length-O)),G=Math.max(0,Math.min(G,y.U.length-O-W)),0<W&&N.push(c.U.ZI.subarray(O,O+W)),0<G&&N.push(y.U.ZI.subarray(O+W,O+W+G));u01=53;break;case 43:Y||(y=c);N=[];u01=41;break;case 23:F(c.inRange,t4f);u01=22;break;case 36:u01=0<U?54:53;break;case 27:N=l.length,X=c.U&&c.U.length,Y=y.U&&y.U.length;a.o4&&(V=Math.min(V,m-P));F(c,D4f);F(c.Te,n4f);u01=23;break;case 7:return!0;break;case 38:X=Math.min(U,c.U.length-O),N.push(c.U.ZI.subarray(O,O+X)),U-=X,O+=X,O>=c.U.length&&(O=0);u01=39;break;case 8:u01=f>=Math.max(c.IQ,c.L*u)&&!c.KS?7:13;break;case 20:g=M.length;k=ba;q=fa,W=p,G=n,V=ma;n=b.LZa;U=b.z8a;p=c.ja;u01=27;break;case 37:U=G;u01=36;break;case 29:n&&(n.result&&(r.n4=n.m4),a.eJ||(c.fl=!!n.fl));ja={N0a:n&&n.result,ja:f,L:c.L};return n&&n.result;break;case 54:X=Math.min(U,y.U.length-O),N.push(y.U.ZI.subarray(O,O+X)),U-=X,O+=X,O>=y.U.length&&(O=0);u01=36;break;case 9:u01=y&&!a.eJ?8:6;break;case 53:u01=0<W||0<G?52:51;break;case 2:f=c.ja,u=k?a.n1:a.RO,y=c.U&&c.U.length;u01=1;break;case 5:return!1;break;}}}function p(a,b,c){var R01;R01=2;while(R01!==1){switch(R01){case 2:return a.U?a.U.U_(b,c):0;break;case 4:return a.U?a.U.U_(b,c):6;break;R01=1;break;}}}while(e01!==25){s4f="player missing";s4f+=" streamingInde";s4f+="x";h4f="Must h";h4f+="av";h4f+="e at least one s";h4f+="elect";h4f+="ed stream";switch(e01){case 9:return u.call(this,c);break;case 11:N=p(d,z,a.O2),X=p(d,z+N,a.j4);e01=10;break;case 10:d=q(c.slice(g+1,a.T7&&P>=a.f9?c.length:g+2),function(a,b){var H01;H01=2;while(H01!==1){switch(H01){case 4:return n(a,c[g*b],f,N,X,+5);break;H01=1;break;case 2:return n(a,c[g+b],f,N,X,!1);break;}}});e01=20;break;case 17:return r;break;case 27:Y=p(d,z,a.N2),t=p(d,z+Y,a.i4);e01=26;break;case 14:e01=(m=n(d,c[Math.max(g-1,0)],d,V,U,!1))?13:15;break;case 20:r.Zb=d||f;r.DF=W;r.HXa=!m;e01=17;break;case 12:e01=k.call(this,P,x)?11:20;break;case 26:(d=q(c.slice(0,g).reverse(),function(a,b){var k01;k01=2;while(k01!==1){switch(k01){case 2:return n(a,c[Math.max(g-b-2,0)],f,Y,t,!0);break;}}}))||(d=c[0],W=!0);e01=20;break;case 16:W=!0;e01=20;break;case 13:e01=g+1<c.length?12:16;break;case 3:e01=m==y.GK.uKa||!d.ja?9:8;break;case 2:F(!l.R(g),h4f);F(l.aa(b.sk),s4f);r=new O(),f=d=c[g],v=b.buffer.X,w=b.buffer.we,x=b.buffer.Pa,B=b.buffer.fj,z=b.sk,P=B-w,m=this.nM||y.GK.Ag,ba=b.state===y.wa.Oe||b.state===y.wa.Bn?b.buffer.wx:0,ea=a.I4,ma=a.$w?a.$w:1E3,V=p(d,z,a.M2),U=p(d,z+V,a.h4);this.Mga||(this.Mga=Math.min(d.L,a.PQ));e01=3;break;case 8:d.U&&d.U.length||(d.bT=!0);M=G.from(b.buffer.U);fa=b.buffer.ft-M.ga;e01=14;break;case 15:e01=d.U&&d.U.length?27:20;break;}}}}());},function(f){f.K={lFa:"6674654e-696c-5078-6966-665374726d21",mFa:"6674654e-696c-4878-6165-6465722e7632",gca:"6674654e-696c-5078-6966-66496e646578",PV:"6674654e-696c-4d78-6f6f-6653697a6573",NV:"6674654e-696c-5378-6565-6b506f696e74",kGa:"cedb7489-e77b-514c-84f9-7148f9882554",wca:"524f39a2-9b5a-144f-a244-6c427c648df4",OV:"6674654e-696c-4678-7261-6d6552617465"};},function(f){function c(){this.qb=this.qb||{};this.CE=this.CE||void 0;}function a(a){return"function"===typeof a;}function b(a){return"object"===typeof a&&null!==a;}f.K=c;c.EventEmitter=c;c.prototype.qb=void 0;c.prototype.CE=void 0;c.AYa=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this.CE=a;return this;};c.prototype.emit=function(c){var d,h,g,p;this.qb||(this.qb={});if("error"===c&&(!this.qb.error||b(this.qb.error)&&!this.qb.error.length)){d=arguments[1];if(d instanceof Error)throw d;h=Error('Uncaught, unspecified "error" event. ('+d+")");h.context=d;throw h;}h=this.qb[c];if(void 0===h)return!1;if(a(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),h.apply(this,d);}else if(b(h))for(d=Array.prototype.slice.call(arguments,1),p=h.slice(),h=p.length,g=0;g<h;g++)p[g].apply(this,d);return!0;};c.prototype.addListener=function(d,k){if(!a(k))throw TypeError("listener must be a function");this.qb||(this.qb={});this.qb.Cyb&&this.emit("newListener",d,a(k.listener)?k.listener:k);this.qb[d]?b(this.qb[d])?this.qb[d].push(k):this.qb[d]=[this.qb[d],k]:this.qb[d]=k;b(this.qb[d])&&!this.qb[d].Ukb&&(k=void 0===this.CE?c.AYa:this.CE)&&0<k&&this.qb[d].length>k&&(this.qb[d].Ukb=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.qb[d].length),"function"===typeof console.trace&&console.trace());return this;};c.prototype.on=c.prototype.addListener;c.prototype.once=function(b,c){var g;function d(){this.removeListener(b,d);g||(g=!0,c.apply(this,arguments));}if(!a(c))throw TypeError("listener must be a function");g=!1;d.listener=c;this.on(b,d);return this;};c.prototype.removeListener=function(c,k){var d,g,p;if(!a(k))throw TypeError("listener must be a function");if(!this.qb||!this.qb[c])return this;d=this.qb[c];p=d.length;g=-1;if(d===k||a(d.listener)&&d.listener===k)delete this.qb[c],this.qb.removeListener&&this.emit("removeListener",c,k);else if(b(d)){for(;0<p--;)if(d[p]===k||d[p].listener&&d[p].listener===k){g=p;break;}if(0>g)return this;1===d.length?(d.length=0,delete this.qb[c]):d.splice(g,1);this.qb.removeListener&&this.emit("removeListener",c,k);}return this;};c.prototype.removeAllListeners=function(b){var c;if(!this.qb)return this;if(!this.qb.removeListener)return 0===arguments.length?this.qb={}:this.qb[b]&&delete this.qb[b],this;if(0===arguments.length){for(c in this.qb)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.qb={};return this;}c=this.qb[b];if(a(c))this.removeListener(b,c);else if(c)for(;c.length;)this.removeListener(b,c[c.length-1]);delete this.qb[b];return this;};c.prototype.listeners=function(b){return this.qb&&this.qb[b]?a(this.qb[b])?[this.qb[b]]:this.qb[b].slice():[];};c.prototype.listenerCount=function(b){if(this.qb){b=this.qb[b];if(a(b))return 1;if(b)return b.length;}return 0;};c.listenerCount=function(a,b){return a.listenerCount(b);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.kBa=function(){this.AUDIO=0;this.VIDEO=1;this.FK=2;this.kg=function(){};};c.C$="DownloadTrackConstructorFactorySymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.mAa="display";a.sza="console";a.Pqb="remote";a.vV="memory";a.NKa="writer";c.Gy=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.tD="LicenseProviderSymbol";},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(2);k=a(361);h=a(360);g=a(25);c.l9=function(a,c){var p,n;try{p=k.ilb(a);}catch(v){b.log.error("xml2xmlDoc exception",v);}g.bb(function(){if(p&&p.documentElement)try{n=h.jlb(p);}catch(v){b.log.error("xmlDoc2js exception",v);}g.bb(function(){n?c({N:!0,object:n}):c({N:!1,S:d.v.caa});});});};},function(f){f.K=function(c){return{minInitVideoBitrate:c.BB,minHCInitVideoBitrate:c.W4,maxInitVideoBitrate:c.uB,minInitAudioBitrate:c.HH,maxInitAudioBitrate:c.wH,minHCInitAudioBitrate:c.GH,minAcceptableVideoBitrate:c.PQ,minRequiredBuffer:c.IH,minPrebufSize:c.Vh,rebufferingFactor:c.x6,useMaxPrebufSize:c.U8,maxPrebufSize:c.wB,maxRebufSize:c.F4,maxBufferingTime:c.Xq,minAudioMediaRequestSizeBytes:c.U4,minVideoMediaRequestSizeBytes:c.Z4,initialBitrateSelectionCurve:c.VP,initSelectionLowerBound:c.Moa,initSelectionUpperBound:c.Noa,throughputPercentForAudio:c.jT,bandwidthMargin:c.NZ,bandwidthMarginContinuous:c.OZ,bandwidthMarginCurve:c.PZ,conservBandwidthMargin:c.N_,switchConfigBasedOnInSessionTput:c.m8,conservBandwidthMarginTputThreshold:c.CF,conservBandwidthMarginCurve:c.O_,switchAlgoBasedOnHistIQR:c.fwa,switchConfigBasedOnThroughputHistory:c.xu,maxPlayerStateToSwitchConfig:c.E4,lowEndMarkingCriteria:c.g4,IQRThreshold:c.lV,histIQRCalcToUse:c.T2,bandwidthMarginScaledRatioUpperBound:c.KSa,maxTotalBufferLevelPerSession:c.Yq,highWatermarkLevel:c.uoa,toStableThreshold:c.Cwa,toUnstableThreshold:c.qT,skipBitrateInUpswitch:c.T7,watermarkLevelForSkipStart:c.f9,highStreamRetentionWindow:c.M2,lowStreamTransitionWindow:c.h4,highStreamRetentionWindowUp:c.O2,lowStreamTransitionWindowUp:c.j4,highStreamRetentionWindowDown:c.N2,lowStreamTransitionWindowDown:c.i4,highStreamInfeasibleBitrateFactor:c.L2,lowestBufForUpswitch:c.Zw,lockPeriodAfterDownswitch:c.xQ,lowWatermarkLevel:c.l4,lowestWaterMarkLevel:c.$w,lowestWaterMarkLevelBufferRelaxed:c.o4,mediaRate:c.M4,maxTrailingBufferLen:c.I4,audioBufferTargetAvailableSize:c.DZ,videoBufferTargetAvailableSize:c.a9,maxVideoTrailingBufferSize:c.Yqa,maxAudioTrailingBufferSize:c.Nqa,fastUpswitchFactor:c.RO,fastDownswitchFactor:c.n1,maxMediaBufferAllowed:c.FQ,simulatePartialBlocks:c.LS,simulateBufferFull:c.Dva,considerConnectTime:c.P_,connectTimeMultiplier:c.L_,lowGradeModeEnterThreshold:c.uqa,lowGradeModeExitThreshold:c.vqa,maxDomainFailureWaitDuration:c.Pqa,maxAttemptsOnFailure:c.Lqa,exhaustAllLocationsForFailure:c.gma,maxNetworkErrorsDuringBuffering:c.Tqa,maxBufferingTimeAllowedWithNetworkError:c.x4,fastDomainSelectionBwThreshold:c.m1,throughputProbingEnterThreshold:c.v8,throughputProbingExitThreshold:c.qwa,locationProbingTimeout:c.dqa,finalLocationSelectionBwThreshold:c.rma,throughputHighConfidenceLevel:c.nwa,throughputLowConfidenceLevel:c.pwa,locationStatisticsUpdateInterval:c.W3,enablePerfBasedLocationSwitch:c.zA,probeServerWhenError:c.cn,probeRequestTimeoutMilliseconds:c.c6,allowSwitchback:c.gq,probeDetailDenominator:c.Gx,maxDelayToReportFailure:c.BQ,countGapInBuffer:c.V_,allowReissueMediaRequestAfterAbort:c.Tv,bufferThresholdForAbort:c.WZ,allowCallToStreamSelector:c.oZ,pipelineScheduleTimeoutMs:c.L5,maxPartialBuffersAtBufferingStart:c.bx,minPendingBufferLen:c.X4,maxPendingBufferLen:c.vB,maxPendingBufferLenSABCell100:c.HQ,maxActiveRequestsSABCell100:c.zQ,enableRequestPacing:c.EO,maxStreamingSkew:c.H4,maxPendingBufferPercentage:c.D4,maxRequestsInBuffer:c.cx,headerRequestSize:c.MP,minBufferLenForHeaderDownloading:c.V4,reserveForSkipbackBufferMs:c.dS,numExtraFragmentsAllowed:c.v5,pipelineEnabled:c.Xm,maxParallelConnections:c.yH,socketReceiveBufferSize:c.Gva,audioSocketReceiveBufferSize:c.HZ,videoSocketReceiveBufferSize:c.d9,headersSocketReceiveBufferSize:c.K2,updatePtsIntervalMs:c.wT,bufferTraceDenominator:c.YZ,bufferLevelNotifyIntervalMs:c.Yz,aseReportDenominator:c.Uz,aseReportIntervalMs:c.yZ,enableAbortTesting:c.Ola,abortRequestFrequency:c.lia,streamingStatusIntervalMs:c.e8,prebufferTimeLimit:c.MB,minBufferLevelForTrackSwitch:c.RQ,penaltyFactorForLongConnectTime:c.E5,longConnectTimeThreshold:c.e4,additionalBufferingLongConnectTime:c.kZ,additionalBufferingPerFailure:c.lZ,rebufferCheckDuration:c.BI,enableLookaheadHints:c.Rla,lookaheadFragments:c.qqa,enableOCSideChannel:c.ko,OCSCBufferQuantizationConfig:c.ZK,updateDrmRequestOnNetworkFailure:c.Ywa,deferAseScheduling:c.hO,maxDiffAudioVideoEndPtsMs:c.CQ,useHeaderCache:c.OC,useHeaderCacheData:c.AO,defaultHeaderCacheSize:c.gO,defaultHeaderCacheDataPrefetchMs:c.B0,headerCacheMaxPendingData:c.I2,recreateHeaderCacheDownloadTracks:c.Ndb,headerCachePriorityLimit:c.J2,headerCacheFlushForCircularBuffer:c.A5a,enableUsingHeaderCount:c.iG,networkFailureResetWaitMs:c.i5,networkFailureAbandonMs:c.h5,maxThrottledNetworkFailures:c.JQ,throttledNetworkFailureThresholdMs:c.iT,abortUnsentBlocks:c.Rn,maxUnsentBlocks:c.J4,abortStreamSelectionPeriod:c.YY,lowThroughputThreshold:c.k4,excludeSessionWithoutHistoryFromLowThroughputThreshold:c.g1,mp4ParsingInNative:c.tra,sourceBufferInOrderAppend:c.Hva,requireAudioStreamToEncompassVideo:c.hn,allowAudioToStreamPastVideo:c.Gia,pruneRequestsFromNative:c.hdb,preciseBufferLevel:c.vcb,enableManagerDebugTraces:c.xe,managerDebugMessageInterval:c.Fqa,managerDebugMessageCount:c.Eqa,bufferThresholdToSwitchToSingleConnMs:c.DN,bufferThresholdToSwitchToParallelConnMs:c.XZ,netIntrStoreWindow:c.l$a,minNetIntrDuration:c.S9a,fastHistoricBandwidthExpirationTime:c.G0a,bandwidthExpirationTime:c.HSa,failureExpirationTime:c.E0a,historyTimeOfDayGranularity:c.G5a,expandDownloadTime:c.u0a,minimumMeasurementTime:c.Y9a,minimumMeasurementBytes:c.X9a,throughputMeasurementTimeout:c.Mib,initThroughputMeasureDataSize:c.o6a,throughputMeasureWindow:c.Lib,throughputIQRMeasureWindow:c.Kib,IQRBucketizerWindow:c.oDa,connectTimeHalflife:c.UUa,responseTimeHalflife:c.Zeb,historicBandwidthUpdateInterval:c.F5a,throughputMeasurementWindowCurve:c.Nib,httpResponseTimeWarmup:c.X5a,responseTimeWarmup:c.$eb,throughputWarmupTime:c.Rib,minimumBufferToStopProbing:c.W9a,throughputPredictor:c.Oib,holtWintersDiscretizeInterval:c.K5a,holtWintersHalfLifeAlpha:c.L5a,holtWintersHalfLifeGamma:c.N5a,holtWintersInitialCounts:c.O5a,holtWintersMinInitialCounts:c.P5a,holtWintersHalfLifeCurveEnabled:c.M5a,holtWintersUpperBoundEnabled:c.Q5a,ase_stream_selector:c.URa,enableFilters:c.j_a,filterDefinitionOverrides:c.Y0a,defaultFilter:c.yYa,secondaryFilter:c.yfb,defaultFilterDefinitions:c.zYa,initBitrateSelectorAlgorithm:c.g3,bufferingSelectorAlgorithm:c.$Z,debugLocationSelectorFailureSimulation:c.t0,debugDumpFragments:c.r0,debugLocationHistoryThroughput:c.s0,debugNetworkMonitorThroughput:c.u0,debugVerboseSimulation:c.ala,secondThroughputEstimator:c.n7,secondThroughputMeasureWindowInMs:c.Qua,marginPredictor:c.t4,simplePercentilePredictorPercentile:c.Cva,simplePercentilePredictorCalcToUse:c.Ava,simplePercentilePredictorMethod:c.Bva,IQRBandwidthFactorConfig:c.Zaa,networkMeasurementGranularity:c.j5,HistoricalTDigestConfig:c.saa,TputTDigestConfig:c.fKa,maxIQRSamples:c.Qqa,minIQRSamples:c.nra,useResourceTimingAPI:c.V8,ignoreFirstByte:c.Ioa,resetHeuristicStateAfterSkip:c.Peb,periodicHistoryPersistMs:c.xR,saveVideoBitrateMs:c.oS,needMinimumNetworkConfidence:c.SH,biasTowardHistoricalThroughput:c.RZ,maxFastPlayBufferInMs:c.A4,maxFastPlayBitThreshold:c.z4,headerCacheTruncateHeaderAfterParsing:c.qoa,audioFragmentDurationMilliseconds:c.GZ,videoFragmentDurationMilliseconds:c.b9,notifyOpenConnectBlackBox:c.Q$a,addHeaderDataToNetworkMonitor:c.hZ,useMediaCache:c.ly,mediaCachePartitionConfig:c.L4,diskCacheSizeLimit:c.vA,mediaCachePrefetchMs:c.LQ,appendCachedMediaAsMediaRequest:c.ERa,enablePsd:c.CO,psdCallFrequency:c.k6,psdReturnToNormal:c.l6,psdThroughputThresh:c.vI,discardLastNPsdBins:c.XF,psdPredictor:c.pg,enableRl:c.Fq,rlLogParam:c.aC,hindsightDenominator:c.S2,hindsightDebugDenominator:c.R2,hindsightParam:c.NP,minimumTimeBeforeBranchDecision:c.VQ,enableSessionHistoryReport:c.hG,earlyStageEstimatePeriod:c.R0,lateStageEstimatePeriod:c.Ppa,maxNumSessionHistoryStored:c.GQ,minSessionHistoryDuration:c.TQ,enableInitThroughputEstimate:c.gG,initThroughputPredictor:c.Ooa,appendMediaRequestOnComplete:c.uZ,waitForDrmToAppendMedia:c.JT,forceAppendHeadersAfterDrm:c.C1,startMonitorOnLoadStart:c.Y7,reportFailedRequestsToNetworkMonitor:c.O6,reappendRequestsOnSkip:c.AI,maxActiveRequestsPerSession:c.vH,limitAudioDiscountByMaxAudioBitrate:c.P3,appendFirstHeaderOnComplete:c.tZ,maxAudioFragmentOverlapMs:0,maxNumberTitlesScheduled:c.oI?c.oI.maxNumberTitlesScheduled:1,editAudioFragments:c.Ol,editVideoFragments:c.zw,declareBufferingCompleteAtSegmentEnd:c.v0,applyProfileTimestampOffset:c.Xv,applyProfileStreamingOffset:c.iq,requireDownloadDataAtBuffering:c.U6,requireSetupConnectionDuringBuffering:c.V6,renormalizeFirstFragment:c.L6,renormalizeLastFragment:c.M6,recordFirstFragmentOnSubBranchCreate:c.z6};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);d=a(18);k=a(15);(function(){var g,p,n;function a(a){b.ha(void 0!==g[a]);return g[a];}g={'"':'""',"\r":"","\n":" "};p=/["\r\n]/g;n=/[", ]/;c.EXa=function(b){return k.cb(b)?k.aa(b)?b:k.$c(b)?b.replace(p,a):k.dpa(b)?b:isNaN(b)?"NaN":"":"";};c.q4=function(a){var b,g;b=c.EXa;g="";d.ic(a,function(a,c){a=b(a)+"="+b(c);n.test(a)&&(a='"'+a+'"');g=g?g+(","+a):a;});return g;};}());},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.En={Py:"PRIMARY",p9:"ASSISTIVE",O9:"COMMENTARY"};c.JW={assistive:c.En.p9,closedcaptions:c.En.p9,directorscommentary:c.En.O9,commentary:c.En.O9,subtitles:c.En.Py,primary:c.En.Py};},function(f){f.K=function(c){return null!=c&&"object"===typeof c&&!0===c["@@functional/placeholder"];};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nba="ManifestEncoderSymbol";c.zV="ManifestTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.$J="BookmarkSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.uaa="IDBDatabaseFactorySymbol";c.bba="IndexedDBFactorySymbol";c.mV="IndexedDBStorageFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.vFa="NativeLocalStorageSymbol";c.kca="NativeLocalStorageFactorySymbol";c.vaa="IDBFactorySymbol";},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);c.Pmb=function(){this.zN=[];this.OJ=[];this.FZ=b.Gu.Ku;this.ET=b.Si.Ku;};c.qK="DeviceCapabilitiesConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rK="DownloadsAvailabilitySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.uL="Utf8EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.XJ="Base16EncoderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.yn='video/mp4; codecs="avc1.640028"';c.Hy='audio/mp4; codecs="mp4a.40.5"';c.sU="DrmTraitsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mda="ReportSyncSymbol";c.Lda="ReportApiErrorSyncSymbol";c.gaa="FtlProbeConfigSymbol";c.haa="FtlProbeSymbol";},function(f,c,a){f=a(234);a=a(233);c.async=new a.RT(f.QT);},function(f,c,a){function b(a){var b,g;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){g=b[c];if("entries"!==g&&"size"!==g&&a.prototype[g]===a.prototype.entries)return g;}return"@@iterator";}f=a(75);c.iBb=b;c.iterator=b(f.root);c.plb=c.iterator;},function(f,c,a){var b,d,k,h,g,p,n,r;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(11);f=a(50);k=a(67);h=a(437);g=a(436);p=a(236);n=function(a){function c(b){a.call(this,b);this.destination=b;}b(c,a);return c;}(f.Fh);c.OJa=n;a=function(a){function c(){a.call(this);this.br=[];this.KG=this.mf=this.closed=!1;this.w8=null;}b(c,a);c.prototype[p.Sx]=function(){return new n(this);};c.prototype.nf=function(a){var b;b=new r(this,this);b.tx=a;return b;};c.prototype.next=function(a){if(this.closed)throw new h.Oy();if(!this.mf)for(var b=this.br,c=b.length,b=b.slice(),g=0;g<c;g++)b[g].next(a);};c.prototype.error=function(a){if(this.closed)throw new h.Oy();this.KG=!0;this.w8=a;this.mf=!0;for(var b=this.br,c=b.length,b=b.slice(),g=0;g<c;g++)b[g].error(a);this.br.length=0;};c.prototype.complete=function(){if(this.closed)throw new h.Oy();this.mf=!0;for(var a=this.br,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.br.length=0;};c.prototype.unsubscribe=function(){this.closed=this.mf=!0;this.br=null;};c.prototype.MY=function(b){if(this.closed)throw new h.Oy();return a.prototype.MY.call(this,b);};c.prototype.cf=function(a){if(this.closed)throw new h.Oy();if(this.KG)return a.error(this.w8),k.Aj.EMPTY;if(this.mf)return a.complete(),k.Aj.EMPTY;this.br.push(a);return new g.nea(this,a);};c.prototype.ORa=function(){var a;a=new d.oa();a.source=this;return a;};c.create=function(a,b){return new r(a,b);};return c;}(d.oa);c.ii=a;r=function(a){function c(b,c){a.call(this);this.destination=b;this.source=c;}b(c,a);c.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};c.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.cf=function(a){return this.source?this.source.subscribe(a):k.Aj.EMPTY;};return c;}(a);c.ylb=r;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.YT="CachedDrmDataSymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.Cn="com.microsoft.playready";a.Rd="com.microsoft.playready.hardware";a.QD="com.microsoft.playready.software";a.Eqb="com.chromecast.playready";a.Fqb="org.chromium.external.playready";a.vnb="com.apple.fps.2_0";a.OKa="com.widevine.alpha";c.Fb=a;},function(f){var c;c=function(){return this;}();try{c=c||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof t&&(c=t);}f.K=c;},function(f){f.K={np:{HW:0,Rda:1,cL:2,name:["transient","semiTransient","permanent"]},lp:{baa:0,Oda:1,lL:2,LD:3,wp:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},esb:{Lrb:0,$ob:1,qmb:2,wp:100,name:["trailer","montage","content"]},zn:{nba:0,Ida:1,vKa:2,LAa:3,wp:100,name:["left","right","up","down"]},qD:{xza:0,lL:1,xnb:2,mnb:3,Dlb:4,wnb:5,uya:6,wp:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},By:{LD:0,m$:1,wp:100,name:["playFocused","detailsOpened"]}};},function(f,c,a){c=a(313);f.K="undefined"!==typeof c&&"undefined"!==typeof nrdp?nrdp.fa:Date.now;},function(f,c,a){var b,d,k,h,g,p,n,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});b=a(47);d=a(4);k=a(51);h=a(247);g=a(17);p=a(3);n=a(401);r=a(224);a(81);u=a(33);a(14);v=a(32);c.DKa=function(a,c,f,w,x){var z,m,O,q,U,Y,X;function B(a,b){b=b&&0<b.length?b[0]:{};b.type=a;b.target=U;q.jc(a,b);}function y(a){var b,c,g;O.info("Next episode added",a);g=a.playbackParams;g&&(b=g.playbackState,b={Ug:g.trackingId,wh:g.sessionParams,$v:g.authParams,oO:g.disableTrackStickiness||!1,vT:g.uiPlayStartTime,rQ:g.loadImmediately||!1,kf:g.isBranching||!1,playbackState:b?{currentTime:b.currentTime}:void 0},c=g.uiLabel);return X.gRa({M:a.movieId,UH:a.nextStartPts,mA:a.currentEndPts,lb:b,Tc:c||a.uiLabel,ne:a.manifestData,mI:x});}function l(){return X.Ld.Yb;}z=u.Va;m=[{event:z.tQ,Od:function(){B(z.tQ,arguments);}},{event:z.sQ,Od:function(){B(z.sQ,arguments);}},{event:z.loaded,Od:function(){B(z.loaded,arguments);}},{event:z.error,Od:function(){B(z.error,arguments);}},{event:z.closed,Od:function(){B(z.closed,arguments);}},{event:z.Yk,Od:function(){B(z.Yk,arguments);}},{event:z.pF,Od:function(){B(z.pF,arguments);}},{event:z.yO,Od:function(){B(z.yO,arguments);}},{event:z.FT,Od:function(){B(z.FT,arguments);}},{event:z.sR,Od:function(){B(z.sR,arguments);}},{event:z.T5,Od:function(){B(z.T5,arguments);}},{event:z.HO,Od:function(){B(z.HO,arguments);}},{event:z.$z,Od:function(){B(z.$z,arguments);}},{event:z.eF,Od:function(){B(z.eF,arguments);}},{event:z.dF,Od:function(){B(z.dF,arguments);}},{event:z.bp,Od:function(){B(z.bp,arguments);}},{event:z.Cr,Od:function(){B(z.Cr,arguments);}},{event:z.Du,Od:function(){B(z.Du,arguments);}},{event:z.$Q,Od:function(){B(z.$Q,arguments);}},{event:z.HT,Od:function(){B(z.HT,arguments);}},{event:z.IS,Od:function(){B(z.IS,arguments);}},{event:z.YR,Od:function(){B(z.YR,arguments);}},{event:z.KT,Od:function(){B(z.KT,arguments);}},{event:z.xS,Od:function(){B(z.xS,arguments);}},{event:z.yS,Od:function(){B(z.yS,arguments);}},{event:z.KZ,Od:function(){B(z.KZ,arguments);}},{event:z.LZ,Od:function(){B(z.LZ,arguments);}}];O=p.Gc("VideoPlayer");q=new k.di();U={addEventListener:q.addListener,removeEventListener:q.removeListener,getReady:function(){X.d4a();},getXid:function(){return l().ia;},getMovieId:function(){return l().M;},getElement:function(){return l().element;},getPlaying:function(){return l().Y3a();},getPaused:function(){return l().T3a();},getMuted:function(){return l().H3a();},getVolume:function(){return l().Y4a();},getEnded:function(){return l().X2a();},getBusy:function(){return l().ak();},getError:function(){return l().getError();},getCurrentTime:function(){return l().po();},getBufferedTime:function(){return l().X1();},getSegmentTime:function(){return l().yP();},getDuration:function(){return l().W2a();},getVideoSize:function(){return l().X4a();},getAudioTrackList:function(){return l().c2a();},getAudioTrack:function(){return l().b2a();},getTimedTextTrackList:function(){return l().L4a();},getTimedTextTrack:function(){return l().K4a();},getAdditionalLogInfo:function(){return l().X1a();},getTrickPlayFrame:function(a){return l().Q4a(a);},getSessionSummary:function(){return l().Pna();},getCongestionInfo:function(a){a?l().rP().then(function(b){a(b);})["catch"](function(b){a(b);}):l().rP();},getTimedTextVisibility:function(){return l().GG();},setMuted:function(a){l().zgb(a);},setVolume:function(a){l().Ogb(a);},setPlaybackRate:function(a){l().Dgb(a);},setAudioTrack:function(a){l().mgb(a);},setTimedTextTrack:function(a){l().Kgb(a);},setTimedTextSize:function(a){l().Lgb(a);},setTimedTextBounds:function(a){return l().UI(a);},setTimedTextMargins:function(a){return l().VI(a);},setTimedTextVisibility:function(a){return l().WI(a);},prepare:function(){return l().du();},load:function(){return l().load();},close:function(a){a?X.close().then(function(b){a(b);})["catch"](function(b){a(b);}):X.close();},play:function(){return l().play();},pause:function(){return l().pause();},seek:function(a){return l().seek(a);},engage:function(a,b){b?l().CA(a).then(function(a){b(a);})["catch"](function(a){b(a);}):l().CA(a);},induceError:function(a){return l().k6a(a);},loadCustomTimedTextTrack:function(a,b,c){return l().O7a(a,b,c);},tryRecoverFromStall:function(){return l().BJ();},addEpisode:y,playNextEpisode:function(a){a=void 0===a?{}:a;a={Ug:a.trackingId,$v:a.authParams,wh:a.sessionParams,oO:a.disableTrackStickiness,vT:a.uiPlayStartTime,$O:a.forceAudioTrackId,aP:a.forceTimedTextTrackId,kf:a.isBranching,e9:a.vuiCommand,playbackState:a.playbackState};O.info("Playing the next episode",a);return X.transition(a);},playSegment:function(a){return l().acb(a);},queueSegment:function(a){return l().sdb(a);},updateNextSegmentWeights:function(a,b){return l().Hr(a,b);},getCropAspectRatio:function(){return l().E2a();}};Y=p.da.get(n.gea).Jq(!1,"0.0012.893.010",g.Dy,v.ei,d.config);X=p.da.get(r.zW).nXa(Y,function(a,c,g){return new b.yj(a,c,g);},h.rXa,function(a,b){U&&l()&&(U.diagnostics=l().Q2a());m.forEach(function(c){b&&b.removeEventListener(c.event,c.Od);a.addEventListener(c.event,c.Od);});a.getError()?B(z.$z,a.getError().pT()||{}):(B(z.eF),B(z.dF),B(z.bp),B(z.Cr),B(z.Du),B(z.$z));});y({movieId:a,playbackParams:c,uiLabel:f,manifestData:w});return U;};c.Qzb=u.Va.tQ;c.ldb=u.Va.sQ;c.Pzb=u.Va.loaded;c.Ozb=u.Va.error;c.Mzb=u.Va.closed;c.kdb=u.Va.Yk;c.Kzb=u.Va.pF;c.Nzb=u.Va.yO;c.Zzb=u.Va.FT;c.tta=u.Va.sR;c.sta=u.Va.HO;c.Lzb=u.Va.$z;c.Jzb=u.Va.eF;c.Izb=u.Va.dF;c.Xzb=u.Va.bp;c.Wzb=u.Va.Cr;c.Yzb=u.Va.Du;c.Rzb=u.Va.$Q;c.$zb=u.Va.HT;c.Vzb=u.Va.IS;c.Szb=u.Va.YR;c.aAb=u.Va.KT;c.Tzb=u.Va.xS;c.Uzb=u.Va.yS;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.Xg||(c.Xg={});f[f.Jva=1]="sourceopen";f[f.Yk=2]="currentTimeChanged";f[f.eC=3]="seeked";f[f.Cra=4]="needlicense";f[f.Upa=5]="licenseadded";f[f.Iva=6]="sourceBuffersAdded";f[f.hsa=7]="onNeedKey";},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(5);d=a(4);k=a(2);h=a(3);g=a(14);p=a(6);f.Yd(k.I.Aaa,function(a){var k,f,B;function n(){B&&clearTimeout(B);a(b.kb);n=g.Db;}k=h.Gc("BatteryManager");c.oq={gza:"chargingchange",vna:function(){return f?f.level:null;},Z1:function(){return f?f.charging:null;},addEventListener:function(a,b){f&&f.addEventListener(a,b);},removeEventListener:function(a,b){f&&f.removeEventListener(a,b);}};if(d.config.vF){B=setTimeout(n,d.config.m2a);try{p.Yg.getBattery().then(function(a){f=a;n();})["catch"](function(a){k.error("getBattery promise rejected",a);n();});}catch(z){k.error("exception on getBattery api call",z);n();}}else n();});},function(f,c,a){var d,k,h;function b(a,b){this.Jn=b?[b]:[];this.Bs="$op$"+h++;this.l=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(5);k=a(9);h=0;b.prototype.addListener=function(a,b){var c;c=this;k.Zka(a);k.ha(0>this.Jn.indexOf(a));a[d.$K+this.Bs]=b;this.Jn=this.Jn.slice();this.Jn.push(a);this.Jn.sort(function(a,b){return c.phb(a,b);});};b.prototype.removeListener=function(a){var b;k.Zka(a);this.Jn=this.Jn.slice();0<=(b=this.Jn.indexOf(a))&&this.Jn.splice(b,1);};b.prototype.set=function(a,b){if(this.l!==a){b=Object.assign({oldValue:this.l,newValue:a},b);this.l=a;a=this.Jn;for(var c=a.length,g=0;g<c;g++)a[g](b);}};b.prototype.phb=function(a,b){return(a[d.$K+this.Bs]||0)-(b[d.$K+this.Bs]||0);};oa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.l;}}});c.Hd=b;},function(f,c,a){var b,d,k,h,g,p,n,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(80);d=a(26);k=a(140);h=a(4);g=a(51);p=a(17);a(3);a(81);n=a(9);r=a(2);u=a(15);c.Uba=function(){var a;a=new g.di();return{addEventListener:a.addListener,removeEventListener:a.removeListener,download:function(a,c){var l;function g(a,b){a.N$a({mediaRequest:a,timestamp:b});}function f(a){g(a.mediaRequest.Di,a.timestamp);}function v(a){var b;b=a.mediaRequest.Di;b.readyState=k.Ua.$a.js;a.connect?(a.mediaRequest=b,a.readyState=b.readyState):a={mediaRequest:b,readyState:b.readyState,timestamp:p.Ya(),connect:!1};b.t5(a);}function B(a){var b,c,g,d;b=a.mediaRequest;c=a.errorcode;g=a.httpcode;d=k.Ua.Rr;if(void 0!==b&&(b=b.Di,void 0!==b&&b.readyState!==k.Ua.$a.hm))if(c===r.v.Vr)b.readyState=k.Ua.$a.em,a.mediaRequest=b,a.readyState=b.readyState,b.I$a(a);else{b.readyState=k.Ua.$a.hm;switch(c){case r.v.yy:g=d.XT;break;case r.v.iV:g=d.fV;break;case r.v.mD:g=400<g&&500>g?d.HK:500<=g?d.hV:d.fV;break;case r.v.xy:g=d.gV;break;case r.v.lD:g=d.P9;break;case r.v.nD:g=d.IK;break;case r.v.Ru:g=d.IK;break;case r.v.eV:g=d.raa;break;case r.v.oaa:g=d.HK;break;case r.v.PAa:g=d.gV;break;default:g=d.IK;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=g;a.nativecode=c;b.u5(a);}}h.config.Jr&&a.Di&&b.Bh&&b.Bh.UTa(a.Di.M,a.Di.Za)&&(l=a.Di.Za,n.ha(l,"streamId not available in mediaRequestAse"),l=b.Bh.download(a.Di.M,a,l,c));l||(l=d.Wb.download(a,c));a.Di&&(c=a.Di,c.readyState===k.Ua.$a.OPENED||c.readyState===k.Ua.$a.hm)&&(c.readyState=k.Ua.$a.ks,h.config.u9a?l.ugb(f):g(c,p.Ya()));l.oia(function(b){var c,g;c=b.request.Di;void 0!==c&&(b.N?a.G&&c.readyState!==k.Ua.$a.DONE&&c.readyState!==k.Ua.$a.em&&(c.readyState!==k.Ua.$a.hm&&c.readyState===k.Ua.$a.ks&&v({mediaRequest:b.request}),c.readyState=k.Ua.$a.DONE,c.Mb||(g={mediaRequest:c,readyState:c.readyState,timestamp:p.Ya(),cadmiumResponse:b},a.G.E8+=1,c.P4a(),c.Q6a()&&(a.G.b7+=1,b.Pf.uf=Math.ceil(c.n1a),b.Pf.nk=Math.ceil(c.KUa),b.Pf.requestTime=Math.floor(c.V7a)),c.AF=g,c.Gi(g))):c.readyState!==k.Ua.$a.em&&(g={mediaRequest:b.request,timestamp:p.Ya(),errorcode:b.S,httpcode:b.mh},B(g)));});l.Egb(function(a){var b,c;b=a.mediaRequest.Di;c=a.bytes;void 0!==b&&(b.readyState===k.Ua.$a.ks&&v(a),u.aa(c)&&(a.mediaRequest=b,a.timestamp=p.Ya(),c>b.Oc&&(a.newBytes=c-b.Oc,a.bytesLoaded=c,b.R$a(a))));});l.sgb(B);return l;}};};},function(f,c,a){var h,g,p,n,r,u,v,B,l,y,w,x,C,F,P;function b(a,b){var z,C;function c(b){return g.DFa(a,z,b);}function f(){var a,b,g;b=y.Gc("Eme");a=new l.Ye.Qr(b,void 0,c,{lf:!1,Pw:!1});g=y.da.get(x.Yy);return l.Ye.un(b,"cenc",void 0,{lf:!1,Pw:!1,tpa:r.config.Yh,Tua:{fra:r.config.Cfb,Oja:r.config.p7,FBb:r.config.Bfb},Xa:a,LR:r.config.sI,NC:r.config.NC,ny:r.config.X0,hzb:r.config.Dfb,Wia:g.XN(),c9:g.KF([]),$A:r.config.$A});}function u(a,b){var c;c={ia:b.xid,Lw:function(){return 0;},M:b.movieId,sH:!1};r.config.Yh&&(C.info("secure stop is enabled"),b=a.N?{success:a.N,persisted:!0,ss_km:a.S4,ss_sr:a.jC,ss_ka:a.H_}:{success:a.N,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.nb,ErrorExternalCode:a.yc,ErrorEdgeCode:a.Wj,ErrorDetails:a.cause&&a.cause.Ga},b.browserua=F.Dh,a=new B.Ly(c,"securestop",a.N?"info":"error",b),t._cad_global.logBatcher.$l(a));}function v(){function a(a,b){var g,n;g=h.eg.Nq(b.profileId);if(!g)return C.warn("profile not found in release drm session, this is an orphan drmSession"),d(a,b);if(!b.Qb||0===b.Qb.length||!b.Qb[0].Ot)return C.error("releaseDrmSession exception: missing valid keySessionData"),d(a,b);z={Wb:p.Wb,log:C,profile:g};if(0<b.Qb.length){C.info("Sending the deferred playdata and secure stop data");n=f();return n.create(r.config.Cd).then(function(){return n.NYa(b);}).then(function(c){C.info("Sent the deferred playdata and secure stop data");u(c,b);return d(a,b);})["catch"](function(c){c&&c.code===w.I.VIa&&d(a,b);c&&c.code===w.I.UIa&&d(a,b);C.error("Unable to send last stop",c);u(c,b);throw c;});}C.info("No key session so just send the playdata");return c(b).then(function(){C.trace("Successfully sent stop command for previous session");return d(a,b);})["catch"](function(a){C.error("Unable to send stop command for previous session",a);throw a;});}k(C).then(function(c){var g;g=c.vO.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(g).then(function(){C.info("release drm session completed for "+g.length+" entries");b(n.kb);})["catch"](function(a){a=a||{};a.DrmCacheSize=g.length;C.error("Unable to release one or more DRM session data",a);b(n.kb);});})["catch"](function(a){C.error("Unable to load DRM session data",a);b(n.kb);});}C=y.Gc("PlayDataManager");b=b||n.Db;r.config.sn?b(n.kb):v();}function d(a,b){return a?a.I6(b):Promise.resolve();}function k(a){var b;if(!c.Fla){b=y.da.get(C.YT);c.Fla=new Promise(function(c,g){b.Ata().then(function(){c(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);g(b);});});}return c.Fla;}Object.defineProperty(c,"__esModule",{value:!0});f=a(19);h=a(102);g=a(178);p=a(26);n=a(5);r=a(4);u=a(16);v=a(55);B=a(94);l=a(32);y=a(3);w=a(2);x=a(111);C=a(167);F=a(6);P=a(124);c.PHa=function(a){var h,p,f,w,x;function c(){p||(a.Pd("pdsb"),p=y.da.get(P.eL)().then(function(b){w=b;a.Pd("pdsc");return b;})["catch"](function(b){h.error("Unable to initialize the playdata services",b);a.Pd("pdse");throw b;}));return p;}function g(){f=!0;w&&w.close();v.Nd.removeListener(v.ck,g);}h=y.jf(a,"PlayDataManager");f=!1;if(!l.Ye.un||!l.Ye.Qr){x=l.zca();l.Ye.un=x.te;l.Ye.Qr=x.request;}a.Pd("pdctor");a.addEventListener(u.Ze,function(){v.Nd.removeListener(v.ck,g);});a.addEventListener(u.iL,function(){var b;if(!r.config.sn&&a.kh){b=a.DB.zka();k(h).then(function(a){return a.ria(b);})["catch"](function(){h.error("Unable to load/add cached DRM data");});}});a.addEventListener(u.Ze,function(){var b;if(!f){a.Skb();b=[function(){return r.config.sn||!a.kh?Promise.resolve():new Promise(function(b){var c;h.info("Sending the expedited playdata and secure stop data");c=a.DB.zka();a.kh.jma(c).then(function(b){h.info("Sent the expedited playdata and secure stop data");r.config.Yh&&a.CB.wS({success:b.N,persisted:!1,ss_km:b.S4,ss_sr:b.jC,ss_ka:b.H_});return k(h);}).then(function(a){return d(a,c);}).then(function(){b();})["catch"](function(c){h.error("Unable to send the expedited playdata and secure stop data",c);r.config.Yh&&a.CB.wS({success:c.N,state:c.state,ErrorCode:c.code,ErrorSubCode:c.nb,ErrorExternalCode:c.yc,ErrorEdgeCode:c.Wj,ErrorDetails:c.cause&&c.cause.Ga});b();});});}(),function(){return c().then(function(b){return b.Jhb(a);}).then(function(){h.info("Sent the playdata");})["catch"](function(a){h.error("Unable to send the playdata",a);});}(),function(){if(t._cad_global.logBatcher)return new Promise(function(a){t._cad_global.logBatcher.flush(!1)["catch"](function(){h.error("Unable to send logblob");a();}).then(function(){a();});});Promise.resolve();}()];Promise.all(b).then(function(){a.Nra();})["catch"](function(){a.Nra();});}});v.Nd.addListener(v.ck,g);return{Pfb:function(g){a.Pd("pdpb");r.config.BS||c().then(function(b){return b.send(a.M);}).then(function(){r.config.sn?(a.Pd("pdpc"),g(n.kb)):b(a,function(){a.Pd("pdpc");g(n.kb);});})["catch"](function(){a.Pd("pdpe");g(n.kb);});}};};c.QHa=function(){return new Promise(function(a){b({},function(b){a(b);});});};f.Yd(w.I.Wr,function(a){a(n.kb);});},function(f,c,a){var k,h,g,p,n,r,u,v,B,l,y,w,x,C,F,P,M,m;function b(a,b,c){var g;g=u.da.get(P.tD);return a.ia&&d(a.Qb)?g.release(Object.assign({},c,{ia:a.ia,Qb:a.Qb}),b):c.ia&&d(c.Qb)?g.release(c,b):Promise.resolve({N:!0});}function d(a){return a&&0<a.length&&a[0].Ot;}Object.defineProperty(c,"__esModule",{value:!0});k=a(141);h=a(80);g=a(5);p=a(4);n=a(16);r=a(17);u=a(3);v=a(9);B=a(443);l=a(2);y=a(56);w=a(32);x=a(25);C=a(15);F=a(202);P=a(148);M=a(109);m=a(124);c.CFa=function(a){var z,O,ea,q,V,fa,ba;function d(){d=g.Db;a.fireEvent(n.hda);u.da.get(m.eL)().then(function(b){b.vhb(a);});}function f(){f=g.Db;c.lca(O,z);a.fireEvent(n.iL);}function w(b){return new Promise(function(c,g){var d,h,p;d=r.Ya();h=[];p=y.Jc.uka(b.mg);b.Rj.forEach(function(a){h.push({sessionId:a.sessionId,dataBase64:u.kq(a.data)});});p={Ve:a.Ve,mg:C.is.ti(b.mg)?b.mg:p,uO:[a.Vj],Rj:h,ia:a.ia,jh:b.jh};a.RN&&(p.BH=a.RN);ba.Rz(p,O).then(function(b){q=r.Ya()-d;a.Qb=b.Qb;c(b);f();})["catch"](function(a){g(a);});});}z=u.jf(a,"NccpPlayback");O={Wb:a.NG,log:u.jf(a,"Nccp"),profile:a.profile};fa=u.da.get(F.yV);ba=u.da.get(P.tD);v.ha(p.config);v.ha(k.Ut);v.ha(O.Wb);p.config.sn||(V=u.da.get(B.D$));return{g5:O,gF:function(b){var k,f,w;function c(c){ea=r.Ya()-k;z.trace("Auth Delay: "+ea);try{a.oR(c);b(g.kb);d();}catch(Fb){z.error("Exception processing authorization response",Fb);b({N:!1,S:l.v.hFa});}}function n(){var g,d;g=p.config.NR.enabled?y.Jc.jm.Cda:a.hB()?y.Jc.jm.eea:y.Jc.jm.Bp;d=a.oc;g={ia:a.ia,wh:fa.fka(d.$v,d.wh),yf:a.M,Ht:!!d.kf,qG:g};p.config.NR.enabled&&C.Kt(p.config.NR.Yl)&&(g.Yl=p.config.NR.Yl);d=u.da.get(M.Ry)();fa.RA(g,d).then(function(a){c(a);})["catch"](function(a){b(a);});}v.qw(a.M);v.qw(a.Ug);k=r.Ya();f=a.Ma;if(f){w=f.expiration;w?(w-=r.eA(),18E5<w?x.bb(function(){c(f);a.HN=!0;}):(z.error("manifest is expired",{gap:w}),n())):x.bb(function(){c(f);a.HN=!0;});}else if(a.Rg)if(w=h.Bh.$vb(a.M)){z.info("manifest consumed from video cache");try{a.oR(w);b(g.kb);d();}catch(wa){z.error("Exception processing manifest from video cache",wa);b({N:!1,S:l.v.NAa});}a.HN=!0;}else z.error("video cache can play, but manifest not in video cache",a.M),b({N:!1,S:l.v.OAa});else p.config.$m&&t._cad_global.videoPreparer?(w=t._cad_global.videoPreparer.jj(a.M,"manifest"))&&w.then(function(b){c(b);a.HN=!0;})["catch"](function(a){z.warn("manifest not in cache",a);n();}):n();},Jw:w,release:function(c){return b(a,O,c);},Hc:function(a,b){w(a).then(function(a){b(a);})["catch"](function(a){b(a);});},zka:function(){var b;b=V.create();b.profileId=a.profile.id;a.kh&&(b.Cd=a.kh.PA());b.Qb=a.Qb;b.ia=a.ia;b.M=a.M;return b;},f2a:function(){return ea;},y3a:function(){return q;}};};c.lca=function(a,b){c.lca=g.Db;w.tFa&&p.config.ikb&&k.Ut.SZ(a).then(function(){b.trace("Updated NetflixId");})["catch"](function(a){b.error("NetflixId upgrade failed",u.gm(a));});};c.DFa=b;},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(26);d=a(4);k=a(5);h=a(17);g=a(2);p=a(3);n=a(267);r=a(84);f.Yd(g.I.Vaa,function(a){var g;g=p.da.get(r.Kr);d.config.zO&&(c.kw=new n.gK({rZ:g.endpoint+d.config.TUa,Wb:b.Wb,Na:{tP:h.ht},UQ:600,log:p.Gc("Congestion")}));a(k.kb);});},function(f,c,a){var b,d,k,h,g,p,n,r,u,v,B,l,y,w,x,C;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);d=a(142);k=a(89);h=a(4);g=a(5);p=a(90);f=a(32);n=a(2);r=a(9);u=a(3);v=a(95);B=a(56);l=a(53);y=a(18);w=a(6);x=a(15);C=a(27);c.Fi={};t._cad_global||(t._cad_global={});t._cad_global.msl=c.Fi;f.Iba&&b.Yd(n.I.Gaa,function(a){var m,q,U,Y,X,N,G,ca,V,fa,ba,ma,ja,ka;function f(c){c&&c.userList&&h.config.Wgb&&(c.userList=[]);Y({esn:k.Mf.Of,esnPrefix:k.Mf.Bm,authenticationType:h.config.fF,authenticationKeyNames:h.config.$ia,systemKeyWrapFormat:h.config.Aib,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ja,storeState:c,notifyMilestone:b.qH,log:G,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:n.v.Mba,MSL_READ_TIMEOUT:n.v.xEa}},{result:function(a){z(a);},timeout:function(){a({S:n.v.Lba});},error:function(b){a(F(n.v.Lba,void 0,b));}});}function z(b){var k,f,v;function d(){ma&&u.da.get(l.ul).create().then(function(a){return a.save(fa,f,!1);})["catch"](function(a){G.error("Error persisting msl store",u.gm(a));});}k=new p.ZD(100);v=X.extend({init:function(a){this.Qga=a;},getResponse:function(a,b,c){var g,d;b=this.Qga;g=b.PH.Wb||g;a=x.xpa(a.body)?u.IJ(a.body):a.body;r.PF(a,"Msl should not be sending empty request");a={url:b.url,ata:a,withCredentials:!0,sA:"nccp-"+b.method,headers:b.headers};b=this.Qga.timeout;a.M_=b;a.o5=b;d=g.download(a,function(a){try{if(a.N)c.result({body:a.content});else if(400===a.mh&&a.Ga)c.result({body:a.Ga});else throw y.va(new N("HTTP error, SubCode: "+a.S+(a.mh?", HttpCode: "+a.mh:"")),{cadmiumResponse:a});}catch(la){c.error(la);}});return{abort:function(){d.abort();}};}});V&&b.addEventHandler("shouldpersist",function(a){f=a.storeState;k.ib(d);});y.va(c.Fi,{j6a:function(){ba=!0;},send:function(a){function c(){var b,c;b=a.PH;c={method:a.method,nonReplayable:a.eR,encrypted:a.GO,userId:a.PC,body:a.body,timeout:2*a.timeout,url:new v(a),allowTokenRefresh:ma,sendUserAuthIfRequired:ka,shouldSendUserAuthData:h.config.bhb};b.Bw?(c.email=b.Bw,c.password=b.password||""):b.Ewa?(c.token=b.Ewa,c.mechanism=b.q9a,b.kx&&(c.netflixId=b.kx,c.secureNetflixId=b.uS),b.Sg&&(c.profileGuid=b.Sg)):b.kx?(c.netflixId=b.kx,c.secureNetflixId=b.uS):b.Zqa?(c.mdxControllerToken=b.Zqa,c.mdxPin=b.l9a,c.mdxNonce=b.k9a,c.mdxEncryptedPinB64=b.j9a,c.mdxSignature=b.m9a):ba||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Sg&&(c.profileGuid=b.Sg);return c;}return new Promise(function(a,g){var d;d=c();b.send(d).then(function(b){ba&&(ba=!1);a({N:!0,body:b.body});})["catch"](function(a){var c,d;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.S?a.error.cadmiumResponse.S:b.isErrorReauth(a.error)?n.v.xV:b.isErrorHeader(a.error)?n.v.Jba:n.v.wV;d=b.getErrorCode(a.error);g(F(c,d,a.error));}else G.error("Unknown MSL error",a),a.nb=a.subCode,g({S:a.nb?a.nb:n.v.yEa});});});},ztb:function(a,c){b.buildPlayDataRequest({nccpMethod:a.j$a,nonReplayable:a.eR,encrypted:a.GO,userId:a.PC,body:a.body,serviceTokens:a.UAb,timeout:a.timeout,allowTokenRefresh:!1},{result:function(a){c({N:!0,body:a});},timeout:function(){c({S:n.v.Mba});},error:function(a){var g,d;g=b.isErrorReauth(a)?n.v.xV:b.isErrorHeader(a)?n.v.Jba:n.v.wV;d=b.getErrorCode(a);c(F(g,d,a));}});},Ke:b});a(g.kb);}function F(a,b,c){var g,d,h,p;p={S:a,Gq:b};if(c){g=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(h=c.cadmiumResponse){if(d=h.xb&&h.xb.toString())h.xb=d;h.S=a;h.Gq=b;h.Ga=g(c.message);h.error={nb:a,yc:d,Tm:b,data:c.cause,message:c.message};return h;}g=g(c.errorMessage);d=y.ed(c.internalCode)||y.ed(c.error&&c.error.internalCode);h=void 0!==c.m0a?C.Xra(c.m0a):void 0;}g&&(p.Ga=g);d&&(p.xb=d);p.error={nb:a,yc:d.toString(),Tm:b,data:h,message:g};return p;}r.ha(h.config);m=u.da.get(v.ns);q=B.Jc.Bg;if(w.ds&&w.Ll&&w.Ll.unwrapKey){try{U=t.netflix.msl;Y=U.createMslClient;X=U.IHttpLocation;N=U.MslIoException;}catch(qa){a({S:n.v.sEa});return;}G=u.Gc("Msl");ca=h.config.d$a;V=h.config.e$a;fa=h.config.Ql?"mslstoretest":"mslstore";U=d.vC.kva;ba=h.config.h6a;ma=!U||U.N;ja=u.Qk(h.config.Ql?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ka=!!h.config.B7;u.da.get(l.ul).create().then(function(b){ca?b.remove(fa).then(function(){f();})["catch"](function(a){G.error("Unable to delete MSL store",u.gm(a));f();}):V?b.load(fa).then(function(a){m.mark(q.uEa);f(a.value);})["catch"](function(c){c.S==n.v.zj?(m.mark(q.wEa),f()):(G.error("Error loading msl store",u.gm(c)),m.mark(q.vEa),b.remove(fa).then(function(){f();})["catch"](function(b){a(b);}));}):f();})["catch"](function(b){G.error("Error creating app storage while loading msl store",u.gm(b));a(b);});}else a({S:n.v.tEa});});},function(f,c,a){var b,d,k,h,g,p,n,r,u,v;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(276);d=a(4);k=a(5);h=a(2);g=a(3);p=a(9);n=a(6);f.Yd(h.I.Baa,function(a){var r;r=g.Gc("FileSystem");"fs"!=d.config.ZS?a(k.kb):(p.ha(0<b.I5),n.oFa(n.PERSISTENT,b.I5,function(b){c.UO=b;a(k.kb);},function(){r.error("Error calling requestFileSystem");a({S:h.v.Zda});}));});r={};u={create:!0};v={create:!0,exclusive:!0};c.Q0a=function(a){c.UO.root.getDirectory("netflix.player.namedatapair",u,function(b){a({N:!0,nZa:b});},function(){a({S:h.v.nJa});});};c.Mvb=function(a,b){a.createReader().readEntries(function(a){var d;for(var c=[],g=a.length;g--;){d=a[g];d.isFile&&c.push(d.name);}b({N:!0,Lvb:c});},function(){b({S:h.v.pJa});});};c.R0a=function(a,b,c){function g(){c({S:h.v.kJa});}a.getFile(b,r,function(a){a.file(function(b){var d;d=new FileReader();d.onloadend=function(){c({N:!0,text:d.result,q1:a});};d.onerror=g;d.readAsText(b);},g);},g);};c.T0a=function(a,b,c,g,d){function p(){d&&d({S:h.v.mJa});}function k(a){a.createWriter(function(b){try{b.onwriteend=function(){b.onwriteend=null;b.onerror=null;b.truncate(b.position);d&&d({N:!0,q1:a});};b.onerror=p;b.write(new n.hca([c]));}catch(ea){p();}},p);}b.createWriter?k(b):a.getFile(b,g?v:u,k,p);};c.S0a=function(a,b,c){function g(){c&&c({S:h.v.lJa});}function d(a){a.remove(function(){c&&c(k.kb);},g);}b.remove?d(b):a.getFile(b,r,d,g);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kda=function(a,b){var c;this.J7=function(){c||(c=setInterval(b,a));};this.x_=function(){c&&(clearInterval(c),c=void 0);};};},function(f,c,a){var b,d;b=a(184);d={};f.K={Jvb:function(a){a=a.map(b.Vq);return a.slice(0,a.length/2);},Ivb:function(a,b){var c;c=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*c;});},j1:function(a,b){var c;c=a/b*Math.PI*-2;d[b]=d[b]||{};d[b][a]=d[b][a]||[Math.cos(c),Math.sin(c)];return d[b][a];}};},function(f){f.K={add:function(c,a){return[c[0]+a[0],c[1]+a[1]];},Ed:function(c,a){return[c[0]-a[0],c[1]-a[1]];},multiply:function(c,a){return[c[0]*a[0]-c[1]*a[1],c[0]*a[1]+c[1]*a[0]];},Vq:function(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1]);}};},function(f,c,a){var b,d,k;b=a(184);d=a(183);k=a(524);f.K={p1:function g(a){var c,p,k,B,l;c=[];p=a.length;if(1==p)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];k=g(a.filter(function(a,b){return 0==b%2;}));a=g(a.filter(function(a,b){return 1==b%2;}));for(var f=0;f<p/2;f++){B=k[f];l=b.multiply(d.j1(f,p),a[f]);c[f]=b.add(B,l);c[f+p/2]=b.Ed(B,l);}return c;},pma:function(a){var f,v,B;for(var c=a.length,g=k.oVa(c),r=0;r<c;r++){f=k.reverse(r)>>>k.fDa-g;if(f>r){v=[a[r],0];a[r]=a[f];a[f]=v;}else a[f]=[a[f],0];}for(g=2;g<=c;g+=g)for(r=0;r<g/2;r++)for(f=d.j1(r,g),v=0;v<c/g;v++){B=b.multiply(f,a[v*g+r+g/2]);a[v*g+r+g/2]=b.Ed(a[v*g+r],B);a[v*g+r]=b.add(a[v*g+r],B);}}};},function(f){f.K={Eba:{code:-1,description:"MediaCache is not supported."},Rqb:{code:100,description:"Resource was not found"},kEa:{code:101,description:"Resource Metadata was not found"},Uy:{code:102,description:"Read failed",sl:function(c,a){return{code:this.code,description:c,cause:a};}},zL:{code:200,description:"Daily write limit exceeded"},ty:{code:201,description:"Capacity has been exceeded"},yL:{code:202,description:"Write failed, cause unknown",sl:function(c,a){return{code:this.code,description:c,cause:a};}},ksb:{code:203,description:"Write failed, cause unknown"},hAa:{code:300,description:"Failed to delete resource",sl:function(c,a){return{code:this.code,description:c,cause:a};}},Xr:{code:900,description:"Invalid partition name"},kDa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},gU:{code:701,description:"Failed to initialize underlying disk cache."},jEa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(f,c,a){var d,k,h;function b(a,b,c,d){h.call(this,a,b,c,d);k.call(this,a,b);this.ub=[];this.vv={};this.Qm();this.fg=!1;}d=a(20);c=a(60);a(10);a(122);k=a(61);h=a(297);a(23);b.prototype=Object.create(h.prototype);c(k.prototype,b.prototype);b.prototype.Ow=function(){return!this.fg&&this.ub.length&&this.ub.every(function(a){return a.Ow();});};b.prototype.Tz=function(a){d(!this.fg);return this.fg=this.ub.every(function(b){return b.Ow()?b.Tz(a,void 0,void 0):!1;});};b.prototype.neb=function(){this.ub.forEach(function(a){a.XR();});};b.prototype.Xt=function(a){h.prototype.Xt.call(this,a);};b.prototype.Hi=function(a){h.prototype.Hi.call(this,a);};b.prototype.Ai=function(){return this.ub[0].Ai()+"-"+this.ub[this.ub.length-1].Ai();};b.prototype.toString=function(){return k.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=b.prototype.toString;f.K=b;},function(f,c,a){var d,k;function b(a,b,c,n,r,f){k.call(this,a,n);d.call(this,a,b,c,n,r,f);}c=a(60);d=a(296);k=a(189);b.prototype=Object.create(d.prototype);c(k.prototype,b.prototype);f.K=b;},function(f,c,a){var k;function b(a,b){this.kc=a;this.Kc=b.ga;this.Vc=b.offset;}function d(){k(!1);}k=a(20);b.prototype={};Object.defineProperties(b.prototype,{stream:{get:function(){return this.kc;},set:d},ga:{get:function(){return this.Kc;},set:d},offset:{get:function(){return this.Vc;},set:d},za:{get:function(){return this.kc.za;},set:d},M:{get:function(){return this.kc.M;},set:d},O:{get:function(){return this.kc.O;},set:d},Za:{get:function(){return this.kc.Za;},set:d},L:{get:function(){return this.kc.L;},set:d},profile:{get:function(){return this.kc.profile;},set:d},ma:{get:function(){return this.kc.ma;},set:d},hx:{get:function(){return this.kc.hx;},set:d},La:{get:function(){return this.kc.La;},set:d},bF:{get:function(){return this.kc.bF;},set:d},cF:{get:function(){return this.kc.cF;},set:d},k3:{get:function(){return this.kc.k3;},set:d}});b.prototype.toJSON=function(){return{M:this.M,Za:this.Za,offset:this.offset,ga:this.ga};};f.K=b;},function(f,c,a){var g,p,n,r,u,v,B,l;function b(a,b,c,g,d,h,p,n,k){this.kLa=a;this.Mn=b;this.sv=c;this.cN=g;this.Cv=k;this.stream=h;p instanceof ArrayBuffer?(this.data=p,this.offset=0,this.o0=p.byteLength):(this.data=p.data,this.offset=p.offset||0,this.o0=p.length||this.data.byteLength);this.level=k?k.level+1:0;this.mF={};this.BC=void 0;d&&(this.Pb={});this.config=n||{};this.truncate=this.config.truncate;this.Ux=this.config.Ux;this.Dbb=this.offset;this.gI=this.Dbb+this.o0;this.view=new DataView(this.data);this.jx=this.AN=0;this.Xka=[];this.ut=[];}function d(a,b){return{type:"done",moovEnd:a,parsedEnd:b};}function k(a,c,d,h,p,k){var f;h=h?[r.PV,r.NV]:void 0;f=Object.create(n.Pb);p&&((p.wbb||p.H8)&&g(n.Fua,f),p.I8&&g(n.Ajb,f),p.H8&&g(n.zjb,f));b.call(this,f,d,h,p&&p.nBb||["moof",r.gca],!(!p||!p.dBb),a,c,p,k);}function h(a,c,g){b.call(this,n.Pb,void 0,void 0,void 0,!0,a,c,void 0,g);}a(20);g=a(38);c=a(24).EventEmitter;p=new(a(10)).Console("MP4","media|asejs");n=a(301);r=a(144);u=a(304);v=a(23).jw;B=a(62).iX;l=a(62).Efa;a(62);b.prototype=Object.create(c);b.prototype.constructor=b;Object.defineProperties(b.prototype,{O:{get:function(){return this.stream.O;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},L:{get:function(){return this.stream.L;}}});b.prototype.Vb=function(a){p.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.ba=function(a){p.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.RWa=function(a,b,c){var g;g=this.kLa[a];if(g)return new g(this,a,b,c);};b.prototype.bua=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.mF[b]=a[b],this.cN&&-1!==this.cN.indexOf(b)&&(void 0===this.BC||a[b].offset<this.BC)&&(this.BC=a[b].offset));};b.prototype.parse=function(a){var c,g;function b(a,b,c,g,d){var h;if(a){h=a.indexOf(b);-1!=h&&(d.Vb(g+" box "+b+" found at offset: 0x"+c.toString(16)),a.splice(h,1));}}for(this.Ej=a||{};;){this.ew=this.offset;if(8>this.gI-this.ew){this.Mn&&0<this.Mn.length&&this.Fha();break;}this.UZ=this.ab();c=this.ab();a=B(c);if(0===this.UZ){this.iY("MP4: invalid zero length box for "+a);break;}if(null===a){this.iY("MP4: invalid box type: "+c);break;}c=this.ew+this.UZ;if(c>this.gI){this.Vb("more data needed: 0x"+c.toString(16)+" > 0x"+this.gI.toString(16));this.Fha(a,c);break;}"uuid"===a&&(a=this.LE());if(this.cN&&-1!==this.cN.indexOf(a)){this.BC=this.ew;break;}g=this.RWa(a,this.ew,this.UZ);if(g){if(!g.parse(this.Ej)){this.Vb("box parser failed: "+a);break;}this.Pb&&(void 0===this.Pb[a]&&(this.Pb[a]=[]),this.Pb[a].push(g));}b(this.sv,a,this.ew,"desired",this);b(this.Mn,a,this.ew,"required",this);if(this.Mn&&0===this.Mn.length&&!(this.sv&&this.sv.length&&this.sv.some(function(a){return this.mF[a];}.bind(this))))return this.Vb("done: moov end offset: "+this.NH+", parsing end offset: "+c),this.hha(this.NH,c),!0;this.offset=c;if(this.BC===this.offset)break;}if(this.offset>=this.BC||this.offset>this.gI-8)return this.hha(this.NH,this.offset),!0;this.offset=this.ew;return!1;};b.prototype.JY=function(a){this.data=this.data.slice(0,a);this.view=new DataView(this.data);};b.prototype.Fha=function(a,b){a?(this.Mn&&this.Mn.length&&(1<this.Mn.length||this.Mn[0]!==a)?b=this.Nsb||b+4096:this.sv&&this.sv.length&&(b=this.sv.filter(function(a){return this.mF[a];}.bind(this)).reduce(function(a,b){return Math.max(a,this.mF[b].offset+this.mF[b].size||0);}.bind(this),b)),this.iha(b-this.gI)):this.iha(4096);};b.prototype.xdb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.Fc();0!==c&&0<--a;)b.push(c),c=this.Fc();return String.fromCharCode.apply(null,b);};b.prototype.iY=function(a){this.ba("ERROR: "+a);a={type:"error",ctxt:this.Ej,errormsg:a};this.Ea(a.type,a);};b.prototype.hha=function(a,b){var c;if(this.xk){c={type:"vmafs",ctxt:this.Ej,vmafs:this.xk};this.Ea(c.type,c);}this.U&&(c={type:"fragments",ctxt:this.Ej,fragments:this.U,truncated:this.Fr,movieDataOffsets:this.Tt,additionalSAPs:this.Ig,timescale:this.ma,defaultSampleDuration:this.RF},this.Ea(c.type,c));c=d(a,b);this.Ea(c.type,c);};b.prototype.iha=function(a){a={type:"requestdata",ctxt:this.Ej,bytes:a};this.Ea(a.type,a);};b.prototype.Kv=function(a){if(this.Cv)this.Cv.o.Kv(a);else for(var b in a)this[b]=a[b];};b.prototype.bf=function(a){for(;this.jx<a;)this.AN=(this.AN<<8)+this.Fc(),this.jx+=8;this.jx-=a;return this.AN>>>this.jx&(1<<a)-1;};b.prototype.Fc=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.Re=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.ab=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.rY=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.Nk=function(a,b,c){this.view.setUint32(void 0!==c?c:this.offset,a,b);this.offset+=4;};b.prototype.iia=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.GOa=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!b&&c&1&&this.ba("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};b.prototype.dh=function(a,b){a=this.GOa(a,b);this.offset+=8;return a;};b.prototype.HOa=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.ba("Warning: read signed value > 56 bits");return 4294967296*a+b;};b.prototype.WOa=function(){var a;a=this.HOa();this.offset+=8;return a;};b.prototype.tQa=function(a,b){var c;c=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,c,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,c,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.JE=function(){return B(this.ab());};b.prototype.hia=function(a){this.Nk(l(a));};b.prototype.LE=function(){var b,c,g,d,h,p;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.ab(!0);c=this.Re(!0);g=this.Re(!0);d=this.Re();h=this.Re();p=this.ab();return[a(b,4),a(c,2),a(g,2),a(d,2),a(h,2)+a(p,4)].join("-");};b.prototype.MM=function(a){var b;b=u.T4a(this.view,this.offset,a,void 0);this.offset+=1*a;return b;};b.prototype.VOa=function(a){a=u.S4a(this.view,this.offset,a,10,void 0);this.offset+=2;return a;};b.prototype.LM=function(a,b,c){var g;g=u.Xna(this.view,this.offset,a,b,void 0);this.offset=c||!b||4===b?this.offset+a*(b||4):this.offset+4;return g;};b.prototype.wha=function(a){for(var b=this.Fc(),c=this.Fc(),g=c&127;c&128;)c=this.Fc(),g=(g<<7)+(c&127);b=new(n.Nl[b]||n.Nl.base)(this,b,g);b.parse(a);return b;};b.prototype.Yi=function(a,b){this.Bz(a,void 0,b);};b.prototype.Bz=function(a,b,c){c=void 0!==c?c:this.offset;this.Cv?this.Cv.Bz(a,b,c):this.ut.push({offset:c,remove:a,replace:b});};b.prototype.xM=function(a,b){b=void 0!==b?b:this.offset;this.Cv?this.Cv.o.xM(a,b):this.Xka.push({offset:b,Ka:a});};b.prototype.ys=function(){var a,b,c,g;if(this.ut&&0<this.ut.length){this.Xka.forEach(function(a){var b,c;b=a.Ka+this.view.getUint32(a.offset);c=this.ut.reduce(function(c,g){return g.offset>a.Ka&&g.offset<b?c+(g.remove-(g.replace?g.replace.byteLength:0)):c;},0);this.view.setUint32(a.offset,b-a.Ka-c);}.bind(this));a=[];this.ut.sort(function(a,b){return a.offset-b.offset;});this.ut=this.ut.reduce(function(a,b){var c,g;if(0===a.length)return a.push(b),a;c=a[a.length-1];g=c.offset+c.remove;b.offset>=g?a.push(b):b.offset+b.remove>g&&(c.remove+=b.offset+b.remove-g,b.replace&&(c.replace=c.replace?v(c.replace,b.replace):b.replace));return a;},[]);b=0;c=this.data.byteLength;g=0;this.ut.filter(function(a){return a.offset<c;}).forEach(function(c){c.offset>b&&(a.push(this.data.slice(b,c.offset)),g+=c.offset-b);c.replace&&(a.push(c.replace),g+=c.replace.byteLength);b=c.offset+c.remove;}.bind(this));a.push(this.data.slice(b));g+=c-b;return{no:a,length:g,HB:this.data.byteLength};}return{no:[this.data],length:this.data.byteLength,HB:this.data.byteLength};};k.prototype=Object.create(b.prototype);k.prototype.g0=function(a,b,c,g){a=new k(this.stream,{data:this.data,offset:b,length:c},void 0,!1,this.config,a);g&&(a.Pb={});return a;};k.prototype.Ijb=function(a){this.JY(a);return this.config&&this.config.H8?(a=this.ys(),v(a.no)):this.data;};h.prototype=Object.create(b.prototype);h.prototype.g0=function(a,b,c){return new h(this.stream,{data:this.data,offset:b,length:c},a);};f.K={KV:k,JV:h,Uma:d};},function(f,c,a){var k,h,g,p,n,r;function b(a,b){this.Mp=a.Ma;this.Ec=a.za||0;this.XKa=a.Tn;this.$Pa=a.Vf;this.El=a.M;this.$g=a.O;this.iM=a.La;this.Ps=a.ma||a.La&&a.La.ma;this.Pga=a.hx;this.Zfa=!1;this.Lb=a.ql||a.U&&a.U.ql;this.wqa=this.P2=void 0;this.T=b;}function d(){k(!1);}k=a(20);h=a(38);g=a(13);p=a(69).Cea;n=a(61);r=a(192).hKa;b.prototype={};Object.defineProperties(b.prototype,{rh:{get:function(){return!!this.ql;},set:d},N0:{get:function(){return this.Zfa;},set:d},Ma:{get:function(){return this.Mp;},set:d},za:{get:function(){return this.Ec;},set:d},Tn:{get:function(){return this.XKa;},set:d},Vf:{get:function(){return this.$Pa;},set:d},M:{get:function(){return this.El;},set:d},O:{get:function(){return this.$g;},set:d},La:{get:function(){return this.iM;},set:d},ma:{get:function(){return this.Ps;},set:d},hx:{get:function(){return this.Pga;},set:d},ql:{get:function(){return this.Lb;},set:d},I1:{get:function(){return this.La.ma;},set:d},H1:{get:function(){return this.La.Fd;},set:d},bF:{get:function(){return this.La.Fd;},set:d},cF:{get:function(){return this.La.ma;},set:d},k3:{get:function(){return this.La.Je;},set:d},X:{get:function(){return 0;},set:d}});b.hP=function(a,c,d,n,k,r){var f,u,v,w,B;f=c[["audio_tracks","video_tracks"][d]][n].streams[0];u=d===g.u.AUDIO?c.video_tracks.length+n:n;if(d===g.u.VIDEO&&void 0!==f.framerate_value&&void 0!==f.framerate_scale){v=f.framerate_value;f=f.framerate_scale;w=Math.floor(1E3*v/f);B=1E3*Math.round(w/1E3);v=new p(B,Math.abs(Math.floor(1001*v/f)-B)>Math.abs(w-B)?1E3:1001).Mdb();}else v=k&&k.La;return new b(h(k||{},{Ma:c,M:1*c.movieId,La:v,za:a,O:d,Tn:u,Vf:n}),r);};b.prototype.iR=function(a,b,c,g,d){g&&void 0!==g.nn&&(this.rh||void 0!==g.wd&&g.wd.length)?(a.zo&&(this.Zfa=!0),this.rh)?g.wd&&g.wd.length>this.ql.length&&(this.Lb=new r(this.O,this.La,g,d),this.P2=void 0):(this.Qha(b),c&&(this.Oha(c),void 0===this.ma&&this.Sha(c.ma)),this.Lb=new r(this.O,this.La,g,d)):this.T&&this.T.error("AseTrack.onHeaderReceived with missing fragments data");};b.prototype.lVa=function(a){this.rh||(this.Sha(a.ma),this.Qha(a.hx),this.Oha(a.La),this.Lb=a.ql);};b.prototype.zi=function(a){return new n(this,this.ql.get(a));};b.prototype.Sha=function(a){this.Ps=a;};b.prototype.Qha=function(a){this.Pga=a;};b.prototype.Oha=function(a){this.iM=a;};b.prototype.toJSON=function(){return{M:this.M,O:this.O,Vf:this.Vf};};b.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.Vf;};f.K=b;},function(f,c,a){var h,g;function b(a,b){this.Lb=a;this.mi=b;}function d(){g(!1);}function k(a,b,c,g){this.O=a;this.length=c.wd.length;this.Ps=c.ma;this.In=c.wd;this.CL=g&&g.LB;this.ffa=g&&g.cC;this.iM=b;this.Iga=void 0;this.Vp=new Int32Array(this.length+1);if(this.length){a=c.nn;for(b=0;b<this.length;++b)this.Vp[b]=a,a+=this.In[b];this.Vp[b]=a;this.ca=this.Sf(this.length);this.Jl=Math.floor((this.ca-this.X)/this.length);}}a(8);a(13);h=new(a(10)).Console("FRAGMENTS","media|asejs");g=a(20);a(66);Object.defineProperties(b.prototype,{index:{get:function(){return this.mi;},set:d},Lh:{get:function(){return this.Lb.Bhb(this.mi);},set:d},Am:{get:function(){return this.Lb.b_a(this.mi);},set:d},La:{get:function(){return this.Lb.La;},set:d},ma:{get:function(){return this.Lb.ma;},set:d},bF:{get:function(){return this.Lb.La.Fd;},set:d},cF:{get:function(){return this.Lb.La.ma;},set:d},X:{get:function(){return Math.floor(1E3*this.Lh/this.ma);},set:d},ca:{get:function(){return Math.floor(1E3*(this.Lh+this.Am)/this.ma);},set:d},duration:{get:function(){return Math.floor(1E3*this.Am/this.ma);},set:d}});b.prototype.constructor=b;b.prototype.toJSON=function(){return{X:this.X,ca:this.ca,duration:this.duration,index:this.index};};k.constructor=k;Object.defineProperties(k.prototype,{nn:{get:function(){return this.Vp[0];},set:d},Yla:{get:function(){return this.Vp[this.length];},set:d},X:{get:function(){return this.Sf(0);},set:d},EQ:{get:function(){return this.Iga||this.vLa();},set:d},La:{get:function(){return this.iM;},set:d},ma:{get:function(){return this.Ps;},set:d}});k.prototype.Bhb=function(a){return this.Vp[a];};k.prototype.Sf=function(a){return Math.floor(1E3*this.Vp[a]/this.ma);};k.prototype.BA=function(a){return a<this.length-1?this.Sf(a+1):this.ca;};k.prototype.b_a=function(a){return this.In[a];};k.prototype.wd=function(a){return this.BA(a)-this.Sf(a);};k.prototype.get=function(a){return new b(this,a);};k.prototype.Uva=function(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}(k.prototype.Sf);k.prototype.subarray=function(a,b){g(void 0===a||0<=a&&a<this.length);g(void 0===b||b>a&&b<=this.length);return new k(this.O,this.La,{ma:this.ma,nn:this.Vp[a],wd:this.In.subarray(a,b)},this.CL&&{LB:this.CL.subarray(a,b+1),cC:this.ffa});};k.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};k.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};k.prototype.reduce=function(a,b){var c;c=void 0!==b?b:this.get(0);for(b=void 0!==b?0:1;b<this.length;++b)c=a(c,this.get(b),b,this);return c;};k.prototype.Zj=function(a,b,c){if(0===this.length||a<this.Sf(0))return-1;a=Math.max(a,b||0);for(var g=0,d=this.length-1,h,p;d>=g;)if(h=g+(d-g>>1),p=this.Sf(h),a<p)d=h-1;else if(a>=p+this.wd(h))g=h+1;else{for(;b&&h<this.length&&this.Sf(h)<b;)++h;return h<this.length?h:c?this.length-1:-1;}return c?this.length-1:-1;};k.prototype.oG=function(a,b,c){a=this.Zj(a,b,c);return 0<=a?this.get(a):void 0;};k.prototype.U_=function(a,b){var c,g;c=Math.min(a+Math.ceil(b/this.Jl),this.length);b=Math.floor(b*this.ma/1E3);g=this.Vp[c]-this.Vp[a];if(g>b){for(;g>=b;)--c,g-=this.In[c];return c-a+1;}for(;g<b&&c<=this.length;)g+=this.In[c],++c;return c-a;};k.prototype.toJSON=function(){return{length:this.length,Jl:this.Jl};};k.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Jl+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.X+"-"+b.ca+"]");}};k.prototype.vLa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.In[b],a);return this.Iga=a;};f.K={hKa:k,gKa:b};},function(f,c,a){var d,k;function b(a){this.H={xH:a.maxc||25,I_:a.c||.5,Idb:a.rc||"none",b5a:a.hl||7200};this.PE();this.YOa=this.H.Idb;this.sE=this.H.b5a;this.YW=Math.exp(Math.log(2)/this.sE);this.YW=Math.max(this.YW,1);this.TL=1;}d=a(8);k=a(194).TDigest;new(a(10)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.me=function(){var a;if(0===this.md.size())return null;a=this.md.pf([.25,.75]);if(a[0]===a[1])return null;this.md.size()>this.H.xH&&this.md.wq();a=this.md.ey(!1).reduce(function(a,b){d.aa(b.Zd)&&d.aa(b.n)&&a.push({mean:b.Zd,n:b.n/this.TL});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.xh=function(a){var b;if(d.Ja(a)||!d.has(a,"tdigest")||!d.$c(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(p){return!1;}b.forEach(function(a){d.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Zd:a.mean,n:a.n};});this.TL=1;this.md.o6(a);void 0===this.md.pf(0)&&this.PE();};b.prototype.get=function(){var a,b;a=this.md;b=a.pf([0,.1,.25,.5,.75,.9,1]);return{min:b[0],dI:b[1],th:b[2],ng:b[3],uh:b[4],eI:b[5],max:b[6],Jf:a.ey(!1)};};b.U3a=function(a){var c;c=new b({});d.Ja(a)||d.R(a)||!d.isArray(a.Jf)||(c.md.o6(a.Jf),void 0===c.md.pf(0)&&c.PE());a=c.md.pf([.25,.75]);return a[0]===a[1]?null:function(a){return c.md.pf(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.YOa&&(this.TL=b=this.TL*this.YW);this.md.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.md.summary()+")";};b.prototype.PE=function(){this.md=new k(this.H.I_,this.H.xH);};f.K=b;},function(f,c,a){var g;function b(a,b,c){this.uA=!1===a;this.VF=a||.01;this.jba=void 0===b?25:b;this.T9=void 0===c?1.1:c;this.Jf=new g(d);this.reset();}function d(a,b){return a.Zd>b.Zd?1:a.Zd<b.Zd?-1:0;}function k(a,b){return a.Ho-b.Ho;}function h(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.VF:!1);this.lZa=this.config.ratio||.9;this.mZa=this.config.lwa||1E3;this.aR=0;}g=a(575).EIa;b.prototype.reset=function(){this.Jf.clear();this.L3=this.n=0;};b.prototype.size=function(){return this.Jf.size;};b.prototype.ey=function(a){var b;b=[];a?(this.UL(!0),this.Jf.wc(function(a){b.push(a);})):this.Jf.wc(function(a){b.push({Zd:a.Zd,n:a.n});});return b;};b.prototype.summary=function(){return[(this.uA?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.pf(0),"Q1  = "+this.pf(.25),"Q2  = "+this.pf(.5),"Q3  = "+this.pf(.75),"max = "+this.pf(1)].join("\n");};b.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.Ufa(a[c],b);};b.prototype.o6=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Ufa(a[b].Zd,a[b].n);};b.prototype.UL=function(a){var b;if(!(this.n===this.L3||!a&&this.T9&&this.T9>this.n/this.L3)){b=0;this.Jf.wc(function(a){a.Ho=b+a.n/2;b=a.lA=b+a.n;});this.n=this.L3=b;}};b.prototype.k1a=function(a){var b,c;if(0===this.size())return null;b=this.Jf.lowerBound({Zd:a});c=null===b.data()?b.Fx():b.data();return c.Zd===a||this.uA?c:(b=b.Fx())&&Math.abs(b.Zd-a)<Math.abs(c.Zd-a)?b:c;};b.prototype.vz=function(a,b,c){a={Zd:a,n:b,lA:c};this.Jf.bB(a);this.n+=b;return a;};b.prototype.DL=function(a,b,c){b!==a.Zd&&(a.Zd+=c*(b-a.Zd)/(a.n+c));a.lA+=c;a.Ho+=c/2;a.n+=c;this.n+=c;};b.prototype.Ufa=function(a,b){var c,g,d;c=this.Jf.min();g=this.Jf.max();d=this.k1a(a);d&&d.Zd===a?this.DL(d,a,b):d===c?this.vz(a,b,0):d===g?this.vz(a,b,this.n):this.uA?this.vz(a,b,d.lA):(c=d.Ho/this.n,Math.floor(4*this.n*this.VF*c*(1-c))-d.n>=b?this.DL(d,a,b):this.vz(a,b,d.lA));this.UL(!1);!this.uA&&this.jba&&this.size()>this.jba/this.VF&&this.wq();};b.prototype.$Sa=function(a){var b,c;this.Jf.Ti=k;b=this.Jf.upperBound({Ho:a});this.Jf.Ti=d;c=b.Fx();a=c&&c.Ho===a?c:b.next();return[c,a];};b.prototype.pf=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.JOa,this);return Array.isArray(a)?b:b[0];};b.prototype.JOa=function(a){var b,c;if(0!==this.size()){this.UL(!0);this.Jf.min();this.Jf.max();a*=this.n;b=this.$Sa(a);c=b[0];b=b[1];return b===c||null===c||null===b?(c||b).Zd:this.uA?a<=c.lA?c.Zd:b.Zd:c.Zd+(a-c.Ho)*(b.Zd-c.Zd)/(b.Ho-c.Ho);}};b.prototype.wq=function(){var a;if(!this.lka){a=this.ey();this.reset();for(this.lka=!0;0<a.length;)this.o6(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.UL(!0);this.lka=!1;}};h.prototype=Object.create(b.prototype);h.prototype.constructor=h;h.prototype.push=function(a){b.prototype.push.call(this,a);this.nUa();};h.prototype.vz=function(a,c,g){this.aR+=1;b.prototype.vz.call(this,a,c,g);};h.prototype.DL=function(a,c,g){1===a.n&&--this.aR;b.prototype.DL.call(this,a,c,g);};h.prototype.nUa=function(){!("auto"!==this.mode||this.size()<this.mZa)&&this.aR/this.size()>this.lZa&&(this.mode="cont",this.uA=!1,this.VF=this.config.VF||.01,this.wq());};f.K={TDigest:b,Digest:h};},function(f){function c(a){this.kNa=a;this.Fl=[];this.Rs=!1;this.CY=void 0;this.Xi={};}c.prototype.iZ=function(a){this.Fl.length===this.kNa&&this.Fl.shift();Array.isArray(a)?this.Fl=this.Fl.concat(a):this.Fl.push(a);this.Rs=!0;};c.prototype.TA=function(){return this.Fl.length;};c.prototype.Bja=function(){var a;a=this.Fl;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.Fl.length:void 0;};c.prototype.PTa=function(){var a,b;a=this.Fl;if(0<a.length){b=this.Bja();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};c.prototype.dt=function(a){var b,c,k;if(this.Rs||void 0===this.CY)this.CY=this.Fl.slice(0).sort(function(a,b){return a-b;}),this.Xi={},this.Rs=!1;if(void 0===this.Xi[a]){b=this.CY;c=Math.floor(a/100*(b.length-1)+1)-1;k=(a/100*(b.length-1)+1)%1;this.Xi[a]=c===b.length-1?b[c]:b[c]+k*(b[c+1]-b[c]);}return this.Xi[a];};f.K=c;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.qW="PlaybackMilestoneStoreSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gW="PboPublisherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.iW="PlayPredictionDeserializerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.dW={jH:"keepAlive",resume:"resume",pause:"pause",splice:"splice"};c.Qy="PboEventSenderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ca="PboPlaydataValidatorSymbol";c.Xca="PboPlaydataArrayValidatorSymbol";c.Yca="PboPlaydataCollectionValidatorSymbol";},function(f,c,a){var g,p,n,r,u;function b(a,b,c){this.Na=a;this.Zna=b;this.eb=c;}function d(){}function k(){}function h(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);g=a(0);p=a(42);n=a(7);r=a(30);a=a(29);h.prototype.encode=function(a){return{downloadableId:a.vc,duration:a.duration};};h.prototype.decode=function(a){return{vc:a.downloadableId,duration:a.duration};};k.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new h().encode),video:a.video.map(new h().encode),text:a.text.map(new h().encode)};};k.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new h().decode),video:a.video.map(new h().decode),text:a.text.map(new h().decode)};};d.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.ia,movieId:a.M,position:a.position,clientTime:a.yF,sessionStartTime:a.SI,mediaId:a.dx,playTimes:new k().encode(a.kI),trackId:a.ac,sessionId:a.sessionId,appId:a.YE,sessionParams:a.wh,mdxControllerEsn:a.K4,persistentlicense:a.J5,cachedcontent:a.f_};};d.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,ia:a.xid,M:a.movieId,position:a.position,yF:a.clientTime,SI:a.sessionStartTime,dx:a.mediaId,kI:new k().decode(a.playTimes),ac:a.trackId,sessionId:a.sessionId,YE:a.appId,wh:a.sessionParams,K4:a.mdxControllerEsn,J5:a.persistentlicense,f_:a.cachedcontent};};c.eW=d;b.prototype.mt=function(a,b){var c;c={href:a.Ma&&a.Ma.Fo?a.Ma.Fo.QA("events").href:"",type:a.Rg?"offline":"online",profileId:a.profile.id,ia:a.ia.toString(),M:a.M,position:a.Kw()||0,yF:this.Na.fva.pa(n.Qa),SI:a.Roa?a.Roa.pa(n.Qa):-1,dx:this.I2a(a),kI:this.W3a(a),ac:void 0!==a.Ug?a.Ug.toString():"",sessionId:this.Zna().sessionId||this.eb.id,YE:this.Zna().YE||this.eb.id,wh:a.oc.wh||{}};b&&(c=Object.assign({},c,{K4:a.RN,J5:a.Rg,f_:a.Rg}));return c;};b.prototype.load=function(a){return new d().decode(a);};b.prototype.I2a=function(a){var b,c,g;b=a.ud.value;c=a.Xe.value;g=a.bd.value;return b&&c&&g?(a=a.Ma.media.find(function(a){return a.tracks.AUDIO===b.ac&&a.tracks.VIDEO===c.ac&&a.tracks.TEXT===g.ac;}))?a.id:"":"";};b.prototype.q2=function(a){return a.map(function(a){return{vc:a.downloadableId,duration:a.duration};});};b.prototype.W3a=function(a){return(a=a.Ym)?(a=a.V3a(),{total:a.total,audio:this.q2(a.audio),video:this.q2(a.video),text:this.q2(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=f.__decorate([g.P(),f.__param(0,g.j(p.Pi)),f.__param(1,g.j(r.wg)),f.__param(2,g.j(a.Xf))],u);c.HHa=u;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.yV="ManifestProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.YK="NetworkMonitorFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aba="LogMessageRulerConfigSymbol";c.Bba="LogMessageRulerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.yba="LogMessageFilterConfigSymbol";c.zba="LogMessageFilterSymbol";},function(f,c,a){var b,d,k,h,g,p,n,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(80);d=a(72);k=a(4);h=a(16);g=a(3);p=a(18);n=a(359);r=a(6);u=a(26);c.lKa=function(a,f,l,y,w,x,C,F,P){var m,q,Y,X,t,G,ca,V;function v(a){var b;p.ic(a,function(a,c){var g;if(!b){g=t[c];g?g<k.config.Kwa+1&&(t[c]++,b={url:c,bA:a}):(t[c]=1,b={url:c,bA:a});}});return b;}function B(d){function p(b){if(b.N)try{ca=n.zbb(b.content);Y=c.LW;q.trace("TrickPlay parsed",{Images:ca.images.length},X);a.fireEvent(h.hIa);}catch(ja){Y=c.Hea;q.error("TrickPlay parse failed.",ja);}else Y=c.Gea,q.error("TrickPlay download failed.",g.gm(b),X);}a.Rg?b.Bh.Mq(a.M,P,0,-1,function(a){a.N?q.info("VideoCache trickplay track served from cache"):q.error("VideoCache failed to get trickplay track from cache");p(a);}):(q.trace("Downloading",d.url,X),a.NG.download({responseType:u.YA,wb:z(d.bA),url:d.url,track:m},p));}function z(b){var g;for(var c=0;c<a.Qj.length;c++){g=a.Qj[c];if(g&&g.id==b)return g;}}m=this;q=g.jf(a,"TrickPlay");Y=c.Gea;X={};t={};G=!0;V=0;p.va(m,{type:d.Cf.L8,id:f,download:function(){var b;if(a.Rg)V<k.config.Kwa?B(""):G=!1,V++;else{b=v(F);b?(Y=c.MW,B(b)):G=!1;}},f3a:function(a){if(ca&&(a=r.An(a/ca.dk.ywa),0<=a&&a<ca.images.length))return{image:ca.images[a],time:a*ca.dk.ywa,height:l,width:y,pixelAspectHeight:w,pixelAspectWidth:x};},m4a:function(){return G;},me:function(){return Y;},Qna:function(){switch(Y){case c.LW:return"downloaded";case c.MW:return"loading";case c.mKa:return"downloadfailed";case c.Hea:return"parsefailed";default:return"notstarted";}},Sh:X,size:C});};c.Gea=0;c.MW=1;c.LW=2;c.mKa=3;c.Hea=4;},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);d=a(14);k=a(5);h=a(127);g=a(6);p=a(15);c.dbb=function(){var U,Y,X,t,G,ca,V,fa,ba,ma,ja,ka;function a(a){if(d.Kt(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return c.jbb[a];}}function r(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return g.Af(b,c);}function f(a,b){var c,g;c=a.length;g=a[c-1];if("t"===g)return parseFloat(a)*b|0;if("s"===g)return"m"===a[c-2]?parseFloat(a)|0:parseFloat(a)*k.wj|0;if((a=a.match(ba))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*k.wj|0;throw Error("dfxp-badtime");}function v(a,b,c,g,d){var h,p,n,k,r,f,u,w;if(a){p=a.style;c=p?c[p]:void 0;g=(p=a.region)?g[p]:void 0;p=d.length;for(n=0;n<p;n++)if(k=d[n],r=a[k],void 0===r&&c&&(r=c[k]),void 0===r&&g&&(r=g[k]),void 0!==r&&r!==b[k]){if(!h)for(h={},f=0;f<p;f++)u=d[f],w=b[u],void 0!==w&&(h[u]=w);h[k]=r;}}return h||b;}function B(a,b,c,g,p,n,k,r,f){var w,B;function u(a,l,y){var z,C,F,P,fa,m;z=a[h.ai];C=z.style||l.style||"";F=z.region||l.region||"";C||F?(P=C+"/"+F,fa=c[P]):fa=b;if(!fa){fa=b;m=d.XI(g);d.va(m,p[C]);fa=x(fa,m,k,r,f);c[C+"/"]=fa;F&&(d.va(m,n[F]),d.va(m,p[C]),fa=x(fa,m,k,r,f),c[P]=fa);}if(!y)a:{for(y=ca.length;y--;)if(void 0!==z[ca[y]]){y=!0;break a;}y=void 0;}y&&(z=v(z,l,p,n,V),fa=x(fa,z,k,r,f));l=(a=a[h.LT])&&a.length;for(C=0;C<l;C++)F=a[C],d.Ad(F)?ma.test(F[h.MT])?B++:u(F,z,y):(w.push({text:F,lineBreaks:B,style:fa}),B=0);}w=[];B=0;u(a,g,!1);0<B&&w.push({text:"",lineBreaks:B,style:b});return w;}function l(a,b,c,g,d,h,p,n){var k,r;c&&(c=Y[c]||"top",a.verticalAlignment!==c&&(a.verticalAlignment=c));g&&(c=X[g]||"left",a.horizontalAlignment!==c&&(a.horizontalAlignment=c));d?((r=n[d])?(g=r.marginLeft,c=r.marginTop):(k=d.split(" "),g=P(k[0],p.x)||0,c=P(k[1],p.y)||0,r={mo:0,marginLeft:g,marginTop:c,rRa:g*b.G2+b.JG,tRa:c*b.X8+b.CT},30>n.mo&&(n.mo++,n[d]=r)),a.marginLeft=r.rRa,a.marginTop=r.tRa):(c=g=0,(r=n["default"])||(n["default"]=r={mo:0}));h&&(d=r[h],d||(k=h.split(" "),d={sRa:(1-(g+(P(k[0],p.x)||0)))*b.G2+b.JG,qRa:(1-(c+(P(k[1],p.y)||0)))*b.X8+b.CT},30>r.mo&&(r.mo++,r[h]=d)),a.marginRight=d.sRa,a.marginBottom=d.qRa);}function y(a,b,c,g,h){var p,n,k;p=a.displayAlign;n=a.textAlign;k=a.origin;a=a.extent;c=d.XI(c);l(c,b,p,n,k,a,g,h);c.id=U++;return c;}function w(b,g,h,p){var n,k,f,u,w,v;n=r(h.characterSize||g.characterSize,c.kbb,2)||1;k=(k=b.fontSize)&&ja.test(k)?d.xl(d.ed(k),25,200):void 0;n*=k/100||1;k=b.textOutline;if(k&&"none"!=k){u=k.split(" ");ka.test(u)?(v=0,w=b.color):(v=1,w=a(u[0]));f=F(u[v]);u=F(u[v+1]);}return{characterStyle:h.characterStyle||c.lbb[b.fontFamily]||g.characterStyle,characterSize:n*p,characterColor:a(h.characterColor||b.color||g.characterColor),characterOpacity:r(d.Kg(h.characterOpacity,b.opacity,g.characterOpacity),c.C5,1),characterEdgeAttributes:h.characterEdgeAttributes||k&&("none"===k?c.hbb:u?c.B5:c.Csa)||g.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor||w||g.characterEdgeColor),characterEdgeWidth:f,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(h.backgroundColor||b.backgroundColor||g.backgroundColor),backgroundOpacity:r(d.Kg(h.backgroundOpacity,b.opacity,g.backgroundOpacity),c.C5,1)};}function x(a,b,c,h,p){var n;b=w(b,c,h,p);d.ic(b,function(b,c){c!==a[b]&&(n||(n=g.JD(a)),n[b]=c);});return n||a;}function C(a,b,c,d,p,n,k,r){var f;f=a[h.ai];c=v(a[h.ai],b,c,p,fa);b=c.region;a=f.displayAlign;c=c.textAlign;p=f.origin;f=f.extent;b||a||c||p||f?((d=d[b])?d=g.JD(d):a||p||f?(d=g.JD(G),d.id=U++):d=g.JD(t),l(d,n,a,c,p,f,k,r)):d=t;return d;}function F(a){a=d.ed(a);return p.Jt(a,0,100)?a:0;}function P(a,b){var c;c=a[a.length-1];if("%"===c)return d.xl(.01*parseFloat(a),0,1);if("c"===c)return d.xl(d.ed(a)/b,0,1);}function m(a){for(var b=a.length,c=a[--b].endTime;b--;)c=g.Af(a[b].endTime,c);return c;}function q(b){d.ic(b,function(c,g){0<=c.toLowerCase().indexOf("color")&&(b[c]=a(g));});}function O(a,c){var d,h,p,n;d=a.pixelAspectRatio;n={JG:0,G2:1,CT:0,X8:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),h=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));h=0<h&&0<p?h/p:1280/720;c=c||1280/720;d=h/c;.01<g.xD(c-h)&&(c>=h?(n.JG=(1-d)/2,n.G2=d):b.ha(!1,"not implemented"));return n;}function W(a){var b,g,h,p,n;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){g=d.ed(b[0]);b=d.ed(b[1]);if(0<g&&0<b)return{x:g,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){g=d.ed(b[0]);n=d.ed(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),h=d.ed(b[0]),p=d.ed(b[1]);if(g&&n&&1.5<g*(h||1)/(n*(p||1)))return c.fbb;}return c.ebb;}U=1;Y={before:"top",center:"center",after:"bottom"};X={left:"left",start:"left",center:"center",right:"right",end:"right"};t={id:U++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};G={id:U++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ca="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");V=ca.concat(["style","region"]);fa=["region","textAlign","displayAlign","extent","origin"];ba=/^([0-9]+):([0-9]+):([0-9.]+)$/;ma=/^br$/i;ja=/^[0-9]{1,3}%$/;ka=/^[0-9]/;return function(b,p,n,u,x){var P,M,ba,ea,ma,ja,X,Y,t,N,ka,qa,va,ca,Va,wa,A,D,Fb,S,ub,Tb,Z,da,ga,ia,ha,oa,na,ra;function l(){try{for(var a;Z;)if(t=Z[h.ai],da.push({id:U++,startTime:f(t.begin,ba),endTime:f(t.end,ba),region:C(Z,ia,ja,Y,X,ea,ca,D),textNodes:B(Z,ha,oa,ga,ja,X,wa,A,Va)}),Z=Z[h.TC],a=g.oK(),100<a-na){na=Date.now();ra=setTimeout(l,1);return;}}catch(uf){F({S:d.v.xK,Ga:d.xc(uf)});return;}ra=setTimeout(z,1);}function z(){var b,c,g,h,p,n,k;function a(a,g){for(var h,p=[],n={},k,r=c.length;r--;)h=c[r],k=h.region.id,n[k]||(n[k]=1,p.unshift(h));(h=b[b.length-1])&&h.endTime==a&&d.jt(h.blocks,p)?h.endTime=g:b.push({id:U++,startTime:a,endTime:g,blocks:p});}try{if(!da.length){F({N:!0,entries:[]});return;}d.NRa(da);b=[];c=[];g=da[0];p=da[0].startTime;for(n=1;c.length||g;){for(;!c.length||g&&g.startTime==p;)c.push(g),p=g.startTime,g=da[n++];h=m(c);if(!g||h<=g.startTime)for(a(p,h),p=h,k=c.length;k--;)c[k].endTime<=p&&c.splice(k,1);else a(p,g.startTime),p=g.startTime,c.push(g),g=da[n++];}for(n=b.length;n--;)b[n].index=n,b[n].previous=b[n-1],b[n].next=b[n+1];}catch(wf){F({S:d.v.xK,Ga:d.xc(wf)});return;}F({N:!0,entries:b});}function F(a){setTimeout(function(){P.abort=d.Db;x(a);},1);}P={abort:function(){ra&&clearTimeout(ra);}};try{M=b[h.ai];ba=k.wj/(d.ed(M.tickRate)||1);ea=O(M,p);ma=d.va(G,{marginLeft:ea.JG,marginTop:ea.CT,marginRight:ea.JG,marginBottom:ea.CT});ja={};X={};Y={};qa=b.head;va=b.body;ca=W(M);Va=1/ca.y*ea.X8;wa=d.va({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:c.B5,characterEdgeColor:"#000000",characterSize:1},n,{No:!0});A=u||{};D={mo:0};if(qa){Fb=qa.styling;if(Fb)for(ka=Fb.style;ka;)t=ka[h.ai],q(t),ja[t.id]=t,ka=ka[h.TC];S=qa.layout;if(S)for(var aa=S.region;aa;){t=aa[h.ai];ub=t.id;N=d.XI(ja[t.style]);N=d.va(N,t);for(ka=aa.style;ka;)d.va(N,ka[h.ai]),ka=ka[h.TC];q(N);X[ub]=N;Y[ub]=y(N,ea,ma,ca,D);aa=aa[h.TC];}}Tb=va.div;Z=Tb.p;da=[];ga={};ga=v(va[h.ai],ga,ja,X,V);ga=v(Tb[h.ai],ga,ja,X,V);ia={};ia=v(va[h.ai],ia,ja,X,fa);ia=v(Tb[h.ai],ia,ja,X,fa);ha=w(ga,wa,A,Va);d.va(ha,{windowColor:a(A.windowColor||wa.windowColor),windowOpacity:r(d.Kg(A.windowOpacity,wa.windowOpacity),c.C5,1),cellResolution:ca},{No:!0});oa={};Tb.p=void 0;Tb[h.LT]=[];}catch(tf){F({S:d.v.xK,Ga:d.xc(tf)});return;}na=g.oK();ra=setTimeout(l,1);return P;};}();c.lbb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};c.kbb={SMALL:.5,MEDIUM:1,LARGE:2};c.C5={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};c.jbb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};c.hbb="NONE";c.ibb="RAISED";c.gbb="DEPRESED";c.Csa="UNIFORM";c.B5="DROP_SHADOW";c.ebb={x:40,y:19};c.fbb={x:52,y:19};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(2);c.e2=function(a){return a===b.Wf.$f.AUDIO?d.v.Gba:d.v.Hba;};c.uW=50;c.IIa=1E3;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OW="UuidProviderSymbol";},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y,w;function b(a,b,c,g,d,h,k,f,u,v,B,l,y,z,m){this.G=a;this.ac=b;this.bH=c;this.vc=g;this.Dq=d;this.K0=h;this.ej=k;this.displayName=f;this.$h=u;this.Bra=v;this.QH=B;this.Sm=l;this.A$a=y;this.A1a=z;this.gH=m;this.type=p.Cf.mT;this.Ao=!(!B||B!=r.Bj.Jy&&B!=r.Bj.TK);this.Sh={bcp47:k,trackId:b,downloadableId:g,isImageBased:this.Ao};this.log=n.jf(a,"TimedTextTrack");this.state=w.qFa;this.request=this.request.bind(this);}Object.defineProperty(c,"__esModule",{value:!0});d=a(1);k=a(80);h=a(26);g=a(4);p=a(72);n=a(3);r=a(59);u=a(9);v=a(362);B=a(15);l=a(702);y=a(33);(function(a){a[a.qFa=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.rV=3]="LOAD_FAILED";}(w||(w={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(b,c){function g(){a.G.state.removeListener(g);a.download().then(b)["catch"](c);}a.state=w.LOADING;a.G.state.value!==y.Eh.Wda?a.download().then(b)["catch"](c):a.G.state.addListener(g);});};b.prototype.me=function(){return this.state;};b.prototype.r3=function(){return this.A$a;};b.prototype.hpa=function(){return this.A1a;};b.prototype.Ft=function(a,b){var c;c=[];try{this.Ao?c=this.Ee&&this.Ee.Ft(a,b)||[]:this.entries&&(c=this.entries.filter(function(c){var g;g=Aa([c.startTime,c.endTime]);c=g.next().value;g=g.next().value;return c>=a&&c<=b||c<=a&&a<=g;}));}catch(P){this.log.error("error in getSubtitles",P,{start:a,end:b,isImageBased:this.Ao});}return c;};b.prototype.y4a=function(){var a;if(!B.cb(this.X))try{this.X=this.Ao?(a=this.Ft(0,b.eEa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(C){this.log.error("exception in getStartPts",C);}return this.X;};b.prototype.GS=function(a){return this.G.state.value===y.Eh.wW||this.G.state.value===y.Eh.vW?(this.log.info("playback is closing, abort timed text retry",a),!1):this.G.bd.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(b,c){a.G.state.value==y.Eh.ms?a.Ao?a.q6a(function(g){g.N?(a.log.info("Loaded image subtitle manager"),b(g)):(a.log.error("Unable to load image subtitles manager",g),a.state=w.rV,c(g));}):a.Cla().then(function(b){return a.nbb(b);}).then(b)["catch"](c):c({N:!1});});};b.prototype.q6a=function(a){var c,d,h,p,k,r,f,u;function b(h){var w;if(B.cb(h))if(u||c.GS(c.so(c.ym,"","image"))){u=!1;c.Sm.url=c.Dq[c.ym];d.url=c.Sm.url;f[h]=(f[h]||0)+1;w=new n.PJa(p,d);w.on("ready",function(){c.Ee=w;a({N:!0,track:c});});w.on("error",function(d){var p;d=Object.assign({N:!1},d);p=c.so(c.ym,c.Sm.url,"image");p.details={midxoffset:c.Sm.offset,midxsize:c.Sm.length};p.errorstring=d.errorString;f[h]<=g.config.twa?(c.VO(p,!0,"retry with current cdn"),c.MZ(f[h]).then(function(a){c.log.trace("retry timed text download after "+a,c.so(c.ym,"","image"));b(c.ym);})):(c.ym=k[r++],c.ym?(c.VO(p,!0,"retry with next cdn"),c.MZ(f[h]).then(function(a){c.log.trace("retry timed text download after "+a,c.so(c.ym,"","image"));b(c.ym);})):(c.VO(p,!1,"all cdns tried"),a({N:!1,c$a:"all cdns failed for image subs",track:c})));});w.start();}else a({N:!1,Sn:!0});else a({N:!1,c$a:"cdnId is not defined for image subs downloadUrl"}),c.VO(c.so(0,"","image"),!1,"cdnId is undefined");}c=this;d={ySa:!1,profile:this.QH,FH:this.Sm.offset,OQ:this.Sm.length,Ib:this.G.Ic.value||0,bufferSize:g.config.g6a,MAb:{rj:this.G.pP()}};h=n.jf(this.G,"TimedTextTrack");h.warn=h.trace.bind(h);h.info=h.debug.bind(h);p=l.wXa(this.G,h,this.request);k=(this.K0||[]).filter(function(a){return a.id in c.Dq;}).sort(function(a,b){return a.rd-b.rd;}).map(function(a){return a.id;});r=0;f={};u=!0;this.ym=k[r++];b(this.ym);};b.prototype.VO=function(a,b,c){a=Object.assign({},a,{YBb:b,status:c});this.G.fireEvent(y.Ha.Zva,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,b){var c,g;c=this;this.log.trace("Downloading",a);g={url:a.url,offset:a.offset,length:a.size,responseType:h.YA,headers:{},wb:this.u2a(this.ym)};this.G.Rg?k.Bh.Mq(this.G.M,this.vc,a.offset,a.size,function(a){a.N?(c.log.info("VideoCache image based timed text track served from cache"),b(null,new Uint8Array(a.content))):(c.log.error("VideoCache failed to get image based timed text track from cache"),b({S:"",xb:""}));}):this.G.NG.download(g,function(a){c.log.trace("imgsub: request status "+a.N);a.N?b(null,new Uint8Array(a.content)):b({S:a.S,xb:a.xb});});};b.prototype.so=function(a,b,c){return{currentCdnId:a,url:b,profile:this.QH,dlid:this.vc,subtitletype:c,bcp47:this.ej,trackId:this.ac,cdnCount:Object.keys(this.Dq).length,isImageBased:this.Ao};};b.prototype.u2a=function(a){return(this.K0||[]).find(function(b){return b.id===a;});};b.prototype.Cla=function(){var h,p;function a(a){return d.__awaiter(h,void 0,void 0,function(){var d,h,n,k,r;function g(){for(;;)switch(d){case 0:n=c();h=k.so(a.wb.id,a.url,"text");h.errorstring=a.reason;if(!n||!k.GS(h)){d=1;break;}d=-1;return{value:k.MZ(p[n.id]).then(b),done:!0};case 1:return d=-1,{value:Promise.reject({N:!1,Sn:!0}),done:!0};default:return{value:void 0,done:!0};}}d=0;k=this;r={next:function(){return g();},"throw":function(){return g();},"return":function(){throw Error("Not yet implemented");}};Wa();r[Symbol.iterator]=function(){return this;};return r;});}function b(){return d.__awaiter(h,void 0,void 0,function(){var g,d,h,n,k;function b(){for(;;)switch(g){case 0:d=(h=c())&&n.Dq[h.id];if(!n.G.Rg){g=1;break;}n.log.info("load timedtext track from video cache");g=-1;return{value:n.P0a(),done:!0};case 1:if(!h||!d){g=3;break;}p[h.id]=(p[h.id]||0)+1;g=-1;return{value:n.FZa(d,h)["catch"](a),done:!0};case 3:case 2:return g=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}g=0;n=this;k={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};Wa();k[Symbol.iterator]=function(){return this;};return k;});}function c(){return(h.K0||[]).find(function(a){return!!((p[a.id]||0)<g.config.twa&&h.Dq[a.id]);});}h=this;p={};return b();};b.prototype.MZ=function(a){return new Promise(function(b){var c;c=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(c);},c);});};b.prototype.nbb=function(a){var b,c;b=this;c=this.G.QC;u.ha(c);return v.mbb(a,c.width/c.height,g.config.$ib,g.config.vwa).then(function(a){var c;if(g.config.wwa){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=g.config.wwa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Sh);b.state=w.LOADED;return{N:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",n.gm(a),b.Sh,{url:a.url});b.state=w.rV;a.reason="parseerror";a.track=b;throw a;});};b.prototype.P0a=function(){var a;a=this;return new Promise(function(b,c){k.Bh.Mq(a.G.M,a.vc,0,-1,function(g){var d;if(g.N){a.log.info("VideoCache timed text track served from cache");try{d=new Uint8Array(g.content);b(n.IJ(d));}catch(ea){a.log.error("failed to utf8 encode timedtext track",ea);c({N:!1,reason:"parse failed"});}}else a.log.error("VideoCache failed to get timed text track from cache"),g.reason="cachefailed",c(g);});});};b.prototype.FZa=function(a,b){var c;c=this;this.log.trace("Downloading",b&&{wb:b.id},this.so(b.id,a,"text"));return new Promise(function(g,d){var p;p={responseType:h.yoa,url:a,track:c,wb:b,sA:"tt-"+c.ej};c.G.NG.download(p,function(a){a.N?g(a.content):(a.reason="downloadfailed",a.url=p.url,a.track=c,a.wb=b,d(a));});});};b.eEa=72E7;b.Vda=w;c.$D=b;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(6);b.r2=function(){var a;a=d.vp&&d.vp.height;return a?1080<=a?1080:720:720;};c.FW=b;},function(f){f.K=function(c,a){switch(c){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,c){return a.apply(this,arguments);};case 3:return function(b,c,k){return a.apply(this,arguments);};case 4:return function(b,c,k,h){return a.apply(this,arguments);};case 5:return function(b,c,k,h,g){return a.apply(this,arguments);};case 6:return function(b,c,k,h,g,p){return a.apply(this,arguments);};case 7:return function(b,c,k,h,g,p,n){return a.apply(this,arguments);};case 8:return function(b,c,k,h,g,p,n,r){return a.apply(this,arguments);};case 9:return function(b,c,k,h,g,p,n,r,f){return a.apply(this,arguments);};case 10:return function(b,c,k,h,g,p,n,r,f,v){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(f,c,a){var k,h,g,p;function b(a,b,c){for(var g=c.next();!g.done;){if((b=a["@@transducer/step"](b,g.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}g=c.next();}return a["@@transducer/result"](b);}function d(a,b,c,d){return a["@@transducer/result"](c[d](g(a["@@transducer/step"],a),b));}k=a(732);h=a(730);g=a(729);Ia();Ia();Wa();p="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";f.K=function(a,c,g){"function"===typeof a&&(a=h(a));if(k(g)){for(var n=0,r=g.length;n<r;){if((c=a["@@transducer/step"](c,g[n]))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}n+=1;}return a["@@transducer/result"](c);}if("function"===typeof g["fantasy-land/reduce"])return d(a,c,g,"fantasy-land/reduce");if(null!=g[p])return b(a,c,g[p]());if("function"===typeof g.next)return b(a,c,g);if("function"===typeof g.reduce)return d(a,c,g,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(f){f.K=function(c,a){return Object.prototype.hasOwnProperty.call(a,c);};},function(f,c,a){var b,d,k;b=a(108);d=a(48);k=a(153);f.K=function(a){return function p(c,h,f){switch(arguments.length){case 0:return p;case 1:return k(c)?p:d(function(b,d){return a(c,b,d);});case 2:return k(c)&&k(h)?p:k(c)?d(function(b,c){return a(b,h,c);}):k(h)?d(function(b,d){return a(c,b,d);}):b(function(b){return a(c,h,b);});default:return k(c)&&k(h)&&k(f)?p:k(c)&&k(h)?d(function(b,c){return a(b,c,f);}):k(c)&&k(f)?d(function(b,c){return a(b,h,c);}):k(h)&&k(f)?d(function(b,d){return a(c,b,d);}):k(c)?b(function(b){return a(b,h,f);}):k(h)?b(function(b){return a(c,b,f);}):k(f)?b(function(b){return a(c,h,b);}):a(c,h,f);}};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.XC||(c.XC={});f[f.vca=0]="PAUSE";f[f.Hda=1]="RESUME";f[f.nmb=2]="CAPTIONS_ON";f[f.mmb=3]="CAPTIONS_OFF";f[f.omb=4]="CAPTION_LANGUAGE_CHANGED";f[f.vlb=5]="AUDIO_LANGUAGE_CHANGED";f[f.Gpb=6]="NEXT_EP";f[f.wqb=7]="PREV_EP";f[f.WIa=8]="SEEK";f[f.Xda=9]="STOP";c.X9="CastInteractionTrackerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.lea="load save remove removeAll loadAll loadKeys".split(" ");c.v9="AppStorageStatsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.Pu||(c.Pu={});f.Unknown="unknown";f.Absent="absent";f.Present="present";f.Error="error";c.$$="ExternalDisplayLogHelperSymbol";},function(f,c,a){var d,k,h;function b(){this.type=d.Gu.Wu;}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);f=a(96);k=a(168);h=new f.ev();b.Z_=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return t.MSMediaKeys.isTypeSupported(a);c=a.split("|");return 1===c.length?t.MSMediaKeys.isTypeSupported(k.Fb.Cn,a):"probably"===b.i8(c[0],c[1]);}catch(n){return!1;}}};};b.ZN=function(a,c,d){c=h.format(b.KC,c);if(0===d.length)return c;d=h.format('features="{0}"',d.join());return h.format("{0}|{1}{2}",a,c,d);};b.i8=function(a,b){var c;try{c=t.MSMediaKeys.isTypeSupportedWithFeatures?t.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(r){c="exception";}return c;};b.KC='video/mp4;codecs="{0},mp4a";';c.Xu=b;},function(f,c,a){var d,k,h,g,p,n;function b(a,c,d,p){var r;r=k.Ck.call(this,a,c,d)||this;r.cast=p;r.type=h.Si.ZT;a=b.oKa;r.RC[h.Sd.rL]=g.sd.gD+"; "+a;r.RC[h.Sd.qp]=g.sd.qp+"; "+a;a=g.sd.Fza.find(function(a){return r.sq(n(b.KC,a));});r.RC[h.Sd.Yf]=a;return r;}Object.defineProperty(c,"__esModule",{value:!0});d=a(59);k=a(129);h=a(28);f=a(96);g=a(130);p=a(393);n=new f.ev().format;ha(b,k.Ck);b.Z_=function(a,c){return(c=b.sua(c))?{isTypeSupported:c}:a;};b.sua=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.$o=function(a){var c,d;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().kxa){d={};if(c)return d[h.Wg.wn]="1.4",d[h.Wg.Tu]="2.2",c().then(function(b){return b===d[a];});c=this.Gqa(a);c=n(b.KC,g.sd.gD)+" hdcp="+c;c=this.sq.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.qP=function(a){return this.RC[a];};b.prototype.SA=function(){var a;a=this;return this.config().kxa?this.$o(h.Wg.Tu).then(function(b){return b?Promise.resolve(h.Wg.Tu):a.$o(h.Wg.wn).then(function(a){return a?Promise.resolve(h.Wg.wn):Promise.resolve(void 0);});}).then(function(b){return a.IF(b);}):Promise.resolve(void 0);};b.prototype.ow=function(){var a,c;a=k.Ck.prototype.ow.call(this);c=b.poa;a[d.$.GU]=["hev1.2.6.L90.B0",c];a[d.$.HU]=["hev1.2.6.L93.B0",c];a[d.$.IU]=["hev1.2.6.L120.B0",c];a[d.$.JU]=["hev1.2.6.L123.B0",c];a[d.$.KU]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.$.MU]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.$.AK]=["hev1.2.6.L90.B0",c];a[d.$.BK]=["hev1.2.6.L93.B0",c];a[d.$.CK]=["hev1.2.6.L120.B0",c];a[d.$.DK]=["hev1.2.6.L123.B0",c];a[d.$.LU]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.$.NU]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.$.XU]="hev1.1.6.L90.B0";a[d.$.YU]="hev1.1.6.L93.B0";a[d.$.ZU]="hev1.1.6.L120.B0";a[d.$.$U]="hev1.1.6.L123.B0";a[d.$.aV]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[d.$.bV]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[d.$.PU]="hev1.2.6.L90.B0";a[d.$.RU]="hev1.2.6.L93.B0";a[d.$.TU]="hev1.2.6.L120.B0";a[d.$.VU]="hev1.2.6.L123.B0";a[d.$.jD]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[d.$.kD]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.i3=function(){k.Ck.prototype.i3.call(this);!b.sua(this.cast)&&this.en.push(p.vl.qp);};b.poa="eotf=smpte2084";b.Cwb="video/mp4;codecs={0}; "+b.poa;b.oKa="width=3840; height=2160; ";c.Y9=b;c.$T="CastSDKSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gba="IsTypeSupportedProviderFactorySymbol";c.bda="PlatformIsTypeSupportedSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bea="ThroughputTrackerSymbol";c.IW="ThroughputTrackerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.fW="PboPlaydataFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.zW="SegmentManagerFactorySymbol";},function(f,c,a){var d,k,h;function b(a,b,c,d){this.eb=a;this.qq=b;this.Li=c;this.Sk=void 0===d?"General":d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(12);k=a(404);h=a(800);b.prototype.fatal=function(a){this.Ts(d.Ch.VBa,a,h.Zz(this.qq,arguments));};b.prototype.error=function(a){this.Ts(d.Ch.ERROR,a,h.Zz(this.qq,arguments));};b.prototype.warn=function(a){this.Ts(d.Ch.Tea,a,h.Zz(this.qq,arguments));};b.prototype.info=function(a){this.Ts(d.Ch.jV,a,h.Zz(this.qq,arguments));};b.prototype.trace=function(a){this.Ts(d.Ch.GW,a,h.Zz(this.qq,arguments));};b.prototype.debug=function(){};b.prototype.log=function(a){this.debug.apply(this,arguments);};b.prototype.write=function(a,b){this.Ts(a,b,h.Zz(this.qq,arguments,2));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Sk};};b.prototype.d0=function(a){return new b(this.eb,this.qq,this.Li,a);};b.prototype.Ts=function(a,b,c){a=new k.wba(a,this.Sk,this.eb.Xd(),b,c);b=Aa(this.Li.Li);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.uD=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.EW="StringUtilsSymbol";},function(f,c,a){var d,k;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.Dwa(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,d=0;d<c;d++)var h=a[d],b=b+("0123456789ABCDEF"[h>>>4]+"0123456789ABCDEF"[h&15]);return b;};b.prototype.vG=function(a,b){var c;c="";for(b<<=1;b--;)c=("0123456789ABCDEF"[a&15]||"0")+c,a>>>=4;return c;};b.prototype.Dwa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var c=0,h=0;h<b;h++)c=16*c+d[a[h]];return c;};k=b;k=f.__decorate([a.P()],k);c.UT=k;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.DU="EmeApiSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.tU||(c.tU={});f[f.nzb=0]="playready";f[f.Zkb=1]="widevine";f[f.Hvb=2]="fairplay";f[f.Stb=3]="clearkey";c.H$="DrmTypeSymbol";},function(f,c,a){var b,d;b=a(422);d=a(919);c.Rt=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.zB(d.b6a,null,a);};},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.value=b;this.ka=c;this.Kp=!0;c&&(this.Kp=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.bb=function(a){var b,c;b=a.value;c=a.Me;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.ib(a)));};c.prototype.cf=function(a){var b,d;b=this.value;d=this.ka;if(d)return d.ib(c.bb,0,{done:!1,value:b,Me:a});a.next(b);a.closed||a.complete();};return c;}(a(11).oa);c.yW=f;},function(f,c,a){a(11);f=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.Hm="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.ZF=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.ZF(a,b,c);};a.b0=function(b){return"undefined"!==typeof b?new a("N",b):a.Sjb;};a.Bka=function(b){return new a("E",void 0,b);};a.Y_=function(){return a.JUa;};a.JUa=new a("C");a.Sjb=new a("N",void 0);return a;}();c.Notification=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);this.bj=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.bj;if(this.active)b.push(a);else{this.active=!0;do if(c=a.kg(a.state,a.Xc))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(934).wJa);c.RT=f;},function(f,c,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(75);f=function(a){function c(b,c){a.call(this,b,c);this.ka=b;this.RJ=c;this.jI=!1;}b(c,a);c.prototype.ib=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.jI=!0;a=this.id;c=this.ka;null!=a&&(this.id=this.VR(c,a,b));this.Xc=b;this.id=this.id||this.aS(c,this.id,b);return this;};c.prototype.aS=function(a,b,c){void 0===c&&(c=0);return d.root.setInterval(a.flush.bind(a,this),c);};c.prototype.VR=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.Xc===c&&!1===this.jI?b:(d.root.clearInterval(b),void 0);};c.prototype.kg=function(a,b){if(this.closed)return Error("executing a cancelled action");this.jI=!1;if(a=this.aM(a,b))return a;!1===this.jI&&null!=this.id&&(this.id=this.VR(this.ka,this.id,null));};c.prototype.aM=function(a){var b,c;b=!1;c=void 0;try{this.RJ(a);}catch(r){b=!0;c=!!r&&r||Error(r);}if(b)return this.unsubscribe(),c;};c.prototype.Xp=function(){var a,b,c,d;a=this.id;b=this.ka;c=b.bj;d=c.indexOf(this);this.state=this.RJ=null;this.jI=!1;this.ka=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.VR(b,a,null));this.Xc=null;};return c;}(a(936).eya);c.QT=f;},function(f,c,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}f=a(75);c.xwb=b;c.observable=b(f.root);c.qlb=c.observable;},function(f,c,a){f=a(75).root.Symbol;c.Sx="function"===typeof f&&"function"===typeof f["for"]?f["for"]("rxSubscriber"):"@@rxSubscriber";c.rlb=c.Sx;},function(f,c){c.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(f,c,a){var k;function b(){}function d(a){a?(this.active=!1,this.O1(a)):this.active=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d.prototype.O1=function(a){this.profileId=a.profileId;this.Qb=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Ot:a.licenseContextId,nB:a.licenseId};}):[];this.ia=a.xid;this.M=a.movieId;};d.prototype.cp=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.Qb?this.Qb.map(function(a){return{id:a.id,licenseContextId:a.Ot,licenseId:a.nB};}):[],xid:this.ia,movieId:this.M}));};c.rU=d;b.prototype.create=function(){return new d();};b.prototype.load=function(a){return new d(a);};k=b;k=f.__decorate([a.P()],k);c.mBa=k;},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(100);d=a(443);k=a(238);h=a(167);g=a(947);p=a(946);c.eme=new f.Sb(function(a){a(d.D$).to(k.mBa).Y();a(h.YT).to(g.Bza).Y();a(b.$C).vJ(p.ddb);});c.U0=new f.ZC({ru:!0});},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(64);d=a(948);c.hh=new f.Sb(function(a){a(b.mp).vJ(d.cdb);});c.$Y=new f.ZC({ru:!0});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.nV="Injector";c.as=145152E5;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(243);d=a(446);f=function(){function a(a){this.ob=a;}a.prototype.QJ=function(){this.ob.lw=function(a){return null!==a.target&&!a.target.q3()&&!a.target.w3();};return new b.ZJ(this.ob);};a.prototype.SC=function(a,c){this.ob.lw=d.r8(a)(c);return new b.ZJ(this.ob);};return a;}();c.WT=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(242);f=function(){function a(a){this.ob=a;}a.prototype.Mo=function(a){this.ob.Mo=a;return new b.WT(this.ob);};return a;}();c.ZJ=f;},function(f,c,a){var h;function b(a,b,c,d,h,k,f){this.KJ=d;this.Hxa=a;this.Jra=b;this.c5=c;this.Y6a=k;this.ku=f;this.split=h;}function d(){this.J={};this.J["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new b("7","8","7","10","1.5",0,0);this.J["7"]=new b("15","16","15","9","4.5",0,0);this.J["15"]=new b("31","32","31","2","5.5",0,0);this.J["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new b("123","124","123","0","0",1,.207298);this.J["124"]=new b("123","124","123","0","0",1,.49076);this.J["64"]=new b("125","126","125","4","40.5",0,0);this.J["125"]=new b("125","126","125","0","0",1,-.00157835);this.J["126"]=new b("125","126","125","0","0",1,.934205);this.J["32"]=new b("65","66","65","135","5.5",0,0);this.J["65"]=new b("127","128","128","4","1272.5",0,0);this.J["127"]=new b("127","128","128","0","0",1,-.510333);this.J["128"]=new b("127","128","128","0","0",1,.18363);this.J["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new b("129","130","129","0","0",1,-.0464542);this.J["130"]=new b("129","130","129","0","0",1,.458833);this.J["16"]=new b("33","34","34","10","2.00001",0,0);this.J["33"]=new b("67","68","67","0","29.5",0,0);this.J["67"]=new b("131","132","131","2","39.5",0,0);this.J["131"]=new b("131","132","131","0","0",1,-.37577);this.J["132"]=new b("131","132","131","0","0",1,.512087);this.J["68"]=new b("133","134","134","140","1.5",0,0);this.J["133"]=new b("133","134","134","0","0",1,.321272);this.J["134"]=new b("133","134","134","0","0",1,-.675396);this.J["34"]=new b("69","70","70","2","24.5",0,0);this.J["69"]=new b("135","136","136","9","28.5",0,0);this.J["135"]=new b("135","136","136","0","0",1,-.0573845);this.J["136"]=new b("135","136","136","0","0",1,-.507455);this.J["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new b("137","138","137","0","0",1,-.503909);this.J["138"]=new b("137","138","137","0","0",1,.450886);this.J["8"]=new b("17","18","17","4","44189.5",0,0);this.J["17"]=new b("35","36","35","2","21.5",0,0);this.J["35"]=new b("71","72","72","0","19.5",0,0);this.J["71"]=new b("139","140","140","9","2.5",0,0);this.J["139"]=new b("139","140","140","0","0",1,.00403497);this.J["140"]=new b("139","140","140","0","0",1,-.312656);this.J["72"]=new b("141","142","141","135","96",0,0);this.J["141"]=new b("141","142","141","0","0",1,-.465786);this.J["142"]=new b("141","142","141","0","0",1,.159633);this.J["36"]=new b("73","74","73","130","89.5",0,0);this.J["73"]=new b("143","144","144","10","4.5",0,0);this.J["143"]=new b("143","144","144","0","0",1,-.76265);this.J["144"]=new b("143","144","144","0","0",1,-.580804);this.J["74"]=new b("145","146","146","10","16.5",0,0);this.J["145"]=new b("145","146","146","0","0",1,.296357);this.J["146"]=new b("145","146","146","0","0",1,-.691659);this.J["18"]=new b("37","38","38","9","1.5",0,0);this.J["37"]=new b("37","38","38","0","0",1,.993951);this.J["38"]=new b("75","76","75","0","19",0,0);this.J["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new b("147","148","147","0","0",1,-.346535);this.J["148"]=new b("147","148","147","0","0",1,-.995745);this.J["76"]=new b("147","148","147","0","0",1,-.99978);this.J["4"]=new b("9","10","9","5","4.5",0,0);this.J["9"]=new b("19","20","19","2","4.5",0,0);this.J["19"]=new b("39","40","39","140","7.5",0,0);this.J["39"]=new b("77","78","78","134","6.5",0,0);this.J["77"]=new b("149","150","150","7","11.5",0,0);this.J["149"]=new b("149","150","150","0","0",1,.729843);this.J["150"]=new b("149","150","150","0","0",1,.383857);this.J["78"]=new b("151","152","151","133","4.5",0,0);this.J["151"]=new b("151","152","151","0","0",1,.39017);this.J["152"]=new b("151","152","151","0","0",1,.0434342);this.J["40"]=new b("79","80","79","133","3.5",0,0);this.J["79"]=new b("153","154","154","8","4.5",0,0);this.J["153"]=new b("153","154","154","0","0",1,-.99536);this.J["154"]=new b("153","154","154","0","0",1,-.00943396);this.J["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new b("155","156","155","0","0",1,.266272);this.J["156"]=new b("155","156","155","0","0",1,.959904);this.J["20"]=new b("41","42","42","10","65.5",0,0);this.J["41"]=new b("81","82","82","7","10.5",0,0);this.J["81"]=new b("157","158","158","2","37.5",0,0);this.J["157"]=new b("157","158","158","0","0",1,-.701873);this.J["158"]=new b("157","158","158","0","0",1,.224649);this.J["82"]=new b("159","160","159","133","9.5",0,0);this.J["159"]=new b("159","160","159","0","0",1,.0955181);this.J["160"]=new b("159","160","159","0","0",1,-.58962);this.J["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new b("161","162","161","135","31",0,0);this.J["161"]=new b("161","162","161","0","0",1,-.229692);this.J["162"]=new b("161","162","161","0","0",1,.88595);this.J["84"]=new b("163","164","164","1","13.5",0,0);this.J["163"]=new b("163","164","164","0","0",1,-.992157);this.J["164"]=new b("163","164","164","0","0",1,.922159);this.J["10"]=new b("21","22","22","4","486",0,0);this.J["21"]=new b("43","44","44","133","4.5",0,0);this.J["43"]=new b("85","86","86","10","4.5",0,0);this.J["85"]=new b("165","166","166","4","158.5",0,0);this.J["165"]=new b("165","166","166","0","0",1,-.127778);this.J["166"]=new b("165","166","166","0","0",1,.955189);this.J["86"]=new b("165","166","166","0","0",1,-.994012);this.J["44"]=new b("87","88","88","1","3.5",0,0);this.J["87"]=new b("167","168","168","135","7",0,0);this.J["167"]=new b("167","168","168","0","0",1,-.997015);this.J["168"]=new b("167","168","168","0","0",1,.400821);this.J["88"]=new b("169","170","169","130","36",0,0);this.J["169"]=new b("169","170","169","0","0",1,-.898638);this.J["170"]=new b("169","170","169","0","0",1,.56129);this.J["22"]=new b("45","46","45","9","2.5",0,0);this.J["45"]=new b("89","90","90","9","1.5",0,0);this.J["89"]=new b("171","172","171","10","10.5",0,0);this.J["171"]=new b("171","172","171","0","0",1,.573986);this.J["172"]=new b("171","172","171","0","0",1,-.627266);this.J["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new b("173","174","173","0","0",1,.925273);this.J["174"]=new b("173","174","173","0","0",1,-.994805);this.J["46"]=new b("91","92","91","136","5.5",0,0);this.J["91"]=new b("175","176","175","10","10.5",0,0);this.J["175"]=new b("175","176","175","0","0",1,.548352);this.J["176"]=new b("175","176","175","0","0",1,-.879195);this.J["92"]=new b("177","178","178","8","14.5",0,0);this.J["177"]=new b("177","178","178","0","0",1,.457305);this.J["178"]=new b("177","178","178","0","0",1,-.998992);this.J["2"]=new b("5","6","5","10","2.5",0,0);this.J["5"]=new b("11","12","11","9","4.5",0,0);this.J["11"]=new b("23","24","24","10","4.00001",0,0);this.J["23"]=new b("47","48","48","133","5.5",0,0);this.J["47"]=new b("93","94","93","3","13.5",0,0);this.J["93"]=new b("179","180","179","138","15.5",0,0);this.J["179"]=new b("179","180","179","0","0",1,.658398);this.J["180"]=new b("179","180","179","0","0",1,-.927007);this.J["94"]=new b("181","182","182","3","15.5",0,0);this.J["181"]=new b("181","182","182","0","0",1,-.111351);this.J["182"]=new b("181","182","182","0","0",1,-.99827);this.J["48"]=new b("95","96","95","7","167",0,0);this.J["95"]=new b("183","184","183","132","36.5",0,0);this.J["183"]=new b("183","184","183","0","0",1,.895161);this.J["184"]=new b("183","184","183","0","0",1,-.765217);this.J["96"]=new b("185","186","186","137","6.00001",0,0);this.J["185"]=new b("185","186","186","0","0",1,-.851095);this.J["186"]=new b("185","186","186","0","0",1,.674286);this.J["24"]=new b("49","50","49","137","5.5",0,0);this.J["49"]=new b("97","98","97","5","23.5",0,0);this.J["97"]=new b("187","188","187","3","28.5",0,0);this.J["187"]=new b("187","188","187","0","0",1,.951654);this.J["188"]=new b("187","188","187","0","0",1,-.993808);this.J["98"]=new b("187","188","187","0","0",1,-.99705);this.J["50"]=new b("187","188","187","0","0",1,-.997525);this.J["12"]=new b("25","26","25","8","8.5",0,0);this.J["25"]=new b("51","52","52","10","4.00001",0,0);this.J["51"]=new b("99","100","100","133","5.5",0,0);this.J["99"]=new b("189","190","190","7","40.5",0,0);this.J["189"]=new b("189","190","190","0","0",1,.151839);this.J["190"]=new b("189","190","190","0","0",1,-.855517);this.J["100"]=new b("191","192","192","133","14.5",0,0);this.J["191"]=new b("191","192","192","0","0",1,.86223);this.J["192"]=new b("191","192","192","0","0",1,.544394);this.J["52"]=new b("101","102","101","135","47.5",0,0);this.J["101"]=new b("193","194","194","4","24.5",0,0);this.J["193"]=new b("193","194","194","0","0",1,.946185);this.J["194"]=new b("193","194","194","0","0",1,.811859);this.J["102"]=new b("193","194","194","0","0",1,-.991561);this.J["26"]=new b("53","54","54","132","6.5",0,0);this.J["53"]=new b("103","104","103","131","85",0,0);this.J["103"]=new b("195","196","196","134","16.5",0,0);this.J["195"]=new b("195","196","196","0","0",1,.0473538);this.J["196"]=new b("195","196","196","0","0",1,-.999401);this.J["104"]=new b("197","198","198","8","15.5",0,0);this.J["197"]=new b("197","198","198","0","0",1,.816129);this.J["198"]=new b("197","198","198","0","0",1,-.99322);this.J["54"]=new b("105","106","105","133","3.5",0,0);this.J["105"]=new b("105","106","105","0","0",1,-.998783);this.J["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new b("199","200","199","0","0",1,.528588);this.J["200"]=new b("199","200","199","0","0",1,-.998599);this.J["6"]=new b("13","14","14","10","7.5",0,0);this.J["13"]=new b("27","28","28","133","7.5",0,0);this.J["27"]=new b("55","56","56","10","4.5",0,0);this.J["55"]=new b("107","108","107","3","3.5",0,0);this.J["107"]=new b("201","202","201","4","17.5",0,0);this.J["201"]=new b("201","202","201","0","0",1,-.379512);this.J["202"]=new b("201","202","201","0","0",1,.15165);this.J["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new b("203","204","203","0","0",1,-.884606);this.J["204"]=new b("203","204","203","0","0",1,.265406);this.J["56"]=new b("109","110","109","136","6.5",0,0);this.J["109"]=new b("205","206","205","4","157.5",0,0);this.J["205"]=new b("205","206","205","0","0",1,-.0142737);this.J["206"]=new b("205","206","205","0","0",1,.691279);this.J["110"]=new b("205","206","205","0","0",1,-.998086);this.J["28"]=new b("57","58","58","138","11.5",0,0);this.J["57"]=new b("111","112","112","2","6.5",0,0);this.J["111"]=new b("207","208","208","7","67.5",0,0);this.J["207"]=new b("207","208","208","0","0",1,.763925);this.J["208"]=new b("207","208","208","0","0",1,-.309645);this.J["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new b("209","210","209","0","0",1,-.306635);this.J["210"]=new b("209","210","209","0","0",1,.556696);this.J["58"]=new b("113","114","113","138","50.5",0,0);this.J["113"]=new b("211","212","212","8","25.5",0,0);this.J["211"]=new b("211","212","212","0","0",1,.508234);this.J["212"]=new b("211","212","212","0","0",1,.793551);this.J["114"]=new b("211","212","212","0","0",1,-.998438);this.J["14"]=new b("29","30","29","134","27.5",0,0);this.J["29"]=new b("59","60","60","7","17.5",0,0);this.J["59"]=new b("115","116","115","135","5.5",0,0);this.J["115"]=new b("213","214","214","137","5.5",0,0);this.J["213"]=new b("213","214","214","0","0",1,.401747);this.J["214"]=new b("213","214","214","0","0",1,.0367503);this.J["116"]=new b("215","216","216","8","5.5",0,0);this.J["215"]=new b("215","216","216","0","0",1,-.0241984);this.J["216"]=new b("215","216","216","0","0",1,-.999046);this.J["60"]=new b("117","118","117","0","12.5",0,0);this.J["117"]=new b("217","218","218","132","5.5",0,0);this.J["217"]=new b("217","218","218","0","0",1,-.997294);this.J["218"]=new b("217","218","218","0","0",1,.210398);this.J["118"]=new b("219","220","219","137","1.5",0,0);this.J["219"]=new b("219","220","219","0","0",1,-.55763);this.J["220"]=new b("219","220","219","0","0",1,.074493);this.J["30"]=new b("61","62","62","133","42.5",0,0);this.J["61"]=new b("119","120","119","135","5.5",0,0);this.J["119"]=new b("221","222","222","4","473.5",0,0);this.J["221"]=new b("221","222","222","0","0",1,-.920213);this.J["222"]=new b("221","222","222","0","0",1,-.17615);this.J["120"]=new b("223","224","224","5","144",0,0);this.J["223"]=new b("223","224","224","0","0",1,-.954295);this.J["224"]=new b("223","224","224","0","0",1,-.382538);this.J["62"]=new b("121","122","121","133","50",0,0);this.J["121"]=new b("225","226","226","10","18.5",0,0);this.J["225"]=new b("225","226","226","0","0",1,-.0731343);this.J["226"]=new b("225","226","226","0","0",1,.755454);this.J["122"]=new b("227","228","228","0","30",0,0);this.J["227"]=new b("227","228","228","0","0",1,.25);this.J["228"]=new b("227","228","228","0","0",1,-.997101);}function k(a,b,c,d,h,k){this.jS=h;this.PN=k;}c=a(259);h=a(171);a={};a.lSa=new function(){this.oMa=h();this.l=0;this.update=function(){this.l=h()-this.oMa;};this.getValue=function(){return this.l;};this.type="num";}();a.w7a=new function(){this.getValue=function(a,b,c){return this.l="becauseYouAdded"===c.ta[a].context||null;};this.type="cat";}();a.x7a=new function(){this.getValue=function(a,b,c){return this.l="becauseYouLiked"===c.ta[a].context||null;};this.type="cat";}();a.z7a=new function(){this.getValue=function(a,b,c){return this.l="billboard"===c.ta[a].context||null;};this.type="cat";}();a.A7a=new function(){this.getValue=function(a,b,c){return this.l="continueWatching"===c.ta[a].context||null;};this.type="cat";}();a.y7a=new function(){this.getValue=function(a,b,c){return this.l="bigRow"===c.ta[a].context||null;};this.type="cat";}();a.B7a=new function(){this.getValue=function(a,b,c){return this.l="genre"===c.ta[a].context||null;};this.type="cat";}();a.C7a=new function(){this.getValue=function(a,b,c){return this.l="netflixOriginals"===c.ta[a].context||null;};this.type="cat";}();a.D7a=new function(){this.getValue=function(a,b,c){return this.l="newRelease"===c.ta[a].context||null;};this.type="cat";}();a.E7a=new function(){this.getValue=function(a,b,c){return this.l="popularTitles"===c.ta[a].context||null;};this.type="cat";}();a.F7a=new function(){this.getValue=function(a,b,c){return this.l="queue"===c.ta[a].context||null;};this.type="cat";}();a.G7a=new function(){this.getValue=function(a,b,c){return this.l="recentlyAdded"===c.ta[a].context||null;};this.type="cat";}();a.H7a=new function(){this.getValue=function(a,b,c){return this.l="similars"===c.ta[a].context||null;};this.type="cat";}();a.J7a=new function(){this.getValue=function(a,b,c){return this.l="trendingNow"===c.ta[a].context||null;};this.type="cat";}();a.K7a=new function(){this.getValue=function(a,b,c){return this.l="ultraHD"===c.ta[a].context||null;};this.type="cat";}();a.L7a=new function(){this.getValue=function(a,b,c){return this.l="watchAgain"===c.ta[a].context||null;};this.type="cat";}();a.I7a=new function(){this.getValue=function(a,b,c){return this.l="topTen"===c.ta[a].context||null;};this.type="cat";}();a.PSa=new function(){this.update=function(a){for(var b in a.ta)if("becauseYouAdded"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.QSa=new function(){this.update=function(a){for(var b in a.ta)if("becauseYouLiked"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.SSa=new function(){this.update=function(a){for(var b in a.ta)if("billboard"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.cVa=new function(){this.update=function(a){for(var b in a.ta)if("continueWatching"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.RSa=new function(){this.update=function(a){for(var b in a.ta)if("bigRow"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.U1a=new function(){this.update=function(a){for(var b in a.ta)if("genre"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.p$a=new function(){this.update=function(a){for(var b in a.ta)if("netflixOriginals"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.t$a=new function(){this.update=function(a){for(var b in a.ta)if("newRelease"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.ocb=new function(){this.update=function(a){for(var b in a.ta)if("popularTitles"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.or=new function(){this.update=function(a){for(var b in a.ta)if("queue"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Jdb=new function(){this.update=function(a){for(var b in a.ta)if("recentlyAdded"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.khb=new function(){this.update=function(a){for(var b in a.ta)if("similars"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Djb=new function(){this.update=function(a){for(var b in a.ta)if("trendingNow"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Qjb=new function(){this.update=function(a){for(var b in a.ta)if("ultraHD"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.Vkb=new function(){this.update=function(a){for(var b in a.ta)if("watchAgain"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.kjb=new function(){this.update=function(a){for(var b in a.ta)if("topTen"===a.ta[b].context){this.l=Math.max(a.ta[b].list.length,this.l);break;}};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.qVa=new function(){this.getValue=function(a,b,c){return this.l="AR"===c.xa||null;};this.type="cat";}();a.rVa=new function(){this.getValue=function(a,b,c){return this.l="AT"===c.xa||null;};this.type="cat";}();a.sVa=new function(){this.getValue=function(a,b,c){return this.l="AU"===c.xa||null;};this.type="cat";}();a.tVa=new function(){this.getValue=function(a,b,c){return this.l="AZ"===c.xa||null;};this.type="cat";}();a.uVa=new function(){this.getValue=function(a,b,c){return this.l="BB"===c.xa||null;};this.type="cat";}();a.vVa=new function(){this.getValue=function(a,b,c){return this.l="BE"===c.xa||null;};this.type="cat";}();a.wVa=new function(){this.getValue=function(a,b,c){return this.l="BO"===c.xa||null;};this.type="cat";}();a.xVa=new function(){this.getValue=function(a,b,c){return this.l="BR"===c.xa||null;};this.type="cat";}();a.yVa=new function(){this.getValue=function(a,b,c){return this.l="BS"===c.xa||null;};this.type="cat";}();a.zVa=new function(){this.getValue=function(a,b,c){return this.l="CA"===c.xa||null;};this.type="cat";}();a.AVa=new function(){this.getValue=function(a,b,c){return this.l="CH"===c.xa||null;};this.type="cat";}();a.BVa=new function(){this.getValue=function(a,b,c){return this.l="CL"===c.xa||null;};this.type="cat";}();a.CVa=new function(){this.getValue=function(a,b,c){return this.l="CO"===c.xa||null;};this.type="cat";}();a.DVa=new function(){this.getValue=function(a,b,c){return this.l="CR"===c.xa||null;};this.type="cat";}();a.EVa=new function(){this.getValue=function(a,b,c){return this.l="CW"===c.xa||null;};this.type="cat";}();a.FVa=new function(){this.getValue=function(a,b,c){return this.l="DE"===c.xa||null;};this.type="cat";}();a.GVa=new function(){this.getValue=function(a,b,c){return this.l="DK"===c.xa||null;};this.type="cat";}();a.HVa=new function(){this.getValue=function(a,b,c){return this.l="DM"===c.xa||null;};this.type="cat";}();a.IVa=new function(){this.getValue=function(a,b,c){return this.l="DO"===c.xa||null;};this.type="cat";}();a.JVa=new function(){this.getValue=function(a,b,c){return this.l="EC"===c.xa||null;};this.type="cat";}();a.KVa=new function(){this.getValue=function(a,b,c){return this.l="EE"===c.xa||null;};this.type="cat";}();a.LVa=new function(){this.getValue=function(a,b,c){return this.l="EG"===c.xa||null;};this.type="cat";}();a.MVa=new function(){this.getValue=function(a,b,c){return this.l="ES"===c.xa||null;};this.type="cat";}();a.NVa=new function(){this.getValue=function(a,b,c){return this.l="FI"===c.xa||null;};this.type="cat";}();a.OVa=new function(){this.getValue=function(a,b,c){return this.l="FR"===c.xa||null;};this.type="cat";}();a.PVa=new function(){this.getValue=function(a,b,c){return this.l="GB"===c.xa||null;};this.type="cat";}();a.QVa=new function(){this.getValue=function(a,b,c){return this.l="GF"===c.xa||null;};this.type="cat";}();a.RVa=new function(){this.getValue=function(a,b,c){return this.l="GP"===c.xa||null;};this.type="cat";}();a.SVa=new function(){this.getValue=function(a,b,c){return this.l="GT"===c.xa||null;};this.type="cat";}();a.TVa=new function(){this.getValue=function(a,b,c){return this.l="HK"===c.xa||null;};this.type="cat";}();a.UVa=new function(){this.getValue=function(a,b,c){return this.l="HN"===c.xa||null;};this.type="cat";}();a.VVa=new function(){this.getValue=function(a,b,c){return this.l="HR"===c.xa||null;};this.type="cat";}();a.WVa=new function(){this.getValue=function(a,b,c){return this.l="HU"===c.xa||null;};this.type="cat";}();a.XVa=new function(){this.getValue=function(a,b,c){return this.l="ID"===c.xa||null;};this.type="cat";}();a.YVa=new function(){this.getValue=function(a,b,c){return this.l="IE"===c.xa||null;};this.type="cat";}();a.ZVa=new function(){this.getValue=function(a,b,c){return this.l="IL"===c.xa||null;};this.type="cat";}();a.$Va=new function(){this.getValue=function(a,b,c){return this.l="IN"===c.xa||null;};this.type="cat";}();a.aWa=new function(){this.getValue=function(a,b,c){return this.l="IT"===c.xa||null;};this.type="cat";}();a.bWa=new function(){this.getValue=function(a,b,c){return this.l="JE"===c.xa||null;};this.type="cat";}();a.cWa=new function(){this.getValue=function(a,b,c){return this.l="JM"===c.xa||null;};this.type="cat";}();a.dWa=new function(){this.getValue=function(a,b,c){return this.l="JP"===c.xa||null;};this.type="cat";}();a.eWa=new function(){this.getValue=function(a,b,c){return this.l="KE"===c.xa||null;};this.type="cat";}();a.fWa=new function(){this.getValue=function(a,b,c){return this.l="KN"===c.xa||null;};this.type="cat";}();a.gWa=new function(){this.getValue=function(a,b,c){return this.l="KR"===c.xa||null;};this.type="cat";}();a.hWa=new function(){this.getValue=function(a,b,c){return this.l="LU"===c.xa||null;};this.type="cat";}();a.iWa=new function(){this.getValue=function(a,b,c){return this.l="MK"===c.xa||null;};this.type="cat";}();a.jWa=new function(){this.getValue=function(a,b,c){return this.l="MU"===c.xa||null;};this.type="cat";}();a.kWa=new function(){this.getValue=function(a,b,c){return this.l="MX"===c.xa||null;};this.type="cat";}();a.lWa=new function(){this.getValue=function(a,b,c){return this.l="MY"===c.xa||null;};this.type="cat";}();a.mWa=new function(){this.getValue=function(a,b,c){return this.l="NI"===c.xa||null;};this.type="cat";}();a.nWa=new function(){this.getValue=function(a,b,c){return this.l="NL"===c.xa||null;};this.type="cat";}();a.oWa=new function(){this.getValue=function(a,b,c){return this.l="NO"===c.xa||null;};this.type="cat";}();a.pWa=new function(){this.getValue=function(a,b,c){return this.l="NZ"===c.xa||null;};this.type="cat";}();a.qWa=new function(){this.getValue=function(a,b,c){return this.l="OM"===c.xa||null;};this.type="cat";}();a.rWa=new function(){this.getValue=function(a,b,c){return this.l="PA"===c.xa||null;};this.type="cat";}();a.sWa=new function(){this.getValue=function(a,b,c){return this.l="PE"===c.xa||null;};this.type="cat";}();a.tWa=new function(){this.getValue=function(a,b,c){return this.l="PF"===c.xa||null;};this.type="cat";}();a.uWa=new function(){this.getValue=function(a,b,c){return this.l="PH"===c.xa||null;};this.type="cat";}();a.vWa=new function(){this.getValue=function(a,b,c){return this.l="PK"===c.xa||null;};this.type="cat";}();a.wWa=new function(){this.getValue=function(a,b,c){return this.l="PL"===c.xa||null;};this.type="cat";}();a.xWa=new function(){this.getValue=function(a,b,c){return this.l="PT"===c.xa||null;};this.type="cat";}();a.yWa=new function(){this.getValue=function(a,b,c){return this.l="PY"===c.xa||null;};this.type="cat";}();a.zWa=new function(){this.getValue=function(a,b,c){return this.l="QA"===c.xa||null;};this.type="cat";}();a.AWa=new function(){this.getValue=function(a,b,c){return this.l="RO"===c.xa||null;};this.type="cat";}();a.BWa=new function(){this.getValue=function(a,b,c){return this.l="RS"===c.xa||null;};this.type="cat";}();a.CWa=new function(){this.getValue=function(a,b,c){return this.l="RU"===c.xa||null;};this.type="cat";}();a.DWa=new function(){this.getValue=function(a,b,c){return this.l="SA"===c.xa||null;};this.type="cat";}();a.EWa=new function(){this.getValue=function(a,b,c){return this.l="SE"===c.xa||null;};this.type="cat";}();a.FWa=new function(){this.getValue=function(a,b,c){return this.l="SG"===c.xa||null;};this.type="cat";}();a.GWa=new function(){this.getValue=function(a,b,c){return this.l="SV"===c.xa||null;};this.type="cat";}();a.HWa=new function(){this.getValue=function(a,b,c){return this.l="SX"===c.xa||null;};this.type="cat";}();a.IWa=new function(){this.getValue=function(a,b,c){return this.l="TH"===c.xa||null;};this.type="cat";}();a.JWa=new function(){this.getValue=function(a,b,c){return this.l="TR"===c.xa||null;};this.type="cat";}();a.KWa=new function(){this.getValue=function(a,b,c){return this.l="TT"===c.xa||null;};this.type="cat";}();a.LWa=new function(){this.getValue=function(a,b,c){return this.l="TW"===c.xa||null;};this.type="cat";}();a.MWa=new function(){this.getValue=function(a,b,c){return this.l="US"===c.xa||null;};this.type="cat";}();a.NWa=new function(){this.getValue=function(a,b,c){return this.l="UY"===c.xa||null;};this.type="cat";}();a.OWa=new function(){this.getValue=function(a,b,c){return this.l="VE"===c.xa||null;};this.type="cat";}();a.PWa=new function(){this.getValue=function(a,b,c){return this.l="ZA"===c.xa||null;};this.type="cat";}();a.Odb=new function(){this.getValue=function(a,b,c){return this.l=1===c.tf||null;};this.type="cat";}();a.Pdb=new function(){this.getValue=function(a,b,c){return this.l=10===c.tf||null;};this.type="cat";}();a.Qdb=new function(){this.getValue=function(a,b,c){return this.l=11===c.tf||null;};this.type="cat";}();a.Rdb=new function(){this.getValue=function(a,b,c){return this.l=12===c.tf||null;};this.type="cat";}();a.Sdb=new function(){this.getValue=function(a,b,c){return this.l=13===c.tf||null;};this.type="cat";}();a.Tdb=new function(){this.getValue=function(a,b,c){return this.l=14===c.tf||null;};this.type="cat";}();a.Udb=new function(){this.getValue=function(a,b,c){return this.l=15===c.tf||null;};this.type="cat";}();a.Vdb=new function(){this.getValue=function(a,b,c){return this.l=16===c.tf||null;};this.type="cat";}();a.Wdb=new function(){this.getValue=function(a,b,c){return this.l=17===c.tf||null;};this.type="cat";}();a.Xdb=new function(){this.getValue=function(a,b,c){return this.l=18===c.tf||null;};this.type="cat";}();a.Ydb=new function(){this.getValue=function(a,b,c){return this.l=19===c.tf||null;};this.type="cat";}();a.Zdb=new function(){this.getValue=function(a,b,c){return this.l=2===c.tf||null;};this.type="cat";}();a.$db=new function(){this.getValue=function(a,b,c){return this.l=20===c.tf||null;};this.type="cat";}();a.aeb=new function(){this.getValue=function(a,b,c){return this.l=21===c.tf||null;};this.type="cat";}();a.beb=new function(){this.getValue=function(a,b,c){return this.l=22===c.tf||null;};this.type="cat";}();a.ceb=new function(){this.getValue=function(a,b,c){return this.l=23===c.tf||null;};this.type="cat";}();a.deb=new function(){this.getValue=function(a,b,c){return this.l=3===c.tf||null;};this.type="cat";}();a.eeb=new function(){this.getValue=function(a,b,c){return this.l=4===c.tf||null;};this.type="cat";}();a.feb=new function(){this.getValue=function(a,b,c){return this.l=5===c.tf||null;};this.type="cat";}();a.geb=new function(){this.getValue=function(a,b,c){return this.l=6===c.tf||null;};this.type="cat";}();a.heb=new function(){this.getValue=function(a,b,c){return this.l=7===c.tf||null;};this.type="cat";}();a.ieb=new function(){this.getValue=function(a,b,c){return this.l=8===c.tf||null;};this.type="cat";}();a.jeb=new function(){this.getValue=function(a,b,c){return this.l=9===c.tf||null;};this.type="cat";}();a.lib=new function(){this.update=function(a){"down"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.nib=new function(){this.update=function(a){"right"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.mib=new function(){this.update=function(a){"left"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.oib=new function(){this.update=function(a){"up"===a.direction&&this.l++;};this.getValue=function(){return this.l;};this.type="num";this.l=0;}();a.d9a=new function(){this.l=0;this.update=function(a){this.l=Math.max(this.l,a.rowIndex);};this.getValue=function(){return this.l;};this.type="num";}();a.g9a=new function(){this.l=0;this.update=function(a){this.l=Math.max(this.l,a.D_);};this.getValue=function(){return this.l;};this.type="num";}();a.n9a=new function(){this.nE=this.l=0;this.update=function(a){this.nE++;this.l=1*(this.l+a.rowIndex)/this.nE;};this.getValue=function(){return this.l;};this.type="num";}();a.o9a=new function(){this.nE=this.l=0;this.update=function(a){this.nE++;return this.l=1*(this.l+a.D_)/this.nE;};this.getValue=function(){return this.l;};this.type="num";}();a.Kcb=new function(){this.getValue=function(a,b,c){return this.l=c.D_+b;};this.type="num";}();a.Lcb=new function(){this.getValue=function(a,b,c){return this.l=c.rowIndex+a;};this.type="num";}();d.prototype.ku=function(a){return this.Kha(this.J["0"].Pua(a),a);};d.prototype.Kha=function(a,b){return"string"==typeof a?this.Kha(this.J[a].Pua(b),b):a;};b.prototype.Pua=function(a){switch(this.Y6a){case 0:switch(a.Md[this.KJ].type){case"cat":return null===a.Md[this.KJ].value?this.Jra:"missing"==a.Md[this.KJ].value?this.c5:this.Hxa;case"num":return null===a.Md[this.KJ].value?this.c5:a.Md[this.KJ].value<this.split?this.Hxa:this.Jra;default:return this.c5;}case 1:return this.ku;default:return this.ku;}};c.declare({JH:["modelSelector","modelone"],CUa:["colEpisodeList",5],J5a:["holdDuration",15E3],Aua:["rowFirst",2],dka:["colFirst",5],Cua:["rowScroll",2],eka:["colScroll",6],hfb:["rowScrollHorizontal",6],xfb:["searchTop",3],Vka:["cwFirst",2],LG:["horizontalItemsFocusedMode",3],Z6a:["itemsPerRank",1],$8a:["maxNumberPayloadsStored",10],Uqa:["maxNumberTitlesScheduled",5],lvb:["enableDetailedLogging",!0],vAb:["rowStep",20],Ttb:["colStep",15],Xyb:["pageRows",100],Wyb:["pageColumns",75],u4:["maskParamsList",new function(){var a,b;this.u4=[];this.Zsa={};this.jS=20;this.PN=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.jS)+"_"+Math.floor(b/this.PN)in this.Zsa||(this.Zsa[Math.floor(a/this.jS)+"_"+Math.floor(b/this.PN)]=1,this.u4.push(new k(0,0,0,0,Math.floor(a/this.jS),Math.floor(b/this.PN))));}().u4],J:["nodes",new d().J],mapping:["mapping",{g9a:"0",o9a:"1",d9a:"2",n9a:"3",lSa:"4",oib:"5",mib:"6",nib:"7",lib:"8",Lcb:"9",Kcb:"10",w7a:"11",x7a:"12",z7a:"13",A7a:"14",y7a:"15",B7a:"16",C7a:"17",D7a:"18",E7a:"19",F7a:"20",G7a:"21",H7a:"22",I7a:"23",J7a:"24",K7a:"25",L7a:"26",Odb:"27",Pdb:"28",Qdb:"29",Rdb:"30",Sdb:"31",Tdb:"32",Udb:"33",Vdb:"34",Wdb:"35",Xdb:"36",Ydb:"37",Zdb:"38",$db:"39",aeb:"40",beb:"41",ceb:"42",deb:"43",eeb:"44",feb:"45",geb:"46",heb:"47",ieb:"48",jeb:"49",qVa:"50",rVa:"51",sVa:"52",tVa:"53",uVa:"54",vVa:"55",wVa:"56",xVa:"57",yVa:"58",zVa:"59",AVa:"60",BVa:"61",CVa:"62",DVa:"63",EVa:"64",FVa:"65",GVa:"66",HVa:"67",IVa:"68",JVa:"69",KVa:"70",LVa:"71",MVa:"72",NVa:"73",OVa:"74",PVa:"75",QVa:"76",RVa:"77",SVa:"78",TVa:"79",UVa:"80",VVa:"81",WVa:"82",XVa:"83",YVa:"84",ZVa:"85",$Va:"86",aWa:"87",bWa:"88",cWa:"89",dWa:"90",eWa:"91",fWa:"92",gWa:"93",hWa:"94",iWa:"95",jWa:"96",kWa:"97",lWa:"98",mWa:"99",nWa:"100",oWa:"101",pWa:"102",qWa:"103",rWa:"104",sWa:"105",tWa:"106",uWa:"107",vWa:"108",wWa:"109",xWa:"110",yWa:"111",zWa:"112",AWa:"113",BWa:"114",CWa:"115",DWa:"116",EWa:"117",FWa:"118",GWa:"119",HWa:"120",IWa:"121",JWa:"122",KWa:"123",LWa:"124",MWa:"125",NWa:"126",OWa:"127",PWa:"128",Vkb:"129",Jdb:"130",khb:"131",or:"132",cVa:"133",U1a:"134",Djb:"135",kjb:"136",SSa:"137",t$a:"138",Qjb:"139",ocb:"140",PSa:"141",RSa:"142",QSa:"143",p$a:"144"}],Md:["features",a],Jsb:["_modelName","tree"],Bsb:["_format","xgboost"],Isb:["_itemsToKeep",5],Hsb:["_itemsThreshold",null],Dtb:["cacheLimit",20]});f.K={config:c,ayb:k,zub:b};},function(f,c,a){var d;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].yf+"|";return b;}d=a(170);f.K={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},jxb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},C2a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.qD.xza){b=a[c].list;break;}return b;},o2a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.qD.uya){b=a[c].list;break;}return b;},dZa:function(a,c){for(var d=0,h,k,r,f=0,v=a.length-1;f<v;f++){h=b(a[f].list||[]);r=!1;for(var B=0,l=c.length;B<l;B++)if(k=b(c[B].list||[]),k==h){r=!0;break;}if(!1===r){d=f;break;}}return d;},jab:function(a,b,c){for(var d=[],g,h=0;h<Math.min(b,a.length);h++)g=a[h].list||[],d=d.concat(g.slice(0,c));return d;},iab:function(a,b){for(var c=[],d,h=0;h<a.length&&(d=a[h].list||[],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0!==b);h++);return c;},hab:function(a,b,c){var d;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(d=a[c]));return d;},wma:function(a){for(var b={},c=a.length,k,n=0;n<c;n++){k=a[n].list||[];for(var r=0;r<k.length;r++)if(k[r].property===d.By.LD||k[r].property===d.By.m$){b.Tg=n;b.wi=r;break;}}void 0===b.Tg&&void 0===b.wi&&(b.Tg=0,b.wi=0);return b;}};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(172);d=a(175);k=a(51);h=a(18);g=a(78);p=a(6);c.XWa=function(a,c,f){var x,C,F,P,m;function n(){P.set(!1);l()<f-1&&a.play();}function r(){P.set(!0);a.pause();}function u(){var b;b=l()>=f||a.getEnded();b&&a.pause();P.value?r():n();m.set(b);}function l(){return g.xl(a.getCurrentTime()-c,0,f);}function w(b){a.seek(g.xl(c+b,c,c+f-2E3));u();}x=Object.create(a);C=new k.di();F=h.Qia([b.tta,b.sta]);P=new d.Hd(!1,function(){C.jc(b.tta);});m=new d.Hd(!1,function(){C.jc(b.sta);});w(c||0);a.addEventListener(b.ldb,function(){var b;b=a.getDuration();c=p.Af(b-2E3,c||0);f=p.Af(b-c,f||b);w(0);});a.addEventListener(b.kdb,u);h.va(x,{addEventListener:function(b){(F[b]?C.addListener:a.addEventListener).apply(null,arguments);},removeEventListener:function(b){(F[b]?C.removeListener:a.removeEventListener).apply(null,arguments);},play:n,pause:r,getPaused:function(){return P.value;},getEnded:function(){return m.value;},getCurrentTime:l,getDuration:function(){return f;},seek:w});return x;};},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);d=a(3);k=a(114);h=a(249);c.Tsa={};c.rXa=function(a,p,n,r){var f,B;function g(h){h.newValue===b.Sy&&(d.log.trace("removing movieId from playback map ",a),B.state.removeListener(g),delete c.Tsa[a]);}f=d.da.get(k.Cy);B=new h.nIa(a,p,n,r,f);c.Tsa[a]=B;d.log.trace("adding movieId to playback map",a);B.state.addListener(g);return B;};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(47);d=a(4);k=a(55);h=a(16);g=a(18);p=a(2);c.RBa=function(a,c){function n(h){var k,n;k=h.error||h;n=g.xc(k);c.error("uncaught exception",k,n);(k=(k=k&&k.stack)&&d.config.Twa&&d.config.Ujb?0<=k.indexOf(d.config.Twa):void 0)&&(h&&h.stopImmediatePropagation&&h.stopImmediatePropagation(),a.Kh(new b.yj(p.I.tKa)));}function r(){k.Nd.removeListener(k.E2,n);a.removeEventListener(h.Ze,r);a.removeEventListener(h.xj,r);}try{k.Nd.addListener(k.E2,n);a.addEventListener(h.Ze,r);d.config.f6a&&a.addEventListener(h.xj,r);}catch(B){c.error("exception in exception handler ",B);}};},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y,w,x,C,F,P,m,q;function b(){var a;a=q.G9.apply(this,[].concat(zb(arguments)))||this;a.QRa=void 0;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(19);k=a(102);h=a(178);g=a(120);p=a(142);n=a(174);r=a(5);u=a(248);v=a(4);B=a(16);l=a(17);y=a(3);a(81);w=a(2);x=a(18);C=a(9);F=a(155);P=a(7);m=a(15);q=a(264);ha(b,q.G9);b.prototype.load=function(a){var b;b=this;this.load=r.B9;this.$sa=a;this.state.value==B.Ty&&(this.log.info("Playback loading",this),this.M$a(),this.Pd("asl_load_start"),m.cb(d.qQ)?m.cb(d.S3)?this.Pd("asl_ended"):this.Pd("asl_in_progress"):this.Pd("asl_not_started"),d.pH(function(a){b.Pd("asl_load_complete");a.N?b.$Wa():b.dn(a.errorCode||w.I.yaa,a);}));};b.prototype.pcb=function(){var a;try{if(this.state.value==B.Gk){this.G4=this.duration=this.Ma.duration;a={width:1,height:1};this.Xe.value.Ab.forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.QC=a;this.Xs=y.da.get(F.$J).mZ({LC:P.Hb(this.Xs),M:this.M,lI:P.Hb(this.duration),oc:this.oc}).pa(P.Qa);this.CXa();}}catch(W){this.dn(w.I.ZCa,{S:w.v.ye,Ga:x.xc(W)});}};b.prototype.$Wa=function(){try{this.profile=k.eg.profile;this.DB=h.CFa(this);this.CB=new g.yFa(this);v.config.$Ta&&new u.RBa(this,this.log);v.config.vF&&this.vF(this);this.Akb();}catch(O){this.dn(w.I.YCa,{S:w.v.ye,Ga:x.xc(O)});}};b.prototype.Akb=function(){this.oh?this.Kh(this.oh):m.npa(this.M)?this.mUa():this.dn(w.I.NCa);};b.prototype.mUa=function(){var a;a=p.vC.kva;a?a.N?this.B_():this.dn(w.I.Yaa,a):(C.ha(!v.config.IO),this.aZ());};b.prototype.B_=function(){var a;a=this;!this.background&&v.config.B_?B.ida(function(){a.aZ();},this):this.aZ();};b.prototype.aZ=function(){var a;a=this;this.state.value==B.Gk&&(v.config.c1&&!this.hB()?p.vC.Rz(B.UHa,function(b){b.N?(a.yQ=b.yQ,v.config.BS?a.gF():a.A7()):a.dn(w.I.Xaa);}):v.config.BS?this.gF():this.A7());};b.prototype.A7=function(){var a;a=this;this.state.value==B.Gk&&(this.Pd("ic"),this.Ybb.Pfb(function(b){b.error&&a.log.error("Error sending persisted playdata",y.gm(b));try{a.gF();}catch(U){a.log.error("playback.authorize threw an exception",U);a.dn(w.I.cya,{S:w.v.ye,Ga:x.xc(U)});}}));};b.prototype.gF=function(){var a,b;a=this;if(this.state.value==B.Gk){this.log.info("Authorizing",this);b=l.Ya();this.Pd("ats");this.DB.gF(function(c){var d;if(a.state.value==B.Gk){a.Pd("at");d=a.Ma;a.b3({pr_ats:d&&m.cb(d.Ox)?d.Ox:b,pr_at:d&&m.cb(d.WB)?d.WB:l.Ya()});c.N?0<a.re.Qj.length&&a.re.fla&&a.re.kla?a.Xcb():a.dn(w.I.fFa):a.dn(w.I.eca,c);}});}};b.prototype.Xcb=function(){var a;a=this;this.$sa?(this.log.info("Processing post-authorize",this),this.$sa(this,function(b){b.N?a.Xwa():a.dn(w.I.cDa,b);})):this.Xwa();};b.prototype.vF=function(a){var c,d;function b(){var b,d;b=n.oq.Z1()+"";d=a.QZ[b];d||(d=a.QZ[b]=[]);d.push(l.Ya());c.log.trace("charging change event",{level:n.oq.vna(),charging:n.oq.Z1()});}c=this;d=n.oq.gza;n.oq.addEventListener(d,b);a.addEventListener(B.Ze,function(){n.oq.removeEventListener(d,b);});};c.nIa=b;},function(f,c,a){var b,d,k,h,g,p,n,r,u,v,B,l,y,w,x;Object.defineProperty(c,"__esModule",{value:!0});b=a(89);d=a(270);k=a(16);h=a(4);g=a(55);p=a(90);n=a(14);r=a(78);u=a(3);v=a(111);B=a(151);l=a(18);y=a(6);w=a(15);x=a(33);c.jIa=function(c){var X,N,G,ca,V,fa,ba,ma,ja,ka,qa,va,Va,wa,A,D;function f(){if(!V){ka=setInterval(q,1E3);c.We.appendChild(N);for(var a=ba.length;a--;)ba[a].addListener(U);for(a=ma.length;a--;)c.addEventListener(ma[a],U);V=!0;}O();}function z(){if(V){clearInterval(ka);va=qa=void 0;c.We.removeChild(N);for(var a=ba.length;a--;)ba[a].removeListener(U);for(a=ma.length;a--;)c.removeEventListener(ma[a],U);X.ib();V=!1;}}function C(){V?z():f();}function m(){var a,g,p,n,f,x,z,C,F,P,m,M,ba,O,q,ea,ma,W,G,V,U,X,t;a=[];a.push({Version:"0.0012.893.010",Esn:b.Mf?b.Mf.Of:"UNKNOWN",PBCID:c.TN,UserAgent:y.Dh});try{p={MovieId:c.M,TrackingId:c.Ug,Xid:c.ia+" ("+k.yp.map(function(a){return a.ia;}).join(", ")+")",Position:r.zg(c.Ic.value),Duration:r.zg(c.duration),Volume:y.Bf(100*c.volume.value)+"%"+(c.muted.value?" (Muted)":"")};c.oc.kf&&(p["Segment Position"]=r.zg(c.Kw()),p.Segment=c.p2());a.push(p);}catch(ub){}try{n=c.jl?c.jl.S5a():void 0;a.push({"Player state":Va[c.state.value],"Buffering state":wa[c.Il.value]+(w.aa(n)?", ETA:"+r.zg(n):""),"Rendering state":A[c.Ac.value]});}catch(ub){}try{f=c.Z8()+c.CZ();x=h.config.w4;z=c.vh.value;C=z&&z.stream;F=c.og.value;P=F&&F.stream;m=P?P.ee:"";M=c.Ni.value?c.Ni.value.ee:"";ba=c.wb[fa.u.VIDEO].value;O=c.wb[fa.u.AUDIO].value;a.push({"Playing bitrate (a/v)":C&&P?C.L+" / "+P.L+" ("+P.width+"x"+P.height+")":"?","Playing/Buffering vmaf":m+"/"+M,"Buffering bitrate (a/v)":c.Vz.value.L+" / "+c.Ni.value.L,"Buffer size in Bytes (a/v)":c.CZ()+" / "+c.Z8(),"Buffer size in Bytes":f+(x?" ("+(100*f/x).toFixed(0)+"% of max)":""),"Buffer size in Seconds (a/v)":r.zg(c.Yv())+" / "+r.zg(c.oy()),"Current CDN (a/v)":(O?O.name+", Id: "+O.id:"")+" / "+(ba?ba.name+", Id: "+ba.id:"")});}catch(ub){}try{if(c.vh.value&&c.og.value){q=c.vh.value.stream.track;ea=c.og.value.stream;ma=c.aq.value;W=u.da.get(v.Yy);G=W.KF(c.Xe.value.Ab);V=W.XN();U=ea.ve;X=/hevc/.test(U)?"hevc":/vp9/.test(U)?"vp9":/h264hpl/.test(U)?"avchigh":"avc";/hdr/.test(U)&&(X+=", hdr");/dv/.test(U)&&(X+=", dv");/prk/.test(U)&&(X+=", prk");a.push({"Audio Track":q.ej+", Id: "+q.ac+", Channels: "+q.Sj+", Codec: "+V,"Video Track":"Codec: "+G+" ("+X+")","Timed Text Track":ma?ma.ej+", Profile: "+ma.QH+", Id: "+ma.ac:"none"});}}catch(ub){}try{t=c.Pg;a.push({Framerate:c.Ni.value.gP.toFixed(3),"Current Dropped Frames":w.aa(qa)?qa:"","Total Frames":t.uP(),"Total Dropped Frames":t.Iw(),"Total Corrupted Frames":t.zG(),"Total Frame Delay":t.vP(),"Main Thread stall/sec":d.Bqa?d.Bqa.l3a().join(" "):"DISABLED",VideoDiag:B.q4(c.DP())});}catch(ub){}try{a.push({Throughput:c.ja+" kbps"});}catch(ub){}try{c.Rg&&a.push({PlaybackOffline:!!c.Rg});}catch(ub){}try{l.ic(ja,function(a,b){g=g||{};g[a]=JSON.stringify(b);});g&&a.push(g);}catch(ub){}return a;}function O(){var a;if(G.selectionStart==G.selectionEnd){a="";m().forEach(function(b){a=a?a+"\n":"";l.ic(b,function(c){a+=c+": "+b[c]+"\n";});});G.style.fontSize=r.xl(y.An(N.clientHeight/60),8,18)+"px";G.value=a;}}function q(){var a;if(c.Pg){a=c.Pg.Iw();qa=a-va;va=a;U();}}function U(){X.ib(O);}function t(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(68==a.keyCode||81==a.keyCode)&&C();}X=new p.ZD(1E3);N=n.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});G=n.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");ca=n.createElement("DIV","position:absolute;top:2px;right:2px");ma=[k.AV,x.Ha.MSa];ja={};fa=a(70).Pl;ba=[c.Ic,c.wb[fa.u.AUDIO],c.wb[fa.u.VIDEO],c.vh,c.og,c.Vz,c.Ni,c.aq,c.state,c.Il,c.Ac,c.volume,c.muted];this.qgb=function(a){ja.DFR=a;};Va={};Va[k.Ty]="Not Loaded";Va[k.Gk]="Loading";Va[k.km]="Normal";Va[k.Sy]="Closing";Va[k.SD]="Closed";wa={};wa[k.Ak]="Normal";wa[k.Nr]="Pre-buffering";wa[k.L9]="Network stalled";A={};A[k.fi]="Waiting for decoder";A[k.Dn]="Playing";A[k.zp]="Paused";A[k.bv]="Media ended";G.setAttribute("readonly","readonly");N.appendChild(G);N.appendChild(ca);D=n.createElement("BUTTON",null,"X");D.addEventListener("click",z,!1);ca.appendChild(D);g.Nd.addListener(g.Mw,t);c.addEventListener(k.Ze,function(){g.Nd.removeListener(g.Mw,t);z();});l.va(this,{toggle:C,show:f,Nw:z,g3a:m});};},function(f,c,a){var d,k,h,g,p,n,r,u,v,B,l,y,w,x,C,F,P,m,q,O,W,U;function b(a){var b;b=this;this.G=a;this.Xb=this.G.Xb;this.ya=l.jf(this.G,"MediaPresenterASE");this.Tga=this.Sfa=this.Lk=0;this.Nc=this.Xb.Da;this.kha=this.EY=this.lY=this.jN=this.HL=this.nY=!1;this.Jk={type:u.Cf.audio,qA:[],Rm:[]};this.qm={type:u.Cf.video,qA:[],Rm:[]};this.Ov={};this.Nga=g.config.Q9a;this.eha=g.PUa(!!this.G.oc.kf).qsa;this.WX=g.config.y4;this.WPa=new B.ZD(W.uW);this.ue={};this.Kga={};this.qE={};this.G.aw=!1;this.Ov[l.Wf.$f.AUDIO]=this.Jk;this.Ov[l.Wf.$f.VIDEO]=this.qm;x.ha(this.WX>this.Nga,"bad config");x.ha(this.WX>this.eha,"bad config");this.Xb.addEventListener(U.Xg.Iva,function(){b.ya.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.OMa();}catch(N){b.ya.error("Exception while initializing",N);b.ld(y.I.QGa);}});}Object.defineProperty(c,"__esModule",{value:!0});d=a(139);k=a(47);h=a(5);g=a(4);p=a(16);n=a(55);r=a(27);u=a(72);v=a(17);B=a(90);l=a(3);a(81);y=a(2);w=a(409);x=a(9);C=a(78);F=a(106);P=a(14);m=a(25);q=a(33);O=a(15);W=a(208);U=a(173);b.prototype.ona=function(){return this.Xb.po(!1);};b.prototype.uP=function(){return this.Xb.uP();};b.prototype.Iw=function(){return this.Xb.Iw();};b.prototype.zG=function(){return this.Xb.zG();};b.prototype.vP=function(){return this.Xb.vP();};b.prototype.b2=function(){return this.Xb.b2();};b.prototype.OMa=function(){var a,b;a=this;this.ya.trace("Video element initializing");b=this.Xb.sourceBuffers;b.forEach(function(b){return a.yPa(b);});g.config.dlb&&(b.filter(function(a){return a.type===l.Wf.$f.AUDIO;})[0]||this.ya.error("unexpected: audio source buffer is not available yet"));a.PMa(a.G.iH);};b.prototype.PMa=function(a){var d;function b(){function a(){var a;d.G.Ac.value==p.fi&&d.G.state.value==p.km&&d.G.Il.value==p.Ak&&d.G.Mi.value==p.Ak&&d.G.fb.JP()?(d.mX.lo(),a="ensureTimer"):(d.mX.wf(),a="stopTimer");d.ya.trace("Timer update: "+a,{presentingState:d.G.Ac.value,playbackState:d.G.state.value,avBufferingState:d.G.Il.value,textBufferingState:d.G.Mi.value});}g.config.ela&&(x.ha(!d.mX),d.mX=new F.$y(g.config.ela,function(){var a;a=l.da.get(w.x$).jZa(d.G);d.ld(a.code,a);}),d.G.Ac.addListener(a),d.G.Il.addListener(a),d.G.Mi.addListener(a),d.G.state.addListener(a),a());}function c(){d.PL||(c=h.B9,d.Xb.addEventListener(U.Xg.eC,d.ue[U.Xg.eC]=function(){return d.gY();}),d.Xb.addEventListener(U.Xg.Yk,d.ue[U.Xg.Yk]=function(){return d.pOa();}),d.Nc.addEventListener("ended",d.ue.ended=function(){return d.qOa();}),d.Nc.addEventListener("play",d.ue.play=function(){return d.uOa();}),d.Nc.addEventListener("pause",d.ue.pause=function(){return d.tOa();}),d.Nc.addEventListener("playing",d.ue.playing=function(){return d.vOa();}),d.uE=!0,d.gN(),d.ya.trace("Video element initialization complete"),d.G.Pd("vi"),g.config.ola?setTimeout(function(){d.dY=!0;d.ri();},g.config.ola):d.dY=!0,b(),m.bb(function(){return d.ri();}));}d=this;a?this.ya.trace("Waiting for needkey"):this.ya.warn("Movie is not DRM protected",{MovieId:this.G.M});this.ya.trace("Waiting for loadedmetadata");a?this.Xb.addEventListener(U.Xg.Upa,function(){d.G.Pd("ld");d.G.fireEvent(p.YHa);d.G.fb.O0(d.G.M);}):this.G.fb.O0(this.G.M);r.iRa(this.Nc,function(){d.ya.trace("Video element event: loadedmetadata");d.G.Pd("md");});n.Nd.addListener(n.ck,this.qE[n.ck]=function(){return d.Bfa();},h.Ny);this.G.addEventListener(p.Ze,function(){return d.Bfa();},h.Ny);this.G.paused.addListener(function(){return d.ri();});this.G.muted.addListener(function(){return d.QY();});this.G.volume.addListener(function(){return d.QY();});this.G.playbackRate.addListener(function(){return d.kQa();});this.G.Il.addListener(function(){return d.ri();});this.G.Mi.addListener(function(){return d.ri();});this.QY();this.Jk.cm.lva(function(){return d.AM();});this.qm.cm.lva(function(){return d.AM();});this.AM();m.bb(function(){c();});};b.prototype.tN=function(a){var b,c;b=this;c=this.Ov[a.O];c?c.Rm.push(a):x.ha(!1);this.ELa(a).then(function(){b.AM();b.G.fireEvent(p.AV);})["catch"](function(a){b.ld(y.I.VGa,{Ga:P.xc(a)});});};b.prototype.FRa=function(a,b){var c;b={O:a.type,Mb:!0,response:b,Ai:function(){return"header";}};c=this.Ov[a.type];c?c.Rm.push(b):x.ha(!1);this.kha||a.type!==l.Wf.$f.VIDEO||(this.seek(this.G.Xs||0,p.RD),this.kha=!0);};b.prototype.yPa=function(a){var b;b=this.Ov[a.type];if(b)try{b.cm=a;}catch(N){this.ld(y.I.bW,{S:W.e2(a.type),Ga:P.xc(N)});}};b.prototype.AM=function(){this.uE?this.ri():g.config.GRa&&this.gN();};b.prototype.S$a=function(){var a;a=this.G.Kw()||0;this.G.oc.kf||(a=Math.max(a-g.config.Efb,this.YMa));this.seek(a,p.mW);};b.prototype.r5=function(a){var b;b=this;a.mediaType===l.Wf.$f.AUDIO?this.HL=!0:a.mediaType===l.Wf.$f.VIDEO&&(this.jN=!0);m.bb(function(){return b.ri();});};b.prototype.s3a=function(){return{tYa:this.Sfa,r$a:this.Tga};};b.prototype.ELa=function(a){var b;b=this.Xb&&this.Xb.zna();return void 0===this.kY&&b&&a.Ue&&a.Ue.mc&&a.Ue.mc.na&&Infinity!=a.Ue.mc.na.ca&&b<(a.Ue.mc.na.ca+a.lk)/1E3?(this.kY=2*b,this.TOa()):Promise.resolve();};b.prototype.TOa=function(){var a;a=this;return new Promise(function(b,c){function d(){return g().then(function(a){if(!1===a)return d();});}function g(){return new Promise(function(b){setTimeout(function(){if(!a.Jk.cm.ak()&&!a.qm.cm.ak())try{a.Xb.xgb(a.kY);a.EY=!1;a.kY=void 0;b(!0);}catch(fa){b(!1);}b(!1);},0);});}a.EY=!0;d().then(function(){b();})["catch"](function(b){a.ya.error("Unable to change the duration",b);c(b);});});};b.prototype.ri=function(){var a,b,c,h,k,n,r;a=this;this.G.gwa=v.Ya();if(!this.Td()&&this.uE){b=this.Xb.o4a();b||this.gN();d.zD||this.gN();c=this.G.Il.value==p.Ak&&this.G.Mi.value==p.Ak;h=this.G.Ac.value;k=h==p.fi?this.eha:this.Nga;n=this.Vfa(this.Jk,k)&&this.Vfa(this.qm,k);this.G.paused.value||!n||!c||b||this.Ij?this.wY():this.nY||this.Jha();if(!b)if(this.Ij&&c&&n)this.Xb.seek(this.Lk),this.Ij=!1,d.zD||this.tY(),m.bb(function(){return a.ri();});else{r=this.Xb.po(!0);this.Td()||(this.Ij||b?h=p.fi:this.Nc&&this.Nc.ended?h==p.Dn&&(this.Lk=this.G.duration,h=p.bv,this.wY()):c&&n?this.Xb.kZa()?h=this.Nc&&this.Nc.paused?p.zp:p.Dn:this.WPa.ib(function(){return a.VPa();}):h=p.fi,h!=p.fi&&h!=p.bv&&(r<this.Lk?(b=this.Lk-r,g.config.Lbb&&r&&b>W.uW&&(r={ElementTime:C.zg(r),MediaTime:C.zg(this.Lk)},b>W.IIa?(this.ya.error("VIDEO.currentTime became much smaller",r),this.ld(y.I.eHa)):this.ya.warn("VIDEO.currentTime became smaller",r))):this.Lk=P.xl(r,0,this.G.duration)),this.dia(),this.OL(),r=h==p.fi&&0<=[p.Dn,p.zp].indexOf(this.G.Ac.value),this.G.Ac.set(h,{rxb:!0}),r&&(h=this.ZPa()>k,this.G.Mi.value!==p.Ak?this.G.aq.value?(h=p.THa,this.G.fireEvent(p.fL,{cause:h}),this.ya.warn("rebuffer due to timed text",this.G.aq.value.Sh)):this.G.fireEvent(p.rda):(h?(h=p.cda,this.Sfa++):(h=p.dda,this.Tga++),this.G.fireEvent(p.fL,{cause:h}))));}}};b.prototype.ZPa=function(){var a,b;a=0;b=0;this.qm.Rm.filter(function(a){return!a.Mb;}).forEach(function(b){a+=b.Eq;});this.Jk.Rm.filter(function(a){return!a.Mb;}).forEach(function(a){b+=a.Eq;});return Math.min(a,b);};b.prototype.VPa=function(){this.Td()||(g.config.T$a&&(this.Jk.cm.ak()||this.Jk.cm.Mia(new Uint8Array([0,0,0,8,102,114,101,101]))),this.ri());};b.prototype.Vfa=function(a,b){var c;c=a.eO;c=c&&c.DH;return 0===a.Rm.length&&(a.type===u.Cf.audio&&this.HL||a.type===u.Cf.video&&this.jN)?!0:c&&c.QB-this.Lk>=b;};b.prototype.gY=function(){this.ri();};b.prototype.pOa=function(){this.ri();this.G.fireEvent(p.EV);};b.prototype.qOa=function(){this.ya.trace("Video element event: ended");this.ri();};b.prototype.uOa=function(){this.ya.trace("Video element event: play");this.ri();};b.prototype.tOa=function(){this.ya.trace("Video element event: pause");this.ri();};b.prototype.vOa=function(){this.ya.trace("Video element event: playing");this.ri();};b.prototype.QY=function(){this.Td()||(this.Nc&&this.Nc.volume!==this.G.volume.value&&(this.Nc.volume=this.G.volume.value),this.Nc&&this.Nc.muted!==this.G.muted.value&&(this.Nc.muted=this.G.muted.value));};b.prototype.kQa=function(){!this.Td()&&this.Nc&&(this.Nc.playbackRate=this.G.playbackRate.value);};b.prototype.gN=function(){this.EY||(this.aia(this.Jk),this.aia(this.qm));this.Td()||!this.HL||!this.jN||this.Jk.cm.ak()||this.qm.cm.ak()||this.uX||(this.uX=!0,this.Xb.endOfStream());};b.prototype.aia=function(a){var b,c;if(!this.Td()){b=a.cm;c=a.qA;!b.ak()&&0<c.length&&(a.eO=c[c.length-1]);if(a.N7){if(b.ak())return;a.N7=!1;b.remove(0,this.Xb.zna());}for(var d=a.Rm[0];d&&d.response&&(d.Mb||d.nr-this.Lk<=this.WX);)if(this.uX=!1,this.eQa(d))a.Rm.shift(),d=a.Rm[0];else break;!b.ak()&&0<c.length&&(a.eO=c[c.length-1]);}};b.prototype.eQa=function(a){var b,c,h;x.ha(a&&a.response);b=a.response;c=a.O;h=this.Ov[c];if(!this.Td()&&!h.cm.ak()){try{this.ya.trace("Feeding media segment to decoder",{Bytes:b.byteLength});h.cm.Mia(b,a);a.Mb||h.qA.push(this.MLa(a));g.config.rZa&&!a.Mb&&(this.Ij&&!d.zD||a.Vja());}catch(ca){"QuotaExceededError"!=ca.name?(this.ya.error("Exception while appending media",a,ca),this.ld(y.I.cHa,W.e2(c))):this.G.fO=this.G.fO?this.G.fO+1:1;return;}return!0;}};b.prototype.LLa=function(a){var b;this.G.Qj.forEach(function(c){a.Rc==c.id&&(b=c);});b||(this.ya.error("Could not find CDN",{cdnId:a.Rc}),b={id:a.Rc,V3:a.location});return b;};b.prototype.OLa=function(a){var b,c;c=a.Za;a.O===l.Wf.$f.AUDIO?this.G.ud.value.Ab.forEach(function(a){a.vc==c&&(b=a);}):a.O===l.Wf.$f.VIDEO&&this.G.Xe.value.Ab.forEach(function(a){a.vc==c&&(b=a);});b||this.ya.error("Could not find stream",{stream:c});return b;};b.prototype.MLa=function(a){var b;b=this.OLa(a);return{DH:a,stream:b,Rja:{startTime:Math.floor(a.nr),endTime:Math.floor(a.QB)},wb:this.LLa(a)};};b.prototype.Jha=function(){var a;a=this;this.Td()||!O.cb(this.Nc)||this.Nc.ended||!this.dY||!this.Lz&&void 0!==this.Lz||(this.ya.trace("Calling play on element"),Promise.resolve(this.Nc.play()).then(function(){a.Lz=!1;a.nY=!1;a.Nc.style.display=null;a.G.fireEvent(q.Ha.aja,a.G);})["catch"](function(b){"NotAllowedError"===b.name?(a.ya.warn("Playback is blocked by the browser settings",b),a.G.aw=!0,a.nY=!0,a.Nc.style.display="none",a.G.fireEvent(q.Ha.aw,{player:{play:function(){return a.Jha();}}})):(a.Lz=!1,a.ya.error("Play promise rejected",b));}));};b.prototype.wY=function(){this.Td()||!O.cb(this.Nc)||this.Nc.ended||!this.dY||this.Lz&&void 0!==this.Lz||(this.ya.trace("Calling pause on element"),this.Nc.pause(),this.Lz=!0);};b.prototype.OL=function(a){if(O.cb(a)){for(var b=this.Ov[a],c=b.qA,d,g;(d=c[0])&&d.DH.nr<=this.Lk;)if(this.Lk<d.DH.QB){a=a===l.Wf.$f.AUDIO?this.G.vh:this.G.og;r.hka(d,a.value)||(g=!0,a.set(d));break;}else c.shift();!g&&!this.lY||this.uX||(d=d&&d.DH.nr-d.DH.Eq-1,0<d&&(b=b.cm,b.ak()?this.lY=!0:(b.remove(0,d/P.wj),this.lY=!1)));}else this.OL(l.Wf.$f.AUDIO),this.OL(l.Wf.$f.VIDEO);};b.prototype.dia=function(a){this.G.Ic.set(this.Lk);a&&this.G.u1a();};b.prototype.eZa=function(a,b){if(!(b===p.lW||this.G.oc.kf&&this.Ij)&&(b=this.G.fb)&&(a+=b.Hna().gc,b.Fja(a)))return a;};b.prototype.seek=function(a,b){var c,d,h;b=void 0===b?p.eda:b;if(!this.Td()){c=P.xl(a,0,this.G.G4);!this.G.oc.kf&&g.config.Dxa&&(c=P.xl(a,0,this.G.G4-g.config.Dxa));d=this.AMa(c);this.VMa()&&(d=Math.round(c));g.config.Uua&&(d+=g.config.Uua);b==p.RD&&(this.G.kja=d);h=this.eZa(d,b);(c=void 0!==h)&&(d=h);this.OL();h=this.Lk;this.ya.info("Seeking",{Requested:C.zg(a),Actual:C.zg(d),Cause:b,Skip:c});this.G.fireEvent(p.pW,{YH:h,lx:d,cause:b,skip:c});this.G.Ac.set(p.fi);b!=p.RD&&(this.tY(),this.Jk.N7=!0,this.qm.N7=!0);this.YMa=this.Lk=d;this.G.vh.set(null);this.G.og.set(null);this.dia(!0);this.G.fireEvent(p.oW,{YH:h,lx:d,cause:b,skip:c});this.Ij=!0;this.ri();}};b.prototype.VMa=function(){return g.config.wcb?navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?g.config.xcb:!0:!1;};b.prototype.tY=function(){this.Jk.qA=[];this.Jk.eO=void 0;this.Jk.Rm=[];this.qm.qA=[];this.qm.eO=void 0;this.qm.Rm=[];this.jN=this.HL=!1;this.G.fireEvent(p.AV);};b.prototype.AMa=function(a){var b;b=this.G.fb.nA.Eb[l.Wf.$f.VIDEO].U.ca;return this.G.oc.kf&&a<b?a:this.G.fb.QTa(a);};b.prototype.ld=function(a,b,c){this.PL||this.G.Kh(new k.yj(a,b,c));};b.prototype.Bfa=function(){if(!this.PL){this.ya.info("Closing.");this.Xb.removeEventListener(U.Xg.eC,this.Kga[U.Xg.eC]);this.Xb.removeEventListener(U.Xg.Yk,this.Kga[U.Xg.Yk]);this.Nc.removeEventListener("ended",this.ue.ended);this.Nc.removeEventListener("play",this.ue.play);this.Nc.removeEventListener("pause",this.ue.pause);this.Nc.removeEventListener("playing",this.ue.playing);n.Nd.removeListener(n.ck,this.qE[n.ck]);this.PL=!0;try{g.config.h$a&&(this.Nc.volume=0,this.Nc.muted=!0);this.wY();this.Xb.close();}catch(Y){}this.Nc=void 0;this.tY();}};b.prototype.Td=function(){return this.PL?!0:O.cb(this.Nc)?!1:(this.ya.error("MediaPresenter not closed and _videoElement is not defined"),!0);};c.OEa=b;},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(3);c.Oya=function(a){this.Gm=function(){var b;if(-1===a.ja){b=a.tj.Wh.get();b.Le&&(a.Le=b.Le.sa);b.ja&&(a.ja=b.ja.sa);}return a.ja;};this.HTa=function(b){var c;if(-1===a.Le||-1===a.ja){c=a.tj&&a.tj.Wh.get();c&&c.Le&&(a.Le=c.Le.sa);c&&c.ja&&(a.ja=c.ja.sa);}return-1===a.Le||-1===a.ja?Number.MAX_VALUE:a.Le+8*b/a.ja;};};},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);d=a(16);k=a(4);h=a(17);g=a(78);p=a(6);n=a(25);r=a(15);c.XHa=function(a){var l,w,x,C,F,P;function c(){return a.state.value==d.Gk||a.state.value==d.km&&a.Ac.value==d.fi;}function f(){c()?P||(P=setInterval(u,100)):P&&(clearInterval(P),P=void 0,n.bb(u));}function u(){var b,n,f,u,v,B,y,z;b=h.Ya();n=l.value;f=n?n.Xh:0;v=a.state.value==d.Gk||c()&&b-w>k.config.rTa;v&&a.state.value==d.km?(a.EN.value==d.L9?(y=f,B=!0):(u=b+(a.jl&&a.jl.S5a()||0),x=x||b,C=C||x+k.config.L9a+1,r.aa(u)&&(u=p.Ek(u,C),y=a.jl?a.jl.iwb():.99,y=p.Bf(1E3*g.xl((b-x)/(u-x),0,y))/1E3)),y<f&&(f-y<k.config.adb/100?(y=f,F=void 0):F?b-F>k.config.$cb?(z=!0,F=void 0):y=f:(F=b,y=f))):F=C=x=void 0;b=v?{TS:B,Xh:y,bdb:z}:null;(!b||!l||!l.value||r.aa(b.Xh)&&!r.aa(l.value.Xh)||r.aa(b.Xh)&&r.aa(l.value.Xh)&&.01<p.xD(b.Xh-l.value.Xh)||b.TS!==n.TS)&&l.set(b);}l=a.b_;w=0;a.state.addListener(function(){f();u();},b.aL);a.Ac.addListener(function(a){if(a.oldValue!=d.fi||a.newValue!=d.fi)w=h.Ya();f();});a.EN.addListener(function(){f();});a.Il.addListener(function(){f();});a.Mi.addListener(function(){f();});P||(P=setInterval(u,100));};},function(f,c,a){var n,r,u,v,B,l,y,w;function b(a,b){var c,d,g,h,k,p,n,r;c=[];h={};n=a.length;for(r=0;r<n;r++)k=a[r],p=b(k),g=p.key,d=h[g],k=k.endTime-k.startTime,d?d.duration+=k:(delete p.key,d=p,d.duration=k,c.push(d),h[g]=d);return c;}function d(a){var b,c,d;d=a.stream;d?(a=d.vc,b=d.L,c=d.ee):a=a.track.vc;return{key:a+"$"+(b||0),downloadableId:a,bitrate:b,vmaf:c};}function k(a){var b;b=d(a);a=a.wb.id;b.key+="$"+a;b.cdnId=a;return b;}function h(a){a=(a=a.stream)?a.L:0;return{key:a,T4:a};}function g(a){a=(a=a.stream)?a.ee:0;return{key:a,T4:a};}function p(a){var b,c,d,g;d=0;for(c=a.length;c--;)if(b=a[c],w.cb(b.duration)&&w.cb(b.T4))d+=b.duration;else throw Error("invalid arguments");if(!d)return 0;g=0;for(c=a.length;c--;)b=a[c],g+=b.T4*b.duration/d;return g;}Object.defineProperty(c,"__esModule",{value:!0});n=a(4);r=a(5);u=a(16);v=a(18);B=a(3);l=a(9);a(78);y=a(6);w=a(15);c.SHa=function(a){var q,U,t,X,N,G,ca,V,fa,ba,ma,ja,ka,qa;function c(){z(a.Ic.value);for(var b=0,c=G.length;c--;)b+=G[c].endTime-G[c].startTime;l.ha(b===y.An(b),"Value of totalPlayTime is not an integer.");return parseInt(y.An(b));}function f(a){z(a.YH);V=a.lx;t=U=void 0;X&&(X.startTime=V);}function x(b){O(X,ca,a.Ic.value);X=b.newValue?{wb:b.newValue.wb,track:b.newValue,startTime:a.Ic.value,endTime:r.as}:void 0;}function z(a){U&&t&&(a=y.Af(a,U.endTime),a=y.Af(a,t.endTime),O(U,N,a),U.startTime=a,O(t,G,a),t.startTime=a,X&&(O(X,ca,a),X.startTime=a),V=a);}function m(b,c,d){b&&O(b,c,y.Af(b.endTime,a.Ic.value));if(d)return b=d.Rja,c=d.stream,{wb:d.wb,track:c.track,stream:c,startTime:y.Ek(b.startTime,V),endTime:b.endTime};}function O(a,b,c){a&&c>=a.startTime&&(a={wb:a.wb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track==a.track&&c.stream==a.stream&&c.wb==a.wb&&c.endTime==a.startTime?c.endTime=a.endTime:b.push(a));}q=B.jf(a,"PlayTimeTracker");N=[];G=[];ca=[];V=a.Ic.value;fa={};ba=!1;ma={};ja=0;ka=n.config.BQa;qa=ka.length;(function(){a.addEventListener(u.pW,f);a.vh.addListener(function(a){U=m(U,N,a.newValue);});a.og.addListener(function(a){t=m(t,G,a.newValue);});a.aq.addListener(x);}());for(fa.abrdel=0;qa--;)ma["abrdel"+ka[qa]]=0,fa["abrdel"+ka[qa]]=0;v.va(this,{C2:c,d2a:function(){z(a.Ic.value);return{audio:b(N,k),video:b(G,k)};},V3a:function(){var a;a={total:c(),audio:b(N,d),video:b(G,d),timedtext:b(ca,d)};l.ha(a.audio&&a.video);return a;},ana:function(){var c,d;z(a.Ic.value);c=b(G,h);try{d=p(c);}catch(wa){return q.warn("Failed to calc average bitrate"),null;}fa.abrdel=y.Bf(d);return fa.abrdel;},i2a:function(){var c,d;z(a.Ic.value);c=b(G,g);try{d=p(c);}catch(wa){return q.warn("Failed to calc average vmaf"),null;}return y.Bf(d);},h2a:function(){var d;if(!ba){for(var a=ka.length,b=c();a--;){d=ka[a];if(0==ma["abrdel"+d]&&b>d*r.wj){for(var g=0,h=G.length,k,p=0,n=0;n<h&&!(k=G[n],g+=k.stream.L*(k.endTime-k.startTime),p+=k.endTime-k.startTime,k=k.stream.L,p>d*r.wj);n++);g&&(ma["abrdel"+d]=y.Bf((g-k*(p-d*r.wj))/(d*r.wj)));}}0!==ma["abrdel"+ka[ka.length-1]]&&(ba=!0);v.ic(ma,function(a,b){fa[a]=0==b?fa.abrdel:b;});}return fa;},VQa:function(a){ja+=a;},t3a:function(){return ja;},v5a:function(){return!!(G[0]&&G[0].stream&&w.cb(G[0].stream.ee));}});};c.Gqb=b;c.Jqb=d;c.Kqb=k;c.Iqb=h;c.Lqb=g;c.Hqb=p;},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(55);d=a(16);k=a(14);h=a(18);g=a(3);p=a(49);c.mIa=function(c){var P,m,q,O,W,U,t,X,N,G,ca;function r(){t||(y(),c.We.appendChild(P),t=!0);}function n(){t&&(c.We.removeChild(P),t=!1);}function f(){t?n():r();}function B(){var d,g,h;function a(a,b,c){var d,g,h;h=[];b.filter(function(b){return b.ve===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===d?d=a.L:g=a.L,void 0===g&&(g=a.L)):void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);});void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);return h;}function b(a,b,c){var d;d=[];b.filter(function(b){return b.ve===a;}).forEach(function(a){-1===c.indexOf(a)&&d.push({stream:{bitrate:a.L},disallowedBy:["manual"]});});return d;}d=c.xm();g=c.Xe.value.Ab.sort(function(a,b){return a.L-b.L;});h=g.reduce(function(a,b){0>a.indexOf(b.ve)&&a.push(b.ve);return a;},[]).map(function(c){return{profile:c,ranges:a(c,g,d),disallowed:b(c,g,d)};});c.fb.FS(h);}function l(){return c.Xe.value.Ab.filter(function(a){return X[a.L];});}function y(){var a,b,d;a=c.ud.value;b=c.Xe.value;d=c.Qj;a&&(d=d.slice(),d.sort(function(a,b){return a.rd-b.rd;}),C(O,a.Ab.map(function(a){return{value:a.L,caption:a.L,selected:a==c.Vz.value};})));b&&(C(W,b.Ab.map(function(a){var b,d;b=c.O4.yr(a);a=a.L;d=""+a;b&&(d+=" ("+b.join("|")+")");return{value:a,caption:d,selected:c.xm!=l?!b:X[a]};})),W.removeAttribute("disabled"));d&&(C(U,d.map(function(a){return{value:a.id,caption:"["+a.id+"] "+a.name,selected:a==c.wb[N.u.VIDEO].value};})),U.removeAttribute("disabled"));}function w(){t&&y();}function x(a){var b,c;b=k.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=k.createElement("DIV",void 0,a);c=k.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);m.appendChild(b);return c;}function C(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=k.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function F(a){a.ctrlKey&&a.altKey&&a.shiftKey&&83==a.keyCode&&f();}P=k.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});m=k.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");q=k.createElement("DIV","width:100%;text-align:center");O=x("Audio Bitrate");W=x("Video Bitrate");U=x("CDN");X={};N=a(70).Pl;G=g.da.get(p.Dk);P.appendChild(m);m.appendChild(q);ca=k.createElement("BUTTON",void 0,"Override");ca.addEventListener("click",function(){var d,g,a,b;X={};for(var a=W.options,b=a.length;b--;){d=a[b];d.selected&&(X[d.value]=1);}c.xm=l;B();if(a=c.Qj){g=U.value;a=a.filter(function(a){return a.id==g;})[0];b=c.wb[N.u.VIDEO].value;a&&a!=b&&(a.Ltb={testreason:"streammanager",selreason:"userselection"},c.wb[N.u.VIDEO].set(a));}n();},!1);q.appendChild(ca);ca=k.createElement("BUTTON",void 0,"Reset");ca.addEventListener("click",function(){delete c.xm;B();n();},!1);q.appendChild(ca);b.Nd.addListener(b.Mw,F);c.addEventListener(d.Ze,function(){b.Nd.removeListener(b.Mw,F);});c.wb.forEach(function(a){a.addListener(w);});c.ud.addListener(w);c.Xe.addListener(w);h.va(this,{toggle:f,show:r,Nw:n});};},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);d=a(16);k=a(17);h=a(106);g=a(2);p=a(182);n=a(6);r=a(15);c.sDa=function(a){var f,u,l,w;function c(){a.state.value!=d.km||a.Ac.value!=d.zp&&a.Ac.value!=d.bv?u.wf():u.lo();}f=b.config.Ebb;if(!a.hB()&&f){u=new h.$y(f,function(){a.fireEvent(d.lda,g.I.bL);});a.Ac.addListener(c);a.state.addListener(c);if(b.config.e3){w=k.Ya();l=new p.Kda(b.config.e3,function(){var c,h;c=k.Ya();h=c-w;h>f&&(a.fireEvent(d.lda,g.I.KK),l.x_());h>2*b.config.e3&&(a.f3=n.Ek(h,a.f3||0));w=c;});l.J7();}a.addEventListener(d.Ze,function(){u.wf();r.cb(l)&&l.x_();});}};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});a(26);a(16);b=a(51);a(17);d=a(9);k=a(25);a(15);a(33);c.qIa=function(){var p,f,r,u,v;function a(){v=!1;for(var a=p.length,b;a--;)b=p[a],u[b]&&(u[b]=!1,r.jc(b+"changed",{getModel:f[b]}));}function c(b){u[b]=!0;v||(v=!0,k.bb(a));}p=[];f={};r=new b.di();u={};v=!1;return{register:function(a,b){d.ha(!(0<=p.indexOf(a)),"panel already registered");f[a]=b;p.push(a);},Jyb:c,lwb:function(a){return(a=f[a])?a():void 0;},addEventListener:function(a,b){r.addListener(a,b);f[a]&&c(a);},removeEventListener:function(a,b){r.removeListener(a,b);}};};},function(f,c,a){var g,p,n,r,u,v,l,z,y,w,x,C,F,P,m,q,O,W,U,Y,X,N,G,ca,V;function b(a){var b;b=this;this.G=a;this.Cxa=Promise.resolve();this.CU=t.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Pn=[];this.li=new u.di();this.Nfa=this.WW=0;this.RL=[];this.ya=y.jf(this.G,"MediaElementASE");this.Hha=O.Db;this.nX=!1;this.ue={};this.qE={};this.uP=this.SL(function(){var a;if(b.Da){a=b.lM();return a?a.totalVideoFrames:b.Da.webkitDecodedFrameCount;}});this.Iw=this.SL(function(){var a;if(b.Da){a=b.lM();return a?a.droppedVideoFrames:b.Da.webkitDroppedFrameCount;}});this.zG=this.SL(function(){var a;if(b.Da){a=b.lM();return a&&a.corruptedVideoFrames;}});this.vP=this.SL(function(){var a;if(b.Da){a=b.lM();return a&&U.Bf(a.totalFrameDelay*O.wj);}});this.Cga=function(){return b.li.jc(N.Xg.Upa);};this.Hj=new(y.da.get(X.rba))(this,this.G);r.config.oB&&(this.Cxa=new Promise(function(a){b.Hha=a;b.G.addEventListener(v.Ze,a);}));this.ya.trace("Created Media Element");this.addEventListener=this.li.addListener;this.removeEventListener=this.li.removeListener;this.Da=d(this.G.QC);this.sourceBuffers=this.Pn;}function d(a){var b,c;b=y.da.get(G.Xea).e4a();a=a.width/a.height*b.height;c=(b.width-a)/2;return r.config.Ngb?O.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):O.createElement("VIDEO","position:absolute;width:100%;height:100%");}function k(a){a.preventDefault();return!1;}function h(a,b){var c,d,g;c=a.target;c=c&&c.error;d=a.errorCode;g=c&&c.code;O.cb(g)||(g=d&&d.code);d=c&&c.msExtendedCode;O.cb(d)||(d=c&&c.systemCode);O.cb(d)||(d=a.systemCode);a=O.va({},{code:g,systemCode:d},{No:!0});b={S:b(g),Ga:W.q4(a)};try{c&&c.message&&(b.CH=c.message);}catch(qa){}d=O.ed(d);Y.aa(d)&&(b.xb=y.cja(d,4));return{FA:b,d8a:a};}Object.defineProperty(c,"__esModule",{value:!0});g=a(139);p=a(47);n=a(5);r=a(4);u=a(51);v=a(16);l=a(55);z=a(27);y=a(3);w=a(2);x=a(111);C=a(9);F=a(78);P=a(283);m=a(106);q=a(18);O=a(14);W=a(151);U=a(6);Y=a(15);X=a(316);N=a(173);G=a(323);ca=!!(U.ED&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);V=ca&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||U.DD);b.prototype.po=function(a){try{this.Da&&(this.Nfa=this.Da.currentTime);}catch(ba){this.ya.error("Exception while getting VIDEO.currentTime",ba);a&&this.gz(w.I.aHa,ba);}return U.Bf(this.Nfa*O.wj);};b.prototype.seek=function(a){var b;C.ha(!this.Mk);this.Aha();b=this.po(!0);if(!r.config.yRa&&U.xD(b-a)<=r.config.Fva)this.ya.trace("Seek delta too small",{currentTime:b,seekTime:a,min:r.config.Fva});else try{this.ya.trace("Setting video elements currentTime",{From:F.zg(b),To:F.zg(a)});this.Mk={};this.Da.currentTime=a/O.wj;this.li.jc(N.Xg.Yk);}catch(ma){this.ya.error("Exception while setting VIDEO.currentTime",ma);this.gz(w.I.bHa,ma);}};b.prototype.o4a=function(){return!!this.Mk;};b.prototype.addSourceBuffer=function(a){var c,d,h,k;function b(a){return c.LPa(h,c.G.ud,a);}c=this;d=O.ed(this.WW.toString()+this.Pn.length.toString());d={sourceId:this.WW,BN:d};h=y.da.get(x.Yy).KF(this.G.Xe.value.Ab);try{k=new g.Tba(this.G,a,b,this.Qe,d,this.ya);}catch(va){k=O.xc(va);this.ya.error("Unable to add source buffer.",{mime:b(a),error:k});this.G.Kh(new p.yj(w.I.bW,{S:a===y.Wf.$f.AUDIO?O.v.Gba:O.v.Hba,Ga:k}));return;}this.Pn.push(k);a==n.vD&&k.x1&&k.x1.addListener(this.Hha);return k;};b.prototype.jZ=function(a){for(var b=a.length,c=0;c<b;c++)this.addSourceBuffer(a[c]);this.li.jc(N.Xg.Iva);return!0;};b.prototype.removeSourceBuffer=function(a){for(var b=this.Pn.length,c=0;c<b;c++)z.hka(a,this.Pn[c])&&(this.Pn=this.Pn.splice(c,1));this.Qe.removeSourceBuffer(a);};b.prototype.endOfStream=function(){r.config.g_&&this.Qe.endOfStream();};b.prototype.zm=function(a){this.Pn=[];a&&a.Tyb();return!0;};b.prototype.kgb=function(a){this.WW=a;};b.prototype.zna=function(){if(this.Qe)return this.Qe.duration;};b.prototype.xgb=function(a){this.Qe&&(this.G.duration=1E3*a,this.G.G4=1E3*a,this.Qe.duration=a);};b.prototype.kZa=function(){var a;if(!this.nX&&this.Da&&2<=this.Da.readyState){a=this.Da.webkitDecodedFrameCount;if(void 0===a||0<a||r.config.Xkb)this.nX=!0;}return this.nX;};b.prototype.b2=function(){var a;a=this.nga();return!(!a||1!=a.constrictionActive);};b.prototype.open=function(){var a,b,c;a=this;this.G.addEventListener(v.oda,function(b){return a.yOa(b);});if(ca){if(this.G.iH){if(!V){this.ld(w.I.Dca);return;}if(U.DD&&U.DD.isTypeSupported&&this.Hj.Cd)try{if(!U.DD.isTypeSupported(this.Hj.Cd,"video/mp4")){this.aQa(function(b){a.ld(w.I.ZV,b);});return;}}catch(ja){this.gz(w.I.ZV,ja);return;}}try{this.Qe=new U.ED();}catch(ja){this.gz(w.I.SGa,ja);return;}try{this.dg=URL.createObjectURL(this.Qe);}catch(ja){this.gz(w.I.TGa,ja);return;}try{this.Hj.XQa(this.Cga);this.Qe.addEventListener("sourceopen",function(b){return a.dha(b);});this.Qe.addEventListener(this.CU+"sourceopen",function(b){return a.dha(b);});this.Da.addEventListener("error",this.ue.error=function(b){return a.DE(b);});this.Da.addEventListener("seeking",this.ue.seeking=function(){return a.xOa();});this.Da.addEventListener("seeked",this.ue.seeked=function(){return a.gY();});this.Da.addEventListener("timeupdate",this.ue.timeupdate=function(){return a.zOa();});this.Da.addEventListener("loadstart",this.ue.loadstart=function(){return a.fY();});this.Da.addEventListener("volumechange",this.ue.volumechange=function(b){return a.AOa(b);});this.Da.addEventListener(this.Hj.RH,this.ue[this.Hj.RH]=function(b){return a.sOa(b);});b=this.G.We;c=b.lastChild;c?b.insertBefore(this.Da,c):b.appendChild(this.Da);r.config.ula&&this.Da.addEventListener("contextmenu",k);if(this.G.Rg)try{this.Da.msAudioCategory="Other";}catch(ja){this.ya.error("videoElement.msAudioCategory threw an exception.");}this.Da.src=this.dg;l.Nd.addListener(l.IG,this.qE[l.IG]=function(){return a.cha();});this.cha();}catch(ja){this.gz(w.I.UGa,ja);}}else this.ld(w.I.Fca);};b.prototype.close=function(){var b;function a(){b.dg&&(b.Aha(),l.Nd.removeListener(l.IG,b.qE[l.IG]),b.KLa());}b=this;this.Da.removeEventListener(this.Hj.RH,this.ue[this.Hj.RH]);this.Da.removeEventListener("error",this.ue.error);this.Da.removeEventListener("seeking",this.ue.seeking);this.Da.removeEventListener("seeked",this.ue.seeked);this.Da.removeEventListener("timeupdate",this.ue.timeupdate);this.Da.removeEventListener("loadstart",this.ue.loadstart);this.Da.removeEventListener("volumechange",this.ue.volumechange);this.Hj.seb(this.Cga);this.Hj.sn?this.Hj.Mbb().then(function(){return a();}):a();this.Hj.aua&&clearTimeout(this.Hj.aua);};b.prototype.sOa=function(a){return this.Hj.hsa(a);};b.prototype.lM=function(){if(this.Da)return this.Da.getVideoPlaybackQuality&&this.Da.getVideoPlaybackQuality()||this.Da.videoPlaybackQuality||this.Da.playbackQuality;};b.prototype.DPa=function(){var a;a=this.G.oh;return(a=a&&a.errorCode)&&0<=[w.I.bL,w.I.KK].indexOf(a);};b.prototype.KLa=function(){var a;a=!1;r.config.Ncb&&this.DPa()&&(a=!0);r.config.y_&&!a&&(this.Da.removeAttribute("src"),this.Da.load&&this.Da.load());URL.revokeObjectURL(this.dg);r.config.ula&&this.Da.removeEventListener("contextmenu",k);!a&&this.Da&&this.G.We.removeChild(this.Da);this.Da=this.Qe=void 0;this.dg="";};b.prototype.cha=function(){!0===U.kd.hidden?this.RL.forEach(function(a){a.refresh();a.shb();}):this.RL.forEach(function(a){a.refresh();a.Hhb();});};b.prototype.SL=function(a){var c;function b(){var b;b=a();Y.aa(b)&&c.bRa(b);}c=new P.UFa();this.RL.push(c);c.refresh=b;return function(){b();return c.D2a();};};b.prototype.LPa=function(a,b,c){var d;switch(c){case y.Wf.$f.VIDEO:d=a;break;case y.Wf.$f.AUDIO:d="AAC"==b.value.C_?n.Hy:n.iEa;}return d;};b.prototype.gz=function(a,b){var c,d;c={S:O.v.ye,Ga:O.xc(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==d.length&&(c.xb=d);}catch(ka){}this.G.Kh(new p.yj(a,c));};b.prototype.Aha=function(){this.RL.forEach(function(a){a.refresh();});};b.prototype.nga=function(){return this.Da&&this.Da.msGraphicsTrustStatus;};b.prototype.ld=function(a,b,c){this.G.Kh(new p.yj(a,b,c));};b.prototype.aQa=function(a){var c,d;function b(d){b=O.Db;c.wf();a(d);}c=new m.$y(500,function(){b();});c.lo();try{d=this.G.Ni.value.dk.ryb.children.filter(function(a){return"pssh"==a.type&&a.QZa==n.pBa;})[0];new U.DD(this.Hj.Cd).createSession("video/mp4",d.raw,null).addEventListener(this.CU+"keyerror",function(a){a=h(a,y.Y$);b(a.FA);});}catch(ka){b();}};b.prototype.yOa=function(a){var b,d,g,h,k,p,f;if(this.Da){a=a.NJ;b=this.nga();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Da.readyState;a.currentTime=""+this.Da.currentTime;a.pbRate=""+this.Da.playbackRate;}catch(Fb){}for(var b=this.Pn.length,c;b--;){c=this.Pn[b];d="";c.type==n.uV?d="audio":c.type==n.vD&&(d="video");O.va(a,c.oP(),{prefix:d});r.config.o_a&&this.G.oh&&n.vD==c.type&&(d=O.XI(c.rv),3E3>(d.data&&d.data.length)&&(d.data=q.kVa(d.data).join(),O.va(a,d,{prefix:c.type})));}this.Qe&&(b=this.Qe.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(r.config.e8a)try{g=this.G.kh;h=g&&g.Fe;if(h){k=h.expiration;isNaN(k)||(a.exp=k);p=h.keyStatuses.entries();if(p.next){f=p.next().value;f&&(a.keyStatus=f[1]);}}}catch(Fb){}}};b.prototype.dha=function(a){this.MPa||(this.MPa=!0,this.li.jc(N.Xg.Jva,a));};b.prototype.xOa=function(){this.ya.trace("Video element event: seeking");this.Mk?this.Mk.dab=!0:(this.ya.error("unexpected seeking event"),r.config.M0a&&this.ld(w.I.gHa));};b.prototype.gY=function(){this.ya.trace("Video element event: seeked");this.Mk?(C.ha(this.Mk.dab),this.Mk.cab=!0,this.$ha()):(this.ya.error("unexpected seeked event"),r.config.L0a&&this.ld(w.I.fHa));};b.prototype.zOa=function(){this.Mk&&(this.Mk.fab=!0,this.$ha());this.li.jc(N.Xg.Yk);};b.prototype.fY=function(){this.ya.trace("Video element event: loadstart");};b.prototype.AOa=function(a){this.ya.trace("Video element event:",a.type);try{this.G.volume.set(this.Da.volume);this.G.muted.set(this.Da.muted);}catch(ba){this.ya.error("error updating volume",ba);}};b.prototype.DE=function(a){a=h(a,y.PBa);this.ya.error("Video element event: error",a.d8a);this.ld(w.I.$Ga,a.FA);};b.prototype.$ha=function(){this.Mk&&this.Mk.cab&&this.Mk.fab&&(this.Mk=void 0,this.li.jc(N.Xg.eC));};c.MEa=b;},function(f,c,a){var n,r,u,v,l,z,y,w;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function d(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function k(a,c,g){var h;if("string"===typeof a)return k.call(this,b(a),c,g);h=0;Object.keys(a).forEach(function(b){var k,p,f;k=l[b];p=a[b];if(k){if(f=z[b]||w[typeof n[k]])try{p=f(p);}catch(U){g&&g.error("Failed to convert value '"+p+"' for config '"+b+"' : "+U.toString());return;}f=v[k];this[k]=p;v[k]!==f&&(g&&g.debug("Config changed for '"+b+"' from "+d(f)+" ("+typeof f+") to "+d(p)+" ("+typeof p+")"),++h);}else c?(k=(k=y[b])?k.filter(function(a){return a[0]!==this;},this):[],k.push([this,p]),y[b]=k):g&&g.error("Attempt to change undeclared config option '"+b+"'");},this);h&&v.emit("changed");return h;}function h(){return Object.keys(l).reduce(function(a,b){var c,d;c=l[b];d=a[c];d?(d.push(b),a[c]=d.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function g(a,b){return a.hasOwnProperty(b)?d(a[b]):void 0;}function p(a,b){return"undefined"===typeof a?b:a;}c=a(38);a=a(24).EventEmitter;n={};r=Object.create(n);u=Object.create(r);v=Object.create(u);l={};z={};y={};v.declare=function(a){Object.keys(a).forEach(function(b){var c,d,g,h;c=a[b];d=c[0];g=c[1];h=c[2];if(n.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof d&&(d=[d]);d.forEach(function(a){var c;if(l.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");n.hasOwnProperty(b)||("function"===typeof g&&(g=g()),n[b]=g);l[a]=b;"function"===typeof h&&(z[a]=h);if(c=y[a])c.forEach(function(b){var c,d;c=b[0];d={};d[a]=b[1];k.call(c,d,!1);}),delete y[a];});});return v;};w={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};v.set=k.bind(r);v.vx=k.bind(u);v.dump=function(a,b){var k,f,w,x;function c(){x&&a&&a.log("===========================================");}k=Object.keys(y).sort();f={};w=h();b=p(b,!0);Object.keys(l).sort().forEach(function(h){var k,B,y;h=l[h];!f[h]&&(f[h]=!0,B=g(r,h),y=g(u,h),b||"undefined"!==typeof B||"undefined"!==typeof y)&&(k=w[h].join(","),k+=" = "+d(v[h])+" ("+typeof v[h]+") [",k+=p(y,"<unset>")+",",k+=p(B,"<unset>")+",",k+=g(n,h)+"]",x||(x=!0,a&&a.log("Current config values"),c()),a&&a.log(k));});(b||k.length)&&a&&a.log("<undeclared> :",k);c();};v.T_=function(a){var b,c;b={};c={};Object.keys(l).forEach(function(a){a=l[a];c[a]||(c[a]=!0,b[a]=v[a]);});a&&k.call(b,a);return b;};v.Jsa=function(){var a;a=h();return Object.getOwnPropertyNames(r).reduce(function(b,c){b[a[c][0]]=r[c];return b;},{});};v.reset=function(){Object.keys(r).forEach(function(a){delete r[a];});};v.Kk={};c(a,v);f.K=Object.freeze(v);},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(3);k=a(22);h={$a:{CLOSED:0,OPEN:1,AU:2,name:["CLOSED","OPEN","ENDED"]},tc:{ON:!0}};c.PEa=Object.assign(function(c){var g,f;g=a(70).platform;b.Gc("MediaSourceASE").trace("Inside MediaSourceASE");f=c.m2();this.readyState=h.$a.CLOSED;this.sourceBuffers=f.sourceBuffers;this.addSourceBuffer=function(a){return f.addSourceBuffer(a);};this.jZ=function(a){return f.jZ(a);};this.removeSourceBuffer=function(a){return f.removeSourceBuffer(a);};this.zm=function(a){return f.zm(a);};this.sourceId=g.DG();g.UG();this.duration=void 0;f.kgb(this.sourceId);this.readyState=h.$a.OPEN;this.tc=d.da.get(k.ze).nj(h.tc,{});},h);},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(5);k=a(26);c.XFa=function(){b.Gc("OpenConnectSideChannel");return{wG:function(a,b,c){k.Wb.hhb({url:a.url,sfb:c});},J8:d.Db};}();},function(f,c,a){var d,k,h,g,p;function b(a){var y;for(var b=h.qbb(a),c,f,n,l=0;l<b.length;l+=2){c=b[l];if("moof"!=c.type||"mdat"!=b[l+1].type)throw h.log.error("data is not moof-mdat box pairs",{boxType:c.type,nextBoxType:b[l+1].type}),Error("data is not moof-mdat box pairs");if(d.config.elb&&"moof"==c.type&&(f=c.Kq("traf/saio"),n=c.Kq("traf/"+k.Yya),f&&n&&(n=n.zSa.byteOffset-c.raw.byteOffset,f.Gua[0]!=n))){h.log.error("Repairing bad SAIO",{saioOffsets:f.Gua[0],auxDataOffsets:n});y=f;f=n;n=new g(y.raw);n.seek(y.size-y.xq);y=n.Dd(1);n.Dd(3)&1&&(n.Ba(),n.Ba());y=1<=y?8:4;n.Ba();n.Fxa(f,y);}if(d.config.i9&&"moof"==c.type&&(f=c.Kq("traf/tfhd"),(c=f.ila)&&c.jfb)){c=void 0;n=new g(f.raw);n.seek(f.size-f.xq);y=n.Dd(3);n.Ba();switch(f.type){case"tfhd":y&1&&n.sf();y&2&&n.Ba();y&8&&n.Ba();y&16&&n.Ba();y&32&&(c=n.ae(2));break;case"trex":n.Ba(),n.Ba(),n.Ba(),c=n.ae(2);}p.ha(c);c&&(c[1]&=254);}}return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);k=a(5);h=a(3);g=a(93);p=a(9);c.LEa=function(a){return b(new Uint8Array(a));};c.Irb=function(a){return b(a);};c.azb=b;},function(f,c,a){var b,d,k,h,g,p,n,r,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(176);d=a(140);k=a(4);h=a(72);g=a(262);p=a(17);n=a(3);r=a(14);u=a(26);c.v9a=function(){var f,l,y;function c(a,b,f){var r,w;function n(){a.removeEventListener(d.Ua.jd.Zu,n);a.mG?a.mG++:a.mG=1;a.mG>=k.config.k1.length&&(a.mG=k.config.k1.length-1);setTimeout(function(){c(a,b,f);},k.config.k1[a.mG]);}a.Axb=!0;r=l.download({url:a.url,responseType:u.YA,withCredentials:!1,sA:"media-request-download-service",offset:b.start,length:a.zh,track:{type:a.O===y.u.AUDIO?h.Cf.audio:h.Cf.video},stream:{vc:a.Za,L:a.L},wb:a.Rc,Di:a,o:a.Mb?void 0:g.LEa,JS:f},function(b){b.N&&a.readyState!==d.Ua.$a.DONE&&a.readyState!==d.Ua.$a.em&&(a.readyState!==d.Ua.$a.hm&&a.readyState===d.Ua.$a.ks&&(a.readyState=d.Ua.$a.js,a.t5({mediaRequest:a,readyState:a.readyState,timestamp:p.Ya(),connect:!1})),a.readyState=d.Ua.$a.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:p.Ya(),cadmiumResponse:b,response:b.content},a.AF=b,a.Gi(b));});if(a.Mb){w={mediaRequest:a,readyState:a.readyState,timestamp:p.Ya(),connect:!1};a.t5(w);}a.addEventListener(d.Ua.jd.Zu,n);a.Boa=r.abort;}f=n.Gc("mediaRequestDownloader");l=b.Uba();y=a(70).Pl;return{wG:c,XY:function(a){try{a.Boa();}catch(x){f.warn("exception aborting request");}},J8:r.Db};}();},function(f,c,a){var d,k,h,g,p,n,r,u,v,l,z,y,w,x,C,F,m,M,q,O,W,U,Y,X,N,G,ca,V,fa,ba,ma,ja,ka,qa,va,Va,A,D,Ga,S,Ca,Ka,aa,Z,la,yb,rb,ob,dc,sb,td,cb;function b(a,b,c,d,k){var n,u,B;function p(a){a.newValue!=sb.lm.dE&&a.newValue!=q.zp&&(n.Ac.removeListener(p),n.QMa=V.da.get(dc.Pi).fva,n.le.jc(q.xj));}function f(a){a.newValue!==sb.lm.dE&&(n.Ac.removeListener(f),n.ccb=G.eA());}n=this;this.M=a;this.Tc=b;this.mI=c;this.rB={};this.b7=this.E8=0;this.le=new F.di();this.NJ={};this.Lga=0;this.a8=!1;this.log=V.jf(this);this.index=q.$u.VHa+1;this.We=yb.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.KN=0<=D.q$.indexOf("cast")?V.da.get(fa.X9):void 0;this.Pla=this.Xj=!1;this.bd=new x.Hd(null);this.ud=new x.Hd(null);this.state=new x.Hd(q.Ty);this.Ic=new x.Hd(void 0);this.FR=new x.Hd(!1);this.paused=new x.Hd(!1);this.muted=new x.Hd(!1);this.volume=new x.Hd(C.config.GYa/100);this.playbackRate=new x.Hd(1);this.Ac=new x.Hd(sb.lm.dE);this.EN=new x.Hd(q.Nr);this.Il=new x.Hd(q.Nr);this.Mi=new x.Hd(q.Nr);this.Xe=new x.Hd(null);this.aq=new x.Hd(null);this.z8=new x.Hd(null);this.Ni=new x.Hd(null);this.Vz=new x.Hd(null);this.vh=new x.Hd(null);this.og=new x.Hd(null);this.Xz=new x.Hd(null);new x.Hd(null);this.b_=new x.Hd(void 0);this.NG=y.tCa(this);r.Uba(V.Gc("MediaHttp"));this.LSa=new N.Oya(this);this.Whb=this.Le=this.ja=-1;this.KQ=[];this.wb=[];this.QZ=[];this.csa=function(){n.W7();};this.oc=d||{};this.Ug=this.oc.Ug||0;this.$O=this.oc.$O;this.aP=this.oc.aP;u=new ca.ZD(1E3);C.config.$m&&t._cad_global.videoPreparer&&(this.ia=t._cad_global.videoPreparer.HG(a));this.ia||(q.$u.nW?(this.ia=q.$u.nW,q.$u.nW=void 0):this.ia=k.GF());this.jNa=V.da.get(cb.Pba);this.ira=V.da.get(td.qW);this.P5=this.ira.keb(this.ia,c);q.$u.aIa=this.ia;this.addEventListener=this.le.addListener;this.removeEventListener=this.le.removeListener;this.fireEvent=this.le.jc;this.zd=this.log.d0("Playback");this.O4=new O.REa(this);this.Ybb=h.PHa(this);this.H0=v.qIa();this.sH=C.config.wxa&&!(this.ia%C.config.wxa);this.Sh={MovieId:this.M,TrackingId:this.Ug,Xid:this.ia};q.$u.$Ha=this.log;q.hL||(q.$u.hL=this.log);this.zd.info("Playback created",this.Sh);this.sH?this.zd.info("Playback selected for trace playback info logging"):this.zd.trace("Playback not selected for trace playback info logging");C.config.$m&&t._cad_global.videoPreparer&&(t._cad_global.videoPreparer.j5a(this.M),this.addEventListener(q.xj,function(){t._cad_global.videoPreparer.k5a(n.M);n.bd.addListener(function(){t._cad_global.videoPreparer.doa();});n.ud.addListener(function(){t._cad_global.videoPreparer.doa();});}),this.addEventListener(q.Ze,function(){t._cad_global.videoPreparer.coa(n.M);}));this.state.addListener(function(a){n.zd.info("Playback state changed",{From:a.oldValue,To:a.newValue});va.ha(a.newValue>a.oldValue);});M.Nd.addListener(M.ck,this.csa,w.aL);this.Ic.addListener(function(){u.ib(function(){return n.yma();});});this.paused.addListener(function(a){var b;b=n.fb;!a.H$a&&b&&(!0===a.newValue?b.paused&&b.paused():b.Uwa&&b.Uwa());n.zd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:Va.zg(n.Ic.value)});});this.Ac.addListener(function(a){n.zd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Va.zg(n.Ic.value)},n.xB());});this.Ac.addListener(function(){n.FR.set(n.Ac.value===sb.lm.Oe);});this.EN.addListener(function(a){n.zd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Va.zg(n.Ic.value)},n.xB());});this.Il.addListener(function(a){n.zd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Va.zg(n.Ic.value)},n.xB());});this.Mi.addListener(function(a){n.zd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:Va.zg(n.Ic.value)},n.xB());});this.ud.addListener(function(a){va.ha(a.newValue);n.zd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.ej,To:a.newValue.ac},a.oldValue&&{FromBcp47:a.oldValue.ej,From:a.oldValue.ac},{MediaTime:Va.zg(n.Ic.value)});});this.Xe.addListener(function(){for(var a=n.Xe.value.Ab,b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].C5a=a[c+1];});this.bd.addListener(function(a){n.zd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.ej,To:a.newValue.ac}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.ej,From:a.oldValue.ac}:{From:"none"},{MediaTime:Va.zg(n.Ic.value)});});this.wb[ob.Pl.u.AUDIO]=new x.Hd(null);this.wb[ob.Pl.u.VIDEO]=new x.Hd(null);this.Ac.addListener(f,w.Ny);this.Ac.addListener(p);this.addEventListener(q.xj,function(){var a,b,c;n.a8=!0;n.Rsa=A.Fk(n.Lw());n.Pd("start");a=n.og.value;if(t._cad_global.prefetchEvents){b=ba.Hb(n.wo?n.wo.audio:0);c=ba.Hb(n.wo?n.wo.video:0);t._cad_global.prefetchEvents.gr(n.M,n.ia,n.HN,n.xja,n.Itb,b,c);}n.p6a=a.stream.L;});X.XHa(this);q.yp.push(this);C.config.DI&&(this.AR=new rb.jIa(this),this.gcb=new W.mIa(this));C.config.Jr&&g.Bh&&g.Bh.UTa(this.M)&&(this.Rg=!0,this.A5=g.Bh.pwb(this.M),this.Zra=g.Bh.mwb(),this.addEventListener(q.Ze,function(){g.Bh.coa(n.M);},w.aL),this.addEventListener(q.xj,function(){n.Zra&&(n.Pva=t.setTimeout(function(){g.Bh.bBb(n.M);},C.config.Bh.uhb));}),this.addEventListener(q.Ze,function(){n.Pva&&clearTimeout(n.Pva);}));q.jda.forEach(function(a){a(n);});this.hRa=function(a){n.addEventListener(q.pW,function(a){a.cause!==q.RD&&a.cause!==q.lW&&n.fb.stop();});n.addEventListener(q.oW,function(a){a.cause!==q.lW&&(C.config.s1a&&a.cause===q.mW&&n.tj.c_(),a.cause!==q.RD&&(a.skip?n.fb.Fja(a.lx)?(n.zd.trace("Repositioned. Skipping from "+a.YH+" to "+a.lx),n.fb.ln(a.lx),n.fb.play()):n.log.error("can skip returned false"):(n.zd.trace("Repositioned. Seeking from "+a.YH+" to "+a.lx),n.fb.seek(a.lx))));});a.addEventListener("segmentStarting",function(a){n.fireEvent(q.eIa,a);});a.addEventListener("lastSegmentPts",function(a){n.fireEvent(q.cIa,a);});a.addEventListener("segmentPresenting",function(a){n.fireEvent(q.dIa,a);});a.addEventListener("segmentAborted",function(a){n.fireEvent(q.bIa,a);});a.addEventListener("manifestPresenting",function(a){n.fireEvent(q.ZHa,a);});a.addEventListener("skip",function(a){n.fireEvent(q.pda,a);});a.addEventListener("error",function(a){var b;if("NFErr_MC_StreamingFailure"===a.error)if(n.zd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),n.zd.trace("StreamingFailure, buffer status:"+JSON.stringify(n.xB())),C.config.J0a&&!n.a8)S.bb(function(){n.Kh(new l.yj(ma.I.Sxa,{S:a.nativeCode,Ga:a.errormsg,mh:a.httpCode,bR:a.networkErrorCode}));});else{n.cT>=n.dJ.length&&(n.cT=n.dJ.length-1);b=n.dJ[n.cT];n.cT++;setTimeout(function(){n.fb&&n.fb.fMa&&n.fb.fMa.XB(!0);},b);}});a.addEventListener("headerCacheHit",function(){});a.addEventListener("maxvideobitratechanged",function(a){n.KQ.push(a);});a.addEventListener("bufferingStarted",function(){n.Il.set(q.Nr);});a.addEventListener("locationSelected",function(a){n.fireEvent(q.mda,a);});a.addEventListener("serverSwitch",function(a){var b;n.fireEvent(q.nda,a);"video"===a.mediatype?b=ob.Pl.u.VIDEO:"audio"===a.mediatype&&(b=ob.Pl.u.AUDIO);Ca.cb(b)&&n.ogb(a.server,b);});a.addEventListener("bufferingComplete",function(a){n.zd.trace("Buffering complete",{Cause:"ASE Buffering complete"},n.xB());n.$k=a.enableHindsightReport;n.nia=a.actualBW;n.H5a=a.histtd;n.Pwb=a.histage;n.woa=a.histDiscBW;n.Loa=a.initSelReason;n.aB=a.initBitrate;n.Koa=a.initSelDiscBW;n.mu=a.selector;n.cH=a.isConserv;n.ho=a.ccs;n.eQ=a.isLowEnd;n.nF=a.buffCompleteReason;n.Rg&&n.log.info("VC buffering complete, playback from video cache");n.Il.set(q.Ak);B||(B=!0,n.Pd("pb"));n.fb.play();});a.addEventListener("audioTrackSwitchStarted",function(){n.fb.pab();});a.addEventListener("audioTrackSwitchRejected",function(){n.fb.oab();});a.addEventListener("audioTrackSwitchComplete",function(){n.Pg.S$a();});a.addEventListener("endOfStream",function(a){n.Pg.r5(a);});a.addEventListener("createrequest",function(a){n.fireEvent(sb.Ha.zZ,a.mediaRequest);});a.addEventListener("asereportenabled",function(){n.Xj=!0;});a.addEventListener("asereport",function(a){n.fireEvent(q.gda,a);});a.addEventListener("aseexception",function(a){n.fireEvent(q.fda,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=Ca.aa(n.He)?0:n.He;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});n.Q2={Feb:c,T5a:a.hptwbr,Doa:a.htwbr,uR:a.pbtwbr};a.rr&&(n.Q2.Dua=a.rr);a.ra&&(n.Q2.vdb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;n.ja=a.location.bandwidth;n.Le=a.location.httpResponseTime;n.Whb=a.stat.streamingBitrate;n.cH=a.isConserv;n.ho=a.ccs;b&&(void 0===n.gw&&(n.gw={interval:C.config.Yz,startTime:b.startTime,ao:[],jp:[]}),n.gw.ao=n.gw.ao.concat(b.ao),n.gw.jp=n.gw.jp.concat(b.jp));a.psdConservCount&&(n.qta=a.psdConservCount);});C.config.yQa&&a.addEventListener("currentStreamInfeasible",function(a){n.jl.Tsb(a.newBitrate);});a.addEventListener("headerCacheDataHit",function(a){a.movieId==n.M&&(n.wo=a);});a.addEventListener("startEvent",function(a){t._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&t._cad_global.prefetchEvents.tF(ja.Kd.bi.MEDIA,n.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.AF&&a.AF.cadmiumResponse)&&n.fireEvent(sb.Ha.$F,a);});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===ob.Pl.u.VIDEO?(b=n.Xe.value.Ab,c=n.Ni):a.mediaType===ob.Pl.u.AUDIO&&(b=n.ud.value.Ab,c=n.Vz);(b=b.find(function(b){return b.vc===a.streamId;}))?c.set(b,{Tja:a.movieTime,GSa:a.bandwidth}):n.zd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=n.rB[a.target];c=Ca.aa(n.He)?n.He:0;b||(b=n.rB[a.target]={});Object.keys(a.fields).forEach(function(d){var g,h,k,n;g=a.fields[d];if("object"!==typeof g||null===g)b[d]=g;else{h=g.type;if("count"===h)void 0===b[d]&&(b[d]=0),++b[d];else if(void 0!==g.value)if("array"===h){h=b[d];k=g.adjust;n=g.value;h||(h=b[d]=[]);k&&0<k.length&&k.forEach(function(a){n[a]-=c||0;});h.push(n);}else"sum"===h?(void 0===b[d]&&(b[d]=0),b[d]+=g.value):b[d]=g.value;else b[d]=g;}});}});};this.ud.addListener(function(a){n.fb&&(a.reset?n.zd.trace("ASE previously rejected the audio track switch, resetted!"):n.fb.zib({Wz:a.newValue.bH,toJSON:function(){return a.newValue.Sh;}})?n.zd.trace("ASE accepted the audio track switch"):(n.zd.trace("ASE rejected the audio track switch"),n.ud.set(a.oldValue,{reset:!0})));});this.addEventListener(q.fL,function(a){a.cause==q.dda&&(n.EN.set(q.Nr),n.fb.Tjb(n.Pg.ona()));});}Object.defineProperty(c,"__esModule",{value:!0});d=a(179);k=a(142);h=a(177);g=a(80);p=a(119);n=a(174);r=a(176);u=a(258);v=a(257);l=a(47);z=a(482);y=a(269);w=a(5);x=a(175);C=a(4);F=a(51);m=a(256);M=a(55);q=a(16);O=a(88);W=a(255);U=a(254);Y=a(479);X=a(253);N=a(252);G=a(17);ca=a(90);V=a(3);fa=a(216);ba=a(7);ma=a(2);ja=a(110);ka=a(22);qa=a(155);va=a(9);Va=a(78);A=a(18);D=a(32);Ga=a(6);S=a(25);Ca=a(15);Ka=a(89);aa=a(251);Z=a(128);la=a(173);yb=a(14);rb=a(250);ob=a(70);dc=a(42);a(124);a(63);a(167);sb=a(33);td=a(196);cb=a(378);b.prototype.rP=function(a){var b;if(C.config.zO)return d.kw.yG(a);a=a||w.Db;b={success:!1,name:null,isCongested:null};a(b);return b;};b.prototype.Pd=function(a){this.P5.Ok(a);};b.prototype.e2a=function(){if(Ca.aa(this.$d.ats)&&Ca.aa(this.$d.at))return this.$d.at-this.$d.ats;};b.prototype.p2a=function(){var a,b;a=this.oy()||0;b=this.Yv()||0;return Ga.Af(a,b);};b.prototype.r3a=function(){if(Ca.aa(this.$d.shs)&&Ca.aa(this.$d.sh))return this.$d.sh-this.$d.shs;};b.prototype.US=function(){this.background||(this.zd.info("Starting inactivity monitor for movie "+this.M),new m.sDa(this));};b.prototype.close=function(a){a&&(this.state.value==q.SD?a():this.addEventListener(q.gL,function(){a();}));this.W7();};b.prototype.Kh=function(a,b){var c,d,g;c=this;if(this.state.value==q.Ty)this.oh||(this.oh=a,this.load());else{b&&(this.state.value==q.SD?b():this.addEventListener(q.gL,function(){b();}));d=function(){c.W7(a);};g=C.config.nla&&a&&C.config.nla[a.errorCode];Ca.Kt(g)&&(g=A.ed(g));this.zd.error("Fatal playback error",{Error:""+a,HandleDelay:""+g});0<=g?setTimeout(d,g):d();}};b.prototype.BJ=function(){this.le.jc(q.iIa);};b.prototype.u1a=function(){this.yma();};b.prototype.p2=function(){var a;a=this.fb;return a&&(a=a.la.Ii.na.id,void 0!==a)?a:null;};b.prototype.Kw=function(){return void 0!==this.tka&&void 0===this.fb?this.tka:this.yP(this.Ic.value);};b.prototype.o2=function(){return this.yP(this.Pg.ona());};b.prototype.pP=function(){var a;a=this.Ma.choiceMap;if(a)return a.segments;};b.prototype.bkb=function(a){this.oc=Z.x9a(this.oc,a);};b.prototype.xm=function(){var g,h,k,n;for(var a=this,b=void 0,c=a.Xe.value.Ab.filter(function(c){var d;d=a.O4.yr(c);d&&(b=b||[],b.push({stream:c,tA:d}));return!d;}),d=0;d<c.length;d++)c[d].lower=c[d-1],c[d].C5a=c[d+1];if(a&&a.fb){g=[];a.Xe.value.Ab.forEach(function(a){-1==g.indexOf(a.ve)&&g.push(a.ve);});h=null;k=null;c.forEach(function(a){null===h?k=h=a.L:k<a.L?k=a.L:h>a.L&&(h=a.L);});n=[];g.forEach(function(a){var c;c={ranges:[]};c.profile||(c.profile=a);h&&k&&(c.ranges.push({min:h,max:k}),b&&(c.disallowed=b.filter(function(b){return b.stream.ve===a;})),n.push(c));});a.fb.FS(n);}return c;};b.prototype.b3=function(a){var b;b=this;A.ic(a,function(a,c){b.P5.Ok(a,ba.Hb(c-b.He));});};b.prototype.L7=function(a){this.gy=a;};b.prototype.S6a=function(){return"trailer"===this.Tc;};b.prototype.cpa=function(){return!!this.Tc&&0<=this.Tc.indexOf("billboard");};b.prototype.W6a=function(){return!!this.Tc&&0<=this.Tc.indexOf("video-merch");};b.prototype.hB=function(){return this.S6a()||this.cpa()||this.W6a();};b.prototype.X1=function(){return Ca.aa(this.Ic.value)&&Ca.aa(this.Yv())&&Ca.aa(this.oy())?this.Ic.value+Ga.Af(this.Yv(),this.oy()):null;};b.prototype.l4a=function(){return{tr:this.E8,rt:this.b7};};b.prototype.Lq=function(a){return this.rB[a];};b.prototype.GTa=function(){return this.gy?G.Ya()-this.gy:G.eA()-this.kP();};b.prototype.MTa=function(){return this.gy?G.Ya()-this.gy:this.Lw();};b.prototype.LTa=function(){return this.gy?G.Ya()-this.gy:this.ccb-this.kP();};b.prototype.D$a=function(a){var b,c;b=this.He;c={};A.ic(a,function(a,d){c[a]=d.map(function(a){return a-b;});});return c;};b.prototype.n2a=function(){var a,b;a=this.He;b={};A.ic(this.QZ,function(c,d){b[c]=d.map(function(b){return b-a;});});return n.oq?{level:n.oq.vna(),charging:n.oq.Z1(),statuses:b}:null;};b.prototype.DP=function(){this.xma();return this.NJ;};b.prototype.kP=function(){var a;a=this.oc.vT;a=Ca.aa(a)?a:this.mI.pa(ba.Qa)+G.aka();va.ha(Ca.Jt(a));return a;};b.prototype.Lw=function(){return G.Ya()-this.mI.pa(ba.Qa);};b.prototype.Mgb=function(){this.NJ.HasRA=!0;};b.prototype.Skb=function(){this.ehb=!0;};b.prototype.Nra=function(){this.Vta();};b.prototype.oy=function(){var a;a=this.xN();return a&&a.vbuflmsec;};b.prototype.Yv=function(){var a;a=this.xN();return a&&a.abuflmsec;};b.prototype.Z8=function(){var a;a=this.xN();return a&&a.vbuflbytes;};b.prototype.CZ=function(){var a;a=this.xN();return a&&a.abuflbytes;};b.prototype.oR=function(a){this.Ma=a;this.re=a=this.jNa.create(this).oR(a);this.Xe.set(a.kla);this.ud.set(a.fla);this.bd.set(a.EYa);};b.prototype.Xwa=function(){var b,c,d,g;b=this;if(this.state.value==q.Gk){c={};this.tj=p.cj;(this.Rg||C.config.r1a)&&this.tj.c_();p.Pj.set(a(150)(C.config),!0,V.Gc("ASE"));C.config.nVa&&3E5>this.Ma.duration?p.Pj.vx({expandDownloadTime:!1},!0,this.zd):p.Pj.vx({expandDownloadTime:p.Pj.Jsa().expandDownloadTime},!0,this.zd);this.background||C.config.qcb&&"postplay"===this.Tc?p.Pj.vx({initBitrateSelectorAlgorithm:"historical"},!0,this.zd):p.Pj.vx({initBitrateSelectorAlgorithm:p.Pj.Jsa().initBitrateSelectorAlgorithm},!0,this.zd);g=this.Xe&&this.Xe.value&&this.Xe.value.Ab;g&&g.length&&(d=g[0].ve);p.Pj.vx(C.oka(this.oc.kf,d),!0,this.zd);c=V.da.get(ka.ze).nj(c,C.pka(this.Tc));this.Xhb=p.Pj.T_(c);ob.platform.events.emit("networkchange",this.re.jgb);this.tj.cxa({xm:function(){return b.xm();},DG:function(){return b.DG();},UG:function(){return b.UG();}});this.Xs=V.da.get(qa.$J).mZ({LC:ba.Hb(this.Xs),M:this.M,lI:ba.Hb(this.duration),oc:this.oc}).pa(ba.Qa);this.pcb();}};b.prototype.CXa=function(){var a,b,c,d;a=this;try{this.Xb=new u.MEa(this);this.Xb.open();b=new Promise(function(b){a.Xb.addEventListener(la.Xg.Jva,function(){b();});});this.Pg=new aa.OEa(this);this.IC=[this.re.xYa,this.re.FYa];c={yi:!1,OC:C.config.OC,AT:C.config.AO,y8a:!1,MN:!this.iH};this.cT=0;this.dJ=C.config.dJ;this.Ma.cdnResponseData&&(this.TN=this.Ma.cdnResponseData.pbcid,this.Ma.cdnResponseData.sessionABTestCell&&(this.ou=this.Ma.cdnResponseData.sessionABTestCell));d={Bx:this.log,jl:this.jl,sessionId:this.M+"-"+this.ia,ia:this.ia,tR:this.TN,Of:Ka.Mf?Ka.Mf.Of:void 0,vla:0===C.config.aG||0!==this.ia%C.config.aG?!1:!0};this.Pla=d.vla;this.fb=this.tj.pt(this.Ma,this.IC,this.Xs||0,c,d,void 0,{yd:function(){return a.Ic.value;},m2:function(){return a.Xb;}},this.Xhb);this.hRa(this.fb);b.then(function(){a.state.value!==q.Sy&&a.state.value!==q.SD&&a.fb.open();});this.Ic.set(this.Xs||0);this.ap=new z.aKa(this);C.config.K6&&(this.Bu=new Y.bKa(this));this.Ym=new U.SHa(this);this.US();q.kda.forEach(function(b){b(a);});this.L$a();}catch(ec){this.dn(ma.I.$Ca,{S:ma.v.ye,Ga:A.xc(ec)});}};b.prototype.M$a=function(){va.ha(this.state.value==q.Ty);this.log.G.He=this.He=G.Ya();G.ht();G.Ya();this.state.set(q.Gk);t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.dcb(this.M);};b.prototype.dn=function(a,b){this.done||(this.done=!0,this.Kh(new l.yj(a,b)));};b.prototype.W7=function(a){var b;b=this;if(this.state.value==q.Ty||this.state.value==q.Gk||this.state.value==q.km){this.zd.info("Playback closing",this,a?{ErrorCode:a.pO}:void 0);M.Nd.removeListener(M.ck,this.csa);this.oh=a;this.xma();this.fb&&this.fb.flush();try{this.le.jc(q.Ze);}catch(Sb){this.zd.error("Unable to fire playback closing event",Sb);}this.state.set(q.Sy);this.tka=this.Kw();this.Rxa();this.ehb||S.bb(function(){return b.Vta();});}};b.prototype.yma=function(){var a;a=this.Ic.value;this.m7a!=a&&(this.m7a=a,this.le.jc(q.qda));};b.prototype.yP=function(a){var b;a=void 0===a?null:a;b=this.fb;return Ca.aa(a)?b?b.jA(void 0,a):a:null;};b.prototype.Vta=function(){var a,b;a=this;va.ha(this.state.value==q.Sy);b=this.yQ;this.yQ=void 0;b?k.vC.release(b,function(b){va.ha(b.N);a.G_();}):this.G_();};b.prototype.Rxa=function(){this.fb&&(this.fb.close(),this.fb.Be());this.tj&&this.oh&&this.tj.c_();delete this.fb;delete this.tj;};b.prototype.G_=function(){var a;this.G_=w.Db;va.ha(this.state.value==q.Sy);a=q.yp.indexOf(this);va.ha(0<=a);q.yp.splice(a,1);this.state.set(q.SD);this.le.jc(q.gL,{},!0);this.le.vw();delete this.kh;this.ira.ueb(this.ia);};b.prototype.xma=function(){this.le.jc(q.oda,{NJ:this.NJ});};b.prototype.ogb=function(a,b){var c;c=this.Qj.filter(function(b){return b.id===a;})[0];c&&this.wb[b].set(c);};b.prototype.xB=function(){return{AudioBufferLength:this.Yv(),VideoBufferLength:this.oy()};};b.prototype.xN=function(){if(this.fb)return this.fb.l3(!1);};b.prototype.DG=function(){return this.Lga;};b.prototype.UG=function(){this.Lga++;};b.prototype.L$a=function(){this.state.value==q.Gk&&this.state.set(q.km);};oa.Object.defineProperties(b.prototype,{Roa:{configurable:!0,enumerable:!0,get:function(){return this.QMa;}},$d:{configurable:!0,enumerable:!0,get:function(){return this.P5.$d;}},bo:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.bo;}},py:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.py;}},Er:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.Er;}},ol:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.ol;}},Ve:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.Ve;}},iH:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.iH;}},hu:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.hu;}},Vj:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.Vj;}},Qj:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.Qj;}},jta:{configurable:!0,enumerable:!0,get:function(){return this.re&&this.re.jta;}}});c.G9=b;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);c.qU=function(a,c){this.HZa=a;this.size=c.ipa()?b.vg:c;};},function(f,c,a){var x,C,F,m,M,q,O,W;function b(a,b){var c,g,h;c=a[0];g={url:c.url,bitrate:c.L,cdnid:W.Ad(c.wb)?c.wb.id:c.wb,dltype:c.yZa,id:c.vc};h={};a.forEach(function(a){var b;b=z(a)?"fail":"success";h[b]||(h[b]=[]);h[b].push(a);});m.ic(h,function(a,c){"fail"===a?g.failures=v(c,b):"success"===a&&(g.downloads=d(c,b));});return g;}function d(a,b){var c,d;c={};a.forEach(function(a){var b;b=a.xUa;c[b]||(c[b]=[]);c[b].push(a);});d=[];m.ic(c,function(a,c){var g;g=[];c.forEach(function(c){g.push(c);r(c)&&(d.push(k(g,b,a)),g=[]);});0<g.length&&d.push(k(g,b,a));});return d;}function k(a,b,c){var v;for(var d=a.sort(function(a,b){return a.Pf.uf<b.Pf.uf?-1:a.Pf.uf>b.Pf.uf?1:0;}),k=d[0].Pf,f=k.requestTime,r=k.uf,k=k.nk,w=1;w<a.length;w++){v=a[w].Pf;v.requestTime<f&&(f=v.requestTime);v.uf<r&&(r=v.uf);v.nk>k&&(k=v.nk);}w=g(d);v=d[d.length-1];b={time:f-b,tcpid:c?parseInt(c):-1,tresp:r-f,first:w,ranges:p(d,w),dur:k-r,trace:n(a),status:u(v)};C.config.tO.length&&(b.servertcp=h(a));return b;}function h(a){var b;b=C.config.tO;return a.reduce(function(a,c){var d,g;d=[];if(c.hwa){g={};c.hwa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(g[a[0]]=a[1]);});b.forEach(function(a){d.push(g[a]);});}a.push(d);return a;},[]);}function g(a){var b;b=0;a.forEach(function(a){a.pr&&(b=O.Af(b,a.pr[0]));});return b;}function p(a,b){var c;c=[];a.forEach(function(a){a.pr?c.push([a.pr[0]-b,a.pr[1]-b]):c.push([0,-1]);});return c;}function n(a){var b,c;b=[];a.forEach(function(a){var d;a=a.Pf;if(c){d=a.requestTime-c.nk;0<d&&b.push([d,-2]);d=O.Ek(c.nk,a.requestTime);d=a.uf-d;0<d&&b.push([d,-3]);}b.push([a.nk-a.uf,a.xq||0]);c=a;});return b;}function r(a){if(a.S===M.v.Vr||a.S===M.v.Ru)return!0;}function u(a){if(a.N)return"complete";if(a.S===M.v.Vr)return"abort";if(a.S===M.v.Ru)return"stall";q.ha(!1,"download status should never be: other");return"other";}function v(a,b){var c;c=[];a.forEach(function(a){var d;d=a.Pf;a={time:d.uf-b,tresp:d.uf-d.requestTime,dur:d.nk-d.uf,range:a.pr,reason:l(a),httpcode:a.mh,nwerr:x.BFa(a.S)};c.push(a);});return c;}function l(a){return a.mh||a.S===M.v.mD?"http":a.S===M.v.nD?"timeout":"network";}function z(a){return a.N||void 0===a.N||a.S===M.v.Vr||a.S===M.v.Ru?!1:!0;}function y(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";}function w(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],m.ed(a);}Object.defineProperty(c,"__esModule",{value:!0});x=a(120);C=a(4);F=a(72);m=a(18);M=a(2);q=a(9);O=a(6);W=a(15);c.XUa=function(a){var c,d;c={};a.forEach(function(a){var b;b=a.url;c[b]||(c[b]=[]);c[b].push(a);});d=[];m.ic(c,function(a,c){d.push(b(c,0));});return{urls:d};};c.pub=b;c.hub=d;c.fub=k;c.mub=h;c.jub=g;c.kub=p;c.oub=n;c.qub=r;c.nub=u;c.iub=v;c.lub=l;c.rub=z;c.YUa=function(a){var b,c,d,g,h,k;b=a.request;c=b.stream;d=b.track;g=b.url;h=y(d,g);k=void 0;switch(h){case F.Cf.audio:case F.Cf.video:k=b.stream.vc;break;case F.Cf.mT:case F.Cf.L8:k=d.vc;}a={L:c&&c.L,yZa:h,vc:k,Pf:a.Pf,wb:b.wb,url:g,xb:a.xb,mh:a.mh,S:a.S,N:a.N,hwa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),xUa:w(a)};void 0!==b.offset&&void 0!=b.length&&(a.pr=[b.offset,b.offset+b.length-1]);return a;};c.gub=y;c.Dvb=w;},function(f,c,a){var d;function b(a){this.rZ=a.rZ;this.Wb=a.Wb;this.Na=a.Na;this.UQ=a.UQ;this.v3=!1;this.h_=[];this.log=a.log;a.SUa&&this.mva(a.SUa);this.Jpa()?this.TO():this.Nua();}Object.defineProperty(c,"__esModule",{value:!0});d=a(26);b.prototype.yG=function(a){var b;a=a||function(){};this.Jpa()?(b={success:!1,name:"",isCongested:!1},this.v3?this.h_.push(a):a(b)):(b={success:!0,name:this.Tw.Ria,isCongested:this.Tw.fpa},a(b));return b;};b.prototype.TO=function(){var a;a=this;this.v3=!0;this.Wb.download(this.$N(),function(b){var d;if(b.N)try{d=a.vbb(b.content);a.mva(d);a.Nua();a.g7({success:!0,name:a.Tw.Ria,isCongested:a.Tw.fpa});}catch(p){a.log.error("Response Processing Failed",p);a.g7({success:!1,name:"",isCongested:!1});setTimeout(a.TO.bind(a),c.gK.uua);}else a.log.error("HTTP Request Failed"),a.g7({success:!1,name:"",isCongested:!1}),setTimeout(a.TO.bind(a),c.gK.uua);a.v3=!1;});};b.prototype.g7=function(a){this.h_.forEach(function(b){b(a);});this.h_=[];};b.prototype.$N=function(){return{url:this.rZ,responseType:d.YA,withCredentials:!0,sA:"congestion-service"};};b.prototype.vbb=function(a){a=new Uint8Array(a);a=JSON.parse(String.fromCharCode.apply(null,a));return{N:a.success,etb:a.asnName,Ria:a.asnDisplayName,fpa:a.isCongested,tT:a.ttlEpoch};};b.prototype.Jpa=function(){return this.Tw&&this.Na.tP()<this.Tw.tT?!1:!0;};b.prototype.mva=function(a){var b;b=this.Na.tP();a.N&&(a.tT-b<1E3*this.UQ&&(a.tT=b+1E3*this.UQ),this.Tw=a);};b.prototype.Nua=function(){var a;a=this.Tw.tT-this.Na.tP()-6E4;0>a&&(a=0);setTimeout(this.TO.bind(this),a);};b.uua=6E4;c.gK=c.gK||b;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(17);d=a(3);k=a(356);h=a(21);g=a(14);c.wFa=function(a){var w,x;function c(a,b,c){return new Promise(function(d,g){w.send(a,b,!1,void 0).then(function(a){c?d(c(a)):d({N:!0});})["catch"](function(c){var d,h;try{d=JSON.stringify(c.bl);}catch(Y){}h={method:a.method,success:c.N};x.Zk(d)&&(h.errorData=d);x.Zk(c.S)&&(h.errorSubCode=c.S);x.Zk(c.xb)&&(h.errorExternalCode=c.xb);x.Zk(c.Ga)&&(h.errorDetails=c.Ga);x.Zk(c.Nf)&&(h.errorDisplayMessage=c.Nf);b.log.error("Processing EDGE response failed",h);c.__logs&&b.log.error(c.__logs);g(c);});});}function p(a){return c({method:"ping"},a);}function f(a){return c({method:"bind",isExclusive:!0},a,function(a){return{xub:a.customerGUID,N:!0};});}function v(a,b){return c({method:"pair",targetuuid:a.Fib,cticket:a.FXa,nonce:a.z$a,controlleruuid:a.dVa,pairdatahmac:a.Yyb},b,function(b){return{N:!0,zwb:{nonce:b.nonce,controlleruuid:a.dVa,controlleruserid:b.controllerUserId,controllersharedsecret:b.controllerSharedSecret,targetuuid:a.Fib,targetuserid:b.targetUserId,targetsharedsecret:b.targetSharedSecret},Awb:b.grantDataHmac};});}function l(a,b){f(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function z(b,c,d){v(b,c).then(function(a){d(a);})["catch"](function(b){var c,h;h="";if(b.bl)try{c=JSON.parse(b.bl);c.error_message?h=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(h=c.implementingClass);}catch(W){a.error("Failed to parse Pairing errorData",{bl:c});}g.va(b,y(h));d(b);});}function y(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{KO:5,MO:21,NO:void 0,Nf:void 0,LO:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{KO:2,MO:20,NO:void 0,Nf:void 0,LO:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{KO:2,MO:10,NO:void 0,Nf:void 0,LO:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{KO:2,MO:13,NO:void 0,Nf:void 0,LO:void 0};default:return{KO:4,MO:30,NO:void 0,Nf:void 0,LO:void 0};}}w=d.da.get(k.cca);x=d.da.get(h.fe);g.va(this,{Xw:function(a){return c({method:"login"},a,function(a){return{N:a.success,Us:a.accountGuid,Sg:a.profileGuid,Ci:a.isNonMember};});},SZ:f,zla:p,ping:function(a,b){p(a).then(function(a){b(a);})["catch"](function(a){b(a);});},Zub:function(a,b){a=Object.assign({},a);a.profile=void 0;l(a,b);},kx:l,kAb:function(a,b,c,d){l(Object.assign({kx:b,uS:c},a),d);},jAb:function(a,b,c,d){l(Object.assign({Bw:b,password:c},a),d);},cyb:z,dyb:function(a,b,c){var k;function g(d){z(a,b,function(a){a.N?(a.kx=d.kx,a.uS=d.uS,a.n$a=d.n$a,a.zfb=d.zfb,c(a)):c(d);});}function h(a){f(k).then(function(a){a.N?g(a):c(a);})["catch"](function(b){a?h(!1):c(b);});}k=Object.assign({Zqa:a.FXa,l9a:a.kzb,k9a:a.z$a,j9a:a.tub,m9a:d.Qk(a.lAb)},b);h(!0);},$Ab:function(a,b,c,d){x.Pz(c)&&!g.cb(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){l(Object.assign({q9a:"GOOGLE_JWT",Ewa:b,Sg:c},a),d);});},t4a:function(){return b.eA()+0;},vub:function(a){return a+0;},qwb:function(a,b){return c({method:"secret",dates:a},b,function(a){return{N:!0,uzb:a.prefetchKeys};});}});};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(33);d=a(26);c.tCa=function(a){function c(c){a.fireEvent(b.Ha.$F,c);}return{download:function(b,h){b.G=a;b=d.Wb.download(b,h);b.oia(c);return b;}};};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(4);d=a(5);k=a(17);h=a(2);g=a(6);p=a(15);f.Yd(h.I.Faa,function(a){var n,f,l,z,y;function h(){var a;a=g.An(k.Ya()/l);if(a!=y){for(var b=g.Af(a-y,30);b--;)z.push(0);(b=g.Ek(z.length-31,0))&&z.splice(0,b);y=a;}z[z.length-1]++;}n=b.config.C8a;f=-6/(n-2-2);l=d.wj;z=[];y=g.An(k.Ya()/l);p.npa(n)&&(setInterval(h,1E3/n),c.Bqa={l3a:function(){var c;for(var a=[],b=z.length-1;b--;){c=z[b];a.unshift(0>=c?9:1>=c?8:c>=n-1?0:g.Bf((c-2)*f+7));}return a;}});a(d.kb);});},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(272);d=a(3);k=a(385);h=a(22);c.Qhb=function(a){a({N:!0,storage:new b.qba(d.da.get(k.sba),d.da.get(h.ze))});};},function(f,c){function a(a,c){this.Yn=a;this.tg=c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.Yn.load(b).then(function(b){c&&c(a.bwa(b));})["catch"](function(a){c&&c(d.FA(b,a));});};a.prototype.save=function(b,c,k,h){var d;d=this;this.Yn.save(b,c,k).then(function(){h&&h(a.bwa({key:b,value:c}));})["catch"](function(a){h&&h(d.FA(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.Yn.remove(a).then(function(){c&&c({N:!0,wC:a});})["catch"](function(d){c&&c(b.FA(a,d));});};a.bwa=function(a){return{N:!0,data:a.value,wC:a.key};};a.prototype.FA=function(a,c){return{N:!1,wC:a,S:c.S,Ga:c.cause?this.tg.xc(c.cause):void 0};};c.qba=a;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(53);k=a(22);h=a(272);g=a(382);c.Phb=function(a){b.da.get(d.ul).create().then(function(c){a({N:!0,storage:new h.qba(c,b.da.get(k.ze)),Cq:b.da.get(g.B$)});})["catch"](function(b){a(b);});};},function(f,c,a){var b,d,k,h,g,p,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(181);d=a(9);k=a(3);h=a(2);g=a(5);a(18);p=a(284);n=a(25);c.Ohb=function(a){var r,l;function c(){c=g.Db;a({N:!0,storage:{load:function(a,c){f(a,function(d){b.R0a(r,a,function(a){var b,g;n.bb(d.releaseLock);if(a.N){b=a.text;try{b&&(g=JSON.parse(b));}catch(M){c({S:h.v.oJa});return;}g?c({N:!0,data:g,wC:a.q1}):c({S:h.v.zj});}else c(a);});});},save:function(a,c,d,g){var h,k;h=a.name||a;k=JSON.stringify(c);f(h,function(c){b.T0a(r,a,k,d,function(a){n.bb(c.releaseLock);a.N?g&&g({N:!0,wC:a.q1}):g&&g(a);});});},remove:function(a,c){f(a.name||a,function(d){b.S0a(r,a,function(a){n.bb(d.releaseLock);c&&c(a);});});}}});}function f(a,b){(l[a]||(l[a]=new p.LIa())).HQa(!0,b);}d.ha(b.UO);k.Gc("Storage");l={};b.Q0a(function(b){b.N?(r=b.nZa,c()):a(b);});};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);d=a(3);k=a(2);a(18);c.Rhb=function(a){var c;d.Gc("Storage");c={};a({N:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({N:!0,data:c[a],wC:a}):b({S:k.v.zj});},save:function(a,b,d,g){d&&c.hasOwnProperty(a)?g({N:!1}):(c[a]=b,g&&g({N:!0,wC:a}));},remove:function(a,d){delete c[a];d&&d(b.kb);}}});};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(4);d=a(5);k=a(2);h=a(9);g=a(3);p=a(6);f.Yd(k.I.Laa,function(a){var l,z,y;function n(){p.VK?p.VK.requestQuota(z,f,v):p.ica.requestQuota(p.PERSISTENT,z,f,v);}function f(b){b>=z?(c.I5=b,a(d.kb)):y?(l.error("Quota request granted insufficent bytes"),a({S:k.v.bea})):(y=!0,n());}function v(){l.error("Request quota error");a({S:k.v.aea});}l=g.Gc("RequestQuota");z=b.config.c8;0<z?(h.ha(p.VK||p.ica),n()):(c.I5=0,a(d.kb));});},function(f,c,a){var b,d,k,h,g,p,n,r,u,v,l,z,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(26);d=a(5);k=a(19);h=a(4);g=a(27);p=a(17);n=a(32);r=a(3);u=a(2);v=a(18);l=a(95);z=a(6);y=a(84);c.ojb=function(){var f,B;function a(a){var b,d,h;b="info";d="";h=r.da.get(l.ns).yna();a.N||(b="error",d+="&errorcode="+(a.errorCode||""),d+="&errorsubcode="+(a.S||""));d="type=startup&sev="+b+d+"&"+g.XH(v.va({},h,{prefix:"m_"}));c(d,f);}function c(a,c){c&&(a=B+"&jsoffms="+p.Ya()+"&do="+z.Yg.onLine+"&"+a+"&"+g.XH(v.va({},k.T3,{prefix:"im_"})),b.Wb.download({url:c,ata:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},sA:"track"},d.Db));}B="cat=cadplayback&dev="+encodeURIComponent(n.o$)+"&ep="+encodeURIComponent(n.Ye.BU)+"&ver="+encodeURIComponent("0.0012.893.010")+"&jssid="+p.Dy;r.Gc("TrackingLog");B+="&browserua="+z.Dh;k.Yd(u.I.Oaa,function(b){var c,p;f=r.da.get(y.Kr).host+h.config.F8;if(h.config.sT&&h.config.F8){h.config.vo&&(B+="&groupname="+encodeURIComponent(h.config.vo));h.config.Gr&&(B+="&uigroupname="+encodeURIComponent(h.config.Gr));c=B;p="";n.ei&&(p=v.va({},n.ei,{prefix:"pi_"}),p="&"+g.XH(p));B=c+p;k.pH(a);}b(d.kb);});return c;}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);c.Rjb=function(a,c){function d(a,c,d){var r,u,l,m;if(a&&1<a.length){for(var h=[],k=[],n=0;n<a.length;n++)h[n]=0,k[n]=0;for(var p=!1,n=0;n<a.length;n++)for(var f=n+1;f<a.length;f++){u=a[n];l=a[f];if(0>u.width||0>l.width||l.left>u.left+u.width||l.left+l.width<u.left||l.top>u.top+u.height?0:l.top+l.height>=u.top){r=b.Ek(u.left,l.left);m=b.Ek(u.top,l.top);r={width:b.Ek(b.Af(u.left+u.width,l.left+l.width)-r,0),height:b.Ek(b.Af(u.top+u.height,l.top+l.height)-m,0),x:r,y:m};}else r=void 0;if(r&&1<r.width&&1<r.height)if(m=r.width<=r.height,u=g(a[n]),l=g(a[f]),m&&c||!m&&!c)r=b.Ek(r.width/2,.25),u.x<=l.x?(k[n]-=r,k[f]+=r):(k[f]-=r,k[n]+=r);else if(m&&!c||!m&&c)u=b.Ek(r.height/2,.25),h[n]-=u,h[f]+=u;}for(n=0;n<a.length;n++){if(-.25>k[n]&&0<=a[n].left+k[n]||.25<k[n]&&a[n].left+a[n].width+k[n]<=d.width)a[n].left+=k[n],p=!0;if(-.25>h[n]&&0<=a[n].top+h[n]||.25<h[n]&&a[n].top+a[n].height+h[n]<=d.height)a[n].top+=h[n],p=!0;}return p;}}function g(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.Af(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.Af(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.Af(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.Af(a.top+a.height-c.height,a.top));});}(a,c));for(var k=0;50>k&&d(a,!0,c);k++);for(k=0;50>k&&d(a,!1,c);k++);return a;};},function(f,c,a){var d,k,h,g;function b(a,b){this.B1=a;this.Aw={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=d.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.pva(b);this.Dma=this.e3a(this.B1);}Object.defineProperty(c,"__esModule",{value:!0});d=a(14);k=a(278);h=a(280);g=a(6);b.prototype.d2=function(){return this.element;};b.prototype.lgb=function(a){this.BZ=a;};b.prototype.rgb=function(a){this.pd=a;this.CI();};b.prototype.tgb=function(a){this.pva(a);this.CI();};b.prototype.CI=function(){var a,c,g,f,v,l,z,y,w,x,C,m,M,q;a=this;c=this.d2();g=c.parentElement;f=g&&g.clientWidth||0;v=g&&g.clientHeight||0;l=g=0;z={width:f,height:v};if(0<f&&0<v&&this.pd){this.BZ&&(z=d.ZO(f,v,this.BZ),g=Math.round((f-z.width)/2),l=Math.round((v-z.height)/2));y=this.OTa(z);x=d.ZO(y.width,y.height,this.BZ);y=(w=this.pd.blocks)&&w.map(function(c){var g;g=h.cma(c,x,a.B1,a.Dma);c=h.e0a(c)+";position:absolute";return d.createElement("div",c,g,b.dU);});}Object.assign(this.Aw,{left:g+"px",right:g+"px",top:l+"px",bottom:l+"px"});c.style.display="none";c.style.direction=this.Aw.direction;c.innerHTML="";if(y&&y.length){f=z.width;g=z.height;C=z;this.lja&&(C=this.EQa(z,this.lja,v,l));this.Aw.margin=this.Wq?this.IN(z,"top")+"px "+this.IN(z,"right")+"px "+this.IN(z,"bottom")+"px "+this.IN(z,"left")+"px ":void 0;y.forEach(function(a){return c.appendChild(a);});v=d.FF(this.Aw);c.style.cssText=v+";visibility:hidden;z-index:-1";for(var l=[],F=y.length-1;0<=F;F--){m=y[F];M=w[F];q=this.Kra(m,M,f,g);q.width>f&&(m.innerHTML=h.cma(M,z,this.B1,this.Dma,f/q.width),q=this.Kra(m,M,f,g));l[F]=q;}l=k.Rjb(l,C);if(F=w&&w[0]&&w[0].textNodes&&w[0].textNodes[0]&&w[0].textNodes[0].style)C=F.windowColor,F=F.windowOpacity,C&&0<F&&(z=h.g0a(w,l,Math.round(g/50),C,z),z=d.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+F,z,b.dU),c.insertBefore(z,c.firstChild));c.style.display="none";for(z=l.length-1;0<=z;z--)C=y[z].style,F=h.f0a(w[z].region,l[z],f,g,0),Object.assign(C,F);c.style.cssText=v;}};b.prototype.UI=function(a){this.lja=a;this.CI();};b.prototype.VI=function(a){this.Wq=a;this.CI();};b.prototype.GG=function(){return"block"===this.Aw.display;};b.prototype.WI=function(a){a=a?"block":"none";this.element.style.display=a;this.Aw.display=a;};b.prototype.e3a=function(a){var b,c;b=this;c={};d.ic(a,function(a,d){c[a]=b.p9a(d);});return c;};b.prototype.pva=function(a){this.Aw.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.IN=function(a,b){if(this.Wq){if("left"===b||"right"===b)return a.width*(this.Wq[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Wq[b]||0);}return 0;};b.prototype.OTa=function(a){return this.Wq?{height:a.height*(1-(this.Wq.top||0)-(this.Wq.bottom||0)),width:a.width*(1-(this.Wq.left||0)-(this.Wq.right||0))}:a;};b.prototype.p9a=function(a){var c;a=d.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.dU);g.kd.body.appendChild(a);c={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};g.kd.body.removeChild(a);return c;};b.prototype.Kra=function(a,b,c,d){var g,h,k,n,f;g=b.region;h=(g.marginTop||0)*d;k=(g.marginBottom||0)*d;n=(g.marginLeft||0)*c;f=(g.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(g.verticalAlignment){case"top":d=h;break;case"center":d=(h+d-k-a)/2;break;default:d=d-k-a;}switch(g.horizontalAlignment){case"left":c=n;break;case"right":c=c-f-b;break;default:c=(n+c-f-b)/2;}return{top:d,left:c,width:b,height:a};};b.prototype.EQa=function(a,b,c,d){return{height:c-Math.max(d,b.bottom|0)-Math.max(d,b.top|0),width:a.width};};b.dU={"class":"player-timedtext-text-container"};c.$Ja=b;},function(f,c,a){var p,n,r,u;function b(a,b,c,d,g){var h;h={};"right"==a.horizontalAlignment?h.right=100*(c-b.left-b.width-g)/c+"%":h.left=100*(b.left-g)/c+"%";"bottom"==a.verticalAlignment?h.bottom=100*(d-b.top-b.height-g)/d+"%":h.top=100*(b.top-g)/d+"%";return h;}function d(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function k(a,b,c,d,g){var k,n;k=a.style;n=r.V2(a.text);for(a=a.lineBreaks;a--;)n="<br />"+n;return h(n,k,b,c,d,g);}function h(a,b,c,h,k,f){var r;r=b.characterStyle;k=k[r];h=b.characterSize*h.height/((0<=r.indexOf("MONOSPACE")?d(k,b.cellResolution)||k.lineHeight:k.lineHeight)||1);h=0<f?u.An(h*f):u.Bf(h);f={"font-size":h+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(f["font-style"]="italic");b.characterUnderline&&(f["text-decoration"]="underline");b.characterColor&&(f.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(f["background-color"]=g(b.backgroundColor,b.backgroundOpacity));h=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case n.B5:f["text-shadow"]=h+" 0px 0px 7px";break;case n.Csa:f["text-shadow"]="-1px 0px "+h+",0px 1px "+h+",1px 0px "+h+",0px -1px "+h;break;case n.ibb:f["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case n.gbb:f["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}f=p.FF(f);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(f+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+f+'">'+a+"</span>";}function g(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(c,"__esModule",{value:!0});p=a(27);n=a(207);r=a(18);u=a(6);c.cma=function(a,b,c,d,g){var h;h="";a.textNodes.forEach(function(a){h+=k(a,c,b,d,g);});return h;};c.g0a=function(a,c,d,g,h){var k,n,p,w,v;k="";n=h.width;h=h.height;for(var f=c.length;f--;){p=c[f];w=a[f];w=w&&w.region;v="position:absolute;background:"+g+";width:"+u.Bf(p.width+2*d)+"px;height:"+u.Bf(p.height+2*d)+"px;";r.ic(b(w,p,n,h,d),function(a,b){v+=a+":"+b+";";});k+='<div style="'+v+'"></div>';}return k;};c.f0a=b;c.svb=d;c.uvb=k;c.rvb=h;c.tvb=g;c.e0a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return p.FF(b);};},function(f,c,a){var d;function b(a,b){var c;c=this;this.Ana=a;this.bsa=b;this.B8=!1;this.cr=function(){c.uk=void 0;c.update();};}Object.defineProperty(c,"__esModule",{value:!0});d=a(14);b.prototype.update=function(a){var b,c,k;b=this.Ana();if(this.fxa!==b){d.cb(b)&&d.cb(this.duration)&&b<this.duration&&this.entries&&(k=this.Hra||this.entries[Math.floor(b*this.Yib)]||this.entries[0]);if(k){for(;k&&k.endTime<b;)k=k.next;for(;k&&k.previous&&k.previous.endTime>=b;)k=k.previous;}k&&(k.startTime<=b&&b<=k.endTime?(c=k,this.bxa(k.endTime-b)):this.bxa(k.startTime-b));this.Hra=k;this.fxa=b;this.cZ!==c&&(this.cZ=c,!a&&this.bsa&&this.bsa());}};b.prototype.start=function(){this.B8=!0;this.update();};b.prototype.qva=function(a){this.Hra=this.cZ=this.fxa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(zb(a.map(function(a){return a.endTime;}))))||0;this.Yib=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.B8=!1;this.wf();};b.prototype.W1a=function(){this.update(!0);return this.cZ;};b.prototype.bxa=function(a){this.wf();this.B8&&0<a&&(this.uk=setTimeout(this.cr,a+b.kFa));};b.prototype.wf=function(){this.uk&&(clearTimeout(this.uk),this.uk=void 0);};b.kFa=10;c.cKa=b;},function(f,c,a){var h;function b(a,b,c){b=b||0;c=c||a.length;for(var g,h=b,k,n,f,p={};h<b+c;){g=a[h];k=g&7;n=g>>3;f=d(a,h);if(!f.count)throw Error("Parsing error. bytes length is 0 for the tag "+g);h+=f.count+1;2==k&&(h+=f.value);p[n]={Kvb:n,ZBb:k,value:f.value,count:f.count,start:f.start};}return p;}function d(a,b){var c,d,g,k,f,p,l,w;c=b+1;d=a.length;g=c;k=0;f={};p=[];w=0;if(c>=d)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+d);for(;g<d;){k++;c=a[g];l=c&127;p.push(l);if(!(c&128))break;g++;}h.ha(p.length);for(a=p.length-1;0<=a;a--)w<<=7,w|=p[a];f.count=k;f.value=w;f.start=b+k+1;return f;}function k(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(c,"__esModule",{value:!0});h=a(9);c.O6a=function(a){a=b(a);if(1==k(a,1)&&a[5]&&a[5].value)return!0;};c.Bxb=function(a){var c;c=b(a);if(2==k(c,1)&&(a=b(a,c[2].start,c[2].value),k(a,5)))return!0;};c.Evb=b;c.rwb=d;c.swb=k;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(14);d=a(15);c.UFa=b;f.va(b.prototype,{GP:!1,CC:0,wJ:0,PP:0,RG:!1,QP:0,bRa:function(a){d.aa(a)&&(a<this.CC&&(this.wJ+=this.CC),this.CC=a,this.GP=!0);},D2a:function(){if(this.GP)return this.RG?this.QP-this.PP:this.wJ+this.CC-this.PP;},shb:function(){this.RG||(this.GP&&(this.QP=this.wJ+this.CC),this.RG=!0);},Hhb:function(){this.RG&&(this.GP&&(this.PP+=this.wJ+this.CC-this.QP),this.QP=0,this.RG=!1);}});},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);d=a(14);k=a(25);c.LIa=function(){var f,n,r,u;function a(a){var d;d=f.indexOf(a);0<=d?f.splice(d,1):a==n?n=void 0:b.ha(!1,"lock released without being acquired");k.bb(c);}function c(){for(var b=0,c,d;!n&&(c=r[b]);){if(0>=f.length||!c.zpa)r.splice(b,1),d=u++,c.zpa?n=d:f.push(d),c.STa({N:!0,Sxb:d,releaseLock:function(){a(d);}});b++;}}f=[];r=[];u=1;d.va(this,{HQa:function(a,b){r.push({zpa:a,STa:b});c();},releaseLock:a});};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);d=a(6);c.Frb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};c.Erb=function(a,c,d){d=b.$c(d)?d:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+d.length-c))+d;};c.LJa=function(a,b){var h;for(var c=1;c<arguments.length;++c);h=d.slice.call(arguments,1);a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof h[b]?h[b]:a;});};c.Grb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};c.NBb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(f){function c(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}f.K=function(a){var h,g,f;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,c,d){var h;h=g[a];"undefined"!==typeof h?h(c)||b(a,c,d):a!==typeof c&&b(a,c,d);}function k(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===f.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===f.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var g;g=c[b];if("string"===typeof a)d(a,g,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],g[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}h="number boolean string object function symbol".split(" ");g={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!c(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof g[b]||-1<h.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);g[b]=a[b];});}f=Object.keys(g).concat(h);return k(["array","function"],k);};},function(f){f.K={sS:function(c,a){var b,d,k;b=a.profile;a=a.M;d=c.ufb;k=c.vfb;return c.sS||Array.isArray(d)&&-1!==d.indexOf(b)||"object"===typeof k&&Array.isArray(k[b])&&-1!==k[b].indexOf(+a);}};},function(f,c,a){var h,g,p;function b(a,b,c){this.nI=b;this.Rk=c;this.su=this.TP=this.uR=this.Fsa=this.Esa=this.EB=this.Bc=this.icb=this.Rk=this.Zo=this.Pa=this.X=this.LJ=this.U=this.Voa=this.JZ=void 0;}function d(a,b,c){this.ca=b;this.rpa=c;this.Pia=this.Axa=this.ZY=this.LJ=this.DQ=this.xt=void 0;}function k(a,c,d,g,k){var f;f=new b(0,c,a.Rk);a.forEach(function(a){var b,d;b=a.buffer;d=b.U;a.O===h.u.AUDIO?f.JZ=d.length?d[0].L:void 0:a.O===h.u.VIDEO&&(f.Voa=d.length?d[0].L:void 0,f.U=d,f.LJ=b.fj-b.we,f.X=b.we,f.Pa=b.Pa,f.Zo=a.sk,f.Rk=a.Rk,f.icb=c-a.Rk,f.Bc=a.Bc.filter(function(a){return p(a);}),f.EB=d.filter(function(a){return f.X<=a.QB;}).length);});this.Wx=f;this.Cw=void 0;this.PXa=g;this.eTa=k;this.w6=this.UR=this.psa=this.ep=this.Sz=this.sma=this.MJ=this.Bc=this.Cw=void 0;}h=a(13);c=a(37);g=c.assert;p=c.Sw;b.prototype.constructor=b;d.prototype.constructor=d;k.prototype.constructor=k;k.prototype.$0a=function(a,b){var c,g,k,f,n,p,r,l,F,m,M,q,O,W,t,X,N,G,ca,V,fa;c=this.Wx;g=[];f=a[h.u.VIDEO];n=a[h.u.AUDIO];if(void 0===f||void 0===n)return!1;p=f.buffer;r=n.buffer;l=f.headers;F=c.Bc.filter(function(a){return l&&l[a.id]&&l[a.id].U;});if(void 0===p||void 0===r||void 0===l||void 0===F||0===F.length)return!1;k=new d(0,f.we,b===h.wa.hs);m=0;M=0;q=0;W=c.X;a=a[h.u.VIDEO].we;t=c.U;O=c.EB;for(var Y=0;Y<O;Y++){X=t[Y];N=X.offset;G=X.offset+X.ga-1;V=X.Eq;ca=X.nr;fa=ca+V;X&&ca<=a&&fa>W&&(V=X.Eq,ca=Math.min(V,Math.min(a,fa)-Math.max(ca,W)+1),q+=ca,m+=ca/V*(G-N+1),M+=X.L*ca);}c.Esa=m;c.Fsa=q;c.uR=0<q?M/q:0;c.TP||(c.TP=0,F.some(function(a,b){if(a.L===c.Voa)return c.TP=b,!0;}));F.forEach(function(a){var b,d;a=l[a.id].U;b=[];c.su||(c.su=a.Zj(c.X,void 0,!0));k.xt||(k.xt=a.Zj(k.ca,void 0,!0),k.DQ=a.length-1);c.Zo!==c.su+c.EB&&(c.Zo=c.su+c.EB);O=Math.min(k.DQ,k.xt+1);for(var h=c.su;h<=O;h++)d=a.get(h),b[h]=d;g.push(b);});b===h.wa.hs&&(k.LJ=p.fj-p.we,k.ZY=r.fj-r.we,k.Axa=f.Kta,k.Pia=n.Kta);this.Cw=k;this.Bc=F;this.MJ=g;return this.sma=!0;};k.prototype.Lq=function(){var a,b,c,d,h,k,f,p;if(this.rB)return this.rB;c=this.ep;a=this.Wx;d=this.Cw;h=this.Bc;g(void 0!==c,"throughput object must be defined before retrieving the logdata from PlaySegment");b=c.trace&&0===c.trace.length||void 0===c.timestamp?d.rpa?{Qw:!1,nx:!0,dR:!0}:d.xt-a.su+1<=a.EB?{Qw:!0,nx:!0,dR:!0}:{Qw:!0,nx:!1,dR:!0}:this.psa;a={f:b&&b.Qw||!1,bst:a.Rk,pst:a.nI,s:a.su,e:d.xt,prebuf:a.EB,brsi:a.Zo,pbdlbytes:a.Esa,pbdur:a.Fsa,pbtwbr:a.uR};this.w6&&(a.rr=this.w6);this.UR&&(a.ra=this.UR);if(!b.nx&&b.QS&&(a.dltwbr=b.xZa,a.dlvdur=b.AZa,a.dlvbytes=b.zZa,a.dlabytes=b.wZa,this.PXa)){c=b.QS.filter(function(a){return a;}).map(function(a){return a.Rf;});k=0;f=[];a.bitrate=h.map(function(a){return a.L;});c.forEach(function(a){f.push(a-k);k=a;});a.strmsel=f;c=this.ep;h=c.trace;p=[];k=0;h.forEach(function(a){a=Number(a).toFixed(0);p.push(a-k);k=a;});a.tput={ts:c.timestamp,trace:p,bkms:c.fw};}b.dR&&(a.nt=b.dR);b.nx&&(a.nd=b.nx);return this.rB=a;};f.K=k;},function(f,c,a){var k,h,g,p,n,r;function b(a,b,c,d){p(!k.R(d),"Must have at least one selected stream");return new r(d);}function d(a,b,c,d){p(!k.R(d),"Must have at least one selected stream");return new r(d);}k=a(8);c=a(37);h=c.console;g=c.debug;p=c.assert;n=c.Sw;r=c.mm;f.K={STARTING:function(a,b,c){var k,f,p;function d(c,d){var k,f,n,p;k=c.id;f=c.L;n=c.ja||0;p=!!n;g&&h.log("Checking feasibility of ["+d+"] "+k+" ("+f+" Kbps)");if(!c.Te)return g&&h.log("  Not available"),!1;if(!c.inRange)return g&&h.log("  Not in range"),!1;if(c.qh)return g&&h.log("  Failed"),!1;if(f>a.wH)return g&&h.log("  Above maxInitAudioBitrate ("+a.wH+" Kbps)"),!1;if(!(f*a.SQ/8<b.buffer.ft))return g&&h.log("  audio buffer too small to handle this stream"),!1;if(p){g&&h.log("  Have throughput history = "+p+" : available throughput = "+n+" Kbps");if(f<n)return g&&h.log(" +FEASIBLE: bitrate less than available throughput"),!0;g&&h.log(" bitrate requires more than available throughput");return!1;}c=a.HH;b.o3&&(c=Math.max(c,a.GH));if(f<=c)return g&&h.log("  Bitrate is less than max of minInitAudioBitrate ("+a.HH+" Kbps) "+(b.o3?" and also minHCInitAudioBitrate ("+a.GH+" Kbps)":"")),g&&h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;g&&h.log("  No throughput history");return!1;}k=new r();for(p=c.length-1;0<=p;--p){f=c[p];if(d(f,p)){k.Rf=p;break;}n(f)&&(k.Rf=p);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:d,PAUSED:d};},function(f,c,a){f.K=a(541);},function(f,c,a){f.K=a(542);},function(f){f.K={aoa:function(c){var a;if(c&&0!==c.length){a=[];c.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.II.push(b.Ki):a.push({error:b.error,II:[b.Ki]});});return a;}},ina:function(c){var a;a={freeSize:c.Oh,dailyBytesRemaining:c.oA,bytesWritten:c.ih,time:c.time,duration:c.duration};c.items&&(a.items=c.items.map(function(a){return{key:a.key,operation:a.pe,itemBytes:a.iQ,error:a.error};}));return a;},kr:function(c){return c["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(f,c,a){var h,g;function b(a,b,c,d,g,h){return new k(a,b,c,d,g,h);}function d(a){return a&&0<=a.indexOf(".__metadata__");}function k(a,b,c,d,g,h){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=d;this.creationTime=g;this.lastRefresh=h;return this.Fwa();}h=a(8);g=a(104);a(103);new g.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=g.time.now();return this.Fwa();};k.prototype.uva=function(a){this.size=a;};k.prototype.mka=function(){var a;a=g.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};k.prototype.Fwa=function(){this.lastMetadataUpdate=g.time.now();return this;};k.prototype.constructor=k;f.K={create:b,N1:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!h.R(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!h.R(c.size)&&0<=c.size&&a.uva(c.size),a.mka(),a.convertToBinaryData=c.convertToBinaryData,a;},$_:function(a){return a+".__metadata__";},PO:function(a){return d(a)?a.slice(0,a.length-13):a;},dB:d};},function(f,c,a){var z,y,w,x,C,F,m,M,q,O,W,t,Y;function b(){}function d(a,c){var d,g,h,k;d=z.rb(c)?c:b;this.H=a||{};(function(a,b,c){this.ah[a].Mc[b]=c;}.bind(this));(function(a,b){return this.ah[a].Mc?this.ah[a].Mc[b]:void 0;}.bind(this));this.on=this.addEventListener=t.addEventListener;this.removeEventListener=t.removeEventListener;this.emit=this.Ea=a.ovb?t.Ea:b;g=x.cXa(a);h=this.H.dailyDiskCacheWriteLimit;if(g){this.Gn=g;k=u(a.L4||Y,x.R2a());this.Zp=function(a){return z.R(k)||null===k?!1:!z.R(k[a]);};k?(this.ah={},c=y.Promise.all(Object.keys(k).map(function(b){return new y.Promise(function(c){var d;d=k[b];d.oxa=a.oxa;new C(b,g,d,function(a){c(a);},h);});})).then(function(a){a.map(function(a){var b;b=a.Is;this.ah[b]=a;k[b].F1a=k[b].ft-a.Yp;this.ah[b].on(C.jd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ea("mediacache",a);}.bind(this));this.ah[b].on(C.jd.Vea,function(a){a=a||{};a.partition=b;a.type="save";this.Ea("mediacache",a);}.bind(this));this.ah[b].on(C.jd.ERROR,function(a){a=a||{};a.partition=b;a.type=C.jd.ERROR;this.Ea("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this),function(a){this.Gt=O.gU;d(a,this);}.bind(this)).then(function(a){n(g,y.storage.Ky,Object.keys(k));return a;}.bind(this)).then(function(a){a.Ksb=k;Object.keys(a.ah).map(function(b){a.ah[b].g2().map(function(c){a["delete"](b,c);});});a.Km=!0;d(null,a);}.bind(this))["catch"](function(a){w.error("Failed to initialize media cache ",a);this.Gt=O.gU;d(this.Gt,this);}),W.kr(c)):(this.Gt=O.kDa,d(this.Gt,this));}else this.Gt=O.gU,d(this.Gt,this);}function k(a,b,c,d,g,h){var k;k=h?"mediacache-error":"mediacache";b={partition:c,type:b,resource:d,time:y.time.now()};h&&(b.error=h);g&&(z.aa(g.duration)&&(b.duration=g.duration),z.aa(g.rq)&&(b.bytesRead=g.rq));try{a.Ea(k,b);}catch(ma){w.warn("caught exception while emitting basic event",ma);}}function h(a,b,c,d,g){var h;h=g?"mediacache-error":"mediacache";b={partition:c,type:b,resources:d,time:y.time.now()};g&&(b.error=g);try{a.Ea(h,b);}catch(ba){w.warn("caught exception while emitting basic event",ba);}}function g(a){return!z.R(a)&&!z.Ja(a)&&z.aa(a.lifespan);}function p(a){return!F.dB(a)&&!M.I6a(a);}function n(a,c,d){a.query(c,"",function(g){Object.keys(g).filter(function(a){return 0>d.indexOf(a.slice(0,a.indexOf(".")));}).map(function(d){a.remove(c,d,b);});});}function r(a,b,c){var g,h;function d(b){a["delete"](g,function(d){d?c(d):(delete a.Mc[h],d=Object.keys(b.resourceIndex),d=y.Promise.all(d.map(function(b){return new y.Promise(function(c,d){a["delete"](b,function(a){a?d(a):c(b);});});})).then(function(){c();},function(a){c(a);}),W.kr(d));});}F.dB(b)?(g=b,h=F.PO(b)):(g=F.$_(b),h=b);(b=a.Mc[h])?d(b):a.read(g,function(a,b){a?c(a):d(b);});}function u(a,b){var c,d,g;c={};d=a.partitions.reduce(function(a,b){return a+b.capacity;},0);g=b/d;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].ft=Math.floor(g*a.capacity);c[b].IXa=a.dailyWriteFactor||1;c[b].Vyb=a.owner;c[b].q0a=a.evictionPolicy;});return c;}function v(a,b,c){if(c)return M.sZa(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function l(a,b,c,d,g,h,k,f,n,p,r){return function(u,w){u?z.isArray(u)?(w=u.map(function(a){return a.error;}),w.some(function(a){return a.code===O.ty.code;})&&!w.some(function(a){return a.code===O.zL.code;})?r(p,u,function(){n.save(b,c,d,g,h,k);}):(p["delete"](f),delete p.Mc[c],h({error:u[0].error,Oo:u[0].Oo,type:u[0].type,Fia:u}))):h({error:u,Oo:b,type:"save"}):(u=w.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.iQ;},0),p.Mc[c].uva(u),u={F1a:w.Oh,Aub:w.oA,ih:0,items:w},0<w.ih&&(u.ih=w.ih),0<w.duration&&(u.duration=w.duration),h(null,u));};}z=a(8);y=a(104);w=new y.Console("MEDIACACHE","media|asejs");x=a(550);C=a(549);F=a(293);m=a(103);M=a(544);q=a(543);O=a(186);W=a(292);t=a(24).EventEmitter;Y={fzb:[]};d.prototype.RB=function(a,c){var d;d=z.rb(c)?c:b;this.Zp("billboard")?this.ah.billboard.query(a,function(a){d(a.filter(p));}):d([]);};d.prototype.read=function(a,c,d){var g,h,f,n;g=z.rb(d)?d:b;if(this.Zp(a)){h=this.ah[a];f=h.Mc[c];if(!F.dB(c)&&this.H.s9a){n=function(b){h.TR(Object.keys(b),function(b,d,h){b?g(O.Uy.sl("Failed to read "+c,b)):(k(this,"read",a,c,h),g(null,M.t6a(d)));}.bind(this),b);}.bind(this);f?n(f.resourceIndex):this.Adb(a,c,function(a,b){a?g(O.Uy.sl("Failed to read "+c,a)):n(b.resourceIndex);});}else h.read(c,function(b,d,h){b?g(O.Uy.sl("Failed to read "+c,b)):(f&&f.convertToBinaryData&&(d=q.eVa(d)),k(this,"read",a,c,h),g(null,d));}.bind(this));}else g(O.Xr);};d.prototype.TR=function(a,c,d){var g,h;g=z.rb(d)?d:b;if(this.Zp(a)){h={};c=y.Promise.all(c.map(function(b){return new y.Promise(function(c,d){this.read(a,b,function(a,g){a?(g={},g[b]=a,d(g)):(h[b]=g,c());});}.bind(this));}.bind(this))).then(function(){g(null,h);},function(a){g(a);});W.kr(c);}else g(O.Xr);};d.prototype.Jua=function(a,c){var d;d=z.rb(c)?c:b;this.Zp("billboard")?"[object Object]"!==Object.prototype.toString.call(a)?d(O.yL.sl("items must be a map of keys to objects")):(c=new y.Promise(function(b){var c,d;c=this.ah.billboard.g2();d=Object.keys(a);(c=c.filter(function(a){return-1===d.indexOf(a);}))&&0<c.length?this.pla("billboard",c,function(){b();}):b();}.bind(this)).then(function(){return y.Promise.all(Object.keys(a).map(function(b){return new y.Promise(function(c,d){this.save("billboard",b,a[b].Ki,a[b].Nb,function(a,g){a?(w.error("Received an error saving",b,a),d(a)):c(g);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var c,g,h;try{c=Number.MAX_VALUE;g=Number.MAX_VALUE;h=b.reduce(function(a,b){b.Oh&&b.Oh<c&&(c=b.Oh);b.oA&&b.oA<g&&(g=b.oA);c<Number.MAX_VALUE&&(a.freeSize=c);g<Number.MAX_VALUE&&(a.dailyBytesRemaining=g);z.aa(b.ih)&&(a.bytesWritten+=b.ih);z.aa(b.duration)&&(a.duration+=b.duration);return a;},{partition:"billboard",type:"saveMultiple",keys:Object.keys(a),time:y.time.now(),bytesWritten:0,duration:0});this.Ea("mediacache",h);d(null,h);}catch(ma){d(err);}}.bind(this),function(a){z.isArray(a.Fia)?a.Fia.forEach(function(a){this.Ea("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a.error,resources:a.II});}.bind(this)):this.Ea("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a});d(a);}.bind(this)),W.kr(c)):(z.rb(c)?c:b)(O.Xr);};d.prototype.save=function(a,c,d,f,n,p){var r,u,x,B,C,P,fa,M,ea;r=z.rb(n)?n:b;if(this.Zp(a)){u=this.ah[a];x=F.$_(c);n=u.g2();n=n.filter(function(a){return a!==c;});if(g(f)){B=v(c,d,this.H.s9a);C=u.Mc[c]||{};P=C.resourceIndex;P&&Object.keys(P).map(function(a){z.R(B[a])&&u["delete"](a);});f.convertToBinaryData&&(d=q.fVa(B),B=v(c,d,!1));P=y.time.now();fa={};fa.partition=a;fa.resourceIndex=Object.keys(B).reduce(function(a,b){a[b]=m.D2(B[b]);return a;},{});fa.creationTime=C.creationTime||P;fa.lastRefresh=P;fa.lifespan=f.lifespan;fa.lastMetadataUpdate=P;fa.size=C.size;fa.convertToBinaryData=f.convertToBinaryData;M=function(a,b,d){a.RYa(function(g,f){g&&w.error("Evicting","Failed to delete some orphaned records",g);f.B6?d():(g=a.$2a())?this["delete"](a.getName(),g,function(g){g?(p||(z.isArray(b)?b.forEach(function(b){h(this,"save",a.getName,b.II,b.error);}.bind(this)):k(this,"save",a.getName(),c,void 0,b)),r(b)):d();}.bind(this)):r(O.ty);}.bind(this));}.bind(this);ea=function(){var a,b,c;a=this.ah;b=0;c=y.time.now();if(!z.R(a))for(var d in a)b+=a[d].q2a(c);return b;}.bind(this);this.pla(a,n,function(){u.replace(x,fa,function(b,g){g?(u.Mc[c]=F.N1(fa),u.yeb(B,l(B,a,c,d,f,r,p,x,this,u,M),p,ea)):b.code===O.ty.code?M(u,b,function(){this.save(a,c,d,f,r,p);}.bind(this)):r(b);}.bind(this),p,ea);}.bind(this));}else r(O.jEa);}else r(O.Xr);};d.prototype["delete"]=function(a,c,d){var g;g=z.rb(d)?d:b;this.Zp(a)?r(this.ah[a],c,function(b){k(this,"delete",a,c,void 0,b);g(b);}.bind(this)):g(O.Xr);};d.prototype.pla=function(a,c,d){var g,k;g=z.rb(d)?d:b;if(this.Zp(a)){k=this.ah[a];d=y.Promise.all(c.map(function(a){return new y.Promise(function(b){r(k,a,function(c){b({N:z.R(c),error:c,Ki:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var n,p;for(var c=[],d=[],k=[],f=0;f<b.length;f++){n=b[f];n.N?c.push(n.Ki):n.error&&d.push(n);}0<c.length&&h(this,"delete",a,c);0<d.length&&(k=d.map(function(a){return a.Ki;}),b=W.aoa(d),p=b[0],b.forEach(function(b){w.error("Failed to delete resources ",b.error,b.II);h(this,"delete",a,b.II,b.error);}.bind(this)));b={};b.rAb=c;0<k.length&&(b.sAb=k);p?g(p,b):g(void 0,b);}.bind(this),function(b){h(this,"delete",a,c,b);g(b);}.bind(this));W.kr(d);}else g(O.Xr);};d.prototype.clear=function(a,c){var d;d=z.rb(c)?c:b;this.Zp(a)?this.ah[a].clear(function(a){d(a.filter(p));}):d(O.Xr);};d.prototype.Adb=function(a,c,d){var g,h;g=z.rb(d)?d:b;if(this.Zp(a)){d=F.$_(c);h=this.ah[a];h.read(d,function(a,b){var d;if(a)g(O.kEa);else{d=F.N1(b)||{};h.Fna(Object.keys(d.a7),function(a){d.size=a;(a=h.Mc[c])&&(d.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=d.lastMetadataUpdate?h.Mc[c]=d:a.lastMetadataUpdate&&(a.lastMetadataUpdate>d.lastMetadataUpdate||z.R(d.lastMetadataUpdate))&&(d=a));g(null,d);});}});}else g(O.Xr);};d.prototype.cxa=function(a){y.SG(a);};d.prototype.constructor=d;f.K=d;},function(f,c,a){(function(){var z4f,c,k,h,g,p,n,r,u,v,l,c2t;z4f=2;function b(a,b,c,d,k,f){var x4f,n,j3t,e3t;x4f=2;while(x4f!==8){j3t="e";j3t+="d";j3t+="i";j3t+="t";e3t="c";e3t+="a";e3t+="ch";e3t+="e";switch(x4f){case 2:p.call(this,a,c);n=[e3t,j3t].filter(function(a,b){var f4f;f4f=2;while(f4f!==1){switch(f4f){case 2:return[k,c.xd][b];break;case 4:return[k,c.xd][b];break;f4f=1;break;}}});n=n.length?"("+n.join(",")+")":"";void 0===c.responseType&&(c.responseType=c.xd||h.tc&&!h.tc.fS.Cp?h.Ri.tl:h.Ri.Cp);g.call(this,a,b,n,c,d,f);x4f=8;break;}}}while(z4f!==35){c2t="1SI";c2t+="Y";c2t+="bZr";c2t+="NJCp9";switch(z4f){case 2:a(20);c=a(60);z4f=4;break;case 14:u=a(552);v=a(66);l=a(23).jw;b.prototype=Object.create(g.prototype);z4f=10;break;case 4:k=a(13);h=a(10).Ua;g=a(296);p=a(61);n=a(69).QK;r=a(187);z4f=14;break;case 16:b.prototype.rfa=function(a,b){var d4f,c,d,g,h,J3t,t3t;d4f=2;while(d4f!==13){J3t="d";J3t+="e";J3t+="fa";J3t+="u";J3t+="lt";t3t="d";t3t+="e";t3t+="f";t3t+="aul";t3t+="t";switch(d4f){case 2:g=this.te.H;h=this.zLa();d4f=4;break;case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[t3t]?a[J3t]:c;d4f=8;break;case 8:h.Xo=h.Q7?void 0!==c?c:1:0;d4f=7;break;case 4:d4f=void 0!==g.ZG&&null!==g.ZG?3:14;break;case 3:d4f=(c=(void 0!==a?a:g.ZG)||0,a=g.Xoa&&g.Xoa[this.stream.profile])?9:8;break;case 7:h.X6=void 0!==d?d:h.rua;return h;break;case 14:h.Q7=!1;d4f=8;break;}}};b.prototype.ALa=function(){var P4f,I3t;P4f=2;while(P4f!==1){I3t="on";I3t+="Entr";I3t+="y";switch(P4f){case 4:return this.rfa(this.te.H.Yoa,"");break;P4f=1;break;case 2:return this.rfa(this.te.H.Yoa,I3t);break;}}};b.prototype.BLa=function(){var V4f,C3t;V4f=2;while(V4f!==1){C3t="on";C3t+="E";C3t+="xit";switch(V4f){case 4:return this.rfa(this.te.H.Zoa,"");break;V4f=1;break;case 2:return this.rfa(this.te.H.Zoa,C3t);break;}}};z4f=26;break;case 10:c(p.prototype,b.prototype);b.prototype.toString=function(){var i4f;i4f=2;while(i4f!==1){switch(i4f){case 2:return h.prototype.toString.call(this)+" "+p.prototype.toString.call(this);break;}}};b.create=function(a,c,d,g,f,n){var v4f,p,w,v;v4f=2;while(v4f!==10){switch(v4f){case 1:v4f=d.xd&&a.O===k.u.VIDEO&&h.tc&&h.tc.fS.Cp?5:4;break;case 2:v4f=1;break;case 5:return new u(a,c,d,g,f,n);break;case 12:return g;break;case 4:v4f=d.zH&&d.ga>d.zH?3:11;break;case 3:p=Math.ceil(d.ga/d.zH);w=d.offset;v=d.ga;g=new r(a,d,g,n);v4f=6;break;case 6:p=Math.ceil(d.ga/p);v4f=14;break;case 14:v4f=0<v?13:12;break;case 13:d.offset=w,d.ga=Math.min(v,p),w+=d.ga,v-=d.ga,g.push(new b(a,c,d,g,f,n));v4f=14;break;case 11:return new b(a,c,d,g,f,n);break;}}};b.prototype.Dfa=function(a){var g4f;g4f=2;while(g4f!==1){switch(g4f){case 2:return a&&a.M===this.M&&a.G1===this.G1?!0:!1;break;}}};b.prototype.zLa=function(){var u4f,a,b,c,d;u4f=2;while(u4f!==7){switch(u4f){case 3:d=this.te.Qt&&this.te.Qt.$n;Array.isArray(d)&&Array.isArray(a.$n)?d=d.filter(function(b){var e4f,o4f;e4f=2;while(e4f!==1){switch(e4f){case 2:q011.P3t(0);o4f=q011.l3t(19,18);return o4f!==a.$n.indexOf(b);break;case 4:return~0===a.$n.indexOf(b);break;e4f=1;break;}}}):Array.isArray(a.$n)?d=a.$n:Array.isArray(d)||(d=[]);return-1!==d.indexOf(this.profile)?{Hma:!!b,rua:!b,Q7:!b||!c}:{Hma:!1,rua:!1,Q7:!c};break;case 2:a=this.te.H;b=void 0!==a.wu?a.wu:this.te.Qt&&this.te.Qt.wu;c=void 0!==a.vu?a.vu:this.te.Qt&&this.te.Qt.vu;u4f=3;break;}}};z4f=16;break;case 26:b.prototype.eLa=function(a,b){var E4f,c,d,g,h,k,f,n,p,r,u,l;E4f=2;while(E4f!==27){switch(E4f){case 18:this.bg=Math.min(this.bg,l.Je);this.uv={Qc:u,Ib:this.xi};u<(c.V9a||1)&&(g=!1);E4f=15;break;case 7:k=void 0!==k?k:void 0!==f?f:100;f=this.La;n=f.ma;E4f=13;break;case 10:b=c.y1a||b;a&&!b&&(u=Math.floor(v.min(p,r).wA(f)),l=f.ZQ(u),a=r.Ed(l),0<u&&a.lessThan(v.nsa)&&(h=!0));h||(u=Math.floor(v.min(p,v.M1(d-k-this.ij).vk(n)).wA(f)),l=f.ZQ(u),a=r.Ed(l),0<u&&a.Qpa(v.nsa)&&(--u,l=f.ZQ(u)));E4f=18;break;case 2:c=this.te.H;d=this.La.Je;g=!0;h=!1;k=c.QQ;f=this.te.Qt&&this.te.Qt.QQ;E4f=7;break;case 13:p=v.M1(this.bg+1).vk(n);d=a?a.Oa:this.pc-2*d;r=v.M1(d-this.ij).vk(n);E4f=10;break;case 15:return{Ugb:g,B8a:h};break;}}};b.prototype.Tz=function(a,b,c,d,g){var K4f,h;K4f=2;while(K4f!==6){switch(K4f){case 5:K4f=this.fg?4:3;break;case 2:h=this.te.H;K4f=5;break;case 4:return!1;break;case 3:a=this.Nma?a.appendBuffer(l(this.Lla),this):this.xd&&!this.Do?this.bMa(a,b,d,g):this.xd&&this.Do?this.cMa(a,c,d,g):this.O===k.u.AUDIO&&h.hn&&b&&this.yu&&b.pc>=this.pc&&this.xi-this.yu<this.yu-this.Lg?!0:a.appendBuffer(this.response,this);this.fg=!0;this.XR();return a;break;}}};b.prototype.bMa=function(a,b,c,d){var Q4f,g,h,f,X3t,q3t;Q4f=2;while(Q4f!==6){X3t=" fr";X3t+="o";X3t+="m ";X3t+="[";X3t+=" ";q3t="AseFragmentMe";q3t+="diaRequ";q3t+="est: Fragmen";q3t+="t edit failed";q3t+=" for ";switch(Q4f){case 3:this.O===k.u.AUDIO&&b&&(c?d&&(this.Pc?(this.Pc.Qc+=1,this.Pc.Ib+=this.stream.La.Je):this.uv={Qc:1,Ib:this.stream.La.Je},this.qv+=this.stream.La.Fd,this.Hn-=this.stream.La.Fd):this.Dfa(b)?b.Pc&&this.Pc&&this.Pc.Qc!==b.Pc.Qc&&this.Qm({Qc:b.Pc.Qc,Ib:b.xi},!1):(h=this.ALa(),b.pc===this.Oa&&(h.Xo=0)));0>=this.bg&&(f=!1,g=!0);f&&(this.Oa>this.ij||h.Xo?(b=this.Pc&&this.Pc.Qc,g=new n(this.stream,this.response),(b=g.Wta(b,this.hx,h.Xo,h.X6))?(g=a.appendBuffer(l(b.no),this),this.NM(h),this.FM(b.no)):(this.T.Tb(q3t+this.toString()+X3t+this.ij+"-"+this.Em+"]"),g=!0)):g=a.appendBuffer(this.response,this));return g;break;case 2:h={Xo:0};g=!1;f=!0;Q4f=3;break;}}};b.prototype.cMa=function(a,b,c,d){var A4f,g,h,f,h2t,T3t;A4f=2;while(A4f!==6){h2t=" f";h2t+="rom";h2t+=" [ ";T3t="AseFragment";T3t+="MediaRequest: Fr";T3t+="agment edit failed for ";switch(A4f){case 8:h?this.pc<this.Em||f.Xo?(b=this.Pc&&this.Pc.Qc,h=new n(this.stream,this.response),(h=h.Zta(b,this.ma,f.Xo,f.X6))?(a=a.appendBuffer(l(h.no),this),this.NM(f),this.FM(h.no)):(this.T.Tb(T3t+this.toString()+h2t+this.ij+"-"+this.Em+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;case 2:g=this.te.H;f={Xo:0};h=!0;this.O===k.u.AUDIO&&(c?d&&(this.Hn-=this.stream.La.Fd,this.Pc?(--this.Pc.Qc,this.Pc.Ib-=this.stream.La.Je):this.uv={Qc:new v(this.bg,1E3).wA(this.stream.La)-1,Ib:this.xi},h=0<this.Pc.Qc):this.Dfa(b)?b.Pc&&0!=b.Pc.Qc?this.Qm({Qc:b.Pc.Qc,Ib:b.Lg},!0):h=!1:(f=this.BLa(),g.hn||(b=this.eLa(b,f.Hma),(h=b.Ugb)&&b.B8a&&!f.X6&&(f.Xo=0))));h&&0===this.bg&&(h=!1);A4f=8;break;}}};z4f=22;break;case 22:f.K=b;c2t;z4f=35;break;}}}());},function(f,c,a){var k,h,g,p,n,r;function b(a,b,c,d,h,k){n.call(this,b,c);r.call(this,a,d,h,k);this.UKa=a.url||d.url;this.SKa=d.responseType;this.TKa=d.JS;this.Hf=new g();this.Hf.on(this,n.jd.rca,this.fY);this.Hf.on(this,n.jd.qca,this.rOa);this.Hf.on(this,n.jd.sca,this.wOa);this.Hf.on(this,n.jd.ID,this.eY);this.Hf.on(this,n.jd.Zu,this.DE);this.Jj=this.Hk=this.AL=!1;}function d(){h(!1);}k=a(8);h=a(20);c=a(60);g=a(24).eD;p=a(10);n=p.Ua;r=a(122);a(91);new p.Console("ASEJS","media|asejs");b.prototype=Object.create(n.prototype);c(r.prototype,b.prototype);Object.defineProperties(b.prototype,{active:{get:function(){return this.Hk;},set:function(a){return function(){this.T.ba("Property '"+a+"' is read-only and should not be set.");};}("active")},y6:{get:function(){return this.Jj;},set:d},complete:{get:function(){return this.readyState===n.$a.DONE;},set:d},Sn:{get:function(){return this.AL;},set:d},E3:{get:function(){return this.Lp;},set:d}});b.prototype.Zc=function(a,b){r.prototype.Zc.call(this,a,b);this.sb||!a.H.hZ&&this.Mb||(this.sb=a.Ra.sb,this.active&&(this.sb.dua(p.time.now(),this.jM()),this.Jj&&(this.sb.hua(p.time.now()),this.connect&&0<this.vr.length&&this.sb.fq(this.vr[0]))));};b.prototype.Ow=function(){return this.responseType===n.Ri.Cp?this.readyState>=n.$a.js:this.readyState==n.$a.DONE;};b.prototype.Tz=function(a){return this.fg=a.appendBuffer(this.response,this);};b.prototype.apa=function(){return this.Sn;};b.prototype.open=function(){return n.prototype.open.call(this,this.UKa,{start:this.offset,end:this.offset+this.ga-1},this.SKa,{},this.ssb,this.tsb,this.TKa);};b.prototype.abort=function(){var a;if(this.Sn)return!0;a=this.Hk;this.sb&&a&&this.sb.fua(p.time.fa(),this.Jj,this.jM());this.AL=!0;this.Jj=this.Hk=!1;n.prototype.abort.call(this);this.cP(this,a);return!0;};b.prototype.Be=function(){this.readyState!==n.$a.UNSENT&&this.readyState!==n.$a.em&&this.readyState!==n.$a.DONE&&(this.T.ba("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());n.prototype.Be.call(this);};b.prototype.DE=function(){var a,b,c,d;this.T.ba("AseMediaRequest._onError:",this.toString());a=this.Ge;this.Lp=p.time.fa()-this.Ge;b=this.status;c=this.Sl;d=this.Um;this.complete?this.T.ba("Error on a done request "+this.toString()+", failurecode: "+c):this.Sn?this.T.ba("Error on an aborted request "+this.toString()+", failurecode: "+c):k.aa(c)?(this.sb&&this.te&&this.te.H.O6&&this.He&&void 0===b&&this.sb.eZ(this.kk?this.Oc-this.kk:this.Oc,this.Zl?this.Zl:this.He,a),this.dP(this)):this.T.ba("ignoring undefined request error (nativecode: "+d+")");};b.prototype.fY=function(){var a;a=this.Ge||this.He;this.eB=this.track.eB();this.Hk||(this.Hk=!0,this.sb&&this.sb.dua(a,this.jM()));this.KA(this);this.kk=0;this.Zl=this.Ge;};b.prototype.rOa=function(){var a,b,c;a=this.Ge;b=this.connect;c=this.vr;this.Lp=p.time.fa()-this.Ge;this.Jj||(this.Jj=!0,this.sb&&this.sb.hua());b&&0<c.length&&this.sb&&this.sb.fq(c[0]);this.JA(this);this.Zl=a;};b.prototype.wOa=function(){var a,b;a=this.Ge;b=this.Oc-this.kk;this.Lp=p.time.fa()-this.Ge;this.sb&&(this.sb.eZ(b,this.Zl,a),this.vr&&this.vr.length&&this.vr.forEach(function(a){this.sb.bq(a);}.bind(this)));this.uG(this);this.Zl=a;this.kk=this.Oc;};b.prototype.eY=function(){var a,b;a=this.Ge;b=this.Oc-this.kk;this.Lp=p.time.fa()-this.Ge;this.sb&&(0<b&&this.sb.eZ(b,this.Zl,a),this.vr&&this.vr.length&&this.vr.forEach(function(a){this.sb.bq(a);}.bind(this)),this.sb.fua(a,this.Jj,this.jM()));this.Jj=this.Hk=!1;this.tG(this);this.Zl=a;this.kk=this.Oc;this.Hf&&this.Hf.clear();this.Be();};b.prototype.jM=function(){var a,b;a=(a=this.stream)&&"function"===typeof a.toString?a.toString():this.url;b=this.io;void 0!==b&&(a+=",pts "+b+"-"+(b+this.duration));(b=this.sTa)&&(a+=",range "+b.start+"-"+b.end);return a;};f.K=b;},function(f,c,a){var k,h,g,p;function b(a,b,c,d){p.call(this,a,b,c,d);this.ub=[];this.Jj=this.Hk=this.uE=this.hY=!1;this.vv={};}function d(){k(!1);}k=a(20);a(60);h=a(10);g=h.Ua;p=a(122);a(61);a(23);b.prototype=Object.create(p.prototype);Object.defineProperties(b.prototype,{active:{get:function(){return this.Hk;},set:d},y6:{get:function(){return this.Jj;},set:d},complete:{get:function(){return this.Ff||(this.Ff=this.ub.every(function(a){return a.complete;}));},set:d},Sn:{get:function(){return this.AL;},set:d},zh:{get:function(){return this.ub.reduce(function(a,b){return a+b.zh;},0);},set:d},Oc:{get:function(){return this.ub.reduce(function(a,b){return a+b.Oc;},0);},set:d},Ge:{get:function(){return this.Dg;},set:d},E3:{get:function(){return this.Lp;},set:d},url:{get:function(){return this.ub[0]&&this.ub[0].url;},set:d},readyState:{get:function(){return this.Ae||this.ub.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},set:d},status:{get:function(){return this.vv.RE;},set:d},Sl:{get:function(){return this.vv.bM;},set:d},l1:{get:function(){return this.vv.xX;},set:d},Um:{get:function(){return this.vv.$X;},set:d}});b.prototype.push=function(a){this.uE&&a.Zc(this.te,this.Ue);this.ub.push(a);this.hY&&a.open();};b.prototype.Zc=function(a,b){p.prototype.Zc.call(this,a,b);this.ub.forEach(function(c){c.Zc(a,b);});this.uE=!0;};b.prototype.apa=function(){return this.Ae===g.$a.em;};b.prototype.open=function(){return this.hY=this.ub.every(function(a){return a.open();});};b.prototype.Be=function(){this.ub.forEach(function(a){a.Be();});};b.prototype.l8=function(a){this.dg=a;this.vv={};this.Ae=void 0;return this.ub.every(function(b){return b.readyState!==g.$a.DONE&&b.readyState!==g.$a.em?b.l8(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Ae=g.$a.em;this.AL=!0;this.Jj=this.Hk=!1;b=this.ub.map(function(a){return a.abort();}).every(function(a){return a;});this.cP(this,a);return b;};b.prototype.getResponseHeader=function(a){var b;this.ub.some(function(c){return b=c.getResponseHeader(a);});return b;};b.prototype.getAllResponseHeaders=function(){var a;this.ub.some(function(b){return a=b.getAllResponseHeaders();});return a;};b.prototype.sx=function(a){this.Hk||(this.Hk=!0);this.rMa||(this.rMa=!0,this.kk=0,this.Dg=this.Zl=a.Ge,this.Lp=h.time.fa()-this.Dg,this.KA(this));};b.prototype.Xt=function(a){this.Jj||(this.Jj=!0);this.qMa||(this.qMa=!0,this.Dg=a.Ge,this.Lp=h.time.fa()-this.Dg,this.JA(this));};b.prototype.aI=function(a){this.Dg=a.Ge;this.uG(this);this.kk=this.Oc;this.Zl=a.Ge;};b.prototype.Hi=function(a){this.Dg=a.Ge;this.Lp=h.time.fa()-this.Dg;this.complete?(this.Ff=!0,this.Ae=g.$a.DONE,this.Jj=this.Hk=!1,this.tG(this)):this.uG(this);this.kk=this.Oc;this.Zl=a.Ge;};b.prototype.FB=function(a){this.Dg=a.Ge;this.Lp=h.time.fa()-this.Dg;this.vv=a;this.Ae=g.$a.hm;this.dP(this);};b.prototype.jR=function(){};b.prototype.Ai=function(){return this.ub[0].Ai()+"-"+this.ub[this.ub.length-1].Ai();};b.prototype.toString=function(){return"Compound["+this.ub.map(function(a){return a.toString();}).join(",")+"]";};f.K=b;},function(f,c,a){var k,h,g,p,n,r,u,v,l,z;function b(a,b,c,d,g,h,k){n.call(this,a,d,k);r.call(this,a,d,g,k);this.H=b;this.YL=c;this.pMa=!!d.Ct;this.aMa=!!d.yw;this.rC=!!d.rC;this.BOa=d.ga;this.qz=(h?"(cache)":"")+this.Za+" header";this.Fz(a.url||d.url,d.offset,d.ga);}function d(){k(!1);}k=a(20);c=a(60);h=a(10);g=h.Ua;p=h.MediaSource;n=a(299);r=a(297);u=a(188);v=a(13);l=a(23).jw;z=a(69).KV;a(69);a(192);a(123);b.prototype=Object.create(r.prototype);c(n.prototype,b.prototype);Object.defineProperties(b.prototype,{track:{get:function(){return this.YL;},set:d},Ct:{get:function(){return this.pMa;},set:d},yw:{get:function(){return this.aMa;},set:d},Vab:{get:function(){return this.BOa;},set:d},parseError:{get:function(){return this.iY;},set:d},fI:{get:function(){return this.EOa;},set:d},o:{get:d,set:d},config:{get:function(){return this.H;},set:d}});b.prototype.web=function(){if(!this.KY)return!0;this.KY=!1;return this.gha();};b.prototype.Fz=function(a,b,c){a=new u(this.stream,this.YL,this.qz+" ("+this.ub.length+")",{offset:b,ga:c,url:a,location:this.location,Rc:this.Rc,responseType:g.Ri.tl},this,this.T);this.push(a);this.Kc=this.ub.reduce(function(a,b){return a+b.ga;},0);};b.prototype.Hi=function(a){this.Fj=this.Fj?l(this.Fj,a.response):a.response;a.XR();this.gha()?r.prototype.Hi.call(this,this):this.efa?(this.Fz(a.url,a.offset+a.ga,this.efa),r.prototype.Hi.call(this,this)):this.dP(this);};b.prototype.gha=function(){var a,b,c;b=this.H.Lkb;c=this.H.nSa;this.O===v.u.VIDEO&&b?a=b:this.O===v.u.AUDIO&&c&&(a=c);a=new z(this.stream,this.Fj,["sidx"],this.O===v.u.VIDEO&&this.H.zw||this.O===v.u.AUDIO&&this.H.Ol,{truncate:this.Fr,ihb:this.stream.track.N0,Ux:a,wbb:void 0===this.La,H8:!p.tc||!p.tc.ON,I8:this.H.I8,iq:this.H.iq&&this.H.Ol,rI:this.H.rI});b={};a.addEventListener("error",this.BNa.bind(this,b));a.addEventListener("requestdata",this.FNa.bind(this,b));a.addEventListener("fragments",this.CNa.bind(this,b));a.addEventListener("vmafs",this.HNa.bind(this,b));a.addEventListener("sampledescriptions",this.GNa.bind(this,b));a.addEventListener("drmheader",this.ANa.bind(this,b));a.addEventListener("nflxheader",this.ENa.bind(this,b));a.addEventListener("keyid",this.DNa.bind(this,b));a.addEventListener("done",this.zNa.bind(this,b));this.jha={La:this.La};a.parse(this.jha);b.qR?(this.Fj=a.Ijb(b.NH||b.fI),this.EOa=b.fI,this.rX=b.Se,this.aY=b.VH,void 0===this.La&&void 0===b.La&&this.T.Tb("No frame duration available for "+this.Za),this.stream.iR(b.ma,b.La||this.La,b.U,b.Tt,b.Ig,b.xk)):this.efa=b.oRa;return b.qR;};b.prototype.BNa=function(a,b){a.qR=!1;a.parseError=b.errormsg;};b.prototype.FNa=function(a,b){a.qR=!1;a.oRa=b.bytes;};b.prototype.CNa=function(a,b){a.U=b.fragments;a.Tt=b.movieDataOffsets;a.Ig=b.additionalSAPs;a.Fr=b.truncated;a.hla=b.defaultSampleDuration;a.ma=b.timescale;};b.prototype.HNa=function(a,b){a.xk=b.vmafs;};b.prototype.GNa=function(a,b){b.frameDuration&&(a.La=b.frameDuration,this.jha.La=a.La);};b.prototype.ANa=function(a,b){var c;c=a.Se||{};c.source="mp4";c.jh=b.drmType;c.dk=b.header;a.Se=c;};b.prototype.ENa=function(a,b){a.VH=b.header;};b.prototype.DNa=function(a,b){var c;c=a.Se||{};c.rka=b.keyId;c.c7a=(c.c7a||[]).concat(b.offset);c.Hxb=b.flipped;a.Se=c;};b.prototype.zNa=function(a,b){a.qR=!0;a.NH=b.moovEnd;a.fI=b.parsedEnd;};f.K=b;},function(f,c,a){var k,h,g;function b(a,b,c){g.call(this,a,b);this.Fj=b.Qq;this.Vi=b.U;this.SY=b.xk;this.rX=b.Se;this.aY=b.VH;this.KY=!!b.Fr;this.T=c;}function d(){k(!1);}k=a(20);h=a(60);g=a(189);a(122);a(13);a(23);a(69);b.prototype=Object.create(g.prototype);Object.defineProperties(b.prototype,{Mb:{get:function(){return!0;},set:d},data:{get:function(){return this.Fj;},set:d},Qq:{get:function(){return this.Fj;},set:d},U:{get:function(){return this.stream.U;},set:d},xk:{get:function(){return this.SY;},set:d},Se:{get:function(){return this.rX;},set:d},VH:{get:function(){return this.aY;},set:d},Fr:{get:function(){return this.KY;},set:d},OZa:{get:function(){return!(!this.rX&&!this.aY);},set:function(){k(!1);}}});b.prototype.uRa=function(a){k(this.kc.Za==a.Za);!a.rh&&this.kc.rh&&a.SN(this.kc);!a.location&&this.kc.location&&(a.location=this.kc.location,a.Rb=this.kc.Rb,a.kC=this.kc.kC,a.url=this.kc.url,a.qa=this.kc.qa);this.kc=a;};b.prototype.toJSON=function(){var a;a=g.prototype.toJSON.call(this);h({Mb:!0,U:this.U},a);return a;};f.K=b;},function(f,c,a){var h,g,p,n,r,u,v;function b(a){return void 0===a?!0:a;}function d(a,c,d,g){this.H=d;this.T=g;this.si=a;this.QPa=c.yh;this.Bs=c.Za||c.id;this.TMa=c.zo;this.jLa=c.L;this.rQa=c.ee;this.Ev=c.profile||c.ve;this.FPa=c.sj;this.Vi=c.U;this.Te=b(c.Te);this.inRange=b(c.inRange);this.tA=c.tA;this.fl=b(c.fl);this.KS=!!c.KS;this.qa=c.qa;this.Rb=this.location=void 0;a="object"===typeof this.H.rI&&this.H.rI[this.profile];"object"===typeof a&&(a=a[this.L])&&(this.GE=new n(a));}function k(){h(!1);}h=a(20);g=a(38);p=a(13);n=a(69).Cea;r=a(191);u=a(61);v=a(123).KJa;d.prototype={};Object.defineProperties(d.prototype,{rh:{get:function(){return!!this.U;},set:k},Ma:{get:function(){return this.si.Ma;},set:k},za:{get:function(){return this.si.za;},set:k},M:{get:function(){return this.si.M;},set:k},O:{get:function(){return this.si.O;},set:k},Tn:{get:function(){return this.si.Tn;},set:k},Vf:{get:function(){return this.si.Vf;},set:k},La:{get:function(){return this.si.La;},set:k},ma:{get:function(){return this.si.ma;},set:k},hx:{get:function(){return this.si.hx;},set:k},track:{get:function(){return this.si;},set:k},yh:{get:function(){return this.QPa;},set:k},Za:{get:function(){return this.Bs;},set:k},id:{get:function(){return this.Bs;},set:k},zo:{get:function(){return this.TMa;},set:k},L:{get:function(){return this.jLa;},set:k},ee:{get:function(){return this.rQa;},set:k},profile:{get:function(){return this.Ev;},set:k},ve:{get:function(){return this.Ev;},set:k},sj:{get:function(){return this.FPa;},set:k},Ro:{get:function(){return this.GE;},set:k},U:{get:function(){return this.Vi;},set:k},IQ:{get:function(){return this.Vi&&this.Vi.IQ;},set:k},I1:{get:function(){return this.si.I1;},set:k},H1:{get:function(){return this.si.H1;},set:k},bF:{get:function(){return this.si.bF;},set:k},cF:{get:function(){return this.si.cF;},set:k},k3:{get:function(){return this.La.Je;},set:k},X:{get:function(){return 0;},set:k}});d.hP=function(a,b,c,g,h,k,f,n){a=r.hP(a,b,c,g,k,n);return d.K1(a,h,k,f,n);};d.K1=function(a,b,c,h,k){var f,n;f=a.Ma[["audio_tracks","video_tracks"][a.O]][a.Vf].streams[b];n=f.content_profile;return new d(a,g(c||{},{id:f.downloadable_id,L:f.bitrate,ee:f.vmaf,ve:n,sj:f.sidx,yh:b,zo:-1==n.indexOf("none")}),h,k);};d.prototype.iR=function(a,b,c,d,g,h){c&&void 0!==c.nn&&(this.track.rh||void 0!==c.wd&&c.wd.length)&&void 0!==c.offset&&void 0!==c.sizes&&c.sizes.length?this.rh||(this.track.iR(this,a,b,c,g),this.Vi=new v(this.track.ql,c,d,g,h,this.M)):this.T.error("AseStream.onHeaderReceived with missing fragments data:"+(void 0!==c.nn)+","+this.track.rh+","+this.track.N0+","+(void 0!==c.wd)+","+!(!c.wd||!c.wd.length)+","+(void 0!==c.offset)+","+(void 0!==c.sizes)+","+!(!c.sizes||!c.sizes.length));};d.prototype.SN=function(a){this.rh||(this.track.lVa(a.track),this.Vi=a.U);};d.prototype.zi=function(a){return new u(this,this.U.get(a));};d.prototype.pna=function(a){var b,c,d;b=this.zi(a.index);if(a.Pc){c=a.Pc;if(this.O===p.u.VIDEO&&this!==a.stream){if(b.Ig&&b.Ig.some(function(a,b){d=b;return a.Qc===c.Qc;}))c=b.Ig[d];else return this.T.error("AdditionalSAP not found in stream "+this+": "+a+","+JSON.stringify(c)),b;}b.Qm(c,a.Em!==a.ca);b.TI(a.yu);}else a.xd&&b.Qm();return b;};d.prototype.hQ=function(a,b,c){if(!this.rh||this.track.P2>=this.L)return!0;if(this.track.wqa<=this.L)return!1;if(a=this.Vi.hQ(a,b,c)){if(!this.track.N0||this.zo)this.track.P2=this.L;}else this.track.wqa=this.L;return a;};d.prototype.toJSON=function(){return{M:this.M,O:this.O,Za:this.Za,L:this.L};};d.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.Za+":"+this.L;};f.K=d;},function(f,c,a){var Ca,Ka,aa,Z,la,yb,rb,ob,dc,sb,td,cb;function b(a,b,c){this.o=a;this.tag=b;this.startOffset=a.offset;this.length=c;}function d(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function k(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function h(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function g(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function p(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function n(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);this.Ux=a.config.Ux;this.obb=!a.config.ihb;this.KR=new aa(0,1);a.config.iq&&(b=a.config.rI[a.profile])&&(a=b[a.L])&&(this.KR=new aa(a));}function r(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function u(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function v(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function l(a,b,c,d){la.call(this,a,b,c,d);}function z(a,b,c,d){this.Ka=l;this.Ka.call(this,a,b,c,d);}function y(a,b,c,d){z.call(this,a,b,c,d);}function w(a,b,c,d){z.call(this,a,b,c,d);}function x(a,b,c,d){la.call(this,a,b,c,d);}function m(a,b,c,d){la.call(this,a,b,c,d);}function F(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function P(a,c,d){b.call(this,a,c,d);}function M(a,c,d){b.call(this,a,c,d);}function q(a,c,d){b.call(this,a,c,d);}function O(a,b,c,d){la.call(this,a,b,c,d);}function W(a,b,c,d){la.call(this,a,b,c,d);}function t(a,b,c,d){la.call(this,a,b,c,d);}function Y(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function X(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function N(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function G(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function ca(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function V(a,b,c,g){this.Ka=d;this.Ka.call(this,a,b,c,g);}function fa(a,b,c,g){this.Ka=d;this.Ka.call(this,a,b,c,g);}function ba(a){function b(b,c,d,g){this.Ka=la;this.Ka.call(this,b,c,d,g);this.Gra=a;}b.prototype=new la();b.prototype.constructor=b;Object.defineProperties(b.prototype,{s$:{get:function(){return this.Gra;}}});b.prototype.parse=function(){this.o.Vb("renaming '"+this.type+"' to draft type '"+this.Gra+"'");this.o.offset=this.startOffset+4;this.o.hia(this.s$);this.type=this.s$;return!0;};return b;}function ma(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function ja(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function ka(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function qa(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function va(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function A(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function wa(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function D(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function Ga(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}function S(a,b,c,d){this.Ka=la;this.Ka.call(this,a,b,c,d);}Ca=a(20);Ka=a(144);a(10);aa=a(66);Z=a(303);a(62);a(62);a(62);la=a(68)["default"];c=a(563)["default"];yb=a(562)["default"];rb=a(561)["default"];ob=a(560)["default"];dc=a(559)["default"];sb=a(558)["default"];td=a(557)["default"];a=a(556)["default"];b.prototype.parse=function(){this.o.offset=this.startOffset+this.length;this.o.jx=0;return!0;};b.prototype.skip=b.prototype.parse;b.prototype.xha=function(){for(this.Nl=[];this.o.offset<this.startOffset+this.length;)this.Nl.push(this.o.wha(this));};d.prototype=new la();d.prototype.constructor=d;d.prototype.parse=function(a){return this.zq(a,!0);};k.prototype=new la();k.prototype.constructor=k;k.prototype.parse=function(a){var b;b=this.startOffset+this.length;a=this.zq(a,!0);this.o.Vb("marking orginal end of moov: 0x"+b.toString(16));this.o.NH=b;return a;};h.prototype=new la();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.se();this.fileSize=this.o.dh();this.ma=this.o.dh();this.duration=this.o.dh(!1,!0);this.$ra=this.o.dh();this.o.dh();this.nab=this.o.dh();this.y$a=this.o.ab();this.asa=this.o.dh();this.zma=this.o.ab();this.qma=this.o.LE();a={moof:{offset:this.$ra},sidx:{offset:this.asa,size:this.zma}};a[Ka.gca]={offset:this.nab,size:this.y$a};this.o.offset-this.startOffset<=this.length-24&&(this.mab=this.o.dh(),this.o$a=this.o.ab(),this.lab=this.o.dh(),this.m$a=this.o.ab(),a[Ka.PV]={offset:this.mab,size:this.o$a},a[Ka.NV]={offset:this.lab,size:this.m$a});this.o.bua(a);return!0;};g.prototype=new la();g.prototype.constructor=g;g.prototype.parse=function(){var a,d,g;this.se();1<=this.version&&(this.qma=this.o.LE());a=this.o.ab();this.Pb={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.o.JE();"uuid"===d&&(d=this.o.LE());g=this.o.dh();this.Pb[d]={offset:b,size:g};b+=g;}this.o.bua(this.Pb);return!0;};p.prototype=new la();p.prototype.constructor=p;p.prototype.parse=function(){var a;this.se();1===this.version?(this.o.dh(),this.o.dh(),this.ma=this.o.ab(),this.duration=this.o.dh()):(this.o.ab(),this.o.ab(),this.ma=this.o.ab(),this.duration=this.o.ab());a=this.o.Re()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.o.Kv({ma:this.ma});return!0;};n.prototype=new la();n.prototype.constructor=n;n.prototype.DOa=function(){this.se();this.o.ab();this.ma=this.o.ab();this.KR=this.KR.vk(this.ma);0===this.version?(this.Q0=this.o.ab(),this.y1=this.o.ab()):(this.Q0=this.o.dh(),this.y1=this.o.dh());this.Meb=this.o.Re();this.C6=this.o.Re();};n.prototype.parse=function(a){var b,c,d,g,h,k,f,n;this.DOa();b=this.ma;c=a.La&&a.La.ma||b;d=c/b;g=this.startOffset+this.length+this.y1;h=this.o.config.truncate&&60<this.C6;k=h?60:this.C6;f=this.o.LM(k,12,!1);if(this.obb||this.Ux)if(n=1===d?this.o.LM(k,12,!1):Z.from(Uint32Array,{length:k},function(){var a;a=Math.round(this.o.ab()*d);this.o.offset+=8;return a;},this),this.Ux){for(var p=this.Ux*c/1E3,r=0,u=1;u<k;u++)Math.abs(n[r]-p)>Math.abs(n[r]+n[u]-p)?(n[r]+=n[u],f[r]+=f[u]):(++r,r!==u&&(n[r]=n[u],f[r]=f[u]));++r;n=new Uint32Array(n.buffer.slice(0,4*r));f=new Uint32Array(f.buffer.slice(0,4*r));}b=new aa(this.Q0,b).add(this.KR);k={ma:c,nn:b.vk(c).Fd,offset:g,sizes:f,wd:n};this.o.Kv({U:k,Fr:h});a.sj=this;return!0;};r.prototype=new la();r.prototype.constructor=r;r.prototype.parse=function(){for(var a=[],b=(this.length-8)/2,c=0;c<b;c++)a.push(this.o.Re()/100);this.o.Kv({xk:a});return!0;};u.prototype=new la();u.prototype.constructor=u;Object.defineProperties(u.prototype,{nFa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},PGa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});u.prototype.parse=function(a){var b,c;this.se();b=this.o.LE();this.o.Vb("parsing pssh box ID = "+b);c=this.o.ab();this.o.Vb("pssh size = 0x"+c.toString(16));c=this.o.data.slice(this.o.offset,this.o.offset+c);a={ctxt:a,header:c};if(b==this.PGa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.nFa)a.type="nflxheader";else return this.o.Vb("Unrecognized pssh systemID: "+b),!0;this.o.Vb("Handling pssh type: "+a.type);this.o.Ea(a.type,a);return!0;};v.prototype=new la();v.prototype.constructor=v;v.prototype.parse=function(a){var b,c;this.se();this.o.ab();if(a=this.zq(a,!0)){b={type:"sampledescriptions",Pb:this.Pb};c=Object.keys(this.Pb);c.length&&this.Pb[c[0]].length&&(this.Pb[c[0]][0]instanceof z?b.frameDuration=new aa(this.Pb[c[0]][0].fP,this.Pb[c[0]][0].mfb):this.Pb[c[0]][0]instanceof O&&(c=this.Pb[c[0]][0].Pb[Ka.OV])&&c.length&&(c=c[0].dd,1E3!==c.WF&&1001!==c.WF||0!==c.hR%1E3?this.o.ba("Unexpected frame rate in NetflixFrameRateBox: "+c.hR+"/"+c.WF):b.frameDuration=new aa(c.WF,c.hR)));this.o.Ea(b.type,b);}return a;};l.prototype=Object.create(la.prototype);l.prototype.constructor=l;l.prototype.parse=function(){this.o.offset+=6;this.o.Re();};z.prototype=Object.create(l.prototype);z.prototype.constructor=z;z.prototype.parse=function(a){l.prototype.parse.call(this,a);this.o.offset+=8;this.o.Re();this.o.Re();this.o.offset+=4;this.mfb=this.o.Re();this.o.offset+=2;};y.prototype=Object.create(z.prototype);y.prototype.constructor=y;y.prototype.parse=function(a){var b;z.prototype.parse.call(this,a);if(a=this.zq(a,!0)){b=this.Pb.esds;b.length&&3===b[0].vy.tag&&b[0].vy.Nl.length&&4===b[0].vy.Nl[0].tag&&b[0].vy.Nl[0].Nl.length&&5===b[0].vy.Nl[0].Nl[0].tag&&(this.fP=this.Pb.esds[0].vy.Nl[0].Nl[0].fP);}return a;};w.prototype=Object.create(z.prototype);w.prototype.constructor=w;w.prototype.parse=function(a){z.prototype.parse.call(this,a);if(a=this.zq(a,!0))this.fP=1536;return a;};x.prototype=Object.create(la.prototype);x.prototype.parse=function(){this.o.bf(2);this.o.bf(5);this.o.bf(3);this.o.bf(3);this.o.dAb(1);this.o.bf(5);this.o.bf(5);return!0;};m.prototype=Object.create(la.prototype);m.prototype.parse=function(){this.V$a=this.o.Re()&7;for(var a=0;a<this.V$a;a++)this.o.bf(2),this.o.bf(5),this.o.bf(5),this.o.bf(3),this.o.wdb(1),0<this.o.bf(4)?this.o.wdb(9):this.o.bf(1);return!0;};F.prototype=new la();F.prototype.constructor=F;F.prototype.parse=function(){this.se();this.vy=this.o.wha();return!0;};P.prototype=Object.create(b.prototype);P.prototype.parse=function(){var a;this.o.Re();a=this.o.Fc();this.Thb=!!(a&128);this.wKa=!!(a&64);this.MFa=!!(a&32);this.Thb&&this.o.Re();this.wKa&&this.o.MM(this.o.Fc());this.MFa&&this.o.Re();this.xha();};M.prototype=Object.create(b.prototype);M.prototype.parse=function(){this.aab=this.o.Fc();this.o.Fc();this.o.Re();this.o.Fc();this.AQ=this.o.ab();this.DSa=this.o.ab();this.xha();};q.prototype=Object.create(b.prototype);q.prototype.zta=function(){var a;a=this.o.bf(5);31===a&&(a=32+this.o.bf(6));return a;};q.prototype.Gta=function(){15!==this.o.bf(4)||this.o.bf(24);};q.prototype.parse=function(a){if(64===a.aab)switch(this.Zv=this.zta(),this.Gta(),this.o.bf(4),this.z0a=5===this.Zv||29===this.Zv?5:-1,0<this.z0a&&(this.Gta(),this.Zv=this.zta(),22===this.Zv&&this.o.bf(4)),this.Zv){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Oma=this.o.bf(1),(this.SYa=this.o.bf(1))&&this.o.bf(14),this.o.bf(1),this.fP=3===this.Zv?256:23===this.Zv?this.Oma?480:512:this.Oma?960:1024;}this.skip();};O.prototype=Object.create(l.prototype);O.constructor=O;O.prototype.parse=function(a){l.prototype.parse.call(this,a);this.dd=this.qr([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Rwb:"int32"},{SBb:"int32"},{offset:32,type:"offset"},{E1a:"int16"},{NUa:{type:"int8",MRa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return this.zq(a,!0);};W.prototype=Object.create(la.prototype);W.constructor=W;W.prototype.parse=function(){var a;this.o.Fc();this.dya=this.o.Fc();this.o.Fc();this.o.Fc();this.o.Fc();this.Lva=this.qY(this.o.Fc()&31);this.qY(this.o.Fc());this.h6=this.Lva.length?this.Lva[0][0]:this.dya;this.tha=this.o.offset;this.startOffset+this.length<this.o.offset&&(100===this.Gzb||110===this.h6||122===this.h6||144===this.h6)&&(this.o.Fc(),this.o.Fc(),this.qY(this.o.Fc()));a=this.startOffset+this.length-this.tha;0<a&&this.Yi(a,this.tha);return!0;};W.prototype.qY=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.o.Re(),b.push(this.o.MM(d));return b;};t.prototype=Object.create(la.prototype);t.constructor=t;t.prototype.parse=function(){this.se();this.rfb=this.o.JE();"cenc"==this.rfb&&(this.o.offset-=4,this.o.hia("piff"));this.o.ab();return!0;};X.prototype=new la();X.prototype.constructor=X;X.prototype.parse=function(a){var b,c;this.se();this.o.offset+=4;b=this.o.offset;c=this.o.data.slice(b,b+16);c.toString=Y;this.o.Vb("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.o.Ea(a.type,a);return!0;};N.prototype=new la();N.prototype.constructor=N;N.prototype.parse=function(){this.se();this.o.ab();this.o.ab();this.RF=this.o.ab();this.mla=this.o.ab();this.lla=this.o.ab();this.o.Kv({RF:this.RF});return!0;};G.prototype=new la();G.prototype.constructor=G;G.prototype.parse=function(){this.se();this.al=this.o.Re();this.i9a=this.o.LM(this.al,void 0,!0);this.o.Kv({Tt:this.i9a});return!0;};ca.prototype=new la();ca.prototype.constructor=ca;ca.prototype.parse=function(a){var b,c,d,g,h,k;g=a.sj;Ca(g);a=a.La;b=g.ma;g=g.C6;Ca(a);Ca(b);Ca(g);this.se();Ca(2>this.version);this.al=this.o.Re();this.LB=new Uint16Array(g+1);c=a.O4a(b);h=c/b;k=a.vk(c).Fd;if(0===this.version)for(this.cC=new Uint16Array(),this.Xl=new Uint32Array(),a=b=0;a<=g;++a){if(this.LB[a]=b,a<this.al&&(d=this.o.Fc(),0!==d))for(c=0;c<d;++c,++b)this.cC[b]=Math.floor((this.o.ab()+1)*h)/k,this.Xl[b]=this.o.ab();}else if(1===this.version)for(c=this.o.VOa(this.al),this.o.offset+=4,this.Xl=this.o.LM(this.al,10,!1),this.o.offset-=8,this.cC=Z.from(Uint16Array,{length:this.al},function(){var a;a=Math.floor((this.o.ab()+1)*h)/k;this.o.offset+=6;return a;},this),b=a=0;a<=g;++a){for(;b<c.length&&c[b]<a;)++b;this.LB[a]=b;}this.o.Kv({Ig:{LB:this.LB,cC:this.cC,Xl:this.Xl}});return!0;};V.prototype=Object.create(d.prototype);V.prototype.constructor=V;V.prototype.parse=function(a){return d.prototype.parse.call(this,a);};fa.prototype=Object.create(d.prototype);fa.prototype.constructor=fa;fa.prototype.parse=function(a){if(!d.prototype.parse.call(this,a))return!1;if(a=this.qn("tfhd"))this.mq=a.dja?a.mq:this.o.Cv.startOffset;return!0;};ma.prototype=new la();ma.prototype.constructor=ma;ma.prototype.parse=function(){var a,b,p,r,d,h;a=this.o;b=a.offset;this.se();if(1===this.version){this.o.Vb("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.Fc(),g=a.Fc(),h=a.Fc(),k=a.Fc(),f=a.Re(),n=[],p=0;p<f;++p)n=a.Fc();p=(d&240)>>>4;r=(d&14)>>>1;d=d&1;h=16===h?1:0;g!=k&&this.o.ba("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+g+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(g){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.o.ba("VP9: Unknown colourPrimaries "+g+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,p<<4|k);a.view.setUint8(c++,r<<4|h<<1|d);f+=2;n.push(0,0);a.view.setUint16(c,f);c+=2;n.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};ja.prototype=new la();ja.prototype.constructor=ja;ja.pq="tfhd";Object.defineProperties(ja.prototype,{dja:{get:function(){return this.Wd&1;}},lfb:{get:function(){return this.Wd&2;}},HYa:{get:function(){return this.Wd&8;}},KYa:{get:function(){return this.Wd&16;}},IYa:{get:function(){return this.Wd&32;}}});ja.prototype.parse=function(){this.se();this.o.ab();this.mq=this.dja?this.o.dh():void 0;this.lfb&&this.o.ab();this.RF=this.HYa?this.o.ab():void 0;this.mla=this.KYa?this.o.ab():void 0;this.lla=this.IYa?this.o.ab():void 0;return!0;};ka.prototype=new la();ka.prototype.constructor=ka;ka.prototype.parse=function(){this.se();this.iF=1===this.version?this.o.dh():this.o.ab();return!0;};ka.prototype.xd=function(a){var b;b=this.startOffset+12;this.iF+=a;1===this.version?this.o.tQa(this.iF,b):this.o.Nk(this.iF,!1,b);};qa.prototype=new la();qa.prototype.constructor=qa;Object.defineProperties(qa.prototype,{Yka:{get:function(){return this.Wd&1;}},A1:{get:function(){return this.Wd&4;}},lS:{get:function(){return this.Wd&256;}},mS:{get:function(){return this.Wd&512;}},Hua:{get:function(){return this.Wd&1024;}},j7:{get:function(){return this.Wd&2048;}}});qa.prototype.parse=function(){this.se();this.mja=this.o.offset;this.fd=this.o.ab();this.Aq=this.Yka?this.o.rY():0;this.A1&&this.o.ab();this.JI=(this.lS?4:0)+(this.mS?4:0)+(this.Hua?4:0)+(this.j7?4:0);this.XO=this.o.offset;Ca(this.Yka,"Expected data offset to be present in Track Run");Ca(this.length-(this.o.offset-this.startOffset)===this.fd*this.JI,"Expected remaining data in box to be sample information");return!0;};qa.prototype.KE=function(a,b,c){var d,g,h;d=this.lS?this.o.ab():a.RF;g=this.mS?this.o.ab():a.mla;a=this.Hua?this.o.ab():a.lla;h=0===this.version?this.j7?this.o.ab():0:this.j7?this.o.rY():0;return{kfb:h,FAb:a,Azb:c+h-(void 0!==b?b:h),wr:g,KI:d};};qa.prototype.xd=function(a,b,c,d,g,h,k){var f,n,p,r;f=0;n=0;this.o.offset=this.XO;for(d=0;d<g;++d)r=this.KE(b,p,n),0==d&&(p=r.kfb),f+=r.wr,n+=r.KI;d=g;g=this.o.offset;r=this.KE(b,p,n);this.pC=d;this.lhb=n;if(k){if(this.VB=this.Aq+f,this.sr=0,d===this.fd)return!0;}else if(this.VB=this.Aq,this.sr=f,0===d)return!0;if(0===d||d===this.fd)return!1;this.Kla=!0;if(k){this.sr+=r.wr;for(k=d+1;k<this.fd;++k)r=this.KE(b,p,n),this.sr+=r.wr;this.o.offset=this.mja;this.fd=d;this.o.Nk(this.fd);this.o.xM(h);this.A1&&(this.o.offset+=4);this.Yi(this.length-(g-this.startOffset),g);}else b=g-this.XO,this.o.offset=this.mja,this.fd-=d,this.o.Nk(this.fd),this.Aq+=f,this.o.xM(h),this.o.iia(this.Aq),this.A1&&(this.o.offset+=4),this.Yi(b,this.o.offset);c.Yi(this.sr,a.mq+this.VB);return!0;};qa.prototype.zeb=function(a,b,c,d,g,h){var f;if(d){d=this.VB;for(var k=this.fd-1;0<=k&&this.fd-k<=g;--k){this.o.offset=this.XO+k*this.JI;f=this.KE(b);if(f.KI!=h.duration){this.o.ba("Could not replace sample of duration "+f.KI+" with silence of duration "+h.duration);break;}if(this.mS)this.o.offset-=this.JI-(this.lS?4:0),this.o.Nk(h.zr.byteLength);else if(h.zr.byteLength!==f.wr){this.o.ba("Cannot replace sample with default size with silence of different size");break;}d-=f.wr;c.Bz(f.wr,h.zr,a.mq+d);}}else for(d=this.VB+this.sr,k=0;k<this.fd&&k<g;++k){this.o.offset=this.XO+(k+this.pC)*this.JI;f=this.KE(b);if(f.KI!=h.duration){this.o.ba("Could not replace sample of duration "+f.KI+" with silence of duration "+h.duration);break;}if(this.mS)this.o.offset-=this.JI-(this.lS?4:0),this.o.Nk(h.zr.byteLength);else if(h.zr.byteLength!==f.wr){this.o.ba("Cannot replace sample with default size with silence of different size");break;}c.Bz(f.wr,h.zr,a.mq+d);d+=f.wr;}};va.prototype=Object.create(la.prototype);va.prototype.constructor=va;Object.defineProperties(va.prototype,{cw:{get:function(){return this.Wd&1;}}});va.prototype.parse=function(){this.se();this.cw&&this.o.JE();this.cw&&this.o.ab();this.JYa=this.o.Fc();this.fd=this.o.ab();this.o.MM(this.fd);return!0;};va.prototype.xd=function(a,b){if(a&&0===this.JYa){a=b?this.fd-a:a;this.o.offset=this.startOffset+13+(this.cw?8:0);this.fd-=a;this.o.Nk(this.fd);this.i7=0;if(b)this.o.offset+=this.fd;else{for(b=0;b<a;++b)this.i7+=this.o.Fc();this.o.offset-=a;}this.Yi(a,this.o.offset);}return!0;};A.prototype=Object.create(la.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{cw:{get:function(){return this.Wd&1;}}});A.prototype.parse=function(){this.se();this.cw&&this.o.JE();this.cw&&this.o.ab();this.al=this.o.ab();Ca(1===this.al,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Aq=0===this.version?this.o.rY():this.o.WOa();return!0;};A.prototype.xd=function(a,b){this.Aq+=a;this.o.offset=this.startOffset+16+(this.cw?8:0)+(0===this.version?0:4);this.o.xM(b);this.o.iia(this.Aq);return!0;};wa.prototype=Object.create(la.prototype);wa.prototype.constructor=wa;Object.defineProperties(wa.prototype,{zsa:{get:function(){return this.Wd&1;}},tkb:{get:function(){return this.Wd&2;}}});wa.prototype.parse=function(){this.se();this.zsa&&(this.o.ab(),this.f7a=this.o.MM(16));this.fd=this.o.ab();return!0;};wa.prototype.xd=function(a,b){var c,d;c=b?this.fd-a:a;this.o.offset=this.startOffset+28+(this.zsa?20:0);this.fd-=c;this.o.Nk(this.fd);a=this.o.offset;if(this.tkb)for(c=b?this.fd:c;0<c;--c){this.o.offset+=8;d=this.o.Re();this.o.offset+=6*d;}else this.o.offset+=8*(b?this.fd:c);b?this.Yi(this.length-(this.o.offset-this.startOffset),this.o.offset):this.Yi(this.o.offset-a,a);};D.prototype=Object.create(la.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.se();return!0;};D.prototype.xd=function(a,b,c){c?this.Yi(b-a,this.startOffset+12+a):this.Yi(a,this.startOffset+12);return!0;};Ga.prototype=Object.create(la.prototype);Ga.prototype.constructor=Ga;Ga.prototype.parse=function(){this.se();this.o.JE();1===this.version&&this.o.ab();this.al=this.o.ab();this.LI=[];for(var a=0;a<this.al;++a)for(var b=this.o.ab(),c=this.o.ab(),d=0;d<b;++d)this.LI.push(c);return!0;};Ga.prototype.xd=function(a,b){this.LI=b?this.LI.slice(0,a):this.LI.slice(a);a=this.LI.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.o.offset=this.startOffset+16+(1===this.version?4:0);this.o.Nk(a.length);a.forEach(function(a){this.o.Nk(a.count);this.o.Nk(a.group);}.bind(this));this.al>a.length&&this.Yi(8*(this.al-a.length));this.al=a.length;return!0;};S.prototype=Object.create(la.prototype);S.prototype.constructor=S;S.prototype.parse=function(){return!0;};cb={Pb:{moov:k,trak:d,mdia:d,mdhd:p,minf:d,pssh:u,encv:O,schi:d,sidx:n,sinf:d,stbl:d,stsd:v,tenc:X,mvex:d,trex:N,moof:V,traf:fa,tfhd:ja,trun:qa,sbgp:Ga,sdtp:D,saiz:va,saio:A,tfdt:ka,mdat:S,vmaf:r},Ajb:{vpcC:ma,SmDm:ba("smdm"),CoLL:ba("coll")},zjb:{avcC:W,schm:t},Fua:{mp4a:y,"ac-3":w,"ec-3":w,esds:F,dac3:x,dec3:m,avc1:O,avc3:O,avc2:O,avc4:O,hvc1:O,hev1:O},Nl:{base:b,3:P,4:M,5:q}};[td,yb,rb,c,ob,dc,sb].forEach(function(a){cb.Pb[a.pq]=a;});cb.Pb[Ka.lFa]=h;cb.Pb[Ka.mFa]=g;cb.Pb[Ka.kGa]=X;cb.Pb[Ka.PV]=G;cb.Pb[Ka.NV]=ca;cb.Pb[Ka.wca]=wa;cb.Fua[Ka.OV]=a;cb.Slb=la;f.K=cb;},function(f){f.K=function(c,a){var b;if(!Array.isArray(c.ska))return c;b=Object.create(c);c.ska.forEach(function(c){if(void 0!==c.U9a&&a.duration>=c.U9a&&c.config)for(var d in c.config)b[d]=c.config[d];});return b;};},function(f){var c;c=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,c){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),c*a.byteLength/a.length);}:function(a,b,c){a.set(b,c);};f.K={from:function(a,b,c,k){a=new a(b.length);for(var d="function"===typeof c,g=0;g<b.length;++g)a[g]=d?c.call(k,b[g],g,b):b[g];return a;},set:c};},function(f){f.K={T4a:function(c,a,b,d,k){var h;h=new Uint8Array(b);d=d||1;for(var g=0;g<b;++g,a+=d)h[g]=c.getUint8(a,k);return h;},S4a:function(c,a,b,d,k){var h;h=new Uint16Array(b);d=d||2;for(var g=0;g<b;++g,a+=d)h[g]=c.getUint16(a,k);return h;},Xna:function(c,a,b,d,k){var h;h=new Uint32Array(b);d=d||4;for(var g=0;g<b;++g,a+=d)h[g]=c.getUint32(a,k);return h;},hwb:function(c,a,b,d,k){var h;h=new Int8Array(b);d=d||1;for(var g=0;g<b;++g,a+=d)h[g]=c.getInt8(a,k);return h;},fwb:function(c,a,b,d,k){var h;h=new Int16Array(b);d=d||2;for(var g=0;g<b;++g,a+=d)h[g]=c.getInt16(a,k);return h;},gwb:function(c,a,b,d,k){var h;h=new Int32Array(b);d=d||4;for(var g=0;g<b;++g,a+=d)h[g]=c.getInt32(a,k);return h;}};},function(f,c,a){(function(){var b2t,p,n,r,u,v,l,z,D24,d24,N24;function b(a,b,c){var k2t,d,g,h;k2t=2;while(k2t!==3){switch(k2t){case 2:k2t=1;break;case 1:k2t=c?5:9;break;case 4:return d;break;case 9:a.some(function(a){var L2t;L2t=2;while(L2t!==5){switch(L2t){case 3:d=a.m;return b<a.b;break;L2t=5;break;case 2:d=a.m;return b<=a.b;break;}}});k2t=4;break;case 5:a.some(function(a){var z2t,c;z2t=2;while(z2t!==6){switch(z2t){case 2:c=a.b;a=a.m;z2t=4;break;case 4:z2t=b<=c?3:9;break;case 9:g=c;d=h=a;return!1;break;case 3:return d=h&&c!==g?h+(a-h)/(c-g)*(b-g):a,!0;break;}}});k2t=4;break;}}}function c(a,b,c){var p2t;p2t=2;while(p2t!==5){switch(p2t){case 2:b=b.ja?b.ja.sa:0;return a.JSa?(a=v(a.ISa,c.fj-c.we,1),b*(1-a)):b*a.jT/100;break;}}}b2t=2;function g(a,b){var a2t;a2t=2;while(a2t!==7){switch(a2t){case 9:this.GPa=!!a.Kl.simpleScaling;a.Kl.niqrfilter&&a.Kl.niqrcurve&&(this.bY=a.Kl.niqrfilter,this.JNa=u(a.Kl.niqrcurve,1,0,4));a2t=7;break;case 2:k.call(this,a,b);Array.isArray(a.Kl.curves)?(this.Qfa=u(a.Kl.curves[0],0,0,1),this.Pfa=u(a.Kl.curves[1],0,0,1)):this.Ofa=u(a.Kl.curves,0,0,1);this.iLa=r(a.Kl.threshold||6E3,1,1E5);this.hLa=r(a.Kl.gamma||1,.1,10);this.bga=a.Kl.filter;a2t=9;break;}}}function h(a,b){var i2t;i2t=2;while(i2t!==1){switch(i2t){case 4:k.call(this,a,b);i2t=0;break;i2t=1;break;case 2:k.call(this,a,b);i2t=1;break;}}}function k(a,b){var m2t;m2t=2;while(m2t!==9){switch(m2t){case 2:this.fE=null;this.H=a;this.Gga=b;this.gta=function(a,b){var D2t;D2t=2;while(D2t!==1){switch(D2t){case 2:return this.oha(a,b);break;case 4:return this.oha(a,b);break;D2t=1;break;}}}.bind(this);m2t=3;break;case 3:this.hta=function(a,b){var Y2t;Y2t=2;while(Y2t!==1){switch(Y2t){case 4:return this.pha(a,b);break;Y2t=1;break;case 2:return this.pha(a,b);break;}}}.bind(this);m2t=9;break;}}}while(b2t!==24){D24="1";D24+="SIYbZrNJC";D24+="p9";d24="m";d24+="edia|";d24+="asejs";N24="ASEJS_PR";N24+="EDI";N24+="CTOR";switch(b2t){case 19:h.prototype.pha=function(a,b){var O2t,c;O2t=2;while(O2t!==3){switch(O2t){case 4:return this.oX(a);break;case 14:return this.oX(a);break;O2t=3;break;case 2:c=this.EPa(a,this.H);a=a.ja?a.ja.sa*(100-this.sMa(b,c))/100|0:0;O2t=4;break;}}};h.prototype.EPa=function(a,b){var R2t,c,d;R2t=2;while(R2t!==9){switch(R2t){case 2:c=!1;d=b.CF;a.Mm?c=!0:b.m8&&a.ja&&a.ja.sa<d?c=!0:a.mr&&(c=!0);return c;break;}}};b2t=17;break;case 2:p=a(8);a(13);new(a(10)).Console(N24,d24);n=a(31);b2t=9;break;case 9:r=n.xF;u=n.Uja;v=n.ema;b2t=6;break;case 6:l=n.o0a;b2t=14;break;case 13:k.prototype.lC=function(a){var S2t;S2t=2;while(S2t!==1){switch(S2t){case 2:this.fE=a;S2t=1;break;case 4:this.fE=a;S2t=7;break;S2t=1;break;}}};k.prototype.oX=function(a){var u2t,b,c;u2t=2;while(u2t!==9){switch(u2t){case 2:b=this.H;p.Ja(this.fE)?c=a*(100-b.jT)/100:(c=this.fE,c=a<2*c?a/2:a-c);b.P3&&this.Gga?(b=this.Gga,a=Math.max(a<2*b?a/2:a-b,c)):a=c;return a;break;}}};h.prototype=Object.create(k.prototype);h.prototype.sMa=function(a,c){var A2t,d,g;A2t=2;while(A2t!==8){switch(A2t){case 1:d=this.H;g=c?d.N_:d.NZ;c=c?d.O_:d.PZ;p.isArray(c)&&(g=b(c,a.fj-a.we,d.OZ));A2t=9;break;case 9:return g;break;case 2:A2t=1;break;}}};h.prototype.oha=function(a,b){var y2t;y2t=2;while(y2t!==1){switch(y2t){case 2:return c(this.H,a,b);break;case 4:return c(this.H,a,b);break;y2t=1;break;}}};b2t=19;break;case 25:D24;b2t=24;break;case 14:z=n.Kua;b2t=13;break;case 17:Object.create(h.prototype);g.prototype=Object.create(k.prototype);g.prototype.oha=function(a,b){var r2t;r2t=2;while(r2t!==1){switch(r2t){case 4:return c(this.H,a,b);break;r2t=1;break;case 2:return c(this.H,a,b);break;}}};g.prototype.pha=function(a,b){var f2t,c,d,g;f2t=2;while(f2t!==13){switch(f2t){case 2:c=a.ja&&a.ja.sa||0;d=Math.pow(Math.max(1-(a[this.bga]&&a[this.bga].sa||c)/this.iLa,0),this.hLa);g=b.fj-b.we;f2t=3;break;case 8:this.Ofa?d*=v(this.Ofa,g,d):this.GPa?(b=v(this.Qfa,g,1),g=v(this.Pfa,g,1),d=b*d+g*(1-d)):d=v(z(this.Qfa,this.Pfa,d),g,1);a=this.bY&&a[this.bY]&&a[this.bY].Vt;f2t=6;break;case 3:f2t=a.fta?9:8;break;case 9:return this.oX((1-a.fta)*c);break;case 6:void 0!==a&&(a=l(this.JNa,a),d=Math.min(d*a,1));q011.K24(0);return this.oX(q011.M24(d,c,1));break;}}};f.K=function(a,b){var g2t,o2t,W24;g2t=2;while(g2t!==5){W24="mani";W24+="f";W24+="ol";W24+="d";switch(g2t){case 1:return new g(a,b);break;case 4:return new h(a,b);break;case 2:o2t=a.t4;g2t=o2t===W24?1:4;break;case 7:return new g(a,b);break;g2t=5;break;case 14:return new h(a,b);break;g2t=5;break;}}};b2t=25;break;}}}());},function(f,c,a){var d;function b(){this.Xi=void 0;this.Ns=0;}d=a(8);b.prototype.me=function(){return 0!==this.Ns&&this.Xi?{p25:this.Xi.th,p50:this.Xi.ng,p75:this.Xi.uh,c:this.Ns}:null;};b.prototype.xh=function(a){if(!(!d.Ja(a)&&d.has(a,"p25")&&d.has(a,"p50")&&d.has(a,"p75")&&d.has(a,"c")&&d.isFinite(a.p25)&&d.isFinite(a.p50)&&d.isFinite(a.p75)&&d.isFinite(a.c)))return this.Xi=void 0,this.Ns=0,!1;this.Xi={th:a.p25,ng:a.p50,uh:a.p75};this.Ns=a.c;};b.prototype.get=function(){return{Wm:this.Xi,Uo:this.Ns};};b.prototype.set=function(a,b){this.Xi=a;this.Ns=b;};b.prototype.reset=function(){this.Xi=void 0;this.Ns=0;};b.prototype.toString=function(){return"IQRHist("+this.Xi+","+this.Ns+")";};f.K=b;},function(f){function c(){}function a(a){this.Yha=a;this.Ik=[];this.ie=null;}c.prototype.clear=function(){this.Wc=null;this.size=0;};c.prototype.find=function(a){var c;for(var b=this.Wc;null!==b;){c=this.Ti(a,b.data);if(0===c)return b.data;b=b.De(0<c);}return null;};c.prototype.lowerBound=function(a){var g;for(var b=this.Wc,c=this.iterator(),h=this.Ti;null!==b;){g=h(a,b.data);if(0===g)return c.ie=b,c;c.Ik.push(b);b=b.De(0<g);}for(g=c.Ik.length-1;0<=g;--g)if(b=c.Ik[g],0>h(a,b.data))return c.ie=b,c.Ik.length=g,c;c.Ik.length=0;return c;};c.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Ti;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};c.prototype.min=function(){var a;a=this.Wc;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};c.prototype.max=function(){var a;a=this.Wc;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};c.prototype.iterator=function(){return new a(this);};c.prototype.wc=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.ie?this.ie.data:null;};a.prototype.next=function(){var a;if(null===this.ie){a=this.Yha.Wc;null!==a&&this.Oga(a);}else if(null===this.ie.right){do if(a=this.ie,this.Ik.length)this.ie=this.Ik.pop();else{this.ie=null;break;}while(this.ie.right===a);}else this.Ik.push(this.ie),this.Oga(this.ie.right);return null!==this.ie?this.ie.data:null;};a.prototype.Fx=function(){var a;if(null===this.ie){a=this.Yha.Wc;null!==a&&this.Jga(a);}else if(null===this.ie.left){do if(a=this.ie,this.Ik.length)this.ie=this.Ik.pop();else{this.ie=null;break;}while(this.ie.left===a);}else this.Ik.push(this.ie),this.Jga(this.ie.left);return null!==this.ie?this.ie.data:null;};a.prototype.Oga=function(a){for(;null!==a.left;)this.Ik.push(a),a=a.left;this.ie=a;};a.prototype.Jga=function(a){for(;null!==a.right;)this.Ik.push(a),a=a.right;this.ie=a;};f.K=c;},function(f,c,a){var d,k;function b(a){this.H={xH:a.maxc||25,I_:a.c||.5,$kb:a.w||15E3,fw:a.b||5E3};d.call(this,this.H.$kb,this.H.fw);this.PE();}d=a(105);k=a(194).TDigest;b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.iI(0);d.prototype.shift.call(this);null!==a&&(this.md.push(a,1),this.Rs=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.md.push(a,1);this.Rs=!0;d.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Una();};b.prototype.Lq=function(){var a;a=this.Una();return{min:a.min,p10:a.dI,p25:a.th,p50:a.ng,p75:a.uh,p90:a.eI,max:a.max,centroidSize:a.gUa,sampleSize:a.dC,centroids:a.Jf};};b.prototype.Una=function(){var a;if(0===this.md.size())return null;a=this.md.pf([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Rs||!this.Lc)this.Rs=!1,this.Lc={min:a[0],dI:a[1],th:a[2],ng:a[3],uh:a[4],eI:a[5],max:a[6],pf:this.md.pf.bind(this.md),gUa:this.md.size(),dC:this.md.n,Jf:this.w2a(),Lq:this.Lq.bind(this)};return this.Lc;};b.prototype.w2a=function(){var a;if(0===this.md.size())return null;if(!this.Rs&&this.Lc)return this.Lc.centroids;a=this.md.pf([.25,.75]);if(a[0]===a[1])return null;this.md.size()>this.H.xH&&this.md.wq();a=this.md.ey(!1).map(function(a){return{mean:a.Zd,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.md.size();};b.prototype.toString=function(){return"btdtput("+this.Mz+","+this.Ob+","+this.Hg+"): "+this.md.summary();};b.prototype.PE=function(){this.md=new k(this.H.I_,this.H.xH);};f.K=b;},function(f,c,a){var d,k;function b(a,b,c,f){d.call(this,c,f);this.Kn=new k(a);this.rNa=b;}d=a(105);k=a(195);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.iI(0);d.prototype.shift.call(this);null!==a&&this.Kn.iZ(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.Kn.iZ(a);d.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.n2();return{dC:this.TA(),Wm:a,Vt:a.ng?(a.uh-a.th)/a.ng:void 0};};b.prototype.TA=function(){return this.Kn.TA();};b.prototype.n2=function(){return this.Kn.TA()<this.rNa?{th:void 0,ng:void 0,uh:void 0,dC:void 0,pf:void 0}:{th:this.Kn.dt(25),ng:this.Kn.dt(50),uh:this.Kn.dt(75),dC:this.Kn.TA(),pf:this.Kn.dt.bind(this.Kn)};};b.prototype.toString=function(){return"biqr("+this.Mz+","+this.Ob+","+this.Hg+")";};f.K=b;},function(f,c,a){var k;function b(a){this.Qv=a;this.reset();}function d(a){this.Hg=new b(a);this.Vc=0;this.Bb=null;}k=a(8);b.prototype.KM=function(a,b){this.Aa+=a;this.bg+=a;this.Kc+=b;this.ni.push({d:a,co:b});};b.prototype.HE=function(){var a;for(;this.bg>this.Qv;){a=this.ni.shift();this.Kc-=a.co;this.bg-=a.d;}};b.prototype.reset=function(){this.ni=[];this.Aa=null;this.bg=this.Kc=0;};b.prototype.setInterval=function(a){this.Qv=a;this.HE();};b.prototype.start=function(a){k.Ja(this.Aa)&&(this.Aa=a);};b.prototype.add=function(a,b,c){k.Ja(this.Aa)&&(this.Aa=b);b>this.Aa&&this.KM(b-this.Aa,0);this.KM(c>this.Aa?c-this.Aa:0,a);this.HE();};b.prototype.get=function(){return{sa:Math.floor(8*this.Kc/this.bg),ug:0};};d.prototype.reset=function(){this.Hg.reset();this.Vc=0;this.Bb=null;};d.prototype.add=function(a,b,c){!k.Ja(this.Bb)&&c>this.Bb&&(b>this.Bb&&(this.Vc+=b-this.Bb),this.Bb=null);this.Hg.add(a,b-this.Vc,c-this.Vc);};d.prototype.start=function(a){!k.Ja(this.Bb)&&a>this.Bb&&(this.Vc+=a-this.Bb,this.Bb=null);this.Hg.start(a-this.Vc);};d.prototype.stop=function(a){this.Bb=k.Ja(this.Bb)?a:Math.min(a,this.Bb);};d.prototype.get=function(){return this.Hg.get();};d.prototype.setInterval=function(a){this.Hg.setInterval(a);};f.K={wmb:b,eBa:d};},function(f,c,a){var h;function b(a,b){this.reset();this.Cgb(a,b);}function d(a,b){this.fha=b;this.gia=1.25;this.setInterval(a);this.reset();}function k(a,b){this.As=new d(a,b);this.Vc=0;this.Bb=null;}h=a(8);b.prototype.Cgb=function(a,b){this.jv=Math.pow(.5,1/a);this.sE=a;this.Cs=h.aa(b)?b:0;};b.prototype.reset=function(a){a&&a.sa&&h.aa(a.sa)?a.ug&&h.aa(a.ug)?(this.Gh=this.Cs,this.ji=a.sa,this.Fn=a.ug+a.sa*a.sa):(this.Gh=this.Cs,this.ji=a.sa,this.Fn=a.sa*a.sa):this.Fn=this.ji=this.Gh=0;};b.prototype.add=function(a){var b;if(h.aa(a)){this.Gh++;b=this.Gh>this.Cs?this.jv:1-1/this.Gh;this.ji=b*this.ji+(1-b)*a;this.Fn=b*this.Fn+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.Gh)return{sa:0,ug:0};a=this.ji;b=this.Fn;if(0===this.Cs)c=1-Math.pow(this.jv,this.Gh),a=a/c,b=b/c;c=a*a;return{sa:Math.floor(a),ug:Math.floor(b>c?b-c:0)};};b.prototype.me=function(){var a;if(0===this.Gh)return null;a={a:Math.round(this.ji),s:Math.round(this.Fn)};this.Gh<this.Cs&&(a.c=this.Gh);this.Cs||(a.n=this.Gh);return a;};b.prototype.xh=function(a){if(h.Ja(a)||!h.has(a,"a")||!h.has(a,"s")||!h.isFinite(a.a)||!h.isFinite(a.s))return this.Fn=this.ji=this.Gh=0,!1;this.ji=a.a;this.Fn=a.s;this.Cs?h.has(a,"c")&&h.aa(a.c)?this.Gh=a.c:h.has(a,"n")&&h.aa(a.n)?(this.Gh=a.n,a=1-Math.pow(this.jv,a.n),this.ji/=a,this.Fn/=a):this.Gh=this.Cs:h.has(a,"n")&&h.aa(a.n)?this.Gh=a.n:this.Gh=16*this.sE;return!0;};d.prototype.setInterval=function(a){this.sE=a;this.jv=-Math.log(.5)/a;};d.prototype.reset=function(a){this.Aa=this.qc=null;this.lN=this.fha||0;a&&h.isFinite(a.sa)?(this.jE=0,this.ji=a.sa):this.ji=this.jE=0;};d.prototype.start=function(a){h.Ja(this.qc)&&(this.Aa=this.qc=a);};d.prototype.add=function(a,b,c){var d,g;h.Ja(this.qc)&&(this.Aa=this.qc=b);this.qc=Math.min(this.qc,b);this.Aa<this.qc+this.lN&&c>this.qc+this.lN&&0<this.Aa-this.qc&&(this.ji=this.jE/(this.Aa-this.qc));b=Math.max(c-b,1);a=8*a/b;d=this.jv;g=c>this.Aa?c:this.Aa;this.ji=this.ji*(g>this.Aa?Math.exp(-d*(g-this.Aa)):1)+a*(1-Math.exp(-d*b))*(c>g?Math.exp(-d*(g-c)):1);this.Aa=g;this.jE+=a*b;};d.prototype.get=function(a){var b;a=Math.max(a,this.Aa);b=this.ji*Math.exp(-this.jv*(a-this.Aa));0===this.lN?(a=1-Math.exp(-this.jv*(a-this.qc)),0<a&&(b/=a)):null!==this.Aa&&this.Aa<=this.qc+this.lN&&(a=this.jE/Math.max(this.Aa-this.qc,1),b=b<a*this.gia&&b>a/this.gia?b:a);return{sa:Math.floor(b)};};d.prototype.toString=function(){return"ewmav("+this.sE+","+this.fha+")";};k.prototype.setInterval=function(a){this.As.setInterval(a);};k.prototype.reset=function(a){this.As.reset(a);this.Vc=0;this.Bb=null;};k.prototype.start=function(a){!h.Ja(this.Bb)&&a>this.Bb&&(this.Vc+=a-this.Bb,this.Bb=null);this.As.start(a-this.Vc);};k.prototype.add=function(a,b,c){!h.Ja(this.Bb)&&c>this.Bb&&(this.Vc+=b>this.Bb?b-this.Bb:0,this.Bb=null);this.As.add(a,b-this.Vc,c-this.Vc);};k.prototype.stop=function(a){this.Bb=Math.max(h.Ja(this.As.Aa)?0:this.As.Aa+this.Vc,h.Ja(this.Bb)?a:Math.min(this.Bb,a));};k.prototype.get=function(a){return this.As.get((h.Ja(this.Bb)?a:this.Bb)-this.Vc);};k.prototype.toString=function(){return this.As.toString();};f.K={fBa:b,xmb:d,dBa:k};},function(f,c,a){f.K={zvb:a(311),YAb:a(310),hmb:a(578),gmb:a(309),imb:a(308),daa:a(572)};},function(f){var n,r,u,v,l,z;function c(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(n===setTimeout)return setTimeout(a,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(a,0);try{return n(a,0);}catch(w){try{return n.call(null,a,0);}catch(x){return n.call(this,a,0);}}}function d(b){if(r===clearTimeout)clearTimeout(b);else if(r!==a&&r||!clearTimeout)try{r(b);}catch(w){try{r.call(null,b);}catch(x){r.call(this,b);}}else r=clearTimeout,clearTimeout(b);}function k(){v&&l&&(v=!1,l.length?u=l.concat(u):z=-1,u.length&&h());}function h(){var a;if(!v){a=b(k);v=!0;for(var c=u.length;c;){l=u;for(u=[];++z<c;)l&&l[z].kS();z=-1;c=u.length;}l=null;v=!1;d(a);}}function g(a,b){this.O1a=a;this.Zn=b;}function p(){}f=f.K={};try{n="function"===typeof setTimeout?setTimeout:c;}catch(y){n=c;}try{r="function"===typeof clearTimeout?clearTimeout:a;}catch(y){r=a;}u=[];v=!1;z=-1;f.Fyb=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];u.push(new g(a,c));1!==u.length||v||b(h);};g.prototype.kS=function(){this.O1a.apply(null,this.Zn);};f.title="browser";f.vtb=!0;f.h0a={};f.dtb=[];f.version="";f.QBb={};f.on=p;f.addListener=p;f.once=p;f.Ryb=p;f.removeListener=p;f.removeAllListeners=p;f.emit=p;f.yzb=p;f.zzb=p;f.listeners=function(){return[];};f.stb=function(){throw Error("process.binding is not supported");};f.yub=function(){return"/";};f.Ptb=function(){throw Error("process.chdir is not supported");};f.EBb=function(){return 0;};},function(f,c,a){var g,p,n,r,u,l;function b(a){var b;b=a.zX;this.H=a;this.Cg=p.Uc.HAVE_NOTHING;this.kz=a.kz;a=new u(this.kz);this.SE=a.create("throughput-location-history",b);this.Tp=a.create("respconn-location-history",b);this.Jp=a.create("respconn-location-history",b);this.aN=a.create("throughput-tdigest-history",b);this.oM=a.create("throughput-iqr-history",b);this.Aa=null;}function d(a,c,d,g,h){this.Ip=new b(h);this.Hl=[];this.qNa=n.time.fa()-Date.now()%864E5;this.Gp=null;this.H=h;for(a=0;a<g;++a)this.Hl.push(new b(h));}function k(a,b,c){return g.has(a,b)?a[b]:a[b]=c;}function h(a,c){var d;this.H=a;this.dN=c;this.i0a();this.rE=new b(this.H);this.xE();d=a.s0;d&&(d={bc:p.Uc.hD,ja:{sa:parseInt(d,10),ug:0},Le:{sa:0,ug:0},Im:{sa:0,ug:0}},this.get=function(){return d;});}g=a(8);p=a(13);c=a(23);n=a(10);r=c.cCa;u=a(312).daa;new n.Console("ASEJS_LOCATION_HISTORY","media|asejs");l={bc:p.Uc.HAVE_NOTHING};b.prototype.Sv=function(a,b){this.Cg=b;this.SE.add(a);this.aN.add(a);this.Aa=n.time.fa();};b.prototype.ky=function(a,b){this.oM.set(a,b);};b.prototype.fq=function(a){this.Tp.add(a);};b.prototype.bq=function(a){this.Jp.add(a);};b.prototype.me=function(){var a,b,c,d,h,k;a=this.SE.me();b=this.Tp.me();c=this.Jp.me();d=this.oM.me();h=this.aN.me();if(g.Ja(a)&&g.Ja(b)&&g.Ja(c))return null;k={c:this.Cg,t:n.time.MH(this.Aa)};g.Ja(a)||(k.tp=a);g.Ja(b)||(k.rt=b);g.Ja(c)||(k.hrt=c);g.Ja(d)||(k.iqr=d);g.Ja(h)||(k.td=h);return k;};b.prototype.xh=function(a){var b;b=n.time.now();if(!(a&&g.has(a,"c")&&g.has(a,"t")&&g.has(a,"tp")&&g.isFinite(a.c)&&g.isFinite(a.t))||0>a.c||a.c>p.Uc.hD||a.t>b||!this.SE.xh(a.tp))return this.Cg=p.Uc.HAVE_NOTHING,this.Gp=this.Aa=null,this.SE.xh(null),this.Tp.xh(null),this.Jp.xh(null),!1;this.Cg=a.c;this.Aa=n.time.gR(a.t);this.Tp.xh(g.has(a,"rt")?a.rt:null);this.Jp.xh(g.has(a,"hrt")?a.hrt:null);g.has(a,"iqr")&&this.oM.xh(a.iqr);g.has(a,"td")&&this.aN.xh(a.td);return!0;};b.prototype.get=function(){var a,b,c,d,h,k;a=this.H;if(g.Ja(this.Aa))return l;b=(n.time.fa()-this.Aa)/1E3;b>a.MMa?this.Cg=p.Uc.HAVE_NOTHING:b>a.lMa&&(this.Cg=Math.min(this.Cg,p.Uc.Ur));a=this.SE.get();c=this.Tp.get();d=this.Jp.get();h=this.oM.get();k=this.aN.get();b={Oj:b,bc:this.Cg,ja:a,Le:c,Im:d,kj:h,tk:k};a&&(b.oBb=r.prototype.W5.bind(a));c&&(b.tAb=r.prototype.W5.bind(c));d&&(b.$wb=r.prototype.W5.bind(d));return b;};b.prototype.time=function(){return this.Aa;};b.prototype.xs=function(){this.get();n.time.fa();};d.prototype.mi=function(){return((n.time.fa()-this.qNa)/1E3/3600/(24/this.Hl.length)|0)%this.Hl.length;};d.prototype.me=function(){var a;a={g:this.Ip.me(),h:this.Hl.map(function(a){return a.me();})};g.Ja(this.Gp)||(a.f=n.time.MH(this.Gp));return a;};d.prototype.xh=function(a){var b,c;if(!this.Ip.xh(a.g))return!1;b=this.Hl.length;c=!1;this.Hl.forEach(function(d,g){c=!d.xh(a.h[g*a.h.length/b|0])||c;});this.Gp=g.has(a,"f")?n.time.gR(a.f):null;return c;};d.prototype.Sv=function(a,b){this.Ip.Sv(a,b);this.Hl[this.mi()].Sv(a,b);this.Gp=null;};d.prototype.ky=function(a,b){this.Ip.ky(a,b);this.Hl[this.mi()].ky(a,b);};d.prototype.fq=function(a){this.Ip.fq(a);this.Hl[this.mi()].fq(a);};d.prototype.bq=function(a){this.Ip.bq(a);this.Hl[this.mi()].bq(a);};d.prototype.fail=function(a){this.Gp=a;};d.prototype.get=function(){var a,b;if(!g.Ja(this.Gp)){if((n.time.fa()-this.Gp)/1E3<this.H.kMa)return{bc:p.Uc.HAVE_NOTHING,Ew:!0};this.Gp=null;}a=this.Hl[this.mi()].get();b=this.Ip.get();a=a.bc>=b.bc?a:b;a.Ew=!1;return a;};d.prototype.time=function(){return this.Ip.time();};d.prototype.xs=function(a){this.Ip.xs(a+": global");this.Hl.forEach(function(b,c,d){g.Ja(b.time())||(c=24*c/d.length,b.xs(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};h.prototype.oga=function(a,b){var c;c=this.H;a=k(this.mz,a,{});return k(a,b,new d(0,0,0,c.lha||4,c));};h.prototype.xE=function(){var a,b;a=n.storage.get("lh");b=n.storage.get("gh");a&&this.QE(a);b&&this.vPa(b);};h.prototype.HX=function(){var a;a={};g.wc(this.mz,function(b,c){g.wc(b,function(b,d){k(a,c,{})[d]=b.me();},this);},this);return a;};h.prototype.vPa=function(a){this.rE.xh(a);};h.prototype.QE=function(a){var b,c;b=null;c=this.H;g.wc(a,function(a,h){g.wc(a,function(a,f){var n;n=new d(0,0,0,c.lha||4,c);n.xh(a)?(k(this.mz,h,{})[f]=n,b=!0):g.Ja(b)&&(b=!1);},this);},this);return g.Ja(b)?!0:b;};h.prototype.save=function(){var a;a=this.HX();n.storage.set("lh",a);n.storage.set("gh",this.rE.me());this.dN&&this.dN.H7(this.rE.me());};h.prototype.i0a=function(){this.mz={};this.iz=this.Mfa="";this.cg=null;};h.prototype.ES=function(a){this.Mfa=a;this.cg=null;};h.prototype.CS=function(a){this.iz=a;this.cg=null;};h.prototype.kM=function(){g.Ja(this.cg)&&(this.cg=this.oga(this.Mfa,this.iz));return this.cg;};h.prototype.Sv=function(a,b){this.kM().Sv(a,b);this.rE.Sv(a,b);};h.prototype.ky=function(a,b){a&&a.th&&a.ng&&a.uh&&(this.kM().ky(a,b),this.rE.ky(a,b));};h.prototype.fq=function(a){this.kM().fq(a);};h.prototype.bq=function(a){this.kM().bq(a);};h.prototype.fail=function(a,b){this.oga(a,this.iz).fail(b);};h.prototype.get=function(a,b){var c,d,h,k;a=(a=this.mz[a])?a[this.iz]:null;c=null;if(a&&(c=a.get(),c.bc>p.Uc.HAVE_NOTHING))return c;if(!1===b)return l;d=c=null;h=!1;k=null;g.wc(this.mz,function(a){g.wc(a,function(a,b){var g;if(!h||b==this.iz){g=a.get();g&&(!d||d<=g.bc)&&(!k||d<g.bc||k<a.time())&&(d=g.bc,h=b==this.iz,k=a.time(),c=g);}},this);},this);return c?c:l;};h.prototype.xs=function(){g.wc(this.mz,function(a,b){g.wc(a,function(a,c){a.xs(b+":"+c);});});};f.K=h;},function(f,c,a){var B,m,y;function b(a,b,c){this.type=a;this.size=b;this.xq=c;}function d(a){var c,d,g,h,k;a:{c=a.position;if(8<=a.bk()){d=a.Ba();g=a.iu(4);if(!m.test(g))throw a.seek(c),Error("mp4-badtype");if(1==d){if(8>a.bk()){a.seek(c);c=void 0;break a;}d=a.sf();}if(!(8<=d))throw a.seek(c),Error("mp4-badsize");if("uuid"==g){if(16>a.bk()){a.seek(c);c=void 0;break a;}g=a.SB();}c={type:g,offset:c,size:d,xq:c+d-a.position};}else c=void 0;}if(c&&c.xq<=a.bk()){h=c.type;d=c.size;k=c.xq;g=new b(h,d,k);h=y[h];if(a.bk()<k)throw Error("mp4-shortcontent");h?(k=new B(a.ae(k)),h(g,k)):a.skip(k);a.seek(c.offset);g.raw=a.ae(d);return g;}}function k(a,b){for(var c=[],g={},h,k;0<b.bk();){h=d(b);if(!h)throw Error("mp4-badchildren");k=h.type;c.push(h);g[k]||(g[k]=h);}a.children=c;a.w1=g;}function h(a,b){a.version=b.Dd(1);a.Wd=b.Dd(3);}function g(a,b){b.skip(6);a.JXa=b.zb();b.skip(8);a.channelCount=b.zb();a.dC=b.zb();b.skip(4);a.sampleRate=b.zb();b.skip(2);k(a,b);}function p(a,b){var c;b.skip(6);a.JXa=b.zb();b.skip(16);a.width=b.zb();a.height=b.zb();a.Qwb=b.Ba();a.RBb=b.Ba();b.skip(4);a.E1a=b.zb();c=b.rf();a.NUa=b.iu(c);b.skip(31-c);a.depth=b.zb();b.skip(2);k(a,b);}function n(a,b){h(a,b);a.Tub=b.Dd(3);a.Uub=b.rf();a.kH=b.ae(16);}function r(a,b){for(var c=[],d;b--;)d=a.zb(),c.push(a.ae(d));return c;}function u(a){var b;b=a.ae(2);a={EAb:b[1]>>1&7,jfb:!!(b[1]&1),yAb:a.zb()};l(a,(b[0]<<8|b[1])>>4);return a;}function l(a,b){a.zAb=b>>4&3;a.DAb=b>>2&3;a.BAb=b&3;return a;}B=a(93);m=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.Kq=function(a){var b,c,d,g,h;b=this;a=a.split("/");for(g=0;g<a.length&&b;g++){d=a[g].split("|");c=void 0;for(h=0;h<d.length&&!c;h++)c=d[h],c=b.w1&&b.w1[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};y={ftyp:function(a,b){a.Vxb=b.iu(4);a.pyb=b.Ba();for(a.IUa=[];4<=b.bk();)a.IUa.push(b.iu(4));},moov:k,sidx:function(a,b){h(a,b);a.hAb=b.Ba();a.x8=b.Ba();a.Q0=1<=a.version?b.sf():b.Ba();a.y1=1<=a.version?b.sf():b.Ba();b.skip(2);for(var c=b.zb(),d=[],g,k;c--;){g=b.Ba();k=g>>31;if(0!==k)throw Error("mp4-badsdix");g&=2147483647;k=b.Ba();b.skip(4);d.push({size:g,duration:k});}a.iAb=d;},moof:k,mvhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.gg=b.Dd(c);a.modificationTime=b.Dd(c);a.x8=b.Ba();a.duration=b.Dd(c);a.cAb=b.u6();a.volume=b.Cta();b.skip(70);a.Gyb=b.Ba();},pssh:function(a,b){var c;h(a,b);a.QZa=b.SB();c=b.Ba();a.data=b.ae(c);},trak:k,mdia:k,minf:k,stbl:k,stsd:function(a,b){h(a,b);b.Ba();k(a,b);},encv:p,avc1:p,hvcC:p,hev1:p,mp4a:g,enca:g,"ec-3":g,avcC:function(a,b){a.version=b.rf();a.jtb=b.rf();a.Fzb=b.rf();a.itb=b.rf();a.Kxb=(b.rf()&3)+1;a.TAb=r(b,b.rf()&31);a.izb=r(b,b.rf());},pasp:function(a,b){a.Bwb=b.Ba();a.PBb=b.Ba();},sinf:k,frma:function(a,b){a.Cub=b.iu(4);},schm:function(a,b){h(a,b);a.qfb=b.iu(4);a.HAb=b.Ba();a.Wd&1&&(a.GAb=b.Bdb());},schi:k,tenc:n,mvex:k,trex:function(a,b){h(a,b);a.ac=b.Ba();a.Vub=b.Ba();a.hla=b.Ba();a.CYa=b.Ba();a.ila=u(b);},traf:k,tfhd:function(a,b){var c;h(a,b);a.ac=b.Ba();c=a.Wd;c&1&&(a.qtb=b.sf());c&2&&(a.AAb=b.Ba());c&8&&(a.hla=b.Ba());c&16&&(a.CYa=b.Ba());c&32&&(a.ila=u(b));},saio:function(a,b){h(a,b);a.Wd&1&&(a.ASa=b.Ba(),a.BSa=b.Ba());for(var c=1<=a.version?8:4,d=b.Ba(),g=[];d--;)g.push(b.Dd(c));a.Gua=g;},mdat:function(a,b){a.data=b.ae(b.bk());},tkhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.gg=b.Dd(c);a.modificationTime=b.Dd(c);a.ac=b.Ba();b.skip(4);a.duration=b.Dd(c);b.skip(8);a.n7a=b.zb();a.ARa=b.zb();a.volume=b.Cta();b.skip(2);b.skip(36);a.width=b.u6();a.height=b.u6();},mdhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.gg=b.Dd(c);a.modificationTime=b.Dd(c);a.x8=b.Ba();a.duration=b.Dd(c);c=b.zb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){h(a,b);a.SAb=b.Ba();},tfdt:function(a,b){h(a,b);a.iF=b.Dd(1<=a.version?8:4);8==b.bk()&&b.skip(8);},saiz:function(a,b){h(a,b);a.Wd&1&&(a.ASa=b.Ba(),a.BSa=b.Ba());for(var c=b.rf(),d=b.Ba(),g=[];d--;)g.push(c||b.rf());a.CAb=g;},trun:function(a,b){var c,d;h(a,b);c=b.Ba();d=a.Wd;d&1&&(a.Dub=b.Ba());d&4&&(a.Ovb=u(b));for(var g=[],k;c--;)k={},d&256&&(k.duration=b.Ba()),d&512&&(k.size=b.Ba()),d&1024&&(k.Wd=b.Ba()),d&2048&&(k.Wtb=b.Ba()),g.push(k);a.Uo=g;},sdtp:function(a,b){h(a,b);for(var c=[];0<b.bk();)c.push(l({},b.rf()));a.Uo=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){h(a,b);a.fileSize=b.sf();a.x8=b.sf();a.duration=b.sf();a.$ra=b.sf();a.XAb=b.sf();1<=a.version&&(a.zyb=b.sf(),a.Ayb=b.Ba(),a.asa=b.sf(),a.zma=b.Ba(),a.qma=b.SB());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){h(a,b);a.Wd&1&&(a.Zsb=b.Dd(3),a.Exb=b.rf(),a.f7a=b.SB());a.xAb=b.Ba();a.zSa=b.ae(b.bk());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){h(a,b);a.hR=b.Ba();a.WF=b.zb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":n,"636F6D2E-6E65-7466-6C69-782E6974726B":k,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){h(a,b);a.Sia=b.SB();a.gg=b.sf();a.M=b.sf();a.Yl=b.sf();a.hS=b.zb();a.iS=b.zb();a.h7a=b.ae(16);a.jib=b.ae(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){h(a,b);a.Atb=b.ae(b.bk());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;h(a,b);a.Hfb=b.sf();c=b.Ba();a.rj=[];for(var d=0;d<c;d++)a.rj.push({duration:b.Ba(),size:b.zb()});},"636F6D2E-6E65-7466-6C69-782E69736567":k,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;h(a,b);a.Sia=b.SB();a.duration=b.Ba();c=b.Ba();a.Uo=[];for(var d=0;d<c;d++)a.Uo.push({Mh:b.Ba(),duration:b.Ba(),kR:b.zb(),lR:b.zb(),OS:b.zb(),PS:b.zb(),yo:b.sf(),ZA:b.Ba()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,d,k,f;h(a,b);c=b.Ba();d=b.rf();a.Uo=[];for(var g=0;g<c;g++){k=b.rf();f=k>>6;k=k&63;0!=f&&0===k&&(k=d);a.Uo.push({Xla:f,Mt:b.ae(k)});}}};f.K={eAb:function(a,b){a=new B(a);b&&a.seek(b);return d(a);},s6:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new B(a);c=[];for(b&&a.seek(b);b=d(a);)c.push(b);return c;}};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rba="LicenseBrokerConstructorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Urb=function(){};c.KW="TransportConfigSymbol";},function(f,c,a){var r,u;function b(a){return!(!a||!a.zx&&!a.pboc||!a.code&&!a.code);}function d(a){return!(!a||!a.nb);}function k(a){return!!(a instanceof Error);}function h(a){switch(a){case"ACCOUNT_ON_HOLD":return u.v.YFa;case"STREAM_QUOTA_EXCEEDED":return u.v.bGa;case"INSUFFICICENT_MATURITY":return u.v.dGa;case"TITLE_OUT_OF_WINDOW":return u.v.hGa;case"CHOICE_MAP_ERROR":return u.v.aGa;case"BadRequest":return u.v.fGa;case"Invalid_SemVer_Format":return u.v.eGa;case"RESTRICTED_TO_TESTERS":return u.v.gGa;case"AGE_VERIFICATION_REQUIRED":return u.v.ZFa;case"BLACKLISTED_IP":return u.v.$Fa;default:return u.v.SK;}}function g(a,b){return new r.dc(a,h(b.code),"BadRequest"===b.code?u.JK.Nya:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function p(a,b){return new r.dc(a,b.nb,b.yc,void 0,b.Tm,b.message,b.uw,b.data);}function n(a,b){return new r.dc(a,u.v.ye,void 0,void 0,void 0,b.message,b.stack,b);}Object.defineProperty(c,"__esModule",{value:!0});r=a(58);u=a(2);c.L6a=b;c.txb=d;c.ZP=k;c.Yvb=h;c.Fm=function(a,c){return d(c)?p(a,c):b(c)?g(a,c):k(c)?n(a,c):new r.dc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,c);};c.Zvb=g;c.Wvb=p;c.Xvb=n;c.pTa=function(a,b,c){var d,g,h;a=a.Zla;d=b.jva[c];if(void 0===d)throw{zx:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};g=d.version;if(void 0===g)throw{zx:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};h=b.Ci&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===h)throw{zx:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=d.orgOverride;if(void 0===d&&(d=b.tsa,void 0===d))throw{zx:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+d+"/"+h+"/"+g+"/router";};c.ytb=function(){return{"Content-Type":"text/plain"};};c.oTa=function(a,b,c,d,g,h,k){return{version:d.version,url:b,id:a,esn:c,languages:d.languages,uiVersion:d.iy,clientVersion:g.version,params:h,echo:k};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fea="TransportFactorySymbol";c.dca="MslTransportSymbol";c.iea="SslTransportSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rca="PboDispatcherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.vda="PrefetchEventsConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.M3=function(a,b,c){var d;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=c.get;c.get=function(){var h,g;h=d.apply(this,arguments);g={enumerable:c.enumerable,value:h};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,g):Object.defineProperty(this,b,g);return h;};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xea="WindowUtilsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.oca="NfCryptoSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});(c.w$||(c.w$={})).PboDebugEvent="PboDebugEvent";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.vba="LogDisplayConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.K$="DxManagerSymbol";c.J$="DxManagerProviderSymbol";},function(f,c,a){var d,k,h,g,p;function b(a,b,c){this.Gd=a;this.is=b;this.prefix=c;this.rja=new g.kKa(b);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(22);h=a(21);g=a(650);p=a(6);c.yza="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";c.zza="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.Aza="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.eK="";b.prototype.show=function(){this.Ul||(this.ZUa(),this.iA&&p.kd.body.appendChild(this.iA),this.We&&p.kd.body.appendChild(this.We),this.kF&&p.kd.body.appendChild(this.kF),this.Yx&&p.kd.getElementsByTagName("head")[0].appendChild(this.Yx),this.Ul=!0,this.refresh());};b.prototype.Nw=function(){this.Ul&&(this.We&&p.kd.body.removeChild(this.We),this.kF&&p.kd.body.removeChild(this.kF),this.iA&&p.kd.body.removeChild(this.iA),this.Yx&&p.kd.getElementsByTagName("head")[0].removeChild(this.Yx),this.Yx=this.pJ=this.iA=this.kF=this.We=void 0,this.Ul=!1);};b.prototype.toggle=function(){this.Ul?this.Nw():this.show();};b.prototype.r2a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.ZUa=function(){var a;a=this;this.Yx=p.kd.createElement("style");this.Yx.type="text/css";this.Yx.innerHTML=this.r2a(this.prefix);this.kF=this.Gd.createElement("div",c.yza,void 0,{"class":this.prefix+"-display-blur"});this.We=this.Gd.createElement("div",c.zza,void 0,{"class":this.prefix+"-display"});this.iA=this.Gd.createElement("div",c.Aza,void 0,{"class":this.prefix+"-display"});this.lna().forEach(function(b){return a.iA.appendChild(b);});};b.prototype.$Ua=function(a){a=this.Gd.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(y){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return this.Ul?this.Sta().then(function(b){if(b&&(b=a.$Ua(b),a.We)){a.pJ&&(a.We.removeChild(a.pJ),a.pJ=void 0);a.pJ=b;a.We.appendChild(a.pJ);b=a.We.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.Bua);(b=a.We.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}}):Promise.resolve();};b.prototype.xka=function(a){var b;if(p.kd.queryCommandSupported&&p.kd.queryCommandSupported("copy")){b=p.kd.createElement("textarea");b.textContent=a;b.style.position="fixed";p.kd.body.appendChild(b);b.select();try{p.kd.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{p.kd.body.removeChild(b);}}};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.ze)),f.__param(1,d.j(h.fe)),f.__param(2,d.sg())],a);c.oL=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.I$="DxDisplaySymbol";},function(f,c,a){var d,k,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(3);k=a(30);h=a(5);b.prototype.MA=function(){return this.B6a()?h.qBa:/widevine/i.test(this.config().Cd)?h.G$:/fps/i.test(this.config().Cd)?h.rBa:h.uU;};b.prototype.B6a=function(){return/clearkey/i.test(this.config().Cd);};oa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.H||(this.H=d.da.get(k.wg));return this.H;}}});c.CV=new b();},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.sda="PlaydataConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qca="PboCachedPlaydataSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tca="PboLicenseResponseTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sca="PboLicenseRequestTransformerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.ada="PboReleaseLicenseCommandSymbol";},function(f,c,a){var g,p,n,r,u,l;function b(a){var b;a=new n(a);if(1481462272!=a.Ba())throw Error("Invalid header");b={XMR:{Version:a.Ba(),RightsID:a.mk(16)}};d(a,b.XMR,a.buffer.byteLength);return b;}function d(a,b,c){var g,f,n,p,r;for(;a.position<c;){g=a.zb();f=a.Ba();f=f-8;switch(g){case 1:n="OuterContainer";break;case 2:n="GlobalPolicy";break;case 3:n="MinimumEnvironment";break;case 4:n="PlaybackPolicy";break;case 5:n="OutputProtection";break;case 6:n="UplinkKID";break;case 7:n="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:n="AnalogVideoOutputConfiguration";break;case 9:n="KeyMaterial";break;case 10:n="ContentKey";break;case 11:n="Signature";break;case 12:n="DeviceIdentification";break;case 13:n="Settings";break;case 18:n="ExpirationRestriction";break;case 42:n="ECCKey";break;case 48:n="ExpirationAfterFirstPlayRestriction";break;case 50:n="PlayReadyRevocationInformationVersion";break;case 51:n="EmbeddedLicenseSettings";break;case 52:n="SecurityLevel";break;case 54:n="PlayEnabler";break;case 57:n="PlayEnablerType";break;case 85:n="RealTimeExpirationRestriction";break;default:n="Other";}p={Type:k(g)};r=b[n];r?l.isArray(r)?r.push(p):(b[n]=[],b[n].push(r),b[n].push(p)):b[n]=p;switch(g){case 1:case 2:case 4:case 7:case 9:case 54:d(a,p,a.position+f);break;case 5:p.Reserved1=a.zb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.zb();p.MinimumAnalogVideoOutputProtectionLevel=a.zb();p.Reserved2=a.zb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.zb();break;case 10:p.Reserved=a.mk(16);p.SymmetricCipherType=a.zb();p.AsymmetricCipherType=a.zb();f=a.zb();p.EncryptedKeyLength=f;g=a.mk(f);p.EncryptedKeyData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 11:p.SignatureType=a.mk(2);f=a.zb();g=a.mk(f);p.SignatureData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 13:p.Reserved=a.zb();break;case 18:p.BeginDate=a.Ba();p.EndDate=a.Ba();break;case 42:p.CurveType=a.mk(2);f=a.zb();g=a.mk(f);p.Key=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 48:p.ExpireAfterFirstPlay=a.Ba();break;case 50:p.Sequence=a.Ba();break;case 51:p.LicenseProcessingIndicator=a.zb();break;case 52:p.MinimumSecurityLevel=a.zb();break;case 57:p.PlayEnablerType=h(a.mk(16));break;case 85:break;default:p.OtherData=a.mk(f);}}}function k(a){return"0x"+a.toString(16);}function h(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(c,"__esModule",{value:!0});g=a(5);p=a(3);n=a(93);r=a(127);u=a(149);l=a(15);c.Oub=function(a,c,d){switch(c){case g.uU:a&&(a=p.NSa(a),u.l9(a,function(a){a.N&&(a=a.object)&&(a=r.P2a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=r.xbb(a))&&(a=p.Qk(a))&&(a=b(a))&&d(a);}));}};c.Pub=b;c.Qub=d;c.Sub=k;c.Rub=h;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pca="PboAcquireLicenseCommandSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wca="PboManifestCommandSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.h$="ControlProtocolSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.taa="HttpRequesterSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.faa="FtlDataParserSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.nca="NetworkMonitorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yea="XhrFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.pba="LegacyLogBatcherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.t9="AppLogSinkSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vca="PboLogblobCommandSymbol";},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.hf=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.AA=function(a,b){var c,d;c={};for(d in a)c[d]=b.call(this,a[d]);return c;};d=b;d=f.__decorate([a.P()],d);c.uK=d;},function(f,c,a){var g,p,n;function b(){this.vt=new g.VDa();}function d(a){var c;c=p.uK.call(this)||this;c.Io=a;c.vt=new b();return c;}function k(a,b){this.Io=a;this.profile=b;this.nN=this.profile.hh.id;this.AB={};}function h(a){this.Io=a;this.oC=n.ga(0);this.AB=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(690);p=a(347);n=a(35);h.prototype.cq=function(a){this.oC=this.oC.add(this.Io.measure([a.message]));this.AB.push(a);};h.prototype.Kx=function(a){var b,c;b=this;this.oC=n.ga(0);c=[];this.AB.forEach(function(d){0>a.indexOf(d.id)&&(b.oC=b.oC.add(b.Io.measure([d.message])),c.push(d));});this.AB=c;};oa.Object.defineProperties(h.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.oC;}},qd:{configurable:!0,enumerable:!0,get:function(){return this.AB;}}});k.prototype.cq=function(a,b,c,d){var g;g=this.qd[a];g||(g=new h(this.Io),this.qd[a]=g);g.cq({id:b,url:c,message:d});};k.prototype.Kx=function(a){var c;for(var b in this.qd){c=this.qd[b];c&&(c.Kx(a),0===c.qd.length&&delete this.qd[b]);}};oa.Object.defineProperties(k.prototype,{qd:{configurable:!0,enumerable:!0,get:function(){return this.AB;}}});c.VEa=k;ha(d,p.uK);d.prototype.encode=function(a){return{accountId:a.nN,messages:this.L_a(a.qd)};};d.prototype.decode=function(a){return{nN:a.accountId,qd:this.cYa(a.messages)};};d.prototype.L_a=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.FO=[],a[g].qd.forEach(function(a){return function(c){0<c.id&&a.FO.push(b.vt.encode(c));};}(d)),c[g]=d.FO,d={FO:d.FO};return c;};d.prototype.cYa=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.JR=new h(this.Io),a[g].forEach(function(a){return function(c){a.JR.cq(b.vt.decode(c));};}(d)),c[g]=d.JR,d={JR:d.JR};return c;};c.UEa=d;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.vt.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.vt.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zba="MessageQueueSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cba="LogblobSenderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.k$="CryptoKeysSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.j$="CryptoDeviceIdSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.A$="DeviceProviderSymbol";},function(f,c){function a(b,c,k){if(null!=k){if(0<k(b,c))throw a.Gka(b,c);}else if(b.Wk&&0<b.Wk(c))throw a.Gka(b,c);this.start=b;this.end=c;}Object.defineProperty(c,"__esModule",{value:!0});a.Gka=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};c.Jda=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.z$="DeviceIdGeneratorSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.cca="MslDispatcherSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.bca="MslClientSendStrategySymbol";},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);d=a(18);k=a(15);h=a(72);c.Cza=function(a,b,c,h,f,l,B,m,y){var g,n;g=this;n={Type:b,Bitrate:h,DownloadableId:c};d.va(g,{track:a,type:b,vc:c,L:h,ee:f,ve:m,size:l,Dq:B,dk:null,Pgb:function(a,b){if(k.cb(a)||k.cb(b))g.width=a,g.height=b,n.Resolution=(g.width||"")+":"+(g.height||"");},pgb:function(a,b,c,d){k.cb(a)&&k.cb(b)&&k.cb(c)&&k.cb(d)&&(g.DXa=a,g.Lka=b,g.Kka=c,g.Jka=d);},gP:y,Sh:n,toJSON:function(){return n;}});};c.rmb=function(a,c,d,k,f){if(a==b.uV||a===h.Cf.audio)return c;if(a==b.vD||a===h.Cf.video)return d;if(a==h.Cf.mT)return k;if(a==h.Cf.L8)return f;};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(93);d=[137,66,73,70,13,10,26,10];c.zbb=function(a){var c,g;if(!a)throw Error("invalid array buffer");c=new Uint8Array(a);a=new b(c);g=function(a){var b,c,g,h;if(a.bk()<d.length+4+4+4+44)throw Error("array buffer too short");d.forEach(function(b){if(b!=a.rf())throw Error("BIF has invalid magic.");});b=a.zI();if(0<b)throw Error("BIF version in unsupported");c=a.zI();if(0==c)throw Error("BIF has no frames.");g=a.zI();h=a.ae(44);return{version:b,Y$a:c,ywa:g,Meb:h};}(a);a=function(a){var h,k;for(var b=[],d=0;d<=g.Y$a;d++){k={timestamp:a.zI(),offset:a.zI()};void 0!=h&&b.push(c.subarray(h.offset,k.offset));h=k;}return b;}(a);return{dk:g,images:a};};},function(f,c,a){var d;function b(a){var h,g,k,f,r,u,l;k={};k[d.MT]=a.localName;f={};k[d.ai]=f;r=[];k[d.LT]=r;u=a.attributes;h=u.length;for(g=0;g<h;g++){l=u[g];f[l.localName]=l.value;}a=a.childNodes;h=a.length;f={};for(g=0;g<h;g++)switch(u=a[g],u.nodeType){case c.mlb:u=b(u);l=u[d.MT];u[d.Gxa]=k;r.push(u);k[l]?f[l][d.TC]=u:k[l]=u;f[l]=u;break;case c.nlb:case c.klb:u=u.text||u.nodeValue,r.push(u),k[d.kp]||(k[d.kp]=u);}return k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(127);c.jlb=function(a){return b(a.nodeType==c.llb?a.documentElement:a);};c.bCb=b;c.mlb=1;c.aCb=2;c.nlb=3;c.klb=4;c.llb=9;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(15);c.ilb=function(a){var c,g;if(d.Kt(a)){c=new DOMParser().parseFromString(a,"text/xml");g=c.getElementsByTagName("parsererror");if(g&&g[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(g[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(p){}throw Error("xml parser error");}return c;}throw Error("bad xml text");};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(207);d=a(149);c.mbb=function(a,c,g,f){return new Promise(function(h,k){d.l9(a,function(a){a.N?b.dbb(a.object,c,g,f,function(a){a.N?h(a.entries):k(a);}):k(a);});});};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uea="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";c.TBa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.bCa=function(a){var k,h,g,f;function b(){if(g)for(var a;a=k.pop();)a(f);}function c(a){g=!0;f=a;b();}k=[];return function(d){k.push(d);h||(h=!0,a(c));b();};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dea="TrackStreamFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iea="TrickPlayFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.uda="PlayerTextTrackFactorySymbol";},function(f,c){function a(a,c){this.log=a;this.rT=c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Gwa=function(a,c){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+c.type+" track - "+c.ac),[];a=a.map(function(a){var d;d=b.rT(c,c.type,a.xw,a.L,a.ee,a.size,b.U2a(a.gd),a.hA,a.Qma/a.Pma);d.Pgb(a.lua,a.kua);d.pgb(a.Oka,a.Pka,a.Nka,a.Mka);c.Vj&&(d.Vj=c.Vj);a.hA&&(d.ve=a.hA);return d;});a.sort(function(a,b){return a.L-b.L;});return a;};a.prototype.U2a=function(a){return a.reduce(function(a,b){a[b.Ija]=b.url;return a;},{});};c.PK=a;},function(f,c,a){var b,d,k;b=a(212);d=a(108);c=a(48);k=a(724);a=c(function(a,c){return 1===a?d(c):b(a,k(a,[],c));});f.K=a;},function(f){f.K=function(c,a){for(var b=0,d=a.length,k=Array(d);b<d;)k[b]=c(a[b]),b+=1;return k;};},function(f,c,a){var b,d,k,h,g;c=a(108);b=a(214);d=a(727);k=!{toString:null}.propertyIsEnumerable("toString");h="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");g=function(){return arguments.propertyIsEnumerable("length");}();a=c("function"!==typeof Object.keys||g?function(a){var c,f,p,l;if(Object(a)!==a)return[];p=[];f=g&&d(a);for(c in a)!b(c,a)||f&&"length"===c||(p[p.length]=c);if(k)for(f=h.length-1;0<=f;){c=h[f];if(l=b(c,a)){a:{for(l=0;l<p.length;){if(p[l]===c){l=!0;break a;}l+=1;}l=!1;}l=!l;}l&&(p[p.length]=c);--f;}return p;}:function(a){return Object(a)!==a?[]:Object.keys(a);});f.K=a;},function(f){f.K={Zc:function(){return this.TJ["@@transducer/init"]();},result:function(c){return this.TJ["@@transducer/result"](c);}};},function(f){f.K=Array.isArray||function(c){return null!=c&&0<=c.length&&"[object Array]"===Object.prototype.toString.call(c);};},function(f,c,a){var b,d;b=a(373);d=a(734);f.K=function(a,c,g){return function(){var h,k;if(0===arguments.length)return g();h=Array.prototype.slice.call(arguments,0);k=h.pop();if(!b(k)){for(var f=0;f<a.length;){if("function"===typeof k[a[f]])return k[a[f]].apply(k,h);f+=1;}if(d(k))return c.apply(null,h)(k);}return g.apply(this,arguments);};};},function(f,c,a){var b,d,k,h,g,p;c=a(48);b=a(374);d=a(733);k=a(376);h=a(213);g=a(728);p=a(371);a=c(b(["filter"],g,function(a,b){return k(b)?h(function(c,d){a(b[d])&&(c[d]=b[d]);return c;},{},p(b)):d(a,b);}));f.K=a;},function(f){f.K=function(c){return"[object Object]"===Object.prototype.toString.call(c);};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oba="ManifestProviderConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pba="ManifestParserFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.N9="CDMAttestedDescriptorStore";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.I9="BookmarkConfigParserSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.J9="BookmarkConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.B$="DiskStorageRegistrySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.y$="DeepErrorUtilsSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yba="MemoryStorageSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.sba="LocalStorageSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.i$="CorruptedStorageValidatorConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.BW="Storage";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.NK="IndexedDBConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xda="PresentationAPISymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rba="MediaCapabilitiesLogHelperSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sba="MediaCapabilitiesSymbol";},function(f,c,a){var d,k,h;function b(a,b){var c;c=k.fK.call(this,a,b,d.BD.Audio)||this;c.config=a;c.N4=b;c.type=d.Gu.Ku;return c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);k=a(394);h=a(59);a(130);new(a(96)).ev();ha(b,k.fK);b.prototype.iJ=function(){return!1;};b.prototype.ow=function(){var a;a={};a[h.yk.EK]="mp4a.40.2";a[h.yk.OU]="mp4a.40.5";this.config().W0&&(a[h.yk.hK]="ec-3");this.config().V0&&(a[h.yk.cU]="ec-3");this.config().eG&&(a[h.yk.iK]="ec-3");return a;};b.prototype.s2=function(){return this.config().zN;};b.KC="audio/mp4;codecs={0};";c.oU=b;},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.laa=/^hevc-main/;a.kaa=/^hevc-hdr-|hevc-dv/;a.qp=/^hevc-hdr-/;a.Yf=/^hevc-dv/;a.yK=/-h264/;a.ps=/^vp9-/;a.NT=/^heaac/;a.Yza=/ddplus-2/;a.Zza=/ddplus-5/;a.$za=/ddplus-atmos/;c.vl=a;},function(f,c,a){var d,k,h;function b(a,b,c){this.config=a;this.N4=b;this.O=c;this.P4={};this.P4[d.BD.Audio]="audio";this.P4[d.BD.Rea]="video";}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);f=a(96);k=a(393);h=new f.ev().format;b.prototype.CP=function(){return this.fZa(this.s2());};b.prototype.sq=function(a){return this.N4.isTypeSupported(a);};b.prototype.i3=function(){this.en=[];this.fu=[];this.config().xsa&&this.fu.push(k.vl.laa);this.config().wsa&&this.fu.push(k.vl.kaa);this.config().ysa&&this.fu.push(k.vl.ps);this.fu=this.fu.concat([k.vl.NT,k.vl.yK]);!this.config().W0&&this.en.push(k.vl.Yza);!this.config().V0&&this.en.push(k.vl.Zza);!this.config().eG&&this.en.push(k.vl.$za);!this.config().r_a&&this.en.push(/prk$/);this.config().xsa||this.config().l_a||this.en.push(k.vl.laa);this.config().wsa||this.config().k_a||this.en.push(k.vl.kaa);this.config().ysa||this.config().w_a||this.en.push(k.vl.ps);};b.prototype.r1=function(a){var b;b=this;return a.filter(function(a){for(var c=Aa(b.fu),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Aa(b.en);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.e6[a];d="";if(a)return Array.isArray(a)&&(d=1<a.length?" "+a[1]:"",a=a[0]),a=h("{0}/mp4;codecs={1};{2}",b.P4[b.O],a,d),b.sq(a);});};b.prototype.fZa=function(a){var b;b={};this.i3();this.r1(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};oa.Object.defineProperties(b.prototype,{e6:{configurable:!0,enumerable:!0,get:function(){this.sha||(this.sha=this.ow());return this.sha;}}});c.fK=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.U9="CapabilityDetectorFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.aaa="ExtraPlatformInfoProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Z9="CdnThroughputTracker";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aea="ThroughputTrackerConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Eea="TransitionLoggerSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sea="VideoPlayerFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.gea="SegmentConfigFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.IV="MomentObserverFactory";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.HV="MomentFactorySymbol";},function(f,c,a){var d;function b(a,b,c,d,f,r){this.level=a;this.Sk=b;this.timestamp=c;this.message=d;this.dd=f;this.index=void 0===r?0:r;this.EDa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);b.prototype.uJ=function(a,b){var c;c=""+this.message;this.dd.forEach(function(d){c+=d.fy(a,b);});return(this.timestamp.pa(d.Qa)/1E3).toFixed(3)+"|"+this.index+"|"+(this.EDa[this.level]||this.level)+"|"+this.Sk+"| "+c;};c.wba=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jea="UrlFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.rW="PrioritizedSetOfListsSymbol";c.uIa="PrioritizedSetOfListsFactorySymbol";c.yda="PrioritizedSetOfSetsFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.zea="ThrottleSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.opb=function(){};c.aca="MseConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.x$="DecoderTimeoutPathologistSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.l$="CsvEncoderSymbol";},function(f,c,a){var k,h,g,p,n;function b(){}function d(a,b){this.is=a;this.Pk=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(2);g=a(21);p=a(161);n=a(6);d.prototype.nj=function(a,b,c){var d,g,h,k;d=this;if(b)if(c){g=c.tB;h=c.prefix;k=c.No;this.yt(b,function(b,c){if(!k||d.is.Lf(c))a[(h||"")+(g?b.toLowerCase():b)]=c;});}else this.yt(b,function(b,c){a[b]=c;});return a;};d.prototype.yt=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};d.prototype.jt=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.prototype.aVa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};d.prototype.xc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}};d.prototype.P0=function(a,b){var c,d;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)d=c.value[0],c=c.value[1],b&&b(d,c),c=a.next();};d.prototype.z2a=function(a){var c,d,g;d=new b();this.is.Lf(a.code)?(c=parseInt(a.code,10),d.nb=1<=c&&9>=c?h.v.Lu+c:h.v.Lu):d.nb=h.v.ye;try{g=a.message.match(/\((\d*)\)/)[1];d.yc=this.Pk.vG(g,4);}catch(z){}d.Ga=this.xc(a);return d;};d.prototype.hna=function(a){var c,d;c=new b();try{d=parseInt(a.systemCode,10);c.nb=h.v.Lu+a.errorCode.code;c.yc=this.Pk.vG(d,4);c.Ga=this.xc(a);}catch(B){}return c;};d.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};d.prototype.kna=function(a){return this.getFunctionName(a.constructor);};d.prototype.Xra=function(a){var b,c;b=this;c="";this.is.Wn(a)||this.is.Jia(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.fh(a)?c=a:this.yt(a,function(a,d){c+=(c?", ":"")+"{"+a+": "+(b.is.Pz(d)?b.getFunctionName(d)||"function":d)+"}";});return"["+this.kna(a)+" "+c+"]";};d.prototype.createElement=function(a,b,c,d){var g;g=n.kd.createElement(a);b&&(g.style.cssText=b);c&&(g.innerHTML=c);d&&this.yt(d,function(a,b){g.setAttribute(a,b);});return g;};d.prototype.X0a=function(a,b){return function(c){return c[a]===b;};};d.prototype.pR=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=d;a=f.__decorate([k.P(),f.__param(0,k.j(g.fe)),f.__param(1,k.j(p.XJ))],a);c.Kea=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.b$="ClockConfigSymbol";},function(f,c){var a;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Tpa=0]="licenseStarted";a[a.Nta=1]="recievedLicenseChallenge";a[a.Mta=2]="recievedLicense";a[a.Ota=3]="recievedRenewalChallengeComplete";a[a.Pta=4]="recievedRenewalLicenseComplete";a[a.Qta=5]="recievedRenewalLicenseFailed";a[a.Kdb=6]="recievedIndivChallengeComplete";a[a.Ldb=7]="recievedIndivLicenseComplete";a[a.tia=8]="addLicenseComplete";a[a.yia=9]="addRenewalLicenseComplete";a[a.zia=10]="addRenewalLicenseFailed";}(a=c.tn||(c.tn={})));c.PZa=function(b){switch(b){case a.Tpa:return"lg";case a.Nta:return"lc";case a.Mta:return"lr";case a.Ota:return"renew_lc";case a.Pta:return"renew_lr";case a.Qta:return"renew_lr_failed";case a.Kdb:return"ilc";case a.Ldb:return"ilr";case a.tia:return"ld";case a.yia:return"renew_ld";case a.zia:return"renew_ld_failed";default:return"unknown";}};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.V$="EmeSessionSymbol";c.U$="EmeSessionFactorySymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.E$="DrmProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.aba="IdentityProviderSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.mca="NetworkMonitorConfigSymbol";},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.sW="QueryStringDataProviderSymbol";},function(f,c,a){var b;b=a(99);c.kpa=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(f,c,a){var b,d,k,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(425);k=a(99);f=a(74);h=a(73);c.rx=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&k.isArray(a[0])&&(a=a[0]);return function(b){return b.nf(new g(a));};};c.yab=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&k.isArray(a[0])&&(a=a[0]);b=a.shift();return new d.eaa(b,null).nf(new g(a));};g=function(){function a(a){this.n5=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.n5));};return a;}();p=function(a){function c(b,c){a.call(this,b);this.destination=b;this.n5=c;}b(c,a);c.prototype.s5=function(){this.fT();};c.prototype.Gi=function(){this.fT();};c.prototype.Tb=function(){this.fT();};c.prototype.Ff=function(){this.fT();};c.prototype.fT=function(){var a;a=this.n5.shift();a?this.add(h.Ar(this,a)):this.destination.complete();};return c;}(f.xp);},function(f,c){c.dH=function(a){return a instanceof Date&&!isNaN(+a);};},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(73);f=a(74);c.zB=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(d){"number"===typeof b&&(c=b,b=null);return d.nf(new k(a,b,c));};};k=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.Qf=a;this.qj=b;this.J_=c;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Qf,this.qj,this.J_));};return a;}();c.lpb=k;h=function(a){function c(b,c,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);a.call(this,b);this.Qf=c;this.qj=d;this.J_=g;this.WA=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.Fg=function(a){this.active<this.J_?this.bQa(a):this.buffer.push(a);};c.prototype.bQa=function(a){var b,c;c=this.index++;try{b=this.Qf(a,c);}catch(v){this.destination.error(v);return;}this.active++;this.JX(b,a,c);};c.prototype.JX=function(a,b,c){this.add(d.Ar(this,a,b,c));};c.prototype.Ff=function(){this.WA=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.px=function(a,b,c,d){this.qj?this.eOa(a,b,c,d):this.destination.next(b);};c.prototype.eOa=function(a,b,c,d){var g;try{g=this.qj(a,b,c,d);}catch(z){this.destination.error(z);return;}this.destination.next(g);};c.prototype.Gi=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Fg(b.shift()):0===this.active&&this.WA&&this.destination.complete();};return c;}(f.xp);c.mpb=h;},function(f,c,a){var b;b=a(230);c.BF=function(){return b.Rt(1);};},function(f,c,a){var k,h;function b(a){var b;b=a.value;a=a.Me;a.closed||(a.next(b),a.complete());}function d(a){var b;b=a.d1;a=a.Me;a.closed||a.error(b);}k=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(75);f=function(a){function c(b,c){a.call(this);this.i6=b;this.ka=c;}k(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.cf=function(a){var c,g,k;c=this;g=this.i6;k=this.ka;if(null==k)this.Kp?a.closed||(a.next(this.value),a.complete()):g.then(function(b){c.value=b;c.Kp=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){h.root.setTimeout(function(){throw a;});});else if(this.Kp){if(!a.closed)return k.ib(b,0,{value:this.value,Me:a});}else g.then(function(d){c.value=d;c.Kp=!0;a.closed||a.add(k.ib(b,0,{value:d,Me:a}));},function(b){a.closed||a.add(k.ib(d,0,{d1:b,Me:a}));}).then(null,function(a){h.root.setTimeout(function(){throw a;});});};return c;}(a(11).oa);c.Ada=f;},function(f,c,a){var b,d,k,h,g,p,n,r,u,l,B,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(99);k=a(429);h=a(428);g=a(424);p=a(921);n=a(98);r=a(920);u=a(165);l=a(11);B=a(434);m=a(235);f=function(a){function c(b,c){a.call(this,null);this.X6a=b;this.ka=c;}b(c,a);c.create=function(a,b){if(null!=a){if("function"===typeof a[m.observable])return a instanceof l.oa&&!b?a:new c(a,b);if(d.isArray(a))return new n.Fu(a,b);if(h.ppa(a))return new g.Ada(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new p.CDa(a,b);if(k.bpa(a))return new r.oya(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};c.prototype.cf=function(a){var b,c;b=this.X6a;c=this.ka;return null==c?b[m.observable]().subscribe(a):b[m.observable]().subscribe(new B.uca(a,c,0));};return c;}(l.oa);c.eaa=f;},function(f,c,a){f=a(425);c.from=f.eaa.create;},function(f,c,a){f=a(98);c.of=f.Fu.of;},function(f,c){c.ppa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(f,c){c.bpa=function(a){return a&&"number"===typeof a.length;};},function(f,c){c.Oia=function(a,b){var r;for(var c=0,k=b.length;c<k;c++)for(var h=b[c],g=Object.getOwnPropertyNames(h.prototype),f=0,n=g.length;f<n;f++){r=g[f];a.prototype[r]=h.prototype[r];}};},function(f,c){c.XD=function(){return function(a){this.iib=a;};}();},function(f,c,a){var b;b=a(431);f=function(){function a(){this.hJ=[];}a.prototype.lqa=function(){this.hJ.push(new b.XD(this.ka.now()));return this.hJ.length-1;};a.prototype.mqa=function(a){var c;c=this.hJ;c[a]=new b.XD(c[a].iib,this.ka.now());};return a;}();c.oea=f;},function(f,c,a){var b,d,k,h,g,p,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(166);d=a(11);k=a(50);h=a(67);g=a(933);a=function(a){function c(b,c){a.call(this);this.source=b;this.eT=c;this.Ms=0;this.pM=!1;}b(c,a);c.prototype.cf=function(a){return this.AP().subscribe(a);};c.prototype.AP=function(){var a;a=this.ZM;if(!a||a.mf)this.ZM=this.eT();return this.ZM;};c.prototype.connect=function(){var a;a=this.ss;a||(this.pM=!1,a=this.ss=new h.Aj(),a.add(this.source.subscribe(new p(this.AP(),this))),a.closed?(this.ss=null,a=h.Aj.EMPTY):this.ss=a);return a;};c.prototype.WR=function(){return g.WR()(this);};return c;}(d.oa);c.c$=a;a=a.prototype;c.VUa={tx:{value:null},Ms:{value:0,writable:!0},ZM:{value:null,writable:!0},ss:{value:null,writable:!0},cf:{value:a.cf},pM:{value:a.pM,writable:!0},AP:{value:a.AP},connect:{value:a.connect},WR:{value:a.WR}};p=function(a){function c(b,c){a.call(this,b);this.Xk=c;}b(c,a);c.prototype.Tb=function(b){this.Xp();a.prototype.Tb.call(this,b);};c.prototype.Ff=function(){this.Xk.pM=!0;this.Xp();a.prototype.Ff.call(this);};c.prototype.Xp=function(){var a,b;a=this.Xk;if(a){this.Xk=null;b=a.ss;a.Ms=0;a.ZM=null;a.ss=null;b&&b.unsubscribe();}};return c;}(f.OJa);(function(){function a(a){this.Xk=a;}a.prototype.call=function(a,b){var c;c=this.Xk;c.Ms++;a=new n(a,c);b=b.subscribe(a);a.closed||(a.wm=c.connect());return b;};return a;}());n=function(a){function c(b,c){a.call(this,b);this.Xk=c;}b(c,a);c.prototype.Xp=function(){var a,b;a=this.Xk;if(a){this.Xk=null;b=a.Ms;0>=b?this.wm=null:(a.Ms=b-1,1<b?this.wm=null:(b=this.wm,a=a.ss,this.wm=null,!a||b&&a!==b||a.unsubscribe()));}else this.wm=null;};return c;}(k.Fh);},function(f,c,a){var b,d,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);d=a(232);c.Qyb=function(a,b){void 0===b&&(b=0);return function(c){return c.nf(new k(a,b));};};k=function(){function a(a,b){void 0===b&&(b=0);this.ka=a;this.Xc=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.ka,this.Xc));};return a;}();c.aqb=k;h=function(a){function c(b,c,d){void 0===d&&(d=0);a.call(this,b);this.ka=c;this.Xc=d;}b(c,a);c.bb=function(a){a.notification.observe(a.destination);this.unsubscribe();};c.prototype.k7=function(a){this.add(this.ka.ib(c.bb,this.Xc,new g(a,this.destination)));};c.prototype.Fg=function(a){this.k7(d.Notification.b0(a));};c.prototype.Tb=function(a){this.k7(d.Notification.Bka(a));};c.prototype.Ff=function(){this.k7(d.Notification.Y_());};return c;}(f.Fh);c.uca=h;g=function(){return function(a,b){this.notification=a;this.destination=b;};}();c.$pb=g;},function(f,c,a){var b,d,k,h,g,p,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(166);d=a(938);k=a(67);h=a(434);g=a(437);p=a(436);a=function(a){function c(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ka=d;this.qb=[];this.oLa=1>b?1:b;this.sQa=1>c?1:c;}b(c,a);c.prototype.next=function(b){var c;c=this.rga();this.qb.push(new n(c,b));this.Zha();a.prototype.next.call(this,b);};c.prototype.cf=function(a){var b,c,d;b=this.Zha();c=this.ka;if(this.closed)throw new g.Oy();this.KG?d=k.Aj.EMPTY:this.mf?d=k.Aj.EMPTY:(this.br.push(a),d=new p.nea(this,a));c&&a.add(a=new h.uca(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.KG?a.error(this.w8):this.mf&&a.complete();return d;};c.prototype.rga=function(){return(this.ka||d.or).now();};c.prototype.Zha=function(){for(var a=this.rga(),b=this.oLa,c=this.sQa,d=this.qb,g=d.length,h=0;h<g&&!(a-d[h].time<c);)h++;g>b&&(h=Math.max(h,g-b));0<h&&d.splice(0,h);return d;};return c;}(f.ii);c.UD=a;n=function(){return function(a,b){this.time=a;this.value=b;};}();},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.gJ=b;this.Me=c;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.gJ;b=a.br;this.gJ=null;!b||0===b.length||a.mf||a.closed||(a=b.indexOf(this.Me),-1!==a&&b.splice(a,1));}};return c;}(a(67).Aj);c.nea=f;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.Oy=f;},function(f,c){c.zt={e:{}};},function(f,c){c.rb=function(a){return"function"===typeof a;};},function(f,c){c.Ad=function(a){return null!=a&&"object"===typeof a;};},function(f,c){function a(a){this.value=a;}Object.defineProperty(c,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.bI=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};c.KD=a;},function(f,c,a){var d,k;function b(a,b,c,d,k){this.version=a;this.JB=b;this.Xva=c;this.de=d;this.cp=k;this.fo=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(2);k=a(58);b.prototype.load=function(a){return this.M7a(a);};b.prototype.add=function(a){this.fo.push(a);return this.F5();};b.prototype.remove=function(a,b){a=this.ena(this.jj(a,b));return 0<=a?(this.fo.splice(a,1),this.F5()):Promise.resolve();};b.prototype.update=function(a,b){b=this.ena(this.jj(a,b));return 0<=b?(this.fo[b]=a,this.F5()):Promise.resolve();};b.prototype.M7a=function(a){var b;b=this;this.Zpa||(this.Zpa=new Promise(function(c,g){function h(a){b.PYa().then(function(){g(a);})["catch"](function(){g(a);});}b.x2().then(function(a){b.storage=a;return b.storage.load(b.JB);}).then(function(d){var g;d=d.value;try{g=a(d);b.version=g.version;b.fo=g.data;c();}catch(B){h(B);}})["catch"](function(a){a.S!==d.v.zj?g(a):c();});}));return this.Zpa;};b.prototype.F5=function(){var a,b,c,d,k;a=this;if(!this.Xva)return Promise.resolve();if(this.$S){d=new Promise(function(a,d){b=a;c=d;});k=function(){a.$S=d;a.Wva().then(function(){b();})["catch"](function(a){c(a);});};this.$S.then(k)["catch"](k);return d;}return this.$S=this.Wva();};b.prototype.Wva=function(){var a,c;a=this;c=this.cp();return new Promise(function(g,h){a.x2().then(function(b){return b.save(a.JB,c,!1);}).then(function(){g();})["catch"](function(a){h(b.tJ(d.I.OGa,a));});});};b.prototype.PYa=function(){var a;a=this;return this.Xva?new Promise(function(b,c){a.x2().then(function(b){return b.remove(a.JB);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.x2=function(){return this.storage?Promise.resolve(this.storage):this.de.create();};b.prototype.jj=function(a,b){for(var c=0;c<this.fo.length;++c)if(b(this.fo[c],a))return this.fo[c];};b.prototype.ena=function(a){return a?this.fo.indexOf(a):-1;};b.tJ=function(a,b,c){return b.S&&b.cause?new k.dc(a,b.S,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.nb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new k.dc(a,d.v.ye,void 0,void 0,void 0,c,b.stack,b):new k.dc(a,d.v.Zg,void 0,void 0,void 0,c,void 0,b);};c.$aa=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.D$="DrmDataFactorySymbol";},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.qHa="PSK";a.lEa="MGK";a.zob="MGK_WITH_FALLBACK";a.yob="MGK_JWE";a.fob="JWEJS_RSA";a.iba="JWK_RSA";a.gob="JWK_RSAES";c.WJ=a;},function(f,c,a){var k;function b(a,b){this.rg=b;this.Vq=Math.floor(a);this.display=this.Vq+" "+this.rg.name;}function d(a,b,c){this.rg=a;this.name=b;this.Ka=c?c:this;k.mj(this,"base");}Object.defineProperty(c,"__esModule",{value:!0});k=a(45);d.prototype.JO=function(a){return this.rg==a.rg;};d.prototype.toJSON=function(){return this.name;};c.sL=d;b.prototype.pa=function(a){return this.rg.JO(a)?this.Vq:Math.floor(this.Vq*this.rg.rg/a.rg);};b.prototype.to=function(a){return new b(this.pa(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Vq,units:this.rg.name};};b.prototype.add=function(a){return this.gka(a);};b.prototype.Ed=function(a){return this.gka(a,function(a){return-a;});};b.prototype.Wk=function(a){return this.pa(this.rg.Ka)-a.pa(this.rg.Ka);};b.prototype.JO=function(a){return 0==this.Wk(a);};b.prototype.Apa=function(){return 0==this.Vq;};b.prototype.ipa=function(){return 0>this.Vq;};b.prototype.mpa=function(){return 0<this.Vq;};b.prototype.gka=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.pa(this.rg.Ka)+c(a.pa(this.rg.Ka)),this.rg.Ka);};c.sp=b;},function(f,c,a){var k;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.v4(a)(b);}c.gra=new k.Metadata(a,b);return c;};}function d(a,b){a=a.dr;return null!==a?b(a)?!0:d(a,b):!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(36);k=a(65);c.Jwa=d;c.r8=b;c.Ara=b(f.cs);c.Pwa=function(a){return function(b){var c;return null!==b?(c=b.jF[0],"string"===typeof a?c.ce===a:a===b.jF[0].Bi):!1;};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(243);d=a(242);f=function(){function a(a){this.ob=a;this.hE=new d.WT(this.ob);this.ZW=new b.ZJ(this.ob);}a.prototype.QJ=function(){return this.hE.QJ();};a.prototype.SC=function(a,b){return this.hE.SC(a,b);};a.prototype.Mo=function(a){return this.ZW.Mo(a);};return a;}();c.Iu=f;},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(101);k=a(65);h=a(968);f=function(){function a(a,c,g,f){this.id=d.id();this.type=a;this.ce=g;this.name=new h.BIa(c||"");this.Nb=[];a=null;"string"===typeof f?a=new k.Metadata(b.cs,f):f instanceof k.Metadata&&(a=f);null!==a&&this.Nb.push(a);}a.prototype.koa=function(a){for(var b=0,c=this.Nb;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.koa(b.Vu);};a.prototype.K8a=function(a){return this.v4(b.Vu)(a);};a.prototype.q3=function(){return this.koa(b.cs);};a.prototype.w3=function(){return this.Nb.some(function(a){return a.key!==b.pD&&a.key!==b.Vu&&a.key!==b.RK&&a.key!==b.aE&&a.key!==b.cs;});};a.prototype.lpa=function(){return this.v4(b.tca)(!0);};a.prototype.I3a=function(){return this.q3()?this.Nb.filter(function(a){return a.key===b.cs;})[0]:null;};a.prototype.L2a=function(){return this.w3()?this.Nb.filter(function(a){return a.key!==b.pD&&a.key!==b.Vu&&a.key!==b.RK&&a.key!==b.aE&&a.key!==b.cs;}):null;};a.prototype.v4=function(a){var b;b=this;return function(c){var h;for(var d=0,g=b.Nb;d<g.length;d++){h=g[d];if(h.key===a&&h.value===c)return!0;}return!1;};};return a;}();c.pL=f;},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);d=a(36);k=a(65);h=a(87);f=function(){function a(a){this.DLa=a;}a.prototype.Xjb=function(){return this.DLa();};return a;}();c.sV=f;c.j=function(a){return function(c,g,f){var n;if(void 0===a)throw Error(b.sKa(c.name));n=new k.Metadata(d.pD,a);"number"===typeof f?h.by(c,g,f,n):h.qJ(c,g,n);};};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);c.upa=function(a){return a instanceof RangeError||a.message===b.fJa;};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);f=function(){function a(){}a.prototype.jna=function(a){var c;c=Reflect.getMetadata(b.WV,a);a=Reflect.getMetadata(b.qea,a);return{ika:c,vkb:a||{}};};a.prototype.b4a=function(a){return Reflect.getMetadata(b.rea,a)||[];};return a;}();c.GV=f;},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(241);d=a(949);k=a(240);h=a(239);g=a(945);p=a(838);n=a(832);r=a(824);a=a(592);c.yb=new f.ZC({ru:!0});r.N7a(c.yb);c.yb.load(d.platform);c.yb.load(g.config);k.$Y.load(p.hh);h.U0.load(n.h_a);c.yb.load(a.sZ);c.yb.bind(b.nV).Uf(c.yb);},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(119);d=a(5);c=a(2);k=a(3);h=a(110);g=a(56);f.Yd(c.I.Jaa,function(a){var c,f;c=t._cad_global.videoPreparer;f=t._cad_global.playerPredictionModel;c&&t._cad_global.playerPredictionModel&&(p=k.da.get(h.wda).create(f,c.Ccb.bind(c)),t._cad_global.prefetchEvents=p,c.Jg.on("deletedCacheItem",function(a){p.tF(g.Jc.ND[a.type],parseInt(a.movieId,10),a.reason);}),b.cj.addEventListener("cacheEvict",function(a){p.tF(h.Kd.bi.iD,a.movieId,"ase_cacheEvict");p.tF(h.Kd.bi.MEDIA,a.movieId);"ase_cacheEvict";}),b.cj.addEventListener("flushedBytes",function(){b.cj.GN().forEach(function(a){p.tF(h.Kd.bi.MEDIA,a.M,"ase_flushedBytes");},this);}),c.dm.addEventListener(c.dm.events.uea,function(a){p.yTa(g.Jc.ND[a.type],a.M,a.reason);}),c.dm.addEventListener(c.dm.events.sea,function(a){p.uTa(g.Jc.ND[a.type],a.M,a.reason);}),c.dm.addEventListener(c.dm.events.tea,function(a){p.wTa(g.Jc.ND[a.type],a.M,a.reason);}),c.dm.addEventListener(c.dm.events.vea,function(a){p.ATa(g.Jc.ND[a.type],a.M,a.reason);}));a(d.kb);});},function(f,c,a){var k,h,g,p,n,r,u,l,B,m;function b(a,b){this.Tg=a;this.wi=b;}function d(a){this.T=a;this.reset();}k=a(171);h=a(170);c=a(245);g=a(244).config;p=c.C2a;n=c.o2a;r=c.dZa;u=c.jab;l=c.iab;B=c.hab;m=c.wma;d.prototype.constructor=d;d.prototype.reset=function(){this.qha=void 0;this.bh=[];this.aha=this.bha=!1;};d.prototype.update=function(a,b){var c;this.bh&&(this.bh=this.bh.filter(this.Xgb,this));if(!1===this.bha){c=p(a.ta).slice(0,g.Vka);0<c.length&&(this.fx(c,h.np.cL),this.bha=!0,this.bh=this.jy(c.concat(this.bh)));}!1===this.aha&&(c=n(a.ta).slice(0,g.Vka),0<c.length&&(this.fx(c,h.np.cL),this.aha=!0,this.bh=this.jy(c.concat(this.bh))));switch(b){case h.lp.baa:b=this.d5a(a);break;case h.lp.Oda:b=this.l5a(a);break;case h.lp.lL:b=this.m5a(a);break;case h.lp.LD:b=this.i5a(a);break;default:b=this.c5a(a);}this.qha=a;return b;};d.prototype.d5a=function(a){a=u(a.ta,g.Aua,g.dka);this.fx(a,h.np.cL);return this.bh=this.jy(this.bh.concat(a));};d.prototype.l5a=function(a){var b,c;this.T.log("handleScrollHorizontal");b=a.ta;a=u(b,g.Cua,g.eka);c=r(b,this.qha.ta);b=b[c].list.slice(0,g.hfb);b.concat(a);this.fx(b,h.np.HW);return this.jy(b.concat(this.bh));};d.prototype.fx=function(a,b){a.forEach(function(a){if(void 0===a.ct||a.ct<b)a.ct=b;void 0===a.DC&&(a.DC=k());void 0===a.Nh&&(a.Nh=k());});};d.prototype.m5a=function(a){this.T.log("handleSearch");a=l(a.ta,g.xfb);this.fx(a,h.np.Rda);this.bh=a.concat(this.bh);return this.bh=this.jy(this.bh);};d.prototype.i5a=function(a){var c,d,k,f,n;this.T.log("handlePlayFocus: ",g.LG);c=a.direction;d=a.ta;a=[];k=m(d);if(void 0!==k.Tg)switch(a.push(k),c){case h.zn.Ida:for(c=1;c<g.LG;c++)a.push(new b(k.Tg,k.wi+c));a.push(new b(k.Tg-1,k.wi));a.push(new b(k.Tg+1,k.wi));break;case h.zn.nba:for(c=1;c<g.LG;c++)a.push(new b(k.Tg,k.wi-c));a.push(new b(k.Tg-1,k.wi));a.push(new b(k.Tg+1,k.wi));break;case h.zn.vKa:a.push(new b(k.Tg-1,k.wi));for(c=1;c<=g.LG/2;c++)a.push(new b(k.Tg,k.wi+c)),a.push(new b(k.Tg,k.wi-c));break;case h.zn.LAa:for(a.push(new b(k.Tg+1,k.wi)),c=1;c<=g.LG/2;c++)a.push(new b(k.Tg,k.wi+c)),a.push(new b(k.Tg,k.wi-c));}f=[];a.forEach(function(a){n=B(d,a.Tg,a.wi);void 0!==n&&f.push(n);});this.fx(f,h.np.HW);return this.jy(f.concat(this.bh));};d.prototype.c5a=function(a){this.T.log("ModelOne: handleDefaultCase");a=u(a.ta,g.Cua,g.eka);this.fx(a,h.np.HW);return this.jy(a.concat(this.bh));};d.prototype.Xgb=function(a){return a.ct==h.np.cL|a.ct==h.np.Rda&k()-a.DC<g.J5a;};d.prototype.jy=function(a){var b,c,d,g,h,k,f;b=[];c={};k=0;f=a.length;for(h=0;h<f;h++)d=a[h].yf,g=a[h],!1===d in c?(b.push(g),c[d]=k,k++):(d=b[c[d]],g.Nh<d.Nh&&(d.Nh=g.Nh),g.ct>d.ct&&(d.ct=g.ct),g.DC>d.DC&&(d.DC=g.DC));return b;};f.K=d;},function(f,c,a){var h,g,p,n,r,u,l;function b(a,b,c,d,g,h){this.M=this.yf=a;this.ad=b;this.Ib=c;h&&h.Tc&&(this.Tc=h.Tc);void 0!==d&&(this.Ax=d);this.Nh=g;this.lb=h;}function d(a,b,c,d,g){p(void 0!==d,"video preparer is null");p(void 0!==g,"ui preparer is null");this.T=b||console;this.T=b;this.gb=c;this.oQa=d;this.fQa=g;this.nha=u.X5;this.Hz=[];this.RY=!1;this.Bl=0;new l().on(u,"changed",k,this);this.reset();}function k(){this.T.log("config changed");u.X5&&(this.nha=u.X5);u.JH!==this.uz&&(this.reset(),this.Aeb());}h=a(171);g=a(170);c=a(245);p=c.assert;n=c.wma;r=a(454);u=a(244).config;l=a(24).eD;u.declare({X5:["ppmConfig",{emb:{Ura:0,Tra:2,Rra:0,Sra:5,vva:0},Brb:{Ura:0,Tra:1,Rra:0,Sra:3,vva:1E3},smb:{Ura:0,Tra:1,Rra:0,Sra:3,vva:1E3}}]});d.prototype.constructor=d;d.prototype.reset=function(){this.BX=!0;this.uz=u.JH;this.T.log("create model: "+u.JH,u.Aua,u.dka);switch(u.JH){case"modelone":this.uz=new r(this.T);break;default:this.uz=new r(this.T);}};d.prototype.Aeb=function(){var b,c;if(!1===this.RY){this.RY=!0;for(var a=0;a<this.Hz.length;a++){this.T.log("PlayPredictionModel replay: ",JSON.stringify(this.Hz[a]));b=this.vka(this.Hz[a]);c=this.Vma(b);this.uz.update(b,c);this.BX=!1;}this.Hz=[];}};d.prototype.update=function(a){var b,c,d;this.T.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.ta&&a.ta[0]){!1===this.RY&&this.Hz.length<u.$8a&&this.Hz.push(a);b=this.vka(a);c=this.Vma(b);this.T.log("actionType",c);b="mlmodel"==u.JH?this.uz.update(a,c):this.uz.update(b,c);b=this.R1a(b,u.Z6a||1);this.T.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Bl&&(this.Bl=h(),this.gb&&this.gb.FI&&this.gb.FI({jO:this.Bl}));if(this.gb&&this.gb.cua){d={jO:this.Bl,offset:this.sP(),ita:[]};b.forEach(function(a){d.ita.push({pn:a.yf});});d.cta=JSON.stringify(a);d.dta=JSON.stringify(b);this.gb.cua(d);}this.oQa.du(b);this.fQa.du(b);this.BX=!1;}};d.prototype.Neb=function(){this.Bl=0;};d.prototype.sP=function(){return h()-this.Bl;};d.prototype.FI=function(){this.Bl=h();this.gb&&this.gb.FI&&this.gb.FI({jO:this.Bl});};d.prototype.vka=function(a){var b,c,d,h,k;b={};h=a.ta||[];k=function(a){var h,k;h={};c=g.qD.name.indexOf(a.context);h.context=0<=c?c:g.qD.wp;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];d=a.list||[];d.forEach(function(a){k={yf:a.yf,Ib:a.Ib,index:a.index,Ax:a.Ax,OB:a.OB,list:a.list,lb:a.lb};void 0!==a.property&&(c=g.By.name.indexOf(a.property),k.property=0<=c?c:g.By.wp);h.list.push(k);}.bind(this));b.ta.push(h);}.bind(this);void 0!==a.direction&&(c=g.zn.name.indexOf(a.direction),b.direction=0<=c?c:g.zn.wp);void 0!==a.rG&&(b.Svb=a.rG.rowIndex,b.Rvb=a.rG.EUa);b.rG=a.rG;b.ta=[];h.forEach(k);return b;};d.prototype.Vma=function(a){var b,c,d;b=a.direction||g.zn.wp;c=a.rG;d=a.ta||[];!0===this.BX?a=g.lp.baa:!0===d.some(this.t5a)?(a=g.lp.LD,this.ZR(d,b,c)):a=d[0].context===g.qD.lL?g.lp.lL:b===g.zn.Ida||b===g.zn.nba?g.lp.Oda:g.lp.wp;return a;};d.prototype.t5a=function(a){return(a.list||[]).some(function(a){return a.property===g.By.LD||a.property===g.By.m$;});};d.prototype.ZR=function(a,b,c){var d,k;this.T.log("reportPlayFocusEvent: ",b,c);d={};k=n(a);this.gb&&this.gb.ZR&&(d.yvb=h(),d.direction=g.zn.name[b],c&&(d.rowIndex=c.rowIndex,d.D_=c.EUa),void 0!==k.Tg&&(d.requestId=a[k.Tg].requestId),this.gb.ZR&&this.gb.ZR(d));};d.prototype.R1a=function(a,b){for(var c=a.length,d=[],g,h,k,f,n=0;n<c;n++){h=a[n];g=Math.floor(n/b)+1;if(void 0!==h.list){k=h.list;f=k.length;for(var p=0;p<Math.min(u.CUa,f)&&!(k[p].Nh=h.Nh,this.wia(k[p],g,d),d.length>=u.Uqa);p++);}else this.wia(h,g,d);if(d.length>=u.Uqa)break;}return d;};d.prototype.wia=function(a,c,d){var h,k;function g(a){a.Tc&&(a.lb||(a.lb={}),a.lb.Tc=a.Tc);return a.lb;}h=a.OB;void 0!==h&&h instanceof Array?h.forEach(function(h){void 0!==h.yf&&(k=g(h),d.push(new b(h.yf,c,h.Ib,h.Ax,a.Nh,k)));}):void 0!==h&&void 0!==h.yf&&(h=a.OB,k=g(h),d.push(new b(h.yf,c,h.Ib,h.Ax,a.Nh,k)));void 0!==a.yf&&(k=g(a),d.push(new b(a.yf,c,a.Ib,a.Ax,a.Nh,k)));};d.prototype.Jq=function(a){var b;b=this.nha;return a?b[a]:b;};f.K=d;},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(4);d=a(5);c=a(2);k=a(3);f.Yd(c.I.Kaa,function(c){var g,f;if(b.config.kcb){g=k.Gc("PlayerPredictionModel");t._cad_global.videoPreparer||(g.error("videoPreparer is not defined"),c(d.kb));f=a(455);g.log=g.trace.bind(g);h=new f({},g,{FI:function(a){t._cad_global.prefetchEvents.cZa(a.jO);},cua:function(a){t._cad_global.prefetchEvents.Dcb(a);}},t._cad_global.videoPreparer,{du:function(){}});t._cad_global.playerPredictionModel=h;g.info("ppm v2 initialized");}c(d.kb);});},function(f){f.K={At:{Ma:12E5,mH:9E5,Nb:12E5},$s:{Ma:10,mH:10,Nb:10},Zs:{Ma:10240,mH:10240,Nb:10240}};},function(f){function c(a){var b;b=[];return function k(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&k(a[c]))return!0;}return!1;}(a);}f.K=function(a,b){var k;if(b&&c(a))return-1;b=[];a=[a];for(var d=0;a.length;){k=a.pop();if("boolean"===typeof k)d+=4;else if("string"===typeof k)d+=2*k.length;else if("number"===typeof k)d+=8;else if("object"===typeof k&&-1===b.indexOf(k)){b.push(k);for(var h in k)a.push(k[h]);}}return d;};},function(f,c,a){var g,p;function b(){return Object.create(null);}function d(a){this.log=a.log;this.Na=a.Na;this.gx=b();this.Promise=a.Promise;this.wq=a.wq;this.N8=a.N8;this.lf=a.lf||!1;this.At=b();this.$s=b();this.Zs=b();this.zPa(a);a.IA&&(this.IA=a.IA,g(this.IA,d.prototype));}function k(a){return"undefined"!==typeof a;}function h(a){var d;for(var b=0,c=arguments.length;b<c;){d=arguments[b++];if(k(d))return d;}}g=a(38);a(458);p=a(457);d.prototype.zPa=function(a){this.At.manifest=h(a.i1,p.At.Ma);this.At.ldl=h(a.h1,p.At.mH);this.At.metadata=h(a.Cvb,p.At.Nb);this.$s.manifest=h(a.e_,p.$s.Ma);this.$s.ldl=h(a.d_,p.$s.mH);this.$s.metadata=h(a.Htb,p.$s.Nb);this.Zs.manifest=h(a.Ftb,p.Zs.Ma);this.Zs.ldl=h(a.Etb,p.Zs.mH);this.Zs.metadata=h(a.Gtb,p.Zs.Nb);};d.prototype.HP=function(a,b,c){this.hg("undefined"!==typeof a);this.hg("undefined"!==typeof b);return!!this.ega(a,b,c).value;};d.prototype.ega=function(a,b,c){var d,g;d={value:null,reason:"",log:""};g=this.gx[b];if("undefined"===typeof g)return d.log="cache miss: no data exists for field:"+b,d.reason="unavailable",d;"undefined"===typeof g[a]?(d.log="cache miss: no data exists for movieId:"+a,d.reason="unavailable"):(c=g[a][c?c:"DEFAULTCAPS"])&&c.value?this.$P(b,c.gg)?(d.log="cache miss: "+b+" data expired for movieId:"+a,d.reason="expired"):(d.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,d.value=c.value):(d.log="cache miss: "+b+" data not available for movieId:"+a,d.reason="unavailable");return d;};d.prototype.getData=function(a,b,c){this.hg("undefined"!==typeof a);this.hg("undefined"!==typeof b);a=this.ega(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.N8?JSON.parse(this.N8(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};d.prototype.setData=function(a,c,d,g,h){var k;this.hg("undefined"!==typeof a);this.hg("undefined"!==typeof c);k=this.gx;h=h?h:"DEFAULTCAPS";k[c]||(k[c]=b(),Object.defineProperty(k[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(k[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.wq?this.wq(JSON.stringify(d),"gzip",!0):d;k=k[c];this.hNa(a,c,h,k);c={gg:this.Na.getTime(),value:d,size:0,type:c,E0:g};k[a]=k[a]||b();k[a][h]=k[a][h]||b();k[a][h]=c;k.size+=0;k.numEntries++;this.IA&&this.emit("addedCacheItem",c);return c;};d.prototype.hNa=function(a,b,c,d){var g,h,k,f,p,n,r,u,l;g=this;h=d.numEntries;k=this.$s[b];n=d[a]&&d[a][c];if(n&&n.value)f=a,p="promise_or_expired";else if(h>=k){u=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var h;h=d[a]&&d[a][c];h&&h.value&&g.$P(b,h.gg)&&(l=a);h&&h.value&&h.gg<u&&(u=h.gg,r=a);return!0;});f=l||r;p="cache_full";}this.lf&&this.log.debug("makespace ",{maxCount:k,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:f});f&&(g.clearData(f,b,c,void 0,p),this.log.debug("removed from cache: ",f,b));};d.prototype.v_=function(a,b){var c,d;c=this;c.hg("undefined"!==typeof a);d=a+"";b.forEach(function(a){var b;b=c.gx[a];b&&Object.keys(b).forEach(function(b){b!=d&&c.clearData(b,a,void 0,void 0,"clear_all");});});};d.prototype.clearData=function(a,b,c,d,g){var h;this.hg("undefined"!==typeof a);this.hg("undefined"!==typeof b);h=this.gx[b];b=h?h[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){h.size-=b[c].size;h.numEntries--;if(h=b&&b[c])b[c]=void 0,!d&&h.E0&&h.E0();this.IA&&(a={creationTime:h.gg,destroyFn:h.E0,size:h.size,type:h.type,value:h.value,reason:g,movieId:a},this.emit("deletedCacheItem",a));}};d.prototype.flush=function(a){var c;this.hg("undefined"!==typeof a);c=this.gx;c[a]=b();c[a].numEntries=0;c[a].size=0;};d.prototype.$P=function(a,b){return this.Na.getTime()-b>this.At[a];};d.prototype.getStats=function(a,b,c){var d,g,h,f,p;d={};g=this;h=g.gx;f=k(a)&&k(b);p=c||"DEFAULTCAPS";Object.keys(h).forEach(function(c){var n,r;n=Object.keys(h[c]);r=h[c];n.forEach(function(h){!(h=r&&r[h]&&r[h][p])||!k(h.value)||h.value instanceof this.Promise||(d[c]=(d[c]|0)+1,g.$P(h.type,h.gg)&&(d[c+"_expired"]=(d[c+"_expired"]|0)+1),f&&h.gg>=a&&h.gg<b&&(d[c+"_delta"]=(d[c+"_delta"]|0)+1));});});return d;};d.prototype.me=function(a){var b,c,d,g;b=[];c=this;d=c.gx;g=a||"DEFAULTCAPS";Object.keys(d).forEach(function(a){var h,f;h=Object.keys(d[a]);f=d[a];h.forEach(function(d){var h,p;h=f&&f[d]&&f[d][g];h&&k(h.value)&&(p=c.$P(h.type,h.gg)?"expired":h.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:p,type:a,size:h.size}));});});return b;};d.prototype.sva=function(a,b){this.hg("undefined"!==typeof a);this.hg("undefined"!==typeof b);this.Zs[a]=b;};d.prototype.hg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.lf))throw Error("Debug Assert Failed ");};f.K=d;},function(f,c,a){var d,k;function b(a,b,c,f,r,l,v){this.M=a;this.ad=b;this.type=c;this.id=++k;this.aO=f;this.status=d.Jd.S9;this.Obb=void 0===r?!1:r;this.Mra=v;}Object.defineProperty(c,"__esModule",{value:!0});d=a(56);k=0;b.prototype.so=function(){var a;a={id:this.id,type:this.type,created:this.aO,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.Gi=function(a){this.Mra&&this.Mra(a);};c.YD=b;},function(f,c,a){var h,g,p;function b(){}function d(a){this.log=a.log;this.Na=a.Na;this.cO=this.MF=0;this.zu=[];this.paused=!1;this.XS=[];this.jka=[];this.$G=a.$G||b.o9;this.yb=a.yb;this.li=this.yb.get(g.wK);this.addEventListener=this.li.addListener.bind(this.li);this.events={uea:"taskstart",sea:"taskabort",tea:"taskfail",vea:"tasksuccess"};}function k(a){return a.so();}Object.defineProperty(c,"__esModule",{value:!0});f=a(112);h=a(56);g=a(83);b.nHa="prepend";b.o9="append";b.wCa="ignore";p=f.rp;c.UJa=d;d.prototype.Bia=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.zu=this.SMa(a);this.MF=0;this.cO+=1;this.bb();};d.prototype.SMa=function(a){var c,d;c=this.zu.filter(function(a){return a.Obb&&a.status===h.Jd.S9;});d=this.$G;if(d===b.wCa)return[].concat(a);if(d===b.nHa)return c.concat(a);if(d===b.o9)return a.concat(c);};d.prototype.pause=function(){this.paused=!0;};d.prototype.bb=function(){var a,b;if(this.MF===this.zu.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.MF,numberOfTasks:this.zu.length});else{a=this.K3a();b=this.cO;a.startTime=this.Na.getTime();a.status=h.Jd.Uda;this.li.jc(this.events.uea,{M:a.M,type:a.type});this.XS.push(a);a.pe(function(c){a.endTime=this.Na.getTime();c?0<=[h.Jd.sy,h.Jd.dK,h.Jd.VC,h.Jd.cK].indexOf(c.status)?(a.status=c.status,this.pY(a,this.events.sea,"cancelled task")):(a.status=h.Jd.hm,this.pY(a,this.events.tea,"task failed",c)):(a.status=h.Jd.dea,this.pY(a,this.events.vea,"task succeeded"));this.jka.push(a);this.XS.splice(this.XS.indexOf(a),1);this.cO===b&&(this.MF++,this.bb());}.bind(this));}};d.prototype.K3a=function(){return this.zu[this.MF];};d.prototype.pY=function(a,b,c,d){var g;g=a.so();d?this.log.warn(c,g,d):this.log.trace(c,g);this.li.jc(b,{M:a.M,type:a.type,reason:a.status});a.Gi(g);};d.prototype.getStats=function(a,b,c){var d,g,f,n;d=this.jka.map(k);g=this.XS.map(k);f=p.Lf(a)&&p.Lf(b);n={};if(p.Lf(c))return n.MUa=d.filter(function(a){return a.movieId===c;}),n;d.concat(g).forEach(function(c){var d;n[c.type+"_"+c.status]=(n[c.type+"_"+c.status]|0)+1;d=c.status==h.Jd.Uda?c.startTime:c.endTime;f&&d>=a&&d<b&&(n[c.type+"_"+c.status+"_delta"]=(n[c.type+"_"+c.status+"_delta"]|0)+1);});return n;};},function(f,c,a){var h,g,p,n,r,l,v,m,z,y;function b(a){if(!a)throw Error("Debug Assert Failed ");}function d(a){this.log=a.log;this.Na=a.Na;this.RA=a.RA;this.wP=a.wP;this.OA=a.OA;this.Mq=a.Mq;this.Yw=a.Yw;this.q_=a.q_;this.SF=a.SF;this.yb=a.yb;this.config=this.yb.get(l.wg)();this.UF=a.UF;this.TF=a.TF;this.k9=a.k9;this.w5=a.w5;this.x5=a.x5;this.ZH=a.ZH;this.c2=a.c2;this.lf=a.lf||!1;this.VY={};this.CM={};this.VM={num_of_calls:0,num_of_movies:0};this.p_=a.p_;this.f5=a.f5;this.mP=a.mP;this.$1a=a.$1a;this.U1=a.U1;this.i_=a.i_;this.Jg=new v({log:this.log,Na:this.Na,Promise:Promise,lf:this.lf,e_:a.e_,d_:a.d_,i1:a.i1,h1:a.h1,IA:m});this.dm=new h.UJa({log:this.log,Na:this.Na,$G:a.$G,yb:this.yb});this.jj=this.Jg.getData.bind(this.Jg);this.qu=this.Jg.setData.bind(this.Jg);this.FP=this.Jg.HP.bind(this.Jg);}function k(a){var c;b(z.Wn(a.osa));c=this.Na;return a.osa.map(function(b){var d;d=new g.YD(a.M,a.ad,a.lBb,c.getTime(),!0);d.pe=b;return d;});}Object.defineProperty(c,"__esModule",{value:!0});h=a(461);g=a(460);f=a(112);p=a(227);n=a(411);r=a(110);l=a(30);v=a(459);m=a(24).EventEmitter;z=f.rp;y=new n.Kea(z,new p.UT());c.FKa=d;d.prototype.du=function(a,b){var c,d,g;c=this;a=a.map(function(a){a.lb=a.lb||{$v:{Ksa:!1},Ug:0};z.Zk(a.lb.Ug)||(a.lb.Ug=0);z.Zk(a.Ib)&&(a.lb.X=a.Ib);return a;});this.config&&this.config.oI&&"undefined"!==typeof this.config.oI.maxNumberTitlesScheduled&&a.splice(this.config.oI.maxNumberTitlesScheduled);d=a.map(function(a){return c.Jfa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=d.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",g);this.dm.Bia(d);this.VM.num_of_calls++;this.VM.num_of_movies+=a.length;};d.prototype.zcb=function(a,b){var c,d,g;c=this;d=a.map(function(a){return a.M+"";});a=a.map(function(a){a.lb=a.lb||{$v:{Ksa:!1},Ug:0};a.lb.Qd=!0;a.lb.sra=d;return c.Jfa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",g);this.dm.Bia(a);};d.prototype.Ah=function(a,b){this.CM[a]||(this.CM[a]={});a=this.CM[a];a.kta=(a.kta|0)+1;a.Nh=b;};d.prototype.getStats=function(a,b,c){var d;d=c&&this.CM[c]||{};d.zu=this.dm.getStats(a,b,c);d.cache=this.Jg.getStats(a,b);d.Sma=y.nj(this.c2(),this.VM);return d||{};};d.prototype.Jfa=function(a,b){var c,d,h,f,p;if(z.Lf(a.osa))return k.call(this,a);a.Tc&&(a.lb.Tc=a.Tc);c=[];d=a.M;h=!!a.lb.Qd;this.Ah(d,a.Nh);f=null;if(this.Jg.HP(d,"manifest"))this.log.trace("manifest exists in cache for "+d);else{p=new g.YD(d,a.ad,"manifest",this.Na.getTime(),h,void 0,b);f=p.id;p.pe=this.RA.bind(this,d,a.lb);c.push(p);}this.wP&&this.q_()&&(this.Jg.HP(d,"ldl")?this.lf&&this.log.trace("ldl exists in cache for "+d):(p=new g.YD(d,a.ad,"ldl",this.Na.getTime(),h,f,b),p.pe=this.wP.bind(this,d),c.push(p)));this.OA&&this.Mq&&this.p_()&&(this.f5(d)?this.lf&&this.log.trace("headers/media exists in cache for "+d):(d=new g.YD(a.M,a.ad,"getHeaders",this.Na.getTime(),h,f,b),d.pe=this.OA.bind(this,a.M,a.lb),c.push(d),b=new g.YD(a.M,a.ad,"getMedia",this.Na.getTime(),h,f,b),b.pe=this.Mq.bind(this,a.M,a.lb),c.push(b)));return c;};d.prototype.k5a=function(a){this.x5(a);};d.prototype.j5a=function(a){this.log.trace("task scheduler paused on playback created");this.dm.pause();this.UF&&this.Jg.v_(a,["manifest"]);this.TF&&this.Jg.v_(a,["ldl"]);this.w5(a);};d.prototype.doa=function(){this.log.info("track changed, clearing all manifests from cache");this.Jg.v_("none",["manifest"]);};d.prototype.coa=function(a){var b;b=this;this.SF?this.Jg.clearData(a,"manifest"):this.Jg.HP(a,"manifest")&&this.Jg.getData(a,"manifest").then(function(c){c.isSupplemental||b.Jg.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.Jg.clearData(a,"ldl",void 0,!0);this.z_(a);this.ZH();};d.prototype.z_=function(a){this.VY[a]=void 0;};d.prototype.HG=function(a){return this.VY[a];};d.prototype.Ika=function(a){return this.VY[a]=this.k9();};d.prototype.Ccb=function(){var a;a=[];a=this.Jg.me().map(function(a){return{pn:parseInt(a.movieId,10),state:a.state,jq:a.type,size:a.size||void 0};});this.U1().map(function(b){2===b.XA?a.push({pn:b.M,state:"cached",jq:r.Kd.bi.iD,size:void 0}):b.p1a&&!b.k7a&&a.push({pn:b.M,state:"loading",jq:r.Kd.bi.iD,size:void 0});b.xxa&&0<b.xxa&&b.Via&&0<b.Via?a.push({pn:b.M,state:"cached",jq:r.Kd.bi.MEDIA,size:void 0}):b.ucb&&!b.tcb&&a.push({pn:b.M,state:"loading",jq:r.Kd.bi.MEDIA,size:void 0});});return a;};d.prototype.cpa=function(a){return a&&0<=a.indexOf("billboard");};},function(f,c,a){var b,d,k,h,g,p,n,r,l,v,m,z,y,w,x,C,F,P,q,ea,O,W,U,Y,X,N;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(26);d=a(119);k=a(102);h=a(4);g=a(5);p=a(94);n=a(27);r=a(17);c=a(2);l=a(3);v=a(21);m=a(155);z=a(7);y=a(115);w=a(100);x=a(111);C=a(56);F=a(182);P=a(14);q=a(32);ea=a(25);O=a(462);W=a(154);U=a(202);Y=a(148);X=a(109);f.Yd(c.I.Qaa,function(a){var ka,G,va,A,wa,D,Ga,S,Ca,Ka,aa,Z,la,yb,rb;function c(){var a,b,c;if(h.config.$m){a={};a.trigger=C.Jc.mHa.jGa;b=ka.getTime();c=N.getStats(yb,b);a.startoffset=yb;yb=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.zu);a.general=JSON.stringify(c.Sma);a=new p.Ly(void 0,"prepare","info",a);t._cad_global.logBatcher.$l(a);}}function f(a,b,c){var g,k;k=a.video_tracks;k&&k.length&&k[0].streams&&k[0].streams.length&&(g=k[0].streams[0].content_profile);k=h.pka(b.Tc);g=h.oka(!!a.choiceMap,g);g=d.Pj.T_(Object.assign({},k,g));return{M:c,ad:0,C3a:function(){return{Ma:a,yi:!1,Wz:a.defaultTrackOrderList[0].audioTrackId};},config:g,Qd:!!b.Qd,sra:b.sra};}function u(a,b){N.jj(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){Ga.trace("ldl not available in cache",c);N.jj(a,"manifest").then(function(c){var g,k,f;function d(b){Ga.warn("ldl is now invalid",b);k.close();N.qu(a,"ldl",void 0);N.z_(a);}if(N.FP(a,"ldl"))b({status:C.Jc.Jd.sy});else if(c.hasDrmStreams)if(h.config.xla&&S&&S!=a)b({status:C.Jc.Jd.dK});else if(h.config.yla&&Ca&&Ca!=a)b({status:C.Jc.Jd.VC});else{S&&S!=a&&(Ka[a]=(Ka[a]|0)+1);Ca&&Ca!=a&&(aa[a]=(aa[a]|0)+1);g=c.video_tracks[0].drmHeader.bytes;k=M({VG:"cenc",Nla:Ga,Jw:function(b){var d;d=[];b.Rj.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:l.kq(a.data)});});b={Rj:d,uO:[c.drmContextId],mg:C.Jc.uka(b.mg),Ve:c.playbackContextId,ia:N.Ika(a)};Ga.trace("xid created ",{MovieId:a,xid:b.ia});return A.Rz(b,Z);},Khb:void 0,j0a:d,Pd:void 0,fR:P.Db,Na:wa});N.qu(a,"ldl",k,function(){k.close();});f=D.shift();l.log.trace("cached mediakeys count "+D.length);return k.create(h.config.Cd,f).then(function(){return k.Hc(y.xn.Ey,[l.Qk(g)],!0);}).then(function(){b(null,k);})["catch"](function(a){d(a);b(a);});}else b({status:C.Jc.Jd.cK});})["catch"](function(a){Ga.warn("Manifest not available for ldl request",a);b({status:C.Jc.Jd.sy});});});}function B(a,b){N.jj(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){Ga.trace("ldl not available in cache",c);N.jj(a,"manifest").then(function(c){var g,f;function d(b,c){Ga.warn(b+" LDL is now invalid.",c);N.qu(a,"ldl",void 0);N.z_(a);}if(N.FP(a,"ldl"))b({status:C.Jc.Jd.sy});else if(c.hasDrmStreams)if(h.config.xla&&S&&S!=a)b({status:C.Jc.Jd.dK});else if(h.config.yla&&Ca&&Ca!=a)b({status:C.Jc.Jd.VC});else{S&&S!=a&&(Ka[a]=(Ka[a]|0)+1);Ca&&Ca!=a&&(aa[a]=(aa[a]|0)+1);g=c.video_tracks[0].drmHeader.bytes;f=l.da.get(w.$C)().then(function(b){var d;d={type:y.xn.Ey,SP:l.Qk(g),context:{Cd:h.config.Cd,M:a,ia:N.Ika(a),Ve:c.playbackContextId,Vj:c.drmContextId,profileId:k.eg.profile.id}};return b.du(d);}).then(function(a){b(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});N.qu(a,"ldl",f,function(){try{f.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Sb){d("Unable to cleanup LDL session, unexpected exception.",Sb);}});}else b({status:C.Jc.Jd.cK});})["catch"](function(a){Ga.warn("Manifest not available for ldl request",a);b({status:C.Jc.Jd.sy});});});}function M(a){var b,c;b=new q.Ye.Qr(a.Nla,a.Jw,a.Khb,{lf:!1,Pw:!1});c=l.da.get(x.Yy);return q.Ye.un(a.Nla,a.VG,a.Pd,{lf:!1,Pw:!1,tpa:h.config.Yh,Tua:{fra:h.config.Sua,Oja:h.config.p7},Xa:b,LR:h.config.sI,Da:void 0,NC:h.config.NC,ny:h.config.X0,onerror:a.j0a,fR:a.fR,Na:a.Na,O5:!1,iC:h.config.W8&&h.config.iC,QG:h.config.QG,Wia:c.XN(),c9:c.KF([]),$A:h.config.$A});}function ja(a,b){0===a&&l.log.trace("generete mediakeys for pre-caching");a<b?q.Ye.un.HF&&q.Ye.un.HF("cenc",h.config.Cd,l.log,h.config.W8&&h.config.iC).then(function(c){D.push(c);ea.bb(ja.bind(null,++a,b));})["catch"](function(a){l.log.error("abort pre-caching due to error in creating mediakeys",a);}):l.log.trace("pre-cached mediakeys complete, number of instances: "+b);}ka={getTime:r.Ya,tP:r.ht};G=l.da.get(v.fe);va=l.da.get(U.yV);A=l.da.get(Y.tD);wa=ka;D=[];Ga=l.Gc("VideoPreparer");Ka={};aa={};Z={Wb:b.Wb,log:Ga};if(!q.Ye.un||!q.Ye.Qr){la=q.zca();q.Ye.un=la.te;q.Ye.Qr=la.request;}Ga.info("instance created");N=new O.FKa({log:Ga,Na:ka,k9:r.$ja,RA:function(a,b,c){var g;function d(){var c,d;G.Uv(b)||(b={trackingId:b});c={wh:va.fka(b.$v,b.wh),yf:a,Ht:!!b.kf,qG:C.Jc.jm.Lca};Z.profile=k.eg.profile;Ga.trace("manifest request for:"+a);d=l.da.get(X.Ry)();return va.RA(c,d);}Ga.trace("getManifest: "+a);if(h.config.DQa&&b&&b.Ma&&!N.FP(a,"manifest")&&(!b.Ma.clientGenesis||Date.now()-b.Ma.clientGenesis<h.config.lta)){b.Ma.Ox=ka.getTime();b.Ma.WB=ka.getTime();g=b.Ma.runtime?l.da.get(W.zV).decode(b.Ma):b.Ma;N.qu(a,"manifest",g);c(null,g);}else N.jj(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var g;Ga.trace("manifest not available in cache",b);if(N.FP(a,"manifest"))c({status:C.Jc.Jd.sy});else{g=ka.getTime();b=d();N.qu(a,"manifest",b);b.then(function(b){b.Ox=g;b.WB=ka.getTime();N.qu(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);N.qu(a,"manifest",void 0);});}});},wP:h.config.sn?B:u,q_:function(){return h.config.BO&&n.cQ(h.config);},OA:function(a,b,c){N.jj(a,"manifest").then(function(g){g=f(g,b,a);d.cj.wja(g,function(){c(null,{});});})["catch"](function(a){Ga.error("Exception in getHeaders",a);c(a);});},Mq:function(a,b,c){N.jj(a,"manifest").then(function(g){var h,k,p;h=f(g,b,a);k=g.duration;g=l.da.get(m.$J).mZ({LC:z.Hb(g.bookmark),M:a,lI:z.Hb(k),oc:b}).pa(z.Qa);l.da.get(v.fe).Xn(b.X)&&(g=b.X);h.Ib=g;if(S!=a||b.Qd){p=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(d.cj.removeEventListener("prebuffstats",p),c(null,{}));};d.cj.addEventListener("prebuffstats",p);d.cj.wja(h);}else c({status:C.Jc.Jd.VC});})["catch"](function(a){Ga.error("Exception in getMedia",a);c(a);});},Yw:function(){return d.cj.Yw();},p_:function(){return h.config.AO;},f5:function(a){var b;b=!1;d.cj.GN().forEach(function(c){c.M==a&&(b=!0);});return b;},mP:function(a){var b;d.cj.GN().forEach(function(c){c.M==a&&(b=c.$b,b.X=c.Un);});return b;},U1:function(){return d.cj.GN().map(function(a){var b,c;b=d.cj.w8a(a.M);c=b[l.Wf.$f.AUDIO]&&b[l.Wf.$f.AUDIO].data;b=b[l.Wf.$f.VIDEO]&&b[l.Wf.$f.VIDEO].data;return{M:a.M,XA:a.XA,Via:c&&c.length,xxa:b&&b.length,p1a:G.Xn(a.$b.YO),k7a:G.Xn(a.$b.nQ),ucb:G.Xn(a.$b.NB),tcb:G.Xn(a.$b.pI)};});},w5:function(a){S=a;},x5:function(a){rb&&(rb.x_(),c());Ca=a;},ZH:function(){rb&&rb.J7();Ca=S=void 0;},c2:function(){return{ldls_after_create:Ka,ldls_after_start:aa};},i_:function(a,b,c){var d,g;try{d=N.mP(a);g=d&&d.X===b;d&&d.pI?G.Zk(b)&&!g?c(!1):N.jj(a,"manifest").then(function(b){b.UBb?N.jj(a,"ldl").then(function(){c(!0);})["catch"](function(){c(!1);}):c(!0);})["catch"](function(){c(!1);}):c(!1);}catch(tb){c(!1);}},SF:h.config.SF,UF:h.config.UF,TF:h.config.TF,$G:h.config.Ecb,e_:h.config.Hcb,d_:h.config.Fcb,i1:h.config.lta,h1:h.config.Gcb,lf:!1,yb:l.da});t._cad_global.videoPreparer=N;la=h.config.Nbb;yb=ka.getTime();la&&(rb=new F.Kda(la,c),rb.J7());h.config.BO&&n.cQ(h.config)&&h.config.eta&&ea.bb(ja.bind(null,0,h.config.eta));a(g.kb);});},function(f,c,a){var b,d,k,h,g,p,n,r,l,v,m,z;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(118);d=a(89);k=a(102);h=a(180);g=a(141);p=a(5);n=a(27);c=a(2);r=a(3);l=a(93);v=a(9);m=a(14);z=a(6);f.Yd(c.I.Saa,function(a){function c(a,b){function c(a){a=new l(r.Qk(a));a.rf();return{Mt:a.yta(),a0a:a.yta()};}return{encrypt:function(b,c){var d;b=m.$c(b)?r.HJ(b):b;d=z.ds.getRandomValues(new Uint8Array(16));n.GB(z.Ll.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,g;a=new Uint8Array(a);b=[];g=new l(b);g.j9(2);g.Exa(d);g.Exa(a);a=r.kq(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){v.ha(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,d){b=c(b);n.GB(z.Ll.decrypt({name:"AES-CBC",iv:b.Mt},a,b.a0a)).then(function(a){a=new Uint8Array(a);d({success:!0,text:r.IJ(a)});},function(a){v.ha(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,c){a=m.$c(a)?r.HJ(a):a;n.GB(z.Ll.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:r.kq(a)});},function(a){v.ha(!1,"Hmac error: "+a);c({success:!1});});}};}b.gv.mdx={getEsn:function(){return d.Mf.Of;},createCryptoContext:function(a){var b,c,d;b=h.Fi.Ke.getStateForMdx(k.eg.profile.id);c=b.cryptoContext;d=b.masterToken;b=b.userIdToken;d&&b?(v.ha(c),d=["1",r.kq(JSON.stringify(d.toJSON())),r.kq(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:d,encrypt:function(a,b){a=m.$c(a)?r.HJ(a):a;c.encrypt(a,{result:function(a){a=r.kq(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){v.ha(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=r.Qk(a);c.decrypt(a,{result:function(a){b({success:!0,text:r.IJ(a)});},timeout:function(){b({success:!1});},error:function(a){v.ha(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=m.$c(a)?r.HJ(a):a;c.sign(a,{result:function(a){b({success:!0,hmacBase64:r.kq(a)});},timeout:function(){b({success:!1});},error:function(a){v.ha(!1,"Hmac error: "+a);b({success:!1});}});}}})):(v.ha(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var d;d=r.Qk(a);a=d.subarray(32,48);d=d.subarray(0,32);if(16!=a.length||32!=d.length)throw Error("Bad shared secret");Promise.all([n.GB(z.Ll.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),n.GB(z.Ll.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:c(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return g.Ut.t4a();}};a(p.kb);});},function(f,c,a){var b,d,k,h,g,p,n,r,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(118);b=a(5);d=a(4);k=a(16);c=a(12);h=a(3);g=a(63);p=a(82);n=a(9);r=a(14);l=a(6);t.netflix=t.netflix||{};n.ha(!t.netflix.player);t.netflix.player={VideoSession:f.HKa,diag:{togglePanel:function(a,b){var c;if(!d.config||d.config.DI){switch(a){case"info":c=k.yp.map(function(a){return a.AR;});break;case"streams":c=k.yp.map(function(a){return a.gcb;});break;case"log":c=[];}c&&c.forEach(function(a){r.cb(b)?b?a.show():a.Nw():a.toggle();});}},addNccpLogMessageSink:function(a){h.da.get(g.Zr).addListener({cva:function(){},era:function(b){a({data:b.data});}});}},log:h.Gc("Ext"),LogLevel:c.Ch,addLogSink:function(a,b){h.da.get(p.Uu).UB(a,b);},getVersion:function(){return"0.0012.893.010";},isWidevineSupported:function(a){var d;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.yn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Hy,robustness:"SW_SECURE_CRYPTO"}]}];try{l.Yg.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var g;g=d.getConfiguration();d=g.videoCapabilities||[];g=(g.audioCapabilities||[]).reduce(c(b.Hy),!1);d=d.reduce(c(b.yn),!1);a(g&&d);})["catch"](function(){a(!1);});}catch(y){a(!1);}}};},function(f,c,a){var b,d,k,h,g,p,n;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(118);d=a(5);c=a(2);k=a(4);h=a(197);g=a(3);p=a(16);n=a(119);f.Yd(c.I.Taa,function(a){var c;if(k.config.x0a){c=g.da.get(h.gW);b.gv.test={pboRequests:c.Xa,playbacks:p.yp,aseManager:{cacheDestroy:function(){return n.cj.vja();}}};}a(d.kb);});},function(f,c,a){var b,d,k,h,g,p,n,r,l,v,m,z,y,w,x,C;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(89);d=a(102);k=a(118);h=a(141);g=a(180);p=a(26);n=a(47);r=a(5);l=a(4);v=a(94);m=a(2);z=a(3);y=a(9);w=a(18);x=a(14);C=a(15);f.Yd(m.I.Raa,function(a){var u,B;function c(a,b){var c;c={profile:d.eg.profile,log:u,Wb:p.Wb};a.email&&(c.Bw=a.email,c.password=a.password||"");a.sendNetflixIdUserAuthData&&(c.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.Sg&&(c.Sg=a.Sg);b({N:!0,g5:c});}function f(a){return{account:{id:a.hh.id},id:a.id,lastAccessTime:a.lH,languages:a.languages,registered:a.E6};}u=z.Gc("NccpApi");B=w.Qia(["info","warn","trace","error"]);k.gv.nccp={getEsn:function(){return b.Mf.Of;},getPreferredLanguages:function(){return l.config.ig.Ex;},setPreferredLanguages:function(a){y.ha(C.isArray(a)&&x.Kt(a[0]));l.config.ig.Ex=a;},login:function(a,b){return new Promise(function(c,g){d.eg.Xw(a,b).then(function(a){c(f(a));})["catch"](function(a){g({success:!1,error:n.av(a.code,a)});});});},logout:function(){return new Promise(function(a,b){d.eg.u8a().then(a)["catch"](function(a){b({success:!1,error:n.av(a.code,a)});});});},isLoggedIn:function(){return d.eg.GXa().map(function(a){return!(a.Ci||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,c){d.eg.yib(a).then(function(a){b(f(a));})["catch"](function(a){c({success:!1,error:n.av(a.code,a)});});});},ping:function(a,b){c(a,function(a){h.Ut.ping(a.g5,function(a){b&&(a.N?b({success:!0}):b({success:!1,error:n.av(m.I.MV,a)}));});});},netflixId:function(a,b){c(a,function(a){h.Ut.SZ(a.g5).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:n.av(m.I.fca,a)});});});},getDeviceTokens:function(a){y.ha(C.rb(a));h.Ut.SZ({log:u,Wb:p.Wb}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:n.av(m.I.fca,b)});});},getRegistered:function(a,b){var c;try{c=g.Fi.Ke.hasUserIdToken(a.id||d.eg.profile.id);b({success:!0,registered:c});}catch(X){b({success:!1});}},unregister:function(a,b){try{g.Fi.Ke.removeUserIdToken(a.id||d.eg.profile.id);b({success:!0});}catch(Y){b({success:!1});}},queueLogblob:function(a,b,c){a&&b&&(b=b.toLowerCase(),B[b]?t._cad_global.logBatcher&&(a=new v.Ly(void 0,a,b,c),t._cad_global.logBatcher.$l(a)):u.warn("Invalid severity",{severity:b}));},flushLogblobs:function(){t._cad_global.logBatcher.flush(!0);}};a(r.kb);});},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(26);d=a(27);k=a(9);h=a(18);g=a(14);c.Qza=function(a,b){k.ha(a);k.ha(b);k.PF(b.d0a,"endpointURL property is required");k.ha(b.vi);this.log=a;this.Vsa=b;};c.Qza.prototype.Jq=function(){var a,c,k;a=this;a.log.trace("Downloading config data.");c={browserInfo:JSON.stringify(a.Vsa.vi)};k=a.Vsa.d0a+"?"+d.XH(c);return new Promise(function(c,d){function f(b){var c;try{if(b.N){c=new Uint8Array(b.content);return{N:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{N:!1,message:"Unable to download the config. "+b.Ga,MG:b.mh};}catch(F){return b=h.xc(F),a.log.error("Unable to download the config. Received an exception parsing response",{message:F.message,exception:b,url:k}),{N:!1,Ga:b,message:"Unable to download the config. "+F.message};}}function p(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",g.va({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function n(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function r(k,l,u){b.Wb.download(k,function(b){var v;b=f(b);if(b.N)c(b);else{a.log.warn("Config download failed, retrying",g.va({Attempt:l,WaitTime:v,MaxRetries:u},b));if(p(b,l+1,u))return v=h.wta(1E3,1E3*Math.pow(2,Math.min(l-1,u))),n(v).then(function(){return r(k,l+1,u);});d(b);}});}return b.Wb?r({url:k,responseType:3,withCredentials:!0,sA:"config-download"},1,3):Promise.reject({N:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b=a(4);d=a(5);c=a(2);k=a(3);h=a(163);f.Yd(c.I.Caa,function(a){b.config.N1a&&k.da.get(h.haa).start();a(d.kb);});},function(f,c,a){var d,k,h,g,p;function b(a){function b(){var f,p;if(a.Ni.value&&a.a8){f=a.gp;p=f.me();p!=h.MW&&(p!=h.LW&&f.m4a()?(f=!1,a.Ym.C2()<d.config.Fjb&&(f=a.Ni.value.L>d.config.Ejb),f&&(f=a.Er[a.Er.length-1],c(f.size))?a.AJ.jua="h":(f=a.Er[0],c(f.size)?a.AJ.jua="l":f=void 0),f&&(a.AJ.offset=g.Ya(),a.gp=f,a.gp.download())):(a.removeEventListener(k.xj,b),a.Ni.removeListener(b)));}}function c(b){var c;c=p.Af(a.Yv(),a.oy());b=a.LSa.HTa(b);b*=1+.01*d.config.pRa[2];return b<c*d.config.Hjb;}a.AJ={};!a.hB()&&a.Er&&0<a.Er.length&&(a.gp=a.Er[a.Er.length-1],a.gp&&(a.addEventListener(k.xj,b),a.Ni.addListener(b)));}Object.defineProperty(c,"__esModule",{value:!0});d=a(4);k=a(16);h=a(206);g=a(17);p=a(6);k.jL(k.kW,function(a){d.config.v_a&&(a.zBb=new b(a));});c.Vrb=b;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(33);d=a(25);k=a(6);f=a(16);f.jL(f.jW,function(a){function c(g){g&&4E3<g.byteLength&&(a.removeEventListener(b.Ha.zZ,c),d.bb(function(){for(var b=2E3,c=k.im.now(),d=c,g=[],h=0;h<b;h++){for(var f=10;f--;)a.mBb=Math.atan2(f,f);f=k.im.now();g.push(f-d);d=f;}c=d-c;f=c/b;d=[];for(h=0;h<g.length;h++)g[h]>5*f&&d.push(h);h=d.reduce(function(a,b){return a+g[b];},0);c-=h;b-=d.length;0!=c&&(a.X_=Math.round(b/c));}));}a.addEventListener(b.Ha.zZ,c);});},function(f,c,a){var b,d,k,h,g,p,n,r,l,v,m,z,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(120);d=a(19);k=a(277);h=a(16);g=a(4);p=a(55);n=a(5);r=a(27);l=a(17);v=a(18);m=a(6);z=a(3);y=a(84);h.jL(h.jW,function(a){var W,t,Y,X,N,G;function c(b){b.newValue>=h.Gk&&(a.state.removeListener(c),O("type=openplay&sev=info&locstor="+m.RV(q())),Y=l.Ya(),w());}function f(){G("type=startplay&sev=info&outcome=success");}function u(){var c,d,g;c=a.oh;if(c){d="type=startplay&sev=error&outcome=error";g={};b.zFa(g,c);v.ic(g,function(a,b){d+="&"+m.RV(a)+"="+m.RV(b||"");});G(d);}else G("type=startplay&sev=info&outcome=abort");}function w(){var a,b;a=X.shift();if(0<a){b=m.Ek(a-(l.Ya()-Y),0);t=setTimeout(function(){O("type=startstall&sev=info&kt="+a);w();},b);}}function B(){G("type=startplay&sev=info&outcome=unload");}function q(){var a,b,c;try{b=""+l.ht();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(ba){a="ex: "+ba;}return a;}function O(b){b=N+"&soffms="+a.Lw()+"&"+b;a.$d&&Object.keys(a.$d).length&&(b+="&"+r.XH(v.va({},a.$d,{prefix:"sm_"})));k.ojb(b,W);}W=z.da.get(y.Kr).host+g.config.F8;if(g.config.sT&&W){X=g.config.pjb.slice();N="xid="+a.ia+"&pbi="+a.index+"&uiLabel="+(a.Tc||"");a.state.addListener(c);a.addEventListener(h.xj,f);a.addEventListener(h.Ze,u);p.Nd.addListener(p.ck,B,n.Ny);G=function(b){G=n.Db;b+="&initstart="+d.qQ+"&initend="+d.S3;O(b);clearTimeout(t);a.removeEventListener(h.xj,f);a.removeEventListener(h.Ze,u);p.Nd.removeListener(p.ck,B);};}});},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(88);b=a(4);d=a(3);f.AD(function(a){var c,g,k,f;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720};Object.assign(c,b.config.Njb);g=c[a.Tc];if(b.config.Ojb&&g){k={};f=d.jf(a,"MediaStreamFilter");return{nG:"uiLabel",yr:function(b){if(b.lower&&b.height>g)return k[b.height]||(k[b.height]=!0,f.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:b.height}),a.Xz.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(f,c,a){var d,k,h,g;function b(a){var c,f;function b(h){a.removeEventListener(d.FV,b);try{g.O6a(h.data)&&(f=!0,a.Mgb());c.trace("RA check",{HasRA:f});}catch(B){c.error("RA check exception",B);}}c=k.jf(a,"RAF");a.addEventListener(d.FV,b);return{nG:"ra",yr:function(a){if(!f)return a.Leb||a.ve!==h.$.Tr;}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(88);d=a(16);k=a(3);h=a(59);g=a(282);a(32).Eda&&f.AD(b);c.jpb=b;},function(f,c,a){var d,k;function b(a){var b,c;b=k.jf(a,"MSS");if(d.config.G9a)return{nG:"mss",yr:function(d){var g,h;if(d.lower&&2160<=d.height)a:{for(g=d;g.lower;){if(2160>g.height&&1080<g.height){g=!0;break a;}if(1080>=g.height)break;g=g.lower;}g=!1;}else g=void 0;if(g){if(void 0===c){try{h=t.MSMediaKeys;c=h&&h.isTypeSupportedWithFeatures?"probably"===h.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(v){b.error("hasUltraHdDisplay exception");c=!0;}c||(b.warn("Restricting resolution due screen size",{MaxHeight:d.height}),a.Xz.set({reason:"microsoftScreenSize",height:d.height}));}return!c;}}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(88);d=a(4);k=a(3);f.AD(b);c.ipb=b;},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(88).AD(function(a){return{nG:"op",yr:function(b){var c;if(b=b.Leb){c=a.Pg;if(c&&c.b2())return b;}}};});},function(f,c,a){var d,k,h,g,p,n,r,l,v,m;function b(a){var z,P,q,ea,O,W,t,Y,X,N,G,A,V,fa,ba,ma,ja;function b(){var b;b=a.Ac.value==h.Dn&&a.state.value==h.km;A?b||(clearInterval(A),t=A=void 0,V&&(clearInterval(ba),ba=void 0)):b&&(A=setInterval(f,1E3),V&&(ba=setInterval(u,fa)));}function f(){var b,c,d,h,k,f;b=a.og.value;b=(b=b&&b.stream)&&b.height;if(0<b){c=p.Ya();d=a.Pg.Iw();if(t&&2E3>c-t.time&&b==t.height){h=d-t.TZa;k=P[b];k||(P[b]=k=[],b>X&&(W.push(b),g.PT(W)));0<h&&!(G<b)&&(G=b);k.push(h);k.length>Y&&k.shift();(k=ea[b])||(ea[b]=k={});f=k[h];k[h]=f?f+1:1;}t={time:c,TZa:d,height:b};a.AR&&a.AR.qgb(P);}}function u(){m.storage.save(c.cV,{xid:a.ia,data:ea});}function B(){r.ha(m.storage);a.addEventListener(h.Ze,function(){u();});O=[];m.storage.load(c.maa,function(a){var b;a.N&&(O=a.data);b={};m.storage.load(c.cV,function(a){a.N&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(O.push(b),O.length>V&&O.shift(),m.storage.save(c.maa,O),m.storage.save(c.cV,{}));});});}z=n.jf(a,"DFF");P={};q=d.config.XZa;ea={};O=[];W=[];Y=d.config.VZa;X=d.config.WZa;N=k.fEa;V=d.config.$Za;fa=d.config.ZZa;ma=v.Yg.hardwareConcurrency||0;if(d.config.UZa)return V&&a.addEventListener(h.hda,B),a.xO={j2a:function(){var a;a={};ea&&W.forEach(function(b){var c,d,g;c=ea[b];if(c){d=0;g=0;l.ic(c,function(a,b){g+=l.ed(a);d+=b;});a[b]=g/d;}});return a;},n2:function(a){var b;b={};a.forEach(function(a){b[a]={};});ea&&(g.PT(a),W.forEach(function(c){var d,h,k,f;d=ea[c];if(d){h=0;k=0;l.ic(d,function(a,b){h+=b;});f=Object.keys(d);g.PT(f);for(var p=f.length-1,n=f[p],r=a.length-1;0<=r;r--){for(var u=a[r];n>=u&&0<=p;)(n=d[n])&&(k+=n),n=f[--p];b[u][c]=v.Bf(k/h*100);}}}));return b;}},a.state.addListener(b),a.Ac.addListener(b),{nG:"df",yr:function(b){var c,g,h,k,f,p,n,r,l,u;if(b.lower&&b.height>X){b=b.height;a:{!ja&&d.config.Hla&&d.config.wO&&a.X_<d.config.Hla[ma]&&(N=v.Af(N,d.config.wO),a.Xz.set({reason:"droppedFramesPreviousSession",height:d.config.wO}));ja=!0;if(G){c=W.length;for(g=0;g<c;g++)if(h=W[g],h>=G&&h<N){k=P[h];if(f=k)b:{l=q.length;u=k.length;for(r=0;r<l;r++)for(p=q[r],f=p[0],p=p[1],n=0;n<u;n++)if(k[n]>=p&&0>=--f){f=!0;break b;}f=void 0;}if(f&&N!=h){z.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});a.Xz.set({reason:"droppedFrames",height:h});c=d.config.wO=N=h;break a;}}G=void 0;}c=N;}return b>=c;}}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(88);d=a(4);k=a(5);h=a(16);g=a(27);p=a(17);n=a(3);r=a(9);l=a(14);v=a(6);m=a(121);f.AD(b);c.maa="DroppedFramesHistory";c.cV="DroppedFramesSession";c.hpb=b;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(26);d=a(3);k=a(14);c.cqb=function(){d.Gc("OpenConnectNotifier");return{wG:function(a){b.Wb.P$a({url:a.url,reason:a.reason});},J8:k.Db};}();},function(f,c,a){var d,k,h,g,p,n;function b(a){var b,c;b=this;this.G=a;this.wab=function(){h.Nd.removeListener(h.F2,b.lsa);b.We.removeChild(b.xo.d2());};this.y5=function(a){b.xo.rgb(a.newValue);};this.Pab=function(a){b.xo.tgb(a.newValue?a.newValue.gH:void 0);};this.lsa=function(){b.xo.CI();};this.We=a.We;this.xo=new p.$Ja(g.config.A8,a.bd.value?a.bd.value.gH:void 0);c=a.QC;k.ha(.1<c.width/c.height);this.xo.lgb(c.width/c.height);this.We.appendChild(this.xo.d2());a.z8.addListener(this.y5);a.bd.addListener(this.Pab);a.addEventListener(n.Ze,this.wab,d.Ny);h.Nd.addListener(h.F2,this.lsa);}Object.defineProperty(c,"__esModule",{value:!0});d=a(5);k=a(9);h=a(55);g=a(4);p=a(279);n=a(16);b.prototype.WI=function(a){this.xo.WI(a);};b.prototype.GG=function(){return this.xo.GG();};b.prototype.UI=function(a){this.xo.UI(a);};b.prototype.VI=function(a){this.xo.VI(a);};c.bKa=b;},function(f,c,a){var d,k,h,g,p,n,r,l;function b(a,b,c,d,g){a=n.$D.call(this,b,a,a,"1",{0:c},void 0,"xx",d||a,r.En.Py,"primary","custom",{},!1,!1,!1)||this;a.G=b;a.url=c;a.content=g;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(16);k=a(4);h=a(55);g=a(3);p=a(14);n=a(210);r=a(152);l=a(26);d.jL(d.kW,function(a){var c;function b(b){var d;if(b.ctrlKey&&b.altKey&&b.shiftKey&&84==b.keyCode){d=p.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,g,h;b=d.files[0];if(b){g=b.name;c.info("Loading file",{FileName:g});h=new FileReader();h.readAsText(b);h.addEventListener("load",function(){return a.ap.dZ("nourl",g,h.result);});}});d.click();}}c=g.jf(a,"TimedTextCustomTrack");k.config.n0&&(c.info("Loading url",{Url:k.config.n0}),a.ap.dZ(k.config.n0,"custom"));h.Nd.addListener(h.Mw,b);a.addEventListener(d.Ze,function(){h.Nd.removeListener(h.Mw,b);});});ha(b,n.$D);b.aXa=function(a,c,d,g){var h;h="custom"+b.s6a++;return new b(h,a,c,d,g);};b.prototype.Cla=function(){var a;a=this;return new Promise(function(b,c){var d;if(a.content)b(a.content);else if(a.url){d={responseType:l.yoa,url:a.url,track:a,wb:null,sA:"tt-"+a.ej};a.G.NG.download(d,function(g){g.N?b(g.content):(g.reason="downloadfailed",g.url=d.url,g.track=a,c(g));});}});};b.s6a=0;c.ZJa=b;},function(f,c){function a(a,b,c){this.start=a;this.track=b;this.Zx=c;this.end=void 0;this.Zx=Array.isArray(c)?c:[];}function b(a,b,c){this.log=a;this.ny=b;this.va=c.va;this.hg=c.hg||function(){};this.current=void 0;this.r6=[];this.orphans=[];}function d(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function k(a,b){return d(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function h(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.IQa=function(a,b){this.Fra(a,b,"activating");};b.prototype.LXa=function(a){this.a1(a,"de-activating");};b.prototype.Fra=function(b,c,d){var g;g=[];this.current&&this.a1(b,"close current for new");this.orphans.length&&(g.push(this.orphans),this.orphans=[]);this.current=new a(b,c,g);this.ny&&this.log.trace("new range: "+d,this.va({},this.current));};b.prototype.a1=function(a,b){this.current&&(this.current.end=a,this.r6.push(this.current),this.ny&&this.log.trace("end range: "+b,this.va({},this.current||{})),this.current=void 0);};b.prototype.exa=function(a){this.current?this.current.Zx.push(a):this.orphans.push(a);};b.prototype.y2=function(b){var c,d,g;c=this;d=c.r6.slice(0);if(c.current&&"undefined"!=typeof b){g=new a(c.current.start,c.current.track,c.current.Zx);g.end=b;d.push(g);}b=d.reduce(function(a,b){var d,g,h,f;if(!b.track)return a;d=b.track.vc;g=b.track.Ft(b.start,b.end);if(!g)return a;h=k(b.Zx,c.log);a[d]?(f=a[d],f.expected+=g.length,f.missed+=g.length-h.length):(f={},f.dlid=d,f.bcp47=b.track.ej,f.profile=b.track.QH,f.expected=g.length,f.missed=g.length-h.length,f.startPts=b.track.y4a(),a[d]=f);return a;},{});b=h(b);c.ny&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.n4a=function(b){var c,d,g,h,f;c=this;d=c.r6.slice(0);g=0;h=0;c.current&&"undefined"!=typeof b&&(f=new a(c.current.start,c.current.track,c.current.Zx),f.end=b,d.push(f));d.forEach(function(a){var b,d;if(a.track){if(a.end<a.start){c.hg("negative range",a);a.ku=0;return;}b=k(a.Zx,c.log);d=a.track.Ft(a.start,a.end);a.Rl=d?d.map(function(a){return a.id;}):[];a.ku=d?0===d.length?100:100*b.length/d.length:0;}else a.ku=100;b=a.end-a.start;g+=b;h+=a.ku*b;});f=g?Math.round(h/g):100;c.log.trace("qoe score "+f+", at pts: "+b);c.ny&&(b=d.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.ku),lang:a.track?a.track.ej:"none","actual  ":a.Zx.join(" "),expected:(a.Rl||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return f;};c.QJa=b;},function(f,c,a){var d,k,h,g,p,n,r,l,v,m,z,y,w,x,C;function b(a){var c;c=this;this.G=a;this.g8=this.yra=0;this.zF=this.gr=!1;this.ju=0;this.Cr=function(){var a,b;a=c.yd();c.eS();c.Tka&&(c.log.info("Deactivating",c.Tka),c.uu.LXa(c.yd()));c.G.aq.set(null);c.dy.qva(c.entries=void 0);c.Wja();b=c.G.bd.value;b&&b.r3()&&!b.hpa()&&(b=null);b&&c.G.Ac.value!==g.fi&&c.uu.IQa(a,b);b?(c.log.info("Activating",b),c.G.Mi.set(g.Nr),c.gr||c.G.Pd("tt_start"),b.getEntries().then(c.NA)["catch"](c.NA)):c.G.Mi.set(g.Ak);c.Tka=b;c.MC();};this.q8=function(){c.gr&&(c.dy.start(),c.G.Ac.value!=g.Dn&&c.dy.stop());};this.MC=function(){var a;c.G.state.value===g.km&&c.G.Ac.value!==g.fi&&(c.entries?a=c.dy.W1a():c.G.bd.value&&(a=b.Chb[c.G.bd.value.me()]));a&&w.cb(a.startTime)&&(c.yra++,c.g8+=c.dy.Ana()-a.startTime,c.bja=Math.ceil(c.g8/(c.yra+0)));c.G.z8.set(a);};this.yd=function(){return c.G.o2();};this.Nab=function(a){c.fireEvent(b.ghb,a);a&&a.id&&c.uu.exa(a.id);c.log.trace("showsubtitle",c.Tna(a));};this.Iab=function(a){c.fireEvent(b.veb,a);c.log.trace("removesubtitle",c.Tna(a));};this.z5=function(){c.log.warn("imagesubs buffer underflow",c.G.bd.value.Sh);c.G.Mi.set(g.Nr);};this.qab=function(){c.log.info("imagesubs buffering complete",c.G.bd.value.Sh);c.G.Mi.set(g.Ak);};this.dsa=function(){c.gr&&c.Ee&&c.Ee.rn(c.yd());};this.isa=function(a){c.Ee&&c.Ee.Agb&&c.Ee.Agb(a.Ska,a.v$a);};this.msa=function(a){c.Ee&&c.Ee.Hr&&c.Ee.Hr(a.Vo,a.gkb);};this.Fab=function(){c.gr=!0;y.bb(function(){c.Ee?c.Ee.rn(c.yd()):c.q8();c.MC();});};this.ZH=function(){c.entries=void 0;c.Wja();c.dy.stop();c.MC();c.zF=!0;c.eS();};this.y5=function(a){(a=a.newValue)&&w.cb(a.id)&&c.uu.exa(a.id);};this.Gab=function(a){c.dkb(a.newValue,a.oldValue);c.q8();};this.NA=function(a){var b,k;if(!c.zF){b=a.track;k=!1;if(b==c.G.bd.value)if(b.Ao)if(a.N)c.eS(),c.Ee=b.Ee,c.Dqa("addListener"),c.log.info("Activated",b),c.G.aq.set(b),c.gr?y.bb(function(){c.Ee.rn(c.yd());}):c.Ee.pause();else{if(k=!!(c.ju<h.config.Xqa))c.vua=setTimeout(c.wua.bind(c,b),h.config.uwa);c.log.error("Failed to activate img subtitle",{retry:k},a,b);}else{if(k=a.entries)c.eS(),c.dy.qva(c.entries=k),c.log.info("Activated",b),c.G.aq.set(b);else{if(k=!!(c.ju<h.config.Xqa))c.vua=setTimeout(c.wua.bind(c,b),h.config.uwa);c.log.error("Failed to activate",{retry:k},n.gm(a),b);}c.MC();}c.gr||c.G.Pd(a.N?"tt_comp":"tt_err");a.N?(h.config.Eua?setTimeout(function(){c.G.Mi.set(g.Ak);},h.config.Eua):c.G.Mi.set(g.Ak),b.Ao||c.MC()):a.Sn?c.log.warn("aborted timed text track loading"):h.config.K0a?(c.log.error("fatal playback error, failed to load subtitles",a.track?a.track.Sh:{}),c.G.Kh(new d.yj(z.I.eDa))):(c.log.error("ignore subtitle initialization error",a),c.G.Mi.set(g.Ak));}};this.le=new k.di();this.uu=new l.QJa(n.jf(a,"SubtitleTracker"),h.config.u_a,{va:m.va,hg:v.ha});this.log=n.jf(a,"TimedTextManager");this.dy=new r.cKa(this.yd,this.MC);this.G.bd.addListener(this.Cr);h.config.scb?(this.G.addEventListener(g.xj,this.Fab),this.Cr()):(this.G.Mi.set(g.Ak),this.G.addEventListener(g.xj,function(){c.gr=!0;c.Cr();}));this.G.Ac.addListener(this.Gab);this.G.addEventListener(g.qda,this.q8);this.G.z8.addListener(this.y5);this.G.addEventListener(g.Ze,this.ZH);}Object.defineProperty(c,"__esModule",{value:!0});f=a(210);d=a(47);k=a(51);h=a(4);g=a(16);p=a(27);n=a(3);r=a(281);l=a(481);v=a(9);m=a(18);z=a(2);y=a(25);w=a(15);x=a(33);C=a(480);b.prototype.addEventListener=function(a,b,c){this.le.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.le.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.le.jc(a,b,c);};b.prototype.dZ=function(a,b,c){var d;d=C.ZJa.aXa(this.G,a,b,c);this.G.ol.push(d);this.G.bo.forEach(function(a){p.nya(a.ol,d);});this.G.bd.set(d);this.G.fireEvent(g.gIa);};b.prototype.C4a=function(a){return this.uu.n4a(a);};b.prototype.y2=function(a){return this.uu.y2(a);};b.prototype.Jgb=function(a){h.config.vwa.characterSize=a;a=this.G.bd.value;!a||a.r3()||a.Ao||a.getEntries().then(this.NA)["catch"](this.NA);};b.prototype.dkb=function(a,b){a===g.Dn||a==g.zp?b!==g.Dn&&b!==g.zp&&((b=this.G.bd.value)&&b.r3()&&!b.hpa()||this.uu.Fra(this.yd(),b,"presentingstate:"+a)):a!==g.fi&&a!==g.bv||this.uu.a1(this.yd(),"presentingstate:"+a);};b.prototype.eS=function(){this.ju=0;clearTimeout(this.vua);};b.prototype.Wja=function(){this.Ee&&(this.Ee.stop(),this.Dqa("removeListener"));this.Ee=void 0;};b.prototype.Dqa=function(a){this.Ee&&(this.Ee[a]("showsubtitle",this.Nab),this.Ee[a]("removesubtitle",this.Iab),this.Ee[a]("underflow",this.z5),this.Ee[a]("bufferingComplete",this.qab),"addListener"===a?(this.G.addEventListener(g.EV,this.dsa),this.G.addEventListener(x.Ha.m5,this.isa),this.G.addEventListener(x.Ha.Hr,this.msa)):(this.G.removeEventListener(g.EV,this.dsa),this.G.removeEventListener(x.Ha.m5,this.isa),this.G.removeEventListener(x.Ha.Hr,this.msa)));};b.prototype.Tna=function(a){return{currentPts:this.yd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.wua=function(a){this.ju++;a.getEntries().then(this.NA)["catch"](this.NA);};a={};b.Chb=(a[f.$D.Vda.LOADING]={Rxb:!0},a[f.$D.Vda.rV]={Ew:!0},a);b.ghb="showsubtitle";b.veb="removesubtitle";c.aKa=b;},function(f,c,a){var r,l,v,m,z,y,w,x,C,F,q,M,ea,O,W,t,Y;function b(){}function d(){}function k(){}function h(){}function g(){return x?x:"0.0.0.0";}function p(a,b,c){a=q(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function n(a){a({usa:0,oJ:0,toa:0,nma:0});}c=a(121);d.prototype.constructor=d;d.prototype.set=function(a,b){v[a]=b;m.save(a,b);};d.prototype.get=function(a,b){if(v.hasOwnProperty(a))return v[a];w.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");m.load(a,function(c){c.N?(v[a]=c.data,b&&b(c.data)):v[a]=void 0;});};d.prototype.remove=function(a){m.remove(a);};d.prototype.clear=function(){w.info("WARNING: Calling unimplemented function Storage.clear()");};d.prototype.YF=c.Cq.YF;d.prototype.YN=c.Cq.YN.bind(c.Cq);d.prototype.Ky="NDA";k.prototype.now=function(){return z();};k.prototype.fa=function(){return y();};k.prototype.MH=function(a){return a+z()-y();};k.prototype.gR=function(a){return a+y()-z();};c=a(24).EventEmitter;a(38)(c,h.prototype);M=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();f.K=function(a){r=a.Bx;q=a.Gc;m=a.storage;v=a.mB;z=a.M3a;C=a.DG;F=a.UG;y=a.getTime;w=a.RRa;ea=a.Ua;Y=a.Ap;O=a.uy;W=a.SourceBuffer;t=a.MediaSource;x=a.pxb;l=a.xm;return{name:"cadmium",xm:l,Bx:r,DG:C,UG:F,ready:b,storage:new d(),Storage:d,time:new k(),events:new h(),console:new p("JS-ASE",void 0,"default"),Console:p,options:b,Promise:M,Ua:ea,uy:O,QEa:W,MediaSource:t,Ap:Y,oe:{name:g},memory:{j3a:n},eyb:void 0};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(26);c.wIa=function(){b.Gc("ProbeDownloader");return{wG:function(a){d.Wb.Vcb({url:a.url,Scb:a});}};}();},function(f,c,a){var d,k,h,g,p,n,r;function b(){var a;a=new k.di();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.jc.bind(this);this.Fv=n++;this.ya=h.Gc("ProbeRequest");this.rha=d.wIa;g.ha(void 0!==this.rha);this.Ae=c.Ap.$a.UNSENT;}Object.defineProperty(c,"__esModule",{value:!0});d=a(484);k=a(51);h=a(3);g=a(9);p=a(14);n=0;(function(){function a(){return JSON.stringify({url:this.dg,id:this.Fv,affected:this.EL,readystate:this.Ae});}p.va(b.prototype,{Gi:function(a){a.affected=this.EL;a.probed={requestId:this.Fv,url:this.dg,Rc:this.Lha,groupId:this.sga};this.emit(c.Ap.jd.ID,a);},u5:function(a){this.RE=a.httpcode;a.affected=this.EL;a.probed={requestId:this.Fv,url:this.dg,Rc:this.Lha,groupId:this.sga};this.emit(c.Ap.jd.Zu,a);},open:function(a,b,d,g){if(!a)return!1;this.dg=a;this.EL=b;this.Lha=d;this.Ae=c.Ap.$a.OPENED;this.bNa=g;this.rha.wG(this);return!0;},Be:function(){return!0;},Ai:function(){return this.Fv;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ae;},set:function(){}},status:{get:function(){return this.RE;}},url:{get:function(){return this.dg;}},Ysb:{get:function(){return this.EL;}},Z7a:{get:function(){return this.bNa;}}});}());(function(a){a.jd={ID:"pr0",Zu:"pr1"};a.$a={UNSENT:0,OPENED:1,ks:2,DONE:3,hm:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(r||(r={})));c.Ap=Object.assign(b,r);},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(3);a=a(345);a=f.da.get(a.t9);a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Q8a=function(a,b){var g,f;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],k=b(c),h=1;h<a.length;h++){g=a[h];f=b(g);f>k&&(c=g,k=f);}return c;}};},function(f,c,a){var d;function b(a,b,c){a=d.qU.call(this,a,b)||this;a.bA=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(265);ha(b,d.qU);c.Hza=b;},function(f,c,a){var b,d,k,h,g,p,n,r,l,v,m,z,y,w;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);d=a(344);k=a(120);h=a(5);g=a(4);p=a(94);n=a(16);r=a(17);f=a(2);l=a(3);v=a(95);m=a(6);z=a(25);y=a(15);b.Yd(f.I.Iaa,function(a){var f;function c(){var a,c,d,h;a={browserua:m.Dh,browserhref:m.UK.href,initstart:b.qQ,initdelay:b.S3-b.qQ};c=m.kd.documentMode;c&&(a.browserdm=""+c);"undefined"!==typeof t.nrdp&&t.nrdp.device&&(a.firmware_version=t.nrdp.device.firmwareVersion);y.Kt(g.config.oma)&&(a.fesn=g.config.oma);k.AFa(a);d=m.im&&m.im.timing;d&&g.config.i8a.map(function(b){var c;c=d[b];c&&(a["pt_"+b]=c-r.yUa());});h=f.yna();Object.keys(h).forEach(function(b){return a["m_"+b]=h[b];});c=new p.Ly(n.hL&&n.hL.G,"startup","info",a);w.$l(c);}w=l.da.get(d.pba);t._cad_global.logBatcher=w;f=l.da.get(v.ns);b.pH(function(){w.Zc();z.bb(c);});a(h.kb);});},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);d=a(4);k=a(17);c.fmb=function(a){var c;c={Wsb:a,hma:!0,E6:!1,lH:k.Ya(),load:function(a){(a||b.Db)(b.kb);},save:function(){c.hma=!0;},remove:function(a){c.hma=!1;(a||b.Db)(b.kb);},Wrb:d.config.ig.Ex,qxb:!0};return c;};},function(f,c,a){var h,g,p,n;function b(a,b,c,f){var r,l,u;h.ha(n.Ad(a)&&!n.isArray(a));f=f||"";r="";l=a.hasOwnProperty(p.ai)&&a[p.ai];l&&g.ic(l,function(a,b){r&&(r+=" ");r+=a+'="'+k(b)+'"';});c=(b?b+":":"")+c;l=f+"<"+c+(r?" "+r:"");u=a.hasOwnProperty(p.kp)&&a[p.kp].trim&&""!==a[p.kp].trim()&&a[p.kp];if(u)return l+">"+k(u)+"</"+c+">";a=d(a,b,f+"  ");return l+(a?">\n"+a+"\n"+f+"</"+c+">":"/>");}function d(a,c,d){var f;h.ha(n.Ad(a)&&!n.isArray(a));d=d||"";f="";g.ic(a,function(a,h){var l;if("$"!=a[0])for(var p=g.D8a(h),r=0;r<p.length;r++)if(h=p[r],f&&(f+="\n"),n.Ad(h))f+=b(h,c,a,d);else{l=(c?c+":":"")+a;f+=d+"<"+l+">"+k(h)+"</"+l+">";}});return f;}function k(a){if(n.$c(a))return g.V2(a);if(n.aa(a))return h.dO(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";h.ha(!1,"Invalid xml value.");return"";}Object.defineProperty(c,"__esModule",{value:!0});h=a(9);g=a(18);p=a(127);n=a(15);c.Fxb=b;c.Gxb=d;c.rBb=k;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(19);c=a(2);b=a(3);d=a(327);f.Yd(c.I.Daa,function(a){b.da.get(d.J$)().then(function(){a({N:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({N:!0});});});},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);d=a(27);k=a(5);h=a(4);g=a(2);p=a(444);n=a(32);r=a(6);n.Iba&&b.Yd(g.I.Uaa,function(a){r.Ll&&r.Ll.generateKey&&r.Ll.importKey&&r.Ll.unwrapKey?!n.Ye.n$&&h.config.fF!=p.WJ.qHa&&h.config.fF!=p.WJ.lEa||r.QV?(b.qH("wcs"),d.GB(r.Ll.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){b.qH("wcdone");a(k.kb);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=g.v.QW:0<=b.indexOf("timeout waiting for iframe to load")&&(c=g.v.MKa);a({S:c,Ga:b});})):a({S:g.v.LKa}):a({S:g.v.QW});});},function(f,c,a){var k,h,g,p,n,r,l,v,m,z,y,w,x,q,F,P,M,ea,O;function b(){try{F.write(new z.hca([M]));M="";}catch(W){ea.ib(b);}}function d(a){a.level<=q&&(a=a.uJ(!1,!0)+"\n",M+=a,ea.ib(b));}Object.defineProperty(c,"__esModule",{value:!0});f=a(19);k=a(181);h=a(4);g=a(5);c=a(90);p=a(17);n=a(12);r=a(82);l=a(3);v=a(2);m=a(9);z=a(6);y=a(147);w=a(89);x={create:!0};q=n.Ch.GW;P=[];M="";ea=new c.ZD(10);O=l.da.get(r.Uu);O.UB(y.Gy.vV,function(a){P.push(a);});f.Yd(v.I.Eaa,function(a){var f,n,r,l;function c(){var a;O.Vwa(y.Gy.vV);if(F){F.seek(F.length);a="Version: 0.0012.893.010\n"+(w.Mf?"Esn: "+w.Mf.Of+"\n":"")+"JsSid: "+p.Dy+", Epoch: "+p.ht()+", Start: "+p.zUa()+", TimeZone: "+new Date().getTimezoneOffset()+"\nHref: "+z.UK.href+"\nUserAgent: "+z.Dh+"\n--------------------------------------------------------------------------------\n";M+=a;ea.ib(b);for(a=0;a<P.length;a++)d(P[a]);P=void 0;O.UB(y.Gy.NKa,d);}}m.ha(h.config);if(k.UO){f=p.Dy+".log";n=function(a){F=a;c();};r=function(){m.ha(!1);c();};l=function(a){a.createWriter(n,r);};k.UO.root.getDirectory("netflix.player.logs",x,function(a){h.config.gzb?a.getFile(f,x,l,r):(a.removeRecursively(g.Db),c());},r);}else O.Vwa(y.Gy.vV),P=void 0;a(g.kb);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.$rb=function(a){this.userAgent=a;};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(19);a(4);a(5);a(90);a(3);a(82);a(147);a(2);},function(f,c,a){var n,r,l,v,m;function b(a){var b,g;r.PF(a);if(l.$c(a)&&c.mDa.test(a)){b=a.split(".");if(4===b.length){for(var d=0;d<b.length;d++){g=l.ed(b[d]);if(0>g||!m.Jt(g,0,255)||1!==b[d].length&&0===b[d].indexOf("0"))return;}return a;}}}function d(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=l.ed(a[0])<<24,c+=l.ed(a[1])<<16,c+=l.ed(a[2])<<8,c+l.ed(a[3]);}function k(a){var b;r.PF(a);if(l.$c(a)&&a.match(c.nDa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=h(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?g(a):b,a=b.length,8===a)){for(;a--;)if(!m.Jt(parseInt(b[a],16),0,n.gEa))return;return b.join(":");}}}function h(a){var b;a=d(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function g(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(d=0;d<c;d++)b.push("0");for(d=0;d<a.length;d++)b.push(a[d]);return b;}function p(a){return-1<<32-a;}Object.defineProperty(c,"__esModule",{value:!0});n=a(5);r=a(9);l=a(14);v=a(6);m=a(15);c.mDa=/^[0-9.]*$/;c.nDa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;c.Ay="0000000000000000";c.aob=b;c.Xnb=d;c.bob=k;c.Znb=h;c.$nb=g;c.cob=function(a,g,h){var f,n,r,l;f=b(a);n=k(a);r=b(g);l=k(g);if(!f&&!n||!r&&!l||f&&!r||n&&!l)return!1;if(a===f)return h=p(h),(d(a)&h)!==(d(g)&h)?!1:!0;if(a===n){a=a.split(":");g=g.split(":");for(f=v.An(h/c.Ay.length);f--;)if(a[f]!==g[f])return!1;h%=c.Ay.length;if(0!==h)for(a=parseInt(a[f],16).toString(2),g=parseInt(g[f],16).toString(2),a=c.Ay.substring(0,c.Ay.length-a.length)+a,g=c.Ay.substring(0,c.Ay.length-g.length)+g,f=0;f<h;f++)if(a[f]!==g[f])return!1;return!0;}return!1;};c.Ynb=p;},function(f,c,a){var b,d,k,h,g,p,n,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(9);k=a(106);a(18);h=a(14);g=a(2);p=a(32);n=a(25);r=a(6);a(15);c.Oxb=function(a,c){var u,v,m;function f(a){var b;b=c;c=h.Db;b(a);}function l(a){var b,c,h,k;try{b=JSON.parse(a.data);c=b.method;h=b.success;k=b.payload;d.ha("ready"==c);"ready"==c&&(v.removeEventListener("message",l),m.wf(),n.bb(function(){u.info("Plugin sent ready message");h?f({success:!0,pluginObject:v,pluginVersion:k&&k.version}):f({S:g.v.Gca,xb:b.errorCode});}));}catch(O){u.error("Exception while parsing message from plugin",O);f({S:g.v.Hca});}}u=b.Gc("Plugin");d.ha(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});v=h.createElement("OBJECT",p.Ye.jHa,void 0,{type:a,"class":"netflix-plugin"});v.addEventListener("message",l);m=new k.$y(8E3,function(){u.error("Plugin load timeout");f({S:g.v.Jca});});r.kd.body.appendChild(v);m.lo();}else f({S:g.v.Ica});};c.Qxb=function(){};c.Pxb=function(a){var c,d,h;c=b.Gc("Plugin");d=1;h={};a.addEventListener("message",function(a){var b,d,f,k;try{b=JSON.parse(a.data);d=b.success;f=b.payload;k=h[b.idx];k&&(d?k({N:!0,ctb:f}):k({N:!1,S:g.v.hHa,Ga:b.errorMessage,xb:b.errorCode}));}catch(P){c.error("Exception while parsing message from plugin",P);}},!1);return function(f,p,n){var l,u,v,w;function r(a){a.N||c.info("Plugin called back with error",{Method:f},b.gm(a));v.wf();delete h[l];n(a);}try{l=d++;u={idx:l,method:f};u.argsObj=p||{};v=new k.$y(8E3,function(){c.error("Plugin never called back",{Method:f});delete h[l];n({S:g.v.iHa});});v.lo();w=JSON.stringify(u);h[l]=r;a.postMessage(w);}catch(O){c.error("Exception calling plugin",O);n({S:g.v.kHa});}};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(93);d=a(9);k=a(6);b.prototype.Exa=function(a){a=new b(a);for(var c,h;;)if(c=a.bk(),h=c>>>14)h=k.Af(4,h),d.ha(1<=h),this.j9(192|h),this.SJ(a,16384*h);else{d.ha(16384>c);128>c?this.j9(c):this.Fxa(c|32768,2);this.SJ(a,c);break;}};b.prototype.yta=function(){for(var a=[],c=new b(a),d;;){d=this.rf();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.rf(),c.SJ(this,d);else if(d&=63,0<d&&4>=d){c.SJ(this,16384*d);continue;}else throw Error("bad asn1");else c.SJ(this,d);break;}return new Uint8Array(a);};},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});f=a(3);c=a(82);a=a(147);f.da.get(c.Uu).UB(a.Gy.sza,function(a){var b,c;b=a.level;if(!t._cad_global.config||b<=t._cad_global.config.n8a){a=a.uJ();c=t.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(f){function c(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}f.K={HUa:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},h0:function(a,b,c){var d;d={};d.displayTime=a.Mh;d.duration=a.duration;d.originX=a.kR;d.originY=a.lR;d.sizeX=a.OS;d.sizeY=a.PS;d.imageData=b;d.id=a.yo;d.rootContainerExtentX=c.hS;d.rootContainerExtentY=c.iS;return d;},T2a:function(a,b){return"o_"+a+"s_"+b;},vxa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},cb:function(a){return"undefined"!==typeof a;},wfb:function(a,b){return a.some(function(a){return a.id===b;});},a_a:function(d,f){return d.filter(c.bind(null,f)).map(a).reduce(b,0);},BG:function(a,b){var c,d;c=Object.create({});for(d in a)c[d]=a[d];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(f,c,a){var M,ea,O,W,t,Y;function b(a){M.call(this);this.H2a=n;this.dg=a.url;this.OE=a.request;this.IM=a.Ib||0;this.qM=a.lf;this.gb=a.Z;this.oi=this.Eg=null;this.oE={};this.us=0;this.AE=a.bufferSize||4194304;this.jY={};this.fia=a.version||1;a.key&&(this.Kfa=a.crypto,this.xv=this.Kfa.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Sm?this.Eg=a.Sm:(this.Vc=a.offset,this.IPa=a.size);}function d(){}function k(){}function h(a,b){var c,h,f,k,p,n,r,l;if(a)this.emit(t.ERROR,W.BG(a,Y.mEa));else try{if(2===this.fia){h=new d();f=O.s6(b)[0];k=f.Kq("636F6D2E-6E65-7466-6C69-782E68696E66");p=f.Kq("636F6D2E-6E65-7466-6C69-782E6D696478");h.RP=k.Sia;h.gg=k.gg;h.Yl=k.Yl;h.M=k.M;h.hS=k.hS;h.iS=k.iS;h.language=k.h7a;h.Iib=k.jib;h.startOffset=p.Hfb;n=[];r=0;for(a=0;a<p.rj.length;a++){l=p.rj[a];b={};b.duration=l.duration;b.size=l.size;n.push(b);r+=b.duration;}h.entries=n;h.endTime=r;c=h;}else{n=new ea(b);r=new d();r.identifier=n.iu(4);W.assert("midx"===r.identifier);r.version=n.Dd(4);W.assert(0===r.version);r.RP=n.ae(36);r.gg=n.sf();r.Yl=n.sf();r.M=n.sf();r.hS=n.zb();r.iS=n.zb();r.language=n.ae(16);r.Iib=n.ae(16);r.startOffset=n.sf();r.mo=n.zb();h=[];for(l=p=0;l<r.mo;l++)a={},a.duration=n.Dd(4),a.size=n.zb(),h.push(a),p+=a.duration;r.entries=h;r.endTime=p;c=r;}this.Eg=c;g.call(this);}catch(qa){this.emit(t.ERROR,W.BG(qa,Y.nEa));}}function g(){var a,b;a=this.Eg;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.dg,offset:b,size:a},this.emit(t.oEa,this.Eg),this.OE(b,p.bind(this))):this.emit(t.ERROR,W.BG({},Y.pFa));}function p(a,b){var c,d,g,h;c=this;if(a)c.emit(t.ERROR,W.BG(a,Y.$Ia));else{d=0;g=[];h=0;try{c.Eg.entries.forEach(function(a){var f,p,n,r,l,v,w;p=d;n=c.Eg.RP;r=c.gb;if(2===c.fia){f=new k();l=O.s6(b);f.entries=[];f.images=[];for(var u=0;u<l.length;u++)for(n=l[u],p=n.Kq("636F6D2E-6E65-7466-6C69-782E73696478"),n=n.Kq("636F6D2E-6E65-7466-6C69-782E73656E63"),r=0;r<p.Uo.length;r++){v={};w=p.Uo[r];v.Mh=w.Mh;v.duration=w.duration;v.kR=w.kR;v.lR=w.lR;v.OS=w.OS;v.PS=w.PS;v.yo=w.yo;v.ZA=w.ZA;if(w=n&&n.Uo[r])v.Wla={Mt:w.Mt.slice(0),mode:w.Xla};f.entries.push(v);}}else{f=new ea(b);l=new k();u=0;f.position=p;l.identifier=f.iu(4);W.assert("sidx"===l.identifier);l.RP=f.ae(36);W.HUa(l.RP,n,r);l.duration=f.Dd(4);l.mo=f.zb();l.entries=[];for(l.images=[];u<l.mo;)p={},p.Mh=f.Dd(4),p.duration=f.Dd(4),p.kR=f.zb(),p.lR=f.zb(),p.OS=f.zb(),p.PS=f.zb(),p.yo=f.sf(),p.ZA=f.Dd(4),u++,l.entries.push(p);f=l;}g.push(f);a.P7=f;f.q6=h;f.yI=h+a.duration;h=f.yI;l=f.entries;l.length&&(f.startTime=l[0].Mh,f.endTime=l[l.length-1].Mh+l[l.length-1].duration);d+=a.size;});}catch(ba){c.emit(t.ERROR,W.BG(ba,Y.aJa));return;}c.oi=g;c.emit(t.bJa,this.oi);a=r.call(c,c.IM,2);a.length?q.call(c,a,c.IM,function(a){a&&c.gb.error("initial sidx download failed");c.emit(t.Dda);}):c.emit(t.Dda);}}function n(a){var b,c,d,g,h;b=r.call(this,a,2);c=(c=this.Eg)?c.endTime:void 0;if(a>c)return[];d=this.oE.sj;g=this.oE.index;c=[];g=W.cb(g)&&this.oi[g+1];if(!(g&&g.entries.length||d&&!(a>d.endTime)))return[];b.length&&q.call(this,b,a);d&&d.images.length&&(c=v(d,a,[],this.Eg));g&&g.images.length&&(b=v(g,a,c,this.Eg),c.push.apply(c,b));b=m(c);if(this.oi&&0!=this.oi.length){c=this.oi[Math.floor(a/6E4)];if(!(c.q6<=a&&a<=c.yI))a:{c=this.oi.length;if(!this.k0a){this.k0a=!0;b:{try{h=String.fromCharCode.apply(String,this.Eg.language);break b;}catch(ba){}h="";}this.gb.error("bruteforce search for ",{movieId:this.Eg.M,packageId:this.Eg.Yl,lang:h});}for(h=0;h<c;h++)if(d=this.oi[h],d.q6<=a&&a<=d.yI){c=d;break a;}c=void 0;}h=c;}else h=void 0;if(c=h&&0<h.entries.length&&0===h.images.length)a:{c=h.entries.length;for(g=0;g<c;g++)if(d=h.entries[g],d.Mh<=a&&d.Mh+d.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function r(a,b){var c,h;c=[];if(a=l.call(this,a))this.oE=a;else return this.oE={},c;for(var d=0,g=this.oi?this.oi.length:0;d<b&&a.index+d<g;){h=this.oi[a.index+d];h&&!h.images.length&&c.push(h);d++;}return c;}function l(a){var b,c,d,g,h,f,k;c=this.oE;d=c.sj;g=c.index;h=this.oi;this.hg(W.cb(a));d&&(0===g&&a<=d.startTime?(k=!0,b=c):a>=d.startTime&&a<=d.endTime?(k=!0,b=c):(f=h[g-1],h=h[g+1],f&&a>f.endTime&&a<=d.startTime?(k=!0,b=c):h&&a>=d.endTime&&a<=h.endTime&&(k=!0,b={sj:h,index:g+1})));if(!k)for(c=this.Eg.entries,d=c.length,g=0;g<d;g++)if(f=c[g].P7,a<=f.startTime||a>f.startTime&&a<=f.endTime){b={sj:c[g].P7,index:g};break;}return b;}function v(a,b,c,d){var g,h,f,k,p,n;g=a.entries;h=g.length;f=[];p=0;if(!g.length)return f;for(;p<h;){k=g[p];if(k.Mh<=b)k.Mh+k.duration>=b&&f.push(W.h0(k,a.images[p].data,d));else{n=f.length&&f[f.length-1]||c.length&&c[c.length-1];if(n&&n.Mh>b&&n.Mh!==k.Mh)break;n.yo!==k.yo&&f.push(W.h0(k,a.images[p].data,d));}p++;}return f;}function m(a){return a.map(function(b,c){b.duration+=W.a_a(a.slice(c+1),b);return b;}).reduce(function(a,b){W.wfb(a,b.id)||a.push(b);return a;},[]);}function q(a,b,c){var d,g,h,f,k,p;d=this;g=a[0];h=a[a.length-1];0<g.entries.length&&(f=g.entries[0].yo,k=g.entries[g.entries.length-1]);0<h.entries.length&&(W.cb(f)||(f=h.entries[0].yo),k=h.entries[h.entries.length-1]);if(f){g=k.yo+k.ZA-f;p=W.T2a(f,g);d.jY[p]||(d.jY[p]=!0,y.call(d,a,b),d.OE({url:d.dg,offset:f,size:g},function(b,g){var h,k,n,r;setTimeout(function(){delete d.jY[p];},1E3);if(b)c&&c(b);else{h=new ea(g);k=0;r=[];a.forEach(function(a){a.entries.forEach(function(b,c){var g,p;h.position=b.yo-f;g={data:h.ae(b.ZA)};p=b.Wla;p&&(g.Mt=p.Mt,g.Xla=p.mode,n=!0,r.push(g));a.images[c]=g;!b.Wla&&W.vxa(a.images[c].data,d.hg.bind(d));k+=a.images[c].data.length;});});d.us+=k;n?d.xv.then(function(a){return P.call(d,r,a);}).then(function(){c&&c(null);})["catch"](function(a){d.gb.error("decrypterror",a);c&&c({N:!1});}):c&&c(null);}}));}else c&&c(null);}function y(a,b){var h,f,k,p,n,r;function c(){return{pts:b,hasEnoughSpace:h.us+f<=h.AE,required:f,currentSize:h.us,max:h.AE,currentIndex:l.call(h,b).index,sidxWithImages:x.call(h),newSidxes:a.map(function(a){return h.oi.indexOf(a);})};}function d(a,b){h.qM&&!a&&h.gb.info("not done in iteration",b);}function g(a){var b,c,d;b=h.oi[a];c=b.images&&b.images.length;if(0<c){d=w([b]);b.images=[];h.us-=d;h.qM&&h.gb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c});if(h.us+f<=h.AE)return!0;}}h=this;f=w(a);h.gb.info("make space start:",c());if(!(h.us+f<=h.AE)){k=l.call(h,b).index;p=!1;n=0;r=h.oi.length-1;if(0>k){h.gb.error("inconsistent sidx index");return;}for(;!p&&n<k-2;)p=g(n),n++;for(d(p,1);!p&&r>k+2;)p=g(r),r--;for(d(p,2);!p&&n<k;)p=g(n),n++;for(d(p,3);!p&&r>k;)p=g(r),r--;d(p,4);p||h.gb.error("could not make enough space",{maxBuffer:this.AE});}h.gb.info("make space end",c());}function w(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.ZA+a;},0);},0);}function x(){var a;a=[];this.Eg&&this.Eg.entries&&this.Eg.entries.reduce(function(b,c,d){var g;c=c.P7;g=0;c&&c.images.length&&(a.push(d),g=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+g;},0);return a.join(", ");}function C(a,b){return a&&a.q6<=b&&a.yI>=b;}function F(a,b){var c,d,g,h,f,k;c=this;d=c.Eg;g=c.oi;h=g&&g.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(d&&g){if(0===h)return[];d=g[0].duration;if(W.cb(d)&&0<d)d=Math.floor(a/d),f=d<h&&C(g[d],a)?g[d]:void 0;else for(c.qM&&c.gb.warn("duration not defined, so use brute force to get starting sidx"),d=0;d<h;d++){k=g[d];if(C(k,a)){f=k;break;}}if(W.cb(f)){f=[];for(var p=function(c){var d;d=c.Mh<=a&&a<=c.Mh+c.duration;return a<=c.Mh&&c.Mh<=b||d;};d<h;){k=g[d];f=f.concat(k.entries.filter(p));if(b<k.yI)break;d++;}f=f.map(function(a){return W.h0(a,null,c.Eg);});return m(f);}}}function P(a,b){var d,g;function c(a,b){var c,d;c=this;d=new Uint8Array(16);d.set(a.Mt);return c.Kfa.decrypt({name:"AES-CTR",counter:d,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));W.vxa(a.data,c.hg.bind(c));});}d=this;try{g=[];a.forEach(function(a){a.Mt&&(a=c.call(d,a,b),g.push(a));});return(void 0).all(g);}catch(fa){return d.gb.error("decrypterror",fa),(void 0).reject(fa);}}M=a(145).EventEmitter;ea=a(93);O=a(315);W=a(501);t=b.events={oEa:"midxready",bJa:"sidxready",Dda:"ready",ERROR:"error"};Y=b.wvb={mEa:"midxdownloaderror",nEa:"midxparseerror",pFa:"nosidxfoundinmidx",$Ia:"sidxdownloaderror",aJa:"sidxparseerror"};b.prototype=Object.create(M.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Eg)this.gb.warn("midx was prefectched and provided"),g.call(this);else{a={url:this.dg,offset:this.Vc,size:this.IPa,responseType:"binary"};this.gb.warn("downloading midx...");this.OE(a,h.bind(this));}};b.prototype.close=function(){};b.prototype.hg=function(a){this.qM&&W.assert(a,this.gb);};b.prototype.Ft=function(a,b){return F.call(this,a,b);};b.prototype.z2=function(a,b){return(a=this.Ft(a,b))?a.length:a;};f.K=b;},function(f,c,a){var k;function b(a,b){return b.reduce(d.bind(this,a),[]);}function d(a,b,c){var d,g;d=c.displayTime-a;a=c.displayTime+c.duration-a;g=0<b.length?b[0].timeout:Infinity;return 0<d&&d<g?[{timeout:d,type:"showsubtitle",pd:c}]:d===g?b.concat([{timeout:d,type:"showsubtitle",pd:c}]):0<a&&a<g?[{timeout:a,type:"removesubtitle",pd:c}]:a===g?b.concat([{timeout:a,type:"removesubtitle",pd:c}]):b;}k=a(145).EventEmitter;c=a(286)({});a=function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);k.call(this);this.Hp=a;this.BMa=b;this.Up={};this.Ez={};this.gb=c||console;this.JL=!1;};a.prototype=Object.create(k.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.aj);Object.keys(a.Up).forEach(function(b){a.emit("removesubtitle",a.Up[b]);});a.Up={};};a.prototype.pause=function(){clearTimeout(this.aj);};a.prototype.rn=function(a,c){var d,g;d=this;g=d.Hp();clearTimeout(this.aj);a=d.BMa(g);null!==a&&d.JL&&(d.JL=!1,d.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(d.Up).forEach(function(a){a=d.Up[a];a.displayTime<=g&&g<a.displayTime+a.duration||(delete d.Up[a.id],d.emit("removesubtitle",a));});Object.keys(d.Ez).forEach(function(a){a=d.Ez[a];g>=a.displayTime+a.duration&&delete d.Ez[a.id];});null!==a&&0<a.length?(c=a.length,d.gb.info("found "+c+" entries for pts "+g),a.forEach(function(a){a.displayTime<=g&&g<a.displayTime+a.duration&&!d.Up[a.id]&&(d.emit("showsubtitle",a),d.Up[a.id]=a,delete d.Ez[a.id]);}),c=a[a.length-1],d.Up[c.id]||d.Ez[c.id]||(d.emit("stagesubtitle",c),d.Ez[c.id]=c),c=b(g,a),0<c.length?d.QM(c[0].timeout):d.QM(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),d.gb.warn("checking buffer again in "+a+"ms"),d.JL||(d.JL=!0,d.emit("underflow")),d.QM(a,c+1)):d.QM(2E4);};a.prototype.QM=function(a,b){var c;c=this;c.gb.trace("Scheduling pts check.");c.aj=setTimeout(function(){c.rn(c.Hp(),b);},a);};f.K=c(["function","function","object"],a);},function(f,c,a){var g,p,n;function b(a){var b;b=1;"dfxp-ls-sdh"===this.Ev&&(b=a.utb.length);this.gb.info("show subtitle called at "+this.Hp()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Ds[this.Ds.length-1].HS+=b;}function d(a){this.gb.info("remove subtitle called at "+this.Hp()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function k(){this.gb.info("underflow fired by the subtitle timer");this.emit("underflow");}function h(){this.gb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}g=a(145).EventEmitter;p=a(503);c=a(286)();n=a(502);a=function u(a,c){var f,l;f=this;l=a.lf||!1;if(!(f instanceof u))return new u(a,c);g.call(f);f.gb=a.Z||console;f.OE=a.request;f.Hp=a.Jna;f.aj=null;f.Qp=!0;f.Ds=[];f.Ev=c.profile;f.dg=c.url;f.IM=c.Ib;f.MOa=c.Bcb;f.ULa=c.jo;a={url:f.dg,request:f.OE,Ib:f.IM,xml:c.xml,Bcb:f.MOa,jo:f.ULa,Z:f.gb,lf:l,bufferSize:c.bufferSize,crypto:c.crypto,key:c.key,Sm:c.Sm};if("nflx-cmisc"===f.Ev)a.offset=c.FH,a.size=c.OQ,f.kc=new n(a);else if("nflx-cmisc-enc"===f.Ev)a.version=2,a.offset=c.FH,a.size=c.OQ,f.kc=new n(a);else throw Error("SubtitleManager: "+f.Ev+" is an unsupported profile");f.kc.on("ready",function(){var a,g;a=!!c.ySa;f.gb.info("ready event fired by subtitle stream");f.emit("ready");g=f.kc.H2a.bind(f.kc);f.aj=new p(f.Hp,g,f.gb);f.aj.on("showsubtitle",b.bind(f));f.aj.on("removesubtitle",d.bind(f));f.aj.on("underflow",k.bind(f));f.aj.on("bufferingComplete",h.bind(f));a&&(f.gb.info("autostarting subtitles"),setTimeout(function(){f.rn(f.Hp());},10));});f.kc.on("error",f.emit.bind(f,"error"));};a.prototype=Object.create(g.prototype);a.prototype.start=function(){this.kc.start();};a.prototype.rn=function(a){this.Qp&&(this.Qp=!1,this.gb.info("creating a new subtitle interval at "+a),this.Ds.push({X:a,HS:0}));null!==this.aj&&this.aj.rn(a);};a.prototype.stop=function(){var a;this.Hp();this.gb.info("stop called");this.Qp||this.pause();this.kc.removeAllListeners(["ready"]);null!==this.aj&&this.aj.stop();a=this.Ds.reduce(function(a,b){a.zva+=b.HS;a.Rl+=b.ima;a.v6a.push(b);return a;},{zva:0,Rl:0,v6a:[]});"object"===typeof this.kc&&this.kc.close();this.gb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.Hp();if(this.Qp)this.gb.warn("pause called on subtitle manager, but it was already paused!");else{this.gb.info("pause called at "+a);this.Qp=!0;this.gb.info("ending subtitle interval at "+a);b=this.Ds[this.Ds.length-1];b.ca=a;b.ca<b.X&&(this.gb.warn("correcting for interval where endPts is smaller than startPts"),b.X=0<b.ca?b.ca-1:0);b.ima=this.kc.z2(b.X,b.ca);this.gb.info("showed "+b.HS+" during this interval");this.gb.info("expected "+b.ima+" for this interval");}null!==this.aj&&this.aj.pause();};a.prototype.Ft=function(a,b){return this.kc.Ft(a,b);};a.prototype.z2=function(a,b){return this.kc.z2(a,b);};a=c([{request:"function",Jna:"function",Z:"object"},"object"],a);f.K=a;},function(f){f.K="4.0.39";},function(f,c,a){var d,k,h,g,p,n;function b(a){var b;b=nrdp.Mf.ZAb.match(/android-(\d*)/);b?23<b[1]?(a.wu=!1,a.vu=!1,a.$n=void 0):(b=nrdp.Mf.Wqb.Vtb.platform.lzb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.wu=!0,a.vu=!1,a.$n=void 0):(a.wu=!1,a.vu=!1,a.$n=[]):(a.wu=!1,a.vu=!1,a.$n=[]):(a.wu=!1,a.vu=!1,a.$n=[]);}d=a(20);k=a(60);h=a(10);g=h.Ua;p=h.MediaSource;n=h.QEa;f.K=function(a){var c,f,r,l,m,w;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Ua.tc){c=n.prototype.appendBuffer;if(a.uZ){g.tc={fS:{tl:!0,Cp:!1,TV:!0}};Object.defineProperties(g.prototype,{Gv:{get:function(){return this.YKa;},set:function(){}},Mb:{get:function(){return!this.p3;}}});f=g.prototype.Gi;g.prototype.Gi=function(a){a.response&&(this.YKa=a.response instanceof ArrayBuffer?a.response:a.response.buffer);return f.call(this,a);};g.prototype.XR=function(){this.response=void 0;};h.MediaSource.tc||(h.MediaSource.tc={});void 0===h.MediaSource.tc.ON&&(h.MediaSource.tc.ON=!0);Object.defineProperty(p.prototype,"duration",{get:function(){return this.bg;},set:function(a){var b;this.bg=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.bg=b;});}});r=n.prototype.K7;l={Mb:!1,Ai:function(){return this.requestId;},Vja:function(){this.response=void 0;},constructor:{name:"MediaRequest"},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Vo,isHeader:this.Mb,ptsStart:this.nr,ptsOffset:this.lk,responseType:this.PM,duration:this.Eq,readystate:this.Ae};this.stream&&(a.bitrate=this.stream.L);return JSON.stringify(a);}};n.prototype.appendBuffer=function(a,b){var d;if(!b)return c.call(this,a);d=Object.create(l);k({O:this.O,readyState:g.$a.DONE,requestId:b.Ai(),nr:b.X,QB:b.X+b.duration,Eq:b.duration,lk:this.Bga||0,io:b.io,Vo:b.Ue.mc.na.id,Za:b.Za,Rc:b.Rc,location:b.location,sF:b.offset,rF:b.offset+b.ga-1,L:b.L,response:a,joa:a&&0<a.byteLength,Ue:{mc:{na:{ca:this.bg-(this.Bga||0)||Infinity}}}},d);return this.tN(d);};n.prototype.K7=function(a,b){this.Bga=Math.floor(1E3*a/b);return r.call(this,a,b);};}else{m=function(a){this.nNa=a;};h.MediaSource.tc||(h.MediaSource.tc={});"undefined"!==typeof nrdp&&nrdp.atb&&(b(h.MediaSource.tc),h.MediaSource.tc.ON=!1);h.Ua.tc={fS:{tl:!0,Cp:!0,TV:!0}};Object.defineProperty(g.prototype,"_response",{get:function(){return this.RPa||this.RLa;},set:function(a){this.RLa=a;}});w=g.prototype.open;g.prototype.open=function(a,b,c,d,h,f,k){c===g.Ri.Cp&&(this.RPa=new m(this));return w.call(this,a,b,c,d,h,f,k);};g.prototype.XR=function(){this.Gv=void 0;};n.prototype.appendBuffer=function(a){if(a instanceof ArrayBuffer)return c.call(this,a);if(a instanceof m)return this.tN(a.nNa);d(!1);};}}};},function(f,c,a){var d,k,h;function b(a){k.call(this);this.Az=a;this.Hf=new d();this.Hf.on(this,k.jd.ID,this.eY);this.Hf.on(this,k.jd.Zu,this.DE);this.T=h;this.sga=a.groupId;}d=a(24).eD;c=a(10);k=c.Ap;h=new c.Console("ASEJS","media|asejs");b.prototype=Object.create(k.prototype);b.prototype.constructor=b;b.prototype.open=function(a,b,c){k.prototype.open.call(this,a,b,c);};b.prototype.Be=function(){this.Hf&&this.Hf.clear();k.prototype.Be.call(this);};b.prototype.eY=function(a){this.Az.Ucb(a.probed,a.affected);this.Be();};b.prototype.DE=function(a){this.Az.Rcb(a.probed,a.affected);this.Be();};f.K=b;},function(f,c,a){var d,k,h;function b(a,b){this.yE=a;this.Av=0===Math.floor(1E6*Math.random())%b.Gx;this.groupId=1;this.config=b;this.Iq={};this.eu={};}d=a(8);k=a(507);h=a(10);new h.Console("ASEJS_PROBE_MANAGER","asejs");b.prototype.constructor=b;b.prototype.Tcb=function(a,b){var c,g,f,k,p,l,m,w,x,q,F;c=this.yE;g=a.Rc;f=c.Yva(a.url);k=c.uQ(a.url);p=this.config;l=h.time.fa();w=b;x=[];q=f.Ie[0];F=!1;m=this.Iq[g];if(!m)m=this.Iq[g]={count:0,fk:l,ur:!1,error:b,G7:[],d6:{}};else if(m.fk>=l-p.iT)return;m.ur||(q&&k.id===q.id&&(a.isPrimary=!0),m.fk=l,m.ur=!1,m.error=b,++m.count,f&&f.gd&&0!==f.gd.length&&(d.forEach(f.gd,function(b){var c,d,h;c=b.Rb.id;d=c+"-"+g;h=this.eu[d];if(void 0===h||void 0===h.IR)h&&h.uk&&clearTimeout(h.uk),b=this.Eka(b.url,a,c),this.eu[d]={N:!1,count:0,IR:b.Ai()},x.push(b.Ai()),F=!0;-1===m.G7.indexOf(c)&&m.G7.push(c);},this),this.Av&&0<x.length&&(f={type:"logdata",target:"endplay",fields:{}},b=w,w={ts:h.time.fa(),es:b.Eia,fc:b.Sl,fn:b.mma,nc:b.Um,pb:x,gid:this.groupId},b.MG&&(w.hc=b.MG),f.fields.errpb={type:"array",value:w,adjust:["ts"]},c.ox(f)),F&&this.groupId++));};b.prototype.Eka=function(a,b,c){var d,g,h,f;d=this.yE.uQ(b.url);d=d&&d.qa&&d.qa.Im&&d.qa.Im.sa||300*Math.random(0,1);g=new k(this);h=a.split("?");f="random="+parseInt(1E7*Math.random(),10);g.open(1<h.length?a+"&"+f:a+"?"+f,b,c,d);return g;};b.prototype.Ucb=function(a,b){var c,d,g,f,k,p,l,w;c=this.yE;d=this.config;g=b.Rc;f=this.Iq[g];p=a.url;l=this.eu[a.Rc+"-"+g];if(f&&(k=f.error,l)){l&&l.uk&&clearTimeout(l.uk);l.N=!0;l.count=0;l.IR=void 0;f.d6[a.Rc]=!0;(l=this.Iq[a.Rc])&&!0===l.ur&&d.gq&&(c.pua(a.Rc,l.error.CJ[1]),this.Av&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:b.Rc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ox(l)),this.Iq[a.Rc]=void 0);if(p!==b.url){w=this.eu[g+"-"+g];w&&w.N||(g=(g=c.uQ(p))&&g.qa&&g.qa.Im&&g.qa.Im.sa||Math.random(0,1)*d.BQ,g=Math.min(g,d.BQ),setTimeout(function(){var d;if(!(!1!==f.ur||w&&w.N)&&(f.ur=!0,c.ll(k.CJ[0],k.CJ[1],b.url,k),this.Av)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:b.Rc,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.ox(d);}}.bind(this),g));}this.Av&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:1,servid:a.Rc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ox(l));}};b.prototype.Rcb=function(a,b){var c,g,f,k,p,l,m,w,x,q;c=this.yE;g=parseInt(b.Rc,10);f=this.Iq[g];k=parseInt(a.Rc,10);p=this.eu[k+"-"+g];l=0;x=this.config;if(p&&f){p.N=!1;p.IR=void 0;f.d6[k]=!1;w=f.G7;if(x.gq&&k===g&&b.isPrimary){q=c.uQ(b.url);q=q&&q.qa&&q.qa.Im&&q.qa.Im.sa||300*Math.random(0,1);q=q*Math.pow(2,p.count);q=Math.min(q,12E4);q=q+Math.random(0,1)*(1E4>q?100:1E4);p.uk=setTimeout(function(){var c;p.uk=void 0;c=this.Eka(a.url,b,k);p.IR=c.Ai();}.bind(this),q);}++p.count;k===g&&(l=0,w.forEach(function(a){!1===f.d6[a]&&l++;}),w.length===l&&f.count>=x.JQ&&(m=f.error,f.ur=!0,d.forEach(c.Yva(b.url).gd,function(a){var b;c.ll(m.CJ[0],m.CJ[1],a.url,m);if(this.Av){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.fa(),id:-1,servid:a.Rb.id},adjust:["ts"]};c.ox(b);}},this)));this.Av&&(g={type:"logdata",target:"endplay",fields:{}},g.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:0,servid:a.Rc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ox(g));}};b.prototype.P8=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.yE;b=a.hva(b);c=this.Iq[b];d=this.eu[b+"-"+b];c&&c.ur&&this.config.gq&&(a.pua(c.error.Eia,!1),this.Av&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.fa(),id:-1,servid:b},adjust:["ts"]},a.ox(c)),this.Iq[b]=void 0,d&&d.uk&&clearTimeout(d.uk));}};b.prototype.reset=function(){var a,b,c;a=this.eu;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.uk&&clearTimeout(b.uk);this.eu={};this.Iq={};};f.K=b;},function(f,c,a){var d,k,h,g,p,n,r,l,v,m,q,y,w,x,C,F;function b(a,b,c){var d,g;this.Pm=b;this.config=c;C[x.dV]=c.Y5a?m:w;this.Pm.on("networkFailed",this.g5a.bind(this));this.kB=h.time.fa();this.bO=0;d=this.P8.bind(this);g=this.rab.bind(this);a.on("underflow",this.z5.bind(this));a.on("requestProgress",d);a.on("requestComplete",d);a.on("startBuffering",g);this.u8={};this.Az=new r(b,c);this.m6a();}c=a(38);d=a(24).EventEmitter;k=a(8);h=a(10);g=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");p=a(13);n=h.Ua;r=a(508);a=[p.Ne.up,!1];l=[p.Ne.up,!0];v=[p.Ne.dv,!1];m=[p.Ne.dv,!0];q=[p.Ne.URL,!0];y=[];w=[p.Ne.dv,!1];x=n.Rr;C={};C[x.slb]=v;C[x.wAa]=v;C[x.r$]=v;C[x.IAa]=v;C[x.AAa]=m;C[x.oza]=m;C[x.Q9]=w;C[x.XT]=w;C[x.pza]=y;C[x.qza]=w;C[x.rza]=w;C[x.lza]=v;C[x.nza]=v;C[x.P9]=a;C[x.mza]=v;C[x.kza]=w;C[x.pmb]=m;C[x.pCa]=w;C[x.qaa]=w;C[x.paa]=w;C[x.dV]=w;C[x.naa]=w;C[x.oCa]=q;C[x.fV]=m;C[x.HK]=q;C[x.gV]=l;C[x.hV]=m;C[x.rCa]=q;C[x.IK]=w;C[x.raa]=m;C[x.qCa]=m;C[x.DAa]=m;C[x.xAa]=v;C[x.eJa]=v;C[x.nAa]=v;C[x.oAa]=v;C[x.pAa]=v;C[x.qAa]=v;C[x.rAa]=v;C[x.sAa]=v;C[x.tAa]=v;C[x.uAa]=v;C[x.vAa]=v;C[x.yAa]=v;C[x.zAa]=v;C[x.BAa]=v;C[x.CAa]=v;C[x.EAa]=v;C[x.FAa]=v;C[x.GAa]=v;C[x.HAa]=v;C[x.JAa]=v;C[x.KAa]=v;C[x.dJa]=w;C[x.TIMEOUT]=a;F={};F[x.Q9]=!0;F[x.qaa]=!0;F[x.paa]=!0;F[x.naa]=!0;F[x.r$]=!0;c(d,b.prototype);b.prototype.Igb=function(a){this.Nn=a;};b.prototype.ll=function(a,b,c,d){var h,f,r,l,u,m,x;h=n.Rr.name[b];f=C[b];m=this.config;x=this.Pm;g.warn("Failure "+h+" on "+JSON.stringify(d)+" : critical error count = "+this.bO);this.kQ={MG:a,Sl:b,mma:h,Um:c};F[b]&&++this.bO;if(!k.isArray(f))g.error("Unmapped failure code in JSASE error director : "+b);else if(f!==y){if(d.url)u={},u[x.hva(d.url)]=[d.url];else if(d.host)u=x.hgb(d.host,d.port);else{g.error("Invalid affected for network failure");return;}r=f[0];l=f[1];m.cn?k.forEach(u,function(g,k){f===w||f===v?this.Az.Tcb({url:d.url?d.url:g[0],Rc:k},{Eia:k,CJ:f,MG:a,Sl:b,mma:h,Um:c}):g.some(function(a){x.ll(r,l,a);return r===p.Ne.dv;});!m.ko||0!==a&&void 0!==a||(g=void 0!==d.url?d.url:g[0],this.Nn&&g&&this.Nn.x7("error",g));},this):k.forEach(u,function(b,c){if(f!==w||this.Ceb(c))b.some(function(a){x.ll(r,l,a);return r===p.Ne.dv;}),!m.ko||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.Nn&&b&&this.Nn.x7("error",b));},this);}};b.prototype.Ceb=function(a){var b,c,d;b=h.time.fa();d=this.config;if(c=this.u8[a])if(c.fk<this.kB)c.fk=b,c.count=1;else{if(!(c.fk>=b-d.iT||c.ur||(c.fk=b,++c.count,c.count<d.JQ)))return c.ur=!0;}else this.u8[a]={fk:b,count:1};};b.prototype.g5a=function(a){var b,c,d,f,k,p;b=h.time.fa()-this.kB;c=a;p=this.config;g.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>p.h5&&(c=!0);c?(this.YB&&(clearTimeout(this.YB),delete this.YB),this.Xja(),this.Az.reset(),this.kQ&&(d=this.kQ.Sl,f=this.kQ.MG,k=this.kQ.Um),this.emit("streamingFailure",{M6a:a,Wab:d,Xab:f,Yab:k})):this.YB||(this.YB=setTimeout(function(){delete this.YB;this.XB();}.bind(this),p.i5));};b.prototype.XB=function(a){this.YB||(this.Pm.XB(!!a),this.u8={},this.emit("networkFailureReset"));};b.prototype.P8=function(a){var b;b=this.config;this.kB=Math.max(a.timestamp||h.time.fa(),this.kB);this.Xja();b.cn&&this.Az.P8(a);};b.prototype.rab=function(){this.bO=0;};b.prototype.z5=function(a){var b,c;b=this.config;c=b.x4;this.kB=Math.max(a||h.time.fa(),this.kB);b.nkb&&!this.DJ&&(g.info("Setting underflow timeout in "+c+"ms"),this.DJ=setTimeout(function(){g.info("Forcing permanent network failure after "+c+"ms, since underflow with no success");delete this.DJ;this.Pm.ll(p.Ne.up,!0);}.bind(this),c));};b.prototype.Xja=function(){this.DJ&&(clearTimeout(this.DJ),delete this.DJ,g.info("Cleared underflow timeout"));};b.prototype.m6a=function(){var b,c,d,h;function a(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a;}b=this.Pm;c=this;d=this.config.t0;h={};switch(d){case"1":b.on("manifestAdded",function(){var d;d=[];h.n=h.n||0;b.Fma(function(a,b,c,g){h[g.id]||(h[g.id]=!0,d.push(g.id));});a(d).forEach(function(a){setTimeout(function(){c.ll(n.Rr.hV,{url:a});},4E3+h.n);h.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.Fma(function(b,c,d,g){h[g.id]||(h[g.id]=!0,a.push({L:d.L,url:g.id}));});a.sort(function(a,b){return b.L-a.L;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.Ew()||c.ll(n.Rr.HK,{url:a});},5E3*Math.random());});});break;default:return;}g.warn('Initialized network failure simulation "'+d+'"');};f.K=b;},function(f,c,a){var d,k,h;function b(a,b,c){this.ea=c;this.uQa=new d(a);this.UY=b.ia;this.mLa=1E3*b.h9a/b.dTa;this.ZLa=b.vla;}d=a(23).QKa;k=a(31).xF;c=a(10);h=c.Ua;new c.Console("ASEJS_SIDECHANNEL","media|asejs");b.prototype.constructor=b;b.prototype.Wfb=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};b.prototype.ot=function(a){var b;b={s_xid:this.UY,dl:this.ZLa?1:0};a.vd&&(b.bs=k(Math.floor(a.vd/this.mLa)+1,1,5));a.cR&&(b.limit_rate=a.cR);a.hja&&(b.bb_reason=a.hja);return b;};b.prototype.Wra=function(a){var b;try{b=this.Wfb(a);return this.uQa.encrypt(b);}catch(n){this.ea.Ko("SideChannel: Error when obfuscating msg. Error: "+n);}};b.prototype.x7=function(a,b){var c,d,g;try{c=new h(void 0,"notification");d=this.ot({hja:a});g=this.Wra(d);b&&g&&c.open(b,void 0,h.Ri.TV,void 0,void 0,void 0,g);}catch(v){this.ea.Ko("SideChannel: Error when sending sendBlackBoxNotification. Error: "+v);}};f.K=b;},function(f,c,a){var d;function b(a){this.Lv=void 0;this.oNa=a;this.xY=[];this.Lc=[];}a(8);a(13);d=a(37).Sw;a(23);b.prototype.reset=function(a){this.Lv=void 0;this.xY=[];a&&(this.Lc=[]);};b.prototype.add=function(a,b){var c,h;c=b.filter(function(a){return d(a);});h=c.map(function(a){return a.L;});b=c.indexOf(b[a.Rf]);this.Lv&&(this.Lv.length!==h.length||this.Lv.some(function(a,b){return a!==h[b];}))&&(c=this.mna())&&(this.Lc.push(c),this.reset(!1));void 0===this.Lv&&(this.Lv=h);this.xY.push([b,a.Nwa,a.Pa,a.lTa,a.kTa,a.ycb,a.eab,a.Xsa,a.Nj,a.io,a.Gib-a.Nwa]);};b.prototype.R_a=function(){for(var a=this.xY,b=[],c=[],d=0;d<a.length;d++){for(var f=a[d],r=[],l=0;l<f.length;l++)r.push(f[l]-(c[l]||0));b.push(r);c=f;}return b;};b.prototype.mna=function(){var a;a=this.R_a();if(0!==a.length)return{dltype:this.oNa,bitrates:this.Lv,seltrace:a};};b.prototype.get=function(){var a,b;a=this.mna();b=this.Lc;a&&b.push(a);if(0!==b.length)return b;};f.K=b;},function(f,c,a){var d,k;function b(){this.YM=[];this.YM[d.u.VIDEO]=new k(d.u.VIDEO);this.YM[d.u.AUDIO]=new k(d.u.AUDIO);}a(8);d=a(13);a(10);a(23);k=a(511);b.prototype.jRa=function(a,b,c){this.YM[a].add(b,c);};b.prototype.A4a=function(){var a;a=[];this.YM.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};b.prototype.U0a=function(a){var b;b=this.A4a();a.strmsel=b;return 0<b.length;};f.K=b;},function(f,c,a){var k,h,g,p,n,r;function b(a,b,c){this.Ra=a;this.ea=b;this.H=c;this.Iz=[];[h.u.AUDIO,h.u.VIDEO].forEach(function(a){b.gB(a)&&(this.Iz[a]=new d(b,a));}.bind(this));this.vs=void 0;}function d(a,b){this.T=n(g,a.T,"["+b+"]");this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.xs=this.T.debug.bind(this.T);this.O=b;this.el=this.pG=this.Rk=this.qF=this.Un=this.F3=this.hj=void 0;this.qI=this.Zm=0;this.connected=!1;this.K3=this.Vw=this.jB=this.H3=this.Nt=this.Nm=this.Rh=void 0;this.qy=this.Gla=!1;this.AQ=this.nF=this.Jm=void 0;}k=a(8);h=a(13);g=a(10);p=a(37).Sw;n=a(23).uH;r=a(288);Object.defineProperties(b.prototype,{jb:{get:function(){return this.Iz;}}});b.prototype.ax=function(a){var b,c,d,f,p,n,r,l,u,m,q,O;b=this.H;c=this.ea;d=a.O;f=c.$j()[d];p=a.mc.za;n=c.Ca[p];r=this.Iz[d];b=d===h.u.VIDEO?b.DZ:b.a9;l=c.zz;u=c.Gb.value;m=l.yd();f={ft:f,X:null,we:m,Pa:null,fj:a.gA||m,zh:0,wx:0,U:[]};n={state:u,gQ:"function"===typeof l.gQ?l.gQ():u===h.wa.Oe,sk:a.Qg,buffer:f,Jl:n.dw[d],LZa:b,z8a:c.rz,Bvb:c.iMa,Xj:c.Xj,Nj:c.Wh&&c.Wh.Nj};b=a.Ia.Lna();f.Pa=b.Po;f.X=b.Oa;f.zh=b.zh;f.wx=b.wx;f.Vvb=b.U.length;void 0===n.sk&&(n.sk=c.fM(d,p,f.Pa));f.U=b.U;if(n.state===h.wa.Oe&&0===f.U.length&&!k.aa(a.xC.yv)){a.Y6&&(O=g.time.fa()-a.Y6.time,q=a.Y6.reason);a.Tb("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",r.Nm,"lastStreamSelected:",r.Rh,"last pipeline.reset:",q,"delta:",O);}k.aa(f.X)?a.seeking&&f.we!=f.X&&(f.we=f.X):(f.X=0,f.Pa=0);c.Cc.lUa(n);c.Cc.eRa(n);return n;};b.prototype.kUa=function(a,b,c){var n,r;a=this.Iz[a];for(var d=a.AQ,g="manifest",h=this.ea,f=0,k=b.length-1;0<=k;k--){n=b[k];r=n.L;if(p(n)){f=Math.max(f,r);break;}else!n.inRange&&n.tA&&n.tA.join?g=n.tA.join("|"):n.fl?n.Te?n.qh&&(g="hf"):g="av":g="bc";}if(void 0===d||f!==d){a.AQ=f;if(h.$k)try{this.vs&&this.f5a();}catch(M){h.Ko("Hindsight: Error when handling maxbitrate chagned: "+M);}h.O$a(d,f,g,c);}};b.prototype.zP=function(a){var b,c,d,g,f,p,n,r,l,u,m,q;b=this.H;c=this.ea;d=a.O;g=d==h.u.VIDEO;f=0;n=this.Iz[d];if(!n.hj)return{yh:void 0};r=this.ax(a);l=n.Rh;u=a.mc.za;m=a.Bc;q=l?l.index:n.pG;if(l&&(f=l.L,l.LN)){q=c.gga(m,f);p=m[q];if(l.L!==p.L||!l.LN.replace&&d===h.u.VIDEO)r.state=h.wa.Ag;l.index=q;l.L=p.L;}p=c.gl(u);m=p.Pm.xT(r,m);if(!m)return a.Tb("location selector did not find any urls"),{yh:void 0};if(!g){u=b.p8;if(!(u&&u.length||a.gS)&&q&&m[q]&&l&&l.location===m[q].location)return{yh:q,DF:!0};a.gS&&(r.state=h.wa.Ag,q=void 0);}if(g&&b.yA&&b.oZa&&!n.hj.eB()&&a.vd>b.DN)return{yh:a.D5a,DF:!0};c.Cc.Dja(r.sk,m);r=a.xC.w7(r,m,q,c.Cc.Z3a(d),n.hj.config.Ue,b.U8&&0===c.$ga?b.wB:b.F4,p.DA);if(!r)return a.Tb("stream selector did not find a stream"),{yh:void 0};c.Xj&&c.Eeb.jRa(a.O,r,m);g&&this.kUa(d,m,a.Pa);c.Cc.Oab(r);d=r.Rf;m=m[d].L;l=a.vd;r.HXa&&l<b.WZ&&m<f&&c.jOa(f,m);d!=q&&(g&&b.yA&&c.$ea(a,m),g||c.Cc.lC(m));k.aa(n.pG)||(n.pG=d);a.eo||(r.eo?(a.eo=!0,n.nF=r.reason):(a.tH=r.tH,a.Qx=r.Qx,a.Xh=r.Xh));c.ov();g&&c.uPa(a,r.tw)||delete a.tt;return{yh:d,DF:r.DF,$B:r.$B};};b.prototype.s1=function(a,b){var c,d,g,f,k;if(this.vs){c=this;d=this.vs;g=this.ea;f=g.yd();k=[];b&&(f=b.ca);g.la.Ce.forEach(function(b){var d,p;d=c.ax(b);p=b.O;d.O=p;d.headers=g.OA(p);d.we=f;a===h.wa.hs&&(d.Kta=b.Ia.qZ(f));k[p]=d;});d.sma||d.$0a(k,a)||this.W6();return d;}};b.prototype.f5a=function(){var a,b,c,d,f;a=this;b=this.vs;c=this.H;d=this.ea;f=[];b&&(this.s1(void 0),b&&!b.Sz&&d.WE.OR.e1(b));d.la.Ce.forEach(function(b){var c,d;c=a.ax(b);d=b.O;c.Rk=g.time.fa();c.Bc=b.Bc;c.O=d;f[d]=c;});b=d.$j();c={CQa:b[h.u.AUDIO],Y8:b[h.u.VIDEO],C4:c.cx};this.vs=b=new r(f,g.time.fa(),void 0,d.Y0,c);};b.prototype.W6=function(){this.vs=void 0;};b.prototype.akb=function(a){var b,c,d,f,k,p;b=this;c=a.oldValue;d=a.newValue;f=this.vs;k=this.H;a=this.ea;d===h.wa.Oe&&c!==h.wa.Oe?(f&&a.T.warn("override an existing play segment!"),p=[],a.la.Ce.forEach(function(a){var c,d,g;c=b.ax(a);d=a.O;g=b.jb[d];g.U7?(c.Rk=g.U7,delete g.U7):c.Rk=g.Rk;c.Bc=a.Bc;c.O=d;p[d]=c;}),d=a.$j(),k={CQa:d[h.u.AUDIO],Y8:d[h.u.VIDEO],C4:k.cx},this.vs=f=new r(p,g.time.fa(),c,a.Y0,k)):d!==h.wa.Oe&&c===h.wa.Oe&&f&&(this.s1(d),f&&!f.Sz&&a.WE.OR.e1(f),this.W6());};b.prototype.h5a=function(a){this.Iz.forEach(function(b){b.Rh||(b.Rh={});b.Rh.LN={replace:a};b.Rh.location=void 0;}.bind(this));};f.K=b;},function(f,c,a){var d,k,h,g,p,n,r;function b(a,b,c,d,g,h,f){this.El=c;this.$g=b;this.Qe=d;this.cd=g;this.Pe=h;this.H=f;this.T=a;this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.on=this.addEventListener=p.addEventListener;this.removeEventListener=p.removeEventListener;this.emit=this.Ea=p.Ea;this.reset();r&&this.Vb("BufferManager ctor");}d=a(8);a(20);k=a(10);h=a(13);g=a(66);p=a(24).EventEmitter;n=a(287);g=a(66);b.prototype.constructor=b;Object.defineProperties(b.prototype,{BN:{get:function(){return this.cd?this.cd.BN:-1;}},Tkb:{get:function(){return this.Ih.length;}}});b.prototype.reset=function(){this.Qp=!1;this.Ih=[];this.RX=this.rM=this.CX=this.NX=void 0;this.GE=g.vg;this.zM=this.Dz=this.zv=void 0;this.ZX=this.VX=this.gE=g.vg;this.tX=!1;this.BY(g.vg);};b.prototype.wMa=function(a,b){void 0===this.zM&&("object"===typeof this.H.m7&&this.H.m7[a]?(a=new g(this.H.m7[a],1E3).vk(b.ma).add(new g(1,b.ma)),this.zM=g.min(b,a)):this.zM=b);return this.zM;};b.prototype.BY=function(a){this.cd.K7(a.Fd,a.ma);};b.prototype.w1a=function(){this.CX=!0;};b.prototype.pause=function(){this.Qp=!0;};b.prototype.resume=function(){this.Qp=!1;this.kv();};b.prototype.x3a=function(){return this.rM&&this.rM.xi;};b.prototype.XTa=function(a,b){var d;for(var c=0;c<this.Ih.length;c++){d=this.Ih[c];d.Ue.mc.na.id===a&&d.Lg>=b&&(d.abort(),this.Ih.splice(c,1),c--);}};b.prototype.jSa=function(a){var b;if(this.H.fG){b=a.Ue.mc;if(a.Lg>=b.ca)return;a.lk!=b.gc&&a.tva(new g(b.gc,1E3));}this.Ih.push(a);this.kv();};b.prototype.rn=function(){this.kv();};b.prototype.GI=function(a){a=this.Ih.indexOf(a);-1!==a&&this.Ih.splice(a,1);};b.prototype.J$a=function(){this.kv();};b.prototype.r5=function(){this.tX||(this.tX=!0,this.kv(),this.cd.endOfStream());};b.prototype.kv=function(){var a,b,c,g,f,p;b=this.H;c=Object.getOwnPropertyNames(this.Pe);b.tZ&&d.R(this.NX)&&1===c.length&&(a=this.Pe[c[0]],a.complete&&!d.R(a.Za)&&this.gfa(a));if(this.Ih.length)if(this.cd)if(c=this.Ih[0],this.Qp)this.Cz("@"+k.time.fa()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.apa())this.ba("aborted MediaRequest should not appear in the toAppend list"),this.Cz("@"+k.time.fa()+", append: removing aborted request from toAppend: "+c.toString()),this.Ih.shift();else{g=c.Za;if((a=this.Pe[g])&&a.data)if(this.CX||g!=this.NX)this.CX=!1,this.gfa(a);else if(!b.JT||c.te.JP()){a=c.Ue;f=a.hq;if(!(this.$g===h.u.AUDIO&&c.Do&&c.xd&&!b.hn&&!this.tX&&1===this.Ih.length&&f>b.a5)){if(b.fG||b.Qla){g=a.mc.Kf;p=c.xi>=a.mc.sm;b=f>b.a5;if(a.mc.sm<a.mc.ca&&p&&b&&!g)return;}this.Ih.shift();this.cLa(c);}}}else this.Cz("@"+k.time.fa()+", append: not appending, sourceBuffer not ready");};b.prototype.$Ka=function(a){this.H.Xv&&this.H.Ol&&a.stream.Ro&&(this.GE=a.stream.Ro);};b.prototype.gfa=function(a){if(this.cd.appendBuffer(a.data))this.Cz("@"+k.time.fa()+", header appended, streamId: "+a.Za),this.NX=a.Za,this.fPa(a.za||0,a.Za),this.$Ka(a),this.kv();else throw this.ba("appendHeader error: "+this.cd.error),this.Cz("@"+k.time.fa()+", appendHeader error: "+this.cd.error),"appendHeaderError";};b.prototype.rPa=function(a){void 0===this.Dz&&(this.Dz=n.sS(this.H,a));return this.Dz;};b.prototype.cLa=function(a){var b,c,d,f,p,n,r;b=a.lk;c=!1;d=this.$g===h.u.AUDIO&&a.xd&&this.rPa(a.stream);f=a.Ue.mc.na;f.ca&&Infinity!=f.ca&&(f=(f.ca+b)/1E3,Infinity==this.Qe.duration||this.Qe.duration<f)&&(this.Qe.duration=f);b!=this.RX&&(f=this.GE.add(this.gE).add(new g(b,1E3)),this.BY(f),this.RX=b);if(d){f=a.stream.La;b=this.wMa(a.profile,f);p=a.yu+a.lk;if(a.Do)c=new g(a.ca-p,1E3),c=this.gE.add(c).$na(b);else if(void 0!==this.zv){n=this.zv;r=a.Wsa;new g(p-a.X,1E3);p=this.gE.add(n.Ed(r));if(r.add(f).Qpa(n)||p.$na(b))c=!0,r.add(f),p=p.Ed(f);p.q5(this.gE)&&(f=this.GE.add(p).add(new g(this.RX,1E3)),this.BY(f),this.VX=g.max(this.VX,p),this.ZX=g.min(this.ZX,p),this.hPa(this.VX,this.ZX),this.gE=p);}}if(a.Tz(this.cd,this.rM,this.Ih[0],d,c))void 0===this.zv||this.$g!==h.u.AUDIO||a.Wsa.equal(this.zv)||(this.aPa(a,this.zv),this.zv=void 0),this.Cz("@"+k.time.fa()+", request appended, type: "+a.O+", streamId: "+a.Za+", pts: "+a.Oa+"-"+a.pc),this.rM=a,this.zv=a.Do?a.jcb:void 0,this.gPa(a),this.kv();else if("done"!=this.cd.error)throw this.Tb("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.cd.error),this.cd.error;};b.prototype.fPa=function(a,b){a={type:"headerAppended",mediaType:this.$g,manifestIndex:a,streamId:b};this.Ea(a.type,a);};b.prototype.gPa=function(a){a={type:"requestAppended",mediaType:this.$g,request:a};this.Ea(a.type,a);};b.prototype.Cz=function(a){a={type:"managerdebugevent",message:a};this.Ea(a.type,a);};b.prototype.aPa=function(a,b){b=a.Oa-b;a={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[a.Lg-b,b]}}};this.Ea(a.type,a);};b.prototype.hPa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Je,minavsyncerror:b.Je}};this.Ea(a.type,a);};f.K=b;},function(f,c,a){var k,h,g,p,n,r,l;function b(a,c,d,f,k,p){f.responseType=h.Ri.tl;g.call(this,a,f,k,p);this.H=c;this.YL=d;this.Fj=void 0;this.yX=b.wy.INIT;this.qz=n.prototype.toString.call(this)+" multiple";this.Fz(a.url,f.offset,8,h.Ri.tl);}function d(){k(!1);}k=a(20);c=a(60);h=a(10).Ua;g=a(187);p=a(188);n=a(61);a(13);r=a(23).jw;l=a(62).iX;b.prototype=Object.create(g.prototype);c({wy:{INIT:0,Fba:1,Dba:2,name:["INIT","MOOF","MDAT"]}},b);Object.defineProperties(b.prototype,{data:{get:function(){return this.Fj;},set:d}});b.prototype.Fz=function(a,b,c,d){a=new p(this.YL,this.qz+" ("+this.ub.length+")",{M:this.M,O:this.O,Za:this.Za,L:this.L,offset:b,ga:c,url:a,location:this.location,Rc:this.Rc,responseType:d},this,this.T);this.push(a);this.nfa=this.ub.reduce(function(a,b){return a+b.ga;},0);};b.prototype.Hi=function(a){var c,f;this.Fj=this.Fj?r(this.Fj,a.response):a.response;a.response=void 0;switch(this.yX){case b.wy.INIT:c=new DataView(this.Fj);f=c.getUint32(0);c=c.getUint32(4);l(c);this.Fz(a.url,a.offset+a.ga,f,h.Ri.tl);g.prototype.Hi.call(this,this);this.yX=b.wy.Fba;break;case b.wy.Fba:c=new DataView(this.Fj);f=c.getUint32(this.nfa-8);c=c.getUint32(this.nfa-4);l(c);this.Fz(a.url,a.offset+a.ga,f-8,h.Ri.tl);this.yX=b.wy.Dba;g.prototype.Hi.call(this,this);break;case b.wy.Dba:g.prototype.Hi.call(this,this);break;default:d();}};f.K=b;},function(f,c,a){var g,p,n,r,l,v,m,q;function b(a,c){var d;d=a.qf?b(a.qf,c):[];d.push({mc:a.na.id,Jo:a.Sa[c].Ia});return d;}function d(a,b,c,d,g){this.ea=a;this.Ks=c;this.$g=d;this.Kb=b;this.H=g;this.nva(c.T);this.on=this.addEventListener=r.addEventListener;this.removeEventListener=r.removeEventListener;this.emit=this.Ea=r.Ea;this.Gha();q.call(this,c);}function k(a,b,c,d){for(var g,h=this.Kb,f=this.hb;h;){if(g=b?f.t1(a,c):f.Bt(a,c))return g;if(d)break;if(h=h.qf)f=h.Sa[this.$g].Ia.hb;}}function h(a,b,c){this.Ra=a;this.H=b;this.qz=c;this.Oa=null;this.Po=void 0;this.xx=this.rR=this.Wv=this.Vv=this.Jx=this.TB=this.Jh=this.Nj=this.zh=this.kt=0;this.Om=this.bn=void 0;this.Xa=[];this.T=a.T;this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);q.call(this,this.Ra);}g=a(8);a(20);p=a(10);n=a(13);r=a(24).EventEmitter;l=a(298);v=a(295);m=a(515);q=a(91);d.prototype=Object.create(q.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{Vx:{get:function(){return 0<this.Nx;}},Z7:{get:function(){return!this.wv;}},Nx:{get:function(){return this.od.length+this.hb.length;}},EJ:{get:function(){return this.od.length;}},eva:{get:function(){return this.hb;}},gA:{get:function(){return this.tLa();}},vd:{get:function(){return this.pfa();}},Jh:{get:function(){return this.ofa();}},Ji:{get:function(){return this.yLa();}},Ys:{get:function(){return this.sLa();}},hq:{get:function(){return this.rLa();}},uN:{get:function(){return this.qLa();}},HC:{get:function(){return this.Eja();}},Cu:{get:function(){return this.uLa();}},Yt:{get:function(){return this.xMa();}},Dsa:{get:function(){return this.Cja();}},IP:{get:function(){return 0<this.hb.length;}},Nj:{get:function(){return this.hb.Nj;}},Mpa:{get:function(){return this.hb.Mpa;}},Kbb:{get:function(){return this.ub.length-this.wz;}}});d.prototype.nva=function(a){this.T=a;this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);};d.prototype.xMa=function(){var a;a=this.hb.rR;this.H.Rn||(a+=this.od.length);return a;};d.prototype.yLa=function(){return g.aa(this.od.Oa)&&g.aa(this.od.Po)?this.od.Po-this.od.Oa:0;};d.prototype.sLa=function(){var a,b;a=this.ofa(!0);b=this.pfa(0,!0);return{ga:a,Je:b};};d.prototype.tLa=function(){for(var a=0,c=b(this.Kb,this.$g),d=c.length-1;0<=d&&0==a;--d)a=c[d].Jo.hb.A2a();return a;};d.prototype.pfa=function(a,c){return c?this.hb.oo(a):b(this.Kb,this.$g).reduce(function(b,c){return b+c.Jo.hb.oo(a);},0);};d.prototype.ofa=function(a){return a?this.hb.Jh:b(this.Kb,this.$g).reduce(function(a,b){return a+b.Jo.hb.Jh;},0);};d.prototype.rLa=function(){return b(this.Kb,this.$g).reduce(function(a,b){return a+b.Jo.hb.Wma(void 0);},0);};d.prototype.qLa=function(){return b(this.Kb,this.$g).reduce(function(a,b){return a+b.Jo.hb.Vv;},0);};d.prototype.uLa=function(){return b(this.Kb,this.$g).reduce(function(a,b){return a+b.Jo.hb.kt;},0);};d.prototype.Cja=function(){var a;a=this.hb.xx;this.H.Rn||this.od.forEach(function(b){a+=b.duration;});return a;};d.prototype.Eja=function(a){return this.hb.bn&&(g.R(a)&&(a=this.ea.yd()),a-=this.hb.bn.Oa,0<a)?this.hb.Jx-a:this.hb.Jx;};d.prototype.yMa=function(a){var b,c;b=this.ea&&this.ea.Nn;b&&(c=b.ot(a),c=b.Wra(c));return c;};d.prototype.$N=function(a,b,c,d,h){var f;b=this.H;c.zH=this.H.zH;g.R(h)||(c.location=h.location,c.Rc=h.Rb,c.F7=h.jn);if(b.ko){f={vd:this.Ks.vd};b.q_a&&(f.cR=Math.floor(b.cR));c.JS=this.yMa(f);}c=c.dk?new l(h,b,d,c,this,!1,this.Ks):b.p_a?new m(h,b,d,c,this,this.Ks):v.create(h,d,c,this.od,!1,this.Ks);c.Zc(a,this.Ks);this.rm(c);c.Wib=p.time.fa();a.QNa(c);return c;};d.prototype.vRa=function(a,b){var c;c=this.Ks;b.Zc(a,this.Ks);b.nZ=!0;b.complete?(this.fX(b),this.ub.push(b),this.hb.rm(b),a.Pra(c,b.za,b.Za,b.Oa),this.hb.eua(b,b.Oc),this.JC()):(this.rm(b),b.active&&this.KA(b),b.y6&&this.JA(b));};d.prototype.reset=function(a){this.od.forEach(this.rs.bind(this));this.hb.forEach(this.rs.bind(this));this.hb.bn=void 0;a||(this.Cl=this.Cl.forEach(this.rs.bind(this)));this.Gha(a);};d.prototype.qua=function(){this.wv=!1;};d.prototype.Gha=function(a){this.od=new h(this,this.H,"unsent");this.hb=new h(this,this.H,"sent");this.ub=[];this.wz=0;this.Oa=null;a||(this.Cl=[]);this.wv=!1;};d.prototype.xQa=function(a){var b;b=function(a){a.abort();}.bind(this);this.od.forEach(b);this.hb.forEach(b);this.reset(a);};d.prototype.fX=function(a){this.wv?a.WO=!1:this.wv=a.WO=!0;};d.prototype.rm=function(a){a.Mb?this.Cl.push(a):(a.complete||a.active?this.hb.rm(a):this.od.rm(a),this.fX(a),a.Do&&(this.wv=!1),this.ub.push(a));};d.prototype.JC=function(){var a,b,c;b=this.Ks.O;a=this.Kb;if(a.active&&this.wz!==this.ub.length){if(a=a.qf){c=a.Ena(b);if(0!=c&&(a.Sa[b].aF(),c=a.Ena(b),0!=c))return;}for(var c=this.H.b9a,d=0;this.wz<this.ub.length;){if(a=this.ub[this.wz]){if(!a.Ow())break;this.ea.af[b].jSa(a);++d;g.aa(this.Oa)||(this.Oa=a.Oa);}++this.wz;if(!g.R(c)&&d>=c)break;}}};d.prototype.Gdb=function(a){var d;for(var b,c=0;c<this.ub.length;++c){d=this.ub[c];d&&a<d.pc&&(g.R(b)&&(b=c),d.fg=!1);}g.R(b)||(this.wz=b,this.JC());};d.prototype.Ggb=function(a,b,c){var d;d=this.H;0!==this.od.length&&this.od.m1a!==b&&(d.xe&&this.eh("setSelectedBitrate new bitrate: "+b),this.AQa(a,c));};d.prototype.qs=function(a,b){if(!a.abort())return!1;"function"==typeof b&&b(a);return!0;};d.prototype.zQa=function(a){var b;b=function(b){var c,d;d=0;b.forEach(function(b,h){b.Oa>a&&(this.qs(b),g.R(c)&&(c=h),++d);}.bind(this));0<d&&b.splice(c,d);}.bind(this);b(this.od);b(this.hb);this.JC();};d.prototype.AQa=function(a,b){var c,d,h;if(0!==this.od.length){d=this.hb.Xa;h=d&&d.length?d[d.length-1].Oa:0;this.od.nhb(function(b,d){if(!g.R(a)&&b.za!==a||b.Do||h>b.Oa)return!0;b.WO&&(this.wv=!1);if(!this.qs(b))return this.ba("request abort failed:",b.toString()),!0;c=d;}.bind(this));g.R(c)||(d=this.od.splice(c,this.od.length-c),"function"==typeof b&&b(d));}};d.prototype.HI=function(a){this.hb.HI(a);};d.prototype.GI=function(a){var b;a.Mb?(b=this.Cl.indexOf(a),-1!==b?this.Cl.splice(b,1):this.ba("requestAborted: unknown header mediaRequest: "+(a&&a.toJSON()))):this.od.Kva(a)||this.hb.Kva(a)||this.ba("requestAborted: unknown mediaRequest: "+(a&&a.toJSON()));};d.prototype.gdb=function(a,c){var d,g,h,f;d=this.H;g=a;h=this.ea.Ra.Eva;if(a>h){g=a-h;f=function(a,b){var h,f,k;h=!1;f=0;k=b.some(function(b){if(g<b.pc)return h&&a.fX(b),!0;++f;b.fg||(a.ba("pruning unappended request:",b&&b.toJSON()),d.xe&&a.eh("prune pts:",g,"unappended request:",b&&b.toJSON()),b.WO&&(a.wv=!1,h=!0),a.qs(b,c)||a.Tb("MediaRequest.abort error:",b.Sl));});0<f&&b.splice(0,f);return k;};b(this.Kb,this.$g).some(function(a){var b;a=a.Jo;b=f(a,a.od);return f(a,a.hb)||b;}.bind(this));return g;}};d.prototype.J3a=function(){var b;function a(a){if(null===b||b===a.Oa)b=a.pc;return a.Oa>b?!0:!1;}b=null;this.hb.some(a);0<this.od.length&&this.od.some(a);return b;};d.prototype.Lna=function(){var c,d,h,f,k,p;function a(a){g.aa(a.Oa)&&(null===h||a.Oa<h)&&(h=a.Oa);g.aa(a.Po)&&(null===d||a.Po>d)&&(d=a.Po);f+=a.zh-a.TB;k=c.LS?k+a.TB:k+a.kt;a.B0a(p);}c=this.H;d=null;h=null;f=0;k=0;p=[];b(this.Kb,this.$g).forEach(function(b){a(b.Jo.hb);!c.Rn&&0<b.Jo.od.length&&a(b.Jo.od);}.bind(this));return{Po:d,Oa:h,wx:f,zh:k,U:p};};d.prototype.Bt=function(a,b,c){return k.call(this,a,!1,b,c);};d.prototype.t1=function(a,b,c){return k.call(this,a,!0,b,c);};d.prototype.fkb=function(a,b){var c,d;c=[];d=function(d){var g,h;if(!d.complete){g=d.Za;h=a[g];h?h.url?d.url!=h.url&&(b(d,h.location,h.Rb),d.l8(h.url)||(this.ba("swapUrl failed: ",d.l1),this.Kj("swapUrl failure"))):(this.ba("missing url for streamId:",g,"mediaRequest:",d.toString(),"stream:",h),c.push(d)):(this.ba("missing stream for streamId:",g,"mediaRequest:",d,"streamMap:",a),c.push(d));}}.bind(this);this.Cl.forEach(d);this.od.forEach(d);this.hb.forEach(d);return c;};d.prototype.ln=function(a){this.hb.bn=void 0;this.Aja(a);this.H.AI&&this.Gdb(a);};d.prototype.Aja=function(a){var z;for(var b,c=this.H,d=0,h=0,f=0,k=0,p=0,n=0,r=0,l=0,u=!1,v,m,q,B=0;B<this.hb.length;++B)if(q=this.hb.Xa[B],q.UN=!1,q.EF=!1,q.VN=!1,!g.R(m)&&q.Oa>m&&(this.ba("Gap found in _sentData: request.playerStartPts:",q.Oa,"continuousEndPts:",m),c.V_&&(u=!0),m=q.Oa),q.complete?(b=a<q.Oa?q.duration:q.duration-(a-q.Oa),q.fg&&0<b&&(q.EF=!0,f+=q.duration,k+=q.Oc),u||(v=q,!g.R(a)&&q.pc>a&&(q.UN=!0,d+=q.duration,h+=q.Oc)),0<b&&(q.VN=!0,p+=q.duration,n+=q.Oc)):u=!0,q.hI&&(++r,l+=q.duration),void 0===m||q.Oa===m)m=q.pc;c.Rn||(r+=this.od.length,this.od.forEach(function(a){l+=a.duration;}));z=!1;b=function(a,b,c){b!=c&&(this.ba("MISMATCH: "+a+" "+b+" != "+c),z=!0);}.bind(this);b("bufferLevelMs",d,this.hb.oo(a));b("bufferLevelBytes",h,this.hb.Jh);b("appendedBufferMs",f,this.hb.Wma(a));b("appendedBufferBytes",k,this.hb.Vv);b("totalBufferMs",p,this.Eja(a));b("totalBufferBytes",n,this.hb.kt);b("latestCompletedRequest",v,this.hb.Om);b("partialBuffers",r,this.Yt);b("partialBuffersMs",l,this.Cja());z&&this.hb.ygb(h,k,f,p,n);};d.prototype.Wt=function(a){this.hb.Wt(a);};d.prototype.rs=function(a){var b;if(!a.Mb){b=this.ub.indexOf(a);-1!==b?this.ub[b]=void 0:this.ba("cleanupRequest, request not found in all array");}a.Mb&&!a.complete&&this.WNa(a);a.Hf&&a.Hf.clear();a.Be();};d.prototype.sx=function(a){!a.Mb&&this.od.u5a(a)&&(this.hb.qjb(this.od,a),this.hb.bS(a));this.KA(a);};d.prototype.Xt=function(a){a.p3&&a.Ow()&&this.JC();this.JA(a);};d.prototype.Hi=function(a){a.p3&&!a.fg&&this.JC();this.tG(a);};d.prototype.WNa=function(a){a={type:"headerRequestCancelled",request:a};this.Ea(a.type,a);};d.prototype.Kj=function(a){a={type:"streamingFailure",msg:a};this.Ea(a.type,a);};d.prototype.eh=function(a){a={type:"managerdebugevent",message:"@"+p.time.fa()+", "+a};this.Ea(a.type,a);};d.prototype.qZ=function(a){var b,c,d;b=this.$g===n.u.VIDEO?"v_":"a_";c=this.hb;d=c.filter(function(b){return b.Oa>a;})[0];c=c.filter(function(b){return b.Oa<=a&&b.pc>=a;})[0];return b=d&&c?c.pc!==d.Oa?b+"rg":c.complete&&d.complete?b+"uk":b+"fd":b+"rm";};h.prototype=Object.create(q.prototype);Object.defineProperties(h.prototype,{length:{get:function(){return this.Xa.length;}},m1a:{get:function(){return 0===this.length?0:this.Xa[0].L;}},Mpa:{get:function(){return this.Xa.length?this.Xa[this.Xa.length-1]:void 0;}}});h.prototype.forEach=function(){return this.Xa.forEach.apply(this.Xa,arguments);};h.prototype.map=function(){return this.Xa.map.apply(this.Xa,arguments);};h.prototype.some=function(){return this.Xa.some.apply(this.Xa,arguments);};h.prototype.filter=function(){return this.Xa.filter.apply(this.Xa,arguments);};h.prototype.toJSON=function(){return JSON.stringify(this.Xa);};h.prototype.u5a=function(a){return-1!==this.Xa.indexOf(a);};h.prototype.ygb=function(a,b,c,d,g){this.Jh=a;this.Vv=b;this.Wv=c;this.Jx=d;this.kt=g;};h.prototype.B0a=function(a){var b;b=this.H;this.Xa.some(function(c){if(!b.LS&&!c.complete)return!0;a.push(c);return!1;}.bind(this));};h.prototype.Bt=function(a,b){var c,d;c=this.Ra.ea;this.Xa.some(function(h){if(a>=h.Oa&&a<h.pc&&(g.R(b)||c.eH(h.za,b)))return d=h,!0;});return d;};h.prototype.t1=function(a,b){for(var c=this.Ra.ea,d,h=this.Xa.length-1;0<=h;--h)if(d=this.Xa[h],a>=d.Lg&&a<d.xi&&(g.R(b)||c.eH(d.za,b)))return d;};h.prototype.mMa=function(a){for(var b,c,d,h,f,k=0;k<this.Xa.length;++k){b=this.Xa[k];c=b.Oa;if(g.R(h))c>a&&(h=k);else if(g.R(f))c>d&&(f=d);else break;d=b.pc;}return{Woa:h,Ira:f};};h.prototype.rm=function(a){var b;b=this.H;if(-1!==this.Xa.indexOf(a))return!1;a.Fgb(this);b.Tv?(b=this.mMa(a.Oa),g.R(b.Woa)?this.Xa.push(a):this.Xa.splice(b.Woa,0,a),g.R(b.Ira)?(b=this.Xa[this.Xa.length-1],this.Po=b.pc):this.Po=b.Ira):(this.Xa.push(a),this.Po=a.pc);(a.active||a.complete)&&this.bS(a);a.active&&++this.Nj;a.complete||(a.hI=!0,++this.rR,this.xx+=a.duration,a.y6&&this.T6(a,a.Oc));a.fg&&this.HI(a);g.aa(this.Oa)||(this.Oa=a.Oa);return!0;};h.prototype.qjb=function(a,b){var c;c=a.Xa.indexOf(b);-1!==c&&(a.Xa.splice(c,1),a.Dha(b,c));this.rm(b);};h.prototype.Cha=function(a){a.hI&&(a.hI=!1,--this.rR,this.xx-=a.duration);a.UN&&(a.UN=!1,this.Jh-=a.Oc);a.EF&&(a.EF=!1,this.Wv-=a.duration,this.Vv-=a.Oc);a.VN&&(a.VN=!1,this.Jx-=a.duration,this.kt-=a.Oc);};h.prototype.Dha=function(a,b){this.Cha(a);a.active&&--this.Nj;a.W_&&(a.W_=!1,this.zh-=a.ga);a.yka&&(a.yka=!1,this.TB-=a.Oc);a==this.Om&&(this.Om=0<b?this.Xa[b-1]:void 0);};h.prototype.ZOa=function(a,b){this.Dha(a,b);};h.prototype.Kva=function(a){a=this.Xa.indexOf(a);if(-1===a)return!1;this.splice(a,1);return!0;};h.prototype.splice=function(a,b){for(var c,d=[],g=a+b-1;g>=a;--g)c=this.Xa[g],this.ZOa(c,g),d.push(c);a=this.Xa.splice(a,b);d.forEach(this.Ra.rs.bind(this.Ra));return a;};h.prototype.bS=function(a){a.Mb||a.W_||(a.W_=!0,this.zh+=a.ga);};h.prototype.T6=function(a,b){a.Mb||(a.yka=!0,this.TB+=b);};h.prototype.HI=function(a){a.Mb||!a.complete||a.EF||(a.EF=!0,this.Vv+=a.Oc,this.Wv+=a.duration);};h.prototype.eua=function(a,b){if(!a.Mb&&-1!==this.Xa.indexOf(a)){a.hI&&(a.hI=!1,--this.rR,this.xx-=a.duration);this.bS(a);0<b&&this.T6(a,b);a.fg&&this.HI(a);this.Jx+=a.duration;a.VN=!0;this.kt+=a.Oc;a=-1;b=0;this.Om&&(a=this.Om.Oa,b=this.Xa.indexOf(this.Om)+1);for(var c=b;c<this.Xa.length;++c){b=this.Xa[c];if(!b.complete)break;b.Oa>a&&(this.Om=b,a=b.Oa,b.UN=!0,this.Jh+=b.Oc);}}};h.prototype.nhb=function(a){for(var b,c=this.Xa.length-1;0<=c&&(b=this.Xa[c],!a(b,c));--c);};h.prototype.Wt=function(a){var b;if(a!==this.bn){b=this.bn;this.bn=a;b&&this.Cha(b);}};h.prototype.A2a=function(){var a;a=0;this.Om?a=this.Om.pc:0<this.Xa.length&&(a=this.Xa[0].Oa);return a;};h.prototype.S3a=function(a){if(!this.bn)return 0;a-=this.bn.Oa;0>a&&(this.ba("resetting bad partialMs to 0, was:",a),a=0);a>this.bn.duration&&(a-=this.bn.duration);return a;};h.prototype.oo=function(a){var b,c;g.R(a)&&(a=this.Ra.ea.yd());c=0;this.Om&&(b=this.Om.pc,b>a&&(c=b-Math.max(a,this.Oa)));return c;};h.prototype.Wma=function(a){if(0===this.Wv)return 0;g.R(a)&&(a=this.Ra.ea.yd());a=this.S3a(a);return this.Wv-a;};h.prototype.sx=function(a){++this.Nj;this.bS(a);this.KA(a);};h.prototype.aI=function(a){this.T6(a,a.Oc-a.kk);this.uG(a);};h.prototype.Hi=function(a){var b;b=a.Oc-a.kk;--this.Nj;this.eua(a,b);this.tG(a);};h.prototype.jR=function(a,b){b&&-1!==this.Xa.indexOf(a)&&--this.Nj;this.cP(a,b);};f.K=d;},function(f,c,a){var d,k,h,g,p,n,r,l,v;function b(a,b,c,d,f,l,u){this.H=u;this.Ra=a.Ra;this.ea=a;this.mc=b;this.O=c;this.iNa(b.na.id);this.Pa=d;d=b.qf?b.qf.Sa[c].xC:void 0;this.Xua=l;this.xC=new h(f,l,u,d);this.I3=n.time.fa();this.i7a=void 0;this.Ia=new g(a,b,this,c,u);this.Ia.addEventListener("headerRequestCancelled",function(b){a.LMa(b.request);});this.Ia.addEventListener("streamingFailure",function(b){a.Kj(b.msg);});u.xe&&this.Ia.addEventListener("managerdebugevent",function(b){r(a,b.type,b);});this.Wt=this.Ia.Wt.bind(this.Ia);this.R9a=c===k.u.VIDEO?u.Z4:u.U4;this.eo=!1;this.ZZ=0;this.Dz=!1;p.call(this,b);}a(8);d=a(20);k=a(13);h=a(290);g=a(516);a(61);p=a(91);n=a(10);c=a(23);r=c.Ea;l=c.uH;v=a(287);b.prototype=Object.create(p.prototype);Object.defineProperties(b.prototype,{Vx:{get:function(){return this.Ia.Vx;}},Z7:{get:function(){return this.Ia.Z7;}},Vo:{get:function(){return this.mc.na.id;}},gA:{get:function(){return this.Ia.gA;}},vd:{get:function(){return this.Ia.vd;}},Jh:{get:function(){return this.Ia.Jh;}},Ji:{get:function(){return this.Ia.Ji;}},Ys:{get:function(){return this.Ia.Ys;}},hq:{get:function(){return this.Ia.hq;}},uN:{get:function(){return this.Ia.uN;}},HC:{get:function(){return this.Ia.HC;}},Cu:{get:function(){return this.Ia.Cu;}},fTa:{get:function(){var a;a=this.ea.$j()[this.O];return this.Ia.Cu/a;}},gTa:{get:function(){var a;a=this.ea.$j()[this.O];return this.Ia.Lna().zh/a;}},za:{get:function(){return this.mc.za;}},IP:{get:function(){return this.Ia.IP;}},Nx:{get:function(){return this.Ia.Nx;}},Bc:{get:function(){return this.mc.Rna(this.O);}},nl:{get:function(){return this.mc.z4a(this.O);}},Zf:{get:function(){return this.ea.gB(this.O)?this.VKa:!0;},set:function(a){this.VKa=a;}}});b.prototype.iNa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.O+"]";this.T=l(n,this.ea.T,a);this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.xs=this.T.debug.bind(this.T);this.Ia&&this.Ia.nva(this.T);};b.prototype.reset=function(a,b){this.eo=!1;this.seeking=void 0;this.Zf=!1;this.Ia.reset(a);this.Y6={reason:b,time:n.time.fa()};};b.prototype.Lta=function(a){this.Ia.Aja(a);};b.prototype.ln=function(a){this.Ia.ln(a);};b.prototype.aF=function(){this.Ia.JC();};b.prototype.vgb=function(a,b){var c,d;c=this.ea;d=this.O;this.Vf=b.Vf;this.Tn=b.Tn;b.Bc.forEach(function(b){var g;g=c.Pe[d][b.id];g&&!b.rh&&(g.stream.rh?b.SN(g.stream):(g.cI||(g.cI=[]),g.cI.push(a)));}.bind(this));d===k.u.AUDIO&&(this.Dz=v.sS(this.H,b.Bc[0]));c.IMa(this,b.Mfb);this.JTa(b.Bc);this.tt=void 0;this.Zf=!1;};b.prototype.Bgb=function(a,b){var c;if(this.H.Tv){c=this.Ia.J3a();null!==c?(this.Pa=c,this.Qg=c===a?b:this.ea.fM(this.O,this.mc.za,this.Pa)):(this.ba("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.Pa=a,this.Qg=b);}else this.Pa=a,this.Qg=b;};b.prototype.kn=function(a){var b,c,d;if(this.Vd&&this.Vd.X===a)b=this.Vd.index,c=a;else{d=this.ea.gl(this.za);b=d.Eb[this.O];if(!b||!b.U){this.Zt=!0;this.vR=a;return;}c=b.U;this.Vd=this.vma(b.stream,a,void 0,void 0);if(void 0===this.Vd){if(b=c.length-1,c=c.Sf(b),this.ba("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.yi),d.yi){this.Zt=!0;this.vR=a;return;}}else b=this.Vd.index,c=this.Vd.X;}this.Qg=b;this.Pa=c;delete this.Zt;};b.prototype.Reb=function(a){this.kn(a);this.Zf=!1;this.ca=void 0;this.Ia.qua();};b.prototype.Qeb=function(a){this.Vd=a;this.Zf=!1;this.ca=void 0;this.Qg=this.Vd.index;this.Pa=this.Vd.X;delete this.Zt;this.Ia.qua();};b.prototype.cfb=function(a){var b;b=this.ea.gl(this.za).Eb[this.O];if(b&&b.U){for(var c=b.U;0<this.Qg&&this.Pa>a;)this.Pa=c.Sf(--this.Qg);this.Qg<this.Vd.index&&(this.Vd=b.stream.zi(this.Qg));this.Zt=void 0;}else this.Zt=!0,this.vR=a;};b.prototype.Gkb=function(a){var b,c;b=this.nl[a];c="verifying streamId: "+a+" stream's track: "+(b?b.Vf:"unknown")+" currentTrack: "+this.Vf;if(!b)return this.ea.eh("unknown streamId: "+a),!1;b.Vf!==this.Vf&&this.ea.eh(c);return b.Vf==this.Vf;};b.prototype.JTa=function(a){this.voa=a.reduce(function(a,b){return b.inRange&&b.Te&&!b.qh&&b.L>a.L?b:a;},a[0]);this.D5a=a.indexOf(this.voa);};b.prototype.b0a=function(a){return this.O===k.u.VIDEO?0:this.Dz?0:this.H.hn?a&&a.Je||0:this.H.Ol&&a?-a.Je:0;};b.prototype.M7=function(){return this.O===k.u.VIDEO&&this.H.zw||this.O===k.u.AUDIO&&this.H.Ol;};b.prototype.vma=function(a,b,c,g,h){var f,p,n,r,l,u,v;d(b>=a.U.Sf(0));f=this.H;p=this.M7();n=a.U;r=b+0;this.O===k.u.AUDIO&&void 0===g&&p&&f.iq&&!f.Xv&&a.Ro&&(b=Math.max(a.U.Sf(0),b+a.Ro.Je));l=n.Zj(r,void 0,!0);u=a.zi(l);if(u.ca<b)return u;if(p){r=this.O===k.u.VIDEO?r:b;v=u.u1(r);v?(0<v.Qc&&u.Qm(v,!1),this.O!==k.u.AUDIO||f.cra||v.Ib<(f.iq&&!f.Xv&&a.Ro?Math.floor(a.Ro.Je):0)&&u.SZa()):r>=u.ca&&l<n.length-1&&(u=a.zi(l+1));}this.O===k.u.VIDEO&&c&&u.ca===c&&l<n.length-1?u=a.zi(l+1):this.O===k.u.AUDIO&&void 0!==g&&!f.hn&&(c=b+g,c-u.X>f.L8a||u.X<c-h)&&(u=a.zi(l+1));p&&this.O===k.u.AUDIO&&!u.xd&&(f.ZG||f.Zoa||f.f_a)&&void 0!==g&&u.Qm();u.TI(b);return u;};b.prototype.d1a=function(a,b){var c,d,g,h,f;c=this.H;d=a.U;g=d.La;h=b?b+this.b0a(g):d.BA(d.length-1);d=d.Zj(h,void 0,!0);g=a.zi(d);0==d||g.X!==b||this.O!==k.u.VIDEO&&c.hn||(--d,g=a.zi(d));if(this.M7()){h=this.O===k.u.VIDEO?h:b;if(h<g.ca){f=g.g1a(h);f&&0!=f.Qc?g.Qm(f,!0):this.O===k.u.AUDIO&&(f||h<g.X)&&0!=d&&(g=a.zi(d-1));}this.O===k.u.AUDIO&&(c.ZG||c.Yoa)&&g.Qm();}else this.O===k.u.AUDIO&&!c.hn&&b-g.X<g.duration/2&&0!=d&&(g=a.zi(d-1));g.TI(b);return g;};b.prototype.DS=function(a){this.Ng=a;this.ca=a.ca;};b.prototype.Xt=function(a){this.JA(a);};b.prototype.toJSON=function(){return{started:this.Vx,startOfSequence:this.Z7,segmentId:this.Vo,requestedBufferLevel:this.Ji,manifestIndex:this.za,hasFragments:this.IP};};f.K=b;},function(f,c,a){var g,p,n,r,l,v,m,q,y;function b(a,b,c,d,g){this.H=g;this.ea=a;this.Cc=b;this.T=a.T;this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.zl=[];this.Zi=Object.create(null);c?(this.aX=!0,this.COa(c,d)):(this.Gj=this.kX("",0,0,void 0,void 0,[],!0),this.Gj.p5=!0,this.Gj.ca=Infinity,this.bN=[this.Gj]);this.Kb=new k(this,b,this.Gj,this.Gj.X,0,void 0,d);this.Kb.active=!0;this.HM=this.sM=void 0;}function d(a,b,c){var f;for(var d=this.ea,h=this.Kb;h;){if(!g.aa(c)||d.eH(c,h.za)){f=b?h.xi:h.pc;if((b?h.Lg:h.Oa)<=a&&a<f)return h;}h=h.qf;}}function k(a,b,c,d,h,f,k){var p,l;this.Ra=a;p=a.ea;this.ea=p;this.qf=f;this.na=c;this.X=d;this.sm=c.sm;this.children=Object.create(null);this.fp=[];this.T=q(v,p.T,c.id&&c.id.length?"{"+c.id+"}":void 0);this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.xs=this.T.debug.bind(this.T);this.gc=p.gl(h).Wl;this.za=h;this.zc=void 0;g.aa(k)||(k=d);this.Sa=[];l=b.Vhb;[n.u.AUDIO,n.u.VIDEO].forEach(function(a){var b;if(p.gB(a)){b=new r(p,this,a,k,p,l[a],p.H);this.Sa[a]=b;}}.bind(this));this.h3(h);a.zl.push(this);y.call(this,p);}function h(a,b,c,d,g,h,f,k,p){this.id=a;this.za=b;this.X=c;this.ca=d||Infinity;this.QF=g;this.gj=h;this.AC=f;this.sm="number"===typeof k?k:this.ca;this.wjb=p;}g=a(8);p=a(20);n=a(13);r=a(517);l=a(38);v=a(10);c=a(23);m=c.t7;q=c.uH;y=a(91);Object.defineProperties(b.prototype,{Ht:{get:function(){return!!this.aX;}},C6a:{get:function(){return 0===this.Kb.Sa.length;}},Soa:{get:function(){return this.Gj;}},Ska:{get:function(){return this.Kb.na.id;}},Rka:{get:function(){return this.Kb.za;}},gf:{get:function(){return this.Kb;}},Ce:{get:function(){return this.Kb.Sa;}},nja:{get:function(){return this.zl;}},gc:{get:function(){return this.Kb.gc;}},af:{get:function(){return this.ea.af;}},Ii:{get:function(){return this.sM?this.sM:this.nja[0];}}});b.prototype.v2=function(a){return"m"+a;};b.prototype.oo=function(a){return(a=this.Kb.Sa[a])?a.vd:0;};b.prototype.Mna=function(a,b){var c;c=this.Zi[a];if(c)return(a=c.gj[b])&&a.weight;this.ba("getSegmentWeight, unknown segment:",a);};b.prototype.q4a=function(a){var b;b=this.Zi[a];if(b)return b.X;this.ba("getSegmentStartPts, unknown segment:",a);};b.prototype.a4a=function(){var a;a=this.Ii.na;return a&&("number"===typeof a.sm?a.sm:a.ca);};b.prototype.p4a=function(a){var b;b=this.Zi[a];if(!b)this.ba("getSegmentDuration, unknown segment:",a);else if(g.aa(b.ca)&&isFinite(b.ca)&&g.aa(b.X)&&isFinite(b.X))return b.ca-b.X;};b.prototype.uma=function(a){for(var b=this.Kb;b;){if(this.ea.eH(b.za,a))return b;b=b.qf;}};b.prototype.b1a=function(a,b){return d.call(this,a,!1,b);};b.prototype.a1a=function(a,b){return d.call(this,a,!0,b);};b.prototype.xeb=function(a,b){g.wc(this.zl,function(c){c.za===a&&(c.za=b);});g.wc(this.Zi,function(c){c.za===a&&(c.za=b);});};b.prototype.oua=function(){g.wc(this.zl,function(a){a.gc=this.ea.gl(a.za).Wl;}.bind(this));};b.prototype.FS=function(a){g.wc(this.zl,function(b){b.Rna(n.u.VIDEO).forEach(function(b){l(this.ea.hfa(b.ve,b.L,a),b);}.bind(this));}.bind(this));};b.prototype.MXa=function(){this.zl.forEach(function(a){a.active=!1;});};b.prototype.fdb=function(){this.zl.every(function(a){if(a.active)return a===this.Kb?!1:a.Sa.every(function(a){return 0===a.Nx;})?(a.Be(),this.zl.shift(),!0):!1;}.bind(this));};b.prototype.AUa=function(a,b){var c,d;c=this.Kb;if(c.tqa)a=c.tqa;else{d=this.Kb.gc;a=new k(this,this.Cc,c.na,0,a,c);a.Sa.forEach(function(a){a.kn(0);a.DS(c.Sa[a.O].Ng);});a.gc=d+b;c.tqa=a;}this.az(a,c);};b.prototype.fRa=function(a,b,c){var d,g;if(!this.aX){this.aX=!0;d=this.v2(0);this.Gj.id=d;this.Zi[d]=this.Gj;this.zl[d]=this.Kb;this.Gj.ca=this.ea.qga(this.ea.p3a());this.Gj.Dx=!0;}g=this.v2(a);a=this.kX(g,a,b,c,void 0,[],!0);a.Dx=!0;this.bN.forEach(function(a){a.gj={};a.gj[g]={weight:100};a.QF=g;a.AC=!1;}.bind(this));this.bN=[a];};b.prototype.wF=function(a,b){var c,d,h,f;c=this.Ii;d=c.VS(b);h=c.na;f=c.children[a];if(b){if(!h.gj[a])return this.Kb.ba("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Kf)return c.Kf===a;c.Kf=a;f&&c.bP?this.az(f,c):this.H.fG&&(a=c.Qja(),g.R(a)||c.Zwa(a));return!0;}if(!f)return d.Era=!0,!1;b||(d.Era=!f.dA());this.ea.uY("chooseNextSegment");c.bP=void 0;c.Kf=a;this.az(f,c);return!0;};b.prototype.lX=function(a,b){var c,d,g,h,f;c=a.za;d=this.ea.gl(c);g=d.M===this.ea.M;h=new k(this,this.Cc,a,a.X,c,b);c=this.ea.mE(h.za,a.X,h,b,g);f=c.Hx;c=c.Dm;this.H.z6&&(h.Sa[n.u.VIDEO].Vd=c[n.u.VIDEO],h.Sa[n.u.AUDIO].Vd=c[n.u.AUDIO]);d=this.ea.lz(h.Sa,d.Eb,a.ca);h.Sa[n.u.VIDEO].Ng=d[n.u.VIDEO];h.Sa[n.u.AUDIO].Ng=d[n.u.AUDIO];[n.u.VIDEO,n.u.AUDIO].forEach(function(a){var c,d;c=h.Sa[a];d=b.Sa[a];a===n.u.VIDEO&&(d=d.Pa+b.gc,h.gc=d-f[a],h.X=f[a]);c.kn(f[a]);c.Toa=c.Pa;c.Poa=c.Qg;}.bind(this));this.ea.Yga(a,h.gc);return h;};b.prototype.mPa=function(a,b){var c,d,g;c=a.na;d=this.ea.gl(c.za);g=this.ea.mE(a.za,c.X,a,b,d.M===this.ea.M);b=g.Hx;a.Sa[n.u.AUDIO].Vd=g.Dm[n.u.AUDIO];c=this.ea.lz(a.Sa,d.Eb,c.ca);a.Sa[n.u.AUDIO].Ng=c[n.u.AUDIO];a=a.Sa[n.u.AUDIO];a.kn(b[n.u.AUDIO]);a.Toa=a.Pa;a.Poa=a.Qg;};b.prototype.I5a=function(a,b){var c,d,h,f,k,p;h=a.na;b&&!a.Kf&&(a.Kf=h.QF,a.VS(!0,!0));a.children=Object.create(null);if(this.H.Rab)if(a.Kf)c=this.Zi[a.Kf],d=this.lX(c,a),a.children[a.Kf]=d;else{g.wc(h.gj,function(a,b){c=this.Zi[b];a=c.weight;if(g.R(p)||a>p)f=c,k=b,p=a;}.bind(this));f&&(d=this.lX(f,a),a.children[k]=d);}else g.wc(h.gj,function(b,g){a.Kf&&g!=a.Kf||(c=this.Zi[g],d=this.lX(c,a),a.children[g]=d);}.bind(this));a.Kf&&a.children[a.Kf]&&this.az(a.children[a.Kf],a);a.bP=!0;};b.prototype.ljb=function(){var a;a=0;g.wc(this.zl,function(b){b.Sa.forEach(function(b){a+=b.Ia.Nj;}.bind(this));}.bind(this));return a;};b.prototype.WKa=function(a){for(var b=[a.na.id];a.qf;)a=a.qf,b.unshift(a.na.id);this.TW(a,!0);};b.prototype.TW=function(a,b){var c,d;c=a.na;g.wc(a.children,function(a){this.TW(a,b);}.bind(this));a.Sa.forEach(function(a){a.Ia.xQa(b);}.bind(this));a.active=!1;a.Be();d=-1;this.zl.some(function(b,c){if(b===a)return d=c,!0;});-1!==d?this.zl.splice(d,1):this.ba("Unable to find branch:",a,"in branches array");this.ea.fOa(c);};b.prototype.xib=function(a,b){var c,d;c=this.nMa(a,b);if(c){c!==this.Kb.na&&(this.MXa(),d=new k(this,this.Cc,c,a,b,this.Kb),d.qf=void 0,this.WKa(this.Kb),this.az(d,this.Kb));c===this.Ii.na&&(this.Ii.fp.shift(),d&&(d.fp=this.Ii.fp,d.Kf=this.Ii.Kf));this.ea.Yga(c,this.Kb.gc);this.Kb.bP=void 0;}else this.ba("findSegment no segment for manifestIndex:",b);};b.prototype.az=function(a,b){var c,d,h,f,k;c=b.na;b.za!=a.za&&this.ea.Fga(a.za);a.active=!0;if(this.H.fG&&this.Kb.active){d=this.Kb.Qja();if(!g.R(d)){h=this.Kb.ca;this.Kb.Zwa(d);a.Yjb(this.Kb.ca-h);}}a.Sa.forEach(function(a){a.aF();}.bind(this));f=v.time.fa();k={};g.wc(b.children,function(b){b.zc&&(b.zc.vd=b.Sa.map(function(a){return a.Ys.Je;}),b.zc.MZa=f-b.zc.WP,b.zc.WP=void 0,k[b.na.id]=b.zc);b.na.id!==a.na.id&&this.TW(b);}.bind(this));b.children=Object.create(null);b.children[a.na.id]=a;b.fz=void 0;this.ova(a);this.ea.gOa(a.na,k);1<Object.keys(c.gj).length&&a.dA();};b.prototype.Cqa=function(a,b){var c;c=a.na;b||(b=c.QF);m(c.id);a.Kf||(a.Kf=b,a.VS(!0,!0));(b=a.children[a.Kf])&&this.az(b,a);};b.prototype.ova=function(a,b){if(this.Kb!=a){if(b)for(b=this.Kb;b!=a;)b.active=!1,b=b.qf;this.Kb=a;}};b.prototype.nua=function(a){g.wc(a.children,function(a){var b;b=a.Sa[n.u.AUDIO];b.reset(!0,"audioTrackChange");b.Pa=b.Toa;b.Qg=b.Poa;delete b.Vd;delete b.Ng;delete b.Vd;delete b.Ng;this.nua(a);}.bind(this));};b.prototype.Z6=function(a){g.wc(a.children,function(b){this.mPa(b,a);this.Z6(b);}.bind(this));};b.prototype.rn=function(a,b){var c,d,g,h;if(this.Ht){c=this.H;d=this.Ii;g=d.na;h=m(g.id);!d.Kf&&!g.AC&&d.ca-b<=c.VQ&&(this.ba(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.Cqa(d));}this.Kb.Sa.forEach(function(a){this.ea.gB(a.O)&&this.af[a.O].rn(b);}.bind(this));};b.prototype.Wt=function(a,b){var c,d;if(this.Ht){c=this.sM;if(this.H.d6a&&a&&this.HM&&a.X===this.HM)this.Vb("Ignoring pts that wiggled back into previous segment",this.HM);else if(a=a.Ue.mc,!c||a.na.id!=c.na.id){d=c&&c.Sa[n.u.VIDEO].Ng;this.HM=d&&d.X;this.sM=a;this.lLa(c);c=c&&c.LUa(a);this.ea.iOa(a.na,b,c);}}};b.prototype.Be=function(){this.VLa(this.Kb);};b.prototype.VLa=function(a){0!==a.Sa.length&&(a.Sa.forEach(function(a){a.Ia.reset();delete a.xC;a.active&&(this.Tb("Destroying active pipeline!"),this.ea.Lsb(v.time.fa()));}.bind(this)),a.Sa=[],a.Be());};b.prototype.lLa=function(a){var b,c;if(a){b=v.time.fa();c=a.fp[0];c&&void 0===c.iO?c.iO=b-c.requestTime:c||(this.ba("missing metrics for branch:",a.na.id),c={SS:a.na.id,rS:!0,iO:0,zc:{}},a.fp.unshift(c));void 0===c.startTime&&(c.startTime=b);a.Sa.forEach(function(a){a.Wt();}.bind(this));}};b.prototype.nMa=function(a,b){var c,d,f,k;p(0<=a);for(var h in this.Zi){f=this.Zi[h];if(this.ea.eH(f.za,b)){if(f.X<=a&&(g.R(f.ca)||a<f.ca))return f;k=Math.min(Math.abs(a-f.X),Math.abs(a-f.ca));if(g.R(c)||k<c)c=k,d=f;}}return d;};b.prototype.E$a=function(a,b,c){b.p5||(b.X=this.ea.Cna(a,b.X,!0),c||(b.ca=this.ea.Cna(a,b.ca,!1)),b.p5=!0);};b.prototype.kX=function(a,b,c,d,g,f,k,p,n){b=new h(a,b,c,d,g,f,k,p,n);return this.Zi[a]=b;};b.prototype.COa=function(a,b){var c,d;this.Gj=void 0;this.bN=[];c=null;d=null;g.wc(a.segments,function(a,h){var f,k,p,n,r,l;f=a.startTimeMs;k=a.endTimeMs;p={};g.wc(a.next,function(b,c){p[c]={weight:b.weight||0,yBb:b.transitionHint||a.transitionHint,jvb:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});r=this.kga(p);"number"===typeof r&&(n=f+r);l=a.defaultNext;g.R(l)&&(l=Object.keys(p)[0]);r=g.R(l);n=this.kX(h,0,f,k,l,p,r,n,a.transitionDelayZones);f<=b&&(b<k||g.R(k))?this.Gj=n:f>b&&(!c||f<d)&&(c=h,d=f);r&&this.bN.push(n);}.bind(this));this.Gj||(this.Gj=c?this.Zi[c]:this.Zi[a.initialSegment]);};b.prototype.kga=function(a){var b,c;c=0;g.wc(a,function(a){var d,g;d=a.weight||0;c+=0<d;g=a.earliestSkipRequestOffset;0<d&&a.transitionHint===n.XIa.gAa&&"number"===typeof g&&(void 0===b||b>g)&&(b=g);});return 1<c&&b;};b.prototype.O8=function(a,b){var c;m(a);c=this.Zi[a];c?(g.wc(c.gj,function(a,c){a.weight=b[c]||0;}.bind(this)),a=this.kga(c.gj),c.sm="number"===typeof a?c.X+a:c.ca):this.ba("updateChoiceMapEntry, unknown segment:",a);};k.prototype=Object.create(y.prototype);k.prototype.constructor=k;Object.defineProperties(k.prototype,{Ji:{get:function(){return[this.Sa[0].Ji,this.Sa[1].Ji];}},Ys:{get:function(){return[this.Sa[0].Ys,this.Sa[1].Ys];}},Wl:{get:function(){return this.ea.Ca[this.za].Wl;}},Lg:{get:function(){return this.X;}},xi:{get:function(){return this.ca;}},ca:{get:function(){return g.aa(this.aga)?this.aga:this.na.ca;}},Oa:{get:function(){return this.X+this.gc;}},pc:{get:function(){return this.ca+this.gc;}}});k.prototype.toJSON=function(){return{segment:this.na.id,active:this.active,branchOffset:this.gc,manifestIndex:this.za,contentStartPts:this.X,contentEndPts:this.ca,playerStartPts:this.Oa,playerEndPts:this.pc,pipelines:this.Sa,previousBranch:this.qf};};k.prototype.wgb=function(a){this.za=a;};k.prototype.Ph=function(a){return this.Sa[a];};k.prototype.Rna=function(a){return(a=this.ea.gl(this.za).ne[a])?a.Bc:void 0;};k.prototype.z4a=function(a){return(a=this.ea.gl(this.za).ne[a])?a.nl:void 0;};k.prototype.g4a=function(a){return this.Sa[a].Nx;};k.prototype.oo=function(a){return this.Sa[a].vd;};k.prototype.h3=function(a){var b;b=this.ea.gl(a).ne;this.Sa.forEach(function(c){var d;d=b[c.O];d&&c.vgb(a,d);});};k.prototype.aF=function(){this.Sa.forEach(function(a){a.aF();});};k.prototype.Be=function(){this.qf&&(delete this.qf.children[this.na.id],this.qf=void 0);g.wc(this.children,function(a){a.qf&&(a.qf=void 0);}.bind(this));this.children=Object.create(null);this.fz=void 0;};k.prototype.tMa=function(){var a,b;a=this.ea;b=0;this.Sa.forEach(function(c){c=a.af[c.O].x3a()||0;c>b&&(b=c);}.bind(this));return b;};k.prototype.Ena=function(a){return this.Sa[a].Ia.Kbb;};k.prototype.ITa=function(a){var b,c;b=this.tMa();b=this.lga(a,b);if(0>b)return-1;b=a.BA(b);c=this.ca;c=this.lga(a,this.sm||c);return 0>c?-1:Math.max(b,a.Sf(c));};k.prototype.lga=function(a,b){return a.Zj(b-1,0,!0);};k.prototype.Qja=function(){var a,b;if(!("number"!==typeof this.sm||this.sm>=this.ca)){a=this.ea.gl(this.za).Eb[n.u.VIDEO].U;b=this.ITa(a);if(!(0>b)&&(b=a.Zj(b,0,!0),!(0>b)&&(b=this.mga(b,a),(a=b<a.length&&a.BA(b))&&a<this.ca)))return a;}};k.prototype.mga=function(a,b){var c,d;c=this.na.wjb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.UMa(c,b.BA(a))&&(a=this.mga(a+1,b));return a;};k.prototype.UMa=function(a,b){var d,g;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];g=a[c][1];if(b<d)break;if(b>=d&&b<g)return!0;}return!1;};k.prototype.Yjb=function(a){this.gc+=a;};k.prototype.Zwa=function(a){var b,c;this.aga=a;b=this.ea;c=b.gl(this.za);this.Sa.forEach(function(d){var g,h,f;g=d.O;h=c.Eb[g].U.oG(a-1,0,!0);d.DS(h);f=d.Ia.t1(h.X);f&&(f.Iqa(),g===n.u.VIDEO&&b.cY(this.na,h.ca));d.Ia.zQa(a);b.af[g].XTa(this.na.id,a);d.Pa>h.ca&&d.kn(h.ca);}.bind(this));};k.prototype.dA=function(a,b){var c,d,g,h,f,k,p;c=this.Ra.H;d=this.ea;m(this.na.id);g=this.Sa[n.u.AUDIO];h=this.Sa[n.u.VIDEO];f=g?b?g.Ji:g.vd:0;b=h?b?h.Ji:h.vd:0;a||(a=c.Vh);k=!d.xf||h.Zf&&0===h.Ia.Yt;k=(!d.dj||g.Zf&&0===g.Ia.Yt)&&k;p=!d.dj||f>=c.Vh;a=!d.xf||b>=a;if(!(k||p&&a))return!1;if(h&&h.eo)return!0;g=g?g.Ia.EJ:0;h=h?h.Ia.EJ:0;c=c.Rn&&(0!==g||0!==h);if(k&&!c)if(this.ea.oY&&0===f&&0===b)this.ba("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};k.prototype.cna=function(){var a,b;a=!0;b={};this.Sa.map(function(c){var d;d=c.O===n.u.VIDEO?"v":"a";c=c.Ys;b[d+"buflmsec"]=c.Je;b[d+"buflbytes"]=c.ga;a=a&&0<c.Je;});return{EP:a,oF:b};};k.prototype.VS=function(a,b){var c,d;c=v.time.fa();d={};g.wc(this.children,function(a){var b,g;a.zc?(a.zc.MZa=c-a.zc.WP,a.zc.WP=void 0,b=a.zc.weight):b=this.Ra.Mna(this.na.id,a.na.id);g=a.cna();d[a.na.id]={weight:b,oF:g.oF,EP:g.EP};}.bind(this));b={requestTime:c,rS:a,LYa:b,SS:this.na.id,zc:d};a||(a=this.ea.yd(),b.Mva=a-this.X+this.gc,b.iO=0,b.startTime=c);this.fp.unshift(b);return b;};k.prototype.LUa=function(a){var b,c;b=this.fp[0];b.rS&&(b.Mva=this.ca-this.X);c=a.cna();b.Hwa={};l(c.oF,b.Hwa);b.EP=a.Ys.every(function(a){return 0<a.Je;});this.fp=[];return b;};k.prototype.ln=function(a){var b;b=this.na;a-=this.gc;if(b.X<a&&a<b.ca)this.fp.shift();else if(b=this.fp[0])b.ln=!0;};k.prototype.iUa=function(){var a,b,c;a=this.Ra;b=this.ea;c=!0;g.wc(this.na.gj,function(d,g){d=a.Zi[g].za;g=b.Ca[d];g.Eb[0]&&g.Eb[1]||(c=!1);b.JP(g.M,d)||(c=!1);}.bind(this));return c;};k.prototype.reset=function(a,b,c){this.Sa.forEach(function(d){(g.R(c)||d.O===c)&&d.reset(a,b);});this.qf&&this.qf.reset(a,b,c);};h.prototype.constructor=h;h.prototype.toString=function(){return"segmentId: "+this.id+" manifestIndex: "+this.za+" pts: "+this.X+"-"+this.ca+" defaultKey: "+this.QF+" dests: "+JSON.stringify(this.gj)+" terminal: "+!!this.AC;};h.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.za,"startPts:":this.X,endPts:this.ca,defaultKey:this.QF,"dests:":this.gj,terminal:!!this.AC,beginJITPts:this.sm};};f.K=b;},function(f){function c(a,b,c){var d,h;d=[];c.forEach(function(a){d.push(a[b].ga);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],h=d.lastIndexOf(c)):(c=d[0],h=0);return{NI:c,Rf:h};}function a(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function b(a,b,c,g,f){var d,h,k,p,l,m;d=a.Wx;h=c+d.X;c=a.MJ[d.TP];a=a.eTa;k={txa:!0,waitUntil:void 0};p=c.filter(function(a){return a&&a.X<=h&&a.X+a.duration>h;})[0];l=f-1-(p.index-1);g=d.Fkb+g;m=0;m=p.index<d.Zo?m+c.slice(d.su,p.index).reduce(function(a,b){return a+b.ga;},0):m+d.Fkb;m=m+b.slice(d.Zo,p.index).reduce(function(a,b){return a+b.NI;},0);g-=m;if(l>=a.C4||g>=a.Y8)for(k.txa=!1,p=p.index;p<f&&(l>=a.C4||g>=a.Y8);)k.waitUntil=c[p].X+c[p].duration-d.X,g=p<d.Zo?g-c[p].ga:g-b[p].NI,--l,p+=1;return k;}f.K={Z4a:function(d){var f,h,q,y,w,x,C,F,P,M,t,m,p,O,W,U;h=d.Wx;f=d.Cw;for(var g=f.xt,p=d.MJ,n=!0,r,l=[],v,m=g=Math.min(f.DQ,g);m>=h.Zo;m--){r=d.MJ[0][m].X-d.Wx.X;m<g&&(r=Math.min(l[m+1].startTime,r));f=p[0][m].ga;v=h.JZ*p[0][m].duration*1/8;a:{q=void 0;C=f+v;v=d.ep;F=h.nI;P=v.trace;M=1*v.fw;y=r+F-v.timestamp;w=Math.floor(1*y/M);x=0+(y-w*M)/M*a(P,w,M);if(x>=C)q=y-1*C/x*(y-w*M);else for(y=w;x<C;){--y;if(0>y){q=-1;break a;}w=a(P,y,M);if(x+w>=C){q=1*(C-x)/w*M;q=(y+1)*M-q;break;}x+=w;}q=q+v.timestamp-F;}if(0>q){n=!1;break;}l[m]={startTime:q,endTime:r,NXa:r,NI:f,Rf:0};}f={Qw:n,QS:l,nx:0===l.length?!0:!1};if(!1===f.Qw||!0===f.nx)return f;h=d.Wx;g=d.Cw;p=g.xt;n=d.MJ;l=0;f=f.QS;m=r=0;p=Math.min(g.DQ,p);for(v=h.Zo;v<=p;v++){t=f[v];x=t.Rf;q=n[x][v].duration;F=v===h.Zo?0:f[v-1].endTime;x=b(d,f,F,l,v);x.txa||(F=x.waitUntil);P=t.NXa;y=d.ep;w=h.nI;t=0;M=y.trace;x=1*y.fw;C=Math.max(0,F+w-y.timestamp);y=P+w-y.timestamp;if(!(F>=P)){O=Math.max(0,Math.floor(1*C/x));W=1*y/x;if(O===Math.floor(W))t+=(y-C)/x*a(M,O,x);else for(W=Math.ceil(W),w=O,P=W,O*x<C&&(w+=1,t+=(O*x+x-C)/x*a(M,O,x)),W*x>y&&(--P,t+=(y-P*x)/x*a(M,P,x)),C=w;C<P;C++)t+=a(M,C,x);}M=t;t=h.JZ*q*1/8;x=c(M-t,v,n);M=x.NI;x=x.Rf;w=d.ep;P=C=0;y=w.trace;W=Math.max(0,F+h.nI-w.timestamp);w=1*w.fw;U=O=Math.max(0,Math.floor(1*W/w));for(U*w<W&&(O+=1,W=U*w+w-W,U=W/w*a(y,U,w),C=M-P<U?C+(M-P)/U*1*W:C+W,P+=U);P<M;)W=a(y,O,w),C=M-P<W?C+(M-P)/W*1*w:C+w,P+=W,O+=1;f[v].startTime=F;f[v].endTime=F+C;f[v].NI=M;f[v].Rf=x;v<=g.xt&&(l+=M,m+=q,r+=q*d.Bc[x].L);}return{Qw:!0,QS:f,xZa:0<m?1*r/m:0,AZa:m,zZa:l,wZa:t};}};},function(f,c,a){var d,k;function b(a,b,c){this.ea=a;this.T=a.T;this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.H=c;this.GM=[];this.Lj=void 0;a=c.NP;d.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(13);a(10);d=a(105);a(288);k=a(519);b.prototype=Object.create(d.prototype);b.prototype.add=function(a,b,c){this.Lj||(this.Lj=b);d.prototype.add.call(this,a,b,c);};b.prototype.s2a=function(){var a;if(0!==this.GM.length){a=[];this.GM.forEach(function(b){b&&b.Sz&&a.push(b.Lq());});return a;}};b.prototype.Be=function(){this.GM=[];};b.prototype.M4a=function(){var a,b,c;a=this.get(this.H.NP.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var f=0;f<c;f++)a[f]=b;}a={trace:a,timestamp:this.Lj,fw:this.Ob};d.prototype.reset.call(this);this.Lj=void 0;return a;};b.prototype.e1=function(a){var b,c,d,h,f,k;if(a&&!a.Sz){c=a.Cw.rpa;c&&(a.w6=this.qZ(a),a.UR=!1);if((b=this.M4a())&&b.trace&&b.trace.length){d=a.Wx.nI;h=b.timestamp;if(h>d){f=b.fw;k=b.trace[0];d=Math.ceil(1*(h-d)/f);b.timestamp=h-d*f;for(h=0;h<d;h++)b.trace.splice(0,0,k);}b.trace.length&&b.trace.pop();}a.ep=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.ETa(a),a.psa=b,c&&b&&(a.UR=b.Qw),a.Sz=!0,this.GM.push(a));}};b.prototype.ETa=function(a){return k.Z4a(a);};b.prototype.qZ=function(a){var b;a=a.Cw;b="";1E3>a.LJ&&(b+=a.Axa);1E3>a.ZY&&(b=b+(""!==b?",":"")+a.Pia);1E3<=a.LJ&&1E3<=a.ZY&&(b="media");return b;};f.K=b;},function(f,c,a){(function(){var P24,c,k,h,g,U1Z,K1Z;function b(a,b){var H24;H24=2;while(H24!==7){switch(H24){case 4:this.WQ=a.modelMap;this.p4=a.lrParams;this.P8a=a.maxBwPredictionMap;H24=8;break;case 8:this.tja=a.bwThreshold;H24=7;break;case 2:this.config=a;this.Wo=b;a=a.initThroughputPredictor;H24=4;break;}}}P24=2;while(P24!==10){U1Z="1S";U1Z+="I";U1Z+="Y";U1Z+="bZrNJCp";U1Z+="9";K1Z="I";K1Z+="T";K1Z+="E_";K1Z+="ASEJ";K1Z+="S";switch(P24){case 7:b.prototype.R3a=function(){var F24,g,a,b,c,d;F24=2;while(F24!==14){switch(F24){case 5:F24=d<c.length?4:7;break;case 2:F24=1;break;case 4:g=c[d];F24=3;break;case 1:a=this.nP(),b=void 0,c=Object.keys(this.WQ),d=0;F24=5;break;case 3:F24=a>=this.WQ[g][0]&&a<=this.WQ[g][1]?9:8;break;case 9:b=g;F24=7;break;case 8:d++;F24=5;break;case 6:return{Aqa:this.p4[b].lrWeights,yqa:this.p4[b].lrMeans,zqa:this.p4[b].lrStd,O8a:this.P8a[b]};break;case 7:F24=b?6:14;break;}}};b.prototype.ZE=function(a,b){var X24,n1Z;X24=2;while(X24!==1){n1Z="a";n1Z+="v";n1Z+="t";n1Z+="p";switch(X24){case 2:return n1Z==a?0<b?Math.log(b):null:b;break;}}};b.prototype.rna=function(){var J24,a,b,c,d1Z,f1Z,q1Z,j1Z,G1Z,l1Z,E1Z,X1Z;J24=2;while(J24!==20){d1Z="n";d1Z+="i";d1Z+="q";d1Z+="r";f1Z="f";f1Z+="n";f1Z+="s";q1Z="a";q1Z+="v";q1Z+="tp";j1Z="f";j1Z+="n";j1Z+="s";G1Z="a";G1Z+="v";G1Z+="t";G1Z+="p";l1Z="l";l1Z+="n";l1Z+="s";E1Z="a";E1Z+="v";E1Z+="t";E1Z+="p";X1Z="e";X1Z+="n";X1Z+="s";switch(J24){case 2:a=new g(100);b={};[{aJ:X1Z,ip:E1Z},{aJ:l1Z,ip:G1Z},{aJ:j1Z,ip:q1Z},{aJ:f1Z,ip:d1Z}].forEach(function(c){var G29=q011;var U24,d,g,P1Z,v1Z,w1Z,I1Z,F1Z,k1Z,z1Z,g1Z,p1Z,o1Z,D1Z,L1Z,Z1Z,s1Z,r1Z,m1Z,u1Z;U24=2;while(U24!==17){P1Z="l";P1Z+="a";P1Z+="s";P1Z+="t";v1Z="s";v1Z+="t";v1Z+="d";w1Z="m";w1Z+="e";w1Z+="an";I1Z="s";I1Z+="t";I1Z+="d";F1Z="m";F1Z+="e";F1Z+="a";F1Z+="n";k1Z="m";k1Z+="e";k1Z+="a";k1Z+="n";z1Z="s";z1Z+="t";z1Z+="d";g1Z="p";g1Z+="5";g1Z+="0";p1Z="p";p1Z+="2";p1Z+="5";o1Z="p";o1Z+="7";o1Z+="5";D1Z="p";D1Z+="5";D1Z+="0";L1Z="n";L1Z+="i";L1Z+="q";L1Z+="r";Z1Z="s";Z1Z+="t";Z1Z+="d";s1Z="m";s1Z+="e";s1Z+="a";s1Z+="n";r1Z="p";r1Z+="7";r1Z+="5";m1Z="p";m1Z+="5";m1Z+="0";u1Z="p";u1Z+="2";u1Z+="5";switch(U24){case 1:d=0;U24=5;break;case 8:d=a.TA();g=c.aJ+"-"+c.ip+"-";G29.T1Z(0);b[G29.H1Z(g,u1Z)]=this.ZE(c.ip,a.dt(25));G29.e1Z(0);b[G29.W1Z(g,m1Z)]=this.ZE(c.ip,a.dt(50));G29.T1Z(0);b[G29.W1Z(g,r1Z)]=this.ZE(c.ip,a.dt(75));G29.T1Z(0);b[G29.H1Z(g,s1Z)]=this.ZE(c.ip,a.Bja());U24=11;break;case 2:U24=1;break;case 4:g=this.Wo[d].get()[c.aJ][c.ip];g&&a.iZ(Number(g));U24=9;break;case 5:U24=d<this.Wo.length?4:8;break;case 9:d++;U24=5;break;case 11:G29.e1Z(0);b[G29.W1Z(g,Z1Z)]=a.PTa();G29.T1Z(0);b[G29.H1Z(g,L1Z)]=0<b[g+D1Z]?(b[g+o1Z]-b[g+p1Z])/b[g+g1Z]:0;G29.T1Z(0);b[G29.H1Z(g,"b")]=0<b[g+z1Z]||0<b[g+k1Z]?(b[g+F1Z]-b[g+I1Z])/(b[g+w1Z]+b[g+v1Z]):0;U24=19;break;case 19:G29.T1Z(0);b[G29.H1Z(g,P1Z)]=this.ZE(c.ip,a.Fl[d-1]);a.Fl=[];U24=17;break;}}},this);J24=3;break;case 3:c=this.Wo.length;b.igb=c;b.Bzb=this.Wo[c-1].get().Twb;J24=7;break;case 7:b.Ocb=this.Wo[c-1].get().t;c=this.po();b.Qka=c.Qka;b.m0=c.m0;J24=12;break;case 12:b.qBb=b.m0-b.Ocb;b.kxb=1;return b;break;}}};P24=13;break;case 2:c=a(8);k=a(10);h=new k.Console(K1Z);g=a(195);b.prototype.po=function(){var y24,a;y24=2;while(y24!==4){switch(y24){case 2:a=k.time.now();return{Qka:new Date(a).getHours(),m0:a};break;}}};b.prototype.nP=function(){var B24,a,b;B24=2;while(B24!==7){switch(B24){case 2:B24=1>this.Wo.length?1:5;break;case 1:return 0;break;case 5:a=0,b=0;B24=4;break;case 4:B24=b<this.Wo.length?3:8;break;case 9:b++;B24=4;break;case 3:a+=this.Wo[b].get().qvb.ktb;B24=9;break;case 8:return a/this.Wo.length;break;}}};P24=7;break;case 13:b.prototype.qna=function(){var s24,b,d,g,f,A1Z;s24=2;function a(a,b){var h24,c;h24=2;while(h24!==4){switch(h24){case 2:c=Object.keys(a).map(function(b){var u24;u24=2;while(u24!==1){switch(u24){case 2:return a[b];break;case 4:return a[b];break;u24=1;break;}}});return Object.keys(a).some(function(c){var Q24;Q24=2;while(Q24!==1){switch(Q24){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var C24;C24=2;while(C24!==1){switch(C24){case 4:return a<=b?a:b;break;C24=1;break;case 2:return a>b?a:b;break;}}});break;}}}while(s24!==11){A1Z="get";A1Z+="P";A1Z+="a";A1Z+="rams";A1Z+=":";switch(s24){case 2:s24=1;break;case 1:s24=2>this.Wo.length||this.nP()>this.tja||0>this.nP()||a(this.WQ,this.tja)?5:4;break;case 5:return 0;break;case 4:b=this.R3a();s24=3;break;case 3:s24=c.R(b)?9:8;break;case 9:return 0;break;case 8:0&h.log(A1Z,JSON.stringify(b));d=this.rna();g=0;f=!Object.keys(d).some(function(a){var b24,c1Z;b24=2;while(b24!==4){c1Z="n";c1Z+="um";c1Z+="be";c1Z+="r";switch(b24){case 1:g+=(d[a]-b.yqa[a])/b.zqa[a]*b.Aqa[a];b24=4;break;case 2:b24=b.Aqa.hasOwnProperty(a)&&b.yqa.hasOwnProperty(a)&&b.zqa.hasOwnProperty(a)&&c1Z==typeof d[a]?1:5;break;case 5:return!0;break;}}});g=Math.exp(g);return 0<g&&g<=b.O8a&&f&&1<d.igb?g:0;break;}}};P24=12;break;case 12:f.K=b;U1Z;P24=10;break;}}}());},function(f,c,a){var b,d;b=a(184);d=a(183);f.K=function(a){var r;for(var c=[],g=a.length,f=0;f<g;f++){c[f]=[0,0];for(var k=0;k<g;k++){r=d.j1(f*k,g);r=b.multiply([a[k],0],r);c[f]=b.add(c[f],r);}}return c;};},function(f,c,a){var b;b=a(185).p1;f.K={Goa:function(a){for(var c=[],d=0;d<a.length;d++)c[d]=[a[d][1],a[d][0]];a=b(c);c=[];for(d=0;d<a.length;d++)c[d]=[a[d][1]/a.length,a[d][0]/a.length];return c;}};},function(f,c){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";c.fDa=32;c.Tnb=2147483647;c.Unb=-2147483648;c.sign=function(a){return(0<a)-(0>a);};c.abs=function(a){var b;b=a>>31;return(a^b)-b;};c.min=function(a,b){return b^(a^b)&-(a<b);};c.max=function(a,b){return a^(a^b)&-(a<b);};c.zxb=function(a){return!(a&a-1)&&!!a;};c.log2=function(a){var b,c;b=(65535<a)<<4;a>>>=b;c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1;};c.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};c.qzb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};c.oVa=a;c.Eyb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};c.Czb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};c.Zyb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var c=b,d=b,f=7,c=c>>>1;c;c>>>=1)d<<=1,d|=c&1,--f;a[b]=d<<f&255;}}(b));c.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};c.lxb=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};c.Wub=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};c.mxb=function(a,b,c){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((c|c<<2)&1227133513)<<2;};c.Xub=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};c.Dyb=function(b){var c;c=b|b-1;return c+1|(~c&-~c)-1>>>a(b)+1;};},function(f,c,a){f.K={p1:a(185).p1,Goa:a(523).Goa,pma:a(185).pma,JJ:a(183),iZa:a(522)};},function(f,c,a){(function(){var i1Z,c,k,h,d1s;i1Z=2;function b(a){var t1Z;t1Z=2;while(t1Z!==1){switch(t1Z){case 2:this.console=a;t1Z=1;break;case 4:this.console=a;t1Z=8;break;t1Z=1;break;}}}while(i1Z!==13){d1s="1SIYbZr";d1s+="N";d1s+="J";d1s+="C";d1s+="p9";switch(i1Z){case 2:c=a(525).iZa;i1Z=5;break;case 9:b.prototype.jdb=function(a,b,d,h){var M1Z,g,f,p,n;M1Z=2;while(M1Z!==13){switch(M1Z){case 9:M1Z=n<g.length?8:6;break;case 2:g=c(a);g=g.map(function(a){var S29=q011;var R1Z,V1Z,a1Z;R1Z=2;while(R1Z!==1){switch(R1Z){case 2:S29.y1s(0);V1Z=S29.s1s(3,22,10,95);S29.S1s(0);a1Z=S29.s1s(4,13,2,9);return(Math.pow(a[0],V1Z)+Math.pow(a[1],a1Z))/g.length;break;}}});a=[];M1Z=3;break;case 7:n+=b;M1Z=9;break;case 6:a=a.splice(0,a.length-1).map(function(a){var E29=q011;var O1Z;O1Z=2;while(O1Z!==1){switch(O1Z){case 4:E29.y1s(1);return E29.n1s(a,p,d);break;O1Z=1;break;case 2:E29.S1s(2);return E29.n1s(p,d,a);break;}}});return a.splice(0,h);break;case 8:a[f]=k(g.slice(n,n+b)),p+=a[f],f+=1;M1Z=7;break;case 3:f=0,p=0,n=0;M1Z=9;break;}}};b.prototype.FTa=function(a,b,c,d,h,f,k){var x1Z;x1Z=2;while(x1Z!==7){switch(x1Z){case 1:x1Z=void 0!==b&&(a=this.jdb(a,c,f,d),a=a.map(function(a){var B1Z;B1Z=2;while(B1Z!==5){switch(B1Z){case 2:a+=k;return Math.log(a);break;case 3:a/=k;return Math.log(a);break;B1Z=5;break;}}}),c=[1].concat(a).concat(b),c.length===h.length)?5:7;break;case 3:d+=c[f]*h[f];x1Z=9;break;case 2:b=this.CTa(a,b,k);x1Z=1;break;case 5:f=d=0;x1Z=4;break;case 9:f++;x1Z=4;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),co:b,z:a};break;case 4:x1Z=f<c.length?3:8;break;}}};b.prototype.Y5=function(a,b,c,d,h,f,k,l){var b1Z;b1Z=2;while(b1Z!==5){switch(b1Z){case 2:b=(a=this.FTa(a,b,c,d,h,k,l))?a.p:void 0;return{p:b?b:-1,co:a?a.co:-1,r:b?b<=f?1:0:-1,z:a?a.z:void 0};break;}}};f.K={rIa:b};d1s;i1Z=13;break;case 5:k=a(31).D4a;h=a(31).x4a;b.prototype.CTa=function(a,b,c){var N1Z,d;N1Z=2;while(N1Z!==3){switch(N1Z){case 2:N1Z=1;break;case 1:d=function(a){var J1Z,b;J1Z=2;while(J1Z!==9){switch(J1Z){case 2:b=[];a.reduce(function(a,c){var S1Z;S1Z=2;while(S1Z!==4){switch(S1Z){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();return b;break;}}}(a.map(function(a){var Q1Z;Q1Z=2;while(Q1Z!==1){switch(Q1Z){case 2:return a>=b?1:0;break;case 4:return a<b?4:7;break;Q1Z=1;break;}}}));N1Z=5;break;case 6:N1Z=1==d.length?8:1;break;N1Z=0!==d.length?4:3;break;case 5:N1Z=0!==d.length?4:3;break;case 4:return a=k(d)/d.length,d=h(d),(d-a)/(d+a+c);break;}}};i1Z=9;break;}}}());},function(f,c,a){(function(){var X1s,c,k,h,b89,H89;X1s=2;while(X1s!==10){b89="1S";b89+="IYbZrNJCp";b89+="9";H89="PSD_AS";H89+="EJ";H89+="S";switch(X1s){case 3:b.prototype=Object.create(k.prototype);b.prototype.shift=function(){var h1s;h1s=2;while(h1s!==1){switch(h1s){case 2:k.prototype.shift.call(this);h1s=1;break;case 4:k.prototype.shift.call(this);h1s=9;break;h1s=1;break;}}};X1s=8;break;case 2:c=new(a(10)).Console(H89);k=a(105);h=new(a(526)).rIa(c);X1s=3;break;case 8:b.prototype.B2=function(){var j1s;j1s=2;while(j1s!==1){switch(j1s){case 2:return this.get(this.config.pg.fillS,this.config.pg.fillHl);break;}}};b.prototype.c4a=function(){var g1s,a;g1s=2;while(g1s!==9){switch(g1s){case 4:g1s=a.length===this.config.pg.numB?3:9;break;case 2:a=this.B2();this.config.XF&&a.splice(a.length-this.config.XF);g1s=4;break;case 3:return h.Y5(a,this.cTa,this.G1a,this.Z$a,this.beta,this.lwa,this.ijb,this.jjb);break;}}};b.prototype.stop=function(a){var K1s;K1s=2;while(K1s!==1){switch(K1s){case 2:k.prototype.stop.call(this,a);K1s=1;break;}}};b.prototype.reset=function(){var x1s;x1s=2;while(x1s!==1){switch(x1s){case 2:k.prototype.reset.call(this);x1s=1;break;case 4:k.prototype.reset.call(this);x1s=6;break;x1s=1;break;}}};X1s=13;break;case 13:b.prototype.toString=function(){var l1s,Q89;l1s=2;while(l1s!==1){Q89="p";Q89+="s";Q89+="d";Q89+="(";switch(l1s){case 4:return")"/this.Ob-")";break;l1s=1;break;case 2:return Q89+this.Ob+")";break;}}};f.K=b;b89;X1s=10;break;}}function b(a,b,c){var D1s;D1s=2;while(D1s!==14){switch(D1s){case 9:this.beta=c.pg.beta;this.lwa=c.pg.thresh;this.ijb=c.pg.tol;this.jjb=c.pg.tol2;D1s=14;break;case 2:q011.e89(0);k.call(this,q011.n89(a,b),b);this.config=c;this.cTa=c.pg.bthresh;this.G1a=c.pg.freqave;this.Z$a=c.pg.numfreq;D1s=9;break;}}}}());},function(f,c,a){(function(){var v89,c,k,h,g,p,n,r,o58;function b(a,b,c,d,g,f){var i89,k,l,u,M89,O39;i89=2;while(i89!==26){switch(i89){case 6:this.ya=this.T.log.bind(this.T);this.fE=null;q011.n58(1);O39=q011.R58(13,14,333333,20,666620);this.Dga=0===Math.floor(O39*Math.random())%d.YZ;i89=12;break;case 8:this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);i89=6;break;case 2:this.H=d;this.ea=a;this.sb=c;this.T=a.T;this.Tb=this.T.error.bind(this.T);i89=8;break;case 20:c&&(k=(c.uh-c.th)/c.ng);this.SPa=[d.Xia,d.Xx];g=d.SH?n.Uc.vn:n.Uc.Ur;b&&b.bc>=g&&b.ja&&this.RMa(b,c,k);i89=16;break;case 15:try{M89=2;while(M89!==3){switch(M89){case 2:l=a.$j();u=new r(a,{bufferSize:l},d);M89=5;break;case 5:a.Wh.SQa(u);this.OR=u;M89=3;break;}}}catch(P){var d58;d58="Hindsi";d58+="ght: Error when creating QoEEv";d58+="aluator: ";q011.n58(0);a.Ko(q011.R58(P,d58));}i89=27;break;case 12:this.wPa();this.FE=h(d,g);c=this.pga(b);i89=20;break;case 16:i89=a.$k?15:27;break;case 27:d.gG&&f&&1<f.length&&(this.XG=new p(d,f),this.UP=this.XG.qna());i89=26;break;}}}v89=2;while(v89!==28){o58="1SIYb";o58+="Z";o58+="rNJ";o58+="Cp9";switch(v89){case 23:b.prototype.Cab=function(a){var j89;j89=2;while(j89!==1){switch(j89){case 2:this.pg&&this.pg.stop(a);j89=1;break;}}};b.prototype.esa=function(a,b,c){var u89;u89=2;while(u89!==1){switch(u89){case 2:this.pg&&this.pg.add(a,b,c);u89=1;break;}}};b.prototype.Oab=function(a){var l39;l39=2;while(l39!==5){switch(l39){case 2:this.H.Fq&&a.bC&&this.bC.push(a.bC);this.n4=a.n4;l39=5;break;}}};b.prototype.BPa=function(){var V39,a;V39=2;while(V39!==4){switch(V39){case 2:a=this.H;a.CO&&(this.IE&&clearInterval(this.IE),this.gu=void 0,this.uha=0,this.pg=new g(a.pg.numB+a.XF,a.pg.bSizeMs,a),this.IE=setInterval(function(){var I39,b,c,d,g;I39=2;while(I39!==12){switch(I39){case 8:this.gu={t:k.time.fa(),p:Number(c).toFixed(2)/1,co:Number(d).toFixed(2)/1,ttb:this.ea.oo(n.u.VIDEO),z:b.z};I39=7;break;case 2:b=this.pg.c4a();I39=5;break;case 4:c=b.p;d=b.co;g=b.r;I39=8;break;case 5:I39=b?4:12;break;case 7:I39=g?6:13;break;case 13:a.l6&&(this.mr=!1);I39=12;break;case 6:I39=(b=this.sb.get(!0),0===a.vI||0<a.vI&&b.ja.sa<a.vI)?14:12;break;case 14:this.mr||this.uha++,this.mr=!0;I39=12;break;}}}.bind(this),a.k6));V39=4;break;}}};b.prototype.lUa=function(a){var o39,b,c,d,g,h,y58,A58;o39=2;while(o39!==7){y58="i";y58+="q";y58+="r";A58="no";A58+="n";A58+="e";switch(o39){case 2:b=this.H;o39=5;break;case 5:o39=A58!==b.xu&&!0!==this.Mm&&a.state<=b.E4?4:7;break;case 4:c=this.sb.get();y58===b.xu&&(d=this.pga(c))&&(g=(d.uh-d.th)/d.ng);h=b.SH?n.Uc.vn:n.Uc.Ur;c&&c.bc>=h&&this.KX(b.xu,c,d,g)&&(this.Mm=!0,this.ho=a.state);o39=7;break;}}};b.prototype.eRa=function(a){var R39;R39=2;while(R39!==3){switch(R39){case 4:a.gu=this.gu;R39=3;break;case 14:a.gu=this.gu;R39=0;break;R39=3;break;case 2:a.Mm=this.Mm;a.mr=this.mr;a.UP=this.UP;R39=4;break;}}};b.prototype.V0a=function(a){var y39,b,d,g,h,f,k,p,s58,p58;y39=2;while(y39!==23){s58="s";s58+="tar";s58+="tp";s58+="l";s58+="ay";p58="lo";p58+="g";p58+="d";p58+="a";p58+="ta";switch(y39){case 2:b=this.H;d=this.ea;y39=4;break;case 4:g={type:p58,target:s58,fields:{}};h=g.fields;Object.keys(a).forEach(function(b){var t39;t39=2;while(t39!==1){switch(t39){case 2:h[b]=a[b];t39=1;break;case 4:h[b]=a[b];t39=8;break;t39=1;break;}}});f=this.sb.get();f&&f.ja&&(f=f.ja.sa);y39=6;break;case 6:h.actualbw=f;h.isConserv=this.Mm;h.ccs=this.ho;h.isLowEnd=this.eQ;y39=11;break;case 11:h.histdiscbw=this.Tl;k=this.OP;y39=20;break;case 15:h.histtd=f;y39=27;break;case 20:y39=k?19:27;break;case 19:p=function(a){var a39;a39=2;while(a39!==1){switch(a39){case 2:return c.aa(a)?Number(a).toFixed(2):-1;break;}}};y39=18;break;case 18:f=[p(k.min||void 0),p(k.dI||void 0),p(k.th||void 0),p(k.ng||void 0),p(k.uh||void 0),p(k.eI||void 0),p(k.max||void 0)];k=c.isArray(k.Jf)&&k.Jf.reduce(function(a,b){var K39,c;K39=2;while(K39!==9){switch(K39){case 2:c=p(b.Zd||void 0);b=p(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});K39=3;break;case 3:return a;break;}}},[]);h.histtdc=k;y39=15;break;case 27:h.histage=this.xoa;b.gG&&this.XG&&(h.histsessionstat=this.XG.rna(),h.initbwestimate=this.XG.qna(),h.avghistbw=this.XG.nP());d.Ra&&(b=d.$j(),h.maxAudioBufferAllowedBytes=b[n.u.AUDIO],h.maxVideoBufferAllowedBytes=b[n.u.VIDEO]);d.emit(g.type,g);y39=23;break;}}};v89=31;break;case 6:Object.defineProperties(b.prototype,{Vhb:{get:function(){var k89;k89=2;while(k89!==1){switch(k89){case 2:return this.SPa;break;case 4:return this.SPa;break;k89=1;break;}}}}});b.prototype.wPa=function(){var d89;d89=2;while(d89!==5){switch(d89){case 2:this.Tl=this.OP=this.xoa=this.ho=this.Mm=void 0;this.n4=this.o8=this.MS=this.NS=this.n8=this.mR=this.nR=0;d89=5;break;}}};b.prototype.rva=function(a,b,d){var C89;C89=2;while(C89!==4){switch(C89){case 2:this.Tl=a;c.R(b)||(this.xoa=b);c.R(d)||(this.OP=d);C89=4;break;}}};b.prototype.KX=function(a,b,d,g){var F89,h,B58,i58;F89=2;while(F89!==7){B58="a";B58+="v";B58+="g";i58="i";i58+="q";i58+="r";switch(F89){case 5:F89=a===i58?4:3;break;case 2:h=this.H;F89=5;break;case 4:return b.ja&&d&&c.aa(g)&&b.ja.sa<h.CF&&g>h.lV;break;case 3:F89=a===B58?9:8;break;case 9:return b.ja?b.ja.sa<h.CF:!0;break;case 8:return!1;break;}}};b.prototype.pga=function(a){var G89,x89,V58;G89=2;while(G89!==4){V58="t";V58+="di";V58+="g";V58+="e";V58+="st";switch(G89){case 1:a=a.tk;G89=5;break;case 5:return a;break;case 2:x89=this.H.T2;G89=x89===V58?1:3;break;case 9:a=a.kj&&a.kj.Wm;G89=5;break;case 3:G89=9;break;}}};v89=10;break;case 2:c=a(8);k=a(10);v89=4;break;case 4:h=a(305);g=a(527);p=a(521);n=a(13);r=a(520);v89=6;break;case 10:b.prototype.RMa=function(a,b,c){var U89,d;U89=2;while(U89!==9){switch(U89){case 2:d=this.H;this.KX(d.xu,a,b,c)?this.Mm=!0:this.Mm=!1;this.ho=0;this.KX(d.g4,a,b,c)&&(this.eQ=!0);U89=9;break;}}};b.prototype.Z3a=function(a){var B89;B89=2;while(B89!==1){switch(B89){case 2:return a===n.u.VIDEO?this.FE.hta:this.FE.gta;break;}}};b.prototype.lC=function(a){var q89;q89=2;while(q89!==5){switch(q89){case 2:this.FE.lC(a);this.fE=a;q89=5;break;}}};b.prototype.Dja=function(a,b){var N89;N89=2;while(N89!==1){switch(N89){case 2:this.FE.oAb&&a&&this.FE.Dja(b,a);N89=1;break;}}};v89=17;break;case 31:b.prototype.W0a=function(a){var S39,b,c,d,g,h,f,k,H58;S39=2;while(S39!==19){H58="n";H58+="o";H58+="n";H58+="e";switch(S39){case 2:b=this.H;c=this.ea;d=this.sb.get(!0);S39=3;break;case 3:g=[];[n.u.VIDEO,n.u.AUDIO].forEach(function(a){var A39,h;A39=2;while(A39!==9){switch(A39){case 1:A39=c.gB(a)?5:9;break;case 2:A39=1;break;case 5:h=this.ea.B4a(a);a===n.u.VIDEO&&(b.yA&&(h.parallelDownloadMs=this.nR,h.parallelDownloadBytes=this.mR,h.singleDownloadMs=this.NS,h.singleDownloadBytes=this.MS,h.switchFromParallelToSingle=this.n8,h.switchFromSingleToParallel=this.o8),d&&d.bc&&d.ja&&(h.asetput=d.ja,h.aseiqr=d.kj,h.tdigest=d.tk&&d.tk.Lq()||void 0),d&&d.avtp&&(h.avtp=d.avtp.sa));g.push(h);A39=9;break;}}}.bind(this));S39=8;break;case 8:a.stat=g;h=0;f=0;k=0;d.bc&&(h=d.ja?d.ja.sa:0,f=d.Le?d.Le.sa:0,k=d.Im?d.Im.sa:0);a.location={responseTime:f,httpResponseTime:k,bandwidth:h,confidence:d.bc,name:this.Mkb};S39=11;break;case 11:this.Dga&&(a.bt={startTime:this.ki.startTime,ao:this.ki.ao,jp:this.ki.jp},this.ki.ao=[],this.ki.jp=[],this.ki.J3=this.ki.G3);b.CO&&(a.psdConservCount=this.uha);H58!==b.xu&&(a.isConserv=this.Mm,a.ccs=this.ho);S39=19;break;}}};f.K=b;o58;v89=28;break;case 17:b.prototype.KQa=function(a,b,c,d,g,h){var J89,f;J89=2;while(J89!==4){switch(J89){case 2:f=this.H;c&&d&&(c=h?Math.min(c,d,h):Math.min(c,d))&&(this.sb.get(!1),a=this.ea.oo(a),b.eB()&&a>f.DN&&c===g?(b.Rta({connections:1,openRange:!0}),this.n8++):f.Xm&&!b.eB()&&(a<f.XZ||c!==g)&&(b.Rta({connections:f.yH,openRange:!1}),this.o8++));J89=4;break;}}};b.prototype.NQa=function(a,b){var r89,c,d,g;r89=2;while(r89!==13){switch(r89){case 14:this.ki.G3=c;r89=13;break;case 4:void 0===this.ki&&(this.ki={startTime:k.time.fa(),ao:[],jp:[],J3:void 0,G3:void 0});c=Math.floor((k.time.fa()-this.ki.startTime)/c.Yz);d=this.ki.G3;g=this.ki.J3?c-this.ki.J3-1:c;r89=7;break;case 7:r89=void 0===d||c>d?6:14;break;case 5:r89=this.Dga?4:13;break;case 2:c=this.H;r89=5;break;case 6:this.ki.ao[g]=a,this.ki.jp[g]=b;r89=14;break;}}};b.prototype.Dab=function(){var m89,a;m89=2;while(m89!==3){switch(m89){case 2:a=this.H;this.BPa();a.Fq&&(this.bC=[],this.aC=a.aC);m89=3;break;}}};b.prototype.sab=function(){var g89,P89,a;g89=2;while(g89!==9){switch(g89){case 4:g89=a.$k?3:9;break;case 3:try{P89=2;while(P89!==5){switch(P89){case 2:a.Ra.sb.qeb();this.OR.Be();P89=5;break;}}}catch(v){var F58;F58="Hinds";F58+="igh";F58+="t: Error duri";F58+="ng clean up: ";q011.n58(0);a.Ko(q011.r58(v,F58));}g89=9;break;case 2:a=this.ea;this.IE&&(clearInterval(this.IE),delete this.IE);g89=4;break;}}};b.prototype.Eab=function(a){var W89;W89=2;while(W89!==1){switch(W89){case 2:this.H.yA&&a===n.u.VIDEO&&(this.o8=this.n8=this.MS=this.NS=this.mR=this.nR=0);W89=1;break;}}};b.prototype.Jab=function(a,b,c,d){var c89;c89=2;while(c89!==1){switch(c89){case 2:this.H.yA&&a===n.u.VIDEO&&(d?(this.nR+=b,this.mR+=c):(this.NS+=b,this.MS+=c));c89=1;break;}}};b.prototype.Bab=function(a,b){var Y89;Y89=2;while(Y89!==1){switch(Y89){case 2:a===n.u.VIDEO&&(this.Mkb=b);Y89=1;break;}}};v89=23;break;}}}());},function(f,c,a){(function(){var v58,k,h,g,p,n,r,l,m,q,z,y,w,x,C,F,P,M,t,O,W,U,Y,X,N,G,A,V,P9o;function c(a){var M58;M58=2;while(M58!==1){switch(M58){case 2:return a===h.wa.Mr||a===h.wa.hs;break;}}}function b(a,b,c,d,g,f,k,r,u){var K58,m,s8o,B8o,U8o,h8o,P8o,g8o;K58=2;while(K58!==67){s8o="me";s8o+="d";s8o+="iacache";B8o="in";B8o+="a";B8o+="ct";B8o+="ive";U8o="m";U8o+="edia|as";U8o+="ejs";h8o="A";h8o+="SE";h8o+="JS";P8o="m";P8o+="ana";P8o+="ge";P8o+="rdebugevent";g8o="SideChannel";g8o+=": pb";g8o+="cid is missi";g8o+="ng.";switch(K58){case 52:u.ko&&(f&&f.tR?(f.dTa=u.ZK.lv,f.h9a=u.ZK.mx,this.Nn=new C(f.tR,f,this)):this.Ko(g8o));a=Math.floor(1E6*Math.random());this.$k=0===a%u.S2;f&&f.kf&&(this.$k=!1);this.Y0=this.$k&&0===a%u.R2;this.Xj=0===a%u.Uz;K58=46;break;case 12:this.H=u=this.dLa(b,u);this.oY=g.lcb;this.Ui=g.yi;K58=20;break;case 37:K58=u.xe&&this.Ra.Dc?36:54;break;case 54:K58=(u.lxa||u.ly)&&this.Ra.Dc?53:52;break;case 27:g.VBb?this.pi[h.u.AUDIO]=!1:g.gtb&&(this.pi[h.u.VIDEO]=!1);this.Hv=void 0;this.iMa=M.time.fa()+g.Avb;K58=24;break;case 31:this.XW=k;this.Nv=!1;this.ws=c;K58=28;break;case 28:this.BL=this.tE=void 0;this.$ga=0;this.tM=-1;K58=42;break;case 46:this.Pe=[Object.create(null),Object.create(null)];this.af=[];K58=65;break;case 77:c.Gwb=!0;this.Ca=[c];K58=75;break;case 34:this.UM=d||0;this.Mp=b;this.Ec=0;K58=31;break;case 71:this.Gb.addListener(function(a){var D58,f58;D58=2;while(D58!==1){switch(D58){case 2:try{f58=2;while(f58!==1){switch(f58){case 2:m.Wa.akb.bind(m.Wa)(a);f58=1;break;}}}catch(Lc){var F8o;F8o="Hin";F8o+="dsight: Error w";F8o+="hen adding updatePlaySegm";F8o+="ent Listener: ";q011.Q8o(0);m.Ko(q011.w8o(Lc,F8o));}D58=1;break;}}});K58=70;break;case 14:K58=void 0===this.zz||void 0===this.zz.yd?13:12;break;case 72:m=this;K58=71;break;case 65:f=this.Hfa(b,this.Ui).oe.Ie[0].qa;a=null;u.hG&&(a=this.Ra.xr.Os);u.DO&&(this.$M=new l(u.hba.c,u.hba.maxc));this.yM=[0,0];K58=60;break;case 13:this.zz={path:f.Yb,yd:f.yd,m2:f.m2};K58=12;break;case 36:this.Hf.on(this.Ra.Dc,P8o,function(a){var b58;b58=2;while(b58!==1){switch(b58){case 4:V(this,a.type,a);b58=5;break;b58=1;break;case 2:V(this,a.type,a);b58=1;break;}}}.bind(this));K58=54;break;case 18:this.mQa=g.AT;this.rz=g.y8a;this.yz=g.yR;this.pi=[!0,!0];K58=27;break;case 2:this.T=new M.Console(h8o,U8o,"("+f.sessionId+")");this.Tb=this.T.error.bind(this.T);this.ba=this.T.warn.bind(this.T);this.Vb=this.T.trace.bind(this.T);this.ya=this.T.log.bind(this.T);this.Ra=a;K58=7;break;case 69:this.Eha=new x(this,u);K58=68;break;case 68:N.call(this);K58=67;break;case 70:K58=(this.Xj=0===Math.floor(1E6*Math.random())%u.Uz)?69:68;break;case 7:this.Ej=f;this.zz=r;K58=14;break;case 58:this.Rga=this.Cc.Cab.bind(this.Cc);this.Wh.addEventListener(B8o,this.Rga);c=this.jX(this.El,b,0,g.ca,c);c.yi=g.yi;K58=77;break;case 75:this.la=new z(this,this.Cc,b.choiceMap,this.UM,u);this.Wa=new w(this.Ra,this,u);K58=73;break;case 24:this.Gb=new A(h.wa.Ag);this.ki=void 0;this.UY=f.ia;K58=21;break;case 21:this.El=1*b.movieId;this.bg=b.duration;K58=34;break;case 73:K58=this.$k?72:70;break;case 60:c=this.EM(b,0,c,g.yi);this.Cc=new q(this,f,this.Ra.sb,u,this.Mqa(),a);K58=58;break;case 20:this.zfa=g.MN;this.lQa=g.OC;K58=18;break;case 53:this.Hf.on(this.Ra.Dc,s8o,function(a){var J58,X8o;J58=2;while(J58!==1){X8o="me";X8o+="di";X8o+="aca";X8o+="che";switch(J58){case 4:V(this,"",a);J58=8;break;J58=1;break;case 2:V(this,X8o,a);J58=1;break;}}}.bind(this));K58=52;break;case 42:this.UX=Object.create(null);this.on=this.addEventListener=p.addEventListener;this.removeEventListener=p.removeEventListener;this.emit=this.Ea=p.Ea;this.Hf=new n();K58=37;break;}}}v58=2;while(v58!==211){P9o="1SIYb";P9o+="ZrNJCp";P9o+="9";switch(v58){case 2:k=a(8);a(20);h=a(13);g=a(24);p=g.EventEmitter;n=g.eD;r=a(66);l=a(194).TDigest;a(69);m=a(291);q=a(528);z=a(518);y=a(514);w=a(513);x=a(512);C=a(510);F=a(302);P=a(509);M=a(10);t=M.uy;O=M.Ua;W=M.Promise;v58=24;break;case 52:b.prototype.x2a=function(a){var g68;g68=2;while(g68!==5){switch(g68){case 1:return{gc:a.gc,Oa:a.Oa,pc:a.pc,Lg:a.Lg,xi:a.xi};break;case 2:g68=(a=this.la.Ii.children[a])?1:5;break;}}};b.prototype.Hna=function(){var S68,a;S68=2;while(S68!==4){switch(S68){case 2:a=this.la.Ii;return{id:a.na.id,gc:a.gc,Oa:a.Oa,pc:a.pc,Lg:a.Lg,xi:a.xi};break;}}};b.prototype.O8=function(a,b){var R68;R68=2;while(R68!==1){switch(R68){case 4:return this.la.O8(a,b);break;R68=1;break;case 2:return this.la.O8(a,b);break;}}};b.prototype.dLa=function(a,b){var r68,S2o,f8o,O8o,l8o,C8o,I8o,M8o,L8o;r68=2;while(r68!==8){S2o="usin";S2o+="g sab cell >= 100, p";S2o+="ipelineEnabled: ";f8o="us";f8o+="ing sab ";f8o+="cell ";f8o+=">= 200, pipelineEna";f8o+="bled: ";O8o=", allo";O8o+="wSwit";O8o+="c";O8o+="h";O8o+="back";l8o=",";l8o+=" probeDetailDenomin";l8o+="ato";l8o+="r: ";C8o="using sab cell ";C8o+=">= 300, ";C8o+="probeServerWhenError: ";I8o=", allowSw";I8o+="itch";I8o+="bac";I8o+="k";M8o=", pro";M8o+="beDetail";M8o+="D";M8o+="enominator: ";L8o="using sab cell >= 40";L8o+="0, probeSer";L8o+="ve";L8o+="rWhenError";L8o+=": ";switch(r68){case 5:r68=!a?4:3;break;case 2:b=F(b,a);a=a.cdnResponseData;r68=5;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.cn=!0,b.Gx=1,b.gq=!0),this.Vb(L8o+b.cn+M8o+b.Gx+I8o+b.gq)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.cn=!0,b.Gx=1,b.gq=!1),this.Vb(C8o+b.cn+l8o+b.Gx+O8o+b.gq)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.Xm=!1,this.Vb(f8o+b.Xm)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.zQ}),b.set({maxPendingBufferLen:b.HQ})):(b.Xm=!0,b.yH=1,b.vH=b.zQ,b.vB=b.HQ),this.Vb(S2o+b.Xm)));return b;break;case 4:return b;break;}}};b.prototype.fLa=function(a,b){var T68,d,g;T68=2;while(T68!==8){switch(T68){case 5:return b;break;case 2:T68=1;break;case 4:this.XMa=a;for(var c in b.S_)if(new RegExp(c).test(a)){d=b.S_[c];for(g in d){d.hasOwnProperty(g)&&(b[g]=d[g]);}}return b;break;case 1:T68=!b.S_||a===this.XMa?5:4;break;}}};b.prototype.jX=function(a,b,c,d,g,h){var n68,f,k,p,r,D2o,b2o,c2o;n68=2;while(n68!==9){D2o="netwo";D2o+="rkFailureRese";D2o+="t";b2o="streamingF";b2o+="ail";b2o+="ure";c2o="l";c2o+="og";c2o+="data";switch(n68){case 2:f=this.H;h?(r=this.Ca[this.Ca.length-1],k=r.Q3,p=r.Pm,r=r.DA,p.qN(b)):(k=new n(),p=this.Hfa(b,this.Ui),k.on(p,c2o,function(a){var d68;d68=2;while(d68!==1){switch(d68){case 4:V(this,a.type,a);d68=3;break;d68=1;break;case 2:V(this,a.type,a);d68=1;break;}}},this),r=new P(this,p,this.H),k.on(r,b2o,this.JMa,this),k.on(r,D2o,this.GMa,this));f.ko&&this.Nn&&r.Igb(this.Nn);return{M:a,Ma:b,replace:h,ne:g,Eb:[],dw:[],B4:[],X:c,ca:d,Wl:0,Q3:k,Pm:p,DA:r};break;}}};b.prototype.JLa=function(a){var A68;A68=2;while(A68!==1){switch(A68){case 2:return this.jX(a.M,a.Ma,a.X,a.ca,a.ne);break;}}};b.prototype.jQa=function(a,b,c){var y68;y68=2;while(y68!==3){switch(y68){case 2:a=a.O;b.Eb[a]=c;b.dw[a]=c.dw;b.B4[a]=c.U?c.U.EQ:c.dw;y68=3;break;}}};b.prototype.HLa=function(){var p68,a,b;p68=2;while(p68!==9){switch(p68){case 4:++b;p68=1;break;case 5:a=this.Ca[b],a.Q3.clear();p68=4;break;case 2:b=0;p68=1;break;case 1:p68=b<this.Ca.length?5:3;break;case 3:this.Ca.length=0;p68=9;break;}}};b.prototype.Hfa=function(a,b){var s68;s68=2;while(s68!==4){switch(s68){case 2:b=new m(this,this.Ra.sb,this.Ra.cg,!b,this.H);b.qN(a);return b;break;}}};b.prototype.open=function(){var i68,a,b,c,d,g,f,p,n,y2o,n2o,e2o,z2o,a2o,v2o,p2o,x2o,u2o,r2o;i68=2;while(i68!==30){y2o="NFErr_MC";y2o+="_StreamingInit";y2o+="Failure";n2o="exce";n2o+="pt";n2o+="i";n2o+="on";n2o+=" in init";e2o="Er";e2o+="r";e2o+="or:";z2o="sta";z2o+="r";z2o+="t";z2o+="p";z2o+="lay";a2o="l";a2o+="ogda";a2o+="ta";v2o="crea";v2o+="teM";v2o+="ediaSourceEn";v2o+="d";p2o="E";p2o+="r";p2o+="r";p2o+="or";p2o+=":";x2o="createMediaSour";x2o+="c";x2o+="eStart";u2o="NFErr";u2o+="_";u2o+="MC_StreamingIni";u2o+="tFailure";r2o="star";r2o+="tPts mus";r2o+="t b";r2o+="e a positive number, not ";switch(i68){case 5:this.Kj(r2o+this.UM,u2o);i68=30;break;case 17:p=new U(this.zz);i68=16;break;case 12:this.CPa();g=a.rN;i68=10;break;case 10:this.Ra.Dc&&this.Ra.Dc.XE(g,this.Ej.sessionId);f=this.Ffa(d);d.forEach(function(a,b){var B68;B68=2;while(B68!==1){switch(B68){case 2:a.type==t.FK?this.tE=f[b]:this.Wa.jb[a.type].hj=f[b];B68=1;break;}}}.bind(this));this.Op(x2o);i68=17;break;case 4:a=this.H;b=this.El;c=[];i68=8;break;case 23:p.sourceBuffers.forEach(function(c){var V68,d,Y2o,m2o,q2o,k2o,j2o;V68=2;while(V68!==14){Y2o="managerd";Y2o+="ebug";Y2o+="eve";Y2o+="nt";m2o="logd";m2o+="a";m2o+="t";m2o+="a";q2o="e";q2o+="r";q2o+="r";q2o+="o";q2o+="r";k2o="r";k2o+="eque";k2o+="stApp";k2o+="end";k2o+="ed";j2o="head";j2o+="erA";j2o+="ppend";j2o+="ed";switch(V68){case 2:d=c.O;c=new y(this.Wa.jb[d].T,d,b,p,c,this.Pe[d],a);c.addEventListener(j2o,this.EMa.bind(this));c.addEventListener(k2o,this.HMa.bind(this));c.addEventListener(q2o,function(a){var H68,d2o;H68=2;while(H68!==1){d2o="NFErr";d2o+="_MC_";d2o+="StreamingFa";d2o+="ilure";switch(H68){case 4:this.Kj(a.errorstr,"");H68=2;break;H68=1;break;case 2:this.Kj(a.errorstr,d2o);H68=1;break;}}}.bind(this));V68=8;break;case 8:c.addEventListener(m2o,function(a){var o68;o68=2;while(o68!==1){switch(o68){case 4:V(this,a.type,a);o68=9;break;o68=1;break;case 2:V(this,a.type,a);o68=1;break;}}}.bind(this));a.xe&&c.addEventListener(Y2o,function(a){var F68;F68=2;while(F68!==1){switch(F68){case 2:V(this,a.type,a);F68=1;break;case 4:V(this,a.type,a);F68=6;break;F68=1;break;}}}.bind(this));this.af[d]=c;V68=14;break;}}}.bind(this));this.Xj&&this.KNa();this.Cc.Dab();i68=35;break;case 24:throw this.Vb(p2o,p.error),p.error;i68=23;break;case 2:i68=1;break;case 1:i68=!k.aa(this.UM)||0>this.UM?5:4;break;case 15:this.Op(v2o);p.tc||(p.tc=U.tc);this.Qe=p;i68=25;break;case 25:i68=!p.jZ(c)?24:23;break;case 16:i68=p.readyState===M.MediaSource.$a.OPEN?15:31;break;case 8:d=[t.FK];this.xf&&(c.push(h.u.VIDEO),d.push(t.VIDEO));this.dj&&(c.push(h.u.AUDIO),d.push(t.AUDIO));d=this.iga(d);this.tv=0;i68=12;break;case 35:n=function(){var v68,Z2o;v68=2;while(v68!==5){Z2o="shutdown";Z2o+=" detected bef";Z2o+="ore";Z2o+=" startRequests";switch(v68){case 2:this.cOa();this.Td()?this.ba(Z2o):this.PPa(b);v68=5;break;}}}.bind(this);a.MYa?setTimeout(function(){var K68;K68=2;while(K68!==1){switch(K68){case 2:this.tfa(b).then(n);K68=1;break;case 4:this.tfa(b).then(n);K68=4;break;K68=1;break;}}}.bind(this),0):this.tfa(b).then(function(){var b68;b68=2;while(b68!==1){switch(b68){case 2:setTimeout(n,0);b68=1;break;case 4:setTimeout(n,9);b68=4;break;b68=1;break;}}});c={type:a2o,target:z2o,fields:{audiogapconfig:a.QQ,audiogapdpi:this.Qe.tc&&this.Qe.tc.QQ}};this.emit(c.type,c);i68=30;break;case 31:this.Vb(e2o,p.error),this.Kj(n2o,y2o);i68=30;break;}}};b.prototype.flush=function(){var J68,a,b,c,d,g,D68,W2o,N2o,o2o,R2o,T2o,t2o,E2o,K2o;J68=2;while(J68!==16){W2o="end";W2o+="pl";W2o+="ay";N2o="l";N2o+="og";N2o+="data";o2o="throughp";o2o+="ut-";o2o+="sw";R2o="throughp";R2o+="u";R2o+="t";R2o+="-sw";T2o="thr";T2o+="oughp";T2o+="ut";T2o+="-";T2o+="sw";t2o="e";t2o+="n";t2o+="dpl";t2o+="a";t2o+="y";E2o="l";E2o+="ogd";E2o+="at";E2o+="a";switch(J68){case 12:for(var f in d){K2o="n";K2o+="e";d.hasOwnProperty(f)&&(c[K2o+f]=Number(d[f]).toFixed(6));}J68=11;break;case 10:Object.keys(c).length&&(c={type:E2o,target:t2o,fields:c},V(this,c.type,c));J68=20;break;case 4:J68=b?3:20;break;case 2:a=this.H;b=this.Ra.sb;J68=4;break;case 13:J68=d?12:11;break;case 3:c={};d=b.get(!0);d&&d.avtp&&d.avtp.sa&&(c.avtp=d.avtp.sa);b.flush();d=b.Z2a();g=b.JQa;J68=13;break;case 11:g&&g.length&&(c.activeRequests=JSON.stringify(g));J68=10;break;case 20:a.hG&&b&&((d=b.get(!0))&&d[T2o]&&this.xr.YQa({avtp:d[R2o].sa,variance:d[o2o].ug}),d&&d.avtp&&d.kj&&d.kj.Vt&&this.xr.TQa({avtp:d.avtp.sa,niqr:d.kj.Vt.toFixed(4)},d.avtp.vZa),a=this.xr.J2a(),b=this.xr.v4a(),a&&(a.n=b,a={type:N2o,target:W2o,fields:{ibef:a}},V(this,a.type,a),this.xr.save()));this.Xj&&this.Vga();J68=18;break;case 18:J68=this.$k?17:16;break;case 17:try{D68=2;while(D68!==1){switch(D68){case 4:this.f1(h.wa.Xy);D68=9;break;D68=1;break;case 2:this.f1(h.wa.Xy);D68=1;break;}}}catch(va){var i2o;i2o="H";i2o+="in";i2o+="dsight:";i2o+=" Error evaluating QoE at stopping:";i2o+=" ";q011.A8o(0);this.Ko(q011.w8o(va,i2o));}J68=16;break;}}};b.prototype.paused=function(){var f68;f68=2;while(f68!==1){switch(f68){case 2:this.Gb.value===h.wa.Oe&&this.Gb.set(h.wa.Bn);f68=1;break;}}};b.prototype.Uwa=function(){var M68;M68=2;while(M68!==1){switch(M68){case 2:this.Gb.value===h.wa.Bn&&this.Gb.set(h.wa.Oe);M68=1;break;}}};b.prototype.close=function(){var N68,a,b,H2o,J2o,G2o;N68=2;while(N68!==17){H2o="cl";H2o+="o";H2o+="se";J2o="e";J2o+="ndpla";J2o+="y";G2o="log";G2o+="da";G2o+="ta";switch(N68){case 10:V(this,a.type,a);N68=20;break;case 14:N68=b<a.length?13:11;break;case 8:N68=a.DO?7:20;break;case 11:a={type:G2o,target:J2o,fields:{bridgestat:a}};N68=10;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;N68=12;break;case 2:a=this.H;this.IOa=!0;this.stop();N68=3;break;case 3:this.emit(H2o);this.Nv=!1;N68=8;break;case 6:a=this.$M.pf([.25,.5,.75,.9,.95,.99]),b=0;N68=14;break;case 7:this.$M.wq();N68=6;break;case 12:b++;N68=14;break;case 20:this.Ra.Dc&&this.Ra.Dc.XE(!0,this.Ej.sessionId,!0);this.Qra();this.Ra.$Oa(this);N68=17;break;}}};b.prototype.Be=function(){var j68,a,V2o,w2o;j68=2;while(j68!==11){V2o="i";V2o+="nac";V2o+="t";V2o+="i";V2o+="ve";w2o="E";w2o+="rror o";w2o+="n MediaSource destroy: ";switch(j68){case 3:this.la.Be();this.XLa();this.Gb.set(h.wa.Wy);this.HLa();j68=6;break;case 6:this.Hf.clear();a=this.Qe;delete this.Qe;k.R(a)||a.zm()||this.ba(w2o,a.error);j68=11;break;case 2:this.Wh.removeEventListener(V2o,this.Rga);this.Cc.sab();this.yfa();j68=3;break;}}};b.prototype.suspend=function(){var P68;P68=2;while(P68!==1){switch(P68){case 4:this.Uha=-1;P68=2;break;P68=1;break;case 2:this.Uha=!0;P68=1;break;}}};b.prototype.resume=function(){var Q68;Q68=2;while(Q68!==5){switch(Q68){case 2:this.Uha=!1;this.Gg();Q68=5;break;}}};b.prototype.Td=function(){var e68;e68=2;while(e68!==1){switch(e68){case 2:return this.IOa||this.la.C6a;break;case 4:return this.IOa&&this.la.C6a;break;e68=1;break;}}};b.prototype.APa=function(){var l68,a;l68=2;while(l68!==7){switch(l68){case 9:this.XM||(this.XM=setInterval(this.nOa.bind(this),a.e8));this.Xj&&!this.GL&&(this.GL=setInterval(this.Vga.bind(this),a.yZ));l68=7;break;case 2:a=this.H;this.Qs&&clearTimeout(this.Qs);this.Qs=setTimeout(this.TE.bind(this),a.wT);this.IL||(this.IL=setInterval(this.Wga.bind(this),a.Yz));l68=9;break;}}};b.prototype.CPa=function(){var Z68,a,b;Z68=2;while(Z68!==8){switch(Z68){case 3:b=-1;this.iE=setInterval(function(){var U68,a,Q2o;U68=2;while(U68!==4){Q2o="v";Q2o+="b";switch(U68){case 2:a=this.Wa.jb[h.u.VIDEO];(a=a.Nt&&a.Nt.L)&&b!==a&&(M.storage.set(Q2o,a),b=a);U68=4;break;}}}.bind(this),a.oS);Z68=8;break;case 2:a=this.H;Z68=5;break;case 4:this.iE&&clearInterval(this.iE);Z68=3;break;case 5:Z68=a.oS?4:8;break;}}};b.prototype.yfa=function(){var c68;c68=2;while(c68!==7){switch(c68){case 2:this.Qs&&(clearTimeout(this.Qs),this.Qs=void 0);this.IL&&(clearInterval(this.IL),this.IL=void 0);this.XM&&(clearInterval(this.XM),this.XM=void 0);this.GL&&(clearInterval(this.GL),this.GL=void 0);c68=3;break;case 3:this.cz&&(clearTimeout(this.cz),delete this.cz);this.sX&&(clearTimeout(this.sX),delete this.sX);this.iE&&(clearInterval(this.iE),delete this.iE);c68=7;break;}}};b.prototype.play=function(){var I68,F2o,A2o;I68=2;while(I68!==5){F2o="p";F2o+="l";F2o+="a";F2o+="y";A2o="play ";A2o+="called";A2o+=" after pipelines already shutdown";switch(I68){case 2:this.$ga++;this.Td()?this.ba(A2o):(this.Gb.set(h.wa.Oe),this.APa(),this.Wa.jb.forEach(function(a){var m68,g2o;m68=2;while(m68!==1){g2o="play";g2o+=": not resuming bufferManager, audio track";g2o+=" switch in progre";g2o+="ss";switch(m68){case 2:this.pi[a.O]&&(a.qy?a.ba(g2o):this.af[a.O].resume());m68=1;break;}}}.bind(this)),this.TE(),this.emit(F2o));I68=5;break;}}};v58=73;break;case 24:U=M.MediaSource;Y=a(191);X=a(300);a(61);N=a(91);G=a(38);g=a(23);A=g.RFa;V=g.Ea;a(37);b.prototype=Object.create(N.prototype);b.prototype.constructor=b;Object.defineProperties(b.prototype,{M:{get:function(){var N58;N58=2;while(N58!==1){switch(N58){case 4:return this.El;break;N58=1;break;case 2:return this.El;break;}}}},ia:{get:function(){var j58;j58=2;while(j58!==1){switch(j58){case 2:return this.UY;break;case 4:return this.UY;break;j58=1;break;}}}},Xsa:{get:function(){var P58;P58=2;while(P58!==1){switch(P58){case 4:return this.Gb;break;P58=1;break;case 2:return this.Gb;break;}}}},Ht:{get:function(){var Q58;Q58=2;while(Q58!==1){switch(Q58){case 2:return this.la.Ht;break;case 4:return this.la.Ht;break;Q58=1;break;}}}},Qt:{get:function(){var e58;e58=2;while(e58!==1){switch(e58){case 4:return this.Qe.tc;break;e58=1;break;case 2:return this.Qe.tc;break;}}}},dj:{get:function(){var l58;l58=2;while(l58!==1){switch(l58){case 4:return this.pi[h.u.AUDIO];break;l58=1;break;case 2:return this.pi[h.u.AUDIO];break;}}}},xf:{get:function(){var Z58;Z58=2;while(Z58!==1){switch(Z58){case 2:return this.pi[h.u.VIDEO];break;case 4:return this.pi[h.u.VIDEO];break;Z58=1;break;}}}},attributes:{get:function(){var U58;U58=2;while(U58!==1){switch(U58){case 2:return this.XW;break;case 4:return this.XW;break;U58=1;break;}}}},Q3:{get:function(){var c58;c58=2;while(c58!==1){switch(c58){case 4:return this.Hf;break;c58=1;break;case 2:return this.Hf;break;}}}},za:{get:function(){var I58;I58=2;while(I58!==1){switch(I58){case 2:return this.Ec;break;case 4:return this.Ec;break;I58=1;break;}}}},GR:{get:function(){var m58;m58=2;while(m58!==1){switch(m58){case 4:return 3<this.tM?this.tM:6;break;m58=1;break;case 2:return 0<=this.tM?this.tM:0;break;}}}},nA:{get:function(){var h58;h58=2;while(h58!==1){switch(h58){case 4:return this.Ca[this.Ec];break;h58=1;break;case 2:return this.Ca[this.Ec];break;}}}},Wh:{get:function(){var x58;x58=2;while(x58!==1){switch(x58){case 4:return this.Ra.Wh;break;x58=1;break;case 2:return this.Ra.Wh;break;}}}},xr:{get:function(){var X68;X68=2;while(X68!==1){switch(X68){case 2:return this.Ra.xr;break;case 4:return this.Ra.xr;break;X68=1;break;}}}},WE:{get:function(){var W68;W68=2;while(W68!==1){switch(W68){case 4:return this.Cc;break;W68=1;break;case 2:return this.Cc;break;}}}},Eeb:{get:function(){var C68;C68=2;while(C68!==1){switch(C68){case 4:return this.Eha;break;C68=1;break;case 2:return this.Eha;break;}}}}});b.prototype.gB=function(a){var G68;G68=2;while(G68!==1){switch(G68){case 4:return this.pi[a];break;G68=1;break;case 2:return this.pi[a];break;}}};b.prototype.yR=function(){var z68;z68=2;while(z68!==1){switch(z68){case 4:this.yz=~2;z68=2;break;z68=1;break;case 2:this.yz=!0;z68=1;break;}}};b.prototype.$j=function(){var t68;t68=2;while(t68!==1){switch(t68){case 2:return this.Ra.$j(this.yM[h.u.AUDIO],this.yM[h.u.VIDEO]);break;}}};b.prototype.Mqa=function(){var u68,a;u68=2;while(u68!==3){switch(u68){case 2:a=0;k.forEach(this.Mp.audio_tracks,function(b){var q68;q68=2;while(q68!==1){switch(q68){case 2:k.forEach(b.streams,function(b){var w68;w68=2;while(w68!==1){switch(w68){case 2:a=Math.max(a,b.bitrate);w68=1;break;}}});q68=1;break;}}});return a;break;}}};b.prototype.yd=function(){var a68;a68=2;while(a68!==1){switch(a68){case 4:return this.zz.yd();break;a68=1;break;case 2:return this.zz.yd();break;}}};b.prototype.oo=function(a){var E68;E68=2;while(E68!==1){switch(E68){case 2:return this.la.oo(a);break;case 4:return this.la.oo(a);break;E68=1;break;}}};b.prototype.gl=function(a){var Y68;Y68=2;while(Y68!==1){switch(Y68){case 2:return this.Ca[a];break;case 4:return this.Ca[a];break;Y68=1;break;}}};b.prototype.p3a=function(){var O68,a;O68=2;while(O68!==4){switch(O68){case 2:a=this.Ca[0];return a.yi?this.Ca[1]:a;break;}}};b.prototype.eH=function(a,b){var L68;L68=2;while(L68!==9){switch(L68){case 4:b=this.Ca[b];return a.yi&&b.AH||b.yi&&a.AH;break;case 5:a=this.Ca[a];L68=4;break;case 1:return!0;break;case 2:L68=a===b?1:5;break;}}};b.prototype.OA=function(a){var k68;k68=2;while(k68!==1){switch(k68){case 2:return this.Pe[a];break;case 4:return this.Pe[a];break;k68=1;break;}}};v58=52;break;case 73:b.prototype.stop=function(){var h68,a,P2o;h68=2;while(h68!==6){P2o="s";P2o+="t";P2o+="o";P2o+="p";switch(h68){case 3:a!==h.wa.Xy&&a!==h.wa.Wy&&this.la.Ii.VS(!1);this.la.Ce.forEach(function(a){var x68;x68=2;while(x68!==1){switch(x68){case 2:a.Zf=!1;x68=1;break;case 4:a.Zf=-4;x68=5;break;x68=1;break;}}});[h.u.VIDEO,h.u.AUDIO].forEach(function(a){var X78;X78=2;while(X78!==1){switch(X78){case 2:(a=this.af[a])&&a.pause();X78=1;break;}}}.bind(this));this.emit(P2o);h68=6;break;case 2:a=this.Gb.value;this.Gb.set(h.wa.Xy);this.yfa();h68=3;break;}}};b.prototype.q7=function(a,b){var W78,c,d,g,f,p,c5o,S5o,f2o,O2o,l2o,C2o,I2o,M2o,L2o,X2o,s2o,B2o,U2o,h2o;W78=2;while(W78!==39){c5o="s";c5o+="e";c5o+="e";c5o+="k";S5o="ptscha";S5o+="nge";S5o+="d";f2o="see";f2o+="k";f2o+="Failed";O2o="seek,";O2o+=" no manifest at manifes";O2o+="t";O2o+="Index:";l2o="see";l2o+="kFail";l2o+="ed";C2o="after seeking, p";C2o+="layerSta";C2o+="te";C2o+=" no longer STARTING: ";I2o=" ";I2o+="playerSta";I2o+="te: ";M2o=" medi";M2o+="a.cu";M2o+="rr";M2o+="entPts";M2o+=": ";L2o=" cu";L2o+="rrent manife";L2o+="st: ";X2o=" ma";X2o+="nif";X2o+="es";X2o+="tInd";X2o+="ex: ";s2o="se";s2o+="ek";s2o+=":";s2o+=" ";B2o="see";B2o+="kDe";B2o+="l";B2o+="ayed";U2o="seekDe";U2o+="la";U2o+="yed";h2o="s";h2o+="ee";h2o+="k";switch(W78){case 6:!d.AH&&0<b&&(f=this.hVa(b,a));this.Gb.set(h.wa.Wy);W78=13;break;case 20:W78=!this.ufa(b)?19:16;break;case 33:this.Gb.set(h.wa.Ag);this.la.xib(a,b);this.uY(h2o);W78=30;break;case 7:W78=(d=this.Ca[b])?6:40;break;case 25:W78=a>g?24:33;break;case 28:this.OY(d,b);this.la.Ce.forEach(function(b){var G78,c;G78=2;while(G78!==4){switch(G78){case 2:c=b.O;this.pi[c]&&this.QOa(b,p[c],a);G78=4;break;}}}.bind(this));W78=43;break;case 12:b<this.Ec&&d.replace&&(d.replace=!1);c=this.Ca[this.Ec];this.la.Ce.forEach(function(a){var C78;C78=2;while(C78!==1){switch(C78){case 2:this.Nha(a,c.ik&&c.ik.Th);C78=1;break;}}}.bind(this));W78=20;break;case 9:k.R(b)&&(b=this.Ec);W78=8;break;case 43:W78=this.Gb.value!=h.wa.Ag?42:41;break;case 22:this.Ij={za:this.Ec+1,io:a};this.emit(U2o);return;break;case 18:this.emit(B2o);return;break;case 27:g=this.lz(this.la.Ce,d.Eb,d.ca||Infinity);g=this.dj?this.xf?Math.min(g[h.u.AUDIO].X,g[h.u.VIDEO].X):g[h.u.AUDIO].X:g[h.u.VIDEO].X;W78=25;break;case 2:d=this.H;g=this.yd();f=a;d.xe&&this.eh(s2o+a+X2o+b+L2o+this.Ec+M2o+g+I2o+this.Gb.value);W78=9;break;case 30:g=this.la.gf;p=this.mE(g.za,a,g).Hx;W78=28;break;case 42:this.ba(C2o+this.Gb.value),this.emit(l2o);W78=39;break;case 13:W78=b!=this.Ec?12:27;break;case 24:W78=this.Ui?23:34;break;case 8:this.la.oua();W78=7;break;case 40:this.ba(O2o,b),this.emit(f2o);W78=39;break;case 41:return this.emit(S5o,f),this.emit(c5o),this.TM(1),this.Gg(),f;break;case 19:this.Ij={za:b,io:a};W78=18;break;case 16:W78=this.wF(this.la.v2(b),!1,!0)?15:27;break;case 23:W78=!this.Kz(this.Ec+1)?22:33;break;case 15:return;break;case 34:a=g,f=a+this.la.gc;W78=33;break;}}};b.prototype.seek=function(a,b){var z78,c;z78=2;while(z78!==8){switch(z78){case 5:k.R(b)&&(b=this.Ec);this.la.oua();this.Ca[b].AH||this.rz||(c=this.jA(b,a));return this.q7(c,b);break;case 2:c=a;z78=5;break;}}};b.prototype.Tjb=function(a){var t78,q78,b,c,d,K5o,x5o,u5o,r5o,D5o;t78=2;while(t78!==20){K5o="und";K5o+="erflo";K5o+="w";x5o="b";x5o+="ran";x5o+="chO";x5o+="ffset:";u5o="e";u5o+="ntry.manifestOf";u5o+="fs";u5o+="et:";r5o="con";r5o+="tent";r5o+="Pt";r5o+="s:";D5o="underflow: going to BUFFE";D5o+="RIN";D5o+="G a";D5o+="t player p";D5o+="ts:";switch(t78){case 13:try{q78=2;while(q78!==1){switch(q78){case 4:this.f1(h.wa.Mr);q78=6;break;q78=1;break;case 2:this.f1(h.wa.Mr);q78=1;break;}}}catch(ka){var b5o;b5o="Hindsight: ";b5o+="Error wh";b5o+="en ev";b5o+="aluating QoE at Buffer";b5o+="ing: ";q011.A8o(0);this.Ko(q011.w8o(ka,b5o));}t78=12;break;case 14:t78=this.$k?13:12;break;case 2:b=this.H;c=this.jA(this.GR,a);this.ba(D5o,a,r5o,c,u5o,this.nA.Wl,x5o,this.la.gc);t78=3;break;case 12:c=this.Ra.sb.get(!1);c=c.bc?c.ja.sa:0;d>b.I0a&&c>b.H0a&&this.RM();t78=20;break;case 3:d=b.FQ;this.la.Ce.forEach(function(c){var u78,g,h,y5o,n5o,e5o,z5o,a5o,Z5o,v5o,p5o,Y5o,m5o,d5o,q5o,k5o,j5o;u78=2;while(u78!==6){y5o="re";y5o+="b";y5o+="uf";y5o+="f";y5o+="er";n5o=",";n5o+=" nextApp";n5o+="endPts: ";e5o=",";e5o+=" toA";e5o+="ppe";e5o+="nd: ";z5o=", sentDat";z5o+="a";z5o+=":";z5o+=" ";a5o=",";a5o+=" c";a5o+="ompleteStreamingPts: ";Z5o=", s";Z5o+="treami";Z5o+="ngPts: ";v5o=", p";v5o+="ar";v5o+="t";v5o+="i";v5o+="als: ";p5o=", totalBuf";p5o+="ferByt";p5o+="es: ";Y5o=",";Y5o+=" totalBu";Y5o+="ff";Y5o+="er";Y5o+="Ms: ";m5o=", appen";m5o+="dedBufferByt";m5o+="es: ";d5o=", a";d5o+="p";d5o+="pendedBuf";d5o+="ferMs: ";q5o=", buff";q5o+="erLev";q5o+="elB";q5o+="ytes: ";k5o=", med";k5o+="iaTy";k5o+="pe: ";j5o="unde";j5o+="r";j5o+="flow: ";switch(u78){case 5:d=c.hq<d?c.hq:d;b.xe&&(h=this.af[g],h=j5o+a+k5o+g+q5o+c.Jh+d5o+c.hq+m5o+c.uN+Y5o+c.HC+p5o+c.Cu+v5o+c.Ia.Yt+Z5o+c.Pa+a5o+c.gA+z5o+JSON.stringify(c.Ia.hb.Xa)+e5o+JSON.stringify(h.Ih)+n5o+h.INa);b.xe&&this.eh(h);c.eo=!1;c.Lta(a);b.ko&&this.Nn&&(c=this.Nn,g=this.Wa.jb[g],c.x7(y5o,g.K3));u78=6;break;case 2:g=c.O;u78=5;break;}}}.bind(this));this.emit(K5o);this.TM(2);t78=6;break;case 6:this.Gg();t78=14;break;}}};b.prototype.ln=function(a){var w78,b,c,T5o;w78=2;while(w78!==6){T5o="s";T5o+="ki";T5o+="p";switch(w78){case 4:c=function(a,b,d){var a78,E5o;a78=2;while(a78!==5){E5o="s";E5o+="kip: unexpec";E5o+="ted behaviour - a non-";E5o+="presenting branch doesn't have a previous branch";switch(a78){case 2:a!==this.la.Ii&&(a.qf?c(a.qf,b,d):this.Tb(E5o));a.Sa[b].ln(d);a78=5;break;}}}.bind(this);[h.u.AUDIO,h.u.VIDEO].forEach(function(d){var E78,g,t5o;E78=2;while(E78!==8){t5o="skip: not resuming bufferManager, a";t5o+="udio track switch in pr";t5o+="ogr";t5o+="ess";switch(E78){case 2:E78=1;break;case 1:E78=this.pi[d]?5:8;break;case 5:g=this.Wa.jb[d];this.$k&&(g.U7=M.time.fa());b.AI?this.af[d].reset():g.qy?g.ba(t5o):this.af[d].resume();E78=9;break;case 9:c(this.la.gf,d,a);E78=8;break;}}}.bind(this));this.Gb.set(h.wa.Oe);this.TE();w78=7;break;case 2:b=this.H;this.la.Ii.ln(a);w78=4;break;case 7:this.emit(T5o);w78=6;break;}}};b.prototype.wF=function(a,b,c){var Y78,d,o5o,R5o;Y78=2;while(Y78!==8){o5o="s";o5o+="e";o5o+="e";o5o+="k";R5o="pt";R5o+="schang";R5o+="ed";switch(Y78){case 2:d=this.la.wF(a,b);Y78=5;break;case 5:Y78=b?4:3;break;case 3:d?(this.Gb.set(h.wa.Wy),(a=this.la.Ii.children[a])&&this.emit(R5o,a.Oa),this.Gb.set(h.wa.Ag),this.emit(o5o),this.TM(1),this.Gg(),this.ov()):c||(a=this.la.q4a(a),this.q7(a));return d;break;case 4:return d;break;}}};b.prototype.Fga=function(a){var O78,b;O78=2;while(O78!==6){switch(O78){case 9:this.Mp=b.Ma;this.aOa(a,b.replace,b.Hx);this.Wa.h5a(b.replace);O78=6;break;case 2:this.Ec=a;b=this.Ca[a];this.ws=b.IC;this.El=b.M;O78=9;break;}}};b.prototype.qN=function(a,b){var L78,c,d,g,f,p,n,r,l,u,m,Q5o,V5o,w5o,H5o,J5o,G5o,i5o,W5o,N5o,y1C;L78=2;while(L78!==43){Q5o=",";Q5o+=" ";V5o=") lastStrea";V5o+="mA";V5o+="ppended: (";w5o=",";w5o+=" ";H5o=" st";H5o+="reamCount";H5o+=": (";J5o=" play";J5o+="er";J5o+="State: ";G5o="add";G5o+="Manifest, currentPts";G5o+=": ";i5o="addMan";i5o+="ifest in fastplay but not drm";i5o+=" manifest, ";i5o+="leaving sp";i5o+="ace for it";W5o="addManifest ign";W5o+="or";W5o+="ed, p";W5o+="ipelines alre";W5o+="ady set EOS:";N5o="addMan";N5o+="ifest: pipelines already s";N5o+="hutdown";switch(L78){case 4:this.ba(N5o);L78=43;break;case 7:L78=this.dj&&g.Mu||this.xf&&d.Mu?6:14;break;case 2:c=this.H;L78=5;break;case 31:L78=this.dj&&k.R(b)||this.xf&&k.R(a)?30:29;break;case 24:a.IC=g;a.MN=b.MN;this.Ca[d]=a;this.qfa(d);b.replace||this.la.fRa(d,p,n);L78=34;break;case 27:r=this.EM(a,d,g,!1,r);a=this.jX(f,a,p,n,r,!!b.replace);a.AH=a.replace;L78=24;break;case 19:n=b.ca;b.replace&&(r=this.Ca[0].ne);l=this.Pe[h.u.AUDIO];for(m in l){u=l[m];u.Fr&&(u.web()?this.tga(g,u):this.FB(u));}g=b.IC?b.IC:this.ws;L78=27;break;case 6:this.ba(W5o,g.Mu,d.Mu);L78=43;break;case 14:b||(b={});b.lcb&&(this.oY=!0);d=this.Ca.length;b.replace&&1!==d?d=1:this.Ui&&!b.replace&&1===d&&(this.ba(i5o),d=this.JLa(this.Ca[0]),d.F0a=!0,this.Ca.push(d),d=this.Ca.length);q011.A8o(1);y1C=q011.V8o(14,14);f=y1C*a.movieId;p=b.X||0;L78=19;break;case 34:b=this.Wa.jb[h.u.AUDIO].Nm;a=this.Wa.jb[h.u.VIDEO].Nm;c.xe&&this.eh(G5o+this.yd()+J5o+this.Gb.value+H5o+r[0].Bc.length+w5o+r[1].Bc.length+V5o+b+Q5o+a+")");L78=31;break;case 3:d=this.la.Ce;g=d[h.u.AUDIO];d=d[h.u.VIDEO];L78=7;break;case 5:L78=this.Td()?4:3;break;case 30:return!0;break;case 29:this.sY(f,d,r);this.Kz(this.Ec+1);return!0;break;}}};b.prototype.O0=function(a){var k78,b,c,d,g,P5o,F5o,g5o,A5o;k78=2;while(k78!==13){P5o=" ";P5o+="readyState";P5o+=": ";F5o=" for";F5o+=" mo";F5o+="vieId: ";g5o=",";g5o+=" ";A5o="dr";A5o+="mReady at stre";A5o+="amin";A5o+="g";A5o+=" pts: ";switch(k78){case 2:c=this.H;k78=5;break;case 5:k78=!this.Td()?4:13;break;case 6:k78=(this.UX[1*a]=b)?14:13;break;case 4:k.R(b)&&(b=!0);d=this.la.Ce;g=d[h.u.AUDIO];d=d[h.u.VIDEO];c.xe&&this.eh(A5o+g.Pa+g5o+d.Pa+F5o+a+P5o+b);k78=6;break;case 14:this.af.forEach(function(a){var g78;g78=2;while(g78!==5){switch(g78){case 2:c.C1&&a.w1a();c.JT&&a.resume();g78=5;break;}}}),this.Ui&&this.Kz(this.Ij?this.Ij.za:this.Ec+1),this.wX();k78=13;break;}}};b.prototype.JP=function(a,b){var S78;S78=2;while(S78!==5){switch(S78){case 2:a||(a=this.El);return(b=b&&0<=b?this.Ca[b]:this.Ca[this.Ec])&&b.hasClearStreams&&!b.hasDrmStreams||this.UX[a];break;}}};b.prototype.ufa=function(a){var R78,b,c,d;R78=2;while(R78!==10){switch(R78){case 5:return!1;break;case 4:b=this.la.Ce;c=b[h.u.AUDIO];b=b[h.u.VIDEO];c=!c||c.Zf;d=!b||b.Zf;R78=6;break;case 12:a=!this.xf||b.Eb[h.u.VIDEO];return this.dj&&!b.Eb[h.u.AUDIO]||!a?!1:!0;break;case 1:R78=a>=this.Ca.length?5:4;break;case 13:return!1;break;case 2:R78=1;break;case 6:b=this.Ca[a];R78=14;break;case 14:R78=!(a===this.Ec+1&&b.replace||c&&d)||!this.UX[b.M]&&!b.MN?13:12;break;}}};b.prototype.Kz=function(a){var r78,b;r78=2;while(r78!==14){switch(r78){case 1:r78=!this.ufa(a)?5:4;break;case 2:r78=1;break;case 5:return!1;break;case 3:r78=b.F0a||!b.replace?9:8;break;case 8:this.UPa(a);this.Gg();return!0;break;case 4:b=this.Ca[a];r78=3;break;case 9:return!1;break;}}};b.prototype.UPa=function(a){var T78,b,c,d,g,B5o,U5o,h5o;T78=2;while(T78!==16){B5o=",";B5o+=" ";U5o=", st";U5o+="r";U5o+="e";U5o+="amingPts: ";h5o="switchMa";h5o+="nifest manife";h5o+="stIndex: ";switch(T78){case 4:g=d.Ph(h.u.AUDIO);g=g?g.Pa:void 0;b=(b=d.Ph(h.u.VIDEO))?b.Pa:void 0;this.H.xe&&this.eh(h5o+a+U5o+g+B5o+b);T78=7;break;case 2:c=this.Ca[a];d=this.la.gf;T78=4;break;case 14:c.Yia&&(b=this.EM(c.Ma,a,c.IC,!1,c.ne,h.u.AUDIO),c.ne[h.u.AUDIO]=b[h.u.AUDIO],c.ne[h.u.AUDIO].Bc.some(function(a){var n78;n78=2;while(n78!==1){switch(n78){case 2:return a.rh?(c.Eb[h.u.AUDIO]={stream:a,U:a.U},!0):!1;break;}}}),delete c.Yia);b=this.Ec;g?this.la.xeb(b,a):d.wgb(a);d.h3(a);T78=10;break;case 7:g=this.Ui;this.Ui=!1;T78=14;break;case 10:[h.u.VIDEO,h.u.AUDIO].forEach(function(a){var d78,b;d78=2;while(d78!==4){switch(d78){case 2:b=d.Ph(a);b&&!c.replace&&(c.Dm?b.Qeb(c.Dm[a]):(a=c.Hx[a],b.Reb(a)));d78=4;break;}}}.bind(this));this.Fga(a);T78=19;break;case 19:this.OY(c,a);this.wX();this.Gg();T78=16;break;}}};b.prototype.wX=function(){var A78,a,b;A78=2;while(A78!==9){switch(A78){case 5:a=this.Ij.io;b=this.Ij.za;this.Ca[b]&&(this.Ij=void 0,this.q7(a,b));A78=9;break;case 2:A78=1;break;case 1:A78=this.Ij?5:9;break;}}};b.prototype.pab=function(){var y78,a,b,c,s5o;y78=2;while(y78!==13){s5o="onAudioTrac";s5o+="kSwitchSt";s5o+="arted ignored, no audio pipeline";switch(y78){case 2:a=this.la.gf.Ph(h.u.AUDIO);y78=5;break;case 5:y78=a?4:14;break;case 14:this.ba(s5o);y78=13;break;case 6:this.Gg();y78=13;break;case 4:b=this.Wa.jb[a.O];c=this.yd();(c=a.Ia.Bt(c))&&c.Ue!=a&&(a=c.Ue);this.ROa(a);b.qy=!1;y78=6;break;}}};b.prototype.oab=function(){var p78,a;p78=2;while(p78!==8){switch(p78){case 2:a=this.Wa.jb[h.u.AUDIO];a.qy=!1;this.af[a.O].resume();delete a.TH;this.Gg();p78=8;break;}}};b.prototype.sSa=function(){var s78,a;s78=2;while(s78!==3){switch(s78){case 1:a=this.Ec;s78=5;break;case 2:this.LNa(this.mv);s78=1;break;case 6:s78=a>this.Ca.length?1:9;break;s78=a<this.Ca.length?4:3;break;case 5:s78=a<this.Ca.length?4:3;break;case 4:this.Ca[a++].Yia=!0;s78=5;break;}}};b.prototype.zib=function(a){var i78,b,d,g,f,k,f5o,O5o,l5o,C5o,I5o,M5o,L5o,X5o;i78=2;while(i78!==22){f5o=" to";f5o+=" ";f5o+="in";f5o+="dex: ";O5o="s";O5o+="witchTrack";O5o+="s current: ";l5o="s";l5o+="w";l5o+="itchTracks ";l5o+="rejected, audio disabled";C5o="swi";C5o+="tchTracks re";C5o+="jected, bufferLevelMs";I5o="swi";I5o+="tchT";I5o+="racks";I5o+=" rejected, previous switch still waiting to start";M5o="switchTrac";M5o+="ks rejected, previous switch still in p";M5o+="rogress: ";L5o="swit";L5o+="chTra";L5o+="cks ";L5o+="rejected, buffering";X5o="sw";X5o+="it";X5o+="chTracks can't f";X5o+="ind trackId:";switch(i78){case 2:b=this.H;i78=5;break;case 14:f=this.la.oo(h.u.VIDEO);i78=13;break;case 17:return this.ba(X5o,d),!1;break;case 7:i78=c(this.Gb.value)?6:14;break;case 15:i78=k==f?27:26;break;case 6:return this.ba(L5o),!1;break;case 5:i78=!this.dj?4:3;break;case 20:i78=a.qy?19:18;break;case 11:i78=this.mv?10:20;break;case 10:return this.ba(M5o+JSON.stringify(this.mv)),!1;break;case 19:return this.ba(I5o),!1;break;case 12:return this.ba(C5o,f,"<",b.RQ),!1;break;case 16:f=this.ws[h.u.AUDIO];i78=15;break;case 18:i78=!this.Mp.audio_tracks.some(function(a,b){var B78;B78=2;while(B78!==1){switch(B78){case 2:return a.track_id==d?(k=b,!0):!1;break;}}})?17:16;break;case 3:d=a.Wz;a=this.Wa.jb[h.u.AUDIO];g=this.la.gf.Ph(h.u.AUDIO);i78=7;break;case 4:return this.ba(l5o),!1;break;case 13:i78=f<b.RQ?12:11;break;case 26:b.xe&&this.eh(O5o+f+f5o+k);a.TH={ac:d,Vf:k};this.OPa(g);return!0;break;case 27:return!1;break;}}};b.prototype.FS=function(a){var V78;V78=2;while(V78!==5){switch(V78){case 2:this.lfa=a;this.la.FS(a);V78=5;break;}}};b.prototype.Ko=function(a){var H78,c3o,S3o;H78=2;while(H78!==1){c3o="as";c3o+="e";c3o+="exce";c3o+="ptio";c3o+="n";S3o="a";S3o+="s";S3o+="eexce";S3o+="ption";switch(H78){case 2:this.emit(S3o,{type:c3o,msg:a});H78=1;break;}}};b.prototype.O$a=function(a,b,c,d){var o78,D3o,b3o;o78=2;while(o78!==5){D3o="maxvideobitrat";D3o+="echan";D3o+="g";D3o+="ed";b3o="maxv";b3o+="id";b3o+="eobitratechanged";switch(o78){case 2:a={type:b3o,time:M.time.fa(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.emit(D3o,a);o78=5;break;}}};b.prototype.Qra=function(){var F78,a,r3o;F78=2;while(F78!==9){r3o="stre";r3o+="ame";r3o+="rend";switch(F78){case 1:F78=!this.TPa&&this.H.Ora?5:9;break;case 2:F78=1;break;case 5:this.TPa=!0;a={type:r3o,time:M.time.fa()};V(this,a.type,a);F78=9;break;}}};b.prototype.hfa=function(a,b,c){var v78,d,g;v78=2;while(v78!==3){switch(v78){case 5:c.some(function(c){var K78,h;K78=2;while(K78!==8){switch(K78){case 5:h=c.ranges;d=k.R(h)?b>=c.min&&b<=c.max:h.some(function(a){var b78;b78=2;while(b78!==1){switch(b78){case 4:return b<=a.min||b>a.max;break;b78=1;break;case 2:return b>=a.min&&b<=a.max;break;}}});!d&&c.disallowed&&c.disallowed.some(function(a){var J78;J78=2;while(J78!==5){switch(J78){case 3:J78=a.stream.bitrate!==b?9:8;break;J78=a.stream.bitrate===b?1:5;break;case 1:return g=a.disallowedBy,!0;break;case 9:return g=a.disallowedBy,~9;break;J78=5;break;case 2:J78=a.stream.bitrate===b?1:5;break;}}});K78=9;break;case 1:K78=a===c.profile?5:8;break;case 2:K78=1;break;case 9:return!0;break;}}});return{inRange:d,tA:g};break;case 2:d=!0;v78=5;break;}}};v58=102;break;case 108:b.prototype.RM=function(){var L88,a;L88=2;while(L88!==6){switch(L88){case 7:this.Gg();L88=6;break;case 2:L88=1;break;case 1:a=this.H;this.la.Ce.forEach(function(a){var k88;k88=2;while(k88!==1){switch(k88){case 2:delete a.seeking;k88=1;break;case 4:+a.seeking;k88=2;break;k88=1;break;}}});c(this.Gb.value)&&(a.xe&&this.la.Ce.forEach(function(a){var g88,b,a3o,Z3o,v3o,p3o,Y3o,m3o,d3o,q3o,k3o,j3o,x3o,u3o;g88=2;while(g88!==9){a3o=",";a3o+=" n";a3o+="extAp";a3o+="pen";a3o+="dPts: ";Z3o=",";Z3o+=" to";Z3o+="Ap";Z3o+="pend: ";v3o=", sentDa";v3o+="ta";v3o+=": ";p3o=", co";p3o+="mp";p3o+="leteStream";p3o+="ingPts:";p3o+=" ";Y3o=", ";Y3o+="strea";Y3o+="mingPt";Y3o+="s:";Y3o+=" ";m3o=", ";m3o+="p";m3o+="ar";m3o+="t";m3o+="ials: ";d3o=",";d3o+=" totalBu";d3o+="fferBytes: ";q3o=", tota";q3o+="l";q3o+="Bu";q3o+="fferMs: ";k3o=",";k3o+=" app";k3o+="endedBu";k3o+="f";k3o+="ferBytes: ";j3o=", ap";j3o+="pe";j3o+="n";j3o+="dedBuffe";j3o+="rMs: ";x3o=", ";x3o+="bu";x3o+="f";x3o+="ferLevelB";x3o+="ytes: ";u3o="bufferingComple";u3o+="t";u3o+="e: , ";u3o+="mediaTy";u3o+="pe: ";switch(g88){case 5:b=this.af[a.O]||{};a=u3o+a.O+x3o+a.Jh+j3o+a.hq+k3o+a.uN+q3o+a.HC+d3o+a.Cu+m3o+a.Ia.Yt+Y3o+a.Pa+p3o+a.gA+v3o+JSON.stringify(a.Ia.hb.Xa)+Z3o+JSON.stringify(b.Ih)+a3o+b.INa;this.eh(a);g88=9;break;case 2:g88=1;break;case 1:g88=a?5:9;break;}}}.bind(this)),this.ONa());this.TE();this.cz&&(clearTimeout(this.cz),delete this.cz);this.Gb.set(h.wa.Oe);L88=7;break;}}};b.prototype.Nha=function(a,b){var S88,R88;S88=2;while(S88!==7){switch(S88){case 8:try{R88=2;while(R88!==1){switch(R88){case 2:this.f1(h.wa.Xy,{ca:a.ca});R88=1;break;}}}catch(ma){var z3o;z3o="Hindsight: Error eva";z3o+="lu";z3o+="ating QoE at endOfSt";z3o+="re";z3o+="am: ";q011.A8o(0);this.Ko(q011.V8o(ma,z3o));}S88=7;break;case 2:a.Zf=!0;a.ca=k.aa(b)?b:a.Pa;a.Mu=!1;this.gX(a);this.ov();S88=9;break;case 9:S88=this.$k&&a.O===h.u.VIDEO?8:7;break;}}};b.prototype.dPa=function(){var r88,a;r88=2;while(r88!==4){switch(r88){case 2:a=this.Ra.sb;a&&(a=a.get())&&a.avtp&&this.xr.OQa({avtp:a.avtp.sa});r88=4;break;}}};b.prototype.PPa=function(a){var T88,b,c,y3o,n3o,e3o;T88=2;while(T88!==8){y3o="startup, playerState no";y3o+=" longer STARTING";y3o+=":";n3o="failed ";n3o+="t";n3o+="o s";n3o+="tart audio pipeline";e3o="failed to star";e3o+="t vi";e3o+="deo pipeline";switch(T88){case 2:this.Gb.set(h.wa.Ag);b=this.la.Ce;T88=4;break;case 4:c=b[h.u.AUDIO];b=b[h.u.VIDEO];this.xf&&!this.Tha(a,b)?this.ba(e3o):this.dj&&!this.Tha(a,c)?this.ba(n3o):(this.mha=!0,this.Ca[0].roa=!0,c=this.Wa.jb[h.u.VIDEO],b=this.Wa.jb[h.u.AUDIO],(0<c.Zm||0<b.Zm)&&this.UNa(a,b.Zm,c.Zm,b.qI,c.qI),this.Gb.value!=h.wa.Ag?this.ba(y3o,this.Gb.value):(this.TM(0),this.YNa()));T88=8;break;}}};b.prototype.Tha=function(a,b){var n88,c,d,g,E3o,K3o;n88=2;while(n88!==12){E3o="NFErr_MC_S";E3o+="treaming";E3o+="In";E3o+="it";E3o+="Failure";K3o="sta";K3o+="r";K3o+="tPipeli";K3o+="n";K3o+="e failed";switch(n88){case 3:return this.Td()||this.Kj(K3o,E3o),!1;break;case 2:c=b.O;d=this.Wa.zP(b).yh;n88=4;break;case 4:n88=k.R(d)?3:9;break;case 8:n88=this.Pe[c][d.id]?7:6;break;case 9:d=b.Bc[d];n88=8;break;case 6:g=this.$L(c,d.sj,d.yi);this.zE(b,a,d,{offset:0,ga:g,yw:!this.Ui&&!this.zfa&&c===h.u.VIDEO,Ct:!this.Wa.jb[c].o1a});n88=13;break;case 7:return!0;break;case 13:return!0;break;}}};b.prototype.TM=function(a){var d88,b,d,g;d88=2;while(d88!==11){switch(d88){case 2:d=this.H;b=this.Wa.jb[h.u.AUDIO];g=this.Wa.jb[h.u.VIDEO];d88=3;break;case 3:b.qF=void 0;g.qF=void 0;d88=8;break;case 8:this.Gb.set(2===a?h.wa.hs:h.wa.Mr);this.PNa();this.la.Ce.forEach(function(b){var A88;A88=2;while(A88!==5){switch(A88){case 2:b.ZZ=0;b.seeking=0===a||1===a;A88=5;break;}}});this.bX=M.time.fa();b.Rk=g.Rk=this.bX;d88=12;break;case 12:0===a&&(!this.xf||0<g.Zm)&&(!this.dj||0<b.Zm)&&(b=this.ov())&&d.hO?(this.Hv&&(clearTimeout(this.Hv),delete this.Hv),this.mY=!0):(d.hG&&(this.sX=setTimeout(function(){var y88;y88=2;while(y88!==1){switch(y88){case 2:this.dPa();y88=1;break;case 4:this.dPa();y88=3;break;y88=1;break;}}}.bind(this),d.R0)),c(this.Gb.value)&&(this.cz=setTimeout(function(){var p88;p88=2;while(p88!==1){switch(p88){case 2:this.ov();p88=1;break;case 4:this.ov();p88=5;break;p88=1;break;}}}.bind(this),d.MB)),this.Gg());d88=11;break;}}};b.prototype.TY=function(){var s88,t3o;s88=2;while(s88!==4){t3o="wipeHea";t3o+="derC";t3o+="ach";t3o+="e";switch(s88){case 2:this.H.xe&&this.eh(t3o);this.Ra.vja();s88=5;break;case 5:this.Ef&&delete this.Ef;s88=4;break;}}};b.prototype.tfa=function(a){var i88,b,c,d,g,i3o,W3o;i88=2;while(i88!==14){i3o="ca";i3o+="tc";i3o+="h";W3o="checkForH";W3o+="cdSta";W3o+="rt";switch(i88){case 3:c=function(a,b){var B88,c,d,g,f,p,n,T3o;B88=2;while(B88!==13){T3o="ado";T3o+="ptPipeline no";T3o+=" header for streamId:";switch(B88){case 9:B88=n&&(d=n.Za,c=n.dk.stream,k.R(b.Tl)||this.Cc.rva(b.Tl,b.il,b.ek),f.Jm=b.Jm,f.el=b.el,f.n6a=b.Tl,a.Gkb(d))?8:13;break;case 2:g=a.O;B88=5;break;case 5:f=this.Wa.jb[g];p=!this.Ui&&!this.zfa&&g===h.u.VIDEO;n=b[g];B88=9;break;case 8:B88=!n.dk?7:6;break;case 6:B88=this.cfa(a,this.Ec,n.dk,p,!0)?14:13;break;case 7:a.Tb(T3o,d);B88=13;break;case 14:return b=this.Pe[g][d].U,b=b.Zj(a.Pa,void 0,!0),p=c.zi(b),c=p.X,a.M7()&&(p=p.u1(a.Pa))&&0<p.Ib&&(c=p.Ib),a.Pa!==c&&(a.Pa=c,a.Qg=b,this.zY(g,c)),this.aLa(a,n.data),f.o1a=!0,g===h.u.AUDIO&&this.Cc.lC(n.dk.L),d;break;}}}.bind(this);d=function(a){var V88,d,g,f,N3o,o3o,R3o;V88=2;while(V88!==11){N3o="adoptHcdSta";N3o+="r";N3o+="t";o3o="ch";o3o+="eckForHc";o3o+="dE";o3o+="n";o3o+="d";R3o="a";R3o+="doptHcdE";R3o+="nd";switch(V88){case 5:V88=k.R(a)?4:3;break;case 4:b.rN||this.TY();V88=11;break;case 13:!this.dj||b.y5a&&!f||c(g,a);this.Op(R3o);V88=11;break;case 3:d=this.la.Ce;g=d[h.u.AUDIO];d=d[h.u.VIDEO];V88=7;break;case 2:this.Op(o3o);V88=5;break;case 7:this.Op(N3o);f=!0;this.xf&&(f=c(d,a));V88=13;break;}}}.bind(this);this.Op(W3o);this.Ca.forEach(function(b){var H88;H88=2;while(H88!==1){switch(H88){case 4:b.M==a||(g=b);H88=5;break;H88=1;break;case 2:b.M===a&&(g=b);H88=1;break;}}});return this.Ra.Dc.v8a(a,g?g.ne:{}).then(d)[i3o](function(a){var o88;o88=2;while(o88!==1){switch(o88){case 4:this.ba(a);o88=8;break;o88=1;break;case 2:this.ba(a);o88=1;break;}}}.bind(this));break;case 2:b=this.H;i88=5;break;case 5:i88=!this.mQa||!this.Ra.Dc?4:3;break;case 4:return this.Ra.xTa(),W.resolve();break;}}};b.prototype.FLa=function(a,b,c,d,g){var F88;F88=2;while(F88!==1){switch(F88){case 2:return this.lQa&&this.Ra.Dc&&(c=this.Ra.Dc.f4(c,d))&&this.cfa(a,b,c,!1,g)?!0:!1;break;}}};b.prototype.cfa=function(a,b,c,d,g){var v88,h,f,G3o;v88=2;while(v88!==11){G3o="head";G3o+="e";G3o+="rc";G3o+="a";G3o+="che";switch(v88){case 4:v88=d!=!(!c.Se&&!c.hvb)?3:9;break;case 2:h=this.Ca[b].ne[a.O].nl;v88=5;break;case 5:f=c.Za;v88=4;break;case 14:g&&this.VNa(c.M,c.Za);a.Zt&&a.kn(a.vR);return!0;break;case 3:return!1;break;case 9:this.Pe[a.O][f]=c;c.uRa(h[f]);this.afa(a,c);c.Se&&(c.Se.source=G3o,this.IX(a,b,c.Se));v88=14;break;}}};b.prototype.aLa=function(a,b){var K88,f,p,n,c,d,g,r,H3o,J3o;K88=2;while(K88!==19){H3o="adoptData, not ";H3o+="adopting";H3o+=" failed mediaRequest:";J3o="adoptData, not a";J3o+="dopting abor";J3o+="te";J3o+="d mediaRequest:";switch(K88){case 14:r=b.shift();K88=13;break;case 5:c=this.Ca[0];d=a.mc;g=d.na;d=Math.min(c.ca||Infinity,d.ca||Infinity);K88=8;break;case 11:this.VW=!1;K88=10;break;case 13:r.readyState===O.$a.em?a.ba(J3o,r.toString()):r.readyState===O.$a.hm?(a.ba(H3o,r.toString()),this.qs(a,r,!1)):a.Pa>=r.Oa&&a.Pa<r.pc&&(a.Pa<d||!k.aa(d))?(this.bLa(a,r),a.Pa=r.pc,k.aa(d)&&a.Pa>=d&&this.cY(g,r.pc),f===h.u.AUDIO&&this.Cc.lC(r.L),r.complete?(p.Zm+=r.pc-r.Oa,r.X7a&&(p.qI+=r.pc-r.Oa),n=r):(this.Ef||(this.Ef=[]),this.Ef.push(r))):this.qs(a,r,!1);K88=6;break;case 20:a.Qg=this.fM(f,a.mc.za,a.Pa),a.Vd=c.Eb[f].stream.zi(a.Qg);K88=19;break;case 7:f=a.O,p=this.Wa.jb[f];K88=6;break;case 1:K88=0!==b.length?5:19;break;case 6:K88=0<b.length?14:12;break;case 12:n&&this.vga(n);K88=11;break;case 8:this.VW=!0;K88=7;break;case 10:K88=n||this.Ef&&this.Ef.length?20:19;break;case 2:K88=1;break;}}};b.prototype.bLa=function(a,b){var b88,c,Q3o,V3o,w3o;b88=2;while(b88!==9){Q3o=", p";Q3o+="ts";Q3o+=":";Q3o+=" ";V3o=", ";V3o+="s";V3o+="t";V3o+="ate";V3o+=": ";w3o="adopt";w3o+="MediaRequest: ty";w3o+="p";w3o+="e: ";switch(b88){case 2:c=a.O;this.H.xe&&this.eh(w3o+c+V3o+b.readyState+Q3o+b.Oa);this.zY(c,b.Oa);a.Ia.vRa(this,b);b88=9;break;}}};b.prototype.zE=function(a,b,c,d){var J88,g,h,f,g3o,A3o;J88=2;while(J88!==10){g3o="NF";g3o+="Err_";g3o+="MC_StreamingFailure";A3o="MediaRequest open";A3o+=" ";A3o+="failed (2";A3o+=")";switch(J88){case 2:g=c.id;J88=5;break;case 5:J88=this.FLa(a,c.za,b,g,d.Ct)?4:3;break;case 4:this.Gg();J88=10;break;case 3:b=a.O;h=!!d.yw;f=this.Wa.jb[b];h=d.Ct&&!h?f.hj:this.tE;J88=6;break;case 13:a=a.Ia.$N(this,this.la.gf,d,h,c);this.Pe[b][g]=a;a.open()?this.Gg():this.Kj(A3o,g3o);J88=10;break;case 6:c.url&&(f.K3=c.url);d.dk=!0;J88=13;break;}}};b.prototype.sY=function(a,b,c){var D88,d,g;D88=2;while(D88!==8){switch(D88){case 3:d.roa=!0;this.lE(d,b);D88=8;break;case 2:d=this.Ca[b];g=d.Pm;this.la.Ce.forEach(function(b){var f88,f,k,p,P3o,F3o;f88=2;while(f88!==6){P3o="requestHea";P3o+="dersFromManifest, shu";P3o+="tdown detected";F3o="r";F3o+="e";F3o+="questHeadersFromManifest, unable to update urls";switch(f88){case 3:f88=this.Td()?9:8;break;case 2:f=b.O;f88=5;break;case 5:f88=this.pi[f]?4:6;break;case 8:p=this.Wa.ax(b);(p=g.xT(p,k.Bc))?(k.Bc=p,p=this.Wa.jb[f],p=this.gga(k.Bc,p.Nm?p.Nm.L:0),k=k.Bc[p],(p=this.Pe[f][k.id])&&p.U?this.jQa(b,d,p):(f={offset:0,ga:this.$L(f,k.sj,k.yi),rC:!1,yw:f===h.u.VIDEO,Ct:!0},this.zE(b,a,k,f))):b.ba(F3o);f88=6;break;case 4:k=c[f];f88=3;break;case 9:this.ba(P3o);f88=6;break;}}}.bind(this));D88=3;break;}}};b.prototype.LMa=function(a){var M88;M88=2;while(M88!==1){switch(M88){case 2:delete this.Pe[a.O][a.Za];M88=1;break;}}};b.prototype.fM=function(a,b,c){var N88,d;N88=2;while(N88!==6){switch(N88){case 2:b=this.Ca[b];d=b.Eb[a];N88=4;break;case 4:N88=d?3:8;break;case 9:return c;break;case 3:N88=(c=d.U.Zj(c),-1!==c)?9:6;break;case 8:N88=(a=b.dw[a])?7:6;break;case 7:q011.Q8o(1);return Math.round(q011.w8o(a,c));break;}}};b.prototype.afa=function(a,b){var j88,c,d,g,f,k,p,n,r,B3o,U3o,h3o;j88=2;while(j88!==21){B3o="firstHeader, but ";B3o+="initialHeader already set";B3o+=" to:";U3o="c";U3o+="oun";U3o+="t:";h3o="addFragments ";h3o+="fo";h3o+="r s";h3o+="tale manifest";h3o+="Index:";switch(j88){case 4:g=b.Za;f=b.U;j88=9;break;case 9:j88=d>=this.Ca.length?8:7;break;case 2:c=a.O;d=b.za;j88=4;break;case 8:this.ba(h3o,d,U3o,this.Ca.length);j88=21;break;case 7:k=b.Fr?60:f.length;q011.Q8o(2);p=f.get(q011.w8o(k,1));n=p.X+p.duration;r=this.Ca[d];j88=12;break;case 12:b.dw=f.Jl;b.ik={Th:n,j7a:p.X,lastIndex:k-1};r.dw[c]=f.Jl;j88=20;break;case 20:r.B4[c]=f.EQ;b.cI&&(b.cI.forEach(function(a){var P88;P88=2;while(P88!==5){switch(P88){case 2:a=this.Ca[a].ne[c].nl;a[g]&&a[g]!==b.stream&&!a[g].rh&&a[g].SN(b.stream);P88=5;break;}}}.bind(this)),delete b.cI);k=r.ne[c].nl[g];p=this.Mp.choiceMap&&this.H.W8a;n=this.$j()[a.O];p=k.hQ(this.H.IH,n,p);j88=27;break;case 22:this.Gg();j88=21;break;case 27:this.H.eJ?k.fl=p:k.KS=!p;r.Eb[c]?b.Ct?a.ba(B3o,r.Eb[c]):r.Eb[c].axa&&(r.Eb[c].axa=!1,r.Eb[c]=b,delete a.Vd,delete a.Ng,r.RR=!1,this.lE(r,d),a.kn(a.Pa),this.la.Z6(this.la.gf)):(r.Eb[c]=b,0===d&&(a=this.la.gf,this.mE(d,this.xf?a.Ph(h.u.VIDEO).Pa:a.Ph(h.u.AUDIO).Pa,a)),this.lE(r,d));this.Kz(this.Ec+1);this.wX();b.Fr||this.dOa(d,c,g,r.M,f);j88=22;break;}}};b.prototype.lE=function(a,b){var Q88,c,d;Q88=2;while(Q88!==19){switch(Q88){case 5:this.OY(a,b);d=[0,0];0===b||a.AH||a.replace||(c=this.mE(b,a.X,this.la.gf,this.la.gf,a.M===this.Ca[b-1].M),d=c.Hx);a.X=d[h.u.VIDEO];Q88=8;break;case 1:Q88=!(a.RR||this.dj&&!a.Eb[0]||this.xf&&!a.Eb[1])?5:19;break;case 2:Q88=1;break;case 8:a.Hx=d;a.Dm=c&&c.Dm;this.qfa(b);this.$Na(b,a.Wl,a.X,a.ik.Th,this.xf?a.Eb[h.u.VIDEO].ik.Th:a.Eb[h.u.AUDIO].ik.Th);a.RR=!0;Q88=12;break;case 20:++a;Q88=11;break;case 12:q011.A8o(0);a=q011.w8o(1,b);Q88=11;break;case 11:Q88=a<this.Ca.length?10:19;break;case 10:b=this.Ca[a],b.RR=!1,this.lE(b,a);Q88=20;break;}}};b.prototype.qga=function(a){var e88;e88=2;while(e88!==1){switch(e88){case 2:return a.ik?a.ik.Th:a.ca?a.ca:a.Ma.duration;break;}}};b.prototype.qfa=function(a){var l88,b;l88=2;while(l88!==4){switch(l88){case 2:b=this.Ca[a];0===a||b.replace?b.Wl=0:(a=this.Ca[a-1],b.Wl=a.Wl+this.qga(a)-b.X);l88=4;break;}}};b.prototype.OY=function(a,b){var Z88,c,d,g,f,k,p,n,r;Z88=2;while(Z88!==17){switch(Z88){case 9:f=this.la.gf;d=f.Sa;g=d[h.u.VIDEO];k=d[h.u.AUDIO];Z88=14;break;case 2:c=this.H;d=a.Eb[h.u.AUDIO];g=a.Eb[h.u.VIDEO];Z88=3;break;case 3:Z88=!(this.dj&&!d||this.xf&&!g)?9:17;break;case 20:a.ik=c;this.bOa(b,this.xf?a.Eb[h.u.VIDEO].ik.Th:a.Eb[h.u.AUDIO].ik.Th,c.Th);b===this.la.Rka&&((b=f.na.ca)&&b<p&&(r=this.lz(d,a.Eb,b)),g&&g.DS(r[h.u.VIDEO]),k&&k.DS(r[h.u.AUDIO]));Z88=17;break;case 14:p=a.ca||Infinity;r=this.lz(d,a.Eb,p);n=r.map(function(a){var U88;U88=2;while(U88!==1){switch(U88){case 2:return{Th:a.ca,j7a:a.X,lastIndex:a.index};break;}}});r.length&&(a.Jxb=r);c=this.xf?!c.hn||c.Ol?n[h.u.VIDEO]:this.nPa(n[h.u.AUDIO],n[h.u.VIDEO]):n[h.u.AUDIO];Z88=20;break;}}};b.prototype.nPa=function(a,b){var c88,c,d,g,s3o;c88=2;while(c88!==8){s3o="m";s3o+="axPts between stream";s3o+="s is largely different. Cho";s3o+="osi";s3o+="ng lower maxPts:";switch(c88){case 2:c=this.H;d=b;c88=4;break;case 4:g=Math.abs(a.Th-b.Th);c88=3;break;case 3:g<=c.CQ?d=a.Th>b.Th?a:b:g>c.CQ&&(d=a.Th<b.Th?a:b,this.ba(s3o,d));return d;break;}}};b.prototype.uY=function(a,b){var I88;I88=2;while(I88!==5){switch(I88){case 2:this.la.gf.reset(!0,a,b);I88=1;break;case 1:(void 0===b?[h.u.AUDIO,h.u.VIDEO]:[b]).forEach(function(a){var m88;m88=2;while(m88!==4){switch(m88){case 2:this.af[a].reset();this.lPa(a);this.Cc.Eab(a);m88=4;break;}}}.bind(this));I88=5;break;}}};v58=149;break;case 161:b.prototype.Ffa=function(a){var N98,b,c,X3o;N98=2;while(N98!==6){X3o="createDlT";X3o+="racks";X3o+="S";X3o+="tart";switch(N98){case 2:b=this;c=b.H;0===b.tv&&b.Op(X3o);N98=3;break;case 3:b.tv+=a.length;a=a.map(function(a){var j98,d,b6o,c6o,f3o,I3o,L3o;j98=2;while(j98!==12){b6o="c";b6o+="r";b6o+="eated";c6o="des";c6o+="tro";c6o+="y";c6o+="ed";f3o="tra";f3o+="n";f3o+="sportre";f3o+="po";f3o+="rt";I3o="e";I3o+="r";I3o+="r";I3o+="o";I3o+="r";L3o="netw";L3o+="or";L3o+="kfailing";switch(j98){case 9:d.$E.on(d,L3o,function(){var Q98,M3o;Q98=2;while(Q98!==5){M3o="reportNetworkF";M3o+="ail";M3o+="in";M3o+="g";M3o+=": ";switch(Q98){case 2:c.xe&&b.eh(M3o+d.toString());d.D0a&&(b.nA.DA.ll(void 0,d.Sl,d.Um,d.Gvb),b.PY());Q98=5;break;}}});d.$E.on(d,I3o,function(){var e98,O3o,l3o,C3o;e98=2;while(e98!==5){O3o="NFEr";O3o+="r_MC_Stre";O3o+="amingFailur";O3o+="e";l3o="Do";l3o+="wnlo";l3o+="adTrack";l3o+=" fatal er";l3o+="ror";C3o="DownloadT";C3o+="rack fa";C3o+="tal error: ";switch(e98){case 2:c.xe&&b.eh(C3o+JSON.stringify(a));b.Kj(l3o,O3o,d.Sl,0,d.Um);e98=5;break;}}});d.on(f3o,function(a){var l98,S6o;l98=2;while(l98!==1){S6o="tr";S6o+="ansp";S6o+="ortr";S6o+="ep";S6o+="ort";switch(l98){case 4:b.emit("",a);l98=2;break;l98=1;break;case 2:b.emit(S6o,a);l98=1;break;}}});d.on(c6o,function(){var Z98;Z98=2;while(Z98!==1){switch(Z98){case 2:d.removeAllListeners();Z98=1;break;case 4:d.removeAllListeners();Z98=5;break;Z98=1;break;}}});k.R(d.Zc)||d.Zc();return d;break;case 2:d=new t(a,b.Ej);d.te=b;d.$E=new n();d.$E.on(d,b6o,function(){var P98,D6o;P98=2;while(P98!==5){D6o="createDlTr";D6o+="ack";D6o+="sEnd";switch(P98){case 2:--b.tv;0===b.tv&&b.Op(D6o);P98=5;break;}}});j98=9;break;}}});t.kg();return a;break;}}};b.prototype.XLa=function(){var U98,a;U98=2;while(U98!==9){switch(U98){case 4:this.tE&&(a.push(this.tE),delete this.tE);a.forEach(function(a){var I98;I98=2;while(I98!==4){switch(I98){case 2:a.aO||--this.tv;a.$E.clear();a.zm();I98=4;break;}}}.bind(this));U98=9;break;case 2:a=[];this.Wa.jb.forEach(function(b){var c98;c98=2;while(c98!==5){switch(c98){case 2:k.R(b.hj)||a.push(b.hj);delete b.hj;c98=5;break;}}});U98=4;break;}}};b.prototype.WLa=function(a){var m98,b;m98=2;while(m98!==14){switch(m98){case 6:a.hj=void 0;m98=14;break;case 2:b=a.O;b==h.u.AUDIO&&(a.gS=!0,this.Cc.lC(null));m98=4;break;case 4:a=this.Wa.jb[b];b=a.hj;b.aO||--this.tv;b.$E.clear();b.zm();m98=6;break;}}};b.prototype.zha=function(a){var h98,b,c,d,g,h,f;h98=2;while(h98!==11){switch(h98){case 2:b=a.O;c=this.Wa.jb[b];h98=4;break;case 4:d=c.hj;h98=3;break;case 3:h98=d?9:11;break;case 14:b=this.Ffa([b[0]]);c.hj=b[0];h.forEach(function(b){var x98;x98=2;while(x98!==1){switch(x98){case 2:this.zE(a,this.El,b.stream,b);x98=1;break;}}}.bind(this));h98=11;break;case 9:h=[];for(f in this.Pe[b]){(g=this.Pe[b][f])&&!g.U&&g.track==d&&(delete this.Pe[b][f],h.push({stream:g.stream,offset:g.offset,ga:g.ga,yw:g.yw,za:g.za,Ct:g.Ct,Qq:g.Qq}),a.Ia.GI(g));}this.WLa(a);b=this.iga([b]);h98=14;break;}}};b.prototype.Op=function(a){var X0C,r6o;X0C=2;while(X0C!==5){r6o="st";r6o+="a";r6o+="rtEvent";switch(X0C){case 2:a={type:r6o,event:a,time:M.time.fa()};V(this,a.type,a);X0C=5;break;}}};b.prototype.cOa=function(){var W0C,a,u6o;W0C=2;while(W0C!==4){u6o="o";u6o+="pe";u6o+="nComplete";switch(W0C){case 2:a={type:u6o};V(this,a.type,a);W0C=4;break;}}};b.prototype.dOa=function(a,b,c,d,g){var C0C,x6o;C0C=2;while(C0C!==1){x6o="p";x6o+="t";x6o+="sSta";x6o+="rt";x6o+="s";switch(C0C){case 2:this.H.pZa||(a={type:x6o,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:g.Uva()},V(this,a.type,a));C0C=1;break;}}};b.prototype.RNa=function(a,b){var G0C,q6o,k6o,j6o;G0C=2;while(G0C!==4){q6o="e";q6o+="mpt";q6o+="yCo";q6o+="ntentId";k6o="no";k6o+="n";k6o+="e";j6o="drm";j6o+="H";j6o+="ea";j6o+="d";j6o+="er";switch(G0C){case 2:a={type:j6o,manifestIndex:a};b?(a.drmType=b.jh,a.source=b.source,a.contentId=b.rka,a.header=b.dk,a.prk=!!b.Qcb,a.headers=b.headers):(a.drmType=k6o,a.contentId=q6o);V(this,a.type,a);G0C=4;break;}}};b.prototype.VNa=function(a,b){var z0C,d6o;z0C=2;while(z0C!==5){d6o="h";d6o+="eader";d6o+="C";d6o+="acheHit";switch(z0C){case 1:V(this,a.type,a);z0C=5;break;case 9:V(this,a.type,a);z0C=6;break;z0C=5;break;case 2:a={type:d6o,movieId:a,streamId:b};z0C=1;break;}}};b.prototype.UNa=function(a,b,c,d,g){var t0C,m6o;t0C=2;while(t0C!==5){m6o="he";m6o+="aderC";m6o+="acheDa";m6o+="taHi";m6o+="t";switch(t0C){case 2:a={type:m6o,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:g};V(this,a.type,a);t0C=5;break;}}};b.prototype.bOa=function(a,b,c){var u0C,Y6o;u0C=2;while(u0C!==5){Y6o="ma";Y6o+="xPo";Y6o+="s";Y6o+="itio";Y6o+="n";switch(u0C){case 2:a={type:Y6o,index:a,maxPts:b,endPts:c};V(this,a.type,a);u0C=5;break;}}};b.prototype.lOa=function(a,b,c,d,g){var q0C,v6o,p6o;q0C=2;while(q0C!==4){v6o="notifyStream";v6o+="ing";v6o+="Erro";v6o+="r: ";p6o="e";p6o+="r";p6o+="r";p6o+="o";p6o+="r";switch(q0C){case 7:V(this,a.type,a);q0C=3;break;q0C=4;break;case 2:a={type:p6o,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:g};this.Tb(v6o+JSON.stringify(a));q0C=5;break;case 5:V(this,a.type,a);q0C=4;break;}}};b.prototype.Yga=function(a,b){var w0C,Z6o;w0C=2;while(w0C!==5){Z6o="segmentS";Z6o+="t";Z6o+="a";Z6o+="rting";switch(w0C){case 2:b={type:Z6o,segmentId:a.id,contentOffset:b};a.Dx||V(this,b.type,b);w0C=5;break;}}};b.prototype.fOa=function(a){var a0C,b,a6o;a0C=2;while(a0C!==4){a6o="s";a6o+="egmentAb";a6o+="orted";switch(a0C){case 5:a.Dx||V(this,b.type,b);a0C=4;break;case 2:b={type:a6o,segmentId:a.id};a0C=5;break;}}};b.prototype.DMa=function(a,b){var E0C,c,d,g,E6o,K6o,y6o,n6o,e6o,z6o;E0C=2;while(E0C!==20){E6o="sea";E6o+="mle";E6o+="ss";K6o="r";K6o+="e";K6o+="s";K6o+="e";K6o+="t";y6o="s";y6o+="k";y6o+="i";y6o+="p";n6o="l";n6o+="o";n6o+="n";n6o+="g";e6o="l";e6o+="on";e6o+="g";z6o="s";z6o+="eamle";z6o+="s";z6o+="s";switch(E0C){case 3:c.atRequest.weight=d;k.wc(b.zc,function(b,d){var Y0C;Y0C=2;while(Y0C!==1){switch(Y0C){case 2:d!=a&&(c.discard[d]={weight:b.weight},G(b.oF,c.discard[d]));Y0C=1;break;}}});d=b.rS?b.EP?z6o:e6o:b.Era?n6o:b.ln?y6o:K6o;c.transitionType=d;b.LYa||(c.delayToTransition=b.iO);d=E6o===d?0:M.time.fa()-b.startTime;c.durationOfTransition=d;E0C=12;break;case 2:E0C=1;break;case 12:c.atTransition=b.Hwa;c.srcsegmentduration=this.la.p4a(b.SS);return c;break;case 1:c={segment:a,srcsegment:b.SS,srcoffset:b.Mva,seamlessRequested:b.rS,atRequest:{},discard:{}};g=b.zc[a];g?(d=g.weight,G(g.oF,c.atRequest)):d=this.la.Mna(b.SS,a);E0C=3;break;}}};b.prototype.iOa=function(a,b,c){var O0C,t6o;O0C=2;while(O0C!==4){t6o="s";t6o+="e";t6o+="gmentPresentin";t6o+="g";switch(O0C){case 5:a.Dx||V(this,b.type,b);O0C=4;break;case 2:c=c?this.DMa(a.id,c):void 0;b={type:t6o,segmentId:a.id,contentOffset:b,metrics:c};O0C=5;break;}}};b.prototype.gOa=function(a,b){var L0C,T6o;L0C=2;while(L0C!==5){T6o="se";T6o+="g";T6o+="mentAppended";switch(L0C){case 2:b={type:T6o,segmentId:a.id,metrics:b};a.Dx||V(this,b.type,b);L0C=5;break;}}};b.prototype.hOa=function(a,b,c){var k0C,R6o;k0C=2;while(k0C!==5){R6o="segm";R6o+="e";R6o+="ntCompl";R6o+="ete";switch(k0C){case 2:a={type:R6o,mediaType:a,manifestIndex:b,segmentId:c.id};c.Dx||V(this,a.type,a);k0C=5;break;}}};b.prototype.cY=function(a,b){var g0C,o6o;g0C=2;while(g0C!==5){o6o="las";o6o+="tS";o6o+="egment";o6o+="Pts";switch(g0C){case 2:b={type:o6o,segmentId:a.id,pts:Math.floor(b)};a.Dx||V(this,b.type,b);g0C=5;break;}}};b.prototype.$Na=function(a,b,c,d,g){var S0C,N6o;S0C=2;while(S0C!==5){N6o="ma";N6o+="nife";N6o+="stR";N6o+="ange";switch(S0C){case 2:a={type:N6o,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(g)};V(this,a.type,a);S0C=5;break;}}};b.prototype.aOa=function(a,b,c){var R0C,d,i6o,W6o;R0C=2;while(R0C!==7){i6o="ma";i6o+="n";i6o+="ifes";i6o+="tS";i6o+="elected";W6o="no";W6o+="tif";W6o+="yManifestSelected";W6o+=": ";switch(R0C){case 3:b.streamingOffset=a.X+a.Wl;d.xe&&(a=W6o+JSON.stringify(b),d.xe&&this.eh(a));V(this,b.type,b);R0C=7;break;case 2:d=this.H;b={type:i6o,index:a,replace:b,ptsStarts:c};a=this.Ca[a];R0C=3;break;}}};b.prototype.ZNa=function(a,b,c){var r0C,d,G6o;r0C=2;while(r0C!==9){G6o="ma";G6o+="nifestPr";G6o+="esent";G6o+="i";G6o+="ng";switch(r0C){case 2:d=this.Ca[a];b={type:G6o,index:a,pts:Math.floor(b),movieId:d.M,replace:d.replace,contentOffset:c};r0C=4;break;case 4:0<a&&(b.previousMovieId=this.Ca[a-1].M);V(this,b.type,b);r0C=9;break;}}};b.prototype.Pra=function(a,b,c,d){var T0C,g,h,J6o;T0C=2;while(T0C!==13){J6o="s";J6o+="tream";J6o+="S";J6o+="elected";switch(T0C){case 7:h.Rh.L=b.L;h.Rh.location=b.location;h.Nt&&h.Nt===b||(a.xC.Uhb(d,h.Nt,b),h.Nt=b,d=0,b.qa&&b.qa.bc&&b.qa.ja&&(d=b.qa.ja.sa),h=a.mc.gc,a={type:J6o,nativetime:M.time.fa(),mediaType:g,streamId:c,manifestIndex:b.za,trackIndex:b.Tn,streamIndex:b.yh,movieTime:Math.floor(a.Pa+h),bandwidth:d,longtermBw:d,rebuffer:0},V(this,a.type,a));T0C=13;break;case 2:g=a.O;T0C=5;break;case 5:b=this.Ca[b].ne[g].nl[c];h=this.Wa.jb[g];h.Rh||(h.Rh={});h.Rh.id=b.id;h.Rh.index=b.yh;T0C=7;break;}}};v58=175;break;case 102:b.prototype.Bt=function(a,b,c){var D78;D78=2;while(D78!==1){switch(D78){case 2:return this.la.Ii.Sa[b].Ia.Bt(a,void 0,c);break;}}};b.prototype.Fja=function(a){var f78,b,c;f78=2;while(f78!==6){switch(f78){case 4:f78=a<b.Oa||a>=c?3:9;break;case 3:return!1;break;case 2:b=this.la.Ii;c=0<Object.keys(b.na&&b.na.gj||{}).length&&!b.Kf?b.pc-this.H.VQ:b.pc;f78=4;break;case 9:b=this.Bt(a,h.u.AUDIO,!0);a=this.Bt(a,h.u.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;}}};b.prototype.f1=function(a,b){var M78,c,d;M78=2;while(M78!==8){switch(M78){case 2:c=this.Wa;a=c.s1(a,b);d=this.Cc.OR;a&&!a.Sz&&d.e1(a);b?c.W6():(b=d.s2a(),this.XNa(b));M78=8;break;}}};b.prototype.gga=function(a,b){var N78,c,d,g,w6o,H6o;N78=2;while(N78!==14){w6o="findNewS";w6o+="treamIndex unable to find stream for bitrate:";w6o+=" ";H6o=" returning in";H6o+="de";H6o+="x: ";switch(N78){case 1:N78=0<=g?5:7;break;case 5:N78=(d=a[g],d.Te&&!d.qh&&d.inRange)?4:8;break;case 2:g=a.length-1;N78=1;break;case 4:N78=d.L<=b?3:9;break;case 3:return g;break;case 9:c=g;N78=8;break;case 8:--g;N78=1;break;case 7:q011.Q8o(3);this.ba(q011.V8o(H6o,c,w6o,b));return c;break;}}};b.prototype.ILa=function(a){var j78,b;j78=2;while(j78!==3){switch(j78){case 2:b=this.Wa.jb[a.O];b.Rh&&b.Rh.LN&&delete b.Rh.LN;a.gS&&(delete b.Nm,delete b.Rh,delete b.pG,delete b.el,delete a.gS);j78=3;break;}}};b.prototype.uPa=function(a,b){var P78,d,c;P78=2;while(P78!==19){switch(P78){case 9:return!0;break;case 10:++d;P78=13;break;case 6:b=a.Bc;P78=14;break;case 4:return a.tt=b,!0;break;case 3:P78=a.tt&&0<a.tt.length?9:8;break;case 11:return a.tt=[d],!0;break;case 20:return!1;break;case 14:d=0;P78=13;break;case 5:P78=b?4:3;break;case 13:P78=d<b.length?12:20;break;case 7:return!1;break;case 12:P78=(c=b[d],c.Te&&c.inRange&&!c.qh&&k.R(this.Pe[a.O][c.id]))?11:10;break;case 2:c=this.H;P78=5;break;case 8:P78=a.vd<c.V4?7:6;break;}}};b.prototype.$L=function(a,b,c){var Q78,d;Q78=2;while(Q78!==4){switch(Q78){case 2:d=this.H;return c?d.QO?d.QO:d.MP:d.qxa&&b?b.offset+b.size:!k.R(a)&&(a=this.Wa.jb[a],a.F3)?a.F3+128:2292+12*Math.ceil(this.bg/2E3);break;}}};b.prototype.QTa=function(a){var e78,b,c;e78=2;while(e78!==9){switch(e78){case 2:b=this.Ca[0];c=h.u.VIDEO;e78=4;break;case 4:b&&b.Eb&&b.Eb[c]&&b.Eb[c].U?b.Dm&&b.Dm[c]&&b.Dm[c].X<=a&&b.Dm[c].ca>a?a=b.Dm[c].Oa:(b=b.Eb[c].U,a=b.Zj(a,void 0,!0),void 0==a&&a<b.length-1&&++a,a=b.Sf(a)):a=void 0;return a;break;}}};b.prototype.mE=function(a,b,c,d,g){var l78,f,k,p,n,r;l78=2;while(l78!==8){switch(l78){case 2:f=this.Ca[a];d&&(p=d.Sa[h.u.VIDEO].Ng.ca,n=d.Sa[h.u.AUDIO].Ng,d=n.ca,k=d-p,g||(p=void 0),n=d-n.X);r=this.fga(c.Sa,f.Eb,b,p,k,n);a===this.la.Rka&&[h.u.VIDEO,h.u.AUDIO].forEach(function(a){var Z78,b;Z78=2;while(Z78!==4){switch(Z78){case 2:b=c.Ph(a);b&&(b.Vd=r[a]);Z78=4;break;}}});return{Hx:r.map(function(a){var U78;U78=2;while(U78!==1){switch(U78){case 2:return a.X;break;case 4:return a.X;break;U78=1;break;}}}),Dm:r};break;}}};b.prototype.jA=function(a,b){var c78,c,d;c78=2;while(c78!==14){switch(c78){case 9:k.aa(c)||(c=this.Ca[a].Wl);q011.Q8o(2);return q011.V8o(b,c);break;case 5:d=this.la.b1a(b,a);c78=4;break;case 2:void 0===a&&(a=this.GR);c78=5;break;case 3:c=d.gc;c78=9;break;case 7:c78=(d=this.la.uma(a))?6:9;break;case 4:c78=d?3:7;break;case 6:c=d.gc;c78=9;break;}}};b.prototype.hVa=function(a,b){var I78,c,d;I78=2;while(I78!==14){switch(I78){case 4:I78=d?3:7;break;case 2:void 0===a&&(a=this.GR);I78=5;break;case 3:c=d.gc;I78=9;break;case 5:d=this.la.a1a(b,a);I78=4;break;case 7:I78=(d=this.la.uma(a))?6:9;break;case 9:k.aa(c)||(c=this.Ca[a].Wl);q011.Q8o(0);return q011.w8o(c,b);break;case 6:c=d.gc;I78=9;break;}}};b.prototype.Cna=function(a,b,c){var m78,d;m78=2;while(m78!==11){switch(m78){case 2:d=this.gl(a.za).Eb;m78=5;break;case 3:return c;break;case 4:c=a.Sa[h.u.VIDEO].Vd.X;m78=3;break;case 13:b=a[h.u.VIDEO];m78=12;break;case 12:c=c?b.X:b.ca;m78=3;break;case 8:c=a.Sa[h.u.VIDEO].Ng.ca;m78=3;break;case 5:m78=c&&a.Sa[h.u.VIDEO].Vd&&this.H.L6?4:9;break;case 14:return b;break;case 7:a=(c?this.fga:this.lz).call(this,a.Sa,d,b);m78=6;break;case 6:m78=!a.length?14:13;break;case 9:m78=!c&&a.Sa[h.u.VIDEO].Ng&&this.H.M6?8:7;break;}}};b.prototype.eia=function(a){var h78,b;h78=2;while(h78!==7){switch(h78){case 5:b=a[h.u.VIDEO];a=a[h.u.AUDIO];a=!this.pi[h.u.AUDIO]||a&&a.U;h78=9;break;case 2:h78=1;break;case 1:h78=a?5:7;break;case 9:h78=(!this.pi[h.u.VIDEO]||b&&b.U)&&a?8:7;break;case 8:return!0;break;}}};b.prototype.fga=function(a,b,c,d,g,f){var x78;x78=2;while(x78!==1){switch(x78){case 2:return this.eia(b)?[h.u.VIDEO,h.u.AUDIO].map(function(h){var X88;X88=2;while(X88!==9){switch(X88){case 2:X88=!this.pi[h]?1:5;break;case 5:h=a[h].vma(b[h].stream,c,d,g,f);c=h.X;return h;break;case 1:return{};break;}}}.bind(this)).reverse():[];break;}}};b.prototype.lz=function(a,b,c){var W88;W88=2;while(W88!==1){switch(W88){case 2:return this.eia(b)?[h.u.VIDEO,h.u.AUDIO].map(function(d){var C88;C88=2;while(C88!==9){switch(C88){case 1:return{};break;case 2:C88=!this.pi[d]?1:5;break;case 5:d=a[d].d1a(b[d].stream,c);c=d.ca;return d;break;}}}.bind(this)).reverse():[];break;}}};b.prototype.uMa=function(a,b,c,d){var G88,g;G88=2;while(G88!==14){switch(G88){case 2:c=b.U;g=d===a.Vd.index;d===a.Ng.index?(b=b.pna(a.Ng),b.TI(a.Ng.yu),b.Iqa()):g?(b=b.pna(a.Vd),b.TI(a.Vd.yu)):b=b.zi(d);G88=3;break;case 9:G88=d<c.length&&d<a.Ng.index&&b.ga<a.R9a?8:6;break;case 3:++d;G88=9;break;case 7:++d;G88=9;break;case 8:b.wRa(c.get(d));G88=7;break;case 6:return b;break;}}};b.prototype.vfa=function(a,b){var z88,c,d,g;z88=2;while(z88!==7){switch(z88){case 2:c=this.H;d=!1;g=function(b){var t88;t88=2;while(t88!==1){switch(t88){case 2:0!==b.length&&(b=b[0],b.Lg<a.Pa&&(b=b.Lg,a.cfb(b)),d=!0);t88=1;break;}}}.bind(this);c.Rn&&a.Ia.Ggb(this.Ec,b.L,g);c=this.Wa.jb[a.O];return this.mha&&b.Rb&&c.Opa&&b.Rb!=c.Opa&&(0<a.Ia.Yt||0<a.Ia.EJ)?{PJ:!0,Sn:d}:{PJ:!1,Sn:d};break;}}};b.prototype.$ea=function(a,b){var u88,d,g,h,f;u88=2;while(u88!==8){switch(u88){case 2:d=a.O;u88=5;break;case 5:g=this.Wa.jb[d];h=g.Nm;f=g.Nt;h&&f&&(g=g.hj)&&(c(this.Gb.value)||this.Cc.KQa(d,g,h.L,f.L,a.voa.L,b));u88=8;break;}}};b.prototype.CMa=function(a){var q88;q88=2;while(q88!==1){switch(q88){case 2:return this.la.nja.reduce(function(b,c){var w88;w88=2;while(w88!==1){switch(w88){case 4:return b*c.g4a(a);break;w88=1;break;case 2:return b+c.g4a(a);break;}}},0);break;}}};b.prototype.wfa=function(a,b){var a88,d,g,f,p,n,r,l,u,m,Q6o,V6o;a88=2;while(a88!==25){Q6o="f";Q6o+="lo";Q6o+="or";Q6o+="e";Q6o+="d to 0";V6o="ne";V6o+="gative scheduledBufferLevel";V6o+=":";switch(a88){case 26:return 0<d.Yq&&!p&&a.Cu+(b?b.Cu:0)>d.Yq||g===h.u.VIDEO&&this.Ui&&a.vd>d.A4&&(b=this.Ra.sb.get(!1),b.bc&&b.ja&&b.ja.sa*a.HC>d.z4)?!1:!0;break;case 19:n=this.la.ljb();a88=18;break;case 27:return!1;break;case 18:a88=!k.R(d.vH)&&n>=d.vH||a.HC+f>=Math.max(d.FQ,this.Ra.Eva+d.v5*p.B4[g])?17:16;break;case 10:a88=f>=d.vB||l===h.wa.Oe&&a.vd>d.N8a&&!this.Wa.ax(a).gQ||n&&f>Math.max(n*d.D4/100,d.X4)||b&&(n=a.Pa-u,this.pi[b.O]&&!b.Zf&&n>=d.H4&&r>d.Vh&&(this.Ra.T6a||void 0===m||m<d.M8a))||d.Rn&&a.Ia.EJ>=d.J4||this.CMa(g)>=d.cx?20:19;break;case 16:a88=(p=c(l))?15:26;break;case 3:p=this.Ca[f.za];n=a.vd;r=this.yd();l=this.Gb.value;r=a.Pa+f.gc-r;a88=14;break;case 17:return!1;break;case 20:return!1;break;case 15:a88=(l=1,a.ZZ<d.bx&&(l=d.bx),a.Ia.Yt>=l)?27:26;break;case 14:0>r&&(a.ba(V6o,r,Q6o),r=0);u=b?b.Pa:0;m=b?d.okb?b.gTa:b.fTa:void 0;f=a.Ia.Dsa;a88=10;break;case 2:d=this.H;g=a.O;f=a.mc;a88=3;break;}}};b.prototype.gNa=function(a,b){var E88,c,d,g;E88=2;while(E88!==12){switch(E88){case 5:E88=!(!c.oZ&&!c.Rn||a.I3+c.YY>M.time.fa())?4:12;break;case 2:c=this.H;E88=5;break;case 4:a.I3=M.time.fa();c=this.Wa.zP(a);d=c.yh;E88=8;break;case 13:return c;break;case 7:d=a.Bc[d];g=this.Pe[a.O][d.id];E88=14;break;case 8:E88=!k.R(d)?7:12;break;case 14:E88=g&&g.U&&(d=this.vfa(a,d),!d.PJ&&d.Sn&&this.wfa(a,b))?13:12;break;}}};b.prototype.vMa=function(a,b){var Y88,c,d,g,h;Y88=2;while(Y88!==12){switch(Y88){case 3:h=this.Pe[d][g];Y88=9;break;case 8:h.rC&&(a.RS===g&&delete a.RS,h.rC=!1);Y88=12;break;case 2:c=this.H;d=a.O;g=b.id;Y88=3;break;case 6:return h;break;case 7:Y88=h?6:14;break;case 9:Y88=h&&!h.U?8:7;break;case 13:c=this.$L(d,b.sj,b.yi),this.zE(a,this.El,b,{url:b.url,offset:0,ga:c}),this.zga=M.time.fa();Y88=12;break;case 14:Y88=k.R(c.Y4)||k.R(this.yga)||k.R(this.zga)||(g=M.time.fa(),!(g-this.yga<c.Y4||g-this.zga<c.Y4))?13:12;break;}}};b.prototype.ov=function(){var O88,a,b,d,g,f,k,p,n,r,B6o,U6o,h6o,P6o,F6o,g6o,A6o;O88=2;while(O88!==21){B6o=" ";B6o+="m";B6o+="s";U6o=" ms,";U6o+=" v";U6o+="ideo ";U6o+="buffer: ";h6o=", aud";h6o+="io b";h6o+="uffer: ";P6o=" >";P6o+="=";P6o+=" ";F6o="buffering l";F6o+="onger than limit";F6o+=": ";g6o=" ";g6o+="v";g6o+="id";g6o+="eo";g6o+=": ";A6o="Sessi";A6o+="on checkBu";A6o+="ffe";A6o+="ringComplete, aud";A6o+="io: ";switch(O88){case 20:return!1;break;case 22:return!1;break;case 9:g=this.Wa.jb[h.u.AUDIO];f=this.Wa.jb[h.u.VIDEO];k=this.la.Ce;b=k[h.u.AUDIO];p=k[h.u.VIDEO];O88=13;break;case 13:k=b?b.vd:0;n=p?p.vd:0;r=a.Vh;O88=10;break;case 16:O88=g?15:27;break;case 19:a.xe&&this.eh(A6o+k+g6o+n);g=this.la.gf.dA(r);this.mv&&(k>=a.Vh||g)&&(this.sSa(),this.mv=void 0);O88=16;break;case 10:O88=this.xf&&f.Zm>=a.Vh&&(a.U6&&(r=f.Zm+1E3),a.V6&&(!g.connected||!f.connected))?20:19;break;case 4:O88=!d&&!this.mv?3:9;break;case 23:this.NNa();O88=22;break;case 24:return this.ba(F6o+b+P6o+a.MB+h6o+k+U6o+n+B6o),this.RM(),!0;break;case 25:O88=(!b||k>a.Vh)&&d&&(b=M.time.fa()-this.bX,b>=a.MB)?24:23;break;case 2:a=this.H;d=c(this.Gb.value);O88=4;break;case 3:return!0;break;case 27:O88=d?26:22;break;case 15:return this.RM(),!0;break;case 26:d=!p||n>a.Vh;O88=25;break;}}};v58=108;break;case 191:b.prototype.KNa=function(){var Z0C,a,s6o;Z0C=2;while(Z0C!==4){s6o="ase";s6o+="reportenab";s6o+="led";switch(Z0C){case 2:a={type:s6o};V(this,a.type,a);Z0C=4;break;}}};b.prototype.XNa=function(a){var U0C,b,c,d,g,h,f,k,p,n,X6o;U0C=2;while(U0C!==14){X6o="hindsight";X6o+="re";X6o+="port";switch(U0C){case 3:f=0;k=-1;p=-1;n=-1;a&&(a.forEach(function(a){var c0C;c0C=2;while(c0C!==9){switch(c0C){case 2:void 0===a.nd&&(c+=a.dlvdur,b+=a.dltwbr*a.dlvdur);f+=a.pbdur;d+=a.pbtwbr*a.pbdur;g=a.rr;h=a.ra;c0C=9;break;}}}),0<c&&(k=1*b/c),0<f&&(n=1*d/f),0<c+f&&(p=1*(b+d)/(c+f)),k={type:X6o,htwbr:p,hptwbr:k,pbtwbr:n},g&&(k.rr=g,k.ra=h),this.Y0&&(k.report=a),V(this,k.type,k));U0C=14;break;case 2:b=0;c=0;d=0;U0C=3;break;}}};b.prototype.SNa=function(a){var I0C,b,I6o,M6o,L6o;I0C=2;while(I0C!==5){I6o="e";I6o+="ndOfStr";I6o+="e";I6o+="am";M6o=" le";M6o+="ngth:";M6o+=" ";L6o="notifyEndOfStream ignore";L6o+="d,";L6o+=" more ";L6o+="manife";L6o+="sts, index: ";switch(I0C){case 2:a.Mu||(this.Ec+1<this.Ca.length?a.ba(L6o+this.Ec+M6o+this.Ca.length):(this.af[a.O].r5(),b={type:I6o,mediaType:a.O},V(this,b.type,b),a.Mu=!0));I0C=5;break;}}};b.prototype.QNa=function(a){var m0C,C6o;m0C=2;while(m0C!==5){C6o="c";C6o+="reat";C6o+="e";C6o+="request";switch(m0C){case 2:a={type:C6o,mediaRequest:a};V(this,a.type,a);m0C=5;break;}}};b.prototype.Ieb=function(){var h0C,a,l6o;h0C=2;while(h0C!==4){l6o="requestGarbag";l6o+="eColle";l6o+="cti";l6o+="on";switch(h0C){case 2:a={type:l6o,time:M.time.fa()};V(this,a.type,a);h0C=4;break;}}};b.prototype.eh=function(a){var x0C,f6o,O6o;x0C=2;while(x0C!==5){f6o="m";f6o+="anagerd";f6o+="ebugevent";O6o=",";O6o+=" ";switch(x0C){case 2:a="@"+M.time.fa()+O6o+a;V(this,f6o,{message:a});x0C=5;break;}}};b.prototype.Kj=function(a,b,c,d,g){var X1C,S9o;X1C=2;while(X1C!==1){S9o="NFErr_";S9o+="MC_Strea";S9o+="mingFail";S9o+="u";S9o+="re";switch(X1C){case 2:this.Nv||(k.R(b)&&(b=S9o),this.Nv=!0,this.lOa(b,a,c,d,g));X1C=1;break;}}};b.prototype.JMa=function(a){var W1C,b,d,g,Y9o,m9o,d9o,q9o,k9o,j9o,x9o,u9o,r9o,D9o,b9o,c9o;W1C=2;while(W1C!==7){Y9o=", las";Y9o+="t ";Y9o+="na";Y9o+="tive code: ";m9o=", las";m9o+="t http co";m9o+="de: ";d9o=", l";d9o+="ast er";d9o+="ror code: ";q9o=" is";q9o+=" pe";q9o+="r";q9o+="manent: ";k9o="Stre";k9o+="aming failure";k9o+=", state";k9o+=" is ";j9o=" > Resetting ";j9o+="fa";j9o+="ilures";x9o="NFErr_MC_Stream";x9o+="ingFailur";x9o+="e";u9o="Temporar";u9o+="y fa";u9o+="ilure whil";u9o+="e bufferi";u9o+="ng";r9o=" > We are bu";r9o+="ffering";r9o+=", ca";r9o+="lling it!";D9o="NFErr_MC_St";D9o+="reamingFailu";D9o+="re";b9o="Permanent ";b9o+="fa";b9o+="ilure";c9o=" > ";c9o+="Permanent failu";c9o+="re, d";c9o+="one";switch(W1C){case 8:b?(this.ba(c9o),this.Kj(b9o,D9o,d,g,a)):c(this.Gb.value)?(this.ba(r9o),this.Kj(u9o,x9o,a,g,a)):(this.ba(j9o),this.nA.DA.XB());W1C=7;break;case 3:a=a.Yab;this.ba(k9o+h.wa.name[this.Gb.value]+q9o+b+d9o+d+m9o+g+Y9o+a);W1C=8;break;case 2:b=a.M6a;d=a.Wab;g=a.Xab;W1C=3;break;}}};b.prototype.GMa=function(){var C1C,p9o;C1C=2;while(C1C!==3){p9o="Networ";p9o+="k f";p9o+="ailures res";p9o+="et!";switch(C1C){case 2:this.ba(p9o);this.Nv=!1;this.PY();this.Gg();C1C=3;break;}}};b.prototype.UOa=function(a){var G1C,b;G1C=2;while(G1C!==9){switch(G1C){case 3:return this.kN[a];break;case 2:b=this.H.wR.fallbackBound;void 0===this.kN&&(this.kN=[]);void 0===this.kN[a]&&(this.kN[a]=Math.floor(2*Math.random()*b)-b);G1C=3;break;}}};b.prototype.tga=function(a,b){var z1C,h,c,d,g,f,E9o,K9o,y9o,n9o,e9o,z9o,a9o,Z9o,v9o;z1C=2;while(z1C!==33){E9o=", ";E9o+="but no hea";E9o+="ders seen, marking pipeline drmReady";K9o="drm h";K9o+="ea";K9o+="der heade";K9o+="r";K9o+=": ";y9o="p";y9o+="a";y9o+="rs";y9o+="ed per c";y9o+="hunk vmafs: ";n9o=",";n9o+=" ";n9o+="off";n9o+="se";n9o+="t: ";e9o=", ";e9o+="d";e9o+="uratio";e9o+="n: ";z9o=",";z9o+=" ";z9o+="s";z9o+="tartPts: ";a9o="frag";a9o+="m";a9o+="ent:";a9o+=" ";Z9o="synthesized pe";Z9o+="r chunk";Z9o+=" vmafs: ";v9o="f";v9o+="ragment ";v9o+="count:";switch(z1C){case 3:g=d.length;a.Vb(v9o,g);z1C=8;break;case 20:z1C=c.wR.simulatedFallback?19:24;break;case 7:z1C=h<g?6:12;break;case 26:q011.A8o(0);a.Vb(q011.w8o(c,Z9o));z1C=25;break;case 25:d.xk=c;z1C=24;break;case 27:++h;z1C=16;break;case 6:f=d.get(h);a.Vb(a9o+h+z9o+f.X+e9o+f.duration+n9o+f.offset);z1C=13;break;case 10:a.Vb(y9o+b.xk),d.xk=b.xk;z1C=24;break;case 12:z1C=c.wR&&c.wR.enabled?11:24;break;case 15:c[h]=b.stream.ee+this.UOa(h),0>c[h]&&(c[h]=0);z1C=27;break;case 35:this.af[b.O].J$a();this.Yfa();z1C=33;break;case 16:z1C=h<g?15:26;break;case 17:h=0;z1C=16;break;case 8:h=0;z1C=7;break;case 11:z1C=void 0!==b.xk?10:20;break;case 4:z1C=c.r0?3:12;break;case 13:++h;z1C=7;break;case 24:this.afa(a,b);b.Se&&(a.Se=b.Se,this.IX(a,b.za,a.Se));b.yw&&!b.OZa&&(a.ba(K9o+b.toString()+E9o),this.O0(this.Ca[b.za].M),this.IX(a,b.za));b.rC&&(a.RS=void 0);z1C=35;break;case 2:c=this.H;d=b.U;z1C=4;break;case 19:g=d.length;c=[];z1C=17;break;}}};b.prototype.EM=function(a,b,c,d,g,f){var t1C,k,p,n,r,l,T9o,t9o;t1C=2;while(t1C!==13){T9o="video_t";T9o+="rac";T9o+="ks";t9o="a";t9o+="u";t9o+="d";t9o+="io_";t9o+="tracks";switch(t1C){case 2:k=this.H;p=[];n=[t9o,T9o];t1C=3;break;case 3:r=a[n[1]].length;f===h.u.AUDIO&&n.pop();l=!1;t1C=7;break;case 7:n.forEach(function(f,n){var u1C,u,m,v,q,w,B;u1C=2;while(u1C!==11){switch(u1C){case 2:u=n===h.u.VIDEO;m=n===h.u.AUDIO;u1C=4;break;case 6:B=w[f];w.forEach(function(c,g){var q1C,h,f;q1C=2;while(q1C!==8){switch(q1C){case 3:k.aT.enabled&&k.aT.profiles&&k.aT.profiles.forEach(function(a){var w1C;w1C=2;while(w1C!==1){switch(w1C){case 2:f[a]={action:k.aT.action,applied:!1};w1C=1;break;}}});c.forEach(function(a,b){var a1C,c,g,p,r,m,w,o9o,R9o,s1C;a1C=2;while(a1C!==15){o9o="n";o9o+="o";o9o+="n";o9o+="e";R9o="ke";R9o+="ep";R9o+="Lowes";R9o+="t";switch(a1C){case 17:q[g]=X.K1(h,b,w,this.H,this.T);(a=v&&v[g])&&a.rh&&(q[g].SN(a),b=this.$j()[n],q[g].fl=q[g].hQ(a.U,this.H.IH,b));a1C=15;break;case 8:a1C=u?7:18;break;case 13:a1C=p<k.jra||p>k.Jqa?12:11;break;case 20:f.hasOwnProperty(m)&&R9o===f[m].action&&(f[m].applied?w.inRange=!1:f[m].applied=!0);a1C=19;break;case 10:w.inRange=!1;a1C=20;break;case 2:g=a.downloadable_id;p=a.bitrate;r=a.vmaf;m=a.content_profile;a1C=9;break;case 9:w={inRange:!0,Te:!0};a1C=8;break;case 19:l=l||c;a1C=18;break;case 12:w.inRange=!1;a1C=11;break;case 11:a1C=r<k.kra||r>k.Kqa?10:20;break;case 18:w.inRange&&w.Te&&p>this.yM[n]&&(this.yM[n]=p);a1C=17;break;case 7:q011.Q8o(4);s1C=q011.V8o(1);c=s1C==a.content_profile.indexOf(o9o);w.Te=d&&!c||!d&&c;w.Te&&this.lfa&&G(this.hfa(a.content_profile,a.bitrate,this.lfa),w);a1C=13;break;}}},this);q1C=8;break;case 2:h=Y.hP(b,a,n,g,void 0,this.T);c=c.streams;f={};q1C=3;break;}}},this);w=B.streams.map(function(a){var E1C;E1C=2;while(E1C!==1){switch(E1C){case 2:return q[a.downloadable_id];break;case 4:return q[a.downloadable_id];break;E1C=1;break;}}});p[n]={Vf:f,Tn:f+(m?r:0),Bc:w,nl:q,Mfb:B,ve:void 0};u1C=11;break;case 3:v=g?g[n].nl:void 0;q={};w=a[f];f=c[n];u1C=6;break;case 4:u1C=this.pi[n]?3:11;break;}}},this);l&&p[1]&&p[1].Bc&&p[1].Bc.forEach(function(a){var Y1C;Y1C=2;while(Y1C!==1){switch(Y1C){case 2:a.zo||(a.yi=!0);Y1C=1;break;}}});return p;break;}}};b.prototype.IMa=function(a,b){var O1C;O1C=2;while(O1C!==1){switch(O1C){case 2:this.XW[a.O]=this.Ra.Zma(b);O1C=1;break;}}};b.prototype.GLa=function(a,b,c,d){var L1C,g,f,k,p,n,W9o,N9o;L1C=2;while(L1C!==20){W9o="st";W9o+="ar";W9o+="tp";W9o+="la";W9o+="y";N9o="l";N9o+="ogd";N9o+="a";N9o+="ta";switch(L1C){case 8:L1C=void 0===k.HR||void 0===k.a6?7:6;break;case 9:c=this.Wa.jb[g];L1C=8;break;case 2:g=a.O;f=this.Ca[b];b=f.Pm;k=f.ne[g].nl[c];L1C=9;break;case 7:f=b.oe.Ie.filter(function(a){var k1C,i1C;k1C=2;while(k1C!==1){switch(k1C){case 4:q011.A8o(5);i1C=q011.V8o(4,20,20);return!i1C==a.Ab[k.id];break;k1C=1;break;case 2:return void 0!==a.Ab[k.id];break;}}})[0],p=f.children.filter(function(a){var g1C;g1C=2;while(g1C!==1){switch(g1C){case 2:return a.gd.some(function(a){var S1C;S1C=2;while(S1C!==1){switch(S1C){case 4:return a.stream.id==k.id;break;S1C=1;break;case 2:return a.stream.id===k.id;break;}}});break;}}})[0],k.HR=f.id,k.a6=p.id;L1C=6;break;case 6:f=k.location===k.HR;p=k.Rb===k.a6;d&&k.Rb&&!c.Vw?(n=h.ge.ls,k.jn=h.ge.name[n],this.Zga(a,k.Rb,k.jn,k.location,k.L),c.Vw=k.Rb):k.Rb&&k.Rb!==c.Vw&&(n=k.jn,n=p?void 0===c.Vw?h.ge.ls:b.fC===h.ge.cW?h.ge.ZIa:h.ge.ST:h.ge.YIa,k.jn=h.ge.name[n],this.Zga(a,k.Rb,k.jn,k.location,k.L),c.Vw=k.Rb);L1C=12;break;case 12:c.jB||(p={type:N9o,target:W9o,fields:{}},g===h.u.AUDIO?p.fields.alocid=k.location:g===h.u.VIDEO&&(p.fields.locid=k.location),this.emit(p.type,p));d&&k.location&&!c.jB?(n=h.ge.ls,k.jn=h.ge.name[n],this.Xga(a.O,k.location,k.eqa,k.Rb,k.kC,k.jn,k.PB),c.jB=k.location):k.location&&k.location!==c.jB&&(n=k.jn,n=f?void 0===c.jB?h.ge.ls:b.fC===h.ge.cW?h.ge.HDa:h.ge.ST:h.ge.GDa,k.jn=h.ge.name[n],this.Xga(a.O,k.location,k.eqa,k.Rb,k.kC,k.jn,k.PB),delete k.PB,c.jB=k.location);this.H.cn||(k.Lpa=k.location,k.Npa=k.Rb);L1C=20;break;}}};b.prototype.sx=function(a){var R1C,i9o;R1C=2;while(R1C!==1){i9o="requestError ";i9o+="ignored, pipelines shutdown, medi";i9o+="aRequest:";switch(R1C){case 2:this.Td()?this.ba(i9o,a):(a.Mb||this.Pra(a.Ue,a.za,a.Za,a.Oa),this.GLa(a.Ue,a.za,a.Za,a.Mb),this.Rha(a,a.location,a.Rc));R1C=1;break;}}};b.prototype.Xt=function(a){var r1C,G9o;r1C=2;while(r1C!==1){G9o="onfirstbyte ignored, pipelines shutdown,";G9o+=" ";G9o+="mediaRequest:";switch(r1C){case 2:this.Td()?this.ba(G9o,a):a.nZ||(this.Wa.jb[a.O].connected=!0);r1C=1;break;}}};b.prototype.aI=function(a){var T1C,b,H9o,J9o;T1C=2;while(T1C!==7){H9o="requ";H9o+="e";H9o+="stPr";H9o+="ogre";H9o+="ss";J9o="onprogr";J9o+="ess ignored, pipelines shu";J9o+="tdown, mediaReq";J9o+="uest:";switch(T1C){case 2:T1C=1;break;case 1:T1C=this.Td()?5:4;break;case 5:this.ba(J9o,a);T1C=7;break;case 4:b=this.Ge;this.Cc.esa(this.Oc-this.kk,a.Zl,b);this.H.DO&&this.$M.push(a.E3);this.emit(H9o,{timestamp:b,url:a.url});T1C=7;break;}}};b.prototype.Hi=function(a){var n1C,V9o,w9o;n1C=2;while(n1C!==1){V9o="requ";V9o+="estComp";V9o+="l";V9o+="e";V9o+="te";w9o="oncomplete ignored, pipeline";w9o+="s shu";w9o+="tdo";w9o+="wn, mediaRequest:";switch(n1C){case 2:this.Td()?this.ba(w9o,a):(this.Nv&&(this.Nv=!1,this.Ca[a.za].DA.XB(!0)),a.nZ||(this.Cc.esa(this.Oc-this.kk,a.Zl,a.Ge),a.Mb||this.Cc.Jab(a.O,a.duration,a.Oc,a.eB)),a.Mb?(this.FMa(a),this.Ieb()):this.vga(a),this.H.DO&&this.$M.push(a.E3),this.emit(V9o,{timestamp:a.Ge,mediaRequest:a}));n1C=1;break;}}};b.prototype.FB=function(a){var d1C,b,F9o,g9o,A9o,Q9o;d1C=2;while(d1C!==4){F9o="N";F9o+="FEr";F9o+="r_MC";F9o+="_StreamingFailure";g9o=", er";g9o+="ro";g9o+="rmsg: ";A9o="MP4 pars";A9o+="ing error ";A9o+="o";A9o+="n:";A9o+=" ";Q9o="requestError ignored, p";Q9o+="ipelines s";Q9o+="h";Q9o+="utdown, mediaRequest:";switch(d1C){case 2:b=a.Sl;this.Td()?this.ba(Q9o,a):a.Mb&&a.parseError?(this.ba(A9o+a+g9o,a.parseError),this.Kj(a.parseError)):(this.H.a5a&&b===O.Rr.dV&&0<a.Oc&&(b=O.Rr.XT),this.Ca[a.za].DA.ll(a.status,b,a.Um,{url:a.url}),this.PY()||this.Kj(a.l1,F9o,b,a.status,a.Um));d1C=4;break;}}};f.K=b;P9o;v58=211;break;case 175:b.prototype.kOa=function(a,b,c,d,g,h){var n0C,h9o;n0C=2;while(n0C!==5){h9o="str";h9o+="ea";h9o+="m";h9o+="Pres";h9o+="enting";switch(n0C){case 2:a={type:h9o,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.O,manifestIndex:d,trackIndex:g,streamIndex:h};V(this,a.type,a);n0C=5;break;}}};b.prototype.oOa=function(a){var d0C,U9o;d0C=2;while(d0C!==5){U9o="v";U9o+="ideo";U9o+="Looped";switch(d0C){case 2:a={type:U9o,offset:a};V(this,a.type,a);d0C=5;break;}}};b.prototype.Xga=function(a,b,c,d,g,f,k){var A0C,L9o,X9o,s9o,B9o;A0C=2;while(A0C!==1){L9o="a";L9o+="ud";L9o+="i";L9o+="o";X9o="v";X9o+="id";X9o+="e";X9o+="o";s9o="locationSelec";s9o+="t";s9o+="e";s9o+="d";B9o="lo";B9o+="cati";B9o+="on";B9o+="Se";B9o+="lected";switch(A0C){case 2:V(this,B9o,{type:s9o,mediatype:a===h.u.VIDEO?X9o:L9o,location:b,locationlv:c,serverid:d,servername:g,selreason:f,seldetail:k});A0C=1;break;}}};b.prototype.Zga=function(a,b,c,d,g){var y0C,f,k,C9o,I9o,M9o;y0C=2;while(y0C!==14){C9o="se";C9o+="rverSwit";C9o+="ch";I9o="aud";I9o+="i";I9o+="o";M9o="vid";M9o+="e";M9o+="o";switch(y0C){case 2:a=a.O;f=a==h.u.VIDEO?M9o:I9o;y0C=4;break;case 4:k=this.Ra.sb.get(!1);b={type:C9o,mediatype:f,server:b,reason:c,location:d,bitrate:g,confidence:k.bc};k.bc&&(b.throughput=k.ja.sa);c=this.Wa.jb[a];c.Vw&&(b.oldserver=c.Vw);V(this,b.type,b);y0C=14;break;}}};b.prototype.mOa=function(a,b,c){var p0C,l9o;p0C=2;while(p0C!==5){l9o="update";l9o+="Str";l9o+="eamingPts";switch(p0C){case 2:a={type:l9o,manifestIndex:a,trackIndex:b,movieTime:Math.floor(c)};V(this,a.type,a);p0C=5;break;}}};b.prototype.TNa=function(a){var s0C,O9o;s0C=2;while(s0C!==5){O9o="firstRe";O9o+="qu";O9o+="es";O9o+="tAppende";O9o+="d";switch(s0C){case 2:a={type:O9o,mediatype:a.O,time:M.time.fa()};V(this,a.type,a);s0C=5;break;}}};b.prototype.YNa=function(){var i0C,a,b,c1o,S1o,f9o;i0C=2;while(i0C!==3){c1o="initialAu";c1o+="dio";c1o+="Track";S1o="ove";S1o+="r n";S1o+="umber ";S1o+="of tracks:";f9o="aud";f9o+="i";f9o+="oTrack";f9o+="Index:";switch(i0C){case 4:a>b.length?this.ba(f9o,a,S1o,b.length):(a={type:c1o,trackId:b[a].track_id,trackIndex:a},V(this,a.type,a));i0C=3;break;case 2:a=this.ws[h.u.AUDIO];b=this.Mp.audio_tracks;i0C=4;break;}}};b.prototype.MNa=function(a,b,c){var B0C,b1o;B0C=2;while(B0C!==9){b1o="a";b1o+="udioTrackSwitch";b1o+="Started";switch(B0C){case 2:a=a.audio_tracks;b=a[b];c=a[c];B0C=4;break;case 4:c={type:b1o,oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:c.language,newNumChannels:c.channels};V(this,c.type,c);B0C=9;break;}}};b.prototype.LNa=function(a){var V0C;V0C=2;while(V0C!==1){switch(V0C){case 2:setTimeout(function(){var H0C,b,D1o;H0C=2;while(H0C!==4){D1o="audioTrack";D1o+="S";D1o+="witchC";D1o+="omple";D1o+="te";switch(H0C){case 1:b={type:D1o,trackId:a.ac,trackIndex:a.Vf};V(this,b.type,b);H0C=4;break;case 2:H0C=1;break;}}}.bind(this),0);V0C=1;break;}}};b.prototype.jOa=function(a,b){var o0C,r1o;o0C=2;while(o0C!==5){r1o="curre";r1o+="ntStreamInfe";r1o+="asib";r1o+="le";switch(o0C){case 1:V(this,a.type,a);o0C=5;break;case 2:a={type:r1o,oldBitrate:a,newBitrate:b};o0C=1;break;case 9:V(this,a.type,a);o0C=9;break;o0C=5;break;}}};b.prototype.EMa=function(a){var F0C,b;F0C=2;while(F0C!==8){switch(F0C){case 5:a=this.Ca[a.manifestIndex].ne[b].nl[a.streamId];this.xPa(this.la.gf.Ph(b),a);this.H=this.fLa(a.ve,this.H);this.Ca.forEach(function(a,b){var v0C;v0C=2;while(v0C!==1){switch(v0C){case 2:a.roa||0===b||this.sY(a.M,b,a.ne);v0C=1;break;}}}.bind(this));F0C=8;break;case 2:b=a.mediaType;F0C=5;break;}}};b.prototype.HMa=function(a){var K0C,b;K0C=2;while(K0C!==7){switch(K0C){case 5:b=a.Ue;b.Ia.HI(a);b.goa=!0;a.WO&&this.TNa(a);a.Do&&this.hOa(b.O,a.za,b.mc.na);K0C=7;break;case 2:a=a.request;K0C=5;break;}}};b.prototype.xPa=function(a,b){var b0C;b0C=2;while(b0C!==1){switch(b0C){case 2:this.Wa.jb[a.O].Nm={id:b.id,index:b.yh,L:b.L,ja:b.qa&&b.qa.bc&&b.qa.ja?b.qa.ja.sa:0,location:b.location};b0C=1;break;}}};b.prototype.IX=function(a,b,c){var J0C;J0C=2;while(J0C!==6){switch(J0C){case 4:J0C=a.Gla?3:9;break;case 5:a=this.Wa.jb[a.O];J0C=4;break;case 9:a.Gla=!0;J0C=8;break;case 2:J0C=!c||c.Qcb||c.dk&&c.rka?1:6;break;case 1:J0C=c?5:8;break;case 3:return;break;case 8:this.RNa(b,c);this.Kz(this.Ec+1);J0C=6;break;}}};b.prototype.PNa=function(){var D0C,a,x1o,u1o;D0C=2;while(D0C!==9){x1o="startBuff";x1o+="erin";x1o+="g";u1o="b";u1o+="ufferi";u1o+="ng";u1o+="Started";switch(D0C){case 2:a={type:u1o,time:M.time.fa(),percentage:0};V(this,a.type,a);this.emit(x1o);this.PX=0;D0C=9;break;}}};b.prototype.NNa=function(){var f0C,a,b,c,d,j1o;f0C=2;while(f0C!==6){j1o="b";j1o+="uffer";j1o+="ing";switch(f0C){case 2:a=this.H;b=M.time.fa();f0C=4;break;case 4:c=this.la.gf;f0C=3;break;case 3:c=this.xf?c.Ph(h.u.VIDEO):c.Ph(h.u.AUDIO);f0C=9;break;case 9:d=c.vd;a=Math.min(Math.max(Math.round(100*(c.tH?(b-this.bX)/a.MB:c.Xh?c.Xh:d/a.Vh)),this.PX),99);a!=this.PX&&(b={type:j1o,time:b,percentage:a},V(this,b.type,b),this.PX=a);f0C=6;break;}}};b.prototype.ONa=function(){var M0C,a,b,c,d,g,k1o;M0C=2;while(M0C!==11){k1o="buf";k1o+="f";k1o+="eringCompl";k1o+="ete";switch(M0C){case 9:this.Wga();b=this.xf?this.Wa.jb[h.u.VIDEO]:this.Wa.jb[h.u.AUDIO];g=b.qF;c={type:k1o,time:M.time.fa(),actualStartPts:g,aBufferLevelMs:c?c.vd:0,vBufferLevelMs:d?d.vd:0,selector:d?d.Xua:c.Xua,initBitrate:b.el,skipbackBufferSizeBytes:this.Ra.JPa};M0C=14;break;case 2:a=this.H;b=this.la.Ce;c=b[h.u.AUDIO];d=b[h.u.VIDEO];M0C=9;break;case 14:this.Cc.V0a({initSelReason:b.Jm,initSelectionPredictedDelay:b.WG,buffCompleteReason:b.nF,hashindsight:!!this.$k,hasasereport:!!this.Xj});V(this,c.type,c);a.hO&&(this.mY=!0);M0C=11;break;}}};b.prototype.l3=function(a){var N0C,b,c,d,g;N0C=2;while(N0C!==13){switch(N0C){case 3:N0C=c?9:14;break;case 2:N0C=1;break;case 1:b={};c=this.la.Ce;d=this.af;N0C=3;break;case 9:g=c[h.u.VIDEO];c=c[h.u.AUDIO];g&&c&&(b.vspts=g.Pa,b.aspts=c.Pa,b.vbuflbytes=g.Jh,b.abuflbytes=c.Jh,b.vbuflmsec=g.vd,b.abuflmsec=c.vd,a&&(b.asent=c.Ia.eva.toJSON(),b.vsent=g.Ia.eva.toJSON()));N0C=6;break;case 6:a&&d&&(a=d[h.u.VIDEO],d=d[h.u.AUDIO],a&&d&&(b.atoappend=JSON.stringify(a.Ih),b.vtoappend=JSON.stringify(d.Ih)));N0C=14;break;case 14:return b;break;}}};b.prototype.Wga=function(){var j0C,a,b,c,d,g,q1o;j0C=2;while(j0C!==11){q1o="u";q1o+="pdateBuffer";q1o+="Le";q1o+="vel";switch(j0C){case 13:b>a.mra&&this.Ra.Dc&&this.Ra.Dc.XE(!0,this.Ej.sessionId);V(this,c.type,c);j0C=11;break;case 5:j0C=!this.Td()?4:11;break;case 2:a=this.H;j0C=5;break;case 4:b=this.la.Ce;c=b[h.u.AUDIO];d=b[h.u.VIDEO];j0C=8;break;case 8:this.Cc.NQa(c?c.vd:0,d?d.vd:0);g=this.Ra.sb.get(!1);b=d?d.hq:0;c={type:q1o,abuflbytes:c?c.Jh:0,vbuflbytes:d?d.Jh:0,totalabuflmsecs:c?c.hq:0,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.bc?g.ja.sa:0};j0C=13;break;}}};b.prototype.dNa=function(a){var P0C,b,c,d,Z1o,v1o,p1o,Y1o,m1o,d1o;P0C=2;while(P0C!==13){Z1o=", osAllocat";Z1o+="orDelt";Z1o+="a: ";v1o=", jsHeapDe";v1o+="l";v1o+="t";v1o+="a: ";p1o=", fastM";p1o+="allocDe";p1o+="lt";p1o+="a";p1o+=": ";Y1o="memoryUsage ";Y1o+="at";Y1o+=" time: ";m1o=", syste";m1o+="mDe";m1o+="lta: ";d1o="memor";d1o+="y";d1o+="Usa";d1o+="g";d1o+="e at time: ";switch(P0C){case 1:P0C=!k.R(a)?5:13;break;case 5:k.aa(a.oJ);P0C=4;break;case 4:P0C=!k.R(this.tz)?3:14;break;case 2:P0C=1;break;case 6:k.aa(a.oJ)&&k.aa(this.tz.oJ)&&(b=a.oJ-this.tz.oJ,4194304<b&&this.ba(d1o+M.time.fa(),m1o+b));P0C=14;break;case 3:b=a.nma-this.tz.nma;c=a.toa-this.tz.toa;d=a.usa-this.tz.usa;(4194304<b||4194304<d)&&this.ba(Y1o+M.time.fa()+p1o+b+v1o+c+Z1o+d);P0C=6;break;case 14:this.tz=a;P0C=13;break;}}};b.prototype.B4a=function(a){var Q0C,b,c,d,g,h,f;Q0C=2;while(Q0C!==13){switch(Q0C){case 5:Q0C=b?4:13;break;case 2:b=this.la.gf.Ph(a);Q0C=5;break;case 4:c=this.Wa.jb[a];d=b.Cu;c=c.Nm?c.Nm.L:0;g=b.Ia.Dsa;h=this.la.gc;Q0C=6;break;case 6:f=this.$j()[a];return{type:a,availableMediaBuffer:f-d,completeBuffer:b.vd,incompleteBuffer:g,playbackBitrate:b.Ssa,streamingBitrate:c,streamingTime:b.Pa+h,usedMediaBuffer:d,toappend:b.Tkb};break;}}};b.prototype.nOa=function(){var e0C,a,a1o;e0C=2;while(e0C!==9){a1o="streami";a1o+="ngs";a1o+="tat";switch(e0C){case 3:V(this,a.type,a);e0C=9;break;case 2:this.H.f8a&&M.memory.j3a(this.dNa.bind(this));a={type:a1o,time:M.time.fa(),playbackTime:this.yd()};this.Cc.W0a(a);e0C=3;break;}}};b.prototype.Vga=function(){var l0C,a,z1o;l0C=2;while(l0C!==4){z1o="a";z1o+="ser";z1o+="epo";z1o+="rt";switch(l0C){case 2:a={type:z1o};this.Eha.U0a(a)&&V(this,a.type,a);l0C=4;break;}}};v58=191;break;case 149:b.prototype.lPa=function(a){var h88;h88=2;while(h88!==8){switch(h88){case 2:a=this.Wa.jb[a];a.Nt=void 0;a.H3=void 0;a.Zm=0;a.qI=0;h88=9;break;case 9:a.connected=!1;h88=8;break;}}};b.prototype.zY=function(a,b){var x88,c,d,e1o;x88=2;while(x88!==8){e1o="ptsc";e1o+="ha";e1o+="ng";e1o+="ed";switch(x88){case 4:d=this.Wa.jb[a];k.R(d.Un)&&(d.Un=b,a===h.u.VIDEO&&this.dj&&(a=this.Wa.jb[h.u.AUDIO],k.R(a.Un)&&(c=c.Ph(h.u.AUDIO),c.kn(b)),this.emit(e1o,b)));x88=9;break;case 9:k.R(d.qF)&&(d.qF=b);x88=8;break;case 5:x88=c.Ph(a)?4:8;break;case 2:c=this.la.gf;x88=5;break;}}};b.prototype.FMa=function(a){var X98,b,c,y1o,n1o;X98=2;while(X98!==3){y1o=" ";y1o+="ignored, p";y1o+="ipelines shutdown";n1o="H";n1o+="eader ";n1o+="re";n1o+="quest";n1o+=" ";switch(X98){case 2:b=a.Ue;c=b.O;this.Td()?this.ba(n1o+a+y1o):(a.fI>a.Vab&&(this.Wa.jb[c].F3=a.fI),this.tga(b,a),this.yga=M.time.fa());X98=3;break;}}};b.prototype.vga=function(a){var W98,b,c,d,g;W98=2;while(W98!==8){switch(W98){case 2:b=this.H;d=a.Ue;c=d.mc;g=a.za;this.Gb.value!=h.wa.Xy&&this.Gb.value!=h.wa.Wy&&(this.mOa(g,d.Tn,d.gA),this.ov()||(c=c.Ph(h.u.VIDEO))&&!c.eo&&c.IP&&this.Wa.zP(c),this.gX(d),this.Ef&&(a=this.Ef.indexOf(a),-1!=a&&this.Ef.splice(a,1),0===this.Ef.length&&(delete this.Ef,b.rN||this.VW||this.TY())),this.hX(d)&&this.Gg());W98=8;break;}}};b.prototype.TE=function(){var C98,a,b,c,d,g,f,p,K1o;C98=2;while(C98!==19){K1o="nu";K1o+="mbe";K1o+="r";switch(C98){case 2:a=this.H;b=this.GR;c=this.Ca[b];d=this.la.gf;g=this.yd()||0;f=this.jA(b,g);C98=7;break;case 7:p=a.wT;C98=6;break;case 14:b=this.la.a4a(),K1o===typeof b&&b-a.a5<=f&&(p=Math.min(p,a.aTa));C98=13;break;case 13:this.Ra.Dc&&c.ik&&c.ik.Th-g<=a.mra&&this.Ra.Dc.XE(!0,this.Ej.sessionId);this.Gb.value===h.wa.Oe&&([h.u.VIDEO,h.u.AUDIO].forEach(function(a){var G98,b,c,n,r,l,u,E1o;G98=2;while(G98!==14){E1o="Unable ";E1o+="to";E1o+=" fin";E1o+="d request presentin";E1o+="g at playerPts:";switch(G98){case 2:G98=1;break;case 1:G98=this.pi[a]?5:14;break;case 5:b=d.Ph(a);G98=4;break;case 3:l=b;this.gX(b,g);(u=b.Ia.Bt(g))?(l=u.pc-g,l<p&&(p=l),r=this.Wa.jb[a],n=u.za,l=u.Ue,this.xf&&a!==h.u.VIDEO||(this.la.Wt(u,u.lk),n>this.tM?(this.tM=n,this.ZNa(n,g,u.lk),f=this.jA(n,g)):this.rz&&u.lk!=r.l7a&&this.oOa(u.lk)),l.Wt(u),r.l7a=u.lk,c=u.Za,c!=r.H3&&(r.H3=c,a=this.Ca[n].ne[a].nl,a=a[c],n=this.jA(n,u.Oa),this.kOa(l,u.Oa,n,a.za,a.Tn,a.yh)),u=u.L,k.R(u)||u==b.Ssa||(b.Ssa=u)):b.ba(E1o,g);this.SOa(l,g);G98=6;break;case 4:G98=b?3:14;break;case 6:this.la.fdb();G98=14;break;}}}.bind(this)),this.mY=!1,this.la.rn(g,f));this.Gg();this.Qs&&clearTimeout(this.Qs);this.Qs=setTimeout(this.TE.bind(this),p);C98=19;break;case 6:C98=a.fG||a.Qla?14:13;break;}}};b.prototype.Gg=function(){var z98,a;z98=2;while(z98!==4){switch(z98){case 5:!this.mha||this.mY||this.Hv||this.Nv||(this.Hv=setTimeout(function(){var t98;t98=2;while(t98!==4){switch(t98){case 2:clearTimeout(this.Hv);delete this.Hv;this.Yfa();t98=4;break;}}}.bind(this),a.L5),a.yA&&this.xf&&(this.BL||(this.BL=setTimeout(function(){var u98;u98=2;while(u98!==4){switch(u98){case 2:clearTimeout(this.BL);delete this.BL;u98=5;break;case 5:this.$ea(this.la.gf.Ph(h.u.VIDEO));u98=4;break;}}}.bind(this),a.LQa))));z98=4;break;case 2:a=this.H;z98=5;break;}}};b.prototype.Yfa=function(){var q98,a,b,c,t1o;q98=2;while(q98!==11){t1o="first";t1o+="Drive";t1o+="S";t1o+="treaming";switch(q98){case 9:a=a[h.u.VIDEO];c=!a||a.Zf;(!b||b.Zf)&&c&&this.rz&&this.la.AUa(this.Ec,a?a.ca:b.ca);a=!a||a.DBa;q98=14;break;case 2:q98=1;break;case 1:q98=!this.Uha&&!this.Td()?5:11;break;case 5:void 0===this.YLa&&(this.YLa=!0,this.Op(t1o));a=this.la.Ce;b=a[h.u.AUDIO];q98=9;break;case 14:b&&!b.DBa||!a||this.rz||(this.Ra.Dc&&this.Ra.Dc.XE(!0,this.Ej.sessionId),this.Qra());this.Wfa(this.la.gf);this.la.Ce.forEach(function(a){var w98;w98=2;while(w98!==1){switch(w98){case 2:this.NPa(a);w98=1;break;case 4:this.NPa(a);w98=2;break;w98=1;break;}}}.bind(this));q98=11;break;}}};b.prototype.hX=function(a){var a98;a98=2;while(a98!==1){switch(a98){case 2:return this.Td()||this.Gb.value==h.wa.Xy||this.Gb.value==h.wa.Wy||this.Wa.jb[a.O].qy||this.VW?!1:!0;break;}}};b.prototype.Wfa=function(a,b){var E98,d,g,f,k,p,T1o;E98=2;while(E98!==11){T1o="S";T1o+="til";T1o+="l in buffering stat";T1o+="e while pipeline's ";T1o+="are done";switch(E98){case 2:d=a.na;E98=5;break;case 7:E98=!p||!k?6:13;break;case 5:g=a.Sa[h.u.VIDEO];f=a.Sa[h.u.AUDIO];k=!f||f.Zf;E98=9;break;case 9:p=!g||g.Zf;d.p5||this.la.E$a(a,d,this.Ui&&0===a.za);E98=7;break;case 6:E98=(this.xf&&this.Xfa(a,g,f),this.dj&&this.Xfa(a,f,g),k=!f||f.Zf,p=!g||g.Zf,!p||!k)?14:13;break;case 14:return;break;case 13:c(this.Gb.value)&&(this.ba(T1o),this.ov());b||d.AC||this.Ui||!a.iUa()||((b=c(this.Gb.value))&&this.H.v0&&(this.RM(),b=!1),a.bP||this.la.I5a(a,b),a.aF(),g.goa&&f.goa&&(g=Object.keys(a.children),1!==g.length||a.children[g[0]].active||this.la.Cqa(a,g[0]),this.$La(a,d)));E98=11;break;}}};b.prototype.$La=function(a,b){var Y98,c,d,g,h,f,p,n,r,R1o;Y98=2;while(Y98!==22){R1o="No subbranch candidates ";R1o+="to d";R1o+="rive";switch(Y98){case 12:c=p.reduce(function(a,b){var k98,B1C;k98=2;while(k98!==4){switch(k98){case 2:b.Ji=b.mc.Ji;b.lra=Math.min(b.Ji[0],b.Ji[1]);q011.A8o(5);B1C=q011.w8o(20,20,39);return[a[0]+b.weight,a[B1C]+b.lra];break;}}},[0,0]);n=c[0];r=c[1];Y98=20;break;case 26:a.xfa=c.Ji;Y98=25;break;case 17:return;break;case 20:0!==n&&0!==r?(k.wc(p,function(a){var g98;g98=2;while(g98!==4){switch(g98){case 2:a.Ykb=a.weight/n;a.hTa=a.lra/r;a.jxa=a.hTa-a.Ykb;g98=4;break;}}}),p.sort(function(a,b){var S98;S98=2;while(S98!==1){switch(S98){case 4:return a.jxa+b.jxa;break;S98=1;break;case 2:return a.jxa-b.jxa;break;}}})):p.sort(function(a,b){var R98;R98=2;while(R98!==4){switch(R98){case 2:a=Math.min.apply(null,a.mc.Ji);b=Math.min.apply(null,b.mc.Ji);q011.A8o(2);return q011.w8o(a,b);break;}}});Y98=19;break;case 4:h=a.fz.Ji;Y98=3;break;case 16:c=p[0].mc;d=p[0].weight;a.fz=c;Y98=26;break;case 2:g=this.H;Y98=5;break;case 5:Y98=this.yz&&a.fz?4:9;break;case 19:Y98=0===p.length?18:16;break;case 13:Y98=1<p.length?12:19;break;case 3:Math.min(h[0]-a.xfa[0],h[1]-a.xfa[1])>=g.pUa?a.fz=void 0:(c=a.fz,d=b.gj[c.na.id].weight);Y98=9;break;case 9:Y98=!c?8:25;break;case 8:f=[];p=[];k.wc(a.children,function(a,c){var O98;O98=2;while(O98!==5){switch(O98){case 2:c=b.gj[c].weight;0!==c&&(c={weight:c,mc:a},a.dA(g.Vh,!0)||p.push(c),f.push(c));O98=5;break;}}}.bind(this));0===p.length?p=f:2<p.length&&(p.sort(function(a,b){var L98;L98=2;while(L98!==1){switch(L98){case 2:return b.weight-a.weight;break;case 4:return b.weight+a.weight;break;L98=1;break;}}}),p.length=2);Y98=13;break;case 18:this.ba(R1o);Y98=17;break;case 25:c.zc||(c.zc={WP:M.time.fa(),Nx:0});c.zc.weight=d;this.Wfa(c,!0);Y98=22;break;}}};b.prototype.Xfa=function(a,b,d){var r98,g,f,p,o1o;r98=2;while(r98!==35){o1o="drivePipeline, dela";o1o+="ying audio until video actualStartPts determine";o1o+="d";switch(r98){case 26:b.i7a=g.L,this.fNa(b,g,f,d.$B),a.zc&&++a.zc.Nx;r98=35;break;case 15:return;break;case 22:g=d.yh;r98=21;break;case 6:r98=(k.R(b.Qg)&&(b.Qg=b.Vd?b.Vd.index:this.fM(f,a.za,b.Pa)),b.Ng&&b.Qg>b.Ng.index)?14:13;break;case 19:r98=k.R(g)?18:17;break;case 23:return;break;case 14:this.Ui&&k.R(p.ca)&&k.R(a.ca)||(b.Zf||this.Nha(b),this.Ec<this.Ca.length-1&&this.Kz(this.Ec+1));r98=35;break;case 18:return;break;case 4:r98=!(b.Zf||!this.Wa.jb[f].hj||b.Zt&&(b.kn(b.vR),b.Zt))?3:35;break;case 25:d=this.gNa(b,d);r98=24;break;case 8:r98=g.hn&&f===h.u.AUDIO&&k.R(this.Wa.jb[h.u.VIDEO].Un)?7:6;break;case 11:b.I3=M.time.fa();d=this.Wa.zP(b);g=d.yh;r98=19;break;case 16:r98=this.vfa(b,g).PJ?15:27;break;case 9:r98=p.ik&&!k.R(p.ik.Th)?8:35;break;case 24:r98=!d?23:22;break;case 2:g=this.H;f=b.O;r98=4;break;case 27:r98=(f=this.vMa(b,g))?26:35;break;case 12:r98=this.wfa(b,d)?11:25;break;case 7:b.ba(o1o);r98=35;break;case 17:g=b.Bc[g];r98=16;break;case 13:r98=this.hX(b)&&!(g.EO&&!c(this.Gb.value)&&(f=this.Ra.sb)&&(g=f.h4a(),(f=f.get())&&f.ja&&g&&!1===g.WTa(f.ja.sa)))?12:35;break;case 21:g=b.Bc[g];r98=27;break;case 3:p=this.Ca[this.Ec];r98=9;break;}}};b.prototype.gX=function(a,b){var T98,c,d;T98=2;while(T98!==3){switch(T98){case 2:c=this.H;d=a.mc;!d.na.AC||this.rz||this.oY||(k.R(b)&&(b=this.yd()||0),b-=d.gc,a.Zf&&!a.Mu&&b+c.Tib>=a.ca&&0===a.Ia.Yt&&0===a.Ia.EJ&&this.SNa(a));T98=3;break;}}};b.prototype.fNa=function(a,b,d,g){var n98,f,p,n,l,u,m,Q1o,V1o,w1o,H1o,J1o,G1o,i1o,W1o,N1o;n98=2;while(n98!==14){Q1o="N";Q1o+="FEr";Q1o+="r_M";Q1o+="C_Streami";Q1o+="ngFailure";V1o="M";V1o+="edi";V1o+="aReques";V1o+="t open failed (1)";w1o="m";w1o+="akeRequest ca";w1o+="ught:";H1o=" ";H1o+="nat";H1o+="i";H1o+="ve: ";J1o="MediaRequest.";J1o+="op";J1o+="en error: ";G1o="!continueDriving ";G1o+="i";G1o+="n requestCr";G1o+="eated";i1o="f";i1o+="ast";i1o+="play:";W1o="past fragments";W1o+=" l";W1o+="ength";W1o+=":";N1o="ma";N1o+="keRe";N1o+="quest next";N1o+="FragmentInde";N1o+="x:";switch(n98){case 8:d=d.U;m=a.Qg;m>=d.length?a.ba(N1o,m,W1o,d.length,i1o,this.Ui):(d=this.uMa(a,b,d,m),c(this.Gb.value)&&++a.ZZ,d.Do&&l===h.u.VIDEO&&this.cY(p.na,d.ca),this.zY(l,d.X),l=p.gc,d.tva(new r(p.gc,1E3)),M.time.fa(),g=a.Ia.$N(this,p,d,u.hj,b,g),g.open()?(u.Opa=b.Rb,k.aa(u.el)||(u.Jm=b.Jfb,u.WG=b.WG||-1,u.el=b.L,u.n6a=b.v7,k.R(b.v7)||this.Cc.rva(b.v7,b.il,b.ek)),n&&(u.K3=d.url),f.EO&&this.Ra.sb.rm(M.time.fa(),d.ga),this.hX(a)||a.ba(G1o),a.Bgb(g.ca-l,d.index+1),this.ILa(a),this.Gg()):(a.ba(J1o+g.Sl+H1o+g.Um),g.readyState!==O.$a.em&&(a.ba(w1o,g.Sl),this.Kj(V1o,Q1o))));n98=14;break;case 2:f=this.H;p=a.mc;n=b.url;l=a.O;u=this.Wa.jb[l];n98=8;break;}}};b.prototype.XY=function(a,b){var d98;d98=2;while(d98!==1){switch(d98){case 4:return this.qs(a.Ue,a,b);break;d98=1;break;case 2:return this.qs(a.Ue,a,b);break;}}};b.prototype.qs=function(a,b,c){var A98,d,g;A98=2;while(A98!==14){switch(A98){case 2:d=this.H;A98=5;break;case 6:return g;break;case 9:d.Tv||a.Ia.GI(b);this.af[a.O].GI(b);!0===c&&this.Gg();A98=6;break;case 5:g=b.abort();b.Be();b.Hf&&b.Hf.clear();A98=9;break;}}};b.prototype.QOa=function(a,b,c){var y98;y98=2;while(y98!==3){switch(y98){case 14:this.zha(a);y98=1;break;y98=3;break;case 4:this.zha(a);y98=3;break;case 2:a.hxb=c;a.kn(b);this.Ef&&0<this.Ef.length&&(this.Ef.forEach(function(a){var p98;p98=2;while(p98!==1){switch(p98){case 2:this.XY(a,!1);p98=1;break;case 4:this.XY(a,~2);p98=8;break;p98=1;break;}}}.bind(this)),delete this.Ef);y98=4;break;}}};b.prototype.OPa=function(a){var s98,b,c,A1o;s98=2;while(s98!==3){A1o="n";A1o+="o ";A1o+="newA";A1o+="udioTrack ";A1o+="set";switch(s98){case 2:b=a.O;c=this.Wa.jb[b];k.R(c.TH)?a.ba(A1o):(this.af[b].pause(),c.qy=!0,this.MNa(this.Mp,this.ws[h.u.AUDIO],c.TH.Vf));s98=3;break;}}};b.prototype.ROa=function(a){var i98,b,c,d,g,f,k,g1o;i98=2;while(i98!==30){g1o="audioTrac";g1o+="kC";g1o+="hange";switch(i98){case 25:i98=c<this.Ca.length?24:22;break;case 7:g=g-c.gc;this.ws[h.u.AUDIO]=this.mv.Vf;d.TH=void 0;this.Ef&&0<this.Ef.length&&(this.Ef=this.Ef.filter(function(b){var B98;B98=2;while(B98!==4){switch(B98){case 1:return!0;break;case 5:this.qs(a,b,!1);B98=4;break;case 8:return-7;break;B98=4;break;case 2:B98=b.O===h.u.VIDEO?1:5;break;}}}.bind(this)),0===this.Ef.length&&(delete this.Ef,b.rN||this.TY()));i98=12;break;case 22:b=!1;i98=21;break;case 12:this.zha(a);d.Nm=void 0;d.Rh=void 0;i98=20;break;case 26:c=this.Ec;i98=25;break;case 27:b=function(a){var V98,b,c;V98=2;while(V98!==8){switch(V98){case 2:b=this.Ca[a];c=b.ne;a=this.EM(b.Ma,a,this.ws,this.Ui,c,h.u.AUDIO);a[h.u.VIDEO]=c[h.u.VIDEO];V98=9;break;case 9:b.ne=a;V98=8;break;}}}.bind(this);i98=26;break;case 4:d=this.Wa.jb[a.O];this.mv=d.TH;g=this.yd();f=this.nA;i98=7;break;case 23:++c;i98=25;break;case 24:b(c);i98=23;break;case 2:b=this.H;c=a.mc;i98=4;break;case 21:i98=f.Eb&&f.Eb[h.u.AUDIO]?35:34;break;case 35:(b=f.ne[h.u.AUDIO].Bc.some(function(a){var H98;H98=2;while(H98!==1){switch(H98){case 2:return(k=this.Pe[h.u.AUDIO][a.id])&&k.U;break;}}}.bind(this)))?(f.Eb[h.u.AUDIO]=k,delete a.Vd,delete a.Ng,f.RR=!1,this.lE(f,this.Ec)):f.Eb[h.u.AUDIO].axa=!0;i98=34;break;case 20:d.pG=void 0;d.el=void 0;this.uY(g1o,h.u.AUDIO);this.la.ova(c,!0);this.la.nua(c);this.XW[h.u.AUDIO]=this.Ra.Yma(this.Mp,this.ws,h.u.AUDIO)[h.u.AUDIO];i98=27;break;case 34:a.kn(g);a.Lta(g);this.la.gf.h3(this.Ec);b&&this.la.Z6(this.la.gf);i98=30;break;}}};b.prototype.Rha=function(a,b,c){var o98,d,P1o,F1o;o98=2;while(o98!==4){P1o="video";P1o+="_lo";P1o+="cation";F1o="l";F1o+="o";F1o+="c";F1o+="ation";switch(o98){case 2:d=this.H.j5;k.R(b)||k.R(c)||(a.location=b,a.Rc=c,(F1o===d||P1o===d&&a.O===h.u.VIDEO)&&this.Ra.sb.ES(b),this.Cc.Bab(a.O,b));o98=4;break;}}};b.prototype.PY=function(){var F98,a,b,c,d,g,s1o,B1o;F98=2;while(F98!==20){s1o="man";s1o+="ifests";s1o+=":";B1o="updateR";B1o+="equestUrls, no manifestEnt";B1o+="ry:";switch(F98){case 3:F98=!c?9:8;break;case 8:d=c.Pm;this.la.Ce.forEach(function(b){var v98,c,U1o,h1o;v98=2;while(v98!==8){U1o="l";U1o+="ocation ";U1o+="selector";U1o+=" is gone, session has been clos";U1o+="ed";h1o="location selector r";h1o+="e";h1o+="turned null strea";h1o+="mList";switch(v98){case 2:v98=1;break;case 5:v98=d?4:9;break;case 1:v98=this.gB(b.O)?5:8;break;case 4:c=this.Wa.ax(b);d.xT(c,b.Bc)?(b=b.Ia.fkb(b.nl,this.Rha.bind(this)),0<b.length&&a.push.apply(a,b)):b.ba(h1o);v98=8;break;case 9:b.ba(U1o);v98=8;break;}}}.bind(this));F98=6;break;case 2:a=[];b=0;c=this.nA;F98=3;break;case 9:return this.Tb(B1o,this.Ec,s1o,this.Ca.length),!1;break;case 6:F98=0<a.length?14:10;break;case 10:return!0;break;case 14:g={};a.forEach(function(a){var K98,c;K98=2;while(K98!==4){switch(K98){case 9:c=a.za;K98=2;break;K98=5;break;case 2:c=a.za;K98=5;break;case 5:a.Mb&&c>this.Ec&&(g[a.za]=!0,++b);K98=4;break;}}}.bind(this));k.wc(g,function(a,b){var b98;b98=2;while(b98!==5){switch(b98){case 2:a=this.Ca[b];this.sY(a.M,b,a.ne);b98=5;break;}}}.bind(this));return b===a.length?!0:!1;break;}}};b.prototype.SOa=function(a,b){var J98,c;J98=2;while(J98!==3){switch(J98){case 2:c=this.af[a.O];a=a.Ia.gdb(b,function(a){var D98;D98=2;while(D98!==1){switch(D98){case 4:c.GI(a);D98=0;break;D98=1;break;case 2:c.GI(a);D98=1;break;}}});k.R(a)||this.Gg();J98=3;break;}}};b.prototype.NPa=function(a){var f98,b,d,g;f98=2;while(f98!==7){switch(f98){case 5:b=a.O;d=a.tt.shift();d=a.Bc[d];g=d.id;f98=8;break;case 2:f98=1;break;case 1:f98=!c(this.Gb.value)&&a.tt&&0!==a.tt.length&&!a.RS?5:7;break;case 8:!this.Pe[a.O][g]&&d.Te&&(a.RS=g,b=this.$L(b,d.sj,d.yi),this.zE(a,this.El,d,{offset:0,ga:b,rC:!0}));f98=7;break;}}};b.prototype.iga=function(a){var M98,b,c,d;M98=2;while(M98!==14){switch(M98){case 3:M98=!a||-1!=a.indexOf(t.AUDIO)?9:7;break;case 9:d=b.Xm&&this.Ht&&b.qkb;M98=8;break;case 8:c.push({type:t.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:b.HZ});M98=7;break;case 5:c=[];a&&-1==a.indexOf(t.VIDEO)||c.push({type:t.VIDEO,openRange:!b.Xm,pipeline:b.Xm,connections:b.Xm?b.yH:1,socketBufferSize:b.d9});M98=3;break;case 7:a&&-1==a.indexOf(t.FK)||c.push({type:t.FK,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.K2});return c;break;case 2:b=this.H;M98=5;break;}}};v58=161;break;}}}());},function(f,c,a){var d,k,h,g,p,n;function b(a,b,c){p=c;n=c.map(function(a,b){return a.Te&&a.inRange&&!a.qh?b:null;}).filter(function(a){return null!==a;});if(null===g)return a=k(c),g=c[a].L,new h(a);if(!n.length)return null;a=n.filter(function(a){return c[a].L==g;})[0];return void 0===a?(d.log("Defaulting to first stream due to unvalid bitrate requested: "+g),new h(n[0])):new h(a);}a(8);a(13);c=a(37);a=a(10);d=c.console;k=c.v1;h=c.mm;g=null;p=null;n=null;a.hUa&&(a.hUa.xC={Zc:function(){n=p=g=null;},w7:function(a){g=a;},wwb:function(){return{all:p,ixa:n};}});f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){(function(){var X1o,b,m3e;X1o=2;while(X1o!==8){m3e="1SIY";m3e+="bZrN";m3e+="J";m3e+="Cp9";switch(X1o){case 2:a(8);b=a(13);a(37);f.K={checkBuffering:function(a,c,h,g,f){var S89=q011;var L1o,k,p,l,m,q,y,w,l3e,K3e,j3e,v3e,C1o,O1o;L1o=2;while(L1o!==38){l3e="o";l3e+="u";l3e+="t";l3e+="ofran";l3e+="ge";K3e="h";K3e+="ig";K3e+="ht";K3e+="p";j3e="m";j3e+="a";j3e+="x";j3e+="s";j3e+="ize";v3e="nore";v3e+="b";v3e+="uf";v3e+="f";switch(L1o){case 43:w=g.offset;L1o=42;break;case 21:m=c.U.wd(a);f=Math.min(a+Math.floor(f.BI/m),c.U.length-1);w=c.U.Xl(f);S89.f3e(0);C1o=S89.x3e(104,96);m=C1o*y/l-k.we;L1o=32;break;case 15:a=c.U.Zj(k.Pa);L1o=27;break;case 16:return l<c.L&&(m=Math.min(h,Math.max(f.BI*(c.L/l-1),m))),{complete:!1,Qx:m,Xh:(q-k.wx)/(q+(m-(k.Pa-k.we))*c.L/8)};break;case 24:L1o=p>=m?23:40;break;case 19:q=0;k.U.forEach(function(a){var I1o;I1o=2;while(I1o!==1){switch(I1o){case 2:q+=a.X+a.duration>k.we?a.ga:0;I1o=1;break;}}});L1o=17;break;case 30:g=c.U.get(f);w=8*w/l-g.X-m;L1o=28;break;case 41:return{complete:!0,reason:v3e};break;case 31:L1o=f>a?30:41;break;case 17:L1o=!c.U||!c.U.length?16:15;break;case 6:return{complete:!1,tH:!0};break;case 40:0<l&&l<c.L&&(m=Math.min(h,Math.max(f.BI*(c.L/l-1),m)));return{complete:!1,Qx:m,Xh:d(m)};break;case 2:k=a.buffer;p=a.vd||k.fj-k.we;l=c.ja||0;m=0;L1o=9;break;case 8:return{complete:!0,reason:j3e};break;case 7:L1o=l<=f.k4&&(0<l||!f.g1)?6:14;break;case 44:return m=Math.min(h,p+w),{complete:!1,Qx:m,Xh:d(m)};break;case 20:return{complete:!1,Qx:m};break;case 10:L1o=!l?20:19;break;case 22:return{complete:!0,reason:K3e};break;case 28:L1o=0<w?44:43;break;case 26:return{complete:!0,reason:l3e};break;case 9:L1o=p>=h?8:7;break;case 42:--f;L1o=31;break;case 23:L1o=l>c.L*f.RO?22:21;break;case 14:S89.h3e(1);O1o=S89.x3e(4,16,23,10,12);m=f.Vh*(a.state===b.wa.hs?f.x6:O1o);f.s_a&&c.qa&&c.qa.Le&&c.qa.Le.sa>f.e4&&(m+=f.kZ+c.qa.Le.sa*f.E5);g&&(m+=g.bO*f.lZ);m=h?Math.min(h,m):m;L1o=10;break;case 32:--f;L1o=31;break;case 27:L1o=-1===a?26:25;break;case 25:y=c.U.Xl(a);L1o=24;break;}}function d(a){var M1o;M1o=2;while(M1o!==5){switch(M1o){case 2:a=c.U.oG(k.we+a,void 0,!0);return(q-k.wx)/(q+(a.offset+a.ga)-y);break;}}}}};m3e;X1o=8;break;}}}());},function(f,c,a){(function(){var T3e,c,k,h,g,r5k;T3e=2;while(T3e!==13){r5k="1SIYb";r5k+="ZrNJCp";r5k+="9";switch(T3e){case 14:r5k;T3e=13;break;case 5:a(13);k=a(37);a(10);h=k.assert;g=k.mm;k=a(143);f.K={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:b,PAUSED:b};T3e=14;break;case 2:c=a(8);T3e=5;break;}}function b(a,b,d,f){var H3e,k,U5k,D5k,L3e;H3e=2;while(H3e!==11){U5k="pl";U5k+="aye";U5k+="r miss";U5k+="ing stre";U5k+="amingIndex";D5k="Must h";D5k+="ave at least one";D5k+=" selected stream";switch(H3e){case 3:q011.y5k(0);L3e=q011.K5k(15,18,3);f=d.length-L3e;H3e=9;break;case 4:b=g(f);H3e=3;break;case 2:h(!c.R(f),D5k);h(c.aa(b.sk),U5k);H3e=4;break;case 9:H3e=-1<f?8:13;break;case 8:k=d[f];H3e=7;break;case 6:return b.Rf=f,b;break;case 7:H3e=k.qa&&k.qa.ja&&k.L<k.qa.ja.sa-a.Pib?6:14;break;case 14:--f;H3e=9;break;case 13:b.Rf=0;return b;break;}}}}());},function(f,c,a){var d;function b(a,b,c){return new d(c.length-1);}a(8);d=a(37).mm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d;function b(){return new d(0);}a(8);d=a(37).mm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var k;function b(a,b){if(!a)throw Error("Conv Net assertion failed"+(b?" : "+b:""));}function d(a,b,c,d,f){this.cM=a;this.dM=a[0].length;this.jfa=b;this.DY=c;this.DM=d;this.Uga=f;}a(8);a(10);k=a(31).tanh;d.prototype.constructor=d;d.prototype.forward=function(a){var c,d,h,f,l;c=a.length;b(0===(a.length-this.dM+2*this.DM)%this.DY,"inputs' dimension does not fit into this conv layer");b(this.cM.length===this.jfa.length,"the number of filters need to match the number of biases");if(0<this.DM){h=[];for(d=0;d<this.DM;d++)h.push(0);a=h.concat(a).concat(h);}h=[];for(d=0;d<=a.length-this.dM;d+=this.DY)for(var m=0;m<this.cM.length;m++)f=this.cM[m],l=this.jfa[m],f=this.r6a(a.slice(d,d+this.dM),f)+l,"tanh"===this.Uga?h.push(k(f)):b(!1,"Unsupported NL type: "+this.Uga);b(h.length===this.cM.length*((c-this.dM+2*this.DM)/this.DY+1),"outputs dimension is wrong!");return h;};d.prototype.r6a=function(a,c){b(a.length===c.length,"");for(var d=0,g=0;g<a.length;g++)d+=a[g]*c[g];return d;};f.K=d;},function(f,c,a){(function(){var I5k,w,x,C,F,P,M,t,O,W,U,Y,X,N,G,A,O0e;function q(a,b,c,d,g,h,f,k,p,n){var Y5k,F5k,r,l,u,v,q,w,x,z,P,C,y,B,P5k,E4E,D4E,C4E,M4E,A4E,e4E,v4E,x4E,u4E,Z5k;Y5k=2;while(Y5k!==64){E4E="high";E4E+="estLowe";E4E+="rThan";D4E="ma";D4E+="ppin";D4E+="g";C4E="Inva";C4E+="lid bi";C4E+="tra";C4E+="teM";C4E+="apStrategy config value: ";M4E="m";M4E+="e";M4E+="a";M4E+="n";A4E="rela";A4E+="ti";A4E+="ve";e4E="Canno";e4E+="t ";e4E+="use mapping stra";e4E+="tegy when ";e4E+="using mean!";v4E="d";v4E+="i";v4E+="r";v4E+="e";v4E+="ct";x4E="clos";x4E+="e";x4E+="s";x4E+="t";u4E="f";u4E+="act";u4E+="o";u4E+="r";switch(Y5k){case 31:y=v;Y5k=23;break;case 9:Y5k=b.useControlAtTraining&&!0===b.useProdSimulation&&u4E===b.estimateType?8:37;break;case 30:v--;Y5k=33;break;case 29:Y5k=P5k===x4E?28:39;break;case 28:a=g.Fa.useBitrateMean?u:q[l];c=Number.POSITIVE_INFINITY;Y5k=43;break;case 14:Y5k=!0===b.useProdSimulation?13:26;break;case 36:Y5k=Math.random()<(b.epsilon||0)?54:53;break;case 16:P=u;Y5k=11;break;case 49:l++;Y5k=50;break;case 18:return r;break;case 40:v++;Y5k=42;break;case 43:v=y=0;Y5k=42;break;case 39:Y5k=38;break;case 21:a=g.Fa.useBitrateMean?u:q[l];y=0;Y5k=34;break;case 13:F5k=b.actionStrategy;Y5k=F5k===v4E?12:17;break;case 50:Y5k=l<a.length&&!(x+=a[l],v<x)?49:7;break;case 12:P=c[l];Y5k=11;break;case 11:r.value=P;t(f,function(a){var a5k,T5k,t4E,f4E,w4E;a5k=2;while(a5k!==11){t4E="a";t4E+="b";t4E+="s";t4E+="ol";t4E+="ute";f4E="rel";f4E+="a";f4E+="t";f4E+="iv";f4E+="e";w4E="fa";w4E+="c";w4E+="t";w4E+="or";switch(a5k){case 5:z=P;a5k=4;break;case 6:z=a.ja;a5k=4;break;case 14:a5k=13;break;case 8:z=Math.floor(a.qa.ja.sa*P);a5k=4;break;case 12:delete a.ja;a5k=11;break;case 9:a5k=T5k===w4E?8:7;break;case 7:a5k=T5k===f4E?6:14;break;case 1:T5k=b.estimateType;a5k=T5k===t4E?5:9;break;case 13:z=P;a5k=4;break;case 2:a5k=a.Te&&a.inRange&&!a.qh&&a.qa&&a.qa.bc?1:12;break;case 4:z=0===z?1:z;a.ja=z;a5k=11;break;}}});C=O.PLAYING.call(this,g,h,f,k,p,n);Y5k=19;break;case 27:P=c[l];Y5k=11;break;case 2:r={};v=f[k].sja;q=g.Fa.bitrates;w=f.map(function(a){var z5k;z5k=2;while(z5k!==1){switch(z5k){case 2:return a.L;break;case 4:return a.L;break;z5k=1;break;}}});Y5k=9;break;case 32:Y5k=w[v]<=a?31:30;break;case 51:l=0;Y5k=50;break;case 8:l=m(c,v);Y5k=7;break;case 33:Y5k=-1<v?32:23;break;case 47:B=a[0],v=0;Y5k=46;break;case 48:u=l=0;Y5k=47;break;case 25:F(!g.Fa.useBitrateMean,e4E);Y5k=24;break;case 15:Y5k=27;break;case 19:A4E===b.estimateType?(k=M(f,function(a){var J5k;J5k=2;while(J5k!==1){switch(J5k){case 2:return a.id===C.Zb.id;break;case 4:return a.id!==C.Zb.id;break;J5k=1;break;}}}),k+=r.value,k=Math.max(0,k),k=Math.min(k,f.length-1),r.Zb=f[k]):r.Zb=C.Zb;Y5k=18;break;case 41:d=Math.abs(w[v]-a),d<c&&(c=d,y=v);Y5k=40;break;case 23:r.Zb=f[y];Y5k=18;break;case 17:Y5k=F5k===M4E?16:15;break;case 42:Y5k=v<f.length?41:23;break;case 37:Y5k=b.randomizeAction?36:48;break;case 38:F(!1,C4E+g.Fa.bitrateMapStrategy);Y5k=23;break;case 53:v=Math.random();x=0;Y5k=51;break;case 54:l=Math.floor(Math.random()*Math.floor(c.length));Y5k=7;break;case 26:P5k=b.bitrateMapStrategy;Y5k=P5k===D4E?25:22;break;case 24:y=d[l];Y5k=23;break;case 22:Y5k=P5k===E4E?21:29;break;case 45:a[v]>B&&(l=v,B=a[v]),u+=a[v]*c[v];Y5k=65;break;case 65:v++;Y5k=46;break;case 7:r.Lfb=l;r.eja=B?B:0;Y5k=14;break;case 46:Y5k=v<a.length?45:7;break;case 34:q011.s4E(0);Z5k=q011.h4E(57,12,4,1,19,56);v=f.length-Z5k;Y5k=33;break;}}}function y(a,d,h,f,u,m){var V5k,v,x,B,M,y,t,W,ea,U,Y,G,V,N,X,A,D,fa,ja,ka,ba,ca,S,ma,aa,Z,da,d0e,c0e,b0e,j0e,L4E,l4E,a4E,W4E,V4E,Q4E,n4E,q4E,r4E,U4E,J4E,m4E,F4E,B4E,p4E,K4E,P4E,I4E,H4E,G4E,N4E,W8k;V5k=2;while(V5k!==167){d0e="so";d0e+="f";d0e+="tm";d0e+="a";d0e+="x";c0e="f";c0e+="i";c0e+="x";c0e+="e";c0e+="d";b0e="Invalid m";b0e+="ixWithProd v";b0e+="alue (min/max/undefined s";b0e+="upported): ";j0e="m";j0e+="a";j0e+="x";L4E="m";L4E+="i";L4E+="n";l4E="rl is not set up correctly. Fall back to original algorit";l4E+="h";l4E+="m.";a4E="qua";a4E+="d";a4E+="r";a4E+="atic";W4E="l";W4E+="in";W4E+="e";W4E+="a";W4E+="r";V4E="p";V4E+="layer mi";V4E+="ss";V4E+="ing streamingIndex";Q4E="Must have";Q4E+=" at ";Q4E+="least one selected str";Q4E+="eam";n4E="Mu";n4E+="st have rlPar";n4E+="am specified!";q4E="p";q4E+="s";q4E+="d";r4E="throu";r4E+="g";r4E+="hpu";r4E+="t-sw";U4E="thr";U4E+="oughput";U4E+="-sw";J4E="Must ha";J4E+="ve rlParam.r";J4E+="epeatLengt";J4E+="h";m4E="fi";m4E+="x";m4E+="e";m4E+="d";F4E="pe";F4E+="rc";F4E+="e";F4E+="nt";F4E+="ile";B4E="quadra";B4E+="t";B4E+="i";B4E+="c";p4E="Must su";p4E+="ppl";p4E+="y rlParam.b";p4E+="itrates!";K4E="m";K4E+="a";K4E+="x";P4E="m";P4E+="i";P4E+="n";I4E="Need to provi";I4E+="de ";I4E+="valid ";I4E+="number of throughput sta";I4E+="ts";H4E="Invalid ";H4E+="po";H4E+="licy ";H4E+="mapping!!";G4E="bas";G4E+="e";G4E+="N";G4E+="etwork";N4E="i";N4E+="q";N4E+="r";switch(V5k){case 86:D++;V5k=88;break;case 11:t=d.buffer.X;W=d.buffer.Pa;ea=d.sk;U=B.qa;V5k=18;break;case 95:D++;V5k=97;break;case 169:V5k=D===N4E?168:45;break;case 77:t=Array(X.length),D=0;V5k=76;break;case 109:D=0;V5k=108;break;case 41:Z=v.call(this,a,d,h,f,u,m),Z.Zb,ma=[],D=0;V5k=40;break;case 90:Y=[];V5k=89;break;case 13:V5k=!a.Fa.hasOwnProperty(G4E)?12:11;break;case 121:B.push(ba[D]);V5k=120;break;case 100:B++;V5k=101;break;case 85:D=0;V5k=84;break;case 128:Y=D;V5k=127;break;case 59:D=a.Fa.periodOfUseControl?a.Fa.periodOfUseControl:3E4;V5k=58;break;case 93:x=Z;V5k=92;break;case 39:void 0!==ba[D]&&h[ba[D]]==Z.Zb?ma.push(1):ma.push(0);V5k=38;break;case 117:x=Z,x.SO=!0;V5k=116;break;case 151:F(!1,H4E);V5k=81;break;case 143:A.push(0);V5k=142;break;case 137:A.push(Number(V.z[D]).toFixed(6)/1);V5k=136;break;case 75:t[D]=!0;V5k=74;break;case 134:B.push(U.CN[D]);V5k=133;break;case 69:x=a.Fa.discountPolicyMapping;D=a.Fa.addInputsToPolicyNetwork;B=z(B.qa,d.buffer,a.Fa.bandwidthManifold);V5k=66;break;case 130:D=0;V5k=129;break;case 140:V5k=V&&V.co&&V.z?139:170;break;case 54:F(Z&&1<=Z,I4E);A=[y,A];aa=!0;V5k=51;break;case 38:D++;V5k=40;break;case 103:V5k=!a.Fa.useControl&&a.Fa.randomizeAction?102:113;break;case 87:V=Math.abs(X[D]-B),V=Math.exp(-V*V/.1),Y.push(V),ba+=V;V5k=86;break;case 101:V5k=B<X.length&&!(ba+=Y[B],D<ba)?100:99;break;case 23:D=0;V5k=22;break;case 106:D++;V5k=108;break;case 118:V5k=P4E===a.Fa.mixWithProd&&x.Zb.L>Z.Zb.L||K4E===a.Fa.mixWithProd&&x.Zb.L<Z.Zb.L?117:116;break;case 120:D++;V5k=122;break;case 105:D=0;V5k=135;break;case 33:X=a.Fa.bitrates;ka=h.map(function(a){var S5k;S5k=2;while(S5k!==1){switch(S5k){case 4:return a.L;break;S5k=1;break;case 2:return a.L;break;}}});F(!w.R(X),p4E);ba=b(X,ka).OSa;V5k=29;break;case 83:Y[D]/=ba;V5k=82;break;case 132:V5k=B4E===x?131:152;break;case 42:V5k=a.Fa.addProdOutput?41:37;break;case 58:V5k=a.Fa.useControlEwmaMax&&y>a.Fa.useControlEwmaMax||a.Fa.useControl||a.Fa.useControlAtStart&&W<=t+D?57:56;break;case 122:V5k=D<ba.length?121:152;break;case 65:A=A.slice(0,Z);V5k=64;break;case 104:D++;V5k=79;break;case 131:ba=[];V5k=130;break;case 51:V5k=D===F4E?50:141;break;case 66:V5k=m4E===x?90:112;break;case 73:D=l(U,t,a.Fa.baseNetwork,a.Fa.policyNetwork,a.Fa.valueNetwork,W,void 0!==a.Fa.bandwidthManifold);Y=D.mcb;W=D.Ekb;V5k=70;break;case 107:B.push(U.kT[D]);V5k=106;break;case 138:V5k=D<V.z.length?137:170;break;case 46:D++;V5k=48;break;case 61:V5k=0!=ea%a.Fa.repeatLength?60:59;break;case 84:V5k=D<X.length?83:81;break;case 64:A.push(U?U.time?U.time:0:0);U=p(a,A,aa,Y,M,ca,S,ja,fa,ma,h[h.length-1].L,B.L);F(!w.R(a.Fa.repeatLength),J4E);V5k=61;break;case 74:D++;V5k=76;break;case 94:Z=v.call(this,a,d,h,f,u,m);V5k=93;break;case 102:D=Math.random(),B=ba=0;V5k=101;break;case 89:D=ba=0;V5k=88;break;case 79:V5k=D<Y.length?78:103;break;case 47:A.push(N[D]||0);V5k=46;break;case 98:D=0;V5k=97;break;case 119:Z=v.call(this,a,d,h,f,u,m);V5k=118;break;case 29:ca=k(a.Fa.qualityFunction,h,a.Fa.numOfChunkQualities,a.Fa.qualityRewardMultiplier,a.Fa.useProdSimulation,ba);c(a.Fa.qualityFunction,B,a.Fa.qualityRewardMultiplier);S=g(a.Fa.chunkSizeFetchStyle,a.Fa.numOfChunkSizes,a.Fa.lookAhead||1,h,ea);ma=void 0;V5k=42;break;case 49:D=0;V5k=48;break;case 24:A=U&&U[U4E]?U[r4E].sa:0;V5k=23;break;case 37:Z=a.Fa.numThroughputStats;D=a.Fa.throughputStatsType;V5k=54;break;case 18:Y=U?U.efb:void 0;G=U?U.tk:void 0;V=U?U.gu:void 0;N=G?G.pf([0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]):void 0;X=U?U.kj:void 0;G=0;X&&X.Wm&&X.Wm.th&&X.Wm.ng&&X.Wm.uh&&(G=Number((X.Wm.uh-X.Wm.th)/X.Wm.ng).toFixed(6));V5k=24;break;case 56:W=n(a.Fa.convLayerPars,a.Fa.convNetwork);V5k=55;break;case 170:aa=!1;V5k=45;break;case 141:V5k=D===q4E?140:169;break;case 133:D++;V5k=135;break;case 168:A.push(G),aa=!1;V5k=45;break;case 124:D++;V5k=129;break;case 115:x.$B={u3:!1,T8:!1,state:U,action:B,pzb:Y,value:W,$xb:t,Nb:{ep:y,L:x.Zb.L,VZ:M,sja:da&&da.value?Number(da.value).toFixed(3):0,Vt:G,eja:da?Number(da.eja).toFixed(6):0,sk:ea},t_:x.Zb.L,u_:x.Zb.ee,gja:ka};return x;break;case 139:A.push(V.co),D=0;V5k=138;break;case 48:V5k=D<N.length?47:45;break;case 8:B=h[f];x.Zb=B;q011.z4E(3);W8k=q011.h4E(3000,4000);M=(d.buffer.fj-d.buffer.we)/W8k;y=B.qa.ja.sa;V5k=13;break;case 150:da=q.call(this,Y,a.Fa,X,ba,a,d,h,f,u,m);V5k=149;break;case 55:V5k=a.Fa.useProdSimulation?77:147;break;case 4:F(!w.R(a.Fa),n4E);v=O.PLAYING;x=P();V5k=8;break;case 76:V5k=D<X.length?75:73;break;case 81:B=Number.NEGATIVE_INFINITY;V5k=80;break;case 88:V5k=D<X.length?87:85;break;case 129:V5k=D<B.length?128:123;break;case 123:D=0;V5k=122;break;case 70:V5k=void 0!==a.Fa.bandwidthManifold?69:150;break;case 2:F(!w.R(f),Q4E);F(w.aa(d.sk),V4E);V5k=4;break;case 82:D++;V5k=84;break;case 135:V5k=D<U.CN.length?134:132;break;case 50:V5k=N&&N.length?49:45;break;case 96:h[D].qa.fta=X[B],h[D].ja=u(h[D].qa,d.buffer);V5k=95;break;case 145:D=A.length;V5k=144;break;case 142:D++;V5k=144;break;case 111:B=[B];V5k=110;break;case 112:V5k=W4E===x||a4E===x?111:151;break;case 35:fa=B.U?B.U.length:void 0;ja=fa?fa-ea:void 0;V5k=33;break;case 148:x.Zb=da.Zb;V5k=92;break;case 91:V5k=void 0!==a.Fa.mixWithProd?119:115;break;case 60:return x.$B={u3:!0,state:U,T8:!1,Nb:{ep:y,L:x.Zb.L,VZ:M,sk:ea},t_:x.Zb.L,u_:x.Zb.ee,gja:ka},x;break;case 12:return C.error(l4E),x=v.call(this,a,d,h,f,u,m),x.SO=!0,x.$B={u3:!1,T8:!0,u_:x.Zb.ee,t_:x.Zb.L,Nb:{ep:y,L:x.Zb.L,VZ:M}},x;break;case 92:x.SO=!1;V5k=91;break;case 127:V5k=Y<B.length?126:124;break;case 113:B=ba;V5k=99;break;case 147:t=ba.map(function(a){var V89=q011;var m5k;m5k=2;while(m5k!==1){switch(m5k){case 2:V89.s4E(4);return V89.h4E(a,0);break;case 4:V89.z4E(5);return V89.h4E(a,5);break;m5k=1;break;}}});V5k=73;break;case 116:L4E!==a.Fa.mixWithProd&&j0e!==a.Fa.mixWithProd&&F(!1,b0e+a.Fa.mixWithProd);V5k=115;break;case 80:D=ba=0;V5k=79;break;case 144:V5k=D<Z?143:64;break;case 125:Y++;V5k=127;break;case 108:V5k=D<U.kT.length?107:105;break;case 126:ba.push(B[D]*B[Y]);V5k=125;break;case 21:++D;V5k=22;break;case 40:V5k=D<ba.length?39:37;break;case 78:V=Y[D],V>B&&(ba=D,B=V);V5k=104;break;case 99:V5k=!a.Fa.useControl&&(c0e!==x||a.Fa.randomizeAction)?98:94;break;case 146:V5k=A.length<Z?145:64;break;case 110:V5k=D?109:132;break;case 149:B=da.Lfb;V5k=148;break;case 22:V5k=D<d.buffer.U.length?21:35;break;case 136:D++;V5k=138;break;case 57:return x=v.call(this,a,d,h,f,u,m),x.SO=!0,x.$B={u3:!1,T8:!0,Nb:{ep:y,L:x.Zb.L,VZ:M,sk:ea},u_:x.Zb.ee,t_:x.Zb.L,gja:ka},x;break;case 45:V5k=A.length>Z?65:146;break;case 97:V5k=D<h.length?96:94;break;case 152:Y=r(B,a.Fa.policyNetwork,t,d0e);V5k=81;break;}}}function m(a,b){var M5k,c,d,g,h;M5k=2;while(M5k!==3){switch(M5k){case 4:return g;break;case 5:h++;M5k=1;break;case 14:return g;break;M5k=3;break;case 2:c=Number.POSITIVE_INFINITY,h=0;M5k=1;break;case 1:M5k=h<a.length&&!(d=Math.abs(a[h]-b),d<c&&(c=d,g=h),a[h]>b)?5:4;break;}}}function b(a,b){var G5k,k,p,n,c,d,g,h,f,r;G5k=2;while(G5k!==21){switch(G5k){case 11:c[h]=void 0;G5k=10;break;case 25:a={};a.eBb=c;a.OSa=d;G5k=22;break;case 10:h++;G5k=14;break;case 16:n++;G5k=19;break;case 7:h++;G5k=9;break;case 8:d[h]=void 0,g[h]=!1;G5k=7;break;case 13:f=b[h];G5k=12;break;case 20:p=Number.POSITIVE_INFINITY,n=0;G5k=19;break;case 19:G5k=n<a.length?18:15;break;case 26:void 0!==k&&(g[k]=!0,d[k]=h);G5k=10;break;case 9:G5k=h<a.length?8:6;break;case 22:return a;break;case 12:G5k=void 0===f?11:20;break;case 4:g=Array(a.length);G5k=3;break;case 14:G5k=h<b.length?13:25;break;case 15:g[k]&&(k=void 0);c[h]=k;G5k=26;break;case 18:r=Math.abs(f-a[n]);r<p&&(p=r,k=n);G5k=16;break;case 3:h=0;G5k=9;break;case 2:c=[];d=Array(a.length);G5k=4;break;case 6:h=0;G5k=14;break;}}}function p(a,b,c,d,g,h,f,k,p,n,r,l){var c5k,m,v,q,w,Z0e,g0e,R0e;c5k=2;while(c5k!==40){Z0e="Adding chunk sizes does n";Z0e+="ot ma";Z0e+="tch the config!";g0e="prod outputs must be supplied if addPr";g0e+="odOut";g0e+="put is turned on!";R0e="Something went wrong w";R0e+="ith i";R0e+="nput";R0e+=" ve";R0e+="ctor!";switch(c5k){case 18:a.Fa.addBufferStats&&d.push(g/240);g=[];a.Fa.addLastBitrate&&g.push(u(l));a.Fa.addAudioBitrate&&g.push(u(0));c5k=27;break;case 3:c?v.push(u(b[m])):v.push(b[m]);c5k=9;break;case 32:g.push(f[m]/25E6);c5k=31;break;case 43:g.push(n[m]);c5k=42;break;case 13:w=void 0!==d?d.length-2-m:-1;-1<w&&(q=d[w]);c.push(u(q));c5k=10;break;case 2:v=[u(b[0])];c5k=5;break;case 20:F(c.length===a.Fa.numBToFeed,R0e);d=[];c5k=18;break;case 42:m++;c5k=44;break;case 26:m=0;c5k=25;break;case 31:m++;c5k=33;break;case 28:F(void 0!==n,g0e),m=0;c5k=44;break;case 35:c5k=a.Fa.numOfChunkSizes&&0<a.Fa.numOfChunkSizes?34:30;break;case 44:c5k=m<n.length?43:41;break;case 33:c5k=m<f.length?32:30;break;case 22:a.Fa.addTopBitrate&&g.push(u(r));a.Fa.addHighEndSignal&&(h=0,a.Fa.HERatio&&b[0]&&b[0]>a.Fa.HERatio*r&&(h=1),g.push(h));c5k=35;break;case 25:c5k=m<h.length?24:22;break;case 10:m++;c5k=14;break;case 41:return{kT:v,owa:c,CN:d,Sja:g};break;case 5:m=1;c5k=4;break;case 34:F(f.length===a.Fa.numOfChunkSizes,Z0e),m=0;c5k=33;break;case 30:a.Fa.addNumChunksLeft&&(void 0!==k&&void 0!==p&&0<=k?g.push(k/p):g.push(1));c5k=29;break;case 4:c5k=m<b.length-1?3:8;break;case 24:g.push(h[m]);c5k=23;break;case 14:c5k=m<a.Fa.numBToFeed?13:20;break;case 29:c5k=a.Fa.addProdOutput?28:41;break;case 7:q=0;c5k=6;break;case 9:m++;c5k=4;break;case 27:c5k=a.Fa.addChunkQualities?26:22;break;case 8:c=[];c5k=7;break;case 23:m++;c5k=25;break;case 6:m=0;c5k=14;break;}}function u(b){var N5k;N5k=2;while(N5k!==3){switch(N5k){case 2:N5k=0===b?1:5;break;case 1:return 0;break;case 5:a.Fa.takeLog?(b=Math.log(1+Math.max(0,b)),b/=A):b/=11E4;return b;break;}}}}function n(a,b){var d5k,c,d,g,p,h,f,k,i0e,Y0e;d5k=2;while(d5k!==15){i0e="t";i0e+="a";i0e+="n";i0e+="h";Y0e="Only 1 con";Y0e+="v layer currently supp";Y0e+="orted!";switch(d5k){case 2:d5k=1;break;case 19:p++;d5k=10;break;case 11:p=0;d5k=10;break;case 20:f.push(b[p][0][k]);d5k=19;break;case 12:f=[];d5k=11;break;case 4:F(1==a.length,Y0e);c=b[0].b;d5k=9;break;case 13:d5k=k<a?12:16;break;case 14:h=[],k=0;d5k=13;break;case 1:d5k=void 0===a||void 0===b||0===a.length||0===b.length?5:4;break;case 9:d=a[0].stride;b=b[0].W;g=a[0].filter_size;a=a[0].num_filters;d5k=14;break;case 10:d5k=p<g?20:18;break;case 5:return null;break;case 17:k++;d5k=13;break;case 18:h.push(f);d5k=17;break;case 16:return new W(h,c,d,0,i0e);break;}}}I5k=2;while(I5k!==26){O0e="1SIY";O0e+="bZr";O0e+="NJ";O0e+="Cp";O0e+="9";switch(I5k){case 4:x=a(37);a(10);C=x.console;F=x.assert;I5k=7;break;case 2:w=a(8);a(13);I5k=4;break;case 27:O0e;I5k=26;break;case 18:a(31);G=a(31).Kua;A=Math.log(110001);f.K={STARTING:O.STARTING,BUFFERING:O.BUFFERING,REBUFFERING:O.REBUFFERING,PLAYING:y,PAUSED:y};I5k=27;break;case 7:P=x.mm;M=x.vZ;I5k=14;break;case 14:t=x.Ema;O=a(143);W=a(535);U=a(31).tanh;Y=a(31).xF;X=a(31).Uja;N=a(31).ema;I5k=18;break;}}function r(a,b,c,d){var L5k,r,g,l,u,m,h,f,k,p,n,w0e,v0e,x0e,u0e,z0e,s0e,h0e,T0e,o0e,y0e,X0e,S0e,k0e;L5k=2;while(L5k!==44){w0e="U";w0e+="nsupported NL";w0e+=" type: ";v0e="s";v0e+="o";v0e+="ft";v0e+="m";v0e+="ax";x0e="t";x0e+="a";x0e+="n";x0e+="h";u0e="r";u0e+="e";u0e+="l";u0e+="u";z0e="t";z0e+="a";z0e+="n";z0e+="h";s0e="so";s0e+="f";s0e+="t";s0e+="m";s0e+="ax";h0e="Mask should hav";h0e+="e same number of ele";h0e+="ments ";h0e+="as rows ";h0e+="of mat!";T0e="Masking only supported for softmax ";T0e+="nonlinear";T0e+="ity!";o0e="s";o0e+="oft";o0e+="m";o0e+="a";o0e+="x";y0e=")";y0e+=" ";y0e+="a";y0e+="s length";y0e+=" of vec + (";X0e="mat sho";X0e+="uld have s";X0e+="ame number of col";X0e+="umns (";S0e=") as len";S0e+="g";S0e+="th of bias";S0e+=" ";S0e+="(";k0e="mat should have same number";k0e+=" of row";k0e+="s (";switch(L5k){case 14:n=a===b.length-1?c:void 0;F(h.length===k.length,k0e+h.length+S0e+k.length+")");F(f.length===h[0].length,X0e+h[0].length+y0e+f.length+")");F(void 0===n||o0e===p,T0e);void 0!==n&&F(n.length===h.length,h0e);L5k=20;break;case 24:L5k=s0e===p?23:30;break;case 16:u+=l[m]*f[m];L5k=15;break;case 23:g=h=0;L5k=22;break;case 30:g=h=r;L5k=29;break;case 21:r[g]=void 0===n||n[g]?Math.exp(r[g]):0,h+=r[g];L5k=35;break;case 17:L5k=m<f.length?16:27;break;case 34:g=0;L5k=33;break;case 25:++g;L5k=19;break;case 20:r=[],g=0;L5k=19;break;case 15:++m;L5k=17;break;case 9:h=b[a].W;f=g;k=b[a].b;p=a===b.length-1?d:z0e;L5k=14;break;case 18:l=h[g],u=k[g],m=0;L5k=17;break;case 33:L5k=g<r.length?32:30;break;case 2:g=a;L5k=5;break;case 27:u0e===p?u=Math.max(0,u):x0e===p?u=U(u):void 0!==p&&v0e!==p&&F(!1,w0e+p);r[g]=u;L5k=25;break;case 5:h=a;L5k=4;break;case 29:a++;L5k=3;break;case 22:L5k=g<r.length?21:34;break;case 3:L5k=a<b.length?9:28;break;case 32:r[g]/=h;L5k=31;break;case 19:L5k=g<h.length?18:24;break;case 31:g++;L5k=33;break;case 35:g++;L5k=22;break;case 28:return h;break;case 4:a=0;L5k=3;break;}}}function c(a,b,c){var t09=q011;var A5k,M0e,A0e,e0e,t0e,f0e,s8k,f8k,g8k,O8k,H8k;A5k=2;while(A5k!==4){M0e="bit";M0e+="rate-li";M0e+="near";A0e="vmaf-";A0e+="re";A0e+="ciprocal";e0e="bit";e0e+="rate-recipr";e0e+="o";e0e+="cal";t0e="bitra";t0e+="te-lo";t0e+="g";f0e="vmaf-";f0e+="line";f0e+="ar";switch(A5k){case 10:a=b.L/11E4;A5k=5;break;case 11:A5k=10;break;case 12:t09.s4E(6);s8k=t09.h4E(11,11);t09.s4E(7);f8k=t09.h4E(10,365,19,19,6);a=s8k/b.ee*f8k;A5k=5;break;case 8:A5k=a===f0e?7:6;break;case 3:A5k=a===t0e?9:8;break;case 1:t09.z4E(8);g8k=t09.T4E(15,164970,6,109988);a=b.L/g8k;A5k=5;break;case 6:A5k=a===e0e?14:13;break;case 14:t09.s4E(3);O8k=t09.h4E(13,12);t09.s4E(9);H8k=t09.T4E(11,4023,600,7);a=O8k/b.L*H8k;A5k=5;break;case 13:A5k=a===A0e?12:11;break;case 7:a=b.ee/100;A5k=5;break;case 5:return isFinite(a)?c*a:0;break;case 9:a=Math.log(b.L)/A;A5k=5;break;case 2:A5k=a===M0e?1:3;break;}}}function l(a,b,c,d,g,h,f){var Q5k,D0e,C0e;Q5k=2;while(Q5k!==9){D0e="s";D0e+="oft";D0e+="ma";D0e+="x";C0e="t";C0e+="a";C0e+="n";C0e+="h";switch(Q5k){case 3:return{mcb:b,Ekb:g,ixb:a};break;case 2:null===h?a=a.kT.concat(a.owa).concat(a.CN).concat(a.Sja):(h=h.forward(a.owa),a=a.kT.concat(h).concat(a.CN).concat(a.Sja));c=r(a,c,void 0,C0e);b=f?void 0:r(c,d,b,D0e);g=r(c,g,void 0,void 0)[0];Q5k=3;break;}}}function h(a,b,c,d){var o5k;o5k=2;while(o5k!==1){switch(o5k){case 2:return a.U&&0<a.U.length?b<a.U.length?a.U.sna(b)/d:a.U.sna(a.U.length-1)/d:a.L*c/8;break;}}}function g(a,b,c,d,g){var j09=q011;var v5k,f,k,p,n,r,l,E0e;v5k=2;while(v5k!==30){E0e="horiz";E0e+="ont";E0e+="al";switch(v5k){case 26:v5k=p.length<b?25:24;break;case 19:v5k=E0e===a?18:23;break;case 8:v5k=n<d.length?7:20;break;case 20:p=[];v5k=19;break;case 9:n=0;v5k=8;break;case 5:return[];break;case 10:n++;v5k=8;break;case 2:v5k=1;break;case 17:v5k=n<b-1?16:27;break;case 7:v5k=d[n].U&&0<d[n].U.length?6:10;break;case 27:g=p[p.length-1];v5k=26;break;case 25:p.push(g);v5k=26;break;case 18:c=d[d.length-1],p.push(c.L/8),n=0;v5k=17;break;case 31:n--;v5k=22;break;case 33:l++;v5k=35;break;case 22:v5k=n>=d.length-a?21:27;break;case 21:r=0,l=0;v5k=35;break;case 11:f=p/d[n].L;v5k=20;break;case 24:return p;break;case 1:v5k=void 0===b||0>=b?5:4;break;case 15:n++;v5k=17;break;case 4:f=1;k=2002;v5k=9;break;case 23:a=Math.min(b,d.length),n=d.length-1;v5k=22;break;case 35:v5k=l<c?34:32;break;case 34:r+=h(d[n],g+l,f,k);v5k=33;break;case 6:k=d[n].U;p=k.sna(g);k=k.ewb(g);j09.s4E(1);p=j09.h4E(k,8,p);v5k=11;break;case 32:j09.s4E(2);p.push(j09.T4E(c,r));v5k=31;break;case 16:p.push(h(c,g+n,f,k));v5k=15;break;}}}function z(a,b,c){var b5k,d,g,h,f,k,p,n;b5k=2;while(b5k!==12){switch(b5k){case 3:p=c.filter;c=!!c.simpleScaling;n=a.ja&&a.ja.sa||0;a=Math.pow(Math.max(1-(a[p]&&a[p].sa||n)/f,0),k);b=b.fj-b.we;h?g=N(h,b,a)*a:c?(d=N(d,b,1),g=N(g,b,1),g=d*a+g*(1-a)):g=N(G(d,g,a),b,1);return g;break;case 2:Array.isArray(c.curves)?(d=X(c.curves[0],0,0,1),g=X(c.curves[1],0,0,1)):h=X(c.curves,0,0,1);f=Y(c.threshold||6E3,1,1E5);k=Y(c.gamma||1,.1,10);b5k=3;break;}}}function k(a,b,d,g,h,f){var B5k,k;B5k=2;while(B5k!==15){switch(B5k){case 3:B5k=0<=h?9:7;break;case 11:B5k=h<d?10:14;break;case 19:h=0;B5k=18;break;case 20:h++;B5k=11;break;case 12:h=k.length;B5k=11;break;case 5:B5k=h?4:19;break;case 2:k=[];B5k=5;break;case 10:k.push(0);B5k=20;break;case 14:return k;break;case 13:B5k=k.length<d?12:14;break;case 9:k.push(c(a,b[h],g));B5k=8;break;case 7:B5k=k.length>d?6:13;break;case 8:h--;B5k=3;break;case 6:k=k.slice(0,d);B5k=14;break;case 4:h=b.length-1;B5k=3;break;case 17:d=f[h],void 0!==d?k.push(c(a,b[d],g)):k.push(0);B5k=16;break;case 16:h++;B5k=18;break;case 18:B5k=h<f.length?17:14;break;}}}}());},function(f,c,a){(function(){var N0e,g,p,n,r,l,m,q,z,y,w,h5e;function b(a,b){var G0e,c;G0e=2;while(G0e!==3){switch(G0e){case 2:c=void 0;G0e=5;break;case 5:b.some(function(b){var H0e,d;H0e=2;while(H0e!==9){switch(H0e){case 2:d=b.profiles;H0e=5;break;case 4:c=b.vx;H0e=3;break;case 3:return d;break;case 5:H0e=(d=d&&0<=d.indexOf(a))?4:3;break;}}});G0e=4;break;case 4:return c;break;case 14:return c;break;G0e=3;break;}}}function h(a,b,c,d){var F0e;F0e=2;while(F0e!==1){switch(F0e){case 2:return d&&a>c.Zw&&(g.R(this.Co)||this.lB>this.Co||b-this.Co>c.xQ);break;}}}N0e=2;function k(a,b,d,f){var P0e,k,p,u,m,v,q,w,x,B,X5e,S5e,k5e,O5e,i5e,Y5e,Z5e,g5e,R5e,d5e,c5e,b5e,j5e,L0e,l0e,a0e,W0e,V0e,Q0e,n0e,q0e,r0e,U0e,J0e;P0e=2;while(P0e!==44){X5e=", stre";X5e+="aming";X5e+="Pts ";X5e+="= ";S5e=", lastUps";S5e+="wi";S5e+="tchPts = ";k5e="  Upswitch a";k5e+="l";k5e+="lowed. la";k5e+="stDownswitchPts =";k5e+=" ";O5e=" kbps, tr";O5e+="y to do";O5e+="wnswitch";i5e=" ";i5e+="k";i5e+="bps";i5e+=" ";i5e+="< ";Y5e="th";Y5e+="r";Y5e+="oughput for a";Y5e+="udio ";Z5e=" k";Z5e+="bp";Z5e+="s";g5e=" ";g5e+="kbp";g5e+="s ";g5e+=">";g5e+=" ";R5e="throughp";R5e+="ut fo";R5e+="r";R5e+=" audio";R5e+=" ";d5e="kbps";d5e+=", stream";d5e+="in";d5e+="gPts :";c5e=", au";c5e+="dio throug";c5e+="hput:";b5e=" k";b5e+="bps";b5e+=", ";b5e+="pr";b5e+="ofile :";j5e="selectAudio";j5e+="Stream: ";j5e+="sel";j5e+="ected stream :";L0e=" ";L0e+="k";L0e+="b";L0e+="p";L0e+="s";l0e=" ";l0e+="kbp";l0e+="s, ";l0e+="to ";a0e="switchi";a0e+="ng audio ";a0e+="from ";W0e="d";W0e+="o";W0e+="w";W0e+="n";V0e="u";V0e+="p";Q0e="Must ha";Q0e+="ve at le";Q0e+="a";Q0e+="st one se";Q0e+="lected stream";n0e="m";n0e+="s";q0e=", buffer";q0e+=" l";q0e+="eve";q0e+="l";q0e+=" = ";r0e=",";r0e+=" lastUpsw";r0e+="itchP";r0e+="ts = ";U0e="  Upswitch n";U0e+="ot";U0e+=" allowed. lastDownswitchPts = ";J0e="new selected stream not a";J0e+="ligned with las";J0e+="t buffered fragment, stay on previous str";J0e+="eamIndex";switch(P0e){case 15:v=u[q];P0e=27;break;case 9:P0e=u&&1<u.length?8:31;break;case 19:w=w[x-1],c(w,d[k])||(r&&n.log(J0e),w.stream&&(k=w.stream.yh));P0e=31;break;case 22:P0e=h(B,v.Pa,x,b.gQ)?21:32;break;case 32:r&&n.log(U0e+this.Co+r0e+this.lB+q0e+B+n0e);P0e=10;break;case 8:m=d[f];v=m.L;q=u.indexOf(f);w=m.ja;x=a.qSa;P0e=12;break;case 2:l(!g.R(f),Q0e);k=f;p=d[f].ve;a.p8.some(function(c){var K0e,g,h,f,k,n,r;K0e=2;while(K0e!==13){switch(K0e){case 3:f=(c=c.vx)&&c.SQ||a.SQ;k=c&&c.lyb||-Infinity;n=c&&c.Mqa||Infinity;r=b.buffer.ft;K0e=6;break;case 2:g=c.profiles;h=g&&0<=g.indexOf(p);K0e=4;break;case 6:u=d.filter(function(a){var p0e,b;p0e=2;while(p0e!==4){switch(p0e){case 1:b=a.L;return b>=k&&b<=n&&0<=g.indexOf(a.ve)&&b*f/8<r;break;case 2:p0e=1;break;}}}).map(function(a){var B0e;B0e=2;while(B0e!==1){switch(B0e){case 4:return a.yh;break;B0e=1;break;case 2:return a.yh;break;}}});K0e=14;break;case 4:K0e=h?3:14;break;case 14:return h;break;}}});P0e=9;break;case 20:P0e=(x=w.length)?19:31;break;case 33:k=v;P0e=10;break;case 16:P0e=0<=q?15:10;break;case 10:w=b.buffer.U;P0e=20;break;case 12:P0e=0>q?11:18;break;case 24:q--;P0e=16;break;case 31:w=d[k];k!==f&&r&&n.log((k>f?V0e:W0e)+a0e+m.L+l0e+w.L+L0e);r&&n.log(j5e+w.L+b5e+p+c5e+w.ja+d5e+b.buffer.Pa);return new y(k);break;case 26:P0e=z(B)&&(0==q||B.L*x.Bla<w)?25:24;break;case 23:P0e=q<u.length-1&&w>x.Wwa*v&&(r&&n.log(R5e+w+g5e+x.Wwa+"*"+v+Z5e),v=b.buffer,B=v.fj-v.we,m.U&&m.U.length)?22:10;break;case 25:k=v;P0e=10;break;case 17:r&&n.log(Y5e+w+i5e+x.Bla+"*"+v+O5e),--q;P0e=16;break;case 35:P0e=++q<u.length?34:10;break;case 34:P0e=(v=u[q],B=d[v],z(B)&&w>x.Wwa*B.L)?33:35;break;case 18:P0e=q&&w<x.Bla*v?17:23;break;case 21:r&&n.log(k5e+this.Co+S5e+this.lB+X5e+v.Pa);P0e=35;break;case 11:k=0;P0e=10;break;case 27:B=d[v];P0e=26;break;}}}while(N0e!==10){h5e="1";h5e+="SI";h5e+="Y";h5e+="bZrNJC";h5e+="p9";switch(N0e){case 2:g=a(8);p=a(37);n=p.console;N0e=3;break;case 3:r=p.debug;l=p.assert;m=a(38);q=a(13);N0e=6;break;case 6:z=p.Sw;y=p.mm;w=a(289);f.K={STARTING:function(a,c,d,g){var m0e,h,f,T5e,o5e,y5e;m0e=2;while(m0e!==14){T5e=" ";T5e+="kb";T5e+="p";T5e+="s, profi";T5e+="le :";o5e="selectAudioStreamStarting";o5e+=": selected";o5e+=" str";o5e+="eam :";y5e="sele";y5e+="ctAudioStreamStarting: o";y5e+="ver";y5e+="riding config with ";switch(m0e){case 2:h=a;f=d[g||0].ve;m0e=4;break;case 3:h={minInitAudioBitrate:a.HH,minHCInitAudioBitrate:a.GH,maxInitAudioBitrate:a.wH,minRequiredAudioBuffer:a.SQ},r&&n.log(y5e+JSON.stringify(f)),m(f,h);m0e=9;break;case 4:m0e=(f=b(f,a.p8)||b(f,a.pSa))?3:9;break;case 9:a=w[q.wa.name[q.wa.Ag]](h,c,d,g);m0e=8;break;case 8:d=d[a.Rf];r&&n.log(o5e+d.L+T5e+d.ve);return a;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};N0e=11;break;case 11:h5e;N0e=10;break;}}function c(a,b){var I0e,c;I0e=2;while(I0e!==4){switch(I0e){case 2:c=b.U;return c?(b=a.ij,a=a.Em,(c=c.oG(b,b,!1))&&c.ij==b&&c.Em==a):!0;break;}}}}());},function(f,c,a){var d,k,h,g;function b(a,b,c){var f,p;f=this.QX;b=b.buffer.Pa;p="forward"===a.ffb;if(d.R(f))return f=p?k(c):k(c,c.length),this.SX=b,this.QX=f,new g(f);h(c[f])||(f=k(c,f),this.SX=b,this.QX=f);if(0>f)return null;if(b>this.SX+a.Sib){a=c.map(function(a,b){return a.Te&&a.inRange&&!a.qh?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;p?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.QX=a[f];this.SX=b;return new g(a[f]);}return new g(f);}d=a(8);a(13);c=a(37);k=c.v1;h=c.Sw;g=c.mm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d;function b(a,b,c){a=c.map(function(a,b){return a.Te&&a.inRange&&!a.qh?b:null;}).filter(function(a){return null!==a;});return a.length?new d(a[Math.floor(Math.random()*a.length)]):null;}a(13);d=a(37).mm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){var d,k,h,g;function b(a,b,c,f){if(d.R(f))a=k(c);else if(h(c[f]))a=f;else if(a=k(c,f),0>a)return null;return new g(a);}d=a(8);a(13);c=a(37);k=c.v1;h=c.Sw;g=c.mm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,c,a){(function(){var s5e,c,k,h,g,p,n,r,l,m,q,z,y,K2k,I2k,V2k,h2k,p6k,X6k,q6k,c6k;s5e=2;function b(a,b,d,g){var z5e;z5e=2;while(z5e!==8){switch(z5e){case 3:this.WE=q.reduce(function(a,d){var u5e,g;u5e=2;while(u5e!==3){switch(u5e){case 2:g=c.Ad(b)?b[d]||y[d]:b;a[d]=((z[g]||z[y[d]])[d]||z[y[d]][d]).bind(this);return a;break;}}}.bind(this),{});d.Fq&&(this.dfb=z.rlabr);z5e=8;break;case 2:this.config=d;this.events=a||k(h,{});g&&(this.yv=g.yv,this.nM=g.nM);b=b||d.Xx;z5e=3;break;}}}while(s5e!==15){K2k="1";K2k+="SIYbZrNJCp";K2k+="9";I2k="che";I2k+="ck";I2k+="d";I2k+="efault";V2k="defa";V2k+="u";V2k+="lt";h2k="d";h2k+="efa";h2k+="u";h2k+="l";h2k+="t";p6k="d";p6k+="e";p6k+="fau";p6k+="lt";X6k="def";X6k+="a";X6k+="ult";q6k="d";q6k+="ef";q6k+="a";q6k+="ul";q6k+="t";c6k="che";c6k+="ckBuf";c6k+="f";c6k+="e";c6k+="ring";switch(s5e){case 2:c=a(8);k=a(38);h=a(24).EventEmitter;g=a(13);p=a(37);n=a(10);s5e=7;break;case 20:b.prototype.w7=function(a,b,d,h,f,k,p){var x5e,v5e,u,v,q,w,B,x,F,z,M,P,C,y,t,ea,A,D,W6k,B6k;x5e=2;while(x5e!==59){W6k="rla";W6k+="b";W6k+="r";B6k="Strea";B6k+="m sele";B6k+="ctor called with invalid player state ";switch(x5e){case 63:x5e=v5e===g.wa.Oe?22:62;break;case 45:x5e=v5e===g.wa.Mr?65:64;break;case 23:this.nM=g.GK.Ag;x5e=22;break;case 65:this.nM=g.GK.Ag;x5e=22;break;case 1:d=a&&a.buffer;q=a&&a.state;w=n.time.fa();x=this.config;x5e=9;break;case 11:c.R(F)&&(F=this.yv);l(b,function(b){var f5e,K5e;f5e=2;while(f5e!==8){switch(f5e){case 4:b.ja=B;q011.y6k(0);K5e=q011.e6k(7,1,4,11);b.sja=K5e*B/b.qa.ja.sa;f5e=8;break;case 1:f5e=v!==b.qa||v&&v.mr!==a.mr||v&&v.gu!==a.gu?5:4;break;case 2:f5e=b.Te&&b.inRange&&!b.qh&&b.qa&&b.qa.bc?1:9;break;case 5:v=b.qa,v.mr=a.mr,v.gu=a.gu,a&&a.Mm&&b.qa&&(b.qa.Mm=!0),q==g.wa.Ag&&x.gG&&a.UP&&x.IRa&&(b.qa.ja.sa=a.UP),B=Math.floor(h(b.qa,a.buffer)),B=0===B?1:B;f5e=4;break;case 9:delete b.ja;f5e=8;break;}}});q===g.wa.Ag&&c.aa(F)&&(q=g.wa.Mr);y=b.filter(function(a){var t5e;t5e=2;while(t5e!==1){switch(t5e){case 2:return a&&a.Te&&a.inRange&&!a.qh;break;}}});y.length||(y=b.filter(function(a){var e5e;e5e=2;while(e5e!==1){switch(e5e){case 4:return a||a.Te||+a.qh;break;e5e=1;break;case 2:return a&&a.Te&&!a.qh;break;}}}),y.forEach(function(a){var A5e;A5e=2;while(A5e!==1){switch(A5e){case 4:a.inRange=-9;A5e=7;break;A5e=1;break;case 2:a.inRange=!0;A5e=1;break;}}}));M=y;x5e=16;break;case 49:c.aa(F)&&f.L<b[F].L&&(this.Co=d.Pa);x5e=48;break;case 61:return r.error(B6k+g.wa.name[a.state]),null;break;case 9:F=this.yv;c.aa(F)&&a&&a.state===g.wa.Ag&&(delete this.yv,F=void 0);c.aa(F)&&F>=b.length&&(delete this.yv,F=void 0);M=d.U;x5e=14;break;case 12:C=M[P-1].Za,F=m(b,function(a){var w5e;w5e=2;while(w5e!==1){switch(w5e){case 2:return a.id===C;break;case 4:return a.id==C;break;w5e=1;break;}}}),F=0<=F?F:void 0;x5e=11;break;case 48:a.state!==g.wa.Oe&&a.state!==g.wa.Bn?(k=this.dA(a,f,k,p),(u.eo=k.complete)?u.reason=k.reason:(u.eo=!1,u.Qx=k.Qx,u.tH=k.tH,u.Xh=k.Xh)):u.eo=!0;a.Xj&&(u.Pa=d.Pa,k=a&&a.sk,M=f.U,u.io=M&&!isNaN(k)&&0<=k&&k<M.length?M.Sf(k):d.Pa,u.ycb=f.ja||0,u.eab=f.qa&&f.qa.ja&&f.qa.ja.sa||0,u.lTa=d.fj-d.we,u.kTa=d.zh,u.Xsa=q,u.Nj=a&&a.Nj,u.Nwa=w,u.Gib=n.time.fa());return u;break;case 36:u.bC={current_tpt:M,prod_tpt:P,rl_tpt:t,current_br:ea,prod_br:A,rl_br:D,blms:z,fellBackToProd:f.SO};x5e=54;break;case 39:ea=b[F].L||0;A=A.L||0;D=D.L||0;x5e=36;break;case 28:D=0;b[F].qa&&b[F].qa.ja&&(M=b[F].qa.ja.sa||0);A=u.Zb||b[u.Rf];A.qa&&A.qa.ja&&(P=A.qa.ja.sa||0);x5e=41;break;case 41:D=f.Zb;D.qa&&D.qa.ja&&(t=D.qa.ja.sa||0);x5e=39;break;case 16:x.eJ?M=y.filter(function(a){var M5e;M5e=2;while(M5e!==1){switch(M5e){case 2:return a.fl;break;case 4:return a.fl;break;M5e=1;break;}}}):a.state!==g.wa.Oe&&a.state!==g.wa.Bn&&(M=y.filter(function(a){var C5e;C5e=2;while(C5e!==1){switch(C5e){case 4:return-a.KS;break;C5e=1;break;case 2:return!a.KS;break;}}}));y=0<M.length?M:y.slice(0,1);void 0!==F&&(z=m(y,function(a){var D5e;D5e=2;while(D5e!==1){switch(D5e){case 4:return a.L>=b[F].L;break;D5e=1;break;case 2:return a.L>b[F].L;break;}}}),z=0<z?z-1:0===z?0:y.length-1);x5e=26;break;case 54:x5e=!u||null===u.Rf?53:52;break;case 31:t=P=M=0;ea=0;A=0;x5e=28;break;case 53:return null;break;case 62:x5e=v5e===g.wa.Bn?22:61;break;case 25:delete this.Co;delete this.lB;x5e=23;break;case 64:x5e=v5e===g.wa.hs?65:63;break;case 26:v5e=a.state;x5e=v5e===g.wa.Ag?25:45;break;case 22:u=this.WE[g.wa.name[q]].call(this,x,a,y,z,h,f);u.Zb?(u.tw=[],b.forEach(function(a,b){var E5e;E5e=2;while(E5e!==4){switch(E5e){case 2:a===u.Zb&&(u.Rf=b);a.bT&&u.tw.push(b);a.bT=!1;E5e=4;break;}}}),u.tw.length||(u.tw=void 0)):(M=function(a){var N5e;N5e=2;while(N5e!==1){switch(N5e){case 2:return m(b,function(b){var G5e;G5e=2;while(G5e!==1){switch(G5e){case 4:return b!==y[a];break;G5e=1;break;case 2:return b===y[a];break;}}});break;case 4:return m(b,function(b){return b!==y[a];});break;N5e=1;break;}}},u.Rf=M(u.Rf),u.tw&&(u.tw=u.tw.map(M)));x5e=35;break;case 34:f=this.dfb[g.wa.name[q]].call(this,x,a,y,z,h,f);b.forEach(function(a){var H5e;H5e=2;while(H5e!==1){switch(H5e){case 2:a.bT=!1;H5e=1;break;case 4:a.bT=~4;H5e=2;break;H5e=1;break;}}});z=a.vd||d.fj-d.we;x5e=31;break;case 52:this.yv=u.Rf;f=b[u.Rf];u.reason&&(f.Jfb=u.reason,f.v7=u.Rq,f.WG=u.WG,f.il=u.il,f.ek=u.ek);x5e=49;break;case 35:x5e=x.Fq&&W6k!==x.Xx&&(q===g.wa.Oe||q===g.wa.Bn)&&0===a.sk%x.aC?34:54;break;case 13:x5e=0<P?12:11;break;case 14:P=M.length;x5e=13;break;case 2:x5e=1;break;}}};b.prototype.dA=function(a,b,c,d){var I5e;I5e=2;while(I5e!==1){switch(I5e){case 2:return this.WE.checkBuffering.call(this,a,b,c,d,this.config);break;}}};s5e=18;break;case 7:r=p.console;l=p.Ema;m=p.vZ;s5e=13;break;case 13:q=[g.wa.name[g.wa.Ag],g.wa.name[g.wa.Mr],g.wa.name[g.wa.hs],g.wa.name[g.wa.Oe],g.wa.name[g.wa.Bn],c6k];z={first:a(540),random:a(539),optimized:a(143),roundrobin:a(538),selectaudio:a(289),selectaudioadaptive:a(537),"default":a(143),rlabr:a(536),lowest:a(534),highest:a(533),throughputthreshold:a(532),checkdefault:a(531),testscript:a(530)};y={STARTING:q6k,BUFFERING:X6k,REBUFFERING:p6k,PLAYING:h2k,PAUSED:V2k,checkBuffering:I2k};b.prototype.constructor=b;s5e=20;break;case 18:b.prototype.Uhb=function(a,b,d){var P5e;P5e=2;while(P5e!==1){switch(P5e){case 2:c.R(b)?(delete this.lB,delete this.Co):b.L<d.L&&(this.lB=a);P5e=1;break;}}};f.K=b;K2k;s5e=15;break;}}}());},function(f,c,a){(function(){var z2k,l,m,q,z,y,w,H1E,b8E,o8E;function r(a){var x2k,E8E,V8E,J8E,d8E;x2k=2;while(x2k!==13){E8E="IN";E8E+="V";E8E+="A";E8E+="LI";E8E+="D";V8E="FAI";V8E+="LED TEMPO";V8E+="R";V8E+="ARILY";J8E="F";J8E+="AILED";J8E+=" ";J8E+="PERMAN";J8E+="ENTLY";d8E="O";d8E+="K";switch(x2k){case 1:return r(a.cc);break;case 2:x2k=a&&l.Ad(a)&&l.aa(a.cc)?1:5;break;case 5:x2k=a===0?4:3;break;case 8:x2k=a===1?7:6;break;case 4:return d8E;break;case 9:return J8E;break;case 3:x2k=a===2?9:8;break;case 7:return V8E;break;case 6:return E8E;break;}}}function c(a,b,c,d,g){var L2k,A8E,U8E,K8E;L2k=2;while(L2k!==17){A8E="c";A8E+="l";A8E+="o";A8E+="s";A8E+="e";U8E="un";U8E+="de";U8E+="rfl";U8E+="o";U8E+="w";K8E="ne";K8E+="t";K8E+="w";K8E+="ork";switch(L2k){case 2:this.events=a||m(q,{});this.config=g;this.Wh=b;this.vQ=c;L2k=3;break;case 14:this.Ab={};a=[];this.oe={id:K8E,Dw:w.Ne.up,cc:0,nO:!1,Ie:a,children:a};this.OI=this.wM=null;L2k=10;break;case 3:this.mode=0;this.Qo=g.zA&&d;this.Ie={};this.qk={};this.gd={};L2k=14;break;case 10:this.fC=w.ge.ls;this.events.on(U8E,function(){var m2k;m2k=2;while(m2k!==1){switch(m2k){case 4:this.Geb();m2k=2;break;m2k=1;break;case 2:this.Geb();m2k=1;break;}}}.bind(this));L2k=19;break;case 18:this.events.on(A8E,function(){var o2k;o2k=2;while(o2k!==1){switch(o2k){case 4:this.Pbb();o2k=4;break;o2k=1;break;case 2:this.Pbb();o2k=1;break;}}}.bind(this));L2k=17;break;case 19:L2k=g.$7a?18:17;break;}}}function p(a,b){var n2k;n2k=2;while(n2k!==4){switch(n2k){case 2:n2k=1==a.cc||2==a.cc&&b?1:5;break;case 8:a.cc=1;n2k=9;break;n2k=5;break;case 1:a.cc=0;n2k=5;break;case 5:a.children&&a.children.forEach(function(a){var O2k;O2k=2;while(O2k!==1){switch(O2k){case 4:p(a,b);O2k=7;break;O2k=1;break;case 2:p(a,b);O2k=1;break;}}});n2k=4;break;}}}z2k=2;function k(a){var Y2k;Y2k=2;while(Y2k!==9){switch(Y2k){case 2:delete a.url;delete a.location;delete a.Rb;delete a.qa;delete a.ja;Y2k=9;break;}}}while(z2k!==35){H1E="1S";H1E+="I";H1E+="YbZr";H1E+="NJC";H1E+="p9";b8E="me";b8E+="dia";b8E+="|a";b8E+="sej";b8E+="s";o8E="AS";o8E+="EJS_LOCATION_SEL";o8E+="EC";o8E+="TOR";switch(z2k){case 4:q=a(24).EventEmitter;z=a(10);y=new z.Console(o8E,b8E);w=a(13);z2k=7;break;case 2:l=a(8);m=a(38);z2k=4;break;case 20:c.prototype.hva=function(a){var h1k;h1k=2;while(h1k!==5){switch(h1k){case 2:h1k=(a=this.gd[a])?1:5;break;case 9:return a.parent.id;break;h1k=5;break;case 1:return a.parent.id;break;}}};c.prototype.uQ=function(a){var V1k;V1k=2;while(V1k!==5){switch(V1k){case 1:return a.parent.location;break;case 2:V1k=(a=this.gd[a])?1:5;break;case 3:V1k=(a=this.gd[a])?4:6;break;V1k=(a=this.gd[a])?1:5;break;}}};c.prototype.Yva=function(a){var I1k;I1k=2;while(I1k!==5){switch(I1k){case 1:return a.stream;break;case 9:return a.stream;break;I1k=5;break;case 2:I1k=(a=this.gd[a])?1:5;break;}}};c.prototype.hgb=function(a,b){var K1k,c,d;K1k=2;while(K1k!==9){switch(K1k){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;l.forEach(this.gd,function(g,h){var z1k,f,k,p,n,k8E,M8E,G1k;z1k=2;while(z1k!==14){k8E="8";k8E+="0";M8E="4";M8E+="4";M8E+="3";switch(z1k){case 3:z1k=k&&4===k.length?9:14;break;case 2:g=g.parent.id;f=c[g];k=h.match(d);z1k=3;break;case 9:q011.R8E(0);G1k=q011.Z8E(20,7,139);p="s"===k[G1k];n=k[2];k=k[3];l.$c(n)&&l.$c(k)&&(k.length||(k=p?M8E:k8E),n==a&&k==b&&(f?f.push(h):c[g]=[h]));z1k=14;break;}}});K1k=3;break;case 3:return c;break;}}};z2k=16;break;case 7:m(q,c.prototype);c.prototype.qN=function(a){var f2k,n8E;f2k=2;while(f2k!==11){n8E="ma";n8E+="nif";n8E+="e";n8E+="st";n8E+="Added";switch(f2k){case 14:this.oe.children=a;this.emit(n8E);this.dump();f2k=11;break;case 2:a.locations.forEach(function(a){var H2k,c,d,g;H2k=2;while(H2k!==14){switch(H2k){case 2:c=a.key;H2k=5;break;case 5:H2k=!l.has(this.Ie,c)?4:14;break;case 4:d=[];g=this.vQ.get(c);a={id:c,rd:a.rank,level:a.level,weight:a.weight,Dw:w.Ne.oba,cc:0,parent:this.oe,qk:d,children:d,Ab:{},jr:!1,mta:!1,qa:g,g9:null};this.Ie[a.id]=a;a.parent.children.push(a);b(a);H2k=14;break;}}},this);this.wM=z.time.fa();this.oe.Ie.sort(function(a,b){var k2k;k2k=2;while(k2k!==1){switch(k2k){case 2:return a.level-b.level||a.rd-b.rd;break;}}});f2k=4;break;case 8:a=this.oe.Ie.filter(function(a){var E2k,b;E2k=2;while(E2k!==3){switch(E2k){case 2:b=a.qk.every(function(a){var F2k,n1k;F2k=2;while(F2k!==1){switch(F2k){case 2:return 0===a.gd.length;break;case 4:q011.R8E(1);n1k=q011.Z8E(20,100,20);return n1k!=a.gd.length;break;F2k=1;break;}}});b&&(a.qk.forEach(function(a){var b2k;b2k=2;while(b2k!==1){switch(b2k){case 4:~this.qk[a.id];b2k=5;break;b2k=1;break;case 2:delete this.qk[a.id];b2k=1;break;}}},this),delete this.Ie[a.id],delete a.parent,delete a.qk,delete a.children,delete a.Ab);return!b;break;}}},this);a.forEach(function(a){var A2k;A2k=2;while(A2k!==1){switch(A2k){case 2:a.qk.sort(function(a,b){var d2k;d2k=2;while(d2k!==1){switch(d2k){case 2:return a.rd-b.rd;break;case 4:return a.rd+b.rd;break;d2k=1;break;}}});A2k=1;break;}}});this.oe.Ie=a;f2k=14;break;case 4:a.servers.forEach(function(a){var g2k,b,c;g2k=2;while(g2k!==7){switch(g2k){case 2:g2k=1;break;case 1:g2k=!l.has(this.qk,a.id)?5:7;break;case 5:b=this.Ie[a.key];c=[];a={id:a.id,name:a.name,type:a.type,rd:a.rank,Dw:w.Ne.dv,cc:0,parent:b,location:b,gd:c,children:c};this.qk[a.id]=a;g2k=8;break;case 8:a.parent.children.push(a);g2k=7;break;}}},this);a.audio_tracks.forEach(function(a){var u2k;u2k=2;while(u2k!==1){switch(u2k){case 2:this.nta(a);u2k=1;break;case 4:this.nta(a);u2k=4;break;u2k=1;break;}}},this);a.video_tracks.forEach(function(a){var s2k;s2k=2;while(s2k!==1){switch(s2k){case 4:this.nta(a);s2k=3;break;s2k=1;break;case 2:this.nta(a);s2k=1;break;}}},this);f2k=8;break;}}};c.prototype.nta=function(a){var P2k;P2k=2;while(P2k!==1){switch(P2k){case 2:a.streams.forEach(function(a){var D2k,b,P8E;D2k=2;while(D2k!==8){P8E="n";P8E+="o";P8E+="n";P8E+="e";P8E+="-";switch(D2k){case 3:l.wc(b.GJ,function(a){var U2k;U2k=2;while(U2k!==1){switch(U2k){case 2:a.sort(function(a,b){var w2k;w2k=2;while(w2k!==1){switch(w2k){case 2:return a.Rb.rd-b.Rb.rd;break;case 4:return a.Rb.rd%b.Rb.rd;break;w2k=1;break;}}});U2k=1;break;}}});D2k=9;break;case 2:b=this.Ab[a.downloadable_id];l.R(b)&&(b={id:a.downloadable_id,L:a.bitrate,ee:a.vmaf,type:a.type,profile:a.content_profile,clear:0===a.content_profile.indexOf(P8E),gd:[],GJ:{},Ie:[]},this.Ab[b.id]=b);a.urls.forEach(function(a){var i2k,c,d;i2k=2;while(i2k!==11){switch(i2k){case 5:i2k=l.R(c)?4:11;break;case 4:c=this.qk[a.cdn_id];d=c.location;c={id:a.url,url:a.url,Dw:w.Ne.URL,cc:0,parent:c,Rb:c,stream:b};this.gd[c.url]=c;i2k=7;break;case 2:c=this.gd[a.url];i2k=5;break;case 13:d.Ab[b.id]=b;(a=b.GJ[d.id])?a.push(c):b.GJ[d.id]=[c];i2k=11;break;case 7:c.parent.children.push(c);b.gd.push(c);0===b.Ie.filter(function(a){var C2k;C2k=2;while(C2k!==1){switch(C2k){case 2:return a.id===d.id;break;case 4:return a.id==d.id;break;C2k=1;break;}}}).length&&b.Ie.push(d);i2k=13;break;}}},this);D2k=3;break;case 9:b.Ie=b.Ie.sort(function(a,b){var T2k;T2k=2;while(T2k!==1){switch(T2k){case 2:return a.level-b.level||a.rd-b.rd;break;}}});D2k=8;break;}}},this);P2k=1;break;}}};c.prototype.Ew=function(){var N2k;N2k=2;while(N2k!==1){switch(N2k){case 4:return 1!==this.oe.cc;break;N2k=1;break;case 2:return 0!=this.oe.cc;break;}}};c.prototype.xT=function(a,c){var J2k,d,g,h,f,p,n,r,T8E,S8E,j8E,I8E;J2k=2;while(J2k!==27){T8E="(empty ";T8E+="str";T8E+="e";T8E+="am list";T8E+=")";S8E="Did not find a URL fo";S8E+="r ANY";S8E+=" stream.";S8E+="..";j8E="netwo";j8E+="r";j8E+="k";j8E+="Failed";I8E="Network has failed, not updating stre";I8E+="am se";I8E+="lection";switch(J2k){case 7:return null;break;case 2:d=this.config;J2k=5;break;case 8:J2k=0!=this.oe.cc?7:6;break;case 17:return this.ll(w.Ne.up,!1),null;break;case 9:z.xm&&z.xm();J2k=8;break;case 5:g=this.Wh.get();f=this.Qo;p=0;J2k=9;break;case 16:c.forEach(function(a,b){var l2k,c,c8E,N8E,t8E,h8E;l2k=2;while(l2k!==4){c8E=" ";c8E+="Kbp";c8E+="s)";N8E=" ";N8E+="(";t8E="]";t8E+=" ";h8E="Failing str";h8E+="eam";h8E+=" [";switch(l2k){case 5:h.some(function(b){var Q2k,k,p;Q2k=2;while(Q2k!==7){switch(Q2k){case 2:k=b.Ab[c];Q2k=5;break;case 4:return!1;break;case 5:Q2k=!k?4:3;break;case 3:p=k.Ie[0];void 0===a.HR&&(a.HR=p.id,a.a6=k.GJ[p.id][0].Rb.id);return k.GJ[b.id].some(function(c){var M2k,k,s8E,F8E,B8E,X8E,Q8E;M2k=2;while(M2k!==11){s8E="locat";s8E+="ionf";s8E+="ailov";s8E+="er";F8E="s";F8E+="erverf";F8E+="a";F8E+="ilover";B8E="perform";B8E+="an";B8E+="c";B8E+="e";X8E="pr";X8E+="o";X8E+="b";X8E+="e";Q8E="unk";Q8E+="n";Q8E+="ow";Q8E+="n";switch(M2k){case 3:return!1;break;case 2:M2k=1;break;case 4:M2k=0!=c.cc?3:9;break;case 1:M2k=0!=c.Rb.cc?5:4;break;case 5:return 1===c.Rb.cc&&(a.cc=1),d.cn&&a.Rb===c.Rb.id&&c.Rb.PB&&(a.PB=c.Rb.PB),!1;break;case 9:k=Q8E;a.location!==b.id&&(d.cn?a.Dxb=b.id===p.id:k=b!==h[0]?w.ge.ST:void 0===a.location?w.ge.ls:f?X8E:l.R(a.Lpa)||a.Lpa==b.id?l.R(a.Npa)||a.Npa==c.Rb.id?B8E:F8E:s8E,a.location=b.id,a.eqa=b.level,a.jn=k);a.url=c.url;M2k=6;break;case 6:a.Rb=c.Rb.id;a.kC=c.Rb.name;a.qa=d.RZ?b.qa.bc>=w.Uc.vn?b.qa:g.bc<n?b.qa:g:g.bc==w.Uc.HAVE_NOTHING||b.qa.bc>=w.Uc.vn?b.qa:g;return!0;break;}}});break;}}})?(delete a.qh,delete a.cc,a.Te&&++p):a.cc&&1===a.cc?this.oe.cc=1:a.qh||(y.warn(h8E+b+t8E+c+N8E+a.L+c8E),k(a),a.qh=!0);l2k=4;break;case 2:c=a.id;l2k=5;break;}}},this);return 0!=this.oe.cc?(y.warn(I8E),this.oe.nO=!0,this.emit(j8E,2==this.oe.cc),null):p?c:(y.warn(S8E+(c.length?"":T8E)),this.ll(w.Ne.up,!0),null);break;case 11:r&&(r.qa=g,b(r));J2k=10;break;case 10:J2k=l.Ja(this.OI)||f?20:19;break;case 13:J2k=this.Wh.location&&g.bc>=n?12:10;break;case 19:h=this.OI;J2k=18;break;case 6:n=w.Uc.Ur;d.SH&&(n=w.Uc.vn);J2k=13;break;case 20:this.OI=this.$jb(a);J2k=19;break;case 18:J2k=!h||!h.length?17:16;break;case 12:r=this.Ie[this.Wh.location];J2k=11;break;}}};c.prototype.$jb=function(a){var e2k,b,c,d,g,h;e2k=2;while(e2k!==15){switch(e2k){case 13:g=null;e2k=12;break;case 8:e2k=0===a.length?7:6;break;case 20:a.every(function(a){var W2k;W2k=2;while(W2k!==5){switch(W2k){case 2:l.Ja(h)&&(h=a.level);return h!=a.level?(this.Qo=!1,g=w.ge.C9,!1):a.qa.bc<w.Uc.vn?!1:a.qa.ja.sa>c.m1?(this.Qo=!1,g=w.ge.UBa,!1):!0;break;}}},this)&&(this.Qo=!1,g=w.ge.C9);e2k=19;break;case 14:a.forEach(function(a){var y2k;y2k=2;while(y2k!==1){switch(y2k){case 2:a.id!==this.Wh.location&&(a.qa=this.vQ.get(a.id));y2k=1;break;}}},this),this.wM=z.time.fa();e2k=13;break;case 19:c.zA?a.sort(function(a,c){var c2k;c2k=2;while(c2k!==1){switch(c2k){case 2:return a.level-c.level||(b.Qo&&a.jr&&!c.jr?-1:0)||(b.Qo&&c.jr&&!a.jr?1:0)||(b.Qo&&a.jr&&c.jr?a.rd-c.rd:0)||c.K_-a.K_||c.g9-a.g9||a.rd-c.rd;break;}}}):a.sort(function(a,b){var q2k;q2k=2;while(q2k!==1){switch(q2k){case 2:return a.level-b.level||a.rd-b.rd;break;}}});this.wQ||l.Ja(g)||(this.wQ=!0);return a;break;case 4:a=a.buffer;d=a.fj-a.we;a=this.oe.Ie.filter(function(a){var j2k;j2k=2;while(j2k!==1){switch(j2k){case 4:return 8===a.cc||4==a.level;break;j2k=1;break;case 2:return 0==a.cc&&0!==a.level;break;}}});e2k=8;break;case 2:b=this;c=this.config;e2k=4;break;case 12:e2k=this.Qo?11:16;break;case 16:c.zA?(g=w.ge.hEa,1==this.mode&&(this.Qo=d>c.v8)):g=this.fC;e2k=19;break;case 6:e2k=l.Ja(this.wM)||this.wM+c.W3<z.time.fa()?14:13;break;case 11:a.forEach(function(a){var B2k;B2k=2;while(B2k!==1){switch(B2k){case 2:a.qa.bc>=w.Uc.vn?(a.mta=a.mta||a.jr,a.jr=!1,a.K_=w.Uc.vn):(a.jr=!0,a.K_=a.qa.bc);B2k=1;break;}}},this);h=null;e2k=20;break;case 7:return null;break;}}};c.prototype.Geb=function(){var X2k,a;X2k=2;while(X2k!==9){switch(X2k){case 2:a=this.Wh.location;this.wQ=!1;this.Qo=this.config.zA&&!0;this.oe.Ie.forEach(function(b){var p2k;p2k=2;while(p2k!==1){switch(p2k){case 2:b.id!=a&&b.qa&&b.qa.bc>w.Uc.Ur&&(b.qa.bc=w.Uc.Ur);p2k=1;break;}}});X2k=9;break;}}};z2k=20;break;case 27:c.prototype.XB=function(a){var o1k;o1k=2;while(o1k!==1){switch(o1k){case 2:p(this.oe,a);o1k=1;break;case 4:p(this.oe,a);o1k=7;break;o1k=1;break;}}};c.prototype.Pbb=function(){var Y1k;Y1k=2;while(Y1k!==1){switch(Y1k){case 2:this.oe.nO||this.oe.Ie.forEach(function(a){var v1k;v1k=2;while(v1k!==1){switch(v1k){case 2:1==a.cc&&this.vQ.fail(a.id,z.time.fa());v1k=1;break;}}},this);Y1k=1;break;}}};c.prototype.ox=function(a){var a1k,O1E;a1k=2;while(a1k!==1){O1E="l";O1E+="o";O1E+="g";O1E+="d";O1E+="ata";switch(a1k){case 2:this.Ea(O1E,a);a1k=1;break;case 4:this.Ea("",a);a1k=2;break;a1k=1;break;}}};c.prototype.dump=function(){};z2k=23;break;case 16:c.prototype.ll=function(a,b,c,d){var Z1k,f,k,p,L1k,m1E,G1E,l1E,p1E,L1E,r1E,w1E,C1E,W1E;Z1k=2;while(Z1k!==25){m1E="ne";m1E+="twor";m1E+="kFai";m1E+="led";G1E="Emit";G1E+="ting netwo";G1E+="rkFa";G1E+="iled, permanent =";l1E=" ";l1E+=":";l1E+=" w";l1E+="a";l1E+="s ";p1E=" ";p1E+="a";p1E+="t";p1E+=" ";L1E=" ";L1E+="failure reported";L1E+=" for ";r1E="T";r1E+="E";r1E+="M";r1E+="P";w1E="P";w1E+="E";w1E+="R";w1E+="M";C1E="U";C1E+="nable";C1E+=" ";C1E+="to find failure entity for URL ";W1E="In";W1E+="valid";W1E+=" fail";W1E+="ure st";W1E+="ate";switch(Z1k){case 3:Z1k=p!=f.cc?9:25;break;case 16:Z1k=L1k===0?14:15;break;case 2:f=a==w.Ne.up?this.oe:this.gd[c],k=this.oe.cc,p=b?2:1;Z1k=1;break;case 27:throw Error(W1E);Z1k=14;break;case 20:this.OI=null;this.fC=w.ge.ERROR;d&&(this.fC=w.ge.oHa,f.PB=d);this.dump();Z1k=25;break;case 1:Z1k=f&&f.Dw!=a?5:4;break;case 26:q011.R8E(2);y.warn(q011.Z8E(C1E,c));Z1k=25;break;case 9:y.warn((b?w1E:r1E)+L1E+w.Ne.name[a]+p1E+g(f)+l1E+r(f.cc));Z1k=8;break;case 6:Z1k=L1k===1?14:16;break;case 8:L1k=f.cc;Z1k=L1k===2?7:6;break;case 14:f.cc=p;h(f);this.oe.nO=this.oe.nO||0!=this.oe.cc;a=this.oe.cc;a>k&&(y.warn(G1E,2==a),this.emit(m1E,2==a));Z1k=20;break;case 4:Z1k=f?3:26;break;case 15:Z1k=27;break;case 7:return;break;case 5:f=f.parent;Z1k=1;break;}}};c.prototype.pua=function(a,b){var m1k;m1k=2;while(m1k!==3){switch(m1k){case 4:this.fC=w.ge.cW;m1k=3;break;case 2:p(this.qk[a],b);n(this.qk[a]);this.OI=null;m1k=4;break;case 14:this.fC=w.ge.cW;m1k=4;break;m1k=3;break;}}};z2k=27;break;case 23:c.prototype.Fma=function(a){var S1k,b;S1k=2;while(S1k!==3){switch(S1k){case 1:S1k=a?5:3;break;case 2:S1k=1;break;case 5:b=a.bind(this);l.forEach(this.gd,function(a){var t1k,c;t1k=2;while(t1k!==4){switch(t1k){case 2:c=a.Rb;b(c.location,c,a.stream,a);t1k=4;break;}}});S1k=3;break;}}};z2k=22;break;case 22:f.K=c;H1E;z2k=35;break;}}function g(a){var t2k,b,G2k,q1E;t2k=2;while(t2k!==9){q1E="<";q1E+="ur";q1E+="l";q1E+=" f";q1E+="or ";switch(t2k){case 3:a=a.parent;t2k=1;break;case 2:b=[];t2k=1;break;case 5:G2k=a.Dw;t2k=G2k===w.Ne.dv?4:8;break;case 7:b.unshift(a.id);t2k=3;break;case 14:b.unshift(q1E+a.stream.L+">");t2k=3;break;case 1:t2k=a?5:13;break;case 4:b.unshift(a.id+"("+a.name+")");t2k=3;break;case 8:t2k=G2k===w.Ne.oba?7:6;break;case 6:t2k=G2k===w.Ne.URL?14:3;break;case 13:return b.length?"/"+b.join("/"):"";break;}}}function n(a){var R2k,b,c;R2k=2;while(R2k!==3){switch(R2k){case 2:b=(a=a.parent)?a.children:null;c={};a&&b&&0!==a.cc&&(c[0]=[],c[2]=[],c[1]=[],b.forEach(function(a){var r2k;r2k=2;while(r2k!==1){switch(r2k){case 2:c[a.cc].push(a);r2k=1;break;case 4:c[a.cc].push(a);r2k=9;break;r2k=1;break;}}}),0<c[0].length&&(a.cc=0,n(a)));R2k=3;break;}}}function h(a){var v2k,b,c,d,u1E,a1E;v2k=2;while(v2k!==9){u1E="TEM";u1E+="P ";u1E+="failing ";u1E+=":";a1E="PE";a1E+="RM faili";a1E+="ng ";a1E+=":";switch(v2k){case 3:a&&b&&(d[0]=[],d[2]=[],d[1]=[],b.forEach(function(a){var a2k;a2k=2;while(a2k!==1){switch(a2k){case 2:d[a.cc].push(a);a2k=1;break;case 4:d[a.cc].push(a);a2k=4;break;a2k=1;break;}}}),0<d[0].length||(d[2].length==b.length?2!=a.cc&&(a.cc=2,y.error(a1E,w.Ne.name[a.Dw]+" "+a.id),c=!0):(0==a.cc&&(a.cc=1,y.error(u1E,w.Ne.name[a.Dw]+" "+a.id),c=!0),d[1].forEach(function(a){var S2k;S2k=2;while(S2k!==1){switch(S2k){case 4:a.cc=6;S2k=8;break;S2k=1;break;case 2:a.cc=0;S2k=1;break;}}})),c&&h(a)));v2k=9;break;case 2:b=(a=a.parent)?a.children:null;c=!1;d={};v2k=3;break;}}}function b(a){var Z2k;Z2k=2;while(Z2k!==1){switch(Z2k){case 2:a.g9=a.qa.bc>=w.Uc.Ur&&!a.qa.Ew?a.qa.ja.sa*a.weight:0;Z2k=1;break;}}}}());},function(f,c,a){var h,g;function b(a,c,d){Object.keys(a).forEach(function(g){var f,k;if(h.Ad(a[g]))if(a[g].YP){f=a[g];k=d+f.offset;a[g]=c.slice(k,k+f.byteLength);}else a[g]=b(a[g],c,d);});return a;}function d(a,b,c){Object.keys(a).forEach(function(g){var f;if(h.YP(a[g])){f=a[g];b.push(f);a[g]={YP:!0,offset:c.l0,byteLength:f.byteLength};c.l0+=f.byteLength;}else h.Ad(a[g])&&d(a[g],b,c);});return a;}function k(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}h=a(103);g=a(38);f.K={fVa:function(a){var b,c,h;b=g(a,{});a=[];b=d(b,a,{l0:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);h=new DataView(c);h.setUint32(0,b.length);for(var f=4,p=0,l=b.length;p<l;p++)h.setUint8(f,b.charCodeAt(p)),f++;a=[c].concat(a);return k.apply(null,a);},eVa:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,c),g="",h=0;h<d.byteLength;h++)g+=String.fromCharCode(d[h]);c=4+c;g=JSON.parse(g);return b(g,a,c);}};},function(f,c,a){var k;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function d(a,b){var c,g,h;c=[];if(k.Ad(b)){g={};h={};h[a]=g;c.push(h);c=Object.keys(b).reduce(function(c,h){var f,p,n;f=b[h];n={};k.YP(f)?(p=a+".__embed__."+h,n[p]=f,c.push(n)):k.Ad(f)?(p=a+".__sub__."+h,f=d(p,f),g[h]=f[0][p],c=c.concat(f.slice(1))):g[h]=f;return c;},c);}else h={},h[a]=b,c.push(h);return c;}k=a(103);f.K={sZa:d,t6a:function(a){var c,y;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],h=d.length,d=a[d.join(".")],f=1;f<c.length;f++)for(var k=!1,l=!1,m=d,q=h;q<c[f].length;q++){y=c[f][q];switch(y){case"__metadata__":break;case"__sub__":l=!0;break;case"__embed__":k=!0;break;default:l?(m=m[y],l=!1):k&&(m[y]=a[c[f].join(".")],k=!1);}}return d;},I6a:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(f,c,a){function b(a){return a;}function d(){return b;}a(8);f.K={AG:d,w2:d};},function(f,c,a){var b,d,k,h;b=a(8);d=a(103);k={};k[d.wl.Ju]=function(a){return a;};k[d.wl.mL]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};k[d.wl.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};h={};h[d.wl.Ju]=function(a){return a;};h[d.wl.mL]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,g=a.length;d<g;d++)c[d]=a.charCodeAt(d);return b;};h[d.wl.OBJECT]=function(a){return b.R(a)||b.Ja(a)?a:h[d.wl.mL](JSON.stringify(a));};f.K={AG:function(a){return k[a]||k[d.wl.Ju];},w2:function(a){return h[a]||h[d.wl.Ju];}};},function(f){function c(a){if(!(this instanceof c))return new c(a);if("undefined"===typeof a)this.Ti=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Ti=a;}this.Dl=[];}function a(c,f){var d,g,k,n,r,l,m;d=c.Dl;g=c.Ti;k=2*f+1;n=2*f+2;r=d[f];l=d[k];m=d[n];l&&g(l.ad,r.ad)&&(!m||g(l.ad,m.ad))?(b(d,f,k),a(c,k)):m&&g(m.ad,r.ad)&&(b(d,f,n),a(c,n));}function b(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}c.prototype.clear=function(){this.Dl=[];};c.prototype.bB=function(a,c){this.Dl.push({ad:a,value:c});a=this.Dl;c=this.Ti;for(var d=a.length-1,g=0===d?null:Math.floor((d-1)/2);null!==g&&c(a[d].ad,a[g].ad);)b(a,d,g),d=g,g=0===d?null:Math.floor((d-1)/2);};c.prototype.remove=function(){var c;if(0!==this.Dl.length){c=this.Dl[0];b(this.Dl,0,this.Dl.length-1);this.Dl.pop();a(this,0);return c.value;}};c.prototype.iI=function(){if(0!==this.Dl.length)return this.Dl[0].value;};c.prototype.enqueue=c.prototype.bB;c.prototype.UYa=c.prototype.remove;c.prototype.ey=function(){return this.Dl.map(function(a){return a.value;});};f.K=c;},function(f,c,a){var d,k,h,g,p;function b(a,c,f){var C,F;function n(a,b,c,d){a.info.call(a,function(a){var g;try{g=a.values[this.context].entries[b][c].size;}catch(Y){g=-1;}-1<g?d(g):this.Ir(function(a){try{g=a[c].size;}catch(X){g=-1;}d(g);});}.bind(a));}function r(a,c,d,g,h,f,p){var r;f?f.bj||(f.bj={}):f={bj:{}};C(g);r=k.time.now();a.create(k.storage.Ky,c,d,function(d){d.N?n(a,k.storage.Ky,c,function(a){F(a);C(a);f.bj[b.UJ.pV]={N:!0,time:h,ih:a,Lt:c,xta:d,duration:k.time.now()-r};f.Oh=d.Oh;p(null,f);}):(f.bj[b.UJ.pV]={N:!1,Lt:c,error:d.error},p(null,f));});}function l(a,b,c,d,g,h){d.bB(c.time,c);for(var f=c.time-864E5,k=d.iI();k&&!isNaN(k.time)&&k.time<f;)k=d.UYa(),C(0-(k.ga||0)),k=d.iI();d=d.ey().map(function(a){return a.time+";"+a.ga;});r(a,b,Array.prototype.join.call(d,"|"),c.ga,c.time,g,h);}function u(a,c,d,g,f,p,r,u,m){var v;v=k.time.now();a.create(d,g,f,function(f){var q;if(f.N){q=f.Oh;n(a,d,g,function(d){var h,n,w;h={time:u,ga:d||0};n={Oh:q,bj:{}};w=k.time.now()-v;n.bj[b.UJ.REPLACE]={N:!0,time:u,ih:d,Lt:g,xta:f,duration:w};p?l(a,c,h,r,n,m):(C(d),m(null,n));});}else m(h.yL.sl(f.error||"Failed to create item"));});}function m(a,c,d,g,f,p,r,u,m){var v;v=k.time.now();a.append(d,g,f,function(f){var q;if(f.N){q=f.Oh;n(a,d,g,function(d){var h,n,w;h={time:u,ga:d||0};n={Oh:q,bj:{}};w=k.time.now()-v;n.bj[b.UJ.SIa]={N:!0,time:u,ih:d,Lt:g,xta:f,duration:w};p?l(a,c,h,r,n,m):(C(d),m(null,n));});}else m(h.yL.sl(f.error||"Failed to save item"));});}function q(a,b){a&&d.rb(a.remove)&&a.valid&&a.remove(k.storage.Ky,b.pz,function(c){try{c&&(d.R(c.error)||c.error.some(function(a){return"NFErr_FileNotFound"===a.xvb;}))&&l(a,b.pz,{time:0,ga:0},b.NE,0,function(){});}catch(O){}});}if(!a.valid)return p;this.Rfa=d.R(c)||d.Ja(c)?0:c;this.pX=a;this.LX=this.kE=0;this.NE=new g();this.FOa=f||"default";this.pz=this.FOa+".NRDCACHEJOURNALKEY";C=function(a){isNaN(a)||(this.kE+=a);return this.kE;}.bind(this);F=function(a){isNaN(a)||(this.LX+=a);return this.LX;}.bind(this);this.l2=function(){return this.pz;};this.save=function(a,b,c,d){var g;g=k.time.now();m(this.pX,this.pz,a,b,c,0<=this.Rfa,this.NE,g,d);};this.replace=function(a,b,c,d){var g;g=k.time.now();u(this.pX,this.pz,a,b,c,0<=this.Rfa,this.NE,g,d);};this.dna=function(a){var b,g;b=this.kE;a-=864E5;for(var c=this.NE.ey(),d=0;d<c.length;d++){g=c[d];g.time<a&&!isNaN(g.ga)&&(b-=g.ga);}return b;};(function(a){var b;b=a.pX;a.kE=0;b.read(k.storage.Ky,a.pz,0,-1,function(c){var d,g,h,p;d=[];g=0;h=!0;if(c.N){c=String.fromCharCode.apply(null,new Uint8Array(c.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);C(d);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ga:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.ga;},0)))for(var h=!1,f=k.time.now()-864E5;g<d.length;g++){p=d[g];p.time<f||(a.NE.bB(p.time,p),C(p.ga));}}catch(N){}}h&&q(b,a);});}(this));}d=a(8);k=a(104);h=a(186);g=a(547);c=a(38);new k.Console("DISKWRITEMANAGER","media|asejs");c({UJ:{SIa:"saveitem",REPLACE:"replaceitem",pV:"journalupdate"}},b);p={save:function(a,b,c,d){d(h.Eba);},replace:function(a,b,c,d){d(h.Eba);},l2:function(){return"";},dna:function(){return 0;}};b.prototype.constructor=b;f.K={create:function(a,c,d){return new b(a,c,d);},Wpb:p};},function(f,c,a){var p,n,r,l,m,q,z,y,w;function b(){}function d(c,g,f,r,l){var u;u=p.rb(r)?r:b;this.Is=c;this.ez=f.ft;this.Yp=0;this.gMa=f.q0a||"NONE";this.Fp=p.R(l)||p.Ja(l)?0:l;this.Mc={};this.om=f.gyb||n.storage.Ky;this.Gn=g;this.Nz=m.create(this.Gn,f.IXa*this.Fp,this.Is);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ea=w.Ea;this.uga=h(this,d.jd.REPLACE);this.KMa=h(this,d.jd.Vea);this.Iv;this.Iv=f.oxa?a(546):a(545);this.Gn.query(this.om,this.kl(""),function(a){var b,c;b=this.Nz.l2();c=Object.keys(a).filter(function(a){return a!==b&&q.dB(a);}).map(this.M8.bind(this));this.TR(c,function(b,c){Object.keys(c).map(function(b){var d,g;d=c[b];this.Mc[q.PO(b)]=d;if(d.a7&&1<Object.keys(d.a7).length){g=0;Object.keys(d.a7).forEach(function(b){a[this.kl(b)]&&p.aa(a[this.kl(b)].size)&&(g+=a[this.kl(b)].size);}.bind(this));b=q.PO(b);this.Mc[b].size=g;}else b=q.PO(b),a[this.kl(b)]&&(this.Mc[b].size=a[this.kl(b)].size);}.bind(this));k(this.Gn,this.om,this.Is,function(a){this.Yp=a;u(this);}.bind(this));}.bind(this));}.bind(this));}function k(a,c,d,g){var h;h=p.rb(g)?g:b;a.query(c,d,function(a){var b;b=Object.keys(a).reduce(function(b,c){return b+(a[c].size||0);},0);h(b);});}function h(a,b){return function(c,g,h,f,r){return function(l,u){var m;if(l)g||a.Ea(d.jd.ERROR,{itemKey:c,error:l}),h(l);else{m={ih:0,duration:0,items:[],time:n.time.now()};Object.keys(u.bj).map(function(b){var c;c=u.bj[b];b={key:a.M8(c.Lt),pe:b};c.N?(m.ih+=c.ih,b.iQ=c.ih,p.aa(c.duration)&&(m.duration+=c.duration)):b.error=c.error;m.items.push(b);});l=p.rb(f)?f():0;0<r&&(m.oA=r-l);k(a.Gn,a.om,a.Is,function(c){a.Yp=c;m.Oh=a.ez-c;g||a.Ea(b,y.ina(m));h(null,m);});}};};}function g(a,b){return 0<b&&a>=b?!0:!1;}p=a(8);n=a(104);r=a(186);c=a(38);l=new n.Console("MEDIACACHE","media|asejs");m=a(548);q=a(293);z=a(103);y=a(292);w=a(24).EventEmitter;c({jd:{Vea:"writeitem",REPLACE:"replaceitem",pV:"journalupdate",ERROR:"mediacache-error"}},d);d.prototype.getName=function(){return this.Is;};d.prototype.M8=function(a){return a.slice(this.Is.length+1);};d.prototype.g2=function(){return Object.keys(this.Mc).filter(function(a){a=q.N1(this.Mc[a]);return void 0===a||0>=a.mka();}.bind(this));};d.prototype.P3a=function(){return Object.keys(this.Mc).reduce(function(a,b){var c;c=this.Mc[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:n.time.now()}).qAb;};d.prototype.$2a=function(){var a;switch(this.gMa){case"FIFO":a=this.P3a();}return a;};d.prototype.RYa=function(a){var c;c=p.rb(a)?a:b;this.CG(function(b){var d,g,h;d=this.Mc;g=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!q.dB(a)&&0>g.indexOf(a);}))&&0<b.length){h=this;b=n.Promise.all(b.map(function(a){return new n.Promise(function(b,c){h["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{B6:!0});},function(a){c(a,{B6:!1});});y.kr(b);}else a(void 0,{B6:!1});}.bind(this));};d.prototype.Edb=function(a,c,d){var g,h;g=p.rb(c)?c:b;c=this.kl(a);h=n.time.now();this.Gn.read(this.om,c,0,-1,function(b){var c,f;if(b&&b.N&&b.value){p.rb(d)||(d=this.Iv.AG(z.wl.Ju),q.dB(a)?d=this.Iv.AG(z.wl.OBJECT):(c=this.Mc[a],!p.R(c)&&p.aa(c.resourceIndex[a])?(c=c.resourceIndex[a],p.R(c)&&(c=z.wl.Ju),d=this.Iv.AG(c)):l.warn("Metadata is undefined or does not contain a resource format for key",a,":",c)));try{f=d(b.value);}catch(U){return g(r.Uy.sl(U.message));}b={duration:n.time.now()-h};this.Mc[a]&&p.aa(this.Mc[a].size)&&(b.rq=p.aa(this.Mc[a].size)?this.Mc[a].size:0);g(null,f,b);}else g(r.Uy.sl(b.error));}.bind(this));};d.prototype.read=function(a,b,c){this.Edb(a,b,c);};d.prototype.TR=function(a,c,d){var g,h,f;g=p.rb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))g(r.Uy.sl("item keys must be an array"));else{h={};f=[];a=n.Promise.all(a.map(function(a){return new n.Promise(function(b,c){var g;d&&!p.R(d[a])&&(g=this.Iv.AG(d[a]));this.read(a,function(d,g,k){d?(g={},g[a]=d,c(g)):(h[a]=g,f.push({duration:k.duration,rq:k.rq}),b());},g);}.bind(this));}.bind(this))).then(function(){var a;a={};0<f.length&&(a=f.reduce(function(a,b){p.aa(b.duration)&&(a.duration+=b.duration);p.aa(b.rq)&&(a.rq+=b.rq);return a;},{duration:0,rq:0}));g(null,h,a);},function(a){g(a);});y.kr(a);}};d.prototype.write=function(a,c,d,h,f){var k,n,l;d=p.rb(d)?d:b;k=this.kl(a);n="function"===typeof f?f():0;l=z.D2(c);l=this.Iv.w2(l)(c);l.byteLength+this.Yp>=this.ez?d(r.ty):g(l.byteLength+n,this.Fp)?d(r.zL):this.Nz.save(this.om,k,c,this.KMa(a,h,d,f,this.Fp),l.byteLength);};d.prototype.replace=function(a,c,d,h,f){var k,n,u,m;k=p.rb(d)?d:b;n=this.kl(a);u=0;"function"===typeof f&&(u=f());d=z.D2(c);m=this.Iv.w2(d)(c);d=(this.Mc[a]||{}).size||0;0>=d&&this.Mc[a]?this.Fna([a],function(b){l.trace("Replacing key",a,"which exists:",!!this.Mc[a],this.Mc[a]?this.Mc[a]:void 0,"and has size",b,"with",c,"with size",m.byteLength,"plus _used",this.Yp,"vs capacity",this.ez);m.byteLength-b+this.Yp>=this.ez?k(r.ty):g(m.byteLength-b+u,this.Fp)?k(r.zL):this.Nz.replace(this.om,n,c,this.uga(a,h,k,f,this.Fp),m.byteLength);}.bind(this)):(l.trace("Replacing key",a,"which exists:",!!this.Mc[a],this.Mc[a]?this.Mc[a]:void 0,"and has size",d,"with",c,"with size",m.byteLength,"plus _used",this.Yp,"vs capacity",this.ez),m.byteLength-d+this.Yp>=this.ez?k(r.ty):g(m.byteLength-d+u,this.Fp)?k(r.zL):this.Nz.replace(this.om,n,c,this.uga(a,h,k,f,this.Fp),m.byteLength));};d.prototype.yeb=function(a,c,g,h){var f;f=p.rb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?f(r.yL.sl("items must be a map of keys to objects")):(c=n.Promise.all(Object.keys(a).map(function(b){return new n.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,Ki:b}):c(d);},!0,h);}.bind(this));}.bind(this))).then(function(a){var b,c,k,r;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.ih+=c.ih,p.aa(c.duration)&&(a.duration+=c.duration),!p.R(c.Oh)&&c.Oh<b&&(b=c.Oh),c.items.map(function(b){a.items.push({key:b.key,pe:b.pe,iQ:b.iQ,m8a:b.m8a,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Oh=b));return a;},{ih:0,items:[],time:n.time.now(),duration:0});0<this.Fp&&(c.oA=this.Fp-h());k=a.filter(function(a){return!p.R(a.error);});r=y.aoa(k);g||(r?r.forEach(function(a){this.Ea(d.jd.ERROR,a);}.bind(this)):this.Ea(d.jd.REPLACE,y.ina(c)));f(r,c);}catch(X){f(X);}}.bind(this),function(a){g||this.Ea(d.jd.ERROR,a);f(a);}.bind(this)),y.kr(c));};d.prototype["delete"]=function(a,c){var d;d=p.rb(c)?c:b;this.Gn.remove(this.om,this.kl(a),function(a){a&&a.N?k(this.Gn,this.om,this.kl(""),function(a){this.Yp=a;d();}.bind(this)):d(r.hAa.sl(a.error));}.bind(this));};d.prototype.CG=function(a){this.query("",a);};d.prototype.query=function(a,c){var d,g;d=p.rb(c)?c:b;g=this.Nz.l2();this.Gn.query(this.om,this.kl(a),function(a){d(Object.keys(a).filter(function(a){return a!==g;}).map(this.M8.bind(this)));}.bind(this));};d.prototype.kl=function(a){return this.Is+"."+a;};d.prototype.clear=function(a){var c;c=p.rb(a)?a:b;this.CG(function(a){var b;b=n.Promise.all(a.map(function(a){return new n.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.Ea(d.jd.ERROR,a);c([],a);}.bind(this));y.kr(b);}.bind(this));};d.prototype.Fna=function(a,c){var d,g;d=p.rb(c)?c:b;g=(a||[]).map(function(a){return this.kl(a);}.bind(this));this.Gn.query(this.om,this.Is,function(a){var b;b=Object.keys(a).filter(function(a){return 0<=g.indexOf(a);}).reduce(function(b,c){return b+(a[c].size||0);},0);d(b);}.bind(this));};d.prototype.q2a=function(a){return this.Nz.dna(a);};d.prototype.constructor=d;f.K=d;},function(f,c,a){var b,d,k,h,g;b=a(8);d=a(104);k=new d.Console("DISKCACHE","media|asejs");h={context:"NULLCONTEXT",read:function(a,b,c,d,g){g("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};f.K={cXa:function(a){var c,f,p,l,m;c=a.avb||"NRDMEDIADISKCACHE";g=a.vA||0;0!==g||b.R(d.options)||b.R(d.options.MQ)||(g=d.options.MQ);a=g;try{l=d.storage.YF;if(!l||!b.Ad(l))throw k.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(p=l[c])k.warn("Disk store exists, returning"),f=p;else{if(b.R(d.storage)||!b.rb(d.storage.YN)||d.options&&0===d.options.MQ)throw k.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";k.warn("Disk store context doesn't exist, creating with size "+a);m=d.storage.YN({context:c,size:a,encrypted:!0,signed:!0});if(!m)throw"Failed to create disk store context";f=m;}}catch(z){k.warn("Exception creating disk store context - returning NullContext (noops)",z);f=h;}return f;},R2a:function(){return g;}};},function(f,c,a){var b,d,k,h,g;b=a(8);k=[];g=!1;f.K={Uoa:function(c,f,r){var p;if(g)b.rb(r)&&(d.Km||d.Gt?setTimeout(function(){r(d);},0):k.push(r));else{g=!0;p=a(104);p.SG(c);h=new p.Console("MEDIACACHE","media|asejs");d=new(a(294))(f,function(a){a&&h.warn("Failed to initialize MediaCache",a);b.rb(r)&&setTimeout(function(){r(d);},0);k.map(function(a){setTimeout(function(){a(d);},0);});});}return d;},Uvb:function(c,g){d=new(a(294))(c,function(a,c){a&&h.warn("Failed to initialize MediaCache",a);b.rb(g)&&setTimeout(function(){g(c);},0);});}};},function(f,c,a){var d,k,h,g,p,n,r,l;function b(a,b,c,f,n,r){p.call(this,a,c,f,r);f=h.prototype.toString.call(this)+(n?"(cache)":"");this.push(new g(a,b,f+"(moof)",{offset:c.offset,ga:c.OH,responseType:d.Ri.tl},this,r));c={offset:this.offset+c.OH+8,ga:this.ga-(c.OH+8),responseType:d.tc&&!d.tc.fS.Cp?d.Ri.tl:d.Ri.Cp};this.O===k.u.VIDEO&&this.Pc&&(this.ij!==this.X?(c.offset=this.offset+this.Pc.offset,c.ga=this.ga-this.Pc.offset):this.Em>this.ca&&(c.ga-=this.ga-this.Pc.offset));this.push(new g(a,b,f+"(mdat)",c,this,r));}a(20);d=a(10).Ua;k=a(13);h=a(61);g=a(188);p=a(187);n=a(69).QK;r=a(69).r4;l=a(23).jw;b.prototype=Object.create(p.prototype);b.prototype.Tz=function(a){var b,c;if(!this.fg&&this.Ow()){c=!1;if(this.Nma)c=a.appendBuffer(l(this.Lla),this);else if(this.xd&&this.X!=this.ij){b=new n(this.stream,this.ub[0].response);if(b=b.Wta(this.Pc.Qc,this.ma))c=a.appendBuffer(l(b.no),this),this.FM(b.no);this.NM();}else if(this.xd&&this.ca!=this.Em){b=new n(this.stream,this.ub[0].response);if(b=b.Zta(this.Pc.Qc,this.ma))c=a.appendBuffer(l(b.no),this),this.FM(b.no);this.NM();}else c=a.append(this.ub[0].response,this);c&&(c=a.appendBuffer(r(this.ub[1].ga),this))&&(c=a.appendBuffer(this.ub[1].response,this));this.fg=c;this.neb();return c;}};f.K=b;},function(f,c,a){var k,h,g;function b(a,b,c){b.ga=c.byteLength;h.call(this,a,b);g.call(this,a,b);k(c instanceof ArrayBuffer);this.Gv=c;this.nv=b.ga;}function d(){k(!1);}k=a(20);c=a(60);h=a(61);g=a(122);b.prototype=Object.create(h.prototype);c(g.prototype,b.prototype);Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},set:d},response:{get:function(){return this.Gv;},set:d},X7a:{get:function(){return!0;},set:d},Oc:{get:function(){return this.nv;},set:d}});b.prototype.Ow=function(){return!0;};b.prototype.Tz=function(a){return this.fg=a.appendBuffer(this.response,this);};b.prototype.Ai=function(){return-1;};b.prototype.abort=function(){};b.prototype.Be=function(){};f.K=b;},function(f){var c,a,b,d;c={name:"heaac-2-dash reset sample",profile:53,f6:"heaac-2-dash",Sj:2,sampleRate:24E3,duration:1024,zr:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,f6:"heaac-2-dash",Sj:2,sampleRate:24E3,duration:1024,zr:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,f6:"ddplus-5.1-dash",Sj:6,sampleRate:48E3,duration:1536,zr:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};d={name:"ddplus-2.0-dash standard sample",profile:57,f6:"ddplus-2.0-dash",Sj:2,sampleRate:48E3,duration:1536,zr:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};f.K={Nva:{"heaac-2-dash":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":d},reset:{"heaac-2-dash":c},"heaac-2-dash":c,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":d};},function(f,c,a){var k,h,g,p;function b(a,b,c){h.call(this,a,b,c);}function d(a,b){h.call(this,a,b,void 0);}a(20);a(23);k=a(144);h=a(190).JV;g=a(554);a(62);p=a(62).Efa;a(62);b.prototype=Object.create(h.prototype);b.prototype.g0=function(a,c,d){return new b(this.stream,{data:this.data,offset:c,length:d},a);};d.prototype=Object.create(b.prototype);d.prototype.zMa=function(a,b){return"string"===typeof b?g[b]:b?g.reset[a]||g.Nva[a]:g.Nva[a];};d.prototype.Wta=function(a,b,c,d){return this.xd(a,b,!1,c,d);};d.prototype.Zta=function(a,b,c,d){return this.xd(a,b,!0,c,d);};d.prototype.xd=function(a,b,c,d,g){var f,p,n,r,l,u,m,v,q,B,t,Y,A,N;function h(a){n=p[a];r=n.qn("traf");if(void 0===r||void 0===r.mq)return!1;l=r.qn("tfdt");if(void 0===l)return!1;u=r.qn("trun");return void 0===u?!1:!0;}f=[];if(!this.parse())return!1;p=this.Pb.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(m=a,a=0;a<p.length;++a){if(!h(a))return!1;if(u.fd>m||c&&u.fd===m)break;m-=u.fd;}else if(a=c?p.length-1:0,!h(a))return!1;c&&a<p.length-1?(f=p[a+1],this.Yi(this.o0-f.startOffset,f.startOffset)):!c&&0<a&&this.Yi(n.startOffset,0);f=r.qn("tfhd");if(void 0===f)return!1;l=r.qn("tfdt");v=u.fd;q=r.qn("saiz");B=r.qn("saio");t=r.qn(k.wca);Y=r.qn("sbgp");if(!(!q&&!B||q&&B))return!1;A=r.qn("sdtp");if(this.Pb.mdat&&a<this.Pb.mdat.length)N=this.Pb.mdat[a];else if(a!==p.length-1)return!1;void 0===m&&(m=c?u.fd:0);if(u.xd(r,f,N||this,b,m,r.mq,c))u.Kla&&(!c&&l&&l.xd(u.lhb),q&&B&&(q.xd(u.pC,c),B.xd(t?0:q.i7,r.mq,c)),t&&t.xd(u.pC,c),A&&A.xd(u.pC,v,c),Y&&Y.xd(u.pC,c));else if(!c){if(a===p.length-1)return!1;this.Yi(p[a+1].startOffset-n.startOffset,n.startOffset);}else if(0===u.pC)return!1;d&&(b=this.zMa(this.profile,g))&&u.zeb(r,f,N,c,d,b);f=this.ys();u.Kla&&!N&&(f.VB=r.mq+u.VB,f.sr=u.sr);return f;};f.K={QK:d,r4:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,p("mdat"));return b;}};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=a(144);a=a(68);d=f.OV;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.se();this.dd=this.qr([{hR:"int32"},{WF:"int16"}]);return!0;};c.pq=d;return c;}(a["default"]);c["default"]=a;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);d=a(62);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.se();this.dd=this.qr([{szb:"int32"},{eoa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.dd.eoa=d.iX(this.dd.eoa);return!0;};c.pq="hdlr";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.dd=this.qr([{xtb:"int32"},{AQ:"int32"},{DSa:"int32"}]);return!0;};c.pq="btrt";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.dd=this.qr([{Swb:"int32"},{TBb:"int32"}]);return!0;};c.pq="pasp";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.se();this.dd=this.qr(1===this.version?[{Kma:"int64"}]:[{Kma:"int32"}]);a=this.zq(a,!0);this.o.Vb("Finished parsing mehd box");return a;};c.pq="mehd";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.se();a=1===this.version?[{gg:"int64"},{modificationTime:"int64"},{ac:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{gg:"int32"},{modificationTime:"int32"},{ac:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{n7a:"int16"},{ARa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.dd=this.qr(a);this.dd.tBb=!!(this.Wd&1);this.dd.uBb=!!(this.Wd&2);this.dd.vBb=!!(this.Wd&4);this.dd.wBb=!!(this.Wd&8);this.o.Vb("Finished parsing track box");return!0;};c.pq="tkhd";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){a=this.zq(a,!0);this.o.Vb("Finished parsing track box");return a;};c.pq="trak";return c;}(a(68)["default"]);c["default"]=f;},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.se();this.dd=1===this.version?this.qr([{gg:"int64"},{modificationTime:"int64"},{ma:"int32"},{duration:"int64"}]):this.qr([{gg:"int32"},{modificationTime:"int32"},{ma:"int32"},{duration:"int32"}]);return this.zq(a);};c.pq="mvhd";return c;}(a(68)["default"]);c["default"]=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OYa=function(a,b){Object.defineProperties(a,b);};},function(f,c,a){(function(){var D1E,F,P,M,ea,O,W,U,Y,A,N,G,D,V,fa,ba,S,ja,ka,qa,va,aa,Z,da,ga,ia,ha,oa,na,ra,la,J1K,c1K,Y1K,n9K,a9K;function b(a,b){var y1E;y1E=2;while(y1E!==1){switch(y1E){case 2:return b.ad-a.ad;break;case 4:return b.ad*a.ad;break;y1E=1;break;}}}function x(a){var r3E;r3E=2;while(r3E!==1){switch(r3E){case 2:return{mediaType:a.O,streamId:a.Za,movieId:a.M,bitrate:a.L,location:a.location,serverId:a.Rc,saveToDisk:a.Qd,offset:a.offset,bytes:a.ga,startTicks:a.Lh,durationTicks:a.Am,timescale:a.ma};break;}}}function w(a){var w3E,b;w3E=2;while(w3E!==9){switch(w3E){case 2:b=x(a);b.timescale=a.ma;b.frameDuration=a.stream.La&&a.stream.La.Fd;return b;break;}}}function h(a,b,c,d,h,f,p){var f1E,n,r,l,u,m,M9K,w9K;f1E=2;while(f1E!==10){M9K="Unable to find au";M9K+="dio trac";M9K+="k in manifes";M9K+="t:";w9K="Unable to find v";w9K+="ideo track in m";w9K+="ani";w9K+="f";w9K+="est";switch(f1E){case 2:f1E=1;break;case 13:f1E=F.R(m)?12:11;break;case 1:n=c.video_tracks;r=g(c.audio_tracks);l=g(c.video_tracks);a=a.$j(r,l);f1E=9;break;case 7:f1E=F.R(u)?6:14;break;case 9:b.Yb.buffer.ft=a[Z.u.VIDEO];n.some(function(a,d){var g1E;g1E=2;while(g1E!==5){switch(g1E){case 1:return u=k(c,b,Z.u.VIDEO,d,h,f,r,p),!0;break;case 2:g1E=!a.stereo?1:5;break;case 3:g1E=-a.stereo?9:4;break;g1E=!a.stereo?1:5;break;}}});f1E=7;break;case 14:c.audio_tracks.some(function(a,g){var i1E;i1E=2;while(i1E!==5){switch(i1E){case 1:return m=k(c,b,Z.u.AUDIO,g,h,f,r,p),!0;break;case 3:i1E=a.track_id!==d?0:1;break;i1E=a.track_id==d?1:5;break;case 2:i1E=a.track_id==d?1:5;break;}}});f1E=13;break;case 6:na(w9K);f1E=10;break;case 12:na(M9K,d);f1E=10;break;case 11:return u.concat(m);break;}}}function p(a,b){var R1E,R9K;R1E=2;while(R1E!==1){R9K="Medi";R9K+="a ";R9K+="cache is not enable";R9K+="d";switch(R1E){case 2:return this.BM?this.BM.then(function(){var d1E,c,d;d1E=2;while(d1E!==3){switch(d1E){case 2:c=M.time.fa();d=function(a){var J1E,b,c,d,E9K;J1E=2;while(J1E!==7){E9K="m";E9K+="o";E9K+="vi";E9K+="eEntry";switch(J1E){case 8:this.Wi.RB(a,c);J1E=7;break;case 2:b=[E9K,a].join(".");a=a.toString();c=function(a){var V1E;V1E=2;while(V1E!==1){switch(V1E){case 2:a.map(d.bind(this));V1E=1;break;case 4:a.map(d.bind(this));V1E=5;break;V1E=1;break;}}}.bind(this);J1E=3;break;case 3:d=function(a){var E1E,v9K,F9K,V9K,G9K;E1E=2;while(E1E!==1){v9K="bi";v9K+="l";v9K+="lb";v9K+="oar";v9K+="d";F9K="bi";F9K+="llbo";F9K+="ard";V9K="bil";V9K+="l";V9K+="boa";V9K+="rd";G9K="d";G9K+="e";G9K+="lete";switch(E1E){case 2:this.Wi[G9K](V9K,a);E1E=1;break;case 4:this.Wi[F9K](v9K,a);E1E=9;break;E1E=1;break;}}}.bind(this);this.Wi.RB(b,c);J1E=8;break;}}}.bind(this);return new ba(function(g){var K1E,y9K;K1E=2;while(K1E!==1){y9K="movie";y9K+="Entr";y9K+="y";switch(K1E){case 2:this.Wi.RB([y9K,a].join("."),function(h){var U1E,f,k,J9K,U9K;U1E=2;while(U1E!==7){J9K="bil";J9K+="lbo";J9K+="a";J9K+="rd";U9K="mediacachel";U9K+="o";U9K+="okup";switch(U1E){case 2:U1E=1;break;case 1:U1E=!h||0>=h.length?5:4;break;case 5:g(),this.yY(U9K,{sqa:M.time.fa()-c,Wka:!1});U1E=7;break;case 4:h=h[0];f=function(){var A1E;A1E=2;while(A1E!==1){switch(A1E){case 2:this.Wi.RB(a,function(d){var o1E;o1E=2;while(o1E!==5){switch(o1E){case 2:d=d.reduce(function(a,b){var b1E,c,B9K;b1E=2;while(b1E!==8){B9K="dr";B9K+="mHeader.__";B9K+="embed";B9K+="__";switch(b1E){case 5:b1E=-1!==c.indexOf(B9K)?4:3;break;case 4:return a;break;case 2:c=b.substr(0,b.lastIndexOf("."));b1E=5;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});n.bind(this)(d,b).then(function(){var M1E,b,d,N9K,S9K;M1E=2;while(M1E!==8){N9K="medi";N9K+="acach";N9K+="e";N9K+="lo";N9K+="okup";S9K="No co";S9K+="ntent da";S9K+="ta f";S9K+="ound for ";switch(M1E){case 4:this.Lc[a]&&F.Ad(this.Lc[a].data)?(Object.keys(this.Lc[a].data).forEach(function(b){var k1E;k1E=2;while(k1E!==1){switch(k1E){case 2:this.Lc[a].data[b].sort(function(a,b){var n1E;n1E=2;while(n1E!==1){switch(n1E){case 4:return a.Lh+b.Lh;break;n1E=1;break;case 2:return a.Lh-b.Lh;break;}}});k1E=1;break;}}}.bind(this)),d=!0):oa(S9K+a,this.Lc[a]);this.yY(N9K,{sqa:b,Wka:d});M1E=9;break;case 2:b=M.time.fa()-c;d=!1;M1E=4;break;case 9:g(this.Lc[a]);M1E=8;break;}}}.bind(this),function(){var P1E;P1E=2;while(P1E!==1){switch(P1E){case 4:g();P1E=6;break;P1E=1;break;case 2:g();P1E=1;break;}}});o1E=5;break;}}}.bind(this));A1E=1;break;}}}.bind(this);k=function(a){var Q1E;Q1E=2;while(Q1E!==1){switch(Q1E){case 2:return!(F.R(a)||F.Ja(a)||F.R(a.$b)||F.Ja(a.$b)||F.R(a.M)||F.Ja(a.M)||F.R(a.ad)||F.Ja(a.ad));break;}}};k(this.Lc[a])?f():this.Wi.read(J9K,h,function(b,c){var X1E,h,p,B1E;X1E=2;while(X1E!==9){switch(X1E){case 5:F.R(h)||(p={ad:h.priority,M:h.movieId,headers:h.headers,XA:0,OF:0,LP:0,Qd:h.saveToDisk,$b:h.stats,el:h.firstSelectedStreamBitrate,Jm:h.initSelectionReason,Tl:h.histDiscountedThroughputValue,ek:h.histTdigest,il:h.histAge});F.R(p)||F.Ja(p)||(p.$b=p.$b||{},p.headers=p.headers||{});k(p)?(this.Lc[a]=p,f()):(d(a),g());X1E=9;break;case 2:try{B1E=2;while(B1E!==1){switch(B1E){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(c)));B1E=1;break;}}}catch(Oe){h=c;}X1E=5;break;}}}.bind(this));U1E=7;break;}}}.bind(this));K1E=1;break;}}}.bind(this));break;}}}.bind(this)):ba.reject(R9K);break;}}}function l(a,b){var g4E,c,d,u9K,O9K;g4E=2;while(g4E!==9){u9K=" m";u9K+="o";u9K+="vieId:";u9K+=" ";O9K="Failed to load data";O9K+=" from disk because the AseStream was missing fro";O9K+="m t";O9K+="he stream map streamId: ";switch(g4E){case 4:d=parseInt(b.O);(a=a&&a[d]?a[d].nl:{})&&a[b.Za]?(a=a[b.Za],b.U&&a.iR(b.ma,b.La?new fa(b.La,b.ma):void 0,b.U),b.Mb&&a&&a.rh?(c=new A(a,{ga:b.ga,offset:b.offset,Qq:b.Qq,Se:b.Se,VH:void 0,Fr:!1},this),this.bfa(c)):b.response instanceof ArrayBuffer&&(b=new N(a,b,b.response),c.data||(c.data={}),c.data[b.Za]||(c.data[b.Za]=[]),c.data[b.Za].push(b))):na(O9K+b.Za+u9K+b.M);g4E=9;break;case 5:g4E=c?4:9;break;case 2:c=this.Lc[b.M];g4E=5;break;}}}function k(a,b,d,g,h,f,k,p){var z1E,n,r,l,u,m,I9K,P9K;z1E=2;while(z1E!==13){I9K="vid";I9K+="eo";I9K+="_trac";I9K+="ks";P9K="audi";P9K+="o_t";P9K+="racks";switch(z1E){case 2:z1E=1;break;case 1:n=d===Z.u.VIDEO;r=[];l=[];z1E=3;break;case 3:u=U.hP(void 0,a,d,g,void 0,p);a[[P9K,I9K][d]][g].streams.forEach(function(a,b){var e1E,c;e1E=2;while(e1E!==14){switch(e1E){case 6:(a.zo?l:r).push(a);e1E=14;break;case 7:a.inRange=!1;e1E=6;break;case 9:a.inRange=!1;e1E=8;break;case 3:e1E=b<f.jra||b>f.Jqa?9:8;break;case 2:a=Y.K1(u,b,void 0,f,p);b=a.L;c=a.ee;e1E=3;break;case 8:e1E=c<f.kra||c>f.Kqa?7:6;break;}}});a=[];h&&0!==r.length&&(m=c(b,r,n,f,k))&&a.push(m);z1E=6;break;case 6:m||(m=c(b,l,n,f,k))&&a.push(m);return a;break;}}}function g(a){var v1E,b;v1E=2;while(v1E!==3){switch(v1E){case 2:b=0;F.forEach(a,function(a){var Z1E;Z1E=2;while(Z1E!==1){switch(Z1E){case 2:F.forEach(a.streams,function(a){var x1E;x1E=2;while(x1E!==1){switch(x1E){case 2:b=Math.max(b,a.bitrate);x1E=1;break;}}});Z1E=1;break;}}});v1E=4;break;case 4:return b;break;}}}function c(a,b,c,d,g){var Y1E,h9K,C9K;Y1E=2;while(Y1E!==8){h9K="u";h9K+="pdateStreamSelection re";h9K+="turned null list";C9K="sel";C9K+="ec";C9K+="t";C9K+="Stream returned null";switch(Y1E){case 2:Y1E=(b=a.location.xT(a.Yb,b))?1:9;break;case 4:return c=b[a.Rf],c.Jm=a.reason,c.Tl=a.Rq,c.E5a=a.il,c.OP=a.ek,c;break;case 1:d=ea(d,g);Y1E=5;break;case 3:na(C9K);Y1E=8;break;case 9:na(h9K);Y1E=8;break;case 5:Y1E=(a=a.stream[c?1:0].w7(a.Yb,b,void 0,c?d.hta:d.gta))?4:3;break;}}}D1E=2;while(D1E!==89){J1K="1SIY";J1K+="bZr";J1K+="NJC";J1K+="p";J1K+="9";c1K="med";c1K+="ia";c1K+="|asejs";Y1K="MEDIA";Y1K+="C";Y1K+="ACHE";n9K="me";n9K+="dia";n9K+="|as";n9K+="ejs";a9K="H";a9K+="E";a9K+="A";a9K+="DERCA";a9K+="CHE";switch(D1E){case 30:na=S.warn.bind(S);ra=S.error.bind(S);la={onabort:function(){},onerror:function(){}};q.prototype=Object.create(V.prototype);q.prototype.constructor=q;Object.defineProperties(q.prototype,{cache:{get:function(){var p3E;p3E=2;while(p3E!==1){switch(p3E){case 4:return this.Lc;break;p3E=1;break;case 2:return this.Lc;break;}}}}});q.prototype.Vb=ka;q.prototype.ba=na;D1E=39;break;case 18:fa=a(66);ba=M.Promise;S=new M.Console(a9K,n9K);ja=new M.Console(Y1K,c1K);ka=a(24);qa=ka.EventEmitter;va=ka.eD;aa=a(551);D1E=23;break;case 6:U=a(191);Y=a(300);a(61);A=a(299);N=a(553);G=a(298);D=a(295);V=a(91);D1E=18;break;case 50:q.prototype.flush=function(){var Z3E,a,k1K,b1K;Z3E=2;while(Z3E!==7){k1K="manage";k1K+="rdebugev";k1K+="ent";b1K=", ";b1K+="headerCa";b1K+="che ";b1K+="flush: ";switch(Z3E){case 3:this.dz=0;this.ni=[];this.Ln.xe&&(a="@"+M.time.fa()+b1K,this.Ea(k1K,{message:a}));Z3E=7;break;case 2:this.Bma();for(var b in this.Cl){a=this.Cl[b];a.abort(la);}this.Lc=Object.create(null);Z3E=3;break;}}};q.prototype.list=function(){var x3E;x3E=2;while(x3E!==1){switch(x3E){case 2:return this.ni;break;case 4:return this.ni;break;x3E=1;break;}}};q.prototype.sva=function(a){var R3E;R3E=2;while(R3E!==1){switch(R3E){case 2:this.BE!=a&&(this.BE=a,this.sfa());R3E=1;break;}}};q.prototype.x8a=function(a){var d3E,b;d3E=2;while(d3E!==4){switch(d3E){case 2:b=F.R(a)?"":a.toString();return new ba(function(a){var J3E,V3E;J3E=2;while(J3E!==4){switch(J3E){case 2:J3E=F.R(this.Wi)?1:5;break;case 1:a({});J3E=4;break;case 5:try{V3E=2;while(V3E!==1){switch(V3E){case 2:this.Wi.RB("",function(c){var E3E;E3E=2;while(E3E!==5){switch(E3E){case 2:c=c.filter(function(a){var K3E,e1K;K3E=2;while(K3E!==5){e1K="m";e1K+="o";e1K+="vieEntr";e1K+="y";switch(K3E){case 2:a=a.split(".");return b&&(b===a[0]||e1K===a[0]&&b===a[1]);break;}}}.bind(this)).reduce(function(a,b){var U3E,c,p1K;U3E=2;while(U3E!==3){p1K="m";p1K+="o";p1K+="vieEntry";switch(U3E){case 4:return a;break;case 2:c=b.split(".");U3E=5;break;case 5:p1K!==c[0]&&(b=c[0]+"."+c[1],c=c[2],F.R(a[b])&&(a[b]={}),F.R(a[b][c])&&(a[b][c]=!0));U3E=4;break;}}},{});a(c);E3E=5;break;}}}.bind(this));V3E=1;break;}}}catch(dc){a({});}J3E=4;break;}}}.bind(this));break;}}};q.prototype.f4=function(a,b){var A3E;A3E=2;while(A3E!==4){switch(A3E){case 2:A3E=(a=this.Lc[a])?1:4;break;case 8:A3E=(b=a.headers[b])?9:0;break;A3E=(b=a.headers[b])?5:4;break;case 9:A3E=(a=this.Lc[a])?3:5;break;A3E=(a=this.Lc[a])?1:4;break;case 1:A3E=(b=a.headers[b])?5:4;break;case 5:return b;break;}}};q.prototype.v8a=function(a,b){var o3E,c;o3E=2;while(o3E!==4){switch(o3E){case 5:return c||!this.Ss?ba.resolve(c):this.aNa(a,b).then(function(a){var b3E;b3E=2;while(b3E!==1){switch(b3E){case 4:return z(a);break;b3E=1;break;case 2:return z(a);break;}}});break;case 2:c=this.rqa(a);o3E=5;break;}}};q.prototype.rqa=function(a){var M3E;M3E=2;while(M3E!==1){switch(M3E){case 2:return z(this.Lc[a]);break;case 4:return z(this.Lc[a]);break;M3E=1;break;}}};q.prototype.Yw=function(){var k3E,X1K;k3E=2;while(k3E!==1){X1K="Med";X1K+="ia cache is not e";X1K+="nabled";switch(k3E){case 2:return this.BM?this.BM.then(function(){var n3E;n3E=2;while(n3E!==1){switch(n3E){case 2:return new ba(function(a){var P3E,T1K;P3E=2;while(P3E!==1){T1K="movie";T1K+="Ent";T1K+="ry";switch(P3E){case 2:this.Wi.RB(T1K,function(b){var Q3E,c;Q3E=2;while(Q3E!==8){switch(Q3E){case 2:Q3E=1;break;case 1:Q3E=!b||0>=b.length?5:4;break;case 5:a([]);Q3E=8;break;case 4:c=[];b.forEach(function(a){var X3E;X3E=2;while(X3E!==1){switch(X3E){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(parseInt(a[1],10));X3E=1;break;}}});a(c);Q3E=8;break;}}});P3E=1;break;}}}.bind(this));break;}}}.bind(this)):ba.reject(X1K);break;}}};D1E=63;break;case 23:Z=a(13);da=a(291);ga=a(290);ia=M.uy;a(23);ha={lifespan:259200};ka=S.trace.bind(S);oa=ja.trace.bind(ja);D1E=30;break;case 63:q.prototype.Bma=function(){var B3E,c,d,g,h,f,l1K,D1K;function a(a){var F3E;F3E=2;while(F3E!==1){switch(F3E){case 2:a.wUa();F3E=1;break;case 4:a.wUa();F3E=9;break;F3E=1;break;}}}B3E=2;while(B3E!==3){switch(B3E){case 5:for(f in this.Lc)if(g=this.Lc[f],g.data){d=!1;for(var k in g.data){l1K="in ent";l1K+="r";l1K+="y:";D1K="missing ";D1K+="headerEntry for str";D1K+="e";D1K+="amId:";(h=g.headers[k])||ra(D1K,k,l1K,g);F.R(void 0)||!h||void 0===h.O?((F.R(void 0)||void 0!=k)&&b(g,k),g.data[k].forEach(a),delete g.data[k]):d=!0;}d||delete g.data;}this.ePa(c);B3E=3;break;case 2:B3E=1;break;case 1:c=0;B3E=5;break;}}function b(a,b){var s3E;s3E=2;while(s3E!==1){switch(s3E){case 2:a.data[b].forEach(function(a){var h3E;h3E=2;while(h3E!==5){switch(h3E){case 2:a.abort(la);c+=a.Oc;h3E=5;break;}}});s3E=1;break;}}}};q.prototype.Ifa=function(a,b){var t3E,c;t3E=2;while(t3E!==6){switch(t3E){case 2:c=a.stream.O;2>this.Pv.length&&this.QLa();t3E=4;break;case 3:b.Qd=a.Qd;b.Wib=M.time.fa();b.Dwb=this;return b;break;case 4:b=void 0===a.X?new G(a.stream,b,this.Pv[c],a,this,!0,this):D.create(a.stream,this.Pv[c],a,this,!0,this);t3E=3;break;}}};q.prototype.rs=function(a){var N3E,b,i1K;N3E=2;while(N3E!==8){i1K="s";i1K+="a";i1K+="vetodis";i1K+="k";switch(N3E){case 9:0===b.LP&&0===b.OF&&(this.tPa(b,a.Ge),b.Qd&&!b.$b.r9a&&this.yY(i1K,{ofb:b.$b.xJ}));N3E=8;break;case 2:a.Mb&&delete this.Cl[a.Za];delete a.response;N3E=4;break;case 4:a.Be();b=this.Lc[a.M]||a.Zq;N3E=9;break;}}};q.prototype.jPa=function(a,b,c,d){var c3E,g;c3E=2;while(c3E!==11){switch(c3E){case 3:g.yB=a.yB;c3E=9;break;case 14:c3E=a.KP?13:12;break;case 9:c3E=!g.open()?8:7;break;case 2:g=this.Ifa(a,d);g.gua=b;g.Zq=c;c3E=3;break;case 8:return ba.reject();break;case 12:return new ba(function(a){var I3E;I3E=2;while(I3E!==1){switch(I3E){case 2:g.KP=a;I3E=1;break;case 4:g.KP=a;I3E=8;break;I3E=1;break;}}});break;case 7:c.LP++;this.Cl[g.Za]=g;c3E=14;break;case 13:g.KP=a.KP;c3E=11;break;}}};q.prototype.mNa=function(a,b,c){var j3E,d,g;j3E=2;while(j3E!==7){switch(j3E){case 4:j3E=0<d?3:9;break;case 2:d=a.B0;b.Qd&&this.Ss&&(a.LQ?d=a.LQ:a.Sqa&&0<a.Sqa&&(d=2E3*a.Sqa));j3E=4;break;case 3:return function(a,b){var O29=q011;var S3E;S3E=2;while(S3E!==1){switch(S3E){case 2:O29.W9K(0);return O29.K9K(b,d);break;case 4:O29.W9K(1);return O29.K9K(d,b);break;S3E=1;break;}}};break;case 9:g=c.length<a.A0?c.length:a.A0;return function(a){var H29=q011;var T3E;T3E=2;while(T3E!==1){switch(T3E){case 4:H29.W9K(1);return H29.K9K(g,a);break;T3E=1;break;case 2:H29.d9K(0);return H29.Q9K(a,g);break;}}};break;}}};q.prototype.OM=function(a,b){var O6E,c,d,g,h,f,k,p,n,r,l,m1K,t1K,A1K,x1K,q1K,j1K;O6E=2;while(O6E!==42){m1K="man";m1K+="agerdebuge";m1K+="vent";t1K=",";t1K+=" sta";t1K+="r";t1K+="tPt";t1K+="s: ";A1K=",";A1K+=" pts";A1K+=":";A1K+=" ";x1K=", st";x1K+="reamId:";x1K+=" ";q1K=", ";q1K+="headerCache requestDat";q1K+="a: movieId: ";j1K="no proper fragment found ";j1K+="to reque";j1K+="st data at pts";switch(O6E){case 28:void 0===n&&(n=a.stream.zi(p),n.Qd=a.Qd),F.R(f.Un)&&(f.Un=n.X),n.Qd&&(n.responseType=W.Ri.tl),l=c+"."+d,a.Qd&&this.Ss&&a.yB[l]&&a.yB[l][n.X]||(l=this.Ifa(n,a.config),l.Qd&&(l.Zq=a.Zq),l.open(),++f.OF,b.push(l)),++r,g+=n.duration,n=void 0;O6E=44;break;case 15:O6E=-1===p?27:26;break;case 30:r=g=0;O6E=29;break;case 6:this.jz.shift();O6E=7;break;case 22:O6E=(r=n.u1(b))?21:35;break;case 33:void 0===f.data[d]&&(f.data[d]=[]);b=f.data[d];h=this.mNa(h,a,k);O6E=30;break;case 26:n=a.stream.zi(p);n.Qd=a.Qd;r=a.O;O6E=23;break;case 19:b=f.Un;O6E=18;break;case 2:c=a.M;d=a.Za;g=a.stream;h=a.config;O6E=9;break;case 9:O6E=this.VL?8:14;break;case 18:a.O===Z.u.AUDIO&&h.Ol&&h.iq&&!h.Xv&&g.Ro&&(b=Math.max(g.U.Sf(0),b+g.Ro.Je));k=a.U;p=k.Zj(b);O6E=15;break;case 43:f.D0&&(a=f.D0,delete f.D0,this.OM(a,f.Un));O6E=42;break;case 27:ra(j1K,b,a);O6E=42;break;case 23:O6E=r===Z.u.VIDEO&&h.zw||r===Z.u.AUDIO&&h.Ol?22:35;break;case 12:O6E=a.O===Z.u.AUDIO?11:18;break;case 44:++p;O6E=29;break;case 11:O6E=void 0===f.Un?10:19;break;case 14:f=this.Lc[c]||a.Zq;O6E=13;break;case 21:n.O===Z.u.AUDIO&&!h.cra&&r.Ib<(h.iq&&!h.Xv&&g.Ro?Math.floor(g.Ro.Je):0)&&(++r.Qc,r.Ib+=n.La.Je),0<r.Qc&&n.Qm(r,!1);O6E=35;break;case 13:O6E=f?12:42;break;case 35:h.xe&&(b="@"+M.time.fa()+q1K+c+x1K+d+A1K+b+t1K+n.X,this.Ea(m1K,{message:b}));void 0===f.data&&(f.data=Object.create(null));O6E=33;break;case 8:this.jz.push({B5a:a,Ib:b});O6E=7;break;case 7:O6E=this.jz.length>h.I2?6:42;break;case 10:f.D0=a;return;break;case 29:O6E=p<k.length&&!h(r,g)?28:43;break;}}};q.prototype.bfa=function(a){var W6E,b,c;W6E=2;while(W6E!==3){switch(W6E){case 4:c&&(c.nRa||c.Qd||(c.nRa=!0,++this.dz),c.headers||(c.headers={}),c.headers[b]=a,this.Ln.iG&&++c.XA,this.sfa());W6E=3;break;case 2:b=a.Za;c=this.Lc[a.M]||a.Zq;W6E=4;break;}}};q.prototype.sfa=function(){var C6E,b,c,d;C6E=2;while(C6E!==11){switch(C6E){case 2:d=0;C6E=5;break;case 5:C6E=!(this.dz<=this.BE)?4:11;break;case 3:C6E=(c=this.ni.shift())?9:4;break;case 4:C6E=this.dz>this.BE?3:12;break;case 8:C6E=c.data?7:6;break;case 9:b=c.M;C6E=8;break;case 13:this.bPa(b);C6E=4;break;case 6:delete this.Lc[b];--this.dz;C6E=13;break;case 7:for(var g in c.data){c.data[g].forEach(a);delete c.data[g];}C6E=6;break;case 12:this.cPa(d);C6E=11;break;}}function a(a){var w6E;w6E=2;while(w6E!==5){switch(w6E){case 2:a.abort();d+=a.Oc;w6E=5;break;}}}};D1E=55;break;case 55:q.prototype.cPa=function(a){var r6E,r1K;r6E=2;while(r6E!==1){r1K="dis";r1K+="card";r1K+="edBytes";switch(r6E){case 2:0!==a&&(a={type:r1K,bytes:a},this.Ea(a.type,a));r6E=1;break;}}};q.prototype.ePa=function(a){var L6E,s1K;L6E=2;while(L6E!==1){s1K="f";s1K+="lushedByte";s1K+="s";switch(L6E){case 2:0!==a&&(a={type:s1K,bytes:a},this.Ea(a.type,a));L6E=1;break;}}};q.prototype.bPa=function(a){var p6E,g1K;p6E=2;while(p6E!==5){g1K="cach";g1K+="eEv";g1K+="ict";switch(p6E){case 2:a={type:g1K,movieId:a};this.Ea(a.type,a);p6E=5;break;}}};q.prototype.sx=function(a){var l6E,b;l6E=2;while(l6E!==4){switch(l6E){case 2:b=this.Lc[a.M];b&&(a.Mb?F.R(b.$b.soa)&&(b.$b.soa=a.He):F.R(b.$b.NB)&&(b.$b.NB=a.He));l6E=4;break;}}};q.prototype.Hi=function(a){var G6E;G6E=2;while(G6E!==1){switch(G6E){case 2:a.Mb?this.Qab(a):this.Sab(a);G6E=1;break;}}};q.prototype.Qab=function(a){var m6E;m6E=2;while(m6E!==3){switch(m6E){case 4:this.kPa(a,function(){var H6E;H6E=2;while(H6E!==5){switch(H6E){case 2:a.Zq.LP--;this.rs(a);H6E=5;break;}}}.bind(this));m6E=3;break;case 2:a.Vib=a.Ge;this.bfa(a);a.KP(a.Vib);m6E=4;break;}}};q.prototype.Sab=function(a){var q6E,b,c,d,g,h,f,k,p,W1K,Q1K,K1K,z1K,f1K,L1K,H1K,o1K,Z1K;q6E=2;while(q6E!==15){W1K=".";W1K+="r";W1K+="e";W1K+="spon";W1K+="se";Q1K=".drm";Q1K+="He";Q1K+="ad";Q1K+="e";Q1K+="r";K1K=".he";K1K+="a";K1K+="de";K1K+="rDa";K1K+="ta";z1K=".met";z1K+="a";z1K+="d";z1K+="a";z1K+="ta";f1K="m";f1K+="an";f1K+="agerdebugevent";L1K=", ";L1K+="remai";L1K+="ni";L1K+="ng:";L1K+=" ";H1K=", p";H1K+="ts";H1K+=":";H1K+=" ";o1K=",";o1K+=" st";o1K+="reamI";o1K+="d: ";Z1K=", headerCache dataComplete: ";Z1K+="movie";Z1K+="Id: ";switch(q6E){case 3:this.Ln.xe&&(b="@"+M.time.fa()+Z1K+b+o1K+a.Za+H1K+a.X+L1K+(c.OF-1),this.Ea(f1K,{message:b}));d=function(){var a6E;a6E=2;while(a6E!==5){switch(a6E){case 2:--c.OF;this.rs(a);a6E=5;break;}}}.bind(this);q6E=8;break;case 4:q6E=c?3:15;break;case 8:q6E=a.Qd&&a.responseType===W.Ri.tl&&this.Ss?7:16;break;case 7:b=a.response;g=a.Qq;h=a.Se;f=M.time.fa();q6E=12;break;case 16:d();q6E=15;break;case 2:b=a.M;c=this.Lc[b]||a.Zq;q6E=4;break;case 12:k=[a.M,a.Za,a.Lg].join(".");p={};q011.d9K(2);p[q011.K9K(z1K,k)]={Ki:x(a),Nb:ha};F.R(g)||(p[k+K1K]={Ki:g,Nb:ha});F.R(h)||(p[k+Q1K]={Ki:h,Nb:ha});F.R(b)||(p[k+W1K]={Ki:b,Nb:ha});this.Wi.Jua(p,function(a){var u6E;u6E=2;while(u6E!==5){switch(u6E){case 2:a||(a=M.time.fa()-f,c.$b.xJ+=a);d();u6E=5;break;}}}.bind(this));q6E=15;break;}}};q.prototype.FB=function(a){var D6E,d1K;D6E=2;while(D6E!==5){d1K="_onEr";d1K+="r";d1K+="or: ";switch(D6E){case 2:na(d1K,a.toString());this.rs(a);D6E=5;break;}}};D1E=70;break;case 2:F=a(8);P=a(20);M=a(10);ea=a(305);a(123);O=a(302);W=M.Ua;D1E=6;break;case 70:q.prototype.oPa=function(a,b){var B09=q011;var y6E,c,d,g,h,f,v1K,F1K,V1K,G1K,E1K,M1K,w1K;y6E=2;while(y6E!==15){v1K="h";v1K+="ea";v1K+="d";v1K+="er";F1K=".d";F1K+="rmHeade";F1K+="r";V1K=".";V1K+="headerD";V1K+="ata";G1K=".metada";G1K+="t";G1K+="a";E1K=".f";E1K+="ragmen";E1K+="ts";M1K=".dura";M1K+="t";M1K+="i";M1K+="ons";w1K=".si";w1K+="ze";w1K+="s";switch(y6E){case 18:B09.W9K(2);h[B09.K9K(w1K,c)]={Ki:f.sizes.buffer,Nb:ha};y6E=17;break;case 17:B09.d9K(2);h[B09.K9K(M1K,c)]={Ki:f.wd.buffer,Nb:ha};y6E=16;break;case 10:g={timescale:a.stream.U.ma,startTicks:a.stream.U.nn,offset:a.stream.U.Xl(0)};f=a.stream.U.ZI;B09.d9K(2);h[B09.K9K(E1K,c)]={Ki:g,Nb:ha};y6E=18;break;case 8:g=w(a);h={};y6E=6;break;case 6:B09.W9K(2);h[B09.Q9K(G1K,c)]={Ki:g,Nb:ha};B09.W9K(2);h[B09.Q9K(V1K,c)]={Ki:a.Qq,Nb:ha};g=a.Se||a.VH;F.R(g)||(h[c+F1K]={Ki:g,Nb:ha});y6E=11;break;case 16:this.Wi.Jua(h,function(c){var Y6E;Y6E=2;while(Y6E!==5){switch(Y6E){case 2:c||(c=M.time.fa()-d,a.Zq.$b.xJ+=c);b();Y6E=5;break;}}});y6E=15;break;case 5:y6E=!a.Qd||!this.Ss||a.yB[c]&&a.yB[c].header?4:3;break;case 11:y6E=a.stream.rh?10:16;break;case 3:c=[a.M,a.Za,v1K].join(".");d=M.time.fa();y6E=8;break;case 4:b();y6E=15;break;case 2:c=a.M+"."+a.Za;y6E=5;break;}}};q.prototype.kPa=function(a,b){var z6E,c;z6E=2;while(z6E!==9){switch(z6E){case 2:c=a.config;F.R(a.gua)||this.OM(a,a.gua);z6E=4;break;case 4:a.Qd?this.oPa(a,b):b();c.AT||0!==Object.keys(this.Cl).length||this.Tfa();z6E=9;break;}}};q.prototype.tPa=function(a,b){var e6E,y1K;e6E=2;while(e6E!==4){y1K="p";y1K+="reb";y1K+="uf";y1K+="f";y1K+="stats";switch(e6E){case 2:a.$b.pI=b;a={type:y1K,movieId:a.M,stats:{prebuffstarted:a.$b.NB,prebuffcomplete:a.$b.pI}};this.Ea(a.type,a);e6E=4;break;}}};q.prototype.yY=function(a,b){var f6E,c,N1K,S1K,B1K,U1K;f6E=2;while(f6E!==9){N1K="me";N1K+="diacac";N1K+="helookup";S1K="sa";S1K+="ve";S1K+="t";S1K+="odis";S1K+="k";B1K="mediacac";B1K+="hest";B1K+="ats";U1K="m";U1K+="edi";U1K+="a";U1K+="c";U1K+="ache";switch(f6E){case 3:this.eMa&&this.Ea(U1K,c);f6E=9;break;case 2:c={type:B1K,operation:a};S1K===a&&(c.saveTime=b.ofb);N1K===a&&(c.lookupTime=b.sqa,c.dataFound=b.Wka);f6E=3;break;}}};f.K=q;J1K;D1E=89;break;case 39:q.prototype.Tb=ra;q.prototype.zm=function(){var l3E;l3E=2;while(l3E!==5){switch(l3E){case 2:this.flush();this.Tfa();l3E=5;break;}}};q.prototype.QLa=function(){var G3E,a;G3E=2;while(G3E!==9){switch(G3E){case 5:a=this;a.Pv=[{type:Z.u.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:Z.u.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(b){var m3E,R1K;m3E=2;while(m3E!==3){R1K="e";R1K+="rr";R1K+="o";R1K+="r";switch(m3E){case 2:b=new ia(b,a.Ej);b.on(R1K,function(){});F.R(b.Zc)||b.Zc();m3E=4;break;case 4:return b;break;}}});ia.kg();G3E=9;break;case 2:G3E=1;break;case 1:G3E=0===this.Pv.length?5:9;break;}}};q.prototype.Tfa=function(){var H3E,a;H3E=2;while(H3E!==3){switch(H3E){case 2:a=this.Pv;H3E=5;break;case 5:this.Pv=[];a.forEach(function(a){var q3E;q3E=2;while(q3E!==5){switch(q3E){case 2:a.removeAllListeners();a.zm();q3E=5;break;case 3:a.removeAllListeners();a.zm();q3E=7;break;q3E=5;break;}}});H3E=3;break;}}};q.prototype.XE=function(a,b,c){var a3E,d,g;a3E=2;while(a3E!==7){switch(a3E){case 2:d=this.Jv;g=a;a3E=4;break;case 4:a3E=(d[b]=a)?3:9;break;case 9:c&&delete d[b];g?(this.VL=!1,this.eNa()):this.VL=!0;a3E=7;break;case 3:for(var h in d){d.hasOwnProperty(h)&&!1===d[h]&&(g=!1);}a3E=9;break;}}};q.prototype.eNa=function(){var u3E;u3E=2;while(u3E!==1){switch(u3E){case 2:!this.VL&&0<this.jz.length&&(this.jz.forEach(function(a){var D3E;D3E=2;while(D3E!==1){switch(D3E){case 2:this.OM(a.B5a,a.Ib);D3E=1;break;}}}.bind(this)),this.jz=[]);u3E=1;break;}}};q.prototype.Icb=function(a,c){var y3E,d,g,h,f,P1K,u1K,O1K;y3E=2;while(y3E!==24){P1K="A config";P1K+=" must be passed to ";P1K+="prepareP";u1K="); ignori";u1K+="ng p";u1K+="repare for movieId:";u1K+=" ";O1K="PTS passed to Heade";O1K+="rCache.prepareP is";O1K+=" n";O1K+="ot undefined or a positive number (";switch(y3E){case 7:y3E=f.t9a?6:14;break;case 6:return ba.reject();break;case 10:d.ad=g;this.ni.sort(b);y3E=19;break;case 14:y3E=!F.R(h)&&(!F.aa(h)||0>h)?13:12;break;case 12:d=this.Lc[d];y3E=11;break;case 11:y3E=!F.R(d)&&(2<=d.XA||!f.iG)?10:15;break;case 17:for(var k in d.headers){!F.R(d.headers[k].url)&&null!==d.headers[k].url&&(void 0===d.data||void 0===d.data[k]||d.data[k].length<f.A0)?this.OM(d.headers[k],h):(F.R(d.headers[k].url)||null===d.headers[k].url)&&void 0!==d.data&&void 0!==d.data[k]&&0<d.data[k].length&&delete d.headers[k];}y3E=16;break;case 19:y3E=!F.R(h)?18:16;break;case 25:return this.iPa(a,c);break;case 13:return ra(O1K+h+u1K+d),ba.reject();break;case 8:this.sva(f.gO);y3E=7;break;case 15:y3E=!c.Qd||!this.Ss?27:25;break;case 18:void 0===d.data&&(d.$b.NB=void 0);y3E=17;break;case 16:return ba.resolve();break;case 27:y3E=g>f.J2||this.dz+1>this.BE&&g>this.ni[0].ad?26:25;break;case 2:d=c.M;g=c.ad;h=c.Ib;P(c.config,P1K);f=c.config;y3E=8;break;case 26:return ba.reject();break;}}};q.prototype.iPa=function(a,c){var Y3E,d,g,f,k,p,n,r,l,u,m,v,q,w,B,I1K;Y3E=2;while(Y3E!==23){I1K="A confi";I1K+="g must";I1K+=" b";I1K+="e passed to _requestHeader";switch(Y3E){case 19:Y3E=!u?18:17;break;case 2:d=c.M;Y3E=5;break;case 5:g=c.ad;f=c.Ib;k=c.Qd;p=c.C3a();n=p.Ma;Y3E=7;break;case 18:return ba.reject();break;case 7:r=p.yi;p=p.Wz;P(c.config,I1K);l=c.config;Y3E=12;break;case 25:B=this.Ss;Y3E=24;break;case 17:m=this.Lc[d];m||(m={ad:g,M:d,headers:Object.create(null),XA:0,LP:0,OF:0,data:void 0,Qd:k,$b:{}},m.Qd?m.$b.xJ=0:this.Lc[d]=m,this.ni.push(m),this.ni.sort(b));v=[];Y3E=27;break;case 24:return(k?this.x8a(d):ba.resolve()).then(function(a){var z3E;z3E=2;while(z3E!==5){switch(z3E){case 2:u.forEach(function(b){var e3E,c;e3E=2;while(e3E!==4){switch(e3E){case 2:c=q?q:l.MP;l.iG&&m.headers[b.Za]||(F.R(m.el)&&b.O===Z.u.VIDEO&&(m.el=b.L,m.Jm=b.Jm,m.Tl=b.Tl,m.il=b.E5a,m.ek=b.OP),r&&b.O===Z.u.VIDEO&&l.QO?c=l.QO:l.qxa&&b.sj&&(c=b.sj.offset+b.sj.size),b={stream:b,url:b.url,offset:0,ga:c,Qd:k},k&&(m.$b.r9a=!F.R(a)&&0<Object.keys(a).length,b.yB=a),b=this.jPa(b,f,m,l),v.push(b));e3E=4;break;}}}.bind(this));return ba.all(v);break;}}}.bind(this)).then(function(a){var f3E;f3E=2;while(f3E!==1){switch(f3E){case 2:return new ba(function(b){var g3E,c,h1K,C1K;g3E=2;while(g3E!==3){h1K="mo";h1K+="vieE";h1K+="ntr";h1K+="y";C1K="bil";C1K+="lb";C1K+="oa";C1K+="rd";switch(g3E){case 9:b(a);g3E=3;break;case 2:g3E=1;break;case 1:g3E=B&&k?5:9;break;case 5:c=y(m);w.save(C1K,[h1K,m.M].join("."),c,ha,function(){var i3E;i3E=2;while(i3E!==1){switch(i3E){case 4:b(a);i3E=2;break;i3E=1;break;case 2:b(a);i3E=1;break;}}});g3E=3;break;}}});break;}}}).then(function(a){var v3E;v3E=2;while(v3E!==3){switch(v3E){case 2:a=Math.max.apply(Math,a);m.$b.YO=m.$b.soa;m.$b.nQ=a;v3E=4;break;case 4:return{firstheadersent:m.$b.YO,lastheadercomplete:m.$b.nQ};break;}}});break;case 12:l=O(l,n);c={stream:[new ga(void 0,l.Xia,l),new ga(void 0,l.Xx,l)],location:new da(null,a.sb,a.cg,!r,l),Yb:{state:Z.wa.Ag,o3:!0,buffer:{ft:void 0,X:0,we:0,Pa:0,fj:0,wx:0,U:[]}}};c.location.qN(n);u=h(a,c,n,p,r,l,S);Y3E=19;break;case 27:l.z5a&&(q=2292+12*Math.ceil(n.duration/2E3));w=this.Wi;Y3E=25;break;}}};D1E=50;break;}}function r(a,b){var N1E,c,a1K,g6E;N1E=2;while(N1E!==7){a1K="h";a1K+="ea";a1K+="d";a1K+="er";switch(N1E){case 2:c={};a=b[0].split(".");c.movieId=a[0];c.streamId=a[1];N1E=9;break;case 9:q011.d9K(3);g6E=q011.K9K(3120,12,40,13);c.isHeader=a1K===a[g6E];return new ba(function(a,d){var c1E,n1K;c1E=2;while(c1E!==1){n1K="bill";n1K+="b";n1K+="o";n1K+="ard";switch(c1E){case 2:this.Wi.TR(n1K,b,function(b,g){var I1E,h,j1E,k6K,b6K;I1E=2;while(I1E!==5){switch(I1E){case 2:try{j1E=2;while(j1E!==4){k6K="Missin";k6K+="g or inval";k6K+="id media data parts for stream ";b6K="Mis";b6K+="sin";b6K+="g or invalid header data parts for stream";b6K+=" ";switch(j1E){case 1:d(b);j1E=5;break;case 5:a(h);j1E=4;break;case 8:j1E=h.Mb?7:6;break;case 2:j1E=b?1:3;break;case 6:j1E=void 0===h.ga||void 0===h.offset||void 0===h.ma||void 0===h.Lh||void 0===h.Am?14:5;break;case 3:Object.keys(g).map(function(a){var S1E,T1E,b,h,Y4E,c6K,Y6K;S1E=2;while(S1E!==6){c6K="fr";c6K+="a";c6K+="gm";c6K+="ents";Y6K="m";Y6K+="et";Y6K+="a";Y6K+="da";Y6K+="ta";switch(S1E){case 4:try{T1E=2;while(T1E!==1){switch(T1E){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g[a])));T1E=1;break;}}}catch(ec){h=g[a];}S1E=3;break;case 5:S1E=Y6K===b?4:9;break;case 2:b=a.substr(a.lastIndexOf(".")+1);S1E=5;break;case 8:try{Y4E=2;while(Y4E!==1){switch(Y4E){case 4:c[b]=g[a];Y4E=6;break;Y4E=1;break;case 2:c[b]=g[a];Y4E=1;break;}}}catch(ec){d(ec);}S1E=6;break;case 3:Object.keys(h).map(function(a){var O4E;O4E=2;while(O4E!==1){switch(O4E){case 4:c[a]=h[a];O4E=5;break;O4E=1;break;case 2:c[a]=h[a];O4E=1;break;}}});S1E=6;break;case 9:S1E=c6K===b?8:7;break;case 7:c[b]=g[a];S1E=6;break;}}});h=t(c);j1E=8;break;case 7:h.Qq&&h.ma&&h.U&&void 0!==h.U.nn&&void 0!==h.U.offset&&void 0!==h.U.wd&&h.U.wd.length&&void 0!==h.U.sizes&&h.U.sizes.length||(b=b6K+h.Za,d(b));j1E=5;break;case 14:b=k6K+h.Za,d(b);j1E=5;break;}}}catch(rc){d(rc);}I1E=5;break;}}});c1E=1;break;}}}.bind(this));break;}}}function t(a){var L3E,b;L3E=2;while(L3E!==3){switch(L3E){case 2:b={Mb:a.isHeader,O:a.mediaType,M:a.movieId,Za:a.streamId,L:a.bitrate,location:a.location,Rc:a.serverId,ga:a.bytes,offset:a.offset,Qq:a.headerData,U:a.fragments,Se:a.drmHeader,response:a.response,ma:a.timescale,La:a.frameDuration,Lh:a.startTicks,Am:a.durationTicks,Qd:a.saveToDisk};!b.U||b.U instanceof ArrayBuffer||(b.U.nn=b.U.startTicks,b.U.offset=b.U.offset,b.U.ma=b.U.timescale,b.U.sizes=new Uint32Array(a.sizes),b.U.wd=new Uint32Array(a.durations));return b;break;}}}function m(a,b){var i4E,c,T6K,e6K;i4E=2;while(i4E!==3){T6K="m";T6K+="edi";T6K+="acache-error";e6K="med";e6K+="iacac";e6K+="h";e6K+="e";switch(i4E){case 2:c=new va();c.on(a,e6K,function(a){var Z4E,p6K;Z4E=2;while(Z4E!==4){p6K="m";p6K+="ed";p6K+="i";p6K+="acach";p6K+="e";switch(Z4E){case 1:a.keys||a.items.map(function(a){var R4E;R4E=2;while(R4E!==1){switch(R4E){case 4:return a.key;break;R4E=1;break;case 2:return a.key;break;}}});Z4E=5;break;case 2:Z4E=a.keys||a.items?1:5;break;case 5:b.Ea(p6K,a);Z4E=4;break;case 7:b.Ea("",a);Z4E=5;break;Z4E=4;break;}}});c.on(a,T6K,function(a){var d4E,D6K,X6K;d4E=2;while(d4E!==5){D6K="mediac";D6K+="a";D6K+="che";X6K="e";X6K+="r";X6K+="r";X6K+="o";X6K+="r";switch(d4E){case 2:a.type=X6K;b.Ea(D6K,a);d4E=5;break;}}});i4E=3;break;}}}function y(a){var C3E;C3E=2;while(C3E!==1){switch(C3E){case 2:return{priority:a.ad,movieId:a.M,headers:Object.create(null),saveToDisk:a.Qd,stats:{},firstSelectedStreamBitrate:a.el,initSelectionReason:a.Jm,histDiscountedThroughputValue:a.Tl,histTdigest:a.ek,histAge:a.il};break;}}}function z(a){var W3E,b,c,d;W3E=2;while(W3E!==13){switch(W3E){case 5:W3E=a&&a.data?4:13;break;case 2:b=[];W3E=5;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].O]={Za:c,dk:a.headers[c],data:d});}b.el=a.el;b.Jm=a.Jm;b.Tl=a.Tl;W3E=7;break;case 7:b.il=a.il;b.ek=a.ek;return b;break;}}}function n(a,b){var F1E,c;F1E=2;while(F1E!==4){switch(F1E){case 2:c=Object.keys(a).map(function(c){var s1E;s1E=2;while(s1E!==1){switch(s1E){case 2:return ba.resolve(a[c]).then(r.bind(this,b));break;}}}.bind(this));return ba.all(c).then(function(a){var h1E;h1E=2;while(h1E!==1){switch(h1E){case 2:a.sort(function(a,b){var t1E;t1E=2;while(t1E!==1){switch(t1E){case 2:return a.Mb===b.Mb?0:a.Mb?-1:1;break;}}}).map(l.bind(this,b));h1E=1;break;}}}.bind(this));break;}}}function q(a,b,c,d){var b4E;b4E=2;while(b4E!==26){switch(b4E){case 20:this.aNa=p.bind(this);this.Ss=(this.Ln.ly||this.Ln.lxa)&&0<(this.Ln.vA||(M.options||{}).MQ||0);b4E=18;break;case 7:this.Pv=[];b4E=6;break;case 2:this.Ra=a;this.Cl=Object.create(null);this.Ln=b;this.Lc=Object.create(null);this.dz=0;this.ni=[];this.BE=b.gO;b4E=7;break;case 6:this.VL=!1;this.jz=[];this.Jv={};this.on=this.addEventListener=qa.addEventListener;b4E=11;break;case 11:this.removeEventListener=qa.removeEventListener;this.emit=this.Ea=qa.Ea;b4E=20;break;case 18:this.eMa=this.Ln.pvb;this.Wi=this.XX=void 0;this.Ss&&(this.Ln.vA||(this.Ln.vA=(M.options||{}).MQ||0),this.BM=new ba(function(a,b){var c4E;c4E=2;while(c4E!==1){switch(c4E){case 2:(void 0!==d?d.Uoa:function(a){var j4E;j4E=2;while(j4E!==1){switch(j4E){case 4:return aa.Uoa(M,this.Ln,a);break;j4E=1;break;case 2:return aa.Uoa(M,this.Ln,a);break;}}}.bind(this))(function(c){var O3E;O3E=2;while(O3E!==5){switch(O3E){case 2:this.Wi=c;(this.XX=c.Gt)?b(this.XX):(m(this.Wi,this),a());O3E=5;break;}}}.bind(this));c4E=1;break;}}}.bind(this)));b4E=15;break;case 15:this.Ej=c;V.call(this);b4E=26;break;}}}}());},function(f,c,a){var k,h;function b(){this.Np=this.pE=this.hM=this.uM=this.ZL=null;}function d(a){this.H=a;this.Os=[];this.Al=new b();this.xE();}k=a(8);a(13);a(23);h=a(10);new h.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.xh=function(a){var b;b=!1;a&&k.has(a,"ens")&&k.has(a,"lns")&&k.has(a,"fns")&&k.has(a,"d")&&k.has(a,"t")&&(this.ZL=a.ens,this.uM=a.lns,this.hM=a.fns,this.pE=a.d,this.Np=h.time.gR(a.t),b=!0);return b;};b.prototype.me=function(){var a;if(k.Ja(this.ZL)||k.Ja(this.uM)||k.Ja(this.hM)||k.Ja(this.pE)||k.Ja(this.Np))return null;a={d:this.pE,t:h.time.MH(this.Np)};a.ens=this.ZL;a.lns=this.uM;a.fns=this.hM;return a;};b.prototype.get=function(){var a,b;a=this.me();if(a){b=new Date(h.time.MH(this.Np));a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};d.prototype.xE=function(){var a;a=h.storage.get("sth");a&&this.QE(a);};d.prototype.QE=function(a){var c,d;c=null;d=this.H;a.forEach(function(a){var d;d=new b();d.xh(a)?(c=!0,this.Os.push(d)):k.Ja(c)&&(c=!1);},this);this.Os=this.Os.filter(function(a){return a.pE>=d.TQ;});this.Os.sort(function(a,b){return a.Np-b.Np;});return k.Ja(c)?!0:c;};d.prototype.HX=function(){var a;a=[];this.Os.forEach(function(b){a.push(b.me());},this);return a;};d.prototype.save=function(){var a,c,d;a=this.HX();c=this.H;d=this.Al.me();d&&d.d>=c.TQ&&(a.push(d),this.Os.push(this.Al));a.length>c.GQ&&(a=a.slice(a.length-c.GQ,a.length));this.Al=new b();a&&h.storage.set("sth",a);};d.prototype.reset=function(){this.Al=new b();};d.prototype.J2a=function(){return this.Al.get();};d.prototype.v4a=function(){return this.Os.length+1;};d.prototype.OQa=function(a){this.Al.ZL=a;this.Al.Np=h.time.fa();};d.prototype.YQa=function(a){this.Al.uM=a;this.Al.Np=h.time.fa();};d.prototype.TQa=function(a,b){this.Al.hM=a;this.Al.Np=h.time.fa();this.Al.pE=b;};f.K=d;},function(f,c,a){var d,k;function b(a){this.H=a;this.xE();}d=a(8);k=a(10);new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.me();k.storage.set("nh",a);};b.prototype.Ahb=function(){this.Mv||(this.Mv=!0,this.Sp=k.time.fa());};b.prototype.Nhb=function(){var a;if(this.Mv){a=k.time.fa();this.Wp+=a-this.Sp;this.Sp=a;this.Mv=!1;this.vE=null;}};b.prototype.$oa=function(a,b){this.Mv&&(b>this.Sp&&(this.Wp+=b-this.Sp,this.Sp=b),null===this.vE||a>this.vE)&&(a=b-a,this.nz.push([this.Wp-a,a]),this.JY(),this.vE=b);};b.prototype.JY=function(){var a;a=this.Wp-this.H.q$a;this.nz=this.nz.filter(function(b){return b[0]>a;});};b.prototype.xE=function(){var a;a=k.storage.get("nh");this.QE(a)||(this.Sp=k.time.fa(),this.Wp=0,this.Mv=!1,this.vE=null,this.nz=[]);};b.prototype.QE=function(a){if(!(a&&d.has(a,"t")&&d.has(a,"s")&&d.has(a,"i")&&d.aa(a.t)&&d.aa(a.s)&&d.isArray(a.i)))return!1;this.Sp=k.time.gR(1E3*a.t);this.Wp=1E3*a.s;this.Mv=!1;this.nz=a.i.map(function(a){return[1E3*a[0],a[1]];});this.vE=null;return!0;};b.prototype.me=function(){return this.Mv?{t:k.time.now()/1E3|0,s:(this.Wp+(k.time.fa()-this.Sp))/1E3|0,i:this.nz.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:k.time.MH(this.Sp)/1E3|0,s:this.Wp/1E3|0,i:this.nz.map(function(a){return[a[0]/1E3|0,a[1]];})};};f.K=b;},function(f,c,a){var k,h,g,p,n,r,l;function b(a){var b;if(!a.NY){b=a.Vna();a.cg.Sv(b["default"].sa,a.Cg);a.cg.ky(b.kj?b.kj.Wm:void 0,b.kj?b.kj.dC:void 0);k.Ja(a.Bb)||(a.NY=!0);}}function d(a,b,c){var d;this.H=c;this.$i={};this.kz=c.kz;this.cga=new r(this.kz);this.reset();this.Js=a;this.cg=b;this.xga=h.oe.name();this.cg.CS(this.xga);this.ME=this.hv=0;this.eE=[];h.events.on("networkchange",function(a){this.xga=a;this.cg.CS(a);}.bind(this));d=c.u0;d&&(d={bc:g.Uc.hD,ja:{sa:parseInt(d,10),ug:0},Le:{CSa:0,ug:0},Im:{CSa:0,ug:0}},this.get=function(){return d;});}k=a(8);h=a(10);g=a(13);c=a(23);p=a(24).EventEmitter;n=c.JIa;r=a(312).daa;l=new h.Console("ASEJS_NETWORK_MONITOR","media|asejs");d.prototype=Object.create(p);Object.defineProperties(d.prototype,{startTime:{get:function(){return this.qc;}},bc:{get:function(){return this.Cg;}},Nj:{get:function(){return this.hv;}},JQa:{get:function(){return this.eE;}}});d.prototype.PLa=function(){var a,b,c;a=this.H;b=a.zX;c=this.cga;return a.dMa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};d.prototype.reset=function(){var a,c,d;a=this.H.zX;c=this.cga;d=this.H;this.location=null;this.$i=this.PLa();this.Tp=c.create("respconn-ewma",a);this.Jp=c.create("respconn-ewma",a);this.Cg=g.Uc.HAVE_NOTHING;this.iQa=function(){b(this);}.bind(this);this.hN=void 0;this.Es=this.Kc=this.Bb=this.qc=null;this.nLa=this.eN=0;this.LOa=!1;if(d.Fq||"rlabr"===d.Xx)this.$i.zua=new n(d.Fa.numB,d.Fa.bSizeMs,d);d.mua&&(this.ME=this.hv=0,this.eE=[]);};d.prototype.ES=function(a){var b;b=this.$i;if(a!==this.location){k.R(this.hN)||(clearInterval(this.hN),this.hN=void 0);k.Ja(this.location)&&(this.eN=0,this.qc=null);if(!k.Ja(a)){this.Cg=g.Uc.HAVE_NOTHING;for(var c in b)b[c]&&b[c].reset&&b[c].reset();(this.H.Fq||"rlabr"===this.H.Xx)&&b.zua.reset();this.Tp.reset();this.Jp.reset();}k.Ja(this.qc)||(this.eN+=(k.Ja(this.Bb)?h.time.fa():this.Bb)-this.qc);this.Bb=this.qc=null;this.Kc=0;this.location=a;this.cg.ES(a);}};d.prototype.CS=function(a){this.cg.CS(a);};d.prototype.SQa=function(a){this.$i.QoEEvaluator?l.warn("monitor (QoEEvaluator) already existed."):this.$i.QoEEvaluator=a;};d.prototype.qeb=function(){delete this.$i.QoEEvaluator;};d.prototype.rm=function(a,b){var c;c=this.$i["req-pacer"];c&&c.rm(a,b);};d.prototype.h4a=function(){return this.$i["req-pacer"];};d.prototype.eZ=function(a,c,d){var h,f;h=this.H;f=this.$i;if(k.R(c))l.warn("addDataReceived called with undefined start time");else{h.hMa&&10>d-c?c=d-10:0===d-c&&(c=d-1);for(var p in f)f[p]&&f[p].add&&f[p].add(a,c,d);this.Cg=Math.max(this.Cg,g.Uc.Ur);k.Ja(this.qc)&&(this.qc=c,this.Bb=null,this.NY=!1,this.Kc=0);k.Ja(this.Bb)||(c>this.Bb&&(this.qc+=c-this.Bb),this.Bb=null,this.NY=!1);this.Kc+=a;this.Cg<g.Uc.vn&&(d-this.qc>h.vNa||this.Kc>h.uNa)&&(this.Cg=g.Uc.vn);this.Cg<g.Uc.hD&&(d-this.qc>h.POa||this.Kc>h.OOa)&&(!this.LOa||this.nLa>h.tNa)&&(this.Cg=g.Uc.hD,b(this),this.hN=setInterval(this.iQa,h.cNa));k.Ja(this.Es)||(c-this.Es>h.Sga?this.Js.$oa(this.Es,c):d-c>h.Sga&&this.Js.$oa(c,d));this.Es=Math.max(d,this.Es);}};d.prototype.fq=function(a){this.Tp.add(a);this.cg.fq(a);};d.prototype.bq=function(a){this.Jp.add(a);this.cg.bq(a);};d.prototype.start=function(a){var b;k.Ja(this.Es)&&!k.Ja(this.Bb)&&(this.Es=a);b=this.$i;if(this.H.Y7)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};d.prototype.stop=function(a){var b,c;b=this.$i;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Bb=k.Ja(this.Bb)?a:Math.min(this.Bb,a);this.Es=null;};d.prototype.flush=function(){var a,b;a=this.$i;for(b in a)a[b]&&a[b].flush&&a[b].flush();};d.prototype.fail=function(){this.qc=null;};d.prototype.Z2a=function(){var a,b;a=this.$i.entropy;a&&(b=a.DTa(),a.reset());return b;};d.prototype.Vna=function(){var a,b,c,d,g,f,k;a=h.time.fa();b={};c=this.$i;d=this.H;g=d.SLa;f=d.sPa;for(k in c)c[k]&&c[k].get&&(b[k]=c[k].get(a),"iqr"===c[k].type&&(b.kj=b[k]),"tdigest"===c[k].type&&(b.tk=b[k]));b["default"]=g&&b[g]?b[g]:b["throughput-ewma"];"none"!==d.n7&&"none"!==f&&(b.Rua=f&&b[f]?b[f]:b["throughput-sw"]);return b;};d.prototype.get=function(){var a,b,c,d,g,f;a=this.Vna();b=a["default"];c=this.Tp.get();d=this.Jp.get();g=this.H;if(a.Rua)f=a.Rua,b=k.aa(b.sa)&&k.aa(f.sa)&&b.sa>f.sa&&0<f.sa?f:b;a.bc=this.Cg;a.ja=b;a.Le=c;a.Im=d;if(g.Fq||"rlabr"===g.Xx)a.efb=this.$i.zua.B2();b=this.eN+!k.Ja(this.qc)?(k.Ja(this.Bb)?h.time.fa():this.Bb)-this.qc:0;a.time=b;return a;};d.prototype.dua=function(a,b){1===++this.hv&&(this.emit("active",a),this.start(a));b&&this.eE.push(b);};d.prototype.hua=function(){++this.ME;};d.prototype.fua=function(a,b,c){b&&--this.ME;--this.hv;this.H.mua&&(this.hv=Math.max(this.hv,0),this.ME=Math.max(this.ME,0));0===this.hv&&(this.stop(a),this.emit("inactive",a));c&&(a=this.eE.indexOf(c),0<=a&&this.eE.splice(a,1));};f.K=d;},function(f){(function(){var l6K,t6K;function c(){var i6K;i6K=2;while(i6K!==5){switch(i6K){case 2:this.Ls=this.Kc=0;this.Aa=this.qc=void 0;i6K=5;break;}}}l6K=2;while(l6K!==8){t6K="1S";t6K+="IY";t6K+="bZrN";t6K+="JC";t6K+="p9";switch(l6K){case 2:c.prototype.start=function(a){var j6K;j6K=2;while(j6K!==1){switch(j6K){case 2:this.qc?a<this.qc?(this.Ls+=this.qc-a,this.qc=a):a>this.Aa&&(this.Aa=this.qc=a):this.Aa=this.qc=a;j6K=1;break;}}};c.prototype.stop=function(a){var q6K;q6K=2;while(q6K!==1){switch(q6K){case 2:this.Aa&&a>this.Aa&&(this.Ls+=a-this.Aa,this.Aa=a);q6K=1;break;}}};c.prototype.add=function(a,b,c){var x6K;x6K=2;while(x6K!==4){switch(x6K){case 2:this.start(b);this.stop(c);this.Kc+=a;x6K=4;break;}}};l6K=4;break;case 4:c.prototype.get=function(){var A6K;A6K=2;while(A6K!==1){switch(A6K){case 2:return{sa:this.Ls?Math.floor(8*this.Kc/this.Ls):null,vZa:this.Ls?this.Ls:0};break;}}};f.K=c;t6K;l6K=8;break;}}}());},function(f,c,a){var d;function b(a){var b,c;b=a.tb;c=a.mb;this.Qv=a.sw||4E3;this.XPa=b;this.sNa=c;this.reset();}d=a(10);new d.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.KM=function(a,b){this.Kc+=b;this.ni.push({t:a,co:b});this.ni.sort(function(a,b){return a.t-b.t;});};b.prototype.HE=function(){var a;if(null!==this.zs&&null!==this.Lj&&0!==this.ni.length)for(;this.zs-this.Lj>this.Qv&&this.ni.length;){a=this.ni.shift();this.Kc-=a.co;this.Lj=a.t;}};b.prototype.reset=function(){this.ni=[];this.Lj=this.zs=null;this.Kc=0;};b.prototype.setInterval=function(a){this.Qv=a;this.HE();};b.prototype.j4a=function(){var a;a=d.time.fa();return 8*this.Kc/(a-this.Lj);};b.prototype.WTa=function(a){return null===this.zs||null===this.Lj?!0:a<=this.sNa?!0:this.j4a()<=this.XPa;};b.prototype.rm=function(a,b){null===this.zs&&(this.zs=a);null===this.Lj&&(this.Lj=a);a>this.zs&&(this.zs=a);a<this.zs-this.Qv||(a<this.Lj&&(this.Lj=a),this.KM(a,b),this.HE());};f.K=b;},function(f,c,a){var d;function b(a){var b,c;b=a.sw;c=a.mw;this.Qv=b;this.$W={uhd:a.uhdl,hd:a.hdl};this.Hg=Math.max(Math.ceil(1*b/c),1);this.wNa=a.mins||1;d.call(this,b,c);this.reset();}d=a(105);new(a(10)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(d.prototype);b.prototype.flush=function(){this.ec.map(function(a,b){this.Cia(a,this.T1(b));},this);};b.prototype.DTa=function(){var a,b,c,d,f,r,l,y;a=this.$W;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.IY[b];f=this.GY[b];if(d.first){r=d.first;l=d.Fx;void 0!==l&&(f[r][l]+=1);d.first=void 0;}for(var d=[],r=0,c=l=c.length+1,m=0;m<l;m++){for(var q=0,z=0;z<c;z++)q+=f[z][m];r+=q;d.push(q);}q=-1;if(r>this.wNa){for(m=q=0;m<l;m++)if(0<d[m])for(z=0;z<c;z++){y=f[z][m];0<y&&(q-=y*Math.log(1*y/d[m]));}q/=r*Math.log(2);}this.vX[b]=q;}return this.vX;};b.prototype.Cia=function(a,b){var c,f,k;for(var c=this.Hg,d=this.$W;this.WL.length>=c;)this.WL.shift();for(;this.XL.length>=c;)this.XL.shift();this.WL.push(a);this.XL.push(b);a=this.WL.reduce(function(a,b){return a+b;},0);b=this.XL.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var h in d)if(d.hasOwnProperty(h)){b=this.IY[h];c=this.GY[h];f=this.pdb(a,d[h]);k=b.Fx;void 0!==k?c[f][k]+=1:b.first=f;b.Fx=f;}}};b.prototype.pdb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Cia(this.ec[0],this.T1(0));d.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.IY={};this.WL=[];this.XL=[];this.GY={};this.vX={};a=this.$W;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.GY,f=b,n,r=void 0,l=Array(r),r=n=a[b].length+1,m=0;m<r;m++){l[m]=Array(n);for(var q=0;q<n;q++)l[m][q]=0;}c[f]=l;this.IY[b]={first:void 0,Fx:void 0};this.vX[b]=0;}d.prototype.reset.call(this);};f.K=b;},function(f,c,a){var d,k,h,g,p,n,r,l,m,q;function b(a){this.TLa=a;}c=a(311);d=c.fBa;k=c.dBa;h=a(310).eBa;g=a(309);p=a(308);n=a(193);r=a(306);l=a(571);m=a(570);q=a(569);b.prototype.constructor=b;b.prototype.create=function(a,b){var c,f,u,v;f=this.TLa[a];u=b[a];v={};f&&Object.keys(f).forEach(function(a){v[a]=f[a];});u&&Object.keys(u).forEach(function(a){v[a]=u[a];});switch(v.type){case"slidingwindow":c=new h(v.mw);break;case"discontiguous-ewma":c=new k(v.mw,v.wt);break;case"iqr":c=new g(v.mx,v.mn,v.bw,v.iv);break;case"tdigest":c=new p(v);break;case"discrete-ewma":c=new d(v.hl,v["in"]);break;case"tdigest-history":c=new n(v);break;case"iqr-history":c=new r(v);break;case"avtp":c=new q();break;case"entropy":c=new l(v);break;case"req-pacer":c=new m(v);}c&&(c.type=v.type);return c;};f.K=b;},function(f,c,a){function b(a){this.data=a;this.right=this.left=null;}function d(a){this.Wc=null;this.Ti=a;this.size=0;}c=a(307);b.prototype.De=function(a){return a?this.right:this.left;};b.prototype.ml=function(a,b){a?this.right=b:this.left=b;};d.prototype=new c();d.prototype.bB=function(a){if(null===this.Wc)return this.Wc=new b(a),this.size++,!0;for(var c=0,d=null,f=this.Wc;;){if(null===f)return f=new b(a),d.ml(c,f),ret=!0,this.size++,!0;if(0===this.Ti(f.data,a))return!1;c=0>this.Ti(f.data,a);d=f;f=f.De(c);}};d.prototype.remove=function(a){var c,d,f,l,r;if(null===this.Wc)return!1;c=new b(void 0);d=c;d.right=this.Wc;for(var f=null,k=null,r=1;null!==d.De(r);){f=d;d=d.De(r);l=this.Ti(a,d.data);r=0<l;0===l&&(k=d);}return null!==k?(k.data=d.data,f.ml(f.right===d,d.De(null===d.left)),this.Wc=c.right,this.size--,!0):!1;};f.K=d;},function(f,c,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function d(a){this.Wc=null;this.Ti=a;this.size=0;}function k(a){return null!==a&&a.red;}function h(a,b){var c;c=a.De(!b);a.ml(!b,c.De(b));c.ml(b,a);a.red=!0;c.red=!1;return c;}function g(a,b){a.ml(!b,h(a.De(!b),!b));return h(a,b);}c=a(307);b.prototype.De=function(a){return a?this.right:this.left;};b.prototype.ml=function(a,b){a?this.right=b:this.left=b;};d.prototype=new c();d.prototype.bB=function(a){var c,d,f,p,l,m,q,w,x;c=!1;if(null===this.Wc)this.Wc=new b(a),c=!0,this.size++;else{d=new b(void 0);f=0;p=0;l=null;m=d;q=null;w=this.Wc;for(m.right=this.Wc;;){null===w?(w=new b(a),q.ml(f,w),c=!0,this.size++):k(w.left)&&k(w.right)&&(w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w)&&k(q)){x=m.right===l;w===q.De(p)?m.ml(x,h(l,!p)):m.ml(x,g(l,!p));}x=this.Ti(w.data,a);if(0===x)break;p=f;f=0>x;null!==l&&(m=l);l=q;q=w;w=w.De(f);}this.Wc=d.right;}this.Wc.red=!1;return c;};d.prototype.remove=function(a){var c,d,q,f,w,m,x;if(null===this.Wc)return!1;c=new b(void 0);d=c;d.right=this.Wc;for(var f=null,p,l=null,m=1;null!==d.De(m);){q=m;p=f;f=d;d=d.De(m);w=this.Ti(a,d.data);m=0<w;0===w&&(l=d);if(!k(d)&&!k(d.De(m)))if(k(d.De(!m)))p=h(d,m),f.ml(q,p),f=p;else if(!k(d.De(!m))&&(w=f.De(!q),null!==w))if(k(w.De(!q))||k(w.De(q))){x=p.right===f;k(w.De(q))?p.ml(x,g(f,q)):k(w.De(!q))&&p.ml(x,h(f,q));q=p.De(x);q.red=!0;d.red=!0;q.left.red=!1;q.right.red=!1;}else f.red=!1,w.red=!0,d.red=!0;}null!==l&&(l.data=d.data,f.ml(f.right===d,d.De(null===d.left)),this.size--);this.Wc=c.right;null!==this.Wc&&(this.Wc.red=!1);return null!==l;};f.K=d;},function(f,c,a){f.K={EIa:a(574),Qlb:a(573)};},function(f){function c(a){this.hz=a;this.Vc=0;this.Gz=null;}c.prototype.add=function(a,b,c){null!==this.Gz&&b>this.Gz&&(this.Vc+=b-this.Gz,this.Gz=null);this.hz.add(a,b-this.Vc,c-this.Vc,this.Vc);};c.prototype.stop=function(a){null===this.Gz&&(this.Gz=a);};c.prototype.Y5=function(a,b){return this.hz.Y5(a,b);};c.prototype.get=function(){return this.hz.get();};c.prototype.reset=function(){this.hz.reset();};c.prototype.toString=function(){return this.hz.toString();};f.K=c;},function(f){function c(a,b,c){this.Mz=a;this.Hg=Math.floor((a+b-1)/b);this.Ob=b;this.XOa=c;this.reset();}c.prototype.shift=function(){this.ec.shift();this.Pp.shift();};c.prototype.update=function(a,b){this.ec[a]+=b;};c.prototype.push=function(a){this.ec.push(0);this.Pp.push(a?a:0);this.Aa+=this.Ob;};c.prototype.add=function(a,b,c,f){var d,g;if(null===this.Aa){d=Math.max(Math.floor((c-b+this.Ob-1)/this.Ob),1);for(this.Aa=b;this.ec.length<d;)this.push(f);}for(;this.Aa<c;)if(this.push(f),this.XOa)for(;1<this.ec.length&&c+f-(this.Aa-this.Ob*this.ec.length+this.Pp[0])>this.Mz;)this.shift();else this.ec.length>this.Hg&&this.shift();if(b>this.Aa-this.Ob)this.update(this.ec.length-1,a);else if(b==c)f=this.ec.length-Math.max(Math.ceil((this.Aa-c)/this.Ob),1),0<=f&&this.update(f,a);else for(f=1;f<=this.ec.length;++f){d=this.Aa-f*this.Ob;g=d+this.Ob;if(!(d>c)){if(g<b)break;this.update(this.ec.length-f,Math.round(a*(Math.min(g,c)-Math.max(d,b))/(c-b)));}}for(;this.ec.length>this.Hg;)this.shift();};c.prototype.reset=function(){this.ec=[];this.Pp=[];this.Aa=null;};c.prototype.setInterval=function(a){this.Hg=Math.floor((a+this.Ob-1)/this.Ob);};f.K=c;},function(f,c,a){var k,h,g,p;function b(a,b,c){k.call(this,a,b,c);}function d(a,c){h.call(this,new b(a,c,!1));}k=a(577);h=a(576);g=a(31).g2a;p=a(31).V4a;b.prototype=Object.create(k.prototype);b.prototype.sa=function(){return Math.floor(8*g(this.ec)/this.Ob);};b.prototype.ug=function(){return Math.floor(64*p(this.ec)/(this.Ob*this.Ob));};b.prototype.get=function(){return{sa:this.sa(),ug:this.ug(),wtb:this.ec.length};};b.prototype.toString=function(){return"bsw("+this.Mz+","+this.Ob+","+this.Hg+")";};d.prototype=Object.create(h.prototype);d.prototype.setInterval=function(a){this.hz.setInterval(a);};f.K=d;},function(f,c,a){var d;function b(a){this.tS=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.tS[b]=a.charCodeAt(b);}d=new(a(10)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.tS.length;if(void 0===this.tS)d.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var f=0;f<a.length;++f)c+=String.fromCharCode(this.tS[f%b]^a.charCodeAt(f));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b;b="";a=decodeURIComponent(a);for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.IAb(c)^a.charCodeAt(c));return b;};f.K=b;},function(f){f.K="function"===typeof Object.create?function(c,a){c.pib=a;c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});}:function(c,a){function b(){}c.pib=a;b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;};},function(f){f.K=function(c){return c&&"object"===typeof c&&"function"===typeof c.T_&&"function"===typeof c.fill&&"function"===typeof c.fAb;};},function(f,c,a){(function(b,d){var A,N,G,D;function f(a,b){var d;d={r7:[],Zh:g};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.fA=arguments[3]);w(b)?d.O7=b:b&&c.jMa(d,b);F(d.O7)&&(d.O7=!1);F(d.depth)&&(d.depth=2);F(d.fA)&&(d.fA=!1);F(d.Uka)&&(d.Uka=!0);d.fA&&(d.Zh=h);return n(d,a,d.depth);}function h(a,b){return(b=f.eib[b])?"\u001b["+f.fA[b][0]+"m"+a+"\u001b["+f.fA[b][1]+"m":a;}function g(a){return a;}function p(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function n(a,b,d){var g,f,h,k,u;if(a.Uka&&b&&W(b.aH)&&b.aH!==c.aH&&(!b.constructor||b.constructor.prototype!==b)){g=b.aH(d,a);t(g)||(g=n(a,g,d));return g;}if(g=r(a,b))return g;f=Object.keys(b);h=p(f);a.O7&&(f=Object.getOwnPropertyNames(b));if(O(b)&&(0<=f.indexOf("message")||0<=f.indexOf("description")))return l(b);if(0===f.length){if(W(b))return a.Zh("[Function"+(b.name?": "+b.name:"")+"]","special");if(P(b))return a.Zh(RegExp.prototype.toString.call(b),"regexp");if(ea(b))return a.Zh(Date.prototype.toString.call(b),"date");if(O(b))return l(b);}g="";k=!1;u=["{","}"];y(b)&&(k=!0,u=["[","]"]);W(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");P(b)&&(g=" "+RegExp.prototype.toString.call(b));ea(b)&&(g=" "+Date.prototype.toUTCString.call(b));O(b)&&(g=" "+l(b));if(0===f.length&&(!k||0==b.length))return u[0]+g+u[1];if(0>d)return P(b)?a.Zh(RegExp.prototype.toString.call(b),"regexp"):a.Zh("[Object]","special");a.r7.push(b);f=k?m(a,b,d,h,f):f.map(function(c){return q(a,b,d,h,c,k);});a.r7.pop();return z(f,g,u);}function r(a,b){if(F(b))return a.Zh("undefined","undefined");if(t(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Zh(b,"string");if(x(b))return a.Zh(""+b,"number");if(w(b))return a.Zh(""+b,"boolean");if(null===b)return a.Zh("null","null");}function l(a){return"["+Error.prototype.toString.call(a)+"]";}function m(a,b,c,d,g){for(var f=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?f.push(q(a,b,c,d,String(h),!0)):f.push("");g.forEach(function(g){g.match(/^\d+$/)||f.push(q(a,b,c,d,g,!0));});return f;}function q(a,b,c,d,g,f){var h,k;b=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]};b.get?k=b.set?a.Zh("[Getter/Setter]","special"):a.Zh("[Getter]","special"):b.set&&(k=a.Zh("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,g)||(h="["+g+"]");k||(0>a.r7.indexOf(b.value)?(k=null===c?n(a,b.value,null):n(a,b.value,c-1),-1<k.indexOf("\n")&&(k=f?k.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+a;}).join("\n"))):k=a.Zh("[Circular]","special"));if(F(h)){if(f&&g.match(/^\d+$/))return k;h=JSON.stringify(""+g);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.Zh(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.Zh(h,"string"));}return h+": "+k;}function z(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function y(a){return Array.isArray(a);}function w(a){return"boolean"===typeof a;}function x(a){return"number"===typeof a;}function t(a){return"string"===typeof a;}function F(a){return void 0===a;}function P(a){return M(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function M(a){return"object"===typeof a&&null!==a;}function ea(a){return M(a)&&"[object Date]"===Object.prototype.toString.call(a);}function O(a){return M(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function W(a){return"function"===typeof a;}function U(a){return 10>a?"0"+a.toString(10):a.toString(10);}function Y(){var a,b;a=new Date();b=[U(a.getHours()),U(a.getMinutes()),U(a.getSeconds())].join(":");return[a.getDate(),D[a.getMonth()],b].join(" ");}A=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(f(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,g=d.length,b=String(a).replace(A,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(va){return"[Circular]";}default:return a;}}),h=d[c];c<g;h=d[++c])b=null!==h&&M(h)?b+(" "+f(h)):b+(" "+h);return b;};c.TYa=function(a,g){var f;if(F(b.Ezb))return function(){return c.TYa(a,g).apply(this,arguments);};if(!0===d.Hyb)return a;f=!1;return function(){if(!f){if(d.pBb)throw Error(g);d.sBb?console.trace(g):console.error(g);f=!0;}return a.apply(this,arguments);};};N={};c.Nub=function(a){var b;F(G)&&(G=d.h0a.Ipb||"");a=a.toUpperCase();if(!N[a])if(new RegExp("\\b"+a+"\\b","i").test(G)){b=d.jzb;N[a]=function(){var d;d=c.format.apply(c,arguments);console.error("%s %d: %s",a,b,d);};}else N[a]=function(){};return N[a];};c.aH=f;f.fA={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.eib={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};c.isArray=y;c.A6a=w;c.Ja=function(a){return null===a;};c.yxb=function(a){return null==a;};c.aa=x;c.$c=t;c.Cxb=function(a){return"symbol"===typeof a;};c.R=F;c.spa=P;c.Ad=M;c.dH=ea;c.ZP=O;c.rb=W;c.opa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};c.isBuffer=a(581);D="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");c.log=function(){console.log("%s - %s",Y(),c.format.apply(c,arguments));};c.l6a=a(580);c.jMa=function(a,b){if(b&&M(b))for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];};}.call(this,a(169),a(313)));},function(f,c,a){(function(){var m6K,c,H9i,J9i;function b(a,b,d){var r6K;r6K=2;while(r6K!==5){switch(r6K){case 2:q011.k9i(0);c.call(this,q011.K9i(a,b),b);this.config=d;r6K=5;break;}}}m6K=2;while(m6K!==12){H9i="RLT";H9i+="P";H9i+="UT";H9i+="_ASE";H9i+="JS";J9i="1S";J9i+="IYbZr";J9i+="NJCp";J9i+="9";switch(m6K){case 9:b.prototype.B2=function(){var g6K;g6K=2;while(g6K!==1){switch(g6K){case 2:return this.get(this.config.Fa.fillS,this.config.Fa.fillHl);break;}}};b.prototype.stop=function(a){var Z6K;Z6K=2;while(Z6K!==1){switch(Z6K){case 2:c.prototype.stop.call(this,a);Z6K=1;break;}}};b.prototype.reset=function(){var o6K;o6K=2;while(o6K!==1){switch(o6K){case 4:c.prototype.reset.call(this);o6K=2;break;o6K=1;break;case 2:c.prototype.reset.call(this);o6K=1;break;}}};b.prototype.toString=function(){var H6K,W9i,D9i,d9i;H6K=2;while(H6K!==1){W9i="r";W9i+="ltpu";W9i+="t(";D9i="rl";D9i+="t";D9i+="pu";D9i+="t(";d9i="r";d9i+="ltp";d9i+="ut";d9i+="(";switch(H6K){case 2:return d9i+this.Ob+")";break;case 4:return D9i-this.Ob-W9i;break;H6K=1;break;}}};f.K=b;J9i;m6K=12;break;case 2:new(a(10)).Console(H9i);c=a(105);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var s6K;s6K=2;while(s6K!==1){switch(s6K){case 4:c.prototype.shift.call(this);s6K=7;break;s6K=1;break;case 2:c.prototype.shift.call(this);s6K=1;break;}}};m6K=9;break;}}}());},function(f,c,a){var b;b=0;f.K=function(c,f){var g,k,n,r;function d(a,b){return(a["$ASE$order"+r]||0)-(b["$ASE$order"+r]||0);}g=a(38);k=this;n=f?[f]:[];r="$op$"+b++;g({value:c,addListener:function(a,b){a["$ASE$order"+r]=b;n=n.slice();n.push(a);n.sort(d);},removeListener:function(a){var b;n=n.slice();0<=(b=n.indexOf(a))&&n.splice(b,1);},set:function(a,b){var c;if(k.value!==a){c={oldValue:k.value,newValue:a};b&&g(b,c);k.value=a;a=n;b=a.length;for(var d=0;d<b;d++)a[d](c);}}},k);};},function(f){function c(a,b){this.sa=a;this.ug=b;}c.prototype.W5=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),f=0;2>f;f++)var h=Math.abs(c),g=1/(1+h/2),h=g*Math.exp(-h*h-1.26551223+g*(1.00002368+g*(.37409196+g*(.09678418+g*(-.18628806+g*(.27886807+g*(-1.13520398+g*(1.48851587+g*(-.82215223+.17087277*g))))))))),h=(0<=c?h:2-h)-b,c=c+h/(1.1283791670955126*Math.exp(-(c*c))-c*h);a=1>a?c:-c;}return this.sa-Math.sqrt(2*this.ug)*a;};f.K=c;},function(f,c,a){f.K={ODa:a(314),FFa:a(568),EFa:a(567),eob:a(306),Prb:a(193),CJa:a(566)};},function(f){function c(a,c,f,h){a.trace(":",f,":",h);c(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,f,h){f=h?f.bind(h):f;h=!1;if(a){this.console&&(f=c.bind(null,this.console,f,d));if("function"===typeof a.addEventListener)h=a.addEventListener(d,f);else if("function"===typeof a.addListener)h=a.addListener(d,f);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};f.K=a;},function(f){function c(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Kk)return this.Kk={},this.Kk[a]=[c],!0;b=this.Kk[a];return void 0===b?(this.Kk[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.Kk?this.Kk[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}f.K={addEventListener:c,on:c,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Kk)return!1;b=this.Kk[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.Kk[a],!0;b.splice(c,1);return!0;},Ea:a,emit:a,removeAllListeners:function(a){this.Kk&&(void 0===a?delete this.Kk:delete this.Kk[a]);return this;}};},function(f,c,a){(function(){function b(b,c){var M9i,d;M9i=2;while(M9i!==12){var T09="D";T09+="E";T09+="BUG:";var o09="nf-ase ve";o09+="rsi";o09+="on:";switch(M9i){case 6:this.emit=this.Ea=h.Ea;this.dN=c;x=this;M9i=12;break;case 2:d=a(505);t(o09,d,T09,!1);this.yz=this.wga=!1;M9i=3;break;case 3:this.H=b;this.Jv=[];this.on=this.addEventListener=h.addEventListener;this.removeEventListener=h.removeEventListener;M9i=6;break;}}}var t9i,c,k,h,g,p,n,r,l,m,q,z,y,w,x,t;t9i=2;while(t9i!==40){var N09="1SIY";N09+="b";N09+="Z";N09+="rNJ";N09+="Cp9";var e09="m";e09+="edia|as";e09+="e";e09+="j";e09+="s";var Z09="AS";Z09+="E";Z09+="J";Z09+="S";switch(t9i){case 2:c=a(8);k=a(13);h=a(24).EventEmitter;t9i=3;break;case 30:b.prototype.wja=function(a,b){var A0s;A0s=2;while(A0s!==1){switch(A0s){case 2:this.Dc&&(a=this.Dc.Icb(this,a),c.R(b)||a.then(b));A0s=1;break;}}};b.prototype.c_=function(){var X0s;X0s=2;while(X0s!==1){switch(X0s){case 2:this.Dc&&this.Dc.flush();X0s=1;break;}}};b.prototype.xTa=function(){var o0s;o0s=2;while(o0s!==1){switch(o0s){case 2:this.Dc&&this.Dc.Bma();o0s=1;break;}}};b.prototype.GN=function(){var h0s;h0s=2;while(h0s!==1){switch(h0s){case 2:return this.Dc?this.Dc.list():[];break;case 4:return this.Dc?this.Dc.list():[];break;h0s=1;break;}}};t9i=43;break;case 8:n=g.FFa;r=g.EFa;l=g.CJa;m=a(565);q=a(529);z=a(10);t9i=11;break;case 11:y=a(506);w=z.Promise;g=new z.Console(Z09,e09);g.trace.bind(g);t9i=18;break;case 21:b.prototype.w8a=function(a){var m0s;m0s=2;while(m0s!==1){switch(m0s){case 2:return this.Dc&&(a=this.Dc.rqa(a))?a:!1;break;}}};b.prototype.Yw=function(){var I0s;I0s=2;while(I0s!==1){switch(I0s){case 2:return this.Dc?this.Dc.Yw():w.resolve([]);break;}}};b.prototype.$Oa=function(a){var V0s,b;V0s=2;while(V0s!==3){var k09="can't";k09+=" fin";k09+="d session in ar";k09+="ray, movieId:";switch(V0s){case 2:this.sb.ES(null);b=this.Jv.indexOf(a);c.R(b)?t(k09,a.El):(this.Jv.splice(b,1),0===this.Jv.length&&this.Js.Nhb(),this.Js.save(),this.cg.save());V0s=3;break;}}};b.prototype.Zma=function(a){var v0s,b;v0s=2;while(v0s!==3){switch(v0s){case 2:b={profile:a.spoofedProfile||a.profile,I1:a.max_framerate_value,H1:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Msa:a.pixelAspectX,Nsa:a.pixelAspectY,Sj:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};t9i=32;break;case 43:b.prototype.vja=function(){var j0s;j0s=2;while(j0s!==1){switch(j0s){case 2:this.Dc&&this.Dc.zm();j0s=1;break;}}};f.K=b;N09;t9i=40;break;case 23:b.prototype.pt=function(a,b,d,g,f,h,p,n){var q9i;q9i=2;while(q9i!==4){var w09="open: stream";w09+="ingManag";w09+="er not initted";var I09="bran";I09+="c";I09+="hing";switch(q9i){case 2:q9i=this.wga?1:5;break;case 1:return n=n||this.H,this.sb.reset(),this.Js.Ahb(),this.Mha.reset(),void 0===h&&(h=this.Yma(a,b)),c.R(this.SM)&&(this.$j()[k.u.VIDEO]<=n.T9a?this.SM=0:this.SM=n.dS),a&&a.choiceMap&&I09===a.choiceMap.type&&(f.kf=!0),g.yR=this.yz,a=new q(this,a,b,d,g,f,h,p,n),this.Jv.push(a),a;break;case 5:t(w09);q9i=4;break;case 7:t("");q9i=0;break;q9i=4;break;}}};b.prototype.f4=function(a,b){var y9i;y9i=2;while(y9i!==1){switch(y9i){case 2:return this.Dc&&(a=this.Dc.f4(a,b))?a:!1;break;}}};t9i=21;break;case 32:b.prototype.Yma=function(a,b,c){var s0s,d;s0s=2;while(s0s!==3){var K09="vid";K09+="e";K09+="o_tra";K09+="cks";var J09="a";J09+="u";J09+="dio_t";J09+="rac";J09+="ks";var v09="audio_";v09+="tr";v09+="a";v09+="cks";switch(s0s){case 2:d=[{},{}];(c===k.u.AUDIO?[v09]:[J09,K09]).forEach(function(c,g){var T0s;T0s=2;while(T0s!==1){switch(T0s){case 2:a[c].some(function(a,c){var n0s;n0s=2;while(n0s!==1){switch(n0s){case 2:return c===b[g]?(d[g]=x.Zma(a),!0):!1;break;}}});T0s=1;break;}}});return d;break;}}};b.prototype.cxa=function(a){var S0s;S0s=2;while(S0s!==1){switch(S0s){case 2:z.SG(a);S0s=1;break;case 4:z.SG(a);S0s=7;break;S0s=1;break;}}};t9i=30;break;case 3:g=a(586);p=g.ODa;t9i=8;break;case 18:g.log.bind(g);t=g.warn.bind(g);g.error.bind(g);b.prototype.constructor=b;t9i=27;break;case 27:Object.defineProperties(b.prototype,{Wh:{get:function(){var N9i;N9i=2;while(N9i!==1){switch(N9i){case 4:return this.sb;break;N9i=1;break;case 2:return this.sb;break;}}}},xr:{get:function(){var a9i;a9i=2;while(a9i!==1){switch(a9i){case 4:return this.Mha;break;a9i=1;break;case 2:return this.Mha;break;}}}},Eva:{get:function(){var P9i;P9i=2;while(P9i!==1){switch(P9i){case 4:return this.SM;break;P9i=1;break;case 2:return this.SM;break;}}}},T6a:{get:function(){var Q9i;Q9i=2;while(Q9i!==1){switch(Q9i){case 4:return-c.R(this.WM);break;Q9i=1;break;case 2:return!c.R(this.WM);break;}}}}});b.prototype.Zc=function(a,b,d,g,f,h){var z9i,k;z9i=2;while(z9i!==19){var u09="me";u09+="di";u09+="ac";u09+="ache";var i09="c";i09+="a";i09+="c";i09+="heEvic";i09+="t";var Q09="fl";Q09+="u";Q09+="shedBytes";var c09="disc";c09+="ar";c09+="d";c09+="edB";c09+="ytes";var A09="prebuff";A09+="st";A09+="ats";switch(z9i){case 2:k=this.H;0<k.Yq&&(!c.R(a)&&a>k.Yq&&(a=k.Yq),b>k.Yq&&(b=k.Yq));c.R(a)?this.WM=b:this.pLa=[a,b];this.SM=g;this.JPa=f;z9i=8;break;case 8:y(k);this.cg=new p(k,this.dN);this.Js=new r(k);this.sb=new n(this.Js,this.cg,k);z9i=13;break;case 13:this.Mha=new l(k);k.xR&&!this.pPa&&(this.pPa=setInterval(function(){var Y9i;Y9i=2;while(Y9i!==5){switch(Y9i){case 2:this.cg.save();this.Js.save();Y9i=5;break;}}}.bind(this),k.xR));z9i=11;break;case 11:z9i=k.OC||k.AT?10:20;break;case 20:this.wga=!0;z9i=19;break;case 10:b=new m(this,k,d,h),a=function(a){var x9i;x9i=2;while(x9i!==1){switch(x9i){case 4:this.Ea(a.type,a);x9i=0;break;x9i=1;break;case 2:this.Ea(a.type,a);x9i=1;break;}}}.bind(this),b.addEventListener(A09,a),b.addEventListener(c09,a),b.addEventListener(Q09,a),b.addEventListener(i09,a),(k.lxa||k.ly)&&b.addEventListener(u09,function(a){var U9i;U9i=2;while(U9i!==1){var F09="m";F09+="ed";F09+="i";F09+="aca";F09+="che";switch(U9i){case 2:this.Ea(F09,a);U9i=1;break;case 4:this.Ea("",a);U9i=8;break;U9i=1;break;}}}.bind(this)),this.Dc=b;z9i=20;break;}}};b.prototype.$j=function(a,b){var C9i,d;C9i=2;while(C9i!==7){switch(C9i){case 1:C9i=this.WM?5:8;break;case 5:c.R(a)&&(a=192);c.R(b)&&(b=5800);q011.p09(0);d=q011.L09(b,a);return[Math.floor(this.WM*a/d),Math.floor(this.WM*b/d)];break;case 8:return this.pLa;break;case 2:C9i=1;break;}}};b.prototype.yR=function(){var b9i;b9i=2;while(b9i!==1){switch(b9i){case 2:this.yz||(this.yz=!0,this.Jv.forEach(function(a){var O9i;O9i=2;while(O9i!==1){switch(O9i){case 4:a.yR();O9i=3;break;O9i=1;break;case 2:a.yR();O9i=1;break;}}}));b9i=1;break;}}};t9i=23;break;}}}());},function(f){f.K={BB:["minInitVideoBitrate",-Infinity],W4:["minHCInitVideoBitrate",-Infinity],uB:["maxInitVideoBitrate",Infinity],HH:["minInitAudioBitrate",-Infinity],GH:["minHCInitAudioBitrate",-Infinity],wH:["maxInitAudioBitrate",Infinity],PQ:["minAcceptableVideoBitrate",-Infinity],jra:["minAllowedVideoBitrate",-Infinity],Jqa:["maxAllowedVideoBitrate",Infinity],kra:["minAllowedVmaf",-Infinity],Kqa:["maxAllowedVmaf",Infinity],aT:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],IH:["minRequiredBuffer",3E4],SQ:["minRequiredAudioBuffer",0],Vh:["minPrebufSize",5800],U6:["requireDownloadDataAtBuffering",!1],V6:["requireSetupConnectionDuringBuffering",!1],x6:["rebufferingFactor",1],Xq:["maxBufferingTime",2E3],U8:["useMaxPrebufSize",!0],wB:["maxPrebufSize",4E4],F4:["maxRebufSize",Infinity],I0a:["fastRebufferRecoveryThreshold",Infinity],H0a:["fastRebufferRecoverBwThrehold",3E3],VP:["initialBitrateSelectionCurve",null],Moa:["initSelectionLowerBound",-Infinity],Noa:["initSelectionUpperBound",Infinity],jT:["throughputPercentForAudio",15],NZ:["bandwidthMargin",0],PZ:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],ISa:["bandwidthMarginCurveAudio",{min:.1676072032,max:.85,vq:91975.78164233442,scale:229505.91382074592,gamma:2.185264623558083}],OZ:["bandwidthMarginContinuous",!1],JSa:["bandwidthMarginForAudio",!0],m8:["switchConfigBasedOnInSessionTput",!0],N_:["conservBandwidthMargin",20],CF:["conservBandwidthMarginTputThreshold",6E3],O_:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],fwa:["switchAlgoBasedOnHistIQR",!1],xu:["switchConfigBasedOnThroughputHistory","iqr"],E4:["maxPlayerStateToSwitchConfig",-1],g4:["lowEndMarkingCriteria","iqr"],lV:["IQRThreshold",.5],T2:["histIQRCalcToUse","simple"],Kl:["bandwidthManifold",{curves:[{min:.05,max:.82,vq:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,vq:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Yq:["maxTotalBufferLevelPerSession",0],uoa:["highWatermarkLevel",3E4],Cwa:["toStableThreshold",3E4],qT:["toUnstableThreshold",0],T7:["skipBitrateInUpswitch",!1],f9:["watermarkLevelForSkipStart",8E3],M2:["highStreamRetentionWindow",9E4],h4:["lowStreamTransitionWindow",51E4],O2:["highStreamRetentionWindowUp",5E5],j4:["lowStreamTransitionWindowUp",1E5],N2:["highStreamRetentionWindowDown",6E5],i4:["lowStreamTransitionWindowDown",0],L2:["highStreamInfeasibleBitrateFactor",.5],Zw:["lowestBufForUpswitch",9E3],xQ:["lockPeriodAfterDownswitch",15E3],l4:["lowWatermarkLevel",15E3],$w:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],o4:["lowestWaterMarkLevelBufferRelaxed",!1],M4:["mediaRate",1.5],I4:["maxTrailingBufferLen",15E3],DZ:["audioBufferTargetAvailableSize",262144],a9:["videoBufferTargetAvailableSize",1048576],Yqa:["maxVideoTrailingBufferSize",8388608],Nqa:["maxAudioTrailingBufferSize",393216],RO:["fastUpswitchFactor",3],n1:["fastDownswitchFactor",3],FQ:["maxMediaBufferAllowed",27E4],LS:["simulatePartialBlocks",!0],Dva:["simulateBufferFull",!0],P_:["considerConnectTime",!0],L_:["connectTimeMultiplier",1],uqa:["lowGradeModeEnterThreshold",12E4],vqa:["lowGradeModeExitThreshold",9E4],Pqa:["maxDomainFailureWaitDuration",3E4],Lqa:["maxAttemptsOnFailure",18],gma:["exhaustAllLocationsForFailure",!0],Tqa:["maxNetworkErrorsDuringBuffering",20],x4:["maxBufferingTimeAllowedWithNetworkError",6E4],m1:["fastDomainSelectionBwThreshold",2E3],v8:["throughputProbingEnterThreshold",4E4],qwa:["throughputProbingExitThreshold",34E3],dqa:["locationProbingTimeout",1E4],rma:["finalLocationSelectionBwThreshold",1E4],nwa:["throughputHighConfidenceLevel",.75],pwa:["throughputLowConfidenceLevel",.4],W3:["locationStatisticsUpdateInterval",6E4],$7a:["locationSelectorPersistFailures",!0],zA:["enablePerfBasedLocationSwitch",!1],byb:["maxRateMaxFragmentGroups",4500],L5:["pipelineScheduleTimeoutMs",2],bx:["maxPartialBuffersAtBufferingStart",2],X4:["minPendingBufferLen",3E3],vB:["maxPendingBufferLen",6E3],EO:["enableRequestPacing",!1],q_a:["enableNginxRateLimit",!1],cR:["nginxSendingRate",4E4],zQ:["maxActiveRequestsSABCell100",2],HQ:["maxPendingBufferLenSABCell100",500],mua:["resetActiveRequestsAtSessionInit",!0],H4:["maxStreamingSkew",2E3],M8a:["maxBufferOccupancyForSkewCheck",Infinity],okb:["useBufferOccupancySkipBack",!0],D4:["maxPendingBufferPercentage",10],cx:["maxRequestsInBuffer",120],MP:["headerRequestSize",4096],z5a:["headerCacheEstimateHeaderSize",!1],qxa:["useSidxInfoFromManifestForHeaderRequestSize",!1],QO:["fastPlayHeaderRequestSize",0],zH:["maxRequestSize",0],V4:["minBufferLenForHeaderDownloading",1E4],T9a:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],dS:["reserveForSkipbackBufferMs",15E3],v5:["numExtraFragmentsAllowed",2],Xm:["pipelineEnabled",!0],yH:["maxParallelConnections",3],Gva:["socketReceiveBufferSize",0],HZ:["audioSocketReceiveBufferSize",32768],d9:["videoSocketReceiveBufferSize",65536],K2:["headersSocketReceiveBufferSize",32768],Y4:["minTimeBetweenHeaderRequests",void 0],wT:["updatePtsIntervalMs",1E3],YZ:["bufferTraceDenominator",0],Yz:["bufferLevelNotifyIntervalMs",2E3],Ola:["enableAbortTesting",!1],lia:["abortRequestFrequency",8],e8:["streamingStatusIntervalMs",2E3],MB:["prebufferTimeLimit",6E4],RQ:["minBufferLevelForTrackSwitch",2E3],s_a:["enablePenaltyForLongConnectTime",!1],E5:["penaltyFactorForLongConnectTime",2],e4:["longConnectTimeThreshold",200],kZ:["additionalBufferingLongConnectTime",2E3],lZ:["additionalBufferingPerFailure",8E3],BI:["rebufferCheckDuration",6E4],Rla:["enableLookaheadHints",!1],qqa:["lookaheadFragments",2],ko:["enableOCSideChannel",!0],c6:["probeRequestTimeoutMilliseconds",3E4],Dzb:["probeRequestConnectTimeoutMilliseconds",8E3],ZK:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],Ywa:["updateDrmRequestOnNetworkFailure",!0],CQ:["maxDiffAudioVideoEndPtsMs",1E3],L8a:["maxAudioFragmentOverlapMs",80],MYa:["deferAseHeaderCache",!1],hO:["deferAseScheduling",!1],Tib:["timeBeforeEndOfStreamBufferMark",6E3],A4:["maxFastPlayBufferInMs",2E4],z4:["maxFastPlayBitThreshold",2E8],N8a:["maxBufferingCompleteBufferInMs",Infinity],U4:["minAudioMediaRequestSizeBytes",0],Z4:["minVideoMediaRequestSizeBytes",0],p_a:["enableMultiFragmentRequest",!1],OC:[["useHeaderCache","usehc"],!0],AT:[["useHeaderCacheData","usehcd"],!0],gO:["defaultHeaderCacheSize",4],A0:["defaultHeaderCacheDataCount",4],B0:["defaultHeaderCacheDataPrefetchMs",0],I2:["headerCacheMaxPendingData",6],J2:["headerCachePriorityLimit",5],y5a:["headerCacheAdoptBothAV",!1],qkb:["usePipelineForBranchedAudio",!0],Rab:["onlyDriveSingleChild",!1],pUa:["childBranchBatchedAmount",1E4],VQ:["minimumTimeBeforeBranchDecision",2E3],b9a:["maxRequestsToAttachOnBranchActivation",void 0],a5:["minimumJustInTimeBufferLevel",3E3],Qla:["enableJustInTimeAppends",!1],fG:["enableDelayedSeamless",!1],aTa:["branchEndPtsIntervalMs",250],d6a:["ignorePtsJustBeforeCurrentSegment",!1],W8a:["maxFragsForFittableOnBranching",300],LQa:["adaptiveParallelTimeoutMs",1E3],yA:["enableAdaptiveParallelStreaming",!1],oZa:["disableBitrateSelectionOnSingleConnection",!1],DN:["bufferThresholdToSwitchToSingleConnMs",45E3],XZ:["bufferThresholdToSwitchToParallelConnMs",35E3],i5:["networkFailureResetWaitMs",2E3],h5:["networkFailureAbandonMs",6E4],JQ:["maxThrottledNetworkFailures",5],iT:["throttledNetworkFailureThresholdMs",200],Rn:["abortUnsentBlocks",!0],YY:["abortStreamSelectionPeriod",2E3],J4:["maxUnsentBlocks",2],k4:["lowThroughputThreshold",400],g1:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Sib:["timeAtEachBitrateRoundRobin",1E4],ffb:["roundRobinDirection","forward"],a5a:["hackForHttpsErrorCodes",!1],Y5a:["httpsConnectErrorAsPerm",!1],tra:["mp4ParsingInNative",!1],xe:["enableManagerDebugTraces",!1],Fqa:["managerDebugMessageInterval",1E3],Eqa:["managerDebugMessageCount",20],Ora:["notifyManifestCacheEom",!0],iG:["enableUsingHeaderCount",!1],Hva:["sourceBufferInOrderAppend",!0],hn:["requireAudioStreamToEncompassVideo",!1],Gia:["allowAudioToStreamPastVideo",!1],Tv:["allowReissueMediaRequestAfterAbort",!1],V_:["countGapInBuffer",!1],oZ:["allowCallToStreamSelector",!1],WZ:["bufferThresholdForAbort",2E4],Xx:["ase_stream_selector","optimized"],Xia:["audiostreamSelectorAlgorithm","selectaudioadaptive"],g3:["initBitrateSelectorAlgorithm","default"],$Z:["bufferingSelectorAlgorithm","default"],t0:["ase_ls_failure_simulation",""],r0:["ase_dump_fragments",!1],s0:["ase_location_history",0],u0:["ase_throughput",0],ala:["ase_simulate_verbose",!1],t4:["marginPredictor","simple"],Cva:["simplePercentilePredictorPercentile",25],Ava:["simplePercentilePredictorCalcToUse","simple"],Bva:["simplePercentilePredictorMethod","simple"],nkb:["useBackupUnderflowTimer",!0],JBb:["useManifestDrmHeader",!0],KBb:["useOnlyManifestDrmHeader",!0],Zaa:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],j5:["networkMeasurementGranularity","video_location"],q$a:["netIntrStoreWindow",36E3],Byb:["minNetIntrDuration",8E3],lMa:["fastHistoricBandwidthExpirationTime",10368E3],MMa:["bandwidthExpirationTime",5184E3],kMa:["failureExpirationTime",86400],lha:["historyTimeOfDayGranularity",4],hMa:["expandDownloadTime",!0],vNa:["minimumMeasurementTime",500],uNa:["minimumMeasurementBytes",131072],POa:["throughputMeasurementTimeout",2E3],OOa:["initThroughputMeasureDataSize",262144],cNa:["historicBandwidthUpdateInterval",2E3],tNa:["minimumBufferToStopProbing",1E4],Rsb:["throughputPredictor","ewma"],n7:["secondThroughputEstimator","slidingwindow"],Qua:["secondThroughputMeasureWindowInMs",3E5],Qsb:["throughputMeasureWindow",5E3],Ssb:["throughputWarmupTime",5E3],Psb:["throughputIQRMeasureWindow",1E3],usb:["IQRBucketizerWindow",15E3],Qqa:["maxIQRSamples",100],nra:["minIQRSamples",5],Msb:["connectTimeHalflife",10],Fsb:["responseTimeHalflife",10],Esb:["historicThroughputHalflife",14400],Dsb:["historicResponseTimeHalflife",100],Csb:["historicHttpResponseTimeHalflife",100],saa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Sga:["minReportedNetIntrDuration",4E3],Osb:["throughputBucketMs",500],zsb:["bucketHoltWintersWindow",2E3],dMa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],zX:["filterDefinitionOverrides",{}],SLa:["defaultFilter","throughput-ewma"],sPa:["secondaryFilter","throughput-sw"],kz:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:0},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":0},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":0},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":0},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:3E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],hG:["enableSessionHistoryReport",!1],R0:["earlyStageEstimatePeriod",1E4],Ppa:["lateStageEstimatePeriod",3E4],GQ:["maxNumSessionHistoryStored",30],TQ:["minSessionHistoryDuration",3E4],gG:["enableInitThroughputEstimate",!1],IRa:["applyInitThroughputEstimate",!1],Ooa:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrWeights:{"ens-avtp-p25":.07915487071911317,"ens-avtp-p50":-.04305143083128814,"ens-avtp-p75":.07224803844918672,"ens-avtp-mean":.021977620207364084,"ens-avtp-std":.011081997887845791,"ens-avtp-b":.03002669833498551,"ens-avtp-niqr":5.816544977162255E-4,"lns-avtp-p25":.024399445610434084,"lns-avtp-p50":-4.31438547583107E-4,"lns-avtp-p75":.037093538423607096,"lns-avtp-mean":-.03178686765857943,"lns-avtp-std":-.008657617722846,"lns-avtp-b":-.009681964061665084,"lns-avtp-niqr":.0017610735290357147,"fns-avtp-p25":-.030661191448029333,"fns-avtp-p50":-.05737230028580021,"fns-avtp-p75":-.039757506718255266,"fns-avtp-mean":.024984231565580765,"fns-avtp-std":-4.0185935456355995E-4,"fns-avtp-b":-.02040835181311715,"fns-avtp-niqr":.0016189493538210974,"fns-niqr-p25":.07378717761902068,"fns-niqr-p50":-.060329266583074394,"fns-niqr-p75":-.05094429705856684,"fns-niqr-mean":.05773249808356049,"fns-niqr-std":-4.018593545631714E-4,"fns-niqr-b":.010763478384523182,"fns-niqr-niqr":.033688506037537216,sessionCnt:-.018669742937082904,"ens-avtp-last":.06335420843848587,"lns-avtp-last":.09409336503158622,"fns-avtp-last":.27735666688327687,"fns-niqr-last":.013768963498830574,prevMonoTime:-.01707867977818337,prevHour:.020463558695167607,currentMonoTime:-.0037464607943640173,currentHour:-.030757812933057543,timeSinceLastSession:.032457680479938945,intercept:6.878086536929007},lrMeans:{"ens-avtp-p25":6.496762436921207,"ens-avtp-p50":6.809199049598129,"ens-avtp-p75":7.115589019219129,"ens-avtp-mean":6.933106301664512,"ens-avtp-std":599.6259393824089,"ens-avtp-b":.3428499917822183,"ens-avtp-niqr":.7170675700578704,"lns-avtp-p25":6.7266941775514315,"lns-avtp-p50":6.97718188692363,"lns-avtp-p75":7.224929192175077,"lns-avtp-mean":7.095297281819717,"lns-avtp-std":819.1868568063753,"lns-avtp-b":.4198347534616287,"lns-avtp-niqr":.630902116724668,"fns-avtp-p25":6.737844115300758,"fns-avtp-p50":6.955337669784565,"fns-avtp-p75":7.173728892913685,"fns-avtp-mean":7.026623291281058,"fns-avtp-std":498.40452987842673,"fns-avtp-b":.49596368840389854,"fns-avtp-niqr":.5151226986125881,"fns-niqr-p25":.6270138451126366,"fns-niqr-p50":.7976395436527121,"fns-niqr-p75":1.9022008121434786,"fns-niqr-mean":1220.8560382613316,"fns-niqr-std":498.40452987842673,"fns-niqr-b":.14458232981412808,"fns-niqr-niqr":2.4734329926846144,sessionCnt:37.23900222372619,"ens-avtp-last":6.808868501638667,"lns-avtp-last":6.949888389165035,"fns-avtp-last":6.9610245524066645,"fns-niqr-last":2.3950991105095234,prevMonoTime:1.550505302526787E12,prevHour:14.924199941989752,currentMonoTime:1.5505695807716492E12,currentHour:15.163975635695639,timeSinceLastSession:6.427824486212897E7,intercept:0},lrStd:{"ens-avtp-p25":.5353482288848481,"ens-avtp-p50":.43051932247514896,"ens-avtp-p75":.373597496893417,"ens-avtp-mean":.2911987439140525,"ens-avtp-std":464.4622128329136,"ens-avtp-b":.28126846733822986,"ens-avtp-niqr":1.7521404041891875,"lns-avtp-p25":.6021492045149575,"lns-avtp-p50":.5167876876345999,"lns-avtp-p75":.5049238114016326,"lns-avtp-mean":.4666259408972896,"lns-avtp-std":1525.5219986908623,"lns-avtp-b":.3354353137513845,"lns-avtp-niqr":2.045155211747073,"fns-avtp-p25":.543420487541705,"fns-avtp-p50":.4772887072701711,"fns-avtp-p75":.4560998323686317,"fns-avtp-mean":.40375472247744565,"fns-avtp-std":571.0629955938442,"fns-avtp-b":.2821002000903178,"fns-avtp-niqr":1.7687738495379601,"fns-niqr-p25":8.569177825577958,"fns-niqr-p50":8.590870152094523,"fns-niqr-p75":61.82385684709452,"fns-niqr-mean":574.0938034403066,"fns-niqr-std":571.0629955938442,"fns-niqr-b":.3535869862718625,"fns-niqr-niqr":118.63982633896627,sessionCnt:49.586119560518085,"ens-avtp-last":.7573531719940231,"lns-avtp-last":.7815108059215651,"fns-avtp-last":.7046364341195822,"fns-niqr-last":72.76876495912973,prevMonoTime:3.677635245925177E8,prevHour:7.1609753588436655,currentMonoTime:3.390869610681985E8,currentHour:7.163211695235794,timeSinceLastSession:1.543714581880408E8,intercept:1}},1:{lrWeights:{"ens-avtp-p25":.05355839026128026,"ens-avtp-p50":.026704818953779616,"ens-avtp-p75":.001913099364397984,"ens-avtp-mean":.10336032225585848,"ens-avtp-std":-.005014728153995906,"ens-avtp-b":.0016795195875919952,"ens-avtp-niqr":.0200788830495898,"lns-avtp-p25":.0035130003550560983,"lns-avtp-p50":-.004900271126462145,"lns-avtp-p75":.021529550244786807,"lns-avtp-mean":.03770672751472189,"lns-avtp-std":-.002649201387476044,"lns-avtp-b":.004925850730493454,"lns-avtp-niqr":.011986414815168399,"fns-avtp-p25":.006591426513552692,"fns-avtp-p50":-.02648500352534767,"fns-avtp-p75":-.029483207599028352,"fns-avtp-mean":-.005884643153961238,"fns-avtp-std":.00873685873728205,"fns-avtp-b":-.020581377252048137,"fns-avtp-niqr":-.009024632012679059,"fns-niqr-p25":-.026815415576058658,"fns-niqr-p50":.026420274032922304,"fns-niqr-p75":7.948429943341481E-4,"fns-niqr-mean":-.034818909732520754,"fns-niqr-std":.008736858737282265,"fns-niqr-b":.009440123611083035,"fns-niqr-niqr":-.0017798450966802308,sessionCnt:-.00783840857505921,"ens-avtp-last":.053699490165753885,"lns-avtp-last":.17732009468558801,"fns-avtp-last":.18093041175241056,"fns-niqr-last":.00752538279315274,prevMonoTime:-.001968677546681864,prevHour:.021842771339371795,currentMonoTime:.0011519314620875693,currentHour:-.03033844124558817,timeSinceLastSession:.007378176826780184,intercept:8.109245203114822},lrMeans:{"ens-avtp-p25":7.85803321573335,"ens-avtp-p50":8.13662693999455,"ens-avtp-p75":8.38132675688115,"ens-avtp-mean":8.188660054153829,"ens-avtp-std":1459.4987882838025,"ens-avtp-b":.4816242582918358,"ens-avtp-niqr":.5987585898108199,"lns-avtp-p25":8.064949540658285,"lns-avtp-p50":8.30195529637454,"lns-avtp-p75":8.506709050637832,"lns-avtp-mean":8.34607576944336,"lns-avtp-std":1523.4884164076443,"lns-avtp-b":.5439638798314997,"lns-avtp-niqr":.5373178809171706,"fns-avtp-p25":8.053897512428874,"fns-avtp-p50":8.271024323659041,"fns-avtp-p75":8.46636981796407,"fns-avtp-mean":8.311662935073404,"fns-avtp-std":1364.5172546364254,"fns-avtp-b":.5690000035968192,"fns-avtp-niqr":.4856808458557481,"fns-niqr-p25":.3724708155518063,"fns-niqr-p50":.4884066147280667,"fns-niqr-p75":1.3018557488090512,"fns-niqr-mean":4440.359374173521,"fns-niqr-std":1364.5172546364254,"fns-niqr-b":.13582123188295758,"fns-niqr-niqr":1.4115287785225987,sessionCnt:40.366105101230644,"ens-avtp-last":8.083514344367853,"lns-avtp-last":8.240771987052087,"fns-avtp-last":8.226783224588736,"fns-niqr-last":1.7882404153433902,prevMonoTime:1.550543646875488E12,prevHour:15.190576617705439,currentMonoTime:1.5506023785755945E12,currentHour:15.339234319174276,timeSinceLastSession:5.873170010614331E7,intercept:0},lrStd:{"ens-avtp-p25":.5817334311786888,"ens-avtp-p50":.4619334767340271,"ens-avtp-p75":.40299988400033576,"ens-avtp-mean":.3667580905816033,"ens-avtp-std":1114.4483157870902,"ens-avtp-b":.2409732565476686,"ens-avtp-niqr":1.7563497200018836,"lns-avtp-p25":.6334625503058036,"lns-avtp-p50":.5268793331617527,"lns-avtp-p75":.4789732569840282,"lns-avtp-mean":.4437286138925232,"lns-avtp-std":1485.7376797217782,"lns-avtp-b":.2671425794627688,"lns-avtp-niqr":6.485412526395303,"fns-avtp-p25":.5994693359335168,"fns-avtp-p50":.5104127181064216,"fns-avtp-p75":.4693670340461723,"fns-avtp-mean":.43435386783301194,"fns-avtp-std":1298.4776209341003,"fns-avtp-b":.2540977320654815,"fns-avtp-niqr":1.6197976867709123,"fns-niqr-p25":12.957519534730297,"fns-niqr-p50":13.035479396458282,"fns-niqr-p75":81.50732435878042,"fns-niqr-mean":1798.4445457747008,"fns-niqr-std":1298.4776209341003,"fns-niqr-b":.3124735050424633,"fns-niqr-niqr":34.925547785958585,sessionCnt:66.44190681226728,"ens-avtp-last":.7121174178451315,"lns-avtp-last":.73313707417515,"fns-avtp-last":.679757146859562,"fns-niqr-last":102.0931512726785,prevMonoTime:3.49326471252759E8,prevHour:7.109517264442868,currentMonoTime:3.233166045386587E8,currentHour:7.18829975748169,timeSinceLastSession:1.4368722440376696E8,intercept:1}},2:{lrWeights:{"ens-avtp-p25":.020406846652339904,"ens-avtp-p50":.007196803728010924,"ens-avtp-p75":-.005448213494765878,"ens-avtp-mean":.10155601328489437,"ens-avtp-std":.013229008840792332,"ens-avtp-b":-2.015204899026967E-4,"ens-avtp-niqr":.019613771315237272,"lns-avtp-p25":-.01103875219722141,"lns-avtp-p50":8.351846654568838E-4,"lns-avtp-p75":-.01928068894254755,"lns-avtp-mean":.06606492656379839,"lns-avtp-std":.019825018515082084,"lns-avtp-b":.01626876235033324,"lns-avtp-niqr":.0024355844660614895,"fns-avtp-p25":.01778247292560953,"fns-avtp-p50":-.018592179426893014,"fns-avtp-p75":.004452591742385031,"fns-avtp-mean":-.09034169650842419,"fns-avtp-std":.0033601030992658513,"fns-avtp-b":-.0019312528436523377,"fns-avtp-niqr":-.01980394384980409,"fns-niqr-p25":-.11418369088228411,"fns-niqr-p50":.10144273116871826,"fns-niqr-p75":.013305967815356935,"fns-niqr-mean":-9.573886569009439E-4,"fns-niqr-std":.0033601030992650984,"fns-niqr-b":.0048785883161774225,"fns-niqr-niqr":-.0027850257500773943,sessionCnt:-.003137589676682966,"ens-avtp-last":.05406058633333464,"lns-avtp-last":.16781568460402305,"fns-avtp-last":.10035089947736046,"fns-niqr-last":.0055440276294877085,prevMonoTime:.0019221793548161335,prevHour:.020311473843957335,currentMonoTime:.001233289784423883,currentHour:-.024821391510794006,timeSinceLastSession:-.0018764722671870404,intercept:9.013238736264174},lrMeans:{"ens-avtp-p25":8.830757795565042,"ens-avtp-p50":9.057467256661063,"ens-avtp-p75":9.24698791285418,"ens-avtp-mean":9.076482129817974,"ens-avtp-std":2769.3874521198504,"ens-avtp-b":.5575404828151127,"ens-avtp-niqr":.48456100358726106,"lns-avtp-p25":9.03815020890771,"lns-avtp-p50":9.228227589010254,"lns-avtp-p75":9.385189237757707,"lns-avtp-mean":9.240922903371871,"lns-avtp-std":2699.988900212495,"lns-avtp-b":.6222791865225401,"lns-avtp-niqr":.418675804569863,"fns-avtp-p25":9.006149807689901,"fns-avtp-p50":9.18816923720784,"fns-avtp-p75":9.343248985174794,"fns-avtp-mean":9.202839293076932,"fns-avtp-std":2537.6460261839375,"fns-avtp-b":.6308306786362283,"fns-avtp-niqr":.3996070064895847,"fns-niqr-p25":1.0991789566259105,"fns-niqr-p50":1.2060283852136382,"fns-niqr-p75":1.7608892363422008,"fns-niqr-mean":10252.897029504984,"fns-niqr-std":2537.6460261839375,"fns-niqr-b":.22863226649919136,"fns-niqr-niqr":1.905635751857092,sessionCnt:38.5172469527848,"ens-avtp-last":9.003760094008207,"lns-avtp-last":9.172492670980203,"fns-avtp-last":9.138753643943861,"fns-niqr-last":2.6457309617980944,prevMonoTime:1.5505456128078748E12,prevHour:15.207828633364391,currentMonoTime:1.5506056926650112E12,currentHour:15.336172963927817,timeSinceLastSession:6.007985713678716E7,intercept:0},lrStd:{"ens-avtp-p25":.4220910190757439,"ens-avtp-p50":.28478045514260986,"ens-avtp-p75":.23266548981108084,"ens-avtp-mean":.19422842722051847,"ens-avtp-std":2030.172789321498,"ens-avtp-b":.21776280877320092,"ens-avtp-niqr":3.629227922421109,"lns-avtp-p25":.46052088397628815,"lns-avtp-p50":.3366360111104609,"lns-avtp-p75":.2803177166761489,"lns-avtp-mean":.2565774547526174,"lns-avtp-std":2295.468619781415,"lns-avtp-b":.2288066134256686,"lns-avtp-niqr":5.00506618839502,"fns-avtp-p25":.4396654474445142,"fns-avtp-p50":.3304742216757508,"fns-avtp-p75":.2804814712613549,"fns-avtp-mean":.25327682367359694,"fns-avtp-std":2187.2113726057573,"fns-avtp-b":.22185121955214376,"fns-avtp-niqr":2.7188103040873832,"fns-niqr-p25":140.4719285784168,"fns-niqr-p50":140.5413869278825,"fns-niqr-p75":148.47534312816472,"fns-niqr-mean":2747.5604434256543,"fns-niqr-std":2187.2113726057573,"fns-niqr-b":.304341433725535,"fns-niqr-niqr":255.80742315132878,sessionCnt:69.67413681685818,"ens-avtp-last":.5666233069725032,"lns-avtp-last":.564188496058168,"fns-avtp-last":.5279864485739411,"fns-niqr-last":198.69495779103426,prevMonoTime:3.441039963275496E8,prevHour:7.0835990992874915,currentMonoTime:3.179452255606544E8,currentHour:7.1668422153526965,timeSinceLastSession:1.4351983968502808E8,intercept:1}},3:{lrWeights:{"ens-avtp-p25":.03311889085421039,"ens-avtp-p50":-.00526930031192642,"ens-avtp-p75":.00641589640656041,"ens-avtp-mean":.15959236201477167,"ens-avtp-std":.025803571390587653,"ens-avtp-b":-6.759828206416232E-4,"ens-avtp-niqr":-.00766888465251384,"lns-avtp-p25":-.012852110379206545,"lns-avtp-p50":9.361868562322584E-4,"lns-avtp-p75":.0012572194838950984,"lns-avtp-mean":.020377706671001188,"lns-avtp-std":-.006753907557646869,"lns-avtp-b":.006226098793557989,"lns-avtp-niqr":.006171895113798524,"fns-avtp-p25":-3.6920092840240023E-4,"fns-avtp-p50":-.02026124975410162,"fns-avtp-p75":-.024115265580832795,"fns-avtp-mean":-.06343589066732086,"fns-avtp-std":-.0013106775297129938,"fns-avtp-b":-.009538458737731731,"fns-avtp-niqr":-.018082901579554393,"fns-niqr-p25":-.378707825275345,"fns-niqr-p50":.37660182452392543,"fns-niqr-p75":-.001278724527679431,"fns-niqr-mean":.019523996500048723,"fns-niqr-std":-.0013106775297526843,"fns-niqr-b":.003563335574091064,"fns-niqr-niqr":-7.670975237884617E-4,sessionCnt:-.0010844761593015934,"ens-avtp-last":.0626503386613595,"lns-avtp-last":.13654947102265533,"fns-avtp-last":.10563710845347635,"fns-niqr-last":.004718181602782121,prevMonoTime:.001803101841732074,prevHour:.012008072228546085,currentMonoTime:7.975043105259512E-4,currentHour:-.02018936459812281,timeSinceLastSession:-.002394740706482236,intercept:9.804615061642304},lrMeans:{"ens-avtp-p25":9.65499069542895,"ens-avtp-p50":9.843299848472315,"ens-avtp-p75":10.007140964961804,"ens-avtp-mean":9.856477311997917,"ens-avtp-std":5308.074398109432,"ens-avtp-b":.607055288160239,"ens-avtp-niqr":.4046876074827171,"lns-avtp-p25":9.7743049723626,"lns-avtp-p50":9.933298264940873,"lns-avtp-p75":10.071437068399714,"lns-avtp-mean":9.942740627694409,"lns-avtp-std":4747.19132022943,"lns-avtp-b":.6621477802710024,"lns-avtp-niqr":.3493338112417158,"fns-avtp-p25":9.747559522613363,"fns-avtp-p50":9.90468919699331,"fns-avtp-p75":10.041923872317932,"fns-avtp-mean":9.914408910330849,"fns-avtp-std":4565.375027373723,"fns-avtp-b":.6672563765854815,"fns-avtp-niqr":.35290923813134367,"fns-niqr-p25":.8697323427590374,"fns-niqr-p50":.9433373063607968,"fns-niqr-p75":2.496238622232011,"fns-niqr-mean":21157.949384278283,"fns-niqr-std":4565.375027373723,"fns-niqr-b":.33416238558069317,"fns-niqr-niqr":4.256615515051,sessionCnt:34.63658234925368,"ens-avtp-last":9.797128963998745,"lns-avtp-last":9.901276161865669,"fns-avtp-last":9.865356829107927,"fns-niqr-last":3.8202778594785083,prevMonoTime:1.550542763332927E12,prevHour:15.494880526800287,currentMonoTime:1.5506111155288135E12,currentHour:15.56645714382529,timeSinceLastSession:6.835219588628162E7,intercept:0},lrStd:{"ens-avtp-p25":.43931570941814946,"ens-avtp-p50":.32745889921107996,"ens-avtp-p75":.299063305243282,"ens-avtp-mean":.2675801480911341,"ens-avtp-std":4221.227314753351,"ens-avtp-b":.21328934833722846,"ens-avtp-niqr":1.8059587048709727,"lns-avtp-p25":.4571453412296879,"lns-avtp-p50":.35405352777574123,"lns-avtp-p75":.3128764932927775,"lns-avtp-mean":.29835918001058853,"lns-avtp-std":4126.786774473772,"lns-avtp-b":.21219870357179807,"lns-avtp-niqr":2.3635913010520944,"fns-avtp-p25":.45117335048480656,"fns-avtp-p50":.35482387896659723,"fns-avtp-p75":.3167924746252257,"fns-avtp-mean":.29968995821360084,"fns-avtp-std":4060.3783705894793,"fns-avtp-b":.21045524812277192,"fns-avtp-niqr":3.338352003407185,"fns-niqr-p25":109.38002764534689,"fns-niqr-p50":109.38008938383608,"fns-niqr-p75":353.57978019727756,"fns-niqr-mean":6628.302502874879,"fns-niqr-std":4060.3783705894793,"fns-niqr-b":.2979605610951429,"fns-niqr-niqr":930.3496214662405,sessionCnt:139.86201776951555,"ens-avtp-last":.5553539134466154,"lns-avtp-last":.5337833457164872,"fns-avtp-last":.5153182749294885,"fns-niqr-last":543.5338212737698,prevMonoTime:3.394893564867419E8,prevHour:6.808870800549808,currentMonoTime:3.0895686168750876E8,currentHour:6.90811624217615,timeSinceLastSession:1.527261193661165E8,intercept:1}}}}],hZ:["addHeaderDataToNetworkMonitor",!0],Y7:["startMonitorOnLoadStart",!1],O6:["reportFailedRequestsToNetworkMonitor",!1],xR:["periodicHistoryPersistMs",0],oS:["saveVideoBitrateMs",0],SH:["needMinimumNetworkConfidence",!0],RZ:["biasTowardHistoricalThroughput",!1],f8a:["logMemoryUsage",!1],qoa:["headerCacheTruncateHeaderAfterParsing",!0],nSa:["audioFragmentDurationMilliseconds",null],Lkb:["videoFragmentDurationMilliseconds",null],cn:["probeServerWhenError",!0],gq:["allowSwitchback",!0],Gx:["probeDetailDenominator",100],BQ:["maxDelayToReportFailure",300],rN:["allowParallelStreaming",!1],t9a:["mediaPrefetchDisabled",!1],mra:["minBufferLevelToAllowPrefetch",5E3],zw:["editVideoFragments",!1],Ol:["editAudioFragments",!0],sS:["seamlessAudio",!1],ufb:["seamlessAudioProfiles",[]],vfb:["seamlessAudioProfilesAndTitles",{}],m7:["seamlessAudioMaximumSyncError",void 0],ZG:["insertSilentFrames",0],Zoa:["insertSilentFramesOnExit",void 0],Yoa:["insertSilentFramesOnEntry",void 0],Xoa:["insertSilentFramesForProfile",void 0],y1a:["forceDiscontinuityAtTransition",!0],wu:["supportAudioResetOnDiscontinuity",void 0],vu:["supportAudioEasingOnDiscontinuity",void 0],$n:["audioCodecResetForProfiles",["heaac-2-dash"]],f_a:["editCompleteFragments",!0],V9a:["minimumAudioFramesPerFragment",1],Xv:["applyProfileTimestampOffset",!1],iq:["applyProfileStreamingOffset",!0],rI:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}}}],cra:["mediaSourceSupportsNegativePts",!1],QQ:["minAudioPtsGap",void 0],CO:["enablePsd",!1],k6:["psdCallFrequency",6E4],l6:["psdReturnToNormal",!1],vI:["psdThroughputThresh",0],XF:["discardLastNPsdBins",0],pg:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],DO:["enableRecordJSBridgePerf",!1],hba:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Fq:["enableRl",!1],aC:["rlLogParam",5],Fa:["rlParam",{numThroughputStats:1,numOfChunkQualities:0,lookAhead:5,numBToFeed:0,baseNetwork:[],qualityFunction:"vmaf-linear",addChunkQualities:!1,bufferTimeLimitSecs:240,chunkSizeFetchStyle:"horizontal",addLastBitrate:!1,numOfChunkSizes:0,qualityRewardMultiplier:.001,fillHl:1E3,addNumChunksLeft:!1,addBufferStats:!0,convLayerPars:[],useBitrateMean:!1,bitrates:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],fillS:"average",useProdSimulation:!0,lockPeriodAfterDownswitch:15E3,takeLog:!1,addTopBitrate:!1,addProdOutput:!1,numB:100,convNetwork:[],epsilon:0,discountPolicyMapping:"quadratic",HERatio:2.5,valueNetwork:[{b:[.05533123016357422,-.12677599489688873,-.37196388840675354,.43002787232398987,-.3278537392616272,.3157925009727478,.49705439805984497,.3623315989971161,.4049244821071625,.306795597076416,.023460865020751953,-.5374774932861328,-.27872857451438904,-.3958677351474762,-.44132015109062195,-.3485901951789856],W:[[-.02745220810174942,-.09654457122087479],[.05102335661649704,.20058313012123108],[.10397858172655106,.03029954433441162],[.44732457399368286,.1439521312713623],[-.8370619416236877,-.016037840396165848],[-.19805389642715454,-.37058570981025696],[-.7537248134613037,.21142733097076416],[.00784209556877613,2.646312350407243E-4],[.024667738005518913,.05554830655455589],[-.15302683413028717,-.12483158707618713],[-.022026509046554565,-.046648088842630386],[.47357091307640076,-.08255043625831604],[.2401454746723175,.2645523250102997],[-1.1895869970321655,.16134504973888397],[.13846588134765625,.1347809135913849],[-.8497114777565002,-.02514016069471836]]},{b:[.13616295158863068],W:[[-.0059984177350997925,5.688384044333361E-5,-.31482797861099243,.2679792642593384,-.26990222930908203,.24288281798362732,.33975696563720703,.24208010733127594,.20434308052062988,.17735609412193298,-.005353386979550123,-.2435941994190216,-.3793827295303345,-.5024093389511108,-.18502868711948395,-.25674858689308167]]}],randomizeAction:!1,repeatLength:1,numChunkOffsets:0,useControlAtStart:!0,qualityAlpha:1,policyNetwork:[{b:[-.412638783454895,-.3944492042064667,.361627995967865,-.20585310459136963,.15680213272571564,.16230282187461853,.2959774434566498,-.29338908195495605,-.3977995812892914,-.2826499044895172,.2839594781398773,-.378938764333725,-.28052815794944763,.29201599955558777,-.2694973349571228,.32858505845069885],W:[[-.25744718313217163,-.2579941749572754],[-.3987915813922882,-.3113815188407898],[.3914099931716919,.1927962452173233],[-.2907905876636505,-.3993949592113495],[.3429926633834839,.5154353380203247],[.46402043104171753,.3750675320625305],[.3165140151977539,.3362429738044739],[-.2831599712371826,-.33043336868286133],[-.3665153682231903,-.36741551756858826],[-.42878684401512146,-.3090651035308838],[.21995356678962708,.2324381172657013],[-.40021345019340515,-.2974157929420471],[-.3892492949962616,-.21423658728599548],[.4002467691898346,.4845951199531555],[-.4312516748905182,-.4456460475921631],[.30747276544570923,.40754443407058716]]},{b:[.1032010167837143,.23244233429431915,-.01785256341099739,.17829757928848267,.03387175127863884,.03424593061208725,.10686955600976944,.11391088366508484,.1236717626452446,.12204533070325851,.09762528538703918,.22837036848068237,.2101789116859436,.1395697444677353,.0755317211151123,.05933607369661331,.020733339712023735,-.2973330318927765,-.5567834973335266,-.7997101545333862,-1.1866400241851807],W:[[-.18243752419948578,-.18205209076404572,.12897171080112457,-.18163728713989258,.18924736976623535,.10615333169698715,-.06378988176584244,-.23385876417160034,-.11631970852613449,-.18195857107639313,.2122160941362381,-.14674511551856995,-.062984399497509,-.03046603314578533,-.042016394436359406,.059213291853666306],[-.25253725051879883,-.05791608244180679,.22158899903297424,-.1807052493095398,.006767614278942347,.04307352378964424,.1975916475057602,-.2383284568786621,-.05942298099398613,-.1357770562171936,.1037694662809372,-.14311830699443817,.0012564989738166332,.2055424004793167,-.1739828735589981,.28440845012664795],[-.2820572257041931,-.2243836224079132,-.009474185295403004,-.12801462411880493,.2770399749279022,.13915841281414032,.24947895109653473,-.0901138037443161,-.14535419642925262,-.06771376729011536,.13680143654346466,-.18201519548892975,-.2172870635986328,.11829230934381485,-.108485147356987,.22689661383628845],[-.35503271222114563,-.0775824636220932,.12027252465486526,-.2573116421699524,.02839498780667782,.07367391139268875,.07984186708927155,-.10638942569494247,-.22296731173992157,-.05553358420729637,.05830622464418411,-.25039055943489075,-.2609282433986664,.08369264751672745,-.05966627597808838,.03639725223183632],[-.018235042691230774,-.056563250720500946,.11467722803354263,-.059557829052209854,.2816635072231293,.02629885822534561,.03319495543837547,-.2324208915233612,-.21133288741111755,-.22949211299419403,.02839614637196064,-.06933751702308655,-.2568594515323639,.23111720383167267,-.07870880514383316,.14231324195861816],[-.17236000299453735,-.24168795347213745,.18550589680671692,-.21688313782215118,.08988945186138153,.23491528630256653,-.014212478883564472,-.16345223784446716,-.101213738322258,-.08315055817365646,.3163166046142578,-.128215491771698,-.2556995749473572,.19001033902168274,-.13374188542366028,.23563364148139954],[-.16922716796398163,-.23347386717796326,.11554708331823349,-.06031706556677818,.00787605531513691,.1717318296432495,.08365252614021301,-.19791926443576813,-.21750250458717346,-.10088957101106644,.07592057436704636,-.2526659071445465,-.16954083740711212,.21436604857444763,-.10623046010732651,.07676853984594345],[-.07076448202133179,-.21048475801944733,.0519600510597229,-.03461375832557678,.27661260962486267,.19848895072937012,.2243914157152176,-.17512662708759308,-.10555917024612427,-.17998510599136353,.14169420301914215,-.049020566046237946,.02801593765616417,.13342608511447906,-.15784481167793274,.09766186773777008],[-.14827829599380493,-.05338667333126068,-.014936452731490135,-.14944781363010406,.22573451697826385,.12348072230815887,.11484410613775253,-.004883829038590193,-.047992318868637085,-.1594856232404709,.2568851709365845,-.09031572192907333,-.05706582963466644,-4.983098478987813E-4,-.22049573063850403,.13852019608020782],[-.13956879079341888,-.2400752156972885,.08272846043109894,-.3206534683704376,.0981164276599884,.12269225716590881,.13008926808834076,-.03977770730853081,-.17421235144138336,-.051229119300842285,-.015088572166860104,-.17017802596092224,.03453931212425232,.1788467913866043,-.2593126893043518,.13894088566303253],[-.15852025151252747,-.13752885162830353,.18085233867168427,-.026975378394126892,.08118204027414322,.22511836886405945,.1578889936208725,-.11105726659297943,-.17974312603473663,-.045371219515800476,.09727480262517929,-.12441378831863403,.004754172172397375,.1462913453578949,-.20255130529403687,.2307319939136505],[-.13445983827114105,-.14145679771900177,.12339618057012558,-.028057938441634178,.03399171307682991,.07780994474887848,.22680453956127167,-.10456500202417374,-.03876079246401787,-.24656173586845398,.09278947860002518,-.0888059139251709,-.1322716921567917,.08019872009754181,-.08939266204833984,.23991352319717407],[-.2594526410102844,-.14361591637134552,.045561034232378006,-.04839532822370529,.11469841748476028,.0423651784658432,.0579223670065403,-.19615131616592407,-.148156076669693,-.061122845858335495,.12850065529346466,-.1314231902360916,-.06075485050678253,.15828271210193634,-.15889498591423035,-.01321683544665575],[-.1502031683921814,-.18404962122440338,.16521699726581573,-.08913173526525497,.05336243659257889,-.027618568390607834,.11079095304012299,.08470268547534943,-.021151361986994743,-.06379488855600357,.12175280600786209,-.013277744874358177,-.034269627183675766,-.008312849327921867,-.03604540601372719,.12241926044225693],[-.0744841918349266,-.1421520859003067,.18444211781024933,-.04605941101908684,.11995276063680649,.09755964577198029,.10934597253799438,-.021958131343126297,-.17636388540267944,-.12492060661315918,.07608187943696976,-.08557915687561035,-.2167670875787735,.095750592648983,-.0021581973414868116,-.009261039085686207],[.06437303125858307,-.05704565346240997,.048856545239686966,-.08741368353366852,.016187647357583046,.1458374559879303,.08231929689645767,-.019222980365157127,-.05964486673474312,-.07991735637187958,.11003319174051285,.026625651866197586,.07264247536659241,-.06023328751325607,-.05094010382890701,.01619056798517704],[.08831681311130524,-.07976476848125458,-.03673217073082924,-.15939712524414062,-.17922301590442657,-.16756311058998108,.14311327040195465,-.00514716561883688,.18524976074695587,-.011256037279963493,.1348915994167328,.03704274445772171,.04992883652448654,.04108894616365433,-.0028529949486255646,-.007784273941069841],[.4063608944416046,.5422101020812988,-.5427196621894836,.41301098465919495,-.5999374389648438,-.34260493516921997,-.5859764218330383,.5120940208435059,.5512343645095825,.6822419166564941,-.3864021301269531,.5557493567466736,.4380606710910797,-.5522674918174744,.6156930923461914,-.4743066430091858],[.785748302936554,.8619656562805176,-.6125167012214661,.5297011137008667,-.7045852541923523,-.7832399606704712,-.5993849635124207,.7085978388786316,.7993820309638977,.9091770052909851,-.6160148978233337,.6583526730537415,.7830554842948914,-.8268464803695679,.7583157420158386,-.7235265374183655],[1.179926872253418,1.2110354900360107,-1.0844197273254395,1.119935393333435,-1.152762532234192,-1.3002325296401978,-1.128269910812378,1.038150429725647,1.1494382619857788,1.1892924308776855,-.9371172189712524,1.1270517110824585,.8690900802612305,-1.3279619216918945,1.1718264818191528,-1.1779474020004272],[1.5185304880142212,1.5353447198867798,-1.2523194551467896,1.4043301343917847,-1.6284000873565674,-1.4568737745285034,-1.3200061321258545,1.1629387140274048,1.6285243034362793,1.267655372619629,-1.2686002254486084,1.607189416885376,1.225298523902893,-1.4611514806747437,1.2336887121200562,-1.381975769996643]]}],rebufferPenalty:10,bSizeMs:2E3,bandwidthManifold:{threshold:6507.88,filter:"throughput-sw",simpleScaling:!0,curves:[{max:1.0054097175598145,scale:183973.15740585327,center:87446.38562202454,gamma:1.767388939857483,min:.493443101644516},{max:-.0027726502157747746,scale:99630.0995349884,center:216892.07553863525,gamma:2.908198356628418,min:0}],gamma:1.81668775},dropoutKeepProb:1,estimateType:"factor",bitrateMapStrategy:"mapping",addAudioBitrate:!1,addHighEndSignal:!1,throughputStatsType:"percentile"}],Pib:["throughputThresholdSelectorParam",0],lkb:["upswitchDuringBufferingFactor",2],zRa:["allowUpswitchDuringBuffering",!1],ska:["contentOverrides",void 0],S_:["contentProfileOverrides",void 0],S2:["hindsightDenominator",0],R2:["hindsightDebugDenominator",0],NP:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],uZ:["appendMediaRequestOnComplete",!1],JT:["waitForDrmToAppendMedia",!1],C1:["forceAppendHeadersAfterDrm",!1],AI:["reappendRequestsOnSkip",!1],v0:["declareBufferingCompleteAtSegmentEnd",!1],vH:["maxActiveRequestsPerSession",void 0],P3:["limitAudioDiscountByMaxAudioBitrate",!1],tZ:["appendFirstHeaderOnComplete",!0],eJ:["strictBufferCapacityCheck",!1],Uz:["aseReportDenominator",0],yZ:["aseReportIntervalMs",3E5],I8:["translateToVp9Draft",!1],pSa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:257,minRequiredAudioBuffer:7E4}}]],p8:["switchableAudioProfilesOverride",[]],qSa:["audioSwitchConfig",{upSwitchFactor:23.7076576,downSwitchFactor:9.398858461,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],c9a:["maxStartingVideoVMAF",110],pra:["minStartingVideoVMAF",1],mia:["activateSelectStartingVMAF",!1],AS:["selectStartingVMAFTDigest",-1],zS:["selectStartingVMAFMethod","fallback"],Wua:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],wR:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],pZa:["disablePtsStartsEvent",!0],L6:["renormalizeFirstFragment",!0],M6:["renormalizeLastFragment",!0],z6:["recordFirstFragmentOnSubBranchCreate",!0]};},function(f,c,a){var d,k,h,g,p;function b(a,b,c){a=g.he.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(49);h=a(44);g=a(43);a=a(34);ha(b,g.he);oa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Zla:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq/msl_v1";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.jG){case k.Sr.HJa:a="www.stage";break;case k.Sr.xea:a="www-qa.test";break;case k.Sr.dba:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}}});p=b;f.__decorate([h.config(h.string,"apiEndpoint")],p.prototype,"endpoint",null);f.__decorate([h.config(h.string,"nqEndpoint")],p.prototype,"Zla",null);p=f.__decorate([d.P(),f.__param(0,d.j(a.Cj)),f.__param(1,d.j(k.Dk)),f.__param(2,d.j(a.YC)),f.__param(2,d.optional())],p);c.gya=p;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(591);d=a(84);f=a(0);c.sZ=new f.Sb(function(a){a(d.Kr).to(b.gya).Y();});},function(f,c,a){var k,h,g,p,n,r,l,m,q,z,y,w,x,C,F,P;function b(b,c){this.Hs=b;this.Ub=c;this.ya=g.jf(this.Ub,"LicenseBroker");this.wE=[];this.H=a(4).config;this.Cd=this.H.Cd;this.sn=this.H.sn;this.H.sI?n.qpa()?this.iN=!0:this.ya.error("Promise based eme requested but platform does not support it",{browserua:z.Dh}):this.iN=!1;}function d(a){var b,c;b={};y.cb(a.code)?b.S=g.Y$(a.code):b.S=h.v.ye;try{c=a.message.match(/\((\d*)\)/)[1];b.xb=g.cja(c,4);}catch(W){}b.Ga=w.xc(a);return b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(115);h=a(2);g=a(3);p=a(111);n=a(27);r=a(5);l=a(100);m=a(413);q=a(7);z=a(6);y=a(15);w=a(14);x=a(0);C=a(322);b.prototype.gM=function(){this.wE.forEach(function(a){return a();});};b.prototype.GX=function(){return this.H.Wpa?k.xn.Ey:k.xn.Bp;};b.prototype.ld=function(b,c,d){var g;g=a(47).yj;this.Ub.Kh(new g(b,c,d));};b.prototype.Gfa=function(a){return new this.Rp.Qr(a,this.Ub.DB.Jw,this.Ub.DB.release,{lf:!1,Pw:!1});};b.prototype.mM=function(b){var c;c=a(16).FV;this.Ub.fireEvent(c,b);};b.prototype.NLa=function(b){var c,d,f,k,n,r;c=this;k=a(17).Ya;this.Rp.Qr||this.ld(h.I.Su,h.v.uBa);f=g.jf(this.Ub,"Eme");d=this.Gfa(f);n=g.da.get(p.Yy);r=n.XN();n=n.KF(this.Ub.Xe.value.Ab);return this.Rp.un(f,b,function(a){return c.Ub.Pd(a);},{lf:!1,Pw:!1,tpa:this.H.Yh,Tua:{fra:this.H.Sua,Oja:this.H.p7},Na:{getTime:k},Xa:d,LR:this.iN,Da:this.Hs.Da,NC:this.H.NC,ny:this.H.X0,onerror:function(a,b,d){return c.ld(a,b,d);},fR:function(a){return c.mM(a);},O5:!0,iC:this.H.W8&&this.H.iC,QG:this.H.QG,Wia:r,c9:n,$A:this.H.$A});};b.prototype.AY=function(a){var b;b=this;return this.iN?new Promise(function(c,g){if(b.Hs.Da)b.Hs.Da.setMediaKeys(a).then(function(){c({N:!0});})["catch"](function(a){var b;b=d(a);g({N:!1,code:h.I.$V,nb:b.S,yc:b.xb,Ga:b.Ga,message:"Set media keys is a failure",cause:a});});else return Promise.resolve({N:!0});}):Promise.resolve({N:!0});};b.prototype.Pha=function(a,b){var d,g;function c(){d.Ub.kh.$ta()["catch"](function(a){d.ya.error("Unable to set the license",{code:a.code,subCode:a.nb,extCode:a.yc,edgeCode:a.Wj,message:a.message,errorDetails:a.Ga,errorData:a.bl,state:a.state});a.cause&&a.cause.Ga&&(a.Ga=a.Ga?a.Ga+a.cause.Ga:a.cause.Ga);d.ld(a.code,a,a.yc);});}d=this;this.ya.info("Setting the license");g=this.Ub.kh;return(b?this.H.I7?g.Nia().then(function(){return d.AY(g.Uh);}):g.Nia():g.create(this.Cd).then(function(){return d.H.I7?d.AY(g.Uh).then(function(){return g.Hc(d.GX(),a);}):g.Hc(d.GX(),a);})).then(function(){return d.H.I7?Promise.resolve({N:!0}):d.AY(g.Uh);}).then(function(){d.ya.info("license set");d.gM();d.Hs.Cxa.then(function(){d.H.oB&&(b||d.H.Wpa)&&(d.aua=t.setTimeout(c,d.H.oB));});})["catch"](function(a){d.ya.error("Unable to set the license",{code:a.code,subCode:a.nb,extCode:a.yc,edgeCode:a.Wj,message:a.message,errorDetails:a.Ga,errorData:a.bl,state:a.state});a.cause&&a.cause.Ga&&(a.Ga=a.Ga?a.Ga+a.cause.Ga:a.cause.Ga);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.ld(a.code,a,a.yc);});};b.prototype.$Ma=function(){var k,p;function b(a){var b;b={};a.forEach(function(a){b[m.PZa(a.K9a)]=a.time.pa(q.Qa);});return b;}function c(){var a,b,c;a={next:function(a){var b;b=g.kq(a.kH);k.ya.trace("Key status",{keyId:b,status:a.value});},error:r.Db,complete:r.Db};b={next:function(a){k.ld(a.code,a,a.yc);},error:r.Db,complete:r.Db};c={next:function(a){k.mM(a);},error:r.Db,complete:r.Db};g.da.get(l.$C)().then(function(d){var h;h={Cd:k.Cd,M:k.Ub.M,ia:k.Ub.ia,Ve:k.Ub.Ve,Vj:k.Ub.Vj,profileId:k.Ub.profile.id,Da:k.Hs.Da};h={type:k.GX(),SP:g.Qk(k.Ub.hu[0]),context:h};F=d;d.oH().subscribe(c);k.Ub.kvb=F;F.Hc(h).Fw(function(c){k.Ub.fireEvent(p);k.$fa=c;k.Ub.kh=c;k.Ub.pQ=c.pQ;c.Hpa.subscribe(a);c.GA().subscribe(b);return c.wN();}).subscribe(function(){k.ya.info("Finished a license");},function(a){k.ld(a.code,a,a.yc);},function(){f();});})["catch"](function(a){k.ld(a.code,a,a.yc);});}function f(){k.ya.info("Successfully applied license");try{k.Hs.Da?k.Hs.Da.setMediaKeys(k.Ub.kh.Uh).then(function(){k.gM();})["catch"](function(a){a=d(a);k.ld(h.I.$V,a,a.xb);}):k.gM();}catch(Y){k.ld(h.I.$V,Y);}}k=this;p=a(16).iL;this.TX||(this.TX=!0,n.cQ(this.H)&&this.H.$m&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.jj(this.Ub.M,"ldl").then(function(a){var c;k.Ub.kh=a;c={next:function(a){k.ld(a.code,a,a.yc);},error:r.Db,complete:r.Db};a.GA().subscribe(c);return a.wN().subscribe(function(){k.ya.info("Finished a license");},function(a){k.ld(a.code,a,a.yc);},function(){a.O3&&k.mM(a.O3);k.Ub.b3(b(a.$d));k.Ub.xja=!0;f();});})["catch"](function(a){k.ya.warn("eme not in cache",a);c();}):c());};b.prototype.XQa=function(a){-1===this.wE.indexOf(a)&&this.wE.push(a);};b.prototype.seb=function(a){a=this.wE.indexOf(a);0<=a&&this.wE.splice(a,1);};b.prototype.hsa=function(b){var d,f,k;function c(){var a;d.Ub.kh=d.NLa(b.initDataType);a=[];d.Ub.hu.forEach(function(b){a.push(g.Qk(b));});d.Pha(a);}d=this;f=a(16).iL;k=a(80).Bh;this.ya.trace("Received event: "+b.type);this.Ub.Rg?k.wN().subscribe({error:function(a){d.ya.error("videoCache: setMediKeys failed",{errorCode:a.errorCode,errorSubCode:a.S});d.ld(a.errorCode,a.S);},complete:function(){d.ya.info("VideoCache: setMediKeys");d.Ub.fireEvent(f);d.gM();}}):this.H.sn?this.$Ma():this.TX||(this.TX=!0,this.Rp.un?this.Ub.hu?n.cQ(this.H)&&this.H.$m&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.jj(this.Ub.M,"ldl").then(function(a){d.Ub.kh=a;return a.Bxa.then(function(){var b;b=[];d.Ub.hu.forEach(function(a){b.push(g.Qk(a));});return d.Pha(b,!0).then(function(){var b;if(a.NN)d.ld(h.I.wBa);else{b=g.jf(d.Ub,"Eme");a.ckb({log:b,jk:function(a){return d.Ub.Pd(a);}},{Xa:d.Gfa(b),onerror:function(a,b,c){return d.ld(a,b,c);}});(b=a.Hsa)&&d.mM(b);d.Ub.b3(a.$d||{});d.Ub.xja=!0;}});});})["catch"](function(a){d.ya.warn("eme not in cache",a);c();}):c():(this.ya.error("Missing the PSSH on the video track, closing the player"),this.ld(h.I.YGa)):this.ld(h.I.Su,h.v.vBa));};b.prototype.Mbb=function(){var a;a=this;return F&&this.$fa?new Promise(function(b){F.Mhb(a.$fa).Fw(function(a){return a.JRa();}).Fw(function(b){a.ya.trace("Fulfilled the last secure stop");a.H.Yh&&a.Ub.CB.wS({success:!0,persisted:!1});return b.close();}).subscribe({error:function(c){a.ya.error("Unable to get/add secure stop data",c);a.H.Yh&&a.Ub.CB.wS({success:c.N,ErrorCode:c.code,ErrorSubCode:c.nb,ErrorExternalCode:c.yc,ErrorEdgeCode:c.Wj,ErrorDetails:c.uw});b();},complete:function(){b();}});}):Promise.resolve();};oa.Object.defineProperties(b.prototype,{Rp:{configurable:!0,enumerable:!0,get:function(){return a(32).Ye;}},RH:{configurable:!0,enumerable:!0,get:function(){return this.iN?"encrypted":this.Hs.CU+"needkey";}}});P=b;f.__decorate([C.M3],P.prototype,"Rp",null);f.__decorate([C.M3],P.prototype,"RH",null);P=f.__decorate([x.P()],P);c.LDa=P;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(593);d=a(316);c.r7a=new f.Sb(function(a){a(d.rba).zwa(b.LDa);});},function(f,c,a){var d,k,h,g,p;function b(a,b){a=k.he.call(this,a,"TransportConfigImpl")||this;a.jo=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(44);a=a(137);ha(b,k.he);oa.Object.defineProperties(b.prototype,{sxa:{configurable:!0,enumerable:!0,get:function(){return!0;}},wra:{configurable:!0,enumerable:!0,get:function(){return this.jo.D6;}}});p=b;f.__decorate([g.config(g.ef,"usesMsl")],p.prototype,"sxa",null);f.__decorate([g.config(g.ef,"refreshCredentialsAfterManifestAuthError")],p.prototype,"wra",null);p=f.__decorate([d.P(),f.__param(0,d.j(h.Cj)),f.__param(1,d.j(a.PD))],p);c.jKa=p;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.send=function(){return Promise.reject("Not implemented");};b.prototype.Q_=function(){return{};};d=b;d=f.__decorate([a.P()],d);c.GJa=d;},function(f,c,a){var d,k,h,g,p,n,r,l;function b(a,b,c,d){this.config=b;this.Ke=c;this.receiver=d;this.log=a.Cb("MslTransport");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);h=a(2);g=a(97);p=a(317);n=a(7);a=a(197);r={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={PH:{Wb:a.Wb,log:a.log,profile:a.profile},method:a.Tj,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.pa(n.Qa),PC:a.profile.id,Beb:!r[a.Tj],eR:!!r[a.Tj],GO:!0,ju:a.e7,headers:a.headers};return this.Ke.send(d).then(function(d){c.receiver.n6({Tj:a.Tj,inputs:b,outputs:d});return d;})["catch"](function(d){var g;if(!d.error)throw d.nb=d.S||d.nb,c.receiver.n6({Tj:a.Tj,inputs:b,outputs:d}),d;g=d.error;g.pk=d.pk;c.log.error("Error sending MSL request",{mslCode:g.Tm,subCode:g.nb,data:g.data,message:g.message});g.yc===h.JK.xKa&&(g.nb=h.v.SK,g.yc="4027",c.config.wra&&"manifest"===a.Tj&&c.Ke.j6a());c.receiver.n6({Tj:a.Tj,inputs:b,outputs:g});throw g;});};b.prototype.Q_=function(){return{userTokens:this.Ke.Ke.getUserIdTokenKeys()};};l=b;l=f.__decorate([d.P(),f.__param(0,d.j(k.Jb)),f.__param(1,d.j(p.KW)),f.__param(2,d.j(g.Yu)),f.__param(3,d.j(a.gW))],l);c.eFa=l;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(317);d=a(319);k=a(597);h=a(596);g=a(595);c.Bjb=new f.Sb(function(a){a(b.KW).to(g.jKa).Y();a(d.dca).to(k.eFa);a(d.iea).to(h.GJa);a(d.Fea).pl(function(a){return function(){return a.uc.get(b.KW).sxa?a.uc.get(d.dca):a.uc.get(d.iea);};});});},function(f,c,a){var d,k,h,g,p,n,r,l;function b(a,b,c,d,g,f,h,k){this.platform=a;this.Ud=b;this.Bq=c;this.Wb=d;this.yx=g;this.tZa=f;this.Y2=h;this.mkb=k;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(86);h=a(84);g=a(71);p=a(125);n=a(320);r=a(114);l=a(126);a=a(405);b=f.__decorate([d.P(),f.__param(0,d.j(k.gs)),f.__param(1,d.j(h.Kr)),f.__param(2,d.j(g.op)),f.__param(3,d.j(l.sD)),f.__param(4,d.j(p.OD)),f.__param(5,d.j(n.Rca)),f.__param(6,d.j(r.Cy)),f.__param(7,d.j(a.Jea))],b);c.uHa=b;},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.QAa,3,h.hi.events,h.$e.Iy,h.hi.events+"/offline")||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(){return Promise.reject(Error("Links are required with DownloadEvent"));};b.prototype.Cm=function(a,b,c,d){var g;g=this;return this.send(a,b,c.QA("events").href,d).then(function(){})["catch"](function(a){throw g.Fm(a);});};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.hBa=p;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xg={aBb:"startDownload",cBb:"stopDownloadDueToError",Utb:"completeDownload",Ktb:"cancelDownload",nAb:"reportProgress"};c.iBa="DownloadEventPboCommandSymbol";},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.uJa,3,h.hi.Hc,h.$e.Iy,h.hi.Hc)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(a,b,c){var d;d=this;return this.send(a,b,"/syncDeactivateLinks",c).then(function(a){return a.result;})["catch"](function(a){throw d.Fm(a);});};b.prototype.Cm=function(){return Promise.reject(Error("executeWithLinks is not supported by syncDeactivateLinks"));};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.MHa=p;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.NHa="PboSyncDeactivateLinksCommandSymbol";},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.CBa,g.xg.CA,3,n.$e.$r)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);b.prototype.FN=function(a){return Object.assign({},h.Oi.prototype.FN.call(this,a),{action:a.action});};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.LBa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.Sda,g.xg.splice,1,n.$e.$r)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.FJa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.Hda,g.xg.resume,1,n.$e.$r)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.RIa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.vca,g.xg.pause,1,n.$e.$r)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.rHa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.qV,g.xg.jH,1,n.$e.$r)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.DDa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.Xda,g.xg.stop,3,n.$e.Iy)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.JJa=a;},function(f,c,a){var d,k,h,g,p,n;function b(a){return h.Oi.call(this,a,k.I.Tda,g.xg.start,3,n.$e.oD)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(92);g=a(57);p=a(40);n=a(39);ha(b,h.Oi);a=b;a=f.__decorate([d.P(),f.__param(0,d.j(p.Qi))],a);c.IJa=a;},function(f,c,a){var d,k,h;function b(a,b){this.Gd=a;this.lq=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(22);a=a(52);b.prototype.sjb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Gd.pR(a.substring(a.indexOf("?")+1));});return{N:!0,Qb:a.map(function(a,b){return{id:a.sessionId,Ot:c[b].drmlicensecontextid,nB:c[b].licenseid};}),Eo:a.map(function(a){return{data:b.lq.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.vjb=function(a){return{N:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(k.ze)),f.__param(1,d.j(a.zk))],h);c.BHa=h;},function(f,c,a){var d,k,h;function b(a){this.Na=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(42);h=a(7);b.prototype.rjb=function(a){var b;b=this.Na.jg.pa(h.Dp);return{inputs:a.Rj.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ia.toString(),mdxControllerEsn:a.BH};}),Xpa:"standard"===a.mg.toLowerCase()?"license":"ldl"};};b.prototype.ujb=function(a){var b,c,d,g;b=this;c=a.Afb||{};d=[];g=a.Qb.map(function(g){var f;d.push(g.id);f=c[g.id];delete c[g.id];return{url:b.qja(g.Ot,g.nB),echo:"sessionId",params:{sessionId:g.id,secureStop:f,secureStopId:f?g.nB:void 0,xid:a.ia.toString()}};});Object.keys(c).forEach(function(d){g.push({url:b.qja(a.Qb[0].Ot),echo:"sessionId",params:{sessionId:d,secureStop:c[d],secureStopId:void 0,xid:a.ia.toString()}});});return g;};b.prototype.qja=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.Pi))],a);c.AHa=a;},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.aAa,3,h.hi.Hc,h.$e.Iy,h.hi.Hc)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(){return Promise.reject(Error("Links are required with deactivate"));};b.prototype.Cm=function(a,b,c,d){var g;g=this;c=c.QA("deactivate").href;return this.send(a,b,c,d).then(function(a){return a.result;})["catch"](function(a){throw g.Fm(a);});};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.wHa=p;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xHa="PboDeactivateLicenseCommandSymbol";},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.Pda,3,h.hi.Hc,h.$e.Iy,h.hi.Hc)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(a,b,c){var d;d=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;d.Pja(a);return a;})["catch"](function(a){throw d.Fm(a);});};b.prototype.Cm=function(){return Promise.reject(Error("Links are unsupported with release"));};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.LHa=p;},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.Su,3,h.hi.Hc,h.$e.oD,h.hi.Hc)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.Cm=function(a,b,c,d){var g;g=this;c=c.QA(d.Xpa).href;return this.send(a,b,c,d.inputs,"sessionId","license"===d.Xpa?h.$e.oD:h.$e.$r).then(function(a){a=a.result;g.Pja(a);return a;})["catch"](function(a){throw g.Fm(a);});};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.sHa=p;},function(f,c,a){var d,k,h,g,p,n,l,m,q,B,z,t,w,x,C,F;function b(a,b,c,d,g){a=z.ci.call(this,a,k.I.eca,3,h.hi.Ma,h.$e.oD,h.hi.Ma)||this;a.config=b;a.le=c;a.bUa=d;a.bcb=g;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(330);p=a(3);n=a(30);l=a(56);m=a(112);q=a(59);B=a(83);a(325);z=a(79);t=a(40);w=a(211);x=a(379);a=a(196);C={fps:"fairplay"};ha(b,z.ci);b.prototype.kg=function(a,b,c){var d;d=this;return this.B3a(c).then(function(g){return d.send(a,b,"/"+d.name,g,void 0,d.i4a(c.qG));}).then(function(a){return a.result;})["catch"](function(a){throw d.Fm(a);});};b.prototype.Cm=function(a,b,c,d){return this.kg(a,b,d).then(function(a){c.UE(a.links);a.Fo=c;return a;});};b.prototype.B3a=function(a){var b,c,d,f,h,k,n,r;b=this;c=a.wh||{};d={};f=a.yf;d[f]={unletterboxed:this.x3(c.preferUnletterboxed)};h=g.CV.MA();k=C[h]||h;n=this.config().rkb?30:25;h=p.LA();r=(a.Lm?q.$.jaa:h.F4a(f)).concat(h.E4a()).concat(this.config().Br).concat(["BIF240","BIF320"]).filter(Boolean);return Promise.all([a.Lm?Promise.resolve(void 0):h.SA(),a.Lm?Promise.resolve(void 0):h.EG(),this.t2a(a.ia)]).then(function(g){var h,p,m;h=Aa(g);g=h.next().value;p=h.next().value;h=h.next().value;m=p&&void 0!==p.SUPPORTS_SECURE_STOP?!!p.SUPPORTS_SECURE_STOP:void 0;p=p?p.DEVICE_SECURITY_LEVEL:void 0;return{type:a.Lm?"offline":"standard",viewableId:f,profiles:r,flavor:l.Jc.gVa(a.qG),drmType:k,drmVersion:n,usePsshBox:!0,isBranching:a.Ht,useHttpsStreams:!0,imageSubtitleHeight:w.FW.r2(),uiVersion:b.context.yx.iy,uiPlatform:b.context.yx.uT,clientVersion:b.context.platform.version,supportsPreReleasePin:b.config().ig.qib,supportsWatermark:b.config().ig.rib,showAllSubDubTracks:b.config().ig.fhb||b.x3(c.showAllSubDubTracks),packageId:a.Yl?Number(a.Yl):void 0,deviceSupportsSecureStop:m,deviceSecurityLevel:p,videoOutputInfo:g,titleSpecificData:d,preferAssistiveAudio:b.x3(c.assistiveAudioPreferred),preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,oxid:a.A5?a.A5.toString():void 0,dxid:a.d_a?a.d_a.toString():void 0,downloadQuality:a.dvb,challenge:h,isNonMember:b.context.yx.Ci};});};b.prototype.i4a=function(a){switch(a){case l.jm.Bp:case l.jm.MAa:return h.$e.oD;case l.jm.Cda:case l.jm.eea:return h.$e.Iy;case l.jm.Lca:return h.$e.$r;}};b.prototype.x3=function(a){return m.rp.fh(a)?"true"===a.toLowerCase():!!a;};b.prototype.t2a=function(a){var b;b=this;return this.bUa.gna().then(function(c){var d;d=a&&b.bcb.X3a(a);d&&d.Ok("cad");return c;});};F=b;F=f.__decorate([d.P(),f.__param(0,d.j(t.Qi)),f.__param(1,d.j(n.wg)),f.__param(2,d.j(B.nU)),f.__param(3,d.j(x.N9)),f.__param(4,d.j(a.qW))],F);c.EHa=F;},function(f,c,a){var d,k,h,g,p;function b(a){return g.ci.call(this,a,k.I.IDa,1,h.hi.oqa,h.$e.$r,h.hi.oqa)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(39);g=a(79);a=a(40);ha(b,g.ci);b.prototype.kg=function(a,b,c){var d;d=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw d.Fm(a);});};b.prototype.Cm=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.Qi))],p);c.DHa=p;},function(f,c,a){var b,d,k,h,g,p,n,l,m,q,B,z,t,w,x,C,F,P,M,ea,O,W,U,A,D,N,G,S,V,fa;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(346);d=a(618);k=a(338);h=a(617);g=a(337);p=a(616);n=a(335);l=a(615);m=a(614);q=a(613);B=a(334);z=a(612);t=a(333);w=a(611);x=a(57);C=a(610);F=a(609);P=a(58);M=a(2);ea=a(608);O=a(607);W=a(606);U=a(605);A=a(604);D=a(603);N=a(602);G=a(601);S=a(600);V=a(40);fa=a(599);c.FUa=new f.Sb(function(a){a(V.Qi).to(fa.uHa);a(b.Vca).to(d.DHa);a(k.Wca).to(h.EHa);a(g.Pca).to(p.sHa);a(n.ada).to(l.LHa);a(m.xHa).to(q.wHa);a(D.NHa).to(N.MHa);a(G.iBa).to(S.hBa);a(B.Sca).to(z.AHa);a(t.Tca).to(w.BHa);a(x.jea).to(C.IJa);a(x.kea).to(F.JJa);a(x.lba).to(ea.DDa);a(x.Nca).to(O.rHa);a(x.Nda).to(W.RIa);a(x.hea).to(U.FJa);a(x.W$).to(A.LBa);a(x.vK).pl(function(a){return function(b){switch(b){case x.xg.start:return a.uc.get(x.jea);case x.xg.stop:return a.uc.get(x.kea);case x.xg.jH:return a.uc.get(x.lba);case x.xg.pause:return a.uc.get(x.Nca);case x.xg.resume:return a.uc.get(x.Nda);case x.xg.splice:return a.uc.get(x.hea);case x.xg.CA:return a.uc.get(x.W$);}throw new P.dc(M.I.cGa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(f,c,a){var k,h,g,p;function b(a,b,c,d){this.ia=a;this.Keb=b;this.Z=c;this.app=d;this.$d={};}function d(a,b){this.Og=a;this.app=b;this.Nb={};this.Z=a.Cb("PlaybackMilestoneStoreImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(12);g=a(29);p=a(7);d.prototype.keb=function(a,c){this.Nb[a]&&this.Z.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.Xd()).pa(p.Qa);this.Z.trace("registerPlayback: xid "+a+" at "+c);this.Nb[a]=new b(a,c,this.Z,this.app);return this.Nb[a];};d.prototype.X3a=function(a){this.Nb[a]||this.Z.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Nb[a];};d.prototype.ueb=function(a){this.Z.trace("removePlayback: xid "+a);delete this.Nb[a];};a=d;a=f.__decorate([k.P(),f.__param(0,k.j(h.Jb)),f.__param(1,k.j(g.Xf))],a);c.lIa=a;b.prototype.Ok=function(a,b){b=b?b.pa(p.Qa):this.app.Xd().pa(p.Qa)-this.Keb;this.Z.trace("addMilestone: xid "+this.ia+" "+a+" at "+b);this.$d[a]=b;};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(196);d=a(620);c.G=new f.Sb(function(a){a(b.qW).to(d.lIa).Y();});},function(f,c,a){var d,k;function b(){this.gJ=new k.ii();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(76);b.prototype.n6=function(a){this.gJ.next(a);};oa.Object.defineProperties(b.prototype,{Xa:{configurable:!0,enumerable:!0,get:function(){return this.gJ;}}});a=b;a=f.__decorate([d.P()],a);c.KHa=a;},function(f,c,a){var d,k,h;function b(a,b){this.Bq=b;this.log=a.Cb("Pbo");this.links={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);a=a(71);b.prototype.UE=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.QA=function(a){return this.links[a];};b.prototype.MQa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Bq().Of;a="drmContextId="+a.drmContextId;this.UE({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(k.Jb)),f.__param(1,d.j(a.op))],h);c.CHa=h;},function(f,c,a){var d,k,h,g,p;function b(a,b){a=k.he.call(this,a,"PboConfigImpl")||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(44);a=a(30);ha(b,k.he);oa.Object.defineProperties(b.prototype,{iy:{configurable:!0,enumerable:!0,get:function(){return this.config().ig.iy||"";}},uT:{configurable:!0,enumerable:!0,get:function(){return this.config().ig.uT||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},tsa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().ig.Ex;}},Ci:{configurable:!0,enumerable:!0,get:function(){return!1;}},jva:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},U2:{configurable:!0,enumerable:!0,get:function(){return 10;}}});p=b;f.__decorate([g.config(g.string,"uiVersion")],p.prototype,"iy",null);f.__decorate([g.config(g.string,"uiPlatform")],p.prototype,"uT",null);f.__decorate([g.config(g.Eu,"pboVersion")],p.prototype,"version",null);f.__decorate([g.config(g.string,"pboOrganization")],p.prototype,"tsa",null);f.__decorate([g.config(g.f8,"pboLanguages")],p.prototype,"languages",null);f.__decorate([g.config(g.ef,"hasLimitedPlaybackFunctionality")],p.prototype,"Ci",null);f.__decorate([g.config(g.object(),"pboCommands")],p.prototype,"jva",null);f.__decorate([g.config(g.Eu,"pboHistorySize")],p.prototype,"U2",null);p=f.__decorate([d.P(),f.__param(0,d.j(h.Cj)),f.__param(1,d.j(a.wg))],p);c.vHa=p;},function(f,c,a){var h,g,p,n,l,m,q,B,z,t,w,x,C,F,P;function b(a){this.config=a;this.Vk=[];}function d(a,b,c){this.eb=a;this.zJ=b;this.context=c;this.startTime=this.eb.Xd();}function k(a,c,d,g,f,h,k,p,n){this.json=d;this.eb=g;this.Q1=f;this.xI=h;this.ka=k;this.le=n;this.log=a.Cb("Pbo");this.zJ=c();this.Vk=new b(p);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(7);p=a(2);n=a(319);l=a(12);m=a(46);q=a(29);B=a(49);z=a(113);t=a(41);w=a(318);x=a(125);C=a(83);F=a(33);P=a(39);k.prototype.send=function(a,b){var c;c=new d(this.eb,this.zJ,a);this.Vk.append(c);return this.gC(a,b,c);};k.prototype.gC=function(a,b,c){var d;d=this;return new Promise(function(g,f){d.ZB(a,b).then(function(a){var b,h;d.Sfb(a);b=Aa(d.Ckb(a));h=b.next().value;b=b.next().value;h&&(d.BUa(c),g(a));b&&(d.cka(c,b),f(b));})["catch"](function(a){var b;b=d.cka(c,a);a.Ga&&(a.Ga=[a.Ga," ",b].join(""));f(a);});});};k.prototype.Sfb=function(a){(a=a.serverTime)&&this.le.jc(F.eba.iva,g.Hb(a));};k.prototype.Ckb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.ubb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(O){throw{zx:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{zx:!0,code:"FAIL",message:"There is no result property on the response"};}throw{zx:!0,code:"FAIL",message:"There is no body property on the response"};};k.prototype.kSa=function(a,b,c){var d;d=this;this.ekb(b,a);return this.zJ.send(b,c).then(function(a){return{ZB:!1,result:d.ubb(a.body)};})["catch"](function(c){var g,f;f=c&&c.pk&&void 0!==c.pk.maxRetries?Math.min(c.pk.maxRetries,b.e7):b.e7;return d.GS(b,c,a,f)?(g=d.NTa(c,a,f),d.log.warn("Method failed, retrying",Object.assign({Method:b.Tj,Attempt:a+1,WaitTime:g,MaxRetries:f},d.w0(c))),Promise.resolve({ZB:!0,Xc:g,error:c})):Promise.resolve({ZB:!1,error:c});});};k.prototype.ekb=function(a,b){var c;c=a.url.searchParams;c.set(P.tW.PIa,(b+1).toString());c.set(P.tW.$e,a.S6.toString());c.set(P.tW.QIa,a.R6);};k.prototype.ZB=function(a,b,c){var d;c=void 0===c?0:c;d=this;return this.kSa(c++,a,b).then(function(g){if(g.ZB)return d.PJ(g.Xc).then(function(){return d.ZB(a,b,c);});if(g.error)throw g.error;if(void 0===g.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return g.result;});};k.prototype.GS=function(a,b,c,d){var g;g=this.Q1.d7||this.R6a(b);if(g&&c<d)return!0;g?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Tj,Attempt:c+1,MaxRetries:d},this.w0(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Tj},this.w0(b)));return!1;};k.prototype.R6a=function(a){var b,c;b=a&&a.code;c=a&&(a.S||a.nb);a=a.yc!==p.JK.Oca;c=!!c&&c>=p.v.yy&&c<=p.v.xy&&a;return!(!b||"RETRY"!==b)||c;};k.prototype.NTa=function(a,b,c){return a&&a.pk&&void 0!==a.pk.retryAfterSeconds?g.am(a.pk.retryAfterSeconds):g.Hb(this.xI.p6(1E3,1E3*Math.pow(2,Math.min(b-1,c))));};k.prototype.PJ=function(a){var b;b=this;return new Promise(function(c){b.ka.qg(a||g.vg,c);});};k.prototype.w0=function(a){return w.L6a(a)?a:{message:a.message,subCode:a.nb,extCode:a.yc,mslCode:a.Tm,data:a.data};};k.prototype.BUa=function(a){a.kib();};k.prototype.cka=function(a,b){var c;a.Ew(b);try{c=this.json.stringify(this.Vk);this.log.error("PBO command history",this.json.parse(c));return c;}catch(W){return"";}};a=k;a=f.__decorate([h.P(),f.__param(0,h.j(l.Jb)),f.__param(1,h.j(n.Fea)),f.__param(2,h.j(m.Yr)),f.__param(3,h.j(q.Xf)),f.__param(4,h.j(B.Dk)),f.__param(5,h.j(z.TD)),f.__param(6,h.j(t.gi)),f.__param(7,h.j(x.OD)),f.__param(8,h.j(C.FU))],a);c.yHa=a;d.prototype.kib=function(){this.N=!0;this.elapsedTime=this.eb.Xd().Ed(this.startTime);};d.prototype.Ew=function(a){this.N=!1;this.elapsedTime=this.eb.Xd().Ed(this.startTime);this.fib=a.nb||a.subCode;this.y0a=a.yc||a.extCode;};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){var a;a=Object.assign({success:this.N,method:this.context.Tj,profile:this.context.profile.id,startTime:this.startTime.pa(g.Qa),elapsedTime:this.elapsedTime?this.elapsedTime.pa(g.Qa):"in progress"},this.zJ.Q_());return this.N?a:Object.assign({},a,this.zJ.Q_(),{subcode:this.fib,extcode:this.y0a});};b.prototype.append=function(a){this.Vk.push(a);0<this.config.U2&&this.Vk.length>this.config.U2&&this.Vk.shift();};b.prototype.toJSON=function(){return this.Vk;};},function(f,c,a){var b,d,k,h,g,p,n,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(320);d=a(625);k=a(125);h=a(624);g=a(109);p=a(623);n=a(197);l=a(622);c.Fbb=new f.Sb(function(a){a(k.OD).to(h.vHa).Y();a(b.Rca).to(d.yHa);a(g.Uca).to(p.CHa);a(g.Ry).pl(function(a){return function(){return a.uc.get(g.Uca);};});a(n.gW).to(l.KHa).Y();});},function(f,c,a){var d,k,h,g,p;function b(a){return k.he.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(44);k=a(43);h=a(0);g=a(34);p=a(7);ha(b,k.he);oa.Object.defineProperties(b.prototype,{qra:{configurable:!0,enumerable:!0,get:function(){return p.Hb(5E3);}},rsa:{configurable:!0,enumerable:!0,get:function(){return p.Hb(1E3);}},ssa:{configurable:!0,enumerable:!0,get:function(){return p.Hb(1E3);}}});a=b;f.__decorate([d.config(d.Ei,"minDecoderBufferMilliseconds")],a.prototype,"qra",null);f.__decorate([d.config(d.Ei,"optimalDecoderBufferMilliseconds")],a.prototype,"rsa",null);f.__decorate([d.config(d.Ei,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"ssa",null);a=f.__decorate([h.P(),f.__param(0,h.j(g.Cj))],a);c.bFa=a;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(408);d=a(627);c.b$a=new f.Sb(function(a){a(b.aca).to(d.bFa).Y();});},function(f,c,a){var d,k,h,g,b;function b(a){function b(b,c){this.H=b;this.D0a=!1;this.emit=g.prototype.emit;this.addListener=g.prototype.addListener;this.on=g.prototype.on;this.once=g.prototype.once;this.removeListener=g.prototype.removeListener;this.removeAllListeners=g.prototype.removeAllListeners;this.listeners=g.prototype.listeners;this.listenerCount=g.prototype.listenerCount;g.call(this);this.ya=a.Cb("DownloadTrack");this.Gs=c.jl;}b.prototype.zm=function(){this.fN=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.fN+" config: "+JSON.stringify(this.H);};b.prototype.toJSON=function(){return"Download Track id:"+this.fN+" config: "+JSON.stringify(this.H);};b.prototype.Rta=function(a){var b;b=a.connections;this.H.connections!==b&&(this.H=a,this.Gs.VAb(b));};b.prototype.eB=function(){return 1<this.H.connections?!0:!1;};oa.Object.defineProperties(b.prototype,{ac:{configurable:!0,enumerable:!0,get:function(){return this.fN;}},aO:{configurable:!0,enumerable:!0,get:function(){return void 0===this.fN;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},Bx:{configurable:!0,enumerable:!0,get:function(){return this.ya;}},jl:{configurable:!0,enumerable:!0,get:function(){return this.Gs;}}});this.uy=Object.assign(b,new h.kBa());}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);h=a(146);g=a(145).EventEmitter;b=f.__decorate([d.P(),f.__param(0,d.j(k.Jb))],b);c.jBa=b;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(146);d=a(629);c.PRa=new f.Sb(function(a){a(b.C$).to(d.jBa).Y();});},function(f,c,a){var d,k,h,g,p;function b(a){return k.he.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(44);p=a(7);ha(b,k.he);oa.Object.defineProperties(b.prototype,{Zua:{configurable:!0,enumerable:!0,get:function(){return!0;}},d4:{configurable:!0,enumerable:!0,get:function(){return p.b5(5);}}});a=b;f.__decorate([g.config(g.ef,"sendPrefetchEventLogs")],a.prototype,"Zua",null);f.__decorate([g.config(g.Ei,"logsInterval")],a.prototype,"d4",null);a=f.__decorate([d.P(),f.__param(0,d.j(h.Cj))],a);c.sIa=a;},function(f,c,a){var d,k,h;function b(a,b){this.Ta=b;this.Z=a.Cb("PlayPredictionDeserializer");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);a=a(21);b.prototype.bZa=function(a){var b;b=this;try{return{direction:a.direction,o7a:a.layoutHasChanged,gfb:a.rowInteractionIndex,ta:a.lolomos.map(function(a){return b.XYa(a);})};}catch(n){this.Z.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.XYa=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.WYa(a);}),requestId:a.requestId,rowIndex:a.rowIndex,ifb:a.rowSegment};};b.prototype.WYa=function(a){var b,c;b={Ib:a.pts,property:a.property,yf:a.viewableId,index:a.index};c=a.preplay;this.Ta.Lf(c)&&(b.OB=this.$Ya(c));a=a.params;this.Ta.Lf(a)&&(b.lb=this.qla(a));return b;};b.prototype.$Ya=function(a){var b;b={Ib:a.pts,yf:a.viewableId,Ax:a.pipelineNum,index:a.index};a=a.params;this.Ta.Lf(a)&&(b.lb=this.qla(a));return b;};b.prototype.qla=function(a){return{Tc:a.uiLabel,Ug:a.trackingId,wh:a.sessionParams};};b.prototype.rla=function(a){var b;b=this;try{return a.map(function(a){return b.YYa(a);});}catch(n){this.Z.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.YYa=function(a){var b,c;c=a.params;this.Ta.Lf(c)&&(b=this.ZYa(c));return{M:a.movieId,ad:a.priority,lb:b,Tc:a.uiLabel,BBb:a.uiExpectedStartTime,ABb:a.uiExpectedEndTime,Nh:a.firstTimeAdded};};b.prototype.ZYa=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ta.Lf(c)&&(b=this.aZa(c));return{$v:this.VYa(a.authParams),wh:b,Ug:a.trackingId,X:a.startPts,Ma:a.manifest,kf:a.isBranching};};b.prototype.VYa=function(a){return{Ksa:(a||{}).pinCapableClient};};b.prototype.aZa=function(a){a.DBb=a.uiplaycontext;return a;};b.prototype.Xfb=function(a){var b,c;try{b="";this.Ta.Lf(a.cta)&&(b=JSON.stringify(this.$fb(JSON.parse(a.cta))));c="";this.Ta.Lf(a.dta)&&(c=JSON.stringify(this.agb(JSON.parse(a.dta))));return{dest_id:a.jO,offset:a.offset,predictions:a.ita.map(this.cgb,this),ppm_input:b,ppm_output:c,prepare_type:a.wzb};}catch(r){this.Z.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.cgb=function(a){return{title_id:a.pn};};b.prototype.$fb=function(a){return{direction:a.direction,layoutHasChanged:a.o7a,rowInteractionIndex:a.gfb,lolomos:a.ta.map(this.Zfb,this)};};b.prototype.Zfb=function(a){return{context:a.context,list:a.list.map(this.Yfb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.ifb};};b.prototype.Yfb=function(a){var b,c;this.Ta.Lf(a.OB)&&(b=this.dgb(a.OB));this.Ta.Lf(a.lb)&&(c=this.E7(a.lb));return{preplay:b,pts:a.Ib,viewableId:a.yf,params:c,property:a.property,index:a.index};};b.prototype.dgb=function(a){var b;this.Ta.Lf(a.lb)&&(b=this.E7(a.lb));return{pts:a.Ib,viewableId:a.yf,params:b,pipelineNum:a.Ax,index:a.index};};b.prototype.E7=function(a){return{uiLabel:a.Tc,trackingId:a.Ug,sessionParams:a.wh};};b.prototype.agb=function(a){return a.map(this.bgb,this);};b.prototype.bgb=function(a){var b;this.Ta.Lf(a.lb)&&(b=this.E7(a.lb));return{movieId:a.M,priority:a.ad,params:b,uiLabel:a.Tc,firstTimeAdded:a.Nh,viewableId:a.yf,pts:a.Ib};};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(k.Jb)),f.__param(1,d.j(a.fe))],h);c.RHa=h;},function(f,c,a){var k,h,g,p,l,r,m,q,B;function b(a,b,c,d,g,f,h,k){this.lj=a;this.ex=b;this.ka=c;this.au=g;this.config=f;this.Y1=h;this.M5=k;this.QR=[];this.D3=[];this.Z5={};this.Z=d.Cb("PrefetchEvents");}function d(a,b,c,d,g,f){this.lj=a;this.ex=b;this.ka=c;this.Og=d;this.config=g;this.M5=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(110);h=a(0);g=a(7);p=a(63);l=a(107);r=a(41);m=a(12);q=a(321);a=a(198);d.prototype.create=function(a,c){return new b(this.lj,this.ex,this.ka,this.Og,a,this.config,c,this.M5);};B=d;B=f.__decorate([h.P(),f.__param(0,h.j(p.Zr)),f.__param(1,h.j(l.Fy)),f.__param(2,h.j(r.gi)),f.__param(3,h.j(m.Jb)),f.__param(4,h.j(q.vda)),f.__param(5,h.j(a.iW))],B);c.tIa=B;b.prototype.yTa=function(a,b,c){this.hk(k.Kd.Nu.cza,a,b,void 0,c);};b.prototype.ATa=function(a,b,c){this.hk(k.Kd.Nu.dza,a,b,void 0,c);};b.prototype.wTa=function(a,b,c){this.hk(k.Kd.Nu.bza,a,b,void 0,c);};b.prototype.uTa=function(a,b,c){this.hk(k.Kd.Nu.$ya,a,b,void 0,c);};b.prototype.tF=function(a,b,c){this.hk(k.Kd.Nu.aza,a,b,void 0,c);};b.prototype.dcb=function(a){this.hk(k.Kd.Nu.iGa,void 0,a);};b.prototype.gr=function(a,b,c,d,g,f,h){this.oN()&&(this.hk(k.Kd.Nu.hJa,void 0,a),this.j8a(a,b,c,d,g,f,h),this.Cma(),this.gqa());this.N6a(a)&&this.Oeb();};b.prototype.cZa=function(a){a={dest_id:a,cache:this.D7(this.Y1())};this.QI("destiny_start",a);};b.prototype.Dcb=function(a){(a=this.M5.Xfb(a))?this.QI("destiny_prepare",a):this.Z.error("failed to serialize prepare event");};b.prototype.Cma=function(){0<this.QR.length&&this.oN()&&(this.QI("destiny_events",{dest_id:this.au.Bl,events:this.QR}),this.QR=[]);this.qS&&(this.qS.cancel(),this.qS=void 0);this.bma();};b.prototype.gqa=function(){var a;if(this.zTa()&&this.oN()){a=this.Y1();this.D3=a;a={dest_id:this.au.Bl,offset:this.au.sP(),cache:this.D7(a)};this.QI("destiny_cachestate",a);}this.pS&&(this.pS.cancel(),this.pS=void 0);this.ama();};b.prototype.update=function(a){var b;b=this;a.ta.forEach(function(a){a.list.forEach(function(a){b.Z5[a.yf]=!0;});});};b.prototype.N6a=function(a){return this.Z5[a];};b.prototype.zTa=function(){var a,b,c;a=this;b=this.Y1();if(b.length!==this.D3.length)return!0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b)!==JSON.stringify(a.D3[d])&&(c=!0);}catch(F){a.Z.error("Failed to stringify cachedTitle",F);}});return c;};b.prototype.hk=function(a,b,c,d,g){this.oN()&&(a={offset:this.au.sP(),event_type:a,title_id:c,asset_type:b,size:d,reason:g},this.QR.push(a),this.bma(),this.ama());};b.prototype.bma=function(){this.qS||(this.qS=this.ka.qg(this.config.d4,this.Cma.bind(this)));};b.prototype.ama=function(){this.pS||(this.pS=this.ka.qg(this.config.d4,this.gqa.bind(this)));};b.prototype.j8a=function(a,b,c,d,f,h,p){var l;l=[];c&&l.push({pn:a,jq:k.Kd.bi.q9,state:k.Kd.VJ.bK});d&&l.push({pn:a,jq:k.Kd.bi.Su,state:k.Kd.VJ.bK});f&&l.push({pn:a,jq:k.Kd.bi.iD,state:k.Kd.VJ.bK});(0<h.pa(g.Qa)||0<p.pa(g.Qa))&&l.push({pn:a,jq:k.Kd.bi.MEDIA,state:k.Kd.VJ.bK,tSa:h.pa(g.Qa),Qkb:p.pa(g.Qa)});a={dest_id:this.au.Bl,offset:this.au.sP(),xid:b,cache:this.D7(l)};this.QI("destiny_playback",a);};b.prototype.QI=function(a,b){this.config.Zua&&(a=this.ex.ot(a,"info",b),this.lj.$l(a));};b.prototype.D7=function(a){return a.map(function(a){return{title_id:a.pn,state:a.state,asset_type:a.jq,size:a.size,audio_ms:a.tSa,video_ms:a.Qkb};});};b.prototype.oN=function(){return 0!==this.au.Bl;};b.prototype.Oeb=function(){this.au.Neb();this.Z5={};};},function(f,c,a){var b,d,k,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(110);d=a(633);k=a(198);h=a(632);g=a(631);p=a(321);c.Okb=new f.Sb(function(a){a(p.vda).to(g.sIa).Y();a(b.wda).to(d.tIa).Y();a(k.iW).to(h.RHa).Y();});},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.z0=function(a){function b(a){var b,c;b=a.type;c=a.number;a=a.name;return b&&"object"===typeof b&&"number"===typeof c?""+b.prefix+c:0>c?"W"+(4294967295+c+1).toString(16).toUpperCase():"string"===typeof a?a.substr(0,2).toUpperCase():"X999";}for(var c=[];a;a=a.cause)c.push(b(a));return c.join("-");};b.prototype.pqa=function(a){var d,f;function b(a){var g,f,h,k;if(a){g=d.z0(a);f=a.name;h=a.message;(k=a.stack)?(k=k.split("\n"),k=k.slice(1,Math.min(k.length,6)).map(c).join("\n")):k=void 0;return{code:g,name:f,message:h,stack:k,debug:a.debug,cause:b(a.cause)};}}function c(a){return a.replace(f,"$2$4$6");}d=this;f=/(\s*at )(.+\()(.+\/)(.+.js\:.+\))|(\s*at )(.+\(native code\))/;return b(a);};d=b;d=f.__decorate([a.P()],d);c.YAa=d;},function(f,c,a){var d,k,h,g;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(6);h=a(322);b.prototype.e4a=function(){var a;a=t.devicePixelRatio||1;return{width:this.Rp.lAa||k.vp.width*a,height:this.Rp.kAa||k.vp.height*a};};oa.Object.defineProperties(b.prototype,{Rp:{configurable:!0,enumerable:!0,get:function(){return a(32).Ye;}}});g=b;f.__decorate([h.M3],g.prototype,"Rp",null);g=f.__decorate([d.P()],g);c.PKa=g;},function(f,c,a){var d,k;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(112);b.prototype.compare=function(a,b){var c;c=[];this.F_(a,b,"",c);return c;};b.prototype.F_=function(a,b,c,d){var g;g=this;if(k.rp.Wn(a))k.rp.Wn(b)&&a.length===b.length?a.forEach(function(f,h){g.F_(a[h],b[h],c+"["+h+"]",d);}):d.push({a:a,b:b,path:c});else if(k.rp.Uv(a)&&null!=a)if(k.rp.Uv(b)&&null!=b){for(var f in a)this.F_(a[f],b[f],c+"."+f,d);for(var h in b)h in a||void 0===b[h]||d.push({a:void 0,b:b[h],path:c+"."+h});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=f.__decorate([d.P()],a);c.PFa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.QFa="ObjectComparerSymbol";},function(f,c,a){var d,k,h,g;function b(a){this.location=a;k.mj(this,"location");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(45);h=a(46);a=a(0);b.pR=function(a){var b,g,f;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){g=a[c].trim();f=g.indexOf("=");0<=f?b[decodeURIComponent(g.substr(0,f).replace(d.Kca,"%20"))]=decodeURIComponent(g.substr(f+1).replace(d.Kca,"%20")):b[g.toLowerCase()]="";}}return b;};oa.Object.defineProperties(b.prototype,{qdb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=d.pR(this.uta);}},uta:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.wI)return this.wI;this.wI=this.location.search.substr(1);a=this.wI.indexOf("#");0<=a&&(this.wI=this.uta.substr(0,a));return this.wI;}}});g=d=b;g.Kca=/[+]/g;g=d=f.__decorate([a.P(),f.__param(0,a.j(h.tba))],g);c.AIa=g;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.S1=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.S1(a);});};d=b;d=f.__decorate([a.P()],d);c.AKa=d;},function(f,c,a){var d,k,h,g,p,l;function b(a,b){this.is=a;this.json=b;k.mj(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(45);h=a(46);g=a(0);p=a(21);l=a(132);b.prototype.Dta=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.pZ(a);});};b.prototype.t6=function(a){var b;b=this;return d.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.Oz(a);});};b.prototype.Ba=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.Xn(a);});};b.prototype.zdb=function(a){var b;b=this;return d.read(a,function(a){return parseFloat(a);},function(a){return b.is.If(a);});};b.prototype.Bta=function(a,b){return d.read(a,function(a){return d.c1a(a,b);},function(a){return void 0!==a;});};b.prototype.v6=function(a,b){return d.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Eta=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return d.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Uv(a)&&b(a);});}catch(B){return new l.yl();}};b.prototype.ae=function(a,b,c){var g,f;c=void 0===c?1:c;g=this;a=a.trim();f=b instanceof Function?b:this.qXa(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new l.yl();a=a.substring(b+1,c);try{return d.rbb(a).map(function(a){a=f(g,d.Bkb(a));if(a instanceof l.yl)throw a;return a;});}catch(y){return y instanceof l.yl?y:new l.yl();}};b.prototype.qXa=function(a,b){var c;b=void 0===b?1:b;c=this;return function(g,f){g=d.Q3a(a);return 1<b?c.ae(f,a,b-1):g(c,f);};};b.c1a=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d]==a)return d;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new l.yl();};b.Q3a=function(a){switch(a){case"int":return function(a,b){return a.Dta(b);};case"bool":return function(a,b){return a.t6(b);};case"uint":return function(a,b){return a.Ba(b);};case"float":return function(a,b){return a.zdb(b);};case"string":return function(a,b){return a.v6(b);};case"object":return function(a,b){return a.Eta(b);};}};b.rbb=function(a){var p;for(var b=[["[","]"]],c=[],d=0,g=0,f=0,h=[],k={};g<a.length;k={"char":k["char"]},++g){k["char"]=a.charAt(g);p=void 0;","==k["char"]&&0==f?(c.push(a.substr(d,g-d)),d=g+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(k)))?(++f,h.push(p)):0<h.length&&h[h.length-1][1]==k["char"]&&(--f,h.pop());}if(d!=g)c.push(a.substr(d,g-d));else if(d==g&&0<d)throw new l.yl();return c;};b.Bkb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new l.yl();return a.substring(1,a.length-1);}return a;};a=d=b;a=d=f.__decorate([g.P(),f.__param(0,g.j(p.fe)),f.__param(1,g.j(h.Yr))],a);c.NJa=a;},function(f,c,a){var b,d,k,h,g,p,l,r,m,q,B,t;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(641);d=a(640);k=a(639);h=a(132);g=a(418);p=a(209);l=a(638);r=a(637);m=a(323);q=a(636);B=a(383);t=a(635);c.tg=new f.Sb(function(a){a(h.DW).to(b.NJa).Y();a(g.sW).to(k.AIa).Y();a(p.OW).to(d.AKa).Y();a(l.QFa).to(r.PFa).Y();a(m.Xea).to(q.PKa).Y();a(B.y$).to(t.YAa).Y();});},function(f,c,a){var d,k;function b(a){this.x$a=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(324);a=a(0);b.prototype.nna=function(){var a;a=this.x$a.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};k=b;k=f.__decorate([a.P(),f.__param(0,a.j(d.oca))],k);c.Uza=k;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(324);d=a(351);k=a(352);h=a(643);g=a(6);c.crypto=new f.Sb(function(a){a(k.j$).to(h.Uza).Y();a(b.oca).Uf(g.ds);a(d.k$).Uf(g.QV);});},function(f,c,a){var d,k,h,g,p,l;function b(a,b,c){var d;d=l.oL.call(this,a,b,"network")||this;d.le=c;d.uab=function(){d.data=[];d.refresh();};d.Bua=function(a){a=JSON.stringify(d.data[Number(a.target.id)].value,null,4);d.xka(a);};return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(22);h=a(21);g=a(83);p=a(325);l=a(328);ha(b,l.oL);b.prototype.Zc=function(){var a;a=this;if(this.Km)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&78==b.keyCode&&a.toggle();});this.data=[];this.le.addListener(p.w$.Aqb,function(b){a.data.push(b);a.refresh();});this.Km=!0;return Promise.resolve();};b.prototype.h2=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.u2=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.rja.um(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+d+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.A2=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.h2(),b=0;b<this.data.length;++b)a+=this.u2(b,this.data[b].name,this.data[b].value);return a+"</table>";};b.prototype.lna=function(){var a;a=this.Gd.createElement("button",l.eK,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.uab;return[a];};b.prototype.Sta=function(){return Promise.resolve(this.A2());};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.ze)),f.__param(1,d.j(h.fe)),f.__param(2,d.j(g.nU))],a);c.Upb=a;},function(f,c,a){var h,g,p,l,r,m,q,B,z,y,w,x,C,F;function b(a,b,c,d,g,f,h,p,l){var n;n=this;this.Na=a;this.app=b;this.Gd=c;this.ka=d;this.Li=g;this.config=f;this.Bq=h;this.de=l;this.Jib=function(){n.dxa.ib(function(){n.update();});};this.clear=function(){n.entries=[];n.update();};this.ora=function(){n.Sc.fB=!n.Sc.fB;n.Pt&&n.St&&(n.Sc.fB?(n.Pt.style.display="inline-block",n.St.style.display="none"):(n.St.style.display="inline-block",n.Pt.style.display="none"));n.mC(!1);};this.r8a=function(a){var b;n.entries.push(a);b=n.config.pB;0<=b&&n.entries.length>b&&n.entries.shift();void 0===n.Sc.uq[a.Sk]&&(n.Sc.uq[a.Sk]=!0,n.mC(!1));n.Sc.Ul&&!n.kwa?n.Jib():n.dxa.ib();};this.EZa=function(){k.download("all",n.entries.map(function(a){return a.uJ(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Km=!1;this.Sc={Ul:!1,fB:!0,qO:!0,a4:z.Ch.jV,uq:{}};this.dxa=p(m.am(1));this.entries=[];}function d(a){var b;this.elements=[];b=document.createElementNS(d.nJ,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function k(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(22);p=a(407);l=a(41);r=a(42);m=a(7);q=a(29);B=a(71);z=a(12);y=a(82);w=a(147);x=a(326);a=a(53);C=t.Windows&&t.Windows.Storage;k.download=function(a,b){return k.c3a(a).then(function(a){var c;c=b.join("\r\n");return C?k.DZa(a,c):k.J4a(a,c).then(function(a){return k.CZa(a.filename,a.text);});});};k.c3a=function(a){return new Promise(function(b,c){var d,g,f,h,k,p,l;try{d=new Date();g=d.getDate().toString();f=(d.getMonth()+1).toString();h=d.getFullYear().toString();k=d.getHours().toString();p=d.getMinutes().toString();l=d.getSeconds().toString();1===g.length&&(g="0"+g);1===f.length&&(f="0"+f);1===k.length&&(k="0"+k);1===p.length&&(p="0"+p);1===l.length&&(l="0"+l);b(h+f+g+k+p+l+"."+a+".log");}catch(ca){c(ca);}});};k.J4a=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(W){d(W);}});};k.CZa=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(O){return Promise.reject(O);}};k.DZa=function(a,b){var c;try{c=t.Windows.Storage;return c.DownloadsFolder.createFileAsync(a,c.CreationCollisionOption.generateUniqueName).then(function(a){return a.openTransactedWriteAsync();}).then(function(a){var d;d=c.Streams.DataWriter(a.stream);d.writeString(b);return d.storeAsync().then(function(){return a.commitAsync();});});}catch(O){return Promise.reject(O);}};d.prototype.sC=function(){var a;a=document.createElementNS(d.nJ,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};d.prototype.tC=function(a,b,c){var g;g=document.createElementNS(d.nJ,"path");g.setAttribute("d",a);b&&g.setAttribute("fill",b);c&&g.setAttribute("fill-rule",c);this.addElement(g);return this;};d.prototype.bJ=function(a,b,c,g,f){var h;f=void 0===f?"#000000":f;h=document.createElementNS(d.nJ,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",c.toString());h.setAttribute("width",g.toString());f&&h.setAttribute("fill",f);this.addElement(h);return this;};d.prototype.xhb=function(){var a;a=document.createElementNS(d.nJ,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};d.prototype.end=function(){this.elements.pop();return this;};d.prototype.um=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};d.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};oa.Object.defineProperties(d,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},pw:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});d.nJ="http://www.w3.org/2000/svg";b.prototype.Zc=function(){var a;a=this;this.Mg||(this.Mg=new Promise(function(b){t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&76==b.keyCode&&a.toggle();});a.Li.UB(w.Gy.mAa,a.r8a);b();}));return this.Mg;};b.prototype.show=function(){document.body&&(this.element||(this.ZWa(),this.Km=!0),!this.Sc.Ul&&this.element&&(document.body.appendChild(this.element),this.Sc.Ul=!0,this.update(!0)));};b.prototype.Nw=function(){this.Km&&this.Sc.Ul&&this.element&&(document.body.removeChild(this.element),this.Sc.Ul=!1);};b.prototype.toggle=function(){this.Sc.Ul?this.Nw():this.show();};b.prototype.ZWa=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Au=this.xXa());a.appendChild(this.yXa());a.appendChild(this.TWa());this.element=a;}catch(ea){console.error("Unable to create the log console",ea);}};b.prototype.xXa=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.kwa=!0;a.update();a.Au&&(a.Au.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.kwa=!1;a.update();a.Au&&(a.Au.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.yXa=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.lXa());a.appendChild(this.fXa());a.appendChild(this.bXa());a.appendChild(this.zXa());a.appendChild(this.WWa());a.appendChild(this.pXa());a.appendChild(this.oXa());a.appendChild(this.dXa());a.appendChild(this.YWa());return a;};b.prototype.TWa=function(){var a,b,c,d,g,f;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");d=this.createElement("SELECT",this.qo(22,160,1,2),"<option>Select categories</option>");g=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(g);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});f=!1;c.addEventListener("click",function(){f?g.style.display="none":(g.innerHTML="",["all","none"].concat(Object.keys(a.Sc.uq).sort()).forEach(function(b){g.appendChild(a.UWa(b,c));}),g.style.display="block");f=!f;});return b;};b.prototype.UWa=function(a,b){var c,d,g;c=this;d=this.createElement("LABEL","display: block;margin:1px");d.htmlFor=a;g=this.createElement("INPUT","margin:1px");g.type="checkbox";g.id=a;g.checked=this.Sc.uq[a];g.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Sc.uq).forEach(function(b){c.Sc.uq[b]="all"===a;}),b.click()):c.Sc.uq[a]=!c.Sc.uq[a];c.mC(!0);});d.appendChild(g);d.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return d;};b.prototype.lXa=function(){var a,b;a=this;b=this.createElement("SELECT",this.qo(22,NaN,1,2),'<option value="'+z.Ch.ERROR+'">Error</option>'+('<option value="'+z.Ch.Tea+'">Warn</option>')+('<option value="'+z.Ch.jV+'">Info</option>')+('<option value="'+z.Ch.GW+'">Trace</option>')+('<option value="'+z.Ch.bAa+'">Debug</option>'));b.value=this.Sc.a4.toString();b.addEventListener("change",function(b){a.Sc.a4=parseInt(b.target.value);a.mC(!0);},!1);return b;};b.prototype.fXa=function(){var b,c;function a(a){a=a.target.value;b.Sc.filter=a?new RegExp(a):void 0;b.mC(!0);}b=this;c=this.createElement("INPUT",this.qo(14,150,1,2));c.value=this.Sc.filter?this.Sc.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.bXa=function(){var a,b,c,d;a=this;b=this.createElement("div",this.qo(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Sc.qO;c.addEventListener("change",function(b){a.Sc.qO=b.target.checked;a.mC(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};b.prototype.zXa=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.qo());c=new d("0 0 24 24").sC().xhb().end().tC("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",d.pw,"nonzero").end().end().um();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.WWa=function(){var a,b;a=this.createElement("BUTTON",this.qo());b=new d("0 0 24 24").sC().bJ(0,0,24,24,d.background).end().tC("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",d.pw).end().end().um();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.pXa=function(){var a;this.St=this.createElement("BUTTON",this.qo());this.St.style.display=this.Sc.fB?"none":"inline-block";a=new d("0 0 24 24").sC().bJ(0,0,24,24,d.background).end().tC("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",d.pw,"nonzero").end().end().um();this.St.addEventListener("click",this.ora,!1);this.St.appendChild(a);this.St.setAttribute("title","Shrink the log console");return this.St;};b.prototype.oXa=function(){var a;this.Pt=this.createElement("BUTTON",this.qo());this.Pt.style.display=this.Sc.fB?"inline-block":"none";a=new d("0 0 24 24").sC().bJ(4,4,16,16,d.background).end().tC("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",d.pw,"nonzero").end().end().um();this.Pt.addEventListener("click",this.ora,!1);this.Pt.appendChild(a);this.Pt.setAttribute("title","Expand the log console");return this.Pt;};b.prototype.dXa=function(){var a,b;a=this.createElement("BUTTON",this.qo());b=new d("0 0 26 26").sC().bJ(0,0,24,24,d.background).end().tC("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",d.pw,"nonzero").end().end().um();a.appendChild(b);a.addEventListener("click",this.EZa,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.YWa=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.qo());c=new d("0 0 24 24").sC().bJ(0,0,24,24,d.background).end().tC("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",d.pw,"nonzero").end().end().um();b.appendChild(c);b.addEventListener("click",function(){a.Nw();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.mC=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.DI&&Promise.resolve(this.nTa()+this.d3a().join("\r\n")).then(function(c){b.element&&b.Au&&(b.Au.value=c,b.element.style.cssText=b.Sc.fB?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ka.qg(m.vg,function(){b.Au.scrollTop=b.Au.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.d3a=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Sc.a4&&a.Sc.uq[c.Sk]&&(c=c.uJ(!a.Sc.qO,!a.Sc.qO),a.Sc.filter&&!a.Sc.filter.test(c)||b.push(c));});return b;};b.prototype.nTa=function(){var a;a=this.Bq();return"Version: 0.0012.893.010 \n"+((a?"Esn: "+a.Of:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Na.jg.pa(m.Dp)+", Start: "+this.app.oQ.pa(m.Dp)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,d){return this.Gd.createElement(a,b,c,d);};b.prototype.qo=function(a,b,c,g){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+d.pw+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(g?"border-radius:"+g+"px;":"");};F=b;F.Shb="logDxDisplay";F=f.__decorate([h.P(),f.__param(0,h.j(r.Pi)),f.__param(1,h.j(q.Xf)),f.__param(2,h.j(g.ze)),f.__param(3,h.j(l.gi)),f.__param(4,h.j(y.Uu)),f.__param(5,h.j(x.vba)),f.__param(6,h.j(B.op)),f.__param(7,h.j(p.zea)),f.__param(8,h.j(a.ul))],F);c.SDa=F;},function(f,c,a){var d,k,h,g,p;function b(a,b){a=h.he.call(this,a,"LogDisplayConfigImpl")||this;a.jo=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(44);h=a(43);g=a(34);a=a(137);ha(b,h.he);oa.Object.defineProperties(b.prototype,{DI:{configurable:!0,enumerable:!0,get:function(){return!0;}},pB:{configurable:!0,enumerable:!0,get:function(){return this.jo.pB;}},iqa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});p=b;f.__decorate([k.config(k.ef,"renderDomDiagnostics")],p.prototype,"DI",null);f.__decorate([k.config(k.j3,"logDisplayMaxEntryCount")],p.prototype,"pB",null);f.__decorate([k.config(k.j3,"logDisplayAutoshowLevel")],p.prototype,"iqa",null);p=f.__decorate([d.P(),f.__param(0,d.j(g.Cj)),f.__param(1,d.j(a.PD))],p);c.RDa=p;},function(f,c,a){var d,k;function b(){this.s7="";this.zxa=[[],[]];this.U=[[],[]];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a(7);k=a(81);b.prototype.downloadRequest=function(a){var b;""===this.s7&&(this.s7=a.Vo);if(!a.Mb){b=this.djb(a);this.U[a.O].push(b);this.zxa[a.O].forEach(function(a){a.Xsb(b);});}};b.prototype.djb=function(a){return{id:this.m3a(a),Vo:a.Vo,O:a.O,io:a.io,startTime:a.nr,endTime:a.QB,offset:a.lk,sF:a.sF,rF:a.rF,duration:a.Eq,L:a.L,state:k.z9.Ela,FR:!1,cxb:!1,joa:!1,fvb:k.y9.waiting};};b.prototype.m3a=function(a){return a.Ai();};b.prototype.update=function(a){this.zxa[a.O].forEach(function(b){b.HBb(a);});};oa.Object.defineProperties(b.prototype,{Vo:{configurable:!0,enumerable:!0,get:function(){return this.s7;}}});a=b;a=f.__decorate([d.P()],a);c.pya=a;},function(f,c,a){var d,k;function b(a){this.uZa=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(329);b.prototype.Zc=function(){var a;a=this;this.Mg||(this.Mg=new Promise(function(b,c){var d;d=[];a.uZa.forEach(function(a){d.push(a.Zc());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.Mg;};k=b;k=f.__decorate([d.P(),f.__param(0,d.ix(a.I$))],k);c.sBa=k;},function(f,c){function a(a){this.is=a;this.b7a="#881391";this.Zhb="#C41A16";this.ZSa=this.W$a="#1C00CF";this.w6a="#D79BDB";this.Wjb=this.U$a="#808080";}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.um=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Et=function(a,c){return'<font color="'+((void 0===c?0:c)?this.w6a:this.b7a)+'">'+a+": </font>";};a.prototype.Xma=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.Et(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.Dna=function(a,c){var b,d,g;b=this;if(c instanceof CryptoKey)return this.F2a(a,c);d=Object.keys(c);g="";g=g+('<li><a href="#">'+("~~NONAME~~"!==a?this.Et(a):"")+"Object</a>");g=g+"<ul>";d.forEach(function(a){g+=b.getValue(a,c[a]);});g+="</ul>";return g+="</li>";};a.prototype.F2a=function(a,c){a=""+('<li><a href="#">'+this.Et(a)+"CryptoKey</a>");a=a+"<ul>"+this.Dna("algorithm",c.algorithm);a+=this.bna("extractable",c.extractable);a+=this.Sna("type",c.type);a+=this.Xma("usages",c.usages);return a+"</ul></li>";};a.prototype.O3a=function(a,c,f){return'<li><a href="#">'+this.Et(a,void 0===f?!1:f)+('<font color="'+this.W$a+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.bna=function(a,c,f){return'<li><a href="#">'+this.Et(a,void 0===f?!1:f)+('<font color="'+this.ZSa+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Sna=function(a,c,f){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.Et(a,void 0===f?!1:f)+('<font color="'+this.Zhb+'">"'+c+'"</font>')+"</a></li>";};a.prototype.N3a=function(a){return'<li><a href="#">'+this.Et(a)+('<font color="'+this.U$a+'">null</font>')+"</a></li>";};a.prototype.U4a=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.Et(a)+('<font color="'+this.Wjb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,f){f=void 0===f?!1:f;return null===c?""+this.N3a(a):this.is.Wn(c)?""+this.Xma(a,c):this.is.Uv(c)?""+this.Dna(a,c):this.is.fh(c)?""+this.Sna(a,c,f):this.is.If(c)?""+this.O3a(a,c,f):this.is.Oz(c)?""+this.bna(a,c,f):""+this.U4a(a,c);};c.kKa=a;},function(f,c,a){var d,k,h,g,p;function b(a,b,c){var d;d=p.oL.call(this,a,b,"idb")||this;d.de=c;d.Bua=function(a){d.QYa(a.target.id).then(function(){return d.refresh();});};d.vab=function(){d.vUa().then(function(){return d.refresh();});};d.Hab=function(){d.refresh();};d.xab=function(){d.mVa();};return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(22);h=a(21);g=a(156);p=a(328);ha(b,p.oL);b.prototype.Zc=function(){var a;a=this;if(this.Km)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&73==b.keyCode&&a.toggle();});return this.de.create().then(function(b){a.storage=b;a.Km=!0;});};b.prototype.h2=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.u2=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"'+b+'"</font>';c=this.rja.um({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+d+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.A2=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.h2(),c=Object.keys(a),d=0;d<c.length;++d)b+=this.u2(d,c[d],a[c[d]]);return b+"</table>";};b.prototype.lna=function(){var a,b,c;a=this.Gd.createElement("button",p.eK,"Clear",{"class":this.prefix+"-display-btn"});b=this.Gd.createElement("button",p.eK,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Gd.createElement("button",p.eK,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.vab;b.onclick=this.Hab;c.onclick=this.xab;return[a,b,c];};b.prototype.R7a=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Eoa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Eoa;});};b.prototype.QYa=function(a){return this.storage.remove(a);};b.prototype.vUa=function(){return this.storage.removeAll();};b.prototype.Sta=function(){var a;a=this;return this.R7a().then(function(b){return a.A2(b);});};b.prototype.mVa=function(){var a;a=JSON.stringify(this.Eoa,null,4);this.xka(a);};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.ze)),f.__param(1,d.j(h.fe)),f.__param(2,d.j(g.mV))],a);c.dob=a;},function(f,c,a){var d,k,h,g,p,l,r,m;function b(a){return function(){return new Promise(function(b,c){var d;d=a.uc.get(k.K$);d.Zc().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);d=a(329);a(651);k=a(327);h=a(649);g=a(81);p=a(648);l=a(326);r=a(647);m=a(646);a(645);c.c_a=new f.Sb(function(a){a(l.vba).to(r.RDa).Y();a(d.I$).to(m.SDa);a(g.x9).to(p.pya).Y();a(k.K$).to(h.sBa).Y();a(k.J$).vJ(b);});},function(f,c,a){var h,g,p,l;function b(){}function d(a){this.Gbb=a;}function k(a){this.Ibb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(200);p=a(58);l=a(2);k.prototype.Ir=function(a){a.map(this.Ibb.Ir);};a=k;a=f.__decorate([h.P(),f.__param(0,h.j(g.$ca))],a);c.FHa=a;d.prototype.Ir=function(a){this.Gbb.Ir(a.data);};a=d;a=f.__decorate([h.P(),f.__param(0,h.j(g.Xca))],a);c.GHa=a;b.prototype.Ir=function(a){if(!a.ia||"string"!==typeof a.ia)throw new p.dc(l.I.Wr,l.v.Or,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.ia);};g=b;g=f.__decorate([h.P()],g);c.JHa=g;},function(f,c,a){var d,k,h,g,p;function b(a,b,c,d){this.iw=b;this.$p=c;this.je=d;this.log=a.Cb("OfflinePboEventSenderImpl");this.je.Lm.subscribe(this.s3.bind(this));}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(64);k=a(57);h=a(12);g=a(85);a=a(0);b.prototype.s3=function(a){this.Lm=a;};b.prototype.hC=function(){return Promise.resolve();};b.prototype.RI=function(a){var b,c;b=this;if(this.Lm)return Promise.reject("Not sending event offline");c=this.iw(k.xg.stop);return this.$p().then(function(d){return c.kg(b.log,d.Nq(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.nu=function(){return Promise.resolve();};p=b;p=f.__decorate([a.P(),f.__param(0,a.j(h.Jb)),f.__param(1,a.j(k.vK)),f.__param(2,a.j(d.mp)),f.__param(3,a.j(g.Lr))],p);c.TFa=p;},function(f,c,a){var d,k,h,g;function b(a,b,c){this.iw=b;this.$p=c;this.log=a.Cb("OnlinePboEventSenderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(64);k=a(57);h=a(12);a=a(0);b.prototype.hC=function(a,b){var c;c=this.iw(k.xg.start);return this.fma(c,a,b);};b.prototype.RI=function(a){var b,c;b=this;c=this.iw(k.xg.stop);return this.$p().then(function(d){return c.kg(b.log,d.Nq(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.nu=function(a,b,c){a=this.iw(a);return this.fma(a,b,c);};b.prototype.fma=function(a,b,c){var d;d=this;return this.$p().then(function(g){return a.Cm(d.log,g.Nq(c.profileId),b.Ma.Fo,c);}).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};g=b;g=f.__decorate([a.P(),f.__param(0,a.j(h.Jb)),f.__param(1,a.j(k.vK)),f.__param(2,a.j(d.mp))],g);c.VFa=g;},function(f,c,a){var d,k;function b(a,b){this.C7={online:a,offline:b};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(199);a=a(0);b.prototype.hC=function(a,b){return this.C7[b.type].hC(a,b);};b.prototype.RI=function(a){return this.C7[a.type].RI(a);};b.prototype.nu=function(a,b,c){return this.C7[c.type].nu(a,b,c);};k=b;k=f.__decorate([a.P(),f.__param(0,a.j(d.Qy)),f.__param(0,a.hT("type","online")),f.__param(1,a.j(d.Qy)),f.__param(1,a.hT("type","offline"))],k);c.zHa=k;},function(f,c,a){var d,k,h,g,p,l;function b(a,b){a=k.he.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(44);p=a(7);a=a(49);ha(b,k.he);oa.Object.defineProperties(b.prototype,{JB:{configurable:!0,enumerable:!0,get:function(){return this.config.Ql?"unsentplaydatatest":"unsentplaydata";}},z7:{configurable:!0,enumerable:!0,get:function(){return!0;}},Yua:{configurable:!0,enumerable:!0,get:function(){return p.Hb(1E4);}},G5:{configurable:!0,enumerable:!0,get:function(){return p.Hb(4E3);}},Fpa:{configurable:!0,enumerable:!0,get:function(){return p.b5(1);}},Gpa:{configurable:!0,enumerable:!0,get:function(){return p.am(30);}}});l=b;f.__decorate([g.config(g.string,"playdataPersistKey")],l.prototype,"JB",null);f.__decorate([g.config(g.ef,"sendPersistedPlaydata")],l.prototype,"z7",null);f.__decorate([g.config(g.Ei,"playdataSendDelayMilliseconds")],l.prototype,"Yua",null);f.__decorate([g.config(g.Ei,"playdataPersistIntervalMilliseconds")],l.prototype,"G5",null);f.__decorate([g.config(g.Ei,"heartbeatCooldown")],l.prototype,"Fpa",null);f.__decorate([g.config(g.Ei,"keepAliveWindow")],l.prototype,"Gpa",null);l=f.__decorate([d.P(),f.__param(0,d.j(h.Cj)),f.__param(1,d.j(a.Dk))],l);c.oIa=l;},function(f,c,a){var h,g,p,l,r,m,q,B,t,y,w,x,C;function b(a,b,c,g,f,h,k){this.config=a;this.ka=c;this.hp=g;this.Cx=f;this.DR=h;this.Uw=Promise.resolve();this.closed=!1;this.log=b.Cb("PlaydataServices");this.bu=[];this.active=[];this.afb=new d(a,k);}function d(a,b){this.config=a;this.Na=b;}function k(a,b,c,d,g,f){this.log=a;this.ka=b;this.G=c;this.Yj=d;this.hp=g;this.Zbb=f;this.uF=!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(12);p=a(41);l=a(223);r=a(332);m=a(33);q=a(331);B=a(2);t=a(201);y=a(199);w=a(128);x=a(42);k.prototype.XQ=function(a,b){var d;function c(){var a;a=d.Yj.mt(d.G,!1);d.hp.Q8(a)["catch"](function(a){d.log.error("Unable to schedule playdata changes",a);});}d=this;this.log.trace("Adding initial playdata",b);this.hp.dRa(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.So=d.ka.Mua(a,c);})["catch"](function(g){d.log.error("Unable to add playdata",{error:g,playdata:new t.eW().encode(b)});d.So=d.ka.Mua(a,c);});};k.prototype.stop=function(a){var b,c;b=this;if(this.uF)return Promise.resolve();this.So.cancel();c=this.Yj.mt(this.G,!1);return this.hp.Q8(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.G.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.Zbb.RI(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.hp.Yta(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};k.prototype.cancel=function(){this.uF=!0;this.So.cancel();this.hp.Q8(this.Yj.mt(this.G,!1));};oa.Object.defineProperties(d.prototype,{TTa:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Na.jg;return!this.Uw||0<=a.Ed(this.Uw).Wk(this.config.Gpa)?(this.Uw=a,!0):!1;}}});c.Bqb=d;b.prototype.Zc=function(){var a;a=this;this.Mg||(this.log.trace("Starting playdata services"),this.Mg=this.hp.Ddb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Mg;};b.prototype.close=function(){this.closed=!0;this.bu.forEach(function(a){a.XQ.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.JB&&b.z7?this.Nfb(a):Promise.resolve();};b.prototype.vhb=function(a){a.Rg?this.Qva(a,"offline"):this.closed||this.Qva(a,"online");};b.prototype.Jhb=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=[];d=this.Cx.mt(a,!1);this.active=this.active.filter(function(a){return a!==d.ia;});a=this.bu.filter(function(a){return a.key===d.ia.toString();}).map(function(a){c.push(a);a.Vva=!0;return a.XQ.stop(b.config.z7);});return Promise.all(a).then(function(){c.forEach(function(a){return b.bu.splice(b.bu.indexOf(a),1);});});};b.prototype.Qva=function(a,b){var c;c=this;a.addEventListener(m.Ha.BR,function(){c.Rva(a,b);});a.background||a.addEventListener(m.Ha.Vpa,function(){c.Rva(a,b);});a.addEventListener(m.Ha.BR,function(){c.hC(a);});a.addEventListener(m.Ha.BR,function(){c.thb(a);},1);a.addEventListener(m.Ha.zF,function(){c.Ihb();});a.addEventListener(m.Ha.rxa,function(){c.Rfb(a);});a.bd.addListener(function(){a.oc.oO?c.log.trace("stickiness is disabled for timedtext"):c.bva(a);});a.ud.addListener(function(){a.oc.oO?c.log.trace("stickiness is disabled for audio"):c.bva(a);});};b.prototype.Rva=function(a,b){var c,d;a.Pd("pdb");if(this.config.G5.mpa()){c=this.Cx.mt(a,!1);d=c.ia;0<=this.bu.findIndex(function(a){return a.key===d;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.push(d),this.bu.push({key:d,XQ:this.G3a(a,c),Vx:!1,Vva:!1}));}};b.prototype.Nfb=function(a){var b,c,d,g,f,h;b=this;c=Aa(w.Oo(function(a){return"online"===a.type;},this.hp.CR));d=c.next().value;c=c.next().value;g=Aa(w.Oo(function(a){return 0<=a.href.indexOf("downloadSessionId");},c));c=g.next().value;g=g.next().value;g=Promise.all(g.map(function(a){return b.Xta(a);})).then(function(){});d=d.concat(c).filter(function(a){return 0>b.active.indexOf(a.ia);});f=void 0;h=void 0;a&&Infinity===a?f=d:(d=Aa(w.Oo(function(b){return b.M===a;},d)),f=d.next().value,h=d.next().value);h&&0<h.length&&this.ka.qg(this.config.Yua,function(){b.ava(h);});return f&&0!==f.length?g.then(function(){return b.ava(f);}):g;};b.prototype.ava=function(a){var b;b=this;return a.map(function(a){return function(){return b.DR.RI(a).then(function(){return b.Xta(a);});};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve());};b.prototype.Xta=function(a){var b;b=this;return this.hp.Yta(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.G3a=function(a,b){a=new k(this.log,this.ka,a,this.Cx,this.hp,this.DR);a.XQ(this.config.G5,b);return a;};b.prototype.hC=function(b){var c,d;c=this;d=this.Cx.mt(b,!0);this.DR.hC(b,d).then(function(){c.bu.filter(function(a){return a.key===b.ia.toString();}).forEach(function(a){a.Vx=!0;});})["catch"](function(g){var f;c.log.error("Start command failed",{playdata:d,error:g});f=a(47).yj;return b.Kh(new f(B.I.Tda,g));});};b.prototype.Rfb=function(a){this.afb.TTa&&this.nu(y.dW.jH,a,B.I.qV)["catch"](function(){});};b.prototype.bva=function(a){this.nu(y.dW.splice,a,B.I.Sda)["catch"](function(){});};b.prototype.nu=function(b,c,d){var f;function g(a){var b;b=f.bu.filter(function(b){return b.key===a.ia.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.Vva||!b.Vx;},!1);}f=this;return g(c)?this.Uw:this.Uw=this.Uw["catch"](function(){return Promise.resolve();}).then(function(){var a;if(g(c))return Promise.resolve();a=f.Cx.mt(c,!1);return f.DR.nu(b,c,a);}).then(function(a){return a;})["catch"](function(g){var h;f.log.error("Failed to send event",{eventKey:b,xid:c.ia,error:g});if(g.Nf){h=a(47).yj;c.Kh(new h(d,g));}g.Tm===B.LV.NW&&(h=a(47).yj,c.Kh(new h(d,g)));throw g;});};b.prototype.thb=function(a){this.ahb(a)&&this.X7(this.config.Fpa,a);};b.prototype.X7=function(a,b){var c;c=this;this.w_();this.C3=this.ka.qg(a,function(){c.w_();c.nu(y.dW.jH,b,B.I.qV).then(function(){c.X7(a,b);})["catch"](function(d){d.Tm===B.LV.NW&&c.X7(a,b);});});};b.prototype.Ihb=function(){this.w_();};b.prototype.ahb=function(a){return a.state.value==m.Eh.ms&&!a.Rg;};b.prototype.w_=function(){this.C3&&(this.C3.cancel(),this.C3=void 0);};C=b;C=f.__decorate([h.P(),f.__param(0,h.j(q.sda)),f.__param(1,h.j(g.Jb)),f.__param(2,h.j(p.gi)),f.__param(3,h.j(r.Qca)),f.__param(4,h.j(l.fW)),f.__param(5,h.j(y.Qy)),f.__param(6,h.j(x.Pi))],C);c.IHa=C;},function(f,c,a){var h,g,p,l,r,m,q,B,t,y;function b(){}function d(){}function k(a,c,d,g,f){var h;h=this;this.is=a;this.de=c;this.config=d;this.Bq=g;this.Hbb=f;this.cp=function(){return new b().encode({version:h.version,data:h.CR});};this.hkb=function(a){a=h.R8(a);h.Hbb.Ir(a);return a;};this.R8=function(a){if(h.is.ti(a))return h.jkb(a);if(void 0!=a.version&&h.is.If(a.version)&&1==a.version)return h.kkb(a);if(void 0!=a.version&&h.is.If(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.If(a.version))throw new r.dc(p.I.Wr,p.v.M9,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new r.dc(p.I.Wr,p.v.Or,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.bm=new m.$aa(2,this.config().Usa,""!==this.config().Usa&&0<this.config().hcb,this.de,this.cp);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(30);p=a(2);l=a(21);r=a(58);m=a(442);q=a(53);B=a(71);t=a(201);a=a(200);k.prototype.Ddb=function(){return this.bm.load(this.hkb)["catch"](function(a){throw new r.dc(p.I.Wr,a.S||a.nb,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};k.prototype.dRa=function(a){return this.bm.add(a);};k.prototype.Yta=function(a){return this.bm.remove(a,function(a,b){return a.ia===b.ia;});};k.prototype.Q8=function(a){return this.bm.update(a,function(a,b){return a.ia===b.ia;});};k.prototype.toString=function(){return JSON.stringify(this.cp(),null,"  ");};k.prototype.gxa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Bq().Of:"";};k.prototype.S8=function(a){return a.map(function(a){return{vc:a.downloadableId,duration:a.duration};});};k.prototype.hxa=function(a){return a?{total:a.playTimes.total,audio:this.S8(a.playTimes.audio||[]),video:this.S8(a.playTimes.video||[]),text:this.S8(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};k.prototype.jkb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.gxa(a.playbackContextId),ia:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,yF:a.timestamp,SI:a.playback?1E3*a.playback.startEpoch:-1,dx:a.mediaId,kI:this.hxa(a.playback),ac:"",wh:{dummy:"dummy"}};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.de.create().then(function(a){a.save(b.config().cG,d,!1);});if(!c.profileId||""===c.href||""===c.ia)throw new r.dc(p.I.Wr,p.v.Or);return{version:2,data:[c]};};k.prototype.kkb=function(a){var b;b=this;if(!a.playdata||!this.is.Wn(a.playdata))throw new r.dc(p.I.Wr,p.v.Or,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.gxa(a.playbackContextId),ia:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,yF:a.timestamp,SI:a.playback?1E3*a.playback.startEpoch:-1,dx:a.mediaId,kI:b.hxa(a.playback),ac:"",wh:{dummy:"dummy"}};});}(a.playdata)};};oa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.bm.version;}},CR:{configurable:!0,enumerable:!0,get:function(){return this.bm.fo;}}});y=k;y=f.__decorate([h.P(),f.__param(0,h.j(l.fe)),f.__param(1,h.j(q.ul)),f.__param(2,h.j(g.wg)),f.__param(3,h.j(B.op)),f.__param(4,h.j(a.Yca))],y);c.tHa=y;d.prototype.encode=function(a){var b;b=new t.eW();return a.map(b.encode);};d.prototype.decode=function(a){var b;b=new t.eW();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new d().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new d().decode(a.data)};};},function(f,c,a){var d,k,h,g,p,l,r,m,q,B,t,y,w,x;function b(a){return function(){return a.uc.get(d.Zca).Zc();};}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);d=a(124);k=a(223);h=a(201);g=a(332);p=a(659);l=a(658);r=a(331);m=a(657);q=a(199);B=a(656);t=a(655);y=a(654);w=a(200);x=a(653);c.CR=new f.Sb(function(a){a(r.sda).to(m.oIa).Y();a(k.fW).to(h.HHa).Y();a(g.Qca).to(p.tHa).Y();a(d.Zca).to(l.IHa).Y();a(d.eL).vJ(b);a(q.Qy).to(B.zHa).Y().QJ();a(q.Qy).to(t.VFa).Y().SC("type","online");a(q.Qy).to(y.TFa).Y().SC("type","offline");a(w.$ca).to(x.JHa).Y();a(w.Xca).to(x.FHa).Y();a(w.Yca).to(x.GHa).Y();});},function(f,c,a){var d,k,h;function b(a){var b;b=h.uK.call(this)||this;b.Gd=a;return b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(22);h=a(347);ha(b,h.uK);b.prototype.decode=function(a){return{M:a.movieId,Yl:a.packageId,jh:a.drmType,RZa:a.drmVersion,v0a:a.expiration,fUa:this.UXa(a.cdnResponseData),media:this.bYa(a.media),duration:a.duration,Ve:a.playbackContextId,jla:this.XXa(a.defaultTrackOrderList),Vj:a.drmContextId,r5a:a.hasDrmProfile,p5a:a.hasClearProfile,xwa:this.hYa(a.timedtexttracks),Lwa:this.kYa(a.trickplays),IZ:this.TXa(a.audio_tracks),GT:this.pYa(a.video_tracks),qk:this.cla(a.servers),Ie:this.$Xa(a.locations),U6a:a.isUsingLegacyBatchingAPI,TZ:a.bookmark,hoa:a.hasDrmStreams,q5a:a.hasClearStreams,links:a.links,qUa:this.VXa(a.choiceMap),Eb:a.initialHeader,Wkb:this.qYa(a.watermarkInfo),kf:a.isBranching,KZa:a.dpsid,Rkb:a.viewableType,hB:a.isSupplemental,Yja:a.clientIpAddress};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.Yl,drmType:a.jh,drmVersion:a.RZa,expiration:a.v0a,cdnResponseData:this.C_a(a.fUa),media:this.K_a(a.media),duration:a.duration,playbackContextId:a.Ve,defaultTrackOrderList:this.F_a(a.jla),drmContextId:a.Vj,timedtexttracks:this.Q_a(a.xwa),trickplays:this.U_a(a.Lwa),audio_tracks:this.B_a(a.IZ),video_tracks:this.Z_a(a.GT),servers:this.Tla(a.qk),locations:this.I_a(a.Ie),isUsingLegacyBatchingAPI:a.U6a,bookmark:a.TZ,hasDrmProfile:a.r5a,hasClearProfile:a.p5a,hasDrmStreams:a.hoa,hasClearStreams:a.q5a,links:a.links,choiceMap:this.D_a(a.qUa),initialHeader:a.Eb,watermarkInfo:this.$_a(a.Wkb),isBranching:a.kf,dpsid:a.KZa,viewableType:a.Rkb,isSupplemental:a.hB,clientIpAddress:a.Yja};};b.prototype.qYa=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.$_a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.VXa=function(a){var b;b=this;return a&&{Soa:a.initialSegment,type:a.type,yf:a.viewableId,rj:this.AA(a.segments,function(a){return{uC:a.startTimeMs,b1:a.endTimeMs,BYa:a.defaultNext,next:b.AA(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.D_a=function(a){var b;b=this;return a&&{initialSegment:a.Soa,type:a.type,viewableId:a.yf,segments:this.AA(a.rj,function(a){return{startTimeMs:a.uC,endTimeMs:a.b1,defaultNext:a.BYa,next:b.AA(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.UXa=function(a){return{tR:a.pbcid,ou:a.sessionABTestCell};};b.prototype.C_a=function(a){return{pbcid:a.tR,sessionABTestCell:a.ou};};b.prototype.bYa=function(a){return this.hf(a,this.aYa);};b.prototype.K_a=function(a){return this.hf(a,this.J_a);};b.prototype.aYa=function(a){return{G8:this.iYa(a.tracks),id:a.id};};b.prototype.J_a=function(a){return{tracks:this.S_a(a.G8),id:a.id};};b.prototype.iYa=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,wea:a.TEXT};};b.prototype.S_a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.wea};};b.prototype.XXa=function(a){return this.hf(a,this.WXa);};b.prototype.F_a=function(a){return this.hf(a,this.E_a);};b.prototype.WXa=function(a){return{Wz:a.audioTrackId,dx:a.mediaId,Pkb:a.videoTrackId,$va:a.subtitleTrackId,Acb:a.preferenceOrder};};b.prototype.E_a=function(a){return{audioTrackId:a.Wz,mediaId:a.dx,videoTrackId:a.Pkb,subtitleTrackId:a.$va,preferenceOrder:a.Acb};};b.prototype.hYa=function(a){return this.hf(a,this.gYa);};b.prototype.Q_a=function(a){return this.hf(a,this.P_a);};b.prototype.gYa=function(a){return this.Gd.nj(this.y0(a),{type:a.type,Owa:this.fYa(a.ttDownloadables),SR:a.rawTrackType,iB:a.languageDescription,language:a.language,id:a.id,fQ:a.isNoneTrack,aQ:a.isForcedNarrative,Dla:a.downloadableIds,Jja:this.cla(a.cdnlist),gH:a.isLanguageLeftToRight});};b.prototype.P_a=function(a){return this.Gd.nj(this.$0(a),{type:a.type,ttDownloadables:this.O_a(a.Owa),rawTrackType:a.SR,languageDescription:a.iB,language:a.language,id:a.id,isNoneTrack:a.fQ,isForcedNarrative:a.aQ,downloadableIds:a.Dla,cdnlist:this.Tla(a.Jja),trackType:a.$h,new_track_id:a.Vm,isLanguageLeftToRight:a.gH});};b.prototype.fYa=function(a){return this.AA(a,this.eYa);};b.prototype.O_a=function(a){return this.AA(a,this.N_a);};b.prototype.eYa=function(a){return{Dq:a.downloadUrls,w5a:a.hashAlgo,x5a:a.hashValue,height:a.height,width:a.width,G6a:a.isImage,FH:a.midxOffset,OQ:a.midxSize,size:a.size,Hib:a.textKey};};b.prototype.N_a=function(a){return{downloadUrls:a.Dq,hashAlgo:a.w5a,hashValue:a.x5a,height:a.height,width:a.width,isImage:a.G6a,midxOffset:a.FH,midxSize:a.OQ,size:a.size,textKey:a.Hib};};b.prototype.kYa=function(a){if(a)return this.hf(a,this.jYa);};b.prototype.U_a=function(a){if(a)return this.hf(a,this.T_a);};b.prototype.jYa=function(a){return{interval:a.interval,Psa:a.pixelsAspectY,Osa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,xw:a.downloadable_id,gd:a.urls,id:a.id};};b.prototype.T_a=function(a){return{interval:a.interval,pixelsAspectY:a.Psa,pixelsAspectX:a.Osa,width:a.width,height:a.height,size:a.size,downloadable_id:a.xw,urls:a.gd,id:a.id};};b.prototype.TXa=function(a){return this.hf(a,this.SXa);};b.prototype.B_a=function(a){return this.hf(a,this.A_a);};b.prototype.SXa=function(a){return this.Gd.nj(this.y0(a),{id:a.id,Ab:this.RXa(a.streams),$h:a.trackType,Sj:a.channels,language:a.language,o_:a.channelsFormat,k8:a.surroundFormatLabel,iB:a.languageDescription,isNative:a.isNative,qZa:a.disallowedSubtitleTracks,yJ:a.track_id,DYa:a.defaultTimedText,g6:a.profileType,type:a.type,b8:a.stereo,profile:a.profile,C_:a.codecName,SR:a.rawTrackType});};b.prototype.A_a=function(a){return this.Gd.nj(this.$0(a),{id:a.id,streams:this.z_a(a.Ab),trackType:a.$h,channels:a.Sj,language:a.language,channelsFormat:a.o_,surroundFormatLabel:a.k8,languageDescription:a.iB,isNative:a.isNative,disallowedSubtitleTracks:a.qZa,track_id:a.yJ,defaultTimedText:a.DYa,profileType:a.g6,type:a.type,stereo:a.b8,profile:a.profile,codecName:a.C_,rawTrackType:a.SR});};b.prototype.pYa=function(a){return this.hf(a,this.oYa);};b.prototype.Z_a=function(a){return this.hf(a,this.Y_a);};b.prototype.oYa=function(a){return this.Gd.nj(this.y0(a),{type:a.type,Ab:this.nYa(a.streams),Se:a.drmHeader&&this.bla(a.drmHeader),I0:a.dimensionsCount,J0:a.dimensionsLabel,$5a:a.ict,R8a:a.maxCroppedHeight,S8a:a.maxCroppedWidth,T8a:a.maxCroppedX,U8a:a.maxCroppedY,g6:a.profileType,b8:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Msa:a.pixelAspectX,Nsa:a.pixelAspectY,profile:a.profile,f9a:a.max_framerate_value,e9a:a.max_framerate_scale,M9a:a.minCroppedHeight,N9a:a.minCroppedWidth,O9a:a.minCroppedX,P9a:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,b6:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.bla),qG:a.flavor,yJ:a.track_id});};b.prototype.Y_a=function(a){return this.Gd.nj(this.$0(a),{type:a.type,streams:this.X_a(a.Ab),drmHeader:a.Se&&this.Sla(a.Se),dimensionsCount:a.I0,dimensionsLabel:a.J0,ict:a.$5a,maxCroppedHeight:a.R8a,maxCroppedWidth:a.S8a,maxCroppedX:a.T8a,maxCroppedY:a.U8a,profileType:a.g6,stereo:a.b8,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.Msa,pixelAspectY:a.Nsa,profile:a.profile,max_framerate_value:a.f9a,max_framerate_scale:a.e9a,minCroppedHeight:a.M9a,minCroppedWidth:a.N9a,minCroppedX:a.O9a,minCroppedY:a.P9a,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.b6&&a.b6.map(this.Sla),flavor:a.qG,track_id:a.yJ});};b.prototype.bla=function(a){return{ga:a.bytes,oUa:a.checksum,kH:a.keyId};};b.prototype.Sla=function(a){return{bytes:a.ga,checksum:a.oUa,keyId:a.kH};};b.prototype.y0=function(a){return{$h:a.trackType,Vm:a.new_track_id,type:a.type};};b.prototype.$0=function(a){return{trackType:a.$h,new_track_id:a.Vm,type:a.type};};b.prototype.RXa=function(a){return this.hf(a,this.QXa);};b.prototype.z_a=function(a){return this.hf(a,this.y_a);};b.prototype.QXa=function(a){return{hA:a.content_profile,$h:a.trackType,L:a.bitrate,size:a.size,zo:a.isDrm,xw:a.downloadable_id,type:a.type,k5:a.new_stream_id,gd:this.dla(a.urls),Sj:a.channels,o_:a.channelsFormat,k8:a.surroundFormatLabel,language:a.language,oSa:a.audioKey};};b.prototype.y_a=function(a){return{content_profile:a.hA,trackType:a.$h,bitrate:a.L,size:a.size,isDrm:a.zo,downloadable_id:a.xw,type:a.type,new_stream_id:a.k5,urls:this.Ula(a.gd),channels:a.Sj,channelsFormat:a.o_,surroundFormatLabel:a.k8,language:a.language,audioKey:a.oSa};};b.prototype.nYa=function(a){return this.hf(a,this.mYa);};b.prototype.X_a=function(a){return this.hf(a,this.W_a);};b.prototype.mYa=function(a){return{hA:a.content_profile,$h:a.trackType,L:a.bitrate,size:a.size,zo:a.isDrm,xw:a.downloadable_id,type:a.type,k5:a.new_stream_id,gd:this.dla(a.urls),Jbb:a.peakBitrate,I0:a.dimensionsCount,J0:a.dimensionsLabel,Vbb:a.pix_w,Ubb:a.pix_h,lua:a.res_w,kua:a.res_h,Qma:a.framerate_value,Pma:a.framerate_scale,rhb:a.startByteOffset,ee:a.vmaf,Oka:a.crop_x,Pka:a.crop_y,Mka:a.crop_h,Nka:a.crop_w};};b.prototype.W_a=function(a){return{content_profile:a.hA,trackType:a.$h,bitrate:a.L,size:a.size,isDrm:a.zo,downloadable_id:a.xw,type:a.type,new_stream_id:a.k5,urls:this.Ula(a.gd),peakBitrate:a.Jbb,dimensionsCount:a.I0,dimensionsLabel:a.J0,pix_w:a.Vbb,pix_h:a.Ubb,res_w:a.lua,res_h:a.kua,framerate_value:a.Qma,framerate_scale:a.Pma,startByteOffset:a.rhb,vmaf:a.ee,crop_x:a.Oka,crop_y:a.Pka,crop_h:a.Mka,crop_w:a.Nka};};b.prototype.dla=function(a){return this.hf(a,this.lYa);};b.prototype.Ula=function(a){return this.hf(a,this.V_a);};b.prototype.lYa=function(a){return{url:a.url,Ija:a.cdn_id};};b.prototype.V_a=function(a){return{url:a.url,cdn_id:a.Ija};};b.prototype.cla=function(a){return this.hf(a,this.dYa);};b.prototype.Tla=function(a){return this.hf(a,this.M_a);};b.prototype.dYa=function(a){return{id:a.id,key:a.key,xqa:a.lowgrade,name:a.name,rd:a.rank,type:a.type,BZa:this.YXa(a.dns)};};b.prototype.M_a=function(a){return{id:a.id,key:a.key,lowgrade:a.xqa,name:a.name,rank:a.rd,type:a.type,dns:this.G_a(a.BZa)};};b.prototype.YXa=function(a){if(a)return{host:a.host,y6a:a.ipv4,z6a:a.ipv6,z1a:a.forceLookup};};b.prototype.G_a=function(a){if(a)return{host:a.host,ipv4:a.y6a,ipv6:a.z6a,forceLookup:a.z1a};};b.prototype.$Xa=function(a){return this.hf(a,this.ZXa);};b.prototype.I_a=function(a){return this.hf(a,this.H_a);};b.prototype.ZXa=function(a){return{key:a.key,rd:a.rank,weight:a.weight,level:a.level};};b.prototype.H_a=function(a){return{key:a.key,rank:a.rd,weight:a.weight,level:a.level};};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.ze))],a);c.BEa=a;},function(f,c,a){var d,k,h,g,p,l,r,m;function b(a,b,c,d,g,f,h){this.GQa=a;this.meb=b;this.Bq=d;this.Ww=g;this.iua=f;this.tua=h;this.Z=c.Cb("LicenseProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);h=a(337);a(336);g=a(71);p=a(335);l=a(109);r=a(334);a=a(333);b.prototype.Rz=function(a,b){var c,d;c=this;d=this.iua.rjb(a);return this.GQa.Cm(this.Z,b.profile,this.V1a(a),d).then(function(a){a.map(function(a){return a.Mxb;});return c.tua.sjb(a);})["catch"](function(a){c.Z.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.iua.ujb(a);return this.meb.kg(this.Z,b.profile,a).then(function(a){return c.tua.vjb(a);})["catch"](function(a){c.Z.error("PBO release license failed",a);return Promise.reject(a);});};b.prototype.V1a=function(a){var b;b=this.Ww();b.UE({ldl:{href:this.pja(a,"limited"),rel:"ldl"},license:{href:this.pja(a,"standard"),rel:"license"}});return b;};b.prototype.pja=function(a,b){return"/license?licenseType="+b+"&playbackContextId="+a.Ve+"&esn="+this.Bq().Of;};m=b;m=f.__decorate([d.P(),f.__param(0,d.j(h.Pca)),f.__param(1,d.j(p.ada)),f.__param(2,d.j(k.Jb)),f.__param(3,d.j(g.op)),f.__param(4,d.j(l.Ry)),f.__param(5,d.j(r.Sca)),f.__param(6,d.j(a.Tca))],m);c.MDa=m;},function(f,c,a){var d,k,h,g,p,l;function b(a,b,c){this.G8a=a;this.$p=c;this.Z=b.Cb("ManifestProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(14);h=a(15);g=a(338);p=a(12);a=a(64);b.prototype.RA=function(a,b){var c;c=this;return this.$p().then(function(d){return c.G8a.Cm(c.Z,d.profile,b,a);})["catch"](function(a){c.Z.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.fka=function(a,b){var c;c={};a&&k.ic(a,function(a,b){c[a]=h.$c(b)?b:JSON.stringify(b);});b&&k.ic(b,function(a,b){c[a]=h.$c(b)?b:JSON.stringify(b);});return c;};l=b;l=f.__decorate([d.P(),f.__param(0,d.j(g.Wca)),f.__param(1,d.j(p.Jb)),f.__param(2,d.j(a.mp))],l);c.FEa=l;},function(f,c,a){var d,k,h;function b(a){this.Ww=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(109);h=a(211);b.prototype.decode=function(a){var b;b=this.u4a(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.z3a(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.N2a(a),timedtexttracks:this.N4a(a.textTracks,b),media:this.Mq(a.media),trickplays:this.R4a(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.a3a(a),initialHeader:void 0};b.Ox=a.Ox;b.WB=a.WB;b.Fo=this.Ww();b.Fo.MQa(b);return b;};b.prototype.N2a=function(a){var b,c,d;b=Aa(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.z3a=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.u4a=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Yna=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.a2a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.a2a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Yna(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.W4a(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.W4a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Yna(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.N4a=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.H4a(a.downloadables),ttDownloadables:c.I4a(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.H4a=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.$3a=function(a){var b;b=h.FW.r2();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(zb(a.map(function(a){return a.pixHeight;}))));};b.prototype.I4a=function(a){var b;if(a){b=this.$3a(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.Mq=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.R4a=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.a3a=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.Ry))],a);c.GEa=a;},function(f,c,a){var d,k,h,g,p,l,r,m,q,B,t,y;function b(a,b,c,d,g,f,h,k){this.eb=a;this.Gd=c;this.lq=d;this.xkb=g;this.Wb=f;this.Spa=h;this.$p=k;this.Z=b.Cb("DrmProvider");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(29);h=a(22);g=a(52);p=a(160);l=a(12);r=a(126);m=a(64);q=a(229);B=a(115);t=a(363);a=a(148);b.prototype.Hc=function(a){var b,c;b=this;c=this.eb.Xd();return this.$p().then(function(d){return b.Gd.jt(a.Rj[0].data,[8,4])?{Qb:[{id:"ddd",Ot:"cert",nB:void 0}],Eo:[{sessionId:"ddd",data:new Uint8Array(b.lq.decode(t.Uea))}],S0:b.eb.Xd().Ed(c)}:b.Gd.jt(a.Rj[0].data,b.xkb.decode("certificate"))?{Qb:[{id:"ddd",Ot:"cert",nB:void 0}],Eo:[{sessionId:"ddd",data:new Uint8Array(b.lq.decode(t.TBa))}],S0:b.eb.Xd().Ed(c)}:b.Spa.Rz(b.I1a(a),b.FG(d)).then(function(a){return b.J1a(c,a);});});};b.prototype.release=function(a){var b;b=this;return this.$p().then(function(c){return b.Spa.release(b.K1a(a),b.FG(c)).then(function(c){return b.L1a(c,a);});});};b.prototype.I1a=function(a){var b;b=this;return{ia:a.ia,Ve:a.Ve,uO:a.uO,mg:B.u7a(a.mg),jh:q.tU[a.jh],Rj:a.Rj.map(function(a){return{sessionId:a.sessionId,dataBase64:b.lq.encode(a.data)};}),BH:a.BH};};b.prototype.K1a=function(a){var b;b={};a.Tk&&a.Qb[0].id&&(b[a.Qb[0].id]=this.lq.encode(a.Tk));return a&&a.Tk?{ia:a.ia,Qb:a.Qb,Afb:b}:{ia:a.ia,Qb:a.Qb};};b.prototype.J1a=function(a,b){return{Qb:b.Qb,Eo:b.Eo,S0:this.eb.Xd().Ed(a)};};b.prototype.L1a=function(a,b){return a&&a.response&&a.response.data&&b.Qb[0].id&&(a=a.response.data[b.Qb[0].id])?{response:this.lq.decode(a)}:{};};b.prototype.FG=function(a){return{log:this.Z,Wb:this.Wb,profile:a.profile};};y=b;y=f.__decorate([d.P(),f.__param(0,d.j(k.Xf)),f.__param(1,d.j(l.Jb)),f.__param(2,d.j(h.ze)),f.__param(3,d.j(g.zk)),f.__param(4,d.j(p.uL)),f.__param(5,d.j(r.sD)),f.__param(6,d.j(a.tD)),f.__param(7,d.j(m.mp))],y);c.nBa=y;},function(f,c,a){var d,k,h,g,p,l,r;function b(a,b,c,d){this.is=b;this.Wb=c;this.QN=d;this.log=a.Cb("IdentityProvider");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(12);g=a(21);p=a(58);l=a(126);a=a(339);b.prototype.ping=function(a,b){var c;c=this;return this.QN.zla?new Promise(function(d,g){c.QN.zla(c.FG(a,b)).then(function(){d();})["catch"](function(a){g(new p.dc(k.I.MV,a.S,a.xb,a.EA,a.Gq,a.Nf,a.Ga,a.bl));});}):Promise.reject(new p.dc(k.I.MV,k.v.Mca));};b.prototype.Xw=function(a,b){var c;c=this;return this.QN.Xw?new Promise(function(d,g){c.QN.Xw(c.FG(a,b)).then(function(a){d({Us:a.Us,Sg:a.Sg,Ci:a.Ci});})["catch"](function(a){g(new p.dc(k.I.rD,a.S,a.xb,a.EA,a.Gq,a.Nf,a.Ga,a.bl));});}):Promise.reject(new p.dc(k.I.rD,k.v.Mca));};b.prototype.FG=function(a,b){a={log:this.log,Wb:this.Wb,profile:a};this.E6a(b)&&(a.Bw=b.Bw,a.password=b.password);this.is.Oz(b)&&(a.useNetflixUserAuthData=b);this.is.ti(b)&&(a.Sg=b);return a;};b.prototype.E6a=function(a){return void 0===a?!1:this.is.mN(a)?this.is.ti(a.Bw):!1;};r=b;r=f.__decorate([d.P(),f.__param(0,d.j(h.Jb)),f.__param(1,d.j(g.fe)),f.__param(2,d.j(l.sD)),f.__param(3,d.j(a.h$))],r);c.rDa=r;},function(f,c,a){var b,d,k,h,g,p,l,r,m,q,B,z;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(339);d=a(416);k=a(666);h=a(415);g=a(665);p=a(664);l=a(154);r=a(663);m=a(202);q=a(148);B=a(662);z=a(661);c.edb=new f.Sb(function(a){a(b.h$).GC(function(){return t._cad_global.controlProtocol;});a(d.aba).to(k.rDa).Y();a(h.E$).to(g.nBa).Y();a(l.zV).to(p.GEa).Y();a(l.Nba).to(z.BEa).Y();a(m.yV).to(r.FEa).Y();a(q.tD).to(B.MDa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wxb=function(a){return a;};c.F8a=function(a){return a;};c.Xxb=function(a){return Object.assign({},a);};},function(f,c,a){var d,k,h,g,p,l,r,m,q;function b(a,b,c){this.Na=a;this.hlb=b;this.performance=c;k.mj(this,"performance");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(45);h=a(668);g=a(35);p=a(46);l=a(42);r=a(0);m=a(343);q=a(7);b.prototype.get=function(a,b,c){var f;f=this;return new Promise(function(h,k){var p,l,n;try{p=f.hlb.create();"withCredentials"in p||k(Error("Missing CORS support"));p.open("GET",a,!0);b&&(p.withCredentials=!0);c&&(p.timeout=c.pa(q.Qa));l=f.Na.jg;n=void 0;p.onreadystatechange=function(){var b;switch(p.readyState){case XMLHttpRequest.HEADERS_RECEIVED:n=f.Na.jg.Ed(l);break;case XMLHttpRequest.DONE:b=f.Na.jg.Ed(l);h({body:p.responseText,status:p.status,headers:d.pbb(p.getAllResponseHeaders()),zc:f.E3a(a,g.ga(p.responseText.length),b,n)});}};p.send();}catch(ea){k(ea);}});};b.pbb=function(a){var b,d,g;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){d=a[c];g=d.indexOf(": ");0<g&&(b[d.substring(0,g).toLowerCase()]=d.substring(g+2));}return b;};b.prototype.E3a=function(a,b,c,d){b={size:b,duration:c,y8:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=h.F8a(b);a.rYa&&(b.size=g.ga(a.rYa));0<a.duration?b.duration=q.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=q.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.wla=q.timestamp(a.domainLookupEnd-a.domainLookupStart),b.s8=q.timestamp(a.connectEnd-a.connectStart),b.y8=q.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.C8=q.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.C8=q.timestamp(c),b.s8=q.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=d=b;a=d=f.__decorate([r.P(),f.__param(0,r.j(l.Pi)),f.__param(1,r.j(m.Yea)),f.__param(2,r.j(p.hW)),f.__param(2,r.optional())],a);c.uCa=a;},function(f,c,a){var d,k,h,g,p;function b(a,b){this.is=a;this.json=b;k.mj(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(45);h=a(46);g=a(7);a=a(21);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.mN(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.Qz(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.Qz(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(!this.is.Qz(a.pulse_delay))throw Error("FtlProbe: param.pulse_delay: not a positive integer");if(!this.is.Qz(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Wn(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.ti(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Uv(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.mN(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.fh(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.fh(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{odb:a.pulses,mdb:g.Hb(a.pulse_delay),ndb:g.Hb(a.pulse_timeout),Epa:a.next?g.Hb(a.next):void 0,gd:a.urls,c4:a.logblob,context:a.ctx};};p=b;p=f.__decorate([d.P(),f.__param(0,d.j(a.fe)),f.__param(1,d.j(h.Yr))],p);c.ZBa=p;},function(f,c,a){var d,k,h,g,p,l;function b(a,b){this.lj=a;this.ex=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(35);g=a(7);p=a(63);a=a(107);b.prototype.EI=function(a){a=this.ex.ot("ftlProbeError","info",d.blb({url:a.url,sc:a.status,pf_err:a.K5},a));this.lj.$l(a);};b.blb=function(a,b){b.zc&&(b=b.zc,d.Vn(a,"d",b.duration),d.Vn(a,"dns",b.wla),d.Vn(a,"tcp",b.s8),d.Vn(a,"tls",b.C8),d.Vn(a,"ttfb",b.y8),a.sz=b.size.pa(h.Bk));return a;};b.Vn=function(a,b,c){c&&(a[b]=c.pa(g.Qa));return a;};l=d=b;l=d=f.__decorate([k.P(),f.__param(0,k.j(p.Zr)),f.__param(1,k.j(a.Fy))],l);c.NIa=l;},function(f,c,a){var d,k,h,g,p,l;function b(a,b){this.lj=a;this.ex=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(35);g=a(7);p=a(63);a=a(107);b.prototype.EI=function(a){a=this.ex.ot(a.c4,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return d.clb({d:a.zc.duration.pa(g.Qa),sc:a.status,sz:a.zc.size.pa(h.Bk),via:a.Hkb,cip:a.sUa,err:a.d1},a);})};})});this.lj.$l(a);};b.clb=function(a,b){d.Vn(a,"dns",b.zc.wla);d.Vn(a,"tcp",b.zc.s8);d.Vn(a,"tls",b.zc.C8);d.Vn(a,"ttfb",b.zc.y8);return a;};b.Vn=function(a,b,c){c&&(a[b]=c.pa(g.Qa));return a;};l=d=b;l=d=f.__decorate([k.P(),f.__param(0,k.j(p.Zr)),f.__param(1,k.j(a.Fy))],l);c.OIa=l;},function(f,c,a){var d,k,h,g,p,l,r,m;function b(a,b,c,d,g,f,h){this.config=a;this.Coa=b;this.ka=c;this.o=d;this.Deb=g;this.N6=f;this.$6a=0;this.Z=h.Cb("FTL");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(7);g=a(41);p=a(12);l=a(341);r=a(340);a=a(163);b.prototype.start=function(){this.config.enabled&&!this.So&&(this.So=this.ka.qg(this.config.Ova,this.kS.bind(this)));};b.prototype.stop=function(){this.So&&(this.So.cancel(),this.So=void 0);};b.prototype.kS=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.$6a++;this.G4a(b).then(function(b){return Promise.all(b.gd.map(function(c){return a.o5a(b,c.url,c.name);})).then(function(c){0<c.length&&a.Deb.EI({data:c,context:b.context,c4:b.c4});}).then(function(){return b;});}).then(function(b){a.So&&(b.Epa?a.So=a.ka.qg(b.Epa,a.kS.bind(a)):a.stop());})["catch"](function(b){return a.Z.error("FTL run failed",b);});};b.prototype.G4a=function(a){var b;b=this;return this.Coa.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.N6.EI({url:a,status:c.status,K5:"FTL API request failed",zc:c.zc}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.o.parse(c.body);return d instanceof Error?(b.N6.EI({url:a,status:4,K5:"FTL Probe API JSON parsing error",zc:c.zc}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.N6.EI({url:a,status:0,K5:c.message}),b.Z.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.o5a=function(a,b,c){var g;g=this;return new Promise(function(f,k){var q;for(var p,l,n,r=[],m={},u=0;u<a.odb;m={Xc:m.Xc},++u){m.Xc=0==u?h.vg:a.mdb;q=function(c){return function(){return new Promise(function(f,h){g.ka.qg(c.Xc,function(){d.Wcb(g.Coa,b,a.ndb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}p=b(p,"via",a);l=b(l,"x-ftl-probe-data",a);n=b(n,"x-ftl-error",a);f({status:a.status,zc:a.zc,Hkb:p||"",sUa:l||"",d1:n||""});})["catch"](function(a){h(a);});});});};}(m);r.push(0<u?r[u-1].then(q):q());}Promise.all(r).then(function(a){f({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};b.Wcb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};m=d=b;m=d=f.__decorate([k.P(),f.__param(0,k.j(a.gaa)),f.__param(1,k.j(r.taa)),f.__param(2,k.j(g.gi)),f.__param(3,k.j(l.faa)),f.__param(4,k.j(a.Mda)),f.__param(5,k.j(a.Lda)),f.__param(6,k.j(p.Jb))],m);c.aCa=m;},function(f,c,a){var b,d,k,h,g,p,l,r;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(673);d=a(672);k=a(671);h=a(670);g=a(669);p=a(341);l=a(340);r=a(163);c.M1a=new f.Sb(function(a){a(r.haa).to(b.aCa).Y();a(r.Mda).to(d.OIa).Y();a(r.Lda).to(k.NIa).Y();a(p.faa).to(h.ZBa).Y();a(l.taa).to(g.uCa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.Yn=a;}a.prototype.Vt=function(){var a,c,f;a=this.Yn.u3a();c=this.Yn.v3a();f=this.Yn.w3a();if("number"===typeof a&&"number"===typeof c&&"number"===typeof f)return(f-a)/c;};return a;}();c.JFa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a,c){this.Yn=a;this.Vt=c;}a.prototype.H7=function(a){return this.Yn.H7(a);};a.prototype.Gm=function(){return this.Yn.Gm();};a.prototype.L3a=function(){return this.Vt.Vt();};return a;}();c.IFa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.cqa=a;}a.prototype.H7=function(a){try{this.cqa.setItem("gtp",JSON.stringify(a));}catch(d){return!1;}return!0;};a.prototype.tna=function(){var a;try{a=this.cqa.getItem("gtp");if(a)return JSON.parse(a);}catch(d){}};a.prototype.Gm=function(){var a;a=this.tna();if(a&&a.tp)return a.tp.a;};a.prototype.u3a=function(){var a;a=this.k2();if(a)return a.p25;};a.prototype.v3a=function(){var a;a=this.k2();if(a)return a.p50;};a.prototype.w3a=function(){var a;a=this.k2();if(a)return a.p75;};a.prototype.k2=function(){var a;a=this.tna();if(a&&(a=a.iqr))return a;};return a;}();c.u9=f;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(677);d=a(676);k=a(675);c["default"]=function(a){var c;a=new b.u9(a);c=new k.JFa(a);return new d.IFa(a,c);};},function(f,c,a){var d,k,h,g;function b(a,b,c){this.config=a;this.Y7a=b;this.Wh=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(417);k=a(0);h=a(157);a=a(342);b.prototype.a0=function(){if(this.config.mxa)return this.Wh(this.Y7a());};g=b;g=f.__decorate([k.P(),f.__param(0,k.j(d.mca)),f.__param(1,k.j(h.kca)),f.__param(2,k.j(a.nca))],g);c.HFa=g;},function(f,c,a){var d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.create=function(){return new XMLHttpRequest();};d=b;d=f.__decorate([a.P()],d);c.RKa=d;},function(f,c,a){var b,d,k,h,g,p,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(680);d=a(126);k=a(343);h=a(679);g=a(203);p=a(342);l=a(678);c.s$a=new f.Sb(function(a){a(k.Yea).to(b.RKa).Y();a(d.sD).GC(function(){return t._cad_global.http;});a(g.YK).to(h.HFa).Y();a(p.nca).Uf(l["default"]);});},function(f,c,a){var d,k;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(30);oa.Object.defineProperties(b.prototype,{Mjb:{configurable:!0,enumerable:!0,get:function(){return this.config().o8a;}}});k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.wg))],k);c.XDa=k;},function(f,c,a){var d,k,h;function b(a){this.Mf=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(35);a=a(71);b.prototype.g8a=function(){var a;a=this.Mf()?this.Mf().Of.length:40;return k.ga(a+33);};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(a.op))],h);c.ZDa=h;},function(f,c,a){var k,h,g,p,l,r,m,q,t;function b(a,b,c,d,g,f,h,k,l,n,r){this.platform=b;this.k0=c;this.type=d;this.severity=g;this.timestamp=f;this.data=h;this.data.clver=this.platform.version;a&&a.vi&&(a.vi.os&&(this.data.osplatform=a.vi.os.name,this.data.osver=a.vi.os.version),this.data.browsername=a.vi.name,this.data.browserver=a.vi.version);a.hH&&(this.data.tester=!0);a.vo&&!this.data.groupname&&(this.data.groupname=a.vo);a.tq&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.tq:a.tq);a.Gr&&(this.data.uigroupname=a.Gr);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=k;this.data.uniqueLogId=n.S1();this.data.appId=l;r&&(this.data.soffms=r.leb.pa(p.Qa),this.data.mid=r.M,this.data.lvpi=r.sH,this.data.uiLabel=r.Tc,this.data["startup"===d?"playbackxid":"xid"]=r.ia,r.ou&&(a=r.ou,(r=r.ou.split("."))&&1<r.length&&"S"!==r[0][0]&&(a="SABTest"+r[0]+".Cell"+r[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+a:a));}function d(a,b,c,d,g,f){this.Na=a;this.k0=b;this.config=c;this.eb=d;this.ykb=g;this.platform=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(35);h=a(0);g=a(42);p=a(7);l=a(410);r=a(49);m=a(29);q=a(209);a=a(86);d.prototype.ot=function(a,c,d,g){return new b(this.config,this.platform,this.k0,a,c,this.Na.jg,d,this.eb.xna(),this.eb.id,this.ykb,g);};t=d;t=f.__decorate([h.P(),f.__param(0,h.j(g.Pi)),f.__param(1,h.j(l.l$)),f.__param(2,h.j(r.Dk)),f.__param(3,h.j(m.Xf)),f.__param(4,h.j(q.OW)),f.__param(5,h.j(a.gs))],t);c.WDa=t;oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.yja||(this.yja=k.ga(this.k0.encode(this.data).length));return this.yja;}}});},function(f,c,a){var d,k;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(205);b.prototype.Ygb=function(a){return!a.data.playbackoffline||0>this.config.Mjb.indexOf(a.type);};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.yba))],k);c.YDa=k;},function(f,c,a){var d,k,h,g;function b(a){this.config=a;this.V8a=d.ga(5E5);this.Ofb=k.b5(1);this.Iua=k.am(5);this.Rqa=d.ga(1E6);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(35);k=a(7);h=a(0);a=a(30);oa.Object.defineProperties(b.prototype,{Zgb:{configurable:!0,enumerable:!0,get:function(){return this.config().$gb;}},b4:{configurable:!0,enumerable:!0,get:function(){return this.config().b4;}},gZ:{configurable:!0,enumerable:!0,get:function(){return this.config().gZ;}}});g=b;g=f.__decorate([h.P(),f.__param(0,h.j(a.wg))],g);c.PDa=g;},function(f,c,a){var d,k,h,g;function b(a,b){this.lj=a;this.RUa=b();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(35);h=a(63);a=a(30);b.prototype.Zc=function(){this.lj.Zc();};b.prototype.$l=function(a){var b;b=a;this.RUa.nxa||(b=Object.assign({},a,{severity:a.data.sev,size:k.ga(a.G2a().length)}));this.lj.$l(b);};b.prototype.flush=function(a){return this.lj.flush(a);};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(h.Zr)),f.__param(1,d.j(a.wg))],g);c.KDa=g;},function(f,c,a){var d,k,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(204);h=a(35);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.g8a());}).reduce(function(a,b){return a.add(b);},h.ga(0));};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.Aba))],a);c.$Da=a;},function(f,c,a){var k,h,g,p,l,r,m,q,t,z,y;function b(a,b,c,d,g,f,k,p){this.eb=a;this.platform=c;this.Mf=d;this.json=g;this.Gd=f;this.yx=k;this.p8a=p;h.mj(this,"json");this.Z=b.Cb("LogblobSender");}function d(){this.entries=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(45);g=a(46);p=a(7);l=a(22);r=a(29);m=a(86);q=a(71);t=a(12);z=a(346);a=a(125);b.prototype.send=function(a,b){var c;c=this;return new Promise(function(a,g){var f;try{f=b.reduce(function(a,b){a.entries.push(c.mXa(b));return a;},new d());a(c.Q1a(f));}catch(ea){c.Z.error(ea.message);g(ea);}}).then(function(b){return c.gC(b,a);});};b.prototype.mXa=function(a){return this.Gd.nj(this.Gd.nj({},a.data),{esn:this.Mf().Of,sev:a.severity,type:a.type,lver:this.platform.nqa,jssid:this.eb.id,devmod:this.platform.G0,jsoffms:a.timestamp.Ed(this.eb.oQ).pa(p.Qa),clienttime:a.timestamp.pa(p.Qa),client_utc:a.timestamp.pa(p.Dp),uiver:this.yx.iy});};b.prototype.Q1a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(P){for(var c={},d=0;d<a.entries.length;c={fJ:c.fJ,pd:c.pd},++d){c.pd=Object.assign({},a.entries[d]);try{this.json.stringify(c.pd);}catch(M){c.fJ=void 0;this.Gd.yt(c.pd,function(a){return function(c,d){try{b.json.stringify(d);}catch(U){a.fJ=U.message;a.pd[c]=a.fJ;}};}(c));c.pd.stringifyException=c.fJ;c.pd.originalType=c.pd.type;c.pd.type="debug";c.pd.sev="error";}}return this.json.stringify(a);}};b.prototype.gC=function(a,b){var c;c=this;return this.p8a.kg(this.Z,b,{logblobs:a}).then(function(){})["catch"](function(a){c.Z.error("PBO logblob failed",a);return Promise.reject(a);});};y=b;y=f.__decorate([k.P(),f.__param(0,k.j(r.Xf)),f.__param(1,k.j(t.Jb)),f.__param(2,k.j(m.gs)),f.__param(3,k.j(q.op)),f.__param(4,k.j(g.Yr)),f.__param(5,k.j(l.ze)),f.__param(6,k.j(a.OD)),f.__param(7,k.j(z.Vca))],y);c.aEa=y;},function(f,c,a){var d,k,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(7);h=a(35);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:k.Hb(a.timestamp),size:h.ga(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.pa(k.Qa),size:a.size.pa(h.Bk)};};a=b;a=f.__decorate([d.P()],a);c.VDa=a;},function(f,c,a){var d,k,h,g,p,l,r,m,q,t,z,y,w,x;function b(a,b,c,d,g,f,h,p){var l;l=this;this.ka=a;this.de=b;this.Y2=d;this.Io=g;this.config=f;this.Og=h;this.json=p;this.p0=[];k.mj(this,"json");this.Z=this.Og.Cb("MessageQueue");this.vt=new y.UEa(this.Io);c().then(function(a){l.eg=a;l.data=new z.VEa(l.Io,a.profile);l.T7a(a);})["catch"](function(a){l.Z.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(45);h=a(35);g=a(114);p=a(204);l=a(41);r=a(12);m=a(64);q=a(63);t=a(53);z=a(348);y=a(348);w=a(46);x=a(2);b.prototype.cq=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.cq(c.id,this.Bna(b),"logblobs",d),this.$la()):this.p0.push(d);}catch(ea){this.Z.error("JSON.parse error: "+ea.message);}};b.prototype.Kx=function(a){this.data.Kx(a);this.$la();};b.prototype.l2a=function(){var a,b,c,n;a=[];if(this.data){b=this.config.Rqa.to(h.Bk);for(c in this.data.qd)for(var d=this.Nq(c),g=this.data.qd[c],f=[],k=[],p=h.ga(0),l=0;l<g.qd.length;l++){n=g.qd[l];f.push(n.message);k.push(n.id);p=p.add(this.Io.measure([n.message]));if(0<=p.Wk(b)||l+1===g.qd.length)this.Z.trace("Batch_"+a.length+": "+f.length+"/"+p,r.Pr),a.push({profile:d,Foa:k.slice(),qd:f.slice(),size:p}),f=[],k=[],p=h.ga(0);}}return a;};b.prototype.T7a=function(a){var b;b=this;this.config.Iua.mpa()&&(this.Lia=this.de.create(),this.Lia.then(function(a){return a.load("messages");}).then(function(a){b.S7a(a.value);})["catch"](function(a){a.S===x.v.zj?b.Z.info("No messages to load."):b.Z.error("Failed to load messages.",a);}));this.p0.forEach(function(c){b.data.cq(a.profile.id,b.Bna(!1),"logblobs",c);});this.p0=[];};b.prototype.S7a=function(a){var b,c,d;b=this;try{c=this.vt.decode(a);d=this.eg.Nq(c.nN);if(d&&d.hh.id===this.data.nN){this.Z.trace("Loading messageQueue.");a={};for(var g in c.qd)a.profileId=g,c.qd[a.profileId].qd.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.cq(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.Z.trace("AcountId does not match, ignoring persisted messages.");}catch(O){this.Z.error("Load messageQueue failed.",O);}};b.prototype.nfb=function(){var a,b;a=this;b=this.vt.encode(this.data);this.Lia.then(function(a){return a.save("messages",b,!1);}).then(function(){a.Z.info("MessageQueue: Saved",r.Pr);})["catch"](function(b){a.Z.error("Failed to save messages.",b);});};b.prototype.Lhb=function(){this.nS&&(this.nS.cancel(),this.nS=void 0);};b.prototype.$la=function(){this.config.Zgb&&!this.nS&&(this.nS=this.ka.qg(this.config.Iua,this.Kab.bind(this)));};b.prototype.Kab=function(){this.Lhb();this.nfb();};b.prototype.Bna=function(a){return a?this.Y2.GF():0;};b.prototype.Nq=function(a){return this.eg.Nq(a)||this.eg.profile;};oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=h.ga(0);if(this.data)for(var b in this.data.qd)a=a.add(this.data.qd[b].size);return a;}}});a=b;a=f.__decorate([d.P(),f.__param(0,d.j(l.gi)),f.__param(1,d.j(t.ul)),f.__param(2,d.j(m.mp)),f.__param(3,d.j(g.Cy)),f.__param(4,d.j(p.Bba)),f.__param(5,d.j(q.tV)),f.__param(6,d.j(r.Jb)),f.__param(7,d.j(w.Yr))],a);c.WEa=a;},function(f,c,a){var d,k,h,g,p,l,r,m,q,t,z,y;function b(a,b,c,d,g,f,h,p,l){var n;n=this;this.config=a;this.json=c;this.ka=d;this.c8a=g;this.je=h;this.EH=p;this.y9a=l;this.bQ=this.dQ=this.Km=!1;this.listeners=[];k.mj(this,"json");this.Z=f.Cb("LogBatcher");this.je.Lm.subscribe(this.s3.bind(this));this.lo();b().then(function(a){n.eg=a;n.eg.dQ().subscribe(function(a){return n.dQ=a;});})["catch"](function(a){n.Z.error("Unable to initialize the account manager for the log batcher",a,r.Pr);});}Object.defineProperty(c,"__esModule",{value:!0});d=a(1);f=a(0);k=a(45);h=a(46);g=a(350);p=a(64);l=a(41);r=a(12);m=a(63);q=a(349);t=a(85);z=a(205);y=a(2);c.rob=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.Zc=function(){this.Km=!0;};b.prototype.$l=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.Wk(this.config.V8a)?this.Z.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):this.y9a.Ygb(a)&&(!c&&this.eg&&(c=this.eg.profile),this.listeners.forEach(function(b){return b.era(a);}),b=b||0<=this.config.b4.indexOf(a.type),this.EH.cq(a,b,c),this.ka.ib(function(){d.l1a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.bQ?(this.Z.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.Z.trace("Flushing",r.Pr);b.wf();b.ka.ib(function(){b.y7(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.y7=function(a){a=void 0===a?!1:a;return d.__awaiter(this,void 0,void 0,function(){var c,d,g,f,h,k,p,l,n,m,u;function b(b){for(;;)switch(c){case 0:n=m;if(m.Km&&m.dQ&&!m.Lm){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!m.bQ){c=2;break;}m.Z.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:l=m.EH.l2a();p=!1;if(!(0<l.length||a)){c=3;break;}m.wf();m.listeners.forEach(function(a){return a.cva();});k={};h=Aa(l);f=h.next();case 4:if(f.done){c=6;break;}k.nq=f.value;try{return m.Kx(k.nq),m.Z.trace("Sending batch: "+k.nq.size,r.Pr),c=9,{value:m.c8a.send(k.nq.profile,k.nq.qd),done:!1};}catch(ca){g=ca;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(ca){g=ca;c=7;break;}case 10:try{c=8;break;}catch(ca){g=ca;c=7;break;}case 7:d=g;p=!0;m.Z.warn("Failed to send logblobs.",d,r.Pr);m.Tgb(d)&&(m.Z.trace("re-adding failed batch"),k.nq.qd.forEach(function(a){return function(b,c){n.EH.cq(b,0!==a.nq.Foa[c],a.nq.profile);};}(k)));if(!m.chb(d)){c=11;break;}m.bQ=!0;c=6;break;case 11:case 8:case 5:k={nq:k.nq};f=h.next();c=4;break;case 6:case 3:m.lo();if(!p){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;m=this;u={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};Wa();u[Symbol.iterator]=function(){return this;};return u;});};b.prototype.Tgb=function(a){return a.yc===y.JK.Oca?!1:this.config.gZ;};b.prototype.chb=function(a){return a.nb===y.v.SK||a.nb===y.v.lD||a.nb===y.v.yy?!0:!1;};b.prototype.l1a=function(){var a;a=this;0<this.EH.size.Wk(this.config.Rqa)?this.y7()["catch"](function(){return a.Z.warn("failed to send log messages on size threshold");}):this.lo();};b.prototype.wf=function(){this.Bo&&(this.Bo.cancel(),this.Bo=void 0);};b.prototype.lo=function(){this.Lm||this.Bo||(this.Bo=this.ka.qg(this.config.Ofb,this.cr.bind(this)));};b.prototype.cr=function(){var a;a=this;this.bQ=!1;this.wf();this.y7()["catch"](function(){return a.Z.warn("failed to send log messages on timer");});};b.prototype.s3=function(a){this.Z.trace("isOffline: "+a,r.Pr);(this.Lm=a)?this.Bo&&(this.Bo.cancel(),this.Bo=void 0):this.flush();};b.prototype.Kx=function(a){this.EH.Kx(a.Foa);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(C){}return b;};a=b;a=d.__decorate([f.P(),d.__param(0,f.j(m.tV)),d.__param(1,f.j(p.mp)),d.__param(2,f.j(h.Yr)),d.__param(3,f.j(l.gi)),d.__param(4,f.j(g.Cba)),d.__param(5,f.j(r.Jb)),d.__param(6,f.j(t.Lr)),d.__param(7,f.j(q.Zba)),d.__param(8,f.j(z.zba))],a);c.QDa=a;},function(f,c,a){var d,k,h,g,p,l,r;function b(a,b,c,g){var f;f=this;this.s8a=a;this.h8a=b;this.config=g;this.A6=[];this.s8a.UB(d.Kxa,this.e5a.bind(this));c().then(function(a){var b;b=g().ig.x1a;f.Z8a=b?r.Ch[b.toUpperCase()]:r.Ch.ERROR;f.lj=a;f.Qfb();});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(30);g=a(82);p=a(63);l=a(107);r=a(12);b.prototype.e5a=function(a,b){this.lj?this.vta(a,b):this.A6.push([a,b]);};b.prototype.Qfb=function(){var a,b;a=this;b=this.A6;this.A6=[];b.forEach(function(b){a.vta(b[0],b[1]);});};b.prototype.vta=function(a,b){var c,d;if(this.lj&&this.Vgb(a)){c={debugMessage:a.message,debugCategory:a.Sk};a.dd.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});d=this.K6a(a)?"offline":"debug";a=this.h8a.ot(d,r.Ch[a.level].toLowerCase(),c,b);this.lj.$l(a);}};b.prototype.Vgb=function(a){var b;b=this.Z8a;return void 0!==b&&a.level<=b&&!a.dd.find(function(a){return a.JO(r.Pr);});};b.prototype.K6a=function(a){return 0<=this.config().kab.indexOf(a.Sk);};a=d=b;a.Kxa="adaptorAll";a=d=f.__decorate([k.P(),f.__param(0,k.j(g.Uu)),f.__param(1,k.j(l.Fy)),f.__param(2,k.j(p.uba)),f.__param(3,k.j(h.wg))],a);c.hya=a;},function(f,c,a){var b,d,k,h,g,p,l,r,m,q,t,z,y,w,x,C,F,P,M,ea,O,W,A;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(97);d=a(693);k=a(692);h=a(691);g=a(689);p=a(688);l=a(687);r=a(30);m=a(686);q=a(685);t=a(684);z=a(683);y=a(41);w=a(682);x=a(71);C=a(345);F=a(349);P=a(350);M=a(344);ea=a(107);O=a(204);W=a(205);A=a(63);c.q8a=new f.Sb(function(a){a(A.Zr).to(k.QDa).Y();a(F.Zba).to(h.WEa).Y();a(P.Cba).to(g.aEa).Y();a(O.Bba).to(p.$Da).Y();a(A.tV).to(m.PDa).Y();a(ea.Fy).to(t.WDa).Y();a(O.Aba).to(z.ZDa).Y();a(C.t9).to(d.hya).Y();a(A.uba).vJ(function(a){return function(){return new Promise(function(c){var g,f,h,k;function d(){f()&&h()&&k.Ke?c(a.uc.get(A.Zr)):g.ib(d);}g=a.uc.get(y.gi);f=a.uc.get(r.wg);h=a.uc.get(x.op);k=a.uc.get(b.Yu);g.ib(d);});};});a(M.pba).to(l.KDa).Y();a(W.zba).to(q.YDa).Y();a(W.yba).to(w.XDa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.bBa=function(a,b,c,f){this.Of=a;this.Bm=b;this.HA=c;this.tfb=f;};},function(f,c,a){var d,k,h,g,p,l,r,m,q,t,z,y,w,x;function b(a,b,c,d,g,f,h,k,p,l){this.sla=a;this.de=b;this.Ta=d;this.j0=g;this.df=f;this.debug=h;this.JJ=k;this.i0=p;this.je=l;this.bD=/^(SDK-|SLW32-|SLW64-|SLMAC-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.Cb("Device");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(2);k=a(21);h=a(695);g=a(12);p=a(355);l=a(52);r=a(133);m=a(22);q=a(0);t=a(53);z=a(352);y=a(351);w=a(76);a=a(85);b.prototype.kma=function(a){try{return a.match(this.bD)[2];}catch(F){}};b.prototype.lma=function(a){try{return a.match(this.bD)[1];}catch(F){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,g){b.de.create().then(function(f){var p,l,n,r,m,u;function k(f){b.Ta.ti(f)&&b.Ta.ti(p)?(l=new h.bBa(f,p,n,a.tla||"cadmium"),c(l)):g({S:d.v.p$});}p=a.Bm;if(a.R1){m=a.Of;if(b.Ta.ti(m)){u=b.lma(m);u!=a.Bm&&b.log.error("esn prefix from ui is different",{ui:u,cad:a.Bm,ua:a.userAgent});}else a.Y3&&b.log.error("esn from ui is missing");u=Promise.resolve({N:!1});a.xG&&(u=b.Q7a(f,a));u.then(function(c){c.N&&c.HA&&c.deviceId?(n=c.HA,k(p+c.deviceId)):f.load(a.mO).then(function(a){r=a.value;b.Ta.ti(r)&&(b.Ta.ti(m)?(a=b.kma(m),n=a===r?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):n="storage_esn_not_in_config",k(p+r));})["catch"](function(c){var l;function h(){f.save(a.mO,l,!1).then(function(){k(p+l);})["catch"](function(a){g(a);});}c.S===d.v.zj?(b.Ta.ti(a.Of)?(l=b.kma(a.Of),b.Ta.ti(l)?n="config_since_not_in_storage":(n="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Of),l=b.sla.Tma())):(n="generated_since_not_in_config_and_storage",l=b.sla.Tma()),h()):g(c);});})["catch"](g);}else a.hZa&&b.j0&&b.j0.getKeyByName?b.j0.getKeyByName(a.uSa).then(function(a){a=a.id;if(b.Ta.fh(a))a=String.fromCharCode.apply(void 0,b.df.decode(a)),b.debug.assert(""!=a),p=b.lma(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){g({S:d.v.eU,Ga:b.JJ.xc(a)});}):a.gZa&&b.i0&&b.i0.nna?b.i0.nna().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=p+a;b.debug.assert(b.bD.test(a));k(c);})["catch"](function(){g({S:d.v.eU});}):k();})["catch"](function(a){g(a);});});};b.prototype.Q7a=function(a,b){var c;c=this;return new Promise(function(d,g){c.U7a(a,b).then(function(g){b.foa?c.xG(b.foa).then(function(f){var h;if(c.Ta.fh(f)&&c.bD.test(b.Bm+f)){h=Promise.resolve();c.n0a(g,f)&&(c.je.Uk.hk("DebugEvent",{kind:"playerEsn",esnEvent:"transition",oldEsn:g,newEsn:f}),h=c.xjb(a,b));h.then(function(){a.save(b.mO,f,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:f,exception:c.JJ.xc(a)});});d({N:!0,deviceId:f,HA:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.JJ.xc(a)});d({N:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:f}),d({N:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.JJ.xc(a)});d({N:!1});}):(c.log.error("hardwareDeviceId not provided"),d({N:!1}));})["catch"](g);});};b.prototype.U7a=function(a,b){var c;c=this;return new Promise(function(g){a.load(b.mO).then(function(a){a=a.value;c.Ta.fh(a)&&c.bD.test(b.Bm+a)?g(a):(g(void 0),c.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.S!==d.v.zj&&c.log.error("Error loading ESN",a);g(void 0);});});};b.prototype.n0a=function(a,b){return a!==b;};b.prototype.xjb=function(a,b){return a.remove(b.f$a);};b.prototype.xG=function(a){var b;b=this;return new Promise(function(c,d){try{w.oa.from(a.hardwareDeviceId).zC(1).subscribe(function(a){b.Ta.fh(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(ea){d(ea);}});};x=b;x=f.__decorate([q.P(),f.__param(0,q.j(p.z$)),f.__param(1,q.j(t.ul)),f.__param(2,q.j(g.Jb)),f.__param(3,q.j(k.fe)),f.__param(4,q.j(y.k$)),f.__param(5,q.j(l.zk)),f.__param(6,q.j(r.pK)),f.__param(7,q.j(m.ze)),f.__param(8,q.j(z.j$)),f.__param(9,q.j(a.Lr))],x);c.cBa=x;},function(f,c,a){var d,k,h,g,p,l;function b(a,b){this.Na=a;this.xI=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(42);k=a(7);h=a(113);g=a(354);p=a(45);a=a(0);b.prototype.Tma=function(){for(var a="",b=this.Na.jg.pa(k.Qa),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.xI.p6(new g.Jda(0,31,p.X$a))];return a;};l=b;l=f.__decorate([a.P(),f.__param(0,a.j(d.Pi)),f.__param(1,a.j(h.TD))],l);c.aBa=l;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(71);d=a(355);k=a(697);h=a(353);g=a(696);c.Mf=new f.Sb(function(a){a(b.op).pl(function(){return function(){return t._cad_global.device;};});a(h.A$).to(g.cBa).Y();a(d.z$).to(k.aBa).Y();});},function(f,c,a){var d,k;function b(a){this.Ke=a;this.cS=0;this.n3=!1;this.Px=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(97);b.prototype.send=function(a){var b,c,d;b=this;c=!!a.fH&&0!==this.cS;d=this.Px.some(function(a){return!!a.YQ.fH;});return(c||this.n3||d?new Promise(function(c,d){b.Px.push({YQ:a,resolve:c,reject:d});}):this.gC(a)).then(function(a){b.ksa();return a;})["catch"](function(a){b.ksa();throw a;});};b.prototype.gC=function(a){this.cS++;a.fH&&(this.n3=!0);return this.Ke.send(a);};b.prototype.$ua=function(a){this.gC(a.YQ).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.ksa=function(){var a;this.cS--;this.n3=!1;if(0===this.cS&&0<this.Px.length){a=this.Px.shift();this.$ua(a);if(!a.YQ.fH)for(;0<this.Px.length&&!this.Px[0].YQ.fH;)this.$ua(this.Px.shift());}};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.Yu))],k);c.cFa=k;},function(f,c,a){var d,k,h,g,p,l,r,m,q,t,z,y,w,x,C,F,P,M,A;function b(a,b,c,d,g,f,k,p,l,n,r,m,u,q){this.platform=a;this.config=b;this.Q1=c;this.p7a=d;this.df=g;this.eb=f;this.Ke=k;this.Tfb=p;this.yC=l;this.my=n;this.Gd=r;this.xI=m;this.json=u;this.sZ=q;this.Vk=[];h.mj(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(45);g=a(86);p=a(30);l=a(49);r=a(29);m=a(52);q=a(7);t=a(97);z=a(226);y=a(160);w=a(22);x=a(2);C=a(113);F=a(126);P=a(46);M=a(84);a=a(357);b.prototype.send=function(a,b,c,g){var r,m,u,v;function f(b){return new Promise(function(c,d){function g(a){var d,g;function c(a,c){m.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.PH.profile?b.PH.profile.id:void 0,nonReplayable:b.eR,retryCount:b.ju,userId:b.PC,userTokens:JSON.stringify(r.Ke.Ke.getUserIdTokenKeys())})});return{N:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=r.json.parse(a);if(2!=d.length)return m.trace("The MSL envelope did not have enough array items."),c(x.v.wD);if(!d[1].payload)return m.trace("The MSL envelope did not have a payload."),c(x.v.wD);if(!d[1].status)return m.trace("The MSL envelope did not have a status."),c(x.v.wD);a=d[1].status;g=parseInt(a,10);if(isNaN(g)&&"ok"!=a.toLowerCase()||!(200<=g&&300>g))return d=d[1].payload.data,d=r.df.decode(d),m.error("The MSL status indicated an error",{status:g},r.my.encode(d)),401===g?c(x.v.SK,4027):c(x.v.wV,a);d=d[1].payload.data;d=r.my.encode(r.df.decode(d));if(!d)return m.trace("The MSL payload is missing."),c(x.v.Kba);try{return r.json.parse(d);}catch(Ka){return m.error("EDGE response this.json parse error: ",Ka,d),c(x.v.Kba);}}h(b,b.ju).then(function(f){var h,k;if(f.body)if(f=g(f.body),m.trace("Received EDGE response",{Method:a.method}),f.success){if(r.config().ig.C0a&&r.F6a(a)){h=a.CBb;k=f.profileGuid;if(h&&k!==h){f={S:x.v.pHa,Ga:JSON.stringify({serverGuid:k,clientGuid:h})};n(f,b);d(f);return;}}v.success=!0;v.profileId=b.PC;v.elapsedtime=r.eb.Xd().pa(q.Qa)-v.starttime;v.userTokens=JSON.stringify(r.Ke.Ke.getUserIdTokenKeys());c(f.result);}else{k=f.result;f.__logs&&(k.ysb=f.__logs);try{h=r.json.stringify(k.data);}catch(Ca){}f=n(k,b);d({S:k.errorSubCode,xb:k.errorExternalCode,EA:k.errorEdgeCode,Ga:k.errorDetails?[k.errorDetails," ",f].join(""):void 0,Nf:k.errorDisplayMessage,bl:h});}else d({S:x.v.wD,Ga:n({S:x.v.wD},b)});})["catch"](function(a){var c;c=n(a,b);a.Ga&&(a.Ga=[a.Ga," ",c].join(""));d(a);});});}function h(b,c){return new Promise(function(g,f){function h(b,c,l){return r.Tfb.send(b).then(function(a){g(a);})["catch"](function(g){var n,u;u=g&&g.pk&&void 0!==g.pk.maxRetries?Math.min(g.pk.maxRetries,l):l;(r.Q1.d7||k(g))&&c<=u?n=!0:(m.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:u},d.Z$(g)),n=!1);if(n)return n=g&&g.pk&&void 0!==g.pk.retryAfterSeconds?1E3*g.pk.retryAfterSeconds:r.xI.p6(1E3,1E3*Math.pow(2,Math.min(c-1,u))),m.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:n,MaxRetries:u},d.Z$(g)),p(n).then(function(){return h(b,c+1,u);});f(g);});}return h(b,1,c);});}function k(a){return(a=a&&a.S)&&a>=x.v.yy&&a<=x.v.xy;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function l(){var d,f;d="";c&&(d+=(0<d.length?"&":"")+"logs=true");g&&(d+=(0<d.length?"&":"")+"debug=true");a.languages=r.config().ig.Ex;a.clientVersion=r.platform.version;a.uiVersion=r.config().ig.iy;f={};r.config().Dra&&(f["X-Netflix.request.expiry.timeout"]=r.config().Dra.toString());d=[{},{headers:f,path:r.config().ig.Jla,payload:{data:r.json.stringify(a)},query:d}];r.config().ig&&(m.debug("Request payload",{Method:a.method},r.yC.dT(d)),m.debug("Request parameters",{Method:a.method},r.yC.dT(a)));return{PH:b,method:a.method,url:""+(r.sZ.endpoint+r.config().ig.ura)+r.platform.Bm+"/cadmium/"+a.method,body:r.json.stringify(d),timeout:u.pa(q.Qa),PC:b.profile?b.profile.id:void 0,Beb:!0,eR:!1,GO:!0,ju:3,fH:a.isExclusive};}function n(a,b){v.success=!1;v.profileId=b.PC;v.elapsedtime=r.eb.Xd().pa(q.Qa)-v.starttime;v.userTokens=JSON.stringify(r.Ke.Ke.getUserIdTokenKeys());v.subcode=a.errorSubCode||a.S;v.extcode=a.errorExternalCode||a.xb;m.error("BladeRunner command history",r.yC.dT(r.Vk));return r.json.stringify(r.Vk);}c=void 0===c?!1:c;g=void 0===g?!1:g;r=this;b=this.Gd.nj({Wb:this.p7a},b);m=b.log;u=q.am(59);v={method:a.method,starttime:this.eb.Xd().pa(q.Qa)};this.Vk.push(v);this.Vk.length>this.config().TSa&&this.Vk.shift();m.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=l();f(c).then(function(b){a(b);})["catch"](function(a){var c;c={N:!1};r.Gd.nj(c,a,{No:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.F6a=function(a){return 0<=["bind","ping"].indexOf(a.method)?!0:!1;};b.Z$=function(a){var b,c,d;b={};c=a.errorExternalCode||a.xb;d=a.errorDetails||a.Ga;b.ErrorSubCode=a.errorSubCode||a.S||x.v.Zg;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};A=d=b;A=d=f.__decorate([k.P(),f.__param(0,k.j(g.gs)),f.__param(1,k.j(p.wg)),f.__param(2,k.j(l.Dk)),f.__param(3,k.j(F.sD)),f.__param(4,k.j(m.zk)),f.__param(5,k.j(r.Xf)),f.__param(6,k.j(t.Yu)),f.__param(7,k.j(a.bca)),f.__param(8,k.j(z.EW)),f.__param(9,k.j(y.uL)),f.__param(10,k.j(w.ze)),f.__param(11,k.j(C.TD)),f.__param(12,k.j(P.Yr)),f.__param(13,k.j(M.Kr))],A);c.dFa=A;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(97);d=a(700);k=a(356);h=a(357);g=a(699);c.Fi=new f.Sb(function(a){a(b.Yu).GC(function(){return t._cad_global.msl;});a(k.cca).to(d.dFa).Y();a(h.bca).to(g.cFa).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.wXa=function(a,b,c){return{Jna:function(){return a.o2();},Z:b,request:c,lf:!1};};},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.hsb="VideoCache";c.CKa="VideoCacheFactorySymbol";},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);d=[b.I.PCa,b.I.Oaa,b.I.Laa,b.I.Baa,b.I.Maa,b.I.Naa,b.I.Eaa,b.I.Uaa,b.I.Faa,b.I.Daa,b.I.kV,b.I.Waa,b.I.Gaa,b.I.MK,b.I.QCa,b.I.Haa,b.I.Iaa,b.I.Wr,b.I.zaa,b.I.Vaa,b.I.Caa,b.I.Raa,b.I.Saa,b.I.Taa,b.I.RCa,b.I.TCa,b.I.XCa,b.I.VCa,b.I.UCa,b.I.SCa,b.I.WCa,b.I.Qaa,b.I.Kaa,b.I.Jaa,b.I.Paa,b.I.Aaa];(function(a){a.KFa=function(a){var g;for(var c={},d=0;d<a.length;d++){g=a[d];if(c[g.vm])return{vm:g.vm,kka:b.v.Uxa};c[g.vm]=1;}};a.LFa=function(a){var g;for(var c=0;c<a.length;c++){g=a[c];if(-1===d.indexOf(g.vm))return{vm:g.vm,kka:b.v.Vxa};}};}(k||(k={})));c.Pcb=function(a){return new Promise(function(b,c){var g;g=k.LFa(a);g&&c(g);(g=k.KFa(a))&&c(g);b(a.sort(function(a,b){return d.indexOf(a.vm)-d.indexOf(b.vm);}));});};},function(f,c,a){var d,k,h,g,l;function b(a,b,c,d){this.log=a;this.Jw=b;this.vS=c;this.context=d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(3);c=a(2);k=a(22);h=a(52);g=a(363);l=c.I;b.prototype.Hc=function(a){var b,c;b=this;(this.context.lf||this.context.Pw)&&this.log.debug("Requesting a license",a);d.da.get(k.ze).jt([8,4],a.Rj[0].data)?(b.log.trace("Requesting WideVine attestation data."),c=Promise.resolve({Eo:[{sessionId:a.Rj[0].sessionId,data:new Uint8Array(d.da.get(h.zk).decode(g.Uea))}]})):c=function(){b.log.trace("Requesting license",{drmType:a.jh});return b.Jw(a)["catch"](function(a){b.log.error("Unable to get the Widevine license",a);throw{code:l.Su,nb:a.nb,yc:a.yc,Wj:a.Wj,Nf:a.message||a.Nf,bl:a.data,message:"Unable to send the Widevine license request. "+(a.message||a.Nf),cause:a};});}();return c;};b.prototype.stop=function(a){var b;b=this;this.log.trace("Releasing Widevine license");return this.vS(a)["catch"](function(a){b.log.error("Unable to release the Widevine license.",{code:a.code,subCode:a.nb,extCode:a.yc,edgeCode:a.Wj,message:a.message||a.Nf});throw{N:!1,code:l.Pda,nb:a.nb,yc:a.yc,Wj:a.Wj,Nf:a.message||a.Nf,message:"Unable to release the Widevine license. "+(a.message||a.Nf),cause:a};});};f.K=b;},function(f,c,a){var t,z,y,w,x,C,F,P;function b(a,c,d,g){var f;f=this;this.log=a;this.VG=c;this.jk=d||q.bind(this);this.context=g;this.Hsa=this.Tk=this.Bd=this.keySessionId=this.Fe=this.Uh=void 0;this.$d={};this.onMessage=n.bind(this);this.zab=r.bind(this);this.MX={};this.Bxa=new Promise(function(a,b){f.Teb=a;f.Uta=b;});this.Bxa["catch"](function(a){f.log.error("wait for license rejected",a);});this.oj=function(a,b){f.Uta(a,b);f.context.onerror(a,b);};this.Aab=function(){f.Teb();};if(!(this instanceof b))throw new TypeError("EmeSession constructor not called correctly.");}function d(){return t.da.get(w.zk);}function k(){return t.da.get(y.ze);}function h(a,b,c){return{N:!1,code:b,nb:F.WD.ye,message:c+" "+a.message,Ga:k().xc(a),cause:a,Hia:!0};}function g(a,b,c,d){return function(g){if(g&&g.Hia)return Promise.reject(g);a.error(c,g);if(!d)return Promise.resolve();g=h(g,b,c);return Promise.reject(g);};}function l(a,b,c){a.It()&&a.log.trace("LICENSE: Got the response, calling update",{sessionId:c.sessionId,license:d().encode(b)});return new Promise(function(d,g){c.update(b).then(function(){a.It()&&a.log.trace("LICENSE: Update succeeded",{sessionId:c.sessionId});d();})["catch"](function(b){var c;c=k().z2a(b);c.code=F.vj.aW;c.message="Unable to update the EME.";a.log.error("LICENSE: Unable to update the EME.",b);g(c);});});}function n(a){var b,c,g;b=this;c=new Uint8Array(a.message);g={sessionId:b.Ona()[0],messageType:a.messageType};b.It()&&(g.message=d().encode(new Uint8Array(a.message)));b.log.trace("Received event: "+a.type,g);"license-renewal"===a.messageType?(b.jk("renew_lc"),a={mg:x.Jc.FDa.Bp,NQ:a.messageType,jh:/clearkey/i.test(b.Fe.keySystem)?"clearkey":"widevine",Rj:[{data:c,sessionId:b.Ona()[0]}]},b.context.Xa.Hc(a).then(function(a){b.jk("renew_lr");if(!b.NN&&b.Fe)return l(b,a.Eo[0].data,b.Fe).then(function(){b.jk("renew_ld");})["catch"](function(a){b.jk("renew_ld_failed");b.oj&&b.oj(a.code,a);});})["catch"](function(a){b.jk("renew_lr_failed");b.oj&&b.oj(a.code,a);})):b.log.error("unrecognized messageType",a.messageType);}function r(a){var b;b=this;b.log.trace("Received event: "+a.type);try{k().P0(a,function(c,g){var f;b.log.trace("key status: "+g);f=b.MX[g];f||(f=b.MX[g]=[]);f.push(b.context.Na.getTime());b.It()&&b.log.trace("key status change",{sessionId:a.target.sessionId,keyId:d().encode(new Uint8Array(c)),status:g});b.oj&&("expired"==g&&b.oj(F.vj.XV),"internal-error"==g&&b.oj(F.vj.Cca),"output-not-allowed"==g&&(b.context.QG?b.log.warn("ignoring keystatus: ",g):b.oj(F.vj.YV)),"output-restricted"!=g&&"output-downscaled"!=g||b.log.warn("output protection status",g));});}catch(O){b.log.error("Exception in iterating keystatuses",O);}}function m(a){var b;b=k().hna(a);this.log.error("Received event: "+a.type);this.oj&&this.oj(F.vj.dL,b);this.Fe=void 0;}function q(a){this.context.Na&&(this.$d[a]=this.context.Na.getTime(),this.log.trace("Milestone: "+a+", "+this.$d[a]));}Object.defineProperty(c,"__esModule",{value:!0});t=a(3);c=a(2);z=a(21);y=a(22);w=a(52);x=a(56);C=a(6);F={};F.vj=c.I;F.WD=c.v;P=t.da.get(z.fe);b.prototype.PA=function(){return this.Bd;};b.prototype.ckb=function(a,b){a.log&&(this.log=a.log);a.jk&&(this.jk=a.jk);b.Xa&&(this.context.Xa=b.Xa);b.onerror&&(this.context.onerror=b.onerror);};b.prototype.Ona=function(){return this.Fe?[this.Fe.sessionId]:this.keySessionId?[this.keySessionId]:[];};b.HF=function(a,b,c,f){return new Promise(function(k,l){var p,n,r,m;n=g(c,F.vj.wU,"request mediaKeySystem access rejected:",!0);r=g(c,F.vj.vU,"create media keys rejected:",!0);m=g(c,null,"set servercertificate api failed:",!1);C.Yg.requestMediaKeySystemAccess(b,[{initDataTypes:[a],persistentState:"required",audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_CRYPTO"}]},{initDataTypes:[a],persistentState:"required"}]).then(function(a){c.trace("keysystemaccess config",JSON.stringify(a.getConfiguration(),null," "));return a;})["catch"](n).then(function(a){return a.createMediaKeys();})["catch"](r).then(function(a){var b;p=a;if(!f)return Promise.resolve();if(!P.Pz(a.setServerCertificate))return c.error("mediaKeys setServerCertificate is not a function"),Promise.resolve();b=d().decode(f);c.trace("calling setServerCertificate");return a.setServerCertificate(b.buffer);})["catch"](m).then(function(){c.trace("mediakeys resolved");k(p);})["catch"](function(a){a&&a.Hia||(a=h(c,F.vj.zBa,"generic mediakeys error"));l(a);});});};b.prototype.create=function(a,c){var g;function d(a){g.Uh=a;return{N:!0,Uh:a};}g=this;g.jk("lg");g.log.trace("Creating the mediakeys: "+a);g.Bd=a;g.context.LR?c?(g.log.trace("consuming pre-cached mediakeys instance"),a=Promise.resolve(d(c))):a=b.HF(g.VG,a,g.log,g.context.iC).then(d):a=function(){return new Promise(function(a){a({N:!0,Uh:null});});}();return a;};b.prototype.close=function(){var a;a=this;if(!a.Fe||this.NN)return Promise.resolve();a.log.trace("closing keysession",{sessionId:a.Fe.sessionId});this.NN=!0;return a.Fe.close().then(function(){a.log.trace("keysession closed");})["catch"](function(b){a.log.trace("error occurred while closing keysession",b);});};b.prototype.Hc=function(a,b){var g,f;function c(){g.It()&&g.log.trace("LICENSE: Setting license with promise based EME");return new Promise(function(c,h){var n;function p(a){g.Fe&&(g.Fe.removeEventListener("message",n),g.Fe.addEventListener("message",g.onMessage));a.state=f;a.N?c(a):(g.close(),g.Uta(a),h(a));}if(!g.Fe){g.log.trace("LICENSE: Creating the key session.");try{g.Fe=g.Uh.createSession();}catch(ca){p({N:!1,code:F.vj.M$,nb:F.WD.ye,message:"Unable to create a persisted key session",Ga:k().xc(ca),cause:ca});}}n=function(b){var c,h,n;c=new Uint8Array(b.message);h=b.messageType;n=8==c[0]&&4==c[1];f=n?2:12;n={sessionId:b.target.sessionId,messageType:h,isCertRequest:n};g.It()&&(n.message=d().encode(c));g.log.trace("LICENSE: Received event: "+b.type,n);n=/clearkey/i.test(g.Fe.keySystem)?"clearkey":"widevine";b={mg:a,NQ:h,jh:n,Rj:[{data:c,sessionId:b.target.sessionId}]};12===f&&(g.jk("lc"),c={data:c,jh:n},g.context.O5?g.context.fR(c):g.Hsa=c);g.context.Xa.Hc(b).then(function(a){if(12===f&&(g.jk("lr"),g.Aab(),!g.context.O5))g.Isa=a.Eo[0].data,f=13,p({N:!0,state:f});else if(g.Fe&&!g.NN)return a=l(g,a.Eo[0].data,g.Fe),2===f?a:a.then(function(){f=30;p({N:!0,state:f});});})["catch"](function(a){p(k().nj(a,{state:f}));});};g.Fe.addEventListener("message",n);g.Fe.addEventListener("keystatuseschange",g.zab);g.log.trace("LICENSE: Calling generateRequest",{initDataType:g.VG,initData:d().encode(b)});g.Fe.generateRequest(g.VG,b).then(function(){g.It()&&g.log.trace("LICENSE: Generate succeeded",{sessionId:g.Fe.sessionId});},function(a){g.log.error("LICENSE: Unable to generate a license request",a);p({N:!1,code:F.vj.yU,nb:F.WD.ye,state:f,message:"Unable to generate request.",Ga:k().xc(a),cause:a});});});}if(0===b.length)return Promise.reject({code:F.vj.XGa});b=b[0];g=this;f=1;return g.context.LR?c():function(){g.It()&&g.log.trace("LICENSE: Setting license with prefixed EME");return new Promise(function(c,d){function h(b){var c,f;c=b.sessionId;f=b.message;g.log.trace("Received event: "+b.type,{sessionId:c});g.keySessionId=c;g.Tk=f;b={mg:a,NQ:"license-request",jh:/clearkey/i.test(g.Bd)?"clearkey":"widevine",Rj:[{data:f,sessionId:c}]};g.jk("lc");g.context.Xa.Hc(b).then(function(a){g.jk("lr");g.context.Da.webkitAddKey(g.Bd,a.Eo[0].data,g.Tk,g.keySessionId);})["catch"](function(a){d(a);});}function l(a){g.log.trace("Received event: "+a.type,{keySystem:a.keySystem,sessionId:g.keySessionId});g.Tk&&2<g.Tk.length&&(g.context.Da.removeEventListener("webkitkeyerror",p),g.context.Da.removeEventListener("webkitkeymessage",h),g.context.Da.removeEventListener("webkitkeyadded",l),c({N:!0}),g.context.Da.addEventListener("webkitkeyerror",m.bind(g)),g.context.Da.addEventListener("webkitkeymessage",function(){g.log.error("renewal not supported in prefixed eme");g.oj(F.vj.xBa);}));}function p(a){g.log.error("Received event: "+a.type,{errorCode:F.WD.Lu+a.errorCode.code});a=k().hna(a);a.N=!1;a.state=f;a.code=F.vj.dL;a.message="Received a key error";d(a);g.Fe=void 0;}g.context.Da.addEventListener("webkitkeyerror",p);g.context.Da.addEventListener("webkitkeymessage",h);g.context.Da.addEventListener("webkitkeyadded",l);try{g.context.Da.webkitGenerateKeyRequest(g.Bd,b);}catch(V){d({code:F.vj.Eca,nb:F.WD.ye});}});}();};b.prototype.Nia=function(){var a;a=this.Isa;a||this.log.error("pending license must exist at this point");this.Isa=void 0;return l(this,a,this.Fe);};b.prototype.$ta=function(){return Promise.resolve({N:!0});};b.prototype.jma=function(a){var b;b=this;b.log.trace("SECURE_STOP: Executing expedite");return new Promise(function(c,d){function g(a){b.close().then(function(){(a.N?c:d)(a);});}return b.context.Xa.stop.call(b.context.Xa,a).then(function(){g({N:!0,S4:void 0,jC:void 0,H_:void 0});})["catch"](function(a){b.log.error("SECURE_STOP: Server request failed",{code:a.code,subCode:a.nb,extCode:a.yc,edgeCode:a.Wj,message:a.Nf});g(a);});});};b.prototype.NYa=function(a){this.log.trace("SECURE_STOP: Executing deferred");return this.jma(a);};b.prototype.It=function(){return this.context.lf||this.context.Pw;};f.K=b;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);d=a(86);k=a(137);f=a(7);a=a(35);c.Jxa=!0;c.Eda=!1;d=b.da.get(d.gs);b=b.da.get(k.PD);c.vGa=b.Cd;c.ei={};c.Iba=d.Fi;c.BU=d.Bm;c.tK=d.l0a;c.iaa=d.R1;c.o$=d.G0;c.Cmb=d.F0;c.Dmb=d.G0;c.q$=d.tla;c.iob=d.e7a;c.gFa=d.nqa;c.Kpb=!1;c.tFa=!0;c.Ye={BU:d.Bm,un:void 0,Qr:void 0,lAa:void 0,kAa:void 0,jHa:void 0,n$:void 0,jAa:void 0};c.oGa=b.fF;c.pGa=b.vSa;c.DGa=b.B7;c.nGa=b.zN;c.MGa=b.OJ;c.HGa=b.Br;c.tGa=b.c1;c.uGa=b.IO;c.yGa=b.Oqa.pa(f.Qa);c.xGa=b.w4.pa(a.Bk);c.lGa=b.xZ.pa(a.Bk);c.mGa=b.AZ.pa(a.Bk);c.zGa=b.y4.pa(f.Qa);c.AGa=b.Y8a.pa(a.Bk);c.wGa=b.pB;c.KGa=b.sT;c.NGa=b.i9;c.qGa=b.g_;c.rGa=b.y_;c.sGa=b.Zja;c.FGa=b.ZS;c.EGa=b.c8.pa(a.Bk);c.LGa=b.uxa;c.CGa=b.K6;c.GGa=b.A8;c.IGa=b.EC.pa(a.Bk);c.BGa=b.D6;c.JGa=b.qT.pa(f.Qa);c.xca=void 0;},function(f,c,a){var d,k,h,g,l,n;function b(a,b){a=k.he.call(this,a,"ManifestParserConfigImpl")||this;a.jo=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(44);l=a(137);n=a(35);ha(b,k.he);oa.Object.defineProperties(b.prototype,{h8:{configurable:!0,enumerable:!0,get:function(){return[];}},D1:{configurable:!0,enumerable:!0,get:function(){return"";}},l_:{configurable:!0,enumerable:!0,get:function(){return[];}},k_:{configurable:!0,enumerable:!0,get:function(){return[];}},F1:{configurable:!0,enumerable:!0,get:function(){return"";}},a3:{configurable:!0,enumerable:!0,get:function(){return 0;}},EC:{configurable:!0,enumerable:!0,get:function(){return this.jo.EC.pa(n.Bk);}},Br:{configurable:!0,enumerable:!0,get:function(){return this.jo.Br;}}});a=b;f.__decorate([g.config(g.f8,"supportedAudioTrackTypes")],a.prototype,"h8",null);f.__decorate([g.config(g.string,"forceAudioTrack")],a.prototype,"D1",null);f.__decorate([g.config(g.Qwa,"cdnIdWhiteList")],a.prototype,"l_",null);f.__decorate([g.config(g.Qwa,"cdnIdBlackList")],a.prototype,"k_",null);f.__decorate([g.config(g.string,"forceTimedTextTrack")],a.prototype,"F1",null);f.__decorate([g.config(g.Eu,"imageSubsResolution")],a.prototype,"a3",null);f.__decorate([g.config(g.Eu,"timedTextSimpleFallbackThreshold")],a.prototype,"EC",null);f.__decorate([g.config(g.f8,"timedTextProfiles")],a.prototype,"Br",null);a=f.__decorate([d.P(),f.__param(0,d.j(h.Cj)),f.__param(1,d.j(l.PD))],a);c.CEa=a;},function(f,c,a){var d,k,h,g;function b(a,b){return k.PK.call(this,a,b)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(128);k=a(368);h=a(72);g=a(152);ha(b,k.PK);b.prototype.Bbb=function(a){var b,c;b=this;a=Aa(d.Oo(function(a){return a.Ab&&0<a.Ab.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Vm});});a=c.map(function(a){var c;c=a.$h;c={type:h.Cf.video,ac:a.Vm,bH:a.yJ,$h:g.JW[c.toLowerCase()]||g.En.Py,Bra:c,Ab:[]};c.Ab=b.Gwa(a.Ab,c);b.log.trace("Transformed video track",{StreamCount:c.Ab.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.tbb=function(a){var b;b=a.map(function(a){return a.b6;}).filter(Boolean);b=[].concat.apply([],[].concat(zb(b))).map(function(a){return a.ga;});a=a.map(function(a){return a.Se;}).filter(Boolean).map(function(a){return a.ga;});return 0<b.length?b:a;};c.IKa=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.tya={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(f,c,a){var d,k,h,g,l;function b(a,b,c,d){a=k.PK.call(this,a,d)||this;a.config=b;a.G=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(710);k=a(368);h=a(128);g=a(72);l=a(152);ha(b,k.PK);b.prototype.cbb=function(a,b,c){var f,k,p;f=this;a=Aa(h.Oo(function(a){return a.Ab&&0<a.Ab.length;},a));k=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Audio track is missing streams",f.Wna(a));});p=this.config.h8;a=Aa(h.Oo(function(a){return 0===p.length||0<=p.indexOf(a.$h);},k));k=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Audio track is not supported",f.Wna(a));});a=k.map(function(a){var h;h=a.$h;h={type:g.Cf.audio,ac:a.Vm,bH:a.yJ,$h:l.JW[h.toLowerCase()]||l.En.Py,Bra:h,ej:a.language,displayName:a.iB,Sj:a.Sj,Otb:a.Sj,Ntb:Number(a.Sj[0]),ol:f.Z1a(a.Vm,b,c),Txb:{Bcp47:a.language,TrackId:a.Vm},Ab:[],isNative:a.isNative};h.Ab=f.Gwa(a.Ab,h);f.log.trace("Transformed audio track",h,{StreamCount:h.Ab.length,AllowedTimedTextTracks:h.ol.length});h.C_=d.tya[h.Ab[0].ve];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.rSa=function(a){var b,c;b=this;c=this.config.D1;if(c){if(a=Aa(a.filter(function(a){return a.ej==c||a.ac==c;})).next().value)return a;}else if(this.G.$O&&(a=Aa(a.filter(function(a){return a.ac==b.G.$O;})).next().value))return a;};b.prototype.Wna=function(a){return{language:a.iB,bcp47:a.language,type:a.$h};};b.prototype.Z1a=function(a,b,c){return b.filter(function(b){return b.G8.AUDIO===a;}).map(function(a){return a.G8.wea;}).map(function(a){return c.find(function(b){return b.ac===a;});}).filter(Boolean);};c.sya=b;},function(f,c){function a(a,c,f){this.log=a;this.G=c;this.K8=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Abb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.gd&&0<a.gd.length;}).map(function(a){return b.K8(b.G,a.id,a.height,a.width,a.Osa,a.Psa,a.size,{unknown:a.gd[0]},a.xw);});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};c.nKa=a;},function(f,c){function a(a,c,f,h,g,l,n){this.Ww=a;this.s4=c;this.m_=f;this.jwa=h;this.Gjb=g;this.Zia=l;this.yxa=n;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.oR=function(a){var b,c,f,g,l,n,r,m,q,t,z,y,w,x,C,F;a.Fo&&a.Fo.QA||(a.Fo=this.Ww(),a.Fo.UE(a.links));a=this.s4.decode(a);b=this.m_.Bsa(a.qk,a.Ie,!0);c=this.jwa.ybb(a.xwa);f=this.Gjb.Abb(a.Lwa);g=this.Zia.cbb(a.IZ,a.media,c);l=this.yxa.Bbb(a.GT);n=this.sbb(a,g,c);r=n[0];m=l[0];q=this.Zia.rSa(g)||r.ud||g[0];r=this.jwa.ajb(q.ol)||r.bd||q.ol[0];t=this.yxa.tbb(a.GT);z=a.Ve;y=a.Yja;w=a.hoa;x=a.Vj;C=a.IZ.findIndex(function(a){return a.Vm==q.ac;});F=a.GT.findIndex(function(a){return a.Vm==m.ac;});return{hu:t,Qj:b,bo:g,py:l,ol:c,Er:f,Ve:z,jgb:y,iH:w,Vj:x,xYa:C,FYa:F,jta:n,kla:m,fla:q,EYa:r,nyb:a};};a.prototype.sbb=function(a,c,f){var b,d;b=[];d=a.jla[0];b.push({ud:c.find(function(a){return a.bH===d.Wz;}),bd:f.find(function(a){return a.bH===d.$va;}),tzb:0});return b;};c.EEa=a;},function(f,c,a){var d,k,h,g;function b(a,b,c,d,g){this.log=a;this.config=b;this.G=c;this.m_=d;this.S5=g;}Object.defineProperty(c,"__esModule",{value:!0});d=a(59);k=a(6);h=a(152);g=a(211);b.prototype.ybb=function(a){var b;b=this;a=a.map(function(a){var c,g,f;c=b.tjb(a);!1!==a.fQ||c.length||b.log.error("track without downloadables",b.wna(a));!0!==a.aQ||c.length||b.log.error("forced track without downloadables",b.wna(a));g={};f=[];if(0<c.length){g=c[0];f=g.profile;if(f==d.Bj.Jy||f==d.Bj.TK)g=b.Kfb(c);f=b.m_.Bsa(a.Jja,void 0,!1);}a=b.S5(b.G,a.Vm,a.id,g.vc,g.gd||{},f,a.language,a.iB,h.JW[a.$h.toLowerCase()]||h.En.Py,a.SR.toUpperCase(),g.profile,b.F3a(g)||{},a.fQ,a.aQ,a.gH);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.ajb=function(a){var b,c;b=this;c=this.config.F1;if(c){if(a=Aa(a.filter(function(a){return a.ej==c||a.ac==c;})).next().value)return a;}else if(this.G.aP&&(a=Aa(a.filter(function(a){return a.ac==b.G.aP;})).next().value))return a;};b.prototype.tjb=function(a){var b,c,d;b=this;c=a.Owa;d=a.Dla;a=Object.keys(c||{}).map(function(a){var g;g=c[a];return{vc:d[a],profile:a,size:g.size||0,ad:b.V2a(a,g),offset:g.FH||0,Tbb:g.width,Lsa:g.height,gd:g.Dq};});a.sort(function(a,b){return a.ad-b.ad;});return a;};b.prototype.V2a=function(a,b){var c,g;c=this.config.Br.indexOf(a);b=b.size;g=this.config.EC;return a===d.Bj.fU&&0<g&&b>g?this.config.Br.length+1:0<=c?c:this.config.Br.length;};b.prototype.F3a=function(a){if(a.profile===d.Bj.Jy||a.profile===d.Bj.TK)return{offset:a.offset,length:a.size,pAb:{width:a.Tbb,height:a.Lsa}};};b.prototype.Kfb=function(a){var b,c;b=this.config.a3||g.FW.r2();c=Aa(a.filter(function(a){return a.profile===d.Bj.Jy||a.profile===d.Bj.TK;}).filter(function(a){return a.Lsa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.vp.height,intendedResolution:b});return a[0];};b.prototype.wna=function(a){return{isNone:a.fQ,isForced:a.aQ,bcp47:a.language,id:a.Vm};};c.VJa=b;},function(f){f.K=function(c){return function(){return!c.apply(this,arguments);};};},function(f,c,a){var b,d;b=a(715);c=a(48);d=a(375);a=c(function(a,c){return d(b(a),c);});f.K=a;},function(f,c,a){c=a(215);a=a(213);a=c(a);f.K=a;},function(f,c,a){c=a(48)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});f.K=c;},function(f,c,a){var b;c=a(48);b=a(718);a=c(function(a,c){return b([a],c);});f.K=a;},function(f,c,a){var b,d;c=a(48);b=a(372);d=function(){function a(a,b){this.TJ=b;this.lG=a;}a.prototype["@@transducer/init"]=b.Zc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.TJ["@@transducer/step"](a,this.lG(b));};return a;}();a=c(function(a,b){return new d(a,b);});f.K=a;},function(f,c,a){var b,d,k,h,g,l;c=a(48);b=a(374);d=a(370);k=a(213);h=a(720);g=a(369);l=a(371);a=c(b(["fantasy-land/map","map"],h,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return g(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return k(function(c,d){c[d]=a(b[d]);return c;},{},l(b));default:return d(a,b);}}));f.K=a;},function(f,c,a){var b,d;c=a(48);b=a(721);d=a(719);a=c(function(a,c){return b(d(a),c);});f.K=a;},function(f,c,a){c=a(48)(function(a,c){return c>a?c:a;});f.K=c;},function(f,c,a){var d,k;function b(a,c,f){return function(){var m;for(var g=[],h=0,l=a,p=0;p<c.length||h<arguments.length;){p<c.length&&(!k(c[p])||h>=arguments.length)?m=c[p]:(m=arguments[h],h+=1);g[p]=m;k(m)||--l;p+=1;}return 0>=l?f.apply(this,g):d(l,b(a,g,f));};}d=a(212);k=a(153);f.K=b;},function(f,c,a){var b,d,k,h,g;c=a(48);b=a(370);d=a(369);k=a(723);h=a(722);g=a(717);a=c(function(a,c){return d(g(k,0,h("length",c)),function(){var d,g;d=arguments;g=this;return a.apply(g,b(function(a){return a.apply(g,d);},c));});});f.K=a;},function(f,c,a){var b;c=a(108);b=a(725);a=c(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});f.K=a;},function(f,c,a){var b,d;b=a(214);d=Object.prototype.toString;f.K=function(){return"[object Arguments]"===d.call(arguments)?function(a){return"[object Arguments]"===d.call(a);}:function(a){return b("callee",a);};};},function(f,c,a){var b,d;c=a(48);b=a(372);d=function(){function a(a,b){this.TJ=b;this.lG=a;}a.prototype["@@transducer/init"]=b.Zc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.lG(b)?this.TJ["@@transducer/step"](a,b):a;};return a;}();a=c(function(a,b){return new d(a,b);});f.K=a;},function(f,c,a){var b;b=a(212);c=a(48)(function(a,c){return b(a.length,function(){return a.apply(c,arguments);});});f.K=c;},function(f){var c;c=function(){function a(a){this.lG=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.lG(a,c);};return a;}();f.K=function(a){return new c(a);};},function(f){f.K=function(c){return"[object String]"===Object.prototype.toString.call(c);};},function(f,c,a){var b,d;c=a(108);b=a(373);d=a(731);a=c(function(a){return b(a)?!0:!a||"object"!==typeof a||d(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});f.K=a;},function(f){f.K=function(c,a){for(var b=0,d=a.length,f=[];b<d;)c(a[b])&&(f[f.length]=a[b]),b+=1;return f;};},function(f){f.K=function(c){return"function"===typeof c["@@transducer/step"];};},function(f,c,a){var b;c=a(375);b=a(726);a=a(716);a=b([c,a]);f.K=a;},function(f,c,a){var b;c=a(215);b=a(214);a=c(function(a,c,f){var d,h;d={};for(h in c)b(h,c)&&(d[h]=b(h,f)?a(h,c[h],f[h]):c[h]);for(h in f)b(h,f)&&!b(h,d)&&(d[h]=f[h]);return d;});f.K=a;},function(f,c,a){var b,d;c=a(215);b=a(376);d=a(736);a=c(function h(a,c,f){return d(function(c,d,g){return b(d)&&b(g)?h(a,d,g):a(c,d,g);},c,f);});f.K=a;},function(f,c,a){var b;c=a(48);b=a(737);a=c(function(a,c){return b(function(a,b,c){return c;},a,c);});f.K=a;},function(f,c,a){var d;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(128);b.prototype.Bsa=function(a,b,c){var g,f,h,k,l;g=this;f=this.config.l_;h=this.config.k_;a=Aa(d.Oo(function(a){return(!f.length||0<=f.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));k=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Cdn is not allowed",{Id:a.id});});l=k.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,rd:a.rd,type:a.type,V3:a.key,xxb:a.xqa,location:{id:c.key,rd:c.rd,level:c.level,weight:c.weight,Qj:[]}};});l.sort(function(a,b){return a.rd-b.rd;});l.forEach(function(a){return a.location.Qj=l.filter(function(b){return b.V3===a.V3;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};c.Iza=b;},function(f,c,a){var d,k,h,g,l,n,r,m,q,t,z,y,w,x;function b(a,b,c,d,g,f,h){this.Ww=a;this.Og=b;this.s4=c;this.config=d;this.S5=g;this.K8=f;this.rT=h;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(109);h=a(12);g=a(154);l=a(377);n=a(739);r=a(714);m=a(713);q=a(712);t=a(711);z=a(709);y=a(367);w=a(366);a=a(365);b.prototype.create=function(a){var b,c;b=this.Og.Cb("ManifestParser",a);c=new n.Iza(b,this.config);return new m.EEa(this.Ww,this.s4,c,new r.VJa(b,this.config,a,c,this.S5),new q.nKa(b,a,this.K8),new t.sya(b,this.config,a,this.rT),new z.IKa(b,this.rT));};x=b;x=f.__decorate([d.P(),f.__param(0,d.j(k.Ry)),f.__param(1,d.j(h.Jb)),f.__param(2,d.j(g.Nba)),f.__param(3,d.j(l.Oba)),f.__param(4,d.j(y.uda)),f.__param(5,d.j(w.Iea)),f.__param(6,d.j(a.Dea))],x);c.DEa=x;},function(f,c,a){var b,d,k,h,g,l,n;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(378);d=a(740);k=a(377);h=a(708);g=a(367);l=a(366);n=a(365);c.H8a=new f.Sb(function(c){c(k.Oba).to(h.CEa).Y();c(b.Pba).to(d.DEa).Y();c(g.uda).Uf(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(210).$D;return new(Function.prototype.bind.apply(d,[null].concat(zb(c))))();});c(l.Iea).Uf(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(206).lKa;return new(Function.prototype.bind.apply(d,[null].concat(zb(c))))();});c(n.Dea).Uf(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(358).Cza;return new(Function.prototype.bind.apply(d,[null].concat(zb(c))))();});});},function(f,c,a){var d,k,h,g,l,n,r;function b(a,b,c,d,g){this.dG=a;this.df=b;this.config=c;this.Fi=g;this.log=d.Cb("CDMAttestedDescriptor");this.gna();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(100);h=a(52);g=a(30);l=a(12);n=a(115);a=a(97);b.prototype.gna=function(){var a,b;a=this;if(!this.config().i_a)return this.Fi.Ke.removeServiceToken("cad"),Promise.resolve(void 0);if(this.fna())return Promise.resolve(void 0);if(!this.Lja){this.Lja=this.dG().then(function(c){b=c;c={type:n.xn.Ey,SP:a.df.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="),context:{Cd:a.config().Cd,M:-1,ia:-1,Ve:"CDMAttestedDescriptor",Vj:"CDMAttestedDescriptor",profileId:"CDMAttestedDescriptor"}};return b.P1a(c);}).then(function(b){var c;if(b){c=a.df.encode(b.O3.data);a.log.trace("Challenge generated",c);b.close();return c;}})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);}).then(function(b){if(!a.fna())return b;});}return this.Lja;};b.prototype.fna=function(){var a;a=this.Fi.Ke.getServiceTokens();return a&&a.find(function(a){return"cad"===a.name;});};r=b;r=f.__decorate([d.P(),f.__param(0,d.j(k.$C)),f.__param(1,d.j(h.zk)),f.__param(2,d.j(g.wg)),f.__param(3,d.j(l.Jb)),f.__param(4,d.j(a.Yu))],r);c.fza=r;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(379);d=a(742);c.BTa=new f.Sb(function(a){a(b.N9).to(d.fza).Y();});},function(f,c,a){var d,k,h;function b(a){this.Ta=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(21);h=a(7);b.prototype.aib=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ta.If(c)?d=Math.round(c*b.pa(h.Qa)/100):(a=parseInt(a),this.Ta.Xn(a)&&(d=a));return h.Hb(Math.min(d,b.pa(h.Qa)));};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.fe))],a);c.Uya=a;},function(f,c,a){var d,k;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(30);b.prototype.i2=function(){return this.Jq().VSa;};b.prototype.j2=function(){return this.Jq().WSa;};b.prototype.n3a=function(){return this.Jq().XSa;};b.prototype.W1=function(){return this.Jq().ija;};b.prototype.o3a=function(){return this.Jq().YSa;};b.prototype.Jq=function(){return this.config();};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.wg))],k);c.Tya=k;},function(f,c,a){var d,k,h,g,l,n;function b(a,b,c,d){this.lF=b;this.Ta=c;this.USa=d;this.Z=a.Cb("Bookmark");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(381);h=a(380);g=a(12);l=a(21);n=a(7);b.prototype.mZ=function(a){var b;b=a.oc.playbackState?a.oc.playbackState.currentTime:void 0;b=void 0!==b?n.Hb(b):this.B2a(a.M);return this.Ta.Lf(b)?(this.Z.info("Overriding bookmark",{From:a.LC.pa(n.Qa),To:b.pa(n.Qa)}),(a.oc.kf||this.lF.o3a())&&this.Hoa(a)?(this.Z.trace("Ignoring override bookmark since its too close to end"),n.am(0)):b):this.c6a(a)?(this.Z.trace("Ignoring bookmark because it's too close to beginning"),n.am(0)):this.Hoa(a)?(this.Z.trace("Ignoring bookmark because it's too close to end"),n.am(0)):a.LC;};b.prototype.c6a=function(a){return 0>a.LC.Wk(this.i2(a));};b.prototype.i2=function(a){return this.jja(this.lF.i2(),a.lI);};b.prototype.Hoa=function(a){return 0<a.LC.Wk(this.j2(a));};b.prototype.j2=function(a){var b;b=a.oc.kf?this.lF.n3a():this.lF.j2();return a.lI.Ed(this.jja(b,a.lI));};b.prototype.B2a=function(a){var b;a=this.lF.W1()[a];b=-1;this.Ta.fh(a)?b=parseInt(a):this.Ta.If(a)&&(b=a);if(this.Ta.Xn(b))return n.Hb(b);};b.prototype.jja=function(a,b){return this.USa.aib(a,b);};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(g.Jb)),f.__param(1,d.j(k.J9)),f.__param(2,d.j(l.fe)),f.__param(3,d.j(h.I9))],a);c.Vya=a;},function(f,c,a){var b,d,k,h,g,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(155);d=a(381);k=a(380);h=a(746);g=a(745);l=a(744);c.TZ=new f.Sb(function(a){a(b.$J).to(h.Vya).Y();a(d.J9).to(g.Tya).Y();a(k.I9).to(l.Uya).Y();});},function(f,c){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(c,"__esModule",{value:!0});ha(a,Error);c.fba=a;},function(f,c,a){var d,k,h,g;function b(a){this.Ta=a;this.HY={};this.Iha={};for(var b in d.XC)this.Ta.If(parseInt(b))&&(this.Iha[d.XC[b]]=1);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(216);k=a(748);h=a(0);a=a(21);b.prototype.track=function(a){var b;if(this.Ta.fh(a)){if(!this.Iha[a])throw new k.fba("Cast Interaction type "+a+" is undefined.");}else{if(!this.Ta.Zk(d.XC[a]))throw new k.fba("Cast Interaction type "+a+" is undefined.");a=d.XC[a];}b=this.HY[a];this.HY[a]=b?b+1:1;};g=b;g=f.__decorate([h.P(),f.__param(0,h.j(a.fe))],g);c.Gza=g;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(216);d=a(749);c.KN=new f.Sb(function(a){a(b.X9).to(d.Gza);});},function(f,c,a){var k,h,g;function b(a,b,c){var d;d=this;this.Z=a;this.valid=!0;this.GO=!1;this.context=c.context;this.size=c.size;this.Mg=b.create().then(function(a){d.storage=a;return a.rH("mediacache").then(function(a){d.keys=a;});});}function d(a,b){this.Og=a;this.de=b;this.YF={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(12);a=a(53);d.prototype.YN=function(a){this.YF[a.context]=new b(this.Og.Cb("DiskStorageContext"),this.de,a);return this.YF[a.context];};g=d;g=f.__decorate([k.P(),f.__param(0,k.j(h.Jb)),f.__param(1,k.j(a.ul))],g);c.gBa=g;b.prototype.create=function(a,b,c,d){var g,f,h;g=this;f=this.getKey(a,b);h=Date.now();this.Mg.then(function(){g.keys[f]=void 0;return g.storage.save(f,c,!1).then(function(){g.Z.trace("create succeeded for "+f+", "+(Date.now()-h)+" ms");d(g.BP(a,b));});})["catch"](function(c){g.Z.trace("create failed",c);d(g.Dt(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.Z.trace("append "+c);d(this.Dt(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,g,f;d=this;g=this.getKey(a,b);f=Date.now();this.Mg.then(function(){if(d.keys.hasOwnProperty(g))return delete d.keys[g],d.storage.remove(g).then(function(){d.Z.trace("remove succeeded for "+g+", "+(Date.now()-f)+" ms");c(d.BP(a,b));});c(d.BP(a,b));})["catch"](function(g){d.Z.trace("remove failed",g);c(d.Dt(a,b,g));});};b.prototype.read=function(a,b,c,d,g){var f,h,k;f=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?g(this.Dt(a,b,"byteStart/byteEnd combination is not supported")):this.Mg.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(l){f.Z.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");g(Object.assign(f.BP(a,b),{value:l.value,rtb:c,end:d}));});g(f.Dt(a,b,"Item doesn't exist"));})["catch"](function(c){f.Z.trace("read failed",c);g(f.Dt(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.Z.trace("info ");this.Mg.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.D5(c);a[c.NF]||(a[c.NF]={});a[c.NF][c.Lt]={size:0};return a;},{}),total:b.size,MBb:0};a(c);})["catch"](function(c){b.Z.trace("info failed",c);a(b.Dt(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,g;d=this;g=this.getKey(a,b||"");this.Mg.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(g);}).reduce(function(a,b){a[d.D5(b).Lt]={size:0};return a;},{});d.Z.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.Z.trace("query failed",a);c({});});};b.prototype.Ir=function(a){var b;b=this;this.Z.trace("validate");this.Mg.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.D5(c).Lt]={size:0};return a;},{});a(c);})["catch"](function(c){b.Z.trace("validate failed",c);a(b.Dt(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.BP=function(a,b){return{N:!0,NF:void 0===a?"":a,key:void 0===b?"":b,ukb:0,Oh:this.size};};b.prototype.Dt=function(a,b,c){return{N:!1,error:c,NF:void 0===a?"":a,key:void 0===b?"":b,ukb:0,Oh:this.size};};b.prototype.D5=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{NF:a,Lt:b};};c.Smb=b;},function(f,c,a){var d,k;function b(a){var b;b=this;this.de=a;this.de.create().then(function(a){b.storage=a;});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(53);b.prototype.getData=function(){var a;a=this.storage;return a?a.r4a():{};};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.ul))],k);c.jya=k;},function(f,c,a){var d,k,h;function b(a){this.Og=a;this.$q={};this.Z=this.Og.Cb("MemoryStorage");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);a=a(12);b.prototype.load=function(a){var b;if(this.$q.hasOwnProperty(a)){b=this.$q[a];this.Z.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.Z.debug("Storage entry not found",{key:a});return Promise.reject({S:k.v.zj});};b.prototype.save=function(a,b,c){if(c&&this.$q.hasOwnProperty(a))return Promise.resolve(!1);this.$q[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.$q[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.$q).map(function(b){return{key:b,value:a.$q[b]};});return Promise.resolve(b);};b.prototype.rH=function(a){var b;b=Object.keys(this.$q).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.$q={};return Promise.resolve();};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(a.Jb))],h);c.TEa=h;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.fAa="__default_rule_key__";},function(f,c,a){var k,h,g,l,n,r,m,q,t,z,y,w,x,C;function b(a,b,c,d,g,f,h,k,l){this.Z=a;this.config=b;this.a6a=c;this.Q4=d;this.je=g;this.Tf=f;this.M0=h;this.is=k;this.rA=l;this.Uj={mem:{storage:this.Q4,$b:this.f0(),key:"mem"}};this.dra=!1;this.Yo=this.config.Yo;}function d(a,b,c,d,g,f,h,k,l){this.Og=a;this.de=b;this.Q4=c;this.config=d;this.je=g;this.Tf=f;this.M0=h;this.is=k;this.rA=l;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(2);g=a(156);l=a(12);n=a(384);r=a(754);m=a(217);q=a(49);t=a(85);z=a(159);y=a(95);w=a(56);x=a(21);a=a(383);d.prototype.create=function(){this.JF||(this.JF=this.kA());return this.JF;};d.prototype.kA=function(){this.CRa=new b(this.Og.Cb("AppStorage"),this.config,this.de,this.Q4,this.je,this.Tf,this.M0,this.is,this.rA);return this.CRa.create();};C=d;C=f.__decorate([k.P(),f.__param(0,k.j(l.Jb)),f.__param(1,k.j(g.mV)),f.__param(2,k.j(n.Yba)),f.__param(3,k.j(q.Dk)),f.__param(4,k.j(t.Lr)),f.__param(5,k.j(y.ns)),f.__param(6,k.j(z.rK)),f.__param(7,k.j(x.fe)),f.__param(8,k.j(a.y$))],C);c.iya=C;b.prototype.create=function(){var a;a=this;return Promise.all([this.iXa(),this.BXa()]).then(function(b){var c;c=Aa(b);b=c.next().value;c=c.next().value;a.Zjb(c);if(!a.VTa(b,c,a.config.Z2))throw a.C$a(b,c);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.a2(a);f=Date.now();g.storage.load(a).then(function(a){b.Ah(g.key,"load",!0,f);c(a);})["catch"](function(a){b.Ah(g.key,"load",(a&&(a.S||a.errorSubCode))===h.v.zj,f);d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){var h,k;h=d.a2(a);k=Date.now();h.storage.save(a,b,c).then(function(a){d.Ah(h.key,"save",!0,k);g(a);})["catch"](function(a){d.Ah(h.key,"save",!1,k);f(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.a2(a);f=Date.now();g.storage.remove(a).then(function(){b.Ah(g.key,"remove",!0,f);c();})["catch"](function(a){b.Ah(g.key,"remove",!1,f);d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){var d,g;a.H6("mem").then(function(){d=Date.now();return a.H6("idb");})["catch"](function(b){a.Ah("idb","removeAll",!1,d);return Promise.reject(b);}).then(function(){a.Ah("idb","removeAll",!0,d);g=Date.now();return a.H6("winfs");})["catch"](function(b){a.Ah("winfs","removeAll",!1,g);return Promise.reject(b);}).then(function(){a.Ah("winfs","removeAll",!1,g);b();})["catch"](function(b){a.Z.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b,c,d;a=this;b=[];return this.R3("mem").then(function(d){b=b.concat(d);c=Date.now();return a.R3("idb");})["catch"](function(b){a.vpa(b)||(a.Ah("idb","loadAll",!1,c),a.Z.error("IndexedDb.LoadAll exception",b));return[];}).then(function(g){a.je.Uk.Uq({kind:"playerStorageLoadAll",keys:a.CG(g),storage:"idb"});a.Ah("idb","loadAll",!0,c);b=b.concat(a.Z0a(g));d=Date.now();return a.R3("winfs");})["catch"](function(b){if(a.vpa(b))return[];a.Ah("winfs","loadAll",!1,d);throw b;}).then(function(c){a.je.Uk.Uq({kind:"playerStorageLoadAll",keys:a.CG(c),storage:"win"});a.Ah("winfs","loadAll",!0,d);return b=b.concat(c);})["catch"](function(b){a.Z.error("load all failed",b);throw b;});};b.prototype.rH=function(a){var b;b=this;return new Promise(function(c,d){var g,f;b.Uj.winfs&&d("loadKeys is not supported on WINFS");g=Date.now();f=b.Uj.idb;f?f.storage.rH(a).then(function(a){b.Ah("idb","loadKeys",!0,g);c(a);})["catch"](function(a){b.Ah("idb","loadKeys",!1,g);b.Z.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.r4a=function(){var a;a={memSubs:this.dra};this.Uj.idb&&(a.idb=this.Nna("idb"));this.Uj.winfs&&(a.winfs=this.Nna("winfs"));return a;};b.prototype.iXa=function(){var a;a=this;return this.a6a.create().then(function(b){a.Uj.idb={storage:b,$b:a.f0(),key:"idb"};return a.uUa(b);})["catch"](function(b){a.dra=!0;a.Z.error("idb failed to load",b);a.kqa(b);return b||{S:h.v.Zg};});};b.prototype.uUa=function(a){var b;b=this;return"function"!==typeof this.je.de.create?Promise.resolve():a.load("migrationComplete").then(function(){return a.loadAll().then(function(c){var d;d=c.filter(function(a){return a.key.startsWith("migrationComplete")||a.key.startsWith("vInfo");});return d.map(function(b){return function(){return a.remove(b.key);};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve()).then(function(){d.length&&b.l8a(d.length);});})["catch"](function(a){b.Z.error("cleanupIdb exception",a);b.jqa(a);});})["catch"](function(a){(a&&(a.S||a.errorSubCode))!==h.v.zj&&(b.Z.error("cleanupIdb check exception",a),b.jqa(a));});};b.prototype.BXa=function(){var a;a=this;return Promise.resolve().then(function(){if("function"===typeof a.je.de.create)return a.Tf.mark(w.Bg.Oxa),a.je.de.create().then(function(b){a.Tf.mark(w.Bg.Pxa);a.Uj.winfs={storage:b,$b:a.f0(),key:"winfs"};});})["catch"](function(b){a.Tf.mark(w.Bg.Mxa);a.Z.error("winfs storage open failed",b);a.kqa(b);return b||{errorSubCode:h.v.Zg};});};b.prototype.Zjb=function(a){var b,c;b=!1;a?c=w.Bg.Nxa:(b=!0,this.Yo.vInfo=["winfs"]);this.M0.set(b);c&&this.Tf.mark(c);};b.prototype.VTa=function(a,b,c){return!a&&!b||a&&c&&!b?!0:!1;};b.prototype.C$a=function(a,b){var c;c="";a&&(c+=a.S);b&&(c+="-w"+b.errorSubCode);return{S:c};};b.prototype.Nna=function(a){var b,c,d;b=this;d=this.Uj[a];d&&(c=m.lea.reduce(function(a,c){a[c]=b.s4a(d.$b[c]);return a;},{}));return c;};b.prototype.s4a=function(a){return{count:a.count,succ:a.awa,total:a.total,max:a.max};};b.prototype.H6=function(a){return(a=this.Uj[a])?a.storage.removeAll():Promise.resolve();};b.prototype.R3=function(a){return(a=this.Uj[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.e1a=function(a){for(var b in this.Yo)if(a.startsWith(b))return this.Yo[b];return this.Yo[r.fAa];};b.prototype.a2=function(a){var b,c;b=this;this.e1a(a).every(function(a){return b.Uj[a]?(c=b.Uj[a],!1):!0;});c||(this.Z.error("component not found for storageKey",{Shb:a,htb:Object.keys(this.Uj),rules:this.Yo}),c=this.Uj.mem);this.Z.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.f0=function(){return m.lea.reduce(function(a,b){a[b]={count:0,total:0,awa:0,max:0};return a;},{});};b.prototype.Ah=function(a,b,c,d){d=Date.now()-d;if(a=this.Uj[a])b=a.$b[b],b.count++,c&&(b.awa++,b.total+=d,d>b.max&&(b.max=d));};b.prototype.CG=function(a){return this.is.Wn(a)?a.map(function(a){return a.key;}):void 0;};b.prototype.vpa=function(a){return(a&&(a.S||a.errorSubCode))===h.v.zj;};b.prototype.Z0a=function(a){return a&&this.Yo.OBb?a.filter(function(a){return a&&a.key&&!a.key.startsWith("vInfo");}):a;};b.prototype.kqa=function(a){this.je.Uk.Uq({kind:"playerStorageCreateError",code:this.rA.z0(a),error:this.rA.pqa(a)});};b.prototype.jqa=function(a){this.je.Uk.Uq({kind:"playerStorageCleanupError",code:this.rA.z0(a),error:this.rA.pqa(a)});};b.prototype.l8a=function(a){this.je.Uk.Uq({kind:"playerStorageCleanupCountError",count:a});};c.u9=b;},function(f,c,a){var d,k;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(49);oa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.d8;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.iwa;}}});k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.Dk))],k);c.Tza=k;},function(f,c,a){var d,k,h,g,l;function b(a,b){a=h.he.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.qx="namedatapairs";return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(44);h=a(43);g=a(49);a=a(34);ha(b,h.he);oa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Ql?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.d8;}},LF:{configurable:!0,enumerable:!0,get:function(){return this.config.LF;}},vN:{configurable:!0,enumerable:!0,get:function(){return this.config.vN;}},R7:{configurable:!0,enumerable:!0,get:function(){return 0;}},YI:{configurable:!0,enumerable:!0,get:function(){return 0;}},Ama:{configurable:!0,enumerable:!0,get:function(){return!0;}},Gma:{configurable:!0,enumerable:!0,get:function(){return!1;}}});l=b;f.__decorate([k.config(k.Eu,"simulateIdbOpenError")],l.prototype,"R7",null);f.__decorate([k.config(k.Eu,"simulateIdbLoadAllError")],l.prototype,"YI",null);f.__decorate([k.config(k.ef,"fixInvalidDatabase")],l.prototype,"Ama",null);f.__decorate([k.config(k.ef,"forceDeleteCruftyDatabase")],l.prototype,"Gma",null);l=f.__decorate([d.P(),f.__param(0,d.j(a.Cj)),f.__param(1,d.j(g.Dk))],l);c.uDa=l;},function(f,c,a){var k,h,g;function b(a,b,c){this.config=a;this.uI=b;this.fr=c;}function d(a,b){this.reason=a;this.cause=b;}Object.defineProperty(c,"__esModule",{value:!0});k=a(2);h=a(131);(function(a){a[a.VV=0]="NoData";a[a.Error=1]="Error";a[a.fv=2]="Timeout";}(g=c.MIa||(c.MIa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.OO("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=k.v.$da;switch(a.reason){case g.VV:b=k.v.zj;break;case g.fv:b=k.v.qJa;}d({S:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,h){d.OO(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=k.v.cea;switch(a.reason){case g.fv:b=k.v.tJa;}h({S:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.OO("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=k.v.xW;switch(a.reason){case g.fv:b=k.v.Yda;}d({S:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.OO("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=k.v.xW;switch(a.reason){case g.fv:b=k.v.Yda;}c({S:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.uI.Rx(this.config.timeout,new Promise(function(b,c){var f,h,k;if(a.config.YI)c(new d(a.config.YI));else{f=[];h=a.fr.transaction(a.config.qx,"readonly");k=h.objectStore(a.config.qx).openCursor();h.onerror=function(){c(new d(g.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{f.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(y){c(new d(g.Error,y));}else b(f);};k.onerror=function(){c(new d(g.Error,k.error));};}}))["catch"](function(a){return a instanceof h.Zy?Promise.reject(new d(g.fv,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};b.prototype.rH=function(a){var b;b=this;return this.uI.Rx(this.config.timeout,new Promise(function(c,f){var h,k,l;if(b.config.YI)f(new d(b.config.YI));else{h={};k=b.fr.transaction(b.config.qx,"readonly");l=k.objectStore(b.config.qx).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){f(new d(g.Error,l.error));};l.onsuccess=function(b){var k,l;try{k=b.target.result;if(k){l=k.key;a&&0!==l.indexOf(a)?c(h):(h[l]=void 0,k["continue"]());}else c(h);}catch(C){f(new d(g.Error,C));}};l.onerror=function(){f(new d(g.Error,l.error));};}}))["catch"](function(a){return a instanceof h.Zy?Promise.reject(new d(g.fv,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};b.prototype.OO=function(a,b,c){var f;f=this;return this.uI.Rx(this.config.timeout,new Promise(function(h,k){var l,p;l=f.fr.transaction(f.config.qx,b?"readwrite":"readonly");p=l.objectStore(f.config.qx)[a](c);l.onerror=function(){k(new d(g.Error,p.error));};p.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?h(c.data):k(new d(g.VV));}catch(C){k(new d(g.VV,C));}else h();};p.onerror=function(){k(new d(g.Error,p.error));};}))["catch"](function(a){return a instanceof h.Zy?Promise.reject(new d(g.fv,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(g.Error,a));});};c.tDa=b;},function(f,c,a){var h,g,l,n,r,m,q,t,z,y,w,x,C;function b(a,b,c,d,g,f){this.config=b;this.pA=c;this.de=d;this.Dkb=g;this.Tf=f;this.Z=a.Cb(m.BW);}function d(a,b){this.config=a;this.Dr=b;}function k(a,b,c,d,g,f){this.config=b;this.Dr=c;this.Tf=g;this.je=f;this.Z=a.Cb(m.BW);this.pA=new Promise(function(a,b){var c;try{c=d();c?a(c):b({S:r.v.waa});}catch(N){b({S:r.v.LK,cause:N});}});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(12);l=a(758);n=a(157);r=a(2);m=a(387);q=a(388);t=a(131);z=a(53);y=a(95);w=a(156);x=a(56);a=a(85);k.prototype.create=function(){this.q0||(this.q0=this.kA());return this.q0;};k.prototype.zm=function(a){var b;b=this;this.q0=null;return this.Dr.Rx(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof t.Zy?Promise.reject({S:r.v.LK}):a.S?Promise.reject(a):Promise.reject({S:r.v.LK,cause:a});});};k.prototype["delete"]=function(a){var b;b=this;return this.Dr.Rx(this.config.timeout,new Promise(function(c,d){b.pA.then(function(b){var g;g=b.deleteDatabase(a);g.onsuccess=function(){c();};g.onerror=function(){d({S:r.v.LK,cause:g.error});};})["catch"](function(a){d(a);});}));};k.prototype.kA=function(){var a,b;a=this;return this.Dr.Rx(this.config.timeout,new Promise(function(c,d){a.config.R7?d({S:a.config.R7}):a.pA.then(function(g){a.Tf.mark(x.Bg.FCa);(b=g.open(a.config.name,a.config.version))?(b.onblocked=function(){a.Tf.mark(x.Bg.CCa);d({S:r.v.yCa});},b.onupgradeneeded=function(){var c;a.Tf.mark(x.Bg.MCa);a.je.Uk.hk("DebugEvent",{kind:"playerStorageUpgradeNeeded"});c=b.result;try{c.createObjectStore(a.config.qx,{keyPath:"name"});}catch(U){a.Z.error("Exception while creating object store",U);}},b.onsuccess=function(f){var h,k;a.Tf.mark(x.Bg.LCa);try{h=f.target.result;k=h.objectStoreNames.length;a.Z.trace("objectstorenames length ",k);if(0===k){a.Z.error("invalid indexedDb state, deleting");a.Tf.mark(x.Bg.ECa);try{h.close();}catch(X){}g.deleteDatabase(a.config.name);setTimeout(function(){d({S:r.v.xCa});},1);return;}}catch(X){a.Z.error("Exception while inspecting indexedDb objectstorenames",X);}c(b.result);},b.onerror=function(){a.Tf.mark(x.Bg.DCa);a.Z.error("IndexedDB open error",b.error);d({S:r.v.zCa,cause:b.error});}):d({S:r.v.xaa});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof t.Zy){try{b&&b.readyState&&a.Tf.mark("readyState-"+b.readyState);}catch(ea){}if(a.config.vN&&b&&"done"===b.readyState){if(a.zkb(b))return a.Tf.mark(x.Bg.JCa),Promise.resolve(b.result);a.Tf.mark(x.Bg.ICa);}a.Tf.mark(x.Bg.HCa);return Promise.reject({S:r.v.BCa});}if(c.S)return Promise.reject(c);a.Tf.mark(x.Bg.GCa);a.Z.error("IndexedDB open exception occurred",c);return Promise.reject({S:r.v.ACa,cause:c});});};k.prototype.zkb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(P){this.Tf.mark(x.Bg.KCa);this.Z.error("failed to check open request state",P);}return!1;};C=k;C=f.__decorate([h.P(),f.__param(0,h.j(g.Jb)),f.__param(1,h.j(q.NK)),f.__param(2,h.j(t.kL)),f.__param(3,h.j(n.vaa)),f.__param(4,h.j(y.ns)),f.__param(5,h.j(a.Lr))],C);c.vCa=C;d.prototype.create=function(a){return Promise.resolve(new l.tDa(this.config,this.Dr,a));};n=d;n=f.__decorate([h.P(),f.__param(0,h.j(q.NK)),f.__param(1,h.j(t.kL))],n);c.vDa=n;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.JF||(this.JF=this.kA(this.Dkb));return this.JF;};b.prototype.kA=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Tf.mark(x.Bg.jJa);b.pA.create().then(function(g){b.de.create(g).then(function(f){Promise.all(a.map(function(a){return a.Ir(f);})).then(function(){b.storage=f;b.config.Gma&&b.pA["delete"](b.config.LF)["catch"](function(){b.Z.trace("Failed to force delete the crufty database: "+b.config.LF);});c(b.storage);})["catch"](function(a){b.Z.debug("DB validation failed, cause: "+a);b.config.Ama?(b.Z.debug("Fixing corrupt DB"),b.pA.zm(g).then(function(){b.Z.error("Invalid database deleted, creating new database.");b.kA().then(function(a){b.Z.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.Z.error("Couldn't delete invalid database.");d(a);})):(b.Z.debug("Ignoring invalid DB due to config"),b.storage=f,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};n=b;n=f.__decorate([h.P(),f.__param(0,h.j(g.Jb)),f.__param(1,h.j(q.NK)),f.__param(2,h.j(w.uaa)),f.__param(3,h.j(w.bba)),f.__param(4,h.ix(z.mea)),f.__param(5,h.j(y.ns))],n);c.wDa=n;},function(f,c,a){var d,k,h;function b(a){this.fr=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);a=a(157);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;try{g=b.fr.getItem(a);if(g){f=g;if("{"===g[0])try{f=JSON.parse(g)||g;}catch(B){}c({key:a,value:f});}else d({S:k.v.zj});}catch(B){d({S:k.v.$da,cause:B});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){if(c&&d.fr.getItem(a))g(!1);else try{"string"===typeof b?d.fr.setItem(a,b):d.fr.setItem(a,JSON.stringify(b));g(!0);}catch(B){f({S:k.v.cea,cause:B});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.fr.removeItem(a);c();}catch(u){d({S:k.v.xW,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.rH=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(a.vFa))],h);c.NDa=h;},function(f,c,a){var d,k,h,g,l;function b(a,b,c){this.uI=b;this.config=c;this.Z=a.Cb(g.BW);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(12);h=a(131);g=a(387);a=a(386);b.prototype.Ir=function(a){return this.config.enabled?this.config.timeout?this.uI.Rx(this.config.timeout,this.Ala(a)):this.Ala(a):Promise.resolve();};b.prototype.Ala=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(g){"true"!==g.value&&d();b.Z.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.Z.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};l=b;l=f.__decorate([d.P(),f.__param(0,d.j(k.Jb)),f.__param(1,d.j(h.kL)),f.__param(2,d.j(a.i$))],l);c.Sza=l;},function(f,c,a){var b,d,k,h,g,l,n,r,m,q,B,z,y,w,x,C,F,A,M;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(388);d=a(53);k=a(157);h=a(761);g=a(385);l=a(760);n=a(386);r=a(156);m=a(759);q=a(757);B=a(756);z=a(755);y=a(53);w=a(384);x=a(753);C=a(217);F=a(752);A=a(382);M=a(751);c.storage=new f.Sb(function(a){a(k.kca).pl(function(){return function(){return t.localStorage;};});a(k.vaa).pl(function(){return function(){return t.indexedDB;};});a(C.v9).to(F.jya).Y();a(w.Yba).to(x.TEa).Y();a(y.ul).to(z.iya).Y();a(g.sba).to(l.NDa).Y();a(b.NK).to(q.uDa).Y();a(r.bba).to(m.vDa).Y();a(d.mea).to(h.Sza).Y();a(r.uaa).to(m.vCa).Y();a(r.mV).to(m.wDa).Y();a(n.i$).to(B.Tza).Y();a(A.B$).to(M.gBa).Y();});},function(f,c,a){var d,k,h;function b(a){this.Jcb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(218);a=a(389);b.prototype.O0a=function(){var a,b;a={kG:k.Pu.Unknown};b=this.Jcb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.kG=b.value?k.Pu.Present:k.Pu.Absent;if(a.kG===k.Pu.wlb){c=function(){b.value&&(a.kG=k.Pu.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.kG=k.Pu.Error;});return a;};h=b;h=f.__decorate([d.P(),f.__param(0,d.j(a.xda))],h);c.SBa=h;},function(f,c,a){var d,k,h;function b(a,b){this.$qa=a;this.log=b.Cb("MediaCapabilities");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(391);k=a(12);a=a(0);b.prototype.o1=function(a){var b,c,d;b=this;c={tc:void 0};if(this.$qa.ara){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,L:1E3*a.L,gP:"24"};this.$qa.o1(d).then(function(a){return c.tc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};h=b;h=f.__decorate([a.P(),f.__param(0,a.j(d.Sba)),f.__param(1,a.j(k.Jb))],h);c.KEa=h;},function(f,c,a){var d,k;function b(a){this.navigator=a;this.ara="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(46);b.prototype.o1=function(a){return this.ara?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.L,framerate:a.gP}}).then(function(a){return{hBb:a.supported,mhb:a.smooth,rcb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.GD))],k);c.JEa=k;},function(f,c,a){var d,k;function b(a,b,c,f){a=d.Ck.call(this,a,b,c)||this;a.T0=f;a.type=k.Si.fea;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(129);k=a(28);ha(b,d.Ck);b.prototype.EG=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.T0.Yh.toString()});};c.vJa=b;},function(f,c,a){var d,k,h;function b(a,b,c,f,h,l){a=d.Ck.call(this,a,b,c)||this;a.dG=f;a.qB=h;a.Na=l;a.type=k.Si.aU;a.log=a.qB.Cb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(129);k=a(28);h=a(7);ha(b,d.Ck);b.prototype.$o=function(a){switch(a){case k.Wg.wn:return this.uib;default:return Promise.resolve(!1);}};b.prototype.SA=function(){var a;a=this;return this.$o(k.Wg.wn).then(function(a){return a?k.Wg.wn:void 0;}).then(function(b){return a.IF(b);});};b.prototype.fZ=function(a){return this.$t=a;};b.prototype.FJ=function(){var a;if(this.$t){a=this.noa&&this.ooa&&this.noa.Ed(this.ooa).pa(h.Qa);this.$t.itshdcp=JSON.stringify({hdcp1:this.Oq,time1:a});}};oa.Object.defineProperties(b.prototype,{Uh:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.bra||(this.bra=this.dG().then(function(b){return b.una(a.config().Cd).oT();}).then(function(a){return a.createMediaKeys();}));return this.bra;}},uib:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.j8||(this.config().n_a?this.j8=this.Uh.then(function(b){if(b&&b.getStatusForPolicy)return a.ooa=a.Na.jg,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.noa=a.Na.jg;a.Oq=b;a.log.trace("hdcpStatus: "+a.Oq);return"usable"===a.Oq;});a.Oq="not available";a.log.trace("hdcpStatus: "+a.Oq);return!1;})["catch"](function(b){a.Oq="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Oq},b);return!1;}).then(function(b){a.FJ();return b;}):(this.Oq="not enabled",this.log.trace("hdcpStatus: "+this.Oq),this.FJ(),this.j8=Promise.resolve(!1)));return this.j8;}}});c.Lza=b;},function(f,c,a){var d,k,h,g,l,n,r,m,q,B,z,y,w,x,C,F,A,M,D;function b(a,b,c,d,g,f,l){a=k.Ck.call(this,a,b,c)||this;a.ka=d;a.Na=g;a.qB=f;a.df=l;a.type=h.Si.Wu;a.WC="hvc1";a.jza="avc1";a.Qsa={};a.log=a.qB.Cb("MicrosoftVideoCapabilityDetector");a.RC[h.Sd.Yf]=m.sd.gD;a.whb();a.kJ&&a.config().z9a?a.NZa=a.eXa():(a.NZa=Promise.resolve(""),a.config().B9a?a.hXa():a.config().A9a&&a.gXa());return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(59);k=a(129);h=a(28);f=a(96);g=a(168);l=a(76);n=a(7);r=a(227);m=a(130);q=a(219);B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");z="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");y="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");w="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");x="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");C="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");F=["hdcp=1"];A=["hdcp=2"];M=new f.ev();D=new r.UT();ha(b,k.Ck);b.prototype.CP=function(a){var b;a=void 0===a?0:a;b="undefined"!==typeof t&&t._cad_global&&t._cad_global.videoCache;return b&&(a=b.ywb(a),(a=this.uXa(a))&&0<a.length)?a:k.Ck.prototype.CP.call(this);};b.prototype.uXa=function(a){if(a&&1===a.length)switch(a[0]){case d.$.Tr:return[d.$.Tr];case d.$.Qu:return[d.$.Tr,d.$.Qu];case d.$.fD:return[d.$.Tr,d.$.Qu,d.$.fD];}return[];};b.prototype.$o=function(a){switch(a){case h.Wg.wn:return this.cwa();case h.Wg.Tu:return this.tI;default:return Promise.resolve(!1);}};b.prototype.PA=function(){return this.kJ?this.Z5a?this.cwa().then(function(a){return Promise.resolve(a?g.Fb.Rd:g.Fb.QD);}):Promise.resolve(g.Fb.QD):this.wib?Promise.resolve(g.Fb.QD):Promise.resolve(g.Fb.Cn);};b.prototype.lJ=function(){return this.tib();};b.prototype.mJ=function(){return this.kJ&&this.ewa()?this.tI:Promise.resolve(!1);};b.prototype.jJ=function(){return this.sib();};b.prototype.fZ=function(a){this.$t=a;Object.assign(this.$t,this.Qsa);a.itshwdrm=this.kJ;a.itsqhd=this.dwa();a.itshevc=this.ewa();a.itshdr=this.lJ();a.itsdv=this.jJ();return a;};b.prototype.VE=function(a,b){(this.$t?this.$t:this.Qsa)[a]=b;};b.prototype.SA=function(){var a;a=this;return this.$o(h.Wg.Tu).then(function(b){return b?a.IF(h.Wg.Tu):a.$o(h.Wg.wn).then(function(b){return b?a.IF(h.Wg.wn):a.IF(void 0);});});};b.prototype.EG=function(){return this.PA().then(function(a){return a===g.Fb.Rd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.r1=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Aa(b.fu),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Aa(b.en);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.e6[a];c=[];f=g.Fb.Cn;if(a)return b.is.fh(a)?d=a:(c=a.Md,d=a.ff,f=a.Bd),b.et(f,d,c);});};b.prototype.ow=function(){var a;a=k.Ck.prototype.ow.call(this);a[d.$.vL]="vp09.00.11.08.02";a[d.$.wL]="vp09.00.11.08.02";a[d.$.xL]="vp09.00.11.08.02";a[d.$.QU]={ff:"hev1.2.6.L90.B0",Bd:g.Fb.Rd,Md:B};a[d.$.SU]={ff:"hev1.2.6.L93.B0",Bd:g.Fb.Rd,Md:B};a[d.$.UU]={ff:"hev1.2.6.L120.B0",Bd:g.Fb.Rd,Md:B};a[d.$.WU]={ff:"hev1.2.6.L123.B0",Bd:g.Fb.Rd,Md:B};a[d.$.jD]={ff:"hev1.2.6.L150.B0",Bd:g.Fb.Rd,Md:B};a[d.$.kD]={ff:"hev1.2.6.L153.B0",Bd:g.Fb.Rd,Md:B};a[d.$.AK]={ff:"hev1.2.6.L90.B0",Bd:g.Fb.Rd,Md:y};a[d.$.BK]={ff:"hev1.2.6.L93.B0",Bd:g.Fb.Rd,Md:y};a[d.$.CK]={ff:"hev1.2.6.L120.B0",Bd:g.Fb.Rd,Md:y};a[d.$.DK]={ff:"hev1.2.6.L123.B0",Bd:g.Fb.Rd,Md:w};a[d.$.LU]={ff:"hev1.2.6.L150.B0",Bd:g.Fb.Rd,Md:w};a[d.$.NU]={ff:"hev1.2.6.L153.B0",Bd:g.Fb.Rd,Md:w};a[d.$.jK]={ff:"hev1.2.6.L90.B0",Bd:g.Fb.Rd,Md:x};a[d.$.kK]={ff:"hev1.2.6.L93.B0",Bd:g.Fb.Rd,Md:x};a[d.$.lK]={ff:"hev1.2.6.L120.B0",Bd:g.Fb.Rd,Md:x};a[d.$.mK]={ff:"hev1.2.6.L123.B0",Bd:g.Fb.Rd,Md:C};a[d.$.nK]={ff:"hev1.2.6.L150.B0",Bd:g.Fb.Rd,Md:C};a[d.$.mU]={ff:"hev1.2.6.L153.B0",Bd:g.Fb.Rd,Md:C};return a;};b.prototype.et=function(a,b,c){a=q.Xu.ZN(a,b,c);return this.sq(a);};b.prototype.dwa=function(){return this.et(g.Fb.Rd,this.WC,B);};b.prototype.tib=function(){return this.et(g.Fb.Rd,this.WC,y);};b.prototype.sib=function(){return this.et(g.Fb.Rd,this.WC,x);};b.prototype.ewa=function(){return this.et(g.Fb.Rd,this.WC,z);};b.prototype.cwa=function(){var a;a=this;return this.tI.then(function(b){return b?Promise.resolve(b):a.pta;});};b.prototype.FJ=function(){this.$t&&(this.$t.itshdcp=JSON.stringify({hdcp1:this.loa,time1:this.rwa-this.Sva,hdcp2:this.moa,time2:this.swa-this.Tva}));};b.prototype.whb=function(){var a;a=this;this.kJ?(this.U5=new l.ii(),this.V5=new l.ii(),this.pta=l.oa.from(this.U5).oT().then(function(a){return"probably"===a;}),this.tI=l.oa.from(this.V5).oT().then(function(a){return"probably"===a;}),this.yva(this.V5,this.config().D9a),this.Ysa(this.i3a.bind(this),this.V5),this.tI.then(function(b){b||(a.yva(a.U5,a.config().C9a),a.Ysa(a.h3a.bind(a),a.U5));})):(this.pta=Promise.resolve(!0),this.tI=Promise.resolve(!1));};b.prototype.Ysa=function(a,b){l.oa.Dr(0,this.config().E9a).map(function(){return a();}).$I(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).rJ(l.oa.from(b)).oT();};b.prototype.yva=function(a,b){this.ka.qg(n.Hb(b),function(){a.next("timeout");a.complete();});};b.prototype.h3a=function(){var a;a=q.Xu.ZN(g.Fb.QD,this.jza,F).split("|");this.loa=q.Xu.i8(a[0],a[1]);this.rwa=this.Na.jg.pa(n.Qa);this.Sva=this.Sva||this.rwa;this.FJ();return this.loa;};b.prototype.i3a=function(){var a;a=q.Xu.ZN(g.Fb.Rd,this.WC,A).split("|");this.moa=q.Xu.i8(a[0],a[1]);this.swa=this.Na.jg.pa(n.Qa);this.Tva=this.Tva||this.swa;this.FJ();return this.moa;};b.prototype.eXa=function(){var a;a=this;return this.c0(g.Fb.Rd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.VE("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.gXa=function(){var a;a=this;this.c0(g.Fb.Cn,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.df.decode(b));a.VE("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.VE("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.hXa=function(){var a;a=this;this.c0(g.Fb.Cn,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.df.decode(b));a.VE("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.VE("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.c0=function(a,b){var c;c=this;return new Promise(function(d,g){var r,m,q;function f(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+D.vG(a&&a.target&&a.target.error&&a.target.error.kBb||0,4));}catch(qa){l(a.target,qa);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.A0a(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(va){l(a.target,va);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);g(d);}function p(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",f);r&&r.cancel();}try{m=new Uint8Array(M.$hb(b));q=new t.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),m);q.addEventListener("mskeymessage",k);q.addEventListener("mskeyadded",h);q.addEventListener("mskeyerror",f);r=c.ka.qg(n.Hb(1E3),function(){l(q,Error("timeout"));});}catch(ka){g(ka);}});};b.prototype.A0a=function(a,b){var c,d,g,f;for(var c=1;c<arguments.length;++c);c="";g=a.length;for(d=0;d<g;d++)f=a[d],0<f&&(c+=String.fromCharCode(f));g="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){f=arguments[d];if(0>c.search(f))return;f="(?:[^:].*:|)"+f;g="[\\s\\S]*<"+f+"[^>]*>"+g+"</"+f+">[\\s\\S]*";}if(c=c.match(new RegExp(g)))return c[1];};oa.Object.defineProperties(b.prototype,{Z5a:{configurable:!0,enumerable:!0,get:function(){return this.config().m_a&&(!this.config().F9a||this.dwa());}},kJ:{configurable:!0,enumerable:!0,get:function(){try{return this.sq(g.Fb.Rd);}catch(O){return!1;}}},wib:{configurable:!0,enumerable:!0,get:function(){try{return this.sq(g.Fb.QD);}catch(O){return!1;}}}});b.KC='video/mp4;codecs="{0},mp4a";';c.zEa=b;},function(f,c,a){var d,k,h,g,l;function b(a,b,c,f){a=g.oU.call(this,a,b)||this;a.is=c;a.platform=f;a.type=d.Gu.Wu;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(28);k=a(59);h=a(168);g=a(392);l=a(219);ha(b,g.oU);b.prototype.iJ=function(){return this.config().eG&&this.et(h.Fb.Cn,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.ow=function(){var a;a={};a[k.yk.EK]="mp4a.40.2";a[k.yk.OU]="mp4a.40.5";"browser"===this.platform.F0?this.config().eG&&(a[k.yk.hK]={ff:"avc1",Bd:h.Fb.Cn,Md:["audio-endpoint-codec=DD+JOC"]},a[k.yk.iK]={ff:"avc1",Bd:h.Fb.Cn,Md:["audio-endpoint-codec=DD+JOC"]}):(this.config().W0&&(a[k.yk.hK]="ec-3"),this.config().V0&&(a[k.yk.cU]="ec-3"),this.config().eG&&(a[k.yk.iK]={ff:"avc1",Bd:h.Fb.Cn,Md:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.r1=function(a){var b;b=this;return a.filter(function(a){var c,g;for(var c=Aa(b.fu),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Aa(b.en);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.e6[a];c=[];g=h.Fb.Cn;if(a)return b.is.fh(a)?d=a:(c=a.Md,d=a.ff,g=a.Bd),b.et(g,d,c);});};b.prototype.et=function(a,b,c){a=l.Xu.ZN(a,b,c);return this.sq(a);};c.XEa=b;},function(f,c,a){var d,k,h,g,l,n,r,m,q,t,z,y,w,x,C,F,A,M,D;function b(a,b,c,d,g,f,h,k,l,p,n){this.wpa=a;this.cast=b;this.config=c;this.ka=d;this.Na=g;this.is=f;this.dG=h;this.qB=k;this.T0=l;this.platform=p;this.df=n;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(28);h=a(221);g=a(158);l=a(220);n=a(769);r=a(768);m=a(129);q=a(392);t=a(41);z=a(42);y=a(21);w=a(767);x=a(100);C=a(12);F=a(766);A=a(136);M=a(86);a=a(52);b.prototype.QWa=function(a){var b;b=this.wpa.Fka();switch(a){case k.Gu.Wu:return new n.XEa(this.config,b,this.is,this.platform);default:return new q.oU(this.config,b);}};b.prototype.AXa=function(a){var b;b=this.wpa.Fka();switch(a){case k.Si.ZT:a=new l.Y9(this.config,b,this.is,this.cast);break;case k.Si.aU:a=new w.Lza(this.config,b,this.is,this.dG,this.qB,this.Na);break;case k.Si.Wu:a=new r.zEa(this.config,b,this.is,this.ka,this.Na,this.qB,this.df);break;case k.Si.fea:a=new F.vJa(this.config,b,this.is,this.T0);break;default:a=new m.Ck(this.config,b,this.is);}return a;};D=b;D=f.__decorate([d.P(),f.__param(0,d.j(h.gba)),f.__param(1,d.j(l.$T)),f.__param(2,d.j(g.qK)),f.__param(3,d.j(t.gi)),f.__param(4,d.j(z.Pi)),f.__param(5,d.j(y.fe)),f.__param(6,d.j(x.$C)),f.__param(7,d.j(C.Jb)),f.__param(8,d.j(A.cD)),f.__param(9,d.j(M.gs)),f.__param(10,d.j(a.zk))],D);c.Dza=D;},function(f,c,a){var d,k,h,g,l,n;function b(a,b,c){this.config=a;this.gla=b;this.cast=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(221);h=a(158);g=a(28);l=a(220);n=a(219);b.prototype.Fka=function(){switch(this.config().ET){case g.Si.ZT:return l.Y9.Z_(this.gla,this.cast);case g.Si.Wu:return n.Xu.Z_(this.config);default:return this.gla;}};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(h.qK)),f.__param(1,d.j(k.bda)),f.__param(2,d.j(l.$T))],a);c.BDa=a;},function(f,c,a){var d,k,h,g,l;function b(a,b,c){this.lO=a;this.Ta=b;this.yC=c;this.qQa="video/mp4;codecs={0}";this.gLa="audio/mp4;codecs={0}";a=this.lO.qP(d.Sd.Yf);this.pQa=h.sd.Hka(a);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(28);k=a(0);h=a(130);g=a(21);a=a(226);b.prototype.KF=function(a){a=this.lO.k3a(a);a=this.Ta.Zk(a)?a:d.Sd.VD;return this.yC.format(this.qQa,this.pQa[a]);};b.prototype.XN=function(){return this.yC.format(this.gLa,h.sd.NT);};l=b;l=f.__decorate([k.P(),f.__param(0,k.j(d.pU)),f.__param(1,k.j(g.fe)),f.__param(2,k.j(a.EW))],l);c.EJa=l;},function(f,c,a){var d,k,h,g,l,n;function b(a,b,c){this.config=a;this.Gja=b;this.Wbb=c;this.Zcb=this.tXa();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(28);k=a(158);h=a(0);g=a(59);l=a(396);a=a(395);b.prototype.E4a=function(){return this.$ma().CP();};b.prototype.F4a=function(a){return this.uo().CP(a);};b.prototype.$ma=function(){this.EZ&&this.EZ.type==this.config().FZ||(this.EZ=this.Gja.QWa(this.config().FZ));return this.EZ;};b.prototype.uo=function(){this.DT&&this.DT.type==this.config().ET||(this.DT=this.Gja.AXa(this.config().ET),this.DT.fZ(this.Wbb.b3a()));return this.DT;};b.prototype.k3a=function(a){var g;if(!a||!a.length)return d.Sd.zK;a=this.h1a(a);for(var b=[d.Sd.VD,d.Sd.zK,d.Sd.rL,d.Sd.qp,d.Sd.Yf,d.Sd.ps],c=b.length;c--;){g=b[c];if((0,this.Zcb[g])(a))return g;}return d.Sd.VD;};b.prototype.$o=function(a){return this.uo().$o(a);};b.prototype.sq=function(a){return this.uo().sq(a);};b.prototype.PA=function(){return this.uo().PA();};b.prototype.lJ=function(){return this.uo().lJ();};b.prototype.iJ=function(){return this.$ma().iJ();};b.prototype.jJ=function(){return this.uo().jJ();};b.prototype.mJ=function(){return this.uo().mJ();};b.prototype.qP=function(a){return this.uo().qP(a);};b.prototype.SA=function(){return this.uo().SA();};b.prototype.EG=function(){return this.uo().EG();};b.prototype.h1a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.ve]="";});return Object.keys(b);};b.prototype.tXa=function(){var a;a={};a[d.Sd.ps]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[d.Sd.Yf]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[d.Sd.qp]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[d.Sd.rL]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[d.Sd.zK]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Aa(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[g.$.Qu]);a[d.Sd.VD]=function(){return!0;};return a;};n=b;n=f.__decorate([h.P(),f.__param(0,h.j(k.qK)),f.__param(1,h.j(a.U9)),f.__param(2,h.j(l.aaa))],n);c.$Aa=n;},function(f,c,a){var b,d,k,h,g,l,n,r,m,q,B,z,y,w,x,C,F,A,M,D;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(28);d=a(30);k=a(773);h=a(158);g=a(111);l=a(772);n=a(221);r=a(771);m=a(396);q=a(395);B=a(770);z=a(220);y=a(6);w=a(391);x=a(765);C=a(390);F=a(764);A=a(218);M=a(763);D=a(389);c.lO=new f.Sb(function(a){a(g.Yy).to(l.EJa).Y();a(b.pU).to(k.$Aa).Y();a(n.gba).to(r.BDa).Y();a(q.U9).to(B.Dza).Y();a(n.bda).Uf({isTypeSupported:y.ED&&y.ED.isTypeSupported});a(z.$T).Uf("undefined"!==typeof cast?cast:null);a(m.aaa).GC(function(){return{b3a:function(){return t._cad_global.platformExtraInfo;}};});a(h.qK).GC(function(a){return a.uc.get(d.wg);});a(w.Sba).to(x.JEa).Y();a(C.Rba).to(F.KEa).Y();a(A.$$).to(M.SBa).Y();a(D.xda).Uf(t);});},function(f,c,a){function b(a){this.IZa=void 0===a?10:a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b=f.__decorate([a.P()],b);c.XJa=b;},function(f,c,a){var d,k;function b(a){this.njb=a;this.lT={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(222);b.prototype.v2a=function(){var a,b,c;a=[];for(b in this.lT){c=this.lT[b];a.push({bA:Number(b),cy:c.Gm().cy,L0:c.Gm().L0});}return a;};b.prototype.pN=function(a){var b,c;b=a.bA;c=this.lT[b];c||(c=this.njb(),this.lT[b]=c);c.pN(a);};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.IW))],k);c.Jza=k;},function(f,c,a){var d,k,h,g;function b(a){this.config=a;this.S7=k.vg;this.qC=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(35);h=a(7);a=a(398);b.prototype.Gm=function(){var b;for(var a;0<this.qC.length;)a=this.qC.shift(),this.qia(a);a=void 0===this.bG||void 0===this.ww?h.vg:this.ww.Ed(this.bG);b=a.Apa()?0:this.S7.pa(k.ry)/a.pa(h.Qa);return{cy:Math.floor(b),L0:a.pa(h.Qa)};};b.prototype.pN=function(a){this.S7=this.S7.add(a.size);this.qC.push(a.HZa);for(this.qC.sort(function(a,b){return a.start.Wk(b.start);});this.qC.length>this.config.IZa;)a=this.qC.shift(),this.qia(a);};b.prototype.qia=function(a){void 0===this.bG&&(this.bG=a.start);void 0!==this.ww&&0>this.ww.Wk(a.start)&&(this.bG=this.bG.add(a.start.Ed(this.ww)));if(void 0===this.ww||0>this.ww.Wk(a.end))this.ww=a.end;};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(a.Aea))],g);c.YJa=g;},function(f,c,a){var b,d,k,h,g,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(777);d=a(776);k=a(775);h=a(397);g=a(398);l=a(222);c.Qib=new f.Sb(function(a){a(l.Bea).to(b.YJa);a(h.Z9).to(d.Jza).Y();a(g.Aea).Uf(new k.XJa());a(l.IW).pl(function(a){return function(){return a.uc.get(l.Bea);};});});},function(f,c,a){var d,k,h,g,l,n;function b(a,b,c,g,f,k,l,p,n,m,q,t,A,O,D,U,Y){var r;r=this;this.tg=a;this.Ta=b;this.eb=c;this.le=f;this.Cx=l;this.iw=p;this.FQa=n;this.config=m;this.hr=t;this.M=A;d.mj(this,"playback");this.log=g.Cb("VideoPlayer",this.G);this.V=q(A,U,O,D);this.V.background=!0;this.V.Ma=Y;this.V.Tc=U;this.Gsa=[];this.ended=!1;this.h9();this.element=this.V.We;this.ia=this.V.ia;this.ready=!1;this.V.state.addListener(function(a){a.newValue===h.Eh.ms&&(r.ready,r.Yc(h.Va.t3,{movieId:r.M}));});this.V.oc.kf&&(this.lu=k.SWa(this,this.V,this.hr),this.V.addEventListener(h.Ha.u7,function(a){r.Yc(h.Va.yS,{segmentId:a.segmentId});}));}Object.defineProperty(c,"__esModule",{value:!0});d=a(45);k=a(2);h=a(33);g=a(7);l=a(6);n=a(57);b.prototype.Y3a=function(){return this.V.FR.value;};b.prototype.T3a=function(){return this.V.paused.value;};b.prototype.X2a=function(){return this.ended;};b.prototype.ak=function(){var a;a=this.V.b_.value;return a?{networkStalled:!!a.TS,stalled:!!a.TS,progress:a.Xh,progressRollback:!!a.bdb}:null;};b.prototype.getError=function(){var a;a=this.V.oh;return a?a.pT():null;};b.prototype.po=function(){return this.V.Ic.value;};b.prototype.X1=function(){return this.V.X1();};b.prototype.yP=function(){return this.V.Kw();};b.prototype.W2a=function(){return this.V.duration;};b.prototype.X4a=function(){return this.V.QC?{width:this.V.QC.width,height:this.V.QC.height}:null;};b.prototype.E2a=function(){var g;if(this.V.py){for(var a,b=0;b<this.V.py.length;b++)for(var c=this.V.py[b],d=0;d<c.Ab.length;d++){g=c.Ab[d];this.Ta.If(g.DXa)&&this.Ta.If(g.Lka)&&this.Ta.If(g.Kka)&&this.Ta.If(g.Jka)&&0<g.Lka&&(g=g.Jka/g.Kka,a=this.Ta.If(a)?Math.min(a,g):g);}return a;}};b.prototype.Q2a=function(){var a;a=this;return{addEventListener:this.V.H0.addEventListener,removeEventListener:this.V.H0.removeEventListener,getModel:function(){return a.V.H0.qyb;},getTime:function(){return a.eb.Xd().pa(g.Qa);},getGroups:function(){var b;b=a.V.AR;return b?b.g3a():[];}};};b.prototype.c2a=function(){var a,c;a=[];if(this.V.bo)for(var b=0;b<this.V.bo.length;b++){c=this.VA(this.V.bo[b]);null!==c&&a.push(c);}return a;};b.prototype.L4a=function(){var a,d;a=[];if(null!==this.V.ud.value)for(var b=this.V.ud.value.ol,c=0;c<b.length;c++){d=this.VA(b[c]);null!==d&&a.push(d);}return a;};b.prototype.H3a=function(){return this.V.muted.value;};b.prototype.Y4a=function(){return this.V.volume.value;};b.prototype.b2a=function(){return this.VA(this.V.ud.value);};b.prototype.K4a=function(){return this.VA(this.V.bd.value);};b.prototype.zgb=function(a){this.V.muted.set(!!a);};b.prototype.Ogb=function(a){this.V.volume.set(this.Vra(a,1));};b.prototype.Dgb=function(a){this.V.playbackRate.set(this.Vra(a,2));};b.prototype.mgb=function(a){for(var b,c=0;c<this.V.bo.length;c++)if(b=this.V.bo[c],this.VA(b)==a){this.V.ud.set(b);return;}this.log.error("Invalid setAudioTrack call");};b.prototype.Kgb=function(a){if(null!=this.V.ud.value){for(var b=this.V.ud.value.ol,c,d=0;d<b.length;d++){c=b[d];if(!a&&null==c){this.V.bd.set(null);return;}if(this.VA(c)==a){this.log.info("Setting Timed Text, profile: "+c.QH);this.V.bd.set(c);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.ngb=function(){this.V.background=!1;};b.prototype.US=function(){this.V.US();};b.prototype.addEventListener=function(a,b,c){this.le.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.le.removeListener(a,b);};b.prototype.du=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.V.load(function(b,c){try{a.Yc(h.Va.tQ,void 0,!0);b.Ma&&b.Ma.watermarkInfo&&a.Yc(h.Va.KT,b.Ma.watermarkInfo,!0);b.Ma.choiceMap&&a.Yc(h.Va.xS,{segmentMap:b.Ma.choiceMap},!0);c({N:!0});}catch(B){c({S:k.v.ye,Ga:a.tg.xc(B)});}}));};b.prototype.close=function(a){var b;b=this;this.bka||(this.bka=new Promise(function(c){a?b.V.Kh(a,c):b.V.close(c);}));return this.bka;};b.prototype.play=function(){this.load();this.V.paused.value&&(this.V.paused.set(!1),this.V.fireEvent(h.Ha.rxa));};b.prototype.pause=function(){this.load();this.V.paused.value||(this.V.paused.set(!0),this.V.fireEvent(h.Ha.wkb));};b.prototype.seek=function(a,b){this.V.Pg?this.V.Pg.seek(a,b):this.V.Xs=a;};b.prototype.acb=function(a){return this.lu?(this.log.trace("Playing a segment",a),this.lu.play(a)):Promise.resolve();};b.prototype.sdb=function(a){return this.lu?(this.log.trace("Queueing a segment",a),this.lu.or(a)):Promise.resolve();};b.prototype.Hr=function(a,b){return this.lu?(this.log.trace("Updating next segment weights",a,b),this.lu.Hr(a,b)):Promise.resolve();};b.prototype.BJ=function(){this.V.BJ();};b.prototype.Lgb=function(a){this.V.ap.Jgb(a);};b.prototype.UI=function(a){this.V.Bu&&this.V.Bu.UI(a);};b.prototype.VI=function(a){this.V.Bu&&this.V.Bu.VI(a);};b.prototype.GG=function(){return this.V.Bu?this.V.Bu.GG():!1;};b.prototype.WI=function(a){this.V.Bu&&this.V.Bu.WI(a);};b.prototype.L7=function(a){this.V.L7(a);};b.prototype.Q4a=function(a){return this.V.gp?this.V.gp.f3a(a):null;};b.prototype.X1a=function(){return this.tg.nj({playerver:this.config.version,jssid:this.config.a7a,groupName:this.config.config.vo,xid:this.V.ia,pbi:this.V.index},this.config.Xbb,{prefix:"pi_"});};b.prototype.k6a=function(a){this.V.Kh(this.hr(k.I.FBa,k.v.Zg,a));};b.prototype.O7a=function(a,b,c){if(!this.Ta.Kia(a))throw Error("invalid url");this.Gsa.push({url:a,name:b,xSa:c});this.ota();};b.prototype.Pna=function(){var a,b,c,d,g,f,h,k;a={};b=this.V.Rsa;try{if(this.V.oh&&(a.errorCode=this.V.oh.pO,a.errorType=b?"endplay":"startplay"),a.playdelay=this.V.Rsa,a.xid=this.V.ia,this.V.Ma&&this.Ta.fh(this.V.Ma.packageId)&&(a.packageId=Number(this.V.Ma.packageId)),a.auth=this.V.e2a(),a.hdr=this.V.r3a(),b){a.totaltime=this.V.Ym?this.B1a(this.V.Ym.C2()):0;a.abrdel=this.V.Ym?this.V.Ym.ana():0;c=this.V.Pg;d=c?c.Iw():null;this.Ta.If(d)&&(a.totdfr=d);d=c?c.zG():null;this.Ta.If(d)&&(a.totcfr=d);g=c?c.s3a():null;g&&(a.rbfrs_decoder=g.tYa,a.rbfrs_network=g.r$a);a.rbfrs_delay=this.V.Ym?this.V.Ym.t3a():0;a.init_vbr=this.V.p6a;f=this.xP();this.Ta.Zk(f)&&(a.pdltime=f);h=this.V.og.value;k=h&&h.stream;k&&(a.vbr=k.L,a.vdlid=k.vc);a.bufferedTime=this.V.p2a();}}catch(C){this.log.error("error capturing session summary",C);}return a;};b.prototype.rP=function(){var a;a=this;return new Promise(function(b,c){a.V.rP(function(a){a.success?b(a):c(a);});});};b.prototype.CA=function(a){var b,c,d;b=this;if(this.Ta.If(this.V.Ic.value)){c=Object.assign({},this.Cx.mt(this.V,!1),{action:a});d=this.iw(n.xg.CA);return this.FQa().then(function(a){return d.Cm(b.log,a.profile,b.V.Ma.Fo,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.nb,errorExternalCode:a.yc,errorData:a.data,errorDetails:a.uw};});}return Promise.resolve({success:!1});};b.prototype.VA=function(a){return null!==a?(a.m6=a.m6||{trackId:a.ac,bcp47:a.ej,displayName:a.displayName,trackType:a.$h,channels:a.Sj},a.Ao&&(a.m6.isImageBased=!0),a.m6):null;};b.prototype.Vra=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.B1a=function(a){return this.Ta.If(a)?(a/1E3).toFixed(0):"";};b.prototype.Yc=function(a,b,c){b=b||{};b.target=this;this.le.jc(a,b,!c);};b.prototype.h9=function(){var a;a=this;this.V.addEventListener(h.Ha.mwa,function(){a.Yc(h.Va.Yk);});this.V.addEventListener(h.BV.Nja,function(){a.Yc(h.Va.pF);});this.V.addEventListener(h.Ha.$R,function(){a.Yc(h.Va.pF);});this.V.addEventListener(h.Ha.TG,function(b){a.Yc(h.Va.TG,{errorCode:b});});this.V.addEventListener(h.Ha.aja,function(b){a.Yc(h.Va.KZ,b);});this.V.addEventListener(h.Ha.aw,function(b){a.Yc(h.Va.LZ,b);});this.V.FR.addListener(function(){a.Yc(h.Va.T5);});this.V.paused.addListener(function(){a.Yc(h.Va.sR);});this.V.muted.addListener(function(){a.Yc(h.Va.$Q);});this.V.volume.addListener(function(){a.Yc(h.Va.HT);});this.V.Ac.addListener(function(){a.$wa();});this.V.state.addListener(function(){a.$wa();});this.V.b_.addListener(function(b){a.W7a||a.V.state.value!=h.Eh.ms||b.newValue||(a.W7a=!0,a.Yc(h.Va.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.Pna());}));a.Yc(h.Va.$z);});this.V.ud.addListener(function(b){a.Yc(h.Va.dF);b.oldValue&&b.newValue&&b.oldValue.ol==b.newValue.ol||a.Yc(h.Va.bp);setTimeout(function(){var b;if(null!==a.V.ud.value&&null!==a.V.bd.value){b=a.V.ud.value.ol;0<=b.indexOf(a.V.bd.value)||(a.log.info("Changing timed text track to match audio track"),a.V.bd.set(b[0]));}},0);});this.V.bd.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.ac==b.newValue.ac||a.Yc(h.Va.Cr);});this.V.addEventListener(h.Ha.bp,function(){a.Yc(h.Va.bp);});this.V.addEventListener(h.Ha.Du,function(){a.Yc(h.Va.Du);});this.V.state.addListener(function(b){switch(b.newValue){case h.Eh.ms:a.Yc(h.Va.yO);a.Yc(h.Va.FT);a.Yc(h.Va.eF);a.Yc(h.Va.bp);a.Yc(h.Va.sQ);a.ota();a.alb();break;case h.Eh.wW:a.V.oh&&a.Yc(h.Va.error,a.V.oh.pT());break;case h.Eh.vW:a.Yc(h.Va.closed),a.le.vw();}});};b.prototype.alb=function(){var a;a=this;this.V.ap.addEventListener("showsubtitle",function(b){a.Yc(h.Va.IS,b,!0);});this.V.ap.addEventListener("removesubtitle",function(b){a.Yc(h.Va.YR,b,!0);});};b.prototype.ota=function(){if(this.V.state.value==h.Eh.ms){for(var a,b,c;b=this.Gsa.shift();)a=this.V.ap.dZ(b.url,b.name),b.xSa&&(c=a);c&&this.V.bd.set(c);}};b.prototype.$wa=function(){var a;a=this.V.state.value==h.Eh.ms&&this.V.Ac.value==h.lm.AU;this.ended!==a&&(this.ended=a,this.Yc(h.Va.HO));};b.prototype.xP=function(){var a,b;try{a=/playercore.*js/;b=l.im.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(v){}};oa.Object.defineProperties(b.prototype,{G:{configurable:!0,enumerable:!0,get:function(){return this.V;}}});c.yDa=b;},function(f,c,a){var d,k,h,g,l,n,r,m,q,t,z,y;function b(a){this.yb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(241);h=a(22);g=a(21);l=a(29);n=a(12);r=a(83);m=a(224);q=a(779);t=a(223);z=a(57);y=a(64);b.prototype.sXa=function(a,b,c,d,f,k,p,u){return new q.yDa(this.yb.get(h.ze),this.yb.get(g.fe),this.yb.get(l.Xf),this.yb.get(n.Jb),this.yb.get(r.wK),this.yb.get(m.zW),this.yb.get(t.fW),this.yb.get(z.vK),this.yb.get(y.mp),a,b,c,d,f,k,p,u);};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.nV))],a);c.EKa=a;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(400);d=a(780);c.Nkb=new f.Sb(function(a){a(b.Sea).to(d.EKa).Y();});},function(f,c,a){var d,k;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(30);b.prototype.Ycb=function(a,b,c){var d;if(this.config().Vfb){d=a.metrics;c||(void 0===d?b.CB.transition({srcxid:b.ia,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.CB.transition({srcxid:b.ia,srcmid:b.M,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.wg))],k);c.iKa=k;},function(f,c,a){var k;function b(){}function d(a,b,c,d,f){this.debug=a;this.version=b;this.a7a=c;this.Xbb=d;this.config=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);d.prototype.W1=function(){return this.config.ija;};d.prototype.Gna=function(){return this.config.ncb;};b.prototype.Jq=function(a,b,c,f,k){return new d(a,b,c,f,k);};k=b;k=f.__decorate([a.P()],k);c.zJa=k;},function(f,c,a){var h,g,l,n;function b(a,b,c,d,g,f,h,k,p){var n;n=this;this.Yb=b;this.G=c;this.e5=d;this.KH=g;this.ka=f;this.QRa=h;this.hr=k;this.yjb=p;this.Lx=function(){n.Lo&&(n.Lo.closed||n.Lo.unsubscribe(),n.Lo=void 0);};this.log=a.Cb("SegmentManager",this.G);this.rj=new Map();this.gpa=!0;this.G.oc.kf&&(this.G.addEventListener(l.Ha.u7,function(a){return n.Lab(a);}),this.G.addEventListener(l.Ha.closed,this.Lx));}function d(a,b){this.id=a;this.s_=b;}function k(a,b,c,d){return g.dc.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);g=a(58);l=a(33);n=a(7);ha(k,g.dc);k.prototype.toString=function(){return this.code+"-"+this.nb+" : "+this.message+"\n"+JSON.stringify(this.data);};d.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.uC,contentEndPts:this.b1};};oa.Object.defineProperties(d.prototype,{uC:{configurable:!0,enumerable:!0,get:function(){return this.s_.startTimeMs;}},b1:{configurable:!0,enumerable:!0,get:function(){return this.s_.endTimeMs;}},w$a:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.s_.next);}}});b.prototype.Lab=function(a){var b,c;b=this;if(0===this.rj.size){c=this.G.pP();Object.keys(c).forEach(function(a){b.rj.set(a,new d(a,c[a]));});}this.Ml=this.rj.get(a.segmentId);this.yjb.Ycb(a,this.G,this.gpa);this.gpa=!1;};b.prototype.play=function(a){this.Ix&&(this.Ix=void 0);this.Lx();this.log.trace("Playing segment",a);return this.jpa(a)?this.$bb(a):this.zR(a);};b.prototype.or=function(a){this.log.trace("Queueing segment",a);return this.jpa(a)?this.rdb(a):this.tdb(a);};b.prototype.Hr=function(a,b){var c,d;c=this;d=this.G.fb;if(!d)return Promise.reject(this.getError(h.I.E9,"ASE session manager is not yet initialized",h.v.TT,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(g,f){try{d.O8(a,b);c.G.fireEvent(l.Ha.Hr,{Vo:a,gkb:b});g();}catch(w){f(c.getError(h.I.E9,"updateNextSegmentWeights threw an exception",h.v.Cya,{segmentId:a,updates:b,error:w}));}});};b.prototype.jpa=function(a){return this.Ml?void 0!==this.G.pP()[this.Ml.id].next[a]:!1;};b.prototype.Ina=function(){if(this.G.fb)return this.G.fb.Hna().pc;};b.prototype.y2a=function(a){if(this.G.fb)return(a=this.G.fb.x2a(a))&&a.gc;};b.prototype.$bb=function(a){var b,c,d;b=this;c=this.G.fb;if(!c)return Promise.reject(this.getError(h.I.UC,"ASE session manager is not yet initialized",h.v.TT,{id:a}));if(this.Ml&&1===this.Ml.w$a.length)return this.zR(a);if(!this.G.Pg)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(h.I.UC,"MediaPresenter is not initialized",h.v.zya,{id:a}));d=this.y2a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.zR(a)):new Promise(function(g,f){var q,u,v,t,y,z;function k(){!v&&u&&q&&(z.cancel(),v=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:q,completed:v}),c.wF(a,!1,!0)?(g(),v=!0):(v=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.zR(a).then(g)["catch"](f)));}function p(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:q,completed:v});b.G.removeEventListener(l.Ha.$R,p);k();}function m(){b.G.removeEventListener(l.Ha.Q6,m);c.stop();}function r(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:q,completed:v});c.removeEventListener("stop",r);k();}q=!1;u=!1;v=!1;t=b.rj.get(a);y=t.uC+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:y,currentSegment:b.Ml,nextSegment:t},null,"  "));b.G.fireEvent(l.Ha.m5,{Ska:b.Ml&&b.Ml.id,v$a:a});c.addEventListener("stop",r);b.G.addEventListener(l.Ha.Q6,m);b.G.addEventListener(l.Ha.$R,p);z=b.ka.qg(n.am(10),function(){v=!0;z.cancel();f(b.getError(h.I.UC,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.v.yya,{id:a,stopped:u,repositioned:q,completed:v}));});b.Yb.seek(y,l.Vy.Fda);});};b.prototype.zR=function(a){var b;b=this.rj.get(a);return b?this.Vua(b,h.I.UC):Promise.reject(this.getError(h.I.UC,"Unable to find the separated segment",h.v.D9,{id:a}));};b.prototype.rdb=function(a){var b;b=this.G.fb;if(!b)return Promise.reject(this.getError(h.I.Hu,"ASE session manager is not yet initialized",h.v.TT,{id:a}));if(b.wF(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(h.I.Hu,"ASE chooseNextSegment failed",h.v.vya,{id:a}));};b.prototype.tdb=function(a){var b,c;b=this;if(this.Ix)return Promise.reject(this.getError(h.I.Hu,"Unable to queue a non-next segment because there is currently already a segment queued",h.v.Bya,{currentSegment:this.Ml?this.Ml.id:void 0,queuedSegment:this.Ix.id,failedSegment:a}));if(!this.Ml)return Promise.reject(this.getError(h.I.Hu,"Unable to queue a non-next segment because there is no currently playing segment",h.v.wya,{nextSegmentid:a}));c=this.rj.get(a);if(!c)return Promise.reject(this.getError(h.I.Hu,"Unable to find the separated segment",h.v.D9,{nextSegmentid:a,currentSegmentId:this.Ml.id}));this.Ix={id:a,i6:new Promise(function(d,g){var f,k;f=b.e5.Dka({Gna:function(){return 100;}},function(){return b.Yb.po()||0;});k=b.Ina()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:k});f.uia(b.KH.Cka(a+":lastPts",k));b.Lo=f.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.Ml.id,playerEndPts:b.Ina(),pts:k});b.Ix=void 0;b.Lx();b.Vua(c,h.I.Hu).then(function(){d();})["catch"](function(a){g(a);});},function(c){b.Ix=void 0;b.Lx();g(b.getError(h.I.Hu,"ASE session manager is not yet initialized",h.v.xya,{id:a,error:c}));});})};this.Ix.i6["catch"](function(a){b.G.Kh(b.hr(a.code,a));});return Promise.resolve();};b.prototype.Vua=function(a,b){var c;c=this;return new Promise(function(d,g){try{c.Yb.seek(a.uC,l.Vy.Gda);d();}catch(y){g(c.getError(b,"Seek threw an exception",h.v.Aya,{id:a.id,error:y}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new k(a,b,c,d);};c.Zya=b;},function(f,c,a){var g,l,n;function b(a,b,c,d,f,h,k,l,p){this.eb=a;this.KH=c;this.e5=d;this.R5=f;this.config=h;this.hr=k;this.N5=l;this.h9=p;this.pu=[];this.log=b.Cb("SegmentManager");new g.ii();this.z1=!0;}function d(a,b,c,d,f,h,l,p,n){var m;m=this;this.log=a;this.config=b;this.gab=c;this.KH=d;this.R5=f;this.hr=h;this.N5=l;this.lu=p;this.na=n;this.Lx=function(){m.Lo&&(m.Lo.closed||m.Lo.unsubscribe(),m.Lo=void 0);};this.log.debug("Constructing session data",k(n));this.U3=new g.ii();this.cjb=new Promise(function(a){m.Fdb=a;});}function k(a){return{movieId:a.M,uiLabel:a.Tc};}function h(a){return JSON.stringify({movieId:a.M,nextStartPts:a.UH,currentEndPts:a.mA,uiLabel:a.Tc,params:a.lb?{trackingId:a.lb.Ug,authParams:a.lb.$v,sessionParams:a.lb.wh,disableTrackStickiness:a.lb.oO,uiPlayStartTime:a.lb.vT,loadImmediately:a.lb.rQ,playbackState:a.lb.playbackState?{currentTime:a.lb.playbackState.currentTime}:void 0}:void 0});}Object.defineProperty(c,"__esModule",{value:!0});g=a(76);l=a(33);n=a(7);d.prototype.load=function(a){var b;b=this;this.log.trace("Loading new segment",k(this.na));this.Yb=this.R5.sXa(this.config,this.N5,this.hr,this.na.M,this.na.mI,this.na.lb,this.na.Tc,this.na.ne);this.Yb.addEventListener(l.Va.TG,function(a){b.log.trace("Segment is inactive",k(b.na));b.lu.close(b.hr(a.errorCode));});this.Yb.addEventListener(l.Va.closed,this.Lx);a&&(this.log.debug("Pausing background segment",k(this.na)),this.Yb.addEventListener(l.Va.t3,function(a){b.boa(a);}),this.Yb.pause());};d.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",h(this.na));if(this.Lo)this.log.trace("Segment is currently observing",k(this.na));else if(this.na.lb&&this.na.lb.rQ)this.U3.next(this);else{b=this.gab.Dka(this.config,function(){var b;if(a.Yb){b=a.Yb.po();if(b)return b;}return 0;});c=this.KH.Cka("LOAD",this.KTa(this.na));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.uia(c);this.Lo=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",k(a.na));a.U3.next(a);a.Lx();});}};d.prototype.close=function(a){this.log.info("Closing segment",{segment:h(this.na),error:a});return this.Yb?(this.Yb.removeEventListener(l.Va.t3,this.boa),this.Yb.close(a)):Promise.resolve();};d.prototype.KTa=function(a){var b,c;b=a.mA;a=a.lb?a.lb.rQ:!1;c=0;b&&!a&&(c=b-this.config.config.aqa,c<this.config.config.Hqa&&(c=b-(b-this.config.config.Hqa)/2));return c;};d.prototype.boa=function(a){this.log.trace("Received the transition event",{movieId:a.M});this.Fdb(h(this.na));};b.prototype.d4a=function(){return this.Ld&&this.Ld.Yb?this.Ld.Yb.ready:!1;};b.prototype.gRa=function(a){this.log.info("Adding segment",h(a));this.z1?(this.log.trace("First segment, loading",k(a)),a=this.$pa(a),this.z1=!1):(this.log.trace("Subsequent segment, caching",k(a)),a=this.Veb(a));return a?a.cjb:null;};b.prototype.transition=function(a){var b;if(this.ar&&this.ar.Yb){b=this.ar;this.ar=void 0;this.log.info("Transitioning segment",h(b.na));b&&b.Yb&&b.Yb.L7(this.eb.Xd().pa(n.Qa));return this.Iwa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Ld.na)),nextSession:this.ar?JSON.stringify(k(this.ar.na)):void 0});c=[this.Ld.close(a)];this.ar&&c.push(this.ar.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.ar=void 0;b.pu=[];b.z1=!0;a();})["catch"](d);});};b.prototype.$pa=function(a){var b,c;b=this;this.log.info("Loading the next episode",k(a));this.Ld&&(this.config.W1()[a.M]=a.UH);c=this.f1a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",k(a)),null;this.log.trace("Found the next session",k(a));c.U3.subscribe(function(a){b.Uib(a);});this.Ld?(this.log.trace("Subsequent playback, caching player and pausing",k(a)),this.ar=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",k(a)),c.load(!1),this.Iwa(c));return c;};b.prototype.Iwa=function(a,b){var c,d,g;b=void 0===b?{}:b;this.log.trace("Playing episode",k(a.na));c=this.Ld;this.Ld=a;if(this.Ld.Yb&&(this.Ld.Yb.ngb(),this.h9(this.Ld.Yb,c?c.Yb:void 0),c&&c.Yb)){d=c.Yb.element;a=this.Ld.Yb.element;g=d.parentElement;d.style.display="none";c=c.close();g.appendChild(a);this.Ld.Yb&&(a.style.display="block",this.Ld.Yb.getError()?this.Ld.Yb.close():(this.Ld.Yb.G.bkb(b),this.Ld.Yb.US(),this.Ld.Yb.play()));c.then(function(){g.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Uib=function(a){var b,c,d,g;if(this.pu.length&&a.Yb){a=a.Yb.po();b=this.pu[0];c=this.Ld.na.mA;d=this.Ld.na.lb?this.Ld.na.lb.rQ:!1;if(c||d){d?g=0:c&&(g=c-this.config.config.aqa);null!==a&&a>=g&&(this.log.info("Got a time change, loading the next player",k(b.na)),this.$pa(b.na),this.pu.splice(0,1));}}};b.prototype.f1a=function(a){var b;b=null;this.Ld?this.pu.forEach(function(c){c.na.M===a.M&&(b=c);}):b=this.pt(a);return b;};b.prototype.Veb=function(a){var c;if(this.Ld.na.M===a.M)return this.Asa(this.Ld.na,a),this.log.trace("Overwrote the currently playing segment data",h(this.Ld.na)),this.Ld;for(var b=0;b<this.pu.length;++b){c=this.pu[b];if(c.na.M===a.M)return this.Asa(c.na,a),this.log.trace("Overwrote the currently playing segment data",h(c.na)),c;}a=this.pt(a);this.pu.push(a);this.Ld.observe();return a;};b.prototype.Asa=function(a,b){a.UH=b.UH||a.UH;a.mA=b.mA||a.mA;a.Tc=b.Tc||a.Tc;a.lb=b.lb||a.lb;a.ne=b.ne||a.ne;};b.prototype.pt=function(a){return new d(this.log,this.config,this.e5,this.KH,this.R5,this.hr,this.N5,this,a);};c.BJa=b;},function(f,c,a){var d,k,h,g,l,n,m,q,v,t,z,y;function b(a){this.yb=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(241);h=a(29);g=a(12);l=a(403);n=a(402);m=a(400);q=a(785);v=a(784);t=a(81);z=a(41);y=a(399);b.prototype.nXa=function(a,b,c,d){return new q.BJa(this.yb.get(h.Xf),this.yb.get(g.Jb),this.yb.get(l.HV),this.yb.get(n.IV),this.yb.get(m.Sea),a,b,c,d);};b.prototype.SWa=function(a,b,c){return new v.Zya(this.yb.get(g.Jb),a,b,this.yb.get(n.IV),this.yb.get(l.HV),this.yb.get(z.gi),this.yb.get(t.x9),c,this.yb.get(y.Eea));};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.nV))],a);c.AJa=a;},function(f,c,a){var b,d,k,h,g,l;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(224);d=a(401);k=a(786);h=a(783);g=a(399);l=a(782);c.rj=new f.Sb(function(a){a(b.zW).to(k.AJa).Y();a(d.gea).to(h.zJa).Y();a(g.Eea).to(l.iKa).Y();});},function(f,c,a){var d;function b(a,b){this.config=a;this.Ic=b;this.LH=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(76);b.prototype.uia=function(a){0===this.LH.filter(function(b){return b.d5===a;}).length&&this.LH.push({d5:a,Ita:!1});};b.prototype.observe=function(){var a;a=this;return d.oa.interval(this.config.Gna()).Fw(function(){var b,c;b=a.Ic();c=a.LH.filter(function(a){return!a.Ita&&a.d5.time<=b;});c.forEach(function(a){a.Ita=!0;});return d.oa.from(c.map(function(a){return a.d5;}));});};c.aFa=b;},function(f,c,a){var d,k;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(788);b.prototype.Dka=function(a,b){return new k.aFa(a,b);};a=b;a=f.__decorate([d.P()],a);c.$Ea=a;},function(f,c){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.Ed=function(b,c){return new a(b,this.time-c);};c.ZEa=a;},function(f,c,a){var d,k;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(790);b.prototype.Cka=function(a,b){return new k.ZEa(a,b);};a=b;a=f.__decorate([d.P()],a);c.YEa=a;},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(403);d=a(791);k=a(402);h=a(789);c.LH=new f.Sb(function(a){a(b.HV).to(d.YEa).Y();a(k.IV).to(h.$Ea).Y();});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(f,c,a){var t,z,y,w;function b(a,b){this.df=a;this.tg=b;this.dd=[];}function d(a){return v.call(this,a,function(a){return{Details:a};})||this;}function k(a){return v.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function h(a,b){b=v.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.df=a;return b;}function g(a,b){b=v.call(this,b,function(a){return a();})||this;b.tg=a;return b;}function l(a,b){return m.call(this,a,b,function(a){var b;b=z.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;l.DUa(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function n(a){return v.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function m(a,b,c){b=v.call(this,b,c)||this;b.tg=a;return b;}function q(a){return v.call(this,a,function(a){return{Details:a};})||this;}function v(a,b){this.gn=a;this.value=b?b(a):a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);t=a(0);z=a(793);y=a(22);a=a(52);v.prototype.JO=function(a){return this.gn===a;};ha(q,v);q.prototype.fy=function(a,b){return b?"":"\r\n"+this.gn;};ha(m,v);m.prototype.fy=function(){var a;a="";this.tg.yt(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(P){try{a+=", "+b+": "+JSON.stringify(c);}catch(M){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ha(n,v);n.prototype.fy=function(a){var b;b="\r\n"+this.gn.message;a||(b+="\r\n"+this.gn.stack);return b;};ha(l,m);l.DUa=function(a,b,c){var f,h;for(var d=[],g=2;g<arguments.length;++g)d[g-2]=arguments[g];for(g=0;g<d.length;++g){f=a[d[g]];if(void 0!==f){h=""+d[g];b[h]=b[h]||[];b[h].push(f);}}};c.nnb=l;ha(g,v);g.prototype.fy=function(){var a;a="";this.tg.yt(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ha(h,v);h.prototype.fy=function(a,b){return this.gn&&!b?"\r\n"+this.df.encode(this.gn):"";};ha(k,v);k.prototype.fy=function(){return this.gn?this.gn.toJSON():"";};ha(d,v);d.prototype.fy=function(){return", "+(this.gn.toString?""+this.gn.toString():"");};b.prototype.kRa=function(a){this.dd.push(new q(a));};b.prototype.aRa=function(a){this.dd.push(new m(this.tg,a));};b.prototype.RQa=function(a){this.dd.push(new n(a));};b.prototype.PQa=function(a){this.dd.push(new l(this.tg,a));};b.prototype.UQa=function(a){this.dd.push(new g(this.tg,a));};b.prototype.lRa=function(a){this.dd.push(new h(this.df,a));};b.prototype.ZQa=function(a){this.dd.push(new k(a));};b.prototype.mRa=function(a){this.dd.push(new d(a));};b.prototype.um=function(){return this.dd;};w=b;w=f.__decorate([t.P(),f.__param(0,t.j(a.zk)),f.__param(1,t.j(y.ze))],w);c.UDa=w;},function(f,c,a){var d,k,h,g;function b(a,b){this.df=a;this.tg=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(794);h=a(52);a=a(22);b.prototype.A3a=function(){return new k.UDa(this.df,this.tg);};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(h.zk)),f.__param(1,d.j(a.ze))],g);c.TDa=g;},function(f,c,a){var d,k;function b(a,b,c,d,f,k,l){this.level=a;this.Sk=b;this.timestamp=c;this.message=d;this.dd=f;this.prefix=k;this.index=void 0===l?0:l;}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.uJ=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.dib(!!a));return(this.timestamp.pa(d.Qa)/1E3).toFixed(3)+"|"+this.index+"|"+(k[this.level]||this.level)+"|"+this.Sk+"| "+a;};b.prototype.dib=function(a){var f;for(var b=this.dd.length,c="",d=0;d<b;++d){f=this.dd[d].gn;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.cib(f,a);else try{c+=JSON.stringify(f);}catch(u){c+=this.bib(f);}else c+=f;}return c;};b.prototype.cib=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.bib=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};c.qya=b;},function(f,c,a){var d,k;function b(a,b,c,f,k,l){a=d.uD.call(this,a,b,c,f)||this;a.$4a=k;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(225);k=a(796);ha(b,d.uD);b.prototype.Ts=function(a,b,c){a=new k.qya(a,this.Sk,this.eb.Xd(),b,c,this.prefix);b=Aa(this.Li.Li);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.d0=function(a){return new b(this.eb,this.qq,this.Li,a,this.$4a,this.prefix);};c.rya=b;},function(f,c,a){var d,k,h;function b(a,b,c,f,k){a=h.uD.call(this,a,b,c,k)||this;a.G=f;d.mj(a,"playback");return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(45);k=a(404);h=a(225);ha(b,h.uD);b.prototype.d0=function(a){return new b(this.eb,this.qq,this.Li,this.G,a);};b.prototype.Ts=function(a,b,c){a=new k.wba(a,this.Sk,this.eb.Xd(),b,c,this.G.index);b=Aa(this.Li.Li);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.G);};c.kIa=b;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.EnumeratedErrorBase=function(a,b,c,f){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==f&&(this.message=f);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(799);c.Zz=function(a,c,f){var d;f=void 0===f?1:f;for(a=a.A3a();f<c.length;++f)if(void 0!=c[f]&&null!=c[f]){d=c[f];d.Sh&&(d=d.Sh);d.constructor===Uint8Array?a.lRa(d):"MediaRequest"===d.constructor.name?a.ZQa(d):"string"===typeof d?a.kRa(d):"function"===typeof d?a.UQa(d):d instanceof Error?a.RQa(d):d instanceof b.EnumeratedErrorBase?a.PQa(d):d instanceof Object?a.aRa(d):a.mRa(d);}return a.um();};},function(f,c,a){var d,k,h,g,l,n,m,q;function b(a,b,c){this.eb=a;this.Li=b;this.Z3=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(225);k=a(0);h=a(798);g=a(29);l=a(82);n=a(12);m=a(7);q=a(797);b.prototype.Cb=function(a,b,c,g,f){c=void 0===c?this.Li:c;return b?(b.leb=this.eb.Xd().Ed(m.Hb(b.He)),new h.kIa(this.eb,this.Z3,c,b,a)):f?new q.rya(this.eb,this.Z3,c,a,g||"",f):new d.uD(this.eb,this.Z3,c,a);};a=b;a=f.__decorate([k.P(),f.__param(0,k.j(g.Xf)),f.__param(1,k.j(l.Uu)),f.__param(2,k.j(n.xba))],a);c.bEa=a;},function(f,c,a){var d;function b(){this.nC={};this.Li=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.UB=function(a,b){var c;c=this;b&&(this.nC[a]=b,this.Li=Object.keys(this.nC).map(function(a){return c.nC[a];}));};b.prototype.Vwa=function(a){var b;b=this;delete this.nC[a];this.Li=Object.keys(this.nC).map(function(a){return b.nC[a];});};d=b;d=f.__decorate([a.P()],d);c.cEa=d;},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(802);d=a(801);f=a(0);k=a(82);h=a(12);g=a(795);c.t8a=new f.Sb(function(a){a(h.Jb).to(d.bEa).Y();a(k.Uu).to(b.cEa).Y();a(h.xba).to(g.TDa).Y();});},function(f,c){function a(){this.searchParams={};}function b(b){this.Ka=b;this.searchParams=new a();}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};oa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Ka+this.searchParams.toString();}}});c.yKa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(f,c,a){var d;function b(a){this.WMa=void 0===a?!1:a;this.Wc={0:[]};}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Wc[b];c?this.WMa&&-1!==c.indexOf(a)||c.push(a):this.Wc[b]=[a];};b.prototype.remove=function(a,b){this.Bha(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Bha(a);};b.prototype.q1a=function(){var a;a=this;return Object.keys(this.Wc).sort().reduce(function(b,c){return b.concat(a.Wc[c]);},[]);};b.prototype.Bha=function(a,b){var c;c=this;Object.keys(this.Wc).forEach(function(d){var g;if(void 0===b||b===parseInt(d)){d=c.Wc[d];-1<(g=d.indexOf(a))&&d.splice(g,1);}});};d=b;d=f.__decorate([a.P()],d);c.vIa=d;},function(f,c,a){var d,k,h,g;function b(a,b,c){var d;d=this;this.app=a;this.ka=b;this.wka=c;this.cr=function(a){d.Tx=void 0;d.Ljb(a||d.wka);};this.Kpa=h.Hb(-this.wka.pa(h.Qa));}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(29);h=a(7);a=a(41);b.prototype.ib=function(a){this.l7=a;this.Tx=this.Tx||this.bb(this.cr);};b.prototype.vw=function(){this.Tx&&this.Tx.cancel();this.Tx=void 0;};b.prototype.Ljb=function(a){var b,c;b=this.app.Xd();if(this.l7){c=a.Ed(b.Ed(this.Kpa));0>=c.Wk(h.vg)?(a=this.l7,this.l7=void 0,this.Kpa=b,a()):this.Tx=this.Tx||this.ka.qg(c,this.cr.bind(this,a));}};b.prototype.bb=function(a){return this.ka.qg(h.vg,a);};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(k.Xf)),f.__param(1,d.j(a.gi))],g);c.WJa=g;},function(f,c,a){var d,k,h,g,l,n,m,q,v;function b(a,b){this.eb=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(29);g=a(58);l=a(2);n=a(33);m=a(7);q=a(6);a=a(408);b.prototype.jZa=function(a){var b,c,f,h,k,p,r,q,u;b=this;k=a.Ic.value;p=a.Il.value;r=a.Ac.value;q=a.state.value;h={segmentId:a.p2(),mediaTime:k,segmentTime:a.Kw(),bufferingState:d.jTa[p],presentingState:d.Mcb[r],playbackState:d.fcb[q],mseBuffersBusy:this.w4a(a),intBuffersBusy:this.q3a(a),tabVisible:this.Cib(),decodedFrameCount:this.sYa(a),videoElementInDom:this.Kkb(a),lastVideoSync:this.eb.Xd().Ed(m.Hb(a.gwa)).pa(m.Qa)};u=r===n.lm.dE?a.oc.kf?this.config.ssa:this.config.rsa:this.config.qra;p!==n.aK.jca?(c=l.v.cAa,this.oja(h.mseBuffersBusy,h.intBuffersBusy)&&(f=d.F9)):r!==n.lm.Oe&&(c=l.v.dAa,(a=a.Pg)&&a.Xb.sourceBuffers.forEach(function(a){var c,g;c=d.w9a[a.O];h[c+"Ranges"]=a.oP();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,f=d.Jya;else{g=1E3*a.end(0)-k;h[c+"Undecoded"]=g;1<a.length&&(f=d.Kya);k<1E3*a.start(0)||k>1E3*a.end(0)?f=d.Lya:g<u.pa(m.Qa)?f=d.Mya:b.oja(h.mseBuffersBusy,h.intBuffersBusy)&&(f=d.F9);}}));a="";try{a=JSON.stringify(h);}catch(O){a="Cannot stringify details: "+O;}return new g.dc(l.I.Bca,c,f,void 0,void 0,void 0,a,void 0);};b.prototype.w4a=function(a){var b;if(a.Xb){b={};a.Xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.q3a=function(a){var b;if(a.Xb){b={};a.Xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.ak()};});return b;}};b.prototype.Cib=function(){return!q.kd.hidden;};b.prototype.sYa=function(a){return(a=a.Pg)&&(a=a.Xb.Da)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Kkb=function(a){if(a=a.Pg)if(a=a.Xb.Da)return q.kd.body.contains(a);return!1;};b.prototype.oja=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};v=d=b;v.Jya="1";v.Kya="2";v.Lya="3";v.F9="4";v.Mya="5";v.w9a=["Audio","Video"];v.jTa=["","NORMAL","BUFFERING","STALLED"];v.Mcb=["","WAITING","PLAYING ","PAUSED","ENDED"];v.fcb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];v=d=f.__decorate([k.P(),f.__param(0,k.j(h.Xf)),f.__param(1,k.j(a.aca))],v);c.XAa=v;},function(f,c,a){var d,k;function b(a){this.je=a;this.status=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(85);b.prototype.get=function(){return this.status;};b.prototype.set=function(a){this.status=a;this.je.Uk.Uq({kind:this.status?"playerDownloadsAvailability":"playerDownloadsAvailabilityError",status:this.status});};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.Lr))],k);c.lBa=k;},function(f,c,a){var d,k,h,g;function b(a,b){this.eb=a;this.entries=[];this.Z=b.Cb("TimingApi");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(29);h=a(7);a=a(12);b.prototype.mark=function(a,b){a={name:a,ia:b,Xib:this.eb.Xd()};this.entries.push(a);return a;};b.prototype.D3a=function(){return this.entries.slice();};b.prototype.yna=function(){var a;a={};try{a=this.D3a().filter(function(a){return!a.ia;}).reduce(function(a,b){a[b.name]=b.Xib.pa(h.Qa);return a;},{});}catch(n){this.Z.error(" getMapOfCommonMarks exception",n);}return a;};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(k.Xf)),f.__param(1,d.j(a.Jb))],g);c.eKa=g;},function(f,c,a){var d,k,h,g;function b(a){return k.YJ.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(44);k=a(43);h=a(0);a=a(34);ha(b,k.YJ);oa.Object.defineProperties(b.prototype,{pxa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([d.config(d.ef,"usePerformanceApi")],g.prototype,"pxa",null);g=f.__decorate([h.P(),f.__param(0,h.j(a.bU))],g);c.Mza=g;},function(f,c,a){var d,k,h,g;function b(a){a=k.YJ.call(this,a,"DebugConfigImpl")||this;a.Mub=function(){debugger;};return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(44);k=a(43);h=a(0);a=a(34);ha(b,k.YJ);oa.Object.defineProperties(b.prototype,{bTa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([d.config(d.ef,"breakOnError")],g.prototype,"bTa",null);g=f.__decorate([h.P(),f.__param(0,h.j(a.bU))],g);c.VAa=g;},function(f,c,a){var d,k,h,g;function b(a,b,c){this.config=a;this.Ta=b;this.Z=c.Cb("General");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(21);h=a(133);a=a(12);b.prototype.assert=function(){};b.prototype.XRa=function(a,b){this.assert(this.Ta.Zk(a),b);};b.prototype.YRa=function(a,b){this.assert(this.Ta.Lf(a),b);};b.prototype.cSa=function(a,b){this.assert(this.Ta.fh(a),b);};b.prototype.fSa=function(a,b){this.assert(this.Ta.ti(a),b);};b.prototype.dSa=function(a,b){this.assert(this.Ta.fh(a)||null===a||void 0===a,b);};b.prototype.aSa=function(a,b){this.assert(this.Ta.If(a),b);};b.prototype.$Ra=function(a,b){this.assert(this.Ta.pZ(a),b);};b.prototype.eSa=function(a,b){this.assert(this.Ta.Xn(a),b);};b.prototype.bSa=function(a,b){this.assert(this.Ta.Qz(a),b);};b.prototype.VRa=function(a,b){this.assert(this.Ta.Oz(a),b);};b.prototype.ZRa=function(a,b){this.assert(this.Ta.Pz(a),b);};b.prototype.x6a=function(){this.assert(!1,"invalid operation, this method should not be called");};b.vwb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(r){return r.stack;}};};g=b;g=f.__decorate([d.P(),f.__param(0,d.j(h.v$)),f.__param(1,d.j(k.fe)),f.__param(2,d.j(a.Jb))],g);c.WAa=g;},function(f,c,a){var d,k,h,g;function b(a,b){this.is=a;this.tg=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(21);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.tg.yt(a,function(a,d){a=b.Vla(a)+"="+b.Vla(d);c=c?c+(","+a):a;});return c;};b.prototype.Vla=function(a){return this.is.Zk(a)?this.is.If(a)?""+a:this.is.fh(a)?(a=a.replace(d.Tta,this.J8a.bind(this)),!d.udb.test(a)&&d.k$a.test(a)&&(a='"'+a+'"'),a):this.is.Oz(a)?""+a:this.is.WY(a)?"NaN":"":"";};b.prototype.J8a=function(a){return d.map[a];};g=d=b;g.map={'"':'""',"\r":"","\n":" "};g.Tta=/(?!^.+)["\r\n](?=.+$)/g;g.udb=/["].*["]/g;g.k$a=/[", ]/;g=d=f.__decorate([k.P(),f.__param(0,k.j(h.fe)),f.__param(1,k.j(a.ze))],g);c.Vza=g;},function(f,c,a){var d,k,h,g;function b(a,b){this.Na=a;this.jP=this.Na.jg.pa(h.Qa)-1;this.k8a=this.lQ=0;this.id=""+b.GF();}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(42);h=a(7);a=a(114);b.prototype.Xd=function(){var a,b;a=this.Na.jg.pa(h.Qa)-this.jP;if(a<this.lQ){b=this.lQ+1;this.jP-=b-a;a=b;}this.lQ=a;return h.Hb(this.lQ);};b.prototype.xna=function(){return this.k8a++;};oa.Object.defineProperties(b.prototype,{oQ:{configurable:!0,enumerable:!0,get:function(){return h.Hb(this.jP);}}});g=b;g=f.__decorate([d.P(),f.__param(0,d.j(k.Pi)),f.__param(1,d.j(a.Cy))],g);c.kya=g;},function(f,c,a){var d,k;function b(){this.cl={};this.id="$es$"+d.pVa++;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.addListener=function(a,b,c){var d,g;d="$netflix$player$order"+this.id+"$"+a;if(this.cl){g=this.cl[a]?this.cl[a].slice():[];c&&(b[d]=c);0>g.indexOf(b)&&(g.push(b),g.sort(function(a,b){return(a[d]||0)-(b[d]||0);}));this.cl[a]=g;}};b.prototype.removeListener=function(a,b){if(this.cl&&this.cl[a]){for(var c=this.cl[a].slice(),d;0<=(d=c.indexOf(b));)c.splice(d,1);this.cl[a]=c;}};b.prototype.jc=function(a,b,c){var d;if(this.cl){d=this.f2(a);for(a={Qh:0};a.Qh<d.length;a={Qh:a.Qh},a.Qh++)c?function(a){return function(){var c;c=d[a.Qh];setTimeout(function(){c(b);},0);};}(a)():d[a.Qh].call(this,b);}};b.prototype.vw=function(){this.cl=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.f2=function(a){return this.cl&&(this.cl[a]||(this.cl[a]=[]));};k=d=b;k.pVa=0;k=d=f.__decorate([a.P()],k);c.di=k;},function(f,c,a){var d,k,h;function b(a){this.ka=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(41);h=a(131);b.prototype.Rx=function(a,b){var c;c=this;return new Promise(function(d,g){var f;f=c.ka.qg(a,function(){g(new h.Zy(a));});b.then(function(a){d(a);f.cancel();})["catch"](function(a){g(a);f.cancel();});});};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(k.gi))],a);c.zIa=a;},function(f,c,a){var d,k,h,g,l,n,m,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);k=Array.prototype.slice;h=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");g={};l={};n={};m={};q=/\s+/g;[h,k].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];g[c]=b<<18;l[c]=b<<12;n[c]=b<<6;m[c]=b;}});b.prototype.encode=function(a){return d.Z0(a,h,"=");};b.prototype.decode=function(a){return d.x0(a);};b.x0=function(a){var b,c,d;a=a.replace(q,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),f=0,h=0,k;h<c;){k=g[a[f++]]+l[a[f++]]+n[a[f++]]+m[a[f++]];if(!(0<=k&&16777215>=k))throw Error("bad base64");b[h++]=k>>>16;b[h++]=k>>>8&255;b[h++]=k&255;}if(0<d&&(k=g[a[f++]]+l[a[f++]],b[h++]=k>>>16,1<d&&(k+=n[a[f++]],b[h++]=k>>>8&255),!(0<=k&&16776960>=k&&0===(k&(1<d?255:65535)))))throw Error("bad base64");return b;};b.Z0=function(a,b,c){for(var d="",g=0,f=a.length,h=f-2,k;g<h;){k=(a[g++]<<16)+(a[g++]<<8)+a[g++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(g==h){k=(a[g++]<<8)+a[g++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(g==f-1){k=a[g++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};k=d=b;k=d=f.__decorate([a.P()],k);c.Pya=k;},function(f,c,a){var d,k;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.encode=function(a){return d.Z0(a);};b.prototype.decode=function(a){return d.x0(a);};b.Z0=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,f="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");f+=String.fromCharCode(c);}return f;};b.x0=function(a){var b,c,d,f,h;b=a.length;c=0;f=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)h=a.charCodeAt(d),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)h=a.charCodeAt(d),128>h?c[f++]=h:(2048>h?c[f++]=192|h>>>6:(c[f++]=224|h>>>12,c[f++]=128|h>>>6&63),c[f++]=128|h&63);return c;};k=d=b;k=d=f.__decorate([a.P()],k);c.zKa=k;},function(f,c,a){var d,k,h,g,l,n,m;function b(a,b,c,g){var f;f=this;this.config=a;this.KXa=b;this.le=c;this.performance=g;this.Mab=function(a){f.gva=a.Ed(f.jg);};d.mj(this,"date");d.mj(this,"performance");this.BRa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.gva=k.vg;this.le.addListener(m.eba.iva,this.Mab);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(45);k=a(7);h=a(0);g=a(46);l=a(412);n=a(83);m=a(33);oa.Object.defineProperties(b.prototype,{jg:{configurable:!0,enumerable:!0,get:function(){return this.rra?k.timestamp(this.performance.timing.navigationStart+this.performance.now()):k.Hb(this.KXa.now());}},fva:{configurable:!0,enumerable:!0,get:function(){return this.jg.add(this.gva);}},rra:{configurable:!0,enumerable:!0,get:function(){return this.config.pxa&&this.BRa;}}});a=b;a=f.__decorate([h.P(),f.__param(0,h.j(l.b$)),f.__param(1,h.j(g.u$)),f.__param(2,h.j(n.FU)),f.__param(3,h.j(g.hW)),f.__param(3,h.optional())],a);c.Nza=a;},function(f,c,a){var d,k;function b(a){this.Bib=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);a=a(113);b.prototype.random=function(){return this.Bib.random();};b.prototype.p6=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};k=b;k=f.__decorate([d.P(),f.__param(0,d.j(a.pea))],k);c.KIa=k;},function(f,c,a){var d,k,h,g,l;function b(a,b){this.Na=a;this.random=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(7);g=a(42);a=a(113);b.prototype.GF=function(){return this.Na.jg.pa(h.Dp)*d.R9+Math.floor(this.random.random()*d.R9);};l=d=b;l.R9=1E4;l=d=f.__decorate([k.P(),f.__param(0,k.j(g.Pi)),f.__param(1,k.j(a.TD))],l);c.qDa=l;},function(f,c,a){var k,h,g,l;function b(a){this.FC=a;h.mj(this,"timers");}function d(a,b){this.FC=a;this.YTa=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(45);g=a(46);l=a(7);d.prototype.cancel=function(){this.YTa(this.FC);};b.prototype.ib=function(a){return this.qg(l.vg,a);};b.prototype.qg=function(a,b){var c;c=this.FC.setTimeout(b,a.pa(l.Qa));return new d(this.FC,function(a){a.clearTimeout(c);});};b.prototype.Mua=function(a,b){var c;c=this.FC.setInterval(b,a.pa(l.Qa));return new d(this.FC,function(a){a.clearInterval(c);});};a=b;a=f.__decorate([k.P(),f.__param(0,k.j(g.Wea))],a);c.yJa=a;},function(f,c,a){var b,d,k,h,g,l,n,m,q,v,B,z,y,w,x,C,F,A,M,D,O,W,U,Y,S,N,G,Z,V,fa,ba,aa,ja,ka,qa,va,da,ga,ha,ia,na,oa,ra,ta,ua,la,xa,ya;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(46);d=a(42);k=a(41);h=a(114);g=a(113);l=a(822);n=a(821);m=a(820);q=a(819);v=a(160);B=a(161);z=a(52);y=a(22);w=a(21);x=a(83);C=a(131);F=a(818);A=a(227);M=a(817);D=a(411);O=a(816);W=a(112);U=a(815);Y=a(226);S=a(96);N=a(814);G=a(29);Z=a(410);V=a(813);fa=a(812);ba=a(133);aa=a(811);ja=a(12);ka=a(412);qa=a(810);va=a(95);da=a(809);ga=a(808);ha=a(159);ia=a(409);na=a(807);oa=a(806);ra=a(407);ta=a(6);ua=a(406);la=a(805);xa=a(405);ya=a(804);c.GUa=new f.Sb(function(a){a(b.Yr).Uf(JSON);a(b.Wea).Uf(t);a(g.pea).Uf(Math);a(b.tba).Uf(ta.UK);a(b.hW).Uf(ta.im);a(b.u$).Uf(Date);a(b.GD).Uf(ta.Yg);a(b.Wba).Uf(ta.ED);a(ka.b$).to(qa.Mza).Y();a(G.Xf).to(N.kya).Y();a(d.Pi).to(q.Nza).Y();a(k.gi).to(l.yJa).Y();a(h.Cy).to(n.qDa).Y();a(C.kL).to(O.zIa).Y();a(g.TD).to(m.KIa).Y();a(ba.pK).to(fa.WAa).Y();a(ba.v$).to(aa.VAa).Y();a(v.uL).to(F.zKa).Y();a(B.XJ).to(A.UT).Y();a(z.zk).to(M.Pya).Y();a(y.ze).to(D.Kea).Y();a(w.fe).Uf(W.rp);a(x.wK).to(U.di).d3();a(x.nU).to(U.di).Y();a(x.FU).to(U.di).Y();a(Y.EW).to(S.ev).Y();a(Z.l$).to(V.Vza).Y();a(va.ns).to(da.eKa).Y();a(ha.rK).to(ga.lBa).Y();a("Factory<LoggerFactory>").ejb(ja.Jb);a(ia.x$).to(na.XAa).Y();a(ra.zea).pl(function(a){return function(b){return new oa.WJa(a.uc.get(G.Xf),a.uc.get(k.gi),b);};});a(ua.rW).zwa(la.vIa);a(ua.uIa).pl(function(a){var b;b=a.uc.get(ua.rW);return function(){return new b(!1);};});a(ua.yda).pl(function(a){var b;b=a.uc.get(ua.rW);return function(){return new b(!0);};});a(xa.Jea).pl(function(){return function(a){return new ya.yKa(a);};});});},function(f,c,a){var b,d,k,h,g,l,n,m,q,v,t,z,y,w,x,C,F,A,M,D,O,W,U,S,X,N,G,Z,V,fa,ba,aa;Object.defineProperty(c,"__esModule",{value:!0});b=a(823);d=a(803);k=a(792);h=a(787);g=a(781);l=a(778);n=a(774);m=a(762);q=a(750);v=a(747);t=a(743);z=a(741);y=a(701);w=a(240);x=a(698);C=a(694);F=a(681);A=a(674);M=a(667);D=a(660);O=a(652);W=a(239);U=a(644);S=a(642);X=a(634);N=a(630);G=a(628);Z=a(626);V=a(621);fa=a(619);ba=a(598);aa=a(594);c.N7a=function(a){a.load(b.GUa,l.Qib,d.t8a,n.lO,q.KN,k.LH,h.rj,g.Nkb,m.storage,v.TZ,t.BTa,z.H8a,y.Fi,w.hh,x.Mf,C.q8a,F.s$a,A.M1a,M.edb,D.CR,O.c_a,W.eme,U.crypto,S.tg,X.Okb,N.PRa,G.b$a,Z.Fbb,V.G,fa.FUa,ba.Bjb,aa.r7a);};},function(f,c,a){var d,k,h,g,l,n,m;function b(a,b){this.i$a=a;this.is=b;h.mj(this,"nav");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(45);g=a(2);l=a(46);n=a(21);m=a(117);b.prototype.ro=function(){if(this.ea)return this.ea.sessionId;};b.prototype.Heb=function(a,b){return this.i$a.requestMediaKeySystemAccess(a,b);};b.prototype.HF=function(a,b){return b.createMediaKeys();};b.prototype.pt=function(a,b){this.ea=a.createSession(b);};b.prototype.Hgb=function(a,b){return this.is.Pz(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.S1a=function(a){return this.ea?this.ea.generateRequest("cenc",a):Promise.reject(new m.zf(g.I.yU,g.v.aD,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.ea?this.ea.update(a):Promise.reject(new m.zf(g.I.sK,g.v.aD,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.ea?this.ea.load(a):Promise.reject(new m.zf(g.I.yBa,g.v.aD,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.ea)return Promise.reject(new m.zf(g.I.tBa,g.v.aD,void 0,"Unable to close a key session, key session is not valid"));a=this.ea.close();this.ea=void 0;return a;};b.prototype.remove=function(){return this.ea?this.ea.remove():Promise.reject(new m.zf(g.I.Q$,g.v.aD,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.$Qa=function(a){if(!this.ea)throw ReferenceError("Unable to add message handler, key session is not valid");this.ea.addEventListener(d.T$,a);};b.prototype.WQa=function(a){if(!this.ea)throw ReferenceError("Unable to add key status handler, key session is not valid");this.ea.addEventListener(d.S$,a);};b.prototype.QQa=function(a){if(!this.ea)throw ReferenceError("Unable to add error handler, key session is not valid");this.ea.addEventListener(d.R$,a);};b.prototype.teb=function(a){if(!this.ea)throw ReferenceError("Unable to remove message handler, key session is not valid");this.ea.removeEventListener(d.T$,a);};b.prototype.reb=function(a){if(!this.ea)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.ea.removeEventListener(d.S$,a);};b.prototype.peb=function(a){if(!this.ea)throw ReferenceError("Unable to remove error handler, key session is not valid");this.ea.removeEventListener(d.R$,a);};a=d=b;a.T$="message";a.S$="keystatuseschange";a.R$="error";a=d=f.__decorate([k.P(),f.__param(0,k.j(l.GD)),f.__param(1,k.j(n.fe))],a);c.yIa=a;},function(f,c,a){var d,k,h,g,l,n;function b(a,b){this.tg=a;this.Pk=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(2);h=a(22);g=a(161);l=a(162);n=a(117);b.prototype.f4a=function(){return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:l.Hy,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:l.yn,robustness:"HW_SECURE_DECODE"},{contentType:l.yn,robustness:"SW_SECURE_DECODE"}]},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.cB=function(a){return this.tg.jt(a.message,new Uint8Array([8,4]));};b.prototype.jVa=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),NQ:a.messageType};};b.prototype.iVa=function(a){return{type:a.type,sessionId:a.target.sessionId,d7a:a.target.keyStatuses.entries()};};b.prototype.yq=function(a){var b,c,d;b=new n.zf(k.I.dL);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.nb=1<=c&&9>=c?k.v.Lu+c:k.v.Lu):b.nb=k.v.ye;try{d=a.message.match(/\((\d*)\)/)[1];b.yc=this.Pk.vG(d,4);}catch(z){}b.kO(a);return b;};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(h.ze)),f.__param(1,d.j(g.XJ))],a);c.Kza=a;},function(f,c,a){var k,h;function b(a,b,c,d,f){this.eb=a;this.config=b;this.ka=c;this.cr=d;this.name=f;}function d(a,b,c,d){var g;g=this;this.eb=a;this.ka=b;this.timeout=c;this.bjb=d;this.n5a=function(){g.uF=!0;g.Bo.cancel();g.bjb();};this.startTime=this.eb.Xd();this.Bo=this.ka.qg(this.timeout,function(){g.n5a();});this.uF=!1;}Object.defineProperty(c,"__esModule",{value:!0});k=a(2);h=a(117);d.prototype.stop=function(){this.uF||(this.YS=this.eb.Xd(),this.Bo.cancel());};oa.Object.defineProperties(d.prototype,{Mla:{configurable:!0,enumerable:!0,get:function(){if(this.YS&&this.startTime)return this.YS.Ed(this.startTime);}}});b.prototype.dUa=function(){var a;a=this;this.cA=new d(this.eb,this.ka,this.config.c3,function(){a.cr(new h.zf(k.I.Qda,k.v.BBa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.c3+"ms"));});};b.prototype.cUa=function(){this.cA&&this.cA.stop();};b.prototype.egb=function(){this.jC=this.eb.Xd();};b.prototype.eUa=function(){var a;a=this;this.yT=new d(this.eb,this.ka,this.config.o7,function(){a.cr(new h.zf(k.I.Qda,k.v.ABa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.o7+"ms"));});};b.prototype.Hja=function(){this.yT&&this.yT.stop();};oa.Object.defineProperties(b.prototype,{$d:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.cA){b=this.cA.Mla;b&&(a.S4=b);this.jC&&this.cA.YS&&(a.jC=this.jC.Ed(this.cA.YS));}this.yT&&(b=this.yT.Mla)&&(a.H_=b);return a;}}});c.HBa=b;},function(f,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.P0=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};c.JBa=a;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=c.pp||(c.pp={});f[f.ixa=0]="usable";f[f.w0a=1]="expired";f[f.oeb=2]="released";f[f.vsa=3]="outputRestricted";f[f.abb=4]="outputDownscaled";f[f.Dhb=5]="statusPending";f[f.u6a=6]="internalError";},function(f,c,a){var d,k,h,g,l,n,m,q,t,B,z,y,w,x,C,F,A,M,D;function b(a,b,c,d,g,f,l,p){var n;n=this;this.eb=b;this.lq=c;this.config=d;this.Ud=g;this.wk=f;this.jh=l;this.ka=p;this.onMessage=function(a){var b,c,d,g;b=n.wk.jVa(a);c=b.message;d=b.NQ;g=b.sessionId;n.cB=n.wk.cB(b);n.log.trace("Received "+a.type+" event",{sessionId:g,messageType:d,isIntermediateChallenge:n.cB});n.sessionId||(n.sessionId=g);"license-renewal"===d&&(n.log.trace("Received a renewal request"),n.mg=t.xn.Bp,n.pe=M.Mx);n.pe!==M.Hc||n.cB||(n.O3={jh:n.jh,data:b.message,ia:n.HG()},n.Ok(B.tn.Nta));n.pe===M.Mx&&n.Ok(B.tn.Ota);n.nH&&(n.nH.next({Tk:c,Mja:d,mg:n.mg}),n.mg!==t.xn.Bp||n.cB||(n.nH.complete(),n.nH=void 0));n.pe===M.stop&&(n.wf.cUa(),n.config.Yh&&n.MI&&(n.MI.next({Tk:c}),n.MI.complete(),n.MI=void 0));};this.fsa=function(a){var b,c;b=n.wk.iVa(a).d7a;n.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem,sessionId:a.target.sessionId});try{F.JBa.P0(b,function(a,b){n.log.trace("key status: "+b);b=D[b];n.Hpa.next({kH:new Uint8Array(a),value:b.status});b.error&&(c=new C.zf(b.error),n.z3(c));});}catch(ja){c=new C.zf(h.I.WGa);c.kO(ja);}c?n.A3(c):n.Dpa();};this.oj=function(a){var b;b=n.wk.yq(a);n.log.error("Received event: "+a.type,b);n.Tq(b);n.A3(b);n.ph||n.gk||n.z3(b);};this.Tq=function(a){n.ph&&n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.wk.yq(b));n.ph&&(n.ph.error(a),n.ph=void 0);},function(){n.log.trace("Issuing a generate challenge error");n.ph&&(n.ph.error(a),n.ph=void 0);});};this.Cpa=function(){n.ph&&(n.ph.complete(),n.ph=void 0);};this.A3=function(a){n.gk&&(n.log.error("Failed to add license",a),n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.wk.yq(b));n.pe===M.Mx&&n.Ok(B.tn.zia);n.ph=void 0;n.gk&&(n.gk.error(a),n.gk=void 0);},function(){n.log.trace("Issuing a license error");n.ph=void 0;n.gk&&(n.gk.error(a),n.gk=void 0);}));};this.Dpa=function(){n.gk&&(n.log.info("Successfully added license"),n.pe===M.Hc?n.Ok(B.tn.tia):n.pe===M.Mx&&n.Ok(B.tn.yia),n.gk.complete(),n.gk=void 0);};this.z3=function(a){n.Hq&&n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.wk.yq(b));n.ph=void 0;n.gk=void 0;n.Hq&&(n.Hq.next(a),n.Hq.complete(),n.Hq=void 0);},function(){n.log.trace("Issuing a CDM error");n.ph=void 0;n.gk=void 0;n.Hq&&(n.Hq.next(a),n.Hq.complete());});};this.Ok=function(a){n.$d.push({time:n.eb.Xd(),K9a:a});};this.log=a.Cb("EmeSession");this.nH=new k.ii();this.config.Yh&&(this.MI=new k.ii());this.Hpa=new k.UD();this.Hq=new k.ii();this.pe=M.Vjb;this.$d=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(76);a(7);h=a(2);g=a(29);l=a(12);n=a(52);m=a(41);q=a(136);t=a(115);B=a(413);z=a(829);y=a(229);w=a(162);x=a(228);C=a(117);F=a(828);A=a(827);(function(a){a[a.Vjb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Hc=3]="license";a[a.Mx=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(M||(M={})));D={usable:{status:z.pp.ixa},expired:{status:z.pp.w0a,error:h.I.XV},released:{status:z.pp.oeb},"output-not-allowed":{status:z.pp.vsa,error:h.I.YV},"output-restricted":{status:z.pp.vsa},"output-downscaled":{status:z.pp.abb},"status-pending":{status:z.pp.Dhb},"internal-error":{status:z.pp.u6a,error:h.I.Cca}};b.prototype.HG=function(){return this.context.ia;};b.prototype.ro=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.pe=M.closed;this.$d=[];return this.Ud.ro()?(this.log.trace("Closing the session",{sessionId:this.Ud.ro()}),this.Ud.teb(this.onMessage),this.Ud.reb(this.fsa),this.Ud.peb(this.oj),this.Uh=void 0,k.oa.create(function(b){a.Ud.close().then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.wk.yq(c);c.code=h.I.ZGa;b.error(c);});})):k.oa.empty();};b.prototype.GA=function(){return this.Hq;};b.prototype.MA=function(){return this.jh;};b.prototype.JP=function(){return void 0!==this.Hc;};b.prototype.pt=function(a,b){var c;c=this;this.pe=M.create;this.context=a;this.Ok(B.tn.Tpa);return k.oa.create(function(d){c.Ud.HF(a,b).then(function(a){c.log.trace("Created media keys");c.Uh=a;a=c.lq.decode("Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=");return c.Ud.Hgb(c.Uh,a);}).then(function(a){c.log.trace("Set the server certificate",{result:a});try{c.Ud.pt(c.Uh,c.config.Yh?"persistent-license":"temporary");c.Ud.$Qa(c.onMessage);c.Ud.WQa(c.fsa);c.Ud.QQa(c.oj);c.sessionId=c.Ud.ro();d.next(c);d.complete();}catch(N){d.error(new C.zf(h.I.M$,h.v.ye,void 0,"Unable to create a persisted key session",N));}})["catch"](function(a){a.code&&a.nb?d.error(a):d.error(new C.zf(h.I.vU,h.v.ye,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.iP=function(a,b){var c;c=this;this.pe=M.Hc;this.log.trace("Generating a license challenge");this.mg=a;this.ph=new k.ii();if(!b)return this.A_(new C.zf(h.I.N$,h.v.zU));if(0===b.length)return this.A_(new C.zf(h.I.N$,h.v.xU));this.Ud.S1a(b).then(function(){})["catch"](function(a){var b;b=new C.zf(h.I.yU,h.v.ye);b.message="Unable to generate request.";b.kO(a);c.log.error("Unable to generate a license request",b);c.Tq(b);});this.log.trace("Returning the challenge subject");return this.ph;};b.prototype.sia=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Tq(new C.zf(h.I.O$,h.v.xU))):this.cB?this.Ud.update(a).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.wk.yq(a);a.code=h.I.sK;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Tq(a);}):(this.pe===M.Hc&&(this.Ok(B.tn.Mta),this.Hc=a,this.Cpa()),this.pe===M.Mx&&(this.Ok(B.tn.Pta),this.Hc=a,this.wN())):this.pe===M.Mx?(this.Ok(B.tn.Qta),this.z3(a)):this.Tq(a);};b.prototype.wN=function(){var a,b;a=this;if(!this.Hc)return this.A_(new C.zf(h.I.O$,h.v.zU));this.gk=new k.ii();b=this.Hc;this.Hc=void 0;this.Ud.update(b).then(function(){a.Dpa();})["catch"](function(b){b=a.wk.yq(b);b.code=h.I.aW;b.message="Unable to update the EME";a.log.error(b.message,b);a.A3(b);});return this.gk;};b.prototype.oH=function(){return this.nH;};b.prototype.T1a=function(){var a;a=this;if(this.pe===M.Hc&&this.mg===t.xn.Ey)return k.oa.empty();this.pe=M.stop;this.log.trace("Generating a secure stop challenge");this.log.trace("Calling 'remove' on key session",{sessionId:this.Ud.ro()});this.ph=new k.ii();this.wf=new A.HBa(this.eb,this.config,this.ka,function(){a.log.error("got a timeout error");},"non-persisted");this.wf.dUa();this.Ud.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.wk.yq(b);c.code=h.I.Q$;c.nb=h.v.ye;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{sessionId:a.Ud.ro(),error:b});a.Tq(c);});return this.ph;};b.prototype.Aia=function(a){a&&a.constructor!==Uint8Array?this.Tq(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Tq(new C.zf(h.I.P$,h.v.xU))):(this.log.trace("Secure stop is ready to apply"),this.vS=a,this.wf.egb(),this.Cpa()):(this.log.error("The secure stop buffer is undefined"),this.Tq(new C.zf(h.I.P$,h.v.zU)));};b.prototype.JRa=function(){var a;a=this;if(!this.vS)return k.oa.from([this]);this.log.trace("Setting the secure stop data",{sessionId:this.ro()});return k.oa.create(function(b){a.wf.eUa();a.Ud.update(a.vS).then(function(){a.wf.Hja();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.wf.Hja();d=a.wk.yq(c);d.code=h.I.sK;d.nb=h.v.ye;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{sessionId:a.Ud.ro(),error:c});b.error(d);});});};b.prototype.$ta=function(){this.log.trace("Initiating a renewal request");this.mg=t.xn.Bp;this.pe=M.Mx;};b.prototype.A_=function(a){var b;b=this;return k.oa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};oa.Object.defineProperties(b.prototype,{Bd:{configurable:!0,enumerable:!0,get:function(){return this.context.Cd;}}});a=b;a=f.__decorate([d.P(),f.__param(0,d.j(l.Jb)),f.__param(1,d.j(g.Xf)),f.__param(2,d.j(n.zk)),f.__param(3,d.j(q.cD)),f.__param(4,d.j(x.DU)),f.__param(5,d.j(w.sU)),f.__param(6,d.j(y.H$)),f.__param(7,d.j(m.gi))],a);c.IBa=a;},function(f,c,a){var d,k,h,g,l,n,m,q,t,B,z,y,w;function b(a,b,c,d,g,f,h,l){var p;p=this;this.ka=b;this.pj=c;this.config=d;this.Yj=g;this.Ud=f;this.wk=h;this.aA=l;this.gib=function(a,b){b.oH().zC(1).subscribe(function(c){p.Rpa.next({ia:a.ia,jh:b.MA(),data:c.Tk});});b.oH().map(function(c){return p.Jw(a,b,c);}).Rt().ZF(function(a){b.Qb=a.Qb[0];b.pQ=a.S0;return b.sia(a.Eo[0].data);}).subscribe(void 0,function(a){b.sia(a);},function(){p.vTa(b);});};this.hib=function(a){a.MI.map(function(b){return p.Kna(a,b);}).Rt().ZF(function(b){return a.Aia(b.response);}).subscribe(void 0,function(b){a.Aia(b);});};this.log=a.Cb("DrmServices");this.Ipa={};this.Rpa=new k.ii();this.aA.Ata().then(function(){p.Ghb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(76);h=a(2);g=a(12);l=a(41);n=a(415);a(115);m=a(136);q=a(228);t=a(162);B=a(167);z=a(238);y=a(414);w=a(117);b.prototype.du=function(a){var b;b=this;return new Promise(function(c,d){b.Hc(a).subscribe(c,d);});};b.prototype.P1a=function(a){var b;b=this;return new Promise(function(c,d){b.iP(a).subscribe(c,d);});};b.prototype.Hc=function(a){var b;b=this;this.log.info("Licensing content");return this.Aka(a.context.Cd,a.context).Fw(function(c){b.gib(a.context,c);return c.iP(a.type,a.SP).concat(k.oa.of(c)).fk();});};b.prototype.Mhb=function(a){var b,c;b=this;this.config.Yh?(this.log.info("Releasing server license and EME license"),this.hib(a),c=a.T1a()):(this.log.info("Releasing server license"),c=this.Kna(a));return k.oa.concat(c,k.oa.of(a)).fk().ZF(function(){b.aA.I6(Object.assign({Cd:a.context.Cd,Qb:[]},a.context));});};b.prototype.oH=function(){return this.Rpa.ORa();};b.prototype.Jw=function(a,b,c){return k.oa.Hw(this.pj.Hc({ia:a.ia,Ve:a.Ve,uO:[a.Vj],Rj:[{sessionId:b.ro()||"session",data:c.Tk}],mg:c.mg,jh:b.MA(),Mja:c.Mja,BH:a.BH}));};b.prototype.Kna=function(a,b){return b?k.oa.Hw(this.pj.release({ia:a.HG(),Qb:[a.Qb],Tk:b.Tk})):k.oa.Hw(this.pj.release({ia:a.HG(),Qb:[a.Qb]}));};b.prototype.una=function(a){var b;b=this.Ipa[a];b||(b=this.kXa(a),this.Ipa[a]=b);return k.oa.Hw(b);};b.prototype.iP=function(a){return this.Aka(a.context.Cd,a.context).Fw(function(b){b.iP(a.type,a.SP);return b.oH().map(function(){return b;});});};b.prototype.Aka=function(a,b){var c;c=this;return this.una(a).Fw(function(a){return c.jXa(a,b);});};b.prototype.kXa=function(a){var b;b=this;return new Promise(function(c,d){b.Ud.Heb(a,b.wk.f4a()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new w.zf(h.I.wU,h.v.ye,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.jXa=function(a,b){return this.Yj(b).pt(b,a);};b.prototype.Fhb=function(a){var b;b=this;return this.config.Yh?k.oa.empty():k.oa.Hw(this.pj.release({ia:a.ia,Qb:a.Qb}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return k.oa.empty();}).map(function(){return a;});};b.prototype.Ghb=function(){var a;a=this;this.ka.qg(this.config.H5,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.aA.vO.length});b=a.aA.vO.filter(function(a){return!a.active;}).map(function(b){return a.Fhb(b);});k.oa.concat.apply(k.oa,[].concat(zb(b))).subscribe(function(b){a.aA.I6(b);});});};b.prototype.vTa=function(a){var b;if(a.ro()){b=new z.rU();b.Cd=a.context.Cd;b.Qb=[a.Qb];b.profileId=a.context.profileId;b.ia=a.context.ia;b.M=a.context.M;this.aA.ria(b);}};a=b;a=f.__decorate([d.P(),f.__param(0,d.j(g.Jb)),f.__param(1,d.j(l.gi)),f.__param(2,d.j(n.E$)),f.__param(3,d.j(m.cD)),f.__param(4,d.j(y.U$)),f.__param(5,d.j(q.DU)),f.__param(6,d.j(t.sU)),f.__param(7,d.j(B.YT))],a);c.oBa=a;},function(f,c,a){var b,d,k,h,g,l,n,m,q;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(229);d=a(100);k=a(831);h=a(414);g=a(830);l=a(162);n=a(826);m=a(228);q=a(825);c.h_a=new f.Sb(function(a){a(d.F$).to(k.oBa).Y();a(h.V$).to(g.IBa);a(l.sU).to(n.Kza).Y();a(m.DU).to(q.yIa);a(b.H$).Uf(b.tU.Zkb);a(h.U$).pl(function(a){return function(b){var c;c=a.uc.get(h.V$);c.context=b;return c;};});});},function(f,c,a){var d,k,h,g;function b(a,b,c,d,g,f){this.platform=a;this.Fi=b;this.config=c;this.de=g;this.je=f;this.log=d.Cb("AccountManager");}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(58);g=a(2);b.prototype.Nq=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,c){a.R8().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.H1a(c.value),a.je.Uk.hk("DebugEvent",{kind:"playerAccountManagerLoad",profile:a.profile&&a.profile.id}));b();})["catch"](function(f){a.log.debug("Unable to load persisted account data",{code:f.S,cause:f.cause});a.je.Uk.hk("DebugEvent",{kind:"playerAccountManagerLoadError",errorCode:f.S,cause:f.cause});f.S===g.v.zj?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):c(d.tJ(g.I.MK,f,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.fjb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.fjb=function(){var a;a=this;return{version:"1.0",account:this.profile.hh.nT(),profile:this.profile.nT(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].nT();})};};b.prototype.H1a=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.WN(c);if(c=a.profile)this.profile=this.nw(d,c),this.Joa(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.nw(d,a);b.profile&&a.id!==b.profile.id&&b.xia(a);});}};b.prototype.xia=function(a){this.profiles[a.id]=a;};b.prototype.J6=function(a){delete this.profiles[a.id];};b.prototype.Joa=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.Fi.Ke.clearUserIdTokens();this.profile=this.nw(this.WN());this.Joa();};b.tJ=function(a,b,c){return b.S&&b.cause?new h.dc(a,b.S,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.nb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new h.dc(a,g.v.ye,void 0,void 0,void 0,c,b.stack,b):new h.dc(a,g.v.Zg,void 0,void 0,void 0,c,void 0,b);};a=d=b;a=d=f.__decorate([k.P()],a);c.OT=a;},function(f,c,a){var d;function b(a,b,c,f,l){f=void 0===f?d.Hb(0):f;this.config=a;this.hh=b;this.lH=f;this.E6=void 0===l?!1:l;this.id=void 0!==c?c:this.M2a();this.languages=(a=a())&&a.ig&&a.ig.Ex||["en-US"];}Object.defineProperty(c,"__esModule",{value:!0});d=a(7);b.prototype.nT=function(){return{id:this.id,lastAccessTime:this.lH?this.lH.pa(d.Qa):0,languages:this.languages};};b.prototype.L1=function(a){this.id=a.id.toString();this.lH=d.Hb(a.lastAccessTime||0);this.languages=a.languages||this.config().ig.Ex;this.E6=!0;};c.zda=b;},function(f,c,a){var d;function b(a,b,c,f,l){return d.zda.call(this,a,b,c,f,l)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(834);ha(b,d.zda);b.prototype.D6a=function(){var a;a=this.config();return a&&a.Ql?"browsertest"===this.id:"browser"===this.id;};b.prototype.M2a=function(){var a;a=this.config();return a&&a.Ql?"browsertest":"browser";};c.tda=b;},function(f,c){function a(a,c){this.id=void 0===a?"browser":a;this.Ci=void 0===c?!0:c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.nT=function(){return{id:this.id,isNonMember:this.Ci};};a.prototype.L1=function(a){this.id=a.id.toString();this.Ci=a.isNonMember;};c.r9=a;},function(f,c,a){var d,k,h,g,l,n,m,q,t,B,z,y,w,x,C,F;function b(a,b,c,d,g,f,k){a=C.OT.call(this,a,b,c,d,g,k)||this;a.pj=f;a.log=d.Cb("AccountManager");a.sB=new h.UD(1);return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(76);g=a(97);l=a(86);n=a(30);m=a(12);q=a(58);t=a(2);B=a(7);z=a(53);y=a(416);w=a(836);x=a(835);C=a(833);a=a(85);ha(b,C.OT);b.prototype.Zc=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.Ql)return Promise.reject(new q.dc(t.I.MK,t.v.Txa));this.Mg||(this.reset(),this.Mg=new Promise(function(b,c){a.de.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.sB.next(a.profile.hh);b();})["catch"](function(b){a.Mg=void 0;c(b);});}));return this.Mg;};b.prototype.Xw=function(a,b){var c;c=this;if(this.hw)return Promise.reject(new q.dc(t.I.rD,t.v.n9));this.hw=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,g){c.pj.ping(c.profile,void 0===a?!0:{Bw:a,password:b}).then(function(){return c.pj.Xw(c.profile,void 0);}).then(function(a){c.Ueb(a);return c.save();}).then(function(){c.hw=!1;c.sB.next(c.profile.hh);d(c.profile);})["catch"](function(a){c.hw=!1;c.log.error("Unable to login user",a);c.reset(!0);g(C.OT.tJ(t.I.rD,a));});});};b.prototype.u8a=function(){this.log.info("logout");this.je.Uk.Uq({kind:"playerAccountManagerLogout"});this.profile=this.nw(this.WN());this.profiles={};this.Fi.Ke.clearUserIdTokens();this.sB.next(this.profile.hh);return this.save();};b.prototype.yib=function(a){var b;b=this;if(this.hw)return Promise.reject(new q.dc(t.I.nL,t.v.n9));this.hw=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.pj.ping(this.profile,a).then(function(){var c;c=b.nw(b.profile.hh,{id:a});return b.pj.Xw(c,void 0);}).then(function(c){b.hw=!1;if(c.Us!=b.profile.hh.id)throw b.sB.next(b.profile.hh),new q.dc(t.I.nL,t.v.Ixa,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.Sg])?(b.profile=c,b.J6(b.profile)):(b.xia(b.profile),b.profile=b.nw(b.profile.hh,{Us:b.profile.hh.id,Sg:a,Ci:b.profile.hh.Ci}));return b.save();}).then(function(){b.je.Uk.hk("DebugEvent",{kind:"playerAccountManagerSwitchProfile",profile:b.profile.id});return b.profile;})["catch"](function(a){b.je.Uk.Uq({kind:"playerAccountManagerSwitchProfileError",code:a.code,data:a.data,details:a.uw,detailsFromException:a.kO,edgeCode:a.Wj,extCode:a.yc,message:a.message,mslErrorCode:a.Tm,subCode:a.nb});b.hw=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw d.tJ(t.I.nL,a);});};b.prototype.s2=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.GXa=function(){return h.oa.from(this.sB);};b.prototype.dQ=function(){return"windows_app"===this.platform.F0?h.oa.from(this.sB).map(function(a){return!(a.Ci||"browser"===a.id);}):h.oa.of(!0);};b.prototype.Ueb=function(a){var b,c;b=this;this.profile&&a.Sg&&a.Sg!==this.profile.id&&this.Fi.Ke.rekeyUserIdToken(this.profile.id,a.Sg);this.profile.hh.id!==a.Us&&this.reset();c=this.Nq(a.Sg);c?(this.profile=c,this.J6(c)):this.profile.id!==a.Sg&&(this.profile=this.nw(this.WN(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].D6a();}).pop())&&this.J6(this.profiles[a]);};b.prototype.nw=function(a,b){if(b&&void 0!==b.Us)return new x.tda(this.config,a,b.Sg,B.Hb(0),!1);a=new x.tda(this.config,a);b&&a.L1(b);return a;};b.prototype.WN=function(a){var b;if(a&&void 0!==a.Us)return new w.r9(a.Us,a.Ci);b=new w.r9();a&&b.L1(a);return b;};b.prototype.R8=function(){return Promise.resolve(!0);};F=d=b;F=d=f.__decorate([k.P(),f.__param(0,k.j(l.gs)),f.__param(1,k.j(g.Yu)),f.__param(2,k.j(n.wg)),f.__param(3,k.j(m.Jb)),f.__param(4,k.j(z.ul)),f.__param(5,k.j(y.aba)),f.__param(6,k.j(a.Lr))],F);c.pIa=F;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(64);d=a(837);c.hh=new f.Sb(function(a){a(b.s9).to(d.pIa).Y();});},function(f,c,a){var d,k,h,g,l;function b(a,b){return k.he.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(43);h=a(34);g=a(7);a=a(44);ha(b,k.he);oa.Object.defineProperties(b.prototype,{sI:{configurable:!0,enumerable:!0,get:function(){return!1;}},Yh:{configurable:!0,enumerable:!0,get:function(){return!1;}},oB:{configurable:!0,enumerable:!0,get:function(){return g.vg;}},H5:{configurable:!0,enumerable:!0,get:function(){return g.am(10);}},c3:{configurable:!0,enumerable:!0,get:function(){return g.Hb(2E3);}},o7:{configurable:!0,enumerable:!0,get:function(){return g.Hb(1E3);}},Qbb:{configurable:!0,enumerable:!0,get:function(){return g.Hb(2500);}},cG:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},t7a:{configurable:!0,enumerable:!0,get:function(){return g.vg;}},s7a:{configurable:!0,enumerable:!0,get:function(){return 0;}}});l=b;f.__decorate([a.config(a.ef,"promiseBasedEme")],l.prototype,"sI",null);f.__decorate([a.config(a.ef,"secureStopEnabled")],l.prototype,"Yh",null);f.__decorate([a.config(a.Ei,"licenseRenewalRequestDelay")],l.prototype,"oB",null);f.__decorate([a.config(a.Ei,"persistedReleaseDelay")],l.prototype,"H5",null);f.__decorate([a.config(a.Ei,"secureStopKeyMessageTimeoutMilliseconds")],l.prototype,"c3",null);f.__decorate([a.config(a.Ei,"secureStopKeyAddedTimeoutMilliseconds")],l.prototype,"o7",null);f.__decorate([a.config(a.Ei,"secureStopPersistedKeyMessageTimeoutMilliseconds")],l.prototype,"Qbb",null);f.__decorate([a.config(a.string,"drmPersistKey")],l.prototype,"cG",null);f.__decorate([a.config(a.Ei,"licenseChallengeTimeoutMilliseconds")],l.prototype,"t7a",null);f.__decorate([a.config(a.Eu,"licenseChallengeRetries")],l.prototype,"s7a",null);l=f.__decorate([d.P(),f.__param(0,d.j(h.Cj)),f.__param(1,d.j(h.YC)),f.__param(1,d.optional())],l);c.GBa=l;},function(f,c,a){var d,k,h,g,l,n,m;function b(a,b,c,d){a=g.he.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.Ud=b;a.Na=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(42);k=a(0);h=a(7);g=a(43);l=a(84);n=a(44);a=a(34);ha(b,g.he);oa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.P1+(-1===this.P1.indexOf("?")?"?":"&")+"monotonic="+this.Na.rra+"&device=web";}},Ova:{configurable:!0,enumerable:!0,get:function(){return h.vg;}},E1:{configurable:!0,enumerable:!0,get:function(){return"";}},P1:{configurable:!0,enumerable:!0,get:function(){return this.Ud.endpoint+"/ftl/probe"+(this.E1?"?force="+this.E1:"");}}});m=b;f.__decorate([n.config(n.ef,"ftlEnabled")],m.prototype,"enabled",null);f.__decorate([n.config(n.Ei,"ftlStartDelay")],m.prototype,"Ova",null);f.__decorate([n.config(n.string,"ftlEndpointForceParam")],m.prototype,"E1",null);f.__decorate([n.config(n.url,"ftlEndpoint")],m.prototype,"P1",null);m=f.__decorate([k.P(),f.__param(0,k.j(a.Cj)),f.__param(1,k.j(l.Kr)),f.__param(2,k.j(d.Pi)),f.__param(3,k.j(a.YC)),f.__param(3,k.optional())],m);c.$Ba=m;},function(f,c,a){var d,k,h,g;function b(a,b){return h.he.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(0);k=a(44);h=a(43);a=a(34);ha(b,h.he);oa.Object.defineProperties(b.prototype,{mxa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});g=b;f.__decorate([k.config(k.ef,"useNetworkMonitor")],g.prototype,"mxa",null);g=f.__decorate([d.P(),f.__param(0,d.j(a.Cj)),f.__param(1,d.j(a.YC)),f.__param(1,d.optional())],g);c.GFa=g;},function(f,c,a){var d,k,h,g,l,n,m;function b(a,b){return g.he.call(this,a,void 0===b?"GeneralConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(7);k=a(0);h=a(44);g=a(43);l=a(49);a=a(34);n={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};c.jG=function(a,b){return a.Bta(n[b]||b,l.Sr);};ha(b,g.he);oa.Object.defineProperties(b.prototype,{jG:{configurable:!0,enumerable:!0,get:function(){return l.Sr.xIa;}},d8:{configurable:!0,enumerable:!0,get:function(){return d.am(8);}},vo:{configurable:!0,enumerable:!0,get:function(){return"";}},tq:{configurable:!0,enumerable:!0,get:function(){return"";}},Gr:{configurable:!0,enumerable:!0,get:function(){return"";}},iwa:{configurable:!0,enumerable:!0,get:function(){return!1;}},LF:{configurable:!0,enumerable:!0,get:function(){return"netflix.player ";}},vN:{configurable:!0,enumerable:!0,get:function(){return!0;}},Z2:{configurable:!0,enumerable:!0,get:function(){return!0;}},t0a:{configurable:!0,enumerable:!0,get:function(){return!1;}},vi:{configurable:!0,enumerable:!0,get:function(){return{};}},d7:{configurable:!0,enumerable:!0,get:function(){return!1;}},hH:{configurable:!0,enumerable:!0,get:function(){return!1;}},zT:{configurable:!0,enumerable:!0,get:function(){return!0;}},IT:{configurable:!0,enumerable:!0,get:function(){return!1;}},Yo:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Ql:{configurable:!0,enumerable:!0,get:function(){return 0<=[l.Sr.xea,l.Sr.dba].indexOf(this.jG);}}});m=b;f.__decorate([h.config(c.jG,"environment")],m.prototype,"jG",null);f.__decorate([h.config(h.Ei,"storageTimeout")],m.prototype,"d8",null);f.__decorate([h.config(h.string,"groupName")],m.prototype,"vo",null);f.__decorate([h.config(h.string,"canaryGroupName")],m.prototype,"tq",null);f.__decorate([h.config(h.string,"uiGroupName")],m.prototype,"Gr",null);f.__decorate([h.config(h.ef,"testIndexDBForCorruptedDatabase")],m.prototype,"iwa",null);f.__decorate([h.config(h.string,"cruftyDatabaseName")],m.prototype,"LF",null);f.__decorate([h.config(h.ef,"applyIndexedDbOpenWorkaround")],m.prototype,"vN",null);f.__decorate([h.config(h.ef,"ignoreIdbOpenError")],m.prototype,"Z2",null);f.__decorate([h.config(h.ef,"executeStorageMigration")],m.prototype,"t0a",null);f.__decorate([h.config(h.object(),"browserInfo")],m.prototype,"vi",null);f.__decorate([h.config(h.ef,"retryAllMslRequestsOnError")],m.prototype,"d7",null);f.__decorate([h.config(h.ef,"isTestAccount")],m.prototype,"hH",null);f.__decorate([h.config(h.ef,"useEventSourceSetOfLists")],m.prototype,"zT",null);f.__decorate([h.config(h.ef,"vuiCommandLogging")],m.prototype,"IT",null);f.__decorate([h.config(h.object,"storageRules")],m.prototype,"Yo",null);m=f.__decorate([k.P(),f.__param(0,k.j(a.Cj)),f.__param(1,k.j(a.YC)),f.__param(1,k.optional())],m);c.dCa=m;},function(f,c,a){var h,g,l,n,m;function b(){this.qt={};this.yua=0;}function d(a,b,c,d,g){this.debug=a;this.Sq=b;this.WH=c;this.Og=d;this.PR=g;}function k(a,b,c){this.Sq=a;this.WH=b;this.PR=c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(133);l=a(12);n=a(132);m=a(418);a=a(34);k=f.__decorate([h.P(),f.__param(0,h.j(a.OK)),f.__param(1,h.j(n.DW)),f.__param(2,h.j(m.sW))],k);c.Rza=k;d=f.__decorate([h.P(),f.__param(0,h.j(g.pK)),f.__param(1,h.j(a.OK)),f.__param(2,h.j(n.DW)),f.__param(3,h.j(l.Jb)),f.__param(4,h.j(m.sW))],d);c.BKa=d;oa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.qt;},set:function(a){this.qt=a;this.yua++;}},xua:{configurable:!0,enumerable:!0,get:function(){return this.yua;}}});a=b;a=f.__decorate([h.P()],a);c.xDa=a;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(73);a=a(74);f=function(a){function c(b){a.call(this);this.bab=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.cf=function(a){return new k(a,this.bab);};return c;}(f.oa);c.ZAa=f;k=function(a){function c(b,c){a.call(this,b);this.Yj=c;this.Kjb();}b(c,a);c.prototype.Kjb=function(){try{this.CLa();}catch(p){this.Tb(p);}};c.prototype.CLa=function(){var a;a=this.Yj();a&&this.add(d.Ar(this,a));};return c;}(a.xp);},function(f,c,a){f=a(844);c.defer=f.ZAa.create;},function(f,c,a){f=a(11);a=a(845);f.oa.defer=a.defer;},function(f,c,a){f=a(11);a=a(426);f.oa.from=a.from;},function(f,c,a){var d,k,h,g,l,n,m,q,t,B,z;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new k.Fu(a).nf(new m(b));}d=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(98);h=a(99);f=a(50);g=a(74);l=a(73);n=a(165);c.m9=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.nf.call(b.apply(void 0,[c].concat(a)));};};c.olb=b;m=function(){function a(a){this.Qf=a;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.Qf));};return a;}();c.qsb=m;q=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.B3=[];this.active=0;this.Qf="function"===typeof c?c:null;this.values=d;}d(b,a);b.prototype.Fg=function(a){var b;b=this.B3;h.isArray(a)?b.push(new B(a)):"function"===typeof a[n.iterator]?b.push(new t(a[n.iterator]())):b.push(new z(this.destination,this,a));};b.prototype.Ff=function(){var a,b,d;a=this.B3;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.Ehb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.K$a=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.jUa=function(){var g,k;for(var a=this.B3,b=a.length,c=this.destination,d=0;d<b;d++){g=a[d];if("function"===typeof g.Hm&&!g.Hm())return;}for(var f=!1,h=[],d=0;d<b;d++){g=a[d];k=g.next();g.WA()&&(f=!0);if(k.done){c.complete();return;}h.push(k.value);}this.Qf?this.LY(h):c.next(h);f&&c.complete();};b.prototype.LY=function(a){var b;try{b=this.Qf.apply(this,a);}catch(F){this.destination.error(F);return;}this.destination.next(b);};return b;}(f.Fh);c.rsb=q;t=function(){function a(a){this.iterator=a;this.l5=a.next();}a.prototype.Hm=function(){return!0;};a.prototype.next=function(){var a;a=this.l5;this.l5=this.iterator.next();return a;};a.prototype.WA=function(){var a;a=this.l5;return a&&a.done;};return a;}();B=function(){function a(a){this.Zn=a;this.length=this.index=0;this.length=a.length;}a.prototype[n.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Zn;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Hm=function(){return this.Zn.length>this.index;};a.prototype.WA=function(){return this.Zn.length===this.index;};return a;}();z=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.Ehb=!0;this.buffer=[];this.m3=!1;}d(b,a);b.prototype[n.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.m3?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Hm=function(){return 0<this.buffer.length;};b.prototype.WA=function(){return 0===this.buffer.length&&this.m3;};b.prototype.Gi=function(){0<this.buffer.length?(this.m3=!0,this.parent.K$a()):this.destination.complete();};b.prototype.px=function(a,b){this.buffer.push(b);this.parent.jUa();};b.prototype.subscribe=function(a,b){return l.Ar(this,this.observable,this,b);};return b;}(g.xp);},function(f,c,a){f=a(848);c.m9=f.olb;},function(f,c,a){f=a(11);a=a(849);f.oa.m9=a.m9;},function(f,c,a){var b,d,k,h,g,l,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(98);k=a(99);f=a(74);h=a(73);g={};c.E_=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&k.isArray(a[0])&&(a=a[0].slice());return function(b){return b.nf.call(new d.Fu([b].concat(a)),new l(c));};};l=function(){function a(a){this.Qf=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Qf));};return a;}();c.Pza=l;n=function(a){function c(b,c){a.call(this,b);this.Qf=c;this.active=0;this.values=[];this.Yra=[];}b(c,a);c.prototype.Fg=function(a){this.values.push(g);this.Yra.push(a);};c.prototype.Ff=function(){var a,b,d;a=this.Yra;b=a.length;if(0===b)this.destination.complete();else{this.D8=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(h.Ar(this,d,d,c));}}};c.prototype.Gi=function(){0===--this.active&&this.destination.complete();};c.prototype.px=function(a,b,c){var d;a=this.values;d=a[c];d=this.D8?d===g?--this.D8:this.D8:0;a[c]=b;0===d&&(this.Qf?this.LY(a):this.destination.next(a.slice()));};c.prototype.LY=function(a){var b;try{b=this.Qf.apply(this,a);}catch(z){this.destination.error(z);return;}this.destination.next(b);};return c;}(f.xp);c.umb=n;},function(f,c,a){var b,d,k,h;b=a(116);d=a(99);k=a(98);h=a(851);c.E_=function(){var f;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];f=c=null;b.Rw(a[a.length-1])&&(f=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&d.isArray(a[0])&&(a=a[0]);return new k.Fu(a,f).nf(new h.Pza(c));};},function(f,c,a){f=a(11);a=a(852);f.oa.E_=a.E_;},function(f,c,a){var b,d,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(419);f=a(11);k=a(164);h=a(116);g=a(421);a=function(a){function c(b,c,f){void 0===b&&(b=0);a.call(this);this.er=-1;this.Ila=0;d.kpa(c)?this.er=1>Number(c)&&1||Number(c):h.Rw(c)&&(f=c);h.Rw(f)||(f=k.async);this.ka=f;this.Ila=g.dH(b)?+b-this.ka.now():b;}b(c,a);c.create=function(a,b,d){void 0===a&&(a=0);return new c(a,b,d);};c.bb=function(a){var b,c,d;b=a.index;c=a.er;d=a.Me;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.ib(a,c);}};c.prototype.cf=function(a){return this.ka.ib(c.bb,this.Ila,{index:0,er:this.er,Me:a});};return c;}(f.oa);c.dKa=a;},function(f,c,a){f=a(854);c.Dr=f.dKa.create;},function(f,c,a){f=a(11);a=a(855);f.oa.Dr=a.Dr;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.error=b;this.ka=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.bb=function(a){a.Me.error(a.error);};c.prototype.cf=function(a){var b,d;b=this.error;d=this.ka;a.uj=!0;if(d)return d.ib(c.bb,0,{error:b,Me:a});a.error(b);};return c;}(a(11).oa);c.NBa=f;},function(f,c,a){f=a(857);c.YPa=f.NBa.create;},function(f,c,a){f=a(11);a=a(858);f.oa["throw"]=a.YPa;},function(f,c,a){f=a(420);c.rx=f.yab;},function(f,c,a){f=a(11);a=a(860);f.oa.rx=a.rx;},function(f,c,a){f=a(11);a=a(427);f.oa.of=a.of;},function(f,c,a){var b,d,k,h;b=a(11);d=a(98);k=a(116);h=a(230);c.R4=function(){var c,f,l;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;f=null;l=a[a.length-1];k.Rw(l)?(f=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof l&&(c=a.pop());return null===f&&1===a.length&&a[0]instanceof b.oa?a[0]:h.Rt(c)(new d.Fu(a,f));};},function(f,c,a){f=a(11);a=a(863);f.oa.R4=a.R4;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(419);f=a(11);k=a(164);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=k.async);a.call(this);this.er=b;this.ka=c;if(!d.kpa(b)||0>b)this.er=0;c&&"function"===typeof c.ib||(this.ka=k.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=k.async);return new c(a,b);};c.bb=function(a){var b,c;b=a.Me;c=a.er;b.next(a.index);b.closed||(a.index+=1,this.ib(a,c));};c.prototype.cf=function(a){var b;b=this.er;a.add(this.ka.ib(c.bb,b,{index:0,Me:a,er:b}));};return c;}(f.oa);c.zDa=a;},function(f,c,a){f=a(865);c.interval=f.zDa.create;},function(f,c,a){f=a(11);a=a(866);f.oa.interval=a.interval;},function(f,c,a){f=a(424);c.Hw=f.Ada.create;},function(f,c,a){f=a(11);a=a(868);f.oa.Hw=a.Hw;},function(f,c,a){f=a(134);c.empty=f.dD.create;},function(f,c,a){f=a(11);a=a(870);f.oa.empty=a.empty;},function(f,c,a){f=a(11);a=a(135);f.oa.concat=a.concat;},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);d=a(73);c.gT=function(a,b){return function(c){return c.nf(new k(a,b));};};k=function(){function a(a,b){this.Qf=a;this.qj=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Qf,this.qj));};return a;}();h=function(a){function c(b,c,d){a.call(this,b);this.Qf=c;this.qj=d;this.index=0;}b(c,a);c.prototype.Fg=function(a){var b,c;c=this.index++;try{b=this.Qf(a,c);}catch(v){this.destination.error(v);return;}this.JX(b,a,c);};c.prototype.JX=function(a,b,c){var g;g=this.XP;g&&g.unsubscribe();this.add(this.XP=d.Ar(this,a,b,c));};c.prototype.Ff=function(){var b;b=this.XP;b&&!b.closed||a.prototype.Ff.call(this);};c.prototype.Xp=function(){this.XP=null;};c.prototype.Gi=function(b){this.remove(b);this.XP=null;this.mf&&a.prototype.Ff.call(this);};c.prototype.px=function(a,b,c,d){this.qj?this.cQa(a,b,c,d):this.destination.next(b);};c.prototype.cQa=function(a,b,c,d){var g;try{g=this.qj(a,b,c,d);}catch(z){this.destination.error(z);return;}this.destination.next(g);};return c;}(f.xp);},function(f,c,a){var b;b=a(873);c.gT=function(a,c){return b.gT(a,c)(this);};},function(f,c,a){f=a(11);a=a(874);f.oa.prototype.gT=a.gT;},function(f,c,a){var b,d;b=a(433);c.g$a=function(a,c){return function(g){var f,h;f="function"===typeof a?a:function(){return a;};if("function"===typeof c)return g.nf(new d(f,c));h=Object.create(g,b.VUa);h.source=g;h.eT=f;return h;};};d=function(){function a(a,b){this.eT=a;this.mu=b;}a.prototype.call=function(a,b){var c,d;c=this.mu;d=this.eT();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();c.ppb=d;},function(f,c,a){var b,d;b=a(435);d=a(876);c.MR=function(a,c,g,f){var h,k;g&&"function"!==typeof g&&(f=g);h="function"===typeof g?g:void 0;k=new b.UD(a,c,f);return function(a){return d.g$a(function(){return k;},h)(a);};};},function(f,c,a){var b;b=a(877);c.MR=function(a,c,f,g){return b.MR(a,c,f,g)(this);};},function(f,c,a){f=a(11);a=a(878);f.oa.prototype.MR=a.MR;},function(f,c,a){var b,d,k,h,g;b=a(98);d=a(231);k=a(134);h=a(135);g=a(116);c.WS=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){var f,l;f=a[a.length-1];g.Rw(f)?a.pop():f=null;l=a.length;return 1===l?h.concat(new d.yW(a[0],f),c):1<l?h.concat(new b.Fu(a,f),c):h.concat(new k.dD(f),c);};};},function(f,c,a){var b;b=a(880);c.WS=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.WS.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(881);f.oa.prototype.WS=a.WS;},function(){},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);d=a(73);c.rJ=function(a){return function(b){return b.nf(new k(a));};};k=function(){function a(a){this.Lra=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Lra));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Lra=c;this.add(d.Ar(this,c));}b(c,a);c.prototype.px=function(){this.complete();};c.prototype.Gi=function(){};return c;}(f.xp);},function(f,c,a){var b;b=a(884);c.rJ=function(a){return b.rJ(a)(this);};},function(f,c,a){f=a(11);a=a(885);f.oa.prototype.rJ=a.rJ;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.mya=f;},function(f,c,a){var b,d,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);d=a(887);k=a(134);c.zC=function(a){return function(b){return 0===a?new k.dD():b.nf(new h(a));};};h=function(){function a(a){this.total=a;if(0>this.total)throw new d.mya();}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.total));};return a;}();g=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Fg=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(f.Fh);},function(f,c,a){var b;b=a(888);c.zC=function(a){return b.zC(a)(this);};},function(f,c,a){f=a(11);a=a(889);f.oa.prototype.zC=a.zC;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);c.$I=function(a){return function(b){return b.nf(new d(a));};};d=function(){function a(a){this.cu=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.cu));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.cu=c;this.V7=!0;this.index=0;}b(c,a);c.prototype.Fg=function(a){var b;b=this.destination;this.V7&&this.Jjb(a);this.V7||b.next(a);};c.prototype.Jjb=function(a){try{this.V7=!!this.cu(a,this.index++);}catch(n){this.destination.error(n);}};return c;}(f.Fh);},function(f,c,a){var b;b=a(891);c.$I=function(a){return b.$I(a)(this);};},function(f,c,a){f=a(11);a=a(892);f.oa.prototype.$I=a.$I;},function(f,c,a){var b;b=a(420);c.rx=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.rx.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(894);f.oa.prototype.rx=a.rx;},function(f,c,a){var b;b=a(422);c.zB=function(a,c,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return b.zB(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(896);f.oa.prototype.zB=a.zB;f.oa.prototype.Fw=a.zB;},function(f,c,a){var b;b=a(230);c.Rt=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Rt(a)(this);};},function(f,c,a){f=a(11);a=a(898);f.oa.prototype.Rt=a.Rt;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);c.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.nf(new d(a,b));};};d=function(){function a(a,b){this.Qf=a;this.t8=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Qf,this.t8));};return a;}();c.fpb=d;k=function(a){function c(b,c,d){a.call(this,b);this.Qf=c;this.count=0;this.t8=d||this;}b(c,a);c.prototype.Fg=function(a){var b;try{b=this.Qf.call(this.t8,a,this.count++);}catch(r){this.destination.error(r);return;}this.destination.next(b);};return c;}(f.Fh);},function(f,c,a){var b;b=a(900);c.map=function(a,c){return b.map(a,c)(this);};},function(f,c,a){f=a(11);a=a(901);f.oa.prototype.map=a.map;},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.KBa=f;},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);d=a(903);c.fk=function(a,b,c){return function(d){return d.nf(new k(a,b,c,d));};};k=function(){function a(a,b,c,d){this.cu=a;this.qj=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.cu,this.qj,this.defaultValue,this.source));};return a;}();h=function(a){function c(b,c,d,g,f){a.call(this,b);this.cu=c;this.qj=d;this.defaultValue=g;this.source=f;this.Hm=!1;this.index=0;"undefined"!==typeof g&&(this.mQ=g,this.Hm=!0);}b(c,a);c.prototype.Fg=function(a){var b;b=this.index++;this.cu?this.dQa(a,b):this.qj?this.bia(a,b):(this.mQ=a,this.Hm=!0);};c.prototype.dQa=function(a,b){var c;try{c=this.cu(a,b,this.source);}catch(v){this.destination.error(v);return;}c&&(this.qj?this.bia(a,b):(this.mQ=a,this.Hm=!0));};c.prototype.bia=function(a,b){var c;try{c=this.qj(a,b);}catch(v){this.destination.error(v);return;}this.mQ=c;this.Hm=!0;};c.prototype.Ff=function(){var a;a=this.destination;this.Hm?(a.next(this.mQ),a.complete()):a.error(new d.KBa());};return c;}(f.Fh);},function(f,c,a){var b;b=a(904);c.fk=function(a,c,f){return b.fk(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(905);f.oa.prototype.fk=a.fk;},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(50);c.Dib=function(a,b,c){return function(d){return d.nf(new k(a,b,c));};};k=function(){function a(a,b,c){this.u$a=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.u$a,this.error,this.complete));};return a;}();h=function(a){function c(b,c,g,f){a.call(this,b);b=new d.Fh(c,g,f);b.uj=!0;this.add(b);this.h7=b;}b(c,a);c.prototype.Fg=function(a){var b;b=this.h7;b.next(a);b.$x?this.destination.error(b.ay):this.destination.next(a);};c.prototype.Tb=function(a){var b;b=this.h7;b.error(a);b.$x?this.destination.error(b.ay):this.destination.error(a);};c.prototype.Ff=function(){var a;a=this.h7;a.complete();a.$x?this.destination.error(a.ay):this.destination.complete();};return c;}(d.Fh);},function(f,c,a){var b;b=a(907);c.qX=function(a,c,f){return b.Dib(a,c,f)(this);};},function(f,c,a){f=a(11);a=a(908);f.oa.prototype.ZF=a.qX;f.oa.prototype.qX=a.qX;},function(f,c,a){function b(){return function(){function a(){this.Mj=[];}a.prototype.add=function(a){this.has(a)||this.Mj.push(a);};a.prototype.has=function(a){return-1!==this.Mj.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Mj.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Mj.length=0;};return a;}();}f=a(75);c.oyb=b;c.Set=f.root.Set||b();},function(f,c,a){var b,d,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);d=a(73);k=a(910);c.sO=function(a,b){return function(c){return c.nf(new h(a,b));};};h=function(){function a(a,b){this.jQ=a;this.v1a=b;}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.jQ,this.v1a));};return a;}();g=function(a){function c(b,c,g){a.call(this,b);this.jQ=c;this.values=new k.Set();g&&this.add(d.Ar(this,g));}b(c,a);c.prototype.px=function(){this.values.clear();};c.prototype.s5=function(a){this.Tb(a);};c.prototype.Fg=function(a){this.jQ?this.nQa(a):this.dga(a,a);};c.prototype.nQa=function(a){var b,c;c=this.destination;try{b=this.jQ(a);}catch(B){c.error(B);return;}this.dga(b,a);};c.prototype.dga=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(f.xp);c.Umb=g;},function(f,c,a){var b;b=a(911);c.sO=function(a,c){return b.sO(a,c)(this);};},function(f,c,a){f=a(11);a=a(912);f.oa.prototype.sO=a.sO;},function(f,c,a){var b,d,k,h,g,l,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(164);k=a(421);f=a(50);h=a(232);c.Xc=function(a,b){var c;void 0===b&&(b=d.async);c=k.dH(a)?+a-b.now():Math.abs(a);return function(a){return a.nf(new g(c,b));};};g=function(){function a(a,b){this.Xc=a;this.ka=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Xc,this.ka));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.Xc=c;this.ka=d;this.or=[];this.dma=this.active=!1;}b(c,a);c.bb=function(a){for(var b=a.source,c=b.or,d=a.ka,g=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(g);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.ib(a,b)):b.active=!1;};c.prototype.qPa=function(a){this.active=!0;this.add(a.ib(c.bb,this.Xc,{source:this,destination:this.destination,ka:a}));};c.prototype.Oua=function(a){var b;if(!0!==this.dma){b=this.ka;a=new m(b.now()+this.Xc,a);this.or.push(a);!1===this.active&&this.qPa(b);}};c.prototype.Fg=function(a){this.Oua(h.Notification.b0(a));};c.prototype.Tb=function(a){this.dma=!0;this.or=[];this.destination.error(a);};c.prototype.Ff=function(){this.Oua(h.Notification.Y_());};return c;}(f.Fh);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(f,c,a){var b,d;b=a(164);d=a(914);c.Xc=function(a,c){void 0===c&&(c=b.async);return d.Xc(a,c)(this);};},function(f,c,a){f=a(11);a=a(915);f.oa.prototype.Xc=a.Xc;},function(f,c,a){var b;b=a(423);c.BF=function(){return b.BF()(this);};},function(f,c,a){f=a(11);a=a(917);f.oa.prototype.BF=a.BF;},function(f,c){c.b6a=function(a){return a;};},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(11);d=a(231);k=a(134);a=function(a){function c(b,c){a.call(this);this.wZ=b;(this.ka=c)||1!==b.length||(this.Kp=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var g;g=a.length;return 0===g?new k.dD():1===g?new d.yW(a[0],b):new c(a,b);};c.bb=function(a){var b,c,d;b=a.wZ;c=a.index;d=a.Me;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.ib(a)));};c.prototype.cf=function(a){var b,d,g;b=this.wZ;d=this.ka;g=b.length;if(d)return d.ib(c.bb,0,{wZ:b,index:0,length:g,Me:a});for(d=0;d<g&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(f.oa);c.oya=a;},function(f,c,a){var b,d,k,h,g,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(75);f=a(11);k=a(165);a=function(a){function c(b,c){a.call(this);this.ka=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[k.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[k.iterator]();}else b=new g(b);else b=new h(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.bb=function(a){var b,c,d,g;b=a.index;c=a.iterator;d=a.Me;if(a.KG)d.error(a.error);else{g=c.next();g.done?d.complete():(d.next(g.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.ib(a));}};c.prototype.cf=function(a){var b,d;b=this.iterator;d=this.ka;if(d)return d.ib(c.bb,0,{index:0,iterator:b,Me:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(f.oa);c.CDa=a;h=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.tu=a;this.PG=b;this.N3=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.PG<this.N3?{done:!1,value:this.tu.charAt(this.PG++)}:{done:!0,value:void 0};};return a;}();g=function(){function a(a,b,c){var g;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&d.root.isFinite(c)){g=+c;c=(0===g||isNaN(g)?g:0>g?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>l?l:c;}this.KRa=a;this.PG=b;this.N3=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.PG<this.N3?{done:!1,value:this.KRa[this.PG++]}:{done:!0,value:void 0};};return a;}();l=Math.pow(2,53)-1;},function(f,c,a){var b;b=a(135);f=a(135);c.OUa=f.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.nf.call(b.concat.apply(void 0,[c].concat(a)));};};},function(f,c,a){var b;b=a(922);f=a(135);c.OUa=f.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.concat.apply(void 0,a)(this);};},function(f,c,a){f=a(11);a=a(923);f.oa.prototype.concat=a.concat;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c,d){a.call(this);this.parent=b;this.$ab=c;this.Zab=d;this.index=0;}b(c,a);c.prototype.Fg=function(a){this.parent.px(this.$ab,a,this.Zab,this.index++,this);};c.prototype.Tb=function(a){this.parent.s5(a,this);this.unsubscribe();};c.prototype.Ff=function(){this.parent.Gi(this);this.unsubscribe();};return c;}(a(50).Fh);c.cba=f;},function(f,c,a){var b,d,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);d=a(73);c.aUa=function(a){return function(b){var c;c=new k(a);b=b.nf(c);return c.j_=b;};};k=function(){function a(a){this.mu=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.mu,this.j_));};return a;}();h=function(a){function c(b,c,d){a.call(this,b);this.mu=c;this.j_=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.mf){c=void 0;try{c=this.mu(b,this.j_);}catch(u){a.prototype.error.call(this,u);return;}this.hQa();this.add(d.Ar(this,c));}};return c;}(f.xp);},function(f,c,a){var b;b=a(926);c.eX=function(a){return b.aUa(a)(this);};},function(f,c,a){f=a(11);a=a(927);f.oa.prototype["catch"]=a.eX;f.oa.prototype.eX=a.eX;},function(f,c,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(234);a=function(a){function c(b,c){var g;g=this;void 0===b&&(b=d);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return g.frame;});this.X8a=c;this.frame=0;this.index=-1;}b(c,a);c.prototype.flush=function(){for(var a=this.bj,b=this.X8a,c,d;(d=a.shift())&&(this.frame=d.Xc)<=b&&!(c=d.kg(d.state,d.Xc)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};c.J1=10;return c;}(a(233).RT);c.KKa=a;d=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ka=b;this.RJ=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.ib=function(b,d){var g;void 0===d&&(d=0);if(!this.id)return a.prototype.ib.call(this,b,d);this.active=!1;g=new c(this.ka,this.RJ);this.add(g);return g.ib(b,d);};c.prototype.aS=function(a,b,d){void 0===d&&(d=0);this.Xc=a.frame+d;a=a.bj;a.push(this);a.sort(c.ohb);return!0;};c.prototype.VR=function(){};c.prototype.aM=function(b,c){if(!0===this.active)return a.prototype.aM.call(this,b,c);};c.ohb=function(a,b){return a.Xc===b.Xc?a.index===b.index?0:a.index>b.index?1:-1:a.Xc>b.Xc?1:-1;};return c;}(f.QT);c.JKa=d;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(166);k=a(67);f=a(432);a=a(430);d=function(a){function c(b,c){a.call(this);this.qd=b;this.hJ=[];this.ka=c;}b(c,a);c.prototype.cf=function(b){var c,d;c=this;d=c.lqa();b.add(new k.Aj(function(){c.mqa(d);}));return a.prototype.cf.call(this,b);};c.prototype.Sgb=function(){for(var a=this,b=a.qd.length,c=0;c<b;c++)(function(){var b;b=a.qd[c];a.ka.ib(function(){b.notification.observe(a);},b.frame);}());};return c;}(d.ii);c.Knb=d;a.Oia(d,[f.oea]);},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(11);k=a(67);f=a(432);a=a(430);d=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.lqa();a.add(new k.Aj(function(){b.mqa(c);}));b.pfb(a);return a;});this.qd=b;this.hJ=[];this.ka=c;}b(c,a);c.prototype.pfb=function(a){var d;for(var b=this.qd.length,c=0;c<b;c++){d=this.qd[c];a.add(this.ka.ib(function(a){a.message.notification.observe(a.Me);},d.frame,{message:d,Me:a}));}};return c;}(d.oa);c.Oza=d;a.Oia(d,[f.oea]);},function(f,c,a){var b,d,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(11);d=a(232);k=a(931);a(930);h=a(431);g=a(929);f=function(a){function c(b){a.call(this,g.JKa,750);this.WRa=b;this.R5a=[];this.t1a=[];}b(c,a);c.prototype.flush=function(){var c;for(var b=this.R5a;0<b.length;)b.shift().Sgb();a.prototype.flush.call(this);for(b=this.t1a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.WRa(c.Rv,c.Rl);}};c.dzb=function(a){var k,l;if("string"!==typeof a)return new h.XD(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){k=g*this.J1;l=a[g];switch(l){case"-":case" ":break;case"(":c=k;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:k;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:k;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+l+"'.");}}return 0>f?new h.XD(d):new h.XD(d,f);};c.czb=function(a,b,c,f){var q,r,t;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,h=[],l=a.indexOf("^"),l=-1===l?0:l*-this.J1,m="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof k.Oza?b[a].qd:b[a];},p=-1,n=0;n<g;n++){q=n*this.J1+l;r=void 0;t=a[n];switch(t){case"-":case" ":break;case"(":p=q;break;case")":p=-1;break;case"|":r=d.Notification.Y_();break;case"^":break;case"#":r=d.Notification.Bka(c||"error");break;default:r=d.Notification.b0(m(t));}r&&h.push({frame:-1<p?p:q,notification:r});}return h;};return c;}(g.KKa);c.yea=f;},function(f,c,a){var b,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(50);c.WR=function(){return function(a){return a.nf(new d(a));};};d=function(){function a(a){this.Xk=a;}a.prototype.call=function(a,b){var c;c=this.Xk;c.Ms++;a=new k(a,c);b=b.subscribe(a);a.closed||(a.wm=c.connect());return b;};return a;}();k=function(a){function c(b,c){a.call(this,b);this.Xk=c;}b(c,a);c.prototype.Xp=function(){var a,b;a=this.Xk;if(a){this.Xk=null;b=a.Ms;0>=b?this.wm=null:(a.Ms=b-1,1<b?this.wm=null:(b=this.wm,a=a.ss,this.wm=null,!a||b&&a!==b||a.unsubscribe()));}else this.wm=null;};return c;}(f.Fh);},function(f,c){f=function(){function a(b,c){void 0===c&&(c=a.now);this.xJa=b;this.now=c;}a.prototype.ib=function(a,c,f){void 0===c&&(c=0);return new this.xJa(this,a).ib(f,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();c.wJa=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(233).RT);c.DIa=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.call(this);}b(c,a);c.prototype.ib=function(){return this;};return c;}(a(67).Aj);c.eya=f;},function(f,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this,b,c);this.ka=b;this.RJ=c;}b(c,a);c.prototype.ib=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.ib.call(this,b,c);this.Xc=c;this.state=b;this.ka.flush(this);return this;};c.prototype.kg=function(b,c){return 0<c||this.closed?a.prototype.kg.call(this,b,c):this.aM(b,c);};c.prototype.aS=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Xc?a.prototype.aS.call(this,b,c,d):b.flush(this);};return c;}(a(234).QT);c.CIa=f;},function(f,c,a){f=a(937);a=a(935);c.or=new a.DIa(f.CIa);},function(f,c){c.B$a=function(){};},function(f,c,a){var d;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:d.B$a;}d=a(939);c.Rbb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};c.Sbb=b;},function(f,c,a){var b,d,k;b=a(50);d=a(236);k=a(237);c.hjb=function(a,c,f){if(a){if(a instanceof b.Fh)return a;if(a[d.Sx])return a[d.Sx]();}return a||c||f?new b.Fh(a,c,f):new b.Fh(k.empty);};},function(f,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(a){b.call(this);this.GA=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.tL=f;},function(f,c,a){var d,k;function b(){try{return k.apply(this,arguments);}catch(h){return d.zt.e=h,d.zt;}}d=a(438);c.Mwa=function(a){k=a;return b;};},function(f,c,a){var d,k,h,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);d=a(441);k=a(76);h=a(0);a=a(30);oa.Object.defineProperties(b.prototype,{Lm:{configurable:!0,enumerable:!0,get:function(){return d.KD.of(this.config().Jr).map(function(a){return k.oa.from(a.isInOfflineMode);}).bI(k.oa.of(!1));}},Uk:{configurable:!0,enumerable:!0,get:function(){return d.KD.of(this.config().Jr).map(function(a){var b;b=a.logger;if(b)return{zhb:b.startSession,c0a:b.endSession,hk:b.logEvent,Uq:function(a){a&&a.code&&(a.code=String(a.code));return b.logEvent("DebugEvent",a);}};}).bI({zhb:function(){return-1;},c0a:function(){},hk:function(){return-1;},Uq:function(){return-1;}});}},de:{configurable:!0,enumerable:!0,get:function(){return d.KD.of(this.config().Jr).map(function(a){return a.storageFactory;}).bI({});}}});g=b;g=f.__decorate([h.P(),f.__param(0,h.j(a.wg))],g);c.lya=g;},function(f,c,a){var b,d,k,h,g,l,m,q,u,v,B,z,y;Object.defineProperty(c,"__esModule",{value:!0});f=a(0);b=a(944);d=a(30);k=a(85);h=a(843);g=a(34);l=a(49);m=a(842);q=a(417);u=a(841);v=a(163);B=a(840);z=a(136);y=a(839);c.config=new f.Sb(function(a){a(d.wg).pl(function(){return function(){return t._cad_global.config;};});a(k.Lr).to(b.lya).Y();a(g.bU).to(h.Rza).Y();a(g.Cj).to(h.BKa).Y();a(g.OK).to(h.xDa).Y();a(l.Dk).to(m.dCa).Y();a(q.mca).to(u.GFa).Y();a(v.gaa).to(B.$Ba).Y();a(z.cD).to(y.GBa).Y();});},function(f,c,a){var b,d,k,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);d=a(117);k=a(100);h=a(239);c.ddb=function(a){h.U0.parent=a.uc;return function(){g||(g=new Promise(function(a,c){try{a(h.U0.get(k.F$));}catch(u){c(new d.zf(b.I.OCa,b.v.iDa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return g;};};},function(f,c,a){var h,g,l,m,q,t,v,B;function b(a,b,c){var f;f=this;this.is=a;this.de=b;this.config=c;this.cp=function(){return{version:f.version,drmData:f.vO.map(function(a){return a.cp();})};};this.O1=function(a){var b;f.is.ti(a)&&(a=d(a));1===a.version&&(a=k(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new B.rU(a);});}catch(P){throw new q.dc(l.I.zy,l.v.Or,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",P);}}else{if(!a.version||!f.is.If(a.version))throw new q.dc(l.I.zy,l.v.Or,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new q.dc(l.I.zy,l.v.M9,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.bm=new t.$aa(2,this.config.cG,this.is.ti(this.config.cG),this.de,this.cp);}function d(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new q.dc(l.I.zy,l.v.Or);return{version:1,drmData:[a]};}function k(a,b){if(a.Wn(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new B.rU({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).cp();})};throw new q.dc(l.I.zy,l.v.Or);}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);h=a(0);g=a(136);l=a(2);m=a(21);q=a(58);t=a(442);v=a(53);B=a(238);b.prototype.Ata=function(){return this.yhb();};b.prototype.ria=function(a){return this.bm.add(a);};b.prototype.I6=function(a){return this.bm.remove(a,function(a,b){return a.ia===b.ia;});};b.prototype.toString=function(){return JSON.stringify(this.cp(),null,"  ");};b.prototype.yhb=function(){var a;a=this;this.Fta||(this.Fta=new Promise(function(b,c){a.bm.load(a.O1).then(function(){b();})["catch"](function(a){a.S&&a.cause?c(new q.dc(l.I.zy,a.S,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Fta;};oa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.bm.version;}},vO:{configurable:!0,enumerable:!0,get:function(){return this.bm.fo;}}});a=b;a=f.__decorate([h.P(),f.__param(0,h.j(m.fe)),f.__param(1,h.j(v.ul)),f.__param(2,h.j(g.cD))],a);c.Bza=a;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(64);d=a(240);c.cdb=function(a){return function(){var c;if(!k){d.$Y.parent=a.uc;c=d.$Y.get(b.s9);k=new Promise(function(a,b){c.Zc().then(function(){a(c);})["catch"](function(a){b(a);});});}return k;};};},function(f,c,a){var k,h,g,l,m,q,t,v,B,d,b;function b(a,b){a=/CrOS/.test(a.userAgent);this.vSa=this.fF=t.WJ.iba;this.B7=!0;this.zN=[v.yk.EK];this.OJ=[v.$.Tr,v.$.Qu,v.$.eCa,v.$.fCa];a&&this.OJ.push(v.$.fD,v.$.gCa);this.Br=[v.Bj.fU,v.Bj.cJa,v.Bj.Jy];this.Cd=B.Fb.OKa;this.c1=!0;this.IO=!1;this.Oqa=l.Hb(232E3);this.w4=m.ga(0);this.xZ=m.ga(288E4);this.AZ=m.ga(335544320);this.y4=l.Hb(15E3);this.Y8a=m.ga(6291456);this.pB=1E3;this.sT=!0;this.i9=!1;this.g_=!!b;this.y_=!0;this.Zja=!b;this.ZS="idb";this.c8=m.ga(0);this.uxa=!1;this.K6=!0;this.A8={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};this.EC=m.ga(0);this.D6=!1;this.qT=l.Hb(0);}function d(a){var b,c;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);this.version="0.0012.893.010";this.Fi=!0;this.l0a=b?"C":c?"O":"M";this.Bm=/OPR/.test(a)?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":/CrOS/.test(a)?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":"NFCDCH-LX-";this.R1=!0;this.G0=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.F0="browser";this.nqa="";this.tla="cadmium";this.e7a=!0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1);k=a(0);h=a(46);g=a(86);l=a(7);m=a(35);q=a(137);t=a(444);v=a(59);B=a(168);d=f.__decorate([k.P(),f.__param(0,k.j(h.GD))],d);b=f.__decorate([k.P(),f.__param(0,k.j(h.GD)),f.__param(1,k.j(h.Wba))],b);c.platform=new k.Sb(function(a){a(g.gs).to(d);a(q.PD).to(b);});},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.xra=function(a){return function(b){return function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.forEach(function(c){return a.bind(c).gjb(b);});};};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);d=a(36);k=a(65);c.bta=function(){return function(a,c){c=new k.Metadata(d.MD,c);if(Reflect.H2(d.MD,a.constructor))throw Error(b.AEa);Reflect.C0(d.MD,c,a.constructor);};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(65);k=a(87);c.sJ=function(a){return function(c,f,h){var g;g=new d.Metadata(b.RK,a);k.by(c,f,h,g);};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(65);k=a(87);c.ix=function(a){return function(c,f,h){var g;g=new d.Metadata(b.Vu,a);"number"===typeof h?k.by(c,f,h,g):k.qJ(c,f,g);};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(65);k=a(87);c.sg=function(){return function(a,c,f){var g;g=new d.Metadata(b.aE,!0);k.by(a,c,f,g);};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(65);k=a(87);c.optional=function(){return function(a,c,f){var g;g=new d.Metadata(b.tca,!0);"number"===typeof f?k.by(a,c,f,g):k.qJ(a,c,g);};};},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(36);d=a(65);k=a(87);c.zra=function(a){return function(c,f,h){var g;g=new d.Metadata(b.cs,a);"number"===typeof h?k.by(c,f,h,g):k.qJ(c,f,g);};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(65);d=a(87);c.hT=function(a,c){return function(f,h,k){var g;g=new b.Metadata(a,c);"number"===typeof k?d.by(f,h,k,g):d.qJ(f,h,g);};};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);d=a(36);c.P=function(){return function(a){var c;if(Reflect.H2(d.WV,a))throw Error(b.RAa);c=Reflect.getMetadata(d.iAa,a)||[];Reflect.C0(d.WV,c,a);return a;};};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(101);c.Sb=function(){return function(a){this.id=b.id();this.F6=a;};}();c.A9=function(){return function(a){this.id=b.id();this.F6=a;};}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);f=function(){function a(){this.Hh=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.FD);if(null===c||void 0===c)throw Error(b.FD);d=this.Hh.get(a);void 0!==d?(d.push(c),this.Hh.set(a,d)):this.Hh.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.FD);a=this.Hh.get(a);if(void 0!==a)return a;throw Error(b.kba);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.FD);if(!this.Hh["delete"](a))throw Error(b.kba);};a.prototype.ioa=function(a){if(null===a||void 0===a)throw Error(b.FD);return this.Hh.has(a);};a.prototype.clone=function(){var b;b=new a();this.Hh.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.Cjb=function(a){this.Hh.forEach(function(b,c){a(c,b);});};return a;}();c.dEa=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(){}a.of=function(b,c){var d;d=new a();d.jF=b;d.H9a=c;return d;};return a;}();c.vmb=f;},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(77);d=a(447);f=function(){function a(a){this.ob=a;}a.prototype.Y=function(){this.ob.scope=b.fm.AW;return new d.Iu(this.ob);};a.prototype.d3=function(){this.ob.scope=b.fm.qL;return new d.Iu(this.ob);};return a;}();c.Rya=f;},function(f,c,a){var b,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(962);d=a(243);k=a(242);f=function(){function a(a){this.ob=a;this.hE=new k.WT(this.ob);this.ZW=new d.ZJ(this.ob);this.kfa=new b.Rya(a);}a.prototype.Y=function(){return this.kfa.Y();};a.prototype.d3=function(){return this.kfa.d3();};a.prototype.QJ=function(){return this.hE.QJ();};a.prototype.SC=function(a,b){return this.hE.SC(a,b);};a.prototype.Mo=function(a){return this.ZW.Mo(a);};return a;}();c.H9=f;},function(f,c,a){var b,d,k,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);d=a(77);k=a(963);h=a(447);f=function(){function a(a){this.ob=a;}a.prototype.to=function(a){this.ob.type=d.Vg.oV;this.ob.Bi=a;return new k.H9(this.ob);};a.prototype.Bwa=function(){if("function"!==typeof this.ob.ce)throw Error(""+b.lDa);this.to(this.ob.ce);};a.prototype.Uf=function(a){this.ob.type=d.Vg.d$;this.ob.cache=a;this.ob.xA=null;this.ob.Bi=null;new h.Iu(this.ob);};a.prototype.GC=function(a){this.ob.type=d.Vg.L$;this.ob.cache=null;this.ob.xA=a;this.ob.Bi=null;new k.H9(this.ob);};a.prototype.zwa=function(a){this.ob.type=d.Vg.e$;this.ob.Bi=a;new h.Iu(this.ob);};a.prototype.pl=function(a){this.ob.type=d.Vg.EU;this.ob.Yj=a;new h.Iu(this.ob);};a.prototype.ejb=function(a){this.ob.type=d.Vg.EU;this.ob.Yj=function(b){return function(){return b.uc.get(a);};};new h.Iu(this.ob);};a.prototype.vJ=function(a){this.ob.type=d.Vg.Bda;this.ob.pj=a;new h.Iu(this.ob);};a.prototype.gjb=function(a){this.GC(function(b){return b.uc.get(a);});};return a;}();c.Sya=f;},function(f,c,a){var k,h,g;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===h.Ep.a$;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function d(a,b){var c;if(Reflect.s5a(g.MD,a)){c=Reflect.getMetadata(g.MD,a);try{b[c.value]();}catch(u){throw Error(k.lHa(a.name,u.message));}}}Object.defineProperty(c,"__esModule",{value:!0});k=a(54);h=a(77);g=a(36);c.Seb=function(a,c,f){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===h.Ep.f$;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,f)):g=new a();d(a,g);return g;};},function(f,c,a){var k,h,g,l,m;function b(a){return function(c){var f,g,n,p,q;f=c.jF;g=c.r_;n=c.target&&c.target.isArray();p=!c.dr||!c.dr.target||!c.target||!c.dr.target.K8a(c.target.ce);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!c.target.lpa()||0!==f.length){q=f[0];f=q.scope===h.fm.AW;p=q.scope===h.fm.Request;if(f&&q.bZ)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===h.Vg.d$)n=q.cache;else if(q.type===h.Vg.Function)n=q.cache;else if(q.type===h.Vg.e$)n=q.Bi;else if(q.type===h.Vg.L$&&null!==q.xA)n=d("toDynamicValue",q.ce,function(){return q.xA(c.IB);});else if(q.type===h.Vg.EU&&null!==q.Yj)n=d("toFactory",q.ce,function(){return q.Yj(c.IB);});else if(q.type===h.Vg.Bda&&null!==q.pj)n=d("toProvider",q.ce,function(){return q.pj(c.IB);});else if(q.type===h.Vg.oV&&null!==q.Bi)n=m.Seb(q.Bi,g,b(a));else throw g=l.UA(c.ce),Error(k.gDa+" "+g);"function"===typeof q.Mo&&(n=q.Mo(c.IB,n));f&&(q.cache=n,q.bZ=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function d(a,b,c){try{return c();}catch(B){if(g.upa(B))throw Error(k.iza(a,b.toString()));throw B;}}Object.defineProperty(c,"__esModule",{value:!0});k=a(54);h=a(77);g=a(450);l=a(138);m=a(965);c.resolve=function(a){return b(a.KB.f7.Jeb)(a.KB.f7);};},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(101);f=function(){function a(a,c,d,f,l){this.id=b.id();this.ce=a;this.IB=c;this.dr=d;this.target=l;this.r_=[];this.jF=Array.isArray(f)?f:[f];this.Jeb=null===d?new Map():null;}a.prototype.pia=function(b,c,d){b=new a(b,this.IB,this,c,d);this.r_.push(b);return b;};return a;}();c.Request=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});f=function(){function a(a){this.tu=a;}a.prototype.startsWith=function(a){return 0===this.tu.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.tu.split("").reverse().join("");return this.startsWith.call({tu:a},b);};a.prototype.contains=function(a){return-1!==this.tu.indexOf(a);};a.prototype.equals=function(a){return this.tu===a;};a.prototype.value=function(){return this.tu;};return a;}();c.BIa=f;},function(f,c,a){var g,l,m,q,t,v;function b(a,b,c,f){var k,n,t,u,w,y,z,A,B,D;k=a.jna(c);n=k.ika;if(void 0===n)throw Error(l.pEa+" "+b+".");for(var k=k.vkb,p=Object.keys(k),q=0===c.length&&0<p.length?p.length:c.length,p=[],r=0;r<q;r++){u=r;w=f;y=b;z=n;t=k[u.toString()]||[];A=h(t);B=!0!==A.sg;z=z[u];D=A.j||A.ix;z=D?D:z;z instanceof g.sV&&(z=z.Xjb());if(B){B=z===Function;B=z===Object||B||void 0===z;if(!w&&B)throw Error(l.qEa+" argument "+u+" in class "+y+".");u=new v.pL(m.Ep.f$,A.sJ,z);u.Nb=t;t=u;}else t=null;null!==t&&p.push(t);}a=d(a,c);return p.concat(a);}function d(a,b){var l,n,p;for(var c=a.b4a(b),f=[],g=0,k=Object.keys(c);g<k.length;g++){l=k[g];n=c[l];p=h(c[l]);l=new v.pL(m.Ep.a$,p.sJ||l,p.j||p.ix);l.Nb=n;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=d(a,b),f=f.concat(a));return f;}function k(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=t.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.Nb.filter(function(a){return a.key===q.aE;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:k(a,c);}return 0;}function h(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{j:b[q.pD],ix:b[q.Vu],sJ:b[q.RK],sg:b[q.aE]};}Object.defineProperty(c,"__esModule",{value:!0});g=a(449);l=a(54);m=a(77);q=a(36);t=a(138);c.getFunctionName=t.getFunctionName;v=a(448);c.O2a=function(a,c){var d;d=t.getFunctionName(c);return b(a,d,c,!1);};c.k2a=k;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.OHa=function(){return function(a,b){this.IB=a;this.f7=b;};}();},function(f,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(101);f=function(){function a(a){this.id=b.id();this.uc=a;}a.prototype.cRa=function(a){this.KB=a;};return a;}();c.g$=f;},function(f,c){Object.defineProperty(c,"__esModule",{value:!0});c.VT={qpb:2,pca:0,WFa:1};},function(f,c,a){var g,l,m,q,t,v,A,z,y,w,x,C;function b(a,b,c,f,k){var l,m;l=h(c.uc,k.ce);m=[];l.length===g.VT.pca&&c.uc.options.hF&&"function"===typeof k.ce&&a.jna(k.ce).ika&&(c.uc.bind(k.ce).Bwa(),l=h(c.uc,k.ce));m=b?l:l.filter(function(a){var b;b=new x.Request(a.ce,c,f,a,k);return a.lw(b);});d(k.ce,m,k,c.uc);return m;}function d(a,b,c,d){switch(b.length){case g.VT.pca:if(c.lpa())break;a=v.UA(a);b=l.rFa;b+=v.v7a(a,c);b+=v.Ypa(d,a,h);throw Error(b);case g.VT.WFa:if(!c.isArray())break;default:if(!c.isArray())throw a=v.UA(a),b=l.Lxa+" "+a,b+=v.Ypa(d,a,h),Error(b);}}function k(a,c,d,f,g,h){var n;null===g?(c=b(a,c,f,null,h),n=new x.Request(d,f,null,c,h),d=new y.OHa(f,n),f.cRa(d)):(c=b(a,c,f,g,h),n=g.pia(h.ce,c,h));c.forEach(function(b){var c,d,g;c=null;if(h.isArray())c=n.pia(b.ce,b,h);else{if(b.cache)return;c=n;}if(b.type===m.Vg.oV&&null!==b.Bi){d=w.O2a(a,b.Bi);if(!f.uc.options.ru){g=w.k2a(a,b.Bi);if(d.length<g)throw b=l.Qxa(w.getFunctionName(b.Bi)),Error(b);}d.forEach(function(b){k(a,!1,b.ce,f,c,b);});}});}function h(a,b){var c,d;c=[];d=a.bz;d.ioa(b)?c=d.get(b):null!==a.parent&&(c=h(a.parent,b));return c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(972);l=a(54);m=a(77);q=a(36);t=a(450);v=a(138);A=a(971);z=a(65);y=a(970);w=a(969);x=a(967);C=a(448);c.V1=function(a){return a.bz;};c.KB=function(a,b,c,d,f,g,h,l){void 0===l&&(l=!1);b=new A.g$(b);c=new z.Metadata(c?q.Vu:q.pD,f);d=new C.pL(d,"",f,c);void 0!==g&&(g=new z.Metadata(g,h),d.Nb.push(g));try{return k(a,l,f,b,null,d),b;}catch(X){throw t.upa(X)&&b.KB&&v.tUa(b.KB.f7),X;}};c.wub=function(a,b,c,d){c=new C.pL(m.Ep.PW,"",b,new z.Metadata(c,d));a=new A.g$(a);return new x.Request(b,a,null,[],c);};},function(f,c,a){var b,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(77);d=a(101);f=function(){function a(a,c){this.id=d.id();this.bZ=!1;this.ce=a;this.scope=c;this.type=b.Vg.ADa;this.lw=function(){return!0;};this.xA=this.Mo=this.pj=this.Yj=this.cache=this.Bi=null;}a.prototype.clone=function(){var b;b=new a(this.ce,this.scope);b.bZ=!1;b.Bi=this.Bi;b.xA=this.xA;b.scope=this.scope;b.type=this.type;b.Yj=this.Yj;b.pj=this.pj;b.lw=this.lw;b.Mo=this.Mo;b.cache=this.cache;return b;};return a;}();c.Qya=f;},function(f,c,a){var b,d,k,h,g,l,m,q,t,v,A,z;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(U){g(U);}}function k(a){try{l(d["throw"](a));}catch(U){g(U);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};d=this&&this.xsb||function(a,b){var f,g,h,k,l;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,h&&(k=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[0,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;h=c[1];c=[0];continue;case 7:c=f.ux.pop();f.hy.pop();continue;default:if(!(k=f.hy,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))f.label=c[1];else if(6===c[0]&&f.label<k[1])f.label=k[1],k=c;else if(k&&f.label<k[2])f.label=k[2],f.ux.push(c);else{k[2]&&f.ux.pop();f.hy.pop();continue;}}c=b.call(a,f);}catch(U){c=[6,U];h=0;}finally{g=k=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,dva:function(){if(k[0]&1)throw k[1];return k[1];},hy:[],ux:[]};Ia();Ia();Wa();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;};Object.defineProperty(c,"__esModule",{value:!0});k=a(974);h=a(54);g=a(77);a(36);l=a(451);m=a(973);q=a(966);t=a(964);v=a(101);A=a(138);a(961);z=a(960);f=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+h.wza);if(void 0===a.rw)a.rw=g.fm.qL;else if(a.rw!==g.fm.AW&&a.rw!==g.fm.qL&&a.rw!==g.fm.Request)throw Error(""+h.uza);if(void 0===a.hF)a.hF=!1;else if("boolean"!==typeof a.hF)throw Error(""+h.tza);if(void 0===a.ru)a.ru=!1;else if("boolean"!==typeof a.ru)throw Error(""+h.vza);this.options={hF:a.hF,rw:a.rw,ru:a.ru};this.id=v.id();this.bz=new z.dEa();this.KPa=[];this.parent=this.YX=null;this.pNa=new l.GV();}a.R4=function(b,c){var f,g;function d(a,b){a.Cjb(function(a,c){c.forEach(function(a){b.add(a.ce,a.clone());});});}f=new a();g=m.V1(f);b=m.V1(b);c=m.V1(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.jga(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.F6(f.fja,f.Swa,f.Bpa,f.Jta);}};a.prototype.pH=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,f,g,h;return d(this,function(d){switch(d.label){case 0:b=this.jga(),c=0,f=a,d.label=1;case 1:if(!(c<f.length))return[3,4];g=f[c];h=b(g.id);return[4,g.F6(h.fja,h.Swa,h.Bpa,h.Jta)];case 2:d.dva(),d.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new k.Qya(a,this.options.rw||g.fm.qL);this.bz.add(a,b);return new t.Sya(b);};a.prototype.Hdb=function(a){this.Rwa(a);return this.bind(a);};a.prototype.Rwa=function(a){try{this.bz.remove(a);}catch(x){throw Error(h.eza+" "+A.UA(a));}};a.prototype.epa=function(a){var b;b=this.bz.ioa(a);!b&&this.parent&&(b=this.parent.epa(a));return b;};a.prototype.restore=function(){var a;a=this.KPa.pop();if(void 0===a)throw Error(h.sFa);this.bz=a.jF;this.YX=a.H9a;};a.prototype.VWa=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.hga(!1,!1,g.Ep.PW,a);};a.prototype.getAll=function(a){return this.hga(!0,!0,g.Ep.PW,a);};a.prototype.resolve=function(a){var b;b=this.VWa();b.bind(a).Bwa();return b.get(a);};a.prototype.jga=function(){var f;function a(a){return function(b){b=f.Hdb.bind(f)(b);b.ob.Z9a=a;return b;};}function b(){return function(a){return f.epa.bind(f)(a);};}function c(){return function(a){f.Rwa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.ob.Z9a=a;return b;};}f=this;return function(f){return{fja:d(f),Bpa:b(),Jta:a(f),Swa:c()};};};a.prototype.hga=function(a,b,c,d){var f;f=null;a={ESa:a,bVa:function(a){return a;},J6a:b,key:void 0,ce:d,Eib:c,value:void 0};if(this.YX){if(f=this.YX(a),void 0===f||null===f)throw Error(h.jDa);}else f=this.KOa()(a);return f;};a.prototype.KOa=function(){var a;a=this;return function(b){var c;c=m.KB(a.pNa,a,b.J6a,b.Eib,b.ce,b.key,b.value,b.ESa);c=b.bVa(c);return q.resolve(c);};};return a;}();c.ZC=f;},function(f,c,a){(function(a){var b;(function(b){var Y,X,N,G,Z,V,aa,ba,da;function c(a,b,c){var d;d=da.get(a);if(!d){if(!c)return;d=new aa();da.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new aa();d.set(b,a);}return a;}function d(a,b,c){if(f(a,b,c))return!0;b=x(b);return null!==b?d(a,b,c):!1;}function f(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function k(a,b,c){if(f(a,b,c))return l(a,b,c);b=x(b);return null!==b?k(a,b,c):void 0;}function l(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function m(a,b){var c,f;c=q(a,b);a=x(a);if(null===a)return c;b=m(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ba();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return P(a);}function q(a,b){var d;a=c(a,b,!1);d=[];a&&D(a,function(a,b){return d.push(b);});return d;}function A(a){return void 0===a;}function z(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function y(a){return"object"===typeof a?null!==a:"function"===typeof a;}function w(a){return"symbol"===typeof a?a:String(a);}function x(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===V||b!==V)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function C(a){a=a.next();return a.done?void 0:a;}function D(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=C(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function P(a){var b;b=[];D(a,function(a,c){b.push(c);});return b;}function M(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function S(){var a;a={};return function(){function b(){this.pm=[];this.Mj=[];this.ML=a;this.LL=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.pm.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.eM(a,!1);};b.prototype.get=function(a){a=this.eM(a,!1);return 0<=a?this.Mj[a]:void 0;};b.prototype.set=function(a,b){a=this.eM(a,!0);this.Mj[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.eM(b,!1);if(0<=c){b=this.pm.length;for(c+=1;c<b;c++)this.pm[c-1]=this.pm[c],this.Mj[c-1]=this.Mj[c];this.pm.length--;this.Mj.length--;this.ML=a;this.LL=-2;return!0;}return!1;};b.prototype.clear=function(){this.pm.length=0;this.Mj.length=0;this.ML=a;this.LL=-2;};b.prototype.keys=function(){return M(this.pm,void 0,"key");};b.prototype.values=function(){return M(void 0,this.Mj,"value");};b.prototype.entries=function(){return M(this.pm,this.Mj,"key+value");};b.prototype.eM=function(a,b){var c;if(this.ML===a)return this.LL;c=this.pm.indexOf(a);0>c&&b&&(c=this.pm.length,this.pm.push(a),this.Mj.push(void 0));return this.ML=a,this.LL=c;};return b;}();}function O(){return function(){function a(){this.Hh=new aa();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Hh.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Hh.has(a);};a.prototype.add=function(a){return this.Hh.set(a,a),this;};a.prototype["delete"]=function(a){return this.Hh["delete"](a);};a.prototype.clear=function(){this.Hh.clear();};a.prototype.keys=function(){return this.Hh.keys();};a.prototype.values=function(){return this.Hh.values();};a.prototype.entries=function(){return this.Hh.entries();};return a;}();}function W(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(Z.has(d,b));d[b]=!0;return b;}function c(a,b){if(!Y.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:G()});}return a[f];}d=G();f=b();return function(){function a(){this.xv=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?Z.has(a,this.xv):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?Z.get(a,this.xv):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.xv]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.xv]:!1;};a.prototype.clear=function(){this.xv=b();};return a;}();}function U(a){a.vsb=1;delete a.wsb;return a;}Y=Object.prototype.hasOwnProperty;X="function"===typeof Object.create;N=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();G=X?function(){return U(Object.create(null));}:N?function(){return U({__proto__:null});}:function(){return U({});};(function(a){var b;b=!X&&!N;a.has=b?function(a,b){return Y.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return Y.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(Z||(Z={})));V=Object.getPrototypeOf(Function);aa="function"===typeof Map?Map:S();ba="function"===typeof Set?Set:O();da=new("function"===typeof WeakMap?WeakMap:(W()))();b.st=function(a,b,c,d){var g;if(A(d)){if(A(c)){if(!z(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!A(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!z(a))throw new TypeError();if(!y(b))throw new TypeError();c=w(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!z(a))throw new TypeError();if(!y(b))throw new TypeError();if(A(c))throw new TypeError();if(!y(d))throw new TypeError();c=w(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!A(g)){if(!y(g))throw new TypeError();d=g;}}return d;}};b.Nb=function(a,b){return function(d,f){if(A(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!y(d))throw new TypeError();f=w(f);c(d,f,!0).set(a,b);}};};b.C0=function(a,b,d){var f;if(!y(d))throw new TypeError();A(f)||(f=w(f));c(d,f,!0).set(a,b);};b.s5a=function(a,b){var c;if(!y(b))throw new TypeError();A(c)||(c=w(c));return d(a,b,c);};b.H2=function(a,b){var c;if(!y(b))throw new TypeError();A(c)||(c=w(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!y(b))throw new TypeError();A(c)||(c=w(c));return k(a,b,c);};b.nwb=function(a,b,c){if(!y(b))throw new TypeError();A(c)||(c=w(c));return l(a,b,c);};b.kwb=function(a,b){if(!y(a))throw new TypeError();A(b)||(b=w(b));return m(a,b);};b.owb=function(a,b){if(!y(a))throw new TypeError();A(b)||(b=w(b));return q(a,b);};b.Yub=function(a,b,d){var f;if(!y(b))throw new TypeError();A(d)||(d=w(d));f=c(b,d,!1);if(A(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=da.get(b);a["delete"](d);if(0<a.size)return!0;da["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)Y.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof t?t:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(169)));},function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(976);t._cad_global={};t.DEBUG=!1;a(5);a(6);a(15);a(18);a(32);a(27);a(78);a(285);a(364);a(25);a(17);a(9);a(90);a(51);a(55);a(500);a(284);a(283);a(106);a(499);a(151);a(47);a(19);a(498);a(497);a(182);a(496);a(282);a(495);a(207);a(362);a(281);a(280);a(279);a(278);a(277);a(276);a(181);a(275);a(274);a(273);a(271);a(121);a(142);a(494);a(493);a(4);a(270);a(492);a(89);a(26);a(269);a(127);a(361);a(360);a(149);a(491);a(180);a(336);a(268);a(490);a(102);a(141);a(489);a(486);a(266);a(178);a(94);a(120);a(177);a(264);a(176);a(252);a(258);a(139);a(251);a(146);a(140);a(260);a(119);a(263);a(478);a(261);a(88);a(477);a(476);a(475);a(474);a(473);a(249);a(253);a(16);a(247);a(472);a(250);a(255);a(257);a(358);a(471);a(262);a(254);a(256);a(206);a(470);a(248);a(179);a(469);a(468);a(267);a(359);a(172);a(246);a(118);a(467);a(466);a(465);a(464);a(463);a(456);a(453);a(80);a(174);},function(f,c,a){f.K=a(977);}]));}(window));
