"use strict";const selectHighestBitrate=document.getElementById("bestQuality"),status=document.getElementById("status"),defaultKeys={selectHighestBitrate:!0};function init(){document.addEventListener("DOMContentLoaded",restoreSavedOptions,!1);const t=document.querySelectorAll("form input[type='text']");for(let e=0;e<t.length;e++)t[e].addEventListener("keyup",checkInputLength,!1);document.querySelector("form").addEventListener("submit",saveOptions,!1),document.getElementById("reset").addEventListener("click",resetOptions,!1)}function checkInputLength(){this.value.length>1&&(this.value=this.value[0])}function saveOptions(t,e="saved"){chrome.storage.sync.set({selectHighestBitrate:selectHighestBitrate.checked},()=>{setStatus("Options "+e+".")}),void 0!==t&&t.preventDefault()}function restoreSavedOptions(){chrome.storage.sync.get(defaultKeys,function(t){selectHighestBitrate.checked=t.selectHighestBitrate})}function resetOptions(){confirm("Are you sure you want to reset the settings? This can not be undone.")&&(selectHighestBitrate.checked=defaultKeys.selectHighestBitrate,saveOptions(void 0,"reset"))}function setStatus(t){status.textContent=t,setTimeout(()=>status.textContent="",2e3)}init();
