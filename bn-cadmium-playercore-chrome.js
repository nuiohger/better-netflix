F977.l1w=function (){return typeof F977.z1w.A68==='function'?F977.z1w.A68.apply(F977.z1w,arguments):F977.z1w.A68;};F977.M3u=function(J3u){return{N68:function(){var v3u,A3u=arguments;switch(J3u){case 1:v3u=A3u[1]>A3u[0];break;case 2:v3u=A3u[1]>=A3u[0];break;case 0:v3u=A3u[0]+A3u[1];break;case 3:v3u=A3u[0]<=A3u[1];break;}return v3u;},A68:function(p3u){J3u=p3u;}};}();F977.O1C=function (){return typeof F977.h1C.N68==='function'?F977.h1C.N68.apply(F977.h1C,arguments):F977.h1C.N68;};F977.e2u=function (){return typeof F977.n2u.N68==='function'?F977.n2u.N68.apply(F977.n2u,arguments):F977.n2u.N68;};F977.t7b=function (){return typeof F977.q7b.N68==='function'?F977.q7b.N68.apply(F977.q7b,arguments):F977.q7b.N68;};F977.K3u=function (){return typeof F977.M3u.A68==='function'?F977.M3u.A68.apply(F977.M3u,arguments):F977.M3u.A68;};F977.A7b=function (){return typeof F977.q7b.N68==='function'?F977.q7b.N68.apply(F977.q7b,arguments):F977.q7b.N68;};F977.y0t=function (){return typeof F977.H0t.N68==='function'?F977.H0t.N68.apply(F977.H0t,arguments):F977.H0t.N68;};F977.u68=function (){return typeof F977.V68.A68==='function'?F977.V68.A68.apply(F977.V68,arguments):F977.V68.A68;};F977.s8E=function (){return typeof F977.L8E.N68==='function'?F977.L8E.N68.apply(F977.L8E,arguments):F977.L8E.N68;};F977.c0g=function (){return typeof F977.H0g.A68==='function'?F977.H0g.A68.apply(F977.H0g,arguments):F977.H0g.A68;};F977.I68=function (){return typeof F977.V68.N68==='function'?F977.V68.N68.apply(F977.V68,arguments):F977.V68.N68;};F977.L68=function (){return typeof F977.V68.N68==='function'?F977.V68.N68.apply(F977.V68,arguments):F977.V68.N68;};F977.H0g=function(b0g){return{N68:function(){var n0g,x0g=arguments;switch(b0g){case 0:n0g=x0g[0]+x0g[1];break;case 1:n0g=x0g[0]-x0g[2]+x0g[1];break;}return n0g;},A68:function(A0g){b0g=A0g;}};}();F977.L2y=function (){return typeof F977.v2y.A68==='function'?F977.v2y.A68.apply(F977.v2y,arguments):F977.v2y.A68;};F977.u2y=function (){return typeof F977.v2y.N68==='function'?F977.v2y.N68.apply(F977.v2y,arguments):F977.v2y.N68;};F977.d0y=function (){return typeof F977.w0y.N68==='function'?F977.w0y.N68.apply(F977.w0y,arguments):F977.w0y.N68;};F977.h17=function (){return typeof F977.A17.A68==='function'?F977.A17.A68.apply(F977.A17,arguments):F977.A17.A68;};F977.E0y=function (){return typeof F977.w0y.N68==='function'?F977.w0y.N68.apply(F977.w0y,arguments):F977.w0y.N68;};F977.A17=function(W17){return{N68:function(){var T17,w17=arguments;switch(W17){case 0:T17=(w17[2]-w17[1])*-w17[0]/w17[3];break;}return T17;},A68:function(i17){W17=i17;}};}();F977.R0C=function (){return typeof F977.c3C.A68==='function'?F977.c3C.A68.apply(F977.c3C,arguments):F977.c3C.A68;};F977.A1C=function (){return typeof F977.h1C.N68==='function'?F977.h1C.N68.apply(F977.h1C,arguments):F977.h1C.N68;};F977.m8E=function (){return typeof F977.L8E.N68==='function'?F977.L8E.N68.apply(F977.L8E,arguments):F977.L8E.N68;};F977.Q0C=function (){return typeof F977.c3C.N68==='function'?F977.c3C.N68.apply(F977.c3C,arguments):F977.c3C.N68;};F977.u3u=function (){return typeof F977.M3u.A68==='function'?F977.M3u.A68.apply(F977.M3u,arguments):F977.M3u.A68;};F977.I0t=function (){return typeof F977.H0t.A68==='function'?F977.H0t.A68.apply(F977.H0t,arguments):F977.H0t.A68;};F977.d2u=function (){return typeof F977.n2u.A68==='function'?F977.n2u.A68.apply(F977.n2u,arguments):F977.n2u.A68;};F977.Q7b=function (){return typeof F977.q7b.A68==='function'?F977.q7b.A68.apply(F977.q7b,arguments):F977.q7b.A68;};F977.f17=function (){return typeof F977.A17.A68==='function'?F977.A17.A68.apply(F977.A17,arguments):F977.A17.A68;};F977.Z8E=function (){return typeof F977.L8E.A68==='function'?F977.L8E.A68.apply(F977.L8E,arguments):F977.L8E.A68;};F977.c3C=function(A3C){return{N68:function(){var X3C,p3C=arguments;switch(A3C){case 1:X3C=p3C[1]*-p3C[0]/p3C[3]/p3C[2];break;case 0:X3C=((p3C[3]+p3C[2])*p3C[4]-p3C[0])*p3C[1]/p3C[5];break;}return X3C;},A68:function(u3C){A3C=u3C;}};}();F977.F1w=function (){return typeof F977.z1w.N68==='function'?F977.z1w.N68.apply(F977.z1w,arguments):F977.z1w.N68;};F977.Y3C=function (){return typeof F977.h1C.A68==='function'?F977.h1C.A68.apply(F977.h1C,arguments):F977.h1C.A68;};function F977(){}F977.h1C=function(t1C){return{N68:function(){var N1C,R1C=arguments;switch(t1C){case 0:N1C=(R1C[2]-R1C[1])*R1C[0];break;}return N1C;},A68:function(p1C){t1C=p1C;}};}();F977.G0g=function (){return typeof F977.H0g.A68==='function'?F977.H0g.A68.apply(F977.H0g,arguments):F977.H0g.A68;};F977.a8E=function (){return typeof F977.L8E.A68==='function'?F977.L8E.A68.apply(F977.L8E,arguments):F977.L8E.A68;};F977.q7b=function(l7b){return{N68:function(){var k7b,y7b=arguments;switch(l7b){case 6:k7b=y7b[2]*y7b[0]-y7b[1];break;case 1:k7b=void y7b[1]!==y7b[0];break;case 4:k7b=y7b[2]-y7b[1]+y7b[0];break;case 5:k7b=y7b[0]/y7b[1];break;case 3:k7b=y7b[2]*y7b[0]/y7b[1];break;case 2:k7b=-y7b[1]!=y7b[0];break;case 7:k7b=(y7b[2]+y7b[3])*y7b[0]/-y7b[1];break;case 9:k7b=y7b[0]-y7b[1];break;case 8:k7b=y7b[0]-y7b[2]+-y7b[1]+-y7b[3];break;case 0:k7b=y7b[0]-y7b[1]+-y7b[2];break;}return k7b;},A68:function(j7b){l7b=j7b;}};}();F977.B0t=function (){return typeof F977.H0t.N68==='function'?F977.H0t.N68.apply(F977.H0t,arguments):F977.H0t.N68;};F977.Y0y=function (){return typeof F977.w0y.A68==='function'?F977.w0y.A68.apply(F977.w0y,arguments):F977.w0y.A68;};F977.q3C=function (){return typeof F977.h1C.A68==='function'?F977.h1C.A68.apply(F977.h1C,arguments):F977.h1C.A68;};F977.Q3u=function (){return typeof F977.M3u.N68==='function'?F977.M3u.N68.apply(F977.M3u,arguments):F977.M3u.N68;};F977.k38=function (){return typeof F977.G38.A68==='function'?F977.G38.A68.apply(F977.G38,arguments):F977.G38.A68;};F977.b7b=function (){return typeof F977.q7b.A68==='function'?F977.q7b.A68.apply(F977.q7b,arguments):F977.q7b.A68;};F977.b38=function (){return typeof F977.G38.N68==='function'?F977.G38.N68.apply(F977.G38,arguments):F977.G38.N68;};F977.L8E=function(Q8E){return{N68:function(){var P8E,p8E=arguments;switch(Q8E){case 0:P8E=p8E[1]*p8E[0];break;}return P8E;},A68:function(j8E){Q8E=j8E;}};}();F977.V68=function(F68){return{N68:function(){var q68,C68=arguments;switch(F68){case 7:q68=(C68[0]/C68[1]|C68[3])*C68[2];break;case 3:q68=C68[2]+C68[0]/C68[1]*C68[3];break;case 0:q68=C68[0]+C68[1];break;case 5:q68=C68[2]/C68[0]|C68[1];break;case 2:q68=C68[0]-C68[1];break;case 6:q68=C68[0]/C68[1];break;case 1:q68=C68[0]===C68[1];break;case 8:q68=C68[3]*C68[2]-C68[0]+C68[1];break;case 4:q68=C68[1]*C68[0]/C68[3]|C68[2];break;}return q68;},A68:function(W68){F68=W68;}};}();F977.R0t=function (){return typeof F977.H0t.A68==='function'?F977.H0t.A68.apply(F977.H0t,arguments):F977.H0t.A68;};F977.a2y=function (){return typeof F977.v2y.N68==='function'?F977.v2y.N68.apply(F977.v2y,arguments):F977.v2y.N68;};F977.S0g=function (){return typeof F977.H0g.N68==='function'?F977.H0g.N68.apply(F977.H0g,arguments):F977.H0g.N68;};F977.z1w=function(f1w){return{N68:function(){var M1w,R1w=arguments;switch(f1w){case 6:M1w=R1w[4]*R1w[3]-R1w[0]+R1w[2]+R1w[1];break;case 1:M1w=((-R1w[0]-R1w[3])*R1w[2]+R1w[4])/-R1w[1];break;case 2:M1w=R1w[3]+R1w[1]+R1w[2]+R1w[0];break;case 3:M1w=R1w[2]*R1w[0]/R1w[1];break;case 4:M1w=R1w[0]-R1w[1];break;case 5:M1w=R1w[0]/R1w[1];break;case 7:M1w=(-R1w[0]-R1w[3])*-R1w[2]/R1w[1];break;case 0:M1w=R1w[1]+R1w[0];break;}return M1w;},A68:function(h1w){f1w=h1w;}};}();F977.D2u=function (){return typeof F977.n2u.A68==='function'?F977.n2u.A68.apply(F977.n2u,arguments):F977.n2u.A68;};F977.Q1w=function (){return typeof F977.z1w.A68==='function'?F977.z1w.A68.apply(F977.z1w,arguments):F977.z1w.A68;};F977.G38=function(f38){return{N68:function(){var J38,l38=arguments;switch(f38){case 1:J38=l38[0]+l38[1];break;case 0:J38=l38[0]-l38[1];break;}return J38;},A68:function(M38){f38=M38;}};}();F977.Z0C=function (){return typeof F977.c3C.A68==='function'?F977.c3C.A68.apply(F977.c3C,arguments):F977.c3C.A68;};F977.m0g=function (){return typeof F977.H0g.N68==='function'?F977.H0g.N68.apply(F977.H0g,arguments):F977.H0g.N68;};F977.r0y=function (){return typeof F977.w0y.A68==='function'?F977.w0y.A68.apply(F977.w0y,arguments):F977.w0y.A68;};F977.a0C=function (){return typeof F977.c3C.N68==='function'?F977.c3C.N68.apply(F977.c3C,arguments):F977.c3C.N68;};F977.v2y=function(S2y){return{N68:function(){var Y2y,K2y=arguments;switch(S2y){case 2:Y2y=-(K2y[2]*K2y[1])-K2y[0]+K2y[3];break;case 1:Y2y=(K2y[2]*K2y[3]+K2y[1])/K2y[0];break;case 4:Y2y=K2y[2]/(K2y[1]+K2y[0]);break;case 3:Y2y=K2y[1]+K2y[2]/K2y[0];break;case 0:Y2y=(K2y[3]-K2y[0])/K2y[2]*K2y[1];break;}return Y2y;},A68:function(q2y){S2y=q2y;}};}();F977.g38=function (){return typeof F977.G38.A68==='function'?F977.G38.A68.apply(F977.G38,arguments):F977.G38.A68;};F977.H2y=function (){return typeof F977.v2y.A68==='function'?F977.v2y.A68.apply(F977.v2y,arguments):F977.v2y.A68;};F977.P38=function (){return typeof F977.G38.N68==='function'?F977.G38.N68.apply(F977.G38,arguments):F977.G38.N68;};F977.R17=function (){return typeof F977.A17.N68==='function'?F977.A17.N68.apply(F977.A17,arguments):F977.A17.N68;};F977.w0y=function(K0y){return{N68:function(){var X0y,i0y=arguments;switch(K0y){case 0:X0y=i0y[1]*i0y[0];break;}return X0y;},A68:function(D0y){K0y=D0y;}};}();F977.y2u=function (){return typeof F977.n2u.N68==='function'?F977.n2u.N68.apply(F977.n2u,arguments):F977.n2u.N68;};F977.H1w=function (){return typeof F977.z1w.N68==='function'?F977.z1w.N68.apply(F977.z1w,arguments):F977.z1w.N68;};F977.n2u=function(X2u){return{N68:function(){var p2u,Y2u=arguments;switch(X2u){case 0:p2u=Y2u[1]+Y2u[0];break;}return p2u;},A68:function(x2u){X2u=x2u;}};}();F977.x17=function (){return typeof F977.A17.N68==='function'?F977.A17.N68.apply(F977.A17,arguments):F977.A17.N68;};F977.t3u=function (){return typeof F977.M3u.N68==='function'?F977.M3u.N68.apply(F977.M3u,arguments):F977.M3u.N68;};F977.K68=function (){return typeof F977.V68.A68==='function'?F977.V68.A68.apply(F977.V68,arguments):F977.V68.A68;};F977.H0t=function(z0t){return{N68:function(){var e0t,T0t=arguments;switch(z0t){case 0:e0t=T0t[0]+T0t[1];break;}return e0t;},A68:function(U0t){z0t=U0t;}};}();(function(H,X){var vb,Db,Fa,wc,ka,na,ab,Kd,Ld,ya,sa,Lb,Md,xc,Nd,Od,$c,q,ca,ic,Pd,ad,B,U,ga,wb,hb,Ma,W,Ta,Ca,Nb,va,ra,xa,Ya,yc,ob,sb,tb,zc,bd,Qd,Fb,Gb,Ob,cd,Yb,ub,Ac,Kb,dd,Rd,Zb,ed,fd,gd,hd,pb,id,jd,kd,ac,zb,Ab,bc,Bc,Cc,Dc,bb,We,Da,Mb,Sd,Ec,mb,Td,Xe,qb,Ud,Vd,Fc,Wd,Ye,hc,Xd,Te,Ze,ld,Gc,$e,af,Ed,bf,Fd,Yd,lb,jc,Zd,kc,$d,rb,ae,md,be,nd,Hc,ce,df,Gd,Ic,Wc,de,cf,ee,od,fe,ge,he,pd,Jb,je,ie,ef,lc,ke,rd,mc,le,qd,me,ne,sd,pe,qe,Lc,Rb,cc,Sb,re,se,te,ue,ve,we,Mc,ff,xe,ye,ud,ze,gb,Pb,$b,Qb,Hb,Bb,Jc,cb,Eb,oe,nc,Tb,Ae,gf,oc,Be,hf,dc,Ce,Nc,vd,pc,wd,De,qc,Ee,Fe,Ge,jf,rc,He,kf,lf,Ie,td,Kc,Je,Se,Ke,mf,of,nf,ec,vc,pf,Dd,qf,Le,Xc,oa,Ve;function Qa(l,q){if(!q||"utf-8"===q)return Qc(l);throw Error("unsupported encoding");}function Ia(l,q){if(!q||"utf-8"===q)return Rc(l);throw Error("unsupported encoding");}function Qc(l){for(var q=0,m,Ja=l.length,B="";q<Ja;){m=l[q++];if(m&128)if(192===(m&224))m=((m&31)<<6)+(l[q++]&63);else if(224===(m&240))m=((m&15)<<12)+((l[q++]&63)<<6)+(l[q++]&63);else throw Error("unsupported character");B+=String.fromCharCode(m);}return B;}function Rc(l){var q,m,Ja,B,t;q=l.length;m=0;B=0;for(Ja=q;Ja--;)t=l.charCodeAt(Ja),128>t?m++:m=2048>t?m+2:m+3;m=new Uint8Array(m);for(Ja=0;Ja<q;Ja++)t=l.charCodeAt(Ja),128>t?m[B++]=t:(2048>t?m[B++]=192|t>>>6:(m[B++]=224|t>>>12,m[B++]=128|t>>>6&63),m[B++]=128|t&63);return m;}function Xa(l,m){if(l===m)return!0;if(!l||!m||l.length!=m.length)return!1;for(var q=0;q<l.length;++q)if(l[q]!=m[q])return!1;return!0;}function jb(l){var Ja;if(!(l&&l.constructor==Uint8Array||Array.isArray(l)))throw new TypeError("Cannot compute the hash code of "+l);for(var m=1,q=0;q<l.length;++q){Ja=l[q];if("number"!==typeof Ja)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+Ja);m=31*m+Ja&4294967295;}return m;}function yd(l,m){var H;if(l===m)return!0;if(!l||!m)return!1;m instanceof Array||(m=[m]);for(var q=0;q<m.length;++q){for(var Ja=m[q],t=!1,B=0;B<l.length;++B){H=l[B];if(Ja.equals&&"function"===typeof Ja.equals&&Ja.equals(H)||Ja==H){t=!0;break;}}if(!t)return!1;}return!0;}function zd(l,m){return yd(l,m)&&(l.length==m.length||yd(m,l));}function m(l,m,q){var Ja,t;q&&(Ja=q);if("object"!==typeof l||"function"!==typeof l.result||"function"!==typeof l.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{t=m.call(Ja,l);t!==X&&l.result(t);}catch(Sc){try{l.error(Sc);}catch(Ga){}}}function t(l,q,t){if("object"!==typeof l||"function"!==typeof l.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");m(l,q,t);}function l(l,m,q){1E5>l&&(l=1E5+l);Object.defineProperties(this,{internalCode:{value:l,writable:!1,configurable:!1},responseCode:{value:m,writable:!1,configurable:!1},message:{value:q,writable:!1,configurable:!1}});}function Tc(l){switch(l){case Da.PSK:case Da.MGK:return!0;default:return!1;}}function Ad(l){switch(l){case Da.PSK:case Da.MGK:case Da.X509:case Da.RSA:case Da.NPTICKET:case Da.ECC:return!0;default:return!1;}}function Pe(l){return l.toJSON();}function Bd(m,q){vc?q.result(vc):Promise.resolve().then(function(){return xa.getKeyByName(m);})["catch"](function(){return xa.generateKey({name:m},!1,["wrapKey","unwrapKey"]);}).then(function(l){vc=l;q.result(vc);})["catch"](function(m){q.error(new B(l.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Cd(l,m){var q,t,B;q=m.masterToken;t=m.userIdToken;B=m.serviceTokens;return{NccpMethod:l.method,UserId:l.userId,UT:t&&t.serialNumber,MT:q&&q.serialNumber+":"+q.sequenceNumber,STCount:B&&B.length};}function Qe(l){return l.uniqueKey();}function Re(t,H,Xb,Wa,uc){var za;function Ja(l,J){l.errorCode===q.ENTITY_REAUTH||l.errorCode===q.ENTITYDATA_REAUTH?(Wa.clearCryptoContexts(),Ra()):l.errorCode!==q.USER_REAUTH&&l.errorCode!==q.USERDATA_REAUTH||Ga(J);}function Ga(l){if(l=Wa.getUserIdToken(l))Wa.removeUserIdToken(l),Ra();}function V(l,J,N){var E;E=[];(function T(){l.read(-1,J,{result:function(l){m(N,function(){var C,I,L,N,J;if(l)E.push(l),T();else switch(E.length){case 0:return new Uint8Array(0);case 1:return E[0];default:N=E.length,J=0;for(I=C=0;I<N;I++)C+=E[I].length;C=new Uint8Array(C);for(I=0;I<N;I++)L=E[I],C.set(L,J),J+=L.length;return C;}});},timeout:function(){N.timeout();},error:function(l){N.error(l);}});}());}function Ra(){Wa.getStoreState({result:function(l){for(var J=za.slice(),N=0;N<J.length;N++)J[N]({storeState:l});},timeout:function(){t.error("Timeout getting store state",""+e);},error:function(l){t.error("Error getting store state",""+l);}});}za=[];this.addEventHandler=function(l,J){switch(l){case"shouldpersist":za.push(J);}};this.send=function(m){return new Promise(function(J,N){var E,M,T;E=m.timeout;M=new Dd(t,Xb,m,Wa.getKeyRequestData());T=new Ed(m.url);t.trace("Sending MSL request");H.request(Xb,M,T,E,{result:function(M){var C;M&&M.getMessageHeader();t.trace("Received MSL response",{Method:m.method});if(M){m.allowTokenRefresh&&Ra();C=M.getErrorHeader();C?(Ja(C,m.userId),N({success:!1,error:C})):V(M,E,{result:function(l){J({success:!0,body:Qa(l)});},timeout:function(){N({success:!1,subCode:uc.MSL_READ_TIMEOUT});},error:function(l){N({success:!1,error:l});}});}else N({success:!1,error:new B(l.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){N({success:!1,subCode:uc.MSL_REQUEST_TIMEOUT});},error:function(l){N({success:!1,error:l});}});});};this.hasUserIdToken=function(l){return!!Wa.getUserIdToken(l);};this.getUserIdTokenKeys=function(){return Wa.getUserIdTokenKeys();};this.removeUserIdToken=Ga;this.clearUserIdTokens=function(){Wa.clearUserIdTokens();Ra();};this.isErrorReauth=function(l){return l&&l.errorCode==q.USERDATA_REAUTH;};this.isErrorHeader=function(l){return l instanceof Jb;};this.getErrorCode=function(l){return l&&l.errorCode;};this.getStateForMdx=function(l){var J,N;J=Wa.getMasterToken();l=Wa.getUserIdToken(l);N=Wa.getCryptoContext(J);return{masterToken:J,userIdToken:l,cryptoContext:N};};this.buildPlayDataRequest=function(l,J){var N;N=new Fd();H.request(Xb,new Dd(t,Xb,l),N,l.timeout,{result:function(){J.result(N.getRequest());},error:function(){J.result(N.getRequest());},timeout:function(){J.timeout();}});};this.rekeyUserIdToken=function(l,J){Wa.rekeyUserIdToken(l,J);Ra();};this.getServiceTokens=function(){return Wa.getServiceTokens(Wa.getMasterToken());};this.removeServiceToken=function(l){var J;J=Wa.getMasterToken();Wa.getServiceTokens(J).find(function(N){return N.name===l;})&&(Wa.removeServiceTokens(l,J),Ra());};}function Uc(m,q,t,Wa,H,U){function Ja(q){var V;return Promise.resolve().then(function(){V=m.authenticationKeyNames[q];if(!V)throw new B(l.KEY_IMPORT_ERROR,"Invalid config keyName "+q);return xa.getKeyByName(V);}).then(function(m){return new Promise(function(q,J){Yb(m,{result:q,error:function(){J(new B(l.KEY_IMPORT_ERROR,"Unable to create "+V+" CipherKey"));}});});})["catch"](function(m){throw new B(l.KEY_IMPORT_ERROR,"Unable to import "+V,m);});}return Promise.resolve().then(function(){if(!xa.getKeyByName)throw new B(l.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ja("e"),Ja("h"),Ja("w")]);}).then(function(l){var V,za,Aa;V={};V[q]=new t(m.esn,l[0],l[1],l[2]);l=new Wa(m.esn);za=new Se();za=[new H(za)];Aa=new U(q);return{entityAuthFactories:V,entityAuthData:l,keyExchangeFactories:za,keyRequestData:Aa};});}function Vc(m,q,t){var gc;function H(){return Promise.resolve().then(function(){return xa.generateKey(q,!1,["wrapKey","unwrapKey"]);}).then(function(l){return Ja(l.publicKey,l.privateKey);});}function Ja(m,q){return Promise.all([new Promise(function(q,V){Kb(m,{result:q,error:function(m){V(new B(l.INTERNAL_EXCEPTION,"Unable to create keyx public key",m));}});}),new Promise(function(m,V){Zb(q,{result:m,error:function(m){V(new B(l.INTERNAL_EXCEPTION,"Unable to create keyx private key",m));}});})]).then(function(l){l=new Wc("rsaKeypairId",t,l[0],l[1]);gc&&(l.storeData={keyxPublicKey:m,keyxPrivateKey:q});return l;});}gc=!m.systemKeyWrapFormat;return Promise.resolve().then(function(){var l,q;l=m.storeState;q=l&&l.keyxPublicKey;l=l&&l.keyxPrivateKey;return gc&&q&&l?Ja(q,l):H();}).then(function(l){var q,Ra,za;q={};q[Da.NONE]=new Te();Ra=new hc(m.esn);za=[new Gd()];return{entityAuthFactories:q,entityAuthData:Ra,keyExchangeFactories:za,keyRequestData:l,createKeyRequestData:gc?H:X};});}function Ka(){Ka=function(){};oa.Symbol||(oa.Symbol=Ue);}function Ue(l){return"jscomp_symbol_"+(l||"")+Ve++;}function Oa(){var l;Ka();l=oa.Symbol.iterator;l||(l=oa.Symbol.iterator=oa.Symbol("iterator"));"function"!=typeof Array.prototype[l]&&Xc(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return Hd(this);}});Oa=function(){};}function Hd(l){var m;m=0;return Id(function(){return m<l.length?{done:!1,value:l[m++]}:{done:!0};});}function Id(l){Oa();l={next:l};l[oa.Symbol.iterator]=function(){return this;};return l;}function Ba(l){var m;Oa();Ka();Oa();m=l[Symbol.iterator];return m?m.call(l):Hd(l);}function ja(l,m){var B;function q(){}q.prototype=m.prototype;l.prototype=new q();l.prototype.constructor=l;for(var t in m)if(Object.defineProperties){B=Object.getOwnPropertyDescriptor(m,t);B&&Object.defineProperty(l,t,B);}else l[t]=m[t];}function kb(l){if(!(l instanceof Array)){l=Ba(l);for(var m,q=[];!(m=l.next()).done;)q.push(m.value);l=q;}return l;}function Ua(l,m){var q,B;if(m){q=oa;l=l.split(".");for(var t=0;t<l.length-1;t++){B=l[t];B in q||(q[B]={});q=q[B];}l=l[l.length-1];t=q[l];m=m(t);m!=t&&null!=m&&Xc(q,l,{configurable:!0,writable:!0,value:m});}}function eb(l,m){return Object.prototype.hasOwnProperty.call(l,m);}function Yc(l,m){var q,t;Oa();l instanceof String&&(l+="");q=0;t={next:function(){var B;if(q<l.length){B=q++;return{value:m(B,l[B]),done:!1};}t.next=function(){return{done:!0,value:void 0};};return t.next();}};t[Symbol.iterator]=function(){return t;};return t;}function Jd(l,m,q){var H;l instanceof String&&(l=String(l));for(var t=l.length,B=0;B<t;B++){H=l[B];if(m.call(q,H,B,l))return{Vh:B,gU:H};}return{Vh:-1,gU:void 0};}function Zc(l,m,q){if(null==l)throw new TypeError("The 'this' value for String.prototype."+q+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+q+" must not be a regular expression");return l+"";}Db=H.nfCrypto||H.msCrypto||H.webkitCrypto||H.crypto;Fa=Db&&(Db.webkitSubtle||Db.subtle);wc=H.nfCryptokeys||H.msCryptokeys||H.webkitCryptokeys||H.cryptokeys;(function(l){var m,q;m=function(){function l(l,q){l instanceof m?(this.abv=l.abv,this.position=l.position):(this.abv=l,this.position=q||0);}l.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(l){this.abv[this.position++]=l;},peekByte:function(l){return this.abv[l];},copyBytes:function(l,m,q){var V;V=new Uint8Array(this.abv.buffer,this.position,q);l=new Uint8Array(l.buffer,m,q);V.set(l);this.position+=q;},seek:function(l){this.position=l;},skip:function(l){this.position+=l;},getPosition:function(){return this.position;},setPosition:function(l){this.position=l;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return l;}();q={};(function(){var L,C,I,La,qa,Ea,ua,f,d;function l(a,b){var c;b.writeByte(a.tagClass<<6|a.constructed<<5|a.tag);c=a.payloadLen;if(128>c)b.writeByte(c);else{for(var d=c,h=0;d;)++h,d>>=8;b.writeByte(128|h);for(d=0;d<h;++d)b.writeByte(c>>8*(h-d-1)&255);}if(a.child)for(a.tag==L.BIT_STRING&&b.writeByte(0),c=a._child;c;){if(!l(c,b))return!1;c=c.next;}else switch(a.tag){case L.INTEGER:a.backingStore[a.dataIdx]>>7&&b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.BIT_STRING:b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OCTET_STRING:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OBJECT_IDENTIFIER:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);}return!0;}function t(a){var b,c;b=a.readByte();c=b&127;if(c==b)return c;if(3<c||0===c)return-1;for(var d=b=0;d<c;++d)b=b<<8|a.readByte();return b;}function B(a,b,c){var d,h,g,n,p,r,u;d=a.backingStore;h=new m(d,b);b+=c;c=a;if(8<qa++)return X;for(;h.getPosition()<b;){h.getPosition();p=h.readByte();if(31==(p&31)){for(n=0;p&128;)n<<=8,n|=p&127;p=n;}g=p;n=g&31;if(0>n||30<n)return X;p=t(h);if(0>p||p>h.getRemaining())return X;c.constructed=g&32;c.tagClass=(g&192)>>6;c.tag=n;c.dataLen=p;c.dataIdx=h.getPosition();n=h;r=g;g=p;if(r&32)n=!0;else if(r<L.BIT_STRING||r>L.OCTET_STRING)n=!1;else{u=new m(n);r==L.BIT_STRING&&u.skip(1);u.readByte()>>6&1?n=!1:(r=t(u),n=u.getPosition()-n.getPosition()+r==g);}n&&(n=h.getPosition(),g=p,c.tag==L.BIT_STRING&&(c.dataIdx++,c.dataLen--,n++,g--),c.child=new C(d,c),B(c.child,n,g));c.tag==L.INTEGER&&(n=h.getPosition(),0==h.peekByte(n)&&h.peekByte(n+1)>>7&&(c.dataIdx++,c.dataLen--));h.skip(p);h.getPosition()<b&&(c.next=new C(d,c.parent),c=c.next);}qa--;return a;}function H(a,b,c){if(9!=c)return!1;for(c=0;9>c;++c)if(a[b++]!=Ea[c])return!1;return!0;}function V(a){var b;if(!(a&&a.child&&a.child.next&&a.child.child&&a.child.next.child))return!1;b=a.child.child;return H(b.backingStore,b.dataIdx,b.dataLen)&&2==a.nChildren&&2==a.child.nChildren&&2==a.child.next.child.nChildren?!0:!1;}function Ra(a){var b;if(!(a&&a.child&&a.child.next&&a.child.next.child&&a.child.next.next&&a.child.next.next.child))return!1;b=a.child.next.child;return H(b.backingStore,b.dataIdx,b.dataLen)&&3==a.nChildren&&2==a.child.next.nChildren&&9==a.child.next.next.child.nChildren?!0:!1;}function za(a){var b,c;b=I.createSequenceNode();c=new La(b);c.addChild(I.createSequenceNode());c.addChild(I.createOidNode(Ea));c.addSibling(I.createNullNode());c.addToParent(b,I.createBitStringNode(null));c.addChild(I.createSequenceNode());c.addChild(I.createIntegerNode(a.n));c.addSibling(I.createIntegerNode(a.e));return b;}function Aa(a){var b;a=a.child.next.child.child;b=a.data;a=a.next;return new ua(b,a.data,null,null);}function J(a){var b,c;b=I.createSequenceNode();c=new La(b);c.addChild(I.createIntegerNode(new Uint8Array([0])));c.addSibling(I.createSequenceNode());c.addChild(I.createOidNode(Ea));c.addSibling(I.createNullNode());c.addToParent(b,I.createOctetStringNode(null));c.addChild(I.createSequenceNode());c.addChild(I.createIntegerNode(new Uint8Array([0])));c.addSibling(I.createIntegerNode(a.n));c.addSibling(I.createIntegerNode(a.e));c.addSibling(I.createIntegerNode(a.d));c.addSibling(I.createIntegerNode(a.p));c.addSibling(I.createIntegerNode(a.q));c.addSibling(I.createIntegerNode(a.dp));c.addSibling(I.createIntegerNode(a.dq));c.addSibling(I.createIntegerNode(a.qi));return b;}function N(a){var b;b=[];a=a.child.next.next.child.child.next;for(var c=0;8>c;c++)b.push(a.data),a=a.next;return new f(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);}function E(a,b,c,k){if(!(a instanceof ua||a instanceof f))return X;if(c)for(var h=0;h<c.length;++h)if(-1==d.indexOf(c[h]))return X;b={kty:"RSA",alg:b,key_ops:c||[],ext:k==X?!1:k,n:ka(a.n,!0),e:ka(a.e,!0)};a instanceof f&&(b.d=ka(a.d,!0),b.p=ka(a.p,!0),b.q=ka(a.q,!0),b.dp=ka(a.dp,!0),b.dq=ka(a.dq,!0),b.qi=ka(a.qi,!0));return b;}function M(a){var b,c,d,h,g,n,p,r,u,v;if(!a.kty||"RSA"!=a.kty||!a.n||!a.e)return X;b="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(a.alg&&-1==b.indexOf(a.alg))return X;b=[];a.use?"enc"==a.use?b=["encrypt","decrypt","wrap","unwrap"]:"sig"==a.use&&(b=["sign","verify"]):b=a.key_ops;c=a.ext;d=na(a.n,!0);h=na(a.e,!0);if(a.d){g=na(a.d,!0);n=na(a.p,!0);p=na(a.q,!0);r=na(a.dp,!0);u=na(a.dq,!0);v=na(a.qi,!0);return new f(d,h,g,n,p,r,u,v,a.alg,b,c);}return new ua(d,h,c,b);}function T(a,b,c,d){this.der=a;this.type=b;this.keyOps=c;this.extractable=d;}L={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};C=function(a,b,c,d,h,g){this._data=a;this._parent=b||X;this._constructed=c||!1;this._tagClass=0;this._tag=d||0;this._dataIdx=h||0;this._dataLen=g||0;};C.prototype={_child:X,_next:X,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(a){this._constructed=0!=a?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(a){this._tagClass=a;},get tag(){return this._tag;},set tag(a){this._tag=a;},get dataIdx(){return this._dataIdx;},set dataIdx(a){this._dataIdx=a;},get dataLen(){return this._dataLen;},set dataLen(a){this._dataLen=a;},get child(){return this._child;},set child(a){this._child=a;this._child.parent=this;},get next(){return this._next;},set next(a){this._next=a;},get parent(){return this._parent;},set parent(a){this._parent=a;},get payloadLen(){var a;a=0;if(this._child){for(var b=this._child;b;)a+=b.length,b=b.next;this._tag==L.BIT_STRING&&a++;}else switch(this._tag){case L.INTEGER:a=this._dataLen;this._data[this._dataIdx]>>7&&a++;break;case L.BIT_STRING:a=this._dataLen+1;break;case L.OCTET_STRING:a=this._dataLen;break;case L.NULL:a=0;break;case L.OBJECT_IDENTIFIER:H(this._data,this._dataIdx,this._dataLen)&&(a=9);}return a;},get length(){var a,b;a=this.payloadLen;if(127<a)for(b=a;b;)b>>=8,++a;return a+2;},get der(){var a,b;a=this.length;if(!a)return X;a=new Uint8Array(a);b=new m(a);return l(this,b)?a:X;},get nChildren(){for(var a=0,b=this._child;b;)a++,b=b.next;return a;}};I={createSequenceNode:function(){return new C(null,null,!0,L.SEQUENCE,null,null);},createOidNode:function(a){return new C(a,null,!1,L.OBJECT_IDENTIFIER,0,a?a.length:0);},createNullNode:function(){return new C(null,null,!1,L.NULL,null,null);},createBitStringNode:function(a){return new C(a,null,!1,L.BIT_STRING,0,a?a.length:0);},createIntegerNode:function(a){return new C(a,null,!1,L.INTEGER,0,a?a.length:0);},createOctetStringNode:function(a){return new C(a,null,!1,L.OCTET_STRING,0,a?a.length:0);}};La=function(a){this._currentNode=this._rootNode=a;};La.prototype={addChild:function(a){this.addTo(this._currentNode,a);},addSibling:function(a){this.addTo(this._currentNode.parent,a);},addTo:function(a,b){this._currentNode=b;this._currentNode.parent=a;if(a.child){for(var c=a.child;c.next;)c=c.next;c.next=b;}else a.child=b;},addToParent:function(a,b){this.findNode(a)&&this.addTo(a,b);},findNode:function(a){for(var b=this._currentNode;b;){if(a==b)return!0;b=b.parent;}return!1;}};qa=0;Ea=new Uint8Array([42,134,72,134,247,13,1,1,1]);ua=function(a,b,c,d){this.n=a;this.e=b;this.ext=c;this.keyOps=d;};f=function(a,b,c,d,h,g,n,p,r,u,v){this.n=a;this.e=b;this.d=c;this.p=d;this.q=h;this.dp=g;this.dq=n;this.qi=p;this.alg=r;this.keyOps=u;this.ext=v;};d="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");T.prototype.getDer=function(){return this.der;};T.prototype.getType=function(){return this.type;};T.prototype.getKeyOps=function(){return this.keyOps;};T.prototype.getExtractable=function(){return this.extractable;};q.parse=function(a){qa=0;return B(new C(a),0,a.length);};q.show=function(a,b){};q.isRsaSpki=V;q.isRsaPkcs8=Ra;q.NodeFactory=I;q.Builder=La;q.tagVal=L;q.RsaPublicKey=ua;q.RsaPrivateKey=f;q.buildRsaSpki=za;q.parseRsaSpki=function(a){a=q.parse(a);return V?Aa(a):X;};q.buildRsaPkcs8=J;q.parseRsaPkcs8=function(a){a=q.parse(a);return Ra(a)?N(a):X;};q.buildRsaJwk=E;q.parseRsaJwk=M;q.RsaDer=T;q.rsaDerToJwk=function(a,b,c,d){a=q.parse(a);if(!a)return X;if(V(a))a=Aa(a);else if(Ra(a))a=N(a);else return X;return E(a,b,c,d);};q.jwkToRsaDer=function(a){var b,c;a=M(a);if(!a)return X;if(a instanceof ua)b="spki",c=za(a).der;else if(a instanceof f)b="pkcs8",c=J(a).der;else return X;return new T(c,b,a.keyOps,a.ext);};q.webCryptoAlgorithmToJwkAlg=function(a){return"RSAES-PKCS1-v1_5"==a.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==a.name?"SHA-256"==a.hash.name?"RS256":"SHA-384"==a.hash.name?"RS384":"SHA-512"==a.hash.name?"RS512":X:X;};q.webCryptoUsageToJwkKeyOps=function(a){return a.map(function(a){return"wrapKey"==a?"wrap":"unwrapKey"==a?"unwrap":a;});};}());l.ASN1=q;}(H));(function(){for(var l={},m={},q={"=":0,".":0},t={"=":0,".":0},B=/\s+/g,H=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ga=64;Ga--;)l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ga]]=262144*Ga,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ga]]=4096*Ga,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ga]]=64*Ga,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ga]]=Ga;for(Ga=64;Ga--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ga]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ga];)l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ga]]=262144*Ga,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ga]]=4096*Ga,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ga]]=64*Ga,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ga]]=Ga;ka=function(l,m){for(var q="",V=0,J=l.length,N=J-2,E,M=m?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=m?"":"=";V<N;)E=65536*l[V++]+256*l[V++]+l[V++],q+=M[E>>>18]+M[E>>>12&63]+M[E>>>6&63]+M[E&63];V==N?(E=65536*l[V++]+256*l[V++],q+=M[E>>>18]+M[E>>>12&63]+M[E>>>6&63]+T):V==J-1&&(E=65536*l[V++],q+=M[E>>>18]+M[E>>>12&63]+T+T);return q;};na=function(V,Ra){var za;V=V.replace(B,"");if(Ra){za=V.length%4;if(za)for(var za=4-za,Aa=0;Aa<za;++Aa)V+="=";}za=V.length;if(0!=za%4||!H.test(V))throw Error("bad base64: "+V);for(var J=za/4*3-("="==V[za-1]?1:0)-("="==V[za-2]?1:0),N=new Uint8Array(J),E=0,M=0;E<za;)Aa=l[V[E++]]+m[V[E++]]+q[V[E++]]+t[V[E++]],N[M++]=Aa>>>16,M<J&&(N[M++]=Aa>>>8&255,M<J&&(N[M++]=Aa&255));return N;};}());ab={};(function(){var H,Ga,V,za;function l(q){if(!(this instanceof l))return new l(q);for(var J=0,N=Ga.length;J<N;J++)this[Ga[J]]="";this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=q||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=V.BEGIN;this.stack=new H();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;m(this,"onready");}function m(l,m,N){if(l[m])l[m](N);}function q(l,q){var N,E;N=l.opt;E=l.textNode;N.trim&&(E=E.trim());N.normalize&&(E=E.replace(/\s+/g," "));l.textNode=E;l.textNode&&m(l,q?q:"onvalue",l.textNode);l.textNode="";}function t(l,J){q(l);J+="\nLine: "+l.line+"\nColumn: "+l.column+"\nChar: "+l.c;J=Error(J);l.error=J;m(l,"onerror",J);return l;}function B(Aa){Aa.state!==V.VALUE&&t(Aa,"Unexpected end");q(Aa);Aa.c="";Aa.closed=!0;m(Aa,"onend");l.call(Aa,Aa.opt);return Aa;}H=Array;ab.parser=function(m){return new l(m);};ab.CParser=l;ab.MAX_BUFFER_LENGTH=65536;ab.DEBUG=!1;ab.INFO=!1;ab.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ga=["textNode","numberNode"];ab.EVENTS.filter(function(l){return"error"!==l&&"end"!==l;});V=0;ab.STATE={BEGIN:V++,VALUE:V++,OPEN_OBJECT:V++,CLOSE_OBJECT:V++,OPEN_ARRAY:V++,CLOSE_ARRAY:V++,TEXT_ESCAPE:V++,STRING:V++,BACKSLASH:V++,END:V++,OPEN_KEY:V++,CLOSE_KEY:V++,TRUE:V++,TRUE2:V++,TRUE3:V++,FALSE:V++,FALSE2:V++,FALSE3:V++,FALSE4:V++,NULL:V++,NULL2:V++,NULL3:V++,NUMBER_DECIMAL_POINT:V++,NUMBER_DIGIT:V++};for(var Ra in ab.STATE)ab.STATE[ab.STATE[Ra]]=Ra;V=ab.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(l){return l.__proto__;});za=/[\\"\n]/g;l.prototype={end:function(){B(this);},write:function(l){var E,M,T;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===l)return B(this);for(var J=l[0],N;J;){N=J;this.c=J=l.charAt(this.index++);N!==J?this.p=N:N=this.p;if(!J)break;this.position++;"\n"===J?(this.line++,this.column=0):this.column++;switch(this.state){case V.BEGIN:"{"===J?this.state=V.OPEN_OBJECT:"["===J?this.state=V.OPEN_ARRAY:"\r"!==J&&"\n"!==J&&" "!==J&&"\t"!==J&&t(this,"Non-whitespace before {[.");continue;case V.OPEN_KEY:case V.OPEN_OBJECT:if("\r"===J||"\n"===J||" "===J||"\t"===J)continue;if(this.state===V.OPEN_KEY)this.stack.push(V.CLOSE_KEY);else if("}"===J){m(this,"onopenobject");m(this,"oncloseobject");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_OBJECT);'"'===J?this.state=V.STRING:t(this,'Malformed object key should start with "');continue;case V.CLOSE_KEY:case V.CLOSE_OBJECT:if("\r"===J||"\n"===J||" "===J||"\t"===J)continue;":"===J?(this.state===V.CLOSE_OBJECT?(this.stack.push(V.CLOSE_OBJECT),q(this,"onopenobject")):q(this,"onkey"),this.state=V.VALUE):"}"===J?(q(this),m(this,"oncloseobject",void 0),this.state=this.stack.pop()||V.VALUE):","===J?(this.state===V.CLOSE_OBJECT&&this.stack.push(V.CLOSE_OBJECT),q(this),this.state=V.OPEN_KEY):t(this,"Bad object");continue;case V.OPEN_ARRAY:case V.VALUE:if("\r"===J||"\n"===J||" "===J||"\t"===J)continue;if(this.state===V.OPEN_ARRAY)if(m(this,"onopenarray"),this.state=V.VALUE,"]"===J){m(this,"onclosearray");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_ARRAY);'"'===J?this.state=V.STRING:"{"===J?this.state=V.OPEN_OBJECT:"["===J?this.state=V.OPEN_ARRAY:"t"===J?this.state=V.TRUE:"f"===J?this.state=V.FALSE:"n"===J?this.state=V.NULL:"-"===J?this.numberNode+=J:"0"===J?(this.numberNode+=J,this.state=V.NUMBER_DIGIT):-1!=="123456789".indexOf(J)?(this.numberNode+=J,this.state=V.NUMBER_DIGIT):t(this,"Bad value");continue;case V.CLOSE_ARRAY:if(","===J)this.stack.push(V.CLOSE_ARRAY),q(this,"onvalue"),this.state=V.VALUE;else if("]"===J)q(this),m(this,"onclosearray",void 0),this.state=this.stack.pop()||V.VALUE;else if("\r"===J||"\n"===J||" "===J||"\t"===J)continue;else t(this,"Bad array");continue;case V.STRING:N=this.index-1;E=this.slashed,M=this.unicodeI;a:for(;;){if(ab.DEBUG)for(;0<M;)if(this.unicodeS+=J,J=l.charAt(this.index++),4===M?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),M=0,N=this.index-1):M++,!J)break a;if('"'===J&&!E){this.state=this.stack.pop()||V.VALUE;(this.textNode+=l.substring(N,this.index-1))||m(this,"onvalue","");break;}if("\\"===J&&!E&&(E=!0,this.textNode+=l.substring(N,this.index-1),J=l.charAt(this.index++),!J))break;if(E)if(E=!1,"n"===J?this.textNode+="\n":"r"===J?this.textNode+="\r":"t"===J?this.textNode+="\t":"f"===J?this.textNode+="\f":"b"===J?this.textNode+="\b":"u"===J?(M=1,this.unicodeS=""):this.textNode+=J,J=l.charAt(this.index++),N=this.index-1,J)continue;else break;za.lastIndex=this.index;T=za.exec(l);if(null===T){this.index=l.length+1;this.textNode+=l.substring(N,this.index-1);break;}this.index=T.index+1;J=l.charAt(T.index);if(!J){this.textNode+=l.substring(N,this.index-1);break;}}this.slashed=E;this.unicodeI=M;continue;case V.TRUE:if(""===J)continue;"r"===J?this.state=V.TRUE2:t(this,"Invalid true started with t"+J);continue;case V.TRUE2:if(""===J)continue;"u"===J?this.state=V.TRUE3:t(this,"Invalid true started with tr"+J);continue;case V.TRUE3:if(""===J)continue;"e"===J?(m(this,"onvalue",!0),this.state=this.stack.pop()||V.VALUE):t(this,"Invalid true started with tru"+J);continue;case V.FALSE:if(""===J)continue;"a"===J?this.state=V.FALSE2:t(this,"Invalid false started with f"+J);continue;case V.FALSE2:if(""===J)continue;"l"===J?this.state=V.FALSE3:t(this,"Invalid false started with fa"+J);continue;case V.FALSE3:if(""===J)continue;"s"===J?this.state=V.FALSE4:t(this,"Invalid false started with fal"+J);continue;case V.FALSE4:if(""===J)continue;"e"===J?(m(this,"onvalue",!1),this.state=this.stack.pop()||V.VALUE):t(this,"Invalid false started with fals"+J);continue;case V.NULL:if(""===J)continue;"u"===J?this.state=V.NULL2:t(this,"Invalid null started with n"+J);continue;case V.NULL2:if(""===J)continue;"l"===J?this.state=V.NULL3:t(this,"Invalid null started with nu"+J);continue;case V.NULL3:if(""===J)continue;"l"===J?(m(this,"onvalue",null),this.state=this.stack.pop()||V.VALUE):t(this,"Invalid null started with nul"+J);continue;case V.NUMBER_DECIMAL_POINT:"."===J?(this.numberNode+=J,this.state=V.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case V.NUMBER_DIGIT:-1!=="0123456789".indexOf(J)?this.numberNode+=J:"."===J?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=J):"e"===J||"E"===J?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=J):"+"===J||"-"===J?("e"!==N&&"E"!==N&&t(this,"Invalid symbol in number"),this.numberNode+=J):(this.numberNode&&m(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||V.VALUE);continue;default:t(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){l=Math.max(ab.MAX_BUFFER_LENGTH,10);N=J=0;for(E=Ga.length;N<E;N++){M=this[Ga[N]].length;if(M>l)switch(Ga[N]){case"text":break;default:t(this,"Max buffer length exceeded: "+Ga[N]);}J=Math.max(J,M);}this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH-J+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var t;function l(l,m){m||(m=l.length);return l.reduce(function(l,q,V){return V<m?l+String.fromCharCode(q):l;},"");}for(var m={},q=0;256>q;++q){t=l([q]);m[t]=q;}for(var B=Object.keys(m).length,H=[],q=0;256>q;++q)H[q]=[q];Kd=function(q,V){var C,I;function t(l,C){var I;for(;0<C;){if(M>=E.length)return!1;if(C>T){I=l;I=I>>>C-T;E[M]|=I&255;C-=T;T=8;++M;}else C<=T&&(I=l,I<<=T-C,I&=255,I>>>=8-T,E[M]|=I&255,T-=C,C=0,0==T&&(T=8,++M));}return!0;}for(var za in m)V[za]=m[za];for(var Aa=B,J=[],N=8,E=new Uint8Array(q.length),M=0,T=8,L=0;L<q.length;++L){C=q[L];J.push(C);za=l(J);I=V[za];if(!I){J=l(J,J.length-1);if(!t(V[J],N))return null;0!=Aa>>N&&++N;V[za]=Aa++;J=[C];}}return 0<J.length&&(za=l(J),I=V[za],!t(I,N))?null:E.subarray(0,8>T?M+1:M);};Ld=function(l){var L,C,T,t;for(var q=H.slice(),m=0,t=0,Aa=8,J=new Uint8Array(Math.ceil(1.5*l.length)),N=0,E,M=[];m<l.length&&!(8*(l.length-m)-t<Aa);){for(var T=E=0;T<Aa;){L=Math.min(Aa-T,8-t);C=l[m];C=C<<t;C=C&255;C=C>>>8-L;T=T+L;t=t+L;8==t&&(t=0,++m);E|=(C&255)<<Aa-T;}T=q[E];0==M.length?++Aa:(T?M.push(T[0]):M.push(M[0]),q[q.length]=M,M=[],q.length==1<<Aa&&++Aa,T||(T=q[E]));E=N+T.length;E>=J.length&&(L=new Uint8Array(Math.ceil(1.5*E)),L.set(J),J=L);J.set(T,N);N=E;M=M.concat(T);}return J.subarray(0,N);};}());(function(){var l,m,t;ya="utf-8";sa=9007199254740992;l=Lb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Lb);Md=function(m){for(var q=[l.GZIP,l.LZW],t=0;t<q.length&&0<m.length;++t)for(var B=q[t],V=0;V<m.length;++V)if(m[V]==B)return B;return null;};m=xc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(xc);Nd=function(l){return m.AES_CBC_PKCS5Padding==l?m.AES_CBC_PKCS5Padding:m.RSA_ECB_PKCS1Padding==l?m.RSA_ECB_PKCS1Padding:m[l];};t=Od={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Od);$c=function(l){return t[l];};q={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(q);}());ca={isObjectLiteral:function(l){return null!==l&&"object"===typeof l&&l.constructor===Object;},extendDeep:function(){var l,m,q,t,B,H,U,V;l=arguments[0];m=1;q=arguments.length;t=!1;"boolean"===typeof l&&(t=l,l=arguments[1],m=2);for(;m<q;m++)if(null!=(B=arguments[m]))for(H in B)t&&H in l||(V=B[H],l!==V&&V!==X&&(U=l[H],l[H]=null!==U&&null!==V&&"object"===typeof U&&"object"===typeof V?ca.extendDeep(t,{},U,V):V));return l;}};(function(){var U,V;function l(l,m){return function(){var q,J;q=l.base;l.base=m;J=l.apply(this,arguments);l.base=q;return J;};}function m(m,q,t){var J,N,E,M;t=t||V;M=!!t.extendAll;for(J in q)N=q.__lookupGetter__(J),E=q.__lookupSetter__(J),N||E?(N&&m.__defineGetter__(J,N),E&&m.__defineSetter__(J,E)):(N=q[J],E=m[J],"function"===typeof N&&"function"===typeof E&&N!==E?(N.base!==Function.prototype.base&&(N=l(N,E)),N.base=E):(M||t[J])&&ca.isObjectLiteral(N)&&ca.isObjectLiteral(E)&&(N=ca.extendDeep({},E,N)),m[J]=N);}function q(){var l,m;l=Array.prototype.slice;m=l.call(arguments,1);return this.extend({init:function J(){var N;N=l.call(arguments,0);J.base.apply(this,m.concat(N));}});}function t(l,q){var V;V=new this(U);m(V,l,q);return H(V);}function B(l,q){m(this.prototype,l,q);return this;}function H(l){var m;m=function(){var l;l=this.init;l&&arguments[0]!==U&&l.apply(this,arguments);};l&&(m.prototype=l);m.prototype.constructor=m;m.extend=t;m.bind=q;m.mixin=B;return m;}U={};V={actions:!0};Function.prototype.base=function(){};ca.Class={create:H,mixin:m,extend:function(l,m){var q;q=H();q.prototype=new l();return q.extend(m);}};ca.mixin=function(){ca.log&&ca.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");m.apply(null,arguments);};}());(function(){var U,V,Ra;function l(l,m){return function(){var q,N;q=l.base;l.base=m;N=l.apply(this,arguments);l.base=q;return N;};}function m(m,q,J){var N,E,M,T;J=J||V;T=!!J.extendAll;for(N in q)E=q.__lookupGetter__(N),M=q.__lookupSetter__(N),E||M?(E&&m.__defineGetter__(N,E),M&&m.__defineSetter__(N,M)):(E=q[N],M=m[N],"function"===typeof E&&"function"===typeof M&&E!==M?(E.base!==Ra&&(E=l(E,M)),E.base=M):(T||J[N])&&ca.isObjectLiteral(E)&&ca.isObjectLiteral(M)&&(E=ca.extendDeep({},M,E)),m[N]=E);}function q(){var l,m;l=Array.prototype.slice;m=l.call(arguments,1);return this.extend({init:function N(){var E;E=l.call(arguments,0);N.base.apply(this,m.concat(E));}});}function t(l,q){var J;J=new this(U);m(J,l,q);return H(J);}function B(l,q){m(this.prototype,l,q);return this;}function H(l){var m;m=function(){var l;l=this.init;l&&arguments[0]!==U&&l.apply(this,arguments);};l&&(m.prototype=l);m.prototype.constructor=m;m.extend=t;m.bind=q;m.mixin=B;return m;}U={};V={actions:!0};Ra=function(){};Function.prototype.base=Ra;ca.Class={create:H,mixin:m,extend:function(l,m){var q;q=H();q.prototype=new l();return q.extend(m);}};ca.mixin=function(){ca.log&&ca.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");m.apply(null,arguments);};}());(function(){function l(l){return l==sa?1:l+1;}function m(m){if(0===Object.keys(m._waiters).length)return 0;for(var q=l(m._nextWaiter);!m._waiters[q];)q=l(q);return q;}ic=ca.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(l){var q;if(this._waiters[l]){q=this._waiters[l];delete this._waiters[l];l==this._nextWaiter&&(this._nextWaiter=m(this));q.call(this,X);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(q,B){var H,U;H=this;U=l(this._lastWaiter);this._lastWaiter=U;t(B,function(){var l,V;if(0<this._queue.length){l=this._queue.shift();setTimeout(function(){B.result(l);},0);}else{-1!=q&&(V=setTimeout(function(){delete H._waiters[U];U==H._nextWaiter&&(H._nextWaiter=m(H));B.timeout();},q));this._waiters[U]=function(l){clearTimeout(V);setTimeout(function(){B.result(l);},0);};this._nextWaiter||(this._nextWaiter=U);}},H);return U;},add:function(l){var q;if(this._nextWaiter){q=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=m(this);q.call(this,l);}else this._queue.push(l);}});}());(function(){var l;l=0-sa;Pd=ca.Class.create({nextBoolean:function(){var l;l=new Uint8Array(1);Db.getRandomValues(l);return l[0]&1?!0:!1;},nextInt:function(l){var m;if(null!==l&&l!==X){if("number"!==typeof l)throw new TypeError("n must be of type number");if(1>l)throw new RangeError("n must be greater than zero");--l;m=new Uint8Array(4);Db.getRandomValues(m);return Math.floor(((m[3]&127)<<24|m[2]<<16|m[1]<<8|m[0])/2147483648*(l-0+1)+0);}l=new Uint8Array(4);Db.getRandomValues(l);m=(l[3]&127)<<24|l[2]<<16|l[1]<<8|l[0];return l[3]&128?-m:m;},nextLong:function(){var q,m;for(var m=l;m==l;){m=new Uint8Array(7);Db.getRandomValues(m);q=16777216*((m[6]&31)<<24|m[5]<<16|m[4]<<8|m[3])+(m[2]<<16|m[1]<<8|m[0]);m=m[6]&128?-q-1:q;}return m;},nextBytes:function(l){Db.getRandomValues(l);}});}());(function(){function l(l){return l==sa?1:l+1;}function m(m){if(0===Object.keys(m._waitingReaders).length)return 0;for(var q=l(m._nextReader);!m._waitingReaders[q];)q=l(q);return q;}function q(m){if(0===Object.keys(m._waitingWriters).length)return 0;for(var q=l(m._nextWriter);!m._waitingWriters[q];)q=l(q);return q;}ad=ca.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(l){var t;if(this._waitingReaders[l]){t=this._waitingReaders[l];delete this._waitingReaders[l];l==this._nextReader&&(this._nextReader=m(this));t.call(this,!0);}this._waitingWriters[l]&&(t=this._waitingWriters[l],delete this._waitingWriters[l],l==this._nextWriter&&(this._nextWriter=q(this)),t.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(q,B){var H,U;H=this;U=l(this._lastNumber);this._lastNumber=U;t(B,function(){var l;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[U]=!0,U;-1!=q&&(l=setTimeout(function(){delete H._waitingReaders[U];U==H._nextReader&&(H._nextReader=m(H));B.timeout();},q));this._waitingReaders[U]=function(m){clearTimeout(l);m?setTimeout(function(){B.result(X);},0):(H._readers[U]=!0,setTimeout(function(){B.result(U);},0));};this._nextReader||(this._nextReader=U);},H);return U;},writeLock:function(m,B){var H,U;H=this;U=l(this._lastNumber);this._lastNumber=U;t(B,function(){var l;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=U;-1!=m&&(l=setTimeout(function(){delete H._waitingWriters[U];U==H._nextWriter&&(H._nextWriter=q(H));B.timeout();},m));this._waitingWriters[U]=function(m){clearTimeout(l);m?setTimeout(function(){B.result(X);},0):(H._writer=U,setTimeout(function(){B.result(U);},0));};this._nextWriter||(this._nextWriter=U);},H);return U;},unlock:function(m){if(m==this._writer)this._writer=null;else{if(!this._readers[m])throw new W("There is no reader or writer with ticket number "+m+".");delete this._readers[m];}if(this._nextWriter)0<Object.keys(this._readers).length||(m=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=q(this),m.call(this,!1));else{for(var t=this._nextReader;0<Object.keys(this._waitingReaders).length;t=l(t))this._waitingReaders[t]&&(m=this._waitingReaders[t],delete this._waitingReaders[t],m.call(this,!1));this._nextReader=0;}}});}());ca.Class.mixin(l,{JSON_PARSE_ERROR:new l(0,q.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new l(1,q.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new l(2,q.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new l(3,q.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new l(4,q.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new l(5,q.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new l(6,q.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new l(7,q.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new l(8,q.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new l(9,q.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new l(10,q.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new l(11,q.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new l(12,q.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new l(13,q.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new l(14,q.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new l(15,q.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new l(16,q.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new l(17,q.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new l(18,q.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new l(19,q.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new l(20,q.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new l(21,q.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new l(22,q.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new l(23,q.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new l(24,q.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new l(25,q.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new l(26,q.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new l(27,q.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new l(28,q.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new l(29,q.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new l(30,q.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new l(31,q.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new l(32,q.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new l(33,q.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new l(34,q.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new l(35,q.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new l(36,q.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new l(37,q.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new l(38,q.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new l(39,q.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new l(40,q.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new l(41,q.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new l(42,q.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new l(43,q.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new l(44,q.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new l(45,q.FAIL,"Error exporting key."),DIGEST_ERROR:new l(46,q.FAIL,"Error in digest."),UNSUPPORTED_KEY:new l(47,q.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new l(48,q.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new l(49,q.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new l(50,q.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new l(51,q.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new l(52,q.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new l(53,q.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new l(54,q.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new l(55,q.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new l(56,q.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new l(57,q.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new l(58,q.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new l(59,q.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new l(60,q.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new l(61,q.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new l(62,q.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new l(1E3,q.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new l(1001,q.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new l(1002,q.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new l(1003,q.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new l(1004,q.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new l(1005,q.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new l(1006,q.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new l(1007,q.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new l(1008,q.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new l(1009,q.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new l(1010,q.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new l(1011,q.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new l(1012,q.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new l(1013,q.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new l(1014,q.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new l(2E3,q.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new l(2001,q.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new l(2002,q.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new l(2003,q.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new l(2004,q.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new l(2005,q.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new l(2006,q.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new l(2007,q.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new l(2008,q.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new l(2009,q.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new l(2010,q.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new l(2011,q.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new l(2012,q.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new l(2013,q.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new l(2014,q.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new l(2015,q.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new l(2016,q.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new l(2017,q.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new l(2018,q.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new l(2019,q.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new l(2020,q.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new l(3E3,q.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new l(3001,q.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new l(3002,q.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new l(3003,q.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new l(3004,q.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new l(3005,q.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new l(3006,q.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new l(3007,q.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new l(3008,q.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new l(3009,q.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new l(4E3,q.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new l(4001,q.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new l(4002,q.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new l(4003,q.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new l(4004,q.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new l(4005,q.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new l(4006,q.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new l(4007,q.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new l(4008,q.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new l(4009,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new l(4010,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new l(4011,q.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new l(4012,q.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new l(4013,q.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new l(4014,q.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new l(4015,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new l(4016,q.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new l(4017,q.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new l(4018,q.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new l(4019,q.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new l(4020,q.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new l(4021,q.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new l(4022,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new l(4023,q.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new l(4024,q.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new l(4025,q.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new l(4026,q.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new l(5E3,q.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new l(5001,q.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new l(5002,q.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new l(5003,q.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new l(5004,q.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new l(5005,q.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new l(5006,q.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new l(5007,q.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new l(5008,q.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new l(5009,q.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new l(5010,q.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new l(5011,q.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new l(5012,q.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new l(5013,q.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new l(5014,q.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new l(5015,q.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new l(5016,q.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new l(5017,q.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new l(5018,q.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new l(5019,q.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new l(5020,q.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new l(5021,q.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new l(5022,q.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new l(5023,q.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new l(5024,q.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new l(5025,q.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new l(5026,q.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new l(5027,q.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new l(5028,q.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new l(5029,q.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new l(5030,q.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new l(5031,q.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new l(5032,q.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new l(5033,q.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new l(5034,q.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new l(5035,q.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new l(5036,q.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new l(5037,q.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new l(5038,q.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new l(5039,q.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new l(5040,q.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new l(6E3,q.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new l(6001,q.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new l(6002,q.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new l(6003,q.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new l(6004,q.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new l(6005,q.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new l(6006,q.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new l(6007,q.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new l(6008,q.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new l(6009,q.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new l(6010,q.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new l(6011,q.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new l(6012,q.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new l(6013,q.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new l(6014,q.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new l(6015,q.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new l(6016,q.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new l(6017,q.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new l(6018,q.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new l(6019,q.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new l(6020,q.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new l(6021,q.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new l(6022,q.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new l(6023,q.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new l(6024,q.FAIL,"Invalid header data."),PAYLOAD_INVALID:new l(6025,q.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new l(6026,q.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new l(6027,q.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new l(6028,q.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new l(6029,q.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new l(6030,q.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new l(6031,q.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new l(6032,q.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new l(6033,q.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new l(6034,q.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new l(6035,q.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new l(6036,q.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new l(6037,q.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new l(7E3,q.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new l(7001,q.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new l(7002,q.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new l(7003,q.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new l(7004,q.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new l(7005,q.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new l(7006,q.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new l(7007,q.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new l(7008,q.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new l(7009,q.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new l(7010,q.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new l(7011,q.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new l(7012,q.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new l(7013,q.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new l(7014,q.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new l(7015,q.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new l(7016,q.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new l(8E3,q.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new l(8001,q.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new l(8002,q.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new l(8003,q.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new l(8004,q.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new l(8005,q.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new l(8006,q.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new l(8007,q.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new l(8008,q.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new l(8009,q.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new l(8010,q.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new l(8011,q.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new l(8012,q.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new l(9E3,q.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new l(9001,q.FAIL,"Error communicating with MSL entity."),NONE:new l(9999,q.FAIL,"Special unit test error.")});Object.freeze(l);(function(){B=ca.Class.create(Error());B.mixin({init:function(l,m,q){var H,U,W;function t(){return U?U:this.cause&&this.cause instanceof B?this.cause.messageId:X;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);H=l.message;m&&(H+=" ["+m+"]");W=this.stack;Object.defineProperties(this,{message:{value:H,writable:!1,configurable:!0},error:{value:l,writable:!1,configurable:!0},cause:{value:q,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(l){if(0>l||l>sa)throw new RangeError("Message ID "+l+" is outside the valid range.");t()||(U=l);},configurable:!0},stack:{get:function(){var l;l=this.toString();W&&(l+="\n"+W);q&&q.stack&&(l+="\nCaused by "+q.stack);return l;},configurable:!0}});},setEntity:function(l){!l||this.masterToken||this.entityAuthenticationData||(l instanceof gb?this.masterToken=l:l instanceof Mb&&(this.entityAuthenticationData=l));return this;},setUser:function(l){!l||this.userIdToken||this.userAuthenticationData||(l instanceof $b?this.userIdToken=l:l instanceof Eb&&(this.userAuthenticationData=l));return this;},setMessageId:function(l){this.messageId=l;return this;},toString:function(){return this.name+": "+this.message;}});}());U=B.extend({init:function gc(l,m,q){gc.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ga=B.extend({init:function Xb(l,m,q){Xb.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wb=B.extend({init:function Wa(l,m,q){Wa.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){hb=ca.Class.create(Error());hb.mixin({init:function(l,m,q){var t;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:l,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},requestCause:{value:q,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var l;l=this.toString();t&&(l+="\n"+t);m&&m.stack&&(l+="\nCaused by "+m.stack);return l;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Ma=ca.Class.create(Error());Ma.mixin({init:function(l,m){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:l,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var l;l=this.toString();q&&(l+="\n"+q);m&&m.stack&&(l+="\nCaused by "+m.stack);return l;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){W=ca.Class.create(Error());W.mixin({init:function(l,m){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:l,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var l;l=this.toString();q&&(l+="\n"+q);m&&m.stack&&(l+="\nCaused by "+m.stack);return l;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Ta=ca.Class.create(Error());Ta.mixin({init:function(l,m){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:l,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var l;l=this.toString();q&&(l+="\n"+q);m&&m.stack&&(l+="\nCaused by "+m.stack);return l;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ca=B.extend({init:function uc(l,m,q){uc.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Nb=B.extend({init:function Sc(l,m){Sc.base.call(this,l);Object.defineProperties(this,{masterToken:{value:m,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});va=B.extend({init:function Ga(l,m,q){Ga.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});ra=B.extend({init:function V(l,m,q){V.base.call(this,l,m,q);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var J;function l(l){return"undefined"===typeof l?!1:l;}function m(l){return l&&l.length?(Ya===J.V2014_02&&(l=l.map(function(l){return"wrap"==l?"wrapKey":"unwrap"==l?"unwrapKey":l;})),l):Ya===J.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function q(l,m,q,T,L){return Promise.resolve().then(function(){return Fa.importKey(l,m,q,T,L);})["catch"](function(C){var E;if("spki"!==l&&"pkcs8"!==l)throw C;C=ASN1.webCryptoAlgorithmToJwkAlg(q);E=ASN1.webCryptoUsageToJwkKeyOps(L);C=ASN1.rsaDerToJwk(m,C,E,T);if(!C)throw Error("Could not make valid JWK from DER input");C=JSON.stringify(C);return Fa.importKey("jwk",Rc(C),q,T,L);});}function t(l,m){return Promise.resolve().then(function(){return Fa.exportKey(l,m);})["catch"](function(E){if("spki"!==l&&"pkcs8"!==l)throw E;return Fa.exportKey("jwk",m).then(function(l){l=JSON.parse(Qc(new Uint8Array(l)));l=ASN1.jwkToRsaDer(l);if(!l)throw Error("Could not make valid DER from JWK input");return l.getDer().buffer;});});}J=yc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(yc);Ya=J.LATEST;xa={encrypt:function(l,m,q){switch(Ya){case J.LEGACY:return new Promise(function(E,M){var C;C=Fa.encrypt(l,m,q);C.oncomplete=function(l){E(l.target.result);};C.onerror=function(l){M(l);};});case J.V2014_01:case J.V2014_02:return Fa.encrypt(l,m,q).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(l,m,q){switch(Ya){case J.LEGACY:return new Promise(function(E,M){var C;C=Fa.decrypt(l,m,q);C.oncomplete=function(l){E(l.target.result);};C.onerror=function(l){M(l);};});case J.V2014_01:case J.V2014_02:return Fa.decrypt(l,m,q).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(l,m,q){switch(Ya){case J.LEGACY:return new Promise(function(E,M){var C;C=Fa.sign(l,m,q);C.oncomplete=function(l){E(l.target.result);};C.onerror=function(l){M(l);};});case J.V2014_01:case J.V2014_02:return Fa.sign(l,m,q).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(l,m,q,T){switch(Ya){case J.LEGACY:return new Promise(function(E,C){var I;I=Fa.verify(l,m,q,T);I.oncomplete=function(l){E(l.target.result);};I.onerror=function(l){C(l);};});case J.V2014_01:case J.V2014_02:return Fa.verify(l,m,q,T);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(l,m){switch(Ya){case J.LEGACY:return new Promise(function(q,E){var M;M=Fa.digest(l,m);M.oncomplete=function(l){q(l.target.result);};M.onerror=function(l){E(l);};});case J.V2014_01:case J.V2014_02:return Fa.digest(l,m).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(q,E,M){var N,L;N=l(E);L=m(M);switch(Ya){case J.LEGACY:return new Promise(function(l,m){var C;C=Fa.generateKey(q,N,L);C.oncomplete=function(m){l(m.target.result);};C.onerror=function(l){m(l);};});case J.V2014_01:case J.V2014_02:return Fa.generateKey(q,N,L);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(q,E,M,T,L){var C,I;C=l(T);I=m(L);switch(Ya){case J.LEGACY:return new Promise(function(l,m){var L;L=Fa.deriveKey(q,E,M,C,I);L.oncomplete=function(m){l(m.target.result);};L.onerror=function(l){m(l);};});case J.V2014_01:case J.V2014_02:return Fa.deriveKey(q,E,M,C,I);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(N,E,M,T,L){var C,I;C=l(T);I=m(L);switch(Ya){case J.LEGACY:return new Promise(function(l,m){var q;q=Fa.importKey(N,E,M,C,I);q.oncomplete=function(m){l(m.target.result);};q.onerror=function(l){m(l);};});case J.V2014_01:case J.V2014_02:return q(N,E,M,C,I);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(l,m){switch(Ya){case J.LEGACY:return new Promise(function(q,E){var M;M=Fa.exportKey(l,m);M.oncomplete=function(l){q(l.target.result);};M.onerror=function(l){E(l);};});case J.V2014_01:case J.V2014_02:return t(l,m).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(l,m,q,T){switch(Ya){case J.LEGACY:return new Promise(function(l,C){var E;E=Fa.wrapKey(m,q,T);E.oncomplete=function(m){l(m.target.result);};E.onerror=function(l){C(l);};});case J.V2014_01:case J.V2014_02:return Fa.wrapKey(l,m,q,T).then(function(l){return new Uint8Array(l);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(q,E,M,T,L,C,I){switch(Ya){case J.LEGACY:return new Promise(function(l,m){var C;C=Fa.unwrapKey(E,L,M);C.oncomplete=function(m){l(m.target.result);};C.onerror=function(l){m(l);};});case J.V2014_01:case J.V2014_02:return Fa.unwrapKey(q,E,M,T,L,l(C),m(I));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};wc&&wc.getKeyByName&&(xa.getKeyByName=function(l){switch(Ya){case J.LEGACY:return new Promise(function(m,q){var E;E=wc.getKeyByName(l);E.oncomplete=function(l){m(l.target.result);};E.onerror=function(l){q(l);};});case J.V2014_01:case J.V2014_02:return wc.getKeyByName(l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});H.netflix=H.netflix||{};H.netflix.crypto=xa;}());ob={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};zc={name:"RSA-OAEP",hash:{name:"SHA-1"}};bd={name:"RSAES-PKCS1-v1_5"};Qd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fb=["encrypt","decrypt"];Gb=["wrap","unwrap"];Ob=["sign","verify"];(function(){cd=ca.Class.create({init:function(q,t,B){var J;function V(l){m(t,function(){var m;m=l?ka(l):X;Object.defineProperties(J,{rawKey:{value:q,writable:!1,configurable:!1},keyData:{value:l,writable:!1,configurable:!1},keyDataB64:{value:m,writable:!1,configurable:!1}});return this;},J);}J=this;m(t,function(){if(!q||"object"!=typeof q)throw new U(l.INVALID_SYMMETRIC_KEY);!B&&q.extractable?xa.exportKey("raw",q).then(function(l){V(new Uint8Array(l));},function(m){t.error(new U(l.KEY_EXPORT_ERROR,"raw"));}):V(B);},J);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yb=function(l,m){new cd(l,m);};ub=function(q,t,B,H){m(H,function(){try{q="string"==typeof q?na(q):q;}catch(J){throw new U(l.INVALID_SYMMETRIC_KEY,"keydata "+q,J);}xa.importKey("raw",q,t,!0,B).then(function(l){new cd(l,H,q);},function(m){H.error(new U(l.INVALID_SYMMETRIC_KEY));});});};}());(function(){Ac=ca.Class.create({init:function(q,t,B){var J;function V(l){m(t,function(){Object.defineProperties(J,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:l,writable:!1,configurable:!1}});return this;},J);}J=this;m(t,function(){if(!q||"object"!=typeof q||"public"!=q.type)throw new TypeError("Only original public crypto keys are supported.");!B&&q.extractable?xa.exportKey("spki",q).then(function(l){V(new Uint8Array(l));},function(m){t.error(new U(l.KEY_EXPORT_ERROR,"spki"));}):V(B);});},getEncoded:function(){return this.encoded;}});Kb=function(l,m){new Ac(l,m);};dd=function(q,t,B,H){m(H,function(){try{q="string"==typeof q?na(q):q;}catch(J){throw new U(l.INVALID_PUBLIC_KEY,"spki "+q,J);}xa.importKey("spki",q,t,!0,B).then(function(l){new Ac(l,H,q);},function(m){H.error(new U(l.INVALID_PUBLIC_KEY));});});};}());(function(){Rd=ca.Class.create({init:function(q,t,B){var J;function V(l){m(t,function(){Object.defineProperties(J,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:l,writable:!1,configurable:!1}});return this;},J);}J=this;m(t,function(){if(!q||"object"!=typeof q||"private"!=q.type)throw new TypeError("Only original private crypto keys are supported.");!B&&q.extractable?xa.exportKey("pkcs8",q).then(function(l){V(new Uint8Array(l));},function(m){t.error(new U(l.KEY_EXPORT_ERROR,"pkcs8"));}):V(B);});},getEncoded:function(){return this.encoded;}});Zb=function(l,m){new Rd(l,m);};}());(function(){var q;q=hd={V1:1,V2:2};ed=ca.Class.create({init:function(l,t,B,J){m(J,function(){var m,E,M,T;m=q.V1;E=l;M=null;for(T in xc)if(xc[T]==l){m=q.V2;E=null;M=l;break;}Object.defineProperties(this,{version:{value:m,writable:!1,enumerable:!1,configurable:!1},keyId:{value:E,writable:!1,configurable:!1},cipherSpec:{value:M,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:B,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var l;l={};switch(this.version){case q.V1:l.keyid=this.keyId;this.iv&&(l.iv=ka(this.iv));l.ciphertext=ka(this.ciphertext);l.sha256="AA==";break;case q.V2:l.version=this.version;l.cipherspec=this.cipherSpec;this.iv&&(l.iv=ka(this.iv));l.ciphertext=ka(this.ciphertext);break;default:throw new W("Ciphertext envelope version "+this.version+" encoding unsupported.");}return l;}});fd=function(l,m,q,J){new ed(l,m,q,J);};gd=function(t,B,H){m(H,function(){var m,N,E,M,T,L,C;m=t.keyid;N=t.cipherspec;E=t.iv;M=t.ciphertext;T=t.sha256;if(!B)if((B=t.version)&&"number"===typeof B&&B===B){L=!1;for(C in q)if(q[C]==B){L=!0;break;}if(!L)throw new U(l.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}else B=q.V1;switch(B){case q.V1:if("string"!==typeof m||E&&"string"!==typeof E||"string"!==typeof M||"string"!==typeof T)throw new ga(l.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case q.V2:C=t.version;if(C!=q.V2)throw new U(l.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!==typeof N||E&&"string"!==typeof E||"string"!==typeof M)throw new ga(l.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));N=Nd(N);if(!N)throw new U(l.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));m=N;break;default:throw new U(l.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}try{E&&(E=na(E));M=na(M);}catch(I){throw new U(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),I);}new ed(m,E,M,H);});};}());(function(){var q;q=kd={V1:1,V2:2};pb=ca.Class.create({init:function(l,m,t){var J;switch(l){case q.V1:J=t;break;case q.V2:J={};J.version=l;J.algorithm=m;J.signature=ka(t);J=Ia(JSON.stringify(J),ya);break;default:throw new W("Signature envelope version "+l+" encoding unsupported.");}Object.defineProperties(this,{version:{value:l,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:m,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:J,writable:!1,configurable:!1}});}});id=function(){var l,t,B,J;2==arguments.length?(l=q.V1,t=arguments[0],B=null,J=arguments[1]):3==arguments.length&&(l=q.V2,B=arguments[0],t=arguments[1],J=arguments[2]);m(J,function(){return new pb(l,B,t);});};jd=function(t,B,H){m(H,function(){var m,N,E,M,T,L,C;if(B)switch(B){case q.V1:return new pb(q.V1,null,t);case q.V2:try{m=Qa(t,ya);N=JSON.parse(m);E=parseInt(N.version);M=N.algorithm;T=N.signature;if(!E||"number"!==typeof E||E!=E||"string"!==typeof M||"string"!==typeof T)throw new ga(l.JSON_PARSE_ERROR,"signature envelope "+ka(t));if(q.V2!=E)throw new U(l.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ka(t));L=$c(M);if(!L)throw new U(l.UNIDENTIFIED_ALGORITHM,"signature envelope "+ka(t));C=na(T);if(!C)throw new U(l.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(t));return new pb(q.V2,L,C);}catch(I){if(I instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"signature envelope "+ka(t),I);throw I;}default:throw new U(l.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ka(t));}try{m=Qa(t,ya);N=JSON.parse(m);}catch(I){N=null;}if(N&&N.version){if(m=N.version,"number"!==typeof m||m!==m)m=q.V1;}else m=q.V1;switch(m){case q.V1:return new pb(m,null,t);case q.V2:L=N.algorithm;T=N.signature;if("string"!==typeof L||"string"!==typeof T)return new pb(q.V1,null,t);L=$c(L);if(!L)return new pb(q.V1,null,t);try{C=na(T);}catch(I){return new pb(q.V1,null,t);}return new pb(m,L,C);default:throw new U(l.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+t);}});};}());ac=ca.Class.create({encrypt:function(l,m){},decrypt:function(l,m){},wrap:function(l,m){},unwrap:function(l,m,q,t){},sign:function(l,m){},verify:function(l,m,q){}});(function(){var q;q=Ab={RSA_OAEP:zc.name,A128KW:ob.name};vb="A128GCM";zb=ca.Class.create({init:function(l,m,t,J,N){switch(m){case q.RSA_OAEP:N=N&&(N.rawKey||N);J=J&&(J.rawKey||J);break;case q.A128KW:N=J=J&&(J.rawKey||J);break;default:throw new W("Unsupported algorithm: "+m);}Object.defineProperties(this,{_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_algo:{value:m,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:N,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:J,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(m,q){q.error(new U(l.ENCRYPT_NOT_SUPPORTED));},decrypt:function(m,q){q.error(new U(l.DECRYPT_NOT_SUPPORTED));},wrap:function(q,t){m(t,function(){xa.wrapKey("jwe+jwk",q.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(l){t.result(l);},function(m){t.error(new U(l.WRAP_ERROR));});},this);},unwrap:function(q,t,B,J){function N(q){m(J,function(){switch(q.type){case"secret":Yb(q,J);break;case"public":Kb(q,J);break;case"private":Zb(q,J);break;default:throw new U(l.UNSUPPORTED_KEY,"type: "+q.type);}});}m(J,function(){xa.unwrapKey("jwe+jwk",q,this._unwrapKey,this._unwrapKey.algorithm,t,!1,B).then(function(l){N(l);},function(){J.error(new U(l.UNWRAP_ERROR));});},this);},sign:function(m,q){q.error(new U(l.SIGN_NOT_SUPPORTED));},verify:function(m,q,t){t.error(new U(l.VERIFY_NOT_SUPPORTED));}});}());bc=ac.extend({encrypt:function(l,m){m.result(l);},decrypt:function(l,m){m.result(l);},wrap:function(l,m){m.result(l);},unwrap:function(l,m,q,t){t.result(l);},sign:function(l,m){m.result(new Uint8Array(0));},verify:function(l,m,q){q.result(!0);}});(function(){var q;q=Cc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Bc=ac.extend({init:function za(l,m,N,E,M){za.base.call(this);N&&(N=N.rawKey);E&&(E=E.rawKey);Object.defineProperties(this,{id:{value:m,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:N,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:E,writable:!1,enumerable:!1,configurable:!1},transform:{value:M==q.ENCRYPT_DECRYPT_PKCS1?bd:M==q.ENCRYPT_DECRYPT_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:M==q.WRAP_UNWRAP_PKCS1?bd:M==q.WRAP_UNWRAP_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:M==q.SIGN_VERIFY?Qd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var J;J=this;m(t,function(){if("nullOp"==this.transform)return q;if(!this.publicKey)throw new U(l.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==q.length)return q;xa.encrypt(J.transform,J.publicKey,q).then(function(m){fd(J.id,null,m,{result:function(m){var q;try{q=JSON.stringify(m);t.result(Ia(q,ya));}catch(T){t.error(new U(l.ENCRYPT_ERROR,null,T));}},error:function(m){m instanceof B||(m=new U(l.ENCRYPT_ERROR,null,m));t.error(m);}});},function(m){t.error(new U(l.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var J;J=this;m(t,function(){var m,E;if("nullOp"==this.transform)return q;if(!this.privateKey)throw new U(l.DECRYPT_NOT_SUPPORTED,"no private key");if(0==q.length)return q;try{E=Qa(q,ya);m=JSON.parse(E);}catch(M){if(M instanceof SyntaxError)throw new U(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,M);throw new U(l.DECRYPT_ERROR,null,M);}gd(m,hd.V1,{result:function(m){var q;try{if(m.keyId!=J.id)throw new U(l.ENVELOPE_KEY_ID_MISMATCH);q=t.result;xa.decrypt(J.transform,J.privateKey,m.ciphertext).then(q,function(m){t.error(new U(l.DECRYPT_ERROR));});}catch(L){L instanceof B?t.error(L):t.error(new U(l.DECRYPT_ERROR,null,L));}},error:function(m){m instanceof ga&&(m=new U(l.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,m));m instanceof B||(m=new U(l.DECRYPT_ERROR,null,m));t.error(m);}});},this);},wrap:function(q,t){m(t,function(){var m;if("nullOp"==this.wrapTransform||!this.publicKey)throw new U(l.WRAP_NOT_SUPPORTED,"no public key");m=t.result;xa.wrapKey("jwk",q.rawKey,this.publicKey,this.wrapTransform).then(m,function(m){t.error(new U(l.WRAP_ERROR));});},this);},unwrap:function(q,t,J,N){function E(q){m(N,function(){switch(q.type){case"secret":Yb(q,N);break;case"public":Kb(q,N);break;case"private":Zb(q,N);break;default:throw new U(l.UNSUPPORTED_KEY,"type: "+q.type);}});}m(N,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new U(l.UNWRAP_NOT_SUPPORTED,"no private key");xa.unwrapKey("jwk",q,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,J).then(E,function(m){N.error(new U(l.UNWRAP_ERROR));});},this);},sign:function(q,t){m(t,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new U(l.SIGN_NOT_SUPPORTED,"no private key");xa.sign(this.algo,this.privateKey,q).then(function(l){id(l,{result:function(l){t.result(l.bytes);},error:t.error});},function(m){t.error(new U(l.SIGNATURE_ERROR));});},this);},verify:function(q,t,J){var N;N=this;m(J,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new U(l.VERIFY_NOT_SUPPORTED,"no public key");jd(t,kd.V1,{result:function(E){m(J,function(){var m;m=J.result;xa.verify(this.algo,this.publicKey,E.signature,q).then(m,function(m){J.error(new U(l.SIGNATURE_ERROR));});},N);},error:J.error});},this);}});}());(function(){Dc=ac.extend({init:function Ra(l,m,q,N,E){Ra.base.call(this);q=q&&q.rawKey;N=N&&N.rawKey;E=E&&E.rawKey;Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},id:{value:m,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:q,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:N,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:E,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var H;H=this;m(t,function(){var m;if(!this.encryptionKey)throw new U(l.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;m=new Uint8Array(16);this.ctx.getRandom().nextBytes(m);xa.encrypt({name:sb.name,iv:m},H.encryptionKey,q).then(function(q){q=new Uint8Array(q);fd(H.id,m,q,{result:function(m){var q;try{q=JSON.stringify(m);t.result(Ia(q,ya));}catch(T){t.error(new U(l.ENCRYPT_ERROR,null,T));}},error:function(m){m instanceof B||(m=new U(l.ENCRYPT_ERROR,null,m));t.error(m);}});},function(m){t.error(new U(l.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var H;H=this;m(t,function(){var m,N;if(!this.encryptionKey)throw new U(l.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;try{N=Qa(q,ya);m=JSON.parse(N);}catch(E){if(E instanceof SyntaxError)throw new U(l.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,E);throw new U(l.DECRYPT_ERROR,null,E);}gd(m,hd.V1,{result:function(m){try{if(m.keyId!=H.id)throw new U(l.ENVELOPE_KEY_ID_MISMATCH);xa.decrypt({name:sb.name,iv:m.iv},H.encryptionKey,m.ciphertext).then(function(l){l=new Uint8Array(l);t.result(l);},function(){t.error(new U(l.DECRYPT_ERROR));});}catch(M){M instanceof B?t.error(M):t.error(new U(l.DECRYPT_ERROR,null,M));}},error:function(m){m instanceof ga&&(m=new U(l.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,m));m instanceof B||(m=new U(l.DECRYPT_ERROR,null,m));t.error(m);}});},this);},wrap:function(q,t){m(t,function(){if(!this.wrapKey)throw new U(l.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");xa.wrapKey("raw",q.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(l){t.result(l);},function(m){t.error(new U(l.WRAP_ERROR));});},this);},unwrap:function(q,t,B,J){function N(q){m(J,function(){switch(q.type){case"secret":Yb(q,J);break;case"public":Kb(q,J);break;case"private":Zb(q,J);break;default:throw new U(l.UNSUPPORTED_KEY,"type: "+q.type);}});}m(J,function(){if(!this.wrapKey)throw new U(l.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");xa.unwrapKey("raw",q,this.wrapKey,this.wrapKey.algorithm,t,!1,B).then(function(l){N(l);},function(m){J.error(new U(l.UNWRAP_ERROR));});},this);},sign:function(q,t){var B;B=this;m(t,function(){if(!this.hmacKey)throw new U(l.SIGN_NOT_SUPPORTED,"no HMAC key.");xa.sign(tb,this.hmacKey,q).then(function(l){m(t,function(){var m;m=new Uint8Array(l);id(m,{result:function(l){t.result(l.bytes);},error:t.error});},B);},function(){t.error(new U(l.HMAC_ERROR));});},this);},verify:function(q,t,B){var J;J=this;m(B,function(){if(!this.hmacKey)throw new U(l.VERIFY_NOT_SUPPORTED,"no HMAC key.");jd(t,kd.V1,{result:function(t){m(B,function(){xa.verify(tb,this.hmacKey,t.signature,q).then(function(l){B.result(l);},function(m){B.error(new U(l.HMAC_ERROR));});},J);},error:B.error});},this);}});}());bb=Dc.extend({init:function Ra(m,q,t,N,E){if(t||N||E)Ra.base.call(this,m,t+"_"+q.sequenceNumber,N,E,null);else{if(!q.isDecrypted())throw new Nb(l.MASTERTOKEN_UNTRUSTED,q);Ra.base.call(this,m,q.identity+"_"+q.sequenceNumber,q.encryptionKey,q.hmacKey,null);}}});We=ac.extend({encrypt:function(l,m){m.result(l);},decrypt:function(l,m){m.result(l);},wrap:function(l,m){m.error(new W("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(l,m,q,t){t.error(new W("Unwrap is unsupported by the MSL token crypto context."));},sign:function(l,m){m.result(new Uint8Array(0));},verify:function(l,m,q){q.result(!1);}});Da={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Da);(function(){Mb=ca.Class.create({init:function(l){Object.defineProperties(this,{scheme:{value:l,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(l){return this===l?!0:l instanceof Mb?this.scheme==l.scheme:!1;},toJSON:function(){var l;l={};l.scheme=this.scheme;l.authdata=this.getAuthData();return l;}});Sd=function(m,q){var t,J,N;t=q.scheme;J=q.authdata;if(!t||!J)throw new ga(l.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(q));if(!Da[t])throw new wb(l.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);N=m.getEntityAuthenticationFactory(t);if(!N)throw new wb(l.ENTITYAUTH_FACTORY_NOT_FOUND,t);return N.createData(m,J);};}());Ec=ca.Class.create({init:function(l){Object.defineProperties(this,{scheme:{value:l,writable:!1,configurable:!1}});},createData:function(l,m){},getCryptoContext:function(l,m){}});(function(){mb=Mb.extend({init:function za(l){za.base.call(this,Da.MGK);Object.defineProperties(this,{identity:{value:l,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var l;l={};l.identity=this.identity;return l;},equals:function Aa(l){return this===l?!0:l instanceof mb?Aa.base.call(this,this,l)&&this.identity==l.identity:!1;}});Td=function(m){var q;q=m.identity;if(!q)throw new ga(l.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(m));return new mb(q);};}());Xe=Ec.extend({init:function za(l){za.base.call(this,Da.MGK);Object.defineProperties(this,{localIdentity:{value:l,writable:!1,enumerable:!1,configurable:!1}});},createData:function(l,m){return Td(m);},getCryptoContext:function(m,q){if(!(q instanceof mb))throw new W("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new wb(l.ENTITY_NOT_FOUND,"mgk "+q.identity).setEntity(q);return new bc();}});(function(){qb=Mb.extend({init:function Aa(l){Aa.base.call(this,Da.PSK);Object.defineProperties(this,{identity:{value:l,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var l;l={};l.identity=this.identity;return l;},equals:function J(l){return this===l?!0:l instanceof qb?J.base.call(this,this,l)&&this.identity==l.identity:!1;}});Ud=function(m){var q;q=m.identity;if(!q)throw new ga(l.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(m));return new qb(q);};}());Vd=Ec.extend({init:function Aa(l){Aa.base.call(this,Da.PSK);Object.defineProperties(this,{localIdentity:{value:l,writable:!1,enumerable:!1,configurable:!1}});},createData:function(l,m){return Ud(m);},getCryptoContext:function(m,q){if(!(q instanceof qb))throw new W("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.getIdentity()!=this.localIdentity)throw new wb(l.ENTITY_NOT_FOUND,"psk "+q.identity).setEntity(q);return new bc();}});(function(){Fc=Mb.extend({init:function J(l,m){J.base.call(this,Da.RSA);Object.defineProperties(this,{identity:{value:l,writable:!1,configurable:!1},publicKeyId:{value:m,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var l;l={};l.identity=this.identity;l.pubkeyid=this.publicKeyId;return l;},equals:function N(l){return this===l?!0:l instanceof Fc?N.base.call(this,this,l)&&this.identity==l.identity&&this.publicKeyId==l.publicKeyId:!1;}});Wd=function(m){var q,M;q=m.identity;M=m.pubkeyid;if(!q||"string"!==typeof q||!M||"string"!==typeof M)throw new ga(l.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(m));return new Fc(q,M);};}());Ye=Ec.extend({init:function J(l){J.base.call(this,Da.RSA);Object.defineProperties(this,{store:{value:l,writable:!1,enumerable:!1,configurable:!1}});},createData:function(l,m){return Wd(m);},getCryptoContext:function(m,q){var E,M,t;if(!(q instanceof Fc))throw new W("Incorrect authentication data type "+q+".");E=q.identity;M=q.publicKeyId;t=this.store.getPublicKey(M);if(!t)throw new wb(l.RSA_PUBLICKEY_NOT_FOUND,M).setEntity(q);return new Bc(m,E,null,t,Cc.SIGN_VERIFY);}});(function(){hc=Mb.extend({init:function N(l){N.base.call(this,Da.NONE);Object.defineProperties(this,{identity:{value:l,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var l;l={};l.identity=this.identity;return l;},equals:function E(l){return this===l?!0:l instanceof hc?E.base.call(this,this,l)&&this.identity==l.identity:!1;}});Xd=function(m){var q;q=m.identity;if(!q)throw new ga(l.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(m));return new hc(q);};}());Te=Ec.extend({init:function N(){N.base.call(this,Da.NONE);},createData:function(l,m){return Xd(m);},getCryptoContext:function(l,m){if(!(m instanceof hc))throw new W("Incorrect authentication data type "+JSON.stringify(m)+".");return new bc();}});Ze=ca.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(l,m){if(!(m instanceof Ac))throw new W("Incorrect key data type "+m+".");this.rsaKeys[l]=m;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(l){delete this.rsaKeys[l];},getPublicKey:function(l){return this.rsaKeys[l];}});ld=ca.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(l,m,q){}});Gc=ca.Class.create({abort:function(){},close:function(l,m){},write:function(l,m,q,t,L){},flush:function(l,m){}});$e=ca.Class.create({init:function(l){Object.defineProperties(this,{_data:{value:l,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Ma("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(l,m,q){t(q,function(){var m;if(this._closed)throw new Ma("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==l&&(l=this._data.length-this._currentPosition);m=this._data.subarray(this._currentPosition,this._currentPosition+l);this._currentPosition+=m.length;return m;},this);}});af=ca.Class.create({init:function(){var l;l={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},abort:function(){},close:function(l,m){this._closed=!0;m.result(!0);},write:function(l,m,q,T,L){t(L,function(){var C;if(this._closed)throw new Ma("Stream is already closed.");if(0>m)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(m+q>l.length)throw new RangeError("Offset plus length cannot be greater than the array length.");C=l.subarray(m,q);this._buffered.push(C);return C.length;},this);},flush:function(l,m){var q,E;for(;0<this._buffered.length;){q=this._buffered.shift();if(this._result){E=new Uint8Array(this._result.length+q.length);E.set(this._result);E.set(q,this._result.length);this._result=E;}else this._result=new Uint8Array(q);}m.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});bf=ca.Class.create({getResponse:function(l,m,q){}});(function(){var l,m;l=Gc.extend({init:function(l,m){var q;q={_httpLocation:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:m,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new af(),writable:!1,enumerable:!1,configurable:!1},_response:{value:X,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:X,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(l){this._timeout=l;},getResponse:function(l,m){var q;q=this;this._responseQueue.poll(l,{result:function(l){t(m,function(){l&&this._responseQueue.add(l);return l;},q);},timeout:function(){t(m,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();m.timeout();},q);},error:function(l){t(m,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw l;},q);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(l,m){var q;q=this;t(m,function(){var l;if(this._response)return!0;l=this._buffer.toByteArray();0<l.length&&(this._abortToken=this._httpLocation.getResponse({body:l},this._timeout,{result:function(l){q._response={response:l};q._responseQueue.add(q._response);},timeout:function(){q._response={isTimeout:!0};q._responseQueue.add(q._response);},error:function(l){q._response={isError:!0,error:l};q._responseQueue.add(q._response);}}));return!0;},this);},write:function(l,m,q,C,I){t(I,function(){if(this._response)throw new Ma("HttpOutputStream already closed.");this._buffer.write(l,m,q,C,I);},this);},flush:function(l,m){t(m,function(){if(this._response)return!0;this._buffer.flush(l,m);},this);}});m=ld.extend({init:function(l){Object.defineProperties(this,{_out:{value:l,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:X,writable:!0,enumerable:!1,configurable:!1},_exception:{value:X,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:X,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(l,m,q){var I;function C(C){t(q,function(){if(!C)return new Uint8Array(0);this._out.getResponse(m,{result:function(C){t(q,function(){var E;if(C.isTimeout)this._timedout=!0,q.timeout();else{if(C.isError)throw this._exception=C.error||new Ma("Unknown HTTP exception."),this._exception;if(!C.response)throw this._exception=new Ma("Missing HTTP response."),this._exception;C.response.json!==X&&(this._json=C.response.json,this.getJSON=function(){return I._json;});E=C.response.content||Rc("string"===typeof C.response.body?C.response.body:JSON.stringify(this._json));this._buffer=new $e(E);this._buffer.read(l,m,q);}},I);},timeout:function(){q.timeout();},error:function(l){q.error(l);}});},I);}I=this;t(q,function(){if(this._exception)throw this._exception;if(this._timedout)q.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(l,m,q):this._out.close(m,{result:function(l){C(l);},timeout:function(){q.timeout();},error:function(l){q.error(l);}});}},I);}});Ed=ca.Class.create({init:function(l,m){Object.defineProperties(this,{_httpLocation:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:m,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(l){this._timeout=l;},openConnection:function(){var q;q=new l(this._httpLocation,this._timeout);return{input:new m(q),output:q};}});}());(function(){var l,m;l=Gc.extend({init:function(){var l;l={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},getResponse:function(l,m){m.result({success:!1,content:null,errorHttpCode:X,errorSubCode:X});},abort:function(){},close:function(l,m){m.result(!0);},write:function(l,m,q,C,I){var E,M;try{if(0>m)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(m+q>l.length)throw new RangeError("Offset plus length cannot be greater than the array length.");E=l.subarray(m,q);M=new Uint8Array(this._buffer.length+E.length);M.set(this._buffer);M.set(E,this._buffer.length);this._buffer=M;I.result(E.length);}catch(Ea){I.error(Ea);}},flush:function(l,m){m.result(!0);},request:function(){return this._buffer;}});m=ld.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(l,m,q){q.result(new Uint8Array(16));}});Fd=ca.Class.create({init:function(){var q;q={output:{value:new l(),writable:!1,enumerable:!1,configurable:!1},input:{value:new m(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Qc(this.output.request());}});}());Yd=function(l,m,q){function E(l){var m,q;l=new cf(Qa(l,"utf-8"));m=[];for(q=l.nextValue();q!==X;)m.push(q),q=l.nextValue();return m;}(function(l,m,I){l.read(-1,m,{result:function(l){l&&l.length?I(null,l):I(null,null);},timeout:function(){q.timeout();},error:function(l){I(l,null);}});}(l,m,function(m,C){m?q.error(m):C?l.getJSON!==X&&"function"===typeof l.getJSON?q.result(l.getJSON()):q.result(E(C)):q.result(null);}));};lb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lb);(function(){jc=ca.Class.create({init:function(l){Object.defineProperties(this,{keyExchangeScheme:{value:l,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var l;l={};l.scheme=this.keyExchangeScheme;l.keydata=this.getKeydata();return l;},equals:function(l){return this===l?!0:l instanceof jc?this.keyExchangeScheme==l.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Zd=function(q,E,t){m(t,function(){var m,M,C;m=E.scheme;M=E.keydata;if(!m||!M||"object"!==typeof M)throw new ga(l.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(E));if(!lb[m])throw new Ca(l.UNIDENTIFIED_KEYX_SCHEME,m);C=q.getKeyExchangeFactory(m);if(!C)throw new Ca(l.KEYX_FACTORY_NOT_FOUND,m);C.createRequestData(q,M,t);});};}());(function(){kc=ca.Class.create({init:function(l,m){Object.defineProperties(this,{masterToken:{value:l,writable:!1,configurable:!1},keyExchangeScheme:{value:m,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var l;l={};l.mastertoken=this.masterToken;l.scheme=this.keyExchangeScheme;l.keydata=this.getKeydata();return l;},equals:function(l){return this===l?!0:l instanceof kc?this.masterToken.equals(l.masterToken)&&this.keyExchangeScheme==l.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});$d=function(q,E,t){m(t,function(){var M,L,C;M=E.mastertoken;L=E.scheme;C=E.keydata;if(!L||!M||"object"!==typeof M||!C||"object"!==typeof C)throw new ga(l.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(E));if(!lb[L])throw new Ca(l.UNIDENTIFIED_KEYX_SCHEME,L);Pb(q,M,{result:function(I){m(t,function(){var m;m=q.getKeyExchangeFactory(L);if(!m)throw new Ca(l.KEYX_FACTORY_NOT_FOUND,L);return m.createResponseData(q,I,C);});},error:function(l){t.error(l);}});});};}());(function(){var q;q=ca.Class.create({init:function(l,m){Object.defineProperties(this,{keyResponseData:{value:l,writable:!1,configurable:!1},cryptoContext:{value:m,writable:!1,configurable:!1}});}});rb=ca.Class.create({init:function(l){Object.defineProperties(this,{scheme:{value:l,writable:!1,configurable:!1}});},createRequestData:function(l,m,q){},createResponseData:function(l,m,q){},generateResponse:function(l,m,q,t){},getCryptoContext:function(l,m,q,t,C){},generateSessionKeys:function(q,t){m(t,function(){var m,E;m=new Uint8Array(16);E=new Uint8Array(32);q.getRandom().nextBytes(m);q.getRandom().nextBytes(E);ub(m,sb,Fb,{result:function(m){ub(E,tb,Ob,{result:function(l){t.result({encryptionKey:m,hmacKey:l});},error:function(m){t.error(new U(l.SESSION_KEY_CREATION_FAILURE,null,m));}});},error:function(m){t.error(new U(l.SESSION_KEY_CREATION_FAILURE,null,m));}});});},importSessionKeys:function(l,m,q){ub(l,sb,Fb,{result:function(l){ub(m,tb,Ob,{result:function(m){q.result({encryptionKey:l,hmacKey:m});},error:function(l){q.error(l);}});},error:function(l){q.error(l);}});}});rb.KeyExchangeData=q;}());(function(){var E,t,T;function q(q,C,I,t,M){m(M,function(){var qa,L;switch(C){case E.PSK:qa=new qb(t),L=q.getEntityAuthenticationFactory(Da.PSK);if(!L)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,C);qa=L.getCryptoContext(q,qa);return new zb(q,Ab.A128KW,vb,X);case E.MGK:qa=new mb(t);L=q.getEntityAuthenticationFactory(Da.MGK);if(!L)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,C);qa=L.getCryptoContext(q,qa);return new zb(q,Ab.A128KW,vb,X);case E.WRAP:qa=q.getMslCryptoContext();qa.unwrap(I,ob,Gb,{result:function(f){m(M,function(){return new zb(q,Ab.A128KW,vb,f);});},error:M.error});break;default:throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,C);}});}E={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};t=md=jc.extend({init:function C(l,m){C.base.call(this,lb.JWE_LADDER);switch(l){case E.WRAP:if(!m)throw new W("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:m=null;}Object.defineProperties(this,{mechanism:{value:l,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.mechanism=this.mechanism;this.wrapdata&&(l.wrapdata=ka(this.wrapdata));return l;},equals:function I(l){return l===this?!0:l instanceof md?I.base.call(this,l)&&this.mechanism==l.mechanism&&Xa(this.wrapdata,l.wrapdata):!1;},uniqueKey:function La(){var l;l=La.base.call(this)+":"+this.mechanism;this.wrapdata&&(l+=":"+jb(this.wrapdata));return l;}});T=be=kc.extend({init:function qa(l,m,f,d,a){qa.base.call(this,l,lb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:m,writable:!1,configurable:!1},wrapdata:{value:f,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.wrapkey=ka(this.wrapKey);l.wrapdata=ka(this.wrapdata);l.encryptionkey=ka(this.encryptionKey);l.hmackey=ka(this.hmacKey);return l;},equals:function Ea(l){return this===l?!0:l instanceof be?Ea.base.call(this,l)&&Xa(this.wrapKey,l.wrapKey)&&Xa(this.wrapdata,l.wrapdata)&&Xa(this.encryptionKey,l.encryptionKey)&&Xa(this.hmacKey,l.hmacKey):!1;},uniqueKey:function ua(){return ua.base.call(this)+":"+jb(this.wrapKey)+":"+jb(this.wrapdata)+":"+jb(this.encryptionKey)+":"+jb(this.hmacKey);}});ae=rb.extend({init:function f(d){f.base.call(this,lb.JWE_LADDER);Object.defineProperties(this,{repository:{value:d,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(f,d,a){m(a,function(){var a,c,k;a=d.mechanism;c=d.wrapdata;if(!a||a==E.WRAP&&(!c||"string"!==typeof c))throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(d));if(!E[a])throw new Ca(l.UNIDENTIFIED_KEYX_MECHANISM,a);switch(a){case E.WRAP:try{k=na(c);}catch(h){throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());}if(null==k||0==k.length)throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());break;default:k=null;}return new t(a,k);});},createResponseData:function(f,d,a){var b,c,k,h,g,n,p;f=a.wrapkey;b=a.wrapdata;c=a.encryptionkey;k=a.hmackey;if(!(f&&"string"===typeof f&&b&&"string"===typeof b&&c&&"string"===typeof c&&k)||"string"!==typeof k)throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));try{h=na(f);g=na(b);}catch(r){throw new U(l.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(a),r);}try{n=na(c);}catch(r){throw new U(l.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(a),r);}try{p=na(k);}catch(r){throw new U(l.INVALID_HMAC_KEY,"keydata "+JSON.stringify(a),r);}return new T(d,h,g,n,p);},generateResponse:function(f,d,a,b){var n,p;function c(a,g,c){n.generateSessionKeys(f,{result:function(d){m(b,function(){k(a,g,c,d.encryptionKey,d.hmacKey);},n);},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}});}function k(a,g,c,k,D){m(b,function(){q(f,d.mechanism,d.wrapdata,a,{result:function(a){a.wrap(g,{result:function(a){h(g,c,k,D,a);},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}});},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}});},n);}function h(a,c,d,h,k){m(b,function(){var n;n=new zb(f,Ab.A128KW,vb,a);n.wrap(d,{result:function(a){n.wrap(h,{result:function(b){g(c,k,d,a,h,b);},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}});},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}});},n);}function g(g,c,d,h,k,x){m(b,function(){var r;r=f.getTokenFactory();p?r.renewMasterToken(f,p,d,k,{result:function(a){m(b,function(){var d,p;d=new bb(f,a);p=new T(a,c,g,h,x);return new rb.KeyExchangeData(p,d,b);},n);},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;});}}):r.createMasterToken(f,a,d,k,{result:function(a){m(b,function(){var d,p;d=new bb(f,a);p=new T(a,c,g,h,x);return new rb.KeyExchangeData(p,d,b);},n);},error:b.error});},n);}n=this;m(b,function(){var g,h;if(!(d instanceof t))throw new W("Key request data "+JSON.stringify(d)+" was not created by this factory.");g=a;if(a instanceof gb){if(!a.isVerified())throw new Nb(l.MASTERTOKEN_UNTRUSTED,a);p=a;g=a.identity;}h=new Uint8Array(16);f.getRandom().nextBytes(h);ub(h,ob,Gb,{result:function(a){m(b,function(){f.getMslCryptoContext().wrap(a,{result:function(b){c(g,a,b);},error:function(a){m(b,function(){a instanceof B&&a.setEntity(p);throw a;},n);}});},n);},error:function(a){m(b,function(){throw new U(l.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(p);},n);}});},n);},getCryptoContext:function(f,d,a,b,c){var h;function k(a,b,d,r,k){m(c,function(){var g;g=new zb(f,Ab.A128KW,vb,k);g.unwrap(b.encryptionKey,sb,Fb,{result:function(p){g.unwrap(b.hmacKey,tb,Ob,{result:function(a){m(c,function(){this.repository.addCryptoContext(b.wrapdata,g);this.repository.removeCryptoContext(d);return new bb(f,b.masterToken,r,p,a);},h);},error:function(b){m(c,function(){b instanceof B&&b.setEntity(a);throw b;});}});},error:function(b){m(c,function(){b instanceof B&&b.setEntity(a);throw b;});}});},h);}h=this;m(c,function(){var b,n;if(!(d instanceof t))throw new W("Key request data "+JSON.stringify(d)+" was not created by this factory.");if(!(a instanceof T))throw new W("Key response data "+JSON.stringify(a)+" was not created by this factory.");b=d.mechanism;n=d.wrapdata;f.getEntityAuthenticationData(null,{result:function(g){m(c,function(){var d,p,h;d=g.getIdentity();switch(b){case E.PSK:p=new qb(d);h=f.getEntityAuthenticationFactory(Da.PSK);if(!h)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(g);p=h.getCryptoContext(f,p);p=new zb(f,Ab.A128KW,vb,X);break;case E.MGK:p=new mb(d);h=f.getEntityAuthenticationFactory(Da.MGK);if(!h)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(g);p=h.getCryptoContext(f,p);p=new zb(f,Ab.A128KW,vb,p.wrapKey);break;case E.WRAP:p=this.repository.getCryptoContext(n);if(!p)throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,ka(n)).setEntity(g);break;default:throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,b).setEntity(g);}p.unwrap(a.wrapKey,ob,Gb,{result:function(b){k(g,a,n,d,b);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(g);throw a;});}});},h);},error:c.error});},h);}});}());(function(){var E,t,T,L;function q(q,I,t,M,T){m(T,function(){var C,f;switch(I){case E.PSK:C=new qb(M),f=q.getEntityAuthenticationFactory(Da.PSK);if(!f)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,I);C=f.getCryptoContext(q,C);return new L(X);case E.MGK:C=new mb(M);f=q.getEntityAuthenticationFactory(Da.MGK);if(!f)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,I);C=f.getCryptoContext(q,C);return new L(X);case E.WRAP:C=q.getMslCryptoContext();C.unwrap(t,ob,Gb,{result:function(d){m(T,function(){return new L(d);});},error:T.error});break;default:throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,I);}});}E={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};t=Hc=jc.extend({init:function I(l,m){I.base.call(this,lb.JWK_LADDER);switch(l){case E.WRAP:if(!m)throw new W("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:m=null;}Object.defineProperties(this,{mechanism:{value:l,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.mechanism=this.mechanism;this.wrapdata&&(l.wrapdata=ka(this.wrapdata));return l;},equals:function La(l){return l===this?!0:l instanceof Hc?La.base.call(this,l)&&this.mechanism==l.mechanism&&Xa(this.wrapdata,l.wrapdata):!1;},uniqueKey:function qa(){var l;l=qa.base.call(this)+":"+this.mechanism;this.wrapdata&&(l+=":"+jb(this.wrapdata));return l;}});T=ce=kc.extend({init:function Ea(l,f,d,a,b){Ea.base.call(this,l,lb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:f,writable:!1,configurable:!1},wrapdata:{value:d,writable:!1,configurable:!1},encryptionKey:{value:a,writable:!1,configurable:!1},hmacKey:{value:b,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.wrapkey=ka(this.wrapKey);l.wrapdata=ka(this.wrapdata);l.encryptionkey=ka(this.encryptionKey);l.hmackey=ka(this.hmacKey);return l;},equals:function ua(f){return this===f?!0:f instanceof ce?ua.base.call(this,f)&&Xa(this.wrapKey,f.wrapKey)&&Xa(this.wrapdata,f.wrapdata)&&Xa(this.encryptionKey,f.encryptionKey)&&Xa(this.hmacKey,f.hmacKey):!1;},uniqueKey:function f(){return f.base.call(this)+":"+jb(this.wrapKey)+":"+jb(this.wrapdata)+":"+jb(this.encryptionKey)+":"+jb(this.hmacKey);}});L=ac.extend({init:function(f){f&&f.rawKey&&(f=f.rawKey);Object.defineProperties(this,{_wrapKey:{value:f,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(f,d){d.error(new U(l.ENCRYPT_NOT_SUPPORTED));},decrypt:function(f,d){d.error(new U(l.DECRYPT_NOT_SUPPORTED));},wrap:function(f,d){m(d,function(){xa.wrapKey("jwk",f.rawKey,this._wrapKey,ob).then(function(a){d.result(a);},function(a){d.error(new U(l.WRAP_ERROR));});},this);},unwrap:function(f,d,a,b){function c(a){m(b,function(){switch(a.type){case"secret":Yb(a,b);break;case"public":Kb(a,b);break;case"private":Zb(a,b);break;default:throw new U(l.UNSUPPORTED_KEY,"type: "+a.type);}});}m(b,function(){xa.unwrapKey("jwk",f,this._wrapKey,ob,d,!1,a).then(function(a){c(a);},function(a){b.error(new U(l.UNWRAP_ERROR));});},this);},sign:function(f,d){d.error(new U(l.SIGN_NOT_SUPPORTED));},verify:function(f,d,a){a.error(new U(l.VERIFY_NOT_SUPPORTED));}});nd=rb.extend({init:function d(a){d.base.call(this,lb.JWK_LADDER);Object.defineProperties(this,{repository:{value:a,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(d,a,b){m(b,function(){var b,d,h;b=a.mechanism;d=a.wrapdata;if(!b||b==E.WRAP&&(!d||"string"!==typeof d))throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));if(!E[b])throw new Ca(l.UNIDENTIFIED_KEYX_MECHANISM,b);switch(b){case E.WRAP:try{h=na(d);}catch(g){throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());}if(null==h||0==h.length)throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());break;default:h=null;}return new t(b,h);});},createResponseData:function(d,a,b){var c,k,h,g,n,p,r;d=b.wrapkey;c=b.wrapdata;k=b.encryptionkey;h=b.hmackey;if(!(d&&"string"===typeof d&&c&&"string"===typeof c&&k&&"string"===typeof k&&h)||"string"!==typeof h)throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{g=na(d);n=na(c);}catch(u){throw new U(l.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(b),u);}try{p=na(k);}catch(u){throw new U(l.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),u);}try{r=na(h);}catch(u){throw new U(l.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),u);}return new T(a,g,n,p,r);},generateResponse:function(d,a,b,c){var p,r;function k(a,b,g){p.generateSessionKeys(d,{result:function(d){m(c,function(){h(a,b,g,d.encryptionKey,d.hmacKey);},p);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}});}function h(b,n,h,k,x){m(c,function(){q(d,a.mechanism,a.wrapdata,b,{result:function(a){a.wrap(n,{result:function(a){g(n,h,k,x,a);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}});},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}});},p);}function g(a,b,g,d,h){m(c,function(){var p;p=new L(a);p.wrap(g,{result:function(a){p.wrap(d,{result:function(c){n(b,h,g,a,d,c);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}});},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}});},p);}function n(a,g,n,h,k,w){m(c,function(){var u;u=d.getTokenFactory();r?u.renewMasterToken(d,r,n,k,{result:function(b){m(c,function(){var p,n;p=new bb(d,b);n=new T(b,g,a,h,w);return new rb.KeyExchangeData(n,p,c);},p);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;});}}):u.createMasterToken(d,b,n,k,{result:function(b){m(c,function(){var p,n;p=new bb(d,b);n=new T(b,g,a,h,w);return new rb.KeyExchangeData(n,p,c);},p);},error:c.error});},p);}p=this;m(c,function(){var g,n;if(!(a instanceof t))throw new W("Key request data "+JSON.stringify(a)+" was not created by this factory.");g=b;if(b instanceof gb){if(!b.isVerified())throw new Nb(l.MASTERTOKEN_UNTRUSTED,b);r=b;g=b.identity;}n=new Uint8Array(16);d.getRandom().nextBytes(n);ub(n,ob,Gb,{result:function(a){m(c,function(){d.getMslCryptoContext().wrap(a,{result:function(b){k(g,a,b);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(r);throw a;},p);}});},p);},error:function(a){m(c,function(){throw new U(l.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(r);},p);}});},p);},getCryptoContext:function(d,a,b,c,k){var g;function h(a,b,c,h,v){m(k,function(){var p;p=new L(v);p.unwrap(b.encryptionKey,sb,Fb,{result:function(n){p.unwrap(b.hmacKey,tb,Ob,{result:function(a){m(k,function(){this.repository.addCryptoContext(b.wrapdata,p);this.repository.removeCryptoContext(c);return new bb(d,b.masterToken,h,n,a);},g);},error:function(b){m(k,function(){b instanceof B&&b.setEntity(a);throw b;});}});},error:function(b){m(k,function(){b instanceof B&&b.setEntity(a);throw b;});}});},g);}g=this;m(k,function(){var c,p;if(!(a instanceof t))throw new W("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof T))throw new W("Key response data "+JSON.stringify(b)+" was not created by this factory.");c=a.mechanism;p=a.wrapdata;d.getEntityAuthenticationData(null,{result:function(a){m(k,function(){var g,n,r;g=a.getIdentity();switch(c){case E.PSK:n=new qb(g);r=d.getEntityAuthenticationFactory(Da.PSK);if(!r)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);n=r.getCryptoContext(d,n);n=new L(n.wrapKey);break;case E.MGK:n=new mb(g);r=d.getEntityAuthenticationFactory(Da.MGK);if(!r)throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);n=r.getCryptoContext(d,n);n=new L(n.wrapKey);break;case E.WRAP:n=this.repository.getCryptoContext(p);if(!n)throw new Ca(l.KEYX_WRAPPING_KEY_MISSING,ka(p)).setEntity(a);break;default:throw new Ca(l.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);}n.unwrap(b.wrapKey,ob,Gb,{result:function(c){h(a,b,p,g,c);},error:function(b){m(k,function(){b instanceof B&&b.setEntity(a);throw b;});}});},g);},error:k.error});},g);}});}());df=ca.Class.create({addCryptoContext:function(l,m){},getCryptoContext:function(l){},removeCryptoContext:function(l){}});(function(){var t,M,T,L;function q(m,q,E,M,L){switch(E){case t.JWE_RSA:case t.JWEJS_RSA:return new zb(m,Ab.RSA_OAEP,vb,M,L);case t.JWK_RSA:return new Bc(m,q,M,L,Cc.WRAP_UNWRAP_OAEP);case t.JWK_RSAES:return new Bc(m,q,M,L,Cc.WRAP_UNWRAP_PKCS1);default:throw new U(l.UNSUPPORTED_KEYX_MECHANISM,E);}}t=Ic={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};M=Wc=jc.extend({init:function I(l,m,q,t){I.base.call(this,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},mechanism:{value:m,writable:!1,configurable:!1},publicKey:{value:q,writable:!1,configurable:!1},privateKey:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.keypairid=this.keyPairId;l.mechanism=this.mechanism;l.publickey=ka(this.publicKey.getEncoded());return l;},equals:function La(l){var m;if(l===this)return!0;if(!(l instanceof Wc))return!1;m=this.privateKey===l.privateKey||this.privateKey&&l.privateKey&&Xa(this.privateKey.getEncoded(),l.privateKey.getEncoded());return La.base.call(this,l)&&this.keyPairId==l.keyPairId&&this.mechanism==l.mechanism&&Xa(this.publicKey.getEncoded(),l.publicKey.getEncoded())&&m;},uniqueKey:function qa(){var l,m;l=this.publicKey.getEncoded();m=this.privateKey&&this.privateKey.getEncoded();l=qa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+jb(l);m&&(l+=":"+jb(m));return l;}});T=function(q,E){m(E,function(){var m,f,d,a;m=q.keypairid;f=q.mechanism;d=q.publickey;if(!m||"string"!==typeof m||!f||!d||"string"!==typeof d)throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(q));if(!t[f])throw new Ca(l.UNIDENTIFIED_KEYX_MECHANISM,f);try{a=na(d);switch(f){case t.JWE_RSA:case t.JWEJS_RSA:case t.JWK_RSA:dd(a,zc,Gb,{result:function(a){E.result(new M(m,f,a,null));},error:function(a){E.error(a);}});break;case t.JWK_RSAES:dd(a,bd,Gb,{result:function(a){E.result(new M(m,f,a,null));},error:function(a){E.error(a);}});break;default:throw new U(l.UNSUPPORTED_KEYX_MECHANISM,f);}}catch(b){if(!(b instanceof B))throw new U(l.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(q),b);throw b;}});};L=de=kc.extend({init:function Ea(l,f,d,a){Ea.base.call(this,l,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:f,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var l;l={};l.keypairid=this.keyPairId;l.encryptionkey=ka(this.encryptionKey);l.hmackey=ka(this.hmacKey);return l;},equals:function ua(f){return this===f?!0:f instanceof de?ua.base.call(this,f)&&this.keyPairId==f.keyPairId&&Xa(this.encryptionKey,f.encryptionKey)&&Xa(this.hmacKey,f.hmacKey):!1;},uniqueKey:function f(){return f.base.call(this)+":"+this.keyPairId+":"+jb(this.encryptionKey)+":"+jb(this.hmacKey);}});Gd=rb.extend({init:function d(){d.base.call(this,lb.ASYMMETRIC_WRAPPED);},createRequestData:function(d,a,b){T(a,b);},createResponseData:function(d,a,b){var c,k,h,g;d=b.keypairid;c=b.encryptionkey;k=b.hmackey;if(!d||"string"!==typeof d||!c||"string"!==typeof c||!k||"string"!==typeof k)throw new ga(l.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{h=na(c);}catch(n){throw new U(l.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),n);}try{g=na(k);}catch(n){throw new U(l.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),n);}return new L(a,d,h,g);},generateResponse:function(d,a,b,c){var g;function k(n,p){m(c,function(){var r;r=q(d,a.keyPairId,a.mechanism,null,a.publicKey);r.wrap(n,{result:function(a){m(c,function(){r.wrap(p,{result:function(b){h(n,a,p,b);},error:function(a){m(c,function(){a instanceof B&&b instanceof gb&&a.setEntity(b);throw a;},g);}});},g);},error:function(a){m(c,function(){a instanceof B&&b instanceof gb&&a.setEntity(b);throw a;},g);}});},g);}function h(n,p,h,k){m(c,function(){var r;r=d.getTokenFactory();b instanceof gb?r.renewMasterToken(d,b,n,h,{result:function(b){m(c,function(){var g,n;g=new bb(d,b);n=new L(b,a.keyPairId,p,k);return new rb.KeyExchangeData(n,g,c);},g);},error:function(a){m(c,function(){a instanceof B&&a.setEntity(b);throw a;},g);}}):r.createMasterToken(d,b,n,h,{result:function(b){m(c,function(){var g,n;g=new bb(d,b);n=new L(b,a.keyPairId,p,k);return new rb.KeyExchangeData(n,g,c);},g);},error:c.error});},g);}g=this;m(c,function(){if(!(a instanceof M))throw new W("Key request data "+JSON.stringify(a)+" was not created by this factory.");this.generateSessionKeys(d,{result:function(a){k(a.encryptionKey,a.hmacKey);},error:function(a){m(c,function(){a instanceof B&&b instanceof gb&&a.setEntity(b);throw a;},g);}});},g);},getCryptoContext:function(d,a,b,c,k){var h;h=this;m(k,function(){var g,n,p;if(!(a instanceof M))throw new W("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof L))throw new W("Key response data "+JSON.stringify(b)+" was not created by this factory.");g=a.keyPairId;n=b.keyPairId;if(g!=n)throw new Ca(l.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+g+"; response "+n).setEntity(c);n=a.privateKey;if(!n)throw new Ca(l.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(c);p=q(d,g,a.mechanism,n,null);p.unwrap(b.encryptionKey,sb,Fb,{result:function(a){p.unwrap(b.hmacKey,tb,Ob,{result:function(g){d.getEntityAuthenticationData(null,{result:function(c){m(k,function(){var p;p=c.getIdentity();return new bb(d,b.masterToken,p,a,g);},h);},error:function(a){m(k,function(){a instanceof B&&a.setEntity(c);throw a;},h);}});},error:function(a){m(k,function(){a instanceof B&&a.setEntity(c);throw a;},h);}});},error:function(a){m(k,function(){a instanceof B&&a.setEntity(c);throw a;},h);}});},h);}});}());cf=ca.Class.create({init:function(l){var m,q,t,L,C,I,N,qa;m=ab.parser();q=[];t=[];N=0;qa=!1;m.onerror=function(l){qa||(qa=!0,m.end());};m.onopenobject=function(l){var m;if(L)L[I]={},t.push(L),L=L[I];else if(C){m={};t.push(C);C.push(m);L=m;C=X;}else L={};I=l;};m.oncloseobject=function(){var l;l=t.pop();l?"object"===typeof l?L=l:(L=X,C=l):(q.push(L),N=m.index,L=X);};m.onopenarray=function(){var l;if(L)L[I]=[],t.push(L),C=L[I],L=X;else if(C){l=[];t.push(C);C.push(l);C=l;}else C=[];};m.onclosearray=function(){var l;l=t.pop();l?"object"===typeof l?(L=l,C=X):C=l:(q.push(C),N=m.index,C=X);};m.onkey=function(l){I=l;};m.onvalue=function(l){L?L[I]=l:C?C.push(l):(q.push(l),N=m.index);};m.write(l).close();Object.defineProperties(this,{_values:{value:q,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:N,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?X:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var q,t,M,T,L;q=od="entityauthdata";t=fe="mastertoken";M=ge="headerdata";T=he="errordata";L=pd="signature";ee=function(C,I,E,qa){m(qa,function(){var m,N,f,d,a,b;m=I[q];N=I[t];f=I[L];if(m&&"object"!==typeof m||N&&"object"!==typeof N||"string"!==typeof f)throw new ga(l.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(I));try{d=na(f);}catch(c){throw new va(l.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(I),c);}a=null;m&&(a=Sd(C,m));b=I[M];if(b!=X&&null!=b){if("string"!==typeof b)throw new ga(l.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(I));N?Pb(C,N,{result:function(c){qd(C,b,a,c,d,E,qa);},error:function(a){qa.error(a);}}):qd(C,b,a,null,d,E,qa);}else if(m=I[T],m!=X&&null!=m){if("string"!==typeof m)throw new ga(l.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(I));ie(C,m,a,d,qa);}else throw new ga(l.JSON_PARSE_ERROR,JSON.stringify(I));});};}());(function(){function t(l,m){this.errordata=l;this.signature=m;}Jb=ca.Class.create({init:function(q,t,T,L,C,I,N,qa,Ea,ua){var f;f=this;m(ua,function(){var d,a;0>I&&(I=-1);if(0>L||L>sa)throw new W("Message ID "+L+" is out of range.");if(!t)throw new va(l.MESSAGE_ENTITY_NOT_FOUND);if(Ea)return Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:T,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:I,writable:!1,configurable:!1},errorMessage:{value:N,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:Ea.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea.signature,writable:!1,enumerable:!1,configurable:!1}}),this;d={};T&&(d.recipient=T);d.messageid=L;d.errorcode=C;0<I&&(d.internalcode=I);N&&(d.errormsg=N);qa&&(d.usermsg=qa);try{a=q.getEntityAuthenticationFactory(t.scheme).getCryptoContext(q,t);}catch(b){throw b instanceof B&&(b.setEntity(t),b.setMessageId(L)),b;}d=Ia(JSON.stringify(d),ya);a.encrypt(d,{result:function(b){m(ua,function(){a.sign(b,{result:function(a){m(ua,function(){Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:T,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:I,writable:!1,configurable:!1},errorMessage:{value:N,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},f);},error:function(a){m(ua,function(){a instanceof B&&(a.setEntity(t),a.setMessageId(L));throw a;},f);}});},f);},error:function(a){m(ua,function(){a instanceof B&&(a.setEntity(t),a.setMessageId(L));throw a;},f);}});},f);},toJSON:function(){var l;l={};l[od]=this.entityAuthenticationData;l[he]=ka(this.errordata);l[pd]=ka(this.signature);return l;}});je=function(l,m,q,t,C,I,N,qa,Ea){new Jb(l,m,q,t,C,I,N,qa,null,Ea);};ie=function(E,M,T,L,C){m(C,function(){var I,N,qa;if(!T)throw new va(l.MESSAGE_ENTITY_NOT_FOUND);try{N=T.scheme;qa=E.getEntityAuthenticationFactory(N);if(!qa)throw new wb(l.ENTITYAUTH_FACTORY_NOT_FOUND,N);I=qa.getCryptoContext(E,T);}catch(Ea){throw Ea instanceof B&&Ea.setEntity(T),Ea;}try{M=na(M);}catch(Ea){throw new va(l.HEADER_DATA_INVALID,M,Ea).setEntity(T);}if(!M||0==M.length)throw new va(l.HEADER_DATA_MISSING,M).setEntity(T);I.verify(M,L,{result:function(qa){m(C,function(){if(!qa)throw new U(l.MESSAGE_VERIFICATION_FAILED).setEntity(T);I.decrypt(M,{result:function(I){m(C,function(){var f,d,a,b,c,k,h,g;f=Qa(I,ya);try{d=JSON.parse(f);}catch(p){if(p instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"errordata "+f,p).setEntity(T);throw p;}a=d.recipient!==X?d.recipient:null;b=parseInt(d.messageid);c=parseInt(d.errorcode);k=parseInt(d.internalcode);h=d.errormsg;g=d.usermsg;if(a&&"string"!==typeof a||!b||b!=b||!c||c!=c||d.internalcode&&k!=k||h&&"string"!==typeof h||g&&"string"!==typeof g)throw new ga(l.JSON_PARSE_ERROR,"errordata "+f).setEntity(T);if(0>b||b>sa)throw new va(l.MESSAGE_ID_OUT_OF_RANGE,"errordata "+f).setEntity(T);d=!1;for(var n in q)if(q[n]==c){d=!0;break;}d||(c=q.FAIL);if(k){if(0>k)throw new va(l.INTERNAL_CODE_NEGATIVE,"errordata "+f).setEntity(T).setMessageId(b);}else k=-1;f=new t(M,L);new Jb(E,T,a,b,c,k,h,g,f,C);});},error:function(l){m(C,function(){l instanceof B&&l.setEntity(T);throw l;});}});});},error:function(l){m(C,function(){l instanceof B&&l.setEntity(T);throw l;});}});});};}());ef=ca.Class.create({getUserMessage:function(l,m){}});(function(){rd=function(l,m){var q,t;if(!l||!m)return null;q=l.compressionAlgorithms.filter(function(l){for(var q=0;q<m.compressionAlgorithms.length;++q)if(l==m.compressionAlgorithms[q])return!0;return!1;});t=l.languages.filter(function(l){for(var q=0;q<m.languages.length;++q)if(l==m.languages[q])return!0;return!1;});return new lc(q,t);};lc=ca.Class.create({init:function(l,m){l||(l=[]);m||(m=[]);l.sort();Object.defineProperties(this,{compressionAlgorithms:{value:l,writable:!1,enumerable:!0,configurable:!1},languages:{value:m,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var l;l={};l.compressionalgos=this.compressionAlgorithms;l.languages=this.languages;return l;},equals:function(l){return this===l?!0:l instanceof lc?zd(this.compressionAlgorithms,l.compressionAlgorithms)&&zd(this.languages,l.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ke=function(m){var q,t,L;q=m.compressionalgos;t=m.languages;if(q&&!(q instanceof Array)||t&&!(t instanceof Array))throw new ga(l.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(m));m=[];for(var T=0;q&&T<q.length;++T){L=q[T];Lb[L]&&m.push(L);}return new lc(m,t);};}());(function(){var ua,f;function q(d,a,b,c,k){this.customer=d;this.sender=a;this.messageCryptoContext=b;this.headerdata=c;this.signature=k;}function t(d,a,b,c,k,h,g,n,p,r,u,v,f,D,x,w,z,y,F,K){return{cryptoContext:{value:a,writable:!1,configurable:!1},customer:{value:b,writable:!1,configurable:!1},entityAuthenticationData:{value:c,writable:!1,configurable:!1},masterToken:{value:k,writable:!1,configurable:!1},sender:{value:h,writable:!1,configurable:!1},messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:w,writable:!1,configurable:!1},keyRequestData:{value:n,writable:!1,configurable:!1},keyResponseData:{value:p,writable:!1,configurable:!1},userAuthenticationData:{value:r,writable:!1,configurable:!1},userIdToken:{value:u,writable:!1,configurable:!1},serviceTokens:{value:v,writable:!1,configurable:!1},peerMasterToken:{value:f,writable:!1,configurable:!1},peerUserIdToken:{value:D,writable:!1,configurable:!1},peerServiceTokens:{value:x,writable:!1,configurable:!1},messageCapabilities:{value:y,writable:!1,configurable:!1},renewable:{value:z,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:F,writable:!1,enumerable:!1,configurable:!1},signature:{value:K,writable:!1,enumerable:!1,configurable:!1}};}function M(d,a,b){var c;if(b){if(a=d.getMslStore().getCryptoContext(b))return a;if(!b.isVerified()||!b.isDecrypted())throw new Nb(l.MASTERTOKEN_UNTRUSTED,b);return new bb(d,b);}b=a.scheme;c=d.getEntityAuthenticationFactory(b);if(!c)throw new wb(l.ENTITYAUTH_FACTORY_NOT_FOUND,b);return c.getCryptoContext(d,a);}function T(d,a,b,c,k){m(k,function(){a.verify(b,c,{result:function(c){m(k,function(){if(!c)throw new U(l.MESSAGE_VERIFICATION_FAILED);a.decrypt(b,{result:function(a){m(k,function(){return Qa(a,ya);});},error:function(a){k.error(a);}});});},error:function(a){k.error(a);}});});}function L(d,a,b){m(b,function(){if(a)$d(d,a,b);else return null;});}function C(d,a,b,c){m(c,function(){if(a)Qb(d,a,b,c);else return null;});}function I(d,a,b,c){m(c,function(){if(b)oe(d,a,b,c);else return null;});}function La(d,a,b,c,k,h,g){var p;function n(a,g,v){var r,u;if(g>=a.length){r=[];for(u in p)r.push(p[u]);v.result(r);}else{r=a[g];if("object"!==typeof r)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+h);Jc(d,r,b,c,k,{result:function(b){m(v,function(){p[b.uniqueKey()]=b;n(a,g+1,v);});},error:function(a){v.error(a);}});}}p={};m(g,function(){if(a){if(!(a instanceof Array))throw new ga(l.JSON_PARSE_ERROR,"headerdata "+h);n(a,0,g);}else return[];});}function qa(d,a,b,c,k,h){function g(a,b,g){m(g,function(){var c;c=b.peermastertoken;if(c&&"object"!==typeof c)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+k);if(!c)return null;Pb(a,c,g);});}function n(a,b,g,c){m(c,function(){var d;d=b.peeruseridtoken;if(d&&"object"!==typeof d)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+k);if(!d)return null;Qb(a,d,g,c);});}m(h,function(){if(!d.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};g(d,a,{result:function(g){m(h,function(){var p;p=b?b.masterToken:g;n(d,a,p,{result:function(b){m(h,function(){La(d,a.peerservicetokens,p,b,c,k,{result:function(a){m(h,function(){return{peerMasterToken:g,peerUserIdToken:b,peerServiceTokens:a};});},error:function(a){m(h,function(){a instanceof B&&(a.setEntity(p),a.setUser(b));throw a;});}});});},error:function(a){m(h,function(){a instanceof B&&a.setEntity(p);throw a;});}});});},error:h.error});});}function Ea(d,a,b,c){var h;function k(a,b){m(c,function(){if(b>=a.length)return h;Zd(d,a[b],{result:function(g){m(c,function(){h.push(g);k(a,b+1);});},error:function(a){c.error(a);}});});}h=[];m(c,function(){var g;g=a.keyrequestdata;if(!g)return h;if(!(g instanceof Array))throw new ga(l.JSON_PARSE_ERROR,"headerdata "+b);k(g,0);});}ua=me=ca.Class.create({init:function(d,a,b,c,k,h,g,n,p){Object.defineProperties(this,{messageId:{value:d,writable:!1,configurable:!1},nonReplayableId:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,configurable:!1},capabilities:{value:c,writable:!1,configurable:!1},keyRequestData:{value:k,writable:!1,configurable:!1},keyResponseData:{value:h,writable:!1,configurable:!1},userAuthData:{value:g,writable:!1,configurable:!1},userIdToken:{value:n,writable:!1,configurable:!1},serviceTokens:{value:p,writable:!1,configurable:!1}});}});f=ne=ca.Class.create({init:function(d,a,b){Object.defineProperties(this,{peerMasterToken:{value:d,writable:!1,configurable:!1},peerUserIdToken:{value:a,writable:!1,configurable:!1},peerServiceTokens:{value:b,writable:!1,configurable:!1}});}});mc=ca.Class.create({init:function(d,a,b,c,k,h,g){var p;function n(n){m(g,function(){var r,v,f,D,x,w,z,y,F,K,S,da,P,l,R,fa,Z;a=b?null:a;r=c.nonReplayableId;v=c.renewable;f=c.capabilities;D=c.messageId;x=c.keyRequestData?c.keyRequestData:[];w=c.keyResponseData;z=c.userAuthData;y=c.userIdToken;F=c.serviceTokens?c.serviceTokens:[];d.isPeerToPeer()?(K=k.peerMasterToken,S=k.peerUserIdToken,da=k.peerServiceTokens?k.peerServiceTokens:[]):(S=K=null,da=[]);if(0>D||D>sa)throw new W("Message ID "+D+" is out of range.");if(!a&&!b)throw new W("Message entity authentication data or master token must be provided.");w?d.isPeerToPeer()?(P=b,l=w.masterToken):(P=w.masterToken,l=K):(P=b,l=K);if(y&&(!P||!y.isBoundTo(P)))throw new W("User ID token must be bound to a master token.");if(S&&(!l||!S.isBoundTo(l)))throw new W("Peer user ID token must be bound to a peer master token.");F.forEach(function(a){if(a.isMasterTokenBound()&&(!P||!a.isBoundTo(P)))throw new W("Master token bound service tokens must be bound to the provided master token.");if(a.isUserIdTokenBound()&&(!y||!a.isBoundTo(y)))throw new W("User ID token bound service tokens must be bound to the provided user ID token.");},this);da.forEach(function(a){if(a.isMasterTokenBound()&&(!l||!a.isBoundTo(l)))throw new W("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!S||!a.isBoundTo(S)))throw new W("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(h){R=h.customer;fa=h.messageCryptoContext;Z=t(d,fa,R,a,b,n,D,x,w,z,y,F,K,S,da,r,v,f,h.headerdata,h.signature);Object.defineProperties(this,Z);return this;}R=y?y.customer:null;Z={};n&&(Z.sender=n);Z.messageid=D;"number"===typeof r&&(Z.nonreplayableid=r);Z.renewable=v;f&&(Z.capabilities=f);0<x.length&&(Z.keyrequestdata=x);w&&(Z.keyresponsedata=w);z&&(Z.userauthdata=z);y&&(Z.useridtoken=y);0<F.length&&(Z.servicetokens=F);K&&(Z.peermastertoken=K);S&&(Z.peeruseridtoken=S);0<da.length&&(Z.peerservicetokens=da);try{fa=M(d,a,b);}catch(O){throw O instanceof B&&(O.setEntity(b),O.setEntity(a),O.setUser(y),O.setUser(z),O.setMessageId(D)),O;}Z=Ia(JSON.stringify(Z),ya);fa.encrypt(Z,{result:function(c){m(g,function(){fa.sign(c,{result:function(h){m(g,function(){var g;g=t(d,fa,R,a,b,n,D,x,w,z,y,F,K,S,da,r,v,f,c,h);Object.defineProperties(this,g);return this;},p);},error:function(c){m(g,function(){c instanceof B&&(c.setEntity(b),c.setEntity(a),c.setUser(y),c.setUser(z),c.setMessageId(D));throw c;},p);}});},p);},error:function(c){m(g,function(){c instanceof B&&(c.setEntity(b),c.setEntity(a),c.setUser(y),c.setUser(z),c.setMessageId(D));throw c;},p);}});},p);}p=this;m(g,function(){h?n(h.sender):b?d.getEntityAuthenticationData(null,{result:function(a){a=a.getIdentity();n(a);},error:g.error}):n(null);},p);},isEncrypting:function(){return this.masterToken||Tc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var d;d={};this.masterToken?d[fe]=this.masterToken:d[od]=this.entityAuthenticationData;d[ge]=ka(this.headerdata);d[pd]=ka(this.signature);return d;}});le=function(d,a,b,c,k,h){new mc(d,a,b,c,k,null,h);};qd=function(d,a,b,c,k,h,g){m(g,function(){var n,p;b=c?null:b;if(!b&&!c)throw new va(l.MESSAGE_ENTITY_NOT_FOUND);n=a;try{a=na(n);}catch(r){throw new va(l.HEADER_DATA_INVALID,n,r);}if(!a||0==a.length)throw new va(l.HEADER_DATA_MISSING,n);try{p=M(d,b,c);}catch(r){throw r instanceof B&&(r.setEntity(c),r.setEntity(b)),r;}T(d,p,a,k,{result:function(n){m(g,function(){var r,v,A,D,x;try{r=JSON.parse(n);}catch(w){if(w instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n,w).setEntity(c).setEntity(b);throw w;}v=parseInt(r.messageid);if(!v||v!=v)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n).setEntity(c).setEntity(b);if(0>v||v>sa)throw new va(l.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+n).setEntity(c).setEntity(b);A=c?r.sender:null;if(c&&(!A||"string"!==typeof A))throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n).setEntity(c).setEntity(b).setMessageId(v);D=r.keyresponsedata;if(D&&"object"!==typeof D)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n).setEntity(c).setEntity(b).setMessageId(v);x=g;g={result:function(a){x.result(a);},error:function(a){a instanceof B&&(a.setEntity(c),a.setEntity(b),a.setMessageId(v));x.error(a);}};L(d,D,{result:function(u){m(g,function(){var w,x;w=!d.isPeerToPeer()&&u?u.masterToken:c;x=r.useridtoken;if(x&&"object"!==typeof x)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n);C(d,x,w,{result:function(z){m(g,function(){var x;x=r.userauthdata;if(x&&"object"!==typeof x)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n);I(d,w,x,{result:function(x){m(g,function(){var D,y,F;if(x){y=x.scheme;F=d.getUserAuthenticationFactory(y);if(!F)throw new ra(l.USERAUTH_FACTORY_NOT_FOUND,y).setUser(z).setUser(x);y=c?c.identity:b.getIdentity();D=F.authenticate(d,y,x,z);}else D=z?z.customer:null;La(d,r.servicetokens,w,z,h,n,{result:function(w){m(g,function(){var y,F,K,da;y=r.nonreplayableid!==X?parseInt(r.nonreplayableid):null;F=r.renewable;if(y!=y||"boolean"!==typeof F)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n);if(0>y||y>sa)throw new va(l.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+n);K=null;da=r.capabilities;if(da){if("object"!==typeof da)throw new ga(l.JSON_PARSE_ERROR,"headerdata "+n);K=ke(da);}Ea(d,r,n,{result:function(da){qa(d,r,u,h,n,{result:function(n){m(g,function(){var h,r,S,l;h=n.peerMasterToken;r=n.peerUserIdToken;S=n.peerServiceTokens;l=new ua(v,y,F,K,da,u,x,z,w);h=new f(h,r,S);r=new q(D,A,p,a,k);new mc(d,b,c,l,h,r,g);});},error:g.error});},error:function(a){m(g,function(){a instanceof B&&(a.setUser(z),a.setUser(x));throw a;});}});});},error:function(a){m(g,function(){a instanceof B&&(a.setEntity(w),a.setUser(z),a.setUser(x));throw a;});}});});},error:g.error});});},error:g.error});});},error:g.error});});},error:g.error});});};}());(function(){function q(l,m){this.payload=l;this.signature=m;}sd=ca.Class.create({init:function(l,q,t,L,C,I,N,qa){var E;E=this;m(qa,function(){var M,f;if(0>l||l>sa)throw new W("Sequence number "+l+" is outside the valid range.");if(0>q||q>sa)throw new W("Message ID "+q+" is outside the valid range.");if(N)return Object.defineProperties(this,{sequenceNumber:{value:l,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:N.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:N.signature,writable:!1,enumerable:!1,configurable:!1}}),this;L?(M=td(L,C),M||(L=null,M=C)):(L=null,M=C);f={};f.sequencenumber=l;f.messageid=q;t&&(f.endofmsg=t);L&&(f.compressionalgo=L);f.data=ka(M);M=Ia(JSON.stringify(f),ya);I.encrypt(M,{result:function(d){m(qa,function(){I.sign(d,{result:function(a){m(qa,function(){Object.defineProperties(this,{sequenceNumber:{value:l,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:d,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},E);},error:function(a){qa.error(a);}});},E);},error:function(d){qa.error(d);}});},E);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var l;l={};l.payload=ka(this.payload);l.signature=ka(this.signature);return l;}});pe=function(l,m,q,t,C,I,N){new sd(l,m,q,t,C,I,null,N);};qe=function(t,M,T){m(T,function(){var E,C,I,N;E=t.payload;C=t.signature;if(!E||"string"!==typeof E||"string"!==typeof C)throw new ga(l.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(t));try{I=na(E);}catch(qa){throw new va(l.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(t),qa);}try{N=na(C);}catch(qa){throw new va(l.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(t),qa);}M.verify(I,N,{result:function(C){m(T,function(){if(!C)throw new U(l.PAYLOAD_VERIFICATION_FAILED);M.decrypt(I,{result:function(C){m(T,function(){var m,f,d,a,b,c,k;m=Qa(C,ya);try{f=JSON.parse(m);}catch(h){if(h instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"payload chunk payload "+m,h);throw h;}d=parseInt(f.sequencenumber);a=parseInt(f.messageid);b=f.endofmsg;c=f.compressionalgo;f=f.data;if(!d||d!=d||!a||a!=a||b&&"boolean"!==typeof b||c&&"string"!==typeof c||"string"!==typeof f)throw new ga(l.JSON_PARSE_ERROR,"payload chunk payload "+m);if(0>d||d>sa)throw new B(l.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+m);if(0>a||a>sa)throw new B(l.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+m);b||(b=!1);if(c&&!Lb[c])throw new va(l.UNIDENTIFIED_COMPRESSION,c);try{k=na(f);}catch(h){throw new va(l.PAYLOAD_DATA_CORRUPT,f,h);}if(k&&0!=k.length)m=c?Kc(c,k):k;else{if(0<f.length)throw new va(l.PAYLOAD_DATA_CORRUPT,f);if(b)m=new Uint8Array(0);else throw new va(l.PAYLOAD_DATA_MISSING,f);}k=new q(I,N);new sd(d,a,b,c,m,M,k,T);});},error:function(l){T.error(l);}});});},error:function(l){T.error(l);}});});};}());(function(){var T,L;function q(q,t,E,M,L){var f,d,a,b,c;function C(){m(L,function(){var k,h;d>=t.length&&(d=0,++f);if(f>=a.length){if(b)throw b;throw new Ca(l.KEYX_FACTORY_NOT_FOUND,JSON.stringify(t));}k=a[f];h=t[d];k.scheme!=h.keyExchangeScheme?(++d,C()):k.generateResponse(q,h,c,{result:function(a){L.result(a);},error:function(a){m(L,function(){if(!(a instanceof B))throw a;b=a;++d;C();});}});});}f=0;d=0;a=q.getKeyExchangeFactories();c=E?E:M;C();}function t(l,t,E,M,L){m(L,function(){var C;C=t.keyRequestData;if(t.isRenewable()&&0<C.length)M?M.isRenewable()||M.isExpired()?q(l,C,M,null,L):l.getTokenFactory().isNewestMasterToken(l,M,{result:function(f){m(L,function(){if(f)return null;q(l,C,M,null,L);});},error:L.error}):q(l,C,null,E.getIdentity(),L);else return null;});}function M(q,t,M,E){m(E,function(){var m,C,f,d;m=t.userIdToken;C=t.userAuthenticationData;f=t.messageId;if(m&&m.isVerified()){if(m.isRenewable()&&t.isRenewable()||m.isExpired()||!m.isBoundTo(M)){C=q.getTokenFactory();C.renewUserIdToken(q,m,M,E);return;}}else if(t.isRenewable()&&M&&C){m=t.customer;if(!m){m=C.scheme;d=q.getUserAuthenticationFactory(m);if(!d)throw new ra(l.USERAUTH_FACTORY_NOT_FOUND,m).setEntity(M).setUser(C).setMessageId(f);m=d.authenticate(q,M.identity,C,null);}C=q.getTokenFactory();C.createUserIdToken(q,m,M,E);return;}return m;});}T=new Uint8Array(0);L=Rb=function(l){if(0>l||l>sa)throw new W("Message ID "+l+" is outside the valid range.");return l==sa?0:l+1;};cc=function(l){if(0>l||l>sa)throw new W("Message ID "+l+" is outside the valid range.");return 0==l?sa:l-1;};Sb=function(l,q,t,M,E){m(E,function(){var C;if(M==X||null==M){C=l.getRandom();do M=C.nextLong();while(0>M||M>sa);}else if(0>M||M>sa)throw new W("Message ID "+M+" is outside the valid range.");l.getEntityAuthenticationData(null,{result:function(f){m(E,function(){var d;d=l.getMessageCapabilities();return new Lc(l,M,d,f,q,t,null,null,null,null,null);});},error:function(f){E.error(f);}});});};re=function(l,q,E){m(E,function(){var I,T,f,d,a,b;function C(b){m(E,function(){b instanceof B&&(b.setEntity(I),b.setEntity(T),b.setUser(f),b.setUser(d),b.setMessageId(a));throw b;});}I=q.masterToken;T=q.entityAuthenticationData;f=q.userIdToken;d=q.userAuthenticationData;a=q.messageId;b=L(a);t(l,q,T,I,{result:function(a){m(E,function(){var c;c=a?a.keyResponseData.masterToken:c=I;l.getEntityAuthenticationData(null,{result:function(d){m(E,function(){M(l,q,c,{result:function(g){m(E,function(){var c,p,h;f=g;c=rd(q.messageCapabilities,l.getMessageCapabilities());p=q.keyResponseData;h=q.serviceTokens;return l.isPeerToPeer()?new Lc(l,b,c,d,p?p.masterToken:q.peerMasterToken,q.peerUserIdToken,q.peerServiceTokens,I,f,h,a):new Lc(l,b,c,d,p?p.masterToken:I,f,h,null,null,null,a);});},error:C});});},error:C});});},error:C});});};se=function(l,q,t,M,E){m(E,function(){l.getEntityAuthenticationData(null,{result:function(C){m(E,function(){var f,d;if(q!=X&&null!=q)f=L(q);else{d=l.getRandom();do f=d.nextInt();while(0>f||f>sa);}je(l,C,f,t.responseCode,t.internalCode,t.message,M,E);});},error:function(l){E.error(l);}});});};Lc=ca.Class.create({init:function(l,m,q,t,M,E,f,d,a,b,c){var k,h,g,n,p;if(!l.isPeerToPeer()&&(d||a))throw new W("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");k=c&&!l.isPeerToPeer()?c.keyResponseData.masterToken:M;h={};l.getMslStore().getServiceTokens(k,E).forEach(function(a){h[a.name]=a;},this);f&&f.forEach(function(a){h[a.name]=a;},this);p={};l.isPeerToPeer()&&(g=d,n=a,f=c?c.keyResponseData.masterToken:d,l.getMslStore().getServiceTokens(f,a).forEach(function(a){p[a.name]=a;},this),b&&b.forEach(function(a){p[a.name]=a;},this));Object.defineProperties(this,{_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:t,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:M,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:m,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:q,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:c,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:E,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:h,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:g,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:n,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:p,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Tc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Tc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||Ad(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Ad(this._entityAuthData.scheme);},getHeader:function(q){m(q,function(){var m,C,t,M,E;m=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;C=[];for(t in this._serviceTokens)C.push(this._serviceTokens[t]);M=[];for(E in this._keyRequestData)M.push(this._keyRequestData[E]);if(this._nonReplayable){if(!this._masterToken)throw new va(l.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);E=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else E=null;m=new me(this._messageId,E,this._renewable,this._capabilities,M,m,this._userAuthData,this._userIdToken,C);C=[];for(t in this._peerServiceTokens)C.push(this._peerServiceTokens[t]);t=new ne(this._peerMasterToken,this._peerUserIdToken,C);le(this._ctx,this._entityAuthData,this._masterToken,m,t,q);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(l){this._nonReplayable=l;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(l){this._renewable=l;return this;},setAuthTokens:function(l,m){var q,C,t;if(m&&!m.isBoundTo(l))throw new W("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new W("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{q=this._ctx.getMslStore().getServiceTokens(l,m);}catch(ua){if(ua instanceof B)throw new W("Invalid master token and user ID token combination despite checking above.",ua);throw ua;}C=[];for(t in this._serviceTokens)C.push(this._serviceTokens[t]);C.forEach(function(q){(q.isUserIdTokenBound()&&!q.isBoundTo(m)||q.isMasterTokenBound()&&!q.isBoundTo(l))&&delete this._serviceTokens[q.name];},this);q.forEach(function(l){this._serviceTokens[l.name]=l;},this);this._masterToken=l;this._userIdToken=m;},setUserAuthenticationData:function(l){this._userAuthData=l;return this;},setCustomer:function(l,q){var C;C=this;m(q,function(){var t;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new W("User ID token or peer user ID token already exists for the remote user.");t=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!t)throw new W("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,l,t,{result:function(l){m(q,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=l:(this._userIdToken=l,this._userAuthData=null);return!0;},C);},error:function(l){q.error(l);}});},C);},addKeyRequestData:function(l){this._keyRequestData[l.uniqueKey()]=l;return this;},removeKeyRequestData:function(l){delete this._keyRequestData[l.uniqueKey()];return this;},addServiceToken:function(m){var q;q=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(m.isMasterTokenBound()&&!m.isBoundTo(q))throw new va(l.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; mt "+JSON.stringify(q)).setEntity(q);if(m.isUserIdTokenBound()&&!m.isBoundTo(this._userIdToken))throw new va(l.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(q).setUser(this._userIdToken);this._serviceTokens[m.name]=m;return this;},addServiceTokenIfAbsent:function(l){this._serviceTokens[l.name]||this.addServiceToken(l);return this;},excludeServiceToken:function(l){delete this._serviceTokens[l];return this;},deleteServiceToken:function(l,q){var t;t=this;m(q,function(){var C,I;C=this._serviceTokens[l];if(!C)return this;I=C.isMasterTokenBound()?this._masterToken:null;C=C.isUserIdTokenBound()?this._userIdToken:null;Bb(this._ctx,l,T,I,C,!1,null,new bc(),{result:function(l){m(q,function(){return this.addServiceToken(l);},t);},error:function(l){l instanceof B&&(l=new W("Failed to create and add empty service token to message.",l));q.error(l);}});},t);},getServiceTokens:function(){var l,m;l=[];for(m in this._serviceTokens)l.push(this._serviceTokens[m]);return l;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(m,q){var t;if(!this._ctx.isPeerToPeer())throw new W("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(q&&!m)throw new W("Peer master token cannot be null when setting peer user ID token.");if(q&&!q.isBoundTo(m))throw new va(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+q+"; mt "+m).setEntity(m).setUser(q);try{t=this._ctx.getMslStore().getServiceTokens(m,q);}catch(qa){if(qa instanceof B)throw new W("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}Object.keys(this._peerServiceTokens).forEach(function(l){var t;t=this._peerServiceTokens[l];t.isUserIdTokenBound()&&!t.isBoundTo(q)?delete this._peerServiceTokens[l]:t.isMasterTokenBound()&&!t.isBoundTo(m)&&delete this._peerServiceTokens[l];},this);t.forEach(function(l){var m;m=l.name;this._peerServiceTokens[m]||(this._peerServiceTokens[m]=l);},this);this._peerUserIdToken=q;this._peerMasterToken=m;return this;},addPeerServiceToken:function(m){if(!this._ctx.isPeerToPeer())throw new W("Cannot set peer service tokens when not in peer-to-peer mode.");if(m.isMasterTokenBound()&&!m.isBoundTo(this._peerMasterToken))throw new va(l.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(m.isUserIdTokenBound()&&!m.isBoundTo(this._peerUserIdToken))throw new va(l.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[m.name]=m;return this;},addPeerServiceTokenIfAbsent:function(l){this._peerServiceTokens[l.name]||this.addPeerServiceToken(l);return this;},excludePeerServiceToken:function(l){delete this._peerServiceTokens[l];return this;},deletePeerServiceToken:function(l,q){var t;t=this;m(q,function(){var C,E;C=this._peerServiceTokens[l];if(!C)return this;E=C.isMasterTokenBound()?this._peerMasterToken:null;C=C.isUserIdTokenBound()?this._peerUserIdToken:null;Bb(this._ctx,l,T,E,C,!1,null,new bc(),{result:function(l){m(q,function(){return this.addPeerServiceToken(l);},t);},error:function(l){l instanceof B&&(l=new W("Failed to create and add empty peer service token to message.",l));q.error(l);}});},t);},getPeerServiceTokens:function(){var l,m;l=[];for(m in this._peerServiceTokens)l.push(this._peerServiceTokens[m]);return l;}});}());(function(){function l(l,m){return m[l]?m[l]:m[""];}function q(l){var m;m=l.builder.getKeyExchangeData();return m&&!l.ctx.isPeerToPeer()?m.keyResponseData.masterToken:l.builder.getMasterToken();}te=ca.Class.create({init:function(l,m,q){l={ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:m.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:q,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},isPrimaryMasterTokenAvailable:function(){return q(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(l){try{return this.builder.addServiceToken(l),!0;}catch(T){if(T instanceof va)return!1;throw T;}},addPeerServiceToken:function(l){try{return this.builder.addPeerServiceToken(l),!0;}catch(T){if(T instanceof va)return!1;throw T;}},addUnboundPrimaryServiceToken:function(q,t,E,C,I){var M;M=this;m(I,function(){var L;L=l(q,this.cryptoContexts);if(!L)return!1;Bb(this.ctx,q,t,null,null,E,C,L,{result:function(l){m(I,function(){try{this.builder.addServiceToken(l);}catch(ua){if(ua instanceof va)throw new W("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return!0;},M);},error:function(l){I.error(l);}});},M);},addUnboundPeerServiceToken:function(q,t,E,C,I){var M;M=this;m(I,function(){var L;L=l(q,this.cryptoContexts);if(!L)return!1;Bb(this.ctx,q,t,null,null,E,C,L,{result:function(l){m(I,function(){try{this.builder.addPeerServiceToken(l);}catch(ua){if(ua instanceof va)throw new W("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return!0;},M);},error:function(l){I.error(l);}});},M);},addMasterBoundPrimaryServiceToken:function(t,E,L,C,I){var M;M=this;m(I,function(){var T,N;T=q(this);if(!T)return!1;N=l(t,this.cryptoContexts);if(!N)return!1;Bb(this.ctx,t,E,T,null,L,C,N,{result:function(l){m(I,function(){try{this.builder.addServiceToken(l);}catch(f){if(f instanceof va)throw new W("Service token bound to incorrect authentication tokens despite setting correct master token.",f);throw f;}return!0;},M);},error:function(l){I.error(l);}});},M);},addMasterBoundPeerServiceToken:function(q,t,E,C,I){var M;M=this;m(I,function(){var L,T;L=this.builder.getPeerMasterToken();if(!L)return!1;T=l(q,this.cryptoContexts);if(!T)return!1;Bb(this.ctx,q,t,L,null,E,C,T,{result:function(l){m(I,function(){try{this.builder.addPeerServiceToken(l);}catch(f){if(f instanceof va)throw new W("Service token bound to incorrect authentication tokens despite setting correct master token.",f);throw f;}return!0;},M);},error:function(l){I.error(l);}});},M);},addUserBoundPrimaryServiceToken:function(t,E,L,C,I){var M;M=this;m(I,function(){var T,N,B;T=q(this);if(!T)return!1;N=this.builder.getUserIdToken();if(!N)return!1;B=l(t,this.cryptoContexts);if(!B)return!1;Bb(this.ctx,t,E,T,N,L,C,B,{result:function(f){m(I,function(){try{this.builder.addServiceToken(f);}catch(d){if(d instanceof va)throw new W("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},M);},error:function(f){I.error(f);}});},M);},addUserBoundPeerServiceToken:function(q,t,E,C,I){var M;M=this;m(I,function(){var L,T,N;L=this.builder.getPeerMasterToken();if(!L)return!1;T=this.builder.getPeerUserIdToken();if(!T)return!1;N=l(q,this.cryptoContexts);if(!N)return!1;Bb(this.ctx,q,t,L,T,E,C,N,{result:function(f){m(I,function(){try{this.builder.addPeerServiceToken(f);}catch(d){if(d instanceof va)throw new W("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},M);},error:function(f){I.error(f);}});},M);},excludePrimaryServiceToken:function(l){for(var m=this.builder.getServiceTokens(),q=0;q<m.length;++q)if(m[q].name==l)return this.builder.excludeServiceToken(l),!0;return!1;},excludePeerServiceToken:function(l){for(var m=this.builder.getPeerServiceTokens(),q=0;q<m.length;++q)if(m[q].name==l)return this.builder.excludePeerServiceToken(l),!0;return!1;},deletePrimaryServiceToken:function(l,q){m(q,function(){for(var m=this.builder.getServiceTokens(),t=0;t<m.length;++t)if(m[t].name==l){this.builder.deleteServiceToken(l,{result:function(){q.result(!0);},error:function(l){q.error(l);}});return;}return!1;},this);},deletePeerServiceToken:function(l,q){m(q,function(){for(var m=this.builder.getPeerServiceTokens(),t=0;t<m.length;++t)if(m[t].name==l){this.builder.deletePeerServiceToken(l,{result:function(){q.result(!0);},error:function(l){q.error(l);}});return;}return!1;},this);}});}());(function(){function q(q,t,T,L){m(L,function(){var E,M,N,H,ua,f;function C(){m(L,function(){var d;if(f>=T.length){if(ua)throw ua;throw new Ca(l.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(T));}d=T[f];N!=d.keyExchangeScheme?(++f,C()):H.getCryptoContext(q,d,M,E,{result:L.result,error:function(a){m(L,function(){if(!(a instanceof B))throw a;ua=a;++f;C();});}});});}E=t.masterToken;M=t.keyResponseData;if(!M)return null;N=M.keyExchangeScheme;H=q.getKeyExchangeFactory(N);if(!H)throw new Ca(l.KEYX_FACTORY_NOT_FOUND,N);f=0;C();});}ue=ld.extend({init:function(m,M,T,L,C,I,N){var E;E=this;t(N,function(){var b;function t(){E._ready=!0;E._readyQueue.add(!0);}function N(a,b){var c;try{c=b.masterToken;a.getTokenFactory().isMasterTokenRevoked(a,c,{result:function(g){g?(E._errored=new Nb(g,c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),t()):f(a,b);},error:function(a){a instanceof B&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));E._errored=a;t();}});}catch(g){g instanceof B&&(g.setEntity(b.masterToken),g.setUser(b.userIdToken),g.setUser(b.userAuthenticationData),g.setMessageId(b.messageId));E._errored=g;t();}}function f(a,b){var c,g;try{c=b.masterToken;g=b.userIdToken;g?a.getTokenFactory().isUserIdTokenRevoked(a,c,g,{result:function(n){n?(E._errored=new MslUserIdTokenException(n,g).setEntity(c).setUser(g).setMessageId(b.messageId),t()):d(a,b);},error:function(a){a instanceof B&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));E._errored=a;t();}}):d(a,b);}catch(n){n instanceof B&&(n.setEntity(b.masterToken),n.setUser(b.userIdToken),n.setUser(b.userAuthenticationData),n.setMessageId(b.messageId));E._errored=n;t();}}function d(b,d){var c;try{c=d.masterToken;c.isExpired()?d.isRenewable()&&0!=d.keyRequestData.length?b.getTokenFactory().isMasterTokenRenewable(b,c,{result:function(g){g?(E._errored=new va(g,"Master token is expired and not renewable.").setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),t()):a(b,d);},error:function(a){a instanceof B&&(a.setEntity(d.masterToken),a.setUser(d.userIdToken),a.setUser(d.userAuthenticationData),a.setMessageId(d.messageId));E._errored=a;t();}}):(E._errored=new va(l.MESSAGE_EXPIRED,JSON.stringify(d)).setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),t()):a(b,d);}catch(g){g instanceof B&&(g.setEntity(d.masterToken),g.setUser(d.userIdToken),g.setUser(d.userAuthenticationData),g.setMessageId(d.messageId));E._errored=g;t();}}function a(a,b){var c,g;try{c=b.masterToken;g=b.nonReplayableId;"number"===typeof g?c?a.getTokenFactory().acceptNonReplayableId(a,c,g,{result:function(a){a||(E._errored=new va(l.MESSAGE_REPLAYED,JSON.stringify(b)).setEntity(c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId));t();},error:function(a){a instanceof B&&(a.setEntity(c),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));E._errored=a;t();}}):(E._errored=new va(l.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(b)).setEntity(b.entityAuthenticationData).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),t()):t();}catch(n){n instanceof B&&(n.setEntity(b.masterToken),n.setEntity(b.entityAuthenticationData),n.setUser(b.userIdToken),n.setUser(b.userAuthenticationData),n.setMessageId(b.messageId));E._errored=n;t();}}b={_source:{value:M,writable:!1,enumerable:!1,configurable:!1},_parser:{value:X,writable:!0,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:I,writable:!1,enumerable:!1,configurable:!1},_header:{value:X,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:X,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:X,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,b);Yd(E._source,I,{result:function(b){E._json=b;E._jsonIndex=0;null===E._json?(E._errored=new ga(l.MESSAGE_DATA_MISSING),t()):ee(m,E._json[E._jsonIndex++],C,{result:function(b){var c;E._header=b;if(E._header instanceof Jb)E._keyxCryptoContext=null,E._cryptoContext=null,t();else{c=E._header;q(m,c,L,{result:function(b){var g;try{E._keyxCryptoContext=b;m.isPeerToPeer()||!E._keyxCryptoContext?E._cryptoContext=c.cryptoContext:E._cryptoContext=E._keyxCryptoContext;try{g=c.masterToken;g&&(m.isPeerToPeer()||g.isVerified())?N(m,c):a(m,c);}catch(p){p instanceof B&&(p.setEntity(c.masterToken),p.setUser(c.userIdToken),p.setUser(c.userAuthenticationData),p.setMessageId(c.messageId));E._errored=p;t();}}catch(p){p instanceof B&&(p.setEntity(c.masterToken),p.setEntity(c.entityAuthenticationData),p.setUser(c.userIdToken),p.setUser(c.userAuthenticationData),p.setMessageId(c.messageId));E._errored=p;t();}},error:function(a){a instanceof B&&(a.setEntity(c.masterToken),a.setEntity(c.entityAuthenticationData),a.setUser(c.userIdToken),a.setUser(c.userAuthenticationData),a.setMessageId(c.messageId));E._errored=a;t();}});}},error:function(a){E._errored=a;t();}});},timeout:function(){E._timedout=!0;t();},error:function(a){E._errored=a;t();}});return this;},E);},nextData:function(m,q){var E;E=this;t(q,function(){var C;function m(l){t(l,function(){var q;if(this._jsonIndex<this._json.length)return q=this._json[this._jsonIndex++];Yd(this._source,this._timeout,{result:function(q){q&&q.length&&0<q.length?(q.forEach(function(l){this._json.push(l);}),m(l)):(this._eom=!0,l.result(null));},timeout:function(){l.timeout();},error:function(m){l.error(m);}});},E);}C=this.getMessageHeader();if(!C)throw new W("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;m({result:function(m){t(q,function(){if(!m)return null;if("object"!==typeof m)throw new ga(l.MESSAGE_FORMAT_ERROR);qe(m,this._cryptoContext,{result:function(m){t(q,function(){var q,t,E,f;q=C.masterToken;t=C.entityAuthenticationData;E=C.userIdToken;f=C.getUserAuthenticationData;if(m.messageId!=C.messageId)throw new va(l.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+m.messageId+" header mid "+C.messageId).setEntity(q).setEntity(t).setUser(E).setUser(f);if(m.sequenceNumber!=this._payloadSequenceNumber)throw new va(l.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+m.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(q).setEntity(t).setUser(E).setUser(f);++this._payloadSequenceNumber;m.isEndOfMessage()&&(this._eom=!0);q=m.data;this._payloads.push(q);this._payloadIndex=-1;return q;},E);},error:function(m){m instanceof SyntaxError&&(m=new ga(l.JSON_PARSE_ERROR,"payloadchunk",m));q.error(m);}});},E);},timeout:function(){q.timeout();},error:function(l){q.error(l);}});},E);},isReady:function(l,m){var E;function q(){t(m,function(){if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;return!0;}},E);}E=this;t(m,function(){this._ready?q():this._readyQueue.poll(l,{result:function(l){t(m,function(){if(l===X)return!1;q();},E);},timeout:function(){m.timeout();},error:function(l){m.error(l);}});},E);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Jb?this._header:null;},getIdentity:function(){var l,m;l=this.getMessageHeader();if(l){m=l.masterToken;return m?m.identity:l.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var l;l=this.getMessageHeader();return l?l.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(l){this._closeSource=l;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(l,m,q){var C;function E(){t(q,function(){var M,L,T,N;function E(f){t(f,function(){var d,a,b;if(L&&N>=L.length)return L.subarray(0,N);d=-1;if(this._currentPayload){a=this._currentPayload.length-this._payloadOffset;if(!L){b=a;if(-1!=this._payloadIndex)for(var c=this._payloadIndex;c<this._payloads.length;++c)b+=this._payloads[c].length;0<b&&(L=new Uint8Array(b));}a=Math.min(a,L?L.length-N:0);0<a&&(d=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+a),L.set(d,T),d=a,T+=a,this._payloadOffset+=a);}-1!=d?(N+=d,E(f)):this.nextData(m,{result:function(a){t(f,function(){if(this._aborted)return L?L.subarray(0,N):new Uint8Array(0);this._currentPayload=a;this._payloadOffset=0;if(this._currentPayload)E(f);else return 0==N&&0!=l?null:L?L.subarray(0,N):new Uint8Array(0);},C);},timeout:function(){f.timeout(L?L.subarray(0,N):new Uint8Array(0));},error:function(a){t(f,function(){a instanceof B&&(a=new Ma("Error reading the payload chunk.",a));if(0<N)return C._readException=a,L.subarray(0,N);throw a;},C);}});},C);}if(this._aborted)return new Uint8Array(0);if(this._timedout)q.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){M=this._readException;this._readException=null;throw M;}L=-1!=l?new Uint8Array(l):X;T=0;N=0;E(q);}},C);}C=this;t(q,function(){if(-1>l)throw new RangeError("read requested with illegal length "+l);this._ready?E():this._readyQueue.poll(m,{result:function(l){l===X?q.result(!1):E();},timeout:function(){q.timeout(new Uint8Array(0));},error:function(l){q.error(l);}});},C);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ve=function(l,m,q,t,C,I,N){new ue(l,m,q,t,C,I,N);};}());(function(){we=Gc.extend({init:function(l,m,q,T,L,C,I){var E;E=this;t(I,function(){var I,M,f;function t(){E._ready=!0;E._readyQueue.add(!0);}I=rd(l.getMessageCapabilities(),T.messageCapabilities);M=null;I&&(M=Md(I.compressionAlgorithms));I={_destination:{value:m,writable:!1,enumerable:!1,configurable:!1},_charset:{value:q,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:I,writable:!1,enumerable:!1,configurable:!1},_header:{value:T,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:M,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:L,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,I);f=Ia(JSON.stringify(T),q);m.write(f,0,f.length,C,{result:function(d){try{E._aborted?t():d<f.length?(E._timedout=!0,t()):m.flush(C,{result:function(a){E._aborted||(E._timedout=!a);t();},timeout:function(){E._timedout=!0;t();},error:function(a){E._errored=a;t();}});}catch(a){E._errored=a;t();}},timeout:function(){E._timedout=!0;t();},error:function(d){E._errored=d;t();}});return this;},E);},setCompressionAlgorithm:function(l,m,q){var L;function E(){L.flush(m,{result:function(m){t(q,function(){if(!m)throw new Ma("flush() aborted");this._compressionAlgo=l;return!0;},L);},timeout:function(){q.timeout();},error:function(l){q.error(l);}});}L=this;t(q,function(){if(!this.getMessageHeader())throw new W("Cannot write payload data for an error message.");if(this._compressionAlgo==l)return!0;if(l){if(!this._capabilities)return!1;for(var m=this._capabilities.compressionAlgorithms,q=0;q<m.length;++q)if(m[q]==l){E();return;}return!1;}E();},L);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Jb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(l,m){var q;q=this;t(m,function(){if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(l,{result:function(l){t(m,function(){l&&(this._currentPayload=null);return l;},q);},timeout:function(){m.timeout();},error:function(l){m.error(l);}});}},q);},flush:function(l,m){var E;function q(){t(m,function(){var q,C,T;if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;q=this.getMessageHeader();if(!q)return!0;C=0;this._currentPayload&&this._currentPayload.forEach(function(l){C+=l.length;});for(var I=new Uint8Array(C),M=0,N=0;this._currentPayload&&N<this._currentPayload.length;++N){T=this._currentPayload[N];I.set(T,M);M+=T.length;}pe(this._payloadSequenceNumber,q.messageId,this._closed,this._compressionAlgo,I,this._cryptoContext,{result:function(q){t(m,function(){var f;this._payloads.push(q);f=Ia(JSON.stringify(q),this._charset);this._destination.write(f,0,f.length,l,{result:function(d){t(m,function(){if(this._aborted)return!1;d<q.length?m.timeout():this._destination.flush(l,{result:function(a){t(m,function(){if(this._aborted)return!1;if(a)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;m.timeout();},E);},timeout:function(){m.timeout();},error:function(a){a instanceof B&&(a=new Ma("Error encoding payload chunk [sequence number "+E._payloadSequenceNumber+"].",a));m.error(a);}});},E);},timeout:function(d){m.timeout();},error:function(d){d instanceof B&&(d=new Ma("Error encoding payload chunk [sequence number "+E._payloadSequenceNumber+"].",d));m.error(d);}});},E);},error:function(l){l instanceof B&&(l=new Ma("Error encoding payload chunk [sequence number "+E._payloadSequenceNumber+"].",l));m.error(l);}});}},E);}E=this;t(m,function(){this._ready?q():this._readyQueue.poll(l,{result:function(l){l===X?m.result(!1):q();},timeout:function(){m.timeout();},error:function(l){m.error(l);}});},E);},write:function(l,m,q,T,L){t(L,function(){var t;if(this._aborted)return!1;if(this._timedout)L.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Ma("Message output stream already closed.");if(0>m)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(m+q>l.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new W("Cannot write payload data for an error message.");t=l.subarray(m,m+q);this._currentPayload.push(t);return t.length;}},this);}});Mc=function(l,m,q,t,L,C,I){new we(l,m,q,t,L,C,I);};}());ff=ca.Class.create({sentHeader:function(l){},receivedHeader:function(l){}});Object.freeze({USERDATA_REAUTH:q.USERDATA_REAUTH,SSOTOKEN_REJECTED:q.SSOTOKEN_REJECTED});xe=ca.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(l,m,q,t){},getCustomer:function(){},getKeyRequestData:function(l){},updateServiceTokens:function(l,m,q){},write:function(l,m,q){},getDebugContext:function(){}});ca.Class.create({getInputStream:function(l){},getOutputStream:function(l){}});(function(){var H,qa,Ea,U,f,d,a,b,c,k,h,g;function N(a){return function(){a.abort();};}function E(a,b){Object.defineProperties(this,{masterToken:{value:a,writable:!1,configurable:!1},ticket:{value:b,writable:!1,configurable:!1}});}function M(a,b){Object.defineProperties(this,{builder:{value:a,writable:!1,configurable:!1},msgCtx:{value:b,writable:!1,configurable:!1}});}function T(a,b,c){Object.defineProperties(this,{requestHeader:{value:a,writable:!1,configurable:!1},payloads:{value:b,writable:!1,configurable:!1},handshake:{value:c,writable:!1,configurable:!1}});}function L(a,b){Object.defineProperties(this,{requestHeader:{value:b.requestHeader,writable:!1,configurable:!1},payloads:{value:b.payloads,writable:!1,configurable:!1},handshake:{value:b.handshake,writable:!1,configurable:!1},response:{value:a,writable:!1,configurable:!1}});}function C(a){for(;a;){if(a instanceof Ta)return!0;a=a instanceof B?a.cause:X;}return!1;}function I(a,b,c,g,d,h,k,f,w){se(b,g,d,h,{result:function(g){c&&c.sentHeader(g);Mc(b,k,ya,g,null,null,f,{result:function(b){a.setAbort(function(){b.abort();});b.close(f,{result:function(a){t(w,function(){if(!a)throw new Ta("sendError aborted.");return a;});},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},timeout:function(){},error:function(a){w.error(a);}});},error:function(a){w.error(a);}});}H=Gc.extend({close:function(a,b){b.result(!0);},write:function(a,b,c,g,d){m(d,function(){return Math.min(a.length-b,c);});},flush:function(a,b){b.result(!0);}});qa=ef.extend({getUserMessage:function(a,b){return null;}});Ea=xe.extend({init:function(a){Object.defineProperties(this,{_appCtx:{value:a,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(a,b,c,g){this._appCtx.getUserAuthData(a,b,c,g);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(a){this._appCtx.getKeyRequestData(a);},updateServiceTokens:function(a,b,c){this._appCtx.updateServiceTokens(a,b,c);},write:function(a,b,c){this._appCtx.write(a,b,c);},getDebugContext:function(){return this._appCtx.getDebugContext();}});U=Ea.extend({init:function p(a,b){p.base.call(this,b);Object.defineProperties(this,{_payloads:{value:a,writable:!1,enumerable:!1,configurable:!1}});},write:function(a,b,c){var d;function g(p,h){var r;if(p==d._payloads.length)c.result(!0);else{r=d._payloads[p];a.setCompressionAlgorithm(r.compressionAlgo,b,{result:function(k){a.write(r.data,0,r.data.length,b,{result:function(k){t(c,function(){r.isEndOfMessage()?g(p+1,h):a.flush(b,{result:function(a){c.result(a);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},d);},timeout:function(a){c.timeout(a);},error:function(a){c.error(a);}});},timeout:function(){},error:function(a){c.error(a);}});}}d=this;g(0);}});f=Ea.extend({init:function r(a){r.base.call(this,a);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(a,b,c){c.result(!0);}});d={};h=ca.Class.create({init:function(a){a||(a=new qa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:a,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(a){this._filterFactory=a;},getNewestMasterToken:function(a,b,c,g){var d;d=this;t(g,function(){var h,r,k,u,v;h=b.getMslStore();r=h.getMasterToken();if(!r)return null;k=r.uniqueKey();u=this._masterTokenLocks[k];u||(u=new ad(),this._masterTokenLocks[k]=u);v=u.readLock(c,{result:function(v){t(g,function(){var f;if(v===X)throw new Ta("getNewestMasterToken aborted.");f=h.getMasterToken();if(r.equals(f))return new E(r,v);u.unlock(v);u.writeLock(c,{result:function(h){t(g,function(){if(h===X)throw new Ta("getNewestMasterToken aborted.");delete this._masterTokenLocks[k];u.unlock(h);return this.getNewestMasterToken(a,b,c,g);},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});a.setAbort(function(){v&&(u.cancel(v),v=X);});},d);},deleteMasterToken:function(a,b){var c;if(b){c=this;setTimeout(function(){var g,d;g=b.uniqueKey();d=c._masterTokenLocks[g];d||(d=new ad(),c._masterTokenLocks[g]=d);d.writeLock(-1,{result:function(h){a.getMslStore().removeCryptoContext(b);delete c._masterTokenLocks[g];d.unlock(h);},timeout:function(){throw new W("Unexpected timeout received.");},error:function(a){throw a;}});},0);}},releaseMasterToken:function(a){var b;if(a&&a.masterToken){b=a.masterToken.uniqueKey();b=this._masterTokenLocks[b];if(!b)throw new W("Master token read/write lock does not exist when it should.");b.unlock(a.ticket);}},updateOutgoingCryptoContexts:function(a,b,c){var g;g=a.getMslStore();!a.isPeerToPeer()&&c&&(g.setCryptoContext(c.keyResponseData.masterToken,c.cryptoContext),this.deleteMasterToken(a,b.masterToken));},updateIncomingCryptoContexts:function(a,b,c){var g,d;g=c.getMessageHeader();if(g){d=a.getMslStore();if(g=g.keyResponseData)d.setCryptoContext(g.masterToken,c.getKeyExchangeCryptoContext()),this.deleteMasterToken(a,b.masterToken);}},storeServiceTokens:function(a,b,c,g){var r,k;a=a.getMslStore();for(var d=[],h=0;h<g.length;++h){r=g[h];if(!r.isBoundTo(b)||!b.isVerified()){k=r.data;k&&0==k.length?a.removeServiceTokens(r.name,r.isMasterTokenBound()?b:null,r.isUserIdTokenBound()?c:null):d.push(r);}}0<d.length&&a.addServiceTokens(d);},buildRequest:function(a,b,c,g,d){var h;h=this;this.getNewestMasterToken(a,b,g,{result:function(a){m(d,function(){var g,r,k;g=a&&a.masterToken;if(g){r=c.getUserId();k=b.getMslStore();r=(r=r?k.getUserIdToken(r):null)&&r.isBoundTo(g)?r:null;}else r=null;Sb(b,g,r,null,{result:function(b){m(d,function(){b.setNonReplayable(c.isNonReplayable());return{builder:b,tokenTicket:a};});},error:function(b){m(d,function(){this.releaseMasterToken(a);b instanceof B&&(b=new W("User ID token not bound to master token despite internal check.",b));throw b;},h);}});},h);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},buildResponse:function(a,b,c,g,d,h){var r;r=this;re(b,g,{result:function(k){t(h,function(){k.setNonReplayable(c.isNonReplayable());if(!b.isPeerToPeer()&&!g.keyResponseData)return{builder:k,tokenTicket:null};this.getNewestMasterToken(a,b,d,{result:function(a){t(h,function(){var g,d,h;g=a&&a.masterToken;if(g){d=c.getUserId();h=b.getMslStore();d=(d=d?h.getUserIdToken(d):null)&&d.isBoundTo(g)?d:null;}else d=null;k.setAuthTokens(g,d);return{builder:k,tokenTicket:a};},r);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},r);},error:function(a){h.error(a);}});},buildErrorResponse:function(a,b,c,g,d,h,k){var v;function r(a,g){t(k,function(){var h,r;h=Rb(d.messageId);r=new U(g,c);Sb(b,null,null,h,{result:function(c){t(k,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(r.isNonReplayable());return{errorResult:new M(c,r),tokenTicket:null};},v);},error:function(a){k.error(a);}});},v);}function u(g,r){v.getNewestMasterToken(a,b,h,{result:function(a){t(k,function(){var h,u,f;h=a&&a.masterToken;u=Rb(d.messageId);f=new U(r,c);Sb(b,h,null,u,{result:function(c){t(k,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(g.peerMasterToken,g.peerUserIdToken);c.setNonReplayable(f.isNonReplayable());return{errorResult:new M(c,f),tokenTicket:a};},v);},error:function(a){k.error(a);}});},v);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});}v=this;t(k,function(){var f,w,A,z;f=g.requestHeader;w=g.payloads;A=d.errorCode;switch(A){case q.ENTITYDATA_REAUTH:case q.ENTITY_REAUTH:b.getEntityAuthenticationData(A,{result:function(a){t(k,function(){if(!a)return null;r(f,w);},v);},error:function(a){k.error(a);}});break;case q.USERDATA_REAUTH:case q.SSOTOKEN_REJECTED:c.getUserAuthData(A,!1,!0,{result:function(a){t(k,function(){if(!a)return null;u(f,w);},v);},error:function(a){k.error(a);}});break;case q.USER_REAUTH:u(f,w);break;case q.KEYX_REQUIRED:A=Rb(d.messageId),z=new U(w,c);Sb(b,null,null,A,{result:function(a){t(k,function(){b.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(z.isNonReplayable());return{errorResult:new M(a,z),tokenTicket:null};},v);},error:function(a){k.error(a);}});break;case q.EXPIRED:this.getNewestMasterToken(a,b,h,{result:function(a){t(k,function(){var g,h,r,u;g=a&&a.masterToken;h=f.userIdToken;r=Rb(d.messageId);u=new U(w,c);Sb(b,g,h,r,{result:function(c){t(k,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(g)&&c.setRenewable(!0);c.setNonReplayable(u.isNonReplayable());return{errorResult:new M(c,u),tokenTicket:a};},v);},error:function(a){k.error(a);}},v);},v);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});break;case q.REPLAYED:this.getNewestMasterToken(a,b,h,{result:function(a){t(k,function(){var g,h,r,u;g=a&&a.masterToken;h=f.userIdToken;r=Rb(d.messageId);u=new U(w,c);Sb(b,g,h,r,{result:function(c){t(k,function(){b.isPeerToPeer()&&c.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(g)?(c.setRenewable(!0),c.setNonReplayable(!1)):c.setNonReplayable(u.isNonReplayable());return{errorResult:new M(c,u),tokenTicket:a};},v);},error:function(a){k.error(a);}});},v);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});break;default:return null;}},v);},cleanupContext:function(a,b,c){switch(c.errorCode){case q.ENTITY_REAUTH:this.deleteMasterToken(a,b.masterToken);break;case q.USER_REAUTH:c=b.userIdToken,b.masterToken&&c&&a.getMslStore().removeUserIdToken(c);}},send:function(a,b,c,g,d,h,k){var w;function r(a,g,h){t(k,function(){var r;r=d.getPeerUserIdToken();!b.isPeerToPeer()&&!g||b.isPeerToPeer()&&!r?(r=c.getCustomer())?d.setCustomer(r,{result:function(b){t(k,function(){g=d.getUserIdToken();u(a,g,h);},w);},error:function(a){k.error(a);}}):u(a,g,h):u(a,g,h);},w);}function u(a,b,g){t(k,function(){var h,r;h=!g&&(!c.isEncrypted()||d.willEncryptPayloads())&&(!c.isIntegrityProtected()||d.willIntegrityProtectPayloads())&&(!c.isNonReplayable()||d.isNonReplayable()&&a);h||d.setNonReplayable(!1);r=[];d.isRenewable()&&(!a||a.isRenewable()||c.isNonReplayable())?c.getKeyRequestData({result:function(c){t(k,function(){var k;for(var g=0;g<c.length;++g){k=c[g];r.push(k);d.addKeyRequestData(k);}v(a,b,h,r);},w);},error:function(a){k.error(a);}}):v(a,b,h,r);},w);}function v(r,u,v,A){t(k,function(){var A;A=new te(b,c,d);c.updateServiceTokens(A,!v,{result:function(A){d.getHeader({result:function(A){t(k,function(){var w,z;w=c.getDebugContext();w&&w.sentHeader(A);w=d.getKeyExchangeData();this.updateOutgoingCryptoContexts(b,A,w);this.storeServiceTokens(b,r,u,A.serviceTokens);w=!b.isPeerToPeer()&&w?w.cryptoContext:A.cryptoContext;if(a.isAborted())throw new Ta("send aborted.");z=null!=this._filterFactory?this._filterFactory.getOutputStream(g):g;Mc(b,z,ya,A,w,h,{result:function(b){a.setAbort(function(){b.abort();});f(b,A,v);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},w);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},error:function(a){k.error(a);}});},w);}function f(g,d,r){var u,v;if(r)c.write(g,h,{result:function(b){t(k,function(){if(a.isAborted())throw new Ta("MessageOutputStream write aborted.");A(g,d,r);},w);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});else{u=new H();v=new bc();Mc(b,u,ya,d,v,h,{result:function(b){c.write(b,h,{result:function(c){t(k,function(){if(a.isAborted())throw new Ta("MessageOutputStream proxy write aborted.");b.close(h,{result:function(a){t(k,function(){var c;if(!a)throw new Ta("MessageOutputStream proxy close aborted.");c=b.getPayloads();A(g,d,r,c);},w);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},w);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},timeout:function(){k.timeout();},error:function(a){k.error(a);}});}}function A(a,b,c,g){a.close(h,{result:function(d){t(k,function(){if(!d)throw new Ta("MessageOutputStream close aborted.");g||(g=a.getPayloads());return new T(b,g,!c);},w);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});}w=this;t(k,function(){var a,b,g,h;a=d.getMasterToken();b=d.getUserIdToken();g=!1;if(c.getUserId()){h=!b;c.getUserAuthData(null,d.isRenewable(),h,{result:function(c){t(k,function(){c&&(d.willEncryptHeader()&&d.willIntegrityProtectHeader()?d.setUserAuthenticationData(c):g=!0);r(a,b,g);},w);},error:function(a){k.error(a);}});}else r(a,b,g);},w);},receive:function(a,b,c,g,d,h,k){var r;r=this;t(k,function(){var u,v,f;if(a.isAborted())throw new Ta("receive aborted.");u=[];d&&(u=d.keyRequestData.filter(function(){return!0;}));v=c.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(g):g;ve(b,f,ya,u,v,h,{result:function(g){a.setAbort(function(){g.abort();});g.isReady(h,{result:function(a){t(k,function(){var h,u,v,f;if(!a)throw new Ta("MessageInputStream aborted.");h=g.getMessageHeader();u=g.getErrorHeader();v=c.getDebugContext();v&&v.receivedHeader(h?h:u);if(d&&(v=u?u.errorCode:null,h||v!=q.FAIL&&v!=q.TRANSIENT_FAILURE&&v!=q.ENTITY_REAUTH&&v!=q.ENTITYDATA_REAUTH)){v=h?h.messageId:u.messageId;f=Rb(d.messageId);if(v!=f)throw new va(l.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+f+"; received "+v);}b.getEntityAuthenticationData(null,{result:function(a){t(k,function(){var k,r,v,f;k=a.getIdentity();if(h){r=h.entityAuthenticationData;v=h.masterToken;r=v?h.sender:r.getIdentity();if(v&&v.isDecrypted()&&v.identity!=r||k==r)throw new va(l.UNEXPECTED_MESSAGE_SENDER,r);d&&this.updateIncomingCryptoContexts(b,d,g);k=h.keyResponseData;b.isPeerToPeer()?(k=k?k.masterToken:h.peerMasterToken,v=h.peerUserIdToken,r=h.peerServiceTokens):(k=k?k.masterToken:h.masterToken,v=h.userIdToken,r=h.serviceTokens);f=c.getUserId();f&&v&&!v.isVerified()&&b.getMslStore().addUserIdToken(f,v);this.storeServiceTokens(b,k,v,r);}else if(r=u.entityAuthenticationData.getIdentity(),k==r)throw new va(l.UNEXPECTED_MESSAGE_SENDER,r);return g;},r);},error:k.error});},r);},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},timeout:function(){k.timeout();},error:function(a){k.error(a);}});},r);},sendReceive:function(a,b,c,g,d,h,k,f,y){var u;function r(r,v){t(y,function(){h.setRenewable(v);this.send(a,b,c,d,h,k,{result:function(d){t(y,function(){var h;h=d.requestHeader.keyRequestData;f||d.handshake||!h.isEmpty()?this.receive(a,b,c,g,d.requestHeader,k,{result:function(a){t(y,function(){v&&this.releaseRenewalLock(b,r,a);return new L(a,d);},u);},timeout:function(){t(y,function(){v&&this.releaseRenewalLock(b,r,null);y.timeout();},u);},error:function(a){t(y,function(){v&&this.releaseRenewalLock(b,r,null);throw a;},u);}}):t(y,function(){v&&this.releaseRenewalLock(b,r,null);return new L(null,d);},u);},u);},timeout:function(){t(y,function(){v&&this.releaseRenewalLock(b,r,null);y.timeout();},u);},error:function(a){t(y,function(){v&&this.releaseRenewalLock(b,r,null);throw a;},u);}});},u);}u=this;t(y,function(){var g;g=new ic();this.acquireRenewalLock(a,b,c,g,h,k,{result:function(a){r(g,a);},timeout:function(){y.timeout();},error:function(a){a instanceof Ta?y.result(null):y.error(a);}});},u);},acquireRenewalLock:function(a,b,c,g,h,k,f){var v;function r(A,w,z){t(f,function(){var y,F;if(a.isAborted())throw new Ta("acquireRenewalLock aborted.");for(var x=null,D=0;D<this._renewingContexts.length;++D){y=this._renewingContexts[D];if(y.ctx===b){x=y.queue;break;}}if(!x)return this._renewingContexts.push({ctx:b,queue:g}),!0;F=x.poll(k,{result:function(a){t(f,function(){var g;if(a===X)throw new Ta("acquireRenewalLock aborted.");x.add(a);if(a===d||a.isExpired())r(a,w,z);else{if(z&&!w||w&&!w.isBoundTo(a)){g=b.getMslStore().getUserIdToken(z);w=g&&g.isBoundTo(a)?g:null;}h.setAuthTokens(a,w);h.isRenewable()&&a.equals(A)?r(a,w,z):c.isRequestingTokens()&&!w?r(a,w,z):u(a,w);}},v);},timeout:function(){},error:function(a){}});a.setAbort(function(){F&&(x.cancel(F),F=X);});},v);}function u(d,h){t(f,function(){var u;if(a.isAborted())throw new Ta("acquireRenewalLock aborted.");if(!d||d.isRenewable()||!h&&c.getUserId()||h&&h.isRenewable()){for(var k=null,r=0;r<this._renewingContexts.length;++r){u=this._renewingContexts[r];if(u.ctx===b){k=u.queue;break;}}if(!k)return this._renewingContexts.push({ctx:b,queue:g}),!0;}return!1;},v);}v=this;t(f,function(){var a,b,g;a=h.getMasterToken();b=h.getUserIdToken();g=c.getUserId();c.isEncrypted()&&!h.willEncryptPayloads()||c.isIntegrityProtected()&&!h.willIntegrityProtectPayloads()||h.isRenewable()||!a&&c.isNonReplayable()||a&&a.isExpired()||!(b||!g||h.willEncryptHeader()&&h.willIntegrityProtectHeader())||c.isRequestingTokens()&&(!a||g&&!b)?r(a,b,g):u(a,b);},v);},releaseRenewalLock:function(a,b,c){var r;for(var g,h,k=0;k<this._renewingContexts.length;++k){r=this._renewingContexts[k];if(r.ctx===a){g=k;h=r.queue;break;}}if(h!==b)throw new W("Attempt to release renewal lock that is not owned by this queue.");c?(c=c.messageHeader)?(h=c.keyResponseData)?b.add(h.masterToken):(a=a.isPeerToPeer()?c.peerMasterToken:c.masterToken)?b.add(a):b.add(d):b.add(d):b.add(d);this._renewingContexts.splice(g,1);}});ye=ca.Class.create({init:function(){var a;a={_impl:{value:new h(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,a);},setFilterFactory:function(a){this._impl.setFilterFactory(a);},shutdown:function(){this._shutdown=!0;},receive:function(b,c,g,d,h,k){var r;if(this._shutdown)throw new B("MslControl is shutdown.");r=new a(this._impl,b,c,g,d,h);setTimeout(function(){r.call(k);},0);return N(r);},respond:function(a,c,g,d,h,k,f){var r;if(this._shutdown)throw new B("MslControl is shutdown.");r=new b(this._impl,a,c,g,d,h,k);setTimeout(function(){r.call(f);},0);return N(r);},error:function(a,b,g,d,h,k,f){var r;if(this._shutdown)throw new B("MslControl is shutdown.");r=new c(this._impl,a,b,g,d,h,k);setTimeout(function(){r.call(f);},0);return N(r);},request:function(a,b){var c,g,d,h,r,u;if(this._shutdown)throw new B("MslControl is shutdown.");if(5==arguments.length){if(c=arguments[2],d=g=null,h=arguments[3],r=arguments[4],a.isPeerToPeer()){r.error(new W("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(c=null,g=arguments[2],d=arguments[3],h=arguments[4],r=arguments[5],!a.isPeerToPeer())){r.error(new W("This method cannot be used in trusted network mode."));return;}u=new k(this._impl,a,b,c,g,d,null,0,h);setTimeout(function(){u.call(r);},0);return N(u);}});a=ca.Class.create({init:function(a,b,c,g,d,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:X,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var d;function b(b){t(a,function(){var g;g=b.messageHeader;if(!g)return b;this.setAbort(function(){b.abort();});b.mark(Number.MAX_VALUE);b.read(1,d._timeout,{result:function(g){t(a,function(){if(g&&0==g.length)return null;if(g)return b.reset(),b;c(b);},d);},timeout:function(){a.timeout();},error:function(b){t(a,function(){var c,h,k;if(C(b))return null;c=g?g.messageId:null;b instanceof Ma?(h=l.MSL_COMMS_FAILURE,k=b):(h=l.INTERNAL_EXCEPTION,k=new W("Error peeking into the message payloads."));I(this,this._ctx,this._msgCtx.getDebugContext(),c,h,null,this._output,this._timeout,{result:function(b){a.error(k);},timeout:function(){a.timeout();},error:function(c){t(a,function(){if(C(c))return null;throw new hb("Error peeking into the message payloads.",c,b);},d);}});},d);}});},d);}function c(b){t(a,function(){b.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,b.messageHeader,this._timeout,{result:function(c){t(a,function(){var d,h,r,u,v;d=c.builder;h=c.tokenTicket;r=b.messageHeader;u=new f(this._msgCtx);if(!this._ctx.isPeerToPeer()||r.isEncrypting()||r.keyResponseData)g(r,d,u,h);else{v=new k(this._ctrl,this._ctx,u,null,this._input,this._output,c,1,this._timeout);this.setAbort(function(){v.abort();});v.call(a);}},d);},timeout:function(){a.timeout();},error:function(c){t(a,function(){var g,h,k,r;if(C(c))return null;c instanceof B?(g=c.messageId,h=c.error,k=b.messageHeader.messageCapabilities,k=this._ctrl.messageRegistry.getUserMessage(h,k?k.languages:null),r=c):(g=requestHeader?requestHeader.messageId:null,h=l.INTERNAL_EXCEPTION,k=null,r=new W("Error creating an automatic handshake response.",c));I(this,this._ctx,this._msgCtx.getDebugContext(),g,h,k,this._output,this._timeout,{result:function(b){a.error(r);},timeout:function(){a.timeout();},error:function(b){t(a,function(){if(C(b))return null;throw new hb("Error creating an automatic handshake response.",b,c);},d);}});},d);}});},d);}function g(b,c,g,h){t(a,function(){c.setRenewable(!1);this._ctrl.send(this._ctx,g,this._output,c,this._timeout,{result:function(b){t(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(h);return null;},d);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(h);a.timeout();},d);},error:function(c){t(a,function(){var g,k,r,u;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(h);if(C(c))return null;c instanceof B?(g=c.messageId,k=c.error,r=b?b.messageCapabilities:null,r=this._ctrl.messageRegistry.getUserMessage(k,r?r.languages:null),u=c):c instanceof Ma?(g=b?b.messageId:null,k=l.MSL_COMMS_FAILURE,r=null,u=c):(g=b?b.messageId:null,k=l.INTERNAL_EXCEPTION,r=null,u=new W("Error sending an automatic handshake response.",c));I(this,this._ctx,this._msgCtx.getDebugContext(),g,k,r,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(b){t(a,function(){if(C(b))return null;throw new hb("Error sending an automatic handshake response.",b,c);},d);}});},d);}});},d);}d=this;t(a,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(a){b(a);},timeout:function(){a.timeout();},error:function(b){t(a,function(){var c,g,h,k;if(C(b))return null;b instanceof B?(c=b.messageId,g=b.error,h=this._ctrl.messageRegistry.getUserMessage(g,null),k=b):(c=null,g=l.INTERNAL_EXCEPTION,h=null,k=new W("Error receiving the message header.",b));I(this,this._ctx,this._msgCtx.getDebugContext(),c,g,h,this._output,this._timeout,{result:function(b){a.error(k);},timeout:function(){a.timeout();},error:function(c){t(a,function(){if(C(c))return null;throw new hb("Error receiving the message header.",c,b);},d);}});},d);}});},d);}});b=ca.Class.create({init:function(a,b,c,g,d,h,k){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_request:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:k,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:X,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},trustedNetworkExecute:function(a,b,c){var g;g=this;t(c,function(){var d,h;if(12<b+1)return!1;if(d=this._msgCtx.isIntegrityProtected()&&!a.willIntegrityProtectHeader()?l.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!a.willEncryptPayloads()?l.RESPONSE_REQUIRES_ENCRYPTION:null){h=cc(a.getMessageId());I(this,this._ctx,this._msgCtx.getDebugContext(),h,d,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){t(c,function(){if(C(a))return!1;throw new hb("Response requires encryption or integrity protection but cannot be protected: "+d,a,null);},g);}});}else!this._msgCtx.getCustomer()||a.getMasterToken()||a.getKeyExchangeData()?(a.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,a,this._timeout,{result:function(a){c.result(!0);},timeout:function(){c.timeout();},error:function(a){c.error(a);}})):(h=cc(a.getMessageId()),I(this,this._ctx,this._msgCtx.getDebugContext(),h,l.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){t(c,function(){if(C(a))return!1;throw new hb("Response wishes to attach a user ID token but there is no master token.",a,null);},g);}}));},g);},peerToPeerExecute:function(a,b,c,g){var h;function d(b){t(g,function(){var d;d=b.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,a,b,d,{result:function(a){t(g,function(){var b,d;if(!a)return!1;b=a.errorResult;d=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,c,{result:function(a){t(g,function(){this._ctrl.releaseMasterToken(d);return a;},h);},timeout:function(){t(g,function(){this._ctrl.releaseMasterToken(d);g.timeout();},h);},error:function(a){t(g,function(){this._ctrl.releaseMasterToken(d);throw a;},h);}});},h);}});},h);}h=this;t(g,function(){var k;if(12<c+2)return!1;if(null!=a.getCustomer()&&null==b.getPeerMasterToken()&&null==b.getKeyExchangeData()){k=cc(b.getMessageId());I(this,this._ctx,a.getDebugContext(),k,l.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){g.result(!1);},timeout:function(){g.timeout();},error:function(a){t(g,function(){if(C(a))return!1;throw new hb("Response wishes to attach a user ID token but there is no master token.",a,null);},h);}});}else this._ctrl.sendReceive(this._ctx,a,this._input,this._output,b,this._timeout,!1,{result:function(b){t(g,function(){var u,v,f;function k(){u.read(32768,h._timeout,{result:function(a){t(g,function(){a?k():r();},h);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}function r(){t(g,function(){var d;d=new U(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,d,v,this._timeout,{result:function(a){t(g,function(){var b;b=a.tokenTicket;this.peerToPeerExecute(d,a.builder,c,{result:function(a){t(g,function(){this._ctrl.releaseMasterToken(b);return a;},h);},timeout:function(){t(g,function(){this._ctrl.releaseMasterToken(b);g.timeout();},h);},error:function(a){t(g,function(){this._ctrl.releaseMasterToken(b);throw a;},h);}});},h);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},h);}u=b.response;c+=2;if(!u)return!0;v=u.getMessageHeader();if(v){f=b.payloads;f=0<f.length&&0<f[0].data.length;if(b.handshake&&f)k();else return!0;}else d(b);},h);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},h);},call:function(a){var b;b=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(c){t(a,function(){var g,d;g=c.builder;d=c.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,g,3,{result:function(c){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return c;},b);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(c){t(a,function(){var h,k,r,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(c))return!1;h=cc(g.getMessageId());c instanceof B?(k=c.error,r=this._request.messageCapabilities,r=this._ctrl.messageRegistry.getUserMessage(k,r?r.languages:null),u=c):c instanceof Ma?(k=l.MSL_COMMS_FAILURE,r=null,u=c):(k=l.INTERNAL_EXCEPTION,r=null,u=new W("Error sending the response.",c));I(this,this._ctx,this._msgCtx.getDebugContext(),h,k,r,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(c){t(a,function(){if(C(c))return!1;throw new hb("Error sending the response.",c,null);},b);}});},b);}}):this.trustedNetworkExecute(g,3,{result:function(c){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return c;},b);},timeout:function(){t(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(c){t(a,function(){var h,k,r,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(c))return!1;h=cc(g.getMessageId());c instanceof B?(k=c.error,r=this._request.messageCapabilities,r=this._ctrl.messageRegistry.getUserMessage(k,r?r.languages:null),u=c):c instanceof Ma?(k=l.MSL_COMMS_FAILURE,r=null,u=c):(k=l.INTERNAL_EXCEPTION,r=null,u=new W("Error sending the response.",c));I(this,this._ctx,this._msgCtx.getDebugContext(),h,k,r,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(c){t(a,function(){if(C(c))return!1;throw new hb("Error sending the response.",c,null);},b);}});},b);}});},b);},timeout:function(){a.timeout();},error:function(c){t(a,function(){var g,d,h,k;if(C(c))return!1;c instanceof B?(g=c.messageId,d=c.error,h=this._request.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(d,h?h.languages:null),k=c):(g=null,d=l.INTERNAL_EXCEPTION,h=null,k=new W("Error building the response.",c));I(this,this._ctx,this._msgCtx.getDebugContext(),g,d,h,this._output,this._timeout,{result:function(b){a.error(k);},timeout:function(){a.timeout();},error:function(g){t(a,function(){if(C(g))return null;throw new hb("Error building the response.",g,c);},b);}});},b);}});}});c=ca.Class.create({init:function(a,b,c,g,d,h,k){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_appError:{value:g,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:k,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:X,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var b;b=this;t(a,function(){var c,g;if(this._appError==ENTITY_REJECTED)c=this._request.masterToken?l.MASTERTOKEN_REJECTED_BY_APP:l.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)c=this._request.userIdToken?l.USERIDTOKEN_REJECTED_BY_APP:l.USER_REJECTED_BY_APP;else throw new W("Unhandled application error "+this._appError+".");g=this._request.messageCapabilities;g=this._ctrl.messageRegistry.getUserMessage(c,g?g.languages:null);I(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,c,g,this._output,this._timeout,{result:function(b){a.result(b);},timeout:a.timeout,error:function(c){t(a,function(){if(C(c))return!1;if(c instanceof B)throw c;throw new W("Error building the error response.",c);},b);}});},b);}});g={result:function(){},timeout:function(){},error:function(){}};k=ca.Class.create({init:function(a,b,c,g,d,h,k,f,y){var r;k?(r=k.builder,k=k.tokenTicket):k=r=null;Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:c,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:g,writable:!1,enumerable:!1,configurable:!1},_input:{value:d,writable:!0,enumerable:!1,configurable:!1},_output:{value:h,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:r,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:k,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:y,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:f,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:X,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},execute:function(a,b,c,d,h){var v;function r(b){function r(a){t(h,function(){var c;c=b.response;return a?a:c;},v);}t(h,function(){var u,f;u=b.response;u.close();f=u.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,f);this._ctrl.buildErrorResponse(this,this._ctx,a,b,f,c,{result:function(a){t(h,function(){var b,f,A,w;if(!a)return u;b=a.errorResult;f=a.tokenTicket;A=b.builder;b=b.msgCtx;if(this._ctx.isPeerToPeer())this.execute(b,A,this._timeout,d,{result:function(a){t(h,function(){this._ctrl.releaseMasterToken(f);r(a);},v);},timeout:function(){t(h,function(){this._ctrl.releaseMasterToken(f);h.timeout();},v);},error:function(a){t(h,function(){this._ctrl.releaseMasterToken(f);h.error(a);},v);}});else{this._openedStreams&&(this._input.close(),this._output.close(c,g));w=new k(this._ctrl,this._ctx,b,this._remoteEntity,null,null,{builder:A,tokenTicket:f},d,this._timeout);this.setAbort(function(){w.abort();});w.call({result:function(a){r(a);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},v);}function u(b){t(h,function(){var A,w,z,x,y;function r(){A.read(32768,v._timeout,{result:function(a){a?r():u();},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}function u(){t(h,function(){var g;g=new U(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,w,c,{result:function(a){t(h,function(){var b;b=a.tokenTicket;this.execute(g,a.builder,this._timeout,d,{result:function(a){t(h,function(){this._ctrl.releaseMasterToken(b);return a;},v);},timeout:function(){t(h,function(){this._ctrl.releaseMasterToken(b);h.timeout();},v);},error:function(a){t(h,function(){this._ctrl.releaseMasterToken(b);throw a;},v);}});},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},v);}A=b.response;w=A.getMessageHeader();z=b.payloads;z=0<z.length&&0<z[0].data.length;if(!this._ctx.isPeerToPeer()){if(!b.handshake||!z)return A;this._openedStreams&&(this._input.close(),this._output.close(c,g));x=new U(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,w,c,{result:function(a){t(h,function(){var b;b=new k(this._ctrl,this._ctx,x,this._remoteEntity,null,null,a,d,this._timeout);this.setAbort(function(){b.abort();});b.call(h);},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}else if(b.handshake&&z)r();else if(0<w.keyRequestData.length){y=new f(a);this._ctrl.buildResponse(this,this._ctx,y,w,c,{result:function(a){t(h,function(){var b,c;b=a.builder;c=a.tokenTicket;A.mark();A.read(1,this._timeout,{result:function(a){t(h,function(){function g(){A.read(32768,v._timeout,{result:function(a){a?g():k();},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}function k(){v.execute(y,b,v._timeout,d,{result:function(a){t(h,function(){this._ctrl.releaseMasterToken(c);return a;},v);},timeout:function(){t(h,function(){this._ctrl.releaseMasterToken(c);h.timeout();},v);},error:function(a){t(h,function(){this._ctrl.releaseMasterToken(c);throw a;},v);}});}if(a)if(A.reset(),12>=d+1)b.setRenewable(!1),this._ctrl.send(this,this._ctx,y,this._output,b,this._timeout,{result:function(a){t(h,function(){this.releaseMasterToken(c);return A;},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});else return this.releaseMasterToken(c),A;else g();},v);},timeout:function(){t(h,function(){this.releaseMasterToken(c);h.timeout();},v);},error:function(a){t(h,function(){this.releaseMasterToken(c);throw a;},v);}});},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}},v);}v=this;t(h,function(){if(12<d+2)return null;this._ctrl.sendReceive(this,this._ctx,a,this._input,this._output,b,c,!0,{result:function(a){t(h,function(){var b;if(!a)return null;b=a.response;d+=2;b.getMessageHeader()?u(a):r(a);},v);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},v);},call:function(a){var c;function b(b,d,h){t(a,function(){this.execute(this._msgCtx,b,h,this._msgCount,{result:function(b){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&this._output.close(h,g);b&&b.closeSource(this._openedStreams);return b;},c);},timeout:function(){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(h,g),this._input.close());a.timeout();},c);},error:function(b){t(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(h,g),this._input.close());if(C(b))return null;throw b;},c);}});},c);}c=this;t(a,function(){var d,h,k;d=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);h=Date.now();k=this._remoteEntity.openConnection();this._output=k.output;this._input=k.input;-1!=d&&(d=this._timeout-(Date.now()-h));this._openedStreams=!0;}catch(w){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,g);this._input&&this._input.close();if(C(w))return null;throw w;}this._builder?b(this._builder,this._tokenTicket,d):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){t(a,function(){b(g.builder,g.tokenTicket,d);},c);},timeout:function(){t(a,function(){this._openedStreams&&(this._output.close(this._timeout,g),this._input.close());a.timeout();},c);},error:function(b){t(a,function(){this._openedStreams&&(this._output.close(this._timeout,g),this._input.close());if(C(b))return null;throw b;},c);}});},c);}});}());(function(){ud=ca.Class.create({init:function(l){Object.defineProperties(this,{id:{value:l,writable:!1,configurable:!1}});},toJSON:function(){var l;l={};l.id=this.id;return l;},equals:function(l){return this===l?!0:l instanceof ud?this.id==l.id:!1;},uniqueKey:function(){return this.id;}});ze=function(m){var q;q=m.id;if(!q)throw new ga(l.JSON_PARSE_ERROR,JSON.stringify(m));return new ud(q);};}());ca.Class.create({isNewestMasterToken:function(l,m,q){},isMasterTokenRevoked:function(l,m){},acceptNonReplayableId:function(l,m,q,t){},createMasterToken:function(l,m,q,t,L){},isMasterTokenRenewable:function(l,m,q){},renewMasterToken:function(l,m,q,t,L){},isUserIdTokenRevoked:function(l,m,q,t){},createUserIdToken:function(l,m,q,t){},renewUserIdToken:function(l,m,q,t){}});(function(){function q(l,m,q,t){this.sessiondata=l;this.tokendata=m;this.signature=q;this.verified=t;}gb=ca.Class.create({init:function(l,q,t,L,C,I,B,N,H,U,f){var d;d=this;m(f,function(){var a,b,c,k,h;if(t.getTime()<q.getTime())throw new W("Cannot construct a master token that expires before its renewal window opens.");if(0>L||L>sa)throw new W("Sequence number "+L+" is outside the valid range.");if(0>C||C>sa)throw new W("Serial number "+C+" is outside the valid range.");a=Math.floor(q.getTime()/1E3);b=Math.floor(t.getTime()/1E3);if(U)c=U.sessiondata;else{k={};I&&(k.issuerdata=I);k.identity=B;k.encryptionkey=ka(N.toByteArray());k.hmackey=ka(H.toByteArray());c=Ia(JSON.stringify(k),ya);}if(U)return Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:I,writable:!1,configurable:!1},identity:{value:B,writable:!1,configurable:!1},encryptionKey:{value:N,writable:!1,configurable:!1},hmacKey:{value:H,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:U.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:U.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:U.signature,writable:!1,enumerable:!1,configurable:!1}}),this;h=l.getMslCryptoContext();h.encrypt(c,{result:function(g){m(f,function(){var n,p;n={};n.renewalwindow=a;n.expiration=b;n.sequencenumber=L;n.serialnumber=C;n.sessiondata=ka(g);p=Ia(JSON.stringify(n),ya);h.sign(p,{result:function(g){m(f,function(){Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:C,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:I,writable:!1,configurable:!1},identity:{value:B,writable:!1,configurable:!1},encryptionKey:{value:N,writable:!1,configurable:!1},hmacKey:{value:H,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:p,writable:!1,enumerable:!1,configurable:!1},signature:{value:g,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){f.error(a);}});},d);},error:function(a){f.error(a);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(l){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(l){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(l){var m;if(this.sequenceNumber==l.sequenceNumber)return this.expiration>l.expiration;if(this.sequenceNumber>l.sequenceNumber){m=this.sequenceNumber-sa+127;return l.sequenceNumber>=m;}m=l.sequenceNumber-sa+127;return this.sequenceNumber<m;},toJSON:function(){var l;l={};l.tokendata=ka(this.tokendata);l.signature=ka(this.signature);return l;},equals:function(l){return this===l?!0:l instanceof gb?this.serialNumber==l.serialNumber&&this.sequenceNumber==l.sequenceNumber&&this.expiration.getTime()==l.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Pb=function(t,M,T){m(T,function(){var E,C,I,N,H;E=t.getMslCryptoContext();C=M.tokendata;I=M.signature;if("string"!==typeof C||"string"!==typeof I)throw new ga(l.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(M));try{N=na(C);}catch(Ea){throw new B(l.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(M),Ea);}if(!N||0==N.length)throw new ga(l.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(M));try{H=na(I);}catch(Ea){throw new B(l.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(M),Ea);}E.verify(N,H,{result:function(C){m(T,function(){var I,f,d,a,b,c,k,h,g,n;c=Qa(N,ya);try{k=JSON.parse(c);I=parseInt(k.renewalwindow);f=parseInt(k.expiration);d=parseInt(k.sequencenumber);a=parseInt(k.serialnumber);b=k.sessiondata;}catch(p){if(p instanceof SyntaxError)throw new ga(l.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c,p);throw p;}if(!I||I!=I||!f||f!=f||"number"!==typeof d||d!=d||"number"!==typeof a||a!=a||"string"!==typeof b)throw new ga(l.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c);if(f<I)throw new B(l.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+c);if(0>d||d>sa)throw new B(l.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);if(0>a||a>sa)throw new B(l.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);h=new Date(1E3*I);g=new Date(1E3*f);try{n=na(b);}catch(p){throw new B(l.MASTERTOKEN_SESSIONDATA_INVALID,b,p);}if(!n||0==n.length)throw new B(l.MASTERTOKEN_SESSIONDATA_MISSING,b);C?E.decrypt(n,{result:function(b){m(T,function(){var c,p,n,k,f,x;f=Qa(b,ya);try{x=JSON.parse(f);c=x.issuerdata;p=x.identity;n=x.encryptionkey;k=x.hmackey;}catch(w){if(w instanceof SyntaxError)throw new ga(l.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+f,w);throw w;}if(c&&"object"!==typeof c||!p||"string"!==typeof n||"string"!==typeof k)throw new ga(l.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+f);ub(n,sb,Fb,{result:function(n){ub(k,tb,Ob,{result:function(k){m(T,function(){var r;r=new q(b,N,H,C);new gb(t,h,g,d,a,c,p,n,k,r,T);});},error:function(a){T.error(new U(l.MASTERTOKEN_KEY_CREATION_ERROR,a));}});},error:function(a){T.error(new U(l.MASTERTOKEN_KEY_CREATION_ERROR,a));}});});},error:function(a){T.error(a);}}):(I=new q(null,N,H,C),new gb(t,h,g,d,a,null,null,null,null,I,T));});},error:function(l){T.error(l);}});});};}());(function(){function q(l,m,q){this.tokendata=l;this.signature=m;this.verified=q;}$b=ca.Class.create({init:function(l,q,t,L,C,I,N,H,U){var E;E=this;m(U,function(){var f,d,a,b,c,k,h;if(t.getTime()<q.getTime())throw new W("Cannot construct a user ID token that expires before its renewal window opens.");if(!L)throw new W("Cannot construct a user ID token without a master token.");if(0>C||C>sa)throw new W("Serial number "+C+" is outside the valid range.");f=Math.floor(q.getTime()/1E3);d=Math.floor(t.getTime()/1E3);a=L.serialNumber;if(H){b=H.tokendata;c=H.signature;k=H.verified;a=L.serialNumber;Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:I,writable:!1,configurable:!1},customer:{value:N,writable:!1,configurable:!1},verified:{value:k,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:c,writable:!1,enumerable:!1,configurable:!1}});return this;}b={};I&&(b.issuerdata=I);b.identity=N;b=Ia(JSON.stringify(b),ya);h=l.getMslCryptoContext();h.encrypt(b,{result:function(b){m(U,function(){var c,g;c={};c.renewalwindow=f;c.expiration=d;c.mtserialnumber=a;c.serialnumber=C;c.userdata=ka(b);g=Ia(JSON.stringify(c),ya);h.sign(g,{result:function(a){m(U,function(){Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:L.serialNumber,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:I,writable:!1,configurable:!1},customer:{value:N,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},E);},error:function(a){m(U,function(){a instanceof B&&a.setEntity(L);throw a;},E);}});},E);},error:function(a){m(U,function(){a instanceof B&&a.setEntity(L);throw a;},E);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(l){return l&&l.serialNumber==this.mtSerialNumber;},toJSON:function(){var l;l={};l.tokendata=ka(this.tokendata);l.signature=ka(this.signature);return l;},equals:function(l){return this===l?!0:l instanceof $b?this.serialNumber==l.serialNumber&&this.mtSerialNumber==l.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Qb=function(t,M,T,L){m(L,function(){var C,I,E,N,H;C=t.getMslCryptoContext();I=M.tokendata;E=M.signature;if("string"!==typeof I||"string"!==typeof E)throw new ga(l.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(M)).setEntity(T);try{N=na(I);}catch(ua){throw new B(l.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(M),ua).setEntity(T);}if(!N||0==N.length)throw new ga(l.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(M)).setEntity(T);try{H=na(E);}catch(ua){throw new B(l.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(M),ua).setEntity(T);}C.verify(N,H,{result:function(I){m(L,function(){var f,d,a,b,c,k,h,g,n,p;k=Qa(N,ya);try{h=JSON.parse(k);f=parseInt(h.renewalwindow);d=parseInt(h.expiration);a=parseInt(h.mtserialnumber);b=parseInt(h.serialnumber);c=h.userdata;}catch(r){if(r instanceof SyntaxError)throw new ga(l.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+k,r).setEntity(T);throw r;}if(!f||f!=f||!d||d!=d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"string"!==typeof c)throw new ga(l.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+k).setEntity(T);if(d<f)throw new B(l.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+k).setEntity(T);if(0>a||a>sa)throw new B(l.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+k).setEntity(T);if(0>b||b>sa)throw new B(l.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+k).setEntity(T);g=new Date(1E3*f);n=new Date(1E3*d);if(!T||a!=T.serialNumber)throw new B(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+a+"; mt "+JSON.stringify(T)).setEntity(T);try{p=na(c);}catch(r){throw new B(l.USERIDTOKEN_USERDATA_INVALID,c,r).setEntity(T);}if(!p||0==p.length)throw new B(l.USERIDTOKEN_USERDATA_MISSING,c).setEntity(T);I?C.decrypt(p,{result:function(a){m(L,function(){var c,d,p,h,k;p=Qa(a,ya);try{h=JSON.parse(p);c=h.issuerdata;d=h.identity;}catch(w){if(w instanceof SyntaxError)throw new ga(l.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+p).setEntity(T);throw w;}if(c&&"object"!==typeof c||"object"!==typeof d)throw new ga(l.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+p).setEntity(T);try{k=ze(d);}catch(w){throw new B(l.USERIDTOKEN_IDENTITY_INVALID,"userdata "+p,w).setEntity(T);}d=new q(N,H,I);new $b(t,g,n,T,b,c,k,d,L);});},error:function(a){m(L,function(){a instanceof B&&a.setEntity(T);throw a;});}}):(f=new q(N,H,I),new $b(t,g,n,T,b,null,null,f,L));});},error:function(l){m(L,function(){l instanceof B&&l.setEntity(T);throw l;});}});});};}());(function(){function q(m,q){var t,C,I;t=m.tokendata;if("string"!==typeof t)throw new ga(l.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m));try{C=na(t);}catch(La){throw new B(l.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(m),La);}if(!C||0==C.length)throw new ga(l.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(m));try{I=JSON.parse(Qa(C,ya)).name;}catch(La){if(La instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m),La);throw La;}if(!I)throw new ga(l.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m));return q[I]?q[I]:q[""];}function t(l,m,q){this.tokendata=l;this.signature=m;this.verified=q;}Hb=ca.Class.create({init:function(l,q,t,C,I,E,N,H,U,f){var d;d=this;m(f,function(){var a,b,c,k,h;if(C&&I&&!I.isBoundTo(C))throw new W("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");a=C?C.serialNumber:-1;b=I?I.serialNumber:-1;if(U)return h=U.tokendata,Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:E,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:N,writable:!1,configurable:!1},verified:{value:U.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:U.signature,writable:!1,enumerable:!1,configurable:!1}}),this;N?(c=td(N,t),c.length<t.length||(N=null,c=t)):(N=null,c=t);k={};k.name=q;-1!=a&&(k.mtserialnumber=a);-1!=b&&(k.uitserialnumber=b);k.encrypted=E;N&&(k.compressionalgo=N);if(E&&0<c.length)H.encrypt(c,{result:function(c){m(f,function(){var g;k.servicedata=ka(c);g=Ia(JSON.stringify(k),ya);H.sign(g,{result:function(c){m(f,function(){Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:E,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:N,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:c,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){m(f,function(){a instanceof B&&(a.setEntity(C),a.setUser(I));throw a;});}});},d);},error:function(a){m(f,function(){a instanceof B&&(a.setEntity(C),a.setUser(I));throw a;});}});else{k.servicedata=ka(c);h=Ia(JSON.stringify(k),ya);H.sign(h,{result:function(c){m(f,function(){Object.defineProperties(this,{ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:E,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:N,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:c,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){m(f,function(){a instanceof B&&(a.setEntity(C),a.setUser(I));throw a;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(l){return l?l instanceof gb?l.serialNumber==this.mtSerialNumber:l instanceof $b?l.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var l;l={};l.tokendata=ka(this.tokendata);l.signature=ka(this.signature);return l;},equals:function(l){return this===l?!0:l instanceof Hb?this.name==l.name&&this.mtSerialNumber==l.mtSerialNumber&&this.uitSerialNumber==l.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Bb=function(l,m,q,t,I,E,N,B,H){new Hb(l,m,q,t,I,E,N,B,null,H);};Jc=function(E,N,L,C,I,H){m(H,function(){var M,T,U,f,d,a,b,c,k,h,g,n,p;!I||I instanceof ac||(I=q(N,I));M=N.tokendata;T=N.signature;if("string"!==typeof M||"string"!==typeof T)throw new ga(l.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(N)).setEntity(L).setEntity(C);try{U=na(M);}catch(r){throw new B(l.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(N),r).setEntity(L).setEntity(C);}if(!U||0==U.length)throw new ga(l.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(N)).setEntity(L).setEntity(C);try{f=na(T);}catch(r){throw new B(l.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(N),r).setEntity(L).setEntity(C);}g=Qa(U,ya);try{n=JSON.parse(g);d=n.name;a=n.mtserialnumber?parseInt(n.mtserialnumber):-1;b=n.uitserialnumber?parseInt(n.uitserialnumber):-1;c=n.encrypted;k=n.compressionalgo;h=n.servicedata;}catch(r){if(r instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"servicetokendata "+g,r).setEntity(L).setEntity(C);throw r;}if(!d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"boolean"!==typeof c||k&&"string"!==typeof k||"string"!==typeof h)throw new ga(l.JSON_PARSE_ERROR,"servicetokendata "+g).setEntity(L).setEntity(C);if(n.mtserialnumber&&0>a||a>sa)throw new B(l.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+g).setEntity(L).setEntity(C);if(n.uitserialnumber&&0>b||b>sa)throw new B(l.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+g).setEntity(L).setEntity(C);if(-1!=a&&(!L||a!=L.serialNumber))throw new B(l.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+a+"; mt "+L).setEntity(L).setEntity(C);if(-1!=b&&(!C||b!=C.serialNumber))throw new B(l.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+b+"; uit "+C).setEntity(L).setEntity(C);c=!0===c;if(k){if(!Lb[k])throw new B(l.UNIDENTIFIED_COMPRESSION,k);p=k;}else p=null;I?I.verify(U,f,{result:function(n){m(H,function(){var k,r;if(n){try{k=na(h);}catch(A){throw new B(l.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+g,A).setEntity(L).setEntity(C);}if(!k||0!=h.length&&0==k.length)throw new B(l.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+g).setEntity(L).setEntity(C);if(c&&0<k.length)I.decrypt(k,{result:function(g){m(H,function(){var h,k;h=p?Kc(p,g):g;k=new t(U,f,n);new Hb(E,d,h,-1!=a?L:null,-1!=b?C:null,c,p,I,k,H);});},error:function(a){m(H,function(){a instanceof B&&(a.setEntity(L),a.setUser(C));throw a;});}});else{k=p?Kc(p,k):k;r=new t(U,f,n);new Hb(E,d,k,-1!=a?L:null,-1!=b?C:null,c,p,I,r,H);}}else k=""==h?new Uint8Array(0):null,r=new t(U,f,n),new Hb(E,d,k,-1!=a?L:null,-1!=b?C:null,c,p,I,r,H);});},error:function(a){m(H,function(){a instanceof B&&(a.setEntity(L),a.setUser(C));throw a;});}}):(M=""==h?new Uint8Array(0):null,T=new t(U,f,!1),new Hb(E,d,M,-1!=a?L:null,-1!=b?C:null,c,p,I,T,H));});};}());cb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(cb);(function(){Eb=ca.Class.create({init:function(l){Object.defineProperties(this,{scheme:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(l){return this===l?!0:l instanceof Eb?this.scheme==l.scheme:!1;},toJSON:function(){var l;l={};l.scheme=this.scheme;l.authdata=this.getAuthData();return l;}});oe=function(q,t,M,B){m(B,function(){var m,C,I;m=M.scheme;C=M.authdata;if(!m||!C)throw new ga(l.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(M));if(!cb[m])throw new ra(l.UNIDENTIFIED_USERAUTH_SCHEME,m);I=q.getUserAuthenticationFactory(m);if(!I)throw new ra(l.USERAUTH_FACTORY_NOT_FOUND,m);I.createData(q,t,C,B);});};}());nc=ca.Class.create({init:function(l){Object.defineProperties(this,{scheme:{value:l,writable:!1,configurable:!1}});},createData:function(l,m,q,t){},authenticate:function(l,m,q,t){}});(function(){Tb=Eb.extend({init:function E(l,m){E.base.call(this,cb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:l,writable:!1,configurable:!1},secureNetflixId:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var l;l={};l.netflixid=this.netflixId;this.secureNetflixId&&(l.securenetflixid=this.secureNetflixId);return l;},equals:function M(l){return this===l?!0:l instanceof Tb?M.base.call(this,l)&&this.netflixId==l.netflixId&&this.secureNetflixId==l.secureNetflixId:!1;}});Ae=function(m){var q,t;q=m.netflixid;t=m.securenetflixid;if(!q)throw new ga(l.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(m));return new Tb(q,t);};}());gf=nc.extend({init:function E(){E.base.call(this,cb.NETFLIXID);},createData:function(l,q,t,L){m(L,function(){return Ae(t);});},authenticate:function(m,q,t,L){if(!(t instanceof Tb))throw new W("Incorrect authentication data type "+t+".");m=t.secureNetflixId;if(!t.netflixId||!m)throw new ra(l.NETFLIXID_COOKIES_BLANK).setUser(t);throw new ra(l.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){oc=Eb.extend({init:function M(l,m){M.base.call(this,cb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:l,writable:!1,configurable:!1},password:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var l;l={};l.email=this.email;l.password=this.password;return l;},equals:function T(l){return this===l?!0:l instanceof oc?T.base.call(this,this,l)&&this.email==l.email&&this.password==l.password:!1;}});Be=function(m){var q,t;q=m.email;t=m.password;if(!q||!t)throw new ga(l.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(m));return new oc(q,t);};}());hf=nc.extend({init:function M(){M.base.call(this,cb.EMAIL_PASSWORD);},createData:function(l,q,t,C){m(C,function(){return Be(t);});},authenticate:function(m,q,t,C){if(!(t instanceof oc))throw new W("Incorrect authentication data type "+t+".");m=t.password;if(!t.email||!m)throw new ra(l.EMAILPASSWORD_BLANK).setUser(t);throw new ra(l.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var C,I,H,qa,Ea,ua,f,d;function q(a,b){return"<"+a+">"+b+"</"+a+">";}function t(a){return a.replace(/[<>&"']/g,function(a){return Ea[a];});}function L(a){return encodeURIComponent(a).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}C=Nc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};I=ca.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});H=vd=I.extend({init:function(a,b,c,d,h,g,n){var u;function p(g){m(n,function(){var d,p;try{p={};p.useridtoken=a;p.action=b;p.nonce=c;p.pin=ka(g);d=Ia(JSON.stringify(p),ya);}catch(x){throw new ga(l.JSON_ENCODE_ERROR,"MSL-based MDX authdata",x);}h.sign(d,{result:function(a){k(d,a);},error:n.error});},u);}function k(g,p){m(n,function(){Object.defineProperties(this,{_userIdToken:{value:a,writable:!1,enumerable:!1,configurable:!1},_action:{value:b,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:c,writable:!1,enumerable:!1,configurable:!1},_pin:{value:d,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},u);}u=this;m(n,function(){g?k(g.encoding,g.signature):h.encrypt(Ia(d,ya),{result:function(a){p(a);},error:n.error});},u);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof H?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin&&this._userIdToken.equals(a._userIdToken):!1;}});vd.ACTION="userauth";qa=function(a,b,c,d,h){function g(g){m(h,function(){var d,p,k,f,D,x;d=Qa(c,ya);try{x=JSON.parse(d);p=x.useridtoken;k=x.action;f=x.nonce;D=x.pin;}catch(w){if(w instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+d,w);throw w;}if(!(p&&"object"===typeof p&&k&&"string"===typeof k&&f&&"number"===typeof f&&D)||"string"!==typeof D)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+d);Qb(a,p,b,{result:function(a){m(h,function(){if(!a.isDecrypted())throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+d);n(g,a,k,f,D);});},error:function(a){m(h,function(){if(a instanceof B)throw new ra(l.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+d,a);throw a;});}});});}function n(a,b,g,n,k){m(h,function(){var p;p=na(k);a.decrypt(p,{result:function(a){m(h,function(){var p;p=Qa(a,ya);new H(b,g,n,p,null,{encoding:c,signature:d},h);});},error:h.error});});}m(h,function(){var p,n;try{n=a.getMslStore().getCryptoContext(b);p=n?n:new bb(a,b);}catch(u){if(u instanceof Nb)throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+ka(c));throw u;}p.verify(c,d,{result:function(a){m(h,function(){if(!a)throw new U(l.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ka(c));g(p);});},error:h.error});});};Ea={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ua=pc=I.extend({init:function(a,b,c,d){var h,g;h=q("action",t(a));g=q("nonce",b.toString());c=q("pin",c);h=q("registerdata",h+g+c);h=Ia(h,"utf-8");Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:d,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof ua?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});pc.ACTION="regpairrequest";f=wd=I.extend({init:function(a,b,c,d,h,g){var k;function n(c){m(g,function(){var n,h,k,r,u;n=ka(c);h=q("action",t(a));k=q("nonce",b.toString());r=q("pin",n);h=q("registerdata",h+k+r);u=Ia(h,"utf-8");n="action="+L(a)+"&nonce="+L(b.toString())+"&pin="+L(n);d.sign(Ia(n,"utf-8"),{result:function(a){p(u,a);},error:g.error});},k);}function p(d,p){m(g,function(){Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:c,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:d,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},k);}k=this;m(g,function(){h?p(h.encoding,h.signature):d.encrypt(Ia(c,"utf-8"),{result:function(a){n(a);},error:g.error});},k);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof f?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});wd.ACTION=pc.ACTION;d=function(a,b,c,d,h){m(h,function(){var g,n,p,k,u,v,A;g=a.getMslStore().getCryptoContext(b);n=g?g:new bb(a,b);g=Qa(c,"utf-8");p=new DOMParser().parseFromString(g,"application/xml");g=p.getElementsByTagName("action");k=p.getElementsByTagName("nonce");p=p.getElementsByTagName("pin");u=g&&1==g.length&&g[0].firstChild?g[0].firstChild.nodeValue:null;v=k&&1==k.length&&k[0].firstChild?parseInt(k[0].firstChild.nodeValue):null;A=p&&1==p.length&&p[0].firstChild?p[0].firstChild.nodeValue:null;if(!u||!v||!A)throw new ga(l.XML_PARSE_ERROR,"MDX authdata "+ka(c));g="action="+L(u)+"&nonce="+L(v.toString())+"&pin="+L(A);n.verify(Ia(g,"utf-8"),d,{result:function(a){m(h,function(){var b;if(!a)throw new U(l.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ka(c));b=na(A);n.decrypt(b,{result:function(a){m(h,function(){var b;b=Qa(a,"utf-8");new f(u,v,b,null,{encoding:c,signature:d},h);});},error:h.error});});},error:h.error});});};dc=Eb.extend({init:function b(c,d,h,g,n,p){var k,u,f,A,D,x;b.base.call(this,cb.MDX);k=null;u=null;f=null;if("string"===typeof h)c=C.MSL_LEGACY,f=h;else if(h instanceof Uint8Array)c=C.NTBA,u=h;else if(h instanceof gb)c=C.MSL,k=h;else throw new TypeError("Controller token "+h+" is not a master token, encrypted CTicket, or MSL token construct.");A=h=null;D=null;if(p){x=p.controllerAuthData;h=x.getAction();A=x.getPin();p=p.userIdToken;x instanceof H?D=x.getUserIdToken().customer:p&&(D=p.customer);}Object.defineProperties(this,{mechanism:{value:c,writable:!1,configurable:!1},action:{value:h,writable:!1,configurable:!1},targetPin:{value:d,writable:!1,configurable:!1},controllerPin:{value:A,writable:!1,configurable:!1},customer:{value:D,writable:!1,configurable:!1},_masterToken:{value:k,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:u,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:f,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var b,c;b={};switch(this.mechanism){case C.MSL:c=JSON.parse(JSON.stringify(this._masterToken));b.mastertoken=c;break;case C.NTBA:c=Qa(this._encryptedCTicket,"utf-8");b.cticket=c;break;case C.MSL_LEGACY:b.cticket=this._mslTokens;break;default:throw new W("Unsupported MDX mechanism.");}b.pin=this.targetPin;b.mdxauthdata=ka(this._controllerEncoding);b.signature=ka(this._signature);return b;},equals:function c(d){return this===d?!0:d instanceof dc?c.base.call(this,d)&&(this._masterToken==d._masterToken||this._masterToken&&this._masterToken.equals(d._masterToken))&&(this._encryptedCTicket==d._encryptedCTicket||this._encryptedCTicket&&Xa(this._encryptedCTicket,d._encryptedCTicket))&&this._mslTokens==d._mslTokens&&Xa(this._controllerEncoding,d._controllerEncoding)&&Xa(this._signature,d._signature):!1;}});Ce=function(c,k,h){function g(g,d,p,n){Pb(c,d,{result:function(d){m(h,function(){if(!d.isDecrypted())throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+k.toString());qa(c,d,p,n,{result:function(p){m(h,function(){var n,h;n=p.getEncoding();h=p.getSignature();return new dc(c,g,d,n,h,{controllerAuthData:p,userIdToken:null});});},error:h.error});});},error:function(c){m(h,function(){if(c instanceof B)throw new ra(l.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(k),c);throw c;});}});}function n(c,g,d,p){m(h,function(){throw new ra(l.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function p(g,p,n,f){function r(g,d){m(d,function(){var p,n;try{p=na(g);}catch(K){throw new ra(l.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(k),K);}if(!p||0==p.length)throw new ra(l.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(k));try{n=JSON.parse(Qa(p,"utf-8"));Pb(c,n,{result:function(c){m(d,function(){if(!c.isDecrypted())throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+k.toString());return c;});},error:function(c){m(d,function(){if(c instanceof B)throw new ra(l.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(k),c);throw c;});}});}catch(K){if(K instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(k),K);throw K;}});}function u(g,d,p){m(p,function(){var n,h;try{n=na(g);}catch(S){throw new ra(l.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(k),S);}if(!n||0==n.length)throw new ra(l.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(k));try{h=JSON.parse(Qa(n,"utf-8"));Qb(c,h,d,{result:function(c){m(p,function(){if(!c.isDecrypted())throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(k));return c;});},error:function(c){m(p,function(){if(c instanceof B)throw new ra(l.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(k),c);throw c;});}});}catch(S){if(S instanceof SyntaxError)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(k),S);throw S;}});}m(h,function(){var v;v=p.split(",");if(3!=v.length||"1"!=v[0])throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(k));r(v[1],{result:function(r){u(v[2],r,{result:function(u){d(c,r,n,f,{result:function(d){m(h,function(){return new dc(c,g,p,n,f,{controllerAuthData:d,userIdToken:u});});},error:function(c){m(h,function(){if(c instanceof Nb)throw new ra(l.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(k),c);throw c;});}});},error:h.error});},error:h.error});});}m(h,function(){var c,d,h,f,D;c=k.pin;d=k.mdxauthdata;h=k.signature;if(!c||"string"!==typeof c||!d||"string"!==typeof d||!h||"string"!==typeof h)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(k));try{f=na(d);D=na(h);}catch(x){throw new ra(l.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(k),x);}if(k.mastertoken){d=k.mastertoken;if(!d||"object"!==typeof d)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(k));g(c,d,f,D);}else if(k.cticket){d=k.cticket;if(!d||"string"!==typeof d)throw new ga(l.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(k));-1==d.indexOf(",")?n(c,d,f,D):p(c,d,f,D);}else throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(k));});};}());(function(){var m,q,t;m=vd.ACTION;q=pc.ACTION;t=wd.ACTION;De=nc.extend({init:function I(){I.base.call(this,cb.MDX);},createData:function(l,m,q,t){Ce(l,q,t);},authenticate:function(I,L,B,M){if(!(B instanceof dc))throw new W("Incorrect authentication data type "+B.getClass().getName()+".");I=B.action;switch(B.mechanism){case Nc.MSL:if(m!=I)throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(B);break;case Nc.NTBA:if(q!=I)throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(B);break;case Nc.MSL_LEGACY:if(t!=I)throw new ra(l.MDX_USERAUTH_ACTION_INVALID).setUser(B);}I=B.controllerPin;L=B.targetPin;if(!I||!L)throw new ra(l.MDX_PIN_BLANK).setUser(B);if(I!=L)throw new ra(l.MDX_PIN_MISMATCH).setUser(B);I=B.customer;if(!I)throw new ra(l.MDX_USER_UNKNOWN).setUser(B);if(M&&(M=M.customer,!I.equals(M)))throw new ra(l.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+I+"; uit customer "+M).setUser(B);return I;}});}());(function(){var m,q,t;m={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};q=Fe=ca.Class.create({init:function(l,m){Object.defineProperties(this,{email:{value:l,writable:!1,enumerable:!0,configurable:!1},password:{value:m,writable:!1,enumerable:!0,configurable:!1}});}});t=Ge=ca.Class.create({init:function(l,m){Object.defineProperties(this,{netflixId:{value:l,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:m,writable:!1,enumerable:!0,configurable:!1}});}});qc=Eb.extend({init:function I(l,m,L,B){var f,d,a,b;I.base.call(this,cb.SSO);f=null;d=null;a=null;b=null;L instanceof q?(f=L.email,d=L.password):L instanceof t&&(a=L.netflixId,b=L.secureNetflixId);Object.defineProperties(this,{mechanism:{value:l,writable:!1,configurable:!1},token:{value:m,writable:!1,configurable:!1},email:{value:f,writable:!1,configurable:!1},password:{value:d,writable:!1,configurable:!1},netflixId:{value:a,writable:!1,configurable:!1},secureNetflixId:{value:b,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof B?null:B,writable:!1,configurable:!1}});},getAuthData:function(){var l;l={};l.mechanism=this.mechanism;l.token=ka(this.token);this.email&&this.password?(l.email=this.email,l.password=this.password):this.netflixId&&this.secureNetflixId&&(l.netflixid=this.netflixId,l.securenetflixid=this.secureNetflixId);this.profileGuid&&(l.profileguid=this.profileGuid);return l;},equals:function La(l){return this===l?!0:l instanceof qc?La.base.call(this,l)&&this.mechanism==l.mechanism&&Xa(this.token,l.token)&&this.email==l.email&&this.password==l.password&&this.netflixId==l.netflixId&&this.secureNetflixId==l.secureNetflixId&&this.profileGuid==l.profileGuid:!1;}});Ee=function(L){var B,M,H,f,d,a,b,c,k;B=L.mechanism;M=L.token;if(!B||!M||"string"!==typeof M)throw new ga(l.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(L));if(!m[B])throw new ra(l.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(L));H=L.email;f=L.password;d=L.netflixid;a=L.securenetflixid;b=L.profileguid;if(H&&!f||!H&&f||d&&!a||!d&&a||H&&d)throw new ga(l.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(L));try{c=na(M);}catch(h){throw new ra(l.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(L),h);}H&&f?k=new q(H,f):d&&a&&(k=new t(d,a));return new qc(B,c,k,b);};}());jf=nc.extend({init:function T(){T.base.call(this,cb.SSO);},createData:function(l,q,t,I){m(I,function(){return Ee(t);});},authenticate:function(m,q,t,I){var C,L;if(!(t instanceof qc))throw new W("Incorrect authentication data type "+t+".");m=t.token;q=t.email;I=t.password;C=t.netflixId;L=t.secureNetflixId;if(!m||0==m.length)throw new ra(l.SSOTOKEN_BLANK);if(!(null===q&&null===I||q&&I))throw new ra(l.EMAILPASSWORD_BLANK);if(!(null===C&&null===L||C&&L))throw new ra(l.NETFLIXID_COOKIES_BLANK).setUser(t);throw new ra(l.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){rc=Eb.extend({init:function L(l,m){L.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:l,writable:!1,configurable:!1},profileGuid:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var l;l={};l.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));l.profileguid=this.profileGuid;return l;},equals:function C(l){return this==l?!0:l instanceof rc?C.base.call(this,l)&&this.userIdToken.equals(l.userIdToken)&&this.profileGuid==l.profileGuid:!1;}});He=function(q,t,B,H){m(H,function(){var C,I;if(!t)throw new ra(l.USERAUTH_MASTERTOKEN_MISSING);C=B.useridtoken;I=B.profileguid;if("object"!==typeof C||"string"!==typeof I)throw new ga(l.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(B));Qb(q,C,t,{result:function(f){m(H,function(){if(!f.isDecrypted())throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(B));return new rc(f,I);});},error:function(f){H.error(new ra(l.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(B),f));}});});};}());kf=nc.extend({init:function L(l){L.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:l,writable:!1,enumerable:!1,configurable:!1}});},createData:function(l,m,q,t){He(l,m,q,t);},authenticate:function(m,q,t,B){if(!(t instanceof rc))throw new W("Incorrect authentication data type "+t+".");q=t.userIdToken;m=t.profileGuid;if(!m)throw new ra(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);q=q.user;if(!q)throw new ra(l.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);m=this._store.switchUsers(q,m);if(!m)throw new ra(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(B&&(B=B.user,!m.equals(B)))throw new ra(l.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+m+"; uit user "+B).setUserAuthenticationData(t);return m;}});Object.freeze({ENTITY_REAUTH:q.ENTITY_REAUTH,ENTITYDATA_REAUTH:q.ENTITYDATA_REAUTH});lf=ca.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(l,m){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(l){},getUserAuthenticationFactory:function(l){},getTokenFactory:function(){},getKeyExchangeFactory:function(l){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ie=ca.Class.create({setCryptoContext:function(l,m){},getMasterToken:function(){},getNonReplayableId:function(l){},getCryptoContext:function(l){},removeCryptoContext:function(l){},clearCryptoContexts:function(){},addUserIdToken:function(l,m){},getUserIdToken:function(l){},removeUserIdToken:function(l){},clearUserIdTokens:function(){},addServiceTokens:function(l){},getServiceTokens:function(l,m){},removeServiceTokens:function(l,m,q){},clearServiceTokens:function(){}});(function(){var m;m=Lb;td=function(q,t){var C;C={};switch(q){case m.LZW:return Kd(t,C);case m.GZIP:return gzip$compress(t);default:throw new B(l.UNSUPPORTED_COMPRESSION,q);}};Kc=function(q,t,L){switch(q){case m.LZW:return Ld(t);case m.GZIP:return gzip$uncompress(t);default:throw new B(l.UNSUPPORTED_COMPRESSION,q.name());}};}());Ie.extend({setCryptoContext:function(l,m){},getMasterToken:function(){return null;},getNonReplayableId:function(l){return 1;},getCryptoContext:function(l){return null;},removeCryptoContext:function(l){},clearCryptoContexts:function(){},addUserIdToken:function(l,m){},getUserIdToken:function(l){return null;},removeUserIdToken:function(l){},clearUserIdTokens:function(){},addServiceTokens:function(l){},getServiceTokens:function(m,q){if(q){if(!m)throw new B(l.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(m))throw new B(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+m.serialNumber);}return[];},removeServiceTokens:function(m,q,t){if(t&&q&&!t.isBoundTo(q))throw new B(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.masterTokenSerialNumber+"; mt "+q.serialNumber);},clearServiceTokens:function(){}});(function(){Je=Ie.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(l,m){var q;if(m){q=l.uniqueKey();this.masterTokens[q]=l;this.cryptoContexts[q]=m;}else this.removeCryptoContext(l);},getMasterToken:function(){var l,m,q;l=null;for(m in this.masterTokens){q=this.masterTokens[m];if(!l||q.isNewerThan(l))l=q;}return l;},getNonReplayableId:function(l){var m;l=l.serialNumber;m=this.nonReplayableIds[l]!==X?this.nonReplayableIds[l]:0;if(0>m||m>sa)throw new W("Non-replayable ID "+m+" is outside the valid range.");m=m==sa?0:m+1;return this.nonReplayableIds[l]=m;},getCryptoContext:function(l){return this.cryptoContexts[l.uniqueKey()];},removeCryptoContext:function(l){var m,q;m=l.uniqueKey();if(this.masterTokens[m]){delete this.masterTokens[m];delete this.cryptoContexts[m];m=l.serialNumber;for(q in this.masterTokens)if(this.masterTokens[q].serialNumber==m)return;delete this.nonReplayableIds[m];Object.keys(this.userIdTokens).forEach(function(m){m=this.userIdTokens[m];m.isBoundTo(l)&&this.removeUserIdToken(m);},this);try{this.removeServiceTokens(null,l,null);}catch(qa){if(qa instanceof B)throw new W("Unexpected exception while removing master token bound service tokens.",qa);throw qa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(l){for(var m in l)delete l[m];},this);},addUserIdToken:function(m,q){var t,C;t=!1;for(C in this.masterTokens)if(q.isBoundTo(this.masterTokens[C])){t=!0;break;}if(!t)throw new B(l.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+q.mtSerialNumber);this.userIdTokens[m]=q;},getUserIdToken:function(l){return this.userIdTokens[l];},removeUserIdToken:function(l){var m,q,t;m=null;for(q in this.masterTokens){t=this.masterTokens[q];if(l.isBoundTo(t)){m=t;break;}}Object.keys(this.userIdTokens).forEach(function(q){if(this.userIdTokens[q].equals(l)){delete this.userIdTokens[q];try{this.removeServiceTokens(null,m,l);}catch(ua){if(ua instanceof B)throw new W("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}}},this);},clearUserIdTokens:function(){var m;for(var l in this.userIdTokens){m=this.userIdTokens[l];try{this.removeServiceTokens(null,null,m);}catch(La){if(La instanceof B)throw new W("Unexpected exception while removing user ID token bound service tokens.",La);throw La;}delete this.userIdTokens[l];}},addServiceTokens:function(m){m.forEach(function(m){var q,t,C;if(m.isUnbound())this.unboundServiceTokens[m.uniqueKey()]=m;else{if(m.isMasterTokenBound()){q=!1;for(t in this.masterTokens)if(m.isBoundTo(this.masterTokens[t])){q=!0;break;}if(!q)throw new B(l.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+m.mtSerialNumber);}if(m.isUserIdTokenBound()){q=!1;for(C in this.userIdTokens)if(m.isBoundTo(this.userIdTokens[C])){q=!0;break;}if(!q)throw new B(l.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+m.uitSerialNumber);}m.isMasterTokenBound()&&((C=this.mtServiceTokens[m.mtSerialNumber])||(C={}),C[m.uniqueKey()]=m,this.mtServiceTokens[m.mtSerialNumber]=C);m.isUserIdTokenBound()&&((C=this.uitServiceTokens[m.uitSerialNumber])||(C={}),C[m.uniqueKey()]=m,this.uitServiceTokens[m.uitSerialNumber]=C);}},this);},getServiceTokens:function(m,q){var t,C,I,H;if(q){if(!m)throw new B(l.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(m))throw new B(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+m.serialNumber);}t={};for(C in this.unboundServiceTokens){I=this.unboundServiceTokens[C];t[I.uniqueKey()]=I;}if(m&&(I=this.mtServiceTokens[m.serialNumber]))for(C in I){H=I[C];H.isUserIdTokenBound()||(t[C]=H);}if(q&&(I=this.uitServiceTokens[q.serialNumber]))for(C in I)H=I[C],H.isBoundTo(m)&&(t[C]=H);I=[];for(C in t)I.push(t[C]);return I;},removeServiceTokens:function(m,q,t){var I,H,d;if(t&&q&&!t.isBoundTo(q))throw new B(l.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+q.serialNumber);if(m&&!q&&!t){Object.keys(this.unboundServiceTokens).forEach(function(a){this.unboundServiceTokens[a].name==m&&delete this.unboundServiceTokens[a];},this);for(var C in this.mtServiceTokens){I=this.mtServiceTokens[C];H=Object.keys(I);H.forEach(function(a){I[a].name==m&&delete I[a];},this);this.mtServiceTokens[C]=I;}for(var f in this.uitServiceTokens)I=this.uitServiceTokens[f],C=Object.keys(I),C.forEach(function(a){I[a].name==m&&delete I[a];},this),this.uitServiceTokens[f]=I;}if(q&&!t){if(I=this.mtServiceTokens[q.serialNumber])H=Object.keys(I),H.forEach(function(a){var b;b=I[a];m&&b.name!=m||delete I[a];},this),this.mtServiceTokens[q.serialNumber]=I;for(f in this.uitServiceTokens){d=this.uitServiceTokens[f];C=Object.keys(d);C.forEach(function(a){var b;b=d[a];m&&b.name!=m||b.isBoundTo(q)&&delete d[a];},this);this.uitServiceTokens[f]=d;}}t&&(I=this.uitServiceTokens[t.serialNumber])&&(C=Object.keys(I),C.forEach(function(a){var b;b=I[a];m&&b.name!=m||q&&!b.isBoundTo(q)||delete I[a];},this),this.uitServiceTokens[t.serialNumber]=I);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(l){for(var m in l)delete l[m];},this);}});}());Se=df.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(l,m){var q;if(m&&l&&l.length){q=ka(l);this._contextMap[q]=m;}},getCryptoContext:function(l){return l&&l.length?(l=ka(l),this._contextMap[l]||null):null;},removeCryptoContext:function(l){l&&l.length&&(l=ka(l),delete this._contextMap[l]);}});Ke=Xe.extend({init:function I(l,m,q,t){I.base.call(this,l);Object.defineProperties(this,{_kde:{value:m,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:q,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(m,q){if(!(q instanceof mb))throw new W("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new wb(l.ENTITY_NOT_FOUND,"mgk "+q.identity);return new Dc(m,this.localIdentity,this._kde,this._kdh,this._kdw);}});mf=Vd.extend({init:function La(l,m,q,f){La.base.call(this,l);Object.defineProperties(this,{_kpe:{value:m,writable:!1,enumerable:!1,configurable:!1},_kph:{value:q,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:f,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(m,q){if(!(q instanceof qb))throw new W("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new wb(l.ENTITY_NOT_FOUND,"psk "+q.identity);return new Dc(m,this.localIdentity,this._kpe,this._kph,this._kpw);}});of=Je.extend({init:function qa(l,m,f,d,a,b){qa.base.call(this);this._log=l;this._esn=m;this._keyRequestData=f;this._createKeyRequestData=d;this._systemKeyName=a;this._systemKeyWrapFormat=b;},setCryptoContext:function Ea(l,f,d){var a;a=this;a._log.trace("Adding MasterToken",{SequenceNumber:l.sequenceNumber,SerialNumber:l.serialNumber,Expiration:l.expiration.getTime()});Ea.base.call(this,l,f);!d&&(l=a._createKeyRequestData)&&(a._log.trace("Generating new keyx request data"),l().then(function(b){a._keyRequestData=b;},function(b){a._log.error("Unable to generate new keyx request data",""+b);}));},addUserIdToken:function ua(f,d){this._log.trace("Adding UserIdToken",{UserId:f,SerialNumber:d.serialNumber,MTSerialNumber:d.mtSerialNumber,Expiration:d.expiration.getTime()});ua.base.call(this,f,d);},addServiceTokens:function f(d){f.base.call(this,d.filter(function(a){return!nf[a.name];}));},getUserIdTokenKeys:function(){var f,d;f=[];for(d in this.userIdTokens)f.push(d);return f;},rekeyUserIdToken:function(f,d){this.userIdTokens[f]&&(this.userIdTokens[d]=this.userIdTokens[f],delete this.userIdTokens[f]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(f){var d;d=this;m(f,function(){var a;a=d.getMasterToken();a?d.getKeysForStore(a,{result:function(b){m(f,function(){var c,k,h;c=d.userIdTokens;k=Object.keys(c).map(function(b){var g;g=c[b];return{userId:b,userIdTokenJSON:c[b].toJSON(),serviceTokenJSONList:d.getServiceTokens(a,g).map(Pe)};});b.esn=d._esn;b.masterTokenJSON=a.toJSON();b.userList=k;h=d._keyRequestData.storeData;h&&Object.keys(h).forEach(function(a){b[a]=h[a];});return b;});},timeout:f.timeout,error:f.error}):f.result(null);});},getKeysForStore:function(f,d){var a;a=this;m(d,function(){var b;b=a.getCryptoContext(f);b={encryptionKey:b.encryptionKey,hmacKey:b.hmacKey};if(b.encryptionKey&&b.hmacKey)if(a._systemKeyWrapFormat)a.wrapKeysWithSystemKey(b,d);else return b;else throw new B(l.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(f,d){var a;a=this;Bd(this._systemKeyName,{result:function(b){m(d,function(){var c,k,h,g;c=f.encryptionKey;k=f.hmacKey;h=c[ec];g=k[ec];if(h&&g)return{wrappedEncryptionKey:h,wrappedHmacKey:g};Promise.resolve().then(function(){return Promise.all([xa.wrapKey(a._systemKeyWrapFormat,c,b,b.algorithm),xa.wrapKey(a._systemKeyWrapFormat,k,b,b.algorithm)]);}).then(function(a){h=ka(a[0]);c[ec]=h;g=ka(a[1]);k[ec]=g;d.result({wrappedEncryptionKey:h,wrappedHmacKey:g});})["catch"](function(a){d.error(new B(l.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},unwrapKeysWithSystemKey:function(f,d){var a;a=this;Bd(this._systemKeyName,{result:function(b){m(d,function(){var c,k;c=na(f.wrappedEncryptionKey);k=na(f.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([xa.unwrapKey(a._systemKeyWrapFormat,c,b,b.algorithm,sb,!1,Fb),xa.unwrapKey(a._systemKeyWrapFormat,k,b,b.algorithm,tb,!1,Ob)]);}).then(function(a){var b;b=a[0];a=a[1];b[ec]=f.wrappedEncryptionKey;a[ec]=f.wrappedHmacKey;d.result({encryptionKey:b,hmacKey:a});})["catch"](function(a){d.error(new B(l.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},loadStoreState:function(f,d,a,b){var h,g;function c(b,c){var g;try{g=a.userList.slice();}catch(u){}g?function v(){var a;a=g.shift();a?Qb(d,a.userIdTokenJSON,b,{result:function(c){try{h.addUserIdToken(a.userId,c);k(b,c,a.serviceTokenJSONList,{result:v,timeout:v,error:v});}catch(x){v();}},timeout:v,error:v}):c.result();}():c.result();}function k(a,b,c,g){var p,n;try{p=c.slice();}catch(D){}if(p){n=h.getCryptoContext(a);(function x(){var c;c=p.shift();c?Jc(d,c,a,b,n,{result:function(a){h.addServiceTokens([a]);x();},timeout:function(){x();},error:function(){x();}}):g.result();}());}else g.result();}h=this;g=h._log;a.esn!=h._esn?(g.error("Esn mismatch, starting fresh"),b.error()):function(b){var k,v,A,D;function c(){var a;if(!k&&v&&A&&D){k=!0;a=new bb(d,v,f.esn,{rawKey:A},{rawKey:D});h.setCryptoContext(v,a,!0);b.result(v);}}function n(a,c){g.error(a,c&&""+c);k||(k=!0,b.error());}a.masterTokenJSON?(Pb(d,a.masterTokenJSON,{result:function(a){v=a;c();},timeout:function(){n("Timeout parsing MasterToken");},error:function(a){n("Error parsing MasterToken",a);}}),h._systemKeyWrapFormat?h.unwrapKeysWithSystemKey(a,{result:function(a){A=a.encryptionKey;D=a.hmacKey;c();},timeout:function(){n("Timeout unwrapping keys");},error:function(a){n("Error unwrapping keys",a);}}):Promise.resolve().then(function(){return xa.encrypt({name:sb.name,iv:new Uint8Array(16)},a.encryptionKey,new Uint8Array(1));}).then(function(b){A=a.encryptionKey;})["catch"](function(a){n("Error loading encryptionKey");}).then(function(){return xa.sign(tb,a.hmacKey,new Uint8Array(1));}).then(function(b){D=a.hmacKey;c();})["catch"](function(a){n("Error loading hmacKey");})):n("Persisted store is corrupt");}({result:function(a){c(a,b);},timeout:b.timeout,error:b.error});}});nf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ec="$netflix$msl$wrapsys";pf=lf.extend({init:function(f,d,a,b,c,k){var h,g;h=new lc([Lb.LZW]);g=new Ze();g.addPublicKey(d,a);b[Da.RSA]=new Ye(g);d={};d[cb.EMAIL_PASSWORD]=new hf();d[cb.NETFLIXID]=new gf();d[cb.MDX]=new De();d[cb.SSO]=new jf();d[cb.SWITCH_PROFILE]=new kf();f={_mslCryptoContext:{value:new We(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:c,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:b,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:d,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:k,writable:!1,enumerable:!1,configurable:!1},_store:{value:f,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,f);},getTime:function(){return Date.now();},getRandom:function(){return new Pd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(f,d){d.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(f){return this._entityAuthFactories[f];},getUserAuthenticationFactory:function(f){return this._userAuthFactories[f];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(f){return this._keyExchangeFactories.filter(function(d){return d.scheme==f;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Dd=xe.extend({init:function(f,d,a,b){this._log=f;this._mslContext=d;this._mslRequest=a;this._keyRequestData=b;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(f,d,a,b){var c,k;c=this._mslRequest;k=this._mslContext;m(b,function(){var b,g;if(f||!c.shouldSendUserAuthData)return null;if(c.token){c.email?b=new Fe(c.email,c.password):c.netflixId&&(b=new Ge(c.netflixId,c.secureNetflixId));g="undefined"===typeof c.profileGuid?null:c.profileGuid;return new qc(c.mechanism,Ia(c.token),b,g);}return c.email?new oc(c.email,c.password):c.netflixId?new Tb(c.netflixId,c.secureNetflixId):c.mdxControllerToken?(b=new pc("regpairrequest",c.mdxNonce,c.mdxEncryptedPinB64,c.mdxSignature).getEncoding(),new dc(k,c.mdxPin,c.mdxControllerToken,b,c.mdxSignature)):c.useNetflixUserAuthData?new Tb():c.profileGuid?(b=c.userId,b=k.getMslStore().userIdTokens[b],new rc(b,c.profileGuid)):a&&c.sendUserAuthIfRequired?new Tb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(f){f.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(f,d,a){var b,c,k,h,g,n;b=this._log;c=(this._mslRequest.serviceTokens||[]).slice();k=this._mslContext;d=k.getMslStore();h=f.builder.getMasterToken();g=this.getUserId();n=d.getUserIdToken(g);(function r(){var g;g=c.shift();if(g)try{g instanceof Hb?(f.addPrimaryServiceToken(g),r()):Jc(k,g,h,n,null,{result:function(a){try{f.addPrimaryServiceToken(a);}catch(A){b.warn("Exception adding service token",""+A);}r();},timeout:function(){b.warn("Timeout parsing service token");r();},error:function(a){b.warn("Error parsing service token",""+a);r();}});}catch(v){b.warn("Exception processing service token",""+v);r();}else a.result(!0);}());},write:function(f,d,a){var b;b=Ia(this._mslRequest.body);f.write(b,0,b.length,d,{result:function(c){c!=b.length?a.error(new Ma("Not all data was written to output.")):f.flush(d,{result:function(){a.result(!0);},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},getDebugContext:function(){this._dc||(this._dc=new qf(this._log,this._mslRequest));return this._dc;}});qf=ff.extend({init:function(f,d){this._log=f;this._mslRequest=d;},sentHeader:function(f){this._log.trace("Sent MSL header",Cd(this._mslRequest,f),f.serviceTokens&&f.serviceTokens.map(Qe).join("\n"));},receivedHeader:function(f){var d,a;d=Cd(this._mslRequest,f);a=f.errorCode;a?this._log.warn("Received MSL error header",d,{errorCode:a,errorMessage:f.errorMessage,internalCode:f.internalCode}):this._log.trace("Received MSL header",d);}});Le={PSK:function(f){return Uc(f,Da.PSK,mf,qb,nd,Hc);},MGK:function(f){return Uc(f,Da.MGK,Ke,mb,nd,Hc);},MGK_WITH_FALLBACK:function(f){var d,a;switch(f.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":d="PSK";break;default:d="MGK";}a=Le[d];if(!a)throw new B(l.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+d);return a(f);},MGK_JWE:function(f){return Uc(f,Da.MGK,Ke,mb,ae,md);},JWK_RSA:function(f){return Vc(f,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ic.JWK_RSA);},JWK_RSAES:function(f){return Vc(f,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWK_RSAES);},JWEJS_RSA:function(f){return Vc(f,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWEJS_RSA);}};H.netflix=H.netflix||{};H.netflix.msl={createMslClient:function(f,d){var a,b,c,k,h;a=f.log;h=f.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Fa&&Fa.generateKey&&Fa.importKey&&Fa.unwrapKey))throw new B(l.INTERNAL_EXCEPTION,"No WebCrypto");Ya=Fa.generateKey({name:"AES-CBC",length:128},!0,Fb).then?yc.V2014_02:yc.LEGACY;h("mslisik");return xa.importKey("spki",f.serverIdentityKeyData,Qd,!1,["verify"]);}).then(function(a){return new Promise(function(b,c){Kb(a,{result:b,error:function(){c(new B(l.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(a){b=a;if(a=Le[f.authenticationType])return h("mslcc"),a(f);throw new B(l.INTERNAL_EXCEPTION,"Invalid authenticationType: "+f.authenticationType);}).then(function(g){var d;c=new of(a,f.esn,g.keyRequestData,g.createKeyRequestData,f.authenticationKeyNames.s,f.systemKeyWrapFormat);k=new pf(c,f.serverIdentityId,b,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);d=f.storeState;if(d)return h("mslss"),a.info("Loading store state"),new Promise(function(a,b){c.loadStoreState(f,k,d,{result:a,timeout:a,error:a});});a.info("No store state, starting fresh");}).then(function(){var b;b=new ye();h("msldone");d.result(new Re(a,b,k,c,f.ErrorSubCodes));})["catch"](function(a){d.error(a);});},IHttpLocation:bf,MslIoException:Ma};Xc="function"==typeof Object.defineProperties?Object.defineProperty:function(f,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[d]=a.value);};oa="undefined"!=typeof H&&H===this?this:"undefined"!=typeof global&&null!=global?global:this;Ve=0;Ua("Object.setPrototypeOf",function(f){return f?f:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});Ua("Object.assign",function(f){return f?f:function(d,a){var c;for(var b=1;b<arguments.length;b++){c=arguments[b];if(c)for(var k in c)eb(c,k)&&(d[k]=c[k]);}return d;};});Ua("Object.getOwnPropertySymbols",function(f){return f?f:function(){return[];};});Ua("Promise",function(f){var b,c;function d(a){var b;this.XJ=0;this.U7=void 0;this.WI=[];b=this.J0();try{a(b.resolve,b.reject);}catch(g){b.reject(g);}}function a(){this.Bt=null;}if(f)return f;a.prototype.fka=function(a){null==this.Bt&&(this.Bt=[],this.xUa());this.Bt.push(a);};a.prototype.xUa=function(){var a;a=this;this.gka(function(){a.D2a();});};b=oa.setTimeout;a.prototype.gka=function(a){b(a,0);};a.prototype.D2a=function(){var a,c;for(;this.Bt&&this.Bt.length;){a=this.Bt;this.Bt=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(n){this.zUa(n);}}}this.Bt=null;};a.prototype.zUa=function(a){this.gka(function(){throw a;});};d.prototype.J0=function(){var b,c;function a(a){return function(g){c||(c=!0,a.call(b,g));};}b=this;c=!1;return{resolve:a(this.Chb),reject:a(this.C7)};};d.prototype.Chb=function(a){var b;if(a===this)this.C7(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.yjb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.Bhb(a):this.uoa(a);}};d.prototype.Bhb=function(a){var b;b=void 0;try{b=a.then;}catch(g){this.C7(g);return;}"function"==typeof b?this.zjb(b,a):this.uoa(a);};d.prototype.C7=function(a){this.sxa(2,a);};d.prototype.uoa=function(a){this.sxa(1,a);};d.prototype.sxa=function(a,b){if(0!=this.XJ)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.XJ);this.XJ=a;this.U7=b;this.E2a();};d.prototype.E2a=function(){if(null!=this.WI){for(var a=this.WI,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.WI=null;}};c=new a();d.prototype.yjb=function(a){var b;b=this.J0();a.CO(b.resolve,b.reject);};d.prototype.zjb=function(a,b){var c;c=this.J0();try{a.call(b,c.resolve,c.reject);}catch(n){c.reject(n);}};d.prototype.then=function(a,b){var n,p,h;function c(a,b){return"function"==typeof a?function(b){try{n(a(b));}catch(D){p(D);}}:b;}h=new d(function(a,b){n=a;p=b;});this.CO(c(a,n),c(b,p));return h;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.CO=function(a,b){var d;function g(){switch(d.XJ){case 1:a(d.U7);break;case 2:b(d.U7);break;default:throw Error("Unexpected state: "+d.XJ);}}d=this;null==this.WI?c.fka(g):this.WI.push(function(){c.fka(g);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,c){c(a);});};d.race=function(a){return new d(function(b,c){for(var g=Ba(a),p=g.next();!p.done;p=g.next())d.resolve(p.value).CO(b,c);});};d.all=function(a){var b,c;b=Ba(a);c=b.next();return c.done?d.resolve([]):new d(function(a,g){var n,h;function p(b){return function(c){n[b]=c;h--;0==h&&a(n);};}n=[];h=0;do n.push(void 0),h++,d.resolve(c.value).CO(p(n.length-1),g),c=b.next();while(!c.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});Ua("Array.prototype.keys",function(f){return f?f:function(){return Yc(this,function(d){return d;});};});Ua("Math.tanh",function(f){return f?f:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});Ua("WeakMap",function(f){var c,k;function d(a){this.GH=(k+=Math.random()+1).toString();if(a){Ka();Oa();a=Ba(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){eb(a,c)||Xc(a,c,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(b){a(b);return c(b);});}if(function(){var a,b,c;if(!f||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});c=new f([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c["delete"](a);c.set(b,4);return!c.has(a)&&4==c.get(b);}catch(p){return!1;}}())return f;c="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");k=0;d.prototype.set=function(b,g){a(b);if(!eb(b,c))throw Error("WeakMap key fail: "+b);b[c][this.GH]=g;return this;};d.prototype.get=function(a){return eb(a,c)?a[c][this.GH]:void 0;};d.prototype.has=function(a){return eb(a,c)&&eb(a[c],this.GH);};d.prototype["delete"]=function(a){return eb(a,c)&&eb(a[c],this.GH)?delete a[c][this.GH]:!1;};return d;});Ua("Map",function(f){var k,h;function d(){var a;a={};return a.Kr=a.next=a.head=a;}function a(a,b){var c;c=a.or;return Id(function(){if(c){for(;c.head!=a.or;)c=c.Kr;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null;}return{done:!0,value:void 0};});}function b(a,b){var c,g,d;c=b&&typeof b;"object"==c||"function"==c?k.has(b)?c=k.get(b):(c=""+ ++h,k.set(b,c)):c="p_"+b;g=a.St[c];if(g&&eb(a.St,c))for(a=0;a<g.length;a++){d=g[a];if(b!==b&&d.key!==d.key||b===d.key)return{id:c,list:g,index:a,wd:d};}return{id:c,list:g,index:-1,wd:void 0};}function c(a){this.St={};this.or=d();this.size=0;if(a){a=Ba(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}if(function(){var a,b,c,d;if(!f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new f(Ba([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||"s"!=d.value[1])return!1;d=c.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!c.next().done?!1:!0;}catch(u){return!1;}}())return f;Ka();Oa();k=new WeakMap();c.prototype.set=function(a,c){var g;g=b(this,a);g.list||(g.list=this.St[g.id]=[]);g.wd?g.wd.value=c:(g.wd={next:this.or,Kr:this.or.Kr,head:this.or,key:a,value:c},g.list.push(g.wd),this.or.Kr.next=g.wd,this.or.Kr=g.wd,this.size++);return this;};c.prototype["delete"]=function(a){a=b(this,a);return a.wd&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.St[a.id],a.wd.Kr.next=a.wd.next,a.wd.next.Kr=a.wd.Kr,a.wd.head=null,this.size--,!0):!1;};c.prototype.clear=function(){this.St={};this.or=this.or.Kr=d();this.size=0;};c.prototype.has=function(a){return!!b(this,a).wd;};c.prototype.get=function(a){return(a=b(this,a).wd)&&a.value;};c.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};c.prototype.keys=function(){return a(this,function(a){return a.key;});};c.prototype.values=function(){return a(this,function(a){return a.value;});};c.prototype.forEach=function(a,b){for(var c=this.entries(),g;!(g=c.next()).done;)g=g.value,a.call(b,g[1],g[0],this);};c.prototype[Symbol.iterator]=c.prototype.entries;h=0;return c;});Ua("Set",function(f){function d(a){this.ap=new Map();if(a){a=Ba(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.ap.size;}if(function(){var a,b,c,d;if(!f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new f(Ba([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=c.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:c.next().done;}catch(h){return!1;}}())return f;Ka();Oa();d.prototype.add=function(a){this.ap.set(a,a);this.size=this.ap.size;return this;};d.prototype["delete"]=function(a){a=this.ap["delete"](a);this.size=this.ap.size;return a;};d.prototype.clear=function(){this.ap.clear();this.size=0;};d.prototype.has=function(a){return this.ap.has(a);};d.prototype.entries=function(){return this.ap.entries();};d.prototype.values=function(){return this.ap.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var c;c=this;this.ap.forEach(function(d){return a.call(b,d,d,c);});};return d;});Ua("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Ua("Array.prototype.find",function(f){return f?f:function(d,a){return Jd(this,d,a).gU;};});Ua("Array.prototype.entries",function(f){return f?f:function(){return Yc(this,function(d,a){return[d,a];});};});Ua("String.prototype.repeat",function(f){return f?f:function(d){var a;a=Zc(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});Ua("String.prototype.endsWith",function(f){return f?f:function(d,a){var b;b=Zc(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var c=d.length;0<c&&0<a;)if(b[--a]!=d[--c])return!1;return 0>=c;};});Ua("Array.prototype.values",function(f){return f?f:function(){return Yc(this,function(d,a){return a;});};});Ua("Array.prototype.findIndex",function(f){return f?f:function(d,a){return Jd(this,d,a).Vh;};});Ua("String.prototype.startsWith",function(f){return f?f:function(d,a){var b,c,k;b=Zc(this,d,"startsWith");d+="";c=b.length;k=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var h=0;h<k&&a<c;)if(b[a++]!=d[h++])return!1;return h>=k;};});Ua("Array.prototype.fill",function(f){return f?f:function(d,a,b){var c;c=this.length||0;0>a&&(a=Math.max(0,c+a));if(null==b||b>c)b=c;b=Number(b);0>b&&(b=Math.max(0,c+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(f){var a;function d(b){var c;if(a[b])return a[b].K;c=a[b]={Vh:b,H9a:!1,K:{}};f[b].call(c.K,c,c.K,d);c.H9a=!0;return c.K;}a={};d.jzb=f;d.qvb=a;d.d=function(a,c,k){d.Bcb(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:k});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.fga?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.Bcb=function(a,c){return Object.prototype.hasOwnProperty.call(a,c);};d.p="";return d(d.lBb=1001);}([function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(35);d.lrb=f;f=a(998);d.LD=f.LD;f=a(76);d.zm=f.zm;d.bh=f.bh;d.fq=f.fq;f=a(982);d.E$=f.E$;d.Xb=f.Xb;f=a(981);d.O=f.O;f=a(980);d.bya=f.bya;f=a(979);d.gta=f.gta;f=a(461);d.l=f.l;d.$V=f.$V;f=a(978);d.optional=f.optional;f=a(977);d.Ag=f.Ag;f=a(976);d.Lx=f.Lx;f=a(975);d.oK=f.oK;f=a(974);d.Qua=f.Qua;f=a(463);d.mW=f.mW;f=a(96);d.id=f.id;f=a(83);d.Tt=f.Tt;f=a(458);d.Fya=f.Fya;d.cya=f.cya;d.hta=f.hta;d.Lya=f.Lya;f=a(136);d.wB=f.wB;a=a(973);d.eta=a.eta;},function(f,d,a){function b(){b=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);}return a;};return b.apply(this,arguments);}function c(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);};return c(a,b);}function k(a,b){function g(){this.constructor=a;}c(a,b);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g());}function h(a,b){var c,g,d;c={};for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&0>b.indexOf(g)&&(c[g]=a[g]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){d=0;for(g=Object.getOwnPropertySymbols(a);d<g.length;d++)0>b.indexOf(g[d])&&(c[g[d]]=a[g[d]]);}return c;}function g(a,b,c,g){var d,p,n;d=arguments.length;p=3>d?b:null===g?g=Object.getOwnPropertyDescriptor(b,c):g;if("object"===typeof Reflect&&"function"===typeof Reflect.Tt)p=Reflect.Tt(a,b,c,g);else for(var h=a.length-1;0<=h;h--)if(n=a[h])p=(3>d?n(p):3<d?n(b,c,p):n(b,c))||p;return 3<d&&p&&Object.defineProperty(b,c,p),p;}function n(a,b){return function(c,g){b(c,g,a);};}function p(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Wb)return Reflect.Wb(a,b);}function r(a,b,c,g){return new(c||(c=Promise))(function(d,p){function n(a){try{k(g.next(a));}catch(ha){p(ha);}}function h(a){try{k(g["throw"](a));}catch(ha){p(ha);}}function k(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(n,h);}k((g=g.apply(a,b||[])).next());});}function u(a,b){var d,p,n,h,k;function c(a){return function(b){return g([a,b]);};}function g(c){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,n&&(h=c[0]&2?n["return"]:c[0]?n["throw"]||((h=n["return"])&&h.call(n),0):n.next)&&!(h=h.call(n,c[1])).done)return h;if(n=0,h)c=[c[0]&2,h.value];switch(c[0]){case 0:case 1:h=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;n=c[1];c=[0];continue;case 7:c=d.ay.pop();d.Ry.pop();continue;default:if(!(h=d.Ry,h=0<h.length&&h[h.length-1])&&(6===c[0]||2===c[0])){d=0;continue;}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3]))d.label=c[1];else if(6===c[0]&&d.label<h[1])d.label=h[1],h=c;else if(h&&d.label<h[2])d.label=h[2],d.ay.push(c);else{h[2]&&d.ay.pop();d.Ry.pop();continue;}}c=b.call(a,d);}catch(ha){c=[6,ha];n=0;}finally{p=h=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}d={label:0,Vwa:function(){if(h[0]&1)throw h[1];return h[1];},Ry:[],ay:[]};Ka();Ka();Oa();return k={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this;}),k;}function v(a,b){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c]);}function A(a){var b,c;Ka();Ka();Oa();b="function"===typeof Symbol&&a[Symbol.iterator];c=0;return b?b.call(a):{next:function(){a&&c>=a.length&&(a=void 0);return{value:a&&a[c++],done:!a};}};}function D(a,b){var c,g,d,p;Ka();Ka();Oa();c="function"===typeof Symbol&&a[Symbol.iterator];if(!c)return a;a=c.call(a);d=[];try{for(;(void 0===b||0<b--)&&!(g=a.next()).done;)d.push(g.value);}catch(G){p={error:G};}finally{try{g&&!g.done&&(c=a["return"])&&c.call(a);}finally{if(p)throw p.error;}}return d;}function x(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(D(arguments[b]));return a;}function w(a){return this instanceof w?(this.gU=a,this):new w(a);}function z(a,b,c){var k,r,u;function g(a){k[a]&&(r[a]=function(b){return new Promise(function(c,g){1<u.push([a,b,c,g])||d(a,b);});});}function d(a,b){var c;try{c=k[a](b);c.value instanceof w?Promise.resolve(c.value.gU).then(p,n):h(u[0][2],c);}catch(ea){h(u[0][3],ea);}}function p(a){d("next",a);}function n(a){d("throw",a);}function h(a,b){(a(b),u.shift(),u.length)&&d(u[0][0],u[0][1]);}Ka();if(!Symbol.qO)throw new TypeError("Symbol.asyncIterator is not defined.");k=c.apply(a,b||[]);u=[];Ka();return r={},g("next"),g("throw"),g("return"),r[Symbol.qO]=function(){return this;},r;}function y(a){var c,g;function b(b,d){c[b]=a[b]?function(c){return(g=!g)?{value:w(a[b](c)),done:"return"===b}:d?d(c):c;}:d;}Ka();Oa();return c={},b("next"),b("throw",function(a){throw a;}),b("return"),c[Symbol.iterator]=function(){return this;},c;}function F(a){var g,d;function b(b){d[b]=a[b]&&function(g){return new Promise(function(d,p){g=a[b](g);c(d,p,g.done,g.value);});};}function c(a,b,c,g){Promise.resolve(g).then(function(b){a({value:b,done:c});},b);}Ka();if(!Symbol.qO)throw new TypeError("Symbol.asyncIterator is not defined.");Ka();g=a[Symbol.qO];Ka();Oa();Ka();return g?g.call(a):(a="function"===typeof A?A(a):a[Symbol.iterator](),d={},b("next"),b("throw"),b("return"),d[Symbol.qO]=function(){return this;},d);}function l(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function S(a){var b;if(a&&a.fga)return a;b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b;}function da(a){return a&&a.fga?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return k;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return h;});a.d(d,"__decorate",function(){return g;});a.d(d,"__param",function(){return n;});a.d(d,"__metadata",function(){return p;});a.d(d,"__awaiter",function(){return r;});a.d(d,"__generator",function(){return u;});a.d(d,"__exportStar",function(){return v;});a.d(d,"__values",function(){return A;});a.d(d,"__read",function(){return D;});a.d(d,"__spread",function(){return x;});a.d(d,"__await",function(){return w;});a.d(d,"__asyncGenerator",function(){return z;});a.d(d,"__asyncDelegator",function(){return y;});a.d(d,"__asyncValues",function(){return F;});a.d(d,"__makeTemplateObject",function(){return l;});a.d(d,"__importStar",function(){return S;});a.d(d,"__importDefault",function(){return da;});},function(f,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Ih=7001]="UNKNOWN";a[a.BMa=7002]="UNHANDLED_EXCEPTION";a[a.SEa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Hba=7010]="INIT_ASYNCCOMPONENT";a[a.cca=7011]="INIT_HTTP";a[a.QEa=7014]="INIT_BADMOVIEID";a[a.fFa=7016]="INIT_NETFLIXID_MISSING";a[a.eFa=7017]="INIT_NETFLIXID_INVALID";a[a.hFa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.dca=7020]="INIT_PLAYBACK_LOCK";a[a.eca=7022]="INIT_SESSION_LOCK";a[a.gFa=7029]="INIT_POSTAUTHORIZE";a[a.Mqb=7031]="INIT_HEADER_MEDIA";a[a.vqb=7032]="HEADER_MISSING";a[a.uqb=7033]="HEADER_FRAGMENTS_MISSING";a[a.iFa=7034]="INIT_TIMEDTEXT_TRACK";a[a.Nqb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Oqb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.Lza=7037]="ASE_SESSION_ERROR";a[a.bFa=7041]="INIT_CORE_OBJECTS1";a[a.cFa=7042]="INIT_CORE_OBJECTS2";a[a.dFa=7043]="INIT_CORE_OBJECTS3";a[a.Uba=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Kba=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Vba=7053]="INIT_COMPONENT_STORAGE";a[a.Wba=7054]="INIT_COMPONENT_STORAGELOCK";a[a.Nba=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Hqb=7056]="INIT_COMPONENT_NRDDPI";a[a.Jqb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Oba=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.TV=7059]="INIT_COMPONENT_DEVICE";a[a.Iqb=7062]="INIT_COMPONENT_NTBA";a[a.Pba=7063]="INIT_COMPONENT_MSL";a[a.TEa=7064]="INIT_COMPONENT_NCCPDEVICEPARAMETERS";a[a.Qba=7065]="INIT_COMPONENT_NCCP";a[a.Rba=7066]="INIT_COMPONENT_NCCPLOGBATCHER";a[a.As=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Kqb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.EL=7069]="INIT_COMPONENT_ACCOUNT";a[a.VEa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.XEa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.YEa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.ZEa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.$Ea=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.UEa=7081]="INIT_COMPONENT_NRDP";a[a.WEa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.aca=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Yba=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.bca=7085]="INIT_CONGESTION_SERVICE";a[a.Mba=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Xba=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Jba=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Iba=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.Lqb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.hz=7091]="INIT_COMPONENT_DRM_CACHE";a[a.REa=7092]="INIT_COMPONENT_DRM";a[a.Sba=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Lba=7094]="INIT_COMPONENT_FTL";a[a.Tba=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Zba=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.aFa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.$ba=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.Wza=7112]="AUTHORIZE_UNKNOWN";a[a.iGa=7117]="MANIFEST_VERIFY";a[a.$ea=7120]="START";a[a.Rp=7121]="LICENSE";a[a.Wea=7122]="SECURESTOP";a[a.dfa=7123]="STOP";a[a.nqb=7124]="FPSAPPDATA";a[a.ZV=7125]="KEEPALIVE";a[a.wpb=7126]="DEACTIVATE";a[a.Btb=7127]="SYNC_DEACTIVATE_LINKS";a[a.pob=7130]="ACTIVATE";a[a.GW=7131]="PING";a[a.ida=7133]="NETFLIXID";a[a.EDa=7134]="ENGAGE";a[a.dE=7135]="LOGIN";a[a.fM=7136]="SWITCH_PROFILES";a[a.NFa=7137]="LOGBLOB";a[a.Cda=7138]="PAUSE";a[a.Oea=7139]="RESUME";a[a.Zea=7140]="SPLICE";a[a.Hpb=7141]="DOWNLOAD_EVENT";a[a.SIa=7202]="PLAY_INIT_EXCEPTION";a[a.grb=7301]="MEDIA_DOWNLOAD";a[a.psb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.qsb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.IW=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.Ida=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.VL=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.YIa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.Kda=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Jda=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Hda=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.JW=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.MW=7355]="PLAY_MSE_SOURCEADD";a[a.TIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.cJa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.usb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.osb=7359]="PLAY_MSE_ADDKEY";a[a.xsb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.bJa=7361]="PLAY_MSE_EVENT_ERROR";a[a.KW=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.WL=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.aJa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.dJa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.eJa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.fJa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.vsb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.jJa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.iJa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.hJa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.wsb=7379]="PLAY_MSE_SOURCE_EOS";a[a.gJa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.tsb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.UIa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.VIa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.WIa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.ZIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.$Ia=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.rsb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.ssb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.XIa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.LW=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.JDa=7400]="EXTERNAL";a[a.UL=7500]="PAUSE_TIMEOUT";a[a.CL=7502]="INACTIVITY_TIMEOUT";a[a.Vza=7510]="AUTHORIZATION_EXPIRED";a[a.ypb=7520]="DECRYPT_AUDIO";a[a.Xea=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.$Ka=7601]="SECURE_STOP_KEY_ERROR";a[a.otb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.Zsb=7603]="SECURE_STOP_NCCP_ERROR";a[a.$sb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.ntb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.dtb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.aLa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.etb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.ftb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.itb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.atb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.gtb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.ktb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.htb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.ctb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.mtb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.jtb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.btb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.ltb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.Spb=7700]="EME_INVALID_KEYSYSTEM";a[a.aV=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.$U=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.cV=7703]="EME_GENERATEREQUEST_FAILED";a[a.mL=7704]="EME_UPDATE_FAILED";a[a.Tpb=7705]="EME_KEYSESSION_ERROR";a[a.cqb=7706]="EME_NO_KEYMESSAGE";a[a.Xaa=7707]="EME_REMOVE_FAILED";a[a.ADa=7708]="EME_LOAD_FAILED";a[a.Taa=7709]="EME_CREATE_SESSION_FAILED";a[a.Vpb=7710]="EME_LDL_RENEWAL_ERROR";a[a.Uaa=7711]="EME_INVALID_INITDATA_DATA";a[a.Vaa=7712]="EME_INVALID_LICENSE_DATA";a[a.zDa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.BDa=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Waa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.vDa=7716]="EME_CLOSE_FAILED";a[a.QIa=7800]="PLAYDATA_STORE_FAILURE";a[a.nsb=7801]="PLAYDATA_SEND_FAILURE";a[a.HD=7900]="BRANCH_PLAY_FAILURE";a[a.jv=7901]="BRANCH_QUEUE_FAILURE";a[a.I$=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.Wrb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.Xrb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.fIa=8100]="PBO_EVENTLOOKUP_FAILURE";}(a=d.I||(d.I={})));(function(a){a[a.Ih=1001]="UNKNOWN";a[a.ue=1003]="EXCEPTION";a[a.mFa=1004]="INVALID_DI";a[a.Pza=1011]="ASYNCLOAD_EXCEPTION";a[a.Qza=1013]="ASYNCLOAD_TIMEOUT";a[a.Mza=1015]="ASYNCLOAD_BADCONFIG";a[a.Nza=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.Oza=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.gz=1101]="HTTP_UNKNOWN";a[a.QV=1102]="HTTP_XHR";a[a.YD=1103]="HTTP_PROTOCOL";a[a.XD=1104]="HTTP_OFFLINE";a[a.ZD=1105]="HTTP_TIMEOUT";a[a.tv=1106]="HTTP_READTIMEOUT";a[a.zs=1107]="HTTP_ABORT";a[a.MV=1108]="HTTP_PARSE";a[a.xba=1110]="HTTP_BAD_URL";a[a.fz=1111]="HTTP_PROXY";a[a.Kca=1203]="MSE_AUDIO";a[a.Lca=1204]="MSE_VIDEO";a[a.wGa=1250]="MSE_MEDIA_ERR_BASE";a[a.prb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.srb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.qrb=1253]="MSE_MEDIA_ERR_DECODE";a[a.trb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.rrb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.dV=1260]="EME_MEDIA_KEYERR_BASE";a[a.aqb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Wpb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.$pb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Zpb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Ypb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Xpb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.bqb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.xDa=1280]="EME_ERROR_NODRMSESSSION";a[a.wDa=1281]="EME_ERROR_NODRMREQUESTS";a[a.Rpb=1282]="EME_ERROR_INDIV_FAILED";a[a.yDa=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.DDa=1284]="EME_TIMEOUT_MESSAGE";a[a.CDa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.eV=1286]="EME_UNDEFINED_DATA";a[a.OD=1287]="EME_INVALID_STATE";a[a.Upb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.bV=1289]="EME_EMPTY_DATA";a[a.Lrb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.Orb=1305]="NCCP_PARSEXML";a[a.mHa=1309]="NCCP_PROCESS_EXCEPTION";a[a.Nrb=1311]="NCCP_NETFLIXID_MISSING";a[a.Prb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.Irb=1313]="NCCP_HMAC_MISSING";a[a.Hrb=1315]="NCCP_HMAC_MISMATCH";a[a.Grb=1317]="NCCP_HMAC_FAILED";a[a.Frb=1321]="NCCP_CLIENTTIME_MISSING";a[a.Erb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.hda=1331]="NCCP_PROTOCOL";a[a.nHa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.oHa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.Qrb=1341]="NCCP_TRANSACTION";a[a.Jrb=1343]="NCCP_INVALID_DRMTYPE";a[a.Krb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.Mrb=1345]="NCCP_MISSING_PAYLOAD";a[a.Rda=1346]="PROTOCOL_NOT_INITIALIZED";a[a.Esb=1347]="PROTOCOL_MISSING_FIELD";a[a.sJa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Hk=1402]="STORAGE_NODATA";a[a.utb=1403]="STORAGE_EXCEPTION";a[a.hfa=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.ifa=1407]="STORAGE_QUOTA_TO_SMALL";a[a.gfa=1411]="STORAGE_LOAD_ERROR";a[a.wLa=1412]="STORAGE_LOAD_TIMEOUT";a[a.jfa=1414]="STORAGE_SAVE_ERROR";a[a.zLa=1415]="STORAGE_SAVE_TIMEOUT";a[a.jX=1417]="STORAGE_DELETE_ERROR";a[a.efa=1418]="STORAGE_DELETE_TIMEOUT";a[a.ffa=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.tLa=1423]="STORAGE_FS_GETDIRECTORY";a[a.vLa=1425]="STORAGE_FS_READENTRIES";a[a.qLa=1427]="STORAGE_FS_FILEREAD";a[a.sLa=1429]="STORAGE_FS_FILEWRITE";a[a.rLa=1431]="STORAGE_FS_FILEREMOVE";a[a.uLa=1432]="STORAGE_FS_PARSEJSON";a[a.yLa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.xLa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.csb=1501]="NTBA_UNKNOWN";a[a.bsb=1502]="NTBA_EXCEPTION";a[a.Yrb=1504]="NTBA_CRYPTO_KEY";a[a.$rb=1506]="NTBA_CRYPTO_OPERATION";a[a.Zrb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.asb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.waa=1553]="DEVICE_NO_ESN";a[a.KU=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Nda=1603]="PLUGIN_LOAD_MISSING";a[a.Lda=1605]="PLUGIN_LOAD_ERROR";a[a.Oda=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Mda=1609]="PLUGIN_LOAD_EXCEPTION";a[a.nJa=1625]="PLUGIN_EXCEPTION";a[a.kJa=1627]="PLUGIN_CALLBACK_ERROR";a[a.lJa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.ZDa=1701]="FORMAT_UNKNOWN";a[a.lba=1713]="FORMAT_XML";a[a.$Da=1715]="FORMAT_XML_CONTENT";a[a.YDa=1721]="FORMAT_BASE64";a[a.pL=1723]="FORMAT_DFXP";a[a.DEa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Fba=1802]="INDEXDB_NOT_SUPPORTED";a[a.CEa=1803]="INDEXDB_OPEN_ERROR";a[a.Gba=1804]="INDEXDB_OPEN_NULL";a[a.BEa=1805]="INDEXDB_OPEN_BLOCKED";a[a.EEa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.AEa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.DL=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.DGa=1901]="MSL_UNKNOWN";a[a.xGa=1911]="MSL_INIT_NO_MSL";a[a.Pca=1913]="MSL_INIT_ERROR";a[a.yGa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.dW=1931]="MSL_ERROR";a[a.Qca=1933]="MSL_REQUEST_TIMEOUT";a[a.CGa=1934]="MSL_READ_TIMEOUT";a[a.Nca=1935]="MSL_ERROR_HEADER";a[a.kE=1936]="MSL_ERROR_ENVELOPE";a[a.Oca=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.eW=1957]="MSL_ERROR_REAUTH";a[a.zX=2103]="WEBCRYPTO_MISSING";a[a.PMa=2105]="WEBCRYPTOKEYS_MISSING";a[a.QMa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.hpb=2200]="CACHEDDATA_PARSEJSON";a[a.U$=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.ipb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.us=2203]="CACHEDDATA_INVALID_FORMAT";a[a.f$=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.Eza=3001]="ACCOUNT_INVALID";a[a.Gpb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.Fpb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.Dpb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.Epb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.Cpb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.vtb=3300]="STORAGE_VA_LOAD_ERROR";a[a.wtb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.ztb=3302]="STORAGE_VA_SAVE_ERROR";a[a.Atb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.xtb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.ytb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.FW=3077]="PBO_DEVICE_EOL_WARNING";a[a.Dda=3078]="PBO_DEVICE_EOL_FINAL";a[a.kIa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.aIa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.eIa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.gIa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.cIa=5059]="PBO_BLACKLISTED_IP";a[a.bIa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.dIa=5080]="PBO_CHOICE_MAP_ERROR";a[a.jIa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.iIa=5091]="PBO_MALFORMED_REQUEST";a[a.hIa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.ZBa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.$Ba=5101]="DECODER_TIMEOUT_PRESENTING";a[a.VCa=5200]="DOWNLOADER_IO_ERROR";a[a.H$=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.uAa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Eob=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.xU=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.qAa=5304]="BRANCHING_ASE_FAILURE";a[a.sAa=5305]="BRANCHING_MOMENT_FAILURE";a[a.rAa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Dob=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.vAa=5308]="BRANCHING_SEEK_THREW";a[a.Cob=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.tAa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.wAa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.xAa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(b=d.G||(d.G={})));(function(a){a[a.DAa=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.yAa=5005]="BR_ACCOUNT_ON_HOLD";a[a.BAa=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.CAa=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.AAa=5059]="BR_BLACKLISTED_IP";a[a.zAa=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.Iob=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.Gob=2205]="BR_DRM_LICENSE_AQUISITION";a[a.Job=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.Hob=2207]="BR_ENDPOINT_ERROR";a[a.Fob=2208]="BR_AUTHORIZATION_ERROR";}(d.rv||(d.rv={})));d.RV={IAa:"400",Ttb:"401",Tda:"413"};d.rW={lqb:1,Ktb:2,fqb:3,Stb:4,erb:5,eqb:6,vX:7,IDa:8,Usb:9,rtb:10};d.iqb=function(a){return 7100<=a&&7200>a;};d.PDa=function(b){return b==a.UL||b==a.CL;};d.RDa=function(a){return 1100<=a&&1199>=a;};d.kqb=function(a){return 1300<=a&&1399>=a;};d.jqb=function(a){return 1900<=a&&1999>=a;};d.fba=function(a,b){return 1<=a&&9>=a?b+a:b;};d.SDa=function(a){return d.fba(a,b.wGa);};d.gba=function(a){return d.fba(a,b.dV);};d.Am=function(a){var d,c,g;d={};c=a.errorExternalCode||a.Ab;g=a.errorDetails||a.Ea;d.ErrorSubCode=a.errorSubCode||a.T||b.Ih;c&&(d.ErrorExternalCode=c);g&&(d.ErrorDetails=g);return d;};},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(464);f=a(12);c=a(30);k=a(158);h=a(159);g=a(49);n=a(16);p=a(63);r=a(248);d.Qdb=r.p7;d.Wy=b.sb.get(k.mM);d.qza=d.Wy.encode.bind(d.Wy);d.rnb=d.Wy.decode.bind(d.Wy);d.Nl=b.sb.get(h.TK);d.$ub=d.Nl.encode.bind(d.Nl);d.Zub=d.Nl.decode.bind(d.Nl);d.tka=d.Nl.ZP.bind(d.Nl);d.avb=d.Nl.zya.bind(d.Nl);d.mf=b.sb.get(g.Bk);d.u_=function(a){a=n.Gd(a)?d.rnb(a):a;return d.mf.encode(a);};d.Tm=d.mf.decode.bind(d.mf);d.eVa=function(a){return d.qza(d.Tm(a));};d.dg=a(70).Ul;d.ULa=a(505);d.nB=function(){return b.sb.get(c.UU);};d.Uf=b.sb.get(f.Qb);d.log=d.Uf.Fb("General");d.Tc=function(a,b){return d.Uf.Fb(a,void 0,b);};d.bf=function(a,b){return d.Uf.Fb(b,a,void 0);};d.dQ=function(a,b,g,c){return d.Uf.Fb(a,void 0,c,b,g);};d.Fv=function(a,g){return b.sb.get(p.Dj)(a,g,void 0).y9();};d.Y=b.sb;},function(f,d,a){var k;function b(a){return k.kM.apply(this,arguments)||this;}function c(a){return new k.Tp(a,d.Ia);}Object.defineProperty(d,"__esModule",{value:!0});k=a(457);ja(b,k.kM);d.Otb=b;d.wzb=function(a){return new k.Tp(a,d.pE);};d.Pb=c;d.mm=function(a){return new k.Tp(a,d.cq);};d.U5=function(a){return new k.Tp(a,d.cda);};d.nyb=function(a){return new k.Tp(a,d.vEa);};d.timestamp=function(a){return c(a);};d.pE=new b(1,"\u03bcs");d.Ia=new b(1E3,"ms",d.pE);d.cq=new b(1E3*d.Ia.zg,"s",d.pE);d.cda=new b(60*d.cq.zg,"min",d.pE);d.vEa=new b(60*d.cda.zg,"hr",d.pE);d.Eg=c(0);},function(f,d,a){var k,h,g,n,p,r,u,v,A,D,x,w,z,y,F;function b(a){return(a=d.config.Hmb[c(a)])?a:{};}function c(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";}}Object.defineProperty(d,"__esModule",{value:!0});k=a(6);h=a(33);g=a(3);n=a(50);p=a(11);r=a(16);u=a(37);v=a(30);A=a(68);D=a(19);a(12);x=a(7);w=a(17);z=a(89);y=a(14);F=a(205);d.lXa=function(a){var ea,ta,wa,ia,Na,Oc,ib,Sa,B,U;function b(a,c){D.xc(a,function(a,g){y.Bb(g)?c[a]=g.call(void 0,c[a]):y.ne(g)&&(c[a]=c[a]||{},b(g,c[a]));});}function c(a,b){for(var c=[],g=1;g<arguments.length;++g)c[g-1]=arguments[g];return function(b){y.fb(b)&&(c[1]=b);p.na(y.Bb(a));return a.apply(void 0,c);};}function f(a){a=a.toLowerCase();ia.hasOwnProperty(a)&&(wa[a]=ia[a],Na[a]=ia[a]);return a;}function l(a,b,c){var d;a=a.toLowerCase();if(wa.hasOwnProperty(a)){d=wa[a];try{d=c?c(d):d;}catch(Za){d=void 0;}if(void 0!==d)return d;p.na(!1);g.log.error("Invalid configuration value. Name: "+a);}return b;}function K(a,b,c,g){return l(a,b,function(a){y.Gd(a)&&(a=D.ld(a));if(y.a9a(a,c,g))return a;});}function m(a,b,c,g){return l(a,b,function(a){y.Gd(a)&&(a=D.ld(a));if(y.pu(a,c,g))return a;});}function q(a,b,c,g){return l(a,b,function(a){y.Gd(a)&&(a=parseFloat(a));if(y.fa(a,c,g))return a;});}function O(a,b,c){return l(a,b,function(a){if(c?c.test(a):y.Gd(a))return a;});}function G(a,b){return l(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function t(a,b){return l(a,b,function(a){if(y.Gd(a))return JSON.parse(x.xW(a));if(y.ne(a))return a;});}function aa(a,b,c,g,d,p){var n;a=a.toLowerCase();wa.hasOwnProperty(a)&&(n=wa[a]);if(!y.fb(n))return b;if(y.Gd(n))if(n[0]!==c)n=g(n);else try{n=JSON.parse(x.xW(n));}catch(yb){n=void 0;}if(void 0===n)return b;for(a=0;a<d.length;a++)if(!d[a](n))return b;return p?p(n):n;}function Q(a,b,c,g,d){return aa(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=D.ld(a[b]);return a;},[function(a){return y.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!y.pu(a[b],c,g))return!1;return!0;},function(a){return void 0===d||a.length>=d;}]);}function ha(a,b){return aa(a,b,"[",function(a){a=y.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(x.xW(a[b]));}catch(Za){a=void 0;break;}return a;},[function(a){return y.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!y.fb(a[b])||!y.ne(a[b]))return!1;return!0;}]);}function ba(a,b,c,g){return aa(a,b,"[",function(a){return y.isArray(a)?a:a.split("|");},[function(a){return y.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(c?!c.test(a[b]):!y.qu(a[b]))return!1;return!0;},function(a){return void 0===g||a.length>=g;}]);}function ma(a,b,c){return aa(a,b,"{",function(a){var b,g,d;b={};a=a.split(";");for(var c=a.length;c--;){g=a[c];d=g.indexOf(":");if(0>=d)return;b[g.substring(0,d)]=g.substring(d+1);}return b;},[function(a){return y.ne(a)&&0<Object.keys(a).length;},function(a){if(c)for(var b in a)if(!c.test(a[b]))return!1;return!0;}],function(a){var c;c={};D.Aa(c,b);D.Aa(c,a);return c;});}function la(a){var b;b=[];D.xc(a,function(a,c){var g;try{g="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(c);}catch(xb){g="cantparse";}b.push(a+"="+g);});return b.join("\n");}ea=/^[0-9]+[%]?$/;ta=/^[0-9]*$/;Na={};Oc=!0;ib=!0;Sa=g.Y.get(n.tl);(function(){var c;function b(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(wa[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}wa={};D.Aa(wa,u.HW);a&&a.length&&x.forEach.call(a,function(a){y.Gd(a)?b(a):y.ne(a)&&D.Aa(wa,a,{$B:!0});});ia=D.Aa({},h.d3(),{$B:!0});c=h.agb().cadmiumconfig;c&&(g.log.info("Config cookie loaded",c),b(c));if(u.Fza||wa.istestaccount)D.Aa(wa,ia),Na=ia;"clearkey"!=O("drmType")||wa.keysystemid||(wa.keysystemid=(H.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};B={y1:function(a){return G(f("enableDDPlus20"),r.Of(a,!0));},x1:function(a){return G(f("enableDDPlus"),r.Of(a,!0));},SG:c(G,f("enableDDPlusAtmos"),!1),Nwb:function(a){return Oc=G(f("enableLSSDH"),r.Of(a,!0));},z1a:function(a){return G(f("enableHEVC"),r.Of(a,!1));},hua:function(a){return G(f("overrideEnableHEVC"),r.Of(a,!1));},y1a:function(a){return G(f("enableHDR"),r.Of(a,!1));},gua:function(a){return G(f("overrideEnableHDR"),r.Of(a,!1));},J1a:function(a){return G(f("enableVP9"),r.Of(a,!1));},iua:function(a){return G(f("overrideEnableVP9"),r.Of(a,!1));},v1a:function(a){return G(f("enableAV1"),r.Of(a,!1));},fua:function(a){return G(f("overrideEnableAV1"),r.Of(a,!1));},F1a:function(a){return G(f("enablePRK"),r.Of(a,!1));},A1a:function(a){return G(f("enableHWDRM"),r.Of(a,!1));},Mwb:function(a){return ib=G(f("enableImageSubs"),r.Of(a,!0));},sO:function(a){return ba("audioProfiles",r.Of(a,u.qIa));},Ewb:function(a){return G("disableHD",r.Of(a,!1));},jU:c(m,"videoCapabilityDetectorType",v.Xi.nv),m_:c(m,"audioCapabilityDetectorType",v.hv.nv),kU:function(a){return ba("videoProfiles",r.Of(a,u.OIa));},as:function(a){return ba("timedTextProfiles",r.Of(a,u.JIa)).filter(function(a){return a===A.Fj.LU?Oc:a===A.Fj.oz?ib:!0;});},endpoint:c(G,f("endpoint"),!1),mxa:c(G,f("setMediaKeysEarly"),!1),Ep:c(G,f("useGlobalMediaKeys"),!1),IQ:c(G,f("ignoreKeyStatusOutputNotAllowed"),!1),S9:c(G,f("useSetServerCertificateApi"),!1),VC:c(O,"serverCertificate",u.Fda),Xma:c(G,f("doNotPerformLdlOnPlaybackCreate"),!1),Yma:c(G,f("doNotPerformLdlOnPlaybackStart"),!1),hza:c(G,f("useHdcpLevelOnCast"),!1),B1a:c(G,f("enableHdcp"),!1),Tua:c(m,f("preCacheMediaKeys"),0),jl:c(G,f("prepareCadmium"),!1),USa:c(G,f("acceptManifestOnPrepareItemParams"),!0),kJ:c(t,"ppmconfig",{maxNumberTitlesScheduled:1}),Neb:c(G,f("playerPredictionModelV2"),!0),gK:c(G,f("supportsLimitedDurationLicense"),!1),uP:c(G,f("enableLdlPrefetch"),!1),tP:c(G,f("enableGetHeadersAndMediaPrefetch"),!1),EG:c(G,f("deleteCachedManifestOnPlayback"),!1),GG:c(G,f("deleteOtherManifestCacheOnCreate"),!1),FG:c(G,f("deleteOtherLdlCacheOnCreate"),!1),oeb:c(m,f("periodicPrepareLogsIntervalMilliseconds"),36E5),jfb:c(m,f("prepareManifestCacheMaxCount"),50),hfb:c(m,f("prepareLdlCacheMaxCount"),30),Zua:c(m,f("prepareManifestExpiryMilliseconds"),12E5),ifb:c(m,f("prepareLdlExpiryMilliseconds"),78E4),gfb:c(O,f("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Cnb:c(t,"videoApp"),Wu:c(t,"storageRules"),P3:c(G,"ignoreIdbOpenError"),Z3a:c(G,"ftlEnabled",!0),UTa:c(G,"appStorageLogging",!1),Q3:c(m,f("imageSubsResolution"),0),y8a:c(m,f("imageSubsMaxBuffer"),u.DIa,0),cG:c(G,f("captureBatteryStatus"),!1),z4a:c(m,f("getBatteryApiTimeoutMilliseconds"),5E3),Uc:function(){return O(f("keySystemId"),u.yIa,void 0);},ebb:c(m,f("hdcpGlobalTimeout1"),1E4),fbb:c(m,f("hdcpGlobalTimeout2"),1E4),xzb:c(m,f("hdcpQueryTimeout1"),1E3),yzb:c(m,f("hdcpQueryTimeout2"),1E3),gbb:c(m,f("hdcpQueryTimeout2"),100),hbb:c(G,f("microsoftHwdrmRequiresHevc"),!1),bbb:c(G,f("microsoftEnableDeviceInfo"),!1),cbb:c(G,f("microsoftEnableHardwareInfo"),!1),dbb:c(G,f("microsoftEnableHardwareReset"),!1),kza:c(G,f("useNewLogger"),!1),E$a:c(G,"logMediaPipelineStatus",!1),BJ:c(G,f("renderDomDiagnostics"),!0),Pra:function(){return-1;},WB:c(K,f("logDisplayMaxEntryCount"),u.zIa,-1),M$a:c(K,f("logToConsoleLevel"),-1),kVa:c(K,f("bladerunnerCmdHistorySize"),10),Vl:function(){return Sa.Vl;},cnb:c(G,"upgradeNetflixId",!0),R4:c(G,"logErrorIfEsnNotProvided",!0),E1:c(G,"enforceSinglePlayback",u.wIa),AP:c(G,"enforceSingleSession",u.xIa),h0:c(G,"closeOtherPlaybacks",!0),yUa:c(m,"asyncLoadTimeout",15E3,1),Z$a:c(m,"mainThreadMonitorPollRate",0),Xzb:c(G,"nrdpAlwaysShowUIOverlay",!1),Zzb:c(G,"nrdpValidateSSOTokens",!0),Yzb:c(O,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),EBb:c(G,"showNrdpDebugBadging",!1),oXa:c(O,"congestionServiceApiPath","/cbp/html5player/congestion"),sP:c(G,"enableCongestionService",!1),mU:function(){return Sa.mU;},Uo:function(){return Sa.Uo;},Qq:function(){return Sa.Qq;},ks:function(){return Sa.ks;},tza:c(m,f("verbosePlaybackInfoDenominator"),0),F7:c(G,"renderTimedText",u.EIa),Web:c(G,"preBufferTimedText",!0),Y2a:c(G,"fatalOnTimedTextLoadError",!0),Mlb:c(ma,"timedTextStyleDefaults",{}),sya:c(ma,"timedTextStyleOverrides",{}),v9:c(ma,"timedTextFontFamilyMapping",u.IIa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),tya:c(m,f("timedTextTimeOverride"),0),pD:c(m,"timedTextSimpleFallbackThreshold",u.KIa),Q0:c(O,f("customDfxpUrl")),I1a:c(G,f("enableSubtitleTrackerLogging"),!1),Dib:c(G,f("sendSubtitleQoeLogblobOnMidplay"),!1),S_:c(Q,"cdnIdWhiteList",[]),R_:c(Q,"cdnIdBlackList",[]),h2:c(O,f("forceAudioTrack")),Kbb:c(G,"muteVolumeOnPlaybackClose",!0),$zb:c(O,"nrdpVolumeControlType","VOLUME_STREAM"),j2:c(O,f("forceTimedTextTrack")),Asa:c(m,f("maxRetriesTimedTextDownload"),0),rya:c(m,f("timedTextRetryInterval"),8E3),Z8:c(m,"storageMinimumSize",u.GIa,0),GT:c(O,"storageType",u.HIa,/^(none|fs|idb|ls)$/),A$a:c(m,"lockExpiration",1E4),B$a:c(m,"lockRefresh",3E3),pWa:c(G,"captureUnhandledExceptions",!0),x8a:c(G,"ignoreUnhandledExceptionDuringPlayback",!0),Mmb:c(G,"unhandledExceptionsArePlaybackErrors",!1),Pya:c(O,"unhandledExceptionSource",""),pfb:c(G,"preserveLastFrame",!1),mbb:c(m,"minBufferingTimeInMilliseconds",4E3),Dfb:c(m,"progressBackwardsGraceTimeMilliseconds",4E3),Efb:c(m,"progressBackwardsMinPercent",10),mVa:c(O,f("bookmarkIgnoreBeginning"),"0",ea),nVa:c(O,f("bookmarkIgnoreEnd"),"5%",ea),oVa:c(O,f("bookmarkIgnoreEndForBranching"),"60000",ea),vI:c(m,"maxParallelConnections",3),I7:c(G,"reportThroughputInLogblobs",!0),rsa:c(m,"maxBufferSizeMilliseconds",u.BIa,1E4,k.Es),r5:c(m,"maxBufferSizeBytes",u.AIa),Yub:c(m,"backToFrontBufferRatioPercent",25,0,1E3),n_:c(m,"audioChunkSizeMilliseconds",16E3),DUa:c(m,"audioChunkSizeMillisecondsBranching",0),W9:c(m,"videoChunkSizeMilliseconds",4004),Enb:c(m,"videoChunkSizeMillisecondsBranching",0),Dnb:c(m,"videoChunkSizeMillisecondsAL1",0),N5:c(m,"minAudioMediaRequestSizeBytes",0),S5:c(m,"minVideoMediaRequestSizeBytes",0),f1a:c(G,"droppedFrameRateFilterEnabled",!1),g1a:c(m,"droppedFrameRateFilterMaxObservation",60,10,1E3),i1a:c(function(a,b,c,g,d,p){return aa(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var c=a[b].length;c--;)a[b][c]=D.ld(a[b][c]);}return a;},[function(a){return y.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!y.isArray(a[b]))return!1;for(var d=a[b].length;d--;)if(!y.pu(a[b][d],c,g))return!1;}return!0;},function(a){if(void 0!==d)for(var b=a.length;b--;)if(d!==a[b].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),Jwb:c(G,"droppedFrameRateFilterWithoutRebufferEnabled",!0),pP:c(m,"droppedFrameRateFilterBasedOnPreviousSession"),gna:c(Q,"droppedFrameRateFilterBasedOnPreviousSessionPolicy"),h1a:c(m,"droppedFrameRateFilterMinHeight",384),l1a:c(m,"droppedFramesStorageSessionLimit",0),k1a:c(m,"droppedFramesStorageInterval",6E4),j1a:c(Q,"droppedFramesPercentilesList",[]),ibb:c(G,"microsoftScreenSizeFilterEnabled",!1),Gmb:c(G,"uiLabelFilterEnabled",!0),Fmb:c(t,"uiLabelFilter",{}),T_a:c(m,f("defaultVolume"),100,0,100),Sma:c(G,"disableVideoRightClickMenu",!0),rbb:c(m,"minDecoderBufferMilliseconds",1E3,0,k.Es),Zta:c(m,"optimalDecoderBufferMilliseconds",5E3,0,k.Es),tdb:c(m,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.Es),IR:c(m,"minimumTimeBeforeBranchDecision",3E3,0,k.Es),t5:c(m,"maxDecoderBufferMilliseconds",u.CIa,0,k.Es),Bma:c(m,"decoderTimeoutMilliseconds",1E4,1),F0a:c(G,"disgardMediaOnAppend",!1),XTa:c(G,"appendMediaBeforeInit",!1),eeb:c(m,"pauseTimeoutLimitMilliseconds",18E5),T3:c(m,"inactivityMonitorInterval",3E4,0),SSa:c(Q,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),cx:c(G,"enableTrickPlay",!1),FTa:c(Q,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),xmb:c(m,"trickPlayHighResolutionBitrateThreshold",1E3),ymb:c(m,"trickPlayHighResolutionThresholdMilliseconds",1E4),Amb:c(q,"trickplayBufferFactor",.5),wmb:c(m,"trickPlayDownloadRetryCount",1),o5:c(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),yxa:c(m,"simplePercentilePredictorPercentile",25),wxa:c(O,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),xxa:c(O,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),fca:c(t,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),c6:c(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Bba:c(t,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),mMa:c(t,"TputTDigestConfig",{maxc:25,c:.5,b:5E3,w:15E3}),tsa:c(K,"maxIQRSamples",Infinity),Vsa:c(K,"minIQRSamples",5),R9:c(G,"useResourceTimingAPI",!1),rqa:c(G,"ignoreFirstByte",!0),Xab:c(G,"mediaRequestAsyncLoadStart",!0),mnb:c(G,"useXHROnLoadStart",!1),uhb:c(G,"resetHeuristicStateAfterSkip",!0),N1:c(Q,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),s0:c(m,"connectTimeoutMilliseconds",8E3,500),i6:c(m,"noProgressTimeoutMilliseconds",8E3,500),jnb:c(G,"useOnLineApi",!1),qya:c(m,"timedTextDownloadRetryCountBeforeCdnSwitch",3),jta:c(m,"netflixRequestExpiryTimeout",!1),PSa:c(G,"abortPreemptively",!1),Unb:c(G,"webkitDecodedFrameCountIncorrectlyReported",!1),kib:c(m,"seekBackOnAudioTrackChangeMilliseconds",8E3),e9:c(ba,f("supportedAudioTrackTypes"),[],void 0,1),zqa:c(m,"initialLogFlushTimeout",5E3),Hua:c(O,"playdataPersistKey",Sa.Vl?"unsentplaydatatest":"unsentplaydata"),w8:c(G,"sendPersistedPlaydata",!0),Leb:c(m,"playdataPersistIntervalMilliseconds",4E3),yAb:c(m,"playdataSendDelayMilliseconds",1E4),iT:c(G,"sendPlaydataBackupOnInit",!0),I$a:c(ba,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),kbb:c(G,"midplayEnabled",!0),Psa:c(m,"midplayIntervalMilliseconds",3E5),lbb:c(Q,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),OG:c(m,"downloadReportDenominator",0),Q0a:c(m,"downloadReportInterval",3E5),lP:c(ba,"downloadReportTcpInfo",[]),Ora:c(m,"logConfigApplyDenominator",0),Bka:c(ma,f("bookmarkByMovieId"),{}),iH:c(G,f("forceLimitedDurationLicense"),!1),VB:c(m,f("licenseRenewalRequestDelay"),0),B6:c(m,f("persistedReleaseDelay"),1E4),czb:c(G,f("limitedDurationFlagOverride"),void 0),ci:c(G,f("secureStopEnabled"),!1),yBb:c(G,f("secureStopFromPersistedKeySession"),!1),Iwa:c(m,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),i8:c(m,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),iib:c(m,f("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),jib:c(m,f("secureStopPersistedKeySessionRetries"),17,1),hib:c(m,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),AD:c(G,f("useCdmId"),!1),twa:c(m,"safariPlayPauseWorkaroundDelay",100),aob:c(G,"workaroundForMediaSourceDuration",!1),Bza:c(m,"workaroundValueForSeekIssue",1200),bob:c(G,"workaroundSaio",!0),b$:c(G,f("workaroundAudioKeyFrame"),u.PIa),N_:c(G,f("callEndOfStream"),u.tIa),neb:c(G,"performRewindCheck",!0),$2a:c(G,"fatalOnUnexpectedSeeking",!0),Z2a:c(G,"fatalOnUnexpectedSeeked",!0),sla:c(G,f("clipLongVideo"),u.vIa),vjb:c(G,f("setVideoElementSize")),e0:c(G,f("clearVideoSrc"),u.uIa),Nma:c(m,f("delayPlayPause"),0),XUa:c(G,f("avoidSBRemove"),!1),Fp:c(G,f("useTypescriptEme"),!1),QG:c(O,f("drmPersistKey"),"unsentDrmData"),f7:c(G,f("promiseBasedEme"),!1),oWa:c(G,"captureKeyStatusData",!1),EB:c(G,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),ucb:c(G,f("nudgeSourceBuffer"),!1),k8:c(K,f("seekDelta"),1),nJ:c(G,f("preciseSeeking"),!1),$eb:c(G,f("preciseSeekingOnTwoCoreDevice"),!1),Mma:c(ma,f("delayErrorHandling")),ZT:c(G,"trackingLogEnabled",u.MIa),B9:c(O,"trackingLogPath","/customerevents/track/debug"),cmb:c(Q,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),bCb:c(G,"trackingLogRegPairRequests",!1),Tf:c(O,"esn",""),Vna:c(O,"fesn",""),z1:c(G,f("enableEmeVerboseLogging"),!1),C1a:c(G,"enableLastChunkLogging",!1),KF:c(O,"appId","",ta),sessionId:c(O,"sessionId","",ta),U_:c(O,"cdnProxyUrl"),lnb:c(G,"usePlayReadyHeaderObject",!1),ooa:c(m,"forceXhrErrorResponseCode",void 0),rg:{cta:c(O,"mslApiPath","/msl/"),lna:c(O,f("edgePath"),"/cbp/cadmium-29"),SAb:c(O,"proxyPath",""),Sy:c(O,"uiVersion"),aU:c(O,"uiPlatform"),xvb:function(){return"0";},ky:c(ba,"preferredLanguages",k.hCa,/^[a-zA-Z-]{2,5}$/,1),J3a:c(O,f("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),clb:c(G,"supportPreviewContentPin",!0),dlb:c(G,"supportWatermarking",!0),rza:c(G,"validatePinProtection",u.NIa),Ojb:c(G,"showAllSubDubTracks",!1),P2a:c(G,f("failOnGuidMismatch"),!1)},zS:{enabled:c(G,"qcEnabled",!1),gm:c(O,"qcPackageId","")},zA:c(O,"authenticationType",Sa.Vl?u.sIa:u.rIa),pka:c(ma,"authenticationKeyNames",D.Aa({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),mlb:c(O,"systemKeyWrapFormat"),z8a:c(G,"includeNetflixIdUserAuthData",!0),Kjb:c(G,"shouldSendUserAuthData",!0),y8:c(G,"sendUserAuthIfRequired",u.FIa),Fjb:c(G,"shouldClearUserData",!1),Gbb:c(G,"mslDeleteStore",!1),Hbb:c(G,"mslPersistStore",!0),IXa:c(G,"correctNetworkForShortTitles",!0),Ueb:c(G,"postplayHighInitBitrate",!1),E3a:c(G,"flushHeaderCacheOnAudioTrackChange",!0),X2a:c(G,"fatalOnAseStreamingFailure",!0),vma:c(m,f("debugAseDenominator"),100),e_:c(m,"aseAudioBufferSizeBytes",u.oIa),h_:c(m,"aseVideoBufferSizeBytes",u.pIa),YJ:c(Q,"streamingFailureRetryWaits",[4E3,8E3]),lC:c(m,"minInitVideoBitrate",560),P5:c(m,"minHCInitVideoBitrate",560),cC:c(m,"maxInitVideoBitrate",Infinity),EI:c(m,"minInitAudioBitrate",0),DI:c(m,"minHCInitAudioBitrate",0),sI:c(m,"maxInitAudioBitrate",65535),CR:c(m,"minAcceptableVideoBitrate",235),FI:c(m,"minRequiredBuffer",3E4),Zh:c(m,"minPrebufSize",7800),u7:c(q,"rebufferingFactor",1),xr:c(m,"maxBufferingTime",2600),Q9:c(G,"useMaxPrebufSize",!0),eC:c(m,"maxPrebufSize",45E3),y5:c(m,"maxRebufSize",Infinity),NQ:c(ha,"initialBitrateSelectionCurve",null),vqa:c(m,"initSelectionLowerBound",560),wqa:c(m,"initSelectionUpperBound",1050),QT:c(m,"throughputPercentForAudio",15),r_:c(m,"bandwidthMargin",10),s_:c(G,"bandwidthMarginContinuous",!1),t_:c(ha,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),t0:c(m,"conservBandwidthMargin",20),j9:c(G,"switchConfigBasedOnInSessionTput",!1),mG:c(m,"conservBandwidthMarginTputThreshold",0),u0:c(ha,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),aya:c(G,"switchAlgoBasedOnHistIQR",!1),av:c(O,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),x5:c(K,"maxPlayerStateToSwitchConfig",-1),Z4:c(O,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),UV:c(q,"IQRThreshold",.5),J3:c(O,"histIQRCalcToUse","simple"),bVa:c(q,"bandwidthMarginScaledRatioUpperBound",2),yr:c(m,"maxTotalBufferLevelPerSession",0),cqa:c(m,"highWatermarkLevel",3E4),yya:c(m,"toStableThreshold",3E4),XT:c(m,"toUnstableThreshold",u.LIa),Q8:c(G,"skipBitrateInUpswitch",!0),Z9:c(m,"watermarkLevelForSkipStart",8E3),C3:c(m,"highStreamRetentionWindow",9E4),a5:c(m,"lowStreamTransitionWindow",51E4),E3:c(m,"highStreamRetentionWindowUp",3E5),c5:c(m,"lowStreamTransitionWindowUp",3E5),D3:c(m,"highStreamRetentionWindowDown",6E5),b5:c(m,"lowStreamTransitionWindowDown",0),B3:c(q,"highStreamInfeasibleBitrateFactor",.5),Ax:c(m,"lowestBufForUpswitch",15E3),mR:c(m,"lockPeriodAfterDownswitch",15E3),e5:c(m,"lowWatermarkLevel",25E3),Bx:c(m,"lowestWaterMarkLevel",2E4),h5:c(G,"lowestWaterMarkLevelBufferRelaxed",!1),E5:c(q,"mediaRate",1),A5:c(m,"maxTrailingBufferLen",1E4),k_:c(m,"audioBufferTargetAvailableSize",262144),V9:c(m,"videoBufferTargetAvailableSize",1048576),Bsa:c(m,"maxVideoTrailingBufferSize",8388608),qsa:c(m,"maxAudioTrailingBufferSize",393216),JP:c(q,"fastUpswitchFactor",3),Q1:c(q,"fastDownswitchFactor",1),tR:c(m,"maxMediaBufferAllowed",24E4),uT:c(G,"simulatePartialBlocks",!0),zxa:c(G,"simulateBufferFull",!0),v0:c(G,"considerConnectTime",!1),r0:c(q,"connectTimeMultiplier",1),Xra:c(m,"lowGradeModeEnterThreshold",12E4),Yra:c(m,"lowGradeModeExitThreshold",9E4),ssa:c(m,"maxDomainFailureWaitDuration",3E4),osa:c(m,"maxAttemptsOnFailure",18),Mna:c(G,"exhaustAllLocationsForFailure",!0),wsa:c(m,"maxNetworkErrorsDuringBuffering",20),s5:c(m,"maxBufferingTimeAllowedWithNetworkError",6E4),P1:c(m,"fastDomainSelectionBwThreshold",2E3),r9:c(m,"throughputProbingEnterThreshold",4E4),mya:c(m,"throughputProbingExitThreshold",34E3),Lra:c(m,"locationProbingTimeout",1E4),Yna:c(m,"finalLocationSelectionBwThreshold",1E4),jya:c(q,"throughputHighConfidenceLevel",.75),lya:c(q,"throughputLowConfidenceLevel",.4),$A:c(G,"enablePerfBasedLocationSwitch",!1),Gn:c(G,"probeServerWhenError",!0),Y6:c(m,"probeRequestTimeoutMilliseconds",8E3),Dq:c(G,"allowSwitchback",!0),my:c(m,"probeDetailDenominator",100),qR:c(m,"maxDelayToReportFailure",300),O4:c(m,"locationStatisticsUpdateInterval",6E4),z0:c(G,"countGapInBuffer",!1),xw:c(G,"allowReissueMediaRequestAfterAbort",!1),SZ:c(G,"allowCallToStreamSelector",!0),C_:c(m,"bufferThresholdForAbort",1E4),E6:c(m,"pipelineScheduleTimeoutMs",2),Dx:c(m,"maxPartialBuffersAtBufferingStart",2),Q5:c(m,"minPendingBufferLen",6E3),dC:c(m,"maxPendingBufferLen",12E3),Aab:c(m,"maxPendingBufferLenAL1",3E4),xP:c(G,"enableRequestPacing",!1),z5:c(m,"maxStreamingSkew",4E3),w5:c(m,"maxPendingBufferPercentage",10),Ex:c(m,"maxRequestsInBuffer",60),ysa:c(m,"maxRequestsInBufferAL1",240),zsa:c(m,"maxRequestsInBufferBranching",120),CQ:c(m,"headerRequestSize",4096),O5:c(m,"minBufferLenForHeaderDownloading",1E4),OS:c(m,"reserveForSkipbackBufferMs",1E4),p6:c(m,"numExtraFragmentsAllowed",2),Cn:c(G,"pipelineEnabled",!1),Bxa:c(m,"socketReceiveBufferSize",0),o_:c(m,"audioSocketReceiveBufferSize",32768),X9:c(m,"videoSocketReceiveBufferSize",65536),A3:c(m,"headersSocketReceiveBufferSize",32768),bU:c(m,"updatePtsIntervalMs",1E3),E_:c(m,"bufferTraceDenominator",100),BA:c(m,"bufferLevelNotifyIntervalMs",2E3),xA:c(m,"aseReportDenominator",0),f_:c(m,"aseReportIntervalMs",3E5),qna:c(G,"enableAbortTesting",!1),vja:c(m,"abortRequestFrequency",8),b9:c(m,"streamingStatusIntervalMs",2E3),AC:c(m,"prebufferTimeLimit",24E4),ER:c(m,"minBufferLevelForTrackSwitch",2E3),y6:c(m,"penaltyFactorForLongConnectTime",2),X4:c(m,"longConnectTimeThreshold",200),OZ:c(m,"additionalBufferingLongConnectTime",2E3),PZ:c(m,"additionalBufferingPerFailure",8E3),zJ:c(m,"rebufferCheckDuration",6E4),tna:c(G,"enableLookaheadHints",!1),Ura:c(m,"lookaheadFragments",2),Lo:c(G,"enableOCSideChannel",!0),TL:c(t,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Uya:c(G,"updateDrmRequestOnNetworkFailure",!1),cP:c(G,"deferAseScheduling",!1),rR:c(m,"maxDiffAudioVideoEndPtsMs",16E3),BD:c(G,"useHeaderCache",!0),aP:c(m,"defaultHeaderCacheSize",4),c1:c(m,"defaultHeaderCacheDataPrefetchMs",8E3),x3:c(m,"headerCacheMaxPendingData",6),pgb:c(G,"recreateHeaderCacheDownloadTracks",!0),y3:c(m,"headerCachePriorityLimit",5),R7a:c(G,"headerCacheFlushForCircularBuffer",!0),WG:c(G,"enableUsingHeaderCount",!1),$pa:c(G,"headerCacheTruncateHeaderAfterParsing",!0),D3a:c(G,f("flushHeaderCacheBeforePlayback"),!1),b6:c(m,"networkFailureResetWaitMs",2E3),a6:c(m,"networkFailureAbandonMs",6E4),xR:c(m,"maxThrottledNetworkFailures",3),PT:c(m,"throttledNetworkFailureThresholdMs",200),qo:c(G,"abortUnsentBlocks",!1),B5:c(m,"maxUnsentBlocks",2),BZ:c(m,"abortStreamSelectionPeriod",2E3),d5:c(K,"lowThroughputThreshold",400),I1:c(G,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),bta:c(G,"mp4ParsingInNative",!1),Cxa:c(G,"sourceBufferInOrderAppend",!0),Mn:c(G,"requireAudioStreamToEncompassVideo",!0),Rja:c(G,"allowAudioToStreamPastVideo",!0),Lfb:c(G,"pruneRequestsFromNative",!1),Zeb:c(G,"preciseBufferLevel",!1),Ce:c(G,"enableManagerDebugTraces",!1),hsa:c(m,"managerDebugMessageInterval",1E3),gsa:c(m,"managerDebugMessageCount",20),uta:c(G,"notifyManifestCacheEom",!1),xO:c(m,"bufferThresholdToSwitchToSingleConnMs",18E4),D_:c(m,"bufferThresholdToSwitchToParallelConnMs",12E4),jS:c(m,"periodicHistoryPersistMs",3E5),YS:c(m,"saveVideoBitrateMs",18E4),YZ:c(G,"appendMediaRequestOnComplete",!0),nU:c(G,"waitForDrmToAppendMedia",!1),g2:c(G,f("forceAppendHeadersAfterDrm"),!1),yJ:c(G,f("reappendRequestsOnSkip"),!0),Pbb:c(m,"netIntrStoreWindow",36E3),tbb:c(m,"minNetIntrDuration",8E3),T2a:c(m,"fastHistoricBandwidthExpirationTime",10368E3),ZUa:c(m,"bandwidthExpirationTime",5184E3),R2a:c(m,"failureExpirationTime",86400),Y7a:c(m,"historyTimeOfDayGranularity",4),G2a:c(G,"expandDownloadTime",!1),zbb:c(m,"minimumMeasurementTime",500),ybb:c(m,"minimumMeasurementBytes",131072),ylb:c(m,"throughputMeasurementTimeout",2E3),F8a:c(m,"initThroughputMeasureDataSize",262144),Alb:c(O,"throughputPredictor","ewma"),xlb:c(m,"throughputMeasureWindow",5E3),Dlb:c(m,"throughputWarmupTime",5E3),wlb:c(m,"throughputIQRMeasureWindow",5E3),sFa:c(m,"IQRBucketizerWindow",15E3),pXa:c(m,"connectTimeHalflife",10),Ehb:c(m,"responseTimeHalflife",10),X7a:c(m,"historicBandwidthUpdateInterval",2E3),zlb:c(ha,"throughputMeasurementWindowCurve",null),o8a:c(m,"httpResponseTimeWarmup",10),Fhb:c(m,"responseTimeWarmup",10),xbb:c(m,"minimumBufferToStopProbing",1E4),b8a:c(m,"holtWintersDiscretizeInterval",500),c8a:c(m,"holtWintersHalfLifeAlpha",6700),e8a:c(m,"holtWintersHalfLifeGamma",6700),f8a:c(m,"holtWintersInitialCounts",3),g8a:c(m,"holtWintersMinInitialCounts",3),d8a:c(G,"holtWintersHalfLifeCurveEnabled",!1),h8a:c(G,"holtWintersUpperBoundEnabled",!1),g8:c(O,"secondThroughputEstimator","none"),Gwa:c(K,"secondThroughputMeasureWindowInMs",Infinity),x1a:c(ba,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),k3a:c(t,"filterDefinitionOverrides",{}),N_a:c(O,"defaultFilter","throughput-ewma"),eib:c(O,"secondaryFilter","none"),O_a:c(t,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),OI:c(G,"needMinimumNetworkConfidence",!0),w_:c(G,"biasTowardHistoricalThroughput",!0),LZ:c(G,"addHeaderDataToNetworkMonitor",!1),V8:c(G,"startMonitorOnLoadStart",!1),H7:c(G,"reportFailedRequestsToNetworkMonitor",!1),v5:c(K,"maxFastPlayBufferInMs",Infinity),u5:c(K,"maxFastPlayBitThreshold",Infinity),XZ:c(G,"appendFirstHeaderOnComplete",!0),kUa:c(O,"ase_stream_selector","optimized"),V3:c(O,"initBitrateSelectorAlgorithm","default"),G_:c(O,"bufferingSelectorAlgorithm","default"),W0:c(O,"ase_ls_failure_simulation",""),U0:c(G,"ase_dump_fragments",!1),V0:c(m,"ase_location_history",0),X0:c(m,"ase_throughput",0),xma:c(G,"ase_simulate_verbose",!1),rcb:c(G,"notifyOpenConnectBlackBox",!0),Reb:c(m,"pollingPeriod",150),Ira:c(m,"loadTimeMs",18E4),jsa:c(m,"marginTimeMs",1E4),Vy:c(G,"useMediaCache",!1),WA:c(m,"diskCacheSizeLimit",52428800),zR:c(m,"mediaCachePrefetchMs",8E3),D5:c(ma,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),VTa:c(G,"appendCachedMediaAsMediaRequest",!0),oH:c(G,"generateHardwareDeviceId",!1),KZ:c(G,"addFailedLogBlobsToQueue",!0),Ijb:c(G,"shouldSaveLogs",!1),U4:c(ba,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),Hmb:{billboard:{lC:c(m,"billboardMinInitVideoBitrate",1050),cC:c(m,"billboardMaxInitVideoBitrate",null),Zh:c(m,"billboardMinPrebufSize",null),eC:c(m,"billboardMaxPrebufSize",null),xr:c(m,"billboardMaxBufferingTime",null),Dx:c(m,"billboardMaxPartialBuffersAtBufferingStart",null),Bx:c(m,"billboardLowestWaterMarkLevel",6E3),Ax:c(m,"billboardLowestBufForUpswitch",25E3),av:c(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{lC:c(m,"preplayMinInitVideoBitrate",1050),cC:c(m,"preplayMaxInitVideoBitrate",null),Zh:c(m,"preplayMinPrebufSize",null),eC:c(m,"preplayMaxPrebufSize",null),xr:c(m,"preplayMaxBufferingTime",null),Dx:c(m,"preplayMaxPartialBuffersAtBufferingStart",null),Bx:c(m,"preplayLowestWaterMarkLevel",6E3),Ax:c(m,"preplayLowestBufForUpswitch",25E3)},embedded:{lC:c(m,"embeddedMinInitVideoBitrate",1050),cC:c(m,"embeddedMaxInitVideoBitrate",null),Zh:c(m,"embeddedMinPrebufSize",null),eC:c(m,"embeddedMaxPrebufSize",null),xr:c(m,"embeddedMaxBufferingTime",null),Dx:c(m,"embeddedMaxPartialBuffersAtBufferingStart",null),Bx:c(m,"embeddedLowestWaterMarkLevel",6E3),Ax:c(m,"embeddedLowestBufForUpswitch",25E3)}},vP:c(G,"enablePsd",!1),h7:c(m,"psdCallFrequency",6E4),i7:c(G,"psdReturnToNormal",!1),rJ:c(m,"psdThroughputThresh",0),JG:c(m,"discardLastNPsdBins",0),xg:c(t,"psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}),K1a:c(G,"enableVerbosePlaydelayLogging",!1),fr:c(G,"enableRl",!1),MC:c(m,"rlLogParam",5),H1a:c(G,"enableSeamless",!1),I3:c(m,"hindsightDenominator",0),H3:c(m,"hindsightDebugDenominator",0),DQ:c(t,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),VG:c(G,"enableSessionHistoryReport",!1),u1:c(m,"earlyStageEstimatePeriod",1E4),vra:c(m,"lateStageEstimatePeriod",3E4),uR:c(m,"maxNumSessionHistoryStored",30),GR:c(m,"minSessionHistoryDuration",3E4),UG:c(G,"enableInitThroughputEstimate",!1),$Z:c(G,"applyInitThroughputEstimate",!1),xqa:c(t,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),qI:c(m,"maxActiveRequestsPerSession",3),pR:c(m,"maxActiveRequestsSABCell100",2),vR:c(m,"maxPendingBufferLenSABCell100",500),H4:c(G,"limitAudioDiscountByMaxAudioBitrate",!0),Ai:c(t,"browserInfo",{}),IVa:c(m,f("busyGracePeriod"),199),Eib:c(G,f("sendTransitionLogblob"),!0),Tl:c(G,f("editAudioFragments"),!1),$w:c(G,f("editVideoFragments"),!1),r1a:c(G,f("editAudioFragmentsBranching"),!0),t1a:c(G,f("editVideoFragmentsBranching"),!0),A8a:c(G,f("includeSegmentInfoOnLogblobs"),!0),J2a:c(G,"exposeTestData",!1),Y0:c(G,"declareBufferingCompleteAtSegmentEnd",!0),Bw:c(G,"applyProfileTimestampOffset",!1),Gq:c(G,"applyProfileStreamingOffset",!1),PTa:c(G,f("allowSmallSeekDelta"),!1),Yjb:c(m,f("smallSeekDeltaThresholdMilliseconds"),F.gX),w1a:c(G,"enableCDMAttestedDescriptors",!1),N7:c(G,"requireDownloadDataAtBuffering",!1),O7:c(G,"requireSetupConnectionDuringBuffering",!1),ahb:c(G,"renormalizeFirstFragment",!1),bhb:c(G,"renormalizeLastFragment",!1),w7:c(G,"recordFirstFragmentOnSubBranchCreate",!1),sVa:c(G,"branchingAudioTrackFrameDropSmallSeekFix",!0)};U=!0;d.Jla=function(a){var c;if(H._cad_global.logBatcher&&0<d.config.Ora&&0===w.lz%d.config.Ora)try{c=new z.qz(void 0,"config","info",{params:a});H._cad_global.logBatcher.km(c);}catch(sf){g.log.error("Failed to log config$apply",sf);}H._cad_global||(H._cad_global={});H._cad_global.config=d.config;H._cad_global.platformExtraInfo=u.Zn;p.na(a);a&&(wa=D.Aa({},a,{$B:!0}),D.Aa(wa,Na,{$B:!0}),b(B,d.config),wa.istestaccount&&g.log.trace("Config applied for",la(U?wa:a)),U=!1);};d.Jla(wa);};d.Hvb=function(a,b){return y.Gd(a)&&"%"==a[a.length-1]?x.Gf(parseFloat(a)*b/100):a|0;};d.kXa=function(a){return a?(a=D.Aa({},d.config),D.Aa(a,{Zta:d.config.tdb},{kp:!0})):d.config;};d.Ivb=function(a){var c;c=D.Aa({},d.config);return D.Aa(c,b(a),{kp:!0});};d.Lla=function(c){c=b(c);return D.Aa({},a(149)(c),{kp:!0});};d.Kla=function(b,c){c=!!c&&(0<=c.indexOf("h264hpl")||0<=c.indexOf("vp9"));b={n_:b?d.config.DUa:d.config.n_,W9:b?d.config.Enb:c?d.config.Dnb:d.config.W9,xw:b?!1:d.config.xw,Ex:b&&c?Math.max(d.config.zsa,d.config.ysa):b?d.config.zsa:c?d.config.ysa:d.config.Ex,dC:c?d.config.Aab:d.config.dC,Tl:d.config.Tl||b&&d.config.r1a,$w:d.config.$w||b&&d.config.t1a};return D.Aa({},a(149)(b),{kp:!0});};d.Kvb=b;d.Jvb=c;d.Gvb="";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rb=function(){};d.NKa=function(){return!0;};d.Nb={P:!0};d.Cj=1E3;d.Xsb=86400;d.Ysb=604800;d.hrb=1E4;d.irb=1E7;d.Vtb=1.5;d.crb=.128;d.Bob=7.8125;d.Lob=128;d.Es=145152E5;d.kGa=1E5;d.BW="$netflix$player$order";d.tz=-1;d.DW=1;d.hCa=["en-US"];d.Mob=8;d.lGa=65535;d.qtb=65536;d.gsb=Number.MAX_VALUE;d.ZU="playready";d.Naa="widevine";d.sDa="fps";d.rDa="clearkey";d.hE='audio/mp4; codecs="mp4a.40.5"';d.nGa='audio/mp4; codecs="mp4a.a6"';d.iE='video/mp4; codecs="avc1.640028"';d.krb='video/mp4; codecs="hev1.2.6.L153.B0"';d.jrb='video/mp4; codecs="dvhe.01000000"';d.qDa="9A04F079-9840-4286-AB92-E65BE0885F95";d.Ppb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.Qpb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.Yob=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.TAa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.Zob="4E657466-6C69-7846-7261-6D6552617465";d.$ob="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.Uob="mp4a";d.RAa="enca";d.Rob="ec-3";d.Pob="avc1";d.SAa="encv";d.Tob="hvcC";d.Sob="hev1";d.Qob="dvhe";d.Vob="vp09";d.bW=0;d.jE=1;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f="undefined"===typeof H?{}:H;d.ii=f.navigator||{};d.Fh=d.ii.userAgent;d.ML=f.location;d.Vp=f.screen;d.Cm=f.performance;d.qd=f.document||{};d.Srb=d.qd.documentElement;d.zt=Array.prototype;d.sort=d.zt.sort;d.map=d.zt.map;d.slice=d.zt.slice;d.every=d.zt.every;d.reduce=d.zt.reduce;d.filter=d.zt.filter;d.forEach=d.zt.forEach;d.pop=d.zt.pop;d.wE=Object.create;d.THa=Object.keys;d.kL=Date.now;d.RLa=String.fromCharCode;d.Sp=Math.floor;d.MGa=Math.ceil;d.Gf=Math.round;d.Ek=Math.max;d.Ti=Math.min;d.mE=Math.random;d.lE=Math.abs;d.Uca=Math.pow;d.NGa=Math.sqrt;d.wW=f.escape;d.xW=f.unescape;d.URL=f.URL||f.webkitURL;d.sE=f.MediaSource||f.WebKitMediaSource;d.rE=f.WebKitMediaKeys||f.MSMediaKeys||f.MediaKeys;d.Cv=f.nfCrypto||f.webkitCrypto||f.msCrypto||f.crypto;d.Qw=d.Cv&&(d.Cv.webkitSubtle||d.Cv.subtle);d.vW=f.nfCryptokeys||f.webkitCryptokeys||f.msCryptokeys||f.cryptokeys;d.PERSISTENT=f.PERSISTENT;d.TEMPORARY=f.TEMPORARY;d.tHa=f.requestFileSystem||f.webkitRequestFileSystem;d.kda=f.Blob;d.NL=d.ii.persistentStorage||d.ii.webkitPersistentStorage;d.lda=d.NL?void 0:f.storageInfo||f.webkitStorageInfo;try{d.indexedDB=f.indexedDB;}catch(a){d.xyb=a||"noex";}try{d.localStorage=f.localStorage;}catch(a){d.Jra=a||"noex";}},function(f){var d;d={fa:function(a){return"number"===typeof a;},ne:function(a){return"object"===typeof a;},Gd:function(a){return"string"===typeof a;},R:function(a){return"undefined"===typeof a;},S8a:function(a){return"boolean"===typeof a;},Bb:function(a){return"function"===typeof a;},Ja:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},Bdb:function(a){var b,c;c=[];if(!d.ne(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&c.push([b,a[b]]);return c;}};d.Ac=d.forEach=function(a,b,c){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var k=0,h=a.length;k<h;k++)b.call(c,a[k],k,a);else for(k in a)d.has(a,k)&&b.call(c,a[k],k,a);return a;};f.K=d;},function(f){f.K={JH:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(f,d,a){var b,c,k,h;b=a(75);c=a(956);k=a(233);h=a(955);f=function(){function a(a){this.nq=!1;a&&(this.lf=a);}a.prototype.uf=function(b){var c;c=new a();c.source=this;c.$x=b;return c;};a.prototype.subscribe=function(a,b,g){var d;d=this.$x;a=c.Vlb(a,b,g);d?d.call(a,this.source):a.add(this.source||!a.xj?this.lf(a):this.oZ(a));if(a.xj&&(a.xj=!1,a.Iy))throw a.Jy;return a;};a.prototype.oZ=function(a){try{return this.lf(a);}catch(p){a.Iy=!0;a.Jy=p;a.error(p);}};a.prototype.forEach=function(a,c){var g;g=this;c||(b.root.Hv&&b.root.Hv.config&&b.root.Hv.config.Promise?c=b.root.Hv.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(b,c){var d;d=g.subscribe(function(b){if(d)try{a(b);}catch(x){c(x);d.unsubscribe();}else a(b);},c,b);});};a.prototype.lf=function(a){return this.source.subscribe(a);};a.prototype[k.observable]=function(){return this;};a.prototype.seb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:h.teb(a)(this);};a.prototype.WT=function(){var a,c;c=this;a||(b.root.Hv&&b.root.Hv.config&&b.root.Hv.config.Promise?a=b.root.Hv.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var g;c.subscribe(function(a){return g=a;},function(a){return b(a);},function(){return a(g);});});};a.create=function(b){return new a(b);};return a;}();d.qa=f;},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(3);a=a(135);d.F$=function(){d.na();};d.owb=!0;d.le=f.Y.get(a.MD);d.na=d.le.assert.bind(d.le);d.jwb=d.le.nUa.bind(d.le);d.kwb=d.le.oUa.bind(d.le);d.e_a=d.le.tUa.bind(d.le);d.BG=d.le.wUa.bind(d.le);d.nwb=d.le.uUa.bind(d.le);d.lwb=d.le.rUa.bind(d.le);d.YO=d.le.qUa.bind(d.le);d.Sw=d.le.vUa.bind(d.le);d.mwb=d.le.sUa.bind(d.le);d.iwb=d.le.lUa.bind(d.le);d.uma=d.le.pUa.bind(d.le);d.pwb=d.le.N8a.bind(d.le);},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.Eh||(d.Eh={});f[f.XDa=0]="FATAL";f[f.ERROR=1]="ERROR";f[f.$fa=2]="WARN";f[f.SV=3]="INFO";f[f.rX=4]="TRACE";f[f.Mp=5]="DEBUG";d.Dca="LogFieldBuilderFactorySymbol";d.Qb="LoggerFactorySymbol";d.ov={};},function(f){f.K={ta:{Ig:0,rs:1,Hs:2,Ye:3,Az:4,zz:5,Yn:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},Kob:{Ks:0,ttb:1,name:["STARTUP","STEADY"]},zL:{Ig:0,stb:1,CMa:2,name:["STARTING","STABLE","UNSTABLE"]},v:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},gg:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Xe:{URL:0,Iv:1,uca:2,Up:3,name:["URL","SERVER","LOCATION","NETWORK"]},Xc:{HAVE_NOTHING:0,ys:1,Un:2,TD:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},je:{G$:0,WDa:1,Csb:2,NEXT:3,isb:4,Itb:5,oqb:6,mGa:7,Ks:8,ERROR:9,NW:10,rJa:11,wU:12,MFa:13,LFa:14,eLa:15,dLa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},dqb:{Up:0,xpb:1,name:["NETWORK","DECODE"]},cLa:{oCa:"delayedSeamless",Eqb:"hideLongTransition"}};},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(114);d.is=f.Qp;d.fb=function(a){return d.is.Qf(a);};d.ne=function(a){return d.is.yw(a);};d.u9a=function(a){return d.is.eO(a);};d.isArray=function(a){return d.is.Eq(a);};d.dra=function(a){return d.is.Vja(a);};d.fa=function(a,c,k){return d.is.Mf(a,c,k);};d.a9a=function(a,c,k){return d.is.TZ(a,c,k);};d.pu=function(a,c,k){return d.is.wo(a,c,k);};d.Xqa=function(a){return d.is.tA(a);};d.Kyb=function(a){return d.is.MSa(a);};d.Myb=function(a){return d.is.NSa(a);};d.era=function(a){return d.is.Wja(a);};d.Gd=function(a){return d.is.oh(a);};d.qu=function(a){return d.is.yi(a);};d.Mqa=function(a){return d.is.rA(a);};d.Bb=function(a){return d.is.sA(a);};},function(f,d,a){(function(b){var z,y,F,l,S,m,P;function c(a,b){if(a===b)return 0;for(var c=a.length,g=b.length,d=0,p=Math.min(c,g);d<p;++d)if(a[d]!==b[d]){c=a[d];g=b[d];break;}return c<g?-1:g<c?1:0;}function d(a){return b.R$&&"function"===typeof b.R$.isBuffer?b.R$.isBuffer(a):!(null==a||!a.rub);}function h(a){return d(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function g(a){if(z.Bb(a))return l?a.name:(a=a.toString().match(m))&&a[1];}function n(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function p(a){if(l||!z.Bb(a))return z.TH(a);a=g(a);return"[Function"+(a?": "+a:"")+"]";}function r(a,b,c,g,d){throw new S.AssertionError({message:c,vw:a,Yl:b,$x:g,ckb:d});}function u(a,b){a||r(a,!0,b,"==",S.ok);}function v(a,b,g,p){var n;if(a===b)return!0;if(d(a)&&d(b))return 0===c(a,b);if(z.XH(a)&&z.XH(b))return a.getTime()===b.getTime();if(z.ara(a)&&z.ara(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!h(a)||!h(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(d(a)!==d(b))return!1;p=p||{vw:[],Yl:[]};n=p.vw.indexOf(a);if(-1!==n&&n===p.Yl.indexOf(b))return!0;p.vw.push(a);p.Yl.push(b);return A(a,b,g,p);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return g?a===b:a==b;}function A(a,b,c,g){var d,p,n;if(null===a||void 0===a||null===b||void 0===b)return!1;if(z.Yqa(a)||z.Yqa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;d="[object Arguments]"==Object.prototype.toString.call(a);p="[object Arguments]"==Object.prototype.toString.call(b);if(d&&!p||!d&&p)return!1;if(d)return a=F.call(a),b=F.call(b),v(a,b,c);d=P(a);n=P(b);if(d.length!==n.length)return!1;d.sort();n.sort();for(p=d.length-1;0<=p;p--)if(d[p]!==n[p])return!1;for(p=d.length-1;0<=p;p--)if(n=d[p],!v(a[n],b[n],c,g))return!1;return!0;}function D(a,b,c){v(a,b,!0)&&r(a,b,c,"notDeepStrictEqual",D);}function x(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(fa){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function w(a,b,c,g){var d,p,n;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(g=c,c=null);try{b();}catch(aa){d=aa;}b=d;g=(c&&c.name?" ("+c.name+").":".")+(g?" "+g:".");a&&!b&&r(b,c,"Missing expected exception"+g);d="string"===typeof g;p=!a&&z.SQ(b);n=!a&&b&&!c;(p&&d&&x(b,c)||n)&&r(b,c,"Got unwanted exception"+g);if(a&&b&&c&&!x(b,c)||!a&&b)throw b;}z=a(224);y=Object.prototype.hasOwnProperty;F=Array.prototype.slice;l=function(){return"foo"===function(){}.name;}();S=f.K=u;m=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function(a){var b;this.name="AssertionError";this.vw=a.vw;this.Yl=a.Yl;this.$x=a.$x;this.message=a.message?a.message:n(p(this.vw))+" "+this.$x+" "+n(p(this.Yl));b=a.ckb||r;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=g(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};z.C8a(S.AssertionError,Error);S.fail=r;S.ok=u;S.equal=function(a,b,c){a!=b&&r(a,b,c,"==",S.equal);};S.k6=function(a,b,c){a==b&&r(a,b,c,"!=",S.k6);};S.L_a=function(a,b,c){v(a,b,!1)||r(a,b,c,"deepEqual",S.L_a);};S.M_a=function(a,b,c){v(a,b,!0)||r(a,b,c,"deepStrictEqual",S.M_a);};S.hcb=function(a,b,c){v(a,b,!1)&&r(a,b,c,"notDeepEqual",S.hcb);};S.Uzb=D;S.Jkb=function(a,b,c){a!==b&&r(a,b,c,"===",S.Jkb);};S.icb=function(a,b,c){a===b&&r(a,b,c,"!==",S.icb);};S["throws"]=function(a,b,c){w(!0,a,b,c);};S.Gwb=function(a,b,c){w(!1,a,b,c);};S.uyb=function(a){if(a)throw a;};P=Object.keys||function(a){var b,c;b=[];for(c in a)y.call(a,c)&&b.push(c);return b;};}.call(this,a(168)));},function(f,d,a){var g;function b(a){return null!==a&&void 0!==a;}function c(a){return typeof a==d.YLa;}function k(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);}function h(a,c,g){var d,p,n;if(c)if(g){d=g.$B;p=g.prefix;n=g.kp;k(c,function(c,g){if(!n||b(g))a[(p||"")+(d?c.toLowerCase():c)]=g;});}else k(c,function(b,c){a[b]=c;});return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(7);d.Rb=function(){};d.Cj=1E3;d.wE=Object.create;d.THa=Object.keys;d.kL=Date.now;d.Sp=Math.floor;d.MGa=Math.ceil;d.Gf=Math.round;d.Ek=Math.max;d.Ti=Math.min;d.mE=Math.random;d.lE=Math.abs;d.Uca=Math.pow;d.gi="$attributes";d.oU="$children";d.pU="$name";d.Jp="$text";d.Cza="$parent";d.GD="$sibling";d.YLa="string";d.Mtb="number";d.Ltb="function";d.XLa="object";d.fb=b;d.ne=function(a){return typeof a==d.XLa;};d.Gd=c;d.qu=function(a){return c(a)&&a;};d.ld=function(a){return parseInt(a,10);};d.Xn=function(a,b,c){return a>=b?a<=c?a:c:b;};d.xc=k;d.Aa=h;d.RJ=function(a){return h({},a);};d.Of=function(a){var d;for(var c=0;c<arguments.length;++c);for(var c=0,g=arguments.length;c<g;){d=arguments[c++];if(b(d))return d;}};d.dUa=function(a){for(var b,c=!0,g;c;)for(c=!1,b=a.length;--b;)g=a[b],g.startTime<a[b-1].startTime&&(a[b]=a[b-1],a[b-1]=g,c=!0);};d.Mt=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.createElement=function(a,b,c,d){var p;p=g.qd.createElement(a);b&&(p.style.cssText=b);c&&(p.innerHTML=c);d&&k(d,function(a,b){p.setAttribute(a,b);});return p;};d.pG=function(a){var b;b="";k(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.SP=function(a,b,c){var g;a/b>c?(g=d.Gf(b*c),a=b):(g=a,a=d.Gf(a/c));return{width:g,height:a};};d.L3=function(){var b,c;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};c=/[&'"<>]/g;return function(b){return b.replace(c,a);};}();d.Bc=function(a){var b,c;if(a){b=a.stack;c=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;c&&(b+="\nnumber:"+c);return b;}};d.G={Ih:1001,ue:1003,ZDa:1701,lba:1713,$Da:1715,YDa:1721,pL:1723};},function(f,d,a){var c,k,h,g;function b(){return d.wM.eI.ma(g.Ia);}Object.defineProperty(d,"__esModule",{value:!0});f=a(464);c=a(43);k=a(24);h=a(110);g=a(4);d.Fga=f.sb.get(c.Ri);d.wM=f.sb.get(k.gf);d.XOa=f.sb.get(h.kz);d.lz=d.wM.id;d.bb=function(){return d.wM.Ud().ma(g.Ia);};d.Lw=function(){return d.Fga.sg.ma(g.cq);};d.UWa=function(){return d.wM.eI.ma(g.cq);};d.tla=function(){return d.XOa.rG();};d.TWa=b;d.GA=function(){return d.Fga.sg.ma(g.Ia);};d.ula=function(){return b();};},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A,D,x,w,z;Object.defineProperty(d,"__esModule",{value:!0});f=a(373);b=a(5);c=a(6);a(33);k=a(17);h=a(3);g=a(108);n=a(56);p=a(11);r=a(103);u=a(2);v=a(723);d.L4={};A=h.Tc("loadAsync");D=[];w=h.Y.get(g.Lv);z=n.Oc.Wi;d.Fe=function(a,b){p.na(!x);D.push({m$a:b,Wm:a});};d.jI=f.eEa(function(a){var p,n;function g(b){d.K4=k.bb();g=c.Rb;n.Cf();a(b);}p=0;n=new r.Dz(b.config.yUa,function(){A.error("Load timed out");g({errorCode:p,T:u.G.Qza});});v.rfb(D).then(function(a){function b(){var d,h,k;if(d=a.shift())try{h=d.m$a;p=k=d.Wm;n.Cf();n.Mo();h(function(a){a.P?b():(a.errorCode=a.errorCode||k,w.mark(z.Tza),g(a));});}catch(Z){A.error("Exception while loading component",Z);w.mark(z.Sza);g({errorCode:k,T:u.G.Pza,Ea:""+Z});}else w.mark(z.Rza),g(c.Nb);}d.iR=k.bb();w.mark(z.Uza);x=!0;b();},function(a){g({errorCode:a.Wm,T:a.Fla});});});d.kI=function(a){p.na(void 0===d.L4[a]);d.L4[a]=k.bb();};},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);c=a(16);k=a(7);h=a(14);d.xc=d.xc||function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};d.Aa=d.Aa||function(a,b,p){var g,n,h;if(b)if(p){g=p.$B;n=p.prefix;h=p.kp;d.xc(b,function(b,d){if(!h||c.fb(d))a[(n||"")+(g?b.toLowerCase():b)]=d;});}else d.xc(b,function(b,c){a[b]=c;});return a;};d.hWa=function(a,b,c,d){var g;if(a){g=a[b];h.Bb(g)&&(c=g.apply(a,k.slice.call(arguments,3)));}};d.eUa=function(){for(var a=["info","warn","trace","error"],b={},c=a.length;c--;)b[a[c]]=!0;return b;};d.ld=d.ld||function(a){return parseInt(a,10);};d.kAb=function(a){return/^true$/i.test(a);};d.lva=function(a,b){return k.Gf(a+k.mE()*(b-a));};d.LT=function(a){return JSON.stringify(a,null,"  ");};d.L3=function(){var c,d;function a(a){b.na(void 0!==c[a]);return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(b){return b.replace(d,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();d.aab=function(a){return Array.isArray(a)?a:[a];};d.Bc=d.Bc||function(a){var b,c,g;if(a){b=a.stack;c=a.number;g=a.message;g||(g=""+a);b?(a=""+b,0!=a.indexOf(g)&&(a=g+"\n"+a)):a=g;c&&(a+="\nnumber:"+c);return a;}};d.Fk=function(a){return h.fa(a)?a.toFixed(0):"";};d.uE=function(a){return h.fa(a)?(a/1E3).toFixed(0):"";};d.BHa=function(a){return h.fa(a)?a.toFixed():"";};d.EXa=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b;};},function(f,d,a){var c,k;function b(a,g){var n;n=d.Yp[0];n==g&&(n=d.Yp[1]);n?n.close(function(){b(a,g);}):a&&a(c.Nb);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(17);k=a(11);a=a(22);d.oea=b;d.XW=function(a,b){switch(a){case d.UW:d.pea.push(b);return;case d.kea:d.qea.push(b);return;}k.na(!1);};d.Yp=[];d.pea=[];d.qea=[];d.UW=1;d.kea=3;f=f.tla();d.Ev={VW:f,$Ja:f,UJa:0,ZJa:void 0,aM:void 0};d.wea=a.ya.iya;d.hg=a.ya.iG;d.ZL=a.ya.AVa;d.ZW=a.ya.J7;d.YW=a.ya.KS;d.Fm=a.ya.yC;d.nea=a.ya.NUa;d.WW=a.ya.Cra;d.$L=a.ya.closed;d.VJa=a.ya.K_a;d.fKa=a.ya.Ny;d.uea=a.ya.Mjb;d.gKa=a.ya.xK;d.Rsb=a.ya.uD;d.XJa=a.ya.S9a;d.eKa=a.ya.Uxa;d.sea=a.ya.mI;d.tea=a.ya.Pib;d.rea=a.ya.KH;d.xea=a.ya.Llb;d.mea=a.ya.jUa;d.lea=a.ya.iUa;d.cKa=a.ya.q8;d.dKa=a.ya.oib;d.bKa=a.ya.mib;d.aKa=a.ya.lib;d.YJa=a.ya.n5;d.vea=a.ya.Nn;d.hW=a.iW.hla;d.vrb=a.iW.$lb;d.kW=a.IL.Jo;d.jea="network";d.iea="media";d.SJa="timedtext";d.yz=a.fh.oLa;d.Gk=a.fh.cfa;d.Em=a.fh.aq;d.xz=a.fh.iX;d.CE=a.fh.hX;d.Ck=a.XK.mda;d.ss=a.XK.rs;d.T$=a.XK.mLa;d.ki=a.Gm.PE;d.bo=a.Gm.Ye;d.Zp=a.Gm.Yn;d.Gv=a.Gm.fV;d.TJa="playback";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.ve="IsTypeSymbol";},function(f,d){function a(){}function b(){}function c(){}function k(){}function h(){}function g(){}function n(){}function p(){}function r(){}Object.defineProperty(d,"__esModule",{value:!0});r.w$a="loadedtracks";r.v$a="loadedmetadata";r.loaded="loaded";r.error="error";r.closed="closed";r.Jo="currenttimechanged";r.Jka="bufferedtimechanged";r.m1a="durationchanged";r.Jnb="videosizechanged";r.feb="pausedchanged";r.Oeb="playingchanged";r.o2a="endedchanged";r.J_="busychanged";r.mka="audiotracklistchanged";r.lka="audiotrackchanged";r.Ny="timedtexttracklistchanged";r.qD="timedtexttrackchanged";r.uD="trickplayframeschanged";r.Lbb="mutedchanged";r.Nnb="volumechanged";r.Pjb="showsubtitle";r.Zgb="removesubtitle";r.Snb="watermark";r.j4="isReadyToTransition";r.KH="inactivated";r.pib="segmentmaploaded";r.qib="segmentpresenting";r.PUa="autoplaywasallowed";r.QUa="autoplaywasblocked";d.ub=r;p.$wa="serverTimeChanged";d.lca=p;n.iya=1;n.iG=2;n.AVa=3;n.J7=4;n.KS=5;n.yC=6;n.NUa=7;n.Cra=8;n.closed=9;n.K_a=10;n.Ny=11;n.Mjb=12;n.xK=13;n.uD=14;n.S9a=15;n.Uxa=16;n.mI=17;n.Pib=18;n.KH=19;n.Llb=20;n.jUa=21;n.NG=22;n.q8=23;n.g_=24;n.oib=25;n.mib=26;n.lib=27;n.n5=28;n.Nn=29;n.qka=35;n.Ew=36;n.iUa=37;n.qnb=38;n.oza=39;n.f6=40;n.Dp=41;n.dVa=42;d.ya=n;g.hla=30;g.$lb=31;d.iW=g;h.OR=51;h.paused=52;h.Jo=53;h.RC=54;d.IL=h;k.oLa=0;k.cfa=1;k.aq=2;k.iX=3;k.hX=4;d.fh=k;c.mda=1;c.rs=2;c.mLa=3;d.XK=c;b.PE=1;b.Ye=2;b.Yn=3;b.fV=4;d.Gm=b;a.EE=1;a.dX=2;a.eX=3;a.cM=4;d.Vi=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.He="UtilitiesSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.gf="ApplicationSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ef="ConfigSymbol";},function(f,d,a){f.K={fEa:a(605),Fa:a(31).Fa,Uq:a(31).Uq,pI:a(31).pI,p8:a(31).p8,WHa:a(604),Hsb:a(191),PKa:a(603),UMa:a(602)};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.HU="ConfigurableInputsSymbol";d.ni="ValidatingConfigurableInputsSymbol";d.bz="ConfigNameSymbol";d.GL="InitParamsSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.cb=function(a){return H.setTimeout(a,0);};},function(f,d,a){var r,u,v,A,D,x,w,z,y,F,l,S,m,P,q;function b(a){var b,c,g,d;b=a.url.split("?");c=b[0];g="sc="+a.Zhb;d=a.Qka?"random="+(1E17*S.mE()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+g):c+("?"+g);c=c+(d?"&"+d:"");a.zb&&!D.p4(c)&&(a=v.config&&v.config.U_)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function c(a){var b,c,g,d;b=a.url.split("?");c=b[0];g="bb_reason="+a.reason;d=a.Qka?"random="+(1E17*S.mE()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+g):c+("?"+g);c=c+(d?"&"+d:"");a.zb&&!D.p4(c)&&(a=v.config&&v.config.U_)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function k(a,b){var c,g,d,p;c=a.url.split("?");g=c[0];d=h(a);d&&(b.Pr=d,g="/"==g[g.length-1]?g+"range/":g+"/range/",g+=d);d=a.Qka?"random="+(1E17*S.mE()).toFixed(0):"";v.config.Lo&&a.sT&&(p="sc="+a.sT,d=p+(d?"&"+d:""));g=c[1]?g+("?"+c[1]+(d?"&"+d:"")):g+(d?"?"+d:"");a.zb&&!D.p4(g)&&(a=v.config&&v.config.U_)&&(g=a.replace("{URL}",g).replace("{EURL}",encodeURIComponent(g)));b.url=g;}function h(a){var b;b=a.offset;if(void 0!==b)return F.YO(b),void 0!==a.length?(a=a.offset+a.length-1,F.YO(a),F.na(b<=a),b+"-"+a):b+"-";}function g(){return!1!==S.ii.onLine;}function n(a,b,c,g){var p,n;p=g.Pua;n=g.headers;a.open(p?"POST":"GET",b,!c);switch(g.responseType){case d.BB:a.responseType="arraybuffer";break;case d.hqa:l.hWa(a,"overrideMimeType",void 0,"text/xml");}p&&(b={"Content-Type":w.Gd(p)?"text/plain":"application/x-octet-stream"},n=n?w.Aa(b,n):b);n&&w.xc(n,function(b,c){a.setRequestHeader(b,c);});g.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");p?a.send(p):a.send();}function p(a,b){switch(b.type){case d.BB:return a.response||new ArrayBuffer(0);case d.hqa:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});r=a(18);u=a(55);v=a(5);A=a(6);D=a(33);x=a(17);w=a(16);z=a(2);y=a(3);F=a(11);l=a(19);S=a(7);m=a(28);P=a(14);d.bc=function(){var D,l,K,S;function a(a){var b;try{b=a.url;P.era(b)?0===b.indexOf("https")?S.ssl++:0===b.indexOf("http")?S["non-ssl"]++:S.invalid++:S.invalid++;}catch(ba){}}function h(){l.Cc(d.n8a);l.Cc(d.iqa);}function f(){l.Cc(d.N3);l.Cc(d.iqa);}D=y.Tc("Http");l=new u.Si();K=0;S={ssl:0,"non-ssl":0,invalid:0};r.Fe(z.I.cca,function(a){v.config.jnb&&(H.addEventListener("online",h),H.addEventListener("offline",f),d.M3=g);a(A.Nb);});return{addEventListener:l.addListener,removeEventListener:l.removeListener,download:function(b,c){var da,Y,R,G,Q,fa,Z,aa,O,t,pa;function g(){var a;g=w.Rb;pa&&(clearTimeout(pa),pa=null);l.removeListener(d.N3,u);O&&(O.onloadstart=null,O.onreadystatechange=null,O.onprogress=null,O.onerror=null,O.onload=null,O=O.onabort=null);aa.P||(aa.T!=z.G.zs?da.warn("Download failed",Y,z.Am(aa)):da.trace("Download aborted",Y));a=R;R=void 0;for(var b=a.length;b--;)(function(){var c;c=a[b];m.cb(function(){c(aa);});}());l.Cc(d.l8a,aa,!0);}function h(){pa&&(clearTimeout(pa),pa=null);pa=setTimeout(A,t?Z:fa);}function r(a,b,c,d){var p;aa.P=!1;aa.T=a;p=x.bb();aa.Vf.Bf=aa.Vf.Bf||p;aa.Vf.mk=aa.Vf.mk||p;0<b&&(aa.rh=aa.Ab=b);c&&(aa.Ea=c);d&&(aa.nk=d);a!==z.G.XD&&a!==z.G.tv&&a!==z.G.ZD||!O||(O.onabort=null,S());g();}function f(a){var b,c;try{c=a.getResponseHeader("X-Netflix.Retry.Server.Policy");c&&(b=JSON.parse(c));}catch(nb){}return b;}function u(){d.M3()||r(z.G.XD);}function A(){r(t?z.G.tv:z.G.ZD);}function S(){try{O&&O.abort();}catch(fb){}}function ha(){r(z.G.zs);}F.na(c);da=b.j&&b.j.log&&y.bf(b.j,"Http")||D;Y={Num:K++};R=[c];G={};fa=b.s0||v.config.s0;Z=b.i6||v.config.i6;a(b);aa=function(){var a,c,d;a=w.Rb;c=w.Rb;d=w.Rb;return{request:b,type:b.responseType,Vf:G,abort:S,timeout:A,zja:function(a){g!==w.Rb&&(F.na(R,"Callback should be added before download starts."),R&&R.unshift(a));},Pta:function(a){d(a);},Sta:function(b){a(b);},Wx:function(a){c(a);},cjb:function(a){d=a;},mjb:function(b){a=b;},ajb:function(a){c=a;}};}();m.cb(function(){var a,c;if(P.era(b.url))try{if(k(b,aa),Q=aa.url,F.BG(Q),Y.Url=Q,d.M3()){O=new XMLHttpRequest();a=v.config.mnb&&"undefined"!=typeof O.onloadstart;a&&(O.onloadstart=function(){var a;a=x.bb();G.requestTime=a;aa.Pta({mediaRequest:b,timestamp:a});});O.onreadystatechange=function(){if(2==O.readyState){t=!0;G.Bf=x.bb();O.onreadystatechange=null;h();for(var a=aa,c=O.getAllResponseHeaders().split("\n"),g=c.length,d,p,n={};g--;)if(d=c[g])p=d.indexOf(": "),1<=p&&p<d.length-1&&(n[d.substr(0,p)]=d.substr(p+2));a.headers=n;aa.Sta({timestamp:G.Bf,connect:!0,mediaRequest:b,start:G.requestTime,rt:[G.Bf-G.requestTime]});}};O.onprogress=function(a){t=!0;G.Vq=a.loaded;h();a={mediaRequest:b,bytes:a.loaded,tempstamp:x.bb(),bytesLoaded:a.loaded};aa.Sta(a);};O.onload=function(){var a;if(g!==w.Rb){F.na(void 0===G.mk);G.mk=x.bb();G.Bf=G.Bf||G.mk;if(200<=O.status&&299>=O.status)if(a=p(O,aa),b.u)try{aa.content=b.u(a,aa);aa.P=!0;aa.parsed=!0;aa.raw=a;}catch(nb){da.warn("Exception parsing response",nb,Y);r(z.G.MV,void 0,w.Bc(nb));}else aa.parsed=!1,aa.content=a,aa.P=!0;else O.status==q?r(z.G.fz,O.status):r(z.G.YD,O.status,O.response,f(O));g();}};O.onabort=ha;O.onerror=function(){var a,b;a=O.status;"undefined"!==typeof v.config.ooa&&(a=v.config.ooa);if(0<a)if(a==q)r(z.G.fz,a);else{try{b=O.responseText;}catch(db){}r(z.G.YD,a,b,f(O));}else r(z.G.gz);};c=x.bb();n(O,Q,!1,b);l.Cc(d.m8a,aa,!0);a||(G.requestTime=c,aa.Pta({mediaRequest:b,timestamp:c}));h();l.addListener(d.N3,u);}else m.cb(r.bind(void 0,z.G.XD));}catch(Va){da.error("Exception starting download",Va,Y);r(z.G.QV,void 0,w.Bc(Va));}else r(z.G.xba);});return aa;},jc:S,qcb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Rjb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},xfb:function(a){var b,c,g;b=new XMLHttpRequest();c=a.url;g=a.ufb;b.open("HEAD",c);b.timeout=Math.max(2*g.y$a,v.config.Y6);b.onreadystatechange=function(){2==b.readyState&&g&&g.Ki({url:c});};b.ontimeout=b.onerror=function(){g&&g.o6({url:c});};b.send();}};}();d.ryb=b;d.oyb=c;d.qyb=k;d.pyb=h;d.M3=A.NKa;d.syb=g;d.bub=n;d.aub=p;d.m8a=1;d.l8a=2;d.n8a=3;d.N3=4;d.iqa=5;d.gqa=1;d.hqa=2;d.BB=3;q=420;H._cad_global||(H._cad_global={});H._cad_global.http=d.bc;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Yfa=1]="Video";}(d.oE||(d.oE={})));(function(a){a[a.nv=0]="Default";a[a.zv=1]="Microsoft";}(d.hv||(d.hv={})));(function(a){a[a.nv=0]="Default";a[a.EU=1]="Cast";a[a.GU=2]="Chrome";a[a.zv=3]="Microsoft";a[a.mfa=4]="Safari";}(d.Xi||(d.Xi={})));(function(a){a[a.HE=0]="SD";a[a.sL=1]="HD";a[a.jM=2]="UHD";a[a.eg=3]="DV";a[a.Pp=4]="HDR10";a[a.Ls=5]="VP9";a[a.ah=6]="AV1";}(d.rd||(d.rd={})));(function(a){a[a.Vn=0]="Level_1_4";a[a.wv=1]="Level_2_2";}(d.dh||(d.dh={})));d.Ztb=function(){};(function(a){a[a.Isb=0]="Platform";a[a.upb=1]="CurrentTitle";}(d.LMa||(d.LMa={})));d.UU="DeviceCapabilitiesSymbol";d.Npb=function(){};},function(f,d,a){var u;function b(a,b){if(a.length==b.length){for(var c=a.length,d=0,p=g(a),n=g(b),h=0;h<c;h++)d+=a[h]*b[h];return(d-p*n/c)/c;}return!1;}function c(a){if(!Array.isArray(a))return!1;a=k(a);return Math.sqrt(a);}function k(a){var b;if(!Array.isArray(a))return!1;b=h(a);return g(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function h(a){return Array.isArray(a)?g(a)/a.length:!1;}function g(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function n(a,b,c){return Math.max(Math.min(a,c),b);}function p(a,b){return"number"===typeof a?a:b;}function r(a){return 1/(1+Math.exp(-a));}u=a(8);f.K={Fa:function(a,b,c){try{a.Fa(b,c);}catch(x){a.Zb("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",c);}},Uq:function(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;},fG:n,nla:function(a,b,c,g){return{min:n(p(a.min,b),c,g),max:n(p(a.max,b),c,g),Sq:n(a.Sq||6E4,0,6E5),ela:n(a.ela||0,-3E5,3E5),scale:n(a.scale||6E4,0,3E5),Bwa:n(a.Bwa||0,-3E5,3E5),gamma:n(a.gamma||1,.1,10)};},xc:function(a,b){void 0!==a&&u.Bdb(a).forEach(function(a){b(a[0],a[1]);});},Kna:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(r(6*(b-(a.Sq+(a.ela||0)*(1-c)))/(a.scale+(a.Bwa||0)*(1-c))),a.gamma));},z2a:function(a,b){return a.min+(a.max-a.min)*Math.pow(r(6*(b-a.Sq)/a.scale),a.gamma);},Q6a:g,t4a:h,h7a:k,J6a:c,Gxb:b,Fxb:function(a,g){var d;if(a.length==g.length){d=b(a,g);a=c(a);g=c(g);return d/(a*g);}return!1;},pI:function(a,b,c){return b.OZa?b.OZa(c):new a.Console("ASEJS","media|asejs",c);},p8:function(a){return a.length?"{"+a+"} ":"";},Awa:function(a,b,c){return{min:a.min*c+(1-c)*b.min,max:a.max*c+(1-c)*b.max,Sq:a.Sq*c+(1-c)*b.Sq,scale:a.scale*c+(1-c)*b.scale,gamma:a.gamma*c+(1-c)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},Tjb:r};},function(f,d,a){f.K={EventEmitter:a(608),RD:a(607)};},function(f,d,a){var r,u,v,A,D,x,w;function b(){var a,b;if(a=d.d3.Hia)return a;a=x.ML.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=c(a);return d.d3.Hia=a;}function c(a){for(var b=/[+]/g,c=(a||"").split("&"),g={},d,p=0;p<c.length;p++)a=A.trim(c[p]),d=a.indexOf("="),0<=d?g[decodeURIComponent(a.substr(0,d).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(d+1).replace(b,"%20")):g[a.toLowerCase()]=null;return g;}function k(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function h(a){return k(a.constructor);}function g(a){return x.sort.call(a,function(a,b){return a-b;});}function n(a){for(var b=0,c=a.length;c--;)b+=a[c];return b;}function p(){return w.Bb(x.ii.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});r=a(6);u=a(11);v=a(3);A=a(19);D=a(16);x=a(7);w=a(14);d.Cla=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;return!0;};d.Mt=d.Mt||function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.UAb=function(a){var b;if(a){b=a.length;if(b)return b=A.lva(0,b-1),a[b];}};d.vXa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};d.yTa=function(a,b){function c(){a.removeEventListener("loadedmetadata",c);b.apply(this,arguments);}a.addEventListener("loadedmetadata",c);};d.agb=function(){var a,b,c,g,d,p;a=x.qd.cookie.split("; ");b=a.length;p={};for(c=0;c<b;c++)if(g=A.trim(a[c]))d=g.indexOf("="),0<d&&(p[g.substr(0,d)]=g.substr(d+1));return p;};d.Yxb=b;d.d3=Object.assign(b,{Hia:void 0});d.dS=c;d.TI=function(a){var b;b="";D.xc(a,function(a,c){b&&(b+="&");u.na(D.Gd(c)||w.fa(c)||w.Mqa(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};d.getFunctionName=k;d.Moa=h;d.Eta=function(a){var b;b="";w.isArray(a)||w.dra(a)?b=x.reduce.call(a,function(a,b){return a+(32<=b&&128>b?x.RLa(b):".");},""):D.Gd(a)?b=a:D.xc(a,function(a,c){b+=(b?", ":"")+"{"+a+": "+(w.Bb(c)?k(c)||"function":c)+"}";});return"["+h(a)+" "+b+"]";};d.IAb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};d.pG=d.pG||function(a){var b;b="";D.xc(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.Eyb=function(a,b){var c;c=a[0];if(b<=c[0])return c.slice(1);for(var g=1,d;d=a[g++];){if(b<=d[0]){a=(b-c[0])/(d[0]-c[0]);b=[];for(g=1;g<c.length;g++)b.push((c[g]||0)+a*((d[g]||0)-(c[g]||0)));return b;}c=d;}return c.slice(1);};d.tob=function(a,b){var d;for(var c={},g=0;g<b.length;g++){d=b[g];if("string"!=typeof d&&"number"!=typeof d)return!1;c[b[g]]=1;}for(g=0;g<a.length;g++)if(d=a[g],!c[d])return!1;return!0;};d.iAa=function(a,b){0>a.indexOf(b)&&a.push(b);};d.sU=g;d.vob=n;d.w$=function(a,b){var c,g,d,p;c=-1;g=a.length;if(1===arguments.length){for(;++c<g&&!(null!=(d=a[c])&&d<=d);)d=void 0;for(;++c<g;)null!=(p=a[c])&&p>d&&(d=p);}else{for(;++c<g&&!(null!=(d=b.call(a,a[c],c))&&d<=d);)d=void 0;for(;++c<g;)null!=(p=b.call(a,a[c],c))&&p>d&&(d=p);}return d;};d.uob=function(a,b){var c,g,d,p;c=-1;g=a.length;if(1===arguments.length){for(;++c<g&&!(null!=(d=a[c])&&d<=d);)d=void 0;for(;++c<g;)null!=(p=a[c])&&d>p&&(d=p);}else{for(;++c<g&&!(null!=(d=b.call(a,a[c],c))&&d<=d);)d=void 0;for(;++c<g;)null!=(p=b.call(a,a[c],c))&&d>p&&(d=p);}return d;};d.sdb=function(a){return w.Bb(a.then)?a:new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};d.lxb=function(a,b){var d,p,n,h,k,r;function c(a){0>d.indexOf(a)&&w.fa(a)&&d.push(a);}a=a.slice();g(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];p=b.length;try{for(;p--;){k=""+b[p];r=D.ld(k);switch(k[k.length-1]){case"-":for(n=a.length;n--;)if(h=a[n],h<r){c(h);break;}break;case"+":for(n=0;n<a.length;n++)if(h=a[n],h>r){c(h);break;}break;default:0<=a.indexOf(r)&&c(r);}}}catch(fa){}d.length||d.push(a[0]);g(d);return d;};d.SP=d.SP||function(a,b,c){var g;a/b>c?(g=x.Gf(b*c),a=b):(g=a,a=x.Gf(a/c));return{width:g,height:a};};d.Fvb=function(a,b,c){for(var g=[],d=0;d<b;d++)g.push(x.Uca(a[d]-c,2));return x.NGa(n(g)/g.length);};d.It=function(a,b){var c;c=a.length;b=(c-1)*b+1;if(1===b)return a[0];if(b==c)return a[c-1];c=x.Sp(b);return a[c-1]+(b-c)*(a[c]-a[c-1]);};d.nxb=function(a,b){if(!w.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=w.isArray(b)?b:[b];for(var c=a.length,g=0;g<c;g++)for(var d=0;d<b.length;d++)if(a[g].type==b[d])return a[g];throw Error("Box not found "+b);};d.Xob=function(a){return a.jr("trak/mdia/minf/stbl/stsd/"+r.RAa+"|"+r.SAa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.a2.schm.Xhb;})[0].jr("schi/tenc").cI;};d.Wob=function(a){var c;function b(a,b){var g;g=c[a];c[a]=c[b];c[b]=g;}c=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return c;};d.i9a=p;d.WQ=function(a){return p()||a.gK;};d.AAb=function(a){return function(b){return b&&b[a];};};w.Bb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var c,g;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);c=new ArrayBuffer(b-a);g=new Uint8Array(c);a=new Uint8Array(this,a,b-a);g.set(a);return c;});d.p4=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.l5a=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.oQ=function(){var a,b,c;try{a=/playercore.*js/;b=x.Cm.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){c=x.Gf(b[0].duration);return JSON.stringify(c);}}catch(K){}};d.DAb=function(a,b,c){if(a&&a.length)if(c&&c.LWa)try{a.forEach(function(a,g){var d;d=(g=c.LWa[g])&&g.media;d&&D.Gd(d)?(d=v.Tm(d).buffer,a.media={arrayBuffer:d,length:d.byteLength,stream:b,zb:g.cdn}):v.log.warn("chunk not in cache",a.ug);});}catch(K){v.log.error("error reading cached chunks",K);}else v.log.warn("chunks not available in cached stream",c.type);else v.log.warn("chunks not available in mediabuffer",c.type);};},function(f,d,a){var k;function b(a){return k.kM.apply(this,arguments)||this;}function c(a){return new k.Tp(a,d.Zy);}Object.defineProperty(d,"__esModule",{value:!0});k=a(457);ja(b,k.kM);d.gpb=b;d.tO=c;d.$=function(a){return new k.Tp(a,d.Dk);};d.Zyb=function(a){return new k.Tp(a,d.sca);};d.vzb=function(a){return new k.Tp(a,d.YGa);};d.Zy=new b(1,"b");d.Dk=new b(8*d.Zy.zg,"B",d.Zy);d.sca=new b(1024*d.Dk.zg,"KB",d.Zy);d.YGa=new b(1024*d.sca.zg,"MB",d.Zy);d.Eg=c(0);},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fs="named";d.KL="name";d.ME="unmanaged";d.xda="optional";d.aE="inject";d.yv="multi_inject";d.xfa="inversify:tagged";d.yfa="inversify:tagged_props";d.EW="inversify:paramtypes";d.qCa="design:paramtypes";d.yE="post_construct";},function(f,d,a){var h,g;function b(a){return a&&a.ee&&a.inRange&&!a.Tg&&!1!==a.$k;}function c(a,b,c){return!h.fa(a)||a<b?b:a>c?c:a;}function k(a){if(!(this instanceof k))return new k(a);this.fd=h.fa(a)?a:void 0;}h=a(8);g=new(a(9)).Console("ASEJS_STREAM_SELECTOR","media|asejs");f.K={console:g,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",g.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},qx:b,Z1:function(a,b,g){var p,n,k,r;function d(b){var c;c=a[b];if(!c.ee||!c.inRange||c.Tg||g&&!g(c,b))return!1;r=b;return!0;}p=a.length;n=0;k=p;h.isArray(b)&&(n=c(b[0],0,p),k=c(b[1],0,p),b=b[2]);b=c(b,n-1,k);for(p=b-1;p>=n;--p)if(d(p))return r;for(p=b+1;p<k;++p)if(d(p))return r;return-1;},Cbb:function(a,b){return Math.floor(a/(125*b)*1E3);},KVa:function(a,b){return Math.ceil(a/1E3*b*125);},loa:function(a,b,c){var g;g=a.length-1;for(b=c?b.bind(c):b;0<=g;--g)b(a[g],g,a);},Nyb:function(a,c){return!a.slice(c+1).some(b);},Hm:k,bUa:function(a,b){var c;return a.some(function(a,g,d){c=a;return b(a,g,d);})?c:void 0;},b_:function(a,b){var c;return a.some(function(a,g,d){c=g;return b(a,g,d);})?c:-1;},fG:c};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});a(1).__exportStar(a(727),d);f=a(7);b=a(726);c=a(30);d.HW={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,enableCongestionService:!1,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Xi.GU};a:{try{k=f.ii.buildID;break a;}catch(h){}k=void 0;}d.Zn={ffbldid:k};d.Gda=function(){return{se:function(b,c,d,p){return new(a(725))(b,c,d,p);},request:a(724)};};b.Zja(d.HW,{useSetServerCertificateApi:!0});b.Zja(d.HW,{useTypescriptEme:!0});d.Fda="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";},function(f,d,a){var h,g,n;function b(a){return function(b,c){return b.s7(c,a);};}function c(a,b){return a.BS.Sfb[b]||k(a,b);}function k(a,b){a=a.qr.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});h=a(34);g=a(4);n=a(134);d.config=function(a,b){return function(g,d,p){var h,r;h=void 0!==b?b:d;r=p.get;void 0!==r&&(p.get=function(){var b;if(!this.k9a(d))return this.w6a(d);a:{b=(this.OTa?c:k)(this,h.toString());if(void 0!==b)if(b=a(this.SI,b),b instanceof n.wl)this.poa(h,b);else break a;b=r.bind(this)();}this.Dhb(d,b);return b;});return p;};};d.Z3=function(a,b){return a.rva(b);};d.xe=function(a,b){return a.q7(b);};d.fv=function(a,b){return a.Ba(b);};d.string=function(a,b){return a.s7(b);};d.c9=function(a,b){return a.pe(b,d.string);};d.Fyb=function(a,b){return a.pe(b,d.Z3);};d.Mya=function(a,b){return a.pe(b,d.fv);};d.rj=function(a,b){a=a.Ba(b);return a instanceof n.wl?a:g.Pb(a);};d.$=function(a,b){a=a.Ba(b);return a instanceof n.wl?a:h.$(a);};d.url=b(/^\S+$/);d.Vwb=function(a){return function(b,c){return b.pva(c,a);};};d.object=function(){return function(a,b){return a.sva(b);};};d.Hva=b;d.yo=function(a,b){return function(c,g){return c.pe(g,a,b);};};},function(f,d,a){var k,h,g,n;function b(a,b){var c;c=n.call(this,a,b)||this;c.Mla=b;c.debug=a.debug;c.ba=a.Uf.Fb(c.Mla);return c;}function c(a,b){this.Mla=b;this.g7={};this.qr=a.qr;this.SI=a.SI;this.BS=a.BS;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(965);h=a(0);g=a(134);d.WLa="isTestAccount";c.prototype.poa=function(){};c.prototype.Dhb=function(a,b){this.g7[a]=[b,this.qr.mwa];};c.prototype.k9a=function(a){return k.Ada.of(this.g7[a]).map(function(a){return a[1];}).bua(-1)<this.qr.mwa;};c.prototype.w6a=function(a){return k.Ada.of(this.g7[a]).map(function(a){return a[0];}).bua(function(){throw Error("Invalid State Error");});};oa.Object.defineProperties(c.prototype,{OTa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.qr&&this.qr.data){a=this.qr.data[d.WLa];"undefined"!==typeof a&&(b=a.toString());a=this.SI.q7(b);a=a instanceof g.wl?!1:a;}else a=!1;return a;}}});n=c;n=f.__decorate([h.O(),f.__param(0,h.Ag()),f.__param(1,h.Ag())],n);d.UK=n;ja(b,n);b.prototype.poa=function(a,b){this.ba.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=b;a=f.__decorate([f.__param(0,h.Ag()),f.__param(1,h.Ag())],a);d.Pd=a;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.Mp=!1;f=function(){function a(a,b,c,d){this.u=a;this.type=b;this.startOffset=c;this.length=d;this.level=0;this.Tb={};a&&(this.level=a.level);this.sC=d;}a.prototype.re=function(){var a,b,c;this.version=this.u.Jc();a=this.u.Jc();b=this.u.Jc();c=this.u.Jc();this.de=a<<16|b<<8|c;};a.prototype.dH=function(a){var c;function b(b){b&&b.dH&&(b=b.dH(a),b.length&&(c=c.concat(b)));}c=[];this.type===a&&c.push(this);if(this.Tb)for(var d in this.Tb)this.Tb[d].forEach(b);return c;};a.prototype.eH=function(a){return this.dH(a)[0];};a.prototype.parse=function(){return!0;};a.prototype.jH=function(a){this.u.Fa(a.type,a);};a.prototype.w8a=function(){};a.prototype.Pn=function(a){return void 0!==this.Tb[a]&&1===this.Tb[a].length?this.Tb[a][0]:void 0;};a.prototype.aj=function(a,c){c=void 0===c?this.u.offset:c;b(c>=this.startOffset+8&&c+a<=this.startOffset+this.sC,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.sC).toString(16)+")");d.Mp&&this.u.yb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length-a));this.length-=a;this.u.Pk(this.length,!1,this.startOffset);this.u.aj(a,c);};a.prototype.vva=function(a,b,c){if(1<c){for(var g=[];0<c--;)g.push(this.Kia(a,b));return g;}return this.Kia(a,b);};a.prototype.Qr=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var g,d;if("offset"===a.type){c.u.yb("Adding offset:"+a.offset);g=a.offset;if(0<g%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.u.offset+=g/8;}else for(g in a){d=a[g];b[g]="string"===typeof d?c.vva(d):c.vva(d.type,d.length,d.cUa);}});return b;};a.prototype.Yq=function(a,b){var c,d;c=this.u.offset;d=this.length-(c-this.startOffset);0<d&&(b=this.u.K0(this,c,d,b),b.lo=void 0,b.addEventListener("error",this.jH.bind(this)),b.addEventListener("drmheader",this.jH.bind(this)),b.addEventListener("nflxheader",this.jH.bind(this)),b.addEventListener("keyid",this.jH.bind(this)),b.addEventListener("requestdata",this.w8a.bind(this)),b.addEventListener("sampledescriptions",this.jH.bind(this)),this.Tb=b.Tb,b.parse(a));return!0;};a.prototype.dA=function(a,c,g){g=void 0===g?this.u.offset:g;b(g>=this.startOffset+8&&g+a<=this.startOffset+this.sC,"Removal range [0x"+g.toString(16)+"-0x"+(g+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.sC).toString(16)+")");d.Mp&&this.u.yb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length+(c?c.byteLength:0)-a));this.length+=(c?c.byteLength:0)-a;this.u.Pk(this.length,!1,this.startOffset);this.u.dA(a,c,g);};a.prototype.Kia=function(a,b){var c;c=this.length-this.u.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.u.Jc();break;case"int64":a=this.u.kh();break;case"int32":a=this.u.ab();break;case"int16":a=this.u.af();break;case"string":a=this.u.$fb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};return a;}();d["default"]=f;},function(f){f.K=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.li="SchedulerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ri="ClockSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.cga="WindowTimersSymbol";d.Bs="JSONSymbol";d.PL="NavigatorSymbol";d.WGa="MediaSourceSymbol";d.zca="LocationSymbol";d.Caa="DateSymbol";d.SW="PerformanceSymbol";},function(f,d,a){var b,c;b=a(105);c=a(152);f.K=function(a){return function g(d,p){switch(arguments.length){case 0:return g;case 1:return c(d)?g:b(function(b){return a(d,b);});default:return c(d)&&c(p)?g:c(d)?b(function(b){return a(b,p);}):c(p)?b(function(b){return a(d,b);}):a(d,p);}};};},function(f,d,a){var b,c,k,h,g,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(450);f=a(66);k=a(235);h=a(234);g=function(a){function c(b,c,d){var p;a.call(this);this.Jy=null;this.tf=this.xj=this.Iy=!1;switch(arguments.length){case 0:this.destination=k.empty;break;case 1:if(!b){this.destination=k.empty;break;}if("object"===typeof b){if(b instanceof g||"syncErrorThrowable"in b&&b[h.Ay]){p=b[h.Ay]();this.xj=p.xj;this.destination=p;p.add(this);}else this.xj=!0,this.destination=new n(this,b);break;}default:this.xj=!0,this.destination=new n(this,b,c,d);}}b(c,a);c.prototype[h.Ay]=function(){return this;};c.create=function(a,b,g){a=new c(a,b,g);a.xj=!1;return a;};c.prototype.next=function(a){this.tf||this.Ng(a);};c.prototype.error=function(a){this.tf||(this.tf=!0,this.Zb(a));};c.prototype.complete=function(){this.tf||(this.tf=!0,this.Kf());};c.prototype.unsubscribe=function(){this.closed||(this.tf=!0,a.prototype.unsubscribe.call(this));};c.prototype.Ng=function(a){this.destination.next(a);};c.prototype.Zb=function(a){this.destination.error(a);this.unsubscribe();};c.prototype.Kf=function(){this.destination.complete();this.unsubscribe();};c.prototype.xSa=function(){var a,b;a=this.Hl;b=this.ew;this.ew=this.Hl=null;this.unsubscribe();this.tf=this.closed=!1;this.Hl=a;this.ew=b;};return c;}(f.Ej);d.Hh=g;n=function(a){function g(b,g,d,p){var n;a.call(this);this.nF=b;b=this;c.Bb(g)?n=g:g&&(n=g.next,d=g.error,p=g.complete,g!==k.empty&&(b=Object.create(g),c.Bb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.KM=b;this.Ng=n;this.Zb=d;this.Kf=p;}b(g,a);g.prototype.next=function(a){var b;if(!this.tf&&this.Ng){b=this.nF;b.xj?this.AX(b,this.Ng,a)&&this.unsubscribe():this.BX(this.Ng,a);}};g.prototype.error=function(a){var b;if(!this.tf){b=this.nF;if(this.Zb)b.xj?this.AX(b,this.Zb,a):this.BX(this.Zb,a),this.unsubscribe();else if(b.xj)b.Jy=a,b.Iy=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};g.prototype.complete=function(){var a,b,c;a=this;if(!this.tf){b=this.nF;if(this.Kf){c=function(){return a.Kf.call(a.KM);};b.xj?this.AX(b,c):this.BX(c);}this.unsubscribe();}};g.prototype.BX=function(a,b){try{a.call(this.KM,b);}catch(A){throw this.unsubscribe(),A;}};g.prototype.AX=function(a,b,c){try{b.call(this.KM,c);}catch(D){return a.Jy=D,a.Iy=!0;}return!1;};g.prototype.yq=function(){var a;a=this.nF;this.nF=this.KM=null;a.unsubscribe();};return g;}(g);},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.ycb=function(a,b){return a-b;};d.MBb=function(a,b){return a.localeCompare(b);};d.gk=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.eo={Tra:"logblob",Ca:"manifest",Wd:"license",events:"events"};f=d.Hg||(d.Hg={});f[f.$D=20]="High";f[f.lW=10]="Medium";f[f.Ds=0]="Low";d.fX={Hg:"reqPriority",VKa:"reqAttempt",WKa:"reqName"};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bk="Base64EncoderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.xs||(d.xs={});f[f.Efa=0]="Test";f[f.kca=1]="Int";f[f.MLa=2]="Staging";f[f.EKa=3]="Prod";d.tl="GeneralConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.tfa="StorageValidatorSymbol";d.ql="AppStorageFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.WCa="Cannot apply @injectable decorator multiple times.";d.XCa="Metadata key was used more than once in a parameter:";d.tE="NULL argument";d.qca="Key Not Found";d.Hza="Ambiguous match found for serviceIdentifier:";d.aBa="Could not unbind serviceIdentifier:";d.vHa="No matching bindings found for serviceIdentifier:";d.uGa="Missing required @injectable annotation in:";d.vGa="Missing required @inject or @multiInject annotation in:";d.AMa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.dBa="Circular dependency found:";d.Urb="Sorry, this feature is not fully implemented yet.";d.kFa="Invalid binding type:";d.wHa="No snapshot available to restore.";d.nFa="Invalid return type in middleware. Middleware must return!";d.Rqb="Value provided to function binding must be a function!";d.pFa="The toSelf function can only be applied when a constructor is used as service identifier";d.lFa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.Iza=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.sBa="Invalid Container constructor argument. Container options must be an object.";d.qBa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.pBa="Invalid Container option. Auto bind injectable must be a boolean";d.rBa="Invalid Container option. Skip base check must be a boolean";d.FGa="Cannot apply @postConstruct decorator multiple times in the same class";d.oJa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.eBa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.lLa="Maximum call stack size exceeded";},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(55);b=a(28);c=a(7);d.Vd=new f.Si();d.ck=1;d.lx=2;d.t3=3;d.yH=4;d.s3=5;b.cb(function(){var b,g,n;function a(a,b){if(g)g.on(a,b);else H.addEventListener(a,b);}b=H.jQuery;g=b&&b(H);b=(b=H.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;n=c.qd.hidden;b?b(function(a){d.Vd.Cc(d.ck,a);}):a("beforeunload",function(a){d.Vd.Cc(d.ck,a);});a("keydown",function(a){d.Vd.Cc(d.lx,a);});a("resize",function(){d.Vd.Cc(d.t3);});c.qd.addEventListener("visibilitychange",function(){n!==c.qd.hidden&&(n=c.qd.hidden,d.Vd.Cc(d.yH));});});(function(){H.addEventListener("error",function(a){d.Vd.Cc(d.s3,a);return!0;});}());},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.xl="PboCommandContextSymbol";},function(f,d,a){var c,k,h;function b(){var a,b;a=this;this.Lm={};this.ZQa=k.Y.get(h.Iea);this.on=function(b,c,g){a.addListener(b,c,g);};this.addListener=function(b,c,g){a.Lm&&(a.Lm[b]=a.Lm[b]||a.ZQa()).add(c,g);};this.removeListener=function(b,c){a.Lm&&a.Lm[b]&&a.Lm[b].removeAll(c);};this.K2=function(b){return a.Lm&&a.Lm[b]?a.Lm[b].C3a():[];};b=this;this.Cc=function(a,g,d){var p;if(b.Lm){p=b.K2(a);for(a={Vh:0};a.Vh<p.length;a={Vh:a.Vh},a.Vh++)d?function(a){return function(){var b;b=p[a.Vh];c.cb(function(){b(g);});};}(a)():p[a.Vh].call(this,g);}};}Object.defineProperty(d,"__esModule",{value:!0});c=a(28);k=a(3);h=a(416);b.prototype.Ww=function(){this.Lm=void 0;};d.Si=b;},function(f,d,a){var g;function b(){}function c(){}function k(){}function h(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(106);(function(a){a[a.co=0]="STANDARD";a[a.vv=1]="LIMITED";a[a.Bsb=2]="PREVIEW";}(g||(g={})));h.$$="created";h.afa="started";h.kfa="succeeded";h.Bm="failed";h.$y="cancelled";h.$K="cancelled_on_create";h.ID="cancelled_on_start";h.ZK="cancelled_not_encrypted";d.Nd=h;k.Rtb="uirequest";k.Asb="prefetch_start";k.ysb="prefetch_complete";k.zsb="prefetch_delete";k.mIa="periodic_update";(function(a){a[a.Qda=0]="PRE_FETCH";a[a.Mea=1]="QC";a[a.co=2]="STANDARD";a[a.lfa=3]="SUPPLEMENTAL";a[a.UCa=4]="DOWNLOAD";}(f=d.Dm||(d.Dm={})));a={manifest:a.Od.hi.i$,ldl:a.Od.hi.Rp,getHeaders:a.Od.hi.UD,getMedia:a.Od.hi.MEDIA};c.Uza="asl_start";c.Rza="asl_comp";c.Sza="asl_exc";c.Tza="asl_fail";c.pLa="stf_creat";c.IEa="idb_open";c.FEa="idb_block";c.PEa="idb_upgr";c.OEa="idb_succ";c.GEa="idb_error";c.HEa="idb_invalid_state";c.KEa="idb_open_timeout";c.MEa="idb_open_wrkarnd";c.NEa="idb_storelen_exc";c.JEa="idb_open_exc";c.LEa="idb_timeout_invalid_storelen";c.zGa="msl_load_data";c.BGa="msl_load_no_data";c.AGa="msl_load_failed";d.Wi=c;b.KFa=g;b.Qla=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Nd=h;b.pJa=k;b.Dm=f;b.BXa=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.zE=a;b.Wi=c;d.Oc=b;},function(f,d,a){var c;function b(a,b,g,d,p,r,f,v,A,D,x){this.code=void 0===a?c.I.Ih:a;this.Gb=b;this.Dd=g;this.Sl=d;this.gp=p;this.message=r;this.SA=f;this.data=v;this.Sf=A;this.Ieb=D;this.alert=x;this.P=!1;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);b.Bc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.g1=function(a){this.SA=b.Bc(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Gb,extCode:this.Dd,edgeCode:this.Sl,mslCode:this.gp,message:this.message,details:this.SA,data:this.data,errorDisplayMessage:this.Sf,playbackServiceError:this.Ieb};};d.mc=b;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);a(15);c=a(13);k=a(65);h=a(60);f=a(87);g=a(119);n=a(185);p=a(574);a=a(295);r=function(a){function g(b,c){var g;g=a.call(this,b,c)||this;g.hh=c.index;g.gq=c.qf;g.Im=c.Vj;g.uZ=c.Hb?c.Hb:b.Hb;g.Gia=c.ny||0;g.Hha=!!c.$o;g.JPa=c.LI;g.cNa=c.Rg;g.Us=c.Cd;g.Vv=c.Rc;g.fja=c.bv;g.Td=void 0===c.lH||void 0===c.k2||c.lH===c.qf&&c.k2===c.Vj?g:new p.C$(g,{qf:c.lH,Vj:c.k2});g.ng=!1;return g;}b.__extends(g,a);g.prototype.oxa=function(a){this.Gia=a.wk(this.ga).Ld;};g.prototype.ksa=function(){this.Hha=!0;};g.prototype.OJ=function(a){this.fja=a;};g.prototype.fm=function(a,b){a?(this.Td===this&&(this.Td=new p.C$(this,this)),b?a.Kb<this.P3a&&(this.Im=this.lH+a.Mc*this.Ha.Ld,this.Vv=a,this.Us=!0):0<a.Mc&&(this.gq=this.lH+a.Mc*this.Ha.Ld,this.Vv=a,this.Us=!0)):this.Us=!0;};g.prototype.d1a=function(){var a;this.Us?(a=this.Vv,++a.Mc,a.Kb+=this.stream.Ha.Pe):a={Kb:this.l2+this.stream.Ha.Pe,Mc:1};this.fm(a,!1);};g.prototype.v3a=function(a){var c;if(!(a<this.S||a>=this.Z)&&this.Rg&&this.Rg.length){a=new h.Ge(a-this.S,1E3).Xw(this.stream.Ha);for(var b=this.Rg.length-1;0<=b;--b){c=this.Rg[b];if(c.Mc<=a)return c;}return{Mc:0,Kb:this.$l};}};g.prototype.u3a=function(a){var c;if(!(a<this.S||a>=this.Z)&&this.Rg&&this.Rg.length){a=new h.Ge(a-this.S,1E3).Xw(this.stream.Ha);for(var b=0;b<this.Rg.length;++b){c=this.Rg[b];if(c.Mc>=a)return c;}}};g.prototype.$na=function(a,b){var c,g;if(!(a<this.S||a>=this.Z)){c=this.Ha.Ld;g=this.Ha.ga;a=Math.min((b?Math.ceil:Math.floor)((h.Ge.Dbb(a,g)-this.qf+(g/1E3-1))/c),Math.floor(this.er/c)-1);return{Mc:a,Kb:h.Ge.wya(this.qf+a*c,g)};}};g.prototype.X1=function(a){return this.N===c.v.VIDEO?this.v3a(a):this.$na(a,!1);};g.prototype.s3a=function(a){return this.N===c.v.VIDEO?this.u3a(a):this.$na(a,!0);};g.prototype.MTa=function(a){this.qc+=a.$;this.Im=a.Vj;};g.prototype.toString=function(){return"["+this.Wa+", "+this.L+"kbit/s, "+("c:"+this.Qd+"-"+this.pf+",")+("p:"+this.Ka+"-"+this.dd+",d:"+this.duration+"]");};g.prototype.toJSON=function(){var a;a=n.SK.prototype.toJSON.call(this);k({index:this.index,S:this.S,Z:this.Z,Qd:this.Qd,pf:this.pf,$l:this.$l,fu:this.fu,Rc:this.Rc},a);return a;};return g;}(n.SK);d.qs=r;f.Uw(r.prototype,{Hyb:f.La({get:function(){return!0;}}),f4:f.La({get:function(){return!0;}}),index:f.La({get:function(){return this.hh;}}),Hb:f.La({get:function(){return this.uZ;}}),qf:f.La({get:function(){return this.gq;}}),Vj:f.La({get:function(){return this.Im;}}),ny:f.La({get:function(){return this.Gia;}}),$o:f.La({get:function(){return this.Hha;}}),LI:f.La({get:function(){return this.JPa;}}),Rg:f.La({get:function(){return this.cNa;}}),Cd:f.La({get:function(){return this.Us;}}),Rc:f.La({get:function(){return this.Vv;}}),bv:f.La({get:function(){return this.fja;}}),lH:f.La({get:function(){return this.Td.qf;}}),uxb:f.La({get:function(){return this.Td.er;}}),k2:f.La({get:function(){return this.Td.Vj;}}),yxb:f.La({get:function(){return this.Td.qS;}}),wxb:f.La({get:function(){return this.Td.pS;}}),vxb:f.La({get:function(){return this.Td.ina;}}),sxb:f.La({get:function(){return this.Td.xXa;}}),rxb:f.La({get:function(){return this.Td.wXa;}}),zxb:f.La({get:function(){return this.Td.K6;}}),xxb:f.La({get:function(){return this.Td.Iua;}}),$l:f.La({get:function(){return this.Td.Ka;}}),fu:f.La({get:function(){return this.Td.dd;}}),qoa:f.La({get:function(){return this.Td.duration;}}),l2:f.La({get:function(){return this.Td.Qd;}}),P3a:f.La({get:function(){return this.Td.pf;}})});g.yK(a.D$,r);},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.UX=function(a){b("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.Jga=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.lub=function(a,b){return Math.floor(1E3*a/b);};},function(f,d,a){var k;function b(a,b){var c,g,d;if("number"!==typeof a||"number"!==typeof b)a=!1;else if(a&&b){c=Math.abs(a);for(g=Math.abs(b);g;){d=g;g=c%g;c=d;}a=Math.abs(a*b/c);}else a=0;return a;}function c(){k(!1);}Object.defineProperty(d,"__esModule",{value:!0});k=a(15);f=a(87);a=function(){function a(a,b){"object"===typeof a?(this.hZ=a.Ld,this.pt=a.ga):(this.hZ=a,this.pt=b);}a.eAb=function(b){return new a(1,b);};a.s2=function(b){return new a(b,1E3);};a.wya=function(a,b){return Math.floor(1E3*a/b);};a.Dbb=function(a,b){return Math.floor(a*b/1E3);};a.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};a.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};a.prototype.wk=function(b){b/=this.ga;return new a(Math.floor(this.Ld*b),Math.floor(this.ga*b));};a.prototype.add=function(c){var g;if(this.ga===c.ga)return new a(this.Ld+c.Ld,this.ga);g=b(this.ga,c.ga);return this.wk(g).add(c.wk(g));};a.prototype.Kd=function(b){return this.add(new a(-b.Ld,b.ga));};a.prototype.MR=function(b){return new a(this.Ld*b,this.ga);};a.prototype.Xw=function(a){var c;if(this.ga===a.ga)return this.Ld/a.Ld;c=b(this.ga,a.ga);return this.wk(c).Xw(a.wk(c));};a.prototype.Z6a=function(a){return b(this.ga,a);};a.prototype.ogb=function(){return new a(this.ga,this.Ld);};a.prototype.compare=function(a,c){var g;if(this.ga===c.ga)return a(this.Ld,c.Ld);g=b(this.ga,c.ga);return a(this.wk(g).Ld,c.wk(g).Ld);};a.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};a.prototype.k6=function(a){return this.compare(function(a,b){return a!==b;},a);};a.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};a.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};a.prototype.wra=function(a){return this.compare(function(a,b){return a<=b;},a);};a.prototype.Hpa=function(a){return this.compare(function(a,b){return a>=b;},a);};a.prototype.toJSON=function(){return{ticks:this.Ld,timescale:this.ga};};a.prototype.toString=function(){return this.Ld+"/"+this.ga;};a.Eg=new a(0,1);a.Wta=new a(1,1E3);return a;}();d.Ge=a;f.Uw(a.prototype,{Ld:{get:function(){return this.hZ;},set:c},ga:{get:function(){return this.pt;},set:c},Pe:{get:function(){return 1E3*this.hZ/this.pt;},set:c}});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.aW="LogBatcherConfigSymbol";d.Cs="LogBatcherSymbol";d.Aca="LogBatcherProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dh={start:"start",stop:"stop",bI:"keepAlive",resume:"resume",pause:"pause",XG:"engage",splice:"splice"};d.jV="EventPboCommandFactorySymbol";d.qfa="StartEventPboCommandSymbol";d.rfa="StopEventPboCommandSymbol";d.rca="KeepAliveEventPboCommandSymbol";d.Sda="PauseEventPboCommandSymbol";d.Uea="ResumeEventPboCommandSymbol";d.ofa="SpliceEventPboCommandSymbol";d.eba="EngageEventPboCommandSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dj="PlayerErrorFactorySymbol";},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);f=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Fs?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=f;},function(f){f.K=function a(b,c){var k;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,c);Object.getOwnPropertyNames(b).forEach(function(a){k=Object.getOwnPropertyDescriptor(b,a);void 0!==k&&Object.defineProperty(c,a,k);});};},function(f,d,a){var c,k,h,g,n,p;function b(a){return a.reduce(function(a,b){return a.concat(b instanceof p.lM?b.ZG:b);},[]);}c=a(94);k=a(451);h=a(450);g=a(958);n=a(449);p=a(957);f=function(){function a(a){this.closed=!1;this.mA=this.ew=this.Hl=null;a&&(this.yq=a);}a.prototype.unsubscribe=function(){var a,d,r,f,x,w;a=!1;if(!this.closed){r=this.Hl;f=this.ew;x=this.yq;w=this.mA;this.closed=!0;this.mA=this.ew=this.Hl=null;for(var z=-1,y=f?f.length:0;r;)r.remove(this),r=++z<y&&f[z]||null;h.Bb(x)&&(r=g.Iya(x).call(this),r===n.bu&&(a=!0,d=d||(n.bu.e instanceof p.lM?b(n.bu.e.ZG):[n.bu.e])));if(c.isArray(w))for(z=-1,y=w.length;++z<y;)r=w[z],k.ne(r)&&(r=g.Iya(r.unsubscribe).call(r),r===n.bu&&(a=!0,d=d||[],r=n.bu.e,r instanceof p.lM?d=d.concat(b(r.ZG)):d.push(r)));if(a)throw new p.lM(d);}};a.prototype.add=function(b){var c;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!==typeof c.kga&&(b=c,c=new a(),c.mA=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.mA||(this.mA=[])).push(c);c.kga(this);return c;};a.prototype.remove=function(a){var b;b=this.mA;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.kga=function(a){var b,c;b=this.Hl;c=this.ew;b&&b!==a?c?-1===c.indexOf(a)&&c.push(a):this.ew=[a]:this.Hl=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.Ej=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.s$="AccountManagerSymbol";d.ns="AccountManagerProviderSymbol";},function(f,d){function a(){}function b(){}function c(){}Object.defineProperty(d,"__esModule",{value:!0});c.mV="playready-h264mpl30-dash";c.rL="playready-h264mpl31-dash";c.sba="playready-h264mpl40-dash";c.iEa="playready-h264hpl30-dash";c.jEa="playready-h264hpl31-dash";c.tqb="playready-h264hpl40-dash";c.EV="hevc-main-L30-dash-cenc";c.FV="hevc-main-L31-dash-cenc";c.GV="hevc-main-L40-dash-cenc";c.HV="hevc-main-L41-dash-cenc";c.IV="hevc-main-L50-dash-cenc";c.JV="hevc-main-L51-dash-cenc";c.wV="hevc-main10-L30-dash-cenc";c.yV="hevc-main10-L31-dash-cenc";c.AV="hevc-main10-L40-dash-cenc";c.CV="hevc-main10-L41-dash-cenc";c.VD="hevc-main10-L50-dash-cenc";c.WD="hevc-main10-L51-dash-cenc";c.xV="hevc-main10-L30-dash-cenc-prk";c.zV="hevc-main10-L31-dash-cenc-prk";c.BV="hevc-main10-L40-dash-cenc-prk";c.DV="hevc-main10-L41-dash-cenc-prk";c.Aqb="hevc-main-L30-L31-dash-cenc-tl";c.Bqb="hevc-main-L31-L40-dash-cenc-tl";c.Cqb="hevc-main-L40-L41-dash-cenc-tl";c.Dqb="hevc-main-L50-L51-dash-cenc-tl";c.wqb="hevc-main10-L30-L31-dash-cenc-tl";c.xqb="hevc-main10-L31-L40-dash-cenc-tl";c.yqb="hevc-main10-L40-L41-dash-cenc-tl";c.zqb="hevc-main10-L50-L51-dash-cenc-tl";c.MU="hevc-dv-main10-L30-dash-cenc";c.NU="hevc-dv-main10-L31-dash-cenc";c.OU="hevc-dv-main10-L40-dash-cenc";c.PU="hevc-dv-main10-L41-dash-cenc";c.QU="hevc-dv-main10-L50-dash-cenc";c.Baa="hevc-dv-main10-L51-dash-cenc";c.fL="hevc-dv5-main10-L30-dash-cenc-prk";c.gL="hevc-dv5-main10-L31-dash-cenc-prk";c.hL="hevc-dv5-main10-L40-dash-cenc-prk";c.iL="hevc-dv5-main10-L41-dash-cenc-prk";c.jL="hevc-dv5-main10-L50-dash-cenc-prk";c.RU="hevc-dv5-main10-L51-dash-cenc-prk";c.nV="hevc-hdr-main10-L30-dash-cenc";c.oV="hevc-hdr-main10-L31-dash-cenc";c.pV="hevc-hdr-main10-L40-dash-cenc";c.qV="hevc-hdr-main10-L41-dash-cenc";c.rV="hevc-hdr-main10-L50-dash-cenc";c.tV="hevc-hdr-main10-L51-dash-cenc";c.tL="hevc-hdr-main10-L30-dash-cenc-prk";c.uL="hevc-hdr-main10-L31-dash-cenc-prk";c.vL="hevc-hdr-main10-L40-dash-cenc-prk";c.wL="hevc-hdr-main10-L41-dash-cenc-prk";c.sV="hevc-hdr-main10-L50-dash-cenc-prk";c.uV="hevc-hdr-main10-L51-dash-cenc-prk";c.Xfa="vp9-profile0-L21-dash-cenc";c.nM="vp9-profile0-L30-dash-cenc";c.oM="vp9-profile0-L31-dash-cenc";c.pM="vp9-profile0-L40-dash-cenc";c.Sfa="vp9-profile2-L30-dash-cenc-prk";c.Tfa="vp9-profile2-L31-dash-cenc-prk";c.Ufa="vp9-profile2-L40-dash-cenc-prk";c.Vfa="vp9-profile2-L50-dash-cenc-prk";c.Wfa="vp9-profile2-L51-dash-cenc-prk";c.j$="av1-main-L20-dash-cbcs-prk";c.k$="av1-main-L21-dash-cbcs-prk";c.l$="av1-main-L30-dash-cbcs-prk";c.m$="av1-main-L31-dash-cbcs-prk";c.n$="av1-main-L40-dash-cbcs-prk";c.o$="av1-main-L41-dash-cbcs-prk";c.p$="av1-main-L50-dash-cbcs-prk";c.q$="av1-main-L51-dash-cbcs-prk";c.ZKa=[c.mV];c.oEa=[c.rL,c.sba];c.xMa=[c.EV,c.FV,c.GV,c.HV,c.IV,c.JV];c.zMa=[c.wV,c.yV,c.AV,c.CV,c.VD,c.WD];c.yMa=[c.xV,c.zV,c.BV,c.DV,c.VD,c.WD];c.nEa=[c.nV,c.oV,c.pV,c.qV,c.rV,c.tV];c.mEa=[c.tL,c.uL,c.vL,c.wL,c.sV,c.uV];c.ZCa=[c.MU,c.OU,c.QU,c.NU,c.PU,c.Baa];c.YCa=[c.fL,c.hL,c.jL,c.gL,c.iL,c.RU];c.Jpb=[c.MU,c.NU,c.OU,c.QU,c.PU];c.Ipb=[c.fL,c.gL,c.hL,c.jL,c.iL];c.Ytb=[c.nM,c.oM,c.pM];c.Ls=[c.Xfa,c.nM,c.oM,c.pM,c.Sfa,c.Tfa,c.Ufa,c.Vfa,c.Wfa];c.Yza=[c.j$,c.k$,c.l$];c.Xza=[c.m$,c.n$,c.o$];c.Zza=[c.p$,c.q$];c.ah=[].concat(c.Yza,c.Xza,c.Zza);c.hEa=c.ZKa.concat(c.oEa);c.lEa=c.xMa;c.kEa=c.zMa;c.bAa=[].concat(c.hEa,c.lEa,c.kEa,c.yMa,c.nEa,c.mEa,c.ZCa,c.YCa,c.Ls,c.ah);d.da=c;b.xL="heaac-2-dash";b.dL="ddplus-2.0-dash";b.IU="ddplus-5.1-dash";b.eL="ddplus-atmos-dash";b.vV="playready-heaac-2-dash";b.qEa="heaac-2-dash-enc";b.UBa="ddplus-2.0-dash-enc";b.VBa="ddplus-5.1-dash-enc";b.pEa="playready-heaac-2-dash-enc";b.bAa=[].concat(b.xL,b.dL,b.IU,b.eL,b.vV,b.qEa,b.UBa,b.VBa,b.pEa);d.Ak=b;a.iLa="simplesdh";a.LU="dfxp-ls-sdh";a.oz="nflx-cmisc";a.ptb="simplesdh-enc";a.Bpb="dfxp-ls-sdh-enc";a.LL="nflx-cmisc-enc";d.Fj=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.$n="PlatformSymbol";},function(f,d,a){var b,c;d=a(610);b=a(13);c=a(9);f.K={Ut:d,bab:function(b){c.JH(b);return a(609);},platform:c,Ul:b,get lR(){return a(312);},Fzb:function(){return a(186);}};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Np="DeviceFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hf={audio:"audio",video:"video",UT:"timedtext",H9:"trickplay"};},function(f,d,a){var b,c,k,h,g,n,p,r;b=a(75);c=a(440);k=a(439);h=a(451);g=a(10);n=a(162);p=a(940);r=a(233);d.$r=function(a,d,f,D){var u;u=new p.jca(a,f,D);if(u.closed)return null;if(d instanceof g.qa)if(d.nq)u.next(d.value),u.complete();else return u.xj=!0,d.subscribe(u);else if(c.Kqa(d)){a=0;for(f=d.length;a<f&&!u.closed;a++)u.next(d[a]);u.closed||u.complete();}else{if(k.Zqa(d))return d.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(d&&"function"===typeof d[n.iterator]){d=d[n.iterator]();do{a=d.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(d&&"function"===typeof d[r.observable])if(d=d[r.observable](),"function"!==typeof d.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new p.jca(a,f,D));else d="You provided "+(h.ne(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(d));}return null;};},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);c.prototype.Ux=function(a,b){this.destination.next(b);};c.prototype.m6=function(a){this.destination.error(a);};c.prototype.Ki=function(){this.destination.complete();};return c;}(a(46).Hh);d.Xp=f;},function(f,d,a){f=a(168);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;f="undefined"!==typeof H&&H||"undefined"!==typeof f&&f||a;d.root=f;if(!f)throw Error("RxJS could not find any global context (window, self, global)");},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.zm={Request:"Request",mX:"Singleton",iM:"Transient"};d.bh={kaa:"ConstantValue",laa:"Constructor",Saa:"DynamicValue",kV:"Factory",Function:"Function",XV:"Instance",EFa:"Invalid",Lea:"Provider"};d.fq={haa:"ClassProperty",maa:"ConstructorArgument",xX:"Variable"};},function(f,d,a){var b,c;d=a(300);b=a(186);c=a(296);a=a(60).Ge;f.K={qW:b.qW,pW:b.pW,qE:c.qE,xoa:b.xoa,Dtb:d.Tb.sidx,k5:c.k5,Ge:a};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.dna=0]="downloading";a[a.V0a=1]="downloaded";a[a.ng=2]="appended";a[a.buffered=3]="buffered";a[a.eBb=4]="removed";a[a.jCb=5]="unused";}(d.A$||(d.A$={})));(function(a){a[a.waiting=1]="waiting";a[a.cAb=2]="ondeck";a[a.dna=4]="downloading";a[a.V0a=8]="downloaded";a[a.QH=6]="inprogress";}(d.y$||(d.y$={})));d.wob="AseBufferViewSymbol";d.x$="AseBufferAccountingSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.xv="LoggerSinksSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oL="EventSourceSymbol";d.lV="GlobalEventSourceSymbol";d.SU="DebugEventSourceSymbol";},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(66);d.tFa=f.tFa;f=a(10);d.qa=f.qa;f=a(163);d.mi=f.mi;f=a(446);d.GE=f.GE;f=a(444);d.jaa=f.jaa;f=a(947);d.Ffa=f.Ffa;a(943);a(939);a(933);a(931);a(928);a(924);a(921);a(917);a(914);a(912);a(910);a(908);a(905);a(901);a(898);a(897);a(894);a(890);a(887);a(886);a(884);a(882);a(879);a(877);a(876);a(874);a(871);a(868);a(865);a(862);a(861);f=a(235);d.XHa=f.XHa;a=a(66);d.Ej=a.Ej;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.ps="ApiInfoSymbol";},function(f,d,a){var k,h;function b(a,b,c,d,h){var g,p,r;g={};p="number"===typeof h;h=void 0!==h&&p?h.toString():c;if(p&&void 0!==c)throw Error(k.lFa);Reflect.w3(a,b)&&(g=Reflect.getMetadata(a,b));c=g[h];if(Array.isArray(c))for(var p=0,n=c;p<n.length;p++){r=n[p];if(r.key===d.key)throw Error(k.XCa+" "+r.key.toString());}else c=[];c.push(d);g[h]=c;Reflect.d1(a,g,b);}function c(a,b){return function(c,g){b(c,g,a);};}Object.defineProperty(d,"__esModule",{value:!0});k=a(52);h=a(35);d.Ky=function(a,c,d,k){b(h.xfa,a,c,k,d);};d.mK=function(a,c,d){b(h.yfa,a.constructor,c,d);};d.Tt=function(a,b,d){"number"===typeof d?Reflect.Tt([c(d,a)],b):"string"===typeof d?Reflect.Tt([a],b,d):Reflect.Tt([a],b);};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(17);c=a(11);k=a(28);d.KE=function(a){var p,h,f;function g(b){f=null;d(b||a);}function d(a){var c,d;c=b.bb();if(h){d=a-(c-p);0>=d?(a=h,h=null,p=c,a()):f=f||setTimeout(g.bind(this,a),d);}}c.Sw(a);p=-a;this.kb=function(a){h=a;f=f||k.cb(g);};this.Ww=function(){f&&clearTimeout(f);f=null;};};d.sqb=function(a,c){var g,d;g=0;this.get=function(){var p;p=b.bb();if(!d||p-g>c)g=p,d=a();return d;};this.clear=function(){d=void 0;};};d.Kpb=function(a){var b;c.Sw(a);this.kb=function(c){b&&this.Ww();b=setTimeout(c,a);};this.Ww=function(){b&&clearTimeout(b);b=null;};};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(20);d.XGa=function(a){var h;function c(){}h=[];this.Xr=function(a){var g;for(var b=[],c=h.length;c--;){g=h[c];g.Xr(a)&&b.push(g.cH);}if(b.length)return b;};d.$ca.forEach(function(b){(b=b(a))&&h.push(b);});0<h.length&&a.addEventListener(b.Fm,c);};d.nE=function(a){d.$ca.push(a);};d.$ca=[];},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.Xn=d.Xn||function(a,b,d){return a>=b?a<=d?a:d:b;};d.hsb=function(a,b,d,g,n){return(a-b)*(n-g)/(d-b)+g;};d.Gg=function(a){if(b.fa(a))return(a/1E3).toFixed(3);};},function(f,d,a){var k;function b(){k(!1);}function c(a){a.set=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});k=a(15);d.Uw=function(a,b){Object.defineProperties(a,b);};d.Vzb=b;d.La=c;d.Ln=function(a){a.set=b;return a;};d.Kub=function(a){var b;b={};Object.getOwnPropertyNames(a).forEach(function(g){b[g]=c(a[g]);});return b;};},function(f,d,a){var c,k,h;function b(a,b,c,d,f){b=h.Rn.call(this,a,b,d,k.eo.events,f,k.eo.events+"/"+c)||this;b.context=a;b.A2a=c;return b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(48);h=a(123);ja(b,h.Rn);b.prototype.Di=function(a,b,c){var g;g=this;return this.send(a,b,c.href,this.zO(c)).then(function(){return c;})["catch"](function(a){throw g.gu(a);});};b.prototype.cu=function(a,b,c,d){var g;g=this;return this.send(a,b,c.S2("events").href,this.zO(d)).then(function(a){c.iO(a.result.links);return d;})["catch"](function(a){throw g.gu(a);});};b.prototype.zO=function(a){return{event:this.A2a,xid:a.ha,position:a.position||0,clientTime:a.hG,sessionStartTime:a.NJ,mediaId:a.Fx,trackId:a.ec,sessionId:a.sessionId,appId:a.KF,playTimes:this.HVa(a.iJ),sessionParams:a.Bh,mdxControllerEsn:a.C5};};b.prototype.H_=function(a){return{downloadableId:a.ad,duration:a.duration};};b.prototype.HVa=function(a){return{total:a.total,audio:a.audio.map(this.H_),video:a.video.map(this.H_),text:a.text.map(this.H_)};};a=b;a=f.__decorate([c.O(),f.__param(0,c.Ag()),f.__param(1,c.Ag()),f.__param(2,c.Ag()),f.__param(3,c.Ag()),f.__param(4,c.Ag())],a);d.Qi=a;},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,D,x;function b(a,b,d,f){var w,z;if(c.config.kza)return h.Y.get(g.mz).Pt(b,d,f,a);f=f||{};n.na(void 0===f.jssid&&void 0===f.client_utc&&void 0===f.type&&void 0===f.sev&&void 0===f.lver&&void 0===f.xid&&void 0===f.mid&&void 0===f.esn&&void 0===f.snum&&void 0===f.lnum);f.clver="6.0013.845.051";c.config&&c.config.Ai&&(c.config.Ai.os&&(f.osplatform=c.config.Ai.os.name,f.osver=c.config.Ai.os.version),f.browsername=c.config.Ai.name,f.browserver=c.config.Ai.version);h.Y.get(p.tl).aR&&(f.tester=!0);c.config.Uo&&(f.groupname=c.config.Uo);c.config.ks&&(f.uigroupname=c.config.ks);w=k.Lw();this.timestamp=h.Y.get(r.Ri).sg;z=h.Y.get(u.gf);d={type:b,sev:d,devmod:v.vaa};A.Aa(d,f);A.Aa(d,{jssid:k.lz,appId:z.id,appLogSeqNum:z.bpa(),jsoffms:k.bb(),client_utc:w,lver:v.lHa||"2012.2-CAD"});f=h.Y.get(D.wX);d.uniqueLogId=f.x2();f="startup"===b?"playbackxid":"xid";c.config.Qq&&(d.groupname=d.groupname?d.groupname+("|"+c.config.Qq):c.config.Qq);d.uigroupname&&(d.groupname=d.groupname?d.groupname+("|"+d.uigroupname):d.uigroupname);a&&(A.Aa(d,{soffms:a.uB(),mid:a.M,lvpi:a.nI,uiLabel:a.kc||""}),d[f]=a.ha,a.Su&&(f=a.Su,(a=a.Su.split("."))&&1<a.length&&"S"!==a[0][0]&&(f="SABTest"+a[0]+".Cell"+a[1]),d.groupname=d.groupname?d.groupname+("|"+f):f));this.data=d;this.type=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(5);k=a(17);h=a(3);g=a(104);n=a(11);p=a(50);r=a(43);u=a(24);v=a(37);A=a(19);D=a(206);x=a(150);d.qz=b;b.prototype.U4a=function(){this.Pga||(this.Pga=x.j5(this.data));return this.Pga;};},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.format=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.prototype.Lkb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.prototype.LT=function(a){return JSON.stringify(a,null,"  ");};c=b;c=f.__decorate([a.O()],c);d.Jv=c;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.co=0]="STANDARD";a[a.vv=1]="LIMITED";}(d.ul||(d.ul={})));d.Ara=function(a){return["STANDARD","LIMITED"][a];};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bv="MslSymbol";},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);c=a(229);k=a(132);h=a(111);a=function(a){function d(b,c){a.call(this);this.yo=b;(this.ja=c)||1!==b.length||(this.nq=!0,this.value=b[0]);}b(d,a);d.create=function(a,b){return new d(a,b);};d.of=function(){var g;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];h.px(b)?a.pop():b=null;g=a.length;return 1<g?new d(a,b):1===g?new c.kX(a[0],b):new k.QD(b);};d.cb=function(a){var b,c,d;b=a.yo;c=a.index;d=a.Te;c>=a.count?d.complete():(d.next(b[c]),d.closed||(a.index=c+1,this.kb(a)));};d.prototype.lf=function(a){var b,c,g;b=this.yo;c=b.length;g=this.ja;if(g)return g.kb(d.cb,0,{yo:b,index:0,count:c,Te:a});for(g=0;g<c&&!a.closed;g++)a.next(b[g]);a.complete();};return d;}(f.qa);d.gv=a;},function(f,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Maa="DrmServicesSymbol";d.ND="DrmServicesProviderSymbol";},function(f,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(6);k=a(5);f=a(2);h=a(11);g=a(3);n=a(363);p=a(37);r=a(7);b.Fe(f.I.TV,function(a){var f,u;h.na(k.config);h.na(r.Cv&&r.Cv.getDeviceId||r.vW||p.rba);f=g.Y.get(n.Haa);u=g.Tc("Device");b.kI("devs");f.create({deviceId:k.config.deviceId,w2:p.rba,gP:"deviceid",Tf:k.config.Tf,Xl:p.hf.gV,$hb:p.xaa,userAgent:r.Fh,R4:k.config.R4,u0a:p.hf.uaa,LUa:k.config.pka.e,t0a:p.hf.rCa,oH:k.config.oH,Npa:k.config.Cnb,Ibb:k.config.Vl?"mslstoretest":"mslstore"}).then(function(g){d.qg=g;H._cad_global||(H._cad_global={});H._cad_global.device=d.qg;u.info("Esn source: "+d.qg.gB);b.kI("devdone");a(c.Nb);})["catch"](function(b){b.P=void 0;a(b);});});},function(f){var d;d={JH:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};f.K=d;},function(f){var d;d=function(){function a(a){this.ig=a;}a.prototype.njb=function(a){this.ig=a;};a.prototype.QWa=function(){this.ig=void 0;};a.prototype.kB=function(a){this.ig&&this.ig.Yx&&this.ig.Yx(a);};a.prototype.jB=function(a){this.ig&&this.ig.Du&&this.ig.Du(a);};a.prototype.kH=function(a){this.ig&&this.ig.XI&&this.ig.XI(a);};a.prototype.iB=function(a){this.ig&&this.ig.$h&&this.ig.$h(a);};a.prototype.XP=function(a){this.ig&&this.ig.rC&&this.ig.rC(a);};a.prototype.WP=function(a,c){this.ig&&this.ig.YR&&this.ig.YR(a,c);};return a;}();d.prototype.Yx=d.prototype.kB;d.prototype.Du=d.prototype.jB;d.prototype.XI=d.prototype.kH;d.prototype.$h=d.prototype.iB;d.prototype.rC=d.prototype.XP;d.prototype.YR=d.prototype.WP;f.K=d;},function(f,d,a){function b(a,b){this.qA=a;this.Pg=Math.floor((a+b-1)/b);this.Yb=b;this.reset();}a(15);b.prototype.shift=function(){this.pc.shift();this.po.shift();};b.prototype.vC=function(a){return this.Uka(this.pc[a],a);};b.prototype.update=function(a,b){this.pc[a]=(this.pc[a]||0)+b;};b.prototype.push=function(){this.pc.push(0);this.po.push(0);this.za+=this.Yb;};b.prototype.add=function(a,b,d){var c,h,p;if(null===this.za)for(c=Math.max(Math.floor((d-b+this.Yb-1)/this.Yb),1),this.za=b;this.pc.length<c;)this.push();for(;this.za<=d;)this.push(),this.pc.length>this.Pg&&this.shift();if(null===this.Gj||b<this.Gj)this.Gj=b;if(b>this.za-this.Yb)this.update(this.pc.length-1,a);else if(b==d)c=this.pc.length-Math.max(Math.ceil((this.za-d)/this.Yb),1),0<=c&&this.update(c,a);else for(c=1;c<=this.pc.length;++c){h=this.za-c*this.Yb;p=h+this.Yb;if(!(h>d)){if(p<b)break;this.update(this.pc.length-c,Math.round(a*(Math.min(p,d)-Math.max(h,b))/(d-b)));}}for(;this.pc.length>this.Pg;)this.shift();};b.prototype.start=function(a){null===this.Gj&&(this.Gj=a);null===this.za&&(this.za=a);};b.prototype.stop=function(a){var b,c;if(null!==this.za)if(a-this.za>10*this.qA)this.reset();else{for(;this.za<=a;)this.push(),this.pc.length>this.Pg&&this.shift();b=this.pc.length-Math.ceil((this.za-this.Gj)/this.Yb);0>b&&(this.Gj=this.za-this.Yb*this.pc.length,b=0);c=this.pc.length-Math.ceil((this.za-a)/this.Yb);if(b===c)this.po[b]+=a-this.Gj;else if(c>b)for(this.po[b]+=(this.za-this.Gj)%this.Yb,this.po[c]+=this.Yb-(this.za-a)%this.Yb,a=b+1;a<c;++a)this.po[a]=this.Yb;this.Gj=null;}};b.prototype.Uka=function(a,b){b=this.y2(b);return 0===b?null:8*a/b;};b.prototype.y2=function(a){var b;b=this.po[a];null!==this.Gj&&(a=this.za-(this.pc.length-a-1)*this.Yb,a>this.Gj&&(b=a-this.Gj<=this.Yb?b+(a-this.Gj):this.Yb));return b;};b.prototype.get=function(a,b){var c,d;c=this.pc.map(this.Uka,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Yb));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(d||0):d=void 0!==d?b*c[a]+(1-b)*d:c[a];}return c;};b.prototype.reset=function(){this.pc=[];this.po=[];this.Gj=this.za=null;};b.prototype.setInterval=function(a){this.Pg=Math.floor((a+this.Yb-1)/this.Yb);};f.K=b;},function(f){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},bl:function(){return this.buffer.length-this.position;},Yg:function(){return this.buffer[this.position++];},pe:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Hd:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Ou:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},dgb:function(){for(var a="",b;b=this.Yg();)a+=String.fromCharCode(b);return a;},Cb:function(){return this.Hd(2);},Ba:function(){return this.Hd(4);},zf:function(){return this.Hd(8);},qva:function(){return this.Hd(2)/256;},r7:function(){return this.Hd(4)/65536;},lk:function(a){for(var b,c="";a--;)b=this.Yg(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},EC:function(){return this.lk(4)+"-"+this.lk(2)+"-"+this.lk(2)+"-"+this.lk(2)+"-"+this.lk(6);},egb:function(a){for(var b=0,c=0;c<a;c++)b+=this.Yg()<<(c<<3);return b;},xJ:function(){return this.egb(4);},cob:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);}};f.K=d;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.$da="PboLinksManagerSymbol";d.wz="PboLinksManagerFactorySymbol";},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.Dz=function(a,d){var c;b.Aa(this,{Mo:function(){c||(c=setTimeout(d,a));},Cf:function(){c&&(clearTimeout(c),c=void 0);}});};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.mz="LogMessageFactorySymbol";},function(f,d,a){var b;b=a(152);f.K=function(a){return function h(c){return 0===arguments.length||b(c)?h:a.apply(this,arguments);};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function c(){}function d(){}d.ZAa="cache_start";d.$Aa="cache_success";d.WAa="cache_abort";d.YAa="cache_fail";d.XAa="cache_evict";d.lIa="pb_request";d.nLa="start_playback";a.qv=d;c.i$="auth";c.Rp="ldl";c.UD="hdr";c.MEDIA="media";a.hi=c;b.YK="cached";b.LOADING="loading";b.IDa="expired";a.RK=b;}(d.Od||(d.Od={})));d.Gea="PrefetchEventsFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bz="SourceBufferTypeProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lv="TimingApiSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.wfa="SystemRandomSymbol";d.FE="RandomGeneratorSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.kz="IdProviderSymbol";},function(f,d){d.px=function(a){return a&&"function"===typeof a.kb;};},function(f,d,a){var c,k;function b(a,b,d,p,r){a=void 0===a?c.I.Ih:a;return k.mc.call(this,a,b,d,void 0,void 0,p,k.mc.Bc(r),r)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);k=a(57);ja(b,k.mc);d.Ff=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.dz="EmeConfigSymbol";},function(f,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Vk=function(a){return void 0!==a;};a.prototype.Qf=function(a){return null!==a&&void 0!==a;};a.prototype.yw=function(b){return a.Uja(b);};a.prototype.eO=function(b){return!(!b||!a.Uja(b));};a.prototype.Eq=function(a){return Array.isArray(a);};a.prototype.Vja=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Mf=function(b,d,h){return a.tja(b,d,h);};a.prototype.zZ=function(b){return a.zZ(b);};a.prototype.TZ=function(b,d,h){return a.kO(b,d,h)&&0===b%1;};a.prototype.wo=function(b,d,h){return a.kO(b,d||0,h);};a.prototype.tA=function(b){return a.kO(b,1);};a.prototype.MSa=function(b){return a.kO(b,0,255);};a.prototype.NSa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Wja=function(a){return!(!a||!b.test(a));};a.prototype.oh=function(b){return a.uja(b);};a.prototype.yi=function(b){return!(!a.uja(b)||!b);};a.prototype.rA=function(a){return!0===a||!1===a;};a.prototype.sA=function(a){return"function"==typeof a;};a.uja=function(a){return"string"==typeof a;};a.tja=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.zZ=function(a){return"number"==typeof a&&isNaN(a);};a.kO=function(b,d,h){return a.tja(b,d,h)&&0===b%1;};a.Uja=function(a){return"object"==typeof a;};d.Qp=new a();},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A,D,x;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(139);c=a(518);k=a(138);h=a(5);g=a(6);n=a(145);p=a(266);r=a(17);u=a(2);v=a(3);A=a(202);D=a(7);x=a(116);f.Fe(u.I.Iba,function(f){var u,w,F,l,S,m,P;u=v.Y.get(A.SL).F0();w=v.Y.get(n.Jaa).cz;F={};F.gy=v.dQ("ASE");F.hUa=v.dQ("JS-ASE",void 0,"Platform");F.Tc=v.dQ;F.storage=x.storage;F.br=x.br;F.Z5a=D.kL;F.getTime=r.bb;F.TB={};F.Ua=b.Ua;F.$p=c.$p;F.cz=w;F.MediaSource=p.UGa;F.SourceBuffer=k.Yca;F.Qxb=function(){};w=new Promise(function(a){x.storage.load("nh",function(b){F.TB.nh=b.P?b.data:void 0;a();});});l=new Promise(function(a){x.storage.load("lh",function(b){F.TB.lh=b.P?b.data:void 0;a();});});S=new Promise(function(a){x.storage.load("gh",function(b){F.TB.gh=b.P?b.data:void 0;a();});});m=new Promise(function(a){x.storage.load("sth",function(b){F.TB.sth=b.P?b.data:void 0;a();});});P=new Promise(function(a){x.storage.load("vb",function(b){F.TB.vb=b.P?b.data:void 0;a();});});Promise.all([w,l,P,m,S]).then(function(){var b,c;b=a(516)(F);c=a(70);d.Rj=a(265);d.Rj.declare(c.Ut);d.Rj.declare({Vy:["useMediaCache",!1],WA:["diskCacheSizeLimit",0],fwb:["dailyDiskCacheWriteLimit",0],zR:["mediaCachePrefetchMs",8E3],D5:["mediaCachePartitionConfig",{}]});d.Rj.set(a(149)(h.config),!0,v.dQ("ASE"));b=c.bab(b);d.fj=new b(d.Rj,u);d.fj.cd(h.config.e_,h.config.h_,{gy:F.gy},h.config.OS);f(g.Nb);})["catch"](function(a){F.gy.error("Exception loading location history from local storage",a);});});},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(279);c=a(5);k=a(6);h=a(276);g=a(2);n=a(275);p=a(273);d.storage=d.storage||void 0;d.br=d.br||void 0;f.Fe(g.I.Vba,function(a){var g;switch(c.config.GT){case"fs":g=b.ykb;break;case"idb":g=n.zkb;break;case"none":g=h.Bkb;break;case"ls":g=p.Akb;}g(function(b){b.P?(d.storage=b.storage,d.br=b.br,a(k.Nb)):a(b);});});},function(f,d,a){var g,n;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function c(a){return g.Gd(a);}function k(a){return g.fa(a);}function h(a){return!b(a)&&!c(a)&&!k(a)&&!Array.isArray(a)&&g.ne(a);}g=a(8);n={mv:0,eM:1,yHa:2,OBJECT:3,Ih:4};f.K={p3:function(a){return b(a)?n.mv:c(a)?n.eM:k(a)?n.yHa:h(a)?n.OBJECT:n.Ih;},Q8a:b,Gd:c,fa:k,ne:h,vl:n};},function(f,d,a){var b,c;b=a(1);c=a(13);d=function(a){function d(b,c,d,h){d=a.call(this,d)||this;d.location=b.location||c.location;d.Vc=b.Ub||c.Ub;d.B8=b.B8||c.B8;d.U=h;return d;}b.__extends(d,a);d.prototype.cd=function(a,b){this.se=a;this.df=b;this.RZ=!1;this.U=b;};d.prototype.FN=function(a){var b,d,g;b={type:"logdata",target:"endplay",fields:{}};d=this.N===c.v.AUDIO?"audioedit":"videoedit";g=[this.$l===this.S?this.pf:this.Qd,this.$l===this.S?-this.duration:this.duration];a&&a.vp&&g.push(a.vp);b.fields[d]={type:"array",value:g};this.se&&this.se.emit(b.type,b);};d.prototype.xN=function(a){this.se.J.yJ&&(this.roa=!0,this.nna=a);};return d;}(a(99));f.K=d;},function(f,d){var c;function a(a,b,c,d){var g;Object.getOwnPropertyNames(a).filter(function(a){return(!d||d(a))&&(c||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(c){g=Object.getOwnPropertyDescriptor(a,c);void 0!==g&&Object.defineProperty(b,c,g);});}function b(c,d,g){var n;n=Object.getPrototypeOf(c);null!==n&&n!==Object.prototype&&b(n,d,g);a(c,d,g,function(a){return"constructor"!==a;});}Object.defineProperty(d,"__esModule",{value:!0});c=Object.getOwnPropertyNames(Function);d.yK=function(d,h,g){void 0===g&&(g=!0);d.prototype?(b(d.prototype,h.prototype,g),a(d,h,g,function(a){return-1===c.indexOf(a);})):a(d,h.prototype,g,function(a){return-1===c.indexOf(a);});};},function(f,d,a){var g,n,p,r,u,v;function b(a,b){this.Zi=a;p.call(this,a.Jb,b);}function c(){n(!1);}function k(a,b,c){this.ga=c;this.Bd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.qc=void 0;}function h(a,b,c,d,p,n){this.$z=16;this.Jb=a;this.Yc=b.offset;this.no=b.sizes;this.WRa=new k(a.Km,b.sizes,a.ga);this.gja=void 0;this.KPa=c;this.DX=d&&d.il;this.vZ=p;this.hPa=Math.min(this.Jb.length,this.no.length);this.wPa=this.ENa();this.ol.Km.length!==this.no.length&&g.error("Mis-matched stream duration ("+this.ol.Km.length+","+this.no.length+") for movie id "+n);this.ol.tM&&!this.DX&&g.error("Mis-matched additional SAPs information for movie id "+n);}a(8);a(13);g=new(a(9)).Console("FRAGMENTS","media|asejs");n=a(15);a(60);p=a(188).nMa;r=a(303);u=a(302);b.prototype=Object.create(p.prototype);Object.defineProperties(b.prototype,{$:{get:function(){return this.Zi.sizes(this.hh);},set:c},offset:{get:function(){return this.Zi.il(this.hh);},set:c},LI:{get:function(){return this.Zi.zu&&this.Zi.zu[this.hh];},set:c},Rg:{get:function(){return this.Zi.k4a(this.hh);},set:c},Hb:{get:function(){return this.Zi.zk&&this.Zi.zk[this.hh];},set:c}});b.prototype.constructor=b;b.prototype.toJSON=function(){return{index:this.index,$:this.$,offset:this.offset,S:this.S,Z:this.Z,duration:this.duration,Rg:this.Rg};};Object.defineProperties(k.prototype,{$:{get:function(){return void 0!==this.qc?this.qc:this.OX();},set:c}});k.from=function(a){for(var b=new Uint32Array(a.length),c=new Uint32Array(a.length),d=0,g,p,n=0;n<a.length;++n)g=a[n],p=g.qc,b[n]=g.Im-g.gq,c[n]=p,d+=p;a=new k(b,c,a.length?a[0].ga:1E3);a.qc=d;return a;};k.prototype.OX=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d<b;++d)c+=a[d];return this.qc=c;};k.prototype.subarray=function(a,b){return new k(this.Bd.subarray(a,b),this.sizes.subarray(a,b),this.ga);};k.prototype.concat=function(){var a,b,c,d;a=Array.prototype.concat.apply(Array(this),arguments);b=a.reduce(function(a,b){return a+b.length;},0);c=new Uint32Array(b);d=new Uint32Array(b);a.reduce(function(a,b){u.set(c,b.Bd,a);u.set(d,b.sizes,a);return a+b.length;},0);return new k(c,d,a[0].ga);};h.constructor=h;h.Zvb=function(a,b){var c,d;b=b.ga;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{ga:b,startTime:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:r.Dpa(d,0,a,16),Bd:u.from(Uint32Array,{length:a},function(a,b){return d.ZAb(16*b+14)*c;})};};Object.defineProperties(h.prototype,{N:{get:function(){return this.Jb.N;},set:c},length:{get:function(){return this.hPa;},set:c},vm:{get:function(){return this.Jb.vm;},set:c},Bna:{get:function(){return this.Jb.Bna;},set:c},S:{get:function(){return this.Jb.S;},set:c},Z:{get:function(){return this.Jb.Z;},set:c},Ll:{get:function(){return this.Jb.Ll;},set:c},sR:{get:function(){return this.Jb.sR;},set:c},wR:{get:function(){return this.wPa;},set:c},Ha:{get:function(){return this.Jb.Ha;},set:c},ga:{get:function(){return this.Jb.ga;},set:c},$g:{get:function(){return this.gja||this.OX();},set:c},zu:{get:function(){return this.KPa;},set:c},Pja:{get:function(){return this.DX;},set:c},zk:{get:function(){return this.vZ;},set:c},ol:{get:function(){return this.Jb;},set:c},ZC:{get:function(){return this.WRa;},set:c}});h.prototype.OX=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes(b);return this.gja=a;};try{v=!0;}catch(A){v=!1;}h.prototype.FNa=function(){if(this.length&&!this.rq){this.rq=v?new Float64Array(Math.ceil(this.length/this.$z)):Array(Math.ceil(this.length/this.$z));for(var a=this.Yc,b=0;b<this.rq.length;++b){this.rq[b]=a;for(var c=0;c<this.$z;++c)a+=this.no[b*this.$z+c];}}};h.prototype.sizes=function(a){return this.no[a];};h.prototype.Zf=function(a){return this.Jb.Zf(a);};h.prototype.cB=function(a){return this.Jb.Zf(a)+this.Jb.Bd(a);};h.prototype.il=function(a){if(this.EM!==a){if(0===a)return this.Yc;if(this.EM===a-1)this.NX+=this.no[this.EM],++this.EM;else{this.rq||this.FNa();for(var b=Math.floor(a/this.$z),c=b*this.$z,b=this.rq[b];c<a;++c)b+=this.no[c];this.EM=a;this.NX=b;}}return this.NX;};h.prototype.Bd=function(a){return this.Jb.Bd(a);};h.prototype.get=function(a){return new b(this,a);};h.prototype.k4a=function(a){var b,c,d;n(0<=a);b=this.ol.tM;c=this.ol.mga;d=this.DX;if(!d||!b||a>=b.length)return[];for(var g=[],p=a===b.length-1?c.length:b[a+1],b=b[a];b<p;++b)g.push({Mc:c[b],Kb:this.Zf(a)+this.Ha.MR(c[b]).Pe,offset:d[b]});return g;};h.prototype.Nxa=function(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}(h.prototype.Zf);h.prototype.subarray=function(a,b){n(void 0===a||0<=a&&a<this.length);n(void 0===b||b>a&&b<=this.length);return new h(this.Jb.subarray(a,b),{offset:this.il(a),sizes:this.no.subarray(a,b)},this.zu&&this.zu.subarray(a,b),this.Pja&&{il:this.Pja});};h.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};h.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};h.prototype.reduce=function(a,b){var c;c=void 0!==b?b:this.get(0);for(b=void 0!==b?0:1;b<this.length;++b)c=a(c,this.get(b),b,this);return c;};h.prototype.$j=function(a,b,c){return this.Jb.$j(a,b,c);};h.prototype.NP=function(a,b,c){return this.Jb.NP(a,b,c);};h.prototype.y0=function(a,b){return this.Jb.y0(a,b);};h.prototype.ENa=function(){var a,b,c,d,g;b=0;c=this.Jb.Qha;d=this.Jb.Km;g=this.no;if(void 0===c||c>=this.length){for(var p=0;p<this.length;++p)a=g[p]/d[p],a>b&&(b=a,c=p);void 0===this.Jb.Qha&&(this.Jb.Qha=c);}else b=g[c]/d[c];return Math.floor(b*this.ga/125);};h.prototype.$Q=function(a,b,c){var d,g,p,n,h,k,r,f,u;d=!0;g=0;n=this.Jb.Km;h=this.no;k=Math.floor(a*this.ga/1E3);r=0;f=0;u=0;if(this.Jb.mja)for(g=this.Jb.mja;g<=this.Jb.wSa;++g)r+=n[g],f+=h[g];if(f>b)d=!1;else for(;g<this.length&&(!c||g<c);){p=h[g];a=n[g];if(f+p>b&&r<k){d=!1;this.Jb.mja=u;this.Jb.wSa=g;break;}for(;0<g-u&&f+p>b;)r-=n[u],f-=h[u],++u;r+=a;f+=p;++g;}return d;};h.prototype.toJSON=function(){return{length:this.length,Ll:this.Ll};};h.prototype.dump=function(){var b;g.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.Ll+"ms");for(var a=0;a<this.length;++a){b=this.get(a);g.trace("StreamFragments: "+a+": ["+b.S+"-"+b.Z+"] @ "+b.offset+", "+b.$+" bytes");}};f.K={PLa:h,ILa:k};},function(f,d,a){var g,n,p,r,u,v,A,l,x,w,z,y,F,K,S,m,P,q,R,fa,Z,O,G,t,aa,Q,ha,ba,ma,la,ea,ta,wa,ia,Na;function b(a){switch(a){case O.G.YD:return"http";case O.G.ZD:return"connectiontimeout";case O.G.tv:return"readtimeout";case O.G.MV:return"corruptcontent";case O.G.zs:return"abort";case O.G.gz:case O.G.QV:return"unknown";}}function c(b,c,g,p){var n,r,f,v,A;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(b.devmod=nrdp.device.deviceModel);c.LO&&(b.pbcid=c.LO);p&d.Fg&&(m.na(!b||void 0===b.moff),0<=c.Lc.value&&(b.moff=P.uE(c.Lc.value)));if(p&d.rz){n=a(70).Ul;r=c.zb[n.v.VIDEO].value;n=c.zb[n.v.AUDIO].value;f=c.Wg.value;v=c.Wf.value;r&&(b.cdnid=r.id,b.cdnname=r.name);n&&(b.acdnid=n.id,b.acdnname=n.name);f&&(b.adlid=f.stream.ad,b.abitrate=f.stream.L);v&&(b.vdlid=v.stream.ad,b.vbitrate=v.stream.L,b.vheight=v.stream.height,b.vwidth=v.stream.width);}p&d.If&&(c.rb&&(b.abuflbytes=c.j_(),b.abuflmsec=c.Cw(),b.vbuflbytes=c.U9(),b.vbuflmsec=c.Xy()),(r=c.gl&&c.gl.Y4a&&c.gl.Y4a())&&(b.curdlstatename=r));if(p&d.RL){h(b);try{A=c.ef.getBoundingClientRect();b.rendersize=A.width+"x"+A.height;b.renderpos=A.left+"x"+A.top;}catch(Za){}}p&d.Gs&&(A=ba.ii.hardwareConcurrency,0<=A&&(b.numcores=A),0<=c.B0&&(b.cpuspeed=c.B0),(A=c.qP&&c.qP.w4a())&&(b.droppedFrames=JSON.stringify(A)),A=c.qP&&c.qP.V2(u.config.j1a),P.xc(A,function(a,c){b["droppedFramesP"+a]=JSON.stringify(c);}));if(p&d.QL)try{c.hj&&(b.cdninfo=JSON.stringify(c.hj.map(function(a){return{id:a.id,nm:a.name,rk:a.zd,wt:a.location.weight,lv:a.location.level};})));}catch(Za){}g&&p&d.zW&&(m.na(c.th),(g=c.th)?k(b,g):b.errorcode=O.I.Ih,b.errorcode===R.Yaa+O.I.Hda&&(b.lastSyncWithVideoElement=w.bb()-c.jK));}function k(a,c){m.na(c.errorCode);a.errorcode=R.Yaa+(c.errorCode||O.I.Ih);c.T&&(a.errorsubcode=c.T);c.Ab&&(a.errorextcode=c.Ab);c.eB&&(a.erroredgecode=c.eB);c.Ea&&(a.errordetails=c.Ea);c.rh&&(a.httperr=c.rh);c.PR&&(a.aseneterr=c.PR);c.Wl&&(a.errordata=c.Wl);c.zI&&(a.mediaerrormessage=c.zI);if(c.Ab===O.rv.DAa||c.Ab===O.rv.yAa||c.Ab===O.rv.BAa||c.Ab===O.rv.CAa||c.Ab===O.rv.AAa||c.Ab===O.rv.zAa)a.nccperr=c.Ab;(c=b(c.T))&&(a.nwerr=c);}function h(a){a.screensize=ba.Vp.width+"x"+ba.Vp.height;a.screenavailsize=ba.Vp.availWidth+"x"+ba.Vp.availHeight;a.clientsize=H.innerWidth+"x"+H.innerHeight;}Object.defineProperty(d,"__esModule",{value:!0});g=a(192);n=a(29);p=a(314);r=a(6);u=a(5);v=a(89);A=a(20);l=a(33);x=a(72);w=a(17);z=a(3);y=a(219);F=a(405);K=a(61);S=a(214);m=a(11);P=a(19);q=a(4);R=a(37);fa=a(56);Z=a(23);O=a(2);G=a(16);t=a(34);aa=a(364);Q=a(313);ha=a(612);ba=a(7);ma=a(28);la=a(22);ea=a(14);ta=a(398);wa=a(611);ia=a(215);Na=a(125);d.CHa=function(h){var sa,Ba,Da,Ca,Fa,Ia,Ka,Qa,Ma,Xa,Oa,Ua,ab,Ta,cb,Ya,jb,gb,bb,hb,lb,mb,rb,kb,sb,tb,qb,vb,eb,wb,ob,ub,pb;function k(a,b,d,g,p){c(g,h,b,d);a=new v.qz(h,a,p||(b?"error":"info"),g);H._cad_global.logBatcher.km(a);}function f(a){var b,c,v,x,y,F,D,K,S,ha,m,da,ma,Y,la,G,Q,aa,O,t,ta,pa,ia;b={};try{b={browserua:ba.Fh,browserhref:location.href,playdelaysdk:P.Fk(h.cWa()),applicationPlaydelay:P.Fk(h.XVa()),playdelay:P.Fk(h.bWa()),trackid:h.cg,bookmark:P.Fk(h.Nq||0),pbnum:h.index,endianness:l.l5a()};u.config.K1a&&(b.transitiontime=h.Qy,b.uiplaystarttime=h.jb.xD,b.playbackrequestedat=h.Ir.ma(q.Ia),b.clockgettime=w.bb(),b.clockgetpreciseepoch=w.GA(),b.clockgetpreciseappepoch=w.ula(),b.absolutestarttime=h.cQ(),b.relativetime=h.uB());ya(b,"startplay");}catch(Ib){sa.error("error in startplay log fields",Ib);}h.Ew&&(b.blocked=h.Ew);u.config.endpoint||(b.configendpoint="error");h.Qe&&(b.playbackcontextid=h.Qe);h.JO&&(b.controllerESN=h.JO);if(u.config.mU&&h.jb.Y9){for(var p={},n=Object.keys(h.jb.Y9),r,f=n.length;f--;)r=n[f],p[r.toLowerCase()]=h.jb.Y9[r];b.vui=p;}ea.fa(h.Dka)&&(b.bookmarkact=P.Fk(h.Dka));(p=Da.s4a())&&(b.nccpat=p);(p=Da.L5a()||h.vx&&h.vx.ma(q.Ia))&&(b.nccplt=p);(p=vf())&&(b.downloadables=p);H._cad_global.device&&ea.fb(H._cad_global.device.gB)&&(b.esnSource=H._cad_global.device.gB);R.Zn&&P.Aa(b,R.Zn,{prefix:"pi_"});u.config.sP&&(b.congested=g.Nw&&g.Nw.pH()&&g.Nw.pH().isCongested);(p=ba.ii&&ba.ii.connection&&ba.ii.connection.type)&&(b.nettype=p);h.uqa&&(b.initSelReason=h.uqa);h.FB&&(b.initvbitrate=h.FB);h.xja&&(b.actualbw=h.xja);h.Ru&&(b.selector=h.Ru);b.fullDlreports=h.rna;b.hasasereport=h.Xj;b.hashindsight=h.Wk;h.eqa&&(b.histdiscbw=h.eqa);h.tqa&&(b.initseldiscbw=h.tqa);void 0!==h.WH&&(b.isConserv=h.WH);void 0!==h.Ho&&(b.ccs=h.Ho);h.YQ&&(b.isLowEnd=h.YQ);if(p=h.Z7a)b.histtdmax=ea.fa(p.max)?Number(p.max).toFixed(2):void 0,b.histtdp90=ea.fa(p.$I)?Number(p.$I).toFixed(2):void 0,b.histtdp75=ea.fa(p.yh)?Number(p.yh).toFixed(2):void 0,b.histtdp50=ea.fa(p.vg)?Number(p.vg).toFixed(2):void 0,b.histtdp25=ea.fa(p.xh)?Number(p.xh).toFixed(2):void 0,b.histtdp10=ea.fa(p.ZI)?Number(p.ZI).toFixed(2):void 0,b.histtdmin=ea.fa(p.min)?Number(p.min).toFixed(2):void 0;h.WF&&(b.bcreason=h.WF);if(h.state.value>=A.Em)try{v=h.Zm();v&&(lb=l.w$(v.map(function(a){return a.L;})),mb=l.w$(v.map(function(a){return a.height;})),c=0<v.length?wa.oab(v,function(a){return a.L;}):void 0,b.maxbitrate=lb,b.maxresheight=mb);}catch(Ib){sa.error("Exception computing max bitrate",Ib);}try{x=l.oQ();x&&(b.pdltime=x);}catch(Ib){}try{P.Aa(b,h.he,{prefix:"sm_"});P.Aa(b,h.sQ(),{prefix:"vd_"});}catch(Ib){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&h.Jn&&(b.pssh=h.Jn);h.Rf&&h.Rf.vh&&h.Rf.vh.keySystem&&(b.keysys=h.Rf.vh.keySystem);if(u.config.jl&&H._cad_global.videoPreparer)try{v={};y=H._cad_global.videoPreparer.getStats(void 0,void 0,h.M);F=h.cQ();D=y.cv.hXa;v.attempts=y.Yua||0;v.num_completed_tasks=D.length;K=z.Y.get(Z.He).j3a;x={};S=fa.Oc.Nd.kfa;ha=fa.Oc.Nd.Bm;m=fa.Oc.Nd.$K;da=fa.Oc.Nd.ID;ma=fa.Oc.Nd.ZK;y.Rh&&(x.scheduled=y.Rh-F);Y=h.Ca;Y&&ea.fb(Y.wy)&&(x.preauthsent=Y.wy-h.cf,x.preauthreceived=Y.IC-h.cf);la=D.filter(K("type","manifest"));v.mf_succ=la.filter(K("status",S)).length;v.mf_fail=la.filter(K("status",ha)).length;G=h.he;ea.fb(G.lg)&&0>G.lg&&h.cf&&(x.ldlsent=G.lc,x.ldlreceived=G.lr);Q=D.filter(K("type","ldl"));v.ldl_succ=Q.filter(K("status",S)).length;v.ldl_fail=Q.filter(K("status",ha)).length;y=!0;if(!x.preauthreceived||0<=x.preauthreceived)y=!1;u.config.uP||(y=!1);aa=Q.filter(K("status",m)).length;O=Q.filter(K("status",da)).length;t=Q.filter(K("status",ma)).length;u.config.uP&&0===aa+O+t&&(!x.ldlreceived||0<=x.ldlreceived)&&(y=!1);if(u.config.tP){ta=H._cad_global.videoPreparer.eQ(h.M);if(ta){if(ta.RP&&(x.headersent=ta.RP-h.cf),ta.gR&&(x.headerreceived=ta.gR-h.cf),ta.BC&&(x.prebuffstarted=ta.BC-h.cf),ta.lJ&&(x.prebuffcomplete=ta.lJ-h.cf),!x.prebuffcomplete||0<=x.prebuffcomplete)y=!1;}else y=!1;}pa=D.filter(K("type","getHeadersAndMedia"));v.hm_succ=pa.filter(K("status",S)).length;v.hm_fail=pa.filter(K("status",ha)).length;P.Aa(b,v,{prefix:"pr_"});b.eventlist=JSON.stringify(x);b.prefetchCompleted=y;ka(b);}catch(Ib){sa.warn("error in collecting video prepare data",Ib);}b.avtp=kb.gn().Ly;h.sk&&Ub(b);if(h.Nc.value)try{b.ttTrackFields=h.Nc.value.ug;}catch(Ib){}if(D=h.vd&&h.vd.value&&h.vd.value.Lb){ia={};D.forEach(function(a){ia[a.ye]=void 0;});b.audioProfiles=Object.keys(ia);}sc(b);h.Ca&&"boolean"===typeof h.Ca.isSupplemental&&(b.isSupplemental=h.Ca.isSupplemental);b.headerCacheHit=!!h.kn;h.kn&&(b.headerCacheDataAudio=h.kn.audio,b.headerCacheDataAudioFromMediaCache=h.kn.audioFromMediaCache,b.headerCacheDataVideo=h.kn.video,b.headerCacheDataVideoFromMediaCache=h.kn.videoFromMediaCache);h.Ca&&(b.packageId=h.Ca.packageId);h.Ca&&h.Ca.choiceMap&&(b.hasChoiceMap=!0);b.isNonMember=ub.Gi;void 0===eb&&void 0!==c&&(eb=vb.R1(c));void 0===ob&&(ob=wb.b3a());h.jb.De&&(b.isBranching=!0);nb(h,b);db(h,b);ja(b);xd(b);oa(b);na(b);ra(b);va(b);k("startplay",a,d.Fg|d.rz|d.If|d.RL|d.Gs|d.QL|d.zW,b);}function D(){var a,b;a={waittime:P.Fk(h.uB()),abortedevent:"startplay",browserua:ba.Fh,trackid:h.cg};h.Qe&&(a.playbackcontextid=h.Qe);h.FB&&(a.initvbitrate=h.FB);try{b=l.oQ();b&&(a.pdltime=b);P.Aa(a,h.he,{prefix:"sm_"});}catch(Pc){}Cb(a,!0);ra(a);va(a);sc(a);Me(a);Vb(a,h.Dg.value,h.Bo.value);k("playbackaborted",!1,d.Fg|d.If|d.Gs,a);}function da(a,b,c){a=P.Aa({vdlid:h.Dg.value.ad,playingms:a,pausedms:b,intrplayseq:Ya++},c);ya(a,"intrplay");a.cdnid=a.vcdnid=h.zb[pb.v.VIDEO].value&&h.zb[pb.v.VIDEO].value.id;a.acdnid=h.zb[pb.v.AUDIO].value&&h.zb[pb.v.AUDIO].value.id;a.locid=Ma&&Ma.Q4;a.loclv=Ma&&Ma.Mra;u.config.sP&&(a.congested=g.Nw&&g.Nw.pH()&&g.Nw.pH().isCongested);a.avtp=kb.gn().Ly;h.sk&&(Cb(a,!0),Ub(a),$a(a));try{P.Aa(a,h.sQ(),{prefix:"vd_"});}catch(Ne){}db(h,a);Vb(a,h.Wf.value&&h.Wf.value.stream,h.Wg.value&&h.Wg.value.stream);k("intrplay",!1,d.Fg|d.If,a);}function Y(){k("timedtextrebuffer",!1,d.Fg|d.If,{track:h.Nc.value.ug});}function pa(a){a.newValue&&Ca&&(a={track:a.newValue.ug},Vb(a,h.Wf.value&&h.Wf.value.stream,h.Wg.value&&h.Wg.value.stream),k("timedtextswitch",!1,d.Fg|d.If,a));}function Oc(a){k("serversel",!1,d.Fg|d.If,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});}function Ha(a){k("asereport",!1,d.If,{strmsel:a.strmsel});}function Za(a){k("aseexception",!1,d.If,{msg:a.msg});}function xb(){var a,b;if(h.hj)try{a=!1;Ba%u.config.OG&&!h.Xj&&(a=!0,bb=bb.filter(function(a){return!a.P;}));if(0<bb.length){b=p.rXa(bb);bb=[];b.erroronly=a;u.config.lP.length&&(b.tcpinfo=u.config.lP.join(","));P.xc(b,function(a,c){b[a]=JSON.stringify(c);});k("dlreport",!1,d.If,b);}}catch(Pc){sa.error("Exception in dlreport.",Pc);}}function B(a){var c,g,p,n,r,f;c=a.request;g=a.request.vn;p=c.track;if(p){n=!a.P&&a.T!=O.G.zs;r=p.type;f=a.Vf;if(n||h.nI){g={dltype:r,url1:c.url,url2:a.url||"",cdnid:c.zb&&c.zb.id,tresp:P.Fk(f.Bf-f.requestTime),brecv:P.BHa(f.Vq),trecv:P.Fk(f.mk-f.Bf),sbr:g&&g.L};a.Pr&&(g.range=a.Pr);switch(r){case x.Hf.audio:g.adlid=c.stream.ad;break;case x.Hf.video:g.vdlid=c.stream.ad;break;case x.Hf.UT:g.ttdlid=p.ad;}(c=b(a.T))&&(g.nwerr=c);a.rh&&(g.httperr=a.rh);k("dlreq",n,d.If,g);}}}function yb(){var a,b;if(h.state.value==A.Em){a=ga();u.config.I7&&(a.avtp=kb.gn().Ly,h.sk&&Ub(a));a.midplayseq=jb++;b=h.Fc.value;a.prstate=b==A.bo?"playing":b==A.Zp?"paused":b==A.Gv?"ended":"waiting";u.config.Dib&&Va("midplay");u.config.jl&&H._cad_global.videoPreparer&&ka(a);ja(a);xd(a);k("midplay",!1,d.Fg|d.If|d.Gs|d.RL,a);}}function Va(a){var b,c;b={};b.trigger=a;try{c=h.X2();b.subtitleqoescore=h.zp.P6a(c);b.metrics=JSON.stringify(h.zp.j3(c));}catch(Ne){sa.error("error getting subtitle qoe data",Ne);}k("subtitleqoe",!1,d.Fg|d.Gs|d.rz,b,"info");}function nb(a,b){b.cachedManifest=a.Ht;b.cachedLicense=a.Jw;}function db(a,b){var c,d;if(u.config.A8a){c=a.Y2();if(c){b.segment=c;d=a.kx();a:{if(a=a.hQ())if(c=a[c]){c=c.xp;break a;}c=void 0;}null!==d&&void 0!==c&&(b.segmentoffset=d-c);}}}function $a(a){var b,c;b=h.G3;c=b&&b.lhb;b&&b.lqa&&(a.htwbr=b.lqa,a.pbtwbr=b.hS,a.hptwbr=b.k8a);b&&b.swa&&(a.rr=b.swa,a.ra=b.Yfb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));}function sc(a){var b,c;b=h.We&&h.We.value&&h.We.value.Lb;if(b){c={};b.forEach(function(a){c[a.ye]=void 0;});a.videoProfiles=Object.keys(c);}}function Me(a){var b,c,d;try{b=z.Y.get(Z.He).createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){d=c.getExtension("WEBGL_debug_renderer_info");d&&(a.WebGLRenderer=c.getParameter(d.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(d.UNMASKED_VENDOR_WEBGL));}}catch(Af){}}function Pa(a){var b,c,g,p,y;b=ga();c=[];ya(b,"endplay");b.browserua=ba.Fh;h.gs&&"downloaded"===h.gs.tpa()&&(b.trickplay_ms=h.wK.offset,b.trickplay_res=h.wK.Yva);u.config.R9&&(b.rtinfo=h.x6a());if(u.config.I7){sb.J4a().forEach(function(a){c.push({cdnid:a.dG,avtp:a.Ly,tm:a.r1});});g=kb.gn().Ly;void 0!==b.avtp?b.avtp_retired=g:b.avtp=g;b.cdnavtp=c;h.sk&&Ub(b);}void 0!==h.WH&&(b.isConserv=h.WH);void 0!==h.Ho&&(b.ccs=h.Ho);b.endreason=a?"error":h.Fc.value==A.Gv?"ended":"stopped";h.DO&&P.Aa(R.Zn,{cast_interaction_counts:h.DO.jZ});R.Zn&&P.Aa(b,R.Zn,{prefix:"pi_"});g=h.th;a&&g&&O.PDa(g.errorCode)&&(p="info");try{P.Aa(b,h.he,{prefix:"sm_"});}catch(Oe){}h.U3&&(b.inactivityTime=h.U3);Cb(b,"info"!==p&&a);$a(b);if(h.Hw){for(var g=h.Hw,n=u.config.BA,r=h.cf,f={iv:n,seg:[]},v=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},w=g.Ao.map(v),v=g.Ip.map(v),z,x=0;x<w.length;x++){if(w[x]||v[x])z?(z.ams.push(w[x]),z.vms.push(v[x])):z={ams:[g.Ao[x]],vms:[g.Ip[x]],soffms:g.startTime+x*n-r};x!==w.length-1&&w[x]&&v[x]||!z||(f.seg.push(z),z=void 0);}b.bt=JSON.stringify(f);}if(h.yR&&0<h.yR.length){y=[];h.yR.forEach(function(a){y.push({soffms:a.time-h.cf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});b.maxvbevents=y;}h.hva&&(b.psdConservCount=h.hva);h.rb&&h.rb.Hc.NC&&(b.rl=JSON.stringify(h.rb.Hc.NC),b.rlmod=h.rb.Hc.MC);a&&(sc(b),Me(b));Va("endplay");u.config.jl&&H._cad_global.videoPreparer&&ka(b);b.isNonMember=ub.Gi;h.jb.De&&(b.isBranching=!0);nb(h,b);db(h,b);ja(b);xd(b);oa(b);h.$O&&(b.dqec=h.$O);na(b);va(b);xa(b);ob&&(b.externaldisplay=ob.$G);k("endplay",a,d.Fg|d.rz|d.If|d.Gs|d.RL|d.zW,b,p);}function U(a){a=G.RJ(a);a.details&&(a.details=JSON.stringify(a.details));k("subtitleerror",!0,d.Fg|d.rz|d.QL,a);}function vf(){var a;if(h.ms&&h.Sm){a=[];h.ms.concat(h.Sm).forEach(function(b){b.Lb.forEach(function(b){a.push({dlid:b.ad,type:b.type,bitrate:b.L,vmaf:b.Hb});});});return JSON.stringify(a);}}function W(){var b,c,d;function a(a,b){var g,h,p;g=a.cdnId;h=d[g];p=a.vmaf;h||(h={cdnid:g,dls:[]},d[g]=h,c.push(h));m.Sw(a.bitrate);m.Sw(a.duration);g={bitrate:a.bitrate,tm:ba.Gf(a.duration)};p&&(m.Sw(a.vmaf),g.vf=p);g[b]=P.ld(a.downloadableId);h.dls.push(g);}b=h.Dn.q4a();c=[];d={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);}function ga(){var a,b,c,d,g,p,n,k,r,f,u,v,w;a=h.Dn;b={totaltime:P.uE(a.o3()),cdndldist:W(),reposcount:cb,intrplaycount:Ya};try{c={numskip:0,numlowqual:0};d=h.wh;g=d.lQ();ea.fa(g)&&(b.totfr=g,c.numren=g);g=d.gx();ea.fa(g)&&(b.totdfr=g,c.numrendrop=g);g=d.qH();ea.fa(g)&&(b.totcfr=g,c.numrenerr=g);g=d.mQ();ea.fa(g)&&(b.totfdl=g);b.playqualvideo=JSON.stringify(c);b.videofr=h.Dg.value.YP.toFixed(3);p=a.Eoa();p&&(b.abrdel=p);n=a.M7a()&&a.v4a();n&&(b.tw_vmaf=n);k=a.u4a();k&&P.Aa(b,k);b.rbfrs=Ya;b.maxbitrate=lb;b.maxresheight=mb;r=h.We.value.Lb;for(w=0;w<r.length;w++){f=r[w];if(v=h.G5.Xr(f)){m.na(u);b.maxbitrate=u?u.L:0;b.maxresheight=u?u.height:0;b.bitratefilters=v.join("|");break;}u=f;}h.gs&&(b.trickplay=h.gs.tpa());null!==h.zp.rka&&(b.avg_subt_delay=h.zp.rka);}catch(Oe){sa.error("Exception reading some of the endplay fields",Oe);}P.Aa(b,h.sQ(),{prefix:"vd_"});return b;}function X(){k("blockedautoplay",!1,d.Fg|d.Gs,{browserua:ba.Fh});}function Wb(){var a,b,c;b=[];if(u.config.kbb){c={Msa:function(){},Uwa:function(){yb();}};tb.addListener(c);u.config.lbb.forEach(function(a){b.push(setTimeout(yb,a));});u.config.Psa&&(a=setInterval(ca,u.config.Psa));h.addEventListener(A.hg,function(){tb.removeListener(c);b.forEach(function(a){clearTimeout(a);});a&&clearInterval(a);});}}function ca(){H._cad_global.logBatcher.flush(!0)["catch"](function(){return sa.warn("failed to flush logbatcher on midplay interval");});}function ka(a){var b;try{b=H._cad_global.videoPreparer.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.voa);}catch(Pc){}}function ja(a){sa.debug("httpstats",n.bc.jc);P.Aa(a,n.bc.jc,{prefix:"http_"});}function Cb(a,b){u.config.vma&&!(Ba%u.config.vma)&&h.rb&&h.rb.b4&&(a.ASEstats=JSON.stringify(h.rb.b4(b)));}function Ub(a){var b,c;b=h.sk.xb.get(!0);if(b.gc&&b.ka){a.aseavtp=Number(b.ka.va).toFixed(2);a.asevartp=Number(b.ka.Cg).toFixed(2);if(b.oj){c=b.oj.Bn;!c||isNaN(c.yh)||isNaN(c.xh)||isNaN(c.vg)||(a.aseniqr=0<c.vg?Number((c.yh-c.xh)/c.vg).toFixed(2):-1,a.aseiqr=Number(c.yh-c.xh).toFixed(2),a.asemedtp=Number(c.vg).toFixed(2));a.iqrsamples=b.oj.rp;}b.tk&&b.tk.kr&&(a.tdigest=b.tk.kr());}}function xd(a){var b;try{b=ba.Cm.memory;ea.u9a(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(Pc){}}function oa(a){var b;b=h.Rf;u.config.oWa&&b&&!u.config.Fp&&(a.keystatuses=h.fcb(b.Nxb()),sa.trace("keystatuses",a.keystatuses));}function na(a){try{u.config.cG&&(a.battery=h.A4a(),sa.trace("batterystatuses",a.battery));}catch(uf){}}function ra(a){var b;b=h.jb.Bh;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);}function va(a){if(qb)try{a.storagestats=qb.getData();}catch(uf){}}function xa(a){eb&&eb.zc&&(a.media_capabilities_smooth=eb.zc.Zjb,a.media_capabilities_efficient=eb.zc.Veb,a.media_capabilities_bitrate=eb.zc.L,a.media_capabilities_height=eb.zc.height,a.media_capabilities_width=eb.zc.width);}function Vb(a,b,c){c&&(a.adlid=c.ad,a.abitrate=c.L);b&&(a.vdlid=b.ad,a.vbitrate=b.L);}function ya(a,b){var c;c=h.kr(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});}sa=z.bf(h,"NccpLogging");Ba=h.ha;Da=h.nC;Fa=h.paused.value;Ta=[];cb=0;Ya=0;jb=0;gb=0;bb=[];kb=z.Y.get(y.tX)();sb=z.Y.get(F.gaa);tb=z.Y.get(K.Cs);vb=z.Y.get(ta.Vca);wb=z.Y.get(ia.iba);ub=z.Y.get(Na.AE);u.config.UTa&&(qb=z.Y.get(S.v$));pb=a(70).Ul;m.na(Da);m.na(H._cad_global.logBatcher);(function(){var c;function a(a){function c(a){var b;if(h.nb&&h.nb.sourceBuffers){b=h.nb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.bk(),updating:b.updating(),ranges:b.gQ()};}}Oa="rebuffer";a={cause:a.cause};a.cause&&a.cause===A.iea&&(a.mediaTime=h.Lc.value,a.buf_audio=c(r.bW),a.buf_video=c(r.jE));da(Ta[A.bo]||0,Ta[A.Zp]||0,a);Ia=w.bb();ma.cb(b);}function b(){var a,b;if(Ia&&h.Fc.value!=A.ki){a=w.bb()-Ia;b=Ua;b={playdelay:P.Fk(a),reason:Oa,intrplayseq:Ya-1,skipped:b};db(h,b);k("resumeplay",!1,d.Fg|d.rz|d.If,b);"rebuffer"==Oa&&h.Dn.kTa(P.Fk(a));Ka&&Ka!=h.vd.value&&k("audioswitch",!1,d.Fg|d.If,{switchdelay:P.Fk(w.bb()-Qa),newtrackinfo:h.vd.value.ec,oldtrackinfo:Ka.ec});Ua=Oa=Ia=void 0;}}h.addEventListener(la.ya.NG,B,r.DW);h.addEventListener(la.ya.Ew,X);if(u.config.OG||u.config.xA)h.addEventListener(la.ya.NG,function(a){bb.push(p.sXa(a));}),gb=H.setInterval(xb,u.config.Q0a);u.config.I7&&h.addEventListener(la.ya.NG,function(a){var b,c,d;b=q.Pb(a.Vf.Bf);c=q.Pb(a.Vf.mk);d=t.$(a.Vf.Vq||0);d.gra()||d.Sqa()||(b=new aa.Qea(b,c),kb.hO(new Q.VU(b,d)),a&&a.request&&a.request.vn&&a.request.vn.Vc&&sb.hO(new ha.EBa(b,d,a.request.vn.Vc)));});h.paused.addListener(function(a){var b;b=a.newValue;a.TR&&b||b==Fa||(a={newstate:b?"Paused":"Playing",oldstate:Fa?"Paused":"Playing"},db(h,a),Vb(a,h.Wf.value&&h.Wf.value.stream,h.Wg.value&&h.Wg.value.stream),k("statechanged",!1,d.Fg|d.If,a),Fa=b);});h.addEventListener(A.ZL,a);h.addEventListener(A.VJa,a);h.addEventListener(A.xea,Y);h.Qm.addListener(pa);h.Fc.addListener(function(a){var b;a=a.oldValue;b=w.bb();a==A.ki?Ta=[]:Ta[a]=(Ta[a]||0)+(b-ab);ab=b;});h.addEventListener(A.YW,function(a){var c,g;switch(a.cause){case la.Vi.dX:case la.Vi.eX:if(Oa&&Ia){c=w.bb()-Ia;g=Oa;c={waittime:P.Fk(c),abortedevent:"resumeplay",browserua:ba.Fh,resumeplayreason:g};h.Qe&&(c.playbackcontextid=h.Qe);h.FB&&(c.initvbitrate=h.FB);Vb(c,h.Dg.value,h.Bo.value);k("playbackaborted",!1,d.Fg|d.If,c);}else Ca||D();Oa="repos";c=a.Wg;g=a.Wf;a={moffold:P.uE(a.UI),reposseq:cb++};Vb(a,g&&g.stream,c&&c.stream);k("repos",!1,d.Fg|d.If,a);Ia=w.bb();ma.cb(b);}});h.Fc.addListener(b);h.vd.addListener(function(a){Qa=w.bb();Ka=a.oldValue;});h.addEventListener(A.Fm,function(){m.na(!Ca);Ca=!0;f(!1);Wb();u.config.zqa&&(hb=setTimeout(function(){H._cad_global.logBatcher&&H._cad_global.logBatcher.flush(!1)["catch"](function(){return sa.warn("failed to flush logbatcher on initialLogFlushTimeout");});hb=void 0;},u.config.zqa));});h.addEventListener(A.hg,function(){hb&&clearTimeout(hb);if(u.config.OG||u.config.xA)gb&&clearInterval(gb),xb();Ca?Pa(!!h.th):h.th?f(!0):D();rb||(k=r.Rb);});h.AA&&h.AA.addListener(function(a){k("bitraterestriction",!1,d.Fg|d.If,a.newValue);});h.Dg.addListener(function(a){var b,c,g;if(a.oldValue&&a.mla){b=a.oldValue;c=a.newValue;g=a.YUa;a={moff:P.uE(a.mla),vbitrate:c.L,vbitrateold:b.L,vdlid:c.ad,vdlidold:b.ad,vheight:c.height,vheightold:b.height,vwidth:c.width,vwidthold:b.width,bw:g};db(h,a);k("chgstrm",!1,d.If,a);}});h.Wf.addListener(function(a){var b,g;if(a.newValue){b=a.newValue.stream;if(c!=b){if(c){g=c;a={moff:P.uE(a.newValue.Rl.startTime),vdlidold:g.ad,vbitrateold:g.L};db(h,a);Vb(a,b,h.Wg.value&&h.Wg.value.stream);k("renderstrmswitch",!1,d.If,a);}c=b;}}});h.addEventListener(A.sea,function(a){function b(a,b){var c,g,h,p,n;if(!a||a.Q4!==b.location){c={Q4:b.location,Mra:b.locationlv,Qib:b.serverid,Cy:b.servername};g=b.serverid;h=b.serverrtt;p=b.serverbw;n={locid:b.location,loclv:b.locationlv,selocaid:g,selocaname:b.servername};n.mediatype=b.mediatype;n.selcdnrtt=h;n.selcdnbw=p;n.selreason=b.selreason;n.testreason=b.testreason;n.fastselthreshold=b.fastselthreshold;n.seldetail=b.seldetail;n.cdnbwdata=JSON.stringify([{id:g,rtt:h,bw:p}]);a&&(n.oldlocid=a.Q4,n.oldloclv=a.Mra,n.oldocaid=a.Qib,n.oldocaname=a.Cy);k("cdnsel",!1,d.QL,n);return c;}}"audio"===a.mediaType?(a=b(Xa,a))&&(Xa=a):(a=b(Ma,a))&&(Ma=a);});h.addEventListener(A.tea,Oc);h.addEventListener(A.mea,Ha);h.addEventListener(A.lea,Za);u.config.ci&&(rb=!0);h.addEventListener(A.eKa,U);h.addEventListener(A.vea,function(){Ua=!0;});}());this.fT=function(a){a.browserua=ba.Fh;k("securestop",!a.success,d.Fg|d.Gs,a);k=r.Rb;};this.transition=function(a){k("transition",!1,0,a);};};d.FHa=b;d.dsb=c;d.DHa=k;d.EHa=h;d.Fg=1;d.rz=2;d.If=4;d.RL=8;d.Gs=16;d.QL=32;d.zW=64;},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(5);c=a(6);k=a(11);h=a(2);g=a(3);n=a(67);f.Fe(h.I.EL,function(a){k.na(b.config);k.na(H._cad_global.msl.wf);g.Y.get(n.ns)().then(function(b){d.Qg=b;a(c.Nb);})["catch"](function(b){a(b);});});},function(f,d,a){var c,k,h;function b(a,b,c,d,h,k){this.context=a;this.errorCode=b;this.Hhb=c;this.L7=h;this.K7=k;this.name=d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(329);h=a(4);b.prototype.send=function(a,b,c,d,h,k){var g;g=this;return this.f5a(a,b,c,d,h,k).then(function(a){return g.context.H0a.send(a.context,a.request);});};b.prototype.f5a=function(a,b,c,d,h,f){var g,p;try{g=k.FVa(this.context.FQ.rG(),c,this.context.ar().Tf,this.context.dy,this.context.platform,d,h);p=this.DVa(a,b,f);return Promise.resolve({context:p,request:g});}catch(x){return Promise.reject(x);}};b.prototype.DVa=function(a,b,c){return{bc:this.context.bc,log:a,Go:this.name,url:this.context.gnb(k.GVa(this.context.Je,this.context.dy,this.name)),profile:b,W7:this.Hhb,timeout:h.mm(59),headers:{"Content-Type":"text/plain"},K7:this.K7,L7:void 0!==c?c:this.L7};};b.prototype.gu=function(a){return k.gu(this.errorCode,a);};b.prototype.jla=function(a){var b;b=this;a.forEach(function(a){if(b.SQ(a))throw a.error;});};b.prototype.SQ=function(a){return void 0!==a.error;};a=b;a=f.__decorate([c.O(),f.__param(0,c.Ag()),f.__param(1,c.Ag()),f.__param(2,c.Ag()),f.__param(3,c.Ag()),f.__param(4,c.Ag()),f.__param(5,c.Ag())],a);d.Rn=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.eea="PboPlaydataServicesSymbol";d.XL="PboPlaydataServicesProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.AE="PboConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.ResponseType||(d.ResponseType={});f[f.Text=0]="Text";f[f.cub=1]="Xml";f[f.Oob=2]="Binary";d.Gqb="HttpClientSymbol";d.eE="LegacyHttpSymbol";},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(11);k=a(148);d.gi="$attributes";d.oU="$children";d.pU="$name";d.Jp="$text";d.Cza="$parent";d.GD="$sibling";d.beb=/^\s*\<\?xml.*\?\>/i;d.pAb=function(a,b,c){a=(a||"").replace(d.beb,"");k.d$('<nccp:wrapper xmlns:nccp="http://www.netflix.com/eds/nccp/'+b+'">'+a+"</nccp:wrapper>",c);};d.c5a=function(a,b,c){for(var d=2;d<arguments.length;++d);for(d=1;(b=arguments[d++])&&(a=a[b]););return a;};d.mAb=function(a,g){var h;a?h=b.ld(a[d.Jp]):void 0!==g&&(h=g);c.YO(h);return h;};d.Xdb=function(a){var b;a&&(b=a[d.Jp]);c.e_a(b);return b;};d.nzb=function(a,b){var c;c={};c[d.gi]=a;c[d.Jp]=b;return c;};},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(758);a=a(755);d.abb=f;d.dJ=a;},function(f,d,a){var c,k,h,g;function b(a,b,d){var p;p=h.bL.call(this,a,b,c.oE.Yfa)||this;p.config=a;p.F5=b;p.is=d;p.type=c.Xi.nv;p.FD=g.oc.fma();return p;}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);k=a(68);h=a(402);f=a(90);g=a(130);new f.Jv();ja(b,h.bL);b.prototype.yp=function(){return Promise.resolve(!1);};b.prototype.jx=function(){return Promise.resolve("");};b.prototype.fK=function(){return!1;};b.prototype.dK=function(){return!1;};b.prototype.hK=function(){return Promise.resolve(!1);};b.prototype.cK=function(){return!1;};b.prototype.iQ=function(a){return this.FD[a];};b.prototype.JZ=function(a){return a;};b.prototype.isa=function(a){switch(a){case c.dh.Vn:return"1.4";case c.dh.wv:return"2.2";}};b.prototype.Pw=function(){var a;a={};a[k.da.mV]="avc1.4D401E";a[k.da.rL]="avc1.4D401F";a[k.da.sba]="avc1.4D4028";a[k.da.EV]="hev1.1.6.L90.B0";a[k.da.FV]="hev1.1.6.L93.B0";a[k.da.GV]="hev1.1.6.L120.B0";a[k.da.HV]="hev1.1.6.L123.B0";a[k.da.IV]="hev1.1.6.L150.B0";a[k.da.JV]="hev1.1.6.L153.B0";a[k.da.wV]="hev1.2.6.L90.B0";a[k.da.yV]="hev1.2.6.L93.B0";a[k.da.AV]="hev1.2.6.L120.B0";a[k.da.CV]="hev1.2.6.L123.B0";a[k.da.VD]="hev1.2.6.L150.B0";a[k.da.WD]="hev1.2.6.L153.B0";a[k.da.xV]="hev1.2.6.L90.B0";a[k.da.zV]="hev1.2.6.L93.B0";a[k.da.BV]="hev1.2.6.L120.B0";a[k.da.DV]="hev1.2.6.L123.B0";a[k.da.nV]="hev1.2.6.L90.B0";a[k.da.oV]="hev1.2.6.L93.B0";a[k.da.pV]="hev1.2.6.L120.B0";a[k.da.qV]="hev1.2.6.L123.B0";a[k.da.rV]="hev1.2.6.L150.B0";a[k.da.tV]="hev1.2.6.L153.B0";a[k.da.tL]="hev1.2.6.L90.B0";a[k.da.uL]="hev1.2.6.L93.B0";a[k.da.vL]="hev1.2.6.L120.B0";a[k.da.wL]="hev1.2.6.L123.B0";a[k.da.MU]=g.oc.eg;a[k.da.NU]=g.oc.eg;a[k.da.OU]=g.oc.eg;a[k.da.PU]=g.oc.eg;a[k.da.QU]=g.oc.eg;a[k.da.Baa]=g.oc.eg;a[k.da.fL]=g.oc.eg;a[k.da.gL]=g.oc.eg;a[k.da.hL]=g.oc.eg;a[k.da.iL]=g.oc.eg;a[k.da.jL]=g.oc.eg;a[k.da.RU]=g.oc.daa;a[k.da.Xfa]=g.oc.OE;a[k.da.nM]=g.oc.OE;a[k.da.oM]=g.oc.OE;a[k.da.pM]=g.oc.OE;a[k.da.Sfa]=g.oc.NE;a[k.da.Tfa]=g.oc.NE;a[k.da.Ufa]=g.oc.NE;a[k.da.Vfa]=g.oc.NE;a[k.da.Wfa]=g.oc.NE;a[k.da.j$]=g.oc.ah;a[k.da.k$]=g.oc.ah;a[k.da.l$]=g.oc.ah;a[k.da.m$]=g.oc.ah;a[k.da.n$]=g.oc.ah;a[k.da.o$]=g.oc.ah;a[k.da.p$]=g.oc.ah;a[k.da.q$]=g.oc.ah;return a;};b.prototype.c3=function(){return this.config().kU;};b.prototype.tB=function(){return Promise.resolve(void 0);};b.prototype.uH=function(){return Promise.resolve(void 0);};b.prototype.tG=function(a){var b;b=[];this.is.Qf(a)&&b.push(this.isa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};b.wD="video/mp4;codecs={0};";d.sl=b;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);b.fma=function(a){var d;d={};d[c.rd.HE]=b.qL;d[c.rd.sL]=b.qL;d[c.rd.jM]=b.SD;d[c.rd.Pp]=b.Pp;d[c.rd.eg]=a||b.eg;d[c.rd.Ls]=b.OE;d[c.rd.ah]=b.ah;return d;};b.qL="avc1.640028";b.SD="hev1.1.6.L93.B0";b.caa="dvhe.01000000";b.BBa="dvhe.dtr.uhd60";b.daa="dvhe.05.09";b.eg=b.caa;b.Pp=b.SD;b.qU="mp4a.40.2";b.vpb="ec-3";b.Xtb="vp9";b.OE="vp09.00.11.08.02";b.NE="vp09.02.31.10.01";b.ah="av01.0.04M.08";b.CBa=[b.daa,b.BBa,b.caa];d.oc=b;},function(f,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});ja(a,Error);d.Cz=a;d.bM="PromiseTimerSymbol";},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b){a.call(this);this.ja=b;}b(c,a);c.create=function(a){return new c(a);};c.cb=function(a){a.Te.complete();};c.prototype.lf=function(a){var b;b=this.ja;if(b)return b.kb(c.cb,0,{Te:a});a.complete();};return c;}(a(10).qa);d.QD=f;},function(f,d,a){var b,c,k,h;b=a(111);c=a(438);k=a(437);h=a(434);d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 1===a.length||2===a.length&&b.px(a[1])?k.from(a[0]):h.lG()(c.of.apply(void 0,a));};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.wl=function(){};d.oX="StringObjectReaderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Daa="DebugConfigSymbol";d.MD="DebugSymbol";},function(f,d,a){var n;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function c(a,b){return null===a.Fr?!1:a.Fr.ie===b?!0:c(a.Fr,b);}function k(a){function c(a,d){void 0===d&&(d=[]);d.push(b(a.ie));return null!==a.Fr?c(a.Fr,d):d;}return c(a).reverse().join(" --\x3e ");}function h(a){a.Y_.forEach(function(a){if(c(a,a.ie))throw a=k(a),Error(n.dBa+" "+a);h(a);});}function g(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});n=a(52);d.wB=b;d.Era=function(a,b,c){var d;d="";a=c(a,b);0!==a.length&&(d="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Fi&&(b=g(a.Fi));d=d+"\n "+b;a.JA.Osa&&(d=d+" - "+a.JA.Osa);}));return d;};d.NWa=h;d.T9a=function(a,b){var c,d;if(b.n4()||b.g4()){c="";d=b.V5a();b=b.Z4a();null!==d&&(c+=d.toString()+"\n");null!==b&&b.forEach(function(a){c+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+c;}return" "+a;};d.getFunctionName=g;},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,l,x,w,z,y,F;function b(a){var d;d=this;this.createPlayer=function(a,b){var c,d;b=void 0===b?{}:b;b="number"===typeof b?{cg:b}:b;c=b.manifest;if(c&&c.runtime)c.clientGenesis=c.clientGenesis||x.GA(),c=n.Y.get(l.gW).decode(c);else if(c){d=n.Y.get(F.wz)();d.yja(c);c.wx=d;}a=n.Y.get(z.Dea).MZa(a);return n.Y.get(w.aX).create(a,b,c).KK;};this.createPlaylistPlayer=function(a,b,c){var d;d=n.Y.get(y.Cea);return n.Y.get(w.aX).create(d.nmb(a),b,c);};this.closeAllPlayers=function(a){g.oea(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;c.jI(function(c){c.P?(h.config.iT?d.yib().then(function(){k.PJa();})["catch"](function(a){n.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,b.pO);a(Object.assign({success:!0},b.pO));}):a({success:!1,error:n.Fv(c.errorCode||r.I.Hba,c)});});};this.applyConfig=function(a){d.Xya(a);h.Jla(a);};this.prepare=function(a,b){var c;a=d.U6.Pma(a)||[];c=new Set();a=a.filter(function(a){var b;b=c.has(a.M);c.add(a.M);return!b;});if(h.config.jl&&H._cad_global.videoPreparer)try{H._cad_global.videoPreparer.Lu(a,b);}catch(R){n.log.warn("Prepare call failed",R);}};this.predownload=function(a,b){if((a=d.U6.Pma(a))&&h.config.Vy&&H._cad_global.videoPreparer)try{H._cad_global.videoPreparer.bfb(a,b);}catch(Y){n.log.warn("Predownload call failed",Y);}};this.lookupPredownloaded=function(){return h.config.Vy&&H._cad_global.videoPreparer?H._cad_global.videoPreparer.zx():Promise.resolve([]);};this.ppmUpdate=function(a){H._cad_global.playerPredictionModel?((a=d.U6.o0a(a))&&H._cad_global.playerPredictionModel.update(a),H._cad_global.prefetchEvents&&H._cad_global.prefetchEvents.update(a)):n.log.error("ppmUpdate called but there is no ppmModel");};this.canFulfillUIIntent=function(a,b,c){if(h.config.jl&&H._cad_global.videoPreparer)return H._cad_global.videoPreparer.P_(a,b,c);c(!1);};this.supportsHdr=function(a){var b;try{b=n.nB().fK();a(b);}catch(Y){a(!1);}};this.supportsUltraHd=function(a){n.nB().hK().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=n.nB().cK();a(b);}catch(Y){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=n.nB().dK();a(b);}catch(Y){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=n.Y.get(v.SL).F0();return a?Promise.resolve(a.gn()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=n.Y.get(v.SL).F0();return a?Promise.resolve(a.Y5a()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return h.config.H1a;};this.U6=n.Y.get(p.TW);this.Xya(a);h.lXa([a]);n.nB().hK();}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);k=a(175);h=a(5);g=a(20);n=a(3);p=a(197);r=a(2);u=a(27);v=a(202);A=a(124);l=a(153);x=a(17);w=a(322);z=a(250);y=a(249);F=a(102);b.prototype.Xya=function(a){n.Y.get(u.GL).data=a;};b.prototype.yib=function(){return n.Y.get(A.XL)()["catch"](function(a){n.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){n.log.error("Unable to send deferred playdata",a);});};b.pO={};d.yX=b;},function(f,d,a){var k,h,g,n,p,r,u,v,A,l,x,w;function b(a){b=x.Rb;d.SGa=a.appendBuffer?"appendBuffer":"append";d.HL=!g.config.XUa&&!!a.remove;d.jW=!!a.addEventListener;}function c(a,c,f,w,A,x){var z,y;z=this;this.j=a;this.pga=A;this.Sz=!1;this.Sv={data:[],state:"",operation:""};this.type=c;this.ri=new p.Si();c=f(this.type);this.Lha={Type:this.type};g.config.VB&&(y=!0,this.b2=new n.Zd(!1));x.trace("Adding source buffer",this.Lha,{TypeId:c});this.gd=w.addSourceBuffer(c);b(this.gd);d.jW&&(this.gd.addEventListener("updatestart",function(){z.Sv.state="updatestart";}),this.gd.addEventListener("update",function(){z.Sv.state="update";}),this.gd.addEventListener("updateend",function(){z.Sz=!1;z.tga&&z.tga();z.Sv.state="updateend";y&&z.gd.buffered.length&&(y=!1,z.b2.set(!0));}),this.gd.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&x.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(Z){}b=u.Y.get(h.Dj);a.jd(b(v.I.gJa,k.J2(z.type)));}),this.gd.addEventListener("abort",function(){}));a.addEventListener(r.$L,function(){z.gd=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});k=a(205);h=a(63);g=a(5);n=a(173);p=a(55);r=a(20);u=a(3);a(78);v=a(2);a(4);A=a(11);l=a(267);x=a(16);w=a(14);c.prototype.bk=function(){return this.Sz;};c.prototype.updating=function(){return this.gd?this.gd.updating:!1;};c.prototype.dxa=function(a){this.tga=a;};c.prototype.buffered=function(){return this.gd.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.gQ=function(){var a,b,c,d,g,h,p;try{a=this.gd.buffered;g=0;if(a)for(b=[],c=0,d=a.length,c=0;c<d;c++){h=a.start(c);p=a.end(c);g=g+(p-h);A.na(p>h);b.push(h+"-"+p);}if(b)return{Buffered:g.toFixed(3),Ranges:b.join("|")};}catch(Y){}};c.prototype.Yja=function(a,b){A.na(this.gd.buffered&&1>=this.gd.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.gQ()));A.na(!this.Sz);this.txa("append",a);b=b&&b.kk/1E3;w.fa(b)&&this.gd.timestampOffset!==b&&(this.gd.timestampOffset=b);this.gd[d.SGa](a);d.jW&&(this.Sz=!0);};c.prototype.remove=function(a,b){A.na(!this.Sz);try{d.HL&&(this.txa("remove"),this.gd.remove(a,b),d.jW&&(this.Sz=!0));}catch(F){u.log.error("SourceBuffer remove exception",F,this.Lha);}};c.prototype.txa=function(a,b){this.Sv.data=b||[];this.Sv.state="init";this.Sv.operation=a;};c.prototype.I8=function(){};c.prototype.appendBuffer=function(a){this.j.wh.WTa(this,a);return!0;};c.prototype.lO=function(a){l.QLa("MediaRequest {0} readystate: {1}",a.Ei(),a.readyState);this.j.wh.lO(a);return!0;};c.prototype.endOfStream=function(){};c.prototype.addEventListener=function(a,b,c){this.ri.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.ri.removeListener(a,b);};oa.Object.defineProperties(c.prototype,{N:{configurable:!0,enumerable:!0,get:function(){return this.type;}},vO:{configurable:!0,enumerable:!0,get:function(){return this.pga.vO;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.pga.sourceId;}}});d.Yca=c;},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,l,x;function b(a,b){var p;p=new h.Si();this.QH=this.ZF=this.$F=void 0;this.addEventListener=p.addListener.bind(this);this.removeEventListener=p.removeListener.bind(this);this.emit=p.Cc.bind(this);this.xi=a;this.Uz=b;this.gw=l++;this.Ya=g.Tc("MediaRequest");"notification"===b?k.config.Lo&&(this.ct=A.$Ha):this.ct=c.Yab;n.na(void 0!==this.ct);this.BM=this.mg=this.IN=void 0;this.Ie=d.Ua.$a.UNSENT;this.EY=this.hY=this.XM=this.CF=void 0;this.jk=this.Pv=0;this.Hga=this.kY=this.Rv=this.$s=this.tY=this.Kg=this.pN=this.Ze=this.hw=void 0;this.$Y=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(270);k=a(5);h=a(55);g=a(3);n=a(11);p=a(16);r=a(7);u=a(6);v=a(14);A=a(268);l=0;(function(){function a(){var a;a={requestId:this.gw,segmentId:this.om,isHeader:this.Vb,ptsStart:this.Or,ptsOffset:this.kk,responseType:this.IN,duration:this.dr,readystate:this.Ie};this.stream&&(a.bitrate=this.stream.L);return JSON.stringify(a);}p.Aa(b.prototype,{ocb:function(a){this.Ie===d.Ua.$a.OPENED&&(this.QH=!0,this.pN=this.Kg=a.timestamp,this.Ie=d.Ua.$a.Js,this.emit(d.Ua.pd.vda,a));},n6:function(a){var b;if(this.Ie<d.Ua.$a.Is){this.$Y=[];b=a.timestamp-this.pN;!this.Vb&&0<b&&(this.Hga=!0,this.$Y.push(b));!0!==k.config.rqa&&(this.Kg=a.timestamp);this.Ie=d.Ua.$a.Is;this.emit(d.Ua.pd.uda,a);}},scb:function(a){this.Ie===d.Ua.$a.Is&&(this.tY=this.Kg=a.timestamp,a.newBytes=a.bytesLoaded-this.Pv,this.Pv=a.bytesLoaded,v.fb(this.tY)&&this.emit(d.Ua.pd.wda,a));},Ki:function(a){if(this.Ie===d.Ua.$a.Js||this.Ie===d.Ua.$a.Is)this.QH=!1,this.Kg=a.timestamp,this.Ie=d.Ua.$a.DONE,a.newBytes=this.$g-this.Pv,this.Pv=this.$g,v.fb(this.Rv)&&(this.Kg=this.Rv,0===a.newBytes&&(this.tY=this.Rv)),v.fb(this.$s)&&(this.pN=this.$s),this.hw=a.response,this.emit(d.Ua.pd.vE,a);},jcb:function(a){this.QH=!1;this.emit(d.Ua.pd.RHa,a);},o6:function(a){this.Kg=a.timestamp;this.CF=a.httpcode;this.XM=a.errorcode;this.hY=d.Ua.ws.name[this.XM];this.EY=a.nativecode;this.emit(d.Ua.pd.Dv,a);this.QH=!1;},open:function(a,b,c,g,h,p,n){this.Ey=!1;this.BM=b;this.mg=a;this.IN=c;if(!a)return!1;this.Ie=d.Ua.$a.OPENED;this.ct.nH(this,b,n);return!0;},Ke:function(){-1!==[d.Ua.$a.OPENED,d.Ua.$a.Js,d.Ua.$a.Is].indexOf(this.Ie)&&this.abort();return!0;},ola:function(){this.hw=void 0;this.kG.response=void 0;this.jqa=this.kG.cadmiumResponse.content=void 0;},i9:function(a){this.mg=a;this.ct.F9(this);return!0;},abort:function(){this.Ie=d.Ua.$a.ym;this.ct.AZ(this);return!0;},pause:u.Rb,getResponseHeader:u.Rb,getAllResponseHeaders:u.Rb,Ei:function(){return this.gw;},toString:a,toJSON:a,$6a:function(){var a,b;if(k.config.R9&&r.Cm&&r.Cm.getEntriesByType&&(!v.fb(this.$s)||!v.fb(this.Rv))){a=this.url.split("nflxvideo.net")[0].split("//").pop()+"";a=a+("*nflxvideo.net/range/"+this.$F+"-"+this.ZF+"*");b=new RegExp(a);a=r.Cm.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];v.fb(a)&&(0<a.startTime&&(this.$s=a.startTime,0<a.requestStart&&(this.$s=Math.max(this.$s,a.requestStart))),0<a.responseStart&&(this.kY=a.responseStart),0<a.responseEnd&&(this.Rv=a.responseEnd));}},l9a:function(){return v.fb(this.$s)&&v.fb(this.Rv)&&v.fb(this.kY);}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ie;},set:function(){}},status:{get:function(){return this.CF;}},Zl:{get:function(){return this.XM;}},O1:{get:function(){return this.hY;}},zn:{get:function(){return this.EY;}},Qc:{get:function(){return this.Pv;}},response:{get:function(){return this.hw;}},track:{get:function(){return this.xi;}},label:{get:function(){return this.Uz;}},byteLength:{get:function(){return this.ZF-this.$F+1;}},url:{get:function(){return this.mg;}},responseType:{get:function(){return this.IN;}},JVa:{get:function(){return this.BM;}},$g:{get:function(){return this.BM.end-this.BM.start+1;}},cf:{get:function(){return this.pN;}},Oe:{get:function(){return this.Kg;}},s$a:{get:function(){return this.$s;}},z3a:{get:function(){return this.kY;}},fXa:{get:function(){return this.Rv;}},connect:{get:function(){return this.Hga;}},Tr:{get:function(){return this.$Y;}},Spa:{get:function(){return this.response&&0<this.response.byteLength;}}});}());(function(a){a.pd={vda:"mr1",uda:"mr2",wda:"mr3",vE:"mr4",RHa:"mr5",Dv:"mr6"};a.$a={UNSENT:0,OPENED:1,Js:2,Is:3,DONE:5,Bm:6,ym:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.Ui={pl:0,bq:1,yW:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.ws={NO_ERROR:-1,ECa:0,zaa:1,QCa:2,ICa:3,kBa:4,Y$:5,CU:6,lBa:7,mBa:8,nBa:9,hBa:10,jBa:11,X$:12,iBa:13,gBa:14,sEa:15,zba:16,yba:17,NV:18,AL:19,OV:20,PV:21,uEa:22,BL:23,Aba:24,tEa:25,LCa:26,FCa:27,kLa:28,vCa:29,wCa:30,xCa:31,yCa:32,zCa:33,ACa:34,BCa:35,CCa:36,DCa:37,GCa:38,HCa:39,JCa:40,KCa:41,MCa:42,NCa:43,OCa:44,PCa:45,RCa:46,SCa:47,jLa:48,TIMEOUT:49,LV:50,wba:51,rEa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};}(x||(x={})));d.Ua=Object.assign(b,x);},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(6);c=a(5);k=a(53);h=a(17);g=a(2);n=a(11);p=a(3);r=a(19);u=a(7);v=a(116);A=a(14);f.Fe(g.I.Wba,function(a){var z,l,F;function f(){var a;f=b.Rb;a=setInterval(w,c.config.B$a);k.Vd.addListener(k.ck,function(b){b&&b.isPopStateEvent?z.trace("popstate event, Lock timers can stay"):(r.xc(l,function(a,b){localStorage.removeItem(b.dm);}),clearInterval(a));},b.tz);}function w(){var a;a=h.Lw();r.xc(l,function(b,c){b=localStorage.getItem(c.dm);b=JSON.parse(b);b.updated=a;localStorage.setItem(c.dm,JSON.stringify(b));});}n.na(v.storage);z=p.Tc("StorageLock");l={};F=Date.now()+"-"+Math.floor(1E6*Math.random());d.gD={uA:function(a,d){var n,k,v,w,x,y,D;function p(a){localStorage.setItem(k,JSON.stringify(a));a={dm:k};l[k]=a;z.trace("Lock acquired",{Name:a.dm});f();d({P:!0,nR:a});}if(localStorage){n=h.Lw();k="lock-"+a;a={updated:n,sessionId:F,count:1};try{if(k in localStorage){v=localStorage.getItem(k);x=JSON.parse(v);A.pu(x.updated)&&(w=x.updated);y=u.lE(n-w)*b.Cj<c.config.A$a;D=F===x.sessionId;y?D?(x.count+=1,z.debug("Incremented lock count for existing playbackSession",{id:F,count:x.count}),x.updated=n,p(x)):d({P:!1}):(z.error("Lock was expired or invalid, ignoring",{Epoch:n,LockEpoch:w}),p(a));}else p(a);}catch(pa){z.error("Error acquiring Lock",{errorSubCode:g.G.ue,errorDetails:r.Bc(pa)});d({P:!0});}}else u.Jra?z.error("Local storage access exception",{errorSubCode:g.G.xLa,errorDetails:r.Bc(u.Jra)}):z.error("No localstorage",{errorSubCode:g.G.yLa}),d({P:!0});},release:function(a,c){var d,g;n.na(l[a.dm]==a);if(localStorage){try{d=localStorage.getItem(a.dm);g=JSON.parse(d);1<g.count?(--g.count,localStorage.setItem(a.dm,JSON.stringify(g)),z.trace("Lock count decremented",{Name:a.dm,count:g.count})):(localStorage.removeItem(a.dm),delete l[a.dm],z.trace("Lock released",{Name:a.dm}));}catch(Y){z.error("Unable to release Lock",{Name:a.dm},Y);}c&&c(b.Nb);}}};c.config.AP?d.gD.uA("session",function(c){d.gD.bxa=c;a(b.Nb);}):a(b.Nb);});},function(f,d,a){(function(){var F97,l,x,w,z,y,F,K,S,m,P,q,R,fa,Z,O,G,n18;function g(a,b,g){var V97,p,k,r,f,w68,R68,D68,S68;V97=2;while(V97!==14){w68="no_suitable_s";w68+="tre";w68+="am";R68="Del";R68+="ayT";R68+="a";R68+="rg";R68+="et";D68="V";D68+="M";D68+="A";D68+="F";S68="no_v";S68+="ali";S68+="d";S68+="_";switch(V97){case 2:V97=g.filter(function(a){var U97;U97=2;while(U97!==1){switch(U97){case 2:return 110>=a.Hb&&0<a.Hb;break;case 4:return 848<=a.Hb||1>a.Hb;break;U97=1;break;}}}).length<g.length?1:5;break;case 4:p=!1,k=!1,r=!1,f=g.length-1;V97=3;break;case 5:b=null;V97=4;break;case 1:return n(a,b,g);break;case 3:V97=0<=f&&g[f].Hb>=a.Xsa&&!(p=g[f],b=h(p,a),k=c(p.L,b.pr,a),r=d(b.pr,a),b.MH=k,k=k<r,p=p.Hb>=a.Xsa&&p.Hb<=a.Cab,r=k&&p)?9:7;break;case 9:r=[S68],p||r.push(D68),k||r.push(R68),b.reason=r.join("");V97=8;break;case 8:f--;V97=3;break;case 7:l.Ja(b)&&(b=h(g[0],a),b.reason=w68);return b;break;}}}function u(a){var S97,b,c;S97=2;while(S97!==3){switch(S97){case 2:b=new P(),c=this.Vha;b.dc=q(a,function(a){var H97;H97=2;while(H97!==1){switch(H97){case 4:return a.L<=c;break;H97=1;break;case 2:return a.L>=c;break;}}})||a[a.length-1];b.nG=!0;return b;break;}}}function d(a,b){var s1t=F977;var q97,c,t68,j68,D97,L97;q97=2;while(q97!==9){t68="si";t68+="gm";t68+="oi";t68+="d";j68="l";j68+="o";j68+="g";switch(q97){case 1:q97=0===b.gT.lastIndexOf(j68,0)?5:3;break;case 2:s1t.u68(0);D97=s1t.I68(8333,91667);s1t.u68(8);L97=s1t.I68(7984,20,996,9);a=m(a,0,D97)/L97;q97=1;break;case 3:return 0===b.gT.lastIndexOf(t68,0)?(c=b.Lwa[b.gT])&&2==c.length?1E3*(c[0]+c[1]*fa(a)):b.xr:b.xr;break;case 5:c=b.Lwa[b.gT];return c&&2==c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.xr;break;}}}function c(a,b,c){var u97;u97=2;while(u97!==5){switch(u97){case 2:a=S(c.Zh,a*c.E5);return K(a,b);break;}}}function r(a,b,c){var Y97,g,h,p,n,T68,i68;Y97=2;function d(b){var o97,c,Z68;o97=2;while(o97!==8){Z68="buff";Z68+="_";Z68+="lt_hist";switch(o97){case 5:return!1;break;case 4:n=Z68;p=c;return!0;break;case 2:c=b.ka;o97=1;break;case 1:o97=!c||(b.L>g.L?a.fnb:1)*b.L>c?5:4;break;}}}while(Y97!==7){T68="n";T68+="o_fe";T68+="asi";T68+="ble";T68+="_stream";i68="Must ha";i68+="ve at lea";i68+="st";i68+=" one selected strea";i68+="m";switch(Y97){case 8:return b;break;case 2:F(!l.R(c),i68);g=b[c],h=g;g.ka&&(g=q(b.slice(0,Math.min(c+(a.QTa?2:1),b.length)).reverse(),d),void 0===g&&(g=b[0],n=T68,p=g.ka));b=new P();b.dc=g;h!==g&&(b.reason=n,b.pr=p);Y97=8;break;}}}function n(a,d,g){var t97,h,p;t97=2;while(t97!==3){switch(t97){case 2:h=new P();p=Math.max(a.lC,a.CR,d.e4?a.P5:-Infinity);h.dc=q(g.filter(function(b){var c97;c97=2;while(c97!==1){switch(c97){case 2:return b.L<=a.cC;break;case 4:return b.L>=a.cC;break;c97=1;break;}}}).reverse(),function(d){var l97,g,n,k,U68,Y68,M68,f68;l97=2;while(l97!==7){U68="n";U68+="o_historical_lte_";U68+="m";U68+="inbitrate";Y68="hi";Y68+="st_tput";Y68+="_";Y68+="lt_minbitr";Y68+="ate";M68="lt_";M68+="hist_";M68+="lte_minbitr";M68+="ate";f68="h";f68+="ist";f68+="_";f68+="buff";f68+="time";switch(l97){case 1:l97=d.L>p?5:8;break;case 2:g={ka:d.ka,Qj:d.pa&&d.pa.Qj,tk:d.pa&&d.pa.tk};l97=1;break;case 5:d=d.L;k=g.ka;l97=3;break;case 3:k?(n=b(a,d),c(d,k,a)<=n?(h.pr=k,g&&(h.cl=g.Qj?g.Qj:0,h.ek=g.Qj&&g.tk),h.reason=f68,g=!0):g=!1):g=!1;l97=9;break;case 9:return g;break;case 8:n=g.ka,d.L<=n?(h.pr=n,g&&(h.cl=g.Qj?g.Qj:0,h.ek=g.Qj?g.tk:void 0),h.reason=M68,g=!0):n?(h.pr=n,g&&(h.cl=g.Qj?g.Qj:0,h.ek=g.Qj?g.tk:void 0),h.reason=Y68,g=!1):(h.reason=U68,g=!0);l97=9;break;}}})||g[0];return h;break;}}}function A(a,b,c,d){var K97,J68;K97=2;while(K97!==1){J68="p";J68+="layin";J68+="g";switch(K97){case 2:return J68===a.G_?v(a,b,c,d):r(a,c,d);break;}}}function b(a,b){var X97,c,d;X97=2;while(X97!==13){switch(X97){case 2:X97=a.NQ?1:14;break;case 5:X97=0===d?4:3;break;case 9:return c[c.length-1].d;break;case 1:c=a.NQ,d=R(c,function(a){var k97;k97=2;while(k97!==1){switch(k97){case 2:return b<=a.r;break;case 4:return b>a.r;break;k97=1;break;}}});X97=5;break;case 8:F977.K68(2);a=c[F977.I68(d,1)];c=c[d];return Math.floor(a.d+(c.d-a.d)*(b-a.r)/(c.r-a.r));break;case 4:return c[0].d;break;case 14:return a.xr;break;case 3:X97=-1===d?9:8;break;}}}F97=2;while(F97!==9){n18="1SI";n18+="YbZ";n18+="rN";n18+="J";n18+="Cp9";switch(F97){case 2:l=a(8),x=a(13),w=a(36),z=a(9);a(120);F97=5;break;case 5:y=w.console,F=w.assert,K=w.Cbb,S=w.KVa,m=w.fG,P=w.Hm,q=w.bUa,R=w.b_,fa=a(31).Tjb,Z=a(189),O=a(41),G=a(120).ILa;f.K={STARTING:function(a,b,c){var v97,e18;v97=2;while(v97!==1){e18="hi";e18+="sto";e18+="rical";switch(v97){case 2:return e18===a.V3?p(a,b,c):a.wja?g(a,b,c):n(a,b,c);break;}}},BUFFERING:A,REBUFFERING:A,PLAYING:v,PAUSED:v};n18;F97=9;break;}}function v(a,b,c,d,g,h){var M97,Z,O,Q,aa,t,r,f,v,w,A,z,D,K,S,ha,m,ba,da,ma,Y,R,fa,y18,l18;M97=2;while(M97!==21){y18="player m";y18+="is";y18+="sing str";y18+="eam";y18+="ingIndex";l18="Must have";l18+=" at least";l18+=" one selected stream";switch(M97){case 26:return r;break;case 8:M97=m==x.zL.CMa||!g.ka?7:6;break;case 22:(g=q(c.slice(0,d).reverse(),function(a,b){var W97;W97=2;while(W97!==1){switch(W97){case 2:return n(a,c[Math.max(d-b-2,0)],f,aa,t,!0);break;}}}))||(g=c[0],Y=!0);M97=16;break;case 10:M97=(R=n(g,c[Math.max(d-1,0)],g,R,Q,!1))?20:24;break;case 7:return u.call(this,c);break;case 18:Z=p(g,D,a.E3),O=p(g,D+Z,a.c5);M97=17;break;case 19:M97=k.call(this,K,A)?18:16;break;case 12:0<a.gC&&(m=Math.min(m,a.gC));ha=m-S.$;M97=10;break;case 4:R=p(g,D,a.C3);F977.K68(0);Q=p(g,F977.L68(D,R),a.a5);this.Vha||(this.Vha=Math.min(g.L,a.CR));M97=8;break;case 20:M97=d+1<c.length?19:25;break;case 16:r.dc=g||f;r.nG=Y;r.ZZa=!R;M97=26;break;case 17:g=q(c.slice(d+1,a.Q8&&K>=a.Z9?c.length:d+2),function(a,b){var b97;b97=2;while(b97!==1){switch(b97){case 4:return n(a,c[d/b],f,Z,O,+5);break;b97=1;break;case 2:return n(a,c[d+b],f,Z,O,!1);break;}}});M97=16;break;case 6:g.V&&g.V.length||(g.JT=!0);S=G.from(b.buffer.V);m=b.buffer.Kt;M97=12;break;case 25:Y=!0;M97=16;break;case 23:aa=p(g,D,a.D3),t=p(g,D+aa,a.b5);M97=22;break;case 24:M97=g.V&&g.V.length?23:16;break;case 2:F(!l.R(d),l18);F(l.fa(b.qk),y18);r=new P(),f=g=c[d],v=b.buffer.S,w=b.buffer.ze,A=b.buffer.Ra,z=b.buffer.ij,D=b.qk,K=z-w,m=this.gN||x.zL.Ig,ba=b.state===x.ta.Ye||b.state===x.ta.Yn?b.buffer.by:0,da=a.A5,ma=a.Bx?a.Bx:1E3;M97=4;break;}}function k(b,c){var y97;y97=2;while(y97!==1){switch(y97){case 2:return b>a.Ax&&(l.R(this.Zo)||this.SB>this.Zo||c-this.Zo>a.mR&&b>a.e5);break;}}}function n(c,d,g,p,n,k){var x1t=F977;var s97,q,Y,G,la,R,ea,Q,Z,f,u,x,O,l,K,aa,t,ta,m,P,h18,c18,G18,P18,k18,s18,z18,H18,O18,B18;s97=2;while(s97!==49){h18="Secon";h18+="d stream";h18+=" unavailable";c18="Seco";c18+="nd str";c18+="eam undefined";G18="Fi";G18+="rst ";G18+="str";G18+="eam has failed";P18="Firs";P18+="t strea";P18+="m not ";P18+="in rang";P18+="e";k18="Firs";k18+="t stream ";k18+="un";k18+="availab";k18+="le";s18="Firs";s18+="t ";s18+="s";s18+="tream ";s18+="undefined";z18="Sec";z18+="ond";z18+=" stream";z18+=" has fai";z18+="led";H18="Second strea";H18+="m not in r";H18+="ang";H18+="e";switch(s97){case 40:R=Y;s97=39;break;case 50:Y=Math.max(0,Math.min(Y,c.V.length-P)),G=Math.max(0,Math.min(G,x.V.length-P-Y)),0<Y&&ea.push(c.V.ZC.subarray(P,P+Y)),0<G&&ea.push(x.V.ZC.subarray(P+Y,P+Y+G));s97=53;break;case 36:s97=0<R?54:53;break;case 3:s97=!k||!x?9:13;break;case 29:n&&(n.result&&(r.g5=n.f5),a.ZJ||(c.$k=!!n.$k));fa={a3a:n&&n.result,ka:f,L:c.L};return n&&n.result;break;case 41:s97=R?40:50;break;case 34:F(x.inRange,H18);F(!x.Tg,z18);x1t.K68(1);F(x1t.L68(ea,d));s97=31;break;case 20:d=S.length;k=ba;q=ha,Y=p,G=n,la=ma;n=b.X0a;R=b.W$a;p=c.ka;ea=l.length,Q=c.V&&c.V.length,Z=x.V&&x.V.length;s97=26;break;case 30:n=!1;s97=29;break;case 14:return!0;break;case 2:f=c.ka,u=k?a.Q1:a.JP,x=c.V&&c.V.length;s97=1;break;case 54:Q=Math.min(R,x.V.length-P),ea.push(x.V.ZC.subarray(P,P+Q)),R-=Q,P+=Q,P>=x.V.length&&(P=0);s97=36;break;case 43:Z||(x=c);ea=[];s97=41;break;case 7:return!0;break;case 9:s97=x&&!a.ZJ?8:6;break;case 39:s97=0<R?38:37;break;case 52:a:{O18=" >=";O18+=" fra";O18+="g";O18+="mentsLength: ";B18="St";B18+="rea";B18+="min";B18+="gInde";B18+="x: ";ea=l.concat(ea);Z=K;x1t.u68(0);x=x1t.I68(d,Y);Q=la;O=a.FI;la=a.ZJ;l=ea.ga;Y=Math.min(ea.length,d+Y+G);G=ea.Bd;K=ea.sizes;x1t.u68(2);ta=x1t.L68(m,Z);m=Infinity;P=R=0;ea=ea.Bd[0];x1t.u68(3);u=x1t.L68(l,1E3,ea,u);x1t.u68(4);ea=x1t.L68(k,8,0,p);x1t.K68(5);k=x1t.L68(8,0,p);x1t.u68(6);p=x1t.L68(l,1E3);d>=Y&&y.error(B18+d+O18+Y);Z+=ea;0===g&&(Z=0);x1t.u68(6);Z*=x1t.I68(l,1E3);x1t.K68(6);g*=x1t.L68(l,1E3);x1t.u68(6);O*=x1t.I68(l,1E3);x1t.u68(6);Q*=x1t.I68(l,1E3);for(ta*=l/1E3;d<Y;){aa=K[d];t=G[d];if(q<aa){for(R=Math.max(aa,n);q<R;){Z=u;q+=K[P];++P;ea=G[P];u+=ea;}if(!la&&(ea=g-Z,ea<O)){n={result:!1,f5:ea/(l/1E3),$k:!1};break a;}x1t.u68(2);ea=x1t.L68(g,Z);}else if(ea=Math.max(g-Z,0),ea<Q&&ea<R){n={result:!1,f5:Math.min(ea,m)/(l/1E3),$k:!0};break a;}x1t.K68(7);Z+=x1t.I68(aa,k,p,0);g+=t;for(q-=aa;u<Z&&P<d;){q+=K[P];++P;u+=G[P];}++d;if(d>=x&&ea>ta)break;R=ea;m=Math.min(ea,m);}n={result:!0,f5:m/(l/1E3),$k:!0};}s97=29;break;case 37:R=G;s97=36;break;case 38:Q=Math.min(R,c.V.length-P),ea.push(c.V.ZC.subarray(P,P+Q)),R-=Q,P+=Q,P>=c.V.length&&(P=0);s97=39;break;case 6:s97=f>=c.L*u?14:13;break;case 8:s97=f>=Math.max(c.wR,c.L*u)&&!c.tT?7:13;break;case 4:k||x||(c.JT=!0);s97=3;break;case 53:s97=0<Y||0<G?52:51;break;case 31:s97=!p||p<c.L*a.B3||!Q?30:43;break;case 26:a.h5&&(la=Math.min(la,m-K));F(c,s18);F(c.ee,k18);F(c.inRange,P18);s97=22;break;case 5:return!1;break;case 1:s97=fa&&!fa.a3a&&fa.ka>=f&&fa.L<=c.L?5:4;break;case 51:n=p>c.wR?{result:!0,X$a:0,$k:!0}:{result:!1,X$a:0,$k:!0};s97=29;break;case 22:F(!c.Tg,G18);F(x,c18);F(x.ee,h18);s97=34;break;case 13:g=!a.v0||c===g||c.Ub===g.Ub&&h?0:(g=c.pa)&&g.Yf&&g.Yf.va?g.Yf.va+a.r0*(g.Yf.Cg?Math.sqrt(g.Yf.Cg):0):0;x=d,l=S,K=w+g-v,u=da,m=z-v;x1t.K68(2);g=x1t.L68(A,v);P=D;s97=20;break;}}}function p(a,b,c){var Q97;Q97=2;while(Q97!==1){switch(Q97){case 2:return a.V?a.V.y0(b,c):0;break;case 4:return a.V?a.V.y0(b,c):2;break;Q97=1;break;}}}}function h(a,b){var N97,d,c,E18,o18;N97=2;while(N97!==12){E18="his";E18+="t_th";E18+="ro";E18+="ughput";o18="hi";o18+="s";o18+="t";o18+="_tdige";o18+="st";switch(N97){case 14:d?(b=a.xf(b.hT/100)||c.dc.ka,c.pr=b,c.reason=o18):c.dc.ka&&(b=c.dc.ka,c.pr=b,c.reason=E18);return c;break;case 7:N97=(d=l.fa(b.hT)&&0<=b.hT&&100>=b.hT&&!l.R(a)&&!l.Ja(a))?6:14;break;case 6:a.xf=Z.f6a(a),d=l.Bb(a.xf)?!0:!1;N97=14;break;case 4:c.ek=a.Qj&&a.tk;c.cl=a.Qj?a.Qj:0;a=O(c.ek,{});N97=7;break;case 2:c=new P();c.dc=a;a=c.dc.pa||{};N97=4;break;}}}function p(a,b,c){var P97,d,p18,g18;P97=2;while(P97!==7){p18="hist";p18+="_bit";p18+="r";p18+="ate";g18="v";g18+="b";switch(P97){case 1:P97=void 0===d?5:4;break;case 5:return a.wja?g(a,b,c):n(a,b,c);break;case 2:d=z.storage.get(g18);P97=1;break;case 4:a=new P();a.dc=q(c.reverse(),function(a){var j97;j97=2;while(j97!==1){switch(j97){case 4:return a.L>d;break;j97=1;break;case 2:return a.L<=d;break;}}})||c[0];a.reason=p18;return a;break;}}}}());},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(a,c,d){this.u=a;this.tag=c;this.length=d;this.tag=c;this.startOffset=a.offset;this.length=d;}a.prototype.parse=function(){this.u.offset=this.startOffset+this.length;this.u.Nx=0;return!0;};a.prototype.boa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.Vt)for(var d=0;d<this.Vt.length;d++)b=b.concat(this.Vt[d].boa(a));return b;};a.prototype.eH=function(a){for(a=this.boa(a);0<a.length;)return a[0];};a.prototype.Jia=function(){for(this.Vt=[];this.u.offset<this.startOffset+this.length;)this.Vt.push(this.u.Iia(this));};return a;}();f.prototype.skip=f.prototype.parse;d["default"]=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.qHa="6674654e-696c-5078-6966-665374726d21";d.rHa="6674654e-696c-4878-6165-6465722e7632";d.jda="6674654e-696c-5078-6966-66496e646578";d.uW="6674654e-696c-4d78-6f6f-6653697a6573";d.sW="6674654e-696c-5378-6565-6b506f696e74";d.nIa="cedb7489-e77b-514c-84f9-7148f9882554";d.Eda="524f39a2-9b5a-144f-a244-6c427c648df4";d.tW="6674654e-696c-4678-7261-6d6552617465";},function(f){function d(){this.qb=this.qb||{};this.lF=this.lF||void 0;}function a(a){return"function"===typeof a;}function b(a){return"object"===typeof a&&null!==a;}f.K=d;d.EventEmitter=d;d.prototype.qb=void 0;d.prototype.lF=void 0;d.P_a=10;d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this.lF=a;return this;};d.prototype.emit=function(c){var d,h,g,n;this.qb||(this.qb={});if("error"===c&&(!this.qb.error||b(this.qb.error)&&!this.qb.error.length)){d=arguments[1];if(d instanceof Error)throw d;h=Error('Uncaught, unspecified "error" event. ('+d+")");h.context=d;throw h;}h=this.qb[c];if(void 0===h)return!1;if(a(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),h.apply(this,d);}else if(b(h))for(d=Array.prototype.slice.call(arguments,1),n=h.slice(),h=n.length,g=0;g<h;g++)n[g].apply(this,d);return!0;};d.prototype.addListener=function(c,k){if(!a(k))throw TypeError("listener must be a function");this.qb||(this.qb={});this.qb.Ozb&&this.emit("newListener",c,a(k.listener)?k.listener:k);this.qb[c]?b(this.qb[c])?this.qb[c].push(k):this.qb[c]=[this.qb[c],k]:this.qb[c]=k;b(this.qb[c])&&!this.qb[c].Qnb&&(k=void 0===this.lF?d.P_a:this.lF)&&0<k&&this.qb[c].length>k&&(this.qb[c].Qnb=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.qb[c].length),"function"===typeof console.trace&&console.trace());return this;};d.prototype.on=d.prototype.addListener;d.prototype.once=function(b,d){var g;function c(){this.removeListener(b,c);g||(g=!0,d.apply(this,arguments));}if(!a(d))throw TypeError("listener must be a function");g=!1;c.listener=d;this.on(b,c);return this;};d.prototype.removeListener=function(c,d){var h,g,n;if(!a(d))throw TypeError("listener must be a function");if(!this.qb||!this.qb[c])return this;h=this.qb[c];n=h.length;g=-1;if(h===d||a(h.listener)&&h.listener===d)delete this.qb[c],this.qb.removeListener&&this.emit("removeListener",c,d);else if(b(h)){for(;0<n--;)if(h[n]===d||h[n].listener&&h[n].listener===d){g=n;break;}if(0>g)return this;1===h.length?(h.length=0,delete this.qb[c]):h.splice(g,1);this.qb.removeListener&&this.emit("removeListener",c,d);}return this;};d.prototype.removeAllListeners=function(b){var c;if(!this.qb)return this;if(!this.qb.removeListener)return 0===arguments.length?this.qb={}:this.qb[b]&&delete this.qb[b],this;if(0===arguments.length){for(c in this.qb)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.qb={};return this;}c=this.qb[b];if(a(c))this.removeListener(b,c);else if(c)for(;c.length;)this.removeListener(b,c[c.length-1]);delete this.qb[b];return this;};d.prototype.listeners=function(b){return this.qb&&this.qb[b]?a(this.qb[b])?[this.qb[b]]:this.qb[b].slice():[];};d.prototype.listenerCount=function(b){if(this.qb){b=this.qb[b];if(a(b))return 1;if(b)return b.length;}return 0;};d.listenerCount=function(a,b){return a.listenerCount(b);};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.mDa=function(){this.AUDIO=0;this.VIDEO=1;this.yL=2;this.Di=function(){};};d.Jaa="DownloadTrackConstructorFactorySymbol";},function(f,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.uCa="display";a.oBa="console";a.Tsb="remote";a.cW="memory";a.RMa="writer";d.nz=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fE="LicenseProviderSymbol";},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(2);k=a(370);h=a(369);g=a(28);d.d$=function(a,d){var p,n;try{p=k.eob(a);}catch(v){b.log.error("xml2xmlDoc exception",v);}g.cb(function(){if(p&&p.documentElement)try{n=h.fob(p);}catch(v){b.log.error("xmlDoc2js exception",v);}g.cb(function(){n?d({P:!0,object:n}):d({P:!1,T:c.G.lba});});});};},function(f){f.K=function(d){return{minInitVideoBitrate:d.lC,minHCInitVideoBitrate:d.P5,maxInitVideoBitrate:d.cC,minInitAudioBitrate:d.EI,maxInitAudioBitrate:d.sI,minHCInitAudioBitrate:d.DI,minAcceptableVideoBitrate:d.CR,minRequiredBuffer:d.FI,minPrebufSize:d.Zh,rebufferingFactor:d.u7,useMaxPrebufSize:d.Q9,maxPrebufSize:d.eC,maxRebufSize:d.y5,maxBufferingTime:d.xr,minAudioMediaRequestSizeBytes:d.N5,minVideoMediaRequestSizeBytes:d.S5,initialBitrateSelectionCurve:d.NQ,initSelectionLowerBound:d.vqa,initSelectionUpperBound:d.wqa,throughputPercentForAudio:d.QT,bandwidthMargin:d.r_,bandwidthMarginContinuous:d.s_,bandwidthMarginCurve:d.t_,conservBandwidthMargin:d.t0,switchConfigBasedOnInSessionTput:d.j9,conservBandwidthMarginTputThreshold:d.mG,conservBandwidthMarginCurve:d.u0,switchAlgoBasedOnHistIQR:d.aya,switchConfigBasedOnThroughputHistory:d.av,maxPlayerStateToSwitchConfig:d.x5,lowEndMarkingCriteria:d.Z4,IQRThreshold:d.UV,histIQRCalcToUse:d.J3,bandwidthMarginScaledRatioUpperBound:d.bVa,maxTotalBufferLevelPerSession:d.yr,highWatermarkLevel:d.cqa,toStableThreshold:d.yya,toUnstableThreshold:d.XT,skipBitrateInUpswitch:d.Q8,watermarkLevelForSkipStart:d.Z9,highStreamRetentionWindow:d.C3,lowStreamTransitionWindow:d.a5,highStreamRetentionWindowUp:d.E3,lowStreamTransitionWindowUp:d.c5,highStreamRetentionWindowDown:d.D3,lowStreamTransitionWindowDown:d.b5,highStreamInfeasibleBitrateFactor:d.B3,lowestBufForUpswitch:d.Ax,lockPeriodAfterDownswitch:d.mR,lowWatermarkLevel:d.e5,lowestWaterMarkLevel:d.Bx,lowestWaterMarkLevelBufferRelaxed:d.h5,mediaRate:d.E5,maxTrailingBufferLen:d.A5,audioBufferTargetAvailableSize:d.k_,videoBufferTargetAvailableSize:d.V9,maxVideoTrailingBufferSize:d.Bsa,maxAudioTrailingBufferSize:d.qsa,fastUpswitchFactor:d.JP,fastDownswitchFactor:d.Q1,maxMediaBufferAllowed:d.tR,simulatePartialBlocks:d.uT,simulateBufferFull:d.zxa,considerConnectTime:d.v0,connectTimeMultiplier:d.r0,lowGradeModeEnterThreshold:d.Xra,lowGradeModeExitThreshold:d.Yra,maxDomainFailureWaitDuration:d.ssa,maxAttemptsOnFailure:d.osa,exhaustAllLocationsForFailure:d.Mna,maxNetworkErrorsDuringBuffering:d.wsa,maxBufferingTimeAllowedWithNetworkError:d.s5,fastDomainSelectionBwThreshold:d.P1,throughputProbingEnterThreshold:d.r9,throughputProbingExitThreshold:d.mya,locationProbingTimeout:d.Lra,finalLocationSelectionBwThreshold:d.Yna,throughputHighConfidenceLevel:d.jya,throughputLowConfidenceLevel:d.lya,locationStatisticsUpdateInterval:d.O4,enablePerfBasedLocationSwitch:d.$A,probeServerWhenError:d.Gn,probeRequestTimeoutMilliseconds:d.Y6,allowSwitchback:d.Dq,probeDetailDenominator:d.my,maxDelayToReportFailure:d.qR,countGapInBuffer:d.z0,allowReissueMediaRequestAfterAbort:d.xw,bufferThresholdForAbort:d.C_,allowCallToStreamSelector:d.SZ,pipelineScheduleTimeoutMs:d.E6,maxPartialBuffersAtBufferingStart:d.Dx,minPendingBufferLen:d.Q5,maxPendingBufferLen:d.dC,maxPendingBufferLenSABCell100:d.vR,maxActiveRequestsSABCell100:d.pR,enableRequestPacing:d.xP,maxStreamingSkew:d.z5,maxPendingBufferPercentage:d.w5,maxRequestsInBuffer:d.Ex,headerRequestSize:d.CQ,minBufferLenForHeaderDownloading:d.O5,reserveForSkipbackBufferMs:d.OS,numExtraFragmentsAllowed:d.p6,pipelineEnabled:d.Cn,maxParallelConnections:d.vI,socketReceiveBufferSize:d.Bxa,audioSocketReceiveBufferSize:d.o_,videoSocketReceiveBufferSize:d.X9,headersSocketReceiveBufferSize:d.A3,updatePtsIntervalMs:d.bU,bufferTraceDenominator:d.E_,bufferLevelNotifyIntervalMs:d.BA,aseReportDenominator:d.xA,aseReportIntervalMs:d.f_,enableAbortTesting:d.qna,abortRequestFrequency:d.vja,streamingStatusIntervalMs:d.b9,prebufferTimeLimit:d.AC,minBufferLevelForTrackSwitch:d.ER,penaltyFactorForLongConnectTime:d.y6,longConnectTimeThreshold:d.X4,additionalBufferingLongConnectTime:d.OZ,additionalBufferingPerFailure:d.PZ,rebufferCheckDuration:d.zJ,enableLookaheadHints:d.tna,lookaheadFragments:d.Ura,enableOCSideChannel:d.Lo,OCSCBufferQuantizationConfig:d.TL,updateDrmRequestOnNetworkFailure:d.Uya,deferAseScheduling:d.cP,maxDiffAudioVideoEndPtsMs:d.rR,useHeaderCache:d.BD,useHeaderCacheData:d.tP,defaultHeaderCacheSize:d.aP,defaultHeaderCacheDataPrefetchMs:d.c1,headerCacheMaxPendingData:d.x3,recreateHeaderCacheDownloadTracks:d.pgb,headerCachePriorityLimit:d.y3,headerCacheFlushForCircularBuffer:d.R7a,enableUsingHeaderCount:d.WG,networkFailureResetWaitMs:d.b6,networkFailureAbandonMs:d.a6,maxThrottledNetworkFailures:d.xR,throttledNetworkFailureThresholdMs:d.PT,abortUnsentBlocks:d.qo,maxUnsentBlocks:d.B5,abortStreamSelectionPeriod:d.BZ,lowThroughputThreshold:d.d5,excludeSessionWithoutHistoryFromLowThroughputThreshold:d.I1,mp4ParsingInNative:d.bta,sourceBufferInOrderAppend:d.Cxa,requireAudioStreamToEncompassVideo:d.Mn,allowAudioToStreamPastVideo:d.Rja,pruneRequestsFromNative:d.Lfb,preciseBufferLevel:d.Zeb,enableManagerDebugTraces:d.Ce,managerDebugMessageInterval:d.hsa,managerDebugMessageCount:d.gsa,bufferThresholdToSwitchToSingleConnMs:d.xO,bufferThresholdToSwitchToParallelConnMs:d.D_,netIntrStoreWindow:d.Pbb,minNetIntrDuration:d.tbb,fastHistoricBandwidthExpirationTime:d.T2a,bandwidthExpirationTime:d.ZUa,failureExpirationTime:d.R2a,historyTimeOfDayGranularity:d.Y7a,expandDownloadTime:d.G2a,minimumMeasurementTime:d.zbb,minimumMeasurementBytes:d.ybb,throughputMeasurementTimeout:d.ylb,initThroughputMeasureDataSize:d.F8a,throughputMeasureWindow:d.xlb,throughputIQRMeasureWindow:d.wlb,IQRBucketizerWindow:d.sFa,connectTimeHalflife:d.pXa,responseTimeHalflife:d.Ehb,historicBandwidthUpdateInterval:d.X7a,throughputMeasurementWindowCurve:d.zlb,httpResponseTimeWarmup:d.o8a,responseTimeWarmup:d.Fhb,throughputWarmupTime:d.Dlb,minimumBufferToStopProbing:d.xbb,throughputPredictor:d.Alb,holtWintersDiscretizeInterval:d.b8a,holtWintersHalfLifeAlpha:d.c8a,holtWintersHalfLifeGamma:d.e8a,holtWintersInitialCounts:d.f8a,holtWintersMinInitialCounts:d.g8a,holtWintersHalfLifeCurveEnabled:d.d8a,holtWintersUpperBoundEnabled:d.h8a,ase_stream_selector:d.kUa,enableFilters:d.x1a,filterDefinitionOverrides:d.k3a,defaultFilter:d.N_a,secondaryFilter:d.eib,defaultFilterDefinitions:d.O_a,initBitrateSelectorAlgorithm:d.V3,bufferingSelectorAlgorithm:d.G_,debugLocationSelectorFailureSimulation:d.W0,debugDumpFragments:d.U0,debugLocationHistoryThroughput:d.V0,debugNetworkMonitorThroughput:d.X0,debugVerboseSimulation:d.xma,secondThroughputEstimator:d.g8,secondThroughputMeasureWindowInMs:d.Gwa,marginPredictor:d.o5,simplePercentilePredictorPercentile:d.yxa,simplePercentilePredictorCalcToUse:d.wxa,simplePercentilePredictorMethod:d.xxa,IQRBandwidthFactorConfig:d.fca,networkMeasurementGranularity:d.c6,HistoricalTDigestConfig:d.Bba,TputTDigestConfig:d.mMa,maxIQRSamples:d.tsa,minIQRSamples:d.Vsa,useResourceTimingAPI:d.R9,ignoreFirstByte:d.rqa,resetHeuristicStateAfterSkip:d.uhb,periodicHistoryPersistMs:d.jS,saveVideoBitrateMs:d.YS,needMinimumNetworkConfidence:d.OI,biasTowardHistoricalThroughput:d.w_,maxFastPlayBufferInMs:d.v5,maxFastPlayBitThreshold:d.u5,headerCacheTruncateHeaderAfterParsing:d.$pa,audioFragmentDurationMilliseconds:d.n_,videoFragmentDurationMilliseconds:d.W9,notifyOpenConnectBlackBox:d.rcb,addHeaderDataToNetworkMonitor:d.LZ,useMediaCache:d.Vy,mediaCachePartitionConfig:d.D5,diskCacheSizeLimit:d.WA,mediaCachePrefetchMs:d.zR,appendCachedMediaAsMediaRequest:d.VTa,enablePsd:d.vP,psdCallFrequency:d.h7,psdReturnToNormal:d.i7,psdThroughputThresh:d.rJ,discardLastNPsdBins:d.JG,psdPredictor:d.xg,enableRl:d.fr,rlLogParam:d.MC,hindsightDenominator:d.I3,hindsightDebugDenominator:d.H3,hindsightParam:d.DQ,minimumTimeBeforeBranchDecision:d.IR,enableSessionHistoryReport:d.VG,earlyStageEstimatePeriod:d.u1,lateStageEstimatePeriod:d.vra,maxNumSessionHistoryStored:d.uR,minSessionHistoryDuration:d.GR,enableInitThroughputEstimate:d.UG,applyInitThroughputEstimate:d.$Z,initThroughputPredictor:d.xqa,appendMediaRequestOnComplete:d.YZ,waitForDrmToAppendMedia:d.nU,forceAppendHeadersAfterDrm:d.g2,startMonitorOnLoadStart:d.V8,reportFailedRequestsToNetworkMonitor:d.H7,reappendRequestsOnSkip:d.yJ,maxActiveRequestsPerSession:d.qI,limitAudioDiscountByMaxAudioBitrate:d.H4,appendFirstHeaderOnComplete:d.XZ,maxAudioFragmentOverlapMs:0,maxNumberTitlesScheduled:d.kJ?d.kJ.maxNumberTitlesScheduled:1,editAudioFragments:d.Tl,editVideoFragments:d.$w,declareBufferingCompleteAtSegmentEnd:d.Y0,applyProfileTimestampOffset:d.Bw,applyProfileStreamingOffset:d.Gq,requireDownloadDataAtBuffering:d.N7,requireSetupConnectionDuringBuffering:d.O7,renormalizeFirstFragment:d.ahb,renormalizeLastFragment:d.bhb,recordFirstFragmentOnSubBranchCreate:d.w7};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);c=a(19);k=a(14);(function(){var g,n,p;function a(a){b.na(void 0!==g[a]);return g[a];}g={'"':'""',"\r":"","\n":" "};n=/["\r\n]/g;p=/[", ]/;d.WZa=function(b){return k.fb(b)?k.fa(b)?b:k.Gd(b)?b.replace(n,a):k.Mqa(b)?b:isNaN(b)?"NaN":"":"";};d.j5=function(a){var b,g;b=d.WZa;g="";c.xc(a,function(a,c){a=b(a)+"="+b(c);p.test(a)&&(a='"'+a+'"');g=g?g+(","+a):a;});return g;};}());},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fo={vz:"PRIMARY",h$:"ASSISTIVE",W$:"COMMENTARY"};d.uX={assistive:d.fo.h$,closedcaptions:d.fo.h$,directorscommentary:d.fo.W$,commentary:d.fo.W$,subtitles:d.fo.vz,primary:d.fo.vz};},function(f){f.K=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rca="ManifestEncoderSymbol";d.gW="ManifestTransformerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.WK="BookmarkSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dba="IDBDatabaseFactorySymbol";d.ica="IndexedDBFactorySymbol";d.VV="IndexedDBStorageFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.zHa="NativeLocalStorageSymbol";d.nda="NativeLocalStorageFactorySymbol";d.Eba="IDBFactorySymbol";},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(30);d.Lpb=function(){this.sO=[];this.kU=[];this.m_=b.hv.nv;this.jU=b.Xi.nv;};d.lL="DeviceCapabilitiesConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.mM="Utf8EncoderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.TK="Base16EncoderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.iE='video/mp4; codecs="avc1.640028"';d.hE='audio/mp4; codecs="mp4a.40.5"';d.XU="DrmTraitsSymbol";},function(f,d,a){f=a(232);a=a(231);d.async=new a.uU(f.tU);},function(f,d,a){function b(a){var b,d;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){d=b[c];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d;}return"@@iterator";}f=a(75);d.OBb=b;d.iterator=b(f.root);d.lob=d.iterator;},function(f,d,a){var b,c,k,h,g,n,p,r;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(10);f=a(46);k=a(66);h=a(448);g=a(447);n=a(234);p=function(a){function c(b){a.call(this,b);this.destination=b;}b(c,a);return c;}(f.Hh);d.TLa=p;a=function(a){function d(){a.call(this);this.Dr=[];this.AH=this.tf=this.closed=!1;this.s9=null;}b(d,a);d.prototype[n.Ay]=function(){return new p(this);};d.prototype.uf=function(a){var b;b=new r(this,this);b.$x=a;return b;};d.prototype.next=function(a){if(this.closed)throw new h.uz();if(!this.tf)for(var b=this.Dr,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].next(a);};d.prototype.error=function(a){if(this.closed)throw new h.uz();this.AH=!0;this.s9=a;this.tf=!0;for(var b=this.Dr,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].error(a);this.Dr.length=0;};d.prototype.complete=function(){if(this.closed)throw new h.uz();this.tf=!0;for(var a=this.Dr,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.Dr.length=0;};d.prototype.unsubscribe=function(){this.closed=this.tf=!0;this.Dr=null;};d.prototype.oZ=function(b){if(this.closed)throw new h.uz();return a.prototype.oZ.call(this,b);};d.prototype.lf=function(a){if(this.closed)throw new h.uz();if(this.AH)return a.error(this.s9),k.Ej.EMPTY;if(this.tf)return a.complete(),k.Ej.EMPTY;this.Dr.push(a);return new g.ufa(this,a);};d.prototype.d_=function(){var a;a=new c.qa();a.source=this;return a;};d.create=function(a,b){return new r(a,b);};return d;}(c.qa);d.mi=a;r=function(a){function c(b,c){a.call(this);this.destination=b;this.source=c;}b(c,a);c.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};c.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.lf=function(a){return this.source?this.source.subscribe(a):k.Ej.EMPTY;};return c;}(a);d.sob=r;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tea="ReportSyncSymbol";d.Sea="ReportApiErrorSyncSymbol";d.pba="FtlProbeConfigSymbol";d.qba="FtlProbeSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.DU="CachedDrmDataSymbol";},function(f,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.ao="com.microsoft.playready";a.$d="com.microsoft.playready.hardware";a.BE="com.microsoft.playready.software";a.Jsb="com.chromecast.playready";a.Ksb="org.chromium.external.playready";a.pqb="com.apple.fps.2_0";a.SMa="com.widevine.alpha";d.Mb=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.YL="PlatformConfigDefaultsSymbol";},function(f){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof H&&(d=H);}f.K=d;},function(f){f.K={Lp:{sX:0,Yea:1,Gh:2,name:["transient","semiTransient","permanent"]},Kp:{kba:0,Vea:1,dM:2,xE:3,Wp:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Wtb:{Jtb:0,orb:1,npb:2,Wp:100,name:["trailer","montage","content"]},Wn:{tca:0,Pea:1,DMa:2,TCa:3,Wp:100,name:["left","right","up","down"]},bE:{tBa:0,dM:1,rqb:2,gqb:3,Aob:4,qqb:5,pAa:6,Wp:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},jz:{xE:0,taa:1,Wp:100,name:["playFocused","detailsOpened"]}};},function(f,d,a){d=a(421);f.K="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.ca:Date.now;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rea=function(a,b){var c;this.H8=function(){c||(c=setInterval(b,a));};this.d0=function(){c&&(clearInterval(c),c=void 0);};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.eh||(d.eh={});f[f.Exa=1]="sourceopen";f[f.Jo=2]="currentTimeChanged";f[f.RC=3]="seeked";f[f.OR=4]="needlicense";f[f.Bra=5]="licenseadded";f[f.Dxa=6]="sourceBuffersAdded";f[f.q6=7]="onNeedKey";},function(f,d,a){var c,k,h;function b(a,b){this.jo=b?[b]:[];this.Qz="$op$"+h++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);k=a(11);h=0;b.prototype.addListener=function(a,b){var d;d=this;k.uma(a);k.na(0>this.jo.indexOf(a));a[c.BW+this.Qz]=b;this.jo=this.jo.slice();this.jo.push(a);this.jo.sort(function(a,b){return d.bkb(a,b);});};b.prototype.removeListener=function(a){var b;k.uma(a);this.jo=this.jo.slice();0<=(b=this.jo.indexOf(a))&&this.jo.splice(b,1);};b.prototype.set=function(a,b){if(this.o!==a){b=Object.assign({oldValue:this.o,newValue:a},b);this.o=a;a=this.jo;for(var c=a.length,d=0;d<c;d++)a[d](b);}};b.prototype.bkb=function(a,b){return(a[c.BW+this.Qz]||0)-(b[c.BW+this.Qz]||0);};oa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.Zd=b;},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);c=a(139);k=a(5);h=a(55);g=a(17);a(3);a(78);n=a(2);p=a(14);d.Zca=function(){var a;a=new h.Si();return{addEventListener:a.addListener,removeEventListener:a.removeListener,download:function(a,d){var v;function h(a,b){a.ocb({mediaRequest:a,timestamp:b});}function r(a){h(a.mediaRequest.vn,a.timestamp);}function f(a){var b;b=a.mediaRequest.vn;b.readyState=c.Ua.$a.Is;a.connect?(a.mediaRequest=b,a.readyState=b.readyState):a={mediaRequest:b,readyState:b.readyState,timestamp:g.bb(),connect:!1};b.n6(a);}function u(a){var b,d,g,h;b=a.mediaRequest;d=a.errorcode;g=a.httpcode;h=c.Ua.ws;if(void 0!==b&&(b=b.vn,void 0!==b&&b.readyState!==c.Ua.$a.Bm))if(d===n.G.zs)b.readyState=c.Ua.$a.ym,a.mediaRequest=b,a.readyState=b.readyState,b.jcb(a);else{b.readyState=c.Ua.$a.Bm;switch(d){case n.G.gz:g=h.CU;break;case n.G.QV:g=h.NV;break;case n.G.YD:g=400<g&&500>g?h.AL:500<=g?h.PV:h.NV;break;case n.G.fz:g=h.OV;break;case n.G.XD:g=h.X$;break;case n.G.ZD:g=h.BL;break;case n.G.tv:g=h.BL;break;case n.G.MV:g=h.Aba;break;case n.G.xba:g=h.AL;break;case n.G.VCa:g=h.OV;break;default:g=h.BL;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=g;a.nativecode=d;b.o6(a);}}d=b.bc.download(a,d);if(a.vn){v=a.vn;if(v.readyState===c.Ua.$a.OPENED||v.readyState===c.Ua.$a.Bm)v.readyState=c.Ua.$a.Js,k.config.Xab?d.cjb(r):h(v,g.bb());}d.zja(function(b){var d,h;d=b.request.vn;void 0!==d&&(b.P?a.j&&d.readyState!==c.Ua.$a.DONE&&d.readyState!==c.Ua.$a.ym&&(d.readyState!==c.Ua.$a.Bm&&d.readyState===c.Ua.$a.Js&&f({mediaRequest:b.request}),d.readyState=c.Ua.$a.DONE,d.Vb||(h={mediaRequest:d,readyState:d.readyState,timestamp:g.bb(),cadmiumResponse:b},a.j.A9+=1,d.$6a(),d.l9a()&&(a.j.T7+=1,b.Vf.Bf=Math.ceil(d.z3a),b.Vf.mk=Math.ceil(d.fXa),b.Vf.requestTime=Math.floor(d.s$a)),d.kG=h,d.Ki(h))):d.readyState!==c.Ua.$a.ym&&(h={mediaRequest:b.request,timestamp:g.bb(),errorcode:b.T,httpcode:b.rh},u(h)));});d.mjb(function(a){var b,d;b=a.mediaRequest.vn;d=a.bytes;void 0!==b&&(b.readyState===c.Ua.$a.Js&&f(a),p.fa(d)&&(a.mediaRequest=b,a.timestamp=g.bb(),d>b.Qc&&(a.newBytes=d-b.Qc,a.bytesLoaded=d,b.scb(a))));});d.ajb(u);return d;}};};},function(f,d,a){var h,g,n,p,r,u,v,A,l,x,w,z,y,F,K;function b(a,b){var y,D;function d(b){return g.HHa(a,y,b);}function f(){var a,b,c;b=x.Tc("Eme");a=new l.hf.vs(b,void 0,d,{fe:!1,bm:!1});c=x.Y.get(z.Bz);return l.hf.Tn(b,"cenc",void 0,{fe:!1,bm:!1,m4:r.config.ci,Jwa:{Nsa:r.config.iib,ila:r.config.i8,iCb:r.config.hib},Ta:a,fva:r.config.f7,Ep:r.config.Ep,AD:r.config.AD,Hp:r.config.z1,tAb:r.config.jib,ika:c.PO(),vza:c.vG([]),EB:r.config.EB});}function u(a,b){var c;c={ha:b.xid,uB:function(){return 0;},M:b.movieId,nI:!1};r.config.ci&&(D.info("secure stop is enabled"),b=a.P?{success:a.P,persisted:!0,ss_km:a.K5,ss_sr:a.WC,ss_ka:a.o0}:{success:a.P,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Gb,ErrorExternalCode:a.Dd,ErrorEdgeCode:a.Sl,ErrorDetails:a.cause&&a.cause.Ea},b.browserua=F.Fh,a=new A.qz(c,"securestop",a.P?"info":"error",b),H._cad_global.logBatcher.km(a));}function v(){function a(a,b){var g,p;g=h.Qg.ku(b.profileId);if(!g)return D.warn("profile not found in release drm session, this is an orphan drmSession"),c(a,b);if(!b.$b||0===b.$b.length||!b.$b[0].uu)return D.error("releaseDrmSession exception: missing valid keySessionData"),c(a,b);y={bc:n.bc,log:D,profile:g};if(0<b.$b.length){D.info("Sending the deferred playdata and secure stop data");p=f();return p.create(r.config.Uc).then(function(){return p.$_a(b);}).then(function(d){D.info("Sent the deferred playdata and secure stop data");u(d,b);return c(a,b);})["catch"](function(d){d&&d.code===w.I.aLa&&c(a,b);d&&d.code===w.I.$Ka&&c(a,b);D.error("Unable to send last stop",d);u(d,b);throw d;});}D.info("No key session so just send the playdata");return d(b).then(function(){D.trace("Successfully sent stop command for previous session");return c(a,b);})["catch"](function(a){D.error("Unable to send stop command for previous session",a);throw a;});}k(D).then(function(c){var d;d=c.nP.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(d).then(function(){D.info("release drm session completed for "+d.length+" entries");b(p.Nb);})["catch"](function(a){a=a||{};a.DrmCacheSize=d.length;D.error("Unable to release one or more DRM session data",a);b(p.Nb);});})["catch"](function(a){D.error("Unable to load DRM session data",a);b(p.Nb);});}D=x.Tc("PlayDataManager");b=b||p.Rb;r.config.Fp?b(p.Nb):v();}function c(a,b){return a?a.D7(b):Promise.resolve();}function k(a){var b;if(!d.ena){b=x.Y.get(y.DU);d.ena=new Promise(function(c,d){b.ova().then(function(){c(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);d(b);});});}return d.ena;}Object.defineProperty(d,"__esModule",{value:!0});f=a(18);h=a(122);g=a(194);n=a(29);p=a(6);r=a(5);u=a(20);v=a(53);A=a(89);l=a(37);x=a(3);w=a(2);z=a(107);y=a(165);F=a(7);K=a(124);d.OJa=function(a){var h,n,f,w,A;function d(){n||(a.Yd("pdsb"),n=x.Y.get(K.XL)().then(function(b){w=b;a.Yd("pdsc");return b;})["catch"](function(b){h.error("Unable to initialize the playdata services",b);a.Yd("pdse");throw b;}));return n;}function g(){f=!0;w&&w.close();v.Vd.removeListener(v.ck,g);}h=x.bf(a,"PlayDataManager");f=!1;if(!l.hf.Tn||!l.hf.vs){A=l.Gda();l.hf.Tn=A.se;l.hf.vs=A.request;}a.Yd("pdctor");a.addEventListener(u.hg,function(){v.Vd.removeListener(v.ck,g);});a.addEventListener(u.WW,function(){var b;if(!r.config.Fp&&a.Rf){b=a.nC.Wla();k(h).then(function(a){return a.Dja(b);})["catch"](function(){h.error("Unable to load/add cached DRM data");});}});a.addEventListener(u.hg,function(){var b;if(!f){a.Onb();b=[function(){return r.config.Fp||!a.Rf?Promise.resolve():new Promise(function(b){var d;h.info("Sending the expedited playdata and secure stop data");d=a.nC.Wla();a.Rf.Pna(d).then(function(b){h.info("Sent the expedited playdata and secure stop data");r.config.ci&&a.mC.fT({success:b.P,persisted:!1,ss_km:b.K5,ss_sr:b.WC,ss_ka:b.o0});return k(h);}).then(function(a){return c(a,d);}).then(function(){b();})["catch"](function(c){h.error("Unable to send the expedited playdata and secure stop data",c);r.config.ci&&a.mC.fT({success:c.P,state:c.state,ErrorCode:c.code,ErrorSubCode:c.Gb,ErrorExternalCode:c.Dd,ErrorEdgeCode:c.Sl,ErrorDetails:c.cause&&c.cause.Ea});b();});});}(),function(){return d().then(function(b){return b.tkb(a);}).then(function(){h.info("Sent the playdata");})["catch"](function(a){h.error("Unable to send the playdata",a);});}(),function(){if(H._cad_global.logBatcher)return new Promise(function(a){H._cad_global.logBatcher.flush(!1)["catch"](function(){h.error("Unable to send logblob");a();}).then(function(){a();});});Promise.resolve();}()];Promise.all(b).then(function(){a.tta();})["catch"](function(){a.tta();});}});v.Vd.addListener(v.ck,g);return{xib:function(c){a.Yd("pdpb");r.config.iT||d().then(function(b){return b.send(a.M);}).then(function(){r.config.Fp?(a.Yd("pdpc"),c(p.Nb)):b(a,function(){a.Yd("pdpc");c(p.Nb);});})["catch"](function(){a.Yd("pdpe");c(p.Nb);});}};};d.PJa=function(){new Promise(function(a){b({},function(b){a(b);});});};f.Fe(w.I.As,function(a){a(p.Nb);});},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(6);c=a(5);k=a(2);h=a(3);g=a(16);n=a(7);f.Fe(k.I.Jba,function(a){var k,f,A;function p(){A&&clearTimeout(A);a(b.Nb);p=g.Rb;}k=h.Tc("BatteryManager");d.Mq={cBa:"chargingchange",Zoa:function(){return f?f.level:null;},F2:function(){return f?f.charging:null;},addEventListener:function(a,b){f&&f.addEventListener(a,b);},removeEventListener:function(a,b){f&&f.removeEventListener(a,b);}};if(c.config.cG){A=setTimeout(p,c.config.z4a);try{n.ii.getBattery().then(function(a){f=a;p();})["catch"](function(a){k.error("getBattery promise rejected",a);p();});}catch(D){k.error("exception on getBattery api call",D);p();}}else p();});},function(f,d,a){var b,c,k,h,g,n,p,r,u,v;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(278);c=a(5);k=a(6);h=a(2);g=a(3);n=a(11);p=a(7);f.Fe(h.I.Kba,function(a){var r;r=g.Tc("FileSystem");"fs"!=c.config.GT?a(k.Nb):(n.na(0<b.C6),p.tHa(p.PERSISTENT,b.C6,function(b){d.MP=b;a(k.Nb);},function(){r.error("Error calling requestFileSystem");a({T:h.G.ffa});}));});r={};u={create:!0};v={create:!0,exclusive:!0};d.c3a=function(a){d.MP.root.getDirectory("netflix.player.namedatapair",u,function(b){a({P:!0,B0a:b});},function(){a({T:h.G.tLa});});};d.kxb=function(a,b){a.createReader().readEntries(function(a){var g;for(var c=[],d=a.length;d--;){g=a[d];g.isFile&&c.push(g.name);}b({P:!0,jxb:c});},function(){b({T:h.G.vLa});});};d.d3a=function(a,b,c){function d(){c({T:h.G.qLa});}a.getFile(b,r,function(a){a.file(function(b){var g;g=new FileReader();g.onloadend=function(){c({P:!0,text:g.result,T1:a});};g.onerror=d;g.readAsText(b);},d);},d);};d.f3a=function(a,b,c,d,g){function n(){g&&g({T:h.G.sLa});}function k(a){a.createWriter(function(b){try{b.onwriteend=function(){b.onwriteend=null;b.onerror=null;b.truncate(b.position);g&&g({P:!0,T1:a});};b.onerror=n;b.write(new p.kda([c]));}catch(da){n();}},n);}b.createWriter?k(b):a.getFile(b,d?v:u,k,n);};d.e3a=function(a,b,c){function d(){c&&c({T:h.G.rLa});}function g(a){a.remove(function(){c&&c(k.Nb);},d);}b.remove?g(b):a.getFile(b,r,g,d);};},function(f,d,a){var g;function b(){}function c(a,b){this.Rl=a;void 0!==b?(h(b<=a.lm,"require remain_sec <= chunk.sec but has "+b+" and "+a.lm),this.Ah=b):this.Ah=a.lm;}function k(a){void 0===a&&(a=[]);this.bi=[];this.Ue=this.ei=0;for(var b in a)this.add(a[b],void 0);}function h(a,b){if(!a)throw console.error(b),new g(b);}g=a(15).AssertionError;b.prototype=Error();c.prototype.constructor=c;c.prototype.Io=function(){return new c(this.Rl,this.Ah);};k.prototype.constructor=k;k.prototype.add=function(a,b){a=new c(a,b);this.bi.push(a);this.Ue+=a.Ah;this.ei+=a.Rl.mr()*a.Ah;};k.prototype.Io=function(){var a,b;a=new k(void 0);for(b in this.bi)a.add(this.bi[b].Rl,this.bi[b].Ah);return a;};k.prototype.hn=function(){try{return this.bi[0];}catch(n){}};k.prototype.Dua=function(a){var c;for(h(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.hn())throw new b();if(a<this.hn().Ah){c=this.hn().Rl.mr()*a;this.hn().Ah-=a;this.Ue-=a;this.ei-=c;a=0;}else c=this.bi.shift(),this.Ue-=c.Ah,this.ei-=c.Rl.mr()*c.Ah,a-=c.Ah;}};k.prototype.Feb=function(a){var d;h(0<=a,"unexpected play_y_kb: y="+a);for(var c=0;0<a;){if(void 0===this.hn())throw new b();if(a<this.hn().Ah*this.hn().Rl.mr()){d=a/this.hn().Rl.mr();this.hn().Ah-=d;this.Ue-=d;this.ei-=a;c+=d;a=0;}else d=this.bi.shift(),this.Ue-=d.Ah,this.ei-=d.Rl.mr()*d.Ah,c+=d.Ah,a-=d.Rl.mr()*d.Ah;}return c;};f.K={S$:k,VAa:b};},function(f,d,a){var b,c;b=a(180);c={};f.K={hxb:function(a){a=a.map(b.vr);return a.slice(0,a.length/2);},gxb:function(a,b){var c;c=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*c;});},L1:function(a,b){var d;d=a/b*Math.PI*-2;c[b]=c[b]||{};c[b][a]=c[b][a]||[Math.cos(d),Math.sin(d)];return c[b][a];}};},function(f){f.K={add:function(d,a){return[d[0]+a[0],d[1]+a[1]];},Kd:function(d,a){return[d[0]-a[0],d[1]-a[1]];},multiply:function(d,a){return[d[0]*a[0]-d[1]*a[1],d[0]*a[1]+d[1]*a[0]];},vr:function(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1]);}};},function(f,d,a){var b,c,k;b=a(180);c=a(179);k=a(544);f.K={S1:function g(a){var d,n,k,A,l;d=[];n=a.length;if(1==n)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];k=g(a.filter(function(a,b){return 0==b%2;}));a=g(a.filter(function(a,b){return 1==b%2;}));for(var f=0;f<n/2;f++){A=k[f];l=b.multiply(c.L1(f,n),a[f]);d[f]=b.add(A,l);d[f+n/2]=b.Kd(A,l);}return d;},Wna:function(a){var f,v,A;for(var d=a.length,g=k.JXa(d),r=0;r<d;r++){f=k.reverse(r)>>>k.jFa-g;if(f>r){v=[a[r],0];a[r]=a[f];a[f]=v;}else a[f]=[a[f],0];}for(g=2;g<=d;g+=g)for(r=0;r<g/2;r++)for(f=c.L1(r,g),v=0;v<d/g;v++){A=b.multiply(f,a[v*g+r+g/2]);a[v*g+r+g/2]=b.Kd(a[v*g+r],A);a[v*g+r]=b.add(a[v*g+r],A);}}};},function(f){f.K={Ica:{code:-1,description:"MediaCache is not supported."},Vsb:{code:100,description:"Resource was not found"},pGa:{code:101,description:"Resource Metadata was not found"},DE:{code:102,description:"Read failed",xm:function(d,a){return{code:this.code,description:d,cause:a};}},rM:{code:200,description:"Daily write limit exceeded"},az:{code:201,description:"Capacity has been exceeded"},qM:{code:202,description:"Write failed, cause unknown",xm:function(d,a){return{code:this.code,description:d,cause:a};}},$tb:{code:203,description:"Write failed, cause unknown"},pCa:{code:300,description:"Failed to delete resource",xm:function(d,a){return{code:this.code,description:d,cause:a};}},uv:{code:900,description:"Invalid partition name"},oFa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},yaa:{code:701,description:"Failed to initialize underlying disk cache."},oGa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(f,d,a){var c,k,h;function b(a,b,c,d){h.call(this,a,b,c,d);k.call(this,a,b);this.qc=0;this.Wv={};this.fm();this.ng=!1;}c=a(15);d=a(65);a(9);a(118);k=a(58).qs;h=a(291);a(26);b.prototype=Object.create(h.prototype);d(k.prototype,b.prototype);b.prototype.push=function(a){this.qc+=a.$;h.prototype.push.call(this,a);};b.prototype.ox=function(){return!this.ng&&this.Db.length&&this.Db.every(function(a){return a.ox();});};b.prototype.wA=function(a){c(!this.ng);return this.ng=this.Db.every(function(b){return b.ox()?b.wA(a,void 0,void 0):!1;});};b.prototype.Qgb=function(){this.Db.forEach(function(a){a.IS();});};b.prototype.Du=function(a){h.prototype.Du.call(this,a);};b.prototype.$h=function(a){h.prototype.$h.call(this,a);};b.prototype.Ei=function(){return this.Db[0].Ei()+"-"+this.Db[this.Db.length-1].Ei();};b.prototype.toString=function(){return k.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=b.prototype.toString;f.K=b;},function(f,d,a){var c,k;function b(a,b,d,p,r,f){k.call(this,a,p);c.call(this,a,b,d,p,r,f);}d=a(65);c=a(290).B$;k=a(185).SK;b.prototype=Object.create(c.prototype);d(k.prototype,b.prototype);f.K=b;},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(15);f=a(87);a=function(){function a(a,b){this.uc=a;this.qc=b.$;this.Yc=b.offset;}a.prototype.toJSON=function(){return{M:this.M,Wa:this.Wa,offset:this.offset,$:this.$};};return a;}();d.SK=a;f.Uw(a.prototype,{stream:f.Ln({get:function(){return this.uc;}}),$:f.Ln({get:function(){return this.qc;}}),offset:f.Ln({get:function(){return this.Yc;}}),oa:f.Ln({get:function(){return this.uc.oa;}}),M:f.Ln({get:function(){return this.uc.M;}}),N:f.Ln({get:function(){return this.uc.N;}}),Wa:f.Ln({get:function(){return this.uc.Wa;}}),L:f.Ln({get:function(){return this.uc.L;}}),profile:f.Ln({get:function(){return this.uc.profile;}}),ga:f.Ln({get:function(){return this.uc.ga;}}),Kx:f.Ln({get:function(){return this.uc.Kx;}}),Ha:f.La({get:function(){return this.uc.Ha;}}),OF:f.La({get:function(){return this.uc.OF;}}),PF:f.La({get:function(){return this.uc.PF;}}),a4:f.La({get:function(){return this.uc.a4;}})});},function(f,d,a){var g,n,p,r,u,v,A,l;function b(a,b,c,d,g,h,p,n,k){this.sNa=a;this.lo=b;this.Tv=c;this.WN=d;this.dw=k;this.stream=h;p instanceof ArrayBuffer?(this.data=p,this.offset=0,this.R0=p.byteLength):(this.data=p.data,this.offset=p.offset||0,this.R0=p.length||this.data.byteLength);this.level=k?k.level+1:0;this.VF={};this.mD=void 0;g&&(this.Tb={});this.config=n||{};this.truncate=this.config.truncate;this.Dy=this.config.Dy;this.ceb=this.offset;this.bJ=this.ceb+this.R0;this.view=new DataView(this.data);this.Nx=this.tO=0;this.sma=[];this.Yt=[];}function c(a,b){return{type:"done",moovEnd:a,parsedEnd:b};}function k(a,c,d,h,n,k){var f;h=h?[r.uW,r.sW]:void 0;f=Object.create(p.Tb);n&&((n.Wdb||n.D9)&&g(p.b8,f),n.E9&&g(p.smb,f),n.D9&&g(p.mmb,f));b.call(this,f,d,h,n&&n.SBb||["moof",r.jda],!(!n||!n.KBb),a,c,n,k);}function h(a,c,d){b.call(this,p.Tb,void 0,void 0,void 0,!0,a,c,void 0,d);}a(15);g=a(41);d=a(32).EventEmitter;n=new(a(9)).Console("MP4","media|asejs");p=a(300);r=a(143);u=a(303);v=a(26).Uq;A=a(59).UX;l=a(59).Jga;a(59);b.prototype=Object.create(d);b.prototype.constructor=b;Object.defineProperties(b.prototype,{N:{get:function(){return this.stream.N;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},L:{get:function(){return this.stream.L;}}});b.prototype.yb=function(a){n.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.aa=function(a){n.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.lZa=function(a,b,c){var d;d=this.sNa[a];if(d)return new d(this,a,b,c);};b.prototype.Qva=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.VF[b]=a[b],this.WN&&-1!==this.WN.indexOf(b)&&(void 0===this.mD||a[b].offset<this.mD)&&(this.mD=a[b].offset));};b.prototype.parse=function(a){var c,d;function b(a,b,c,d,g){var h;if(a){h=a.indexOf(b);-1!=h&&(g.yb(d+" box "+b+" found at offset: 0x"+c.toString(16)),a.splice(h,1));}}for(this.Hj=a||{};;){this.Gw=this.offset;if(8>this.bJ-this.Gw){this.lo&&0<this.lo.length&&this.Ria();break;}this.z_=this.ab();c=this.ab();a=A(c);if(0===this.z_){this.NY("MP4: invalid zero length box for "+a);break;}if(null===a){this.NY("MP4: invalid box type: "+c);break;}c=this.Gw+this.z_;if(c>this.bJ){this.yb("more data needed: 0x"+c.toString(16)+" > 0x"+this.bJ.toString(16));this.Ria(a,c);break;}"uuid"===a&&(a=this.vF());if(this.WN&&-1!==this.WN.indexOf(a)){this.mD=this.Gw;break;}d=this.lZa(a,this.Gw,this.z_);if(d){if(!d.parse(this.Hj)){this.yb("box parser failed: "+a);break;}this.Tb&&(void 0===this.Tb[a]&&(this.Tb[a]=[]),this.Tb[a].push(d));}b(this.Tv,a,this.Gw,"desired",this);b(this.lo,a,this.Gw,"required",this);if(this.lo&&0===this.lo.length&&!(this.Tv&&this.Tv.length&&this.Tv.some(function(a){return this.VF[a];}.bind(this))))return this.yb("done: moov end offset: "+this.KI+", parsing end offset: "+c),this.qia(this.KI,c),!0;this.offset=c;if(this.mD===this.offset)break;}if(this.offset>=this.mD||this.offset>this.bJ-8)return this.qia(this.KI,this.offset),!0;this.offset=this.Gw;return!1;};b.prototype.lZ=function(a){this.data=this.data.slice(0,a);this.view=new DataView(this.data);};b.prototype.Ria=function(a,b){a?(this.lo&&this.lo.length&&(1<this.lo.length||this.lo[0]!==a)?b=this.zub||b+4096:this.Tv&&this.Tv.length&&(b=this.Tv.filter(function(a){return this.VF[a];}.bind(this)).reduce(function(a,b){return Math.max(a,this.VF[b].offset+this.VF[b].size||0);}.bind(this),b)),this.ria(b-this.bJ)):this.ria(4096);};b.prototype.$fb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.Jc();0!==c&&0<--a;)b.push(c),c=this.Jc();return String.fromCharCode.apply(null,b);};b.prototype.NY=function(a){this.aa("ERROR: "+a);a={type:"error",ctxt:this.Hj,errormsg:a};this.Fa(a.type,a);};b.prototype.qia=function(a,b){var d;if(this.zk){d={type:"vmafs",ctxt:this.Hj,vmafs:this.zk};this.Fa(d.type,d);}this.V&&(d={type:"fragments",ctxt:this.Hj,fragments:this.V,truncated:this.js,movieDataOffsets:this.zu,additionalSAPs:this.Rg,timescale:this.ga,defaultSampleDuration:this.DG},this.Fa(d.type,d));d=c(a,b);this.Fa(d.type,d);};b.prototype.ria=function(a){a={type:"requestdata",ctxt:this.Hj,bytes:a};this.Fa(a.type,a);};b.prototype.lw=function(a){if(this.dw)this.dw.u.lw(a);else for(var b in a)this[b]=a[b];};b.prototype.kf=function(a){for(;this.Nx<a;)this.tO=(this.tO<<8)+this.Jc(),this.Nx+=8;this.Nx-=a;return this.tO>>>this.Nx&(1<<a)-1;};b.prototype.Jc=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.af=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.ab=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.XY=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.Pk=function(a,b,c){this.view.setUint32(void 0!==c?c:this.offset,a,b);this.offset+=4;};b.prototype.sja=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.SQa=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!b&&c&1&&this.aa("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};b.prototype.kh=function(a,b){a=this.SQa(a,b);this.offset+=8;return a;};b.prototype.TQa=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.aa("Warning: read signed value > 56 bits");return 4294967296*a+b;};b.prototype.iRa=function(){var a;a=this.TQa();this.offset+=8;return a;};b.prototype.KSa=function(a,b){var c;c=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,c,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,c,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.tF=function(){return A(this.ab());};b.prototype.rja=function(a){this.Pk(l(a));};b.prototype.vF=function(){var b,c,d,g,h,p;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.ab(!0);c=this.af(!0);d=this.af(!0);g=this.af();h=this.af();p=this.ab();return[a(b,4),a(c,2),a(d,2),a(g,2),a(h,2)+a(p,4)].join("-");};b.prototype.dH=function(a){return p.Q$.prototype.dH.call(this,a);};b.prototype.eH=function(a){return p.Q$.prototype.eH.call(this,a);};b.prototype.EN=function(a){var b;b=u.e7a(this.view,this.offset,a,void 0);this.offset+=1*a;return b;};b.prototype.gRa=function(a){a=u.d7a(this.view,this.offset,a,10,void 0);this.offset+=2;return a;};b.prototype.DN=function(a,b,c){var d;d=u.Dpa(this.view,this.offset,a,b,void 0);this.offset=c||!b||4===b?this.offset+a*(b||4):this.offset+4;return d;};b.prototype.Iia=function(a){for(var b=this.Jc(),c=this.Jc(),d=c&127;c&128;)c=this.Jc(),d=(d<<7)+(c&127);b=new(p.Vt[b]||p.Vt.base)(this,b,d);b.parse(a);return b;};b.prototype.aj=function(a,b){this.dA(a,void 0,b);};b.prototype.dA=function(a,b,c){c=void 0!==c?c:this.offset;this.dw?this.dw.dA(a,b,c):this.Yt.push({offset:c,remove:a,replace:b});};b.prototype.rN=function(a,b){b=void 0!==b?b:this.offset;this.dw?this.dw.u.rN(a,b):this.sma.push({offset:b,Oa:a});};b.prototype.Us=function(){var a,b,c,d;if(this.Yt&&0<this.Yt.length){this.sma.forEach(function(a){var b,c;b=a.Oa+this.view.getUint32(a.offset);c=this.Yt.reduce(function(c,d){return d.offset>a.Oa&&d.offset<b?c+(d.remove-(d.replace?d.replace.byteLength:0)):c;},0);this.view.setUint32(a.offset,b-a.Oa-c);}.bind(this));a=[];this.Yt.sort(function(a,b){return a.offset-b.offset;});this.Yt=this.Yt.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?v(c.replace,b.replace):b.replace));return a;},[]);b=0;c=this.data.byteLength;d=0;this.Yt.filter(function(a){return a.offset<c;}).forEach(function(c){c.offset>b&&(a.push(this.data.slice(b,c.offset)),d+=c.offset-b);c.replace&&(a.push(c.replace),d+=c.replace.byteLength);b=c.offset+c.remove;}.bind(this));a.push(this.data.slice(b));d+=c-b;return{Td:a,length:d,sC:this.data.byteLength};}return{Td:[this.data],length:this.data.byteLength,sC:this.data.byteLength};};k.prototype=Object.create(b.prototype);k.prototype.K0=function(a,b,c,d){a=new k(this.stream,{data:this.data,offset:b,length:c},void 0,!1,this.config,a);d&&(a.Tb={});return a;};k.prototype.Bmb=function(a){this.lZ(a);return this.config&&this.config.D9?(a=this.Us(),v(a.Td)):this.data;};h.prototype=Object.create(b.prototype);h.prototype.K0=function(a,b,c){return new h(this.stream,{data:this.data,offset:b,length:c},a);};f.K={qW:k,pW:h,xoa:c};},function(f,d,a){var k,h,g,n,p,r;function b(a,b){this.Nm=a.Ca;this.tc=a.oa||0;this.aNa=a.so;this.pSa=a.Ve;this.Nk=a.M;this.ih=a.N;this.cN=a.Ha;this.Mha=a.eab;this.pt=a.ga||a.Ha&&a.Ha.ga;this.Yha=a.Kx;this.eha=!1;this.Jb=a.ol||a.V&&a.V.ol;this.Zra=this.F3=void 0;this.U=b;}function c(){k(!1);}k=a(15);h=a(41);g=a(13);n=a(77).Ge;p=a(58).qs;r=a(188).oMa;b.prototype={};Object.defineProperties(b.prototype,{Dc:{get:function(){return!!this.ol;},set:c},s1:{get:function(){return this.eha;},set:c},Ca:{get:function(){return this.Nm;},set:c},oa:{get:function(){return this.tc;},set:c},so:{get:function(){return this.aNa;},set:c},Ve:{get:function(){return this.pSa;},set:c},M:{get:function(){return this.Nk;},set:c},N:{get:function(){return this.ih;},set:c},Ha:{get:function(){return this.cN;},set:c},ga:{get:function(){return this.pt;},set:c},Kx:{get:function(){return this.Yha;},set:c},ol:{get:function(){return this.Jb;},set:c},o2:{get:function(){return this.Ha.ga;},set:c},n2:{get:function(){return this.Ha.Ld;},set:c},OF:{get:function(){return this.Ha.Ld;},set:c},PF:{get:function(){return this.Ha.ga;},set:c},a4:{get:function(){return this.Ha.Pe;},set:c},S:{get:function(){return 0;},set:c}});b.$P=function(a,c,d,p,k,r){var f,u,v,w,A,x;f=c[["audio_tracks","video_tracks"][d]][p].streams[0];u=d===g.v.AUDIO?c.video_tracks.length+p:p;v=k&&k.Ha;if(d===g.v.VIDEO&&void 0!==f.framerate_value&&void 0!==f.framerate_scale){w=f.framerate_value;f=f.framerate_scale;A=Math.floor(1E3*w/f);x=1E3*Math.round(A/1E3);w=new n(x,Math.abs(Math.floor(1001*w/f)-x)>Math.abs(A-x)?1E3:1001).ogb();}return new b(h(k||{},{Ca:c,M:1*c.movieId,Ha:v||w,eab:w,oa:a,N:d,so:u,Ve:p}),r);};b.prototype.XR=function(a,b,c,d,g){if(d&&void 0!==d.vm&&(this.Dc||void 0!==d.Bd&&d.Bd.length))if(a.el&&(this.eha=!0),this.Dc)d.Bd&&d.Bd.length>this.ol.length&&(this.Jb=new r(this.N,this.Ha,d,g),this.F3=void 0);else{this.aja(b);if(c=c||this.Mha)this.$ia(c||this.Mha),void 0===this.ga&&this.cja(c.ga);this.Jb=new r(this.N,this.Ha,d,g);}else this.U&&this.U.error("AseTrack.onHeaderReceived with missing fragments data");};b.prototype.FXa=function(a){this.Dc||(this.cja(a.ga),this.aja(a.Kx),this.$ia(a.Ha),this.Jb=a.ol);};b.prototype.Th=function(a){return new p(this,this.ol.get(a));};b.prototype.cja=function(a){this.pt=a;};b.prototype.aja=function(a){this.Yha=a;};b.prototype.$ia=function(a){this.cN=a;};b.prototype.toJSON=function(){return{M:this.M,N:this.N,Ve:this.Ve};};b.prototype.toString=function(){return(0===this.N?"a":"v")+":"+this.Ve;};f.K=b;},function(f,d,a){var h,g;function b(a,b){this.Jb=a;this.hh=b;}function c(){g(!1);}function k(a,b,c,d){this.N=a;this.length=c.Bd.length;this.pt=c.ga;this.Km=c.Bd;this.tM=d&&d.zC;this.mga=d&&d.PC;this.cN=b;this.Rha=void 0;this.BF=c.vm;this.wq=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.wq[b]=a,a+=this.Km[b];this.wq[b]=a;this.Z=this.Zf(this.length);this.Ll=Math.floor((this.Z-this.S)/this.length);}}a(8);a(13);h=new(a(9)).Console("FRAGMENTS","media|asejs");g=a(15);a(60);Object.defineProperties(b.prototype,{index:{get:function(){return this.hh;},set:c},qf:{get:function(){return this.Jb.Oxa(this.hh);},set:c},Vj:{get:function(){return this.Jb.Oxa(this.hh)+this.Jb.jna(this.hh);},set:c},er:{get:function(){return this.Jb.jna(this.hh);},set:c},Ha:{get:function(){return this.Jb.Ha;},set:c},ga:{get:function(){return this.Jb.ga;},set:c},OF:{get:function(){return this.Jb.Ha.Ld;},set:c},PF:{get:function(){return this.Jb.Ha.ga;},set:c},S:{get:function(){return Math.floor(1E3*this.qf/this.ga);},set:c},Z:{get:function(){return Math.floor(1E3*(this.qf+this.er)/this.ga);},set:c},duration:{get:function(){return Math.floor(1E3*this.er/this.ga);},set:c}});b.prototype.constructor=b;b.prototype.toJSON=function(){return{S:this.S,Z:this.Z,duration:this.duration,index:this.index};};k.constructor=k;Object.defineProperties(k.prototype,{vm:{get:function(){return this.BF+this.wq[0];},set:c},Bna:{get:function(){return this.BF+this.wq[this.length];},set:c},S:{get:function(){return this.Zf(0);},set:c},sR:{get:function(){return this.Rha||this.DNa();},set:c},Ha:{get:function(){return this.cN;},set:c},ga:{get:function(){return this.pt;},set:c}});k.prototype.Oxa=function(a){return this.BF+this.wq[a];};k.prototype.Zf=function(a){return Math.floor(1E3*(this.BF+this.wq[a])/this.ga);};k.prototype.cB=function(a){return a<this.length-1?this.Zf(a+1):this.Z;};k.prototype.jna=function(a){return this.Km[a];};k.prototype.Bd=function(a){return this.cB(a)-this.Zf(a);};k.prototype.get=function(a){return new b(this,a);};k.prototype.Nxa=function(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}(k.prototype.Zf);k.prototype.subarray=function(a,b){g(void 0===a||0<=a&&a<this.length);g(void 0===b||b>a&&b<=this.length);return new k(this.N,this.Ha,{ga:this.ga,vm:this.BF+this.wq[a],Bd:this.Km.subarray(a,b)},this.tM&&{zC:this.tM.subarray(a,b+1),PC:this.mga});};k.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};k.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};k.prototype.reduce=function(a,b){var c;c=void 0!==b?b:this.get(0);for(b=void 0!==b?0:1;b<this.length;++b)c=a(c,this.get(b),b,this);return c;};k.prototype.$j=function(a,b,c){if(0===this.length||a<this.Zf(0))return-1;a=Math.max(a,b||0);for(var d=0,g=this.length-1,h,p;g>=d;)if(h=d+(g-d>>1),p=this.Zf(h),a<p)g=h-1;else if(a>=p+this.Bd(h))d=h+1;else{for(;b&&h<this.length&&this.Zf(h)<b;)++h;return h<this.length?h:c?this.length-1:-1;}return c?this.length-1:-1;};k.prototype.NP=function(a,b,c){a=this.$j(a,b,c);return 0<=a?this.get(a):void 0;};k.prototype.y0=function(a,b){var c,d;c=Math.min(a+Math.ceil(b/this.Ll),this.length);b=Math.floor(b*this.ga/1E3);d=this.wq[c]-this.wq[a];if(d>b){for(;d>=b;)--c,d-=this.Km[c];return c-a+1;}for(;d<b&&c<=this.length;)d+=this.Km[c],++c;return c-a;};k.prototype.toJSON=function(){return{length:this.length,Ll:this.Ll};};k.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Ll+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.S+"-"+b.Z+"]");}};k.prototype.DNa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Km[b],a);return this.Rha=a;};f.K={oMa:k,nMa:b};},function(f,d,a){var c,k;function b(a){this.J={tI:a.maxc||25,p0:a.c||.5,kgb:a.rc||"none",p7a:a.hl||7200};this.zF();this.kRa=this.J.kgb;this.cF=this.J.p7a;this.HX=Math.exp(Math.log(2)/this.cF);this.HX=Math.max(this.HX,1);this.OM=1;}c=a(8);k=a(190).TDigest;new(a(9)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.me=function(){var a;if(0===this.sd.size())return null;a=this.sd.xf([.25,.75]);if(a[0]===a[1])return null;this.sd.size()>this.J.tI&&this.sd.Tq();a=this.sd.Oy(!1).reduce(function(a,b){c.fa(b.ge)&&c.fa(b.n)&&a.push({mean:b.ge,n:b.n/this.OM});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Ch=function(a){var b;if(c.Ja(a)||!c.has(a,"tdigest")||!c.Gd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(n){return!1;}b.forEach(function(a){c.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{ge:a.mean,n:a.n};});this.OM=1;this.sd.l7(a);void 0===this.sd.xf(0)&&this.zF();};b.prototype.get=function(){var a,b;a=this.sd;b=a.xf([0,.1,.25,.5,.75,.9,1]);return{min:b[0],ZI:b[1],xh:b[2],vg:b[3],yh:b[4],$I:b[5],max:b[6],Nf:a.Oy(!1)};};b.f6a=function(a){var d;d=new b({});c.Ja(a)||c.R(a)||!c.isArray(a.Nf)||(d.sd.l7(a.Nf),void 0===d.sd.xf(0)&&d.zF());a=d.sd.xf([.25,.75]);return a[0]===a[1]?null:function(a){return d.sd.xf(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.kRa&&(this.OM=b=this.OM*this.HX);this.sd.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.sd.summary()+")";};b.prototype.zF=function(){this.sd=new k(this.J.p0,this.J.tI);};f.K=b;},function(f,d,a){var g;function b(a,b,d){this.VA=!1===a;this.HG=a||.01;this.pca=void 0===b?25:b;this.aaa=void 0===d?1.1:d;this.Nf=new g(c);this.reset();}function c(a,b){return a.ge>b.ge?1:a.ge<b.ge?-1:0;}function k(a,b){return a.cp-b.cp;}function h(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.HG:!1);this.y0a=this.config.ratio||.9;this.z0a=this.config.hya||1E3;this.NR=0;}g=a(598).LKa;b.prototype.reset=function(){this.Nf.clear();this.D4=this.n=0;};b.prototype.size=function(){return this.Nf.size;};b.prototype.Oy=function(a){var b;b=[];a?(this.PM(!0),this.Nf.Ac(function(a){b.push(a);})):this.Nf.Ac(function(a){b.push({ge:a.ge,n:a.n});});return b;};b.prototype.summary=function(){return[(this.VA?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.xf(0),"Q1  = "+this.xf(.25),"Q2  = "+this.xf(.5),"Q3  = "+this.xf(.75),"max = "+this.xf(1)].join("\n");};b.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.Yga(a[c],b);};b.prototype.l7=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Yga(a[b].ge,a[b].n);};b.prototype.PM=function(a){var b;if(!(this.n===this.D4||!a&&this.aaa&&this.aaa>this.n/this.D4)){b=0;this.Nf.Ac(function(a){a.cp=b+a.n/2;b=a.OA=b+a.n;});this.n=this.D4=b;}};b.prototype.w3a=function(a){var b,c;if(0===this.size())return null;b=this.Nf.lowerBound({ge:a});c=null===b.data()?b.ly():b.data();return c.ge===a||this.VA?c:(b=b.ly())&&Math.abs(b.ge-a)<Math.abs(c.ge-a)?b:c;};b.prototype.Yz=function(a,b,c){a={ge:a,n:b,OA:c};this.Nf.HB(a);this.n+=b;return a;};b.prototype.uM=function(a,b,c){b!==a.ge&&(a.ge+=c*(b-a.ge)/(a.n+c));a.OA+=c;a.cp+=c/2;a.n+=c;this.n+=c;};b.prototype.Yga=function(a,b){var c,d,g;c=this.Nf.min();d=this.Nf.max();g=this.w3a(a);g&&g.ge===a?this.uM(g,a,b):g===c?this.Yz(a,b,0):g===d?this.Yz(a,b,this.n):this.VA?this.Yz(a,b,g.OA):(c=g.cp/this.n,Math.floor(4*this.n*this.HG*c*(1-c))-g.n>=b?this.uM(g,a,b):this.Yz(a,b,g.OA));this.PM(!1);!this.VA&&this.pca&&this.size()>this.pca/this.HG&&this.Tq();};b.prototype.qVa=function(a){var b,d;this.Nf.Yi=k;b=this.Nf.upperBound({cp:a});this.Nf.Yi=c;d=b.ly();a=d&&d.cp===a?d:b.next();return[d,a];};b.prototype.xf=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.VQa,this);return Array.isArray(a)?b:b[0];};b.prototype.VQa=function(a){var b,c;if(0!==this.size()){this.PM(!0);this.Nf.min();this.Nf.max();a*=this.n;b=this.qVa(a);c=b[0];b=b[1];return b===c||null===c||null===b?(c||b).ge:this.VA?a<=c.OA?c.ge:b.ge:c.ge+(a-c.cp)*(b.ge-c.ge)/(b.cp-c.cp);}};b.prototype.Tq=function(){var a;if(!this.Gla){a=this.Oy();this.reset();for(this.Gla=!0;0<a.length;)this.l7(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.PM(!0);this.Gla=!1;}};h.prototype=Object.create(b.prototype);h.prototype.constructor=h;h.prototype.push=function(a){b.prototype.push.call(this,a);this.GWa();};h.prototype.Yz=function(a,c,d){this.NR+=1;b.prototype.Yz.call(this,a,c,d);};h.prototype.uM=function(a,c,d){1===a.n&&--this.NR;b.prototype.uM.call(this,a,c,d);};h.prototype.GWa=function(){!("auto"!==this.mode||this.size()<this.z0a)&&this.NR/this.size()>this.y0a&&(this.mode="cont",this.VA=!1,this.HG=this.config.HG||.01,this.Tq());};f.K={TDigest:b,Digest:h};},function(f){function d(a){this.vPa=a;this.Il=[];this.st=!1;this.eZ=void 0;this.$i={};}d.prototype.MZ=function(a){this.Il.length===this.vPa&&this.Il.shift();Array.isArray(a)?this.Il=this.Il.concat(a):this.Il.push(a);this.st=!0;};d.prototype.vB=function(){return this.Il.length;};d.prototype.Wka=function(){var a;a=this.Il;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.Il.length:void 0;};d.prototype.fWa=function(){var a,b;a=this.Il;if(0<a.length){b=this.Wka();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.It=function(a){var b,c,d;if(this.st||void 0===this.eZ)this.eZ=this.Il.slice(0).sort(function(a,b){return a-b;}),this.$i={},this.st=!1;if(void 0===this.$i[a]){b=this.eZ;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.$i[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.$i[a];};f.K=d;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(29);c=a(5);k=a(6);h=a(17);g=a(2);n=a(3);p=a(315);r=a(82);f.Fe(g.I.bca,function(a){var g;g=n.Y.get(r.ps);c.config.sP&&(d.Nw=new p.cL({VZ:g.endpoint+c.config.oXa,bc:b.bc,Pa:{kQ:h.Lw},HR:600,log:n.Tc("Congestion")}));a(k.Nb);});},function(f,d,a){var b,c,k,h,g,n,p,r,u;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(316);c=a(5);k=a(6);h=a(2);g=a(11);n=a(3);p=a(19);r=a(80);u=a(82);d.Ox={};H._cad_global||(H._cad_global={});H._cad_global.controlProtocol=d.Ox;f.Fe(h.I.Qba,function(a){var h,r,f;g.na(c.config);h=n.Tc("Nccp");r=c.config.rg;g.na(r);f=n.Y.get(u.ps);h.info("Creating EDGE instance",{Endpoint:f.endpoint+r.cta,Path:r.lna});p.Aa(d.Ox,new b.AHa(h));a(k.Nb);});d.Izb=n.Y.get(r.oL);d.Hzb="1";d.Jzb="2";d.Kzb="3";d.Gzb="4";},function(f,d,a){var k,h,g,n,p,r,u,v,A,l,x,w,z,y,F;function b(a,b,d){var g;g=r.Y.get(y.fE);return a.ha&&c(a.$b)?g.release(Object.assign({},d,{ha:a.ha,$b:a.$b}),b):d.ha&&c(d.$b)?g.release(d,b):Promise.resolve({P:!0});}function c(a){return a&&0<a.length&&a[0].uu;}Object.defineProperty(d,"__esModule",{value:!0});k=a(193);h=a(6);g=a(5);n=a(20);p=a(17);r=a(3);u=a(11);v=a(455);A=a(2);l=a(56);x=a(37);w=a(28);z=a(14);y=a(147);F=a(124);d.GHa=function(a){var D,K,m,q,O,G;function c(){c=h.Rb;a.fireEvent(n.nea);r.Y.get(F.XL)().then(function(b){b.gkb(a);});}function f(){f=h.Rb;d.oda(K,D);a.fireEvent(n.WW);}function x(b){return new Promise(function(c,d){var g,h,n,k;g=p.bb();h=[];n=l.Oc.Qla(b.tg);b.Tj.forEach(function(a){h.push({sessionId:a.sessionId,dataBase64:r.u_(a.data)});});k=a.j6a(b.Tj[0].sessionId);n={Qe:k.Qe,tg:z.is.yi(b.tg)?b.tg:n,mP:[k.lj],Tj:h,ha:a.ha,Ph:b.Ph};a.JO&&(n.yI=a.JO);G.uA(n,K).then(function(b){q=p.bb()-g;a.$b=b.$b;c(b);f();})["catch"](function(a){d(a);});});}D=r.bf(a,"NccpPlayback");K={bc:a.FH,log:r.bf(a,"Nccp"),profile:a.profile};G=r.Y.get(y.fE);u.na(g.config);u.na(k.Ox);u.na(K.bc);g.config.Fp||(O=r.Y.get(v.Kaa));return{Z5:K,QF:function(b){var k,r,f;function d(d){m=p.bb()-k;D.trace("Auth Delay: "+m);try{a.cS(d);b(h.Nb);c();}catch(ea){D.error("Exception processing authorization response",ea);b({P:!1,T:A.G.mHa});}}function n(){a.Owa().then(function(a){d(a);})["catch"](function(a){b(a);});}u.Sw(a.M);u.Sw(a.cg);k=p.bb();r=a.Ca;if(r){f=r.expiration;f?(f-=p.GA(),18E5<f?w.cb(function(){d(r);a.Ht="ui";}):(D.error("manifest is expired",{gap:f}),n())):w.cb(function(){d(r);a.Ht="ui";});}else g.config.jl&&H._cad_global.videoPreparer?(f=H._cad_global.videoPreparer.nj(a.M,"manifest"))&&f.then(function(b){d(b);a.Ht="videopreparer";})["catch"](function(a){D.warn("manifest not in cache",a);n();}):n();},en:x,release:function(c){return b(a,K,c);},Wd:function(a,b){x(a).then(function(a){b(a);})["catch"](function(a){b(a);});},Wla:function(){var b;b=O.create();b.profileId=a.profile.id;a.Rf&&(b.Uc=a.Rf.jx());b.$b=a.$b;b.ha=a.ha;b.M=a.M;return b;},s4a:function(){return m;},L5a:function(){return q;}};};d.oda=function(a,b){d.oda=h.Rb;x.xHa&&g.config.cnb&&k.Ox.x_(a).then(function(){b.trace("Updated NetflixId");})["catch"](function(a){b.error("NetflixId upgrade failed",A.Am(a));});};d.HHa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.$W="PlaybackMilestoneStoreSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.RW="PboPublisherSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.TW="PlayPredictionDeserializerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.hR=function(a,b,c){var d;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=c.get;c.get=function(){var h,g;h=d.apply(this,arguments);g={enumerable:c.enumerable,value:h};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,g):Object.defineProperty(this,b,g);return h;};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fea="PboPlaydataValidatorSymbol";d.cea="PboPlaydataArrayValidatorSymbol";d.dea="PboPlaydataCollectionValidatorSymbol";},function(f,d,a){var g,n,p,r,u;function b(a,b,c){this.Pa=a;this.Gpa=b;this.eb=c;}function c(){}function k(){}function h(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);g=a(0);n=a(43);p=a(4);r=a(25);a=a(24);h.prototype.encode=function(a){return{downloadableId:a.ad,duration:a.duration};};h.prototype.decode=function(a){return{ad:a.downloadableId,duration:a.duration};};k.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new h().encode),video:a.video.map(new h().encode),text:a.text.map(new h().encode)};};k.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new h().decode),video:a.video.map(new h().decode),text:a.text.map(new h().decode)};};c.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.ha,movieId:a.M,position:a.position,clientTime:a.hG,sessionStartTime:a.NJ,mediaId:a.Fx,playTimes:new k().encode(a.iJ),trackId:a.ec,sessionId:a.sessionId,appId:a.KF,sessionParams:a.Bh,mdxControllerEsn:a.C5};};c.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,ha:a.xid,M:a.movieId,position:a.position,hG:a.clientTime,NJ:a.sessionStartTime,Fx:a.mediaId,iJ:new k().decode(a.playTimes),ec:a.trackId,sessionId:a.sessionId,KF:a.appId,Bh:a.sessionParams,C5:a.mdxControllerEsn};};d.PW=c;b.prototype.Ot=function(a,b){var c;c={href:a.Ca&&a.Ca.wx?a.Ca.wx.S2("events").href:"",type:"online",profileId:a.profile.id,ha:a.ha.toString(),M:a.M,position:a.kx()||0,hG:this.Pa.Xwa.ma(p.Ia),NJ:a.Aqa?a.Aqa.ma(p.Ia):-1,Fx:this.W4a(a),iJ:this.h6a(a),ec:void 0!==a.cg?a.cg.toString():"",sessionId:this.Gpa().sessionId||this.eb.id,KF:this.Gpa().KF||this.eb.id,Bh:a.jb.Bh||{}};b&&(c=Object.assign({},c,{C5:a.JO}));return c;};b.prototype.load=function(a){return new c().decode(a);};b.prototype.W4a=function(a){var b,c,d;b=a.vd.value;c=a.We.value;d=a.Nc.value;return b&&c&&d?(a=a.Ca.media.find(function(a){return a.tracks.AUDIO===b.ec&&a.tracks.VIDEO===c.ec&&a.tracks.TEXT===d.ec;}))?a.id:"":"";};b.prototype.Z2=function(a){return a.map(function(a){return{ad:a.downloadableId,duration:a.duration};});};b.prototype.h6a=function(a){return(a=a.Dn)?(a=a.g6a(),{total:a.total,audio:this.Z2(a.audio),video:this.Z2(a.video),text:this.Z2(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=f.__decorate([g.O(),f.__param(0,g.l(n.Ri)),f.__param(1,g.l(r.Ef)),f.__param(2,g.l(a.gf))],u);d.IJa=u;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fW="ManifestProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.SL="NetworkMonitorFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eca="LogMessageRulerConfigSymbol";d.Fca="LogMessageRulerSymbol";},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);c=a(16);k=a(6);h=a(127);g=a(7);n=a(14);d.Ddb=function(){var R,fa,Z,O,G,t,aa,Q,ha,ba,ma,la;function a(a){if(c.qu(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.Jdb[a];}}function r(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return g.Ti(b,c);}function f(a,b){var c,d;c=a.length;d=a[c-1];if("t"===d)return parseFloat(a)*b|0;if("s"===d)return"m"===a[c-2]?parseFloat(a)|0:parseFloat(a)*k.Cj|0;if((a=a.match(ha))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*k.Cj|0;throw Error("dfxp-badtime");}function v(a,b,c,d,g){var h,p,n,k,r,f,u,w;if(a){p=a.style;c=p?c[p]:void 0;d=(p=a.region)?d[p]:void 0;p=g.length;for(n=0;n<p;n++)if(k=g[n],r=a[k],void 0===r&&c&&(r=c[k]),void 0===r&&d&&(r=d[k]),void 0!==r&&r!==b[k]){if(!h)for(h={},f=0;f<p;f++)u=g[f],w=b[u],void 0!==w&&(h[u]=w);h[k]=r;}}return h||b;}function A(a,b,d,g,p,n,k,r,f){var w,A;function u(a,x,l){var y,F,D,K,m,ha;y=a[h.gi];F=y.style||x.style||"";D=y.region||x.region||"";F||D?(K=F+"/"+D,m=d[K]):m=b;if(!m){m=b;ha=c.RJ(g);c.Aa(ha,p[F]);m=z(m,ha,k,r,f);d[F+"/"]=m;D&&(c.Aa(ha,n[D]),c.Aa(ha,p[F]),m=z(m,ha,k,r,f),d[K]=m);}if(!l)a:{for(l=t.length;l--;)if(void 0!==y[t[l]]){l=!0;break a;}l=void 0;}l&&(y=v(y,x,p,n,aa),m=z(m,y,k,r,f));x=(a=a[h.oU])&&a.length;for(F=0;F<x;F++)D=a[F],c.ne(D)?ba.test(D[h.pU])?A++:u(D,y,l):(w.push({text:D,lineBreaks:A,style:m}),A=0);}w=[];A=0;u(a,g,!1);0<A&&w.push({text:"",lineBreaks:A,style:b});return w;}function l(a,b,c,d,g,h,p,n){var k,r;c&&(c=fa[c]||"top",a.verticalAlignment!==c&&(a.verticalAlignment=c));d&&(c=Z[d]||"left",a.horizontalAlignment!==c&&(a.horizontalAlignment=c));g?((r=n[g])?(d=r.marginLeft,c=r.marginTop):(k=g.split(" "),d=K(k[0],p.x)||0,c=K(k[1],p.y)||0,r={No:0,marginLeft:d,marginTop:c,HTa:d*b.v3+b.zH,JTa:c*b.T9+b.hU},30>n.No&&(n.No++,n[g]=r)),a.marginLeft=r.HTa,a.marginTop=r.JTa):(c=d=0,(r=n["default"])||(n["default"]=r={No:0}));h&&(g=r[h],g||(k=h.split(" "),g={ITa:(1-(d+(K(k[0],p.x)||0)))*b.v3+b.zH,GTa:(1-(c+(K(k[1],p.y)||0)))*b.T9+b.hU},30>r.No&&(r.No++,r[h]=g)),a.marginRight=g.ITa,a.marginBottom=g.GTa);}function x(a,b,d,g,h){var p,n,k;p=a.displayAlign;n=a.textAlign;k=a.origin;a=a.extent;d=c.RJ(d);l(d,b,p,n,k,a,g,h);d.id=R++;return d;}function w(b,g,h,p){var n,k,f,u,w,v;n=r(h.characterSize||g.characterSize,d.Kdb,2)||1;k=(k=b.fontSize)&&ma.test(k)?c.Xn(c.ld(k),25,200):void 0;n*=k/100||1;k=b.textOutline;if(k&&"none"!=k){u=k.split(" ");la.test(u)?(v=0,w=b.color):(v=1,w=a(u[0]));f=F(u[v]);u=F(u[v+1]);}return{characterStyle:h.characterStyle||d.Ldb[b.fontFamily]||g.characterStyle,characterSize:n*p,characterColor:a(h.characterColor||b.color||g.characterColor),characterOpacity:r(c.Of(h.characterOpacity,b.opacity,g.characterOpacity),d.w6,1),characterEdgeAttributes:h.characterEdgeAttributes||k&&("none"===k?d.Hdb:u?d.v6:d.mua)||g.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor||w||g.characterEdgeColor),characterEdgeWidth:f,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(h.backgroundColor||b.backgroundColor||g.backgroundColor),backgroundOpacity:r(c.Of(h.backgroundOpacity,b.opacity,g.backgroundOpacity),d.w6,1)};}function z(a,b,d,h,p){var n;b=w(b,d,h,p);c.xc(b,function(b,c){c!==a[b]&&(n||(n=g.wE(a)),n[b]=c);});return n||a;}function y(a,b,c,d,p,n,k,r){var f;f=a[h.gi];c=v(a[h.gi],b,c,p,Q);b=c.region;a=f.displayAlign;c=c.textAlign;p=f.origin;f=f.extent;b||a||c||p||f?((d=d[b])?d=g.wE(d):a||p||f?(d=g.wE(G),d.id=R++):d=g.wE(O),l(d,n,a,c,p,f,k,r)):d=O;return d;}function F(a){a=c.ld(a);return n.pu(a,0,100)?a:0;}function K(a,b){var d;d=a[a.length-1];if("%"===d)return c.Xn(.01*parseFloat(a),0,1);if("c"===d)return c.Xn(c.ld(a)/b,0,1);}function m(a){for(var b=a.length,c=a[--b].endTime;b--;)c=g.Ti(a[b].endTime,c);return c;}function q(b){c.xc(b,function(c,d){0<=c.toLowerCase().indexOf("color")&&(b[c]=a(d));});}function P(a,c){var d,h,p,n;d=a.pixelAspectRatio;n={zH:0,v3:1,hU:0,T9:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),h=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));h=0<h&&0<p?h/p:1280/720;c=c||1280/720;d=h/c;.01<g.lE(c-h)&&(c>=h?(n.zH=(1-d)/2,n.v3=d):b.na(!1,"not implemented"));return n;}function Y(a){var b,g,h,p,n;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){g=c.ld(b[0]);b=c.ld(b[1]);if(0<g&&0<b)return{x:g,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){g=c.ld(b[0]);n=c.ld(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),h=c.ld(b[0]),p=c.ld(b[1]);if(g&&n&&1.5<g*(h||1)/(n*(p||1)))return d.Fdb;}return d.Edb;}R=1;fa={before:"top",center:"center",after:"bottom"};Z={left:"left",start:"left",center:"center",right:"right",end:"right"};O={id:R++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};G={id:R++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};t="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");aa=t.concat(["style","region"]);Q=["region","textAlign","displayAlign","extent","origin"];ha=/^([0-9]+):([0-9]+):([0-9.]+)$/;ba=/^br$/i;ma=/^[0-9]{1,3}%$/;la=/^[0-9]/;return function(b,p,n,u,z){var K,ha,S,ba,da,ma,la,fa,Z,ea,O,t,ta,wa,pa,ia,Na,B,H,U,ga,Wb,X,ca,ka,Cb,Ub,ja,oa,na;function l(){try{for(var a;X;)if(Z=X[h.gi],ca.push({id:R++,startTime:f(Z.begin,S),endTime:f(Z.end,S),region:y(X,Cb,ma,fa,la,ba,wa,B),textNodes:A(X,Ub,ja,ka,ma,la,ia,Na,pa)}),X=X[h.GD],a=g.kL(),100<a-oa){oa=Date.now();na=setTimeout(l,1);return;}}catch(xf){D({T:c.G.pL,Ea:c.Bc(xf)});return;}na=setTimeout(F,1);}function F(){var b,d,g,h,p,n,k;function a(a,g){for(var h,p=[],n={},k,r=d.length;r--;)h=d[r],k=h.region.id,n[k]||(n[k]=1,p.unshift(h));(h=b[b.length-1])&&h.endTime==a&&c.Mt(h.blocks,p)?h.endTime=g:b.push({id:R++,startTime:a,endTime:g,blocks:p});}try{if(!ca.length){D({P:!0,entries:[]});return;}c.dUa(ca);b=[];d=[];g=ca[0];p=ca[0].startTime;for(n=1;d.length||g;){for(;!d.length||g&&g.startTime==p;)d.push(g),p=g.startTime,g=ca[n++];h=m(d);if(!g||h<=g.startTime)for(a(p,h),p=h,k=d.length;k--;)d[k].endTime<=p&&d.splice(k,1);else a(p,g.startTime),p=g.startTime,d.push(g),g=ca[n++];}for(n=b.length;n--;)b[n].index=n,b[n].previous=b[n-1],b[n].next=b[n+1];}catch(yf){D({T:c.G.pL,Ea:c.Bc(yf)});return;}D({P:!0,entries:b});}function D(a){setTimeout(function(){K.abort=c.Rb;z(a);},1);}K={abort:function(){na&&clearTimeout(na);}};try{ha=b[h.gi];S=k.Cj/(c.ld(ha.tickRate)||1);ba=P(ha,p);da=c.Aa(G,{marginLeft:ba.zH,marginTop:ba.hU,marginRight:ba.zH,marginBottom:ba.hU});ma={};la={};fa={};t=b.head;ta=b.body;wa=Y(ha);pa=1/wa.y*ba.T9;ia=c.Aa({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.v6,characterEdgeColor:"#000000",characterSize:1},n,{kp:!0});Na=u||{};B={No:0};if(t){H=t.styling;if(H)for(O=H.style;O;)Z=O[h.gi],q(Z),ma[Z.id]=Z,O=O[h.GD];U=t.layout;if(U)for(var W=U.region;W;){Z=W[h.gi];ga=Z.id;ea=c.RJ(ma[Z.style]);ea=c.Aa(ea,Z);for(O=W.style;O;)c.Aa(ea,O[h.gi]),O=O[h.GD];q(ea);la[ga]=ea;fa[ga]=x(ea,ba,da,wa,B);W=W[h.GD];}}Wb=ta.div;X=Wb.p;ca=[];ka={};ka=v(ta[h.gi],ka,ma,la,aa);ka=v(Wb[h.gi],ka,ma,la,aa);Cb={};Cb=v(ta[h.gi],Cb,ma,la,Q);Cb=v(Wb[h.gi],Cb,ma,la,Q);Ub=w(ka,ia,Na,pa);c.Aa(Ub,{windowColor:a(Na.windowColor||ia.windowColor),windowOpacity:r(c.Of(Na.windowOpacity,ia.windowOpacity),d.w6,1),cellResolution:wa},{kp:!0});ja={};Wb.p=void 0;Wb[h.oU]=[];}catch(wf){D({T:c.G.pL,Ea:c.Bc(wf)});return;}oa=g.kL();na=setTimeout(l,1);return K;};}();d.Ldb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.Kdb={SMALL:.5,MEDIUM:1,LARGE:2};d.w6={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.Jdb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.Hdb="NONE";d.Idb="RAISED";d.Gdb="DEPRESED";d.mua="UNIFORM";d.v6="DROP_SHADOW";d.Edb={x:40,y:19};d.Fdb={x:52,y:19};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(2);d.J2=function(a){return a===b.dg.gg.AUDIO?c.G.Kca:c.G.Lca;};d.gX=50;d.OKa=1E3;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.wX="UuidProviderSymbol";},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,l,x,w;function b(a,b,c,d,h,k,r,f,u,v,A,x,l,D,m){this.j=a;this.ec=b;this.UH=c;this.ad=d;this.cr=h;this.q1=k;this.gj=r;this.displayName=f;this.fi=u;this.ita=v;this.NI=A;this.xn=x;this.ccb=l;this.M3a=D;this.$H=m;this.type=g.Hf.UT;this.Yo=!(!A||A!=p.Fj.oz&&A!=p.Fj.LL);this.ug={bcp47:r,trackId:b,downloadableId:d,isImageBased:this.Yo};this.log=n.bf(a,"TimedTextTrack");this.state=w.OL;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});c=a(1);k=a(29);h=a(5);g=a(72);n=a(3);p=a(68);r=a(11);u=a(371);v=a(14);A=a(722);l=a(22);x=a(2);(function(a){a[a.OL=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.cE=3]="LOAD_FAILED";}(w||(w={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(b,c){function d(){a.j.state.removeListener(d);a.download().then(b)["catch"](c);}a.state=w.LOADING;a.j.state.value!==l.fh.cfa?a.download().then(b)["catch"](c):a.j.state.addListener(d);});};b.prototype.me=function(){return this.state;};b.prototype.h4=function(){return this.ccb;};b.prototype.Rqa=function(){return this.M3a;};b.prototype.lu=function(a,b){var c;c=[];try{this.Yo?c=this.Ne&&this.Ne.lu(a,b)||[]:this.entries&&(c=this.entries.filter(function(c){var d;d=Ba([c.startTime,c.endTime]);c=d.next().value;d=d.next().value;return c>=a&&c<=b||c<=a&&a<=d;}));}catch(K){this.log.error("error in getSubtitles",K,{start:a,end:b,isImageBased:this.Yo});}return c;};b.prototype.K6a=function(){var a;if(!v.fb(this.S))try{this.S=this.Yo?(a=this.lu(0,b.jGa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(y){this.log.error("exception in getStartPts",y);}return this.S;};b.prototype.qT=function(a){return this.j.state.value===l.fh.iX||this.j.state.value===l.fh.hX?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Nc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(b,c){a.j.state.value==l.fh.aq?a.Yo?a.G8a(function(d){d.P?(a.log.info("Loaded image subtitle manager"),b(d)):(a.log.error("Unable to load image subtitles manager",d),a.state=w.cE,c(d));}):a.bna().then(function(b){return a.Ndb(b);}).then(b)["catch"](c):c({P:!1});});};b.prototype.G8a=function(a){var c,d,g,p,k,r,f,u;function b(g){var w;if(v.fb(g))if(u||c.qT(c.Ro(c.$m,"","image"))){u=!1;c.xn.url=c.cr[c.$m];d.url=c.xn.url;f[g]=(f[g]||0)+1;w=new n.ULa(p,d);w.on("ready",function(){c.Ne=w;a({P:!0,track:c});});w.on("error",function(d){var p;d=Object.assign({P:!1},d);p=c.Ro(c.$m,c.xn.url,"image");p.details={midxoffset:c.xn.offset,midxsize:c.xn.length};p.errorstring=d.errorString;f[g]<=h.config.qya?(c.OP(p,!0,"retry with current cdn"),c.q_(f[g]).then(function(a){c.log.trace("retry timed text download after "+a,c.Ro(c.$m,"","image"));b(c.$m);})):(c.$m=k[r++],c.$m?(c.OP(p,!0,"retry with next cdn"),c.q_(f[g]).then(function(a){c.log.trace("retry timed text download after "+a,c.Ro(c.$m,"","image"));b(c.$m);})):(c.OP(p,!1,"all cdns tried"),a({P:!1,Fbb:"all cdns failed for image subs",track:c})));});w.start();}else a({P:!1,ro:!0});else a({P:!1,Fbb:"cdnId is not defined for image subs downloadUrl"}),c.OP(c.Ro(0,"","image"),!1,"cdnId is undefined");}c=this;d={RUa:!1,profile:this.NI,CI:this.xn.offset,BR:this.xn.length,Kb:this.j.Lc.value||0,bufferSize:h.config.y8a,zBb:{Re:this.j.hQ()}};g=n.bf(this.j,"TimedTextTrack");g.warn=g.trace.bind(g);g.info=g.debug.bind(g);p=A.PZa(this.j,g,this.request);k=(this.q1||[]).filter(function(a){return a.id in c.cr;}).sort(function(a,b){return a.zd-b.zd;}).map(function(a){return a.id;});r=0;f={};u=!0;this.$m=k[r++];b(this.$m);};b.prototype.OP=function(a,b,c){a=Object.assign({},a,{wCb:b,status:c});this.j.fireEvent(l.ya.Uxa,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,b){var c;c=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:k.BB,headers:{},zb:this.E2(this.$m)};this.j.FH.download(a,function(a){c.log.trace("imgsub: request status "+a.P);a.P?b(null,new Uint8Array(a.content)):b({T:a.T,Ab:a.Ab});});};b.prototype.Ro=function(a,b,c){return{currentCdnId:a,url:b,profile:this.NI,dlid:this.ad,subtitletype:c,bcp47:this.gj,trackId:this.ec,cdnCount:Object.keys(this.cr).length,isImageBased:this.Yo};};b.prototype.E2=function(a){return(this.q1||[]).find(function(b){return b.id===a;});};b.prototype.bna=function(){var g,p;function a(a){return c.__awaiter(g,void 0,void 0,function(){var g,h,n,k,r;function c(){for(;;)switch(g){case 0:n=d();h=k.Ro(a.zb.id,a.url,"text");h.errorstring=a.reason;if(!n||!k.qT(h)){g=1;break;}g=-1;return{value:k.q_(p[n.id]).then(b),done:!0};case 1:return g=-1,{value:Promise.reject({P:!1,ro:!0}),done:!0};default:return{value:void 0,done:!0};}}g=0;k=this;r={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};Oa();r[Symbol.iterator]=function(){return this;};return r;});}function b(){return c.__awaiter(g,void 0,void 0,function(){var c,g,h,n,k;function b(){for(;;)switch(c){case 0:g=(h=d())&&n.cr[h.id];if(!h||!g){c=1;break;}p[h.id]=(p[h.id]||0)+1;c=-1;return{value:n.O0a(g,h)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;n=this;k={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};Oa();k[Symbol.iterator]=function(){return this;};return k;});}function d(){return(g.q1||[]).find(function(a){return!!((p[a.id]||0)<h.config.qya&&g.cr[a.id]);});}g=this;p={};return b();};b.prototype.q_=function(a){return new Promise(function(b){var c;c=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(c);},c);});};b.prototype.Ndb=function(a){var b,c;b=this;c=this.j.ED;r.na(c);return u.Mdb(a,c.width/c.height,h.config.Mlb,h.config.sya).then(function(a){var c;if(h.config.tya){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=h.config.tya});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.ug);b.state=w.LOADED;return{P:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",x.Am(a),b.ug,{url:a.url});b.state=w.cE;a.reason="parseerror";a.track=b;throw a;});};b.prototype.O0a=function(a,b){var c;c=this;this.log.trace("Downloading",b&&{zb:b.id},this.Ro(b.id,a,"text"));return new Promise(function(d,g){var h;h={responseType:k.gqa,url:a,track:c,zb:b,TA:"tt-"+c.gj};c.j.FH.download(h,function(a){a.P?d(a.content):(a.reason="downloadfailed",a.url=h.url,a.track=c,a.zb=b,g(a));});});};b.jGa=72E7;b.bfa=w;d.LE=b;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(7);b.a3=function(){var a;a=c.Vp&&c.Vp.height;return a?1080<=a?1080:720:720;};d.qX=b;},function(f){f.K=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,c){return a.apply(this,arguments);};case 3:return function(b,c,d){return a.apply(this,arguments);};case 4:return function(b,c,d,h){return a.apply(this,arguments);};case 5:return function(b,c,d,h,g){return a.apply(this,arguments);};case 6:return function(b,c,d,h,g,n){return a.apply(this,arguments);};case 7:return function(b,c,d,h,g,n,p){return a.apply(this,arguments);};case 8:return function(b,c,d,h,g,n,p,r){return a.apply(this,arguments);};case 9:return function(b,c,d,h,g,n,p,r,f){return a.apply(this,arguments);};case 10:return function(b,c,d,h,g,n,p,r,f,v){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(f,d,a){var k,h,g,n;function b(a,b,c){for(var d=c.next();!d.done;){if((b=a["@@transducer/step"](b,d.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}d=c.next();}return a["@@transducer/result"](b);}function c(a,b,c,d){return a["@@transducer/result"](c[d](g(a["@@transducer/step"],a),b));}k=a(752);h=a(750);g=a(749);Ka();Ka();Oa();n="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";f.K=function(a,d,g){"function"===typeof a&&(a=h(a));if(k(g)){for(var p=0,f=g.length;p<f;){if((d=a["@@transducer/step"](d,g[p]))&&d["@@transducer/reduced"]){d=d["@@transducer/value"];break;}p+=1;}return a["@@transducer/result"](d);}if("function"===typeof g["fantasy-land/reduce"])return c(a,d,g,"fantasy-land/reduce");if(null!=g[n])return b(a,d,g[n]());if("function"===typeof g.next)return b(a,d,g);if("function"===typeof g.reduce)return c(a,d,g,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(f){f.K=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(f,d,a){var b,c,k;b=a(105);c=a(45);k=a(152);f.K=function(a){return function n(d,h,f){switch(arguments.length){case 0:return n;case 1:return k(d)?n:c(function(b,c){return a(d,b,c);});case 2:return k(d)&&k(h)?n:k(d)?c(function(b,c){return a(b,h,c);}):k(h)?c(function(b,c){return a(d,b,c);}):b(function(b){return a(d,h,b);});default:return k(d)&&k(h)&&k(f)?n:k(d)&&k(h)?c(function(b,c){return a(b,c,f);}):k(d)&&k(f)?c(function(b,c){return a(b,h,c);}):k(h)&&k(f)?c(function(b,c){return a(d,b,c);}):k(d)?b(function(b){return a(b,h,f);}):k(h)?b(function(b){return a(d,b,f);}):k(f)?b(function(b){return a(d,h,b);}):a(d,h,f);}};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.KD||(d.KD={});f[f.Cda=0]="PAUSE";f[f.Oea=1]="RESUME";f[f.kpb=2]="CAPTIONS_ON";f[f.jpb=3]="CAPTIONS_OFF";f[f.lpb=4]="CAPTION_LANGUAGE_CHANGED";f[f.qob=5]="AUDIO_LANGUAGE_CHANGED";f[f.Rrb=6]="NEXT_EP";f[f.Dsb=7]="PREV_EP";f[f.bLa=8]="SEEK";f[f.dfa=9]="STOP";d.eaa="CastInteractionTrackerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.sfa="load save remove removeAll loadAll loadKeys".split(" ");d.v$="AppStorageStatsSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.sv||(d.sv={});f.Unknown="unknown";f.Absent="absent";f.Present="present";f.Error="error";d.iba="ExternalDisplayLogHelperSymbol";},function(f,d,a){var c,k,h;function b(){this.type=c.hv.zv;}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);f=a(90);k=a(166);h=new f.Jv();b.D0=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return H.MSMediaKeys.isTypeSupported(a);c=a.split("|");return 1===c.length?H.MSMediaKeys.isTypeSupported(k.Mb.ao,a):"probably"===b.f9(c[0],c[1]);}catch(p){return!1;}}};};b.RO=function(a,c,d){c=h.format(b.wD,c);if(0===d.length)return c;d=h.format('features="{0}"',d.join());return h.format("{0}|{1}{2}",a,c,d);};b.f9=function(a,b){var c;try{c=H.MSMediaKeys.isTypeSupportedWithFeatures?H.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(r){c="exception";}return c;};b.wD='video/mp4;codecs="{0},mp4a";';d.Av=b;},function(f,d,a){var c,k,h,g,n,p;function b(a,c,d,n){var f;f=k.sl.call(this,a,c,d)||this;f.cast=n;f.type=h.Xi.EU;a=b.wMa;f.FD[h.rd.jM]=g.oc.SD+"; "+a;f.FD[h.rd.Pp]=g.oc.Pp+"; "+a;a=g.oc.CBa.find(function(a){return f.Pq(p(b.wD,a));});f.FD[h.rd.eg]=a;return f;}Object.defineProperty(d,"__esModule",{value:!0});c=a(68);k=a(129);h=a(30);f=a(90);g=a(130);n=a(401);p=new f.Jv().format;ja(b,k.sl);b.D0=function(a,c){return(c=b.hwa(c))?{isTypeSupported:c}:a;};b.hwa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.yp=function(a){var c,d;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().hza){d={};if(c)return d[h.dh.Vn]="1.4",d[h.dh.wv]="2.2",c().then(function(b){return b===d[a];});c=this.isa(a);c=p(b.wD,g.oc.SD)+" hdcp="+c;c=this.Pq.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.iQ=function(a){return this.FD[a];};b.prototype.tB=function(){var a;a=this;return this.config().hza?this.yp(h.dh.wv).then(function(b){return b?Promise.resolve(h.dh.wv):a.yp(h.dh.Vn).then(function(a){return a?Promise.resolve(h.dh.Vn):Promise.resolve(void 0);});}).then(function(b){return a.tG(b);}):Promise.resolve(void 0);};b.prototype.Pw=function(){var a,d;a=k.sl.prototype.Pw.call(this);d=b.Zpa;a[c.da.nV]=["hev1.2.6.L90.B0",d];a[c.da.oV]=["hev1.2.6.L93.B0",d];a[c.da.pV]=["hev1.2.6.L120.B0",d];a[c.da.qV]=["hev1.2.6.L123.B0",d];a[c.da.rV]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[c.da.tV]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[c.da.tL]=["hev1.2.6.L90.B0",d];a[c.da.uL]=["hev1.2.6.L93.B0",d];a[c.da.vL]=["hev1.2.6.L120.B0",d];a[c.da.wL]=["hev1.2.6.L123.B0",d];a[c.da.sV]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[c.da.uV]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[c.da.EV]="hev1.1.6.L90.B0";a[c.da.FV]="hev1.1.6.L93.B0";a[c.da.GV]="hev1.1.6.L120.B0";a[c.da.HV]="hev1.1.6.L123.B0";a[c.da.IV]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[c.da.JV]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[c.da.wV]="hev1.2.6.L90.B0";a[c.da.yV]="hev1.2.6.L93.B0";a[c.da.AV]="hev1.2.6.L120.B0";a[c.da.CV]="hev1.2.6.L123.B0";a[c.da.VD]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[c.da.WD]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.Y3=function(){k.sl.prototype.Y3.call(this);!b.hwa(this.cast)&&this.jm.push(n.Bj.Pp);};b.Zpa="eotf=smpte2084";b.gyb="video/mp4;codecs={0}; "+b.Zpa;b.wMa="width=3840; height=2160; ";d.faa=b;d.FU="CastSDKSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.nca="IsTypeSupportedProviderFactorySymbol";d.hea="PlatformIsTypeSupportedSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ifa="ThroughputTrackerSymbol";d.tX="ThroughputTrackerFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.QW="PboPlaydataFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.lX="SegmentManagerFactorySymbol";},function(f,d,a){var c,k,h;function b(a,b,c,d){this.eb=a;this.Oq=b;this.Ni=c;this.Ql=void 0===d?"General":d;this.l0={};}Object.defineProperty(d,"__esModule",{value:!0});c=a(12);k=a(412);h=a(821);b.prototype.Bja=function(a,b){this.l0[a]=b;};b.prototype.fatal=function(a,b){for(var d=[],g=1;g<arguments.length;++g)d[g-1]=arguments[g];this.xt(c.Eh.XDa,a,h.CA(this.Oq,this.mB(d)));};b.prototype.error=function(a,b){for(var d=[],g=1;g<arguments.length;++g)d[g-1]=arguments[g];this.xt(c.Eh.ERROR,a,h.CA(this.Oq,this.mB(d)));};b.prototype.warn=function(a,b){for(var d=[],g=1;g<arguments.length;++g)d[g-1]=arguments[g];this.xt(c.Eh.$fa,a,h.CA(this.Oq,this.mB(d)));};b.prototype.info=function(a,b){for(var d=[],g=1;g<arguments.length;++g)d[g-1]=arguments[g];this.xt(c.Eh.SV,a,h.CA(this.Oq,this.mB(d)));};b.prototype.trace=function(a,b){for(var d=[],g=1;g<arguments.length;++g)d[g-1]=arguments[g];this.xt(c.Eh.rX,a,h.CA(this.Oq,this.mB(d)));};b.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};b.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,c){for(var d=[],g=2;g<arguments.length;++g)d[g-2]=arguments[g];this.xt(a,b,h.CA(this.Oq,this.mB(d)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Ql};};b.prototype.I0=function(a){return new b(this.eb,this.Oq,this.Ni,a);};b.prototype.xt=function(a,b,c){a=new k.Cca(a,this.Ql,this.eb.Ud(),b,c);b=Ba(this.Ni.Ni);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.mB=function(a){return 0<Object.keys(this.l0).length?[].concat([this.l0],kb(a)):a;};d.gE=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.pX="StringUtilsSymbol";},function(f,d,a){(function(b,c){var Z,O,G,t;function k(a,b){var c;c={m8:[],di:g};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.HA=arguments[3]);w(b)?c.L8=b:b&&d.gha(c,b);F(c.L8)&&(c.L8=!1);F(c.depth)&&(c.depth=2);F(c.HA)&&(c.HA=!1);F(c.qma)&&(c.qma=!0);c.HA&&(c.di=h);return p(c,a,c.depth);}function h(a,b){return(b=k.Qkb[b])?"\u001b["+k.HA[b][0]+"m"+a+"\u001b["+k.HA[b][1]+"m":a;}function g(a){return a;}function n(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,b,c){var g,h,k,r,w;if(a.qma&&b&&Y(b.TH)&&b.TH!==d.TH&&(!b.constructor||b.constructor.prototype!==b)){g=b.TH(c,a);y(g)||(g=p(a,g,c));return g;}if(g=f(a,b))return g;h=Object.keys(b);k=n(h);a.L8&&(h=Object.getOwnPropertyNames(b));if(P(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return u(b);if(0===h.length){if(Y(b))return a.di("[Function"+(b.name?": "+b.name:"")+"]","special");if(K(b))return a.di(RegExp.prototype.toString.call(b),"regexp");if(q(b))return a.di(Date.prototype.toString.call(b),"date");if(P(b))return u(b);}g="";r=!1;w=["{","}"];x(b)&&(r=!0,w=["[","]"]);Y(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");K(b)&&(g=" "+RegExp.prototype.toString.call(b));q(b)&&(g=" "+Date.prototype.toUTCString.call(b));P(b)&&(g=" "+u(b));if(0===h.length&&(!r||0==b.length))return w[0]+g+w[1];if(0>c)return K(b)?a.di(RegExp.prototype.toString.call(b),"regexp"):a.di("[Object]","special");a.m8.push(b);h=r?v(a,b,c,k,h):h.map(function(d){return A(a,b,c,k,d,r);});a.m8.pop();return l(h,g,w);}function f(a,b){if(F(b))return a.di("undefined","undefined");if(y(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.di(b,"string");if(z(b))return a.di(""+b,"number");if(w(b))return a.di(""+b,"boolean");if(null===b)return a.di("null","null");}function u(a){return"["+Error.prototype.toString.call(a)+"]";}function v(a,b,c,d,g){for(var h=[],p=0,n=b.length;p<n;++p)Object.prototype.hasOwnProperty.call(b,String(p))?h.push(A(a,b,c,d,String(p),!0)):h.push("");g.forEach(function(g){g.match(/^\d+$/)||h.push(A(a,b,c,d,g,!0));});return h;}function A(a,b,c,d,g,h){var n,k;b=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]};b.get?k=b.set?a.di("[Getter/Setter]","special"):a.di("[Getter]","special"):b.set&&(k=a.di("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,g)||(n="["+g+"]");k||(0>a.m8.indexOf(b.value)?(k=null===c?p(a,b.value,null):p(a,b.value,c-1),-1<k.indexOf("\n")&&(k=h?k.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+a;}).join("\n"))):k=a.di("[Circular]","special"));if(F(n)){if(h&&g.match(/^\d+$/))return k;n=JSON.stringify(""+g);n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=a.di(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=a.di(n,"string"));}return n+": "+k;}function l(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function x(a){return Array.isArray(a);}function w(a){return"boolean"===typeof a;}function z(a){return"number"===typeof a;}function y(a){return"string"===typeof a;}function F(a){return void 0===a;}function K(a){return m(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function m(a){return"object"===typeof a&&null!==a;}function q(a){return m(a)&&"[object Date]"===Object.prototype.toString.call(a);}function P(a){return m(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function Y(a){return"function"===typeof a;}function R(a){return 10>a?"0"+a.toString(10):a.toString(10);}function fa(){var a,b;a=new Date();b=[R(a.getHours()),R(a.getMinutes()),R(a.getSeconds())].join(":");return[a.getDate(),t[a.getMonth()],b].join(" ");}Z=/%[sdj%]/g;d.format=function(a){if(!y(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(k(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,g=d.length,b=String(a).replace(Z,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(ta){return"[Circular]";}default:return a;}}),h=d[c];c<g;h=d[++c])b=null!==h&&m(h)?b+(" "+k(h)):b+(" "+h);return b;};d.f0a=function(a,g){var h;if(F(b.PAb))return function(){return d.f0a(a,g).apply(this,arguments);};if(!0===c.Tzb)return a;h=!1;return function(){if(!h){if(c.UBb)throw Error(g);c.XBb?console.trace(g):console.error(g);h=!0;}return a.apply(this,arguments);};};O={};d.rwb=function(a){var b;F(G)&&(G=c.t2a.Trb||"");a=a.toUpperCase();if(!O[a])if(new RegExp("\\b"+a+"\\b","i").test(G)){b=c.vAb;O[a]=function(){var c;c=d.format.apply(d,arguments);console.error("%s %d: %s",a,b,c);};}else O[a]=function(){};return O[a];};d.TH=k;k.HA={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};k.Qkb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=x;d.S8a=w;d.Ja=function(a){return null===a;};d.Pyb=function(a){return null==a;};d.fa=z;d.Gd=y;d.Tyb=function(a){return"symbol"===typeof a;};d.R=F;d.ara=K;d.ne=m;d.XH=q;d.SQ=P;d.Bb=Y;d.Yqa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(836);t="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",fa(),d.format.apply(d,arguments));};d.C8a=a(835);d.gha=function(a,b){if(!b||!m(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a;};}.call(this,a(168),a(421)));},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.zya(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,d=0;d<c;d++)var h=a[d],b=b+("0123456789ABCDEF"[h>>>4]+"0123456789ABCDEF"[h&15]);return b;};b.prototype.ZP=function(a,b){var c;c="";for(b<<=1;b--;)c=("0123456789ABCDEF"[a&15]||"0")+c,a>>>=4;return c;};b.prototype.zya=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var d=0,h=0;h<b;h++)d=16*d+c[a[h]];return d;};k=b;k=f.__decorate([a.O()],k);d.yU=k;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.iV="EmeApiSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.YU||(d.YU={});f[f.zAb=0]="playready";f[f.Wnb=1]="widevine";f[f.fxb=2]="fairplay";f[f.Bvb=3]="clearkey";d.Oaa="DrmTypeSymbol";},function(f,d,a){var b,c;b=a(433);c=a(934);d.xu=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.jC(c.t8a,null,a);};},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.value=b;this.ja=c;this.nq=!0;c&&(this.nq=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.cb=function(a){var b,c;b=a.value;c=a.Te;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.kb(a)));};c.prototype.lf=function(a){var b,d;b=this.value;d=this.ja;if(d)return d.kb(c.cb,0,{done:!1,value:b,Te:a});a.next(b);a.closed||a.complete();};return c;}(a(10).qa);d.kX=f;},function(f,d,a){a(10);f=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.jn="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.MG=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.MG(a,b,d);};a.G0=function(b){return"undefined"!==typeof b?new a("N",b):a.Kmb;};a.Yla=function(b){return new a("E",void 0,b);};a.C0=function(){return a.eXa;};a.eXa=new a("C");a.Kmb=new a("N",void 0);return a;}();d.Notification=f;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);this.ej=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.ej;if(this.active)b.push(a);else{this.active=!0;do if(c=a.Di(a.state,a.$c))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(949).BLa);d.uU=f;},function(f,d,a){var b,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(75);f=function(a){function d(b,c){a.call(this,b,c);this.ja=b;this.OK=c;this.eJ=!1;}b(d,a);d.prototype.kb=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.eJ=!0;a=this.id;c=this.ja;null!=a&&(this.id=this.GS(c,a,b));this.$c=b;this.id=this.id||this.LS(c,this.id,b);return this;};d.prototype.LS=function(a,b,d){void 0===d&&(d=0);return c.root.setInterval(a.flush.bind(a,this),d);};d.prototype.GS=function(a,b,d){void 0===d&&(d=0);return null!==d&&this.$c===d&&!1===this.eJ?b:(c.root.clearInterval(b),void 0);};d.prototype.Di=function(a,b){if(this.closed)return Error("executing a cancelled action");this.eJ=!1;if(a=this.WM(a,b))return a;!1===this.eJ&&null!=this.id&&(this.id=this.GS(this.ja,this.id,null));};d.prototype.WM=function(a){var b,c;b=!1;c=void 0;try{this.OK(a);}catch(r){b=!0;c=!!r&&r||Error(r);}if(b)return this.unsubscribe(),c;};d.prototype.yq=function(){var a,b,c,d;a=this.id;b=this.ja;c=b.ej;d=c.indexOf(this);this.state=this.OK=null;this.eJ=!1;this.ja=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.GS(b,a,null));this.$c=null;};return d;}(a(951).aAa);d.tU=f;},function(f,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}f=a(75);d.byb=b;d.observable=b(f.root);d.mob=d.observable;},function(f,d,a){f=a(75).root.Symbol;d.Ay="function"===typeof f&&"function"===typeof f["for"]?f["for"]("rxSubscriber"):"@@rxSubscriber";d.nob=d.Ay;},function(f,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(f,d,a){var k;function b(){}function c(a){a?(this.active=!1,this.u2(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);c.prototype.u2=function(a){this.profileId=a.profileId;this.$b=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,uu:a.licenseContextId,UB:a.licenseId};}):[];this.ha=a.xid;this.M=a.movieId;};c.prototype.Ap=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.$b?this.$b.map(function(a){return{id:a.id,licenseContextId:a.uu,licenseId:a.UB};}):[],xid:this.ha,movieId:this.M}));};d.WU=c;b.prototype.create=function(){return new c();};b.prototype.load=function(a){return new c(a);};k=b;k=f.__decorate([a.O()],k);d.nDa=k;},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(95);c=a(455);k=a(236);h=a(165);g=a(970);n=a(969);d.eme=new f.Xb(function(a){a(c.Kaa).to(k.nDa).X();a(h.DU).to(g.yBa).X();a(b.ND).rK(n.Hfb);});d.w1=new f.LD({Vu:!0});},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(67);c=a(971);d.ph=new f.Xb(function(a){a(b.ns).rK(c.Gfb);});d.DZ=new f.LD({Vu:!0});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.WV="Injector";d.Es=145152E5;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(241);a(458);f=function(){function a(a){this.wb=a;}a.prototype.MK=function(){this.wb.JA=function(a){return null!==a.target&&!a.target.g4()&&!a.target.n4();};return new b.AU(this.wb);};return a;}();d.BU=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(240);f=function(){function a(a){this.wb=a;}a.prototype.jp=function(a){this.wb.jp=a;return new b.BU(this.wb);};return a;}();d.AU=f;},function(f,d,a){var h;function b(a,b,c,d,h,k,f){this.GK=d;this.Dza=a;this.pta=b;this.V5=c;this.x9a=k;this.Qu=f;this.split=h;}function c(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function k(a,b,c,d,h,k){this.US=h;this.GO=k;}d=a(265);h=a(170);a={};a.CUa=new function(){this.wOa=h();this.o=0;this.update=function(){this.o=h()-this.wOa;};this.getValue=function(){return this.o;};this.type="num";}();a.U9a=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.sa[a].context||null;};this.type="cat";}();a.V9a=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.sa[a].context||null;};this.type="cat";}();a.X9a=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.sa[a].context||null;};this.type="cat";}();a.Y9a=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.sa[a].context||null;};this.type="cat";}();a.W9a=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.sa[a].context||null;};this.type="cat";}();a.Z9a=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.sa[a].context||null;};this.type="cat";}();a.$9a=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.sa[a].context||null;};this.type="cat";}();a.a$a=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.sa[a].context||null;};this.type="cat";}();a.b$a=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.sa[a].context||null;};this.type="cat";}();a.c$a=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.sa[a].context||null;};this.type="cat";}();a.d$a=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.sa[a].context||null;};this.type="cat";}();a.e$a=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.sa[a].context||null;};this.type="cat";}();a.g$a=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.sa[a].context||null;};this.type="cat";}();a.h$a=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.sa[a].context||null;};this.type="cat";}();a.i$a=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.sa[a].context||null;};this.type="cat";}();a.f$a=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.sa[a].context||null;};this.type="cat";}();a.gVa=new function(){this.update=function(a){for(var b in a.sa)if("becauseYouAdded"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.hVa=new function(){this.update=function(a){for(var b in a.sa)if("becauseYouLiked"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.jVa=new function(){this.update=function(a){for(var b in a.sa)if("billboard"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zXa=new function(){this.update=function(a){for(var b in a.sa)if("continueWatching"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.iVa=new function(){this.update=function(a){for(var b in a.sa)if("bigRow"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.f4a=new function(){this.update=function(a){for(var b in a.sa)if("genre"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Tbb=new function(){this.update=function(a){for(var b in a.sa)if("netflixOriginals"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Xbb=new function(){this.update=function(a){for(var b in a.sa)if("newRelease"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Seb=new function(){this.update=function(a){for(var b in a.sa)if("popularTitles"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bi=new function(){this.update=function(a){for(var b in a.sa)if("queue"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lgb=new function(){this.update=function(a){for(var b in a.sa)if("recentlyAdded"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ujb=new function(){this.update=function(a){for(var b in a.sa)if("similars"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.vmb=new function(){this.update=function(a){for(var b in a.sa)if("trendingNow"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Imb=new function(){this.update=function(a){for(var b in a.sa)if("ultraHD"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Rnb=new function(){this.update=function(a){for(var b in a.sa)if("watchAgain"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ylb=new function(){this.update=function(a){for(var b in a.sa)if("topTen"===a.sa[b].context){this.o=Math.max(a.sa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.LXa=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.wa||null;};this.type="cat";}();a.MXa=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.wa||null;};this.type="cat";}();a.NXa=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.wa||null;};this.type="cat";}();a.OXa=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.wa||null;};this.type="cat";}();a.PXa=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.wa||null;};this.type="cat";}();a.QXa=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.wa||null;};this.type="cat";}();a.RXa=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.wa||null;};this.type="cat";}();a.SXa=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.wa||null;};this.type="cat";}();a.TXa=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.wa||null;};this.type="cat";}();a.UXa=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.wa||null;};this.type="cat";}();a.VXa=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.wa||null;};this.type="cat";}();a.WXa=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.wa||null;};this.type="cat";}();a.XXa=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.wa||null;};this.type="cat";}();a.YXa=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.wa||null;};this.type="cat";}();a.ZXa=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.wa||null;};this.type="cat";}();a.$Xa=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.wa||null;};this.type="cat";}();a.aYa=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.wa||null;};this.type="cat";}();a.bYa=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.wa||null;};this.type="cat";}();a.cYa=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.wa||null;};this.type="cat";}();a.dYa=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.wa||null;};this.type="cat";}();a.eYa=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.wa||null;};this.type="cat";}();a.fYa=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.wa||null;};this.type="cat";}();a.gYa=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.wa||null;};this.type="cat";}();a.hYa=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.wa||null;};this.type="cat";}();a.iYa=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.wa||null;};this.type="cat";}();a.jYa=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.wa||null;};this.type="cat";}();a.kYa=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.wa||null;};this.type="cat";}();a.lYa=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.wa||null;};this.type="cat";}();a.mYa=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.wa||null;};this.type="cat";}();a.nYa=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.wa||null;};this.type="cat";}();a.oYa=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.wa||null;};this.type="cat";}();a.pYa=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.wa||null;};this.type="cat";}();a.qYa=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.wa||null;};this.type="cat";}();a.rYa=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.wa||null;};this.type="cat";}();a.sYa=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.wa||null;};this.type="cat";}();a.tYa=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.wa||null;};this.type="cat";}();a.uYa=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.wa||null;};this.type="cat";}();a.vYa=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.wa||null;};this.type="cat";}();a.wYa=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.wa||null;};this.type="cat";}();a.xYa=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.wa||null;};this.type="cat";}();a.yYa=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.wa||null;};this.type="cat";}();a.zYa=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.wa||null;};this.type="cat";}();a.AYa=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.wa||null;};this.type="cat";}();a.BYa=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.wa||null;};this.type="cat";}();a.CYa=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.wa||null;};this.type="cat";}();a.DYa=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.wa||null;};this.type="cat";}();a.EYa=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.wa||null;};this.type="cat";}();a.FYa=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.wa||null;};this.type="cat";}();a.GYa=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.wa||null;};this.type="cat";}();a.HYa=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.wa||null;};this.type="cat";}();a.IYa=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.wa||null;};this.type="cat";}();a.JYa=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.wa||null;};this.type="cat";}();a.KYa=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.wa||null;};this.type="cat";}();a.LYa=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.wa||null;};this.type="cat";}();a.MYa=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.wa||null;};this.type="cat";}();a.NYa=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.wa||null;};this.type="cat";}();a.OYa=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.wa||null;};this.type="cat";}();a.PYa=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.wa||null;};this.type="cat";}();a.QYa=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.wa||null;};this.type="cat";}();a.RYa=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.wa||null;};this.type="cat";}();a.SYa=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.wa||null;};this.type="cat";}();a.TYa=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.wa||null;};this.type="cat";}();a.UYa=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.wa||null;};this.type="cat";}();a.VYa=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.wa||null;};this.type="cat";}();a.WYa=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.wa||null;};this.type="cat";}();a.XYa=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.wa||null;};this.type="cat";}();a.YYa=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.wa||null;};this.type="cat";}();a.ZYa=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.wa||null;};this.type="cat";}();a.$Ya=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.wa||null;};this.type="cat";}();a.aZa=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.wa||null;};this.type="cat";}();a.bZa=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.wa||null;};this.type="cat";}();a.cZa=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.wa||null;};this.type="cat";}();a.dZa=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.wa||null;};this.type="cat";}();a.eZa=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.wa||null;};this.type="cat";}();a.fZa=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.wa||null;};this.type="cat";}();a.gZa=new function(){this.getValue=function(a,b,c){return this.o="US"===c.wa||null;};this.type="cat";}();a.hZa=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.wa||null;};this.type="cat";}();a.iZa=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.wa||null;};this.type="cat";}();a.jZa=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.wa||null;};this.type="cat";}();a.qgb=new function(){this.getValue=function(a,b,c){return this.o=1===c.Af||null;};this.type="cat";}();a.rgb=new function(){this.getValue=function(a,b,c){return this.o=10===c.Af||null;};this.type="cat";}();a.sgb=new function(){this.getValue=function(a,b,c){return this.o=11===c.Af||null;};this.type="cat";}();a.tgb=new function(){this.getValue=function(a,b,c){return this.o=12===c.Af||null;};this.type="cat";}();a.ugb=new function(){this.getValue=function(a,b,c){return this.o=13===c.Af||null;};this.type="cat";}();a.vgb=new function(){this.getValue=function(a,b,c){return this.o=14===c.Af||null;};this.type="cat";}();a.wgb=new function(){this.getValue=function(a,b,c){return this.o=15===c.Af||null;};this.type="cat";}();a.xgb=new function(){this.getValue=function(a,b,c){return this.o=16===c.Af||null;};this.type="cat";}();a.ygb=new function(){this.getValue=function(a,b,c){return this.o=17===c.Af||null;};this.type="cat";}();a.zgb=new function(){this.getValue=function(a,b,c){return this.o=18===c.Af||null;};this.type="cat";}();a.Agb=new function(){this.getValue=function(a,b,c){return this.o=19===c.Af||null;};this.type="cat";}();a.Bgb=new function(){this.getValue=function(a,b,c){return this.o=2===c.Af||null;};this.type="cat";}();a.Cgb=new function(){this.getValue=function(a,b,c){return this.o=20===c.Af||null;};this.type="cat";}();a.Dgb=new function(){this.getValue=function(a,b,c){return this.o=21===c.Af||null;};this.type="cat";}();a.Egb=new function(){this.getValue=function(a,b,c){return this.o=22===c.Af||null;};this.type="cat";}();a.Fgb=new function(){this.getValue=function(a,b,c){return this.o=23===c.Af||null;};this.type="cat";}();a.Ggb=new function(){this.getValue=function(a,b,c){return this.o=3===c.Af||null;};this.type="cat";}();a.Hgb=new function(){this.getValue=function(a,b,c){return this.o=4===c.Af||null;};this.type="cat";}();a.Igb=new function(){this.getValue=function(a,b,c){return this.o=5===c.Af||null;};this.type="cat";}();a.Jgb=new function(){this.getValue=function(a,b,c){return this.o=6===c.Af||null;};this.type="cat";}();a.Kgb=new function(){this.getValue=function(a,b,c){return this.o=7===c.Af||null;};this.type="cat";}();a.Lgb=new function(){this.getValue=function(a,b,c){return this.o=8===c.Af||null;};this.type="cat";}();a.Mgb=new function(){this.getValue=function(a,b,c){return this.o=9===c.Af||null;};this.type="cat";}();a.Ykb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$kb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zkb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.alb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Dab=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Gab=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.j0);};this.getValue=function(){return this.o;};this.type="num";}();a.Nab=new function(){this.YE=this.o=0;this.update=function(a){this.YE++;this.o=1*(this.o+a.rowIndex)/this.YE;};this.getValue=function(){return this.o;};this.type="num";}();a.Oab=new function(){this.YE=this.o=0;this.update=function(a){this.YE++;return this.o=1*(this.o+a.j0)/this.YE;};this.getValue=function(){return this.o;};this.type="num";}();a.mfb=new function(){this.getValue=function(a,b,c){return this.o=c.j0+b;};this.type="num";}();a.nfb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();c.prototype.Qu=function(a){return this.Wia(this.H["0"].Fwa(a),a);};c.prototype.Wia=function(a,b){return"string"==typeof a?this.Wia(this.H[a].Fwa(b),b):a;};b.prototype.Fwa=function(a){switch(this.x9a){case 0:switch(a.Sd[this.GK].type){case"cat":return null===a.Sd[this.GK].value?this.pta:"missing"==a.Sd[this.GK].value?this.V5:this.Dza;case"num":return null===a.Sd[this.GK].value?this.V5:a.Sd[this.GK].value<this.split?this.Dza:this.pta;default:return this.V5;}case 1:return this.Qu;default:return this.Qu;}};d.declare({GI:["modelSelector","modelone"],YWa:["colEpisodeList",5],a8a:["holdDuration",15E3],pwa:["rowFirst",2],yla:["colFirst",5],rwa:["rowScroll",2],zla:["colScroll",6],Nhb:["rowScrollHorizontal",6],dib:["searchTop",3],rma:["cwFirst",2],DH:["horizontalItemsFocusedMode",3],z9a:["itemsPerRank",1],zab:["maxNumberPayloadsStored",10],xsa:["maxNumberTitlesScheduled",5],Lwb:["enableDetailedLogging",!0],kBb:["rowStep",20],Cvb:["colStep",15],hAb:["pageRows",100],gAb:["pageColumns",75],p5:["maskParamsList",new function(){var a,b;this.p5=[];this.Nua={};this.US=20;this.GO=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.US)+"_"+Math.floor(b/this.GO)in this.Nua||(this.Nua[Math.floor(a/this.US)+"_"+Math.floor(b/this.GO)]=1,this.p5.push(new k(0,0,0,0,Math.floor(a/this.US),Math.floor(b/this.GO))));}().p5],H:["nodes",new c().H],mapping:["mapping",{Gab:"0",Oab:"1",Dab:"2",Nab:"3",CUa:"4",alb:"5",Zkb:"6",$kb:"7",Ykb:"8",nfb:"9",mfb:"10",U9a:"11",V9a:"12",X9a:"13",Y9a:"14",W9a:"15",Z9a:"16",$9a:"17",a$a:"18",b$a:"19",c$a:"20",d$a:"21",e$a:"22",f$a:"23",g$a:"24",h$a:"25",i$a:"26",qgb:"27",rgb:"28",sgb:"29",tgb:"30",ugb:"31",vgb:"32",wgb:"33",xgb:"34",ygb:"35",zgb:"36",Agb:"37",Bgb:"38",Cgb:"39",Dgb:"40",Egb:"41",Fgb:"42",Ggb:"43",Hgb:"44",Igb:"45",Jgb:"46",Kgb:"47",Lgb:"48",Mgb:"49",LXa:"50",MXa:"51",NXa:"52",OXa:"53",PXa:"54",QXa:"55",RXa:"56",SXa:"57",TXa:"58",UXa:"59",VXa:"60",WXa:"61",XXa:"62",YXa:"63",ZXa:"64",$Xa:"65",aYa:"66",bYa:"67",cYa:"68",dYa:"69",eYa:"70",fYa:"71",gYa:"72",hYa:"73",iYa:"74",jYa:"75",kYa:"76",lYa:"77",mYa:"78",nYa:"79",oYa:"80",pYa:"81",qYa:"82",rYa:"83",sYa:"84",tYa:"85",uYa:"86",vYa:"87",wYa:"88",xYa:"89",yYa:"90",zYa:"91",AYa:"92",BYa:"93",CYa:"94",DYa:"95",EYa:"96",FYa:"97",GYa:"98",HYa:"99",IYa:"100",JYa:"101",KYa:"102",LYa:"103",MYa:"104",NYa:"105",OYa:"106",PYa:"107",QYa:"108",RYa:"109",SYa:"110",TYa:"111",UYa:"112",VYa:"113",WYa:"114",XYa:"115",YYa:"116",ZYa:"117",$Ya:"118",aZa:"119",bZa:"120",cZa:"121",dZa:"122",eZa:"123",fZa:"124",gZa:"125",hZa:"126",iZa:"127",jZa:"128",Rnb:"129",lgb:"130",Ujb:"131",bi:"132",zXa:"133",f4a:"134",vmb:"135",Ylb:"136",jVa:"137",Xbb:"138",Imb:"139",Seb:"140",gVa:"141",iVa:"142",hVa:"143",Tbb:"144"}],Sd:["features",a],vub:["_modelName","tree"],mub:["_format","xgboost"],uub:["_itemsToKeep",5],tub:["_itemsThreshold",null],rvb:["cacheLimit",20]});f.K={config:d,pzb:k,dwb:b};},function(f,d,a){var c;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].te+"|";return b;}c=a(169);f.K={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},Ayb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Q4a:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===c.bE.tBa){b=a[d].list;break;}return b;},B4a:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===c.bE.pAa){b=a[d].list;break;}return b;},q0a:function(a,c){for(var d=0,h,p,k,f=0,v=a.length-1;f<v;f++){h=b(a[f].list||[]);k=!1;for(var A=0,l=c.length;A<l;A++)if(p=b(c[A].list||[]),p==h){k=!0;break;}if(!1===k){d=f;break;}}return d;},Kcb:function(a,b,c){for(var d=[],g,h=0;h<Math.min(b,a.length);h++)g=a[h].list||[],d=d.concat(g.slice(0,c));return d;},Jcb:function(a,b){for(var c=[],d,h=0;h<a.length&&(d=a[h].list||[],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0!==b);h++);return c;},Icb:function(a,b,c){var d;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(d=a[c]));return d;},doa:function(a){for(var b={},d=a.length,k,p=0;p<d;p++){k=a[p].list||[];for(var f=0;f<k.length;f++)if(k[f].property===c.jz.xE||k[f].property===c.jz.taa){b.Zg=p;b.Bi=f;break;}}void 0===b.Zg&&void 0===b.Bi&&(b.Zg=0,b.Bi=0);return b;}};},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A,l,x,w,z,y;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(140);k=a(97);h=a(5);g=a(6);n=a(84);f=a(37);p=a(2);r=a(11);u=a(3);v=a(108);A=a(56);l=a(51);x=a(19);w=a(7);z=a(14);y=a(33);d.tj={};H._cad_global||(H._cad_global={});H._cad_global.msl=d.tj;f.Mca&&b.Fe(p.I.Pba,function(a){var m,q,R,fa,Z,O,G,t,aa,Q,ha,ba,ma,la;function f(c){c&&c.userList&&h.config.Fjb&&(c.userList=[]);fa({esn:k.qg.Tf,esnPrefix:k.qg.Xl,authenticationType:h.config.zA,authenticationKeyNames:h.config.pka,systemKeyWrapFormat:h.config.mlb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ma,storeState:c,notifyMilestone:b.kI,log:G,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:p.G.Qca,MSL_READ_TIMEOUT:p.G.CGa}},{result:function(a){D(a);},timeout:function(){a({T:p.G.Pca});},error:function(b){a(F(p.G.Pca,void 0,b));}});}function D(b){var k,f,w;function c(){ba&&u.Y.get(l.ql).create().then(function(a){return a.save(Q,f,!1);})["catch"](function(a){G.error("Error persisting msl store",p.Am(a));});}k=new n.KE(100);w=Z.extend({init:function(a){this.Zha=a;},getResponse:function(a,b,c){var d,g;b=this.Zha;d=b.MI.bc||d;a=z.dra(a.body)?u.qza(a.body):a.body;r.BG(a,"Msl should not be sending empty request");a={url:b.url,Pua:a,withCredentials:!0,TA:"nccp-"+b.method,headers:b.headers};b=this.Zha.timeout;a.s0=b;a.i6=b;g=d.download(a,function(a){try{if(a.P)c.result({body:a.content});else if(400===a.rh&&a.Ea)c.result({body:a.Ea});else throw x.Aa(new O("HTTP error, SubCode: "+a.T+(a.rh?", HttpCode: "+a.rh:"")),{cadmiumResponse:a});}catch(rf){c.error(rf);}});return{abort:function(){g.abort();}};}});aa&&b.addEventHandler("shouldpersist",function(a){f=a.storeState;k.kb(c);});x.Aa(d.tj,{wyb:function(){ha=!0;},send:function(a){function c(){var b,c;b=a.MI;c={method:a.method,nonReplayable:a.SR,encrypted:a.zP,userId:a.CD,body:a.body,timeout:2*a.timeout,url:new w(a),allowTokenRefresh:ba,sendUserAuthIfRequired:la,shouldSendUserAuthData:h.config.Kjb};b.bx?(c.email=b.bx,c.password=b.password||""):b.Aya?(c.token=b.Aya,c.mechanism=b.Qab,b.Qx&&(c.netflixId=b.Qx,c.secureNetflixId=b.dT),b.Xg&&(c.profileGuid=b.Xg)):b.Qx?(c.netflixId=b.Qx,c.secureNetflixId=b.dT):b.Esa?(c.mdxControllerToken=b.Esa,c.mdxPin=b.Lab,c.mdxNonce=b.Kab,c.mdxEncryptedPinB64=b.Jab,c.mdxSignature=b.Mab):ha||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Xg&&(c.profileGuid=b.Xg);return c;}return new Promise(function(a,d){var g;g=c();b.send(g).then(function(b){ha&&(ha=!1);a({P:!0,body:b.body});})["catch"](function(a){var c,g;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.T?a.error.cadmiumResponse.T:b.isErrorReauth(a.error)?p.G.eW:b.isErrorHeader(a.error)?p.G.Nca:p.G.dW;g=b.getErrorCode(a.error);d(F(c,g,a.error));}else G.error("Unknown MSL error",a),a.Gb=a.subCode,d({T:a.Gb?a.Gb:p.G.DGa});});});},ovb:function(a,c){b.buildPlayDataRequest({nccpMethod:a.Nbb,nonReplayable:a.SR,encrypted:a.zP,userId:a.CD,body:a.body,serviceTokens:a.CBb,timeout:a.timeout,allowTokenRefresh:!1},{result:function(a){c({P:!0,body:a});},timeout:function(){c({T:p.G.Qca});},error:function(a){var d,g;d=b.isErrorReauth(a)?p.G.eW:b.isErrorHeader(a)?p.G.Nca:p.G.dW;g=b.getErrorCode(a);c(F(d,g,a));}});},wf:b});a(g.Nb);}function F(a,b,c){var d,g,h,p;p={T:a,au:b};if(c){d=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(h=c.cadmiumResponse){if(g=h.Ab&&h.Ab.toString())h.Ab=g;h.T=a;h.au=b;h.Ea=d(c.message);h.error={Gb:a,Dd:g,gp:b,data:c.cause,message:c.message};return h;}d=d(c.errorMessage);g=x.ld(c.internalCode)||x.ld(c.error&&c.error.internalCode);h=void 0!==c.x2a?y.Eta(c.x2a):void 0;}d&&(p.Ea=d);g&&(p.Ab=g);p.error={Gb:a,Dd:g.toString(),gp:b,data:h,message:d};return p;}r.na(h.config);m=u.Y.get(v.Lv);q=A.Oc.Wi;if(w.Cv&&w.Qw&&w.Qw.unwrapKey){try{R=H.netflix.msl;fa=R.createMslClient;Z=R.IHttpLocation;O=R.MslIoException;}catch(ea){a({T:p.G.xGa});return;}G=u.Tc("Msl");t=h.config.Gbb;aa=h.config.Hbb;Q=h.config.Vl?"mslstoretest":"mslstore";R=c.gD.bxa;ha=h.config.z8a;ba=!R||R.P;ma=u.Tm(h.config.Vl?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");la=!!h.config.y8;u.Y.get(l.ql).create().then(function(b){t?b.remove(Q).then(function(){f();})["catch"](function(a){G.error("Unable to delete MSL store",p.Am(a));f();}):aa?b.load(Q).then(function(a){m.mark(q.zGa);f(a.value);})["catch"](function(c){c.T==p.G.Hk?(m.mark(q.BGa),f()):(G.error("Error loading msl store",p.Am(c)),m.mark(q.AGa),b.remove(Q).then(function(){f();})["catch"](function(b){a(b);}));}):f();})["catch"](function(b){G.error("Error creating app storage while loading msl store",p.Am(b));a(b);});}else a({T:p.G.yGa});});},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A,l,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);c=a(6);k=a(18);h=a(5);g=a(33);n=a(17);p=a(37);r=a(3);u=a(2);v=a(19);A=a(108);l=a(7);x=a(82);d.bmb=function(){var f,D;function a(a){var b,c,h;b="info";c="";h=r.Y.get(A.Lv).cpa();a.P||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.T||""));c="type=startup&sev="+b+c+"&"+g.TI(v.Aa({},h,{prefix:"m_"}));d(c,f);}function d(a,d){d&&(a=D+"&jsoffms="+n.bb()+"&do="+l.ii.onLine+"&"+a+"&"+g.TI(v.Aa({},k.L4,{prefix:"im_"})),b.bc.download({url:d,Pua:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},TA:"track"},c.Rb));}D="cat=cadplayback&dev="+encodeURIComponent(p.vaa)+"&ep="+encodeURIComponent(p.hf.gV)+"&ver="+encodeURIComponent("6.0013.845.051")+"&jssid="+n.lz;r.Tc("TrackingLog");D+="&browserua="+l.Fh;k.Fe(u.I.Xba,function(b){var d,n;f=r.Y.get(x.ps).host+h.config.B9;if(h.config.ZT&&h.config.B9){h.config.Uo&&(D+="&groupname="+encodeURIComponent(h.config.Uo));h.config.ks&&(D+="&uigroupname="+encodeURIComponent(h.config.ks));d=D;n="";p.Zn&&(n=v.Aa({},p.Zn,{prefix:"pi_"}),n="&"+g.TI(n));D=d+n;k.jI(a);}b(c.Nb);});return d;}();},function(f,d,a){var h;function b(a,b,d){b=b||0;d=d||a.length;for(var g,h=b,p,k,n,f={};h<b+d;){g=a[h];p=g&7;k=g>>3;n=c(a,h);if(!n.count)throw Error("Parsing error. bytes length is 0 for the tag "+g);h+=n.count+1;2==p&&(h+=n.value);f[k]={ixb:k,xCb:p,value:n.value,count:n.count,start:n.start};}return f;}function c(a,b){var c,d,g,k,n,f,x,w;c=b+1;d=a.length;g=c;k=0;n={};f=[];w=0;if(c>=d)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+d);for(;g<d;){k++;c=a[g];x=c&127;f.push(x);if(!(c&128))break;g++;}h.na(f.length);for(a=f.length-1;0<=a;a--)w<<=7,w|=f[a];n.count=k;n.value=w;n.start=b+k+1;return n;}function k(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});h=a(11);d.j9a=function(a){a=b(a);if(1==k(a,1)&&a[5]&&a[5].value)return!0;};d.Syb=function(a){var c;c=b(a);if(2==k(c,1)&&(a=b(a,c[2].start,c[2].value),k(a,5)))return!0;};d.dxb=b;d.Wxb=c;d.Xxb=k;},function(f){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}f.K=function(a){var h,g,n;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function c(a,c,d){var h;h=g[a];"undefined"!==typeof h?h(c)||b(a,c,d):a!==typeof c&&b(a,c,d);}function k(a,b){var d;d=a.filter(function(a){return"object"!==typeof a&&-1===n.indexOf(a);});d=d.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===n.indexOf(a);}));},[]));if(0<d.length)throw Error(d.join(",")+" are invalid types");return function(){var d;d=Array.prototype.slice.call(arguments);if(d.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var g;g=d[b];if("string"===typeof a)c(a,g,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){c(a[b],g[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,d);};}h="number boolean string object function symbol".split(" ");g={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof g[b]||-1<h.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);g[b]=a[b];});}n=Object.keys(g).concat(h);return k(["array","function"],k);};},function(f,d,a){var A,l,x;function b(a,b,c){this.type=a;this.size=b;this.Vq=c;}function c(a){var c,d,g,h,k;a:{c=a.position;if(8<=a.bl()){d=a.Ba();g=a.Ou(4);if(!l.test(g))throw a.seek(c),Error("mp4-badtype");if(1==d){if(8>a.bl()){a.seek(c);c=void 0;break a;}d=a.zf();}if(!(8<=d))throw a.seek(c),Error("mp4-badsize");if("uuid"==g){if(16>a.bl()){a.seek(c);c=void 0;break a;}g=a.EC();}c={type:g,offset:c,size:d,Vq:c+d-a.position};}else c=void 0;}if(c&&c.Vq<=a.bl()){h=c.type;d=c.size;k=c.Vq;g=new b(h,d,k);h=x[h];if(a.bl()<k)throw Error("mp4-shortcontent");h?(k=new A(a.pe(k)),h(g,k)):a.skip(k);a.seek(c.offset);g.raw=a.pe(d);return g;}}function k(a,b){for(var d=[],g={},h,k;0<b.bl();){h=c(b);if(!h)throw Error("mp4-badchildren");k=h.type;d.push(h);g[k]||(g[k]=h);}a.children=d;a.a2=g;}function h(a,b){a.version=b.Hd(1);a.de=b.Hd(3);}function g(a,b){b.skip(6);a.a_a=b.Cb();b.skip(8);a.channelCount=b.Cb();a.QC=b.Cb();b.skip(4);a.sampleRate=b.Cb();b.skip(2);k(a,b);}function n(a,b){var c;b.skip(6);a.a_a=b.Cb();b.skip(16);a.width=b.Cb();a.height=b.Cb();a.jyb=b.Ba();a.rCb=b.Ba();b.skip(4);a.Q3a=b.Cb();c=b.Yg();a.iXa=b.Ou(c);b.skip(31-c);a.depth=b.Cb();b.skip(2);k(a,b);}function p(a,b){h(a,b);a.xwb=b.Hd(3);a.ywb=b.Yg();a.cI=b.pe(16);}function r(a,b){for(var c=[],d;b--;)d=a.Cb(),c.push(a.pe(d));return c;}function u(a){var b;b=a.pe(2);a={tBb:b[1]>>1&7,Phb:!!(b[1]&1),nBb:a.Cb()};v(a,(b[0]<<8|b[1])>>4);return a;}function v(a,b){a.oBb=b>>4&3;a.sBb=b>>2&3;a.qBb=b&3;return a;}A=a(101);l=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.jr=function(a){var b,c,d,g,h;b=this;a=a.split("/");for(g=0;g<a.length&&b;g++){d=a[g].split("|");c=void 0;for(h=0;h<d.length&&!c;h++)c=d[h],c=b.a2&&b.a2[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};x={ftyp:function(a,b){a.kzb=b.Ou(4);a.Czb=b.Ba();for(a.dXa=[];4<=b.bl();)a.dXa.push(b.Ou(4));},moov:k,sidx:function(a,b){h(a,b);a.$Ab=b.Ba();a.t9=b.Ba();a.t1=1<=a.version?b.zf():b.Ba();a.c2=1<=a.version?b.zf():b.Ba();b.skip(2);for(var c=b.Cb(),d=[],g,k;c--;){g=b.Ba();k=g>>31;if(0!==k)throw Error("mp4-badsdix");g&=2147483647;k=b.Ba();b.skip(4);d.push({size:g,duration:k});}a.aBb=d;},moof:k,mvhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.og=b.Hd(c);a.modificationTime=b.Hd(c);a.t9=b.Ba();a.duration=b.Hd(c);a.VAb=b.r7();a.volume=b.qva();b.skip(70);a.Szb=b.Ba();},pssh:function(a,b){var c;h(a,b);a.b1a=b.EC();c=b.Ba();a.data=b.pe(c);},trak:k,mdia:k,minf:k,stbl:k,stsd:function(a,b){h(a,b);b.Ba();k(a,b);},encv:n,avc1:n,hvcC:n,hev1:n,mp4a:g,enca:g,"ec-3":g,avcC:function(a,b){a.version=b.Yg();a.Wub=b.Yg();a.QAb=b.Yg();a.Vub=b.Yg();a.azb=(b.Yg()&3)+1;a.BBb=r(b,b.Yg()&31);a.uAb=r(b,b.Yg());},pasp:function(a,b){a.fyb=b.Ba();a.pCb=b.Ba();},sinf:k,frma:function(a,b){a.gwb=b.Ou(4);},schm:function(a,b){h(a,b);a.Xhb=b.Ou(4);a.wBb=b.Ba();a.de&1&&(a.vBb=b.dgb());},schi:k,tenc:p,mvex:k,trex:function(a,b){h(a,b);a.ec=b.Ba();a.zwb=b.Ba();a.Fma=b.Ba();a.Q_a=b.Ba();a.Gma=u(b);},traf:k,tfhd:function(a,b){var c;h(a,b);a.ec=b.Ba();c=a.de;c&1&&(a.bvb=b.zf());c&2&&(a.pBb=b.Ba());c&8&&(a.Fma=b.Ba());c&16&&(a.Q_a=b.Ba());c&32&&(a.Gma=u(b));},saio:function(a,b){h(a,b);a.de&1&&(a.TUa=b.Ba(),a.UUa=b.Ba());for(var c=1<=a.version?8:4,d=b.Ba(),g=[];d--;)g.push(b.Hd(c));a.uwa=g;},mdat:function(a,b){a.data=b.pe(b.bl());},tkhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.og=b.Hd(c);a.modificationTime=b.Hd(c);a.ec=b.Ba();b.skip(4);a.duration=b.Hd(c);b.skip(8);a.O9a=b.Cb();a.RTa=b.Cb();a.volume=b.qva();b.skip(2);b.skip(36);a.width=b.r7();a.height=b.r7();},mdhd:function(a,b){var c;h(a,b);c=1<=a.version?8:4;a.og=b.Hd(c);a.modificationTime=b.Hd(c);a.t9=b.Ba();a.duration=b.Hd(c);c=b.Cb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){h(a,b);a.ABb=b.Ba();},tfdt:function(a,b){h(a,b);a.SF=b.Hd(1<=a.version?8:4);8==b.bl()&&b.skip(8);},saiz:function(a,b){h(a,b);a.de&1&&(a.TUa=b.Ba(),a.UUa=b.Ba());for(var c=b.Yg(),d=b.Ba(),g=[];d--;)g.push(c||b.Yg());a.rBb=g;},trun:function(a,b){var c,d;h(a,b);c=b.Ba();d=a.de;d&1&&(a.hwb=b.Ba());d&4&&(a.mxb=u(b));for(var g=[],k;c--;)k={},d&256&&(k.duration=b.Ba()),d&512&&(k.size=b.Ba()),d&1024&&(k.de=b.Ba()),d&2048&&(k.Evb=b.Ba()),g.push(k);a.rp=g;},sdtp:function(a,b){h(a,b);for(var c=[];0<b.bl();)c.push(v({},b.Yg()));a.rp=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){h(a,b);a.fileSize=b.zf();a.t9=b.zf();a.duration=b.zf();a.Hta=b.zf();a.FBb=b.zf();1<=a.version&&(a.Lzb=b.zf(),a.Mzb=b.Ba(),a.Ita=b.zf(),a.goa=b.Ba(),a.Xna=b.EC());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){h(a,b);a.de&1&&(a.Jub=b.Hd(3),a.Vyb=b.Yg(),a.G9a=b.EC());a.mBb=b.Ba();a.SUa=b.pe(b.bl());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){h(a,b);a.WR=b.Ba();a.IG=b.Cb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":p,"636F6D2E-6E65-7466-6C69-782E6974726B":k,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){h(a,b);a.dka=b.EC();a.og=b.zf();a.M=b.zf();a.gm=b.zf();a.SS=b.Cb();a.TS=b.Cb();a.I9a=b.pe(16);a.Wkb=b.pe(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){h(a,b);a.pvb=b.pe(b.bl());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;h(a,b);a.nib=b.zf();c=b.Ba();a.Re=[];for(var d=0;d<c;d++)a.Re.push({duration:b.Ba(),size:b.Cb()});},"636F6D2E-6E65-7466-6C69-782E69736567":k,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;h(a,b);a.dka=b.EC();a.duration=b.Ba();c=b.Ba();a.rp=[];for(var d=0;d<c;d++)a.rp.push({Oh:b.Ba(),duration:b.Ba(),ZR:b.Cb(),$R:b.Cb(),xT:b.Cb(),yT:b.Cb(),Wo:b.zf(),CB:b.Ba()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,d,k,p;h(a,b);c=b.Ba();d=b.Yg();a.rp=[];for(var g=0;g<c;g++){k=b.Yg();p=k>>6;k=k&63;0!=p&&0===k&&(k=d);a.rp.push({Ana:p,OB:b.pe(k)});}}};f.K={XAb:function(a,b){a=new A(a);b&&a.seek(b);return c(a);},p7:function(a,b){var d;if(!a)throw Error("mp4-badinput");a=new A(a);d=[];for(b&&a.seek(b);b=c(a);)d.push(b);return d;}};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cea="PlaylistMapTranslatorSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dea="PlaylistShimSymbol";},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(5);c=a(6);k=a(17);h=a(2);g=a(7);n=a(14);f.Fe(h.I.Oba,function(a){var p,f,A,l,x;function h(){var a;a=g.Sp(k.bb()/A);if(a!=x){for(var b=g.Ti(a-x,30);b--;)l.push(0);(b=g.Ek(l.length-31,0))&&l.splice(0,b);x=a;}l[l.length-1]++;}p=b.config.Z$a;f=-6/(p-2-2);A=c.Cj;l=[];x=g.Sp(k.bb()/A);n.Xqa(p)&&(setInterval(h,1E3/p),d.dsa={z5a:function(){var c;for(var a=[],b=l.length-1;b--;){c=l[b];a.unshift(0>=c?9:1>=c?8:c>=p-1?0:g.Gf((c-2)*f+7));}return a;}});a(c.Nb);});},function(f,d,a){var b,c,k,h,g,n,p,r,u,v,A,l,x,w,z;Object.defineProperty(d,"__esModule",{value:!0});b=a(97);c=a(251);k=a(20);h=a(5);g=a(53);n=a(84);p=a(16);r=a(86);u=a(3);v=a(107);A=a(150);l=a(19);x=a(7);w=a(14);z=a(22);d.hKa=function(d){var Z,O,G,t,aa,Q,ha,ba,ma,la,ea,ta,wa,ia,Na,B;function f(){if(!aa){la=setInterval(Y,1E3);d.ef.appendChild(O);for(var a=ha.length;a--;)ha[a].addListener(R);for(a=ba.length;a--;)d.addEventListener(ba[a],R);aa=!0;}q();}function D(){if(aa){clearInterval(la);ta=ea=void 0;d.ef.removeChild(O);for(var a=ha.length;a--;)ha[a].removeListener(R);for(a=ba.length;a--;)d.removeEventListener(ba[a],R);Z.kb();aa=!1;}}function y(){aa?D():f();}function m(){var a,g,p,n,f,D,z,F,y,K,m,ha,S,ba,q,P,da,Y,G,la,R,fa,Z;a=[];a.push({Version:"6.0013.845.051",Esn:b.qg?b.qg.Tf:"UNKNOWN",PBCID:d.LO,UserAgent:x.Fh});try{p={MovieId:d.M,TrackingId:d.cg,Xid:d.ha+" ("+k.Yp.map(function(a){return a.ha;}).join(", ")+")",Position:r.Gg(d.Lc.value),Duration:r.Gg(d.duration),Volume:x.Gf(100*d.volume.value)+"%"+(d.muted.value?" (Muted)":"")};d.jb.De&&(p["Segment Position"]=r.Gg(d.kx()),p.Segment=d.Y2());a.push(p);}catch(fc){}try{n=d.gl?d.gl.j8a():void 0;a.push({"Player state":wa[d.state.value],"Buffering state":ia[d.Kl.value]+(w.fa(n)?", ETA:"+r.Gg(n):""),"Rendering state":Na[d.Fc.value]});}catch(fc){}try{f=d.U9()+d.j_();D=h.config.r5;z=d.Wg.value;F=z&&z.stream;y=d.Wf.value;K=y&&y.stream;m=K?K.Hb:"";ha=d.Dg.value?d.Dg.value.Hb:"";S=d.zb[Q.v.VIDEO].value;ba=d.zb[Q.v.AUDIO].value;a.push({"Playing bitrate (a/v)":F&&K?F.L+" / "+K.L+" ("+K.width+"x"+K.height+")":"?","Playing/Buffering vmaf":m+"/"+ha,"Buffering bitrate (a/v)":d.Bo.value.L+" / "+d.Dg.value.L,"Buffer size in Bytes (a/v)":d.j_()+" / "+d.U9(),"Buffer size in Bytes":f+(D?" ("+(100*f/D).toFixed(0)+"% of max)":""),"Buffer size in Seconds (a/v)":r.Gg(d.Cw())+" / "+r.Gg(d.Xy()),"Current CDN (a/v)":(ba?ba.name+", Id: "+ba.id:"")+" / "+(S?S.name+", Id: "+S.id:"")});}catch(fc){}try{if(d.Wg.value&&d.Wf.value){q=d.Wg.value.stream.track;P=d.Wf.value.stream;da=d.Qm.value;Y=u.Y.get(v.Bz);G=Y.vG(d.We.value.Lb);la=Y.PO();R=P.ye;fa=/hevc/.test(R)?"hevc":/vp9/.test(R)?"vp9":/h264hpl/.test(R)?"avchigh":"avc";/hdr/.test(R)&&(fa+=", hdr");/dv/.test(R)&&(fa+=", dv");/prk/.test(R)&&(fa+=", prk");a.push({"Audio Track":q.gj+", Id: "+q.ec+", Channels: "+q.Uj+", Codec: "+la,"Video Track":"Codec: "+G+" ("+fa+")","Timed Text Track":da?da.gj+", Profile: "+da.NI+", Id: "+da.ec:"none"});}}catch(fc){}try{Z=d.wh;a.push({Framerate:d.Dg.value.YP.toFixed(3),"Current Dropped Frames":w.fa(ea)?ea:"","Total Frames":Z.lQ(),"Total Dropped Frames":Z.gx(),"Total Corrupted Frames":Z.qH(),"Total Frame Delay":Z.mQ(),"Main Thread stall/sec":c.dsa?c.dsa.z5a().join(" "):"DISABLED",VideoDiag:A.j5(d.sQ())});}catch(fc){}try{a.push({Throughput:d.ka+" kbps"});}catch(fc){}try{l.xc(ma,function(a,b){g=g||{};g[a]=JSON.stringify(b);});g&&a.push(g);}catch(fc){}return a;}function q(){var a;if(G.selectionStart==G.selectionEnd){a="";m().forEach(function(b){a=a?a+"\n":"";l.xc(b,function(c){a+=c+": "+b[c]+"\n";});});G.style.fontSize=r.Xn(x.Sp(O.clientHeight/60),8,18)+"px";G.value=a;}}function Y(){var a;if(d.wh){a=d.wh.gx();a&&(ea=a-ta,ta=a,R());}}function R(){Z.kb(q);}function fa(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(68==a.keyCode||81==a.keyCode)&&y();}Z=new n.KE(1E3);O=p.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});G=p.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");t=p.createElement("DIV","position:absolute;top:2px;right:2px");ba=[k.hW,z.ya.dVa];ma={};Q=a(70).Ul;ha=[d.Lc,d.zb[Q.v.AUDIO],d.zb[Q.v.VIDEO],d.Wg,d.Wf,d.Bo,d.Dg,d.Qm,d.state,d.Kl,d.Fc,d.volume,d.muted];this.Zib=function(a){ma.DFR=a;};wa={};wa[k.yz]="Not Loaded";wa[k.Gk]="Loading";wa[k.Em]="Normal";wa[k.xz]="Closing";wa[k.CE]="Closed";ia={};ia[k.Ck]="Normal";ia[k.ss]="Pre-buffering";ia[k.T$]="Network stalled";Na={};Na[k.ki]="Waiting for decoder";Na[k.bo]="Playing";Na[k.Zp]="Paused";Na[k.Gv]="Media ended";G.setAttribute("readonly","readonly");O.appendChild(G);O.appendChild(t);B=p.createElement("BUTTON",null,"X");B.addEventListener("click",D,!1);t.appendChild(B);g.Vd.addListener(g.lx,fa);d.addEventListener(k.hg,function(){g.Vd.removeListener(g.lx,fa);D();});l.Aa(this,{toggle:y,show:f,nx:D,u5a:m});};},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,l,x,w,z,y,F,K,m,q,P,Y,R;function b(a){var b;b=this;this.j=a;this.nb=this.j.nb;this.Ya=l.bf(this.j,"MediaPresenterASE");this.bia=this.Wga=this.Mk=0;this.Pc=this.nb.Ma;this.xia=this.tia=this.gZ=this.QY=this.bO=this.yM=this.TY=!1;this.Jk={type:u.Hf.audio,RA:[],wn:[]};this.Pm={type:u.Hf.video,RA:[],wn:[]};this.qw={};this.Wha=g.config.rbb;this.nia=g.kXa(!!this.j.jb.De).Zta;this.AY=g.config.t5;this.lSa=new A.KE(Y.gX);this.we={};this.Tha={};this.aF={};this.j.Ew=!1;this.qw[l.dg.gg.AUDIO]=this.Jk;this.qw[l.dg.gg.VIDEO]=this.Pm;z.na(this.AY>this.Wha,"bad config");z.na(this.AY>this.nia,"bad config");this.nb.addEventListener(R.eh.Dxa,function(){b.Ya.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.YOa();}catch(O){b.Ya.error("Exception while initializing",O);b.Kk(x.I.SIa);}});}Object.defineProperty(d,"__esModule",{value:!0});c=a(138);k=a(63);h=a(6);g=a(5);n=a(20);p=a(53);r=a(33);u=a(72);v=a(17);A=a(84);l=a(3);a(78);x=a(2);w=a(419);z=a(11);y=a(86);F=a(103);K=a(16);m=a(28);q=a(22);P=a(14);Y=a(205);R=a(172);b.prototype.Qoa=function(){return this.nb.Po(!1);};b.prototype.lQ=function(){return this.nb.lQ();};b.prototype.gx=function(){return this.nb.gx();};b.prototype.qH=function(){return this.nb.qH();};b.prototype.mQ=function(){return this.nb.mQ();};b.prototype.YOa=function(){var a,b;a=this;this.Ya.trace("Video element initializing");b=this.nb.sourceBuffers;b.forEach(function(b){return a.NRa(b);});g.config.aob&&(b.filter(function(a){return a.type===l.dg.gg.AUDIO;})[0]||this.Ya.error("unexpected: audio source buffer is not available yet"));a.ZOa(a.j.ru);};b.prototype.ZOa=function(a){var d;function b(){function a(){var a;d.j.Fc.value==n.ki&&d.j.state.value==n.Em&&d.j.Kl.value==n.Ck&&d.j.Oi.value==n.Ck&&d.j.rb.BH()?(d.XX.Mo(),a="ensureTimer"):(d.XX.Cf(),a="stopTimer");d.Ya.trace("Timer update: "+a,{presentingState:d.j.Fc.value,playbackState:d.j.state.value,avBufferingState:d.j.Kl.value,textBufferingState:d.j.Oi.value});}g.config.Bma&&(z.na(!d.XX),d.XX=new F.Dz(g.config.Bma,function(){var a;a=l.Y.get(w.Faa).w0a(d.j);d.Kk(a.code,a);}),d.j.Fc.addListener(a),d.j.Kl.addListener(a),d.j.Oi.addListener(a),d.j.state.addListener(a),a());}function c(){d.JM||(c=z.F$,d.nb.addEventListener(R.eh.RC,d.we[R.eh.RC]=function(){return d.LY();}),d.nb.addEventListener(R.eh.Jo,d.we[R.eh.Jo]=function(){return d.BQa();}),d.Pc.addEventListener("ended",d.we.ended=function(){return d.CQa();}),d.Pc.addEventListener("play",d.we.play=function(){return d.GQa();}),d.Pc.addEventListener("pause",d.we.pause=function(){return d.FQa();}),d.Pc.addEventListener("playing",d.we.playing=function(){return d.HQa();}),d.eF=!0,0===d.j.oa&&(d.$N(),d.Ya.trace("Video element initialization complete"),d.j.Yd("vi"),g.config.Nma?setTimeout(function(){d.IY=!0;d.wi();},g.config.Nma):d.IY=!0,b(),m.cb(function(){return d.wi();})));}d=this;a?this.Ya.trace("Waiting for needkey"):this.Ya.warn("Movie is not DRM protected",{MovieId:this.j.M});this.Ya.trace("Waiting for loadedmetadata");a?this.nb.addEventListener(R.eh.Bra,function(){d.j.Yd("ld");d.j.fireEvent(n.XJa);d.j.rb.oP(d.j.M);}):this.j.rb.oP(this.j.M);r.yTa(this.Pc,function(){d.Ya.trace("Video element event: loadedmetadata");d.j.Yd("md");});p.Vd.addListener(p.ck,this.aF[p.ck]=function(){return d.Gga();},h.tz);this.j.addEventListener(n.hg,function(){return d.Gga();},h.tz);this.j.paused.addListener(function(){return d.wi();});this.j.muted.addListener(function(){return d.sZ();});this.j.volume.addListener(function(){return d.sZ();});this.j.playbackRate.addListener(function(){return d.BSa();});this.j.Kl.addListener(function(){return d.wi();});this.j.Oi.addListener(function(){return d.wi();});this.sZ();this.Jk.um.dxa(function(){return d.uN();});this.Pm.um.dxa(function(){return d.uN();});this.uN();m.cb(function(){c();});};b.prototype.lO=function(a){var b,c;b=this;c=this.qw[a.N];c?c.wn.push(a):z.na(!1);this.MNa(a).then(function(){b.uN();b.j.fireEvent(n.hW);})["catch"](function(a){b.Kk(x.I.XIa,{Ea:K.Bc(a)});});};b.prototype.WTa=function(a,b){var c;b={N:a.type,Vb:!0,response:b,Ei:function(){return"header";}};c=this.qw[a.type];c?c.wn.push(b):z.na(!1);this.tia||a.type!==l.dg.gg.VIDEO||(this.seek(this.j.S,q.Vi.EE),this.tia=!0);};b.prototype.NRa=function(a){var b;b=this.qw[a.type];if(b)try{b.um=a;}catch(O){this.Kk(x.I.MW,{T:Y.J2(a.type),Ea:K.Bc(O)});}};b.prototype.uN=function(){this.eF?this.wi():g.config.XTa&&this.$N();};b.prototype.tcb=function(){var a;a=this.j.kx()||0;this.j.jb.De?g.config.sVa&&(a=Math.max(a-(this.nb.l8+1)-g.config.k8,this.j.rb.b3().Qd)):a=Math.max(a-g.config.kib,this.gPa);this.seek(a,q.Vi.eX);};b.prototype.l6=function(a){var b;b=this;a.mediaType===l.dg.gg.AUDIO?this.yM=!0:a.mediaType===l.dg.gg.VIDEO&&(this.bO=!0);m.cb(function(){return b.wi();});};b.prototype.F5a=function(){return{J_a:this.Wga,Vbb:this.bia};};b.prototype.MNa=function(a){var b;b=this.nb&&this.nb.dpa();return void 0===this.PY&&b&&a.df&&a.df.vc&&a.df.vc.la&&Infinity!=a.df.vc.la.Z&&b<(a.df.vc.la.Z+a.kk)/1E3?(this.PY=2*b,this.eRa()):Promise.resolve();};b.prototype.eRa=function(){var a;a=this;return new Promise(function(b,c){function d(){return g().then(function(a){if(!1===a)return d();});}function g(){return new Promise(function(b){setTimeout(function(){if(!a.Jk.um.bk()&&!a.Pm.um.bk())try{a.nb.fjb(a.PY);a.gZ=!1;a.PY=void 0;b(!0);}catch(Q){b(!1);}b(!1);},0);});}a.gZ=!0;d().then(function(){b();})["catch"](function(b){a.Ya.error("Unable to change the duration",b);c(b);});});};b.prototype.wi=function(){var a,b,d,h,k,p,f;a=this;this.j.jK=v.bb();if(!this.ae()&&this.eF){b=this.nb.A6a();b||this.$N();c.HL||this.$N();d=this.j.Kl.value==n.Ck&&this.j.Oi.value==n.Ck;h=this.j.Fc.value;k=h==n.ki?this.nia:this.Wha;p=this.$ga(this.Jk,k)&&this.$ga(this.Pm,k);this.j.paused.value||!p||!d||b||this.Kj?this.aZ():this.TY||this.Via();if(!b)if(this.Kj&&d&&p)this.nb.seek(this.Mk),this.Kj=!1,c.HL||this.YY(),m.cb(function(){return a.wi();});else{f=this.nb.Po(!0);this.ae()||(this.Kj||b?h=n.ki:this.Pc&&this.Pc.ended?h==n.bo&&(this.Mk=this.j.duration,h=n.Gv,this.aZ()):d&&p?this.nb.x0a()?h=this.Pc&&this.Pc.paused?n.Zp:n.bo:this.lSa.kb(function(){return a.kSa();}):h=n.ki,h!=n.ki&&h!=n.Gv&&(f<this.Mk?(b=this.Mk-f,g.config.neb&&f&&b>Y.gX&&(f={ElementTime:y.Gg(f),MediaTime:y.Gg(this.Mk)},b>Y.OKa?(this.Ya.error("VIDEO.currentTime became much smaller",f),this.Kk(x.I.hJa)):this.Ya.warn("VIDEO.currentTime became smaller",f))):this.Mk=K.Xn(f,0,this.j.duration)),this.nja(),this.IM(),f=h==n.ki&&0<=[n.bo,n.Zp].indexOf(this.j.Fc.value),this.j.Fc.set(h,{Jyb:!0}),f&&(h=this.oSa()>k,this.j.Oi.value!==n.Ck?this.j.Qm.value?(h=n.SJa,this.j.fireEvent(n.ZL,{cause:h}),this.Ya.warn("rebuffer due to timed text",this.j.Qm.value.ug)):this.j.fireEvent(n.xea):(h?(h=n.iea,this.Wga++):(h=n.jea,this.bia++),this.j.fireEvent(n.ZL,{cause:h}))));}}};b.prototype.oSa=function(){var a,b;a=this.Pm.wn.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.dr;},0);b=this.Jk.wn.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.dr;},0);return Math.min(a,b);};b.prototype.kSa=function(){this.ae()||(g.config.ucb&&(this.Jk.um.bk()||this.Jk.um.Yja(new Uint8Array([0,0,0,8,102,114,101,101]))),this.wi());};b.prototype.$ga=function(a,b){var c;c=a.ZO;c=c&&c.AI;return 0===a.wn.length&&(a.type===u.Hf.audio&&this.yM||a.type===u.Hf.video&&this.bO)?!0:c&&c.DC-this.Mk>=b;};b.prototype.LY=function(){this.wi();};b.prototype.BQa=function(){this.wi();this.j.fireEvent(n.kW);};b.prototype.CQa=function(){this.Ya.trace("Video element event: ended");this.wi();};b.prototype.GQa=function(){this.Ya.trace("Video element event: play");this.wi();};b.prototype.FQa=function(){this.Ya.trace("Video element event: pause");this.wi();};b.prototype.HQa=function(){this.Ya.trace("Video element event: playing");this.wi();};b.prototype.sZ=function(){this.ae()||(this.Pc&&this.Pc.volume!==this.j.volume.value&&(this.Pc.volume=this.j.volume.value),this.Pc&&this.Pc.muted!==this.j.muted.value&&(this.Pc.muted=this.j.muted.value));};b.prototype.BSa=function(){!this.ae()&&this.Pc&&(this.Pc.playbackRate=this.j.playbackRate.value);};b.prototype.$N=function(){this.gZ||(this.kja(this.Jk),this.kja(this.Pm));this.ae()||!this.yM||!this.bO||this.Jk.um.bk()||this.Pm.um.bk()||this.eY||(this.eY=!0,this.nb.endOfStream());};b.prototype.kja=function(a){var b,c;if(!this.ae()){b=a.um;c=a.RA;!b.bk()&&0<c.length&&(a.ZO=c[c.length-1]);if(a.K8){if(b.bk())return;a.K8=!1;b.remove(0,this.nb.dpa());}for(var d=a.wn[0];d&&d.response&&(d.Vb||d.Or-this.Mk<=this.AY);)if(this.eY=!1,this.uSa(d))a.wn.shift(),d=a.wn[0];else break;!b.bk()&&0<c.length&&(a.ZO=c[c.length-1]);}};b.prototype.uSa=function(a){var b,d,h;z.na(a&&a.response);b=a.response;d=a.N;h=this.qw[d];if(!this.ae()&&!h.um.bk()){try{this.Ya.trace("Feeding media segment to decoder",{Bytes:b.byteLength});h.um.Yja(b,a);a.Vb||h.RA.push(this.VNa(a));g.config.F0a&&!a.Vb&&(this.Kj&&!c.HL||a.ola());}catch(pa){"QuotaExceededError"!=pa.name?(this.Ya.error("Exception while appending media",a,pa),this.Kk(x.I.fJa,Y.J2(d))):this.j.$O=this.j.$O?this.j.$O+1:1;return;}return!0;}};b.prototype.UNa=function(a){var b;b=this.j.F7a(a.Vc);b||(this.Ya.error("Could not find CDN",{cdnId:a.Vc}),b={id:a.Vc,N4:a.location});return b;};b.prototype.WNa=function(a){var b,c;c=a.Wa;a.N===l.dg.gg.AUDIO?b=this.j.Ppa(c):a.N===l.dg.gg.VIDEO&&(b=this.j.Upa(c));b||this.Ya.error("Could not find stream",{stream:c});return b;};b.prototype.VNa=function(a){var b;b=this.WNa(a);return{AI:a,stream:b,Rl:{startTime:Math.floor(a.Or),endTime:Math.floor(a.DC)},zb:this.UNa(a)};};b.prototype.Via=function(){var a;a=this;this.ae()||!P.fb(this.Pc)||this.Pc.ended||!this.IY||!this.pA&&void 0!==this.pA||(this.Ya.trace("Calling play on element"),Promise.resolve(this.Pc.play()).then(function(){a.pA=!1;a.TY=!1;a.Pc.style.display=null;a.j.fireEvent(q.ya.qka,a.j);})["catch"](function(b){"NotAllowedError"===b.name?(a.Ya.warn("Playback is blocked by the browser settings",b),a.j.Ew=!0,a.TY=!0,a.Pc.style.display="none",a.j.fireEvent(q.ya.Ew,{player:{play:function(){return a.Via();}}})):(a.pA=!1,a.xia||(a.xia=!0,a.Ya.error("Play promise rejected",b)));}));};b.prototype.aZ=function(){this.ae()||!P.fb(this.Pc)||this.Pc.ended||!this.IY||this.pA&&void 0!==this.pA||(this.Ya.trace("Calling pause on element"),this.Pc.pause(),this.pA=!0);};b.prototype.IM=function(a){if(P.fb(a)){for(var b=this.qw[a],c=b.RA,d,g;(d=c[0])&&d.AI.Or<=this.Mk;)if(this.Mk<d.AI.DC){a=a===l.dg.gg.AUDIO?this.j.Wg:this.j.Wf;r.Cla(d,a.value)||(g=!0,a.set(d));break;}else c.shift();!g&&!this.QY||this.eY||(d=d&&d.AI.Or-d.AI.dr-1,0<d&&(b=b.um,b.bk()?this.QY=!0:(b.remove(0,d/K.Cj),this.QY=!1)));}else this.IM(l.dg.gg.AUDIO),this.IM(l.dg.gg.VIDEO);};b.prototype.nja=function(a){this.j.Lc.set(this.Mk);a&&this.j.G3a();};b.prototype.r0a=function(a,b){if(!(b===q.Vi.cM||this.j.jb.De&&this.Kj)&&(b=this.j.rb)&&(a+=b.b3().wc,b.$ka(a)))return a;};b.prototype.seek=function(a,b){var c,d,h,k;b=void 0===b?q.Vi.dX:b;if(!this.ae()){c=K.Xn(a,0,this.j.fC);!this.j.jb.De&&g.config.Bza&&(c=K.Xn(a,0,this.j.fC-g.config.Bza));d=this.JOa(c);this.dPa()&&(d=Math.round(c));g.config.k8&&(d+=g.config.k8);b==q.Vi.EE&&(this.j.Dka=d);h=this.r0a(d,b);(c=void 0!==h)&&(d=h);this.IM();h=this.Mk;this.Ya.info("Seeking",{Requested:y.Gg(a),Actual:y.Gg(d),Cause:b,Skip:c});this.j.fireEvent(n.ZW,{UI:h,Rx:d,cause:b,skip:c});this.j.Fc.set(n.ki);b!=q.Vi.EE&&(this.YY(),this.Jk.K8=!0,this.Pm.K8=!0);this.gPa=this.Mk=d;a=this.j.Wg.value;k=this.j.Wf.value;this.j.Wg.set(null);this.j.Wf.set(null);this.nja(!0);this.j.fireEvent(n.YW,{UI:h,Rx:d,cause:b,skip:c,Wg:a,Wf:k});this.Kj=!0;this.wi();}};b.prototype.dPa=function(){return"boolean"===typeof this.j.jb.nJ?this.j.jb.nJ:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?g.config.nJ&&g.config.$eb:g.config.nJ;};b.prototype.YY=function(){this.Jk.RA=[];this.Jk.ZO=void 0;this.Jk.wn=[];this.Pm.RA=[];this.Pm.ZO=void 0;this.Pm.wn=[];this.bO=this.yM=!1;this.j.fireEvent(n.hW);};b.prototype.JOa=function(a){var b;b=this.j.rb.Rt.hb[l.dg.gg.VIDEO].V.Z;return this.j.jb.De&&a<b?a:this.j.rb.gWa(a);};b.prototype.Kk=function(a,b,c){var d;if(!this.JM){d=l.Y.get(k.Dj);this.j.jd(d(a,b,c));}};b.prototype.Gga=function(){if(!this.JM){this.Ya.info("Closing.");this.nb.removeEventListener(R.eh.RC,this.Tha[R.eh.RC]);this.nb.removeEventListener(R.eh.Jo,this.Tha[R.eh.Jo]);this.Pc.removeEventListener("ended",this.we.ended);this.Pc.removeEventListener("play",this.we.play);this.Pc.removeEventListener("pause",this.we.pause);this.Pc.removeEventListener("playing",this.we.playing);p.Vd.removeListener(p.ck,this.aF[p.ck]);this.JM=!0;try{g.config.Kbb&&(this.Pc.volume=0,this.Pc.muted=!0);this.aZ();this.nb.close();}catch(fa){}this.Pc=void 0;this.YY();}};b.prototype.ae=function(){return this.JM?!0:P.fb(this.Pc)?!1:(this.Ya.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.TGa=b;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(20);k=a(5);h=a(17);g=a(86);n=a(7);p=a(28);r=a(14);d.WJa=function(a){var x,w,l,y,F,K;function d(){return a.state.value==c.Gk||a.state.value==c.Em&&a.Fc.value==c.ki;}function f(){d()?K||(K=setInterval(u,100)):K&&(clearInterval(K),K=void 0,p.cb(u));}function u(){var b,p,f,u,v,A,D,z;b=h.bb();p=x.value;f=p?p.ai:0;v=a.state.value==c.Gk||d()&&b-w>k.config.IVa;v&&a.state.value==c.Em?(a.yO.value==c.T$?(D=f,A=!0):(u=b+(a.gl&&a.gl.j8a()||0),l=l||b,y=y||l+k.config.mbb+1,r.fa(u)&&(u=n.Ek(u,y),D=a.gl?a.gl.Pxb():.99,D=n.Gf(1E3*g.Xn((b-l)/(u-l),0,D))/1E3)),D<f&&(f-D<k.config.Efb/100?(D=f,F=void 0):F?b-F>k.config.Dfb?(z=!0,F=void 0):D=f:(F=b,D=f))):F=y=l=void 0;b=v?{BT:A,ai:D,Ffb:z}:null;(!b||!x||!x.value||r.fa(b.ai)&&!r.fa(x.value.ai)||r.fa(b.ai)&&r.fa(x.value.ai)&&.01<n.lE(b.ai-x.value.ai)||b.BT!==p.BT)&&x.set(b);}x=a.I_;w=0;a.state.addListener(function(){f();u();},b.DW);a.Fc.addListener(function(a){if(a.oldValue!=c.ki||a.newValue!=c.ki)w=h.bb();f();});a.yO.addListener(function(){f();});a.Kl.addListener(function(){f();});a.Oi.addListener(function(){f();});K||(K=setInterval(u,100));};},function(f,d,a){var n,p,r,u;function b(a,b,c,d,g){var h;h={};"right"==a.horizontalAlignment?h.right=100*(c-b.left-b.width-g)/c+"%":h.left=100*(b.left-g)/c+"%";"bottom"==a.verticalAlignment?h.bottom=100*(d-b.top-b.height-g)/d+"%":h.top=100*(b.top-g)/d+"%";return h;}function c(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function k(a,b,c,d,g){var k,p;k=a.style;p=r.L3(a.text);for(a=a.lineBreaks;a--;)p="<br />"+p;return h(p,k,b,c,d,g);}function h(a,b,d,h,k,f){var r;r=b.characterStyle;k=k[r];h=b.characterSize*h.height/((0<=r.indexOf("MONOSPACE")?c(k,b.cellResolution)||k.lineHeight:k.lineHeight)||1);h=0<f?u.Sp(h*f):u.Gf(h);f={"font-size":h+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(f["font-style"]="italic");b.characterUnderline&&(f["text-decoration"]="underline");b.characterColor&&(f.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(f["background-color"]=g(b.backgroundColor,b.backgroundOpacity));h=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case p.v6:f["text-shadow"]=h+" 0px 0px 7px";break;case p.mua:f["text-shadow"]="-1px 0px "+h+",0px 1px "+h+",1px 0px "+h+",0px -1px "+h;break;case p.Idb:f["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case p.Gdb:f["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}f=n.pG(f);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(f+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+f+'">'+a+"</span>";}function g(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});n=a(33);p=a(204);r=a(19);u=a(7);d.Hna=function(a,b,c,d,g){var h;h="";a.textNodes.forEach(function(a){h+=k(a,c,b,d,g);});return h;};d.s2a=function(a,c,d,g,h){var k,p,f,v,w;k="";p=h.width;h=h.height;for(var n=c.length;n--;){f=c[n];v=a[n];v=v&&v.region;w="position:absolute;background:"+g+";width:"+u.Gf(f.width+2*d)+"px;height:"+u.Gf(f.height+2*d)+"px;";r.xc(b(v,f,p,h,d),function(a,b){w+=a+":"+b+";";});k+='<div style="'+w+'"></div>';}return k;};d.r2a=b;d.Swb=c;d.Uwb=k;d.Rwb=h;d.Twb=g;d.q2a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return n.pG(b);};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);d.Jmb=function(a,d){function c(a,c,d){var r,u,l,K;if(a&&1<a.length){for(var h=[],k=[],p=0;p<a.length;p++)h[p]=0,k[p]=0;for(var n=!1,p=0;p<a.length;p++)for(var f=p+1;f<a.length;f++){u=a[p];l=a[f];if(0>u.width||0>l.width||l.left>u.left+u.width||l.left+l.width<u.left||l.top>u.top+u.height?0:l.top+l.height>=u.top){r=b.Ek(u.left,l.left);K=b.Ek(u.top,l.top);r={width:b.Ek(b.Ti(u.left+u.width,l.left+l.width)-r,0),height:b.Ek(b.Ti(u.top+u.height,l.top+l.height)-K,0),x:r,y:K};}else r=void 0;if(r&&1<r.width&&1<r.height)if(K=r.width<=r.height,u=g(a[p]),l=g(a[f]),K&&c||!K&&!c)r=b.Ek(r.width/2,.25),u.x<=l.x?(k[p]-=r,k[f]+=r):(k[f]-=r,k[p]+=r);else if(K&&!c||!K&&c)u=b.Ek(r.height/2,.25),h[p]-=u,h[f]+=u;}for(p=0;p<a.length;p++){if(-.25>k[p]&&0<=a[p].left+k[p]||.25<k[p]&&a[p].left+a[p].width+k[p]<=d.width)a[p].left+=k[p],n=!0;if(-.25>h[p]&&0<=a[p].top+h[p]||.25<h[p]&&a[p].top+a[p].height+h[p]<=d.height)a[p].top+=h[p],n=!0;}return n;}}function g(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.Ti(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.Ti(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.Ti(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.Ti(a.top+a.height-c.height,a.top));});}(a,d));for(var k=0;50>k&&c(a,!0,d);k++);for(k=0;50>k&&c(a,!1,d);k++);return a;};},function(f,d,a){var c,k,h,g;function b(a,b){this.f2=a;this.ax={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.hxa(b);this.koa=this.s5a(this.f2);}Object.defineProperty(d,"__esModule",{value:!0});c=a(16);k=a(256);h=a(255);g=a(7);b.prototype.hx=function(){return this.element;};b.prototype.Vib=function(a){this.i_=a;};b.prototype.$ib=function(a){this.wd=a;this.AJ();};b.prototype.bjb=function(a){this.hxa(a);this.AJ();};b.prototype.AJ=function(){var a,d,g,f,v,A,l,x,w,z,y,K,m,q;a=this;d=this.hx();g=d.parentElement;f=g&&g.clientWidth||0;v=g&&g.clientHeight||0;A=g=0;l={width:f,height:v};if(0<f&&0<v&&this.wd){this.i_&&(l=c.SP(f,v,this.i_),g=Math.round((f-l.width)/2),A=Math.round((v-l.height)/2));x=this.eWa(l);z=c.SP(x.width,x.height,this.i_);x=(w=this.wd.blocks)&&w.map(function(d){var g;g=h.Hna(d,z,a.f2,a.koa);d=h.q2a(d)+";position:absolute";return c.createElement("div",d,g,b.JU);});}Object.assign(this.ax,{left:g+"px",right:g+"px",top:A+"px",bottom:A+"px"});d.style.display="none";d.style.direction=this.ax.direction;d.innerHTML="";if(x&&x.length){f=l.width;g=l.height;y=l;this.Eka&&(y=this.VSa(l,this.Eka,v,A));this.ax.margin=this.wr?this.BO(l,"top")+"px "+this.BO(l,"right")+"px "+this.BO(l,"bottom")+"px "+this.BO(l,"left")+"px ":void 0;x.forEach(function(a){return d.appendChild(a);});v=c.pG(this.ax);d.style.cssText=v+";visibility:hidden;z-index:-1";for(var A=[],F=x.length-1;0<=F;F--){K=x[F];m=w[F];q=this.qta(K,m,f,g);q.width>f&&(K.innerHTML=h.Hna(m,l,this.f2,this.koa,f/q.width),q=this.qta(K,m,f,g));A[F]=q;}A=k.Jmb(A,y);if(F=w&&w[0]&&w[0].textNodes&&w[0].textNodes[0]&&w[0].textNodes[0].style)y=F.windowColor,F=F.windowOpacity,y&&0<F&&(l=h.s2a(w,A,Math.round(g/50),y,l),l=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+F,l,b.JU),d.insertBefore(l,d.firstChild));d.style.display="none";for(l=A.length-1;0<=l;l--)y=x[l].style,F=h.r2a(w[l].region,A[l],f,g,0),Object.assign(y,F);d.style.cssText=v;}};b.prototype.PJ=function(a){this.Eka=a;this.AJ();};b.prototype.QJ=function(a){this.wr=a;this.AJ();};b.prototype.n3=function(){return"block"===this.ax.display;};b.prototype.G8=function(a){a=a?"block":"none";this.element.style.display=a;this.ax.display=a;};b.prototype.s5a=function(a){var b,d;b=this;d={};c.xc(a,function(a,c){d[a]=b.Pab(c);});return d;};b.prototype.hxa=function(a){this.ax.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.BO=function(a,b){if(this.wr){if("left"===b||"right"===b)return a.width*(this.wr[b]||0);if("top"===b||"bottom"===b)return a.height*(this.wr[b]||0);}return 0;};b.prototype.eWa=function(a){return this.wr?{height:a.height*(1-(this.wr.top||0)-(this.wr.bottom||0)),width:a.width*(1-(this.wr.left||0)-(this.wr.right||0))}:a;};b.prototype.Pab=function(a){var d;a=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.JU);g.qd.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};g.qd.body.removeChild(a);return d;};b.prototype.qta=function(a,b,c,d){var g,h,k,p,f;g=b.region;h=(g.marginTop||0)*d;k=(g.marginBottom||0)*d;p=(g.marginLeft||0)*c;f=(g.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(g.verticalAlignment){case"top":d=h;break;case"center":d=(h+d-k-a)/2;break;default:d=d-k-a;}switch(g.horizontalAlignment){case"left":c=p;break;case"right":c=c-f-b;break;default:c=(p+c-f-b)/2;}return{top:d,left:c,width:b,height:a};};b.prototype.VSa=function(a,b,c,d){return{height:c-Math.max(d,b.bottom|0)-Math.max(d,b.top|0),width:a.width};};b.JU={"class":"player-timedtext-text-container"};d.gMa=b;},function(f,d,a){var p,r,u,v,A,l,x,w;function b(a,b){var c,d,g,h,k,p,f,n;c=[];h={};f=a.length;for(n=0;n<f;n++)k=a[n],p=b(k),g=p.key,d=h[g],k=k.endTime-k.startTime,d?d.duration+=k:(delete p.key,d=p,d.duration=k,c.push(d),h[g]=d);return c;}function c(a){var b,c,d;d=a.stream;d?(a=d.ad,b=d.L,c=d.Hb):a=a.track.ad;return{key:a+"$"+(b||0),downloadableId:a,bitrate:b,vmaf:c};}function k(a){var b;b=c(a);a=a.zb.id;b.key+="$"+a;b.cdnId=a;return b;}function h(a){a=(a=a.stream)?a.L:0;return{key:a,M5:a};}function g(a){a=(a=a.stream)?a.Hb:0;return{key:a,M5:a};}function n(a){var b,c,d,g;d=0;for(c=a.length;c--;)if(b=a[c],w.fb(b.duration)&&w.fb(b.M5))d+=b.duration;else throw Error("invalid arguments");if(!d)return 0;g=0;for(c=a.length;c--;)b=a[c],g+=b.M5*b.duration/d;return g;}Object.defineProperty(d,"__esModule",{value:!0});p=a(5);r=a(6);u=a(20);v=a(19);A=a(3);l=a(11);a(86);x=a(7);w=a(14);d.RJa=function(a){var Y,R,t,Z,O,G,pa,aa,Q,ha,ba,ma,la,ea;function d(){z(a.Lc.value);for(var b=0,c=G.length;c--;)b+=G[c].endTime-G[c].startTime;l.na(b===x.Sp(b),"Value of totalPlayTime is not an integer.");return parseInt(x.Sp(b));}function f(a){z(a.UI);aa=a.Rx;t=R=void 0;Z&&(Z.startTime=aa);}function D(b){q(Z,pa,a.Lc.value);Z=b.newValue?{zb:b.newValue.zb,track:b.newValue,startTime:a.Lc.value,endTime:r.Es}:void 0;}function z(a){R&&t&&(a=x.Ti(a,R.endTime),a=x.Ti(a,t.endTime),q(R,O,a),R.startTime=a,q(t,G,a),t.startTime=a,Z&&(q(Z,pa,a),Z.startTime=a),aa=a);}function m(b,c,d){b&&q(b,c,x.Ti(b.endTime,a.Lc.value));if(d)return b=d.Rl,c=d.stream,{zb:d.zb,track:c.track,stream:c,startTime:x.Ek(b.startTime,aa),endTime:b.endTime};}function q(a,b,c){a&&c>=a.startTime&&(a={zb:a.zb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track==a.track&&c.stream==a.stream&&c.zb==a.zb&&c.endTime==a.startTime?c.endTime=a.endTime:b.push(a));}Y=A.bf(a,"PlayTimeTracker");O=[];G=[];pa=[];aa=a.Lc.value;Q={};ha=!1;ba={};ma=0;la=p.config.SSa;ea=la.length;(function(){a.addEventListener(u.ZW,f);a.Wg.addListener(function(a){R=m(R,O,a.newValue);});a.Wf.addListener(function(a){t=m(t,G,a.newValue);});a.Qm.addListener(D);}());for(Q.abrdel=0;ea--;)ba["abrdel"+la[ea]]=0,Q["abrdel"+la[ea]]=0;v.Aa(this,{o3:d,q4a:function(){z(a.Lc.value);return{audio:b(O,k),video:b(G,k)};},g6a:function(){var a;a={total:d(),audio:b(O,c),video:b(G,c),timedtext:b(pa,c)};l.na(a.audio&&a.video);return a;},Eoa:function(){var c,d;z(a.Lc.value);c=b(G,h);try{d=n(c);}catch(ia){return Y.warn("Failed to calc average bitrate"),null;}Q.abrdel=x.Gf(d);return Q.abrdel;},v4a:function(){var c,d;z(a.Lc.value);c=b(G,g);try{d=n(c);}catch(ia){return Y.warn("Failed to calc average vmaf"),null;}return x.Gf(d);},u4a:function(){var c;if(!ha){for(var a=la.length,b=d();a--;){c=la[a];if(0==ba["abrdel"+c]&&b>c*r.Cj){for(var g=0,h=G.length,k,p=0,f=0;f<h&&!(k=G[f],g+=k.stream.L*(k.endTime-k.startTime),p+=k.endTime-k.startTime,k=k.stream.L,p>c*r.Cj);f++);g&&(ba["abrdel"+c]=x.Gf((g-k*(p-c*r.Cj))/(c*r.Cj)));}}0!==ba["abrdel"+la[la.length-1]]&&(ha=!0);v.xc(ba,function(a,b){Q[a]=0==b?Q.abrdel:b;});}return Q;},kTa:function(a){ma+=a;},G5a:function(){return ma;},M7a:function(){return!!(G[0]&&G[0].stream&&w.fb(G[0].stream.Hb));}});};d.Lsb=b;d.Osb=c;d.Psb=k;d.Nsb=h;d.Qsb=g;d.Msb=n;},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);c=a(20);k=a(16);h=a(19);g=a(3);n=a(50);d.lKa=function(d){var K,m,q,P,Y,R,t,Z,O,G,pa;function p(){t||(x(),d.ef.appendChild(K),t=!0);}function f(){t&&(d.ef.removeChild(K),t=!1);}function v(){t?f():p();}function A(){var c,g,h;function a(a,b,c){var d,g,h;h=[];b.filter(function(b){return b.ye===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===d?d=a.L:g=a.L,void 0===g&&(g=a.L)):void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);});void 0!==d&&void 0!==g&&(h.push({min:d,max:g}),d=g=void 0);return h;}function b(a,b,c){var d;d=[];b.filter(function(b){return b.ye===a;}).forEach(function(a){-1===c.indexOf(a)&&d.push({stream:{bitrate:a.L},disallowedBy:["manual"]});});return d;}c=d.Zm();g=d.We.value.Lb.sort(function(a,b){return a.L-b.L;});h=g.reduce(function(a,b){0>a.indexOf(b.ye)&&a.push(b.ye);return a;},[]).map(function(d){return{profile:d,ranges:a(d,g,c),disallowed:b(d,g,c)};});d.rb.pT(h);}function l(){return d.We.value.Lb.filter(function(a){return Z[a.L];});}function x(){var a,b,c;a=d.vd.value;b=d.We.value;c=d.hj;a&&(c=c.slice(),c.sort(function(a,b){return a.zd-b.zd;}),y(P,a.Lb.map(function(a){return{value:a.L,caption:a.L,selected:a==d.Bo.value};})));b&&(y(Y,b.Lb.map(function(a){var b,c;b=d.G5.Xr(a);a=a.L;c=""+a;b&&(c+=" ("+b.join("|")+")");return{value:a,caption:c,selected:d.Zm!=l?!b:Z[a]};})),Y.removeAttribute("disabled"));c&&(y(R,c.map(function(a){return{value:a.id,caption:"["+a.id+"] "+a.name,selected:a==d.zb[O.v.VIDEO].value};})),R.removeAttribute("disabled"));}function w(){t&&x();}function z(a){var b,c;b=k.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=k.createElement("DIV",void 0,a);c=k.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);m.appendChild(b);return c;}function y(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=k.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function F(a){a.ctrlKey&&a.altKey&&a.shiftKey&&83==a.keyCode&&v();}K=k.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});m=k.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");q=k.createElement("DIV","width:100%;text-align:center");P=z("Audio Bitrate");Y=z("Video Bitrate");R=z("CDN");Z={};O=a(70).Ul;G=g.Y.get(n.tl);K.appendChild(m);m.appendChild(q);pa=k.createElement("BUTTON",void 0,"Override");pa.addEventListener("click",function(){var c,g,a,b;Z={};for(var a=Y.options,b=a.length;b--;){c=a[b];c.selected&&(Z[c.value]=1);}d.Zm=l;A();if(a=d.hj){g=R.value;a=a.filter(function(a){return a.id==g;})[0];b=d.zb[O.v.VIDEO].value;a&&a!=b&&(a.wvb={testreason:"streammanager",selreason:"userselection"},d.zb[O.v.VIDEO].set(a));}f();},!1);q.appendChild(pa);pa=k.createElement("BUTTON",void 0,"Reset");pa.addEventListener("click",function(){delete d.Zm;A();f();},!1);q.appendChild(pa);b.Vd.addListener(b.lx,F);d.addEventListener(c.hg,function(){b.Vd.removeListener(b.lx,F);});d.zb.forEach(function(a){a.addListener(w);});d.vd.addListener(w);d.We.addListener(w);h.Aa(this,{toggle:v,show:p,nx:f});};},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);c=a(20);k=a(17);h=a(103);g=a(2);n=a(171);p=a(7);r=a(14);d.wFa=function(a){var f,u,l,w;function d(){a.state.value!=c.Em||a.Fc.value!=c.Zp&&a.Fc.value!=c.Gv?u.Cf():u.Mo();}f=b.config.eeb;if(!a.NB()&&f){u=new h.Dz(f,function(){a.fireEvent(c.rea,g.I.UL);});a.Fc.addListener(d);a.state.addListener(d);if(b.config.T3){w=k.bb();l=new n.Rea(b.config.T3,function(){var d,h;d=k.bb();h=d-w;h>f&&(a.fireEvent(c.rea,g.I.CL),l.d0());h>2*b.config.T3&&(a.U3=p.Ek(h,a.U3||0));w=d;});l.H8();}a.addEventListener(c.hg,function(){u.Cf();r.fb(l)&&l.d0();});}};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(22);c=a(29);d.wEa=function(a){function d(c){a.fireEvent(b.ya.NG,c);}return{download:function(b,h){b.j=a;b=c.bc.download(b,h);b.zja(d);return b;}};};},function(f,d,a){var c;function b(a,b){var c;c=this;this.epa=a;this.Jta=b;this.w9=!1;this.Er=function(){c.uk=void 0;c.update();};}Object.defineProperty(d,"__esModule",{value:!0});c=a(16);b.prototype.update=function(a){var b,d,k;b=this.epa();if(this.cza!==b){c.fb(b)&&c.fb(this.duration)&&b<this.duration&&this.entries&&(k=this.nta||this.entries[Math.floor(b*this.Klb)]||this.entries[0]);if(k){for(;k&&k.endTime<b;)k=k.next;for(;k&&k.previous&&k.previous.endTime>=b;)k=k.previous;}k&&(k.startTime<=b&&b<=k.endTime?(d=k,this.Yya(k.endTime-b)):this.Yya(k.startTime-b));this.nta=k;this.cza=b;this.GZ!==d&&(this.GZ=d,!a&&this.Jta&&this.Jta());}};b.prototype.start=function(){this.w9=!0;this.update();};b.prototype.ixa=function(a){this.nta=this.GZ=this.cza=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(kb(a.map(function(a){return a.endTime;}))))||0;this.Klb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.w9=!1;this.Cf();};b.prototype.h4a=function(){this.update(!0);return this.GZ;};b.prototype.Yya=function(a){this.Cf();this.w9&&0<a&&(this.uk=setTimeout(this.Er,a+b.pHa));};b.prototype.Cf=function(){this.uk&&(clearTimeout(this.uk),this.uk=void 0);};b.pHa=10;d.jMa=b;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});a(29);a(20);b=a(55);a(17);c=a(11);k=a(28);a(14);a(22);d.pKa=function(){var f,p,r,u,v;function a(){v=!1;for(var a=f.length,b;a--;)b=f[a],u[b]&&(u[b]=!1,r.Cc(b+"changed",{getModel:p[b]}));}function d(b){u[b]=!0;v||(v=!0,k.cb(a));}f=[];p={};r=new b.Si();u={};v=!1;return{register:function(a,b){c.na(!(0<=f.indexOf(a)),"panel already registered");p[a]=b;f.push(a);},Wzb:d,Sxb:function(a){return(a=p[a])?a():void 0;},addEventListener:function(a,b){r.addListener(a,b);p[a]&&d(a);},removeEventListener:function(a,b){r.removeListener(a,b);}};};},function(f,d,a){var g,n,p,r,u,v,A,l,x,w,z,y,F,K,m,q,P,Y,R,t,Z,O,G,pa,aa;function b(a){var b;b=this;this.j=a;this.Aza=Promise.resolve();this.hV=H.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.oo=[];this.ri=new u.Si();this.Rga=this.FX=0;this.LM=[];this.Ya=x.bf(this.j,"MediaElementASE");this.Tia=P.Rb;this.YX=!1;this.we={};this.aF={};this.lQ=this.MM(function(){var a;if(b.Ma){a=b.fN();return a?a.totalVideoFrames:b.Ma.webkitDecodedFrameCount;}});this.gx=this.MM(function(){var a;if(b.Ma){a=b.fN();return a?a.droppedVideoFrames:b.Ma.webkitDroppedFrameCount;}});this.qH=this.MM(function(){var a;if(b.Ma){a=b.fN();return a&&a.corruptedVideoFrames;}});this.mQ=this.MM(function(){var a;if(b.Ma){a=b.fN();return a&&R.Gf(a.totalFrameDelay*P.Cj);}});this.Jha=function(){return b.ri.Cc(O.eh.Bra);};this.Ii=x.Y.get(Z.xca).create(r.config.Fp,this,this.j);r.config.VB&&(this.Aza=new Promise(function(a){b.Tia=a;b.j.addEventListener(v.hg,a);}));this.Ya.trace("Created Media Element");this.addEventListener=this.ri.addListener;this.removeEventListener=this.ri.removeListener;this.Ma=c(this.j.ED);this.sourceBuffers=this.oo;}function c(a){var b,c;b=x.Y.get(G.dga).q6a();a=a.width/a.height*b.height;c=(b.width-a)/2;return r.config.vjb?P.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):P.createElement("VIDEO","position:absolute;width:100%;height:100%");}function k(a){a.preventDefault();return!1;}function h(a,b){var c,d,g;c=a.target;c=c&&c.error;d=a.errorCode;g=c&&c.code;P.fb(g)||(g=d&&d.code);d=c&&c.msExtendedCode;P.fb(d)||(d=c&&c.systemCode);P.fb(d)||(d=a.systemCode);a=P.Aa({},{code:g,systemCode:d},{kp:!0});b={T:b(g),Ea:Y.j5(a)};try{c&&c.message&&(b.zI=c.message);}catch(ea){}d=P.ld(d);t.fa(d)&&(b.Ab=x.tka(d,4));return{fB:b,D$a:a};}Object.defineProperty(d,"__esModule",{value:!0});g=a(138);n=a(63);p=a(6);r=a(5);u=a(55);v=a(20);A=a(53);l=a(33);x=a(3);w=a(2);z=a(107);y=a(11);F=a(86);K=a(423);m=a(103);q=a(19);P=a(16);Y=a(150);R=a(7);t=a(14);Z=a(324);O=a(172);G=a(333);pa=!!(R.sE&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);aa=pa&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||R.rE);b.prototype.Po=function(a){try{this.Ma&&(this.Rga=this.Ma.currentTime);}catch(ha){this.Ya.error("Exception while getting VIDEO.currentTime",ha);a&&this.Jz(w.I.dJa,ha);}return R.Gf(this.Rga*P.Cj);};b.prototype.seek=function(a){var b;y.na(!this.Ok);this.Mia();b=this.Po(!0);if(!r.config.PTa&&R.lE(b-a)<=this.l8)this.Ya.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.l8});else try{this.Ya.trace("Setting video elements currentTime",{From:F.Gg(b),To:F.Gg(a)});this.Ok={};this.Ma.currentTime=a/P.Cj;this.ri.Cc(O.eh.Jo);}catch(ba){this.Ya.error("Exception while setting VIDEO.currentTime",ba);this.Jz(w.I.eJa,ba);}};b.prototype.A6a=function(){return!!this.Ok;};b.prototype.addSourceBuffer=function(a){var c,d,h,k;function b(a){return c.aSa(h,c.j.vd,a);}c=this;d=P.ld(this.FX.toString()+this.oo.length.toString());d={sourceId:this.FX,vO:d};h=x.Y.get(z.Bz).vG(this.j.We.value.Lb);try{k=new g.Yca(this.j,a,b,this.$e,d,this.Ya);}catch(ta){k=P.Bc(ta);this.Ya.error("Unable to add source buffer.",{mime:b(a),error:k});d=x.Y.get(n.Dj);this.j.jd(d(w.I.MW,{T:a===x.dg.gg.AUDIO?P.G.Kca:P.G.Lca,Ea:k}));return;}this.oo.push(k);a==p.jE&&k.b2&&k.b2.addListener(this.Tia);return k;};b.prototype.NZ=function(a){for(var b=a.length,c=0;c<b;c++)this.addSourceBuffer(a[c]);this.ri.Cc(O.eh.Dxa);return!0;};b.prototype.removeSourceBuffer=function(a){for(var b=this.oo.length,c=0;c<b;c++)l.Cla(a,this.oo[c])&&(this.oo=this.oo.splice(c,1));this.$e.removeSourceBuffer(a);};b.prototype.endOfStream=function(){r.config.N_&&this.$e.endOfStream();};b.prototype.bn=function(a){this.oo=[];a&&a.dAb();return!0;};b.prototype.Uib=function(a){this.FX=a;};b.prototype.dpa=function(){if(this.$e)return this.$e.duration;};b.prototype.fjb=function(a){this.$e&&(this.j.duration=1E3*a,this.j.fC=1E3*a,this.$e.duration=a);};b.prototype.x0a=function(){var a;if(!this.YX&&this.Ma&&2<=this.Ma.readyState){a=this.Ma.webkitDecodedFrameCount;if(void 0===a||0<a||r.config.Unb)this.YX=!0;}return this.YX;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(v.uea,function(b){return a.KQa(b);});if(pa){if(this.j.ru){if(!aa){this.Kk(w.I.Jda);return;}if(R.rE&&R.rE.isTypeSupported&&this.Ii.Uc)try{if(!R.rE.isTypeSupported(this.Ii.Uc,"video/mp4")){this.qSa(function(b){a.Kk(w.I.JW,b);});return;}}catch(ma){this.Jz(w.I.JW,ma);return;}}try{this.$e=new R.sE();}catch(ma){this.Jz(w.I.UIa,ma);return;}try{this.mg=URL.createObjectURL(this.$e);}catch(ma){this.Jz(w.I.VIa,ma);return;}try{this.Ii.mTa(this.Jha);this.$e.addEventListener("sourceopen",function(b){return a.mia(b);});this.$e.addEventListener(this.hV+"sourceopen",function(b){return a.mia(b);});this.Ma.addEventListener("error",this.we.error=function(b){return a.mF(b);});this.Ma.addEventListener("seeking",this.we.seeking=function(){return a.JQa();});this.Ma.addEventListener("seeked",this.we.seeked=function(){return a.LY();});this.Ma.addEventListener("timeupdate",this.we.timeupdate=function(){return a.LQa();});this.Ma.addEventListener("loadstart",this.we.loadstart=function(){return a.KY();});this.Ma.addEventListener("volumechange",this.we.volumechange=function(b){return a.MQa(b);});this.Ma.addEventListener(this.Ii.Px,this.we[this.Ii.Px]=function(b){return a.EQa(b);});b=this.j.ef;c=b.lastChild;c?b.insertBefore(this.Ma,c):b.appendChild(this.Ma);r.config.Sma&&this.Ma.addEventListener("contextmenu",k);this.Ma.src=this.mg;A.Vd.addListener(A.yH,this.aF[A.yH]=function(){return a.lia();});this.lia();}catch(ma){this.Jz(w.I.WIa,ma);}}else this.Kk(w.I.Kda);};b.prototype.close=function(){var b;function a(){b.mg&&(b.Mia(),A.Vd.removeListener(A.yH,b.aF[A.yH]),b.SNa());}b=this;this.Ma.removeEventListener(this.Ii.Px,this.we[this.Ii.Px]);this.Ma.removeEventListener("error",this.we.error);this.Ma.removeEventListener("seeking",this.we.seeking);this.Ma.removeEventListener("seeked",this.we.seeked);this.Ma.removeEventListener("timeupdate",this.we.timeupdate);this.Ma.removeEventListener("loadstart",this.we.loadstart);this.Ma.removeEventListener("volumechange",this.we.volumechange);this.Ii.Vgb(this.Jha);r.config.Fp?this.Ii.uua().then(function(){return a();}):a();this.Ii.Pva&&clearTimeout(this.Ii.Pva);};b.prototype.EQa=function(a){return this.Ii.q6(a);};b.prototype.fN=function(){if(this.Ma)return this.Ma.getVideoPlaybackQuality&&this.Ma.getVideoPlaybackQuality()||this.Ma.videoPlaybackQuality||this.Ma.playbackQuality;};b.prototype.SRa=function(){var a;a=this.j.th;return(a=a&&a.errorCode)&&0<=[w.I.UL,w.I.CL].indexOf(a);};b.prototype.SNa=function(){var a;a=!1;r.config.pfb&&this.SRa()&&(a=!0);r.config.e0&&!a&&(this.Ma.removeAttribute("src"),this.Ma.load&&this.Ma.load());URL.revokeObjectURL(this.mg);r.config.Sma&&this.Ma.removeEventListener("contextmenu",k);!a&&this.Ma&&this.j.ef.removeChild(this.Ma);this.Ma=this.$e=void 0;this.mg="";};b.prototype.lia=function(){!0===R.qd.hidden?this.LM.forEach(function(a){a.refresh();a.ekb();}):this.LM.forEach(function(a){a.refresh();a.rkb();});};b.prototype.MM=function(a){var b;b=x.Y.get(K.zda)(a);this.LM.push(b);return function(){b.refresh();return b.R4a();};};b.prototype.aSa=function(a,b,c){var d;switch(c){case x.dg.gg.VIDEO:d=a;break;case x.dg.gg.AUDIO:d="AAC"==b.value.i0?p.hE:p.nGa;}return d;};b.prototype.Jz=function(a,b){var c,d;c={T:P.G.ue,Ea:P.Bc(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==d.length&&(c.Ab=d);}catch(la){}b=x.Y.get(n.Dj);this.j.jd(b(a,c));};b.prototype.Mia=function(){this.LM.forEach(function(a){a.refresh();});};b.prototype.DOa=function(){return this.Ma&&this.Ma.msGraphicsTrustStatus;};b.prototype.Kk=function(a,b,c){var d;d=x.Y.get(n.Dj);this.j.jd(d(a,b,c));};b.prototype.qSa=function(a){var c,d;function b(d){b=P.Rb;c.Cf();a(d);}c=new m.Dz(500,function(){b();});c.Mo();try{d=this.j.Dg.value.dk.Ezb.children.filter(function(a){return"pssh"==a.type&&a.b1a==p.qDa;})[0];new R.rE(this.Ii.Uc).createSession("video/mp4",d.raw,null).addEventListener(this.hV+"keyerror",function(a){a=h(a,w.gba);b(a.fB);});}catch(la){b();}};b.prototype.KQa=function(a){var b,d,g,h,k,f,n;if(this.Ma){a=a.JK;b=this.DOa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ma.readyState;a.currentTime=""+this.Ma.currentTime;a.pbRate=""+this.Ma.playbackRate;}catch(Na){}for(var b=this.oo.length,c;b--;){c=this.oo[b];d="";c.type==p.bW?d="audio":c.type==p.jE&&(d="video");P.Aa(a,c.gQ(),{prefix:d});r.config.C1a&&this.j.th&&p.jE==c.type&&(d=P.RJ(c.Sv),3E3>(d.data&&d.data.length)&&(d.data=q.EXa(d.data).join(),P.Aa(a,d,{prefix:c.type})));}this.$e&&(b=this.$e.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(r.config.E$a)try{g=this.j.Rf;h=g&&g.Kc;if(h){k=h.expiration;isNaN(k)||(a.exp=k);f=h.keyStatuses.entries();if(f.next){n=f.next().value;n&&(a.keyStatus=n[1]);}}}catch(Na){}}};b.prototype.mia=function(a){this.bSa||(this.bSa=!0,this.ri.Cc(O.eh.Exa,a));};b.prototype.JQa=function(){this.Ya.trace("Video element event: seeking");this.Ok?this.Ok.Ecb=!0:(this.Ya.error("unexpected seeking event"),r.config.$2a&&this.Kk(w.I.jJa));};b.prototype.LY=function(){this.Ya.trace("Video element event: seeked");this.Ok?(y.na(this.Ok.Ecb),this.Ok.Dcb=!0,this.jja()):(this.Ya.error("unexpected seeked event"),r.config.Z2a&&this.Kk(w.I.iJa));};b.prototype.LQa=function(){this.Ok&&(this.Ok.Gcb=!0,this.jja());this.ri.Cc(O.eh.Jo);};b.prototype.KY=function(){this.Ya.trace("Video element event: loadstart");};b.prototype.MQa=function(a){this.Ya.trace("Video element event:",a.type);try{this.j.volume.set(this.Ma.volume);this.j.muted.set(this.Ma.muted);}catch(ha){this.Ya.error("error updating volume",ha);}};b.prototype.mF=function(a){a=h(a,w.SDa);this.Ya.error("Video element event: error",a.D$a);this.Kk(w.I.bJa,a.fB);};b.prototype.jja=function(){this.Ok&&this.Ok.Dcb&&this.Ok.Gcb&&(this.Ok=void 0,this.ri.Cc(O.eh.RC));};oa.Object.defineProperties(b.prototype,{l8:{configurable:!0,enumerable:!0,get:function(){return r.config.Yjb;}}});d.RGa=b;},function(f,d,a){var p,r,u,v,A,l,x,w;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function c(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function k(a,d,g){var h;if("string"===typeof a)return k.call(this,b(a),d,g);h=0;Object.keys(a).forEach(function(b){var k,f,n;k=A[b];f=a[b];if(k){if(n=l[b]||w[typeof p[k]])try{f=n(f);}catch(R){g&&g.error("Failed to convert value '"+f+"' for config '"+b+"' : "+R.toString());return;}n=v[k];this[k]=f;v[k]!==n&&(g&&g.debug("Config changed for '"+b+"' from "+c(n)+" ("+typeof n+") to "+c(f)+" ("+typeof f+")"),++h);}else d?(k=(k=x[b])?k.filter(function(a){return a[0]!==this;},this):[],k.push([this,f]),x[b]=k):g&&g.error("Attempt to change undeclared config option '"+b+"'");},this);h&&v.emit("changed");return h;}function h(){return Object.keys(A).reduce(function(a,b){var c,d;c=A[b];d=a[c];d?(d.push(b),a[c]=d.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function g(a,b){return a.hasOwnProperty(b)?c(a[b]):void 0;}function n(a,b){return"undefined"===typeof a?b:a;}d=a(41);a=a(32).EventEmitter;p={};r=Object.create(p);u=Object.create(r);v=Object.create(u);A={};l={};x={};v.declare=function(a){Object.keys(a).forEach(function(b){var c,d,g,h;c=a[b];d=c[0];g=c[1];h=c[2];if(p.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof d&&(d=[d]);d.forEach(function(a){var c;if(A.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");p.hasOwnProperty(b)||("function"===typeof g&&(g=g()),p[b]=g);A[a]=b;"function"===typeof h&&(l[a]=h);if(c=x[a])c.forEach(function(b){var c,d;c=b[0];d={};d[a]=b[1];k.call(c,d,!1);}),delete x[a];});});return v;};w={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};v.set=k.bind(r);v.tC=k.bind(u);v.dump=function(a,b){var k,f,w,l;function d(){l&&a&&a.log("===========================================");}k=Object.keys(x).sort();f={};w=h();b=n(b,!0);Object.keys(A).sort().forEach(function(h){var k,x,F;h=A[h];!f[h]&&(f[h]=!0,x=g(r,h),F=g(u,h),b||"undefined"!==typeof x||"undefined"!==typeof F)&&(k=w[h].join(","),k+=" = "+c(v[h])+" ("+typeof v[h]+") [",k+=n(F,"<unset>")+",",k+=n(x,"<unset>")+",",k+=g(p,h)+"]",l||(l=!0,a&&a.log("Current config values"),d()),a&&a.log(k));});(b||k.length)&&a&&a.log("<undeclared> :",k);d();};v.Io=function(a){var b,c;b={};c={};Object.keys(A).forEach(function(a){a=A[a];c[a]||(c[a]=!0,b[a]=v[a]);});a&&k.call(b,a);return b;};v.vua=function(){var a;a=h();return Object.getOwnPropertyNames(r).reduce(function(b,c){b[a[c][0]]=r[c];return b;},{});};v.reset=function(){Object.keys(r).forEach(function(a){delete r[a];});};v.Lk={};d(a,v);f.K=Object.freeze(v);},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(3);k=a(23);h={$a:{CLOSED:0,OPEN:1,fV:2,name:["CLOSED","OPEN","ENDED"]},zc:{FO:!0}};d.UGa=Object.assign(function(d){var g,p;g=a(70).platform;b.Tc("MediaSourceASE").trace("Inside MediaSourceASE");p=d.U2();this.readyState=h.$a.CLOSED;this.sourceBuffers=p.sourceBuffers;this.addSourceBuffer=function(a){return p.addSourceBuffer(a);};this.NZ=function(a){return p.NZ(a);};this.removeSourceBuffer=function(a){return p.removeSourceBuffer(a);};this.bn=function(a){return p.bn(a);};this.sourceId=g.tH();g.LH();this.duration=void 0;p.Uib(this.sourceId);this.readyState=h.$a.OPEN;this.zc=c.Y.get(k.He).sj(h.zc,{});},h);},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);c=a(7);d.Ftb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};d.Etb=function(a,c,d){d=b.Gd(d)?d:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+d.length-c))+d;};d.QLa=function(a,b){var h;for(var d=1;d<arguments.length;++d);h=c.slice.call(arguments,1);a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof h[b]?h[b]:a;});};d.Gtb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};d.oCb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(6);k=a(29);d.$Ha=function(){b.Tc("OpenConnectSideChannel");return{nH:function(a,b,c){k.bc.Rjb({url:a.url,Zhb:c});},F9:c.Rb};}();},function(f,d,a){var c,k,h,g,n;function b(a){var x;for(var b=h.Qdb(a),d,p,f,l=0;l<b.length;l+=2){d=b[l];if("moof"!=d.type||"mdat"!=b[l+1].type)throw h.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[l+1].type}),Error("data is not moof-mdat box pairs");if(c.config.bob&&"moof"==d.type&&(p=d.jr("traf/saio"),f=d.jr("traf/"+k.TAa),p&&f&&(f=f.SUa.byteOffset-d.raw.byteOffset,p.uwa[0]!=f))){h.log.error("Repairing bad SAIO",{saioOffsets:p.uwa[0],auxDataOffsets:f});x=p;p=f;f=new g(x.raw);f.seek(x.size-x.Vq);x=f.Hd(1);f.Hd(3)&1&&(f.Ba(),f.Ba());x=1<=x?8:4;f.Ba();f.cob(p,x);}if(c.config.b$&&"moof"==d.type&&(p=d.jr("traf/tfhd"),(d=p.Gma)&&d.Phb)){d=void 0;f=new g(p.raw);f.seek(p.size-p.Vq);x=f.Hd(3);f.Ba();switch(p.type){case"tfhd":x&1&&f.zf();x&2&&f.Ba();x&8&&f.Ba();x&16&&f.Ba();x&32&&(d=f.pe(2));break;case"trex":f.Ba(),f.Ba(),f.Ba(),d=f.pe(2);}n.na(d);d&&(d[1]&=254);}}return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(5);k=a(6);h=a(3);g=a(101);n=a(11);d.QGa=function(a){return b(new Uint8Array(a));};d.Htb=function(a){return b(a);};d.lAb=b;},function(f,d,a){var b,c,k,h,g,n,p,r,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(174);c=a(139);k=a(5);h=a(72);g=a(269);n=a(17);p=a(3);r=a(16);u=a(29);d.Yab=function(){var f,l,x;function d(a,b,p){var r,v;function f(){a.removeEventListener(c.Ua.pd.Dv,f);a.bH?a.bH++:a.bH=1;a.bH>=k.config.N1.length&&(a.bH=k.config.N1.length-1);setTimeout(function(){d(a,b,p);},k.config.N1[a.bH]);}a.Ryb=!0;r=l.download({url:a.url,responseType:u.BB,withCredentials:!1,TA:"media-request-download-service",offset:b.start,length:a.$g,track:{type:a.N===x.v.AUDIO?h.Hf.audio:h.Hf.video},stream:{ad:a.Wa,L:a.L},zb:a.Vc,vn:a,u:a.Vb?void 0:g.QGa,sT:p},function(b){b.P&&a.readyState!==c.Ua.$a.DONE&&a.readyState!==c.Ua.$a.ym&&(a.readyState!==c.Ua.$a.Bm&&a.readyState===c.Ua.$a.Js&&(a.readyState=c.Ua.$a.Is,a.n6({mediaRequest:a,readyState:a.readyState,timestamp:n.bb(),connect:!1})),a.readyState=c.Ua.$a.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:n.bb(),cadmiumResponse:b,response:b.content},a.kG=b,a.Ki(b));});if(a.Vb){v={mediaRequest:a,readyState:a.readyState,timestamp:n.bb(),connect:!1};a.n6(v);}a.addEventListener(c.Ua.pd.Dv,f);a.jqa=r.abort;}f=p.Tc("mediaRequestDownloader");l=b.Zca();x=a(70).Ul;return{nH:d,AZ:function(a){try{a.jqa();}catch(z){f.warn("exception aborting request");}},F9:r.Rb};}();},function(f,d,a){var c,k,h,g,n,p,r,u,v,A,l,x,w,z,y,F,K,m,q,P,Y,R,t,Z,O,G,pa,aa,Q,ha,ba,ma,la,ea,ta,wa,ia,Na,B,ib,Sa,U,W,ca,ga,X,Ha,Za,xb,fb,yb,Va,nb,db,$a,sc;function b(a,b,c,d,g){var n,r,A,F;function k(a){a.newValue!=Za.Gm.PE&&a.newValue!=m.Zp&&(n.Fc.removeListener(k),n.$Oa=pa.Y.get(Ha.Ri).Xwa,n.xd.Cc(m.Fm));}function f(a){a.newValue!==Za.Gm.PE&&(n.Fc.removeListener(f),n.Gua=O.GA());}n=this;this.Ir=c;this.FQ=g;this.Iu=[];this.wG=0;this.YB={};this.T7=this.A9=0;this.xd=new y.Si();this.JK={};this.Uha=0;this.X8=!1;this.state=new w.Zd(m.yz);this.Lc=new w.Zd(void 0);this.rS=new w.Zd(!1);this.paused=new w.Zd(!1);this.muted=new w.Zd(!1);this.volume=new w.Zd(z.config.T_a/100);this.playbackRate=new w.Zd(1);this.Fc=new w.Zd(Za.Gm.PE);this.yO=new w.Zd(m.ss);this.Kl=new w.Zd(m.ss);this.Oi=new w.Zd(m.ss);this.Wg=new w.Zd(null);this.Wf=new w.Zd(null);this.I_=new w.Zd(void 0);this.FH=l.wEa(this);this.yR=[];this.zb=[];this.v_=[];new w.Zd(null);p.Zca(pa.Tc("MediaHttp"));this.Hkb=-1;this.TT=new w.Zd(null);this.AA=new w.Zd(null);this.DO=0<=ia.xaa.indexOf("cast")?pa.Y.get(aa.eaa):void 0;this.Xj=this.rna=!1;this.ka=this.Yf=-1;this.Kta=function(){n.T8();};this.Ija(a,b,d||{});this.log=pa.bf(this);this.cVa=pa.Y.get(Z.K$)(this);this.ef=ca.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.cg=d&&d.cg||0;r=new G.KE(1E3);z.config.jl&&H._cad_global.videoPreparer&&(this.ha=H._cad_global.videoPreparer.q3(a));this.ha||(m.Ev.VW?(this.ha=m.Ev.VW,m.Ev.VW=void 0):this.ha=g.rG());this.uPa=pa.Y.get(fb.Tca);this.Qsa=pa.Y.get(xb.$W);this.I6=this.Qsa.Ngb(this.ha,c);m.Ev.$Ja=this.ha;this.addEventListener=this.xd.addListener;this.removeEventListener=this.xd.removeListener;this.fireEvent=this.xd.Cc;this.Fd=this.log.I0("Playback");this.G5=new q.XGa(this);this.Beb=h.OJa(this);this.j1=u.pKa();this.nI=z.config.tza&&!(this.ha%z.config.tza);this.ug={MovieId:this.M,TrackingId:this.cg,Xid:this.ha};m.Ev.ZJa=this.log;m.aM||(m.Ev.aM=this.log);this.Fd.info("Playback created",this.ug);this.nI?this.Fd.info("Playback selected for trace playback info logging"):this.Fd.trace("Playback not selected for trace playback info logging");z.config.jl&&H._cad_global.videoPreparer&&(H._cad_global.videoPreparer.z7a(this.M),this.addEventListener(m.Fm,function(){H._cad_global.videoPreparer.A7a(n.M);n.Nc.addListener(function(){H._cad_global.videoPreparer.Kpa();});n.vd.addListener(function(){H._cad_global.videoPreparer.Kpa();});}),this.addEventListener(m.hg,function(){H._cad_global.videoPreparer.y7a(n.M);}));this.state.addListener(function(a){n.Fd.info("Playback state changed",{From:a.oldValue,To:a.newValue});ea.na(a.newValue>a.oldValue);});K.Vd.addListener(K.ck,this.Kta,x.DW);this.Lc.addListener(function(){r.kb(function(){return n.foa();});});F=!1;this.paused.addListener(function(a){var b;b=n.rb;!a.TR&&b&&(!0===a.newValue?b.paused&&b.paused():b.Qya&&b.Qya());a.newValue||(F=!1);n.Fd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Gg(n.Lc.value)});});this.Fc.addListener(function(a){n.Fd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Gg(n.Lc.value)},n.hC());});this.Fc.addListener(function(){n.rS.set(n.Fc.value===Za.Gm.Ye);});this.yO.addListener(function(a){n.Fd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Gg(n.Lc.value)},n.hC());});this.Kl.addListener(function(a){n.Fd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Gg(n.Lc.value)},n.hC());});this.Oi.addListener(function(a){n.Fd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Gg(n.Lc.value)},n.hC());});this.vd.addListener(function(a){ea.na(a.newValue);n.Fd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.gj,To:a.newValue.ec},a.oldValue&&{FromBcp47:a.oldValue.gj,From:a.oldValue.ec},{MediaTime:ta.Gg(n.Lc.value)});});this.We.addListener(function(){for(var a=n.We.value.Lb,b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].U7a=a[c+1];});this.Nc.addListener(function(a){n.Fd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.gj,To:a.newValue.ec}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.gj,From:a.oldValue.ec}:{From:"none"},{MediaTime:ta.Gg(n.Lc.value)});});this.zb[X.Ul.v.AUDIO]=new w.Zd(null);this.zb[X.Ul.v.VIDEO]=new w.Zd(null);this.Fc.addListener(f,x.tz);this.Fc.addListener(k);this.addEventListener(m.Fm,function(){var a,b,c,d;n.X8=!0;n.hJ=wa.Fk(n.uB());n.Yd("start");a=n.Wf.value;b=H._cad_global.prefetchEvents;if(b){c=Q.Pb(n.kn?n.kn.audio:0);d=Q.Pb(n.kn?n.kn.video:0);b.Jr(n.M,n.ha,"notcached"!==n.Ht,"notcached"!==n.Jw,!!n.kn,c,d);}n.PQ=a.stream.L;});t.WJa(this);m.Yp.push(this);z.config.BJ&&(this.mS=new ga.hKa(this),this.Keb=new P.lKa(this));m.pea.forEach(function(a){a(n);});this.xTa=function(a){n.addEventListener(m.ZW,function(b){b.cause!==Za.Vi.EE&&b.cause!==Za.Vi.cM&&a.stop();});n.addEventListener(m.YW,function(b){b.cause!==Za.Vi.cM&&(z.config.E3a&&b.cause===Za.Vi.eX&&n.sk.K_(),b.cause!==Za.Vi.EE&&(b.skip?a.$ka(b.Rx)?(n.Fd.trace("Repositioned. Skipping from "+b.UI+" to "+b.Rx),a.Nn(b.Rx),a.play()):n.log.error("can skip returned false"):(n.Fd.trace("Repositioned. Seeking from "+b.UI+" to "+b.Rx),a.seek(b.Rx))));});a.addEventListener("segmentStarting",function(a){n.fireEvent(m.dKa,a);});a.addEventListener("lastSegmentPts",function(a){n.fireEvent(m.bKa,a);});a.addEventListener("segmentPresenting",function(a){n.fireEvent(m.cKa,a);});a.addEventListener("segmentAborted",function(a){n.fireEvent(m.aKa,a);});a.addEventListener("manifestPresenting",function(a){n.wG=a.index;n.fireEvent(m.YJa,a);});a.addEventListener("skip",function(a){n.fireEvent(m.vea,a);});a.addEventListener("error",function(a){var b;if("NFErr_MC_StreamingFailure"===a.error)if(n.Fd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),n.Fd.trace("StreamingFailure, buffer status:"+JSON.stringify(n.hC())),z.config.X2a&&!n.X8)Na.cb(function(){var b;b=pa.Y.get(v.Dj);n.jd(b(ha.I.Lza,{T:a.nativeCode,Ea:a.errormsg,rh:a.httpCode,PR:a.networkErrorCode}));});else{n.KT>=n.YJ.length&&(n.KT=n.YJ.length-1);b=n.YJ[n.KT];n.KT++;setTimeout(function(){n.rb&&n.rb.nOa&&n.rb.nOa.JC(!0);},b);}});a.addEventListener("headerCacheHit",function(){});a.addEventListener("maxvideobitratechanged",function(a){n.yR.push(a);});a.addEventListener("bufferingStarted",function(){n.Kl.set(m.ss);});a.addEventListener("locationSelected",function(a){n.fireEvent(m.sea,a);});a.addEventListener("serverSwitch",function(a){var b;n.fireEvent(m.tea,a);"video"===a.mediatype?b=X.Ul.v.VIDEO:"audio"===a.mediatype&&(b=X.Ul.v.AUDIO);B.fb(b)&&n.Xib(a.server,b);});a.addEventListener("bufferingComplete",function(b){n.Fd.trace("Buffering complete",{Cause:"ASE Buffering complete"},n.hC());n.Wk=b.enableHindsightReport;n.xja=b.actualBW;n.Z7a=b.histtd;n.iyb=b.histage;n.eqa=b.histDiscBW;n.uqa=b.initSelReason;n.FB=b.initBitrate;n.tqa=b.initSelDiscBW;n.Ru=b.selector;n.WH=b.isConserv;n.Ho=b.ccs;n.YQ=b.isLowEnd;n.WF=b.buffCompleteReason;n.Kl.set(m.Ck);A||(A=!0,n.Yd("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Pcb();n.paused.value||(F=!0,n.paused.set(!0,{TR:!0}));});a.addEventListener("audioTrackSwitchRejected",function(){a.Ocb();n.paused.value&&F&&(F=!1,n.paused.set(!1,{TR:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){n.paused.value&&F&&(F=!1,n.paused.set(!1,{TR:!0}));n.wh.tcb();});a.addEventListener("endOfStream",function(a){n.wh.l6(a);});a.addEventListener("createrequest",function(a){n.fireEvent(Za.ya.g_,a.mediaRequest);});a.addEventListener("asereportenabled",function(){n.Xj=!0;});a.addEventListener("asereport",function(a){n.fireEvent(m.mea,a);});a.addEventListener("aseexception",function(a){n.fireEvent(m.lea,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=B.fa(n.cf)?0:n.cf;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});n.G3={lhb:c,k8a:a.hptwbr,lqa:a.htwbr,hS:a.pbtwbr};a.rr&&(n.G3.swa=a.rr);a.ra&&(n.G3.Yfb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;n.ka=a.location.bandwidth;n.Yf=a.location.httpResponseTime;n.Hkb=a.stat.streamingBitrate;n.WH=a.isConserv;n.Ho=a.ccs;b&&(void 0===n.Hw&&(n.Hw={interval:z.config.BA,startTime:b.startTime,Ao:[],Ip:[]}),n.Hw.Ao=n.Hw.Ao.concat(b.Ao),n.Hw.Ip=n.Hw.Ip.concat(b.Ip));a.psdConservCount&&(n.hva=a.psdConservCount);});z.config.PSa&&a.addEventListener("currentStreamInfeasible",function(a){n.gl.Fub(a.newBitrate);});a.addEventListener("headerCacheDataHit",function(a){a.movieId==n.M&&(n.kn=a);});a.addEventListener("startEvent",function(a){H._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&H._cad_global.prefetchEvents.aG(ba.Od.hi.MEDIA,n.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.kG&&a.kG.cadmiumResponse)&&n.fireEvent(Za.ya.NG,a);});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===X.Ul.v.VIDEO?(c=n.Upa(a.streamId),b=n.Dg):a.mediaType===X.Ul.v.AUDIO&&(c=n.Ppa(a.streamId),b=n.Bo);c&&b?b.set(c,{mla:a.movieTime,YUa:a.bandwidth}):n.Fd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=n.YB[a.target];c=B.fa(n.cf)?n.cf:0;b||(b=n.YB[a.target]={});Object.keys(a.fields).forEach(function(d){var g,h,k,p;g=a.fields[d];if("object"!==typeof g||null===g)b[d]=g;else{h=g.type;if("count"===h)void 0===b[d]&&(b[d]=0),++b[d];else if(void 0!==g.value)if("array"===h){h=b[d];k=g.adjust;p=g.value;h||(h=b[d]=[]);k&&0<k.length&&k.forEach(function(a){p[a]-=c||0;});h.push(p);}else"sum"===h?(void 0===b[d]&&(b[d]=0),b[d]+=g.value):b[d]=g.value;else b[d]=g;}});}});};this.vd.addListener(function(a){n.rb&&(a.reset?n.Fd.trace("ASE previously rejected the audio track switch, resetted!"):n.rb.llb({yA:a.newValue.UH,toJSON:function(){return a.newValue.ug;}})?n.Fd.trace("ASE accepted the audio track switch"):(n.Fd.trace("ASE rejected the audio track switch"),n.vd.set(a.oldValue,{reset:!0})));});this.addEventListener(m.ZL,function(a){a.cause==m.jea&&(n.yO.set(m.ss),n.rb.Lmb(n.wh.Qoa()));});}Object.defineProperty(d,"__esModule",{value:!0});c=a(192);k=a(140);h=a(175);g=a(115);n=a(176);p=a(174);r=a(264);u=a(263);v=a(63);A=a(515);l=a(261);x=a(6);w=a(173);z=a(5);y=a(55);F=a(260);K=a(53);m=a(20);q=a(85);P=a(259);Y=a(258);R=a(512);t=a(254);Z=a(325);O=a(17);G=a(84);pa=a(3);aa=a(213);Q=a(4);ha=a(2);ba=a(106);ma=a(23);la=a(154);ea=a(11);ta=a(86);wa=a(19);ia=a(37);Na=a(28);B=a(14);ib=a(97);Sa=a(253);U=a(128);W=a(172);ca=a(16);ga=a(252);X=a(70);Ha=a(43);a(124);a(61);a(165);Za=a(22);xb=a(195);fb=a(387);yb=a(511);Va=a(201);nb=a(56);db=a(102);$a=a(326);sc=a(24);b.prototype.Ija=function(a,b,c){var d;d=this.Iu.length;this.Iu.push(new yb.kKa(m.Ev.UJa+1,d,a,b,c,this.Qa));return d;};b.prototype.H2=function(a){var b;if(z.config.sP)return c.Nw.pH(a);a=a||x.Rb;b={success:!1,name:null,isCongested:null};a(b);return b;};b.prototype.vH=function(a){return this.Iu[a];};b.prototype.j6a=function(a){return this.Iu.find(function(b){b=b.Rf;return!!b&&!!b.Kc&&b.Kc.sessionId===a;})||this;};b.prototype.Tfb=function(a){var b,c;b=this;c=this.vH(a);return this.Owa(c).then(function(a){b.cS(a,c);b.rb.GF(c.Ca,{fs:[c.md.Dma,c.md.Jma],replace:!1,S:c.jb.S,Z:c.jb.Z,M6:!0,gG:!c.ru});return b.nb.Ii.jxa("cenc",c).then(function(){return b.rb.oP(c.M);});},function(a){return console.error("send manifest request failed",a);});};b.prototype.Yd=function(a){this.I6.Qk(a);};b.prototype.r4a=function(){if(B.fa(this.he.ats)&&B.fa(this.he.at))return this.he.at-this.he.ats;};b.prototype.C4a=function(){var a,b;a=this.Xy()||0;b=this.Cw()||0;return Math.min(a,b);};b.prototype.E5a=function(){if(B.fa(this.he.shs)&&B.fa(this.he.sh))return this.he.sh-this.he.shs;};b.prototype.VJ=function(){this.background||(this.Fd.info("Starting inactivity monitor for movie "+this.M),new F.wFa(this));};b.prototype.close=function(a){a&&(this.state.value==m.CE?a():this.addEventListener(m.$L,function(){a();}));this.T8();};b.prototype.jd=function(a,b){var c,d,g;c=this;if(this.state.value==m.yz)this.th||(this.th=a,this.load());else{b&&(this.state.value==m.CE?b():this.addEventListener(m.$L,function(){b();}));d=function(){c.T8(a);};g=z.config.Mma&&a&&z.config.Mma[a.errorCode];B.qu(g)&&(g=wa.ld(g));this.Fd.error("Fatal playback error",{Error:""+a,HandleDelay:""+g});0<=g?setTimeout(d,g):d();}};b.prototype.xK=function(){this.xd.Cc(m.gKa);};b.prototype.G3a=function(){this.foa();};b.prototype.Y2=function(){var a;a=this.rb;return a&&(a=a.ia.Li.la.id,void 0!==a)?a:null;};b.prototype.kx=function(){return void 0!==this.Pla&&void 0===this.rb?this.Pla:this.pQ(this.Lc.value);};b.prototype.X2=function(){return this.pQ(this.wh.Qoa());};b.prototype.hQ=function(){var a;a=this.Ca.choiceMap;if(a)return a.segments;};b.prototype.Vmb=function(a){this.jb=U.abb(this.jb,a);};b.prototype.F7a=function(a){var c;for(var b=0;b<this.Iu.length;b++){c=this.vH(b).hj;if(c=c&&c.find(function(b){return b.id===a;}))return c;}};b.prototype.Ppa=function(a){var c;for(var b=0;b<this.Iu.length;b++){c=this.vH(b).vd.value;if(c=c&&c.Lb.find(function(b){return b.ad===a;}))return c;}};b.prototype.Upa=function(a){var c;for(var b=0;b<this.Iu.length;b++){c=this.vH(b).We.value;if(c=c&&c.Lb.find(function(b){return b.ad===a;}))return c;}};b.prototype.Zm=function(){var a,b,c,g,h,k,p;a=this;b=void 0;c=a.We.value.Lb.filter(function(c){var d;d=a.G5.Xr(c);d&&(b=b||[],b.push({stream:c,UA:d}));return!d;});0===c.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var d=0;d<c.length;d++)c[d].lower=c[d-1],c[d].U7a=c[d+1];if(a&&a.rb){g=[];a.We.value.Lb.forEach(function(a){-1==g.indexOf(a.ye)&&g.push(a.ye);});h=null;k=null;c.forEach(function(a){null===h?k=h=a.L:k<a.L?k=a.L:h>a.L&&(h=a.L);});p=[];g.forEach(function(a){var c;c={ranges:[]};c.profile||(c.profile=a);h&&k&&(c.ranges.push({min:h,max:k}),b&&(c.disallowed=b.filter(function(b){return b.stream.ye===a;})),p.push(c));});a.rb.pT(p);}return c;};b.prototype.DB=function(a){var b;b=this;wa.xc(a,function(a,c){b.I6.Qk(a,Q.Pb(c-b.Ir.ma(Q.Ia)));});};b.prototype.oT=function(a){this.Qy=a;};b.prototype.r9a=function(){return"trailer"===this.kc;};b.prototype.Lqa=function(){return!!this.kc&&0<=this.kc.indexOf("billboard");};b.prototype.v9a=function(){return!!this.kc&&0<=this.kc.indexOf("video-merch");};b.prototype.NB=function(){return this.r9a()||this.Lqa()||this.v9a();};b.prototype.C2=function(){return B.fa(this.Lc.value)&&B.fa(this.Cw())&&B.fa(this.Xy())?this.Lc.value+Math.min(this.Cw(),this.Xy()):null;};b.prototype.x6a=function(){return{tr:this.A9,rt:this.T7};};b.prototype.kr=function(a){return this.YB[a];};b.prototype.XVa=function(){return this.Qy?O.bb()-this.Qy:O.GA()-this.cQ();};b.prototype.cWa=function(){var a;if(this.Qy)return O.bb()-this.Qy;a=pa.Y.get(sc.gf).eI;return this.Gua-(this.Ir.ma(Q.Ia)+a.ma(Q.Ia));};b.prototype.bWa=function(){return this.Qy?O.bb()-this.Qy:this.Gua-this.cQ();};b.prototype.fcb=function(a){var b,c;b=this.cf;c={};wa.xc(a,function(a,d){c[a]=d.map(function(a){return a-b;});});return c;};b.prototype.A4a=function(){var a,b;a=this.cf;b={};wa.xc(this.v_,function(c,d){b[c]=d.map(function(b){return b-a;});});return n.Mq?{level:n.Mq.Zoa(),charging:n.Mq.F2(),statuses:b}:null;};b.prototype.sQ=function(){this.eoa();return this.JK;};b.prototype.cQ=function(){var a;a=this.jb.xD;a=B.fa(a)?a:this.Ir.ma(Q.Ia)+O.ula();ea.na(B.pu(a));return a;};b.prototype.uB=function(){return O.bb()-this.Ir.ma(Q.Ia);};b.prototype.ujb=function(){this.JK.HasRA=!0;};b.prototype.Onb=function(){this.Njb=!0;};b.prototype.tta=function(){this.Jva();};b.prototype.Xy=function(){var a;a=this.oO();return a&&a.vbuflmsec;};b.prototype.Cw=function(){var a;a=this.oO();return a&&a.abuflmsec;};b.prototype.U9=function(){var a;a=this.oO();return a&&a.vbuflbytes;};b.prototype.j_=function(){var a;a=this.oO();return a&&a.abuflbytes;};b.prototype.Owa=function(a){var b,c,d;a=void 0===a?this:a;b=pa.Y.get(Va.fW);c=z.config.zS.enabled?nb.Oc.Dm.Mea:this.NB()?nb.Oc.Dm.lfa:nb.Oc.Dm.co;d=a.jb;a={ha:this.ha,Bh:b.Ala(d.Dw,d.Bh),te:a.M,ou:!!d.De,gH:c};z.config.zS.enabled&&B.qu(z.config.zS.gm)&&(a.gm=z.config.zS.gm);c=pa.Y.get(db.wz)();return b.rB(a,c);};b.prototype.cS=function(a,b){b=void 0===b?this:b;b.Ca=a;a=this.uPa.create(this).cS(a);b.md=a;b.We.set(a.Ima);b.vd.set(a.Cma);b.Nc.set(a.S_a);};b.prototype.Tya=function(){var b,c,d,h;b=this;if(this.state.value==m.Gk){c={};this.sk=g.fj;z.config.D3a&&this.sk.K_();g.Rj.set(a(149)(z.config),!0,pa.Tc("ASE"));z.config.IXa&&3E5>this.Ca.duration?g.Rj.tC({expandDownloadTime:!1},!0,this.Fd):g.Rj.tC({expandDownloadTime:g.Rj.vua().expandDownloadTime},!0,this.Fd);this.background||z.config.Ueb&&"postplay"===this.kc?g.Rj.tC({initBitrateSelectorAlgorithm:"historical"},!0,this.Fd):g.Rj.tC({initBitrateSelectorAlgorithm:g.Rj.vua().initBitrateSelectorAlgorithm},!0,this.Fd);h=this.We&&this.We.value&&this.We.value.Lb;h&&h.length&&(d=h[0].ye);g.Rj.tC(z.Kla(this.jb.De,d),!0,this.Fd);c=pa.Y.get(ma.He).sj(c,z.Lla(this.kc));this.Ikb=g.Rj.Io(c);X.platform.events.emit("networkchange",this.md.Tib);this.sk.Zya({Zm:function(){return b.Zm();},tH:function(){return b.tH();},LH:function(){return b.LH();}});this.Nq=pa.Y.get(la.WK).QZ({yD:Q.Pb(this.Nq),M:this.M,jJ:Q.Pb(this.duration),jb:this.jb}).ma(Q.Ia);this.Teb();}};b.prototype.UZa=function(){var a,b,c,d;a=this;try{this.nb=new r.RGa(this);this.nb.open();b=new Promise(function(b){a.nb.addEventListener(W.eh.Exa,function(){b();});});this.wh=new Sa.TGa(this);c={Qh:!1,BD:z.config.BD,eU:z.config.tP,V$a:!1,gG:!this.ru,M6:!!this.jb.i4,Z:this.jb.Z};this.KT=0;this.YJ=z.config.YJ;this.Ca.cdnResponseData&&(this.LO=this.Ca.cdnResponseData.pbcid,this.Ca.cdnResponseData.sessionABTestCell&&(this.Su=this.Ca.cdnResponseData.sessionABTestCell));d={gy:this.log,gl:this.gl,sessionId:this.M+"-"+this.ha,ha:this.ha,gS:this.LO,Tf:ib.qg?ib.qg.Tf:void 0,Uma:0===z.config.OG||0!==this.ha%z.config.OG?!1:!0};this.rna=d.Uma;this.rb=this.sk.Qt(this.Ca,[this.md.Dma,this.md.Jma],this.S,c,d,void 0,{Ed:function(){return a.Lc.value;},U2:function(){return a.nb;}},this.Ikb);this.xTa(this.rb);b.then(function(){a.state.value!==m.xz&&a.state.value!==m.CE&&a.rb.open();});this.Lc.set(this.S);this.zp=new A.hMa(this);z.config.F7&&(this.ev=new R.iMa(this));this.Dn=new Y.RJa(this);this.VJ();m.qea.forEach(function(b){b(a);});("boolean"===typeof this.jb.cx?this.jb.cx:z.config.cx)&&pa.Y.get($a.Ofa).cx(this);this.mcb();}catch(zf){this.In(ha.I.dFa,{T:ha.G.ue,Ea:wa.Bc(zf)});}};b.prototype.ncb=function(){ea.na(this.state.value==m.yz);this.log.j.cf=this.cf=O.bb();this.state.set(m.Gk);H._cad_global.prefetchEvents&&H._cad_global.prefetchEvents.Heb(this.M);};b.prototype.In=function(a,b){var c;if(!this.done){this.done=!0;c=pa.Y.get(v.Dj);this.jd(c(a,b));}};b.prototype.T8=function(a){var b;b=this;if(this.state.value==m.yz||this.state.value==m.Gk||this.state.value==m.Em){this.Fd.info("Playback closing",this,a?{ErrorCode:a.iP}:void 0);K.Vd.removeListener(K.ck,this.Kta);this.th=a;this.eoa();this.rb&&this.rb.flush();try{this.xd.Cc(m.hg);}catch(tc){this.Fd.error("Unable to fire playback closing event",tc);}this.state.set(m.xz);this.Pla=this.kx();this.Jza();this.Njb||Na.cb(function(){return b.Jva();});}};b.prototype.foa=function(){var a;a=this.Lc.value;this.N9a!=a&&(this.N9a=a,this.xd.Cc(m.wea));};b.prototype.pQ=function(a){a=void 0===a?null:a;return B.fa(a)?this.rb?this.rb.MA(this.oa,a):a:null;};b.prototype.Jva=function(){var a,b;a=this;ea.na(this.state.value==m.xz);b=this.nR;this.nR=void 0;b?k.gD.release(b,function(b){ea.na(b.P);a.n0();}):this.n0();};b.prototype.Jza=function(){this.rb&&(this.rb.close(),this.rb.Ke());this.sk&&this.th&&this.sk.K_();delete this.rb;delete this.sk;};b.prototype.n0=function(){var a;this.n0=x.Rb;ea.na(this.state.value==m.xz);a=m.Yp.indexOf(this);ea.na(0<=a);m.Yp.splice(a,1);this.state.set(m.CE);this.xd.Cc(m.$L,{},!0);this.xd.Ww();delete this.Rf;this.Qsa.Ygb(this.ha);};b.prototype.eoa=function(){this.xd.Cc(m.uea,{JK:this.JK});};b.prototype.Xib=function(a,b){var c;c=this.hj.filter(function(b){return b.id===a;})[0];c&&this.zb[b].set(c);};b.prototype.hC=function(){return{AudioBufferLength:this.Cw(),VideoBufferLength:this.Xy()};};b.prototype.oO=function(){if(this.rb)return this.rb.b4(!1);};b.prototype.tH=function(){return this.Uha;};b.prototype.LH=function(){this.Uha++;};b.prototype.mcb=function(){this.state.value==m.Gk&&this.state.set(m.Em);};oa.Object.defineProperties(b.prototype,{Qa:{configurable:!0,enumerable:!0,get:function(){return this.Iu[this.wG];}},S:{configurable:!0,enumerable:!0,get:function(){var a;a=this.vH(0);return("number"===typeof a.jb.S?a.jb.S:this.Nq)||0;}},vx:{configurable:!0,enumerable:!0,get:function(){return this.Qa.vx;},set:function(a){this.Qa.vx=a;}},md:{configurable:!0,enumerable:!0,get:function(){return this.Qa.md;},set:function(a){this.Qa.md=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.Qa.profile;},set:function(a){this.Qa.profile=a;}},TP:{configurable:!0,enumerable:!0,get:function(){return this.Qa.jb.TP;}},UP:{configurable:!0,enumerable:!0,get:function(){return this.Qa.jb.UP;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Qa.index;}},Nc:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Nc;}},vd:{configurable:!0,enumerable:!0,get:function(){return this.Qa.vd;}},Rf:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Rf;},set:function(a){this.Qa.Rf=a;}},We:{configurable:!0,enumerable:!0,get:function(){return this.Qa.We;}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Qm;}},Dg:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Dg;}},Bo:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Bo;}},hJ:{configurable:!0,enumerable:!0,get:function(){return this.Qa.hJ;},set:function(a){this.Qa.hJ=a;}},Ht:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Ht;},set:function(a){this.Qa.Ht=a;}},Jw:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Jw;},set:function(a){this.Qa.Jw=a;}},PQ:{configurable:!0,enumerable:!0,get:function(){return this.Qa.PQ;},set:function(a){this.Qa.PQ=a;}},Ca:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Ca;},set:function(a){this.Qa.Ca=a;}},Nq:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Nq;},set:function(a){this.Qa.Nq=a;}},fC:{configurable:!0,enumerable:!0,get:function(){return this.Qa.fC;},set:function(a){this.Qa.fC=a;}},jK:{configurable:!0,enumerable:!0,get:function(){return this.Qa.jK;},set:function(a){this.Qa.jK=a;}},jb:{configurable:!0,enumerable:!0,get:function(){return this.Qa.jb;},set:function(a){this.Qa.jb=a;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.Qa.oa;}},M:{configurable:!0,enumerable:!0,get:function(){return this.Qa.M;}},kc:{configurable:!0,enumerable:!0,get:function(){return this.Qa.kc;},set:function(a){this.Qa.kc=a;}},Sm:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Sm;}},ms:{configurable:!0,enumerable:!0,get:function(){return this.Qa.ms;}},hs:{configurable:!0,enumerable:!0,get:function(){return this.Qa.hs;}},yj:{configurable:!0,enumerable:!0,get:function(){return this.Qa.yj;}},Qe:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Qe;}},ru:{configurable:!0,enumerable:!0,get:function(){return this.Qa.ru;}},Jn:{configurable:!0,enumerable:!0,get:function(){return this.Qa.Jn;}},lj:{configurable:!0,enumerable:!0,get:function(){return this.Qa.lj;}},hj:{configurable:!0,enumerable:!0,get:function(){return this.Qa.hj;}},sS:{configurable:!0,enumerable:!0,get:function(){return this.Qa.sS;}},Aqa:{configurable:!0,enumerable:!0,get:function(){return this.$Oa;}},he:{configurable:!0,enumerable:!0,get:function(){return this.I6.he;}}});d.M$=b;},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);c=a(53);k=a(20);h=a(19);g=a(2);n=a(63);p=a(3);d.TDa=function(a,d){function f(c){var k,f;k=c.error||c;f=h.Bc(k);d.error("uncaught exception",k,f);(k=(k=k&&k.stack)&&b.config.Pya&&b.config.Mmb?0<=k.indexOf(b.config.Pya):void 0)&&(c&&c.stopImmediatePropagation&&c.stopImmediatePropagation(),c=p.Y.get(n.Dj),a.jd(c(g.I.BMa)));}function r(){c.Vd.removeListener(c.s3,f);a.removeEventListener(k.hg,r);a.removeEventListener(k.Fm,r);}try{c.Vd.addListener(c.s3,f);a.addEventListener(k.hg,r);b.config.x8a&&a.addEventListener(k.Fm,r);}catch(D){d.error("exception in exception handler ",D);}};},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(274);c=a(3);k=a(393);h=a(23);d.Akb=function(a){a({P:!0,storage:new b.wca(c.Y.get(k.yca),c.Y.get(h.He))});};},function(f,d){function a(a,c){this.xo=a;this.Bg=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.xo.load(b).then(function(b){c&&c(a.Xxa(b));})["catch"](function(a){c&&c(d.fB(b,a));});};a.prototype.save=function(b,c,d,h){var g;g=this;this.xo.save(b,c,d).then(function(){h&&h(a.Xxa({key:b,value:c}));})["catch"](function(a){h&&h(g.fB(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.xo.remove(a).then(function(){c&&c({P:!0,hD:a});})["catch"](function(d){c&&c(b.fB(a,d));});};a.Xxa=function(a){return{P:!0,data:a.value,hD:a.key};};a.prototype.fB=function(a,c){return{P:!1,hD:a,T:c.T,Ea:c.cause?this.Bg.Bc(c.cause):void 0};};d.wca=a;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(51);k=a(23);h=a(274);g=a(391);d.zkb=function(a){b.Y.get(c.ql).create().then(function(c){a({P:!0,storage:new h.wca(c,b.Y.get(k.He)),br:b.Y.get(g.Iaa)});})["catch"](function(b){a(b);});};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(3);k=a(2);a(19);d.Bkb=function(a){var d;c.Tc("Storage");d={};a({P:!0,storage:{load:function(a,b){d.hasOwnProperty(a)?b({P:!0,data:d[a],hD:a}):b({T:k.G.Hk});},save:function(a,b,c,g){c&&d.hasOwnProperty(a)?g({P:!1}):(d[a]=b,g&&g({P:!0,hD:a}));},remove:function(a,c){delete d[a];c&&c(b.Nb);}}});};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);c=a(16);k=a(28);d.RKa=function(){var n,p,f,u;function a(a){var c;c=n.indexOf(a);0<=c?n.splice(c,1):a==p?p=void 0:b.na(!1,"lock released without being acquired");k.cb(d);}function d(){for(var b=0,c,d;!p&&(c=f[b]);){if(0>=n.length||!c.fra)f.splice(b,1),d=u++,c.fra?p=d:n.push(d),c.iWa({P:!0,hzb:d,releaseLock:function(){a(d);}});b++;}}n=[];f=[];u=1;c.Aa(this,{YSa:function(a,b){f.push({fra:a,iWa:b});d();},releaseLock:a});};},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(5);c=a(6);k=a(2);h=a(11);g=a(3);n=a(7);f.Fe(k.I.Uba,function(a){var A,l,x;function p(){n.NL?n.NL.requestQuota(l,f,v):n.lda.requestQuota(n.PERSISTENT,l,f,v);}function f(b){b>=l?(d.C6=b,a(c.Nb)):x?(A.error("Quota request granted insufficent bytes"),a({T:k.G.ifa})):(x=!0,p());}function v(){A.error("Request quota error");a({T:k.G.hfa});}A=g.Tc("RequestQuota");l=b.config.Z8;0<l?(h.na(n.NL||n.lda),p()):(d.C6=0,a(c.Nb));});},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(177);c=a(11);k=a(3);h=a(2);g=a(6);a(19);n=a(277);p=a(28);d.ykb=function(a){var r,l;function d(){d=g.Rb;a({P:!0,storage:{load:function(a,c){f(a,function(d){b.d3a(r,a,function(a){var b,g;p.cb(d.releaseLock);if(a.P){b=a.text;try{b&&(g=JSON.parse(b));}catch(S){c({T:h.G.uLa});return;}g?c({P:!0,data:g,hD:a.T1}):c({T:h.G.Hk});}else c(a);});});},save:function(a,c,d,g){var h,k;h=a.name||a;k=JSON.stringify(c);f(h,function(c){b.f3a(r,a,k,d,function(a){p.cb(c.releaseLock);a.P?g&&g({P:!0,hD:a.T1}):g&&g(a);});});},remove:function(a,c){f(a.name||a,function(d){b.e3a(r,a,function(a){p.cb(d.releaseLock);c&&c(a);});});}}});}function f(a,b){(l[a]||(l[a]=new n.RKa())).YSa(!0,b);}c.na(b.MP);k.Tc("Storage");l={};b.c3a(function(b){b.P?(r=b.B0a,d()):a(b);});};},function(f){f.K={bT:function(d,a){var b,c,k;b=a.profile;a=a.M;c=d.aib;k=d.bib;return d.bT||Array.isArray(c)&&-1!==c.indexOf(b)||"object"===typeof k&&Array.isArray(k[b])&&-1!==k[b].indexOf(+a);}};},function(f,d,a){var g;function b(){}function c(a,b,c){void 0===c&&(c=!1);h(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");h(1E-8<k(a),"bitrate zero, won't be able to send anything.");this.Ct=a;this.kna=b;this.repeat=c;this.Ci=this.Wj=0;}function k(a){return a.reduce(function(a,b){return a+b;},0);}function h(a,b){if(!a)throw console.error(b),new g(b);}g=a(15).AssertionError;b.prototype=Error();c.prototype.constructor=c;c.prototype.Io=function(){var a;a=new c(this.Ct,this.kna,this.repeat);a.Wj=this.Wj;a.Ci=this.Ci;return a;};c.prototype.r3=function(){return this.Ct[this.Wj%this.Ct.length];};c.prototype.nu=function(){return this.kna[this.Wj%this.Ct.length];};c.prototype.T0a=function(a){h(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Wj&&this.Wj<this.Ct.length))throw new b();h(this.Ci<this.nu(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c;;){c=this.nu()-this.Ci;c=a<c?a:c;a-=c;this.Ci+=c;if(this.Ci<this.nu())break;this.Ci-=this.nu();this.Wj+=1;if(!this.repeat&&this.Wj>=this.Ct.length){if(0<a)throw new b();break;}}};c.prototype.oua=function(a){this.T0a(a);};c.prototype.U0a=function(a){h(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Wj&&this.Wj<this.Ct.length))throw new b();h(this.Ci<this.nu(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c,d=0;;){c=this.nu()-this.Ci;c=a<c*this.r3()?a/this.r3():c;a-=this.r3()*c;d+=c;this.Ci+=c;if(this.Ci<this.nu())return d;this.Ci-=this.nu();this.Wj+=1;if(!this.repeat&&this.Wj>=this.Ct.length){if(0<a)throw new b();return d;}}};f.K={dMa:c,eMa:b};},function(f,d,a){var h;function b(a,b,c){this.$=a;this.lm=b;this.sJ=c;}function c(a,b){this.l5=b;void 0===b&&(this.l5=!0);this.qh=a;this.lNa();}function k(a,b){if(!a)throw console.error(b),new h(b);}h=a(15).AssertionError;b.prototype.constructor=b;b.prototype.mr=function(){return 8*this.$/1E3/this.lm;};c.prototype.constructor=c;c.prototype.Io=function(a,b,d,h,k){void 0===b&&(b=0);void 0===d&&(d=a.yB());void 0===h&&(h=0);void 0===k&&(k=a.qh.length);for(var g=[],p,f=h;f<k;f++){h=[];for(var n=b;n<d;n++)p=a.qh[f][n],h.push(p);g.push(h);}return new c(g,a.l5);};c.prototype.lNa=function(){var a,b;a=this.qh[0].length;for(b in this.qh.slice(1))k(this.qh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.qh[b].length+" and "+a);this.l5&&this.mNa();this.nNa();};c.prototype.yB=function(){return this.qh[0].length;};c.prototype.mNa=function(){for(var a=0;a<this.qh.length-1;a++)for(var b=0;b<this.yB();b++)k(this.qh[a][b].$<=this.qh[a+1][b].$,"Chunk size for epoch "+b+" is not monotonic");};c.prototype.nNa=function(){for(var a=0;a<this.qh.length-1;a++)for(var b=0;b<this.yB();b++)k(1E-8>Math.abs(this.qh[a][b].lm-this.qh[a+1][b].lm),"Chunk duration for epoch "+b+" is not consistent");};c.prototype.l7a=function(){var a;a=[];this.qh[0].forEach(function(b){a.push(b.lm);});return a;};f.K={IBa:b,JBa:c};},function(f,d,a){var h,g,n;function b(a,b,c){this.hm=b;this.Rk=c;this.Zr=this.NH=this.hS=this.qua=this.pua=this.qC=this.ac=this.Meb=this.Rk=this.ag=this.Ra=this.S=this.HK=this.IK=this.V=this.Dqa=this.At=void 0;}function c(a,b,c){this.Z=b;this.$qa=c;this.bka=this.yza=this.CZ=this.IK=this.bp=this.mj=void 0;}function k(a,c,d,g,k,f){var p;p=new b(0,c,a.Rk);a.forEach(function(a){var b,d;b=a.buffer;d=b.V;a.N===h.v.AUDIO?p.At=d.length?d[0].L:void 0:a.N===h.v.VIDEO&&(p.Dqa=d.length?d[0].L:void 0,p.V=d,p.IK=b.ij-b.ze,p.HK=b.$g,p.S=b.ze,p.Ra=b.Ra,p.ag=a.qk,p.Rk=a.Rk,p.Meb=c-a.Rk,p.ac=a.ac.filter(function(a){return n(a);}),p.qC=d.filter(function(a){return p.S<=a.DC;}).length);});this.$f=p;this.Yj=void 0;this.wma=g;this.A_=k;this.t7=this.FS=this.Yta=this.zj=this.vA=this.Zna=this.Aj=this.ac=this.Yj=void 0;this.NTa=f;}h=a(13);d=a(36);g=d.assert;n=d.qx;b.prototype.constructor=b;c.prototype.constructor=c;k.prototype.constructor=k;k.prototype.l3a=function(a,b){var d,g,k,p,f,n,r,l,F,m,S,q,P,Y,R,t,O,G,pa,aa,Q,ha;d=this.$f;g=[];p=a[h.v.VIDEO];f=a[h.v.AUDIO];if(void 0===p||void 0===f)return!1;n=p.buffer;r=f.buffer;l=p.headers;F=d.ac.filter(function(a){return l&&l[a.id]&&l[a.id].V;});if(void 0===n||void 0===r||void 0===l||void 0===F||0===F.length)return!1;k=new c(0,p.ze,b===h.ta.Hs);m=0;S=0;q=0;P=0;R=d.S;a=a[h.v.VIDEO].ze;t=d.V;Y=d.qC;for(var Z=0;Z<Y;Z++){O=t[Z];G=O.offset;pa=O.offset+O.$-1;Q=O.dr;aa=O.Or;ha=aa+Q;O&&aa<=a&&ha>R&&(Q=O.dr,aa=Math.min(Q,Math.min(a,ha)-Math.max(aa,R)+1),P+=aa,m+=aa/Q*(pa-G+1),S+=O.L*aa,q+=O.Hb*aa);}d.pua=m;d.qua=P;d.hS=0<P?S/P:0;d.keb=0<P?q/P:0;d.NH||(d.NH=0,F.some(function(a,b){if(a.L===d.Dqa)return d.NH=b,!0;}));F.forEach(function(a){var b,c;a=l[a.id].V;b=[];d.Zr||(d.Zr=a.$j(d.S,void 0,!0));k.mj||(k.mj=a.$j(k.Z,void 0,!0),k.bp=a.length-1);d.ag!==d.Zr+d.qC&&(d.ag=d.Zr+d.qC);Y=Math.min(k.bp,k.mj+1);for(var h=d.Zr;h<=Y;h++)c=a.get(h),b[h]=c;g.push(b);});b===h.ta.Hs&&(k.IK=n.ij-n.ze,k.CZ=r.ij-r.ze,k.yza=p.yva,k.bka=f.yva);this.Yj=k;this.ac=F;this.Aj=g;return this.Zna=!0;};k.prototype.kr=function(){var a,b,c,d,h,k,f,n,l,y,F,S,q,P;if(this.YB)return this.YB;b=this.zj;a=this.$f;d=this.Yj;h=this.ac;k=this.Yta;F=this.NTa;g(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)d.$qa?(l=!1,f=!0):d.mj-a.Zr+1<=a.qC?f=l=!0:(l=!0,f=!1),n=!0;if(k){y=k.Xo;for(var m=0;m<F.length;m++)c=F[m],(b=k[c])&&b.Bu&&(f=!0);}a={bst:a.Rk,pst:a.hm,s:a.Zr,e:d.mj,prebuf:a.qC,brsi:a.ag,pbdlbytes:a.pua,pbdur:a.qua,pbtwbr:a.hS,pbvmaf:a.keb};n&&(a.nt=n);f&&(a.nd=f);y&&(a.invalid=y);this.t7&&(a.rr=this.t7);this.FS&&(a.ra=this.FS);if(!f&&!y&&this.wma){a.bitrate=h.map(function(a){return a.L;});b=this.zj;c=b.trace;S=[];q=0;c.forEach(function(a){a=Number(a).toFixed(0);S.push(a-q);q=a;});a.tput={ts:b.timestamp,trace:S,bkms:b.Sj};}if(f||n||y)a.feasible=l;else for(a.sols={},m=0;m<F.length;m++){c=F[m];b=k[c];f={};if(b&&b.wp&&(f.f=b&&b.Wh||!1,f.dltwbr=b.J0a,f.dlvmaf=b.Vma,f.dlvdur=b.p1,f.dlvbytes=b.o1,f.dlabytes=b.n1,this.wma)){q=0;P=[];b.wp.filter(function(a){return a;}).map(function(a){return a.fd;}).forEach(function(a){P.push(a-q);q=a;});f.strmsel=P;}a.sols[c]=f;}return this.YB=a;};f.K=k;},function(f,d,a){var k,h,g,n,p,r;function b(a,b,c,d){n(!k.R(d),"Must have at least one selected stream");return new r(d);}function c(a,b,c,d){n(!k.R(d),"Must have at least one selected stream");return new r(d);}k=a(8);d=a(36);h=d.console;g=d.debug;n=d.assert;p=d.qx;r=d.Hm;f.K={STARTING:function(a,b,c){var k,f,n,u;function d(c,d){var k,p,f,r;k=c.id;p=c.L;f=c.ka||0;r=!!f;g&&h.log("Checking feasibility of ["+d+"] "+k+" ("+p+" Kbps)");if(!c.ee)return g&&h.log("  Not available"),!1;if(!c.inRange)return g&&h.log("  Not in range"),!1;if(c.Tg)return g&&h.log("  Failed"),!1;if(p>a.sI)return g&&h.log("  Above maxInitAudioBitrate ("+a.sI+" Kbps)"),!1;if(!(p*a.FR/8<b.buffer.Kt))return g&&h.log("  audio buffer too small to handle this stream"),!1;if(r){g&&h.log("  Have throughput history = "+r+" : available throughput = "+f+" Kbps");if(p<f/n)return g&&h.log(" +FEASIBLE: bitrate less than available throughput"),!0;g&&h.log(" bitrate requires more than available throughput");return!1;}c=a.EI;b.e4&&(c=Math.max(c,a.DI));if(p<=c)return g&&h.log("  Bitrate is less than max of minInitAudioBitrate ("+a.EI+" Kbps) "+(b.e4?" and also minHCInitAudioBitrate ("+a.DI+" Kbps)":"")),g&&h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;g&&h.log("  No throughput history");return!1;}k=new r();n=a.Sub||1;for(u=c.length-1;0<=u;--u){f=c[u];if(d(f,u)){k.fd=u;break;}p(f)&&(k.fd=u);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:c,PAUSED:c};},function(f,d,a){f.K=a(561);},function(f,d,a){f.K=a(562);},function(f,d,a){var h,g;function b(a,b,c,d,g,h){return new k(a,b,c,d,g,h);}function c(a){return a&&0<=a.indexOf(".__metadata__");}function k(a,b,c,d,g,h){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=d;this.creationTime=g;this.lastRefresh=h;return this.Bya();}h=a(8);g=a(98);a(117);new g.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=g.time.now();return this.Bya();};k.prototype.pxa=function(a){this.size=a;};k.prototype.Hla=function(){var a;a=g.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};k.prototype.Bya=function(){this.lastMetadataUpdate=g.time.now();return this;};k.prototype.constructor=k;f.K={create:b,t2:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!h.R(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!h.R(c.size)&&0<=c.size&&a.pxa(c.size),a.Hla(),a;},E0:function(a){return a+".__metadata__";},Rna:function(a){return c(a)?a.slice(0,a.length-13):a;},JB:c};},function(f,d,a){var l,D,x,w,z,y,F,m,S,q,P;function b(){}function c(a,c){var d,g,h,k;d=l.Bb(c)?c:b;this.J=a||{};(function(a,b,c){this.si[a].ce[b]=c;}.bind(this));(function(a,b){return this.si[a].ce?this.si[a].ce[b]:void 0;}.bind(this));this.on=this.addEventListener=q.addEventListener;this.removeEventListener=q.removeEventListener;this.emit=this.Fa=a.Owb?q.Fa:b;g=w.wZa(a);h=this.J.dailyDiskCacheWriteLimit;if(g){this.iq=g;k=r(a.D5||P,w.e5a());this.ut=function(a){return l.R(k)||null===k?!1:!l.R(k[a]);};k?(this.si={},D.Promise.all(Object.keys(k).map(function(b){return new D.Promise(function(c){var d;d=k[b];d.lza=a.lza;new z(b,g,d,function(a){c(a);},h);});})).then(function(a){a.map(function(a){var b;b=a.dt;this.si[b]=a;k[b].R3a=k[b].Kt-a.zq;this.si[b].on(z.pd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Fa("mediacache",a);}.bind(this));this.si[b].on(z.pd.bga,function(a){a=a||{};a.partition=b;a.type="save";this.Fa("mediacache",a);}.bind(this));this.si[b].on(z.pd.ERROR,function(a){a=a||{};a.partition=b;a.type=z.pd.ERROR;this.Fa("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this),function(a){this.GB=S.yaa;d(a,this);}.bind(this)).then(function(a){n(g,D.storage.pz,Object.keys(k));return a;}.bind(this)).then(function(a){a.wub=k;Object.keys(a.si).map(function(b){a.si[b].Toa().map(function(c){a["delete"](b,c);});});a.qn=!0;d(null,a);}.bind(this))):(this.GB=S.oFa,d(this.GB,this));}else this.GB=S.yaa,d(this.GB,this);}function k(a,b,c,d,g){var h;h=g?"mediacache-error":"mediacache";b={partition:c,type:b,resource:d,time:D.time.now()};g&&(b.error=g);try{a.Fa(h,b);}catch(pa){x.warn("caught exception while emitting basic event",pa);}}function h(a){return!l.R(a)&&!l.Ja(a)&&l.fa(a.lifespan);}function g(a){return!y.JB(a)&&!m.b9a(a);}function n(a,c,d){a.query(c,"",function(g){Object.keys(g).filter(function(a){return 0>d.indexOf(a.slice(0,a.indexOf(".")));}).map(function(d){a.remove(c,d,b);});});}function p(a,b,c){var g,h;function d(b){a["delete"](g,function(d){d?c(d):(d=Object.keys(b.resourceIndex),D.Promise.all(d.map(function(b){return new D.Promise(function(c,d){a["delete"](b,function(a){a?d(a):c(b);});});})).then(function(){delete a.ce[h];c();},function(a){c(a);}));});}y.JB(b)?(g=b,h=y.Rna(b)):(g=y.E0(b),h=b);(b=a.ce[h])?d(b):a.read(g,function(a,b){a?c(a):d(b);});}function r(a,b){var c,d,g;c={};d=a.partitions.reduce(function(a,b){return a+b.capacity;},0);g=b/d;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Kt=Math.floor(g*a.capacity);c[b].$Za=a.dailyWriteFactor||1;c[b].fAb=a.owner;c[b].C2a=a.evictionPolicy;});return c;}function u(a,b,c){if(c)return m.G0a(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function v(a,b,c,d,g,h,k,f,p,n,r){return function(u,v){var w;if(u&&0<Object.keys(u).length)v=Object.keys(u).map(function(a){return u[a];}),v.some(function(a){return a.code===S.az.code;})&&!v.some(function(a){return a.code===S.rM.code;})?r(n,u,function(){p.save(b,c,d,g,h,k);}):(n["delete"](f),delete n.ce[c],h(u));else{w=v.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.bR;},0);n.ce[c].pxa(w);h(null,{R3a:v.Sh,ewb:v.QA});}};}l=a(8);D=a(98);x=new D.Console("MEDIACACHE","media|asejs");w=a(569);z=a(568);y=a(287);F=a(117);m=a(563);S=a(182);q=a(32).EventEmitter;P={qAb:[]};c.prototype.py=function(a,c){var d;d=l.Bb(c)?c:b;this.ut("billboard")?this.si.billboard.query(a,function(a){d(a.filter(g));}):d([]);};c.prototype.read=function(a,c,d){var g,h,f;g=l.Bb(d)?d:b;if(this.ut(a)){h=this.si[a];if(!y.JB(c)&&this.J.Uab){f=function(b){h.ES(Object.keys(b),function(b,d){b?g(S.DE.xm("Failed to read "+c,b)):(k(this,"read",a,c),g(null,m.J8a(d)));}.bind(this),b);}.bind(this);(d=h.ce[c])?f(d.resourceIndex):this.cgb(a,c,function(a,b){a?g(S.DE.xm("Failed to read "+c,a)):f(b.resourceIndex);});}else h.read(c,function(b,d){b?g(S.DE.xm("Failed to read "+c,b)):(k(this,"read",a,c),g(null,d));}.bind(this));}else g(S.uv);};c.prototype.ES=function(a,c,d){var g,h;g=l.Bb(d)?d:b;if(this.ut(a)){h={};D.Promise.all(c.map(function(b){return new D.Promise(function(c,d){this.read(a,b,function(a,g){a?(g={},g[b]=a,d(g)):(h[b]=g,c());});}.bind(this));}.bind(this))).then(function(){g(null,h);},function(a){g(a);});}else g(S.uv);};c.prototype.ywa=function(a,c){var d;d=l.Bb(c)?c:b;this.ut("billboard")?"[object Object]"!==Object.prototype.toString.call(a)?d(S.qM.xm("items must be a map of keys to objects")):D.Promise.all(Object.keys(a).map(function(b){return new D.Promise(function(c,d){this.save("billboard",b,a[b].pp,a[b].Wb,function(a,g){a?(x.error("Received an error saving",b,a),d(a)):c(g);},!0);}.bind(this));}.bind(this))).then(function(b){var c,g,h;try{c=Number.MAX_VALUE;g=Number.MAX_VALUE;h=b.reduce(function(a,b){b.Sh&&b.Sh<c&&(c=b.Sh);b.QA&&b.QA<g&&(g=b.QA);c<Number.MAX_VALUE&&(a.freeSize=c);g<Number.MAX_VALUE&&(a.dailyBytesRemaining=g);return a;},{partition:"billboard",type:"saveMultiple",keys:Object.keys(a),time:D.time.now()});this.Fa("mediacache",h);d(null,h);}catch(aa){d(err);}}.bind(this),function(a){this.Fa("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a});d(a);}.bind(this)):(l.Bb(c)?c:b)(S.uv);};c.prototype.save=function(a,c,d,g,k,f){var p,n,r,w,A,z,m,K;p=l.Bb(k)?k:b;if(this.ut(a)){n=this.si[a];r=y.E0(c);n.Toa().map(function(b){b!==c&&this["delete"](a,b);}.bind(this));if(h(g)){w=u(c,d,this.J.Uab);k=n.ce[c]||{};A=k.resourceIndex;A&&Object.keys(A).map(function(a){l.R(w[a])&&n["delete"](a);});A=D.time.now();z={};z.partition=a;z.resourceIndex=Object.keys(w).reduce(function(a,b){a[b]=F.p3(w[b]);return a;},{});z.creationTime=k.creationTime||A;z.lastRefresh=A;z.lifespan=g.lifespan;z.lastMetadataUpdate=A;z.size=k.size;m=function(a,b,c){a.c0a(function(d,g){d&&x.error("Evicting","Failed to delete some orphaned records",d);g.y7?c():(d=a.n5a())?this["delete"](a.getName(),d,function(a){a?p(b):c();}.bind(this)):p(S.az);}.bind(this));}.bind(this);K=function(){var a,b,c;a=this.si;b=0;c=D.time.now();if(!l.R(a))for(var d in a)b+=a[d].D4a(c);return b;}.bind(this);n.replace(r,z,function(b,h){h?(n.ce[c]=y.t2(z),n.ehb(w,v(w,a,c,d,g,p,f,r,this,n,m),f,K)):b.code===S.az.code?m(n,b,function(){this.save(a,c,d,g,p,f);}.bind(this)):p(b);}.bind(this),f,K);}else p(S.oGa);}else p(S.uv);};c.prototype["delete"]=function(a,c,d){var g;g=l.Bb(d)?d:b;this.ut(a)?p(this.si[a],c,function(b){k(this,"delete",a,c,b);g(b);}.bind(this)):g(S.uv);};c.prototype.clear=function(a,c){var d;d=l.Bb(c)?c:b;this.ut(a)?this.si[a].clear(function(a){d(a.filter(g));}):d(S.uv);};c.prototype.cgb=function(a,c,d){var g,h;g=l.Bb(d)?d:b;if(this.ut(a)){d=y.E0(c);h=this.si[a];h.read(d,function(a,b){var d;if(a)g(S.pGa);else{d=y.t2(b)||{};h.jpa(Object.keys(d.hBb),function(a){d.size=a;(a=h.ce[c])&&(d.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=d.lastMetadataUpdate?h.ce[c]=d:a.lastMetadataUpdate&&(a.lastMetadataUpdate>d.lastMetadataUpdate||l.R(d.lastMetadataUpdate))&&(d=a));g(null,d);});}});}else g(S.uv);};c.prototype.Zya=function(a){D.JH(a);};c.prototype.constructor=c;f.K=c;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);a(15);f=a(119);c=a(183);k=a(58);h=a(290);g=a(13);n=a(65);p=a(9).Ua;r=a(572);a=a(571);h=function(a){var m18;function d(b,c,d,g,h,f){var Q18,n,b18,x18,r18;Q18=2;while(Q18!==14){b18="e";b18+="d";b18+="it";x18="c";x18+="a";x18+="ch";x18+="e";r18="1";r18+="SIYb";r18+="ZrNJ";r18+="Cp";r18+="9";switch(Q18){case 2:n=this;r18;Q18=4;break;case 4:n=[x18,b18].filter(function(a,b){var v18;v18=2;while(v18!==1){switch(v18){case 4:return[h,d.Cd][b];break;v18=1;break;case 2:return[h,d.Cd][b];break;}}});n=n.length?"("+n.join(",")+")":"";void 0===d.responseType&&(d.responseType=d.Cd||p.zc&&!p.zc.QS.bq?p.Ui.pl:p.Ui.bq);n=a.call(this,b,c,n,d,g,f)||this;Q18=7;break;case 7:k.qs.call(n,b,d);return n;break;}}}m18=2;while(m18!==4){switch(m18){case 2:b.__extends(d,a);d.create=function(a,b,h,k,f,n,u){var X18,v,w;X18=2;while(X18!==10){switch(X18){case 12:return f;break;case 11:return new d(a,h,k,f,n,u);break;case 1:X18=!b.ml&&k.Cd&&a.N===g.v.VIDEO&&p.zc&&p.zc.QS.bq?5:4;break;case 3:v=Math.ceil(k.$/k.wI);b=k.offset;X18=8;break;case 8:w=k.$;f=new c.xob(a,k,f,u);X18=6;break;case 6:v=Math.ceil(k.$/v);X18=14;break;case 14:X18=0<w?13:12;break;case 5:return new r(a,h,k,f,n,u);break;case 13:k.offset=b,k.$=Math.min(w,v),b+=k.$,w-=k.$,f.push(new d(a,h,k,f,n,u));X18=14;break;case 4:X18=k.wI&&k.$>k.wI?3:11;break;case 2:X18=1;break;}}};return d;break;}}}(h.B$);d.z$=h;n(a,h.prototype);f.yK(k.qs,h,!1);},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=a(32);c=a(8);k=f.RD;h=a(9);g=h.Ua;f=a(87);n=a(119);p=a(118);a=function(a){function d(b,c,d,h,f,n){c=a.call(this,c,d)||this;p.call(c,b,h,f,n);c.YMa=b.url||h.url;c.WMa=h.responseType;c.XMa=h.sT;c.Lf=new k();c.Lf.on(c,g.pd.vda,c.KY);c.Lf.on(c,g.pd.uda,c.DQa);c.Lf.on(c,g.pd.wda,c.IQa);c.Lf.on(c,g.pd.vE,c.JY);c.Lf.on(c,g.pd.Dv,c.mF);c.QE=!1;c.zl=!1;c.Lj=!1;return c;}b.__extends(d,a);d.prototype.cd=function(a,b){p.prototype.cd.call(this,a,b);this.xb||!a.J.LZ&&this.Vb||(this.xb=a.Na.xb,this.active&&(this.xb.Sva(h.time.now(),this.dN()),this.Lj&&(this.xb.Wva(h.time.now()),this.connect&&0<this.Tr.length&&this.xb.Cq(this.Tr[0]))));};d.prototype.ox=function(){return this.responseType===g.Ui.bq?this.readyState>=g.$a.Is:this.readyState===g.$a.DONE;};d.prototype.wA=function(a){return this.ng=a.appendBuffer(this.response,this);};d.prototype.Jqa=function(){return this.ro;};d.prototype.Zx=function(){return g.prototype.open.call(this,this.YMa,{start:this.offset,end:this.offset+this.$-1},this.WMa,{},void 0,void 0,this.XMa);};d.prototype.abort=function(){var a;if(this.ro)return!0;a=this.zl;this.xb&&a&&this.xb.Uva(h.time.ca(),this.Lj,this.dN());this.QE=!0;this.Lj=this.zl=!1;g.prototype.abort.call(this);this.WP(this,a);return!0;};d.prototype.Ke=function(){this.readyState!==g.$a.UNSENT&&this.readyState!==g.$a.ym&&this.readyState!==g.$a.DONE&&(this.U.aa("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());g.prototype.Ke.call(this);};d.prototype.Oha=function(a){this.zl||(this.zl=!0,this.xb&&this.xb.Sva(a,this.dN()));};d.prototype.mF=function(){var a,b,d,g;this.U.aa("AseMediaRequest._onError:",this.toString());a=this.Oe;this.oq=h.time.ca()-this.Oe;b=this.status;d=this.Zl;g=this.zn;this.complete?this.U.aa("Error on a done request "+this.toString()+", failurecode: "+d):this.ro?this.U.aa("Error on an aborted request "+this.toString()+", failurecode: "+d):c.fa(d)?(this.xb&&this.se&&this.se.J.H7&&this.cf&&void 0===b&&this.xb.IZ(this.jk?this.Qc-this.jk:this.Qc,this.im?this.im:this.cf,a),this.XP(this)):this.U.aa("ignoring undefined request error (nativecode: "+g+")");};d.prototype.KY=function(){var a;a=this.Oe||this.cf;this.KB=this.track.KB();this.stream.J.lsa||this.Oha(a);this.kB(this);this.jk=0;this.im=this.Oe;};d.prototype.DQa=function(){var a,b,c;a=this.Oe;b=this.connect;c=this.Tr;this.oq=h.time.ca()-this.Oe;this.stream.J.lsa&&this.Oha(a);this.Lj||(this.Lj=!0,this.xb&&this.xb.Wva());b&&0<c.length&&this.xb&&this.xb.Cq(c[0]);this.jB(this);this.im=a;};d.prototype.IQa=function(){var a,b,c;a=this;b=this.Oe;c=this.Qc-this.jk;this.oq=h.time.ca()-this.Oe;this.xb&&(this.xb.IZ(c,this.im,b),this.Tr&&this.Tr.length&&this.Tr.forEach(function(b){a.xb.Aq(b);}));this.kH(this);this.im=b;this.jk=this.Qc;};d.prototype.JY=function(){var a,b,c;a=this;b=this.Oe;c=this.Qc-this.jk;this.oq=h.time.ca()-this.Oe;this.xb&&(0<c&&this.xb.IZ(c,this.im,b),this.Tr&&this.Tr.length&&this.Tr.forEach(function(b){a.xb.Aq(b);}),this.xb.Uva(b,this.Lj,this.dN()));this.Lj=this.zl=!1;this.iB(this);this.im=b;this.jk=this.Qc;this.Lf&&this.Lf.clear();this.Ke();};d.prototype.dN=function(){var a,b;a=(a=this.stream)&&"function"===typeof a.toString?a.toString():this.url;b=this.JVa;b&&(a+=",range "+b.start+"-"+b.end);return a;};return d;}(g);d.B$=a;f.Uw(a.prototype,{active:f.La({get:function(){return this.zl;}}),v7:f.La({get:function(){return this.Lj;}}),complete:f.La({get:function(){return!this.QE&&this.readyState===g.$a.DONE;}}),ro:f.La({get:function(){return this.QE;}}),w4:f.La({get:function(){return this.oq;}})});n.yK(p,a,!1);},function(f,d,a){var k,h,g,n;function b(a,b,c,d){n.call(this,a,b,c,d);this.Db=[];this.Lj=this.zl=this.eF=this.MY=!1;this.Wv={};}function c(){k(!1);}k=a(15);a(65);h=a(9);g=h.Ua;n=a(118);a(58);a(26);b.prototype=Object.create(n.prototype);Object.defineProperties(b.prototype,{active:{get:function(){return this.zl;},set:c},v7:{get:function(){return this.Lj;},set:c},complete:{get:function(){return this.Kf||(this.Kf=this.Db.every(function(a){return a.complete;}));},set:c},ro:{get:function(){return this.QE;},set:c},$g:{get:function(){return this.Db.reduce(function(a,b){return a+b.$g;},0);},set:c},Qc:{get:function(){return this.Db.reduce(function(a,b){return a+b.Qc;},0);},set:c},Oe:{get:function(){return this.Kg;},set:c},w4:{get:function(){return this.oq;},set:c},url:{get:function(){return this.Db[0]&&this.Db[0].url;},set:c},readyState:{get:function(){return this.Ie||this.Db.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},set:c},status:{get:function(){return this.Wv.CF;},set:c},Zl:{get:function(){return this.Wv.XM;},set:c},O1:{get:function(){return this.Wv.hY;},set:c},zn:{get:function(){return this.Wv.EY;},set:c}});b.prototype.push=function(a){this.eF&&a.cd(this.se,this.df);this.Db.push(a);this.MY&&a.Zx();};b.prototype.cd=function(a,b){n.prototype.cd.call(this,a,b);this.Db.forEach(function(c){c.cd(a,b);});this.eF=!0;};b.prototype.Jqa=function(){return this.Ie===g.$a.ym;};b.prototype.Zx=function(){return this.MY=this.Db.every(function(a){return a.Zx();});};b.prototype.Ke=function(){this.Db.forEach(function(a){a.Ke();});};b.prototype.i9=function(a){this.mg=a;this.Wv={};this.Ie=void 0;return this.Db.every(function(b){return b.readyState!==g.$a.DONE&&b.readyState!==g.$a.ym?b.i9(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Ie=g.$a.ym;this.QE=!0;this.Lj=this.zl=!1;b=this.Db.map(function(a){return a.abort();}).every(function(a){return a;});this.WP(this,a);return b;};b.prototype.getResponseHeader=function(a){var b;this.Db.some(function(c){return b=c.getResponseHeader(a);});return b;};b.prototype.getAllResponseHeaders=function(){var a;this.Db.some(function(b){return a=b.getAllResponseHeaders();});return a;};b.prototype.Yx=function(a){this.zl||(this.zl=!0);this.zOa||(this.zOa=!0,this.jk=0,this.Kg=this.im=a.Oe,this.oq=h.time.ca()-this.Kg,this.kB(this));};b.prototype.Du=function(a){this.Lj||(this.Lj=!0);this.yOa||(this.yOa=!0,this.Kg=a.Oe,this.oq=h.time.ca()-this.Kg,this.jB(this));};b.prototype.XI=function(a){this.Kg=a.Oe;this.kH(this);this.jk=this.Qc;this.im=a.Oe;};b.prototype.$h=function(a){this.Kg=a.Oe;this.oq=h.time.ca()-this.Kg;this.complete?(this.Kf=!0,this.Ie=g.$a.DONE,this.Lj=this.zl=!1,this.iB(this)):this.kH(this);this.jk=this.Qc;this.im=a.Oe;};b.prototype.rC=function(a){this.Kg=a.Oe;this.oq=h.time.ca()-this.Kg;this.Wv=a;this.Ie=g.$a.Bm;this.XP(this);};b.prototype.YR=function(){};b.prototype.Ei=function(){return this.Db[0].Ei()+"-"+this.Db[this.Db.length-1].Ei();};b.prototype.toString=function(){return"Compound["+this.Db.map(function(a){return a.toString();}).join(",")+"]";};f.K=b;},function(f,d,a){var k,h,g,n,p,r,u,v,l,D;function b(a,b,c,d,g,h,k){p.call(this,a,d,k);r.call(this,a,d,g,k);this.J=b;this.TM=c;this.xOa=!!d.hr;this.iOa=!!d.Zw;this.dD=!!d.dD;this.NQa=d.$;this.Uz=(h?"(cache)":"")+this.Wa+" header";this.iA(a.url||d.url,d.offset,d.$);}function c(){k(!1);}k=a(15);d=a(65);h=a(9);g=h.Ua;n=h.MediaSource;p=a(293);r=a(291);u=a(184);v=a(13);l=a(26).Uq;D=a(77).qW;a(77);a(188);a(120);b.prototype=Object.create(r.prototype);d(p.prototype,b.prototype);Object.defineProperties(b.prototype,{track:{get:function(){return this.TM;},set:c},hr:{get:function(){return this.xOa;},set:c},Zw:{get:function(){return this.iOa;},set:c},udb:{get:function(){return this.NQa;},set:c},parseError:{get:function(){return this.NY;},set:c},aJ:{get:function(){return this.QQa;},set:c},u:{get:c,set:c},config:{get:function(){return this.J;},set:c}});b.prototype.chb=function(){if(!this.mZ)return!0;this.mZ=!1;return this.pia();};b.prototype.iA=function(a,b,c){a=new u(this.stream,this.TM,this.Uz+" ("+this.Db.length+")",{offset:b,$:c,url:a,location:this.location,Vc:this.Vc,responseType:g.Ui.pl},this,this.U);this.push(a);this.qc=this.Db.reduce(function(a,b){return a+b.$;},0);};b.prototype.$h=function(a){this.Ij=this.Ij?l(this.Ij,a.response):a.response;a.IS();this.pia()?r.prototype.$h.call(this,this):this.lga?(this.iA(a.url,a.offset+a.$,this.lga),r.prototype.$h.call(this,this)):this.XP(this);};b.prototype.pia=function(){var a,b,c;b=this.J.Gnb;c=this.J.EUa;this.N===v.v.VIDEO&&b?a=b:this.N===v.v.AUDIO&&c&&(a=c);a=new D(this.stream,this.Ij,["sidx"],this.N===v.v.VIDEO&&this.J.$w||this.N===v.v.AUDIO&&this.J.Tl,{truncate:this.js,Sjb:this.stream.track.s1,Dy:a,Wdb:void 0===this.Ha,D9:!n.zc||!n.zc.FO,E9:this.J.E9,Gq:this.J.Gq&&this.J.Tl,oJ:this.J.oJ});b={};a.addEventListener("error",this.NPa.bind(this,b));a.addEventListener("requestdata",this.RPa.bind(this,b));a.addEventListener("fragments",this.OPa.bind(this,b));a.addEventListener("vmafs",this.TPa.bind(this,b));a.addEventListener("sampledescriptions",this.SPa.bind(this,b));a.addEventListener("drmheader",this.MPa.bind(this,b));a.addEventListener("nflxheader",this.QPa.bind(this,b));a.addEventListener("keyid",this.PPa.bind(this,b));a.addEventListener("done",this.LPa.bind(this,b));this.sia={Ha:this.Ha};a.parse(this.sia);b.eS?(this.Ij=a.Bmb(b.KI||b.aJ),this.QQa=b.aJ,this.bY=b.Be,this.FY=b.Sx,void 0===this.Ha&&void 0===b.Ha&&this.U.Zb("No frame duration available for "+this.Wa),void 0===this.Ha&&void 0===b.Ha&&this.U.Zb("No frame duration available for "+this.Wa),this.stream.XR(b.ga,b.Ha||this.Ha,b.V,b.zu,b.Rg,b.zk)):this.lga=b.ETa;return b.eS;};b.prototype.NPa=function(a,b){a.eS=!1;a.parseError=b.errormsg;};b.prototype.RPa=function(a,b){a.eS=!1;a.ETa=b.bytes;};b.prototype.OPa=function(a,b){a.V=b.fragments;a.zu=b.movieDataOffsets;a.Rg=b.additionalSAPs;a.js=b.truncated;a.Fma=b.defaultSampleDuration;a.ga=b.timescale;};b.prototype.TPa=function(a,b){this.J.fJ.enabled&&(a.zk=b.vmafs);};b.prototype.SPa=function(a,b){b.frameDuration&&(a.Ha=b.frameDuration,this.sia.Ha=a.Ha);};b.prototype.MPa=function(a,b){var c;c=a.Be||{};c.source="mp4";c.Ph=b.drmType;c.dk=b.header;a.Be=c;};b.prototype.QPa=function(a,b){a.Sx=b.header;};b.prototype.PPa=function(a,b){var c;c=a.Be||{};c.Nla=b.keyId;c.D9a=(c.D9a||[]).concat(b.offset);c.Yyb=b.flipped;a.Be=c;};b.prototype.LPa=function(a,b){a.eS=!0;a.KI=b.moovEnd;a.aJ=b.parsedEnd;};f.K=b;},function(f,d,a){var k,h,g;function b(a,b,c){g.call(this,a,b);this.Ij=b.ln;this.Zi=b.V;this.vZ=b.zk;this.bY=b.Be;this.FY=b.Sx;this.mZ=!!b.js;this.U=c;}function c(){k(!1);}k=a(15);h=a(65);g=a(185).SK;a(118);a(13);a(26);a(77);b.prototype=Object.create(g.prototype);Object.defineProperties(b.prototype,{Vb:{get:function(){return!0;},set:c},data:{get:function(){return this.Ij;},set:c},ln:{get:function(){return this.Ij;},set:c},V:{get:function(){return this.stream.V;},set:c},zk:{get:function(){return this.vZ;},set:c},Be:{get:function(){return this.bY;},set:c},Sx:{get:function(){return this.FY;},set:c},js:{get:function(){return this.mZ;},set:c},$0a:{get:function(){return!(!this.bY&&!this.FY);},set:function(){k(!1);}}});b.prototype.KTa=function(a){k(this.uc.Wa==a.Wa);!a.Dc&&this.uc.Dc&&a.KO(this.uc);!a.location&&this.uc.location&&(a.location=this.uc.location,a.Ub=this.uc.Ub,a.Cy=this.uc.Cy,a.url=this.uc.url,a.pa=this.uc.pa);this.uc=a;};b.prototype.toJSON=function(){var a;a=g.prototype.toJSON.call(this);h({Vb:!0,V:this.V},a);return a;};f.K=b;},function(f,d,a){var h,g,n,p,r,u,v;function b(a){return void 0===a?!0:a;}function c(a,c,d,g){this.J=d;this.U=g;this.xi=a;this.fSa=c.Se;this.Qz=c.Wa||c.id;this.kN=c.el;this.rNa=c.L;this.uZ=c.Hb;this.fw=c.profile||c.ye;this.URa=c.wj;this.Zi=c.V;this.ee=b(c.ee);this.inRange=b(c.inRange);this.UA=c.UA;this.$k=b(c.$k);this.tT=!!c.tT;this.pa=c.pa;this.kd=this.Tg=this.url=this.Cy=this.Ub=this.qm=this.P4=this.location=this.ka=void 0;a=this.J&&"object"===typeof this.J.oJ&&this.J.oJ[this.profile];"object"===typeof a&&(a=a[this.L])&&(this.qF=new p(a));}function k(){h(!1);}h=a(15);g=a(41);n=a(13);p=a(77).Ge;r=a(187);u=a(58).qs;v=a(120).PLa;c.prototype={};Object.defineProperties(c.prototype,{Dc:{get:function(){return!!this.V;},set:k},Ca:{get:function(){return this.xi.Ca;},set:k},oa:{get:function(){return this.xi.oa;},set:k},M:{get:function(){return this.xi.M;},set:k},N:{get:function(){return this.xi.N;},set:k},so:{get:function(){return this.xi.so;},set:k},Ve:{get:function(){return this.xi.Ve;},set:k},Ha:{get:function(){return this.xi.Ha;},set:k},ga:{get:function(){return this.xi.ga;},set:k},Kx:{get:function(){return this.xi.Kx;},set:k},track:{get:function(){return this.xi;},set:k},Se:{get:function(){return this.fSa;},set:k},Wa:{get:function(){return this.Qz;},set:k},id:{get:function(){return this.Qz;},set:k},el:{get:function(){return this.kN;},set:k},L:{get:function(){return this.rNa;},set:k},Hb:{get:function(){return this.uZ;},set:k},profile:{get:function(){return this.fw;},set:k},ye:{get:function(){return this.fw;},set:k},wj:{get:function(){return this.URa;},set:k},np:{get:function(){return this.qF;},set:k},V:{get:function(){return this.Zi;},set:k},wR:{get:function(){return this.Zi&&this.Zi.wR;},set:k},o2:{get:function(){return this.xi.o2;},set:k},n2:{get:function(){return this.xi.n2;},set:k},OF:{get:function(){return this.xi.OF;},set:k},PF:{get:function(){return this.xi.PF;},set:k},a4:{get:function(){return this.Ha.Pe;},set:k},S:{get:function(){return 0;},set:k}});c.$P=function(a,b,d,g,h,k,f,p){a=r.$P(a,b,d,g,k,p);return c.q2(a,h,k,f,p);};c.q2=function(a,b,d,h,k){var f,p;f=a.Ca[["audio_tracks","video_tracks"][a.N]][a.Ve].streams[b];p=f.content_profile;return new c(a,g(d||{},{id:f.downloadable_id,L:f.bitrate,Hb:f.vmaf,ye:p,wj:f.sidx,Se:b,el:-1==p.indexOf("none")}),h,k);};c.prototype.XR=function(a,b,c,d,g,h){c&&void 0!==c.vm&&(this.track.Dc||void 0!==c.Bd&&c.Bd.length)&&void 0!==c.offset&&void 0!==c.sizes&&c.sizes.length?this.Dc||(this.track.XR(this,a,b,c,g),this.Zi=new v(this.track.ol,c,d,g,h,this.M)):this.U.error("AseStream.onHeaderReceived with missing fragments data:"+(void 0!==c.vm)+","+this.track.Dc+","+this.track.s1+","+(void 0!==c.Bd)+","+!(!c.Bd||!c.Bd.length)+","+(void 0!==c.offset)+","+(void 0!==c.sizes)+","+!(!c.sizes||!c.sizes.length));};c.prototype.KO=function(a){this.Dc||(this.track.FXa(a.track),this.Zi=a.V);};c.prototype.Th=function(a){return new u(this,this.V.get(a));};c.prototype.Roa=function(a){var b,c,d;b=this.Th(a.index);if(a.Rc){c=a.Rc;if(this.N===n.v.VIDEO&&this!==a.stream){if(b.Rg&&b.Rg.some(function(a,b){d=b;return a.Mc===c.Mc;}))c=b.Rg[d];else return this.U.error("AdditionalSAP not found in stream "+this+": "+a+","+JSON.stringify(c)),b;}b.fm(c,a.fu!==a.Z);b.OJ(a.bv);}else a.Cd&&b.fm();return b;};c.prototype.$Q=function(a,b,c){if(!this.Dc||this.track.F3>=this.L)return!0;if(this.track.Zra<=this.L)return!1;if(a=this.Zi.$Q(a,b,c)){if(!this.track.s1||this.el)this.track.F3=this.L;}else this.track.Zra=this.L;return a;};c.prototype.RWa=function(){this.ka=this.pa=this.Ub=this.location=this.url=void 0;};c.prototype.toJSON=function(){return{M:this.M,N:this.N,Wa:this.Wa,L:this.L};};c.prototype.toString=function(){return(0===this.N?"a":"v")+":"+this.Wa+":"+this.L;};f.K=c;},function(f,d,a){var k;function b(a,b){return void 0===a||void 0===b?void 0:a+b;}function c(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(d,"__esModule",{value:!0});k=a(60);f=a(87);a=function(){function a(){}a.prototype.nA=function(a){return void 0===a?void 0:0===a?k.Ge.Eg:new k.Ge(a,this.ga);};a.prototype.ot=function(a){return a&&Math.floor(k.Ge.wya(a,this.ga));};return a;}();d.D$=a;f.Uw(a.prototype,{er:f.La({get:function(){return c(this.Vj,this.qf)||0;}}),qS:f.La({get:function(){return b(this.qf,this.ny);}}),pS:f.La({get:function(){return b(this.Vj,this.ny);}}),ina:f.La({get:function(){return this.nA(this.er);}}),xXa:f.La({get:function(){return this.nA(this.qf);}}),wXa:f.La({get:function(){return this.nA(this.Vj);}}),K6:f.La({get:function(){return this.nA(this.qS);}}),Iua:f.La({get:function(){return this.nA(this.pS);}}),TAb:f.La({get:function(){return this.nA(this.ny);}}),S:f.La({get:function(){return this.ot(this.qS);}}),Z:f.La({get:function(){return this.ot(this.pS);}}),duration:f.La({get:function(){return c(this.Z,this.S)||0;}}),kk:f.La({get:function(){return this.ot(this.ny);}}),Wq:f.La({get:function(){return this.ot(this.qf);}}),Qd:f.La({get:function(){return this.ot(this.qf);}}),pf:f.La({get:function(){return this.ot(this.Vj);}}),Ka:f.La({get:function(){return this.ot(this.qS);}}),dd:f.La({get:function(){return this.ot(this.pS);}}),dr:f.La({get:function(){return this.duration;}}),Or:f.La({get:function(){return this.S;}}),DC:f.La({get:function(){return this.Z;}})});},function(f,d,a){var k,h,g,n;function b(a,b,c){h.call(this,a,b,c);}function c(a,b){h.call(this,a,b,void 0);}a(15);a(26);k=a(143);h=a(186).pW;g=a(575);a(59);n=a(59).Jga;a(59);b.prototype=Object.create(h.prototype);b.prototype.K0=function(a,c,d){return new b(this.stream,{data:this.data,offset:c,length:d},a);};c.prototype=Object.create(b.prototype);c.prototype.IOa=function(a,b){return"string"===typeof b?g[b]:b?g.reset[a]||g.Ixa[a]:g.Ixa[a];};c.prototype.Lva=function(a,b,c,d){return this.Cd(a,b,!1,c,d);};c.prototype.Nva=function(a,b,c,d){return this.Cd(a,b,!0,c,d);};c.prototype.Cd=function(a,b,c,d,g){var f,p,n,r,u,v,l,A,m,q,R,t,Z,O;function h(a){n=p[a];r=n.Pn("traf");if(void 0===r||void 0===r.Kq)return!1;u=r.Pn("tfdt");if(void 0===u)return!1;v=r.Pn("trun");return void 0===v?!1:!0;}f=[];if(!this.parse())return!1;p=this.Tb.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(l=a,a=0;a<p.length;++a){if(!h(a))return!1;if(v.od>l||c&&v.od===l)break;l-=v.od;}else if(a=c?p.length-1:0,!h(a))return!1;c&&a<p.length-1?(f=p[a+1],this.aj(this.R0-f.startOffset,f.startOffset)):!c&&0<a&&this.aj(n.startOffset,0);f=r.Pn("tfhd");if(void 0===f)return!1;u=r.Pn("tfdt");A=v.od;m=r.Pn("saiz");q=r.Pn("saio");R=r.Pn(k.Eda);t=r.Pn("sbgp");if(!(!m&&!q||m&&q))return!1;Z=r.Pn("sdtp");if(this.Tb.mdat&&a<this.Tb.mdat.length)O=this.Tb.mdat[a];else if(a!==p.length-1)return!1;void 0===l&&(l=c?v.od:0);if(v.Cd(r,f,O||this,b,l,r.Kq,c))v.mna&&(!c&&u&&u.Cd(v.Wjb),m&&q&&(m.Cd(v.bD,c),q.Cd(R?0:m.a8,r.Kq,c)),R&&R.Cd(v.bD,c),Z&&Z.Cd(v.bD,A,c),t&&t.Cd(v.bD,c));else if(!c){if(a===p.length-1)return!1;this.aj(p[a+1].startOffset-n.startOffset,n.startOffset);}else if(0===v.bD)return!1;d&&(b=this.IOa(this.profile,g))&&v.fhb(r,f,O,c,d,b);f=this.Us();v.mna&&!O&&(f.HC=r.Kq+v.HC,f.Rr=v.Rr);return f;};f.K={qE:c,k5:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,n("mdat"));return b;}};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(40);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.Fta=this.u.Jc();a=this.u.Jc();this.Gkb=a>>>2;this.Qmb=a>>>1&1;this.zVa=256*this.u.af()+this.u.Jc();this.rI=this.u.ab();this.ska=this.u.ab();c.Mp&&this.u.yb("DecoderConfigDescriptor: objectTypeIndication= 0x"+this.Fta.toString(16)+", streamType="+this.Gkb+", upStream="+this.Qmb+", bufferSizeDB="+this.zVa+", maxBitrate="+this.rI+", avgBitrate="+this.ska);this.Jia();return!0;};d.tag=4;return d;}(a(142)["default"]);d["default"]=f;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(40);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.u.offset+=8;this.zWa=this.u.af();this.Shb=this.u.af();this.u.offset+=4;this.wwa=this.u.af();this.u.offset+=2;c.Mp&&this.u.yb("MP4AudioSampleEntry: channelcount: "+this.zWa+", samplesize: "+this.Shb+", samplerate: "+this.wwa);return b;};return d;}(a(299)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.u.offset+=6;this.u.af();return!0;};return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var la,ea,ta,wa,ia,Na,B,H,Sa,U,W,X,ca,ga,Ha,Za,xb,fb,yb,Va;function b(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function c(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function k(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function h(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function g(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function n(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);this.Dy=a.config.Dy;this.Odb=!a.config.Sjb;this.xS=new ta(0,1);a.config.Gq&&(b=a.config.oJ[a.profile])&&(a=b[a.L])&&(this.xS=new ta(a));}function p(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function r(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function u(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function v(a,b,c,d){ca.call(this,a,b,c,d);}function l(a,b,c,d){ia.call(this,a,b,c,d);}function D(a,b,c,d){ia.call(this,a,b,c,d);}function x(a,b,c,d){X.call(this,a,b,c,d);}function w(a,b,c,d){ia.call(this,a,b,c,d);}function z(a,b,c,d){ia.call(this,a,b,c,d);}function m(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function F(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function K(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function S(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function q(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function P(a,c,d,g){this.Oa=b;this.Oa.call(this,a,c,d,g);}function Y(a,c,d,g){this.Oa=b;this.Oa.call(this,a,c,d,g);}function R(a){function b(b,c,d,g){this.Oa=ia;this.Oa.call(this,b,c,d,g);this.mta=a;}b.prototype=new ia();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Aaa:{get:function(){return this.mta;}}});b.prototype.parse=function(){this.u.yb("renaming '"+this.type+"' to draft type '"+this.mta+"'");this.u.offset=this.startOffset+4;this.u.rja(this.Aaa);this.type=this.Aaa;return!0;};return b;}function t(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function Z(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function O(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function G(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function pa(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function aa(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function Q(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function ha(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function ba(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}function ma(a,b,c,d){this.Oa=ia;this.Oa.call(this,a,b,c,d);}la=a(15);ea=a(143);a(9);ta=a(60).Ge;wa=a(302);a(59);a(59);a(59);ia=a(40)["default"];d=a(587)["default"];Na=a(586)["default"];B=a(585)["default"];H=a(584)["default"];Sa=a(583)["default"];U=a(582)["default"];W=a(581)["default"];X=a(299)["default"];ca=a(298)["default"];ga=a(580)["default"];Ha=a(579)["default"];Za=a(578)["default"];xb=a(142)["default"];fb=a(297)["default"];yb=a(577)["default"];a=a(576)["default"];b.prototype=new ia();b.prototype.constructor=b;b.prototype.parse=function(a){return this.Yq(a,!0);};c.prototype=new ia();c.prototype.constructor=c;c.prototype.parse=function(a){var b;b=this.startOffset+this.length;a=this.Yq(a,!0);this.u.yb("marking orginal end of moov: 0x"+b.toString(16));this.u.KI=b;return a;};k.prototype=new ia();k.prototype.constructor=k;k.prototype.parse=function(){var a;this.re();this.fileSize=this.u.kh();this.ga=this.u.kh();this.duration=this.u.kh(!1,!0);this.Hta=this.u.kh();this.u.kh();this.Ncb=this.u.kh();this.acb=this.u.ab();this.Ita=this.u.kh();this.goa=this.u.ab();this.Xna=this.u.vF();a={moof:{offset:this.Hta},sidx:{offset:this.Ita,size:this.goa}};a[ea.jda]={offset:this.Ncb,size:this.acb};this.u.offset-this.startOffset<=this.length-24&&(this.Mcb=this.u.kh(),this.Sbb=this.u.ab(),this.Lcb=this.u.kh(),this.Qbb=this.u.ab(),a[ea.uW]={offset:this.Mcb,size:this.Sbb},a[ea.sW]={offset:this.Lcb,size:this.Qbb});this.u.Qva(a);return!0;};h.prototype=new ia();h.prototype.constructor=h;h.prototype.parse=function(){var a,d,g;this.re();1<=this.version&&(this.Xna=this.u.vF());a=this.u.ab();this.Tb={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.u.tF();"uuid"===d&&(d=this.u.vF());g=this.u.kh();this.Tb[d]={offset:b,size:g};b+=g;}this.u.Qva(this.Tb);return!0;};g.prototype=new ia();g.prototype.constructor=g;g.prototype.parse=function(){var a;this.re();1===this.version?(this.u.kh(),this.u.kh(),this.ga=this.u.ab(),this.duration=this.u.kh()):(this.u.ab(),this.u.ab(),this.ga=this.u.ab(),this.duration=this.u.ab());a=this.u.af()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.u.lw({ga:this.ga});return!0;};n.prototype=new ia();n.prototype.constructor=n;n.prototype.PQa=function(){this.re();this.u.ab();this.ga=this.u.ab();this.xS=this.xS.wk(this.ga);0===this.version?(this.t1=this.u.ab(),this.c2=this.u.ab()):(this.t1=this.u.kh(),this.c2=this.u.kh());this.rhb=this.u.af();this.z7=this.u.af();};n.prototype.parse=function(a){var b,c,d,g,h,k,f,p;this.PQa();b=this.ga;c=a.Ha&&a.Ha.ga||b;d=c/b;g=this.startOffset+this.length+this.c2;h=this.u.config.truncate&&60<this.z7;k=h?60:this.z7;f=this.u.DN(k,12,!1);if(this.Odb||this.Dy)if(p=1===d?this.u.DN(k,12,!1):wa.from(Uint32Array,{length:k},function(){var a;a=Math.round(this.u.ab()*d);this.u.offset+=8;return a;},this),this.Dy){for(var n=this.Dy*c/1E3,r=0,u=1;u<k;u++)Math.abs(p[r]-n)>Math.abs(p[r]+p[u]-n)?(p[r]+=p[u],f[r]+=f[u]):(++r,r!==u&&(p[r]=p[u],f[r]=f[u]));++r;p=new Uint32Array(p.buffer.slice(0,4*r));f=new Uint32Array(f.buffer.slice(0,4*r));}b=new ta(this.t1,b).add(this.xS);k={ga:c,vm:b.wk(c).Ld,offset:g,sizes:f,Bd:p};this.u.lw({V:k,js:h});a.wj=this;return!0;};p.prototype=new ia();p.prototype.constructor=p;p.prototype.parse=function(){for(var a=[],b=(this.length-8)/2,c=0;c<b;c++)a.push(this.u.af()/100);this.u.lw({zk:a});return!0;};r.prototype=new ia();r.prototype.constructor=r;Object.defineProperties(r.prototype,{sHa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},RIa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});r.prototype.parse=function(a){var b,c;this.re();b=this.u.vF();this.u.yb("parsing pssh box ID = "+b);c=this.u.ab();this.u.yb("pssh size = 0x"+c.toString(16));c=this.u.data.slice(this.u.offset,this.u.offset+c);a={ctxt:a,header:c};if(b==this.RIa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.sHa)a.type="nflxheader";else return this.u.yb("Unrecognized pssh systemID: "+b),!0;this.u.yb("Handling pssh type: "+a.type);this.u.Fa(a.type,a);return!0;};u.prototype=new ia();u.prototype.constructor=u;u.prototype.parse=function(a){var b,c;this.re();this.u.ab();if(a=this.Yq(a,!0)){b={type:"sampledescriptions",Tb:this.Tb};c=Object.keys(this.Tb);c.length&&this.Tb[c[0]].length&&(this.Tb[c[0]][0]instanceof ca?b.frameDuration=new ta(this.Tb[c[0]][0].mH,this.Tb[c[0]][0].wwa):this.Tb[c[0]][0]instanceof x&&(c=this.Tb[c[0]][0].Tb[ea.tW])&&c.length&&(c=c[0].Sc,1E3!==c.IG&&1001!==c.IG||0!==c.WR%1E3?this.u.aa("Unexpected frame rate in NetflixFrameRateBox: "+c.WR+"/"+c.IG):b.frameDuration=new ta(c.IG,c.WR)));this.u.Fa(b.type,b);}return a;};v.prototype=Object.create(ca.prototype);v.prototype.constructor=v;v.prototype.parse=function(a){ca.prototype.parse.call(this,a);if(a=this.Yq(a,!0))this.mH=1536;return a;};l.prototype=Object.create(ia.prototype);l.prototype.parse=function(){this.u.kf(2);this.u.kf(5);this.u.kf(3);this.u.kf(3);this.u.WAb(1);this.u.kf(5);this.u.kf(5);return!0;};D.prototype=Object.create(ia.prototype);D.prototype.parse=function(){this.wcb=this.u.af()&7;for(var a=0;a<this.wcb;a++)this.u.kf(2),this.u.kf(5),this.u.kf(5),this.u.kf(3),this.u.Zfb(1),0<this.u.kf(4)?this.u.Zfb(9):this.u.kf(1);return!0;};x.prototype=Object.create(X.prototype);x.constructor=x;x.prototype.parse=function(a){X.prototype.parse.call(this,a);this.Sc=this.Qr([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{kyb:"int32"},{sCb:"int32"},{offset:32,type:"offset"},{Q3a:"int16"},{iXa:{type:"int8",cUa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return this.Yq(a,!0);};w.prototype=Object.create(ia.prototype);w.constructor=w;w.prototype.parse=function(){var a;this.u.Jc();this.$za=this.u.Jc();this.u.Jc();this.u.Jc();this.u.Jc();this.Gxa=this.WY(this.u.Jc()&31);this.WY(this.u.Jc());this.d7=this.Gxa.length?this.Gxa[0][0]:this.$za;this.Eia=this.u.offset;this.startOffset+this.length<this.u.offset&&(100===this.RAb||110===this.d7||122===this.d7||144===this.d7)&&(this.u.Jc(),this.u.Jc(),this.WY(this.u.Jc()));a=this.startOffset+this.length-this.Eia;0<a&&this.aj(a,this.Eia);return!0;};w.prototype.WY=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.u.af(),b.push(this.u.EN(d));return b;};z.prototype=Object.create(ia.prototype);z.constructor=z;z.prototype.parse=function(){this.re();this.Yhb=this.u.tF();"cenc"==this.Yhb&&(this.u.offset-=4,this.u.rja("piff"));this.u.ab();return!0;};F.prototype=new ia();F.prototype.constructor=F;F.prototype.parse=function(a){var b,c;this.re();this.u.offset+=4;b=this.u.offset;c=this.u.data.slice(b,b+16);c.toString=m;this.u.yb("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.u.Fa(a.type,a);return!0;};K.prototype=new ia();K.prototype.constructor=K;K.prototype.parse=function(){this.re();this.u.ab();this.u.ab();this.DG=this.u.ab();this.Lma=this.u.ab();this.Kma=this.u.ab();this.u.lw({DG:this.DG});return!0;};S.prototype=new ia();S.prototype.constructor=S;S.prototype.parse=function(){this.re();this.Xk=this.u.af();this.Iab=this.u.DN(this.Xk,void 0,!0);this.u.lw({zu:this.Iab});return!0;};q.prototype=new ia();q.prototype.constructor=q;q.prototype.parse=function(a){var b,c,d,g,h,k;g=a.wj;la(g);a=a.Ha;b=g.ga;g=g.z7;la(a);la(b);la(g);this.re();la(2>this.version);this.Xk=this.u.af();this.zC=new Uint16Array(g+1);c=a.Z6a(b);h=c/b;k=a.wk(c).Ld;if(0===this.version)for(this.PC=new Uint16Array(),this.il=new Uint32Array(),a=b=0;a<=g;++a){if(this.zC[a]=b,a<this.Xk&&(d=this.u.Jc(),0!==d))for(c=0;c<d;++c,++b)this.PC[b]=Math.floor((this.u.ab()+1)*h)/k,this.il[b]=this.u.ab();}else if(1===this.version)for(c=this.u.gRa(this.Xk),this.u.offset+=4,this.il=this.u.DN(this.Xk,10,!1),this.u.offset-=8,this.PC=wa.from(Uint16Array,{length:this.Xk},function(){var a;a=Math.floor((this.u.ab()+1)*h)/k;this.u.offset+=6;return a;},this),b=a=0;a<=g;++a){for(;b<c.length&&c[b]<a;)++b;this.zC[a]=b;}this.u.lw({Rg:{zC:this.zC,PC:this.PC,il:this.il}});return!0;};P.prototype=Object.create(b.prototype);P.prototype.constructor=P;P.prototype.parse=function(a){return b.prototype.parse.call(this,a);};Y.prototype=Object.create(b.prototype);Y.prototype.constructor=Y;Y.prototype.parse=function(a){if(!b.prototype.parse.call(this,a))return!1;if(a=this.Pn("tfhd"))this.Kq=a.uka?a.Kq:this.u.dw.startOffset;return!0;};t.prototype=new ia();t.prototype.constructor=t;t.prototype.parse=function(){var a,b,n,r,d,h;a=this.u;b=a.offset;this.re();if(1===this.version){this.u.yb("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.Jc(),g=a.Jc(),h=a.Jc(),k=a.Jc(),f=a.af(),p=[],n=0;n<f;++n)p=a.Jc();n=(d&240)>>>4;r=(d&14)>>>1;d=d&1;h=16===h?1:0;g!=k&&this.u.aa("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+g+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(g){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.u.aa("VP9: Unknown colourPrimaries "+g+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,n<<4|k);a.view.setUint8(c++,r<<4|h<<1|d);f+=2;p.push(0,0);a.view.setUint16(c,f);c+=2;p.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};Z.prototype=new ia();Z.prototype.constructor=Z;Z.Ol="tfhd";Object.defineProperties(Z.prototype,{uka:{get:function(){return this.de&1;}},Rhb:{get:function(){return this.de&2;}},U_a:{get:function(){return this.de&8;}},X_a:{get:function(){return this.de&16;}},V_a:{get:function(){return this.de&32;}}});Z.prototype.parse=function(){this.re();this.u.ab();this.Kq=this.uka?this.u.kh():void 0;this.Rhb&&this.u.ab();this.DG=this.U_a?this.u.ab():void 0;this.Lma=this.X_a?this.u.ab():void 0;this.Kma=this.V_a?this.u.ab():void 0;return!0;};O.prototype=new ia();O.prototype.constructor=O;O.prototype.parse=function(){this.re();this.SF=1===this.version?this.u.kh():this.u.ab();return!0;};O.prototype.Cd=function(a){var b;b=this.startOffset+12;this.SF+=a;1===this.version?this.u.KSa(this.SF,b):this.u.Pk(this.SF,!1,b);};G.prototype=new ia();G.prototype.constructor=G;Object.defineProperties(G.prototype,{tma:{get:function(){return this.de&1;}},e2:{get:function(){return this.de&4;}},VS:{get:function(){return this.de&256;}},WS:{get:function(){return this.de&512;}},vwa:{get:function(){return this.de&1024;}},c8:{get:function(){return this.de&2048;}}});G.prototype.parse=function(){this.re();this.Fka=this.u.offset;this.od=this.u.ab();this.$q=this.tma?this.u.XY():0;this.e2&&this.u.ab();this.GJ=(this.VS?4:0)+(this.WS?4:0)+(this.vwa?4:0)+(this.c8?4:0);this.QP=this.u.offset;la(this.tma,"Expected data offset to be present in Track Run");la(this.length-(this.u.offset-this.startOffset)===this.od*this.GJ,"Expected remaining data in box to be sample information");return!0;};G.prototype.uF=function(a,b,c){var d,g,h;d=this.VS?this.u.ab():a.DG;g=this.WS?this.u.ab():a.Lma;a=this.vwa?this.u.ab():a.Kma;h=0===this.version?this.c8?this.u.ab():0:this.c8?this.u.XY():0;return{Qhb:h,uBb:a,LAb:c+h-(void 0!==b?b:h),Vr:g,HJ:d};};G.prototype.Cd=function(a,b,c,d,g,h,k){var f,p,n,r;f=0;p=0;this.u.offset=this.QP;for(d=0;d<g;++d)r=this.uF(b,n,p),0==d&&(n=r.Qhb),f+=r.Vr,p+=r.HJ;d=g;g=this.u.offset;r=this.uF(b,n,p);this.bD=d;this.Wjb=p;if(k){if(this.HC=this.$q+f,this.Rr=0,d===this.od)return!0;}else if(this.HC=this.$q,this.Rr=f,0===d)return!0;if(0===d||d===this.od)return!1;this.mna=!0;if(k){this.Rr+=r.Vr;for(k=d+1;k<this.od;++k)r=this.uF(b,n,p),this.Rr+=r.Vr;this.u.offset=this.Fka;this.od=d;this.u.Pk(this.od);this.u.rN(h);this.e2&&(this.u.offset+=4);this.aj(this.length-(g-this.startOffset),g);}else b=g-this.QP,this.u.offset=this.Fka,this.od-=d,this.u.Pk(this.od),this.$q+=f,this.u.rN(h),this.u.sja(this.$q),this.e2&&(this.u.offset+=4),this.aj(b,this.u.offset);c.aj(this.Rr,a.Kq+this.HC);return!0;};G.prototype.fhb=function(a,b,c,d,g,h){var f;if(d){d=this.HC;for(var k=this.od-1;0<=k&&this.od-k<=g;--k){this.u.offset=this.QP+k*this.GJ;f=this.uF(b);if(f.HJ!=h.duration){this.u.aa("Could not replace sample of duration "+f.HJ+" with silence of duration "+h.duration);break;}if(this.WS)this.u.offset-=this.GJ-(this.VS?4:0),this.u.Pk(h.Yr.byteLength);else if(h.Yr.byteLength!==f.Vr){this.u.aa("Cannot replace sample with default size with silence of different size");break;}d-=f.Vr;c.dA(f.Vr,h.Yr,a.Kq+d);}}else for(d=this.HC+this.Rr,k=0;k<this.od&&k<g;++k){this.u.offset=this.QP+(k+this.bD)*this.GJ;f=this.uF(b);if(f.HJ!=h.duration){this.u.aa("Could not replace sample of duration "+f.HJ+" with silence of duration "+h.duration);break;}if(this.WS)this.u.offset-=this.GJ-(this.VS?4:0),this.u.Pk(h.Yr.byteLength);else if(h.Yr.byteLength!==f.Vr){this.u.aa("Cannot replace sample with default size with silence of different size");break;}c.dA(f.Vr,h.Yr,a.Kq+d);d+=f.Vr;}};pa.prototype=Object.create(ia.prototype);pa.prototype.constructor=pa;Object.defineProperties(pa.prototype,{Fw:{get:function(){return this.de&1;}}});pa.prototype.parse=function(){this.re();this.Fw&&this.u.tF();this.Fw&&this.u.ab();this.W_a=this.u.Jc();this.od=this.u.ab();this.u.EN(this.od);return!0;};pa.prototype.Cd=function(a,b){if(a&&0===this.W_a){a=b?this.od-a:a;this.u.offset=this.startOffset+13+(this.Fw?8:0);this.od-=a;this.u.Pk(this.od);this.a8=0;if(b)this.u.offset+=this.od;else{for(b=0;b<a;++b)this.a8+=this.u.Jc();this.u.offset-=a;}this.aj(a,this.u.offset);}return!0;};aa.prototype=Object.create(ia.prototype);aa.prototype.constructor=aa;Object.defineProperties(aa.prototype,{Fw:{get:function(){return this.de&1;}}});aa.prototype.parse=function(){this.re();this.Fw&&this.u.tF();this.Fw&&this.u.ab();this.Xk=this.u.ab();la(1===this.Xk,"Expected a single entry in Sample Auxiliary Information Offsets box");this.$q=0===this.version?this.u.XY():this.u.iRa();return!0;};aa.prototype.Cd=function(a,b){this.$q+=a;this.u.offset=this.startOffset+16+(this.Fw?8:0)+(0===this.version?0:4);this.u.rN(b);this.u.sja(this.$q);return!0;};Q.prototype=Object.create(ia.prototype);Q.prototype.constructor=Q;Object.defineProperties(Q.prototype,{jua:{get:function(){return this.de&1;}},nnb:{get:function(){return this.de&2;}}});Q.prototype.parse=function(){this.re();this.jua&&(this.u.ab(),this.G9a=this.u.EN(16));this.od=this.u.ab();return!0;};Q.prototype.Cd=function(a,b){var c,d;c=b?this.od-a:a;this.u.offset=this.startOffset+28+(this.jua?20:0);this.od-=c;this.u.Pk(this.od);a=this.u.offset;if(this.nnb)for(c=b?this.od:c;0<c;--c){this.u.offset+=8;d=this.u.af();this.u.offset+=6*d;}else this.u.offset+=8*(b?this.od:c);b?this.aj(this.length-(this.u.offset-this.startOffset),this.u.offset):this.aj(this.u.offset-a,a);};ha.prototype=Object.create(ia.prototype);ha.prototype.constructor=ha;ha.prototype.parse=function(){this.re();return!0;};ha.prototype.Cd=function(a,b,c){c?this.aj(b-a,this.startOffset+12+a):this.aj(a,this.startOffset+12);return!0;};ba.prototype=Object.create(ia.prototype);ba.prototype.constructor=ba;ba.prototype.parse=function(){this.re();this.u.tF();1===this.version&&this.u.ab();this.Xk=this.u.ab();this.IJ=[];for(var a=0;a<this.Xk;++a)for(var b=this.u.ab(),c=this.u.ab(),d=0;d<b;++d)this.IJ.push(c);return!0;};ba.prototype.Cd=function(a,b){this.IJ=b?this.IJ.slice(0,a):this.IJ.slice(a);a=this.IJ.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.u.offset=this.startOffset+16+(1===this.version?4:0);this.u.Pk(a.length);a.forEach(function(a){this.u.Pk(a.count);this.u.Pk(a.group);}.bind(this));this.Xk>a.length&&this.aj(8*(this.Xk-a.length));this.Xk=a.length;return!0;};ma.prototype=Object.create(ia.prototype);ma.prototype.constructor=ma;ma.prototype.parse=function(){return!0;};Va={Tb:{moov:c,trak:b,mdia:b,mdhd:g,minf:b,pssh:r,encv:x,schi:b,sidx:n,sinf:b,stbl:b,stsd:u,tenc:F,mvex:b,trex:K,moof:P,traf:Y,tfhd:Z,trun:G,sbgp:ba,sdtp:ha,saiz:pa,saio:aa,tfdt:O,mdat:ma,vmaf:p},smb:{vpcC:t,SmDm:R("smdm"),CoLL:R("coll")},mmb:{avcC:w,schm:z},b8:{"ac-3":v,"ec-3":v,dac3:l,dec3:D,avc1:x,avc3:x,avc2:x,avc4:x,hvc1:x,hev1:x},Vt:{base:xb}};[W,Na,B,d,H,Sa,U].forEach(function(a){Va.Tb[a.Ol]=a;});[ga,Ha].forEach(function(a){Va.b8[a.Ol]=a;});[a,fb,yb].forEach(function(a){Va.Vt[a.tag]=a;});Va.Tb[ea.qHa]=k;Va.Tb[ea.rHa]=h;Va.Tb[ea.nIa]=F;Va.Tb[ea.uW]=S;Va.Tb[ea.sW]=q;Va.Tb[ea.Eda]=Q;Va.b8[ea.tW]=Za;Va.Q$=ia;f.K=Va;},function(f){f.K=function(d,a){var b;if(!Array.isArray(d.Ola))return d;b=Object.create(d);d.Ola.forEach(function(c){if(void 0!==c.vbb&&a.duration>=c.vbb&&c.config)for(var d in c.config)b[d]=c.config[d];});return b;};},function(f){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,c){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),c*a.byteLength/a.length);}:function(a,b,c){a.set(b,c);};f.K={from:function(a,b,c,d){a=new a(b.length);for(var h="function"===typeof c,g=0;g<b.length;++g)a[g]=h?c.call(d,b[g],g,b):b[g];return a;},set:d};},function(f){f.K={e7a:function(d,a,b,c,k){var h;h=new Uint8Array(b);c=c||1;for(var g=0;g<b;++g,a+=c)h[g]=d.getUint8(a,k);return h;},d7a:function(d,a,b,c,k){var h;h=new Uint16Array(b);c=c||2;for(var g=0;g<b;++g,a+=c)h[g]=d.getUint16(a,k);return h;},Dpa:function(d,a,b,c,k){var h;h=new Uint32Array(b);c=c||4;for(var g=0;g<b;++g,a+=c)h[g]=d.getUint32(a,k);return h;},Mxb:function(d,a,b,c,k){var h;h=new Int8Array(b);c=c||1;for(var g=0;g<b;++g,a+=c)h[g]=d.getInt8(a,k);return h;},Kxb:function(d,a,b,c,k){var h;h=new Int16Array(b);c=c||2;for(var g=0;g<b;++g,a+=c)h[g]=d.getInt16(a,k);return h;},Lxb:function(d,a,b,c,k){var h;h=new Int32Array(b);c=c||4;for(var g=0;g<b;++g,a+=c)h[g]=d.getInt32(a,k);return h;}};},function(f,d,a){(function(){var a18,n,p,r,u,v,l,D,D3C,v3C,P3C;function b(a,b,c){var d18,d,g,h;d18=2;while(d18!==3){switch(d18){case 9:a.some(function(a){var A18;A18=2;while(A18!==5){switch(A18){case 2:d=a.m;return b<=a.b;break;}}});d18=4;break;case 4:return d;break;case 2:d18=1;break;case 1:d18=c?5:9;break;case 5:a.some(function(a){var N18,c;N18=2;while(N18!==6){switch(N18){case 2:c=a.b;a=a.m;N18=4;break;case 3:return d=h&&c!==g?h+(a-h)/(c-g)*(b-g):a,!0;break;case 4:N18=b<=c?3:9;break;case 9:g=c;d=h=a;return!1;break;}}});d18=4;break;}}}function g(a,b){var I18;I18=2;while(I18!==7){switch(I18){case 1:Array.isArray(a.Ml.curves)?(this.Uga=u(a.Ml.curves[0],0,0,1),this.Tga=u(a.Ml.curves[1],0,0,1)):this.Sga=u(a.Ml.curves,0,0,1);this.qNa=r(a.Ml.threshold||6E3,1,1E5);this.pNa=r(a.Ml.gamma||1,.1,10);this.hha=a.Ml.filter;I18=9;break;case 2:d.call(this,a,b);I18=1;break;case 9:this.VRa=!!a.Ml.simpleScaling;a.Ml.niqrfilter&&a.Ml.niqrcurve&&(this.GY=a.Ml.niqrfilter,this.VPa=u(a.Ml.niqrcurve,1,0,4));I18=7;break;}}}a18=2;while(a18!==24){D3C="1";D3C+="SIYbZrN";D3C+="JCp9";v3C="m";v3C+="edia|asej";v3C+="s";P3C="ASEJS_PRE";P3C+="DI";P3C+="C";P3C+="T";P3C+="OR";switch(a18){case 2:n=a(8);a(13);new(a(9)).Console(P3C,v3C);p=a(31);r=p.fG;u=p.nla;a18=7;break;case 11:h.prototype=Object.create(d.prototype);h.prototype.AOa=function(a,c){var u18,d,g;u18=2;while(u18!==8){switch(u18){case 4:c=c?d.u0:d.t_;n.isArray(c)&&(g=b(c,a.ij-a.ze,d.s_));return g;break;case 2:d=this.J;g=c?d.t0:d.r_;u18=4;break;}}};h.prototype.zia=function(a,b){var S18;S18=2;while(S18!==1){switch(S18){case 2:return c(this.J,a,b);break;case 4:return c(this.J,a,b);break;S18=1;break;}}};h.prototype.Aia=function(a,b){var D18,c;D18=2;while(D18!==3){switch(D18){case 4:return this.ZX(a);break;case 2:c=this.TRa(a,this.J);a=a.ka?a.ka.va*(100-this.AOa(b,c))/100|0:0;D18=4;break;case 14:return this.ZX(a);break;D18=3;break;}}};h.prototype.TRa=function(a,b){var R18,c,d;R18=2;while(R18!==9){switch(R18){case 2:c=!1;d=b.mG;a.rn?c=!0:b.j9&&a.ka&&a.ka.va<d?c=!0:a.Nr&&(c=!0);return c;break;}}};Object.create(h.prototype);g.prototype=Object.create(d.prototype);a18=15;break;case 7:v=p.Kna;l=p.z2a;D=p.Awa;d.prototype.XC=function(a){var L18;L18=2;while(L18!==1){switch(L18){case 2:this.SE=a;L18=1;break;case 4:this.SE=a;L18=4;break;L18=1;break;}}};d.prototype.ZX=function(a){var K18,b,c;K18=2;while(K18!==9){switch(K18){case 2:b=this.J;n.Ja(this.SE)?c=a*(100-b.QT)/100:(c=this.SE,c=a<2*c?a/2:a-c);b.H4&&this.Pha?(b=this.Pha,a=Math.max(a<2*b?a/2:a-b,c)):a=c;K18=3;break;case 3:return a;break;}}};a18=11;break;case 15:g.prototype.zia=function(a,b){var w18;w18=2;while(w18!==1){switch(w18){case 4:return c(this.J,a,b);break;w18=1;break;case 2:return c(this.J,a,b);break;}}};g.prototype.Aia=function(a,b){var j18,c,d,g;j18=2;while(j18!==13){switch(j18){case 9:return this.ZX((1-a.Uua)*c);break;case 2:c=a.ka&&a.ka.va||0;d=Math.pow(Math.max(1-(a[this.hha]&&a[this.hha].va||c)/this.qNa,0),this.pNa);g=b.ij-b.ze;j18=3;break;case 3:j18=a.Uua?9:8;break;case 8:this.Sga?d*=v(this.Sga,g,d):this.VRa?(b=v(this.Uga,g,1),g=v(this.Tga,g,1),d=b*d+g*(1-d)):d=v(D(this.Uga,this.Tga,d),g,1);a=this.GY&&a[this.GY]&&a[this.GY].Au;void 0!==a&&(a=l(this.VPa,a),d=Math.min(d*a,1));F977.q3C(0);return this.ZX(F977.O1C(c,d,1));break;}}};f.K=function(a,b){var t18,Z18,g3C;t18=2;while(t18!==5){g3C="manifo";g3C+="l";g3C+="d";switch(t18){case 1:return new g(a,b);break;case 2:Z18=a.o5;t18=Z18===g3C?1:4;break;case 4:return new h(a,b);break;}}};D3C;a18=24;break;}}function h(a,b){var V18;V18=2;while(V18!==1){switch(V18){case 4:d.call(this,a,b);V18=4;break;V18=1;break;case 2:d.call(this,a,b);V18=1;break;}}}function c(a,b,c){var F18;F18=2;while(F18!==5){switch(F18){case 2:b=b.ka?b.ka.va:0;return a.aVa?(a=v(a.$Ua,c.ij-c.ze,1),b*(1-a)):b*a.QT/100;break;}}}function d(a,b){var C18;C18=2;while(C18!==9){switch(C18){case 2:this.SE=null;C18=1;break;case 1:this.J=a;this.Pha=b;this.Vua=function(a,b){var q18;q18=2;while(q18!==1){switch(q18){case 2:return this.zia(a,b);break;case 4:return this.zia(a,b);break;q18=1;break;}}}.bind(this);this.Wua=function(a,b){var W18;W18=2;while(W18!==1){switch(W18){case 4:return this.Aia(a,b);break;W18=1;break;case 2:return this.Aia(a,b);break;}}}.bind(this);C18=9;break;}}}}());},function(f,d,a){var c;function b(){this.$i=void 0;this.kt=0;}c=a(8);b.prototype.me=function(){return 0!==this.kt&&this.$i?{p25:this.$i.xh,p50:this.$i.vg,p75:this.$i.yh,c:this.kt}:null;};b.prototype.Ch=function(a){if(!(!c.Ja(a)&&c.has(a,"p25")&&c.has(a,"p50")&&c.has(a,"p75")&&c.has(a,"c")&&c.isFinite(a.p25)&&c.isFinite(a.p50)&&c.isFinite(a.p75)&&c.isFinite(a.c)))return this.$i=void 0,this.kt=0,!1;this.$i={xh:a.p25,vg:a.p50,yh:a.p75};this.kt=a.c;};b.prototype.get=function(){return{Bn:this.$i,rp:this.kt};};b.prototype.set=function(a,b){this.$i=a;this.kt=b;};b.prototype.reset=function(){this.$i=void 0;this.kt=0;};b.prototype.toString=function(){return"IQRHist("+this.$i+","+this.kt+")";};f.K=b;},function(f){function d(){}function a(a){this.hja=a;this.Ik=[];this.ke=null;}d.prototype.clear=function(){this.Zc=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.Zc;null!==b;){d=this.Yi(a,b.data);if(0===d)return b.data;b=b.Me(0<d);}return null;};d.prototype.lowerBound=function(a){var g;for(var b=this.Zc,d=this.iterator(),h=this.Yi;null!==b;){g=h(a,b.data);if(0===g)return d.ke=b,d;d.Ik.push(b);b=b.Me(0<g);}for(g=d.Ik.length-1;0<=g;--g)if(b=d.Ik[g],0>h(a,b.data))return d.ke=b,d.Ik.length=g,d;d.Ik.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.Yi;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.Zc;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.Zc;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.Ac=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.ke?this.ke.data:null;};a.prototype.next=function(){var a;if(null===this.ke){a=this.hja.Zc;null!==a&&this.Xha(a);}else if(null===this.ke.right){do if(a=this.ke,this.Ik.length)this.ke=this.Ik.pop();else{this.ke=null;break;}while(this.ke.right===a);}else this.Ik.push(this.ke),this.Xha(this.ke.right);return null!==this.ke?this.ke.data:null;};a.prototype.ly=function(){var a;if(null===this.ke){a=this.hja.Zc;null!==a&&this.Sha(a);}else if(null===this.ke.left){do if(a=this.ke,this.Ik.length)this.ke=this.Ik.pop();else{this.ke=null;break;}while(this.ke.left===a);}else this.Ik.push(this.ke),this.Sha(this.ke.left);return null!==this.ke?this.ke.data:null;};a.prototype.Xha=function(a){for(;null!==a.left;)this.Ik.push(a),a=a.left;this.ke=a;};a.prototype.Sha=function(a){for(;null!==a.right;)this.Ik.push(a),a=a.right;this.ke=a;};f.K=d;},function(f,d,a){var c,k;function b(a){this.J={tI:a.maxc||25,p0:a.c||.5,Xnb:a.w||15E3,Sj:a.b||5E3};c.call(this,this.J.Xnb,this.J.Sj);this.zF();}c=a(100);k=a(190).TDigest;b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.vC(0);c.prototype.shift.call(this);null!==a&&(this.sd.push(a,1),this.st=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.sd.push(a,1);this.st=!0;c.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.ypa();};b.prototype.kr=function(){var a;a=this.ypa();return{min:a.min,p10:a.ZI,p25:a.xh,p50:a.vg,p75:a.yh,p90:a.$I,max:a.max,centroidSize:a.wWa,sampleSize:a.QC,centroids:a.Nf};};b.prototype.ypa=function(){var a;if(0===this.sd.size())return null;a=this.sd.xf([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.st||!this.Ob)this.st=!1,this.Ob={min:a[0],ZI:a[1],xh:a[2],vg:a[3],yh:a[4],$I:a[5],max:a[6],xf:this.sd.xf.bind(this.sd),wWa:this.sd.size(),QC:this.sd.n,Nf:this.K4a(),kr:this.kr.bind(this)};return this.Ob;};b.prototype.K4a=function(){var a;if(0===this.sd.size())return null;if(!this.st&&this.Ob)return this.Ob.centroids;a=this.sd.xf([.25,.75]);if(a[0]===a[1])return null;this.sd.size()>this.J.tI&&this.sd.Tq();a=this.sd.Oy(!1).map(function(a){return{mean:a.ge,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.sd.size();};b.prototype.toString=function(){return"btdtput("+this.qA+","+this.Yb+","+this.Pg+"): "+this.sd.summary();};b.prototype.zF=function(){this.sd=new k(this.J.p0,this.J.tI);};f.K=b;},function(f,d,a){var c,k;function b(a,b,d,f){c.call(this,d,f);this.ko=new k(a);this.DPa=b;}c=a(100);k=a(191);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.vC(0);c.prototype.shift.call(this);null!==a&&this.ko.MZ(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.ko.MZ(a);c.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.V2();return{QC:this.vB(),Bn:a,Au:a.vg?(a.yh-a.xh)/a.vg:void 0};};b.prototype.vB=function(){return this.ko.vB();};b.prototype.V2=function(){return this.ko.vB()<this.DPa?{xh:void 0,vg:void 0,yh:void 0,QC:void 0,xf:void 0}:{xh:this.ko.It(25),vg:this.ko.It(50),yh:this.ko.It(75),QC:this.ko.vB(),xf:this.ko.It.bind(this.ko)};};b.prototype.toString=function(){return"biqr("+this.qA+","+this.Yb+","+this.Pg+")";};f.K=b;},function(f,d,a){var k;function b(a){this.tw=a;this.reset();}function c(a){this.Pg=new b(a);this.Yc=0;this.Eb=null;}k=a(8);b.prototype.CN=function(a,b){this.za+=a;this.Dl+=a;this.qc+=b;this.kg.push({d:a,Do:b});};b.prototype.rF=function(){var a;for(;this.Dl>this.tw;){a=this.kg.shift();this.qc-=a.Do;this.Dl-=a.d;}};b.prototype.reset=function(){this.kg=[];this.za=null;this.Dl=this.qc=0;};b.prototype.setInterval=function(a){this.tw=a;this.rF();};b.prototype.start=function(a){k.Ja(this.za)&&(this.za=a);};b.prototype.add=function(a,b,c){k.Ja(this.za)&&(this.za=b);b>this.za&&this.CN(b-this.za,0);this.CN(c>this.za?c-this.za:0,a);this.rF();};b.prototype.get=function(){return{va:Math.floor(8*this.qc/this.Dl),Cg:0};};c.prototype.reset=function(){this.Pg.reset();this.Yc=0;this.Eb=null;};c.prototype.add=function(a,b,c){!k.Ja(this.Eb)&&c>this.Eb&&(b>this.Eb&&(this.Yc+=b-this.Eb),this.Eb=null);this.Pg.add(a,b-this.Yc,c-this.Yc);};c.prototype.start=function(a){!k.Ja(this.Eb)&&a>this.Eb&&(this.Yc+=a-this.Eb,this.Eb=null);this.Pg.start(a-this.Yc);};c.prototype.stop=function(a){this.Eb=k.Ja(this.Eb)?a:Math.min(a,this.Eb);};c.prototype.get=function(){return this.Pg.get();};c.prototype.setInterval=function(a){this.Pg.setInterval(a);};f.K={spb:b,iDa:c};},function(f,d,a){var h;function b(a,b){this.reset();this.jjb(a,b);}function c(a,b){this.oia=b;this.qja=1.25;this.setInterval(a);this.reset();}function k(a,b){this.Ws=new c(a,b);this.Yc=0;this.Eb=null;}h=a(8);b.prototype.jjb=function(a,b){this.Nv=Math.pow(.5,1/a);this.cF=a;this.Xs=h.fa(b)?b:0;};b.prototype.reset=function(a){a&&a.va&&h.fa(a.va)?a.Cg&&h.fa(a.Cg)?(this.Jh=this.Xs,this.oi=a.va,this.ho=a.Cg+a.va*a.va):(this.Jh=this.Xs,this.oi=a.va,this.ho=a.va*a.va):this.ho=this.oi=this.Jh=0;};b.prototype.add=function(a){var b;if(h.fa(a)){this.Jh++;b=this.Jh>this.Xs?this.Nv:1-1/this.Jh;this.oi=b*this.oi+(1-b)*a;this.ho=b*this.ho+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.Jh)return{va:0,Cg:0};a=this.oi;b=this.ho;if(0===this.Xs)c=1-Math.pow(this.Nv,this.Jh),a=a/c,b=b/c;c=a*a;return{va:Math.floor(a),Cg:Math.floor(b>c?b-c:0)};};b.prototype.me=function(){var a;if(0===this.Jh)return null;a={a:Math.round(this.oi),s:Math.round(this.ho)};this.Jh<this.Xs&&(a.c=this.Jh);this.Xs||(a.n=this.Jh);return a;};b.prototype.Ch=function(a){if(h.Ja(a)||!h.has(a,"a")||!h.has(a,"s")||!h.isFinite(a.a)||!h.isFinite(a.s))return this.ho=this.oi=this.Jh=0,!1;this.oi=a.a;this.ho=a.s;this.Xs?h.has(a,"c")&&h.fa(a.c)?this.Jh=a.c:h.has(a,"n")&&h.fa(a.n)?(this.Jh=a.n,a=1-Math.pow(this.Nv,a.n),this.oi/=a,this.ho/=a):this.Jh=this.Xs:h.has(a,"n")&&h.fa(a.n)?this.Jh=a.n:this.Jh=16*this.cF;return!0;};c.prototype.setInterval=function(a){this.cF=a;this.Nv=-Math.log(.5)/a;};c.prototype.reset=function(a){this.za=this.yc=null;this.dO=this.oia||0;a&&h.isFinite(a.va)?(this.VE=0,this.oi=a.va):this.oi=this.VE=0;};c.prototype.start=function(a){h.Ja(this.yc)&&(this.za=this.yc=a);};c.prototype.add=function(a,b,c){var d,g;h.Ja(this.yc)&&(this.za=this.yc=b);this.yc=Math.min(this.yc,b);this.za<this.yc+this.dO&&c>this.yc+this.dO&&0<this.za-this.yc&&(this.oi=this.VE/(this.za-this.yc));b=Math.max(c-b,1);a=8*a/b;d=this.Nv;g=c>this.za?c:this.za;this.oi=this.oi*(g>this.za?Math.exp(-d*(g-this.za)):1)+a*(1-Math.exp(-d*b))*(c>g?Math.exp(-d*(g-c)):1);this.za=g;this.VE+=a*b;};c.prototype.get=function(a){var b;a=Math.max(a,this.za);b=this.oi*Math.exp(-this.Nv*(a-this.za));0===this.dO?(a=1-Math.exp(-this.Nv*(a-this.yc)),0<a&&(b/=a)):null!==this.za&&this.za<=this.yc+this.dO&&(a=this.VE/Math.max(this.za-this.yc,1),b=b<a*this.qja&&b>a/this.qja?b:a);return{va:Math.floor(b)};};c.prototype.toString=function(){return"ewmav("+this.cF+","+this.oia+")";};k.prototype.setInterval=function(a){this.Ws.setInterval(a);};k.prototype.reset=function(a){this.Ws.reset(a);this.Yc=0;this.Eb=null;};k.prototype.start=function(a){!h.Ja(this.Eb)&&a>this.Eb&&(this.Yc+=a-this.Eb,this.Eb=null);this.Ws.start(a-this.Yc);};k.prototype.add=function(a,b,c){!h.Ja(this.Eb)&&c>this.Eb&&(this.Yc+=b>this.Eb?b-this.Eb:0,this.Eb=null);this.Ws.add(a,b-this.Yc,c-this.Yc);};k.prototype.stop=function(a){this.Eb=Math.max(h.Ja(this.Ws.za)?0:this.Ws.za+this.Yc,h.Ja(this.Eb)?a:Math.min(this.Eb,a));};k.prototype.get=function(a){return this.Ws.get((h.Ja(this.Eb)?a:this.Eb)-this.Yc);};k.prototype.toString=function(){return this.Ws.toString();};f.K={jDa:b,tpb:c,hDa:k};},function(f,d,a){f.K={Zwb:a(310),HBb:a(309),dpb:a(601),cpb:a(308),epb:a(307),mba:a(595)};},function(f,d,a){var g,n,p,r,u,v;function b(a){var b;b=a.jY;this.J=a;this.Jg=n.Xc.HAVE_NOTHING;this.Nz=a.Nz;a=new u(this.Nz);this.DF=a.create("throughput-location-history",b);this.uq=a.create("respconn-location-history",b);this.mq=a.create("respconn-location-history",b);this.UN=a.create("throughput-tdigest-history",b);this.hN=a.create("throughput-iqr-history",b);this.za=null;}function c(a,c,d,g,h){this.lq=new b(h);this.Jl=[];this.CPa=p.time.ca()-Date.now()%864E5;this.jq=null;this.J=h;for(a=0;a<g;++a)this.Jl.push(new b(h));}function k(a,b,c){return g.has(a,b)?a[b]:a[b]=c;}function h(a,c){var d;this.J=a;this.XN=c;this.u2a();this.bF=new b(this.J);this.gF();d=a.V0;d&&(d={gc:n.Xc.TD,ka:{va:parseInt(d,10),Cg:0},Yf:{va:0,Cg:0},nn:{va:0,Cg:0}},this.get=function(){return d;});}g=a(8);n=a(13);d=a(26);p=a(9);r=d.fEa;u=a(311).mba;new p.Console("ASEJS_LOCATION_HISTORY","media|asejs");v={gc:n.Xc.HAVE_NOTHING};b.prototype.ww=function(a,b){this.Jg=b;this.DF.add(a);this.UN.add(a);this.za=p.time.ca();};b.prototype.Uy=function(a,b){this.hN.set(a,b);};b.prototype.Cq=function(a){this.uq.add(a);};b.prototype.Aq=function(a){this.mq.add(a);};b.prototype.me=function(){var a,b,c,d,h,k;a=this.DF.me();b=this.uq.me();c=this.mq.me();d=this.hN.me();h=this.UN.me();if(g.Ja(a)&&g.Ja(b)&&g.Ja(c))return null;k={c:this.Jg,t:p.time.JI(this.za)};g.Ja(a)||(k.tp=a);g.Ja(b)||(k.rt=b);g.Ja(c)||(k.hrt=c);g.Ja(d)||(k.iqr=d);g.Ja(h)||(k.td=h);return k;};b.prototype.Ch=function(a){var b;b=p.time.now();if(!(a&&g.has(a,"c")&&g.has(a,"t")&&g.has(a,"tp")&&g.isFinite(a.c)&&g.isFinite(a.t))||0>a.c||a.c>n.Xc.TD||a.t>b||!this.DF.Ch(a.tp))return this.Jg=n.Xc.HAVE_NOTHING,this.jq=this.za=null,this.DF.Ch(null),this.uq.Ch(null),this.mq.Ch(null),!1;this.Jg=a.c;this.za=p.time.VR(a.t);this.uq.Ch(g.has(a,"rt")?a.rt:null);this.mq.Ch(g.has(a,"hrt")?a.hrt:null);g.has(a,"iqr")&&this.hN.Ch(a.iqr);g.has(a,"td")&&this.UN.Ch(a.td);return!0;};b.prototype.get=function(){var a,b,c,d,h,k;a=this.J;if(g.Ja(this.za))return v;b=(p.time.ca()-this.za)/1E3;b>a.WOa?this.Jg=n.Xc.HAVE_NOTHING:b>a.tOa&&(this.Jg=Math.min(this.Jg,n.Xc.ys));a=this.DF.get();c=this.uq.get();d=this.mq.get();h=this.hN.get();k=this.UN.get();b={Qj:b,gc:this.Jg,ka:a,Yf:c,nn:d,oj:h,tk:k};a&&(b.TBb=r.prototype.Q6.bind(a));c&&(b.jBb=r.prototype.Q6.bind(c));d&&(b.tyb=r.prototype.Q6.bind(d));return b;};b.prototype.time=function(){return this.za;};b.prototype.Ts=function(){this.get();p.time.ca();};c.prototype.hh=function(){return((p.time.ca()-this.CPa)/1E3/3600/(24/this.Jl.length)|0)%this.Jl.length;};c.prototype.me=function(){var a;a={g:this.lq.me(),h:this.Jl.map(function(a){return a.me();})};g.Ja(this.jq)||(a.f=p.time.JI(this.jq));return a;};c.prototype.Ch=function(a){var b,c;if(!this.lq.Ch(a.g))return!1;b=this.Jl.length;c=!1;this.Jl.forEach(function(d,g){c=!d.Ch(a.h[g*a.h.length/b|0])||c;});this.jq=g.has(a,"f")?p.time.VR(a.f):null;return c;};c.prototype.ww=function(a,b){this.lq.ww(a,b);this.Jl[this.hh()].ww(a,b);this.jq=null;};c.prototype.Uy=function(a,b){this.lq.Uy(a,b);this.Jl[this.hh()].Uy(a,b);};c.prototype.Cq=function(a){this.lq.Cq(a);this.Jl[this.hh()].Cq(a);};c.prototype.Aq=function(a){this.lq.Aq(a);this.Jl[this.hh()].Aq(a);};c.prototype.fail=function(a){this.jq=a;};c.prototype.get=function(){var a,b;if(!g.Ja(this.jq)){if((p.time.ca()-this.jq)/1E3<this.J.sOa)return{gc:n.Xc.HAVE_NOTHING,ex:!0};this.jq=null;}a=this.Jl[this.hh()].get();b=this.lq.get();a=a.gc>=b.gc?a:b;a.ex=!1;return a;};c.prototype.time=function(){return this.lq.time();};c.prototype.Ts=function(a){this.lq.Ts(a+": global");this.Jl.forEach(function(b,c,d){g.Ja(b.time())||(c=24*c/d.length,b.Ts(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};h.prototype.uha=function(a,b){var d;d=this.J;a=k(this.Pz,a,{});return k(a,b,new c(0,0,0,d.uia||4,d));};h.prototype.gF=function(){var a,b;a=p.storage.get("lh");b=p.storage.get("gh");a&&this.AF(a);b&&this.KRa(b);};h.prototype.nY=function(){var a;a={};g.Ac(this.Pz,function(b,c){g.Ac(b,function(b,d){k(a,c,{})[d]=b.me();},this);},this);return a;};h.prototype.KRa=function(a){this.bF.Ch(a);};h.prototype.AF=function(a){var b,d;b=null;d=this.J;g.Ac(a,function(a,h){g.Ac(a,function(a,f){var p;p=new c(0,0,0,d.uia||4,d);p.Ch(a)?(k(this.Pz,h,{})[f]=p,b=!0):g.Ja(b)&&(b=!1);},this);},this);return g.Ja(b)?!0:b;};h.prototype.save=function(){var a;a=this.nY();p.storage.set("lh",a);p.storage.set("gh",this.bF.me());this.XN&&this.XN.D8(this.bF.me());};h.prototype.u2a=function(){this.Pz={};this.Lz=this.Qga="";this.jg=null;};h.prototype.mT=function(a){this.Qga=a;this.jg=null;};h.prototype.kT=function(a){this.Lz=a;this.jg=null;};h.prototype.eN=function(){g.Ja(this.jg)&&(this.jg=this.uha(this.Qga,this.Lz));return this.jg;};h.prototype.ww=function(a,b){this.eN().ww(a,b);this.bF.ww(a,b);};h.prototype.Uy=function(a,b){a&&a.xh&&a.vg&&a.yh&&(this.eN().Uy(a,b),this.bF.Uy(a,b));};h.prototype.Cq=function(a){this.eN().Cq(a);};h.prototype.Aq=function(a){this.eN().Aq(a);};h.prototype.fail=function(a,b){this.uha(a,this.Lz).fail(b);};h.prototype.get=function(a,b){var c,d,h,k;a=(a=this.Pz[a])?a[this.Lz]:null;c=null;if(a&&(c=a.get(),c.gc>n.Xc.HAVE_NOTHING))return c;if(!1===b)return v;d=c=null;h=!1;k=null;g.Ac(this.Pz,function(a){g.Ac(a,function(a,b){var g;if(!h||b==this.Lz){g=a.get();g&&(!d||d<=g.gc)&&(!k||d<g.gc||k<a.time())&&(d=g.gc,h=b==this.Lz,k=a.time(),c=g);}},this);},this);return c?c:v;};h.prototype.Ts=function(){g.Ac(this.Pz,function(a,b){g.Ac(a,function(a,c){a.Ts(b+":"+c);});});};f.K=h;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);d.VU=function(a,d){this.R0a=a;this.size=d.Sqa()?b.Eg:d;};},function(f,d,a){var z,y,F,K,q,da,P,Y;function b(a,b){var d,g,h;d=a[0];g={url:d.url,bitrate:d.L,cdnid:Y.ne(d.zb)?d.zb.id:d.zb,dltype:d.K0a,id:d.ad};h={};a.forEach(function(a){var b;b=m(a)?"fail":"success";h[b]||(h[b]=[]);h[b].push(a);});K.xc(h,function(a,d){"fail"===a?g.failures=v(d,b):"success"===a&&(g.downloads=c(d,b));});return g;}function c(a,b){var c,d;c={};a.forEach(function(a){var b;b=a.SWa;c[b]||(c[b]=[]);c[b].push(a);});d=[];K.xc(c,function(a,c){var g;g=[];c.forEach(function(c){g.push(c);r(c)&&(d.push(k(g,b,a)),g=[]);});0<g.length&&d.push(k(g,b,a));});return d;}function k(a,b,c){var l;for(var d=a.sort(function(a,b){return a.Vf.Bf<b.Vf.Bf?-1:a.Vf.Bf>b.Vf.Bf?1:0;}),k=d[0].Vf,f=k.requestTime,r=k.Bf,k=k.mk,v=1;v<a.length;v++){l=a[v].Vf;l.requestTime<f&&(f=l.requestTime);l.Bf<r&&(r=l.Bf);l.mk>k&&(k=l.mk);}v=g(d);l=d[d.length-1];b={time:f-b,tcpid:c?parseInt(c):-1,tresp:r-f,first:v,ranges:n(d,v),dur:k-r,trace:p(a),status:u(l)};y.config.lP.length&&(b.servertcp=h(a));return b;}function h(a){var b;b=y.config.lP;return a.reduce(function(a,c){var d,g;d=[];if(c.dya){g={};c.dya.split(";").forEach(function(a){a=a.split("=");2==a.length&&(g[a[0]]=a[1]);});b.forEach(function(a){d.push(g[a]);});}a.push(d);return a;},[]);}function g(a){var b;b=0;a.forEach(function(a){a.Pr&&(b=P.Ti(b,a.Pr[0]));});return b;}function n(a,b){var c;c=[];a.forEach(function(a){a.Pr?c.push([a.Pr[0]-b,a.Pr[1]-b]):c.push([0,-1]);});return c;}function p(a){var b,c;b=[];a.forEach(function(a){var d;a=a.Vf;if(c){d=a.requestTime-c.mk;0<d&&b.push([d,-2]);d=P.Ek(c.mk,a.requestTime);d=a.Bf-d;0<d&&b.push([d,-3]);}b.push([a.mk-a.Bf,a.Vq||0]);c=a;});return b;}function r(a){if(a.T===q.G.zs||a.T===q.G.tv)return!0;}function u(a){if(a.P)return"complete";if(a.T===q.G.zs)return"abort";if(a.T===q.G.tv)return"stall";da.na(!1,"download status should never be: other");return"other";}function v(a,b){var c;c=[];a.forEach(function(a){var d;d=a.Vf;a={time:d.Bf-b,tresp:d.Bf-d.requestTime,dur:d.mk-d.Bf,range:a.Pr,reason:l(a),httpcode:a.rh,nwerr:z.FHa(a.T)};c.push(a);});return c;}function l(a){return a.rh||a.T===q.G.YD?"http":a.T===q.G.ZD?"timeout":"network";}function m(a){return a.P||void 0===a.P||a.T===q.G.zs||a.T===q.G.tv?!1:!0;}function x(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";}function w(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],K.ld(a);}Object.defineProperty(d,"__esModule",{value:!0});z=a(121);y=a(5);F=a(72);K=a(19);q=a(2);da=a(11);P=a(7);Y=a(14);d.rXa=function(a){var c,d;c={};a.forEach(function(a){var b;b=a.url;c[b]||(c[b]=[]);c[b].push(a);});d=[];K.xc(c,function(a,c){d.push(b(c,0));});return{urls:d};};d.Vvb=b;d.Nvb=c;d.Lvb=k;d.Svb=h;d.Pvb=g;d.Qvb=n;d.Uvb=p;d.Wvb=r;d.Tvb=u;d.Ovb=v;d.Rvb=l;d.Xvb=m;d.sXa=function(a){var b,c,d,g,h,k;b=a.request;c=b.stream;d=b.track;g=b.url;h=x(d,g);k=void 0;switch(h){case F.Hf.audio:case F.Hf.video:k=b.stream.ad;break;case F.Hf.UT:case F.Hf.H9:k=d.ad;}a={L:c&&c.L,K0a:h,ad:k,Vf:a.Vf,zb:b.zb,url:g,Ab:a.Ab,rh:a.rh,T:a.T,P:a.P,dya:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),SWa:w(a)};void 0!==b.offset&&void 0!=b.length&&(a.Pr=[b.offset,b.offset+b.length-1]);return a;};d.Mvb=x;d.cxb=w;},function(f,d,a){var c;function b(a){this.VZ=a.VZ;this.bc=a.bc;this.Pa=a.Pa;this.HR=a.HR;this.l4=!1;this.O_=[];this.log=a.log;a.nXa&&this.exa(a.nXa);this.pra()?this.LP():this.Dwa();}Object.defineProperty(d,"__esModule",{value:!0});c=a(29);b.prototype.pH=function(a){var b;a=a||function(){};this.pra()?(b={success:!1,name:"",isCongested:!1},this.l4?this.O_.push(a):a(b)):(b={success:!0,name:this.sx.cka,isCongested:this.sx.Oqa},a(b));return b;};b.prototype.LP=function(){var a;a=this;this.l4=!0;this.bc.download(this.SO(),function(b){var c;if(b.P)try{c=a.Vdb(b.content);a.exa(c);a.Dwa();a.Y7({success:!0,name:a.sx.cka,isCongested:a.sx.Oqa});}catch(n){a.log.error("Response Processing Failed",n);a.Y7({success:!1,name:"",isCongested:!1});setTimeout(a.LP.bind(a),d.cL.jwa);}else a.log.error("HTTP Request Failed"),a.Y7({success:!1,name:"",isCongested:!1}),setTimeout(a.LP.bind(a),d.cL.jwa);a.l4=!1;});};b.prototype.Y7=function(a){this.O_.forEach(function(b){b(a);});this.O_=[];};b.prototype.SO=function(){return{url:this.VZ,responseType:c.BB,withCredentials:!0,TA:"congestion-service"};};b.prototype.Vdb=function(a){a=new Uint8Array(a);a=JSON.parse(String.fromCharCode.apply(null,a));return{P:a.success,Rub:a.asnName,cka:a.asnDisplayName,Oqa:a.isCongested,$T:a.ttlEpoch};};b.prototype.pra=function(){return this.sx&&this.Pa.kQ()<this.sx.$T?!1:!0;};b.prototype.exa=function(a){var b;b=this.Pa.kQ();a.P&&(a.$T-b<1E3*this.HR&&(a.$T=b+1E3*this.HR),this.sx=a);};b.prototype.Dwa=function(){var a;a=this.sx.$T-this.Pa.kQ()-6E4;0>a&&(a=0);setTimeout(this.LP.bind(this),a);};b.jwa=6E4;d.cL=d.cL||b;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(17);c=a(3);k=a(366);h=a(21);g=a(16);d.AHa=function(a){var w,z;function d(a,b,c){return new Promise(function(d,g){w.send(a,b,!1,void 0).then(function(a){c?d(c(a)):d({P:!0});})["catch"](function(c){var d,h;try{d=JSON.stringify(c.Wl);}catch(fa){}h={method:a.method,success:c.P};z.Vk(d)&&(h.errorData=d);z.Vk(c.T)&&(h.errorSubCode=c.T);z.Vk(c.Ab)&&(h.errorExternalCode=c.Ab);z.Vk(c.Ea)&&(h.errorDetails=c.Ea);z.Vk(c.Sf)&&(h.errorDisplayMessage=c.Sf);b.log.error("Processing EDGE response failed",h);c.__logs&&b.log.error(c.__logs);g(c);});});}function f(a){return d({method:"ping"},a);}function n(a){return d({method:"bind",isExclusive:!0},a,function(a){return{bwb:a.customerGUID,P:!0};});}function v(a,b){return d({method:"pair",targetuuid:a.rlb,cticket:a.XZa,nonce:a.bcb,controlleruuid:a.AXa,pairdatahmac:a.iAb},b,function(b){return{P:!0,cyb:{nonce:b.nonce,controlleruuid:a.AXa,controlleruserid:b.controllerUserId,controllersharedsecret:b.controllerSharedSecret,targetuuid:a.rlb,targetuserid:b.targetUserId,targetsharedsecret:b.targetSharedSecret},dyb:b.grantDataHmac};});}function l(a,b){n(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function m(b,c,d){v(b,c).then(function(a){d(a);})["catch"](function(b){var c,h;h="";if(b.Wl)try{c=JSON.parse(b.Wl);c.error_message?h=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(h=c.implementingClass);}catch(Y){a.error("Failed to parse Pairing errorData",{Wl:c});}g.Aa(b,x(h));d(b);});}function x(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{CP:5,EP:21,GP:void 0,Sf:void 0,DP:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{CP:2,EP:20,GP:void 0,Sf:void 0,DP:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{CP:2,EP:10,GP:void 0,Sf:void 0,DP:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{CP:2,EP:13,GP:void 0,Sf:void 0,DP:void 0};default:return{CP:4,EP:30,GP:void 0,Sf:void 0,DP:void 0};}}w=c.Y.get(k.fda);z=c.Y.get(h.ve);g.Aa(this,{yx:function(a){return d({method:"login"},a,function(a){return{P:a.success,yt:a.accountGuid,Xg:a.profileGuid,Gi:a.isNonMember};});},x_:n,Zma:f,ping:function(a,b){f(a).then(function(a){b(a);})["catch"](function(a){b(a);});},Dwb:function(a,b){a=Object.assign({},a);a.profile=void 0;l(a,b);},Qx:l,cBb:function(a,b,c,d){l(Object.assign({Qx:b,dT:c},a),d);},bBb:function(a,b,c,d){l(Object.assign({bx:b,password:c},a),d);},rzb:m,szb:function(a,b,d){var k;function g(c){m(a,b,function(a){a.P?(a.Qx=c.Qx,a.dT=c.dT,a.Rbb=c.Rbb,a.fib=c.fib,d(a)):d(c);});}function h(a){n(k).then(function(a){a.P?g(a):d(a);})["catch"](function(b){a?h(!1):d(b);});}k=Object.assign({Esa:a.XZa,Lab:a.wAb,Kab:a.bcb,Jab:a.Yvb,Mab:c.Tm(a.dBb)},b);h(!0);},JBb:function(a,b,c,d){z.sA(c)&&!g.fb(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){l(Object.assign({Qab:"GOOGLE_JWT",Aya:b,Xg:c},a),d);});},Zxb:function(){return b.GA()+0;},$vb:function(a){return a+0;},Vxb:function(a,b){return d({method:"secret",dates:a},b,function(a){return{P:!0,GAb:a.prefetchKeys};});}});};},function(f,d,a){var c,k,h,g,n,p,r,u,v,l,m,x,w,z,y,F,K,q;function b(){var a;a=q.M$.apply(this,[].concat(kb(arguments)))||this;a.gUa=void 0;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);k=a(122);h=a(194);g=a(121);n=a(140);p=a(176);r=a(272);u=a(5);v=a(20);l=a(17);m=a(3);a(78);x=a(2);w=a(19);z=a(11);y=a(154);F=a(4);K=a(14);q=a(271);ja(b,q.M$);b.prototype.load=function(a){var b;b=this;this.load=z.F$;this.Oua=a;this.state.value==v.yz&&(this.log.info("Playback loading",this),this.ncb(),this.Yd("asl_load_start"),K.fb(c.iR)?K.fb(c.K4)?this.Yd("asl_ended"):this.Yd("asl_in_progress"):this.Yd("asl_not_started"),c.jI(function(a){b.Yd("asl_load_complete");a.P?b.tZa():b.In(a.errorCode||x.I.Hba,a);}));};b.prototype.Teb=function(){var a;try{if(this.state.value==v.Gk){this.fC=this.duration=this.Ca.duration;a={width:1,height:1};this.We.value.Lb.forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.ED=a;this.Nq=m.Y.get(y.WK).QZ({yD:F.Pb(this.Nq),M:this.M,jJ:F.Pb(this.duration),jb:this.jb}).ma(F.Ia);this.UZa();}}catch(P){this.In(x.I.cFa,{T:x.G.ue,Ea:w.Bc(P)});}};b.prototype.tZa=function(){try{this.profile=k.Qg.profile;this.nC=h.GHa(this);this.mC=new g.CHa(this);u.config.pWa&&new r.TDa(this,this.log);u.config.cG&&this.cG(this);this.vnb();}catch(da){this.In(x.I.bFa,{T:x.G.ue,Ea:w.Bc(da)});}};b.prototype.vnb=function(){this.th?this.jd(this.th):K.Xqa(this.M)?this.FWa():this.In(x.I.QEa);};b.prototype.FWa=function(){var a;a=n.gD.bxa;a?a.P?this.h0():this.In(x.I.eca,a):(z.na(!u.config.AP),this.EZ());};b.prototype.h0=function(){var a;a=this;!this.background&&u.config.h0?v.oea(function(){a.EZ();},this):this.EZ();};b.prototype.EZ=function(){var a;a=this;this.state.value==v.Gk&&(u.config.E1&&!this.NB()?n.gD.uA(v.TJa,function(b){b.P?(a.nR=b.nR,u.config.iT?a.QF():a.w8()):a.In(x.I.dca);}):u.config.iT?this.QF():this.w8());};b.prototype.w8=function(){var a;a=this;this.state.value==v.Gk&&(this.Yd("ic"),this.Beb.xib(function(b){b.error&&a.log.error("Error sending persisted playdata",x.Am(b));try{a.QF();}catch(Y){a.log.error("playback.authorize threw an exception",Y);a.In(x.I.Wza,{T:x.G.ue,Ea:w.Bc(Y)});}}));};b.prototype.QF=function(){var a,b;a=this;if(this.state.value==v.Gk){this.log.info("Authorizing",this);b=l.bb();this.Yd("ats");this.nC.QF(function(c){var d;if(a.state.value==v.Gk){a.Yd("at");d=a.Ca;a.DB({pr_ats:d&&K.fb(d.wy)?d.wy:b,pr_at:d&&K.fb(d.IC)?d.IC:l.bb()});c.P?0<a.md.hj.length&&a.md.Cma&&a.md.Ima?a.zfb():a.In(x.I.iGa):a.In(x.I.MANIFEST,c);}});}};b.prototype.zfb=function(){var a;a=this;this.Oua?(this.log.info("Processing post-authorize",this),this.Oua(this,function(b){b.P?a.Tya():a.In(x.I.gFa,b);})):this.Tya();};b.prototype.cG=function(a){var c,d;function b(){var b,d;b=p.Mq.F2()+"";d=a.v_[b];d||(d=a.v_[b]=[]);d.push(l.bb());c.log.trace("charging change event",{level:p.Mq.Zoa(),charging:p.Mq.F2()});}c=this;d=p.Mq.cBa;p.Mq.addEventListener(d,b);a.addEventListener(v.hg,function(){p.Mq.removeEventListener(d,b);});};d.mKa=b;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(20);c=a(3);k=a(110);h=a(317);d.Fua={};d.KZa=function(a,f,p,r){var n,l;function g(h){h.newValue===b.xz&&(c.log.trace("removing movieId from playback map ",a),l.state.removeListener(g),delete d.Fua[a]);}n=c.Y.get(k.kz);l=new h.mKa(a,f,p,r,n);d.Fua[a]=l;c.log.trace("adding movieId to playback map",a);l.state.addListener(g);return l;};},function(f,d,a){var c,k,h,g,n,p,r,u,v,l;function b(a,b,d,f,A,F){var w;w=this;this.Ir=A;this.iy=F;this.xd=new h.Si();this.addEventListener=function(a,b,c){return w.xd.addListener(a,b,c);};this.removeEventListener=function(a,b){return w.xd.removeListener(a,b);};this.getReady=function(){return w.pk.p6a();};this.getXid=function(){return w.Za().q3();};this.getMovieId=function(){return w.Za().U5a();};this.getElement=function(){return w.Za().hx();};this.getPlayback=function(){return w.Za().W2();};this.isPlaying=function(){return w.Za().aI();};this.isPaused=function(){return w.Za().e9a();};this.isMuted=function(){return w.Za().d9a();};this.isReady=function(){return w.Za().isReady();};this.isBackground=function(){return w.Za().R8a();};this.setBackground=function(a){return w.Za().cxa(a);};this.startInactivityMonitor=function(){return w.Za().VJ();};this.setTransitionTime=function(a){return w.Za().oT(a);};this.getDiagnostics=function(){return w.Za().d5a();};this.getTextTrackList=function(){return w.Za().Apa();};this.getTextTrack=function(){return w.Za().zpa();};this.setTextTrack=function(a){return w.Za().qxa(a);};this.getVolume=function(){return w.Za().k7a();};this.isEnded=function(){return w.Za().Y8a();};this.getBusy=function(){return w.Za().bk();};this.getError=function(){return w.Za().getError();};this.getCurrentTime=function(){return w.Za().Po();};this.getBufferedTime=function(){return w.Za().C2();};this.getSegmentTime=function(){return w.Za().pQ();};this.getDuration=function(){return w.Za().k5a();};this.getVideoSize=function(){return w.Za().j7a();};this.getAudioTrackList=function(){return w.Za().p4a();};this.getAudioTrack=function(){return w.Za().o4a();};this.getTimedTextTrackList=function(){return w.Za().Apa();};this.getTimedTextTrack=function(){return w.Za().zpa();};this.getAdditionalLogInfo=function(){return w.Za().j4a();};this.getTrickPlayFrame=function(a){return w.Za().a7a(a);};this.getSessionSummary=function(){return w.Za().spa();};this.getCongestionInfo=function(a){return w.ZZ(w.Za().H2(),a);};this.isTimedTextVisible=function(){return w.Za().q9a();};this.setMuted=function(a){return w.Za().hjb(a);};this.setVolume=function(a){return w.Za().wjb(a);};this.setPlaybackRate=function(a){return w.Za().ljb(a);};this.setAudioTrack=function(a){return w.Za().Wib(a);};this.setTimedTextTrack=function(a){return w.Za().qxa(a);};this.setTimedTextSize=function(a){return w.Za().sjb(a);};this.setTimedTextBounds=function(a){return w.Za().PJ(a);};this.setTimedTextMargins=function(a){return w.Za().QJ(a);};this.setTimedTextVisible=function(a){return w.Za().tjb(a);};this.prepare=function(){return w.Za().Lu();};this.load=function(){return w.Za().load();};this.close=function(a){return w.ZZ(w.pk.close(),a);};this.play=function(){return w.Za().play();};this.pause=function(){return w.Za().pause();};this.seek=function(a){return w.Za().seek(a);};this.engage=function(a,b){return w.ZZ(w.Za().XG(a),b);};this.induceError=function(a){return w.Za().B8a(a);};this.loadCustomTimedTextTrack=function(a,b,c){return w.Za().l$a(a,b,c);};this.tryRecoverFromStall=function(){return w.Za().xK();};this.addEpisode=function(a){var b,c,d;w.log.info("Next episode added",a);d=a.playbackParams;d&&(b=d.playbackState,b={cg:d.trackingId,Bh:d.sessionParams,Dw:d.authParams,hP:d.disableTrackStickiness||!1,xD:d.uiPlayStartTime,jR:d.loadImmediately||!1,De:d.isBranching||!1,i4:d.isPlaylist||!1,S:d.startPts,Z:d.endPts,oa:d.manifestIndex||0,playbackState:b?{currentTime:b.currentTime}:void 0,cx:d.enableTrickPlay,nJ:d.preciseSeeking},c=d.uiLabel);return w.pk.wTa({M:a.movieId,RI:a.nextStartPts,PA:a.currentEndPts,ob:b,kc:c||a.uiLabel,Xd:a.manifestData,Ir:w.Ir});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=w.gab(a);w.log.info("Playing the next episode",a);return w.pk.transition(a);};this.playSegment=function(a){return w.Za().Eeb(a);};this.queueSegment=function(a){return w.Za().Vfb(a);};this.updateNextSegmentWeights=function(a,b){return w.Za().Dp(a,b);};this.getCropAspectRatio=function(){return w.Za().S4a();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return w.iy.F8.apply(w.iy,[].concat(kb(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return w.iy.PWa.apply(w.iy,[].concat(kb(b)));};this.updatePlaylistMap=function(a){return w.iy.Wmb(a);};this.getPlaying=function(){return w.isPlaying();};this.getPaused=function(){return w.isPaused();};this.getMuted=function(){return w.isMuted();};this.getEnded=function(){return w.isEnded();};this.getTimedTextVisibility=function(){return w.isTimedTextVisible();};this.setTimedTextVisibility=function(a){return w.setTimedTextVisible(a);};this.handleEvent=function(a,b){b=void 0===b?{}:b;w.xd.Cc(a,Object.assign({},b,{type:a,target:w}));};this.NK=function(a,b){w.B2a.forEach(function(c){b&&b.removeEventListener(c.event,c.Lpa);a.addEventListener(c.event,c.Lpa);});a.getError()?w.handleEvent(v.ub.J_,a.getError()||{}):(w.handleEvent(v.ub.mka),w.handleEvent(v.ub.lka),w.handleEvent(v.ub.Ny),w.handleEvent(v.ub.qD),w.handleEvent(v.ub.uD),w.handleEvent(v.ub.J_));};this.B2a=Object.keys(v.ub).map(function(a){return{event:v.ub[a],Lpa:function(b){return w.handleEvent(v.ub[a],b);}};});this.log=p.Tc("VideoPlayer");A=p.Y.get(r.nfa).hu(!1,"6.0013.845.051",n.lz,l.Zn,k.config);this.pk=p.Y.get(u.lX).GZa(A,function(a,b,d){return p.Y.get(c.Dj)(a,b,d);},g.KZa,this.NK);this.addEpisode({movieId:a,playbackParams:b,uiLabel:d,manifestData:f});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});c=a(63);k=a(5);h=a(55);g=a(318);n=a(17);p=a(3);r=a(409);u=a(221);a(78);v=a(22);l=a(37);b.prototype.ZZ=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.gab=function(a){return{cg:a.trackingId,Dw:a.authParams,Bh:a.sessionParams,hP:a.disableTrackStickiness,xD:a.uiPlayStartTime,TP:a.forceAudioTrackId,UP:a.forceTimedTextTrackId,De:a.isBranching,Y9:a.vuiCommand,playbackState:a.playbackState,cx:a.enableTrickPlay};};b.prototype.Za=function(){return this.pk.Za();};d.IMa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bea="PlaylistConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eea="PlaylistVideoPlayerFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.aX="PlaylistManagerFactorySymbol";},function(f,d,a){var c,k,h,g,n,p;function b(a,b,c){this.zh=a;this.nb=b;this.j=c;this.gI=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(2);k=a(0);h=a(14);g=a(16);n=a(3);p=a(22);b.prototype.Y1=function(){this.gI.forEach(function(a){return a();});};b.prototype.jd=function(a,b,c){this.j.jd(this.zh(a,b,c));};b.prototype.uQ=function(a){this.j.fireEvent(p.IL.OR,a);};b.prototype.mTa=function(a){-1===this.gI.indexOf(a)&&this.gI.push(a);};b.prototype.Vgb=function(a){a=this.gI.indexOf(a);0<=a&&this.gI.splice(a,1);};b.prototype.Epa=function(a){var b,d;b={};h.fb(a.code)?b.T=c.gba(a.code):b.T=c.G.ue;try{d=a.message.match(/\((\d*)\)/)[1];b.Ab=n.tka(d,4);}catch(A){}b.Ea=g.Bc(a);return b;};a=b;a=f.__decorate([k.O()],a);d.VK=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.xca="LicenseBrokerFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.K$="BandwidthMeterFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ofa="TrickPlayManagerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.yl||(d.yl={});f[f.OL=0]="NOT_LOADED";f[f.LOADING=1]="LOADING";f[f.LOADED=2]="LOADED";f[f.cE=3]="LOAD_FAILED";f[f.Bda=4]="PARSE_FAILED";},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(101);c=[137,66,73,70,13,10,26,10];d.Zdb=function(a){var d,g;if(!a)throw Error("invalid array buffer");d=new Uint8Array(a);a=new b(d);g=function(a){var b,d,g,h;if(a.bl()<c.length+4+4+4+44)throw Error("array buffer too short");c.forEach(function(b){if(b!=a.Yg())throw Error("BIF has invalid magic.");});b=a.xJ();if(0<b)throw Error("BIF version in unsupported");d=a.xJ();if(0==d)throw Error("BIF has no frames.");g=a.xJ();h=a.pe(44);return{version:b,zcb:d,vya:g,rhb:h};}(a);a=function(a){var h,k;for(var b=[],c=0;c<=g.zcb;c++){k={timestamp:a.xJ(),offset:a.xJ()};void 0!=h&&b.push(d.subarray(h.offset,k.offset));h=k;}return b;}(a);return{dk:g,images:a};};},function(f,d,a){var r,u;function b(a){return!(!a||!a.ey&&!a.pboc||!a.code&&!a.code);}function c(a){return!(!a||!a.Gb);}function k(a){return!!(a instanceof Error);}function h(a){switch(a){case"ACCOUNT_ON_HOLD":return u.G.aIa;case"STREAM_QUOTA_EXCEEDED":return u.G.eIa;case"INSUFFICICENT_MATURITY":return u.G.gIa;case"TITLE_OUT_OF_WINDOW":return u.G.kIa;case"CHOICE_MAP_ERROR":return u.G.dIa;case"BadRequest":return u.G.iIa;case"Invalid_SemVer_Format":return u.G.hIa;case"RESTRICTED_TO_TESTERS":return u.G.jIa;case"AGE_VERIFICATION_REQUIRED":return u.G.bIa;case"BLACKLISTED_IP":return u.G.cIa;case"DEVICE_EOL_WARNING":return u.G.FW;case"DEVICE_EOL_FINAL":return u.G.Dda;default:return u.G.hda;}}function g(a,b){return new r.mc(a,h(b.code),"BadRequest"===b.code?u.RV.IAa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function n(a,b){return new r.mc(a,b.Gb,b.Dd,void 0,b.gp,b.message,b.SA,b.data);}function p(a,b){return new r.mc(a,u.G.ue,void 0,void 0,void 0,void 0,b.message,b.stack);}Object.defineProperty(d,"__esModule",{value:!0});r=a(57);u=a(2);d.f9a=b;d.Lyb=c;d.SQ=k;d.Cxb=h;d.gu=function(a,d){return c(d)?n(a,d):b(d)?g(a,d):k(d)?p(a,d):new r.mc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.Dxb=g;d.Axb=n;d.Bxb=p;d.GVa=function(a,b,c){var d,g,h;a=a.Dna;d=b.axa[c];if(void 0===d)throw{ey:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};g=d.version;if(void 0===g)throw{ey:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};h=b.Gi&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===h)throw{ey:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=d.orgOverride;if(void 0===d&&(d=b.cua,void 0===d))throw{ey:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+d+"/"+h+"/"+g+"/router";};d.nvb=function(){return{"Content-Type":"text/plain"};};d.FVa=function(a,b,c,d,g,h,k){return{version:d.version,url:b,id:a,esn:c,languages:d.languages,uiVersion:d.Sy,clientVersion:g.version,params:h,echo:k};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mfa="TransportFactorySymbol";d.gda="MslTransportSymbol";d.pfa="SslTransportSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wda="PboDispatcherSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fea="PrefetchEventsConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.dga="WindowUtilsSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.rda="NfCryptoSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Eaa||(d.Eaa={})).PboDebugEvent="PboDebugEvent";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bca="LogDisplayConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Raa="DxManagerSymbol";d.Qaa="DxManagerProviderSymbol";},function(f,d,a){var c,k,h,g,n;function b(a,b,c){this.Md=a;this.is=b;this.prefix=c;this.Nka=new g.rMa(b);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(23);h=a(21);g=a(674);n=a(7);d.vBa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.wBa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.xBa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.aL="";b.prototype.show=function(){this.cm||(this.tXa(),this.LA&&n.qd.body.appendChild(this.LA),this.ef&&n.qd.body.appendChild(this.ef),this.UF&&n.qd.body.appendChild(this.UF),this.Gy&&n.qd.getElementsByTagName("head")[0].appendChild(this.Gy),this.cm=!0,this.refresh());};b.prototype.nx=function(){this.cm&&(this.ef&&n.qd.body.removeChild(this.ef),this.UF&&n.qd.body.removeChild(this.UF),this.LA&&n.qd.body.removeChild(this.LA),this.Gy&&n.qd.getElementsByTagName("head")[0].removeChild(this.Gy),this.Gy=this.lK=this.LA=this.UF=this.ef=void 0,this.cm=!1);};b.prototype.toggle=function(){this.cm?this.nx():this.show();};b.prototype.E4a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.tXa=function(){var a;a=this;this.Gy=n.qd.createElement("style");this.Gy.type="text/css";this.Gy.innerHTML=this.E4a(this.prefix);this.UF=this.Md.createElement("div",d.vBa,void 0,{"class":this.prefix+"-display-blur"});this.ef=this.Md.createElement("div",d.wBa,void 0,{"class":this.prefix+"-display"});this.LA=this.Md.createElement("div",d.xBa,void 0,{"class":this.prefix+"-display"});this.Noa().forEach(function(b){return a.LA.appendChild(b);});};b.prototype.uXa=function(a){a=this.Md.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(x){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return this.cm?this.Gva().then(function(b){if(b&&(b=a.uXa(b),a.ef)){a.lK&&(a.ef.removeChild(a.lK),a.lK=void 0);a.lK=b;a.ef.appendChild(a.lK);b=a.ef.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.qwa);(b=a.ef.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}}):Promise.resolve();};b.prototype.Ula=function(a){var b;if(n.qd.queryCommandSupported&&n.qd.queryCommandSupported("copy")){b=n.qd.createElement("textarea");b.textContent=a;b.style.position="fixed";n.qd.body.appendChild(b);b.select();try{n.qd.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{n.qd.body.removeChild(b);}}};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.He)),f.__param(1,c.l(h.ve)),f.__param(2,c.Ag())],a);d.gM=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Paa="DxDisplaySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.OW={bI:"keepAlive",resume:"resume",pause:"pause",splice:"splice"};d.Xda="PboEventSenderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.yea="PlaydataConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vda="PboCachedPlaydataSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zda="PboLicenseResponseTransformerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yda="PboLicenseRequestTransformerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.gea="PboReleaseLicenseCommandSymbol";},function(f,d,a){var g,n,p,r,u,v;function b(a){var b;a=new p(a);if(1481462272!=a.Ba())throw Error("Invalid header");b={XMR:{Version:a.Ba(),RightsID:a.lk(16)}};c(a,b.XMR,a.buffer.byteLength);return b;}function c(a,b,d){var g,f,n,p,r;for(;a.position<d;){g=a.Cb();f=a.Ba();f=f-8;switch(g){case 1:n="OuterContainer";break;case 2:n="GlobalPolicy";break;case 3:n="MinimumEnvironment";break;case 4:n="PlaybackPolicy";break;case 5:n="OutputProtection";break;case 6:n="UplinkKID";break;case 7:n="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:n="AnalogVideoOutputConfiguration";break;case 9:n="KeyMaterial";break;case 10:n="ContentKey";break;case 11:n="Signature";break;case 12:n="DeviceIdentification";break;case 13:n="Settings";break;case 18:n="ExpirationRestriction";break;case 42:n="ECCKey";break;case 48:n="ExpirationAfterFirstPlayRestriction";break;case 50:n="PlayReadyRevocationInformationVersion";break;case 51:n="EmbeddedLicenseSettings";break;case 52:n="SecurityLevel";break;case 54:n="PlayEnabler";break;case 57:n="PlayEnablerType";break;case 85:n="RealTimeExpirationRestriction";break;default:n="Other";}p={Type:k(g)};r=b[n];r?v.isArray(r)?r.push(p):(b[n]=[],b[n].push(r),b[n].push(p)):b[n]=p;switch(g){case 1:case 2:case 4:case 7:case 9:case 54:c(a,p,a.position+f);break;case 5:p.Reserved1=a.Cb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Cb();p.MinimumAnalogVideoOutputProtectionLevel=a.Cb();p.Reserved2=a.Cb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Cb();break;case 10:p.Reserved=a.lk(16);p.SymmetricCipherType=a.Cb();p.AsymmetricCipherType=a.Cb();f=a.Cb();p.EncryptedKeyLength=f;g=a.lk(f);p.EncryptedKeyData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 11:p.SignatureType=a.lk(2);f=a.Cb();g=a.lk(f);p.SignatureData=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 13:p.Reserved=a.Cb();break;case 18:p.BeginDate=a.Ba();p.EndDate=a.Ba();break;case 42:p.CurveType=a.lk(2);f=a.Cb();g=a.lk(f);p.Key=10>=f?g:g.substring(0,4)+"..."+g.substring(g.length-4,g.length);break;case 48:p.ExpireAfterFirstPlay=a.Ba();break;case 50:p.Sequence=a.Ba();break;case 51:p.LicenseProcessingIndicator=a.Cb();break;case 52:p.MinimumSecurityLevel=a.Cb();break;case 57:p.PlayEnablerType=h(a.lk(16));break;case 85:break;default:p.OtherData=a.lk(f);}}}function k(a){return"0x"+a.toString(16);}function h(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});g=a(6);n=a(3);p=a(101);r=a(127);u=a(148);v=a(14);d.swb=function(a,c,d){switch(c){case g.ZU:a&&(a=n.eVa(a),u.d$(a,function(a){a.P&&(a=a.object)&&(a=r.c5a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=r.Xdb(a))&&(a=n.Tm(a))&&(a=b(a))&&d(a);}));}};d.twb=b;d.uwb=c;d.wwb=k;d.vwb=h;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uda="PboAcquireLicenseCommandSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.bea="PboManifestCommandSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oaa="ControlProtocolSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cba="HttpRequesterSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oba="FtlDataParserSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.qda="NetworkMonitorSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.ega="XhrFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.vca="LegacyLogBatcherSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.t$="AppLogSinkSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.aea="PboLogblobCommandSymbol";},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.sf=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.aB=function(a,b){var c,d;c={};for(d in a)c[d]=b.call(this,a[d]);return c;};c=b;c=f.__decorate([a.O()],c);d.nL=c;},function(f,d,a){var g,n,p;function b(){this.Zt=new g.aGa();}function c(a){var c;c=n.nL.call(this)||this;c.ep=a;c.Zt=new b();return c;}function k(a,b){this.ep=a;this.profile=b;this.fO=this.profile.ph.id;this.kC={};}function h(a){this.ep=a;this.aD=p.$(0);this.kC=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(710);n=a(357);p=a(34);h.prototype.Bq=function(a){this.aD=this.aD.add(this.ep.measure([a.message]));this.kC.push(a);};h.prototype.sy=function(a){var b,c;b=this;this.aD=p.$(0);c=[];this.kC.forEach(function(d){0>a.indexOf(d.id)&&(b.aD=b.aD.add(b.ep.measure([d.message])),c.push(d));});this.kC=c;};oa.Object.defineProperties(h.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.aD;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.kC;}}});k.prototype.Bq=function(a,b,c,d){var g;g=this.yd[a];g||(g=new h(this.ep),this.yd[a]=g);g.Bq({id:b,url:c,message:d});};k.prototype.sy=function(a){var c;for(var b in this.yd){c=this.yd[b];c&&(c.sy(a),0===c.yd.length&&delete this.yd[b]);}};oa.Object.defineProperties(k.prototype,{yd:{configurable:!0,enumerable:!0,get:function(){return this.kC;}}});d.aHa=k;ja(c,n.nL);c.prototype.encode=function(a){return{accountId:a.fO,messages:this.Y1a(a.yd)};};c.prototype.decode=function(a){return{fO:a.accountId,yd:this.s_a(a.messages)};};c.prototype.Y1a=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.yP=[],a[g].yd.forEach(function(a){return function(c){0<c.id&&a.yP.push(b.Zt.encode(c));};}(d)),c[g]=d.yP,d={yP:d.yP};return c;};c.prototype.s_a=function(a){var b,c,d,g;b=this;c={};d={};for(g in a)d.wS=new h(this.ep),a[g].forEach(function(a){return function(c){a.wS.Bq(b.Zt.decode(c));};}(d)),c[g]=d.wS,d={wS:d.wS};return c;};d.$Ga=c;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.Zt.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.Zt.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.bda="MessageQueueSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gca="LogblobSenderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.raa="CryptoKeysSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.qaa="CryptoDeviceIdSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Haa="DeviceProviderSymbol";},function(f,d){function a(b,c,d){if(null!=d){if(0<d(b,c))throw a.dma(b,c);}else if(b.Tk&&0<b.Tk(c))throw a.dma(b,c);this.start=b;this.end=c;}Object.defineProperty(d,"__esModule",{value:!0});a.dma=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};d.Qea=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gaa="DeviceIdGeneratorSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fda="MslDispatcherSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.eda="MslClientSendStrategySymbol";},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(19);k=a(14);h=a(72);d.zBa=function(a,b,d,h,f,v,l,m,x,w){var g,p;g=this;p={Type:b,Bitrate:h,DownloadableId:d};c.Aa(g,{track:a,type:b,ad:d,L:h,Hb:f,ye:m,size:v,cr:l,dk:null,xjb:function(a,b){if(k.fb(a)||k.fb(b))g.width=a,g.height=b,p.Resolution=(g.width||"")+":"+(g.height||"");},Yib:function(a,b,c,d){k.fb(a)&&k.fb(b)&&k.fb(c)&&k.fb(d)&&(g.VZa=a,g.jma=b,g.ima=c,g.hma=d);},YP:x,el:w,ug:p,toJSON:function(){return p;}});};d.opb=function(a,c,d,k,f){if(a==b.bW||a===h.Hf.audio)return c;if(a==b.jE||a===h.Hf.video)return d;if(a==h.Hf.UT)return k;if(a==h.Hf.H9)return f;};},function(f,d,a){var c;function b(a){var h,g,k,f,r,u,v;k={};k[c.pU]=a.localName;f={};k[c.gi]=f;r=[];k[c.oU]=r;u=a.attributes;h=u.length;for(g=0;g<h;g++){v=u[g];f[v.localName]=v.value;}a=a.childNodes;h=a.length;f={};for(g=0;g<h;g++)switch(u=a[g],u.nodeType){case d.iob:u=b(u);v=u[c.pU];u[c.Cza]=k;r.push(u);k[v]?f[v][c.GD]=u:k[v]=u;f[v]=u;break;case d.job:case d.gob:u=u.text||u.nodeValue,r.push(u),k[c.Jp]||(k[c.Jp]=u);}return k;}Object.defineProperty(d,"__esModule",{value:!0});c=a(127);d.fob=function(a){return b(a.nodeType==d.hob?a.documentElement:a);};d.zCb=b;d.iob=1;d.yCb=2;d.job=3;d.gob=4;d.hob=9;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(14);d.eob=function(a){var d,g;if(c.qu(a)){d=new DOMParser().parseFromString(a,"text/xml");g=d.getElementsByTagName("parsererror");if(g&&g[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(g[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(n){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(204);c=a(148);d.Mdb=function(a,d,g,f){return new Promise(function(h,k){c.d$(a,function(a){a.P?b.Ddb(a.object,d,g,f,function(a){a.P?h(a.entries):k(a);}):k(a);});});};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.aga="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.VDa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.eEa=function(a){var d,h,g,f;function b(){if(g)for(var a;a=d.pop();)a(f);}function c(a){g=!0;f=a;b();}d=[];return function(g){d.push(g);h||(h=!0,a(c));b();};};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nfa="TrickPlayFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jfa="TrackStreamFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aea="PlayerTextTrackFactorySymbol";},function(f,d){function a(a,c){this.log=a;this.YT=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Cya=function(a,c){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+c.type+" track - "+c.ec),[];a=a.map(function(a){var d;d=b.YT(c,c.type,a.XA,a.L,a.Hb,a.size,b.i5a(a.Gc),a.KA,a.toa/a.soa,a.el);d.xjb(a.$va,a.Zva);d.Yib(a.mma,a.nma,a.lma,a.kma);c.lj&&(d.lj=c.lj);a.KA&&(d.ye=a.KA);return d;});a.sort(function(a,b){return a.L-b.L;});return a;};a.prototype.i5a=function(a){return a.reduce(function(a,b){a[b.cla]=b.url;return a;},{});};d.JL=a;},function(f,d,a){var b,c,k;b=a(209);c=a(105);d=a(45);k=a(744);a=d(function(a,d){return 1===a?c(d):b(a,k(a,[],d));});f.K=a;},function(f){f.K=function(d,a){for(var b=0,c=a.length,k=Array(c);b<c;)k[b]=d(a[b]),b+=1;return k;};},function(f,d,a){var b,c,k,h,g;d=a(105);b=a(211);c=a(747);k=!{toString:null}.propertyIsEnumerable("toString");h="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");g=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||g?function(a){var d,f,n,v;if(Object(a)!==a)return[];n=[];f=g&&c(a);for(d in a)!b(d,a)||f&&"length"===d||(n[n.length]=d);if(k)for(f=h.length-1;0<=f;){d=h[f];if(v=b(d,a)){a:{for(v=0;v<n.length;){if(n[v]===d){v=!0;break a;}v+=1;}v=!1;}v=!v;}v&&(n[n.length]=d);--f;}return n;}:function(a){return Object(a)!==a?[]:Object.keys(a);});f.K=a;},function(f){f.K={cd:function(){return this.PK["@@transducer/init"]();},result:function(d){return this.PK["@@transducer/result"](d);}};},function(f){f.K=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(f,d,a){var b,c;b=a(382);c=a(754);f.K=function(a,d,g){return function(){var h,k;if(0===arguments.length)return g();h=Array.prototype.slice.call(arguments,0);k=h.pop();if(!b(k)){for(var f=0;f<a.length;){if("function"===typeof k[a[f]])return k[a[f]].apply(k,h);f+=1;}if(c(k))return d.apply(null,h)(k);}return g.apply(this,arguments);};};},function(f,d,a){var b,c,k,h,g,n;d=a(45);b=a(383);c=a(753);k=a(385);h=a(210);g=a(748);n=a(380);a=d(b(["filter"],g,function(a,b){return k(b)?h(function(c,d){a(b[d])&&(c[d]=b[d]);return c;},{},n(b)):c(a,b);}));f.K=a;},function(f){f.K=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sca="ManifestProviderConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tca="ManifestParserFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.V$="CDMAttestedDescriptorStore";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.O$="BookmarkConfigParserSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.P$="BookmarkConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iaa="DiskStorageRegistrySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.ada="MemoryStorageSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.yca="LocalStorageSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.paa="CorruptedStorageValidatorConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.nX="Storage";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.FL="IndexedDBConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hea="PresentationAPISymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vca="MediaCapabilitiesLogHelperSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wca="MediaCapabilitiesSymbol";},function(f,d,a){var c,k,h;function b(a,b){var d;d=k.bL.call(this,a,b,c.oE.Audio)||this;d.config=a;d.F5=b;d.type=c.hv.nv;return d;}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);k=a(402);h=a(68);a(130);new(a(90)).Jv();ja(b,k.bL);b.prototype.cK=function(){return!1;};b.prototype.Pw=function(){var a;a={};a[h.Ak.xL]="mp4a.40.2";a[h.Ak.vV]="mp4a.40.5";this.config().y1&&(a[h.Ak.dL]="ec-3");this.config().x1&&(a[h.Ak.IU]="ec-3");this.config().SG&&(a[h.Ak.eL]="ec-3");return a;};b.prototype.c3=function(){return this.config().sO;};b.wD="audio/mp4;codecs={0};";d.TU=b;},function(f,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.uba=/^hevc-main/;a.tba=/^hevc-hdr-|hevc-dv/;a.Pp=/^hevc-hdr-/;a.eg=/^hevc-dv/;a.qL=/-h264/;a.Ls=/^vp9-/;a.ah=/^av1-/;a.qU=/^heaac/;a.WBa=/ddplus-2/;a.XBa=/ddplus-5/;a.YBa=/ddplus-atmos/;d.Bj=a;},function(f,d,a){var c,k,h;function b(a,b,d){this.config=a;this.F5=b;this.N=d;this.H5={};this.H5[c.oE.Audio]="audio";this.H5[c.oE.Yfa]="video";}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);f=a(90);k=a(401);h=new f.Jv().format;b.prototype.xpa=function(){return this.s0a(this.c3());};b.prototype.Pq=function(a){return this.F5.isTypeSupported(a);};b.prototype.Y3=function(){this.jm=[];this.Mr=[];this.config().hua&&this.Mr.push(k.Bj.uba);this.config().gua&&this.Mr.push(k.Bj.tba);this.config().iua&&this.Mr.push(k.Bj.Ls);this.config().fua&&this.Mr.push(k.Bj.ah);this.Mr=this.Mr.concat([k.Bj.qU,k.Bj.qL]);!this.config().y1&&this.jm.push(k.Bj.WBa);!this.config().x1&&this.jm.push(k.Bj.XBa);!this.config().SG&&this.jm.push(k.Bj.YBa);!this.config().F1a&&this.jm.push(/prk$/);this.config().hua||this.config().z1a||this.jm.push(k.Bj.uba);this.config().gua||this.config().y1a||this.jm.push(k.Bj.tba);this.config().iua||this.config().J1a||this.jm.push(k.Bj.Ls);this.config().fua||this.config().v1a||this.jm.push(k.Bj.ah);};b.prototype.U1=function(a){var b;b=this;return a.filter(function(a){for(var c=Ba(b.Mr),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Ba(b.jm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.a7[a];d="";if(a)return Array.isArray(a)&&(d=1<a.length?" "+a[1]:"",a=a[0]),a=h("{0}/mp4;codecs={1};{2}",b.H5[b.N],a,d),b.Pq(a);});};b.prototype.s0a=function(a){var b;b={};this.Y3();this.U1(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};oa.Object.defineProperties(b.prototype,{a7:{configurable:!0,enumerable:!0,get:function(){this.Dia||(this.Dia=this.Pw());return this.Dia;}}});d.bL=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.baa="CapabilityDetectorFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.jba="ExtraPlatformInfoProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.gaa="CdnThroughputTracker";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hfa="ThroughputTrackerConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kfa="TransitionLoggerSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zfa="VideoPlayerFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.nfa="SegmentConfigFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oW="MomentObserverFactory";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.nW="MomentFactorySymbol";},function(f,d,a){var c;function b(a,b,c,d,f,r){this.level=a;this.Ql=b;this.timestamp=c;this.message=d;this.Sc=f;this.index=void 0===r?0:r;this.JFa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.qK=function(a,b){var d;d=""+this.message;this.Sc.forEach(function(c){d+=c.Py(a,b);});return(this.timestamp.ma(c.Ia)/1E3).toFixed(3)+"|"+this.index+"|"+(this.JFa[this.level]||this.level)+"|"+this.Ql+"| "+d;};d.Cca=b;},function(f,d,a){var c,k,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);k=a(25);h=a(6);b.prototype.oB=function(){return this.T8a()?h.rDa:/widevine/i.test(this.config().Uc)?h.Naa:/fps/i.test(this.config().Uc)?h.sDa:h.ZU;};b.prototype.T8a=function(){return/clearkey/i.test(this.config().Uc);};oa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.J||(this.J=c.Y.get(k.Ef));return this.J;}}});d.Xca=new b();},function(f,d,a){var c,k,h,g;function b(a,b,c,d,g,f,l){this.debug=a;this.config=b;this.platform=c;this.Hsa=d;this.debug.assert(g&&g!=k.I.Ih,"There should always be a specific error code");this.errorCode=g||k.I.Ih;f&&h.ne(f)?(this.T=f.T||f.Gb,this.Ab=f.Ab||f.Dd,this.eB=f.eB||f.Sl,this.Ea=f.Ea||f.SA,this.LG=f.Sf,this.au=f.au||f.dta||f.gp,this.Wl=f.Wl||f.data,f.zI&&(this.zI=f.zI),this.rh=f.rh,this.Nbb=f.method,this.PR=f.PR,this.alert=f.alert,this.debug.assert(!this.rh||this.rh==this.Ab)):(this.T=f,this.Ab=l);this.stack=[this.errorCode];this.T?this.stack.push(this.T):this.Ab&&this.stack.push(k.G.Ih);this.Ab&&this.stack.push(this.Ab);this.iP=this.platform.FP+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);k=a(2);h=a(16);g=a(14);b.prototype.toString=function(){var a;a="[PlayerError #"+this.iP+"]";this.Ea&&(a+=" "+this.Ea);this.LG&&(a+=" (CustomMessage: "+this.LG+")");return a;};b.prototype.y9=function(){var a,b;this.LG&&(a=["streaming_error"]);a||this.Hsa.oB()!==c.ZU||("80080017"==this.Ab&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Ab&&(a=["pause_timeout"]));a||this.Hsa.oB()!==c.Naa||this.errorCode!==k.I.aV&&this.errorCode!==k.I.$U||(a=["no_cdm","platform_error","plugin_error"]);this.o9a()&&(a=["received_soad"]);b=this.H4a();b&&(a=[b],this.LG=void 0);if(!a)switch(this.errorCode){case k.I.UL:case k.I.CL:case k.I.Vza:case k.I.IW:a=["pause_timeout"];break;case k.I.dca:case k.I.eca:a=this.T?["platform_error"]:["multiple_tabs"];break;case k.I.dE:case k.I.fM:case k.I.fFa:case k.I.eFa:case k.I.hFa:a=["should_signout_and_signin"];break;case k.I.TV:case k.I.Kda:case k.I.Jda:case k.I.MW:case k.I.TIa:a=["platform_error","plugin_error"];break;case k.I.cJa:a=["no_cdm","platform_error","plugin_error"];break;case k.I.JW:a=this.T?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.I.mL:case k.I.WL:case k.I.LW:switch(this.Ab){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case k.I.VL:a=["unsupported_output"];}!a&&k.RDa(this.T)&&(a=this.T==k.G.fz?["geo"]:["internet_connection_problem"]);if(!a)switch(this.Rkb(this.T)){case k.G.zX:a=["should_upgrade"];break;case k.G.nHa:case k.G.eW:a=["should_signout_and_signin"];break;case k.G.oHa:a=["internet_connection_problem"];break;case k.G.hfa:case k.G.ifa:case k.G.ffa:a=["storage_quota"];break;case k.G.Nda:case k.G.Lda:case k.G.Oda:case k.G.Mda:case k.G.waa:a=["platform_error","plugin_error"];break;case k.G.KU:case k.G.Fba:case k.G.Gba:a=["private_mode"];}a=a||[];a.push(this.platform.FP+this.errorCode);this.T&&a.push(""+this.T);a={display:{code:this.iP,text:this.LG},messageIdList:a,alert:this.alert};if(this.au||this.dta)a.mslErrorCode=this.au||this.dta||this.gp;return a;};b.prototype.Rkb=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.o9a=function(){var a;a=g.fa(this.Ab)?this.Ab.toString():g.Gd(this.Ab)?this.Ab:"";return this.au===k.rW.vX&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.H4a=function(){if(this.errorCode===k.I.Rp&&(this.T===k.G.FW||this.T===k.G.Dda))return this.I4a(this.T===k.G.FW);};b.prototype.I4a=function(a){var b,c,d;b=(this.config().browserInfo||{}).os||{};c=b.name;d=(b.version||"").split(".");b=parseInt(d&&d[0]);d=parseInt(d&&d[1]);switch(c){case"Windows":return 6>b||6===b&&1>d?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>d?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.qKa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qfa="UrlFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.bX="PrioritizedSetOfListsSymbol";d.AKa="PrioritizedSetOfListsFactorySymbol";d.Iea="PrioritizedSetOfSetsFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gfa="ThrottleSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Brb=function(){};d.dda="MseConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Faa="DecoderTimeoutPathologistSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.saa="CsvEncoderSymbol";},function(f){var p,r,u,v,l,m;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(p===setTimeout)return setTimeout(a,0);if((p===d||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0);}catch(w){try{return p.call(null,a,0);}catch(z){return p.call(this,a,0);}}}function c(b){if(r===clearTimeout)clearTimeout(b);else if(r!==a&&r||!clearTimeout)try{r(b);}catch(w){try{r.call(null,b);}catch(z){r.call(this,b);}}else r=clearTimeout,clearTimeout(b);}function k(){v&&l&&(v=!1,l.length?u=l.concat(u):m=-1,u.length&&h());}function h(){var a;if(!v){a=b(k);v=!0;for(var d=u.length;d;){l=u;for(u=[];++m<d;)l&&l[m].OC();m=-1;d=u.length;}l=null;v=!1;c(a);}}function g(a,b){this.$3a=a;this.yo=b;}function n(){}f=f.K={};try{p="function"===typeof setTimeout?setTimeout:d;}catch(x){p=d;}try{r="function"===typeof clearTimeout?clearTimeout:a;}catch(x){r=a;}u=[];v=!1;m=-1;f.Rzb=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];u.push(new g(a,c));1!==u.length||v||b(h);};g.prototype.OC=function(){this.$3a.apply(null,this.yo);};f.title="browser";f.hvb=!0;f.t2a={};f.Qub=[];f.version="";f.qCb={};f.on=n;f.addListener=n;f.once=n;f.bAb=n;f.removeListener=n;f.removeAllListeners=n;f.emit=n;f.JAb=n;f.KAb=n;f.listeners=function(){return[];};f.dvb=function(){throw Error("process.binding is not supported");};f.cwb=function(){return"/";};f.Avb=function(){throw Error("process.chdir is not supported");};f.hCb=function(){return 0;};},function(f,d,a){var k,h,g,n,p;function b(){}function c(a,b){this.is=a;this.Nl=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(2);g=a(21);n=a(159);p=a(7);c.prototype.sj=function(a,b,c){var d,g,h,k;d=this;if(b)if(c){g=c.$B;h=c.prefix;k=c.kp;this.$t(b,function(b,c){if(!k||d.is.Qf(c))a[(h||"")+(g?b.toLowerCase():b)]=c;});}else this.$t(b,function(b,c){a[b]=c;});return a;};c.prototype.$t=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};c.prototype.Mt=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};c.prototype.vXa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};c.prototype.Bc=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}};c.prototype.rP=function(a,b){var c,d;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)d=c.value[0],c=c.value[1],b&&b(d,c),c=a.next();};c.prototype.N4a=function(a){var c,d,g;d=new b();this.is.Qf(a.code)?(c=parseInt(a.code,10),d.Gb=1<=c&&9>=c?h.G.dV+c:h.G.dV):d.Gb=h.G.ue;try{g=a.message.match(/\((\d*)\)/)[1];d.Dd=this.Nl.ZP(g,4);}catch(D){}d.Ea=this.Bc(a);return d;};c.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};c.prototype.Moa=function(a){return this.getFunctionName(a.constructor);};c.prototype.Eta=function(a){var b,c;b=this;c="";this.is.Eq(a)||this.is.Vja(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.oh(a)?c=a:this.$t(a,function(a,d){c+=(c?", ":"")+"{"+a+": "+(b.is.sA(d)?b.getFunctionName(d)||"function":d)+"}";});return"["+this.Moa(a)+" "+c+"]";};c.prototype.createElement=function(a,b,c,d){var g;g=p.qd.createElement(a);b&&(g.style.cssText=b);c&&(g.innerHTML=c);d&&this.$t(d,function(a,b){g.setAttribute(a,b);});return g;};c.prototype.j3a=function(a,b){return function(c){return c[a]===b;};};c.prototype.dS=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=c;a=f.__decorate([k.O(),f.__param(0,k.l(g.ve)),f.__param(1,k.l(n.TK))],a);d.Rfa=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.zda="OneWayCounterFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.iaa="ClockConfigSymbol";},function(f,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.rP=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};d.dba=a;},function(f,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.zra=0]="licenseStarted";a[a.Bva=1]="recievedLicenseChallenge";a[a.Ava=2]="recievedLicense";a[a.Cva=3]="recievedRenewalChallengeComplete";a[a.Dva=4]="recievedRenewalLicenseComplete";a[a.Eva=5]="recievedRenewalLicenseFailed";a[a.mgb=6]="recievedIndivChallengeComplete";a[a.ngb=7]="recievedIndivLicenseComplete";a[a.Fja=8]="addLicenseComplete";a[a.Kja=9]="addRenewalLicenseComplete";a[a.Lja=10]="addRenewalLicenseFailed";}(a=d.Sn||(d.Sn={})));d.a1a=function(b){switch(b){case a.zra:return"lg";case a.Bva:return"lc";case a.Ava:return"lr";case a.Cva:return"renew_lc";case a.Dva:return"renew_lr";case a.Eva:return"renew_lr_failed";case a.mgb:return"ilc";case a.ngb:return"ilr";case a.Fja:return"ld";case a.Kja:return"renew_ld";case a.Lja:return"renew_ld_failed";default:return"unknown";}};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.cba="EmeSessionSymbol";d.bba="EmeSessionFactorySymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Laa="DrmProviderSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.hca="IdentityProviderSymbol";},function(f,d,a){var b;b=a(94);d.Uqa=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(f,d,a){var b,c,k,h,g,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(436);k=a(94);f=a(74);h=a(73);d.Xx=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&k.isArray(a[0])&&(a=a[0]);return function(b){return b.uf(new g(a));};};d.Xcb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&k.isArray(a[0])&&(a=a[0]);b=a.shift();return new c.nba(b,null).uf(new g(a));};g=function(){function a(a){this.h6=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.h6));};return a;}();n=function(a){function c(b,c){a.call(this,b);this.destination=b;this.h6=c;}b(c,a);c.prototype.m6=function(){this.NT();};c.prototype.Ki=function(){this.NT();};c.prototype.Zb=function(){this.NT();};c.prototype.Kf=function(){this.NT();};c.prototype.NT=function(){var a;a=this.h6.shift();a?this.add(h.$r(this,a)):this.destination.complete();};return c;}(f.Xp);},function(f,d){d.XH=function(a){return a instanceof Date&&!isNaN(+a);};},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(73);f=a(74);d.jC=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(d){"number"===typeof b&&(c=b,b=null);return d.uf(new k(a,b,c));};};k=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.Xf=a;this.vj=b;this.q0=c;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Xf,this.vj,this.q0));};return a;}();d.zrb=k;h=function(a){function d(b,c,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);a.call(this,b);this.Xf=c;this.vj=d;this.q0=g;this.zB=!1;this.buffer=[];this.index=this.active=0;}b(d,a);d.prototype.Ng=function(a){this.active<this.q0?this.rSa(a):this.buffer.push(a);};d.prototype.rSa=function(a){var b,c;c=this.index++;try{b=this.Xf(a,c);}catch(v){this.destination.error(v);return;}this.active++;this.pY(b,a,c);};d.prototype.pY=function(a,b,d){this.add(c.$r(this,a,b,d));};d.prototype.Kf=function(){this.zB=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};d.prototype.Ux=function(a,b,c,d){this.vj?this.qQa(a,b,c,d):this.destination.next(b);};d.prototype.qQa=function(a,b,c,d){var g;try{g=this.vj(a,b,c,d);}catch(D){this.destination.error(D);return;}this.destination.next(g);};d.prototype.Ki=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Ng(b.shift()):0===this.active&&this.zB&&this.destination.complete();};return d;}(f.Xp);d.Arb=h;},function(f,d,a){var b;b=a(228);d.lG=function(){return b.xu(1);};},function(f,d,a){var k,h;function b(a){var b;b=a.value;a=a.Te;a.closed||(a.next(b),a.complete());}function c(a){var b;b=a.F1;a=a.Te;a.closed||a.error(b);}k=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(75);f=function(a){function d(b,c){a.call(this);this.e7=b;this.ja=c;}k(d,a);d.create=function(a,b){return new d(a,b);};d.prototype.lf=function(a){var d,g,k;d=this;g=this.e7;k=this.ja;if(null==k)this.nq?a.closed||(a.next(this.value),a.complete()):g.then(function(b){d.value=b;d.nq=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){h.root.setTimeout(function(){throw a;});});else if(this.nq){if(!a.closed)return k.kb(b,0,{value:this.value,Te:a});}else g.then(function(c){d.value=c;d.nq=!0;a.closed||a.add(k.kb(b,0,{value:c,Te:a}));},function(b){a.closed||a.add(k.kb(c,0,{F1:b,Te:a}));}).then(null,function(a){h.root.setTimeout(function(){throw a;});});};return d;}(a(10).qa);d.Kea=f;},function(f,d,a){var b,c,k,h,g,n,p,r,u,l,A,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(94);k=a(440);h=a(439);g=a(435);n=a(936);p=a(93);r=a(935);u=a(162);l=a(10);A=a(445);m=a(233);f=function(a){function d(b,c){a.call(this,null);this.w9a=b;this.ja=c;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[m.observable])return a instanceof l.qa&&!b?a:new d(a,b);if(c.isArray(a))return new p.gv(a,b);if(h.Zqa(a))return new g.Kea(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new n.GFa(a,b);if(k.Kqa(a))return new r.jAa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.lf=function(a){var b,c;b=this.w9a;c=this.ja;return null==c?b[m.observable]().subscribe(a):b[m.observable]().subscribe(new A.yda(a,c,0));};return d;}(l.qa);d.nba=f;},function(f,d,a){f=a(436);d.from=f.nba.create;},function(f,d,a){f=a(93);d.of=f.gv.of;},function(f,d){d.Zqa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(f,d){d.Kqa=function(a){return a&&"number"===typeof a.length;};},function(f,d){d.aka=function(a,b){var r;for(var c=0,d=b.length;c<d;c++)for(var h=b[c],g=Object.getOwnPropertyNames(h.prototype),f=0,p=g.length;f<p;f++){r=g[f];a.prototype[r]=h.prototype[r];}};},function(f,d){d.IE=function(){return function(a){this.Vkb=a;};}();},function(f,d,a){var b;b=a(442);f=function(){function a(){this.bK=[];}a.prototype.Qra=function(){this.bK.push(new b.IE(this.ja.now()));return this.bK.length-1;};a.prototype.Rra=function(a){var c;c=this.bK;c[a]=new b.IE(c[a].Vkb,this.ja.now());};return a;}();d.vfa=f;},function(f,d,a){var b,c,k,h,g,n,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(163);c=a(10);k=a(46);h=a(66);g=a(948);a=function(a){function c(b,c){a.call(this);this.source=b;this.MT=c;this.jt=0;this.iN=!1;}b(c,a);c.prototype.lf=function(a){return this.qQ().subscribe(a);};c.prototype.qQ=function(){var a;a=this.SN;if(!a||a.tf)this.SN=this.MT();return this.SN;};c.prototype.connect=function(){var a;a=this.Qs;a||(this.iN=!1,a=this.Qs=new h.Ej(),a.add(this.source.subscribe(new n(this.qQ(),this))),a.closed?(this.Qs=null,a=h.Ej.EMPTY):this.Qs=a);return a;};c.prototype.HS=function(){return g.HS()(this);};return c;}(c.qa);d.jaa=a;a=a.prototype;d.qXa={$x:{value:null},jt:{value:0,writable:!0},SN:{value:null,writable:!0},Qs:{value:null,writable:!0},lf:{value:a.lf},iN:{value:a.iN,writable:!0},qQ:{value:a.qQ},connect:{value:a.connect},HS:{value:a.HS}};n=function(a){function c(b,c){a.call(this,b);this.Uk=c;}b(c,a);c.prototype.Zb=function(b){this.yq();a.prototype.Zb.call(this,b);};c.prototype.Kf=function(){this.Uk.iN=!0;this.yq();a.prototype.Kf.call(this);};c.prototype.yq=function(){var a,b;a=this.Uk;if(a){this.Uk=null;b=a.Qs;a.jt=0;a.SN=null;a.Qs=null;b&&b.unsubscribe();}};return c;}(f.TLa);(function(){function a(a){this.Uk=a;}a.prototype.call=function(a,b){var c;c=this.Uk;c.jt++;a=new p(a,c);b=b.subscribe(a);a.closed||(a.Ym=c.connect());return b;};return a;}());p=function(a){function c(b,c){a.call(this,b);this.Uk=c;}b(c,a);c.prototype.yq=function(){var a,b;a=this.Uk;if(a){this.Uk=null;b=a.jt;0>=b?this.Ym=null:(a.jt=b-1,1<b?this.Ym=null:(b=this.Ym,a=a.Qs,this.Ym=null,!a||b&&a!==b||a.unsubscribe()));}else this.Ym=null;};return c;}(k.Hh);},function(f,d,a){var b,c,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);c=a(230);d.aAb=function(a,b){void 0===b&&(b=0);return function(c){return c.uf(new k(a,b));};};k=function(){function a(a,b){void 0===b&&(b=0);this.ja=a;this.$c=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.ja,this.$c));};return a;}();d.ksb=k;h=function(a){function d(b,c,d){void 0===d&&(d=0);a.call(this,b);this.ja=c;this.$c=d;}b(d,a);d.cb=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.d8=function(a){this.add(this.ja.kb(d.cb,this.$c,new g(a,this.destination)));};d.prototype.Ng=function(a){this.d8(c.Notification.G0(a));};d.prototype.Zb=function(a){this.d8(c.Notification.Yla(a));};d.prototype.Kf=function(){this.d8(c.Notification.C0());};return d;}(f.Hh);d.yda=h;g=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.jsb=g;},function(f,d,a){var b,c,k,h,g,n,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(163);c=a(953);k=a(66);h=a(445);g=a(448);n=a(447);a=function(a){function d(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ja=d;this.qb=[];this.wNa=1>b?1:b;this.JSa=1>c?1:c;}b(d,a);d.prototype.next=function(b){var c;c=this.xha();this.qb.push(new p(c,b));this.ija();a.prototype.next.call(this,b);};d.prototype.lf=function(a){var b,c,d;b=this.ija();c=this.ja;if(this.closed)throw new g.uz();this.AH?d=k.Ej.EMPTY:this.tf?d=k.Ej.EMPTY:(this.Dr.push(a),d=new n.ufa(this,a));c&&a.add(a=new h.yda(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.AH?a.error(this.s9):this.tf&&a.complete();return d;};d.prototype.xha=function(){return(this.ja||c.bi).now();};d.prototype.ija=function(){for(var a=this.xha(),b=this.wNa,c=this.JSa,d=this.qb,g=d.length,h=0;h<g&&!(a-d[h].time<c);)h++;g>b&&(h=Math.max(h,g-b));0<h&&d.splice(0,h);return d;};return d;}(f.mi);d.GE=a;p=function(){return function(a,b){this.time=a;this.value=b;};}();},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.aK=b;this.Te=c;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.aK;b=a.Dr;this.aK=null;!b||0===b.length||a.tf||a.closed||(a=b.indexOf(this.Te),-1!==a&&b.splice(a,1));}};return c;}(a(66).Ej);d.ufa=f;},function(f,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.uz=f;},function(f,d){d.bu={e:{}};},function(f,d){d.Bb=function(a){return"function"===typeof a;};},function(f,d){d.ne=function(a){return null!=a&&"object"===typeof a;};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.pda="NetworkMonitorConfigSymbol";},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.cX="QueryStringDataProviderSymbol";},function(f,d,a){var c,k;function b(a,b,c,d,f){this.version=a;this.wC=b;this.Rxa=c;this.ff=d;this.Ap=f;this.Fo=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);k=a(57);b.prototype.load=function(a){return this.j$a(a);};b.prototype.add=function(a){this.Fo.push(a);return this.z6();};b.prototype.remove=function(a,b){a=this.Ioa(this.nj(a,b));return 0<=a?(this.Fo.splice(a,1),this.z6()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Ioa(this.nj(a,b));return 0<=b?(this.Fo[b]=a,this.z6()):Promise.resolve();};b.prototype.j$a=function(a){var b;b=this;this.Gra||(this.Gra=new Promise(function(d,g){function h(a){b.a0a().then(function(){g(a);})["catch"](function(){g(a);});}b.i3().then(function(a){b.storage=a;return b.storage.load(b.wC);}).then(function(c){var g;c=c.value;try{g=a(c);b.version=g.version;b.Fo=g.data;d();}catch(A){h(A);}})["catch"](function(a){a.T!==c.G.Hk?g(a):d();});}));return this.Gra;};b.prototype.z6=function(){var a,b,c,d,f;a=this;if(!this.Rxa)return Promise.resolve();if(this.HT){d=new Promise(function(a,d){b=a;c=d;});f=function(){a.HT=d;a.Qxa().then(function(){b();})["catch"](function(a){c(a);});};this.HT.then(f)["catch"](f);return d;}return this.HT=this.Qxa();};b.prototype.Qxa=function(){var a,d;a=this;d=this.Ap();return new Promise(function(g,h){a.i3().then(function(b){return b.save(a.wC,d,!1);}).then(function(){g();})["catch"](function(a){h(b.pK(c.I.QIa,a));});});};b.prototype.a0a=function(){var a;a=this;return this.Rxa?new Promise(function(b,c){a.i3().then(function(b){return b.remove(a.wC);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.i3=function(){return this.storage?Promise.resolve(this.storage):this.ff.create();};b.prototype.nj=function(a,b){for(var c=0;c<this.Fo.length;++c)if(b(this.Fo[c],a))return this.Fo[c];};b.prototype.Ioa=function(a){return a?this.Fo.indexOf(a):-1;};b.pK=function(a,b,d){return b.T&&b.cause?new k.mc(a,b.T,void 0,void 0,void 0,d,void 0,b.cause):void 0!==b.Gb?(d=(b.message?b.message+" ":"")+(d?d:""),b.code=a,b.message=""===d?void 0:d,b):b instanceof Error?new k.mc(a,c.G.ue,void 0,void 0,void 0,d,b.stack,b):new k.mc(a,c.G.Ih,void 0,void 0,void 0,d,void 0,b);};d.gca=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kaa="DrmDataFactorySymbol";},function(f,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.tJa="PSK";a.qGa="MGK";a.nrb="MGK_WITH_FALLBACK";a.mrb="MGK_JWE";a.arb="JWEJS_RSA";a.HFa="JWK_RSA";a.brb="JWK_RSAES";d.vU=a;},function(f,d,a){var k;function b(a,b){this.zg=b;this.vr=Math.floor(a);this.display=this.vr+" "+this.zg.name;}function c(a,b,c){this.zg=a;this.name=b;this.Oa=c?c:this;k.gk(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});k=a(47);c.prototype.BP=function(a){return this.zg==a.zg;};c.prototype.toJSON=function(){return this.name;};d.kM=c;b.prototype.ma=function(a){return this.zg.BP(a)?this.vr:Math.floor(this.vr*this.zg.zg/a.zg);};b.prototype.to=function(a){return new b(this.ma(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.vr,units:this.zg.name};};b.prototype.add=function(a){return this.Bla(a);};b.prototype.Kd=function(a){return this.Bla(a,function(a){return-a;});};b.prototype.Tk=function(a){return this.ma(this.zg.Oa)-a.ma(this.zg.Oa);};b.prototype.BP=function(a){return 0==this.Tk(a);};b.prototype.gra=function(){return 0==this.vr;};b.prototype.Sqa=function(){return 0>this.vr;};b.prototype.Wqa=function(){return 0<this.vr;};b.prototype.Bla=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.ma(this.zg.Oa)+c(a.ma(this.zg.Oa)),this.zg.Oa);};d.Tp=b;},function(f,d,a){var k;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.q5(a)(b);}c.Osa=new k.Metadata(a,b);return c;};}function c(a,b){a=a.Fr;return null!==a?b(a)?!0:c(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(35);k=a(64);d.Fya=c;d.cya=b;d.hta=b(f.Fs);d.Lya=function(a){return function(b){var c;return null!==b?(c=b.TF[0],"string"===typeof a?c.ie===a:a===b.TF[0].Fi):!1;};};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(241);c=a(240);f=function(){function a(a){this.wb=a;this.JX=new c.BU(this.wb);this.IX=new b.AU(this.wb);}a.prototype.MK=function(){return this.JX.MK();};a.prototype.jp=function(a){return this.IX.jp(a);};return a;}();d.kv=f;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(96);k=a(64);h=a(991);f=function(){function a(a,d,g,f){this.id=c.id();this.type=a;this.ie=g;this.name=new h.IKa(d||"");this.Wb=[];a=null;"string"===typeof f?a=new k.Metadata(b.Fs,f):f instanceof k.Metadata&&(a=f);null!==a&&this.Wb.push(a);}a.prototype.Tpa=function(a){for(var b=0,c=this.Wb;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Tpa(b.yv);};a.prototype.iab=function(a){return this.q5(b.yv)(a);};a.prototype.g4=function(){return this.Tpa(b.Fs);};a.prototype.n4=function(){return this.Wb.some(function(a){return a.key!==b.aE&&a.key!==b.yv&&a.key!==b.KL&&a.key!==b.ME&&a.key!==b.Fs;});};a.prototype.Vqa=function(){return this.q5(b.xda)(!0);};a.prototype.V5a=function(){return this.g4()?this.Wb.filter(function(a){return a.key===b.Fs;})[0]:null;};a.prototype.Z4a=function(){return this.n4()?this.Wb.filter(function(a){return a.key!==b.aE&&a.key!==b.yv&&a.key!==b.KL&&a.key!==b.ME&&a.key!==b.Fs;}):null;};a.prototype.q5=function(a){var b;b=this;return function(c){var h;for(var d=0,g=b.Wb;d<g.length;d++){h=g[d];if(h.key===a&&h.value===c)return!0;}return!1;};};return a;}();d.hM=f;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);c=a(35);k=a(64);h=a(83);f=function(){function a(a){this.LNa=a;}a.prototype.Pmb=function(){return this.LNa();};return a;}();d.$V=f;d.l=function(a){return function(d,g,f){var p;if(void 0===a)throw Error(b.AMa(d.name));p=new k.Metadata(c.aE,a);"number"===typeof f?h.Ky(d,g,f,p):h.mK(d,g,p);};};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);d.bra=function(a){return a instanceof RangeError||a.message===b.lLa;};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);f=function(){function a(){}a.prototype.Loa=function(a){var c;c=Reflect.getMetadata(b.EW,a);a=Reflect.getMetadata(b.xfa,a);return{Dla:c,pnb:a||{}};};a.prototype.n6a=function(a){return Reflect.getMetadata(b.yfa,a)||[];};return a;}();d.mW=f;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(239);c=a(972);k=a(238);h=a(237);g=a(968);n=a(960);p=a(854);r=a(847);a=a(507);d.sb=new f.LD({Vu:!0});r.k$a(d.sb);d.sb.load(c.platform);d.sb.load(g.config);k.DZ.load(n.ph);h.w1.load(p.u1a);d.sb.load(a.WZ);d.sb.bind(b.WV).bg(d.sb);},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(115);c=a(6);d=a(2);k=a(3);h=a(106);g=a(56);f.Fe(d.I.Sba,function(a){var d,f;d=H._cad_global.videoPreparer;f=H._cad_global.playerPredictionModel;d&&H._cad_global.playerPredictionModel&&(n=k.Y.get(h.Gea).create(f,d.efb.bind(d)),H._cad_global.prefetchEvents=n,d.Sg.on("deletedCacheItem",function(a){n.aG(g.Oc.zE[a.type],parseInt(a.movieId,10),a.reason);}),b.fj.addEventListener("cacheEvict",function(a){n.aG(h.Od.hi.UD,a.movieId,"ase_cacheEvict");n.aG(h.Od.hi.MEDIA,a.movieId,"ase_cacheEvict");}),b.fj.addEventListener("flushedBytes",function(){b.fj.AO().forEach(function(a){n.aG(h.Od.hi.MEDIA,a.M,"ase_flushedBytes");},this);}),d.wm.addEventListener(d.wm.events.Bfa,function(a){n.PVa(g.Oc.zE[a.type],a.M,a.reason);}),d.wm.addEventListener(d.wm.events.zfa,function(a){n.LVa(g.Oc.zE[a.type],a.M,a.reason);}),d.wm.addEventListener(d.wm.events.Afa,function(a){n.NVa(g.Oc.zE[a.type],a.M,a.reason);}),d.wm.addEventListener(d.wm.events.Cfa,function(a){n.RVa(g.Oc.zE[a.type],a.M,a.reason);}));a(c.Nb);});},function(f,d,a){var k,h,g,n,p,r,u,l,A,m;function b(a,b){this.Zg=a;this.Bi=b;}function c(a){this.U=a;this.reset();}k=a(170);h=a(169);d=a(243);g=a(242).config;n=d.Q4a;p=d.B4a;r=d.q0a;u=d.Kcb;l=d.Jcb;A=d.Icb;m=d.doa;c.prototype.constructor=c;c.prototype.reset=function(){this.Bia=void 0;this.jh=[];this.jia=this.kia=!1;};c.prototype.update=function(a,b){var c;this.jh&&(this.jh=this.jh.filter(this.Gjb,this));if(!1===this.kia){c=n(a.sa).slice(0,g.rma);0<c.length&&(this.Ix(c,h.Lp.Gh),this.kia=!0,this.jh=this.Ty(c.concat(this.jh)));}!1===this.jia&&(c=p(a.sa).slice(0,g.rma),0<c.length&&(this.Ix(c,h.Lp.Gh),this.jia=!0,this.jh=this.Ty(c.concat(this.jh))));switch(b){case h.Kp.kba:b=this.r7a(a);break;case h.Kp.Vea:b=this.B7a(a);break;case h.Kp.dM:b=this.C7a(a);break;case h.Kp.xE:b=this.x7a(a);break;default:b=this.q7a(a);}this.Bia=a;return b;};c.prototype.r7a=function(a){a=u(a.sa,g.pwa,g.yla);this.Ix(a,h.Lp.Gh);return this.jh=this.Ty(this.jh.concat(a));};c.prototype.B7a=function(a){var b,c;this.U.log("handleScrollHorizontal");b=a.sa;a=u(b,g.rwa,g.zla);c=r(b,this.Bia.sa);b=b[c].list.slice(0,g.Nhb);b.concat(a);this.Ix(b,h.Lp.sX);return this.Ty(b.concat(this.jh));};c.prototype.Ix=function(a,b){a.forEach(function(a){if(void 0===a.Gt||a.Gt<b)a.Gt=b;void 0===a.oD&&(a.oD=k());void 0===a.Rh&&(a.Rh=k());});};c.prototype.C7a=function(a){this.U.log("handleSearch");a=l(a.sa,g.dib);this.Ix(a,h.Lp.Yea);this.jh=a.concat(this.jh);return this.jh=this.Ty(this.jh);};c.prototype.x7a=function(a){var c,d,f,k,p;this.U.log("handlePlayFocus: ",g.DH);c=a.direction;d=a.sa;a=[];f=m(d);if(void 0!==f.Zg)switch(a.push(f),c){case h.Wn.Pea:for(c=1;c<g.DH;c++)a.push(new b(f.Zg,f.Bi+c));a.push(new b(f.Zg-1,f.Bi));a.push(new b(f.Zg+1,f.Bi));break;case h.Wn.tca:for(c=1;c<g.DH;c++)a.push(new b(f.Zg,f.Bi-c));a.push(new b(f.Zg-1,f.Bi));a.push(new b(f.Zg+1,f.Bi));break;case h.Wn.DMa:a.push(new b(f.Zg-1,f.Bi));for(c=1;c<=g.DH/2;c++)a.push(new b(f.Zg,f.Bi+c)),a.push(new b(f.Zg,f.Bi-c));break;case h.Wn.TCa:for(a.push(new b(f.Zg+1,f.Bi)),c=1;c<=g.DH/2;c++)a.push(new b(f.Zg,f.Bi+c)),a.push(new b(f.Zg,f.Bi-c));}k=[];a.forEach(function(a){p=A(d,a.Zg,a.Bi);void 0!==p&&k.push(p);});this.Ix(k,h.Lp.sX);return this.Ty(k.concat(this.jh));};c.prototype.q7a=function(a){this.U.log("ModelOne: handleDefaultCase");a=u(a.sa,g.rwa,g.zla);this.Ix(a,h.Lp.sX);return this.Ty(a.concat(this.jh));};c.prototype.Gjb=function(a){return a.Gt==h.Lp.Gh|a.Gt==h.Lp.Yea&k()-a.oD<g.a8a;};c.prototype.Ty=function(a){var b,c,d,g,h,f,k;b=[];c={};f=0;k=a.length;for(h=0;h<k;h++)d=a[h].te,g=a[h],!1===d in c?(b.push(g),c[d]=f,f++):(d=b[c[d]],g.Rh<d.Rh&&(d.Rh=g.Rh),g.Gt>d.Gt&&(d.Gt=g.Gt),g.oD>d.oD&&(d.oD=g.oD));return b;};f.K=c;},function(f,d,a){var h,g,n,p,r,u,l;function b(a,b,c,d,g,h){this.M=this.te=a;this.ed=b;this.Kb=c;h&&h.kc&&(this.kc=h.kc);void 0!==d&&(this.fy=d);this.Rh=g;this.ob=h;}function c(a,b,c,d,g){n(void 0!==d,"video preparer is null");n(void 0!==g,"ui preparer is null");this.U=b||console;this.U=b;this.ib=c;this.GSa=d;this.vSa=g;this.yia=u.R6;this.kA=[];this.tZ=!1;this.Cl=0;new l().on(u,"changed",k,this);this.reset();}function k(){this.U.log("config changed");u.R6&&(this.yia=u.R6);u.GI!==this.Xz&&(this.reset(),this.ghb());}h=a(170);g=a(169);d=a(243);n=d.assert;p=d.doa;r=a(466);u=a(242).config;l=a(32).RD;u.declare({R6:["ppmConfig",{apb:{Bta:0,Ata:2,yta:0,zta:5,rxa:0},Ctb:{Bta:0,Ata:1,yta:0,zta:3,rxa:1E3},ppb:{Bta:0,Ata:1,yta:0,zta:3,rxa:1E3}}]});c.prototype.constructor=c;c.prototype.reset=function(){this.lY=!0;this.Xz=u.GI;this.U.log("create model: "+u.GI,u.pwa,u.yla);switch(u.GI){case"modelone":this.Xz=new r(this.U);break;default:this.Xz=new r(this.U);}};c.prototype.ghb=function(){var b,c;if(!1===this.tZ){this.tZ=!0;for(var a=0;a<this.kA.length;a++){this.U.log("PlayPredictionModel replay: ",JSON.stringify(this.kA[a]));b=this.Rla(this.kA[a]);c=this.yoa(b);this.Xz.update(b,c);this.lY=!1;}this.kA=[];}};c.prototype.update=function(a){var b,c,d;this.U.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.sa&&a.sa[0]){!1===this.tZ&&this.kA.length<u.zab&&this.kA.push(a);b=this.Rla(a);c=this.yoa(b);this.U.log("actionType",c);b="mlmodel"==u.GI?this.Xz.update(a,c):this.Xz.update(b,c);b=this.c4a(b,u.z9a||1);this.U.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Cl&&(this.Cl=h(),this.ib&&this.ib.DJ&&this.ib.DJ({eP:this.Cl}));if(this.ib&&this.ib.Rva){d={eP:this.Cl,offset:this.jQ(),Xua:[]};b.forEach(function(a){d.Xua.push({On:a.te});});d.Rua=JSON.stringify(a);d.Sua=JSON.stringify(b);this.ib.Rva(d);}this.GSa.Lu(b);this.vSa.Lu(b);this.lY=!1;}};c.prototype.shb=function(){this.Cl=0;};c.prototype.jQ=function(){return h()-this.Cl;};c.prototype.DJ=function(){this.Cl=h();this.ib&&this.ib.DJ&&this.ib.DJ({eP:this.Cl});};c.prototype.Rla=function(a){var b,c,d,h,f;b={};h=a.sa||[];f=function(a){var h,f;h={};c=g.bE.name.indexOf(a.context);h.context=0<=c?c:g.bE.Wp;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];d=a.list||[];d.forEach(function(a){f={te:a.te,Kb:a.Kb,index:a.index,fy:a.fy,CC:a.CC,list:a.list,ob:a.ob};void 0!==a.property&&(c=g.jz.name.indexOf(a.property),f.property=0<=c?c:g.jz.Wp);h.list.push(f);}.bind(this));b.sa.push(h);}.bind(this);void 0!==a.direction&&(c=g.Wn.name.indexOf(a.direction),b.direction=0<=c?c:g.Wn.Wp);void 0!==a.hH&&(b.pxb=a.hH.rowIndex,b.oxb=a.hH.$Wa);b.hH=a.hH;b.sa=[];h.forEach(f);return b;};c.prototype.yoa=function(a){var b,c,d;b=a.direction||g.Wn.Wp;c=a.hH;d=a.sa||[];!0===this.lY?a=g.Kp.kba:!0===d.some(this.K7a)?(a=g.Kp.xE,this.JS(d,b,c)):a=d[0].context===g.bE.dM?g.Kp.dM:b===g.Wn.Pea||b===g.Wn.tca?g.Kp.Vea:g.Kp.Wp;return a;};c.prototype.K7a=function(a){return(a.list||[]).some(function(a){return a.property===g.jz.xE||a.property===g.jz.taa;});};c.prototype.JS=function(a,b,c){var d,f;this.U.log("reportPlayFocusEvent: ",b,c);d={};f=p(a);this.ib&&this.ib.JS&&(d.Ywb=h(),d.direction=g.Wn.name[b],c&&(d.rowIndex=c.rowIndex,d.j0=c.$Wa),void 0!==f.Zg&&(d.requestId=a[f.Zg].requestId),this.ib.JS&&this.ib.JS(d));};c.prototype.c4a=function(a,b){for(var c=a.length,d=[],g,h,f,k,p=0;p<c;p++){h=a[p];g=Math.floor(p/b)+1;if(void 0!==h.list){f=h.list;k=f.length;for(var n=0;n<Math.min(u.YWa,k)&&!(f[n].Rh=h.Rh,this.Hja(f[n],g,d),d.length>=u.xsa);n++);}else this.Hja(h,g,d);if(d.length>=u.xsa)break;}return d;};c.prototype.Hja=function(a,c,d){var h,f;function g(a){a.kc&&(a.ob||(a.ob={}),a.ob.kc=a.kc);return a.ob;}h=a.CC;void 0!==h&&h instanceof Array?h.forEach(function(h){void 0!==h.te&&(f=g(h),d.push(new b(h.te,c,h.Kb,h.fy,a.Rh,f)));}):void 0!==h&&void 0!==h.te&&(h=a.CC,f=g(h),d.push(new b(h.te,c,h.Kb,h.fy,a.Rh,f)));void 0!==a.te&&(f=g(a),d.push(new b(a.te,c,a.Kb,a.fy,a.Rh,f)));};c.prototype.hu=function(a){var b;b=this.yia;return a?b[a]:b;};f.K=c;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(5);c=a(6);d=a(2);k=a(3);f.Fe(d.I.Tba,function(d){var g,f;if(b.config.Neb){g=k.Tc("PlayerPredictionModel");H._cad_global.videoPreparer||(g.error("videoPreparer is not defined"),d(c.Nb));f=a(467);g.log=g.trace.bind(g);h=new f({},g,{DJ:function(a){H._cad_global.prefetchEvents.p0a(a.eP);},Rva:function(a){H._cad_global.prefetchEvents.ffb(a);}},H._cad_global.videoPreparer,{Lu:function(){}});H._cad_global.playerPredictionModel=h;g.info("ppm v2 initialized");}d(c.Nb);});},function(f){f.K={du:{Ca:12E5,fI:9E5,Wb:12E5},Ft:{Ca:10,fI:10,Wb:10},Et:{Ca:10240,fI:10240,Wb:10240}};},function(f){function d(a){var b;b=[];return function k(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var d in a)if(a.hasOwnProperty(d)&&k(a[d]))return!0;}return!1;}(a);}f.K=function(a,b){var f;if(b&&d(a))return-1;b=[];a=[a];for(var c=0;a.length;){f=a.pop();if("boolean"===typeof f)c+=4;else if("string"===typeof f)c+=2*f.length;else if("number"===typeof f)c+=8;else if("object"===typeof f&&-1===b.indexOf(f)){b.push(f);for(var h in f)a.push(f[h]);}}return c;};},function(f,d,a){var g,n;function b(){return Object.create(null);}function c(a){this.log=a.log;this.Pa=a.Pa;this.Jx=b();this.Promise=a.Promise;this.Tq=a.Tq;this.J9=a.J9;this.fe=a.fe||!1;this.du=b();this.Ft=b();this.Et=b();this.ORa(a);a.hB&&(this.hB=a.hB,g(this.hB,c.prototype));}function k(a){return"undefined"!==typeof a;}function h(a){var d;for(var b=0,c=arguments.length;b<c;){d=arguments[b++];if(k(d))return d;}}g=a(41);a(470);n=a(469);c.prototype.ORa=function(a){this.du.manifest=h(a.K1,n.du.Ca);this.du.ldl=h(a.J1,n.du.fI);this.du.metadata=h(a.bxb,n.du.Wb);this.Ft.manifest=h(a.M_,n.Ft.Ca);this.Ft.ldl=h(a.L_,n.Ft.fI);this.Ft.metadata=h(a.vvb,n.Ft.Wb);this.Et.manifest=h(a.tvb,n.Et.Ca);this.Et.ldl=h(a.svb,n.Et.fI);this.Et.metadata=h(a.uvb,n.Et.Wb);};c.prototype.yQ=function(a,b,c){this.pg("undefined"!==typeof a);this.pg("undefined"!==typeof b);return!!this.kha(a,b,c).value;};c.prototype.kha=function(a,b,c){var d,g;d={value:null,reason:"",log:""};g=this.Jx[b];if("undefined"===typeof g)return d.log="cache miss: no data exists for field:"+b,d.reason="unavailable",d;"undefined"===typeof g[a]?(d.log="cache miss: no data exists for movieId:"+a,d.reason="unavailable"):(c=g[a][c?c:"DEFAULTCAPS"])&&c.value?this.TQ(b,c.og)?(d.log="cache miss: "+b+" data expired for movieId:"+a,d.reason="expired"):(d.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,d.value=c.value):(d.log="cache miss: "+b+" data not available for movieId:"+a,d.reason="unavailable");return d;};c.prototype.getData=function(a,b,c){this.pg("undefined"!==typeof a);this.pg("undefined"!==typeof b);a=this.kha(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.J9?JSON.parse(this.J9(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};c.prototype.setData=function(a,c,d,g,h){var f;this.pg("undefined"!==typeof a);this.pg("undefined"!==typeof c);f=this.Jx;h=h?h:"DEFAULTCAPS";f[c]||(f[c]=b(),Object.defineProperty(f[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(f[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.Tq?this.Tq(JSON.stringify(d),"gzip",!0):d;f=f[c];this.sPa(a,c,h,f);c={og:this.Pa.getTime(),value:d,size:0,type:c,f1:g};f[a]=f[a]||b();f[a][h]=f[a][h]||b();f[a][h]=c;f.size+=0;f.numEntries++;this.hB&&this.emit("addedCacheItem",c);return c;};c.prototype.sPa=function(a,b,c,d){var g,h,f,k,n,p,r,u,l;g=this;h=d.numEntries;f=this.Ft[b];p=d[a]&&d[a][c];if(p&&p.value)k=a,n="promise_or_expired";else if(h>=f){u=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var h;h=d[a]&&d[a][c];h&&h.value&&g.TQ(b,h.og)&&(l=a);h&&h.value&&h.og<u&&(u=h.og,r=a);return!0;});k=l||r;n="cache_full";}this.fe&&this.log.debug("makespace ",{maxCount:f,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:k});k&&(g.clearData(k,b,c,void 0,n),this.log.debug("removed from cache: ",k,b));};c.prototype.b0=function(a,b){var c,d;c=this;c.pg("undefined"!==typeof a);d=a+"";b.forEach(function(a){var b;b=c.Jx[a];b&&Object.keys(b).forEach(function(b){b!=d&&c.clearData(b,a,void 0,void 0,"clear_all");});});};c.prototype.clearData=function(a,b,c,d,g){var h;this.pg("undefined"!==typeof a);this.pg("undefined"!==typeof b);h=this.Jx[b];b=h?h[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){h.size-=b[c].size;h.numEntries--;if(h=b&&b[c])b[c]=void 0,!d&&h.f1&&h.f1();this.hB&&(a={creationTime:h.og,destroyFn:h.f1,size:h.size,type:h.type,value:h.value,reason:g,movieId:a},this.emit("deletedCacheItem",a));}};c.prototype.flush=function(a){var c;this.pg("undefined"!==typeof a);c=this.Jx;c[a]=b();c[a].numEntries=0;c[a].size=0;};c.prototype.TQ=function(a,b){return this.Pa.getTime()-b>this.du[a];};c.prototype.getStats=function(a,b,c){var d,g,h,f,n;d={};g=this;h=g.Jx;f=k(a)&&k(b);n=c||"DEFAULTCAPS";Object.keys(h).forEach(function(c){var p,r;p=Object.keys(h[c]);r=h[c];p.forEach(function(h){!(h=r&&r[h]&&r[h][n])||!k(h.value)||h.value instanceof this.Promise||(d[c]=(d[c]|0)+1,g.TQ(h.type,h.og)&&(d[c+"_expired"]=(d[c+"_expired"]|0)+1),f&&h.og>=a&&h.og<b&&(d[c+"_delta"]=(d[c+"_delta"]|0)+1));});});return d;};c.prototype.me=function(a){var b,c,d,g;b=[];c=this;d=c.Jx;g=a||"DEFAULTCAPS";Object.keys(d).forEach(function(a){var h,f;h=Object.keys(d[a]);f=d[a];h.forEach(function(d){var h,n;h=f&&f[d]&&f[d][g];h&&k(h.value)&&(n=c.TQ(h.type,h.og)?"expired":h.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:n,type:a,size:h.size}));});});return b;};c.prototype.lxa=function(a,b){this.pg("undefined"!==typeof a);this.pg("undefined"!==typeof b);this.Et[a]=b;};c.prototype.pg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.fe))throw Error("Debug Assert Failed ");};f.K=c;},function(f,d,a){var c,k;function b(a,b,d,f,r,u,l){this.M=a;this.ed=b;this.type=d;this.id=++k;this.TO=f;this.status=c.Nd.$$;this.peb=void 0===r?!1:r;this.sta=l;}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);k=0;b.prototype.Ro=function(){var a;a={id:this.id,type:this.type,created:this.TO,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.Ki=function(a){this.sta&&this.sta(a);};d.JE=b;},function(f,d,a){var h,g,n;function b(){}function c(a){this.log=a.log;this.Pa=a.Pa;this.VO=this.xG=0;this.cv=[];this.paused=!1;this.ET=[];this.Ela=[];this.SH=a.SH||b.g$;this.sb=a.sb;this.ri=this.sb.get(g.oL);this.addEventListener=this.ri.addListener.bind(this.ri);this.events={Bfa:"taskstart",zfa:"taskabort",Afa:"taskfail",Cfa:"tasksuccess"};}function k(a){return a.Ro();}Object.defineProperty(d,"__esModule",{value:!0});f=a(114);h=a(56);g=a(80);b.qJa="prepend";b.g$="append";b.zEa="ignore";n=f.Qp;d.ZLa=c;c.prototype.Nja=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.cv=this.bPa(a);this.xG=0;this.VO+=1;this.cb();};c.prototype.bPa=function(a){var c,d;c=this.cv.filter(function(a){return a.peb&&a.status===h.Nd.$$;});d=this.SH;if(d===b.zEa)return[].concat(a);if(d===b.qJa)return c.concat(a);if(d===b.g$)return a.concat(c);};c.prototype.pause=function(){this.paused=!0;};c.prototype.cb=function(){var a,b;if(this.xG===this.cv.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.xG,numberOfTasks:this.cv.length});else{a=this.X5a();b=this.VO;a.startTime=this.Pa.getTime();a.status=h.Nd.afa;this.ri.Cc(this.events.Bfa,{M:a.M,type:a.type});this.ET.push(a);a.oe(function(c){a.endTime=this.Pa.getTime();c?0<=[h.Nd.$y,h.Nd.$K,h.Nd.ID,h.Nd.ZK].indexOf(c.status)?(a.status=c.status,this.VY(a,this.events.zfa,"cancelled task")):(a.status=h.Nd.Bm,this.VY(a,this.events.Afa,"task failed",c)):(a.status=h.Nd.kfa,this.VY(a,this.events.Cfa,"task succeeded"));this.Ela.push(a);this.ET.splice(this.ET.indexOf(a),1);this.VO===b&&(this.xG++,this.cb());}.bind(this));}};c.prototype.X5a=function(){return this.cv[this.xG];};c.prototype.VY=function(a,b,c,d){var g;g=a.Ro();d?this.log.warn(c,g,d):this.log.trace(c,g);this.ri.Cc(b,{M:a.M,type:a.type,reason:a.status});a.Ki(g);};c.prototype.getStats=function(a,b,c){var d,g,f,p;d=this.Ela.map(k);g=this.ET.map(k);f=n.Qf(a)&&n.Qf(b);p={};if(n.Qf(c))return p.hXa=d.filter(function(a){return a.movieId===c;}),p;d.concat(g).forEach(function(c){var d;p[c.type+"_"+c.status]=(p[c.type+"_"+c.status]|0)+1;d=c.status==h.Nd.afa?c.startTime:c.endTime;f&&d>=a&&d<b&&(p[c.type+"_"+c.status+"_delta"]=(p[c.type+"_"+c.status+"_delta"]|0)+1);});return p;};},function(f,d,a){var h,g,n,p,r,u,l,A,m,x;function b(a){if(!a)throw Error("Debug Assert Failed ");}function c(a){this.log=a.log;this.Pa=a.Pa;this.rB=a.rB;this.nQ=a.nQ;this.qB=a.qB;this.sB=a.sB;this.zx=a.zx;this.X_=a.X_;this.EG=a.EG;this.sb=a.sb;this.config=this.sb.get(u.Ef)();this.GG=a.GG;this.FG=a.FG;this.c$=a.c$;this.r6=a.r6;this.s6=a.s6;this.VI=a.VI;this.I2=a.I2;this.fe=a.fe||!1;this.yZ={};this.vN={};this.ON={num_of_calls:0,num_of_movies:0};this.W_=a.W_;this.Y5=a.Y5;this.eQ=a.eQ;this.m4a=a.m4a;this.z2=a.z2;this.P_=a.P_;this.Sg=new l({log:this.log,Pa:this.Pa,Promise:Promise,fe:this.fe,M_:a.M_,L_:a.L_,K1:a.K1,J1:a.J1,hB:A});this.wm=new h.ZLa({log:this.log,Pa:this.Pa,SH:a.SH,sb:this.sb});this.nj=this.Sg.getData.bind(this.Sg);this.Uu=this.Sg.setData.bind(this.Sg);this.wQ=this.Sg.yQ.bind(this.Sg);}function k(a){var c;b(m.Eq(a.Xta));c=this.Pa;return a.Xta.map(function(b){var d;d=new g.JE(a.M,a.ed,a.QBb,c.getTime(),!0);d.oe=b;return d;});}Object.defineProperty(d,"__esModule",{value:!0});h=a(473);g=a(472);f=a(114);n=a(225);p=a(422);r=a(106);u=a(25);l=a(471);A=a(32).EventEmitter;m=f.Qp;x=new p.Rfa(m,new n.yU());d.KMa=c;c.prototype.Lu=function(a,b){var c,d,g;c=this;a=a.map(function(a){a.ob=a.ob||{Dw:{wua:!1},cg:0};m.Vk(a.ob.cg)||(a.ob.cg=0);m.Vk(a.Kb)&&(a.ob.S=a.Kb);return a;});this.config&&this.config.kJ&&"undefined"!==typeof this.config.kJ.maxNumberTitlesScheduled&&a.splice(this.config.kJ.maxNumberTitlesScheduled);d=a.map(function(a){return c.Nga(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=d.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",g);this.wm.Nja(d);this.ON.num_of_calls++;this.ON.num_of_movies+=a.length;};c.prototype.bfb=function(a,b){var c,d,g;c=this;d=a.map(function(a){return a.M+"";});a=a.map(function(a){a.ob=a.ob||{Dw:{wua:!1},cg:0};a.ob.Jd=!0;a.ob.ata=d;return c.Nga(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",g);this.wm.Nja(a);};c.prototype.yk=function(a,b){this.vN[a]||(this.vN[a]={});a=this.vN[a];a.Yua=(a.Yua|0)+1;a.Rh=b;};c.prototype.getStats=function(a,b,c){var d;d=c&&this.vN[c]||{};d.cv=this.wm.getStats(a,b,c);d.cache=this.Sg.getStats(a,b);d.voa=x.sj(this.I2(),this.ON);return d||{};};c.prototype.Nga=function(a,b){var c,d,h,f,n;if(m.Qf(a.Xta))return k.call(this,a);a.kc&&(a.ob.kc=a.kc);c=[];d=a.M;h=!!a.ob.Jd;this.yk(d,a.Rh);f=null;if(this.Sg.yQ(d,"manifest"))this.log.trace("manifest exists in cache for "+d);else{n=new g.JE(d,a.ed,"manifest",this.Pa.getTime(),h,void 0,b);f=n.id;n.oe=this.rB.bind(this,d,a.ob);c.push(n);}this.nQ&&this.X_()&&(this.Sg.yQ(d,"ldl")?this.fe&&this.log.trace("ldl exists in cache for "+d):(n=new g.JE(d,a.ed,"ldl",this.Pa.getTime(),h,f,b),n.oe=this.nQ.bind(this,d),c.push(n)));this.qB&&this.sB&&this.W_()&&(this.Y5(d)?this.fe&&this.log.trace("headers/media exists in cache for "+d):(d=new g.JE(a.M,a.ed,"getHeaders",this.Pa.getTime(),h,f,b),d.oe=this.qB.bind(this,a.M,a.ob),c.push(d),b=new g.JE(a.M,a.ed,"getMedia",this.Pa.getTime(),h,f,b),b.oe=this.sB.bind(this,a.M,a.ob),c.push(b)));return c;};c.prototype.A7a=function(a){this.s6(a);};c.prototype.z7a=function(a){this.log.trace("task scheduler paused on playback created");this.wm.pause();this.GG&&this.Sg.b0(a,["manifest"]);this.FG&&this.Sg.b0(a,["ldl"]);this.r6(a);};c.prototype.Kpa=function(){this.log.info("track changed, clearing all manifests from cache");this.Sg.b0("none",["manifest"]);};c.prototype.y7a=function(a){var b;b=this;this.EG?this.Sg.clearData(a,"manifest"):this.Sg.yQ(a,"manifest")&&this.Sg.getData(a,"manifest").then(function(c){c.isSupplemental||b.Sg.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.Sg.clearData(a,"ldl",void 0,!0);this.f0(a);this.VI();};c.prototype.f0=function(a){this.yZ[a]=void 0;};c.prototype.q3=function(a){return this.yZ[a];};c.prototype.gma=function(a){return this.yZ[a]=this.c$();};c.prototype.efb=function(){var a;a=[];a=this.Sg.me().map(function(a){return{On:parseInt(a.movieId,10),state:a.state,Hq:a.type,size:a.size||void 0};});this.z2().map(function(b){2===b.AB?a.push({On:b.M,state:"cached",Hq:r.Od.hi.UD,size:void 0}):b.B3a&&!b.L9a&&a.push({On:b.M,state:"loading",Hq:r.Od.hi.UD,size:void 0});b.uza&&0<b.uza&&b.hka&&0<b.hka?a.push({On:b.M,state:"cached",Hq:r.Od.hi.MEDIA,size:void 0}):b.Yeb&&!b.Xeb&&a.push({On:b.M,state:"loading",Hq:r.Od.hi.MEDIA,size:void 0});});return a;};c.prototype.Lqa=function(a){return a&&0<=a.indexOf("billboard");};},function(f,d,a){var b,c,k,h,g,n,p,r,u,l,A,m,x,w,z,y,F,K,q,da,P,Y,t,fa,Z,O;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(29);c=a(115);k=a(122);h=a(5);g=a(6);n=a(89);p=a(33);r=a(17);d=a(2);u=a(3);l=a(21);A=a(154);m=a(4);x=a(91);w=a(95);z=a(107);y=a(56);F=a(171);K=a(16);q=a(37);da=a(28);P=a(474);Y=a(153);t=a(201);fa=a(147);Z=a(102);f.Fe(d.I.Yba,function(a){var la,ea,R,G,ia,Na,B,ib,Sa,U,W,X,ca,ga,Ha;function d(){var a,b,c;if(h.config.jl){a={};a.trigger=y.Oc.pJa.mIa;b=la.getTime();c=O.getStats(ga,b);a.startoffset=ga;ga=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.cv);a.general=JSON.stringify(c.voa);a=new n.qz(void 0,"prepare","info",a);H._cad_global.logBatcher.km(a);}}function f(a,b,d){var g,f;f=a.video_tracks;f&&f.length&&f[0].streams&&f[0].streams.length&&(g=f[0].streams[0].content_profile);f=h.Lla(b.kc);g=h.Kla(!!a.choiceMap,g);g=c.Rj.Io(Object.assign({},f,g));return{M:d,ed:0,P5a:function(){return{Ca:a,Qh:!1,yA:a.defaultTrackOrderList[0].audioTrackId};},config:g,Jd:!!b.Jd,ata:b.ata};}function v(a,b){O.nj(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){B.trace("ldl not available in cache",c);O.nj(a,"manifest").then(function(c){var g,f,k;function d(b){B.warn("ldl is now invalid",b);f.close();O.Uu(a,"ldl",void 0);O.f0(a);}if(O.wQ(a,"ldl"))b({status:y.Oc.Nd.$y});else if(c.hasDrmStreams)if(h.config.Xma&&ib&&ib!=a)b({status:y.Oc.Nd.$K});else if(h.config.Yma&&Sa&&Sa!=a)b({status:y.Oc.Nd.ID});else{ib&&ib!=a&&(U[a]=(U[a]|0)+1);Sa&&Sa!=a&&(W[a]=(W[a]|0)+1);g=c.video_tracks[0].drmHeader.bytes;f=ba({LQ:"cenc",pna:B,en:function(b){var d;d=[];b.Tj.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:u.u_(a.data)});});b={Tj:d,mP:[c.drmContextId],tg:y.Oc.Qla(b.tg),Qe:c.playbackContextId,ha:O.gma(a)};B.trace("xid created ",{MovieId:a,xid:b.ha});return G.uA(b,X);},ukb:void 0,v2a:d,Yd:void 0,UR:K.Rb,Pa:ia});O.Uu(a,"ldl",f,function(){f.close();});k=Na.shift();u.log.trace("cached mediakeys count "+Na.length);return f.create(h.config.Uc,k).then(function(){return f.Wd(x.ul.vv,[u.Tm(g)],!0);}).then(function(){b(null,f);})["catch"](function(a){d(a);b(a);});}else b({status:y.Oc.Nd.ZK});})["catch"](function(a){B.warn("Manifest not available for ldl request",a);b({status:y.Oc.Nd.$y});});});}function D(a,b){O.nj(a,"ldl").then(function(a){b(null,a);})["catch"](function(c){B.trace("ldl not available in cache",c);O.nj(a,"manifest").then(function(c){var g,f;function d(b,c){B.warn(b+" LDL is now invalid.",c);O.Uu(a,"ldl",void 0);O.f0(a);}if(O.wQ(a,"ldl"))b({status:y.Oc.Nd.$y});else if(c.hasDrmStreams)if(h.config.Xma&&ib&&ib!=a)b({status:y.Oc.Nd.$K});else if(h.config.Yma&&Sa&&Sa!=a)b({status:y.Oc.Nd.ID});else{ib&&ib!=a&&(U[a]=(U[a]|0)+1);Sa&&Sa!=a&&(W[a]=(W[a]|0)+1);g=c.video_tracks[0].drmHeader.bytes;f=u.Y.get(w.ND)().then(function(b){var d;d={type:x.ul.vv,KQ:u.Tm(g),context:{Uc:h.config.Uc},wg:{M:a,ha:O.gma(a),Qe:c.playbackContextId,lj:c.drmContextId,profileId:k.Qg.profile.id}};return b.Lu(d);}).then(function(a){b(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});O.Uu(a,"ldl",f,function(){try{f.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch($a){d("Unable to cleanup LDL session, unexpected exception.",$a);}});}else b({status:y.Oc.Nd.ZK});})["catch"](function(a){B.warn("Manifest not available for ldl request",a);b({status:y.Oc.Nd.$y});});});}function ba(a){var b,c;b=new q.hf.vs(a.pna,a.en,a.ukb,{fe:!1,bm:!1});c=u.Y.get(z.Bz);return q.hf.Tn(a.pna,a.LQ,a.Yd,{fe:!1,bm:!1,m4:h.config.ci,Jwa:{Nsa:h.config.Iwa,ila:h.config.i8},Ta:b,fva:h.config.f7,Ep:h.config.Ep,Ma:void 0,AD:h.config.AD,Hp:h.config.z1,onerror:a.v2a,UR:a.UR,Pa:a.Pa,H6:!1,VC:h.config.S9&&h.config.VC,IQ:h.config.IQ,ika:c.PO(),vza:c.vG([]),EB:h.config.EB});}function S(a,b){0===a&&u.log.trace("generete mediakeys for pre-caching");a<b?q.hf.Tn.sG&&q.hf.Tn.sG("cenc",h.config.Uc,u.log,h.config.S9&&h.config.VC).then(function(c){Na.push(c);da.cb(S.bind(null,++a,b));})["catch"](function(a){u.log.error("abort pre-caching due to error in creating mediakeys",a);}):u.log.trace("pre-cached mediakeys complete, number of instances: "+b);}la={getTime:r.bb,kQ:r.Lw};ea=u.Y.get(l.ve);R=u.Y.get(t.fW);G=u.Y.get(fa.fE);ia=la;Na=[];B=u.Tc("VideoPreparer");U={};W={};X={bc:b.bc,log:B};if(!q.hf.Tn||!q.hf.vs){ca=q.Gda();q.hf.Tn=ca.se;q.hf.vs=ca.request;}B.info("instance created");O=new P.KMa({log:B,Pa:la,c$:r.tla,rB:function(a,b,c){var g;function d(){var c,d;ea.yw(b)||(b={trackingId:b});c={Bh:R.Ala(b.Dw,b.Bh),te:a,ou:!!b.De,gH:y.Oc.Dm.Qda};X.profile=k.Qg.profile;B.trace("manifest request for:"+a);d=u.Y.get(Z.wz)();return R.rB(c,d);}B.trace("getManifest: "+a);if(h.config.USa&&b&&b.Ca&&!O.wQ(a,"manifest")&&(!b.Ca.clientGenesis||Date.now()-b.Ca.clientGenesis<h.config.Zua)){b.Ca.wy=la.getTime();b.Ca.IC=la.getTime();g=b.Ca.runtime?u.Y.get(Y.gW).decode(b.Ca):b.Ca;O.Uu(a,"manifest",g);c(null,g);}else O.nj(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var g;B.trace("manifest not available in cache",b);if(O.wQ(a,"manifest"))c({status:y.Oc.Nd.$y});else{g=la.getTime();b=d();O.Uu(a,"manifest",b);b.then(function(b){b.wy=g;b.IC=la.getTime();O.Uu(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);O.Uu(a,"manifest",void 0);});}});},nQ:h.config.Fp?D:v,X_:function(){return h.config.uP&&p.WQ(h.config);},qB:function(a,b,d){O.nj(a,"manifest").then(function(g){g=f(g,b,a);c.fj.Ska(g,function(){d(null,{});});})["catch"](function(a){B.error("Exception in getHeaders",a);d(a);});},sB:function(a,b,d){O.nj(a,"manifest").then(function(g){var h,k,n;h=f(g,b,a);k=g.duration;g=u.Y.get(A.WK).QZ({yD:m.Pb(g.bookmark),M:a,jJ:m.Pb(k),jb:b}).ma(m.Ia);u.Y.get(l.ve).wo(b.S)&&(g=b.S);h.Kb=g;if(ib!=a||b.Jd){n=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(c.fj.removeEventListener("prebuffstats",n),d(null,{}));};c.fj.addEventListener("prebuffstats",n);c.fj.Ska(h);}else d({status:y.Oc.Nd.ID});})["catch"](function(a){B.error("Exception in getMedia",a);d(a);});},zx:function(){return c.fj.zx();},W_:function(){return h.config.tP;},Y5:function(a){var b;b=!1;c.fj.AO().forEach(function(c){c.M==a&&(b=!0);});return b;},eQ:function(a){var b;c.fj.AO().forEach(function(c){c.M==a&&(b=c.jc,b.S=c.uo);});return b;},z2:function(){return c.fj.AO().map(function(a){var b,d;b=c.fj.U$a(a.M);d=b[u.dg.gg.AUDIO]&&b[u.dg.gg.AUDIO].data;b=b[u.dg.gg.VIDEO]&&b[u.dg.gg.VIDEO].data;return{M:a.M,AB:a.AB,hka:d&&d.length,uza:b&&b.length,B3a:ea.wo(a.jc.RP),L9a:ea.wo(a.jc.gR),Yeb:ea.wo(a.jc.BC),Xeb:ea.wo(a.jc.lJ)};});},r6:function(a){ib=a;},s6:function(a){Ha&&(Ha.d0(),d());Sa=a;},VI:function(){Ha&&Ha.H8();Sa=ib=void 0;},I2:function(){return{ldls_after_create:U,ldls_after_start:W};},P_:function(a,b,c){var d,g;try{d=O.eQ(a);g=d&&d.S===b;d&&d.lJ?ea.Vk(b)&&!g?c(!1):O.nj(a,"manifest").then(function(b){b.uCb?O.nj(a,"ldl").then(function(){c(!0);})["catch"](function(){c(!1);}):c(!0);})["catch"](function(){c(!1);}):c(!1);}catch(nb){c(!1);}},EG:h.config.EG,GG:h.config.GG,FG:h.config.FG,SH:h.config.gfb,M_:h.config.jfb,L_:h.config.hfb,K1:h.config.Zua,J1:h.config.ifb,fe:!1,sb:u.Y});H._cad_global.videoPreparer=O;ca=h.config.oeb;ga=la.getTime();ca&&(Ha=new F.Rea(ca,d),Ha.H8());h.config.uP&&p.WQ(h.config)&&h.config.Tua&&da.cb(S.bind(null,0,h.config.Tua));a(g.Nb);});},function(f,d,a){var b,c,k,h,g,n,p,r,u;Object.defineProperty(d,"__esModule",{value:!0});f=a(137);b=a(6);c=a(5);k=a(20);d=a(12);h=a(3);g=a(61);n=a(79);p=a(11);r=a(16);u=a(7);H.netflix=H.netflix||{};p.na(!H.netflix.player);H.netflix.player={VideoSession:f.yX,diag:{togglePanel:function(a,b){var d;if(!c.config||c.config.BJ){switch(a){case"info":d=k.Yp.map(function(a){return a.mS;});break;case"streams":d=k.Yp.map(function(a){return a.Keb;});break;case"log":d=[];}d&&d.forEach(function(a){r.fb(b)?b?a.show():a.nx():a.toggle();});}},addNccpLogMessageSink:function(a){h.Y.get(g.Cs).addListener({Uwa:function(){},Msa:function(b){a({data:b.data});}});}},log:h.Tc("Ext"),LogLevel:d.Eh,addLogSink:function(a,b){h.Y.get(n.xv).GC(a,b);},getVersion:function(){return"6.0013.845.051";},isWidevineSupported:function(a){var d;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.iE,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.hE,robustness:"SW_SECURE_CRYPTO"}]}];try{u.ii.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var g;g=d.getConfiguration();d=g.videoCapabilities||[];g=(g.audioCapabilities||[]).reduce(c(b.hE),!1);d=d.reduce(c(b.iE),!1);a(g&&d);})["catch"](function(){a(!1);});}catch(x){a(!1);}}};},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(137);c=a(6);d=a(2);k=a(5);h=a(196);g=a(3);n=a(20);p=a(115);r=a(69);f.Fe(d.I.$ba,function(a){var d,f;if(k.config.J2a){d=g.Y.get(h.RW);f=g.Y.get(r.$n);b.yX.pO.test={pboRequests:d.Ta,playbacks:n.Yp,aseManager:{cacheDestroy:function(){return p.fj.Rka();}},device:{esn:H._cad_global.device.Tf,esnPrefix:f.Xl,errorPrefix:f.FP}};}a(c.Nb);});},function(f,d,a){var b,c,k,h,g,n,p,r,u,l,m,D,x,w,z;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(97);c=a(122);k=a(137);h=a(193);g=a(244);n=a(29);p=a(6);r=a(5);u=a(89);l=a(2);m=a(3);D=a(11);x=a(19);w=a(16);z=a(14);f.Fe(l.I.Zba,function(a){var v,A;function d(a,b){var d;d={profile:c.Qg.profile,log:v,bc:n.bc};a.email&&(d.bx=a.email,d.password=a.password||"");a.sendNetflixIdUserAuthData&&(d.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.Xg&&(d.Xg=a.Xg);b({P:!0,Z5:d});}function f(a){return{account:{id:a.ph.id},id:a.id,lastAccessTime:a.dI,languages:a.languages,registered:a.A7};}v=m.Tc("NccpApi");A=x.eUa();k.yX.pO.nccp={getEsn:function(){return b.qg.Tf;},getPreferredLanguages:function(){return r.config.rg.ky;},setPreferredLanguages:function(a){D.na(z.isArray(a)&&w.qu(a[0]));r.config.rg.ky=a;},login:function(a,b){return new Promise(function(d,g){c.Qg.yx(a,b).then(function(a){d(f(a));})["catch"](function(a){g({success:!1,error:m.Fv(a.code,a)});});});},logout:function(){return new Promise(function(a,b){c.Qg.S$a().then(a)["catch"](function(a){b({success:!1,error:m.Fv(a.code,a)});});});},isLoggedIn:function(){return c.Qg.YZa().map(function(a){return!(a.Gi||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,d){c.Qg.klb(a).then(function(a){b(f(a));})["catch"](function(a){d({success:!1,error:m.Fv(a.code,a)});});});},ping:function(a,b){d(a,function(a){h.Ox.ping(a.Z5,function(a){b&&(a.P?b({success:!0}):b({success:!1,error:m.Fv(l.I.GW,a)}));});});},netflixId:function(a,b){d(a,function(a){h.Ox.x_(a.Z5).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:m.Fv(l.I.ida,a)});});});},getDeviceTokens:function(a){D.na(z.Bb(a));h.Ox.x_({log:v,bc:n.bc}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:m.Fv(l.I.ida,b)});});},getRegistered:function(a,b){var d;try{d=g.tj.wf.hasUserIdToken(a.id||c.Qg.profile.id);b({success:!0,registered:d});}catch(fa){b({success:!1});}},unregister:function(a,b){try{g.tj.wf.removeUserIdToken(a.id||c.Qg.profile.id);b({success:!0});}catch(R){b({success:!1});}},queueLogblob:function(a,b,c){a&&b&&(b=b.toLowerCase(),A[b]?H._cad_global.logBatcher&&(a=new u.qz(void 0,a,b,c),H._cad_global.logBatcher.km(a)):v.warn("Invalid severity",{severity:b}));},flushLogblobs:function(){H._cad_global.logBatcher.flush(!0);}};a(p.Nb);});},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);c=a(33);k=a(11);h=a(19);g=a(16);d.OBa=function(a,b){k.na(a);k.na(b);k.BG(b.p2a,"endpointURL property is required");k.na(b.Ai);this.log=a;this.Jua=b;};d.OBa.prototype.hu=function(){var a,d,f;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.Jua.Ai)};f=a.Jua.p2a+"?"+c.TI(d);return new Promise(function(c,d){function k(b){var c;try{if(b.P){c=new Uint8Array(b.content);return{P:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{P:!1,message:"Unable to download the config. "+b.Ea,EH:b.rh};}catch(F){return b=h.Bc(F),a.log.error("Unable to download the config. Received an exception parsing response",{message:F.message,exception:b,url:f}),{P:!1,Ea:b,message:"Unable to download the config. "+F.message};}}function n(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",g.Aa({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function r(f,l,u){b.bc.download(f,function(b){var v;b=k(b);if(b.P)c(b);else{a.log.warn("Config download failed, retrying",g.Aa({Attempt:l,WaitTime:v,MaxRetries:u},b));if(n(b,l+1,u))return v=h.lva(1E3,1E3*Math.pow(2,Math.min(l-1,u))),p(v).then(function(){return r(f,l+1,u);});d(b);}});}return b.bc?r({url:f,responseType:3,withCredentials:!0,TA:"config-download"},1,3):Promise.reject({P:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);b=a(5);c=a(6);d=a(2);k=a(3);h=a(164);f.Fe(d.I.Lba,function(a){b.config.Z3a&&k.Y.get(h.qba).start();a(c.Nb);});},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(22);c=a(28);k=a(7);f=a(20);f.XW(f.UW,function(a){function d(g){g&&4E3<g.byteLength&&(a.removeEventListener(b.ya.g_,d),c.cb(function(){for(var b=2E3,c=k.Cm.now(),d=c,g=[],h=0;h<b;h++){for(var f=10;f--;)a.RBb=Math.atan2(f,f);f=k.Cm.now();g.push(f-d);d=f;}c=d-c;f=c/b;d=[];for(h=0;h<g.length;h++)g[h]>5*f&&d.push(h);h=d.reduce(function(a,b){return a+g[b];},0);c-=h;b-=d.length;0!=c&&(a.B0=Math.round(b/c));}));}a.addEventListener(b.ya.g_,d);});},function(f,d,a){var b,c,k,h,g,n,p,r,l,v,m,D,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(121);c=a(18);k=a(245);h=a(20);g=a(5);n=a(53);p=a(6);r=a(33);l=a(17);v=a(19);m=a(7);D=a(3);x=a(82);h.XW(h.UW,function(a){var t,R,fa,Z,O,G;function d(b){b.newValue>=h.Gk&&(a.state.removeListener(d),P("type=openplay&sev=info&locstor="+m.wW(q())),fa=l.bb(),w());}function f(){G("type=startplay&sev=info&outcome=success");}function u(){var c,d,g;c=a.th;if(c){d="type=startplay&sev=error&outcome=error";g={};b.DHa(g,c);v.xc(g,function(a,b){d+="&"+m.wW(a)+"="+m.wW(b||"");});G(d);}else G("type=startplay&sev=info&outcome=abort");}function w(){var a,b;a=Z.shift();if(0<a){b=m.Ek(a-(l.bb()-fa),0);R=setTimeout(function(){P("type=startstall&sev=info&kt="+a);w();},b);}}function A(){G("type=startplay&sev=info&outcome=unload");}function q(){var a,b,c;try{b=""+l.Lw();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(ha){a="ex: "+ha;}return a;}function P(b){b=O+"&soffms="+a.uB()+"&"+b;a.he&&Object.keys(a.he).length&&(b+="&"+r.TI(v.Aa({},a.he,{prefix:"sm_"})));k.bmb(b,t);}t=D.Y.get(x.ps).host+g.config.B9;if(g.config.ZT&&t){Z=g.config.cmb.slice();O="xid="+a.ha+"&pbi="+a.index+"&uiLabel="+(a.kc||"");a.state.addListener(d);a.addEventListener(h.Fm,f);a.addEventListener(h.hg,u);n.Vd.addListener(n.ck,A,p.tz);G=function(b){G=p.Rb;b+="&initstart="+c.iR+"&initend="+c.K4;P(b);clearTimeout(R);a.removeEventListener(h.Fm,f);a.removeEventListener(h.hg,u);n.Vd.removeListener(n.ck,A);};}});},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(85);b=a(5);c=a(3);f.nE(function(a){var d,g,f,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720};Object.assign(d,b.config.Fmb);g=d[a.kc];if(b.config.Gmb&&g){f={};k=c.bf(a,"MediaStreamFilter");return{cH:"uiLabel",Xr:function(b){if(b.lower&&b.height>g)return f[b.height]||(f[b.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:b.height}),a.AA.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(f,d,a){var c,k,h,g;function b(a){var d,h;function b(c){a.removeEventListener(g.IL.OR,b);try{k.j9a(c.data)&&(h=!0,a.ujb());d.trace("RA check",{HasRA:h});}catch(A){d.error("RA check exception",A);}}d=c.bf(a,"RAF");a.addEventListener(g.IL.OR,b);return{cH:"ra",Xr:function(a){if(!h&&a.el)return a=a.ye,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(85);c=a(3);k=a(246);h=a(37);g=a(22);h.MKa&&f.nE(b);d.yrb=b;},function(f,d,a){var c,k;function b(a){var b,d;b=k.bf(a,"MSS");if(c.config.ibb)return{cH:"mss",Xr:function(c){var g,h;if(c.lower&&2160<=c.height)a:{for(g=c;g.lower;){if(2160>g.height&&1080<g.height){g=!0;break a;}if(1080>=g.height)break;g=g.lower;}g=!1;}else g=void 0;if(g){if(void 0===d){try{h=H.MSMediaKeys;d=h&&h.isTypeSupportedWithFeatures?"probably"===h.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(v){b.error("hasUltraHdDisplay exception");d=!0;}d||(b.warn("Restricting resolution due screen size",{MaxHeight:c.height}),a.AA.set({reason:"microsoftScreenSize",height:c.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(85);c=a(5);k=a(3);f.nE(b);d.xrb=b;},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(85).nE(function(){return{cH:"op",Xr:function(){}};});},function(f,d,a){var c,k,h,g,n,p,r,l,v,m;function b(a){var F,D,q,da,P,t,R,fa,Z,O,G,B,aa,Q,ha,ba,ma;function b(){var b;b=a.Fc.value==h.bo&&a.state.value==h.Em;B?b||(clearInterval(B),R=B=void 0,aa&&(clearInterval(ha),ha=void 0)):b&&(B=setInterval(f,1E3),aa&&(ha=setInterval(u,Q)));}function f(){var b,c,d,h,f,k;b=a.Wf.value;b=(b=b&&b.stream)&&b.height;if(0<b){c=n.bb();d=a.wh.gx();if(d){if(R&&2E3>c-R.time&&b==R.height){h=d-R.e1a;f=D[b];f||(D[b]=f=[],b>Z&&(t.push(b),g.sU(t)));0<h&&!(G<b)&&(G=b);f.push(h);f.length>fa&&f.shift();(f=da[b])||(da[b]=f={});k=f[h];f[h]=k?k+1:1;}R={time:c,e1a:d,height:b};a.mS&&a.mS.Zib(D);}}}function u(){m.storage.save(d.KV,{xid:a.ha,data:da});}function A(){r.na(m.storage);a.addEventListener(h.hg,function(){u();});P=[];m.storage.load(d.vba,function(a){var b;a.P&&(P=a.data);b={};m.storage.load(d.KV,function(a){a.P&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(P.push(b),P.length>aa&&P.shift(),m.storage.save(d.vba,P),m.storage.save(d.KV,{}));});});}F=p.bf(a,"DFF");D={};q=c.config.i1a;da={};P=[];t=[];fa=c.config.g1a;Z=c.config.h1a;O=k.kGa;aa=c.config.l1a;Q=c.config.k1a;ba=v.ii.hardwareConcurrency||0;if(c.config.f1a)return aa&&a.addEventListener(h.nea,A),a.qP={w4a:function(){var a;a={};da&&t.forEach(function(b){var c,d,g;c=da[b];if(c){d=0;g=0;l.xc(c,function(a,b){g+=l.ld(a);d+=b;});a[b]=g/d;}});return a;},V2:function(a){var b;b={};a.forEach(function(a){b[a]={};});da&&(g.sU(a),t.forEach(function(c){var d,h,f,k;d=da[c];if(d){h=0;f=0;l.xc(d,function(a,b){h+=b;});k=Object.keys(d);g.sU(k);for(var n=k.length-1,p=k[n],r=a.length-1;0<=r;r--){for(var u=a[r];p>=u&&0<=n;)(p=d[p])&&(f+=p),p=k[--n];b[u][c]=v.Gf(f/h*100);}}}));return b;}},a.state.addListener(b),a.Fc.addListener(b),{cH:"df",Xr:function(b){var d,g,h,f,k,n,p,r,l,u;if(b.lower&&b.height>Z){b=b.height;a:{!ma&&c.config.gna&&c.config.pP&&a.B0<c.config.gna[ba]&&(O=v.Ti(O,c.config.pP),a.AA.set({reason:"droppedFramesPreviousSession",height:c.config.pP}));ma=!0;if(G){d=t.length;for(g=0;g<d;g++)if(h=t[g],h>=G&&h<O){f=D[h];if(k=f)b:{l=q.length;u=f.length;for(r=0;r<l;r++)for(n=q[r],k=n[0],n=n[1],p=0;p<u;p++)if(f[p]>=n&&0>=--k){k=!0;break b;}k=void 0;}if(k&&O!=h){F.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});a.AA.set({reason:"droppedFrames",height:h});d=c.config.pP=O=h;break a;}}G=void 0;}d=O;}return b>=d;}}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(85);c=a(5);k=a(6);h=a(20);g=a(33);n=a(17);p=a(3);r=a(11);l=a(16);v=a(7);m=a(116);f.nE(b);d.vba="DroppedFramesHistory";d.KV="DroppedFramesSession";d.wrb=b;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);c=a(3);k=a(16);d.lsb=function(){c.Tc("OpenConnectNotifier");return{nH:function(a){b.bc.qcb({url:a.url,reason:a.reason});},F9:k.Rb};}();},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(3);a=a(355);a=f.Y.get(a.t$);a;},function(f,d,a){var b,c,k,h,g,n,p,r,l,v,m,D,x,w;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(354);k=a(121);h=a(6);g=a(5);n=a(89);p=a(20);r=a(17);f=a(2);l=a(3);v=a(108);m=a(7);D=a(28);x=a(14);b.Fe(f.I.Rba,function(a){var f;function d(){var a,c,d,h;a={browserua:m.Fh,browserhref:m.ML.href,initstart:b.iR,initdelay:b.K4-b.iR};c=m.qd.documentMode;c&&(a.browserdm=""+c);"undefined"!==typeof H.nrdp&&H.nrdp.device&&(a.firmware_version=H.nrdp.device.firmwareVersion);x.qu(g.config.Vna)&&(a.fesn=g.config.Vna);k.EHa(a);d=m.Cm&&m.Cm.timing;d&&g.config.I$a.map(function(b){var c;c=d[b];c&&(a["pt_"+b]=c-r.TWa());});h=f.cpa();Object.keys(h).forEach(function(b){return a["m_"+b]=h[b];});c=new n.qz(p.aM&&p.aM.j,"startup","info",a);w.km(c);}w=l.Y.get(c.vca);H._cad_global.logBatcher=w;f=l.Y.get(v.Lv);b.jI(function(){w.cd();D.cb(d);});a(h.Nb);});},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(5);k=a(17);d.bpb=function(a){var d;d={Gub:a,Nna:!0,A7:!1,dI:k.bb(),load:function(a){(a||b.Rb)(b.Nb);},save:function(){d.Nna=!0;},remove:function(a){d.Nna=!1;(a||b.Rb)(b.Nb);},Qtb:c.config.rg.ky,Iyb:!0};return d;};},function(f,d,a){var h,g,n,p;function b(a,b,d,f){var r,l,u;h.na(p.ne(a)&&!p.isArray(a));f=f||"";r="";l=a.hasOwnProperty(n.gi)&&a[n.gi];l&&g.xc(l,function(a,b){r&&(r+=" ");r+=a+'="'+k(b)+'"';});d=(b?b+":":"")+d;l=f+"<"+d+(r?" "+r:"");u=a.hasOwnProperty(n.Jp)&&a[n.Jp].trim&&""!==a[n.Jp].trim()&&a[n.Jp];if(u)return l+">"+k(u)+"</"+d+">";a=c(a,b,f+"  ");return l+(a?">\n"+a+"\n"+f+"</"+d+">":"/>");}function c(a,c,d){var f;h.na(p.ne(a)&&!p.isArray(a));d=d||"";f="";g.xc(a,function(a,h){var l;if("$"!=a[0])for(var n=g.aab(h),r=0;r<n.length;r++)if(h=n[r],f&&(f+="\n"),p.ne(h))f+=b(h,c,a,d);else{l=(c?c+":":"")+a;f+=d+"<"+l+">"+k(h)+"</"+l+">";}});return f;}function k(a){if(p.Gd(a))return g.L3(a);if(p.fa(a))return h.YO(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";h.na(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});h=a(11);g=a(19);n=a(127);p=a(14);d.Wyb=b;d.Xyb=c;d.WBb=k;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(18);d=a(2);b=a(3);c=a(337);f.Fe(d.I.Mba,function(a){b.Y.get(c.Qaa)().then(function(){a({P:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({P:!0});});});},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(33);k=a(6);h=a(5);g=a(2);n=a(456);p=a(37);r=a(7);p.Mca&&b.Fe(g.I.aca,function(a){r.Qw&&r.Qw.generateKey&&r.Qw.importKey&&r.Qw.unwrapKey?!p.hf.uaa&&h.config.zA!=n.vU.tJa&&h.config.zA!=n.vU.qGa||r.vW?(b.kI("wcs"),c.sdb(r.Qw.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){b.kI("wcdone");a(k.Nb);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=g.G.zX:0<=b.indexOf("timeout waiting for iframe to load")&&(c=g.G.QMa);a({T:c,Ea:b});})):a({T:g.G.PMa}):a({T:g.G.zX});});},function(f,d,a){var k,h,g,n,p,r,l,v,m,D,x,w,z,y,F,K,q,da,P;function b(){try{F.write(new D.kda([q]));q="";}catch(Y){da.kb(b);}}function c(a){a.level<=y&&(a=a.qK(!1,!0)+"\n",q+=a,da.kb(b));}Object.defineProperty(d,"__esModule",{value:!0});f=a(18);k=a(177);h=a(5);g=a(6);d=a(84);n=a(17);p=a(12);r=a(79);l=a(3);v=a(2);m=a(11);D=a(7);x=a(146);w=a(97);z={create:!0};y=p.Eh.rX;K=[];q="";da=new d.KE(10);P=l.Y.get(r.xv);P.GC(x.nz.cW,function(a){K.push(a);});f.Fe(v.I.Nba,function(a){var f,p,r,l;function d(){var a;P.Rya(x.nz.cW);if(F){F.seek(F.length);a="Version: 6.0013.845.051\n"+(w.qg?"Esn: "+w.qg.Tf+"\n":"")+"JsSid: "+n.lz+", Epoch: "+n.Lw()+", Start: "+n.UWa()+", TimeZone: "+new Date().getTimezoneOffset()+"\nHref: "+D.ML.href+"\nUserAgent: "+D.Fh+"\n--------------------------------------------------------------------------------\n";q+=a;da.kb(b);for(a=0;a<K.length;a++)c(K[a]);K=void 0;P.GC(x.nz.RMa,c);}}m.na(h.config);if(k.MP){f=n.lz+".log";p=function(a){F=a;d();};r=function(){m.na(!1);d();};l=function(a){a.createWriter(p,r);};k.MP.root.getDirectory("netflix.player.logs",z,function(a){h.config.sAb?a.getFile(f,z,l,r):(a.removeRecursively(g.Rb),d());},r);}else P.Rya(x.nz.cW),K=void 0;a(g.Nb);});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Utb=function(a){this.userAgent=a;};},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(18);a(5);a(6);a(84);a(3);a(79);a(146);a(2);},function(f,d,a){var p,r,l,v,m;function b(a){var b,g;r.BG(a);if(l.Gd(a)&&d.qFa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){g=l.ld(b[c]);if(0>g||!m.pu(g,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function c(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=l.ld(a[0])<<24,c+=l.ld(a[1])<<16,c+=l.ld(a[2])<<8,c+l.ld(a[3]);}function k(a){var b;r.BG(a);if(l.Gd(a)&&a.match(d.rFa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=h(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?g(a):b,a=b.length,8===a)){for(;a--;)if(!m.pu(parseInt(b[a],16),0,p.lGa))return;return b.join(":");}}}function h(a){var b;a=c(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function g(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(d=0;d<c;d++)b.push("0");for(d=0;d<a.length;d++)b.push(a[d]);return b;}function n(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(6);r=a(11);l=a(16);v=a(7);m=a(14);d.qFa=/^[0-9.]*$/;d.rFa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.iz="0000000000000000";d.Wqb=b;d.Sqb=c;d.Xqb=k;d.Uqb=h;d.Vqb=g;d.Yqb=function(a,g,h){var f,p,r,l;f=b(a);p=k(a);r=b(g);l=k(g);if(!f&&!p||!r&&!l||f&&!r||p&&!l)return!1;if(a===f)return h=n(h),(c(a)&h)!==(c(g)&h)?!1:!0;if(a===p){a=a.split(":");g=g.split(":");for(f=v.Sp(h/d.iz.length);f--;)if(a[f]!==g[f])return!1;h%=d.iz.length;if(0!==h)for(a=parseInt(a[f],16).toString(2),g=parseInt(g[f],16).toString(2),a=d.iz.substring(0,d.iz.length-a.length)+a,g=d.iz.substring(0,d.iz.length-g.length)+g,f=0;f<h;f++)if(a[f]!==g[f])return!1;return!0;}return!1;};d.Tqb=n;},function(f,d,a){var b,c,k,h,g,n,p,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(11);k=a(103);a(19);h=a(16);g=a(2);n=a(37);p=a(28);r=a(7);a(14);d.dzb=function(a,d){var u,v,m;function f(a){var b;b=d;d=h.Rb;b(a);}function l(a){var b,d,h,k;try{b=JSON.parse(a.data);d=b.method;h=b.success;k=b.payload;c.na("ready"==d);"ready"==d&&(v.removeEventListener("message",l),m.Cf(),p.cb(function(){u.info("Plugin sent ready message");h?f({success:!0,pluginObject:v,pluginVersion:k&&k.version}):f({T:g.G.Lda,Ab:b.errorCode});}));}catch(P){u.error("Exception while parsing message from plugin",P);f({T:g.G.Mda});}}u=b.Tc("Plugin");c.na(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});v=h.createElement("OBJECT",n.hf.mJa,void 0,{type:a,"class":"netflix-plugin"});v.addEventListener("message",l);m=new k.Dz(8E3,function(){u.error("Plugin load timeout");f({T:g.G.Oda});});r.qd.body.appendChild(v);m.Mo();}else f({T:g.G.Nda});};d.fzb=function(){};d.ezb=function(a){var c,d,h;c=b.Tc("Plugin");d=1;h={};a.addEventListener("message",function(a){var b,d,f,k;try{b=JSON.parse(a.data);d=b.success;f=b.payload;k=h[b.idx];k&&(d?k({P:!0,Pub:f}):k({P:!1,T:g.G.kJa,Ea:b.errorMessage,Ab:b.errorCode}));}catch(K){c.error("Exception while parsing message from plugin",K);}},!1);return function(b,f,n){var r,l,u,v;function p(a){a.P||c.info("Plugin called back with error",{Method:b},g.Am(a));u.Cf();delete h[r];n(a);}try{r=d++;l={idx:r,method:b};l.argsObj=f||{};u=new k.Dz(8E3,function(){c.error("Plugin never called back",{Method:b});delete h[r];n({T:g.G.lJa});});u.Mo();v=JSON.stringify(l);h[r]=p;a.postMessage(v);}catch(P){c.error("Exception calling plugin",P);n({T:g.G.nJa});}};};},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(101);a(11);a(7);},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});f=a(3);d=a(79);a=a(146);f.Y.get(d.xv).GC(a.nz.oBa,function(a){var b,d;b=a.level;if(!H._cad_global.config||b<=H._cad_global.config.M$a){a=a.qK();d=H.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(f){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}f.K={cXa:function(a,b,d){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},L0:function(a,b,d){var c;c={};c.displayTime=a.Oh;c.duration=a.duration;c.originX=a.ZR;c.originY=a.$R;c.sizeX=a.xT;c.sizeY=a.yT;c.imageData=b;c.id=a.Wo;c.rootContainerExtentX=d.SS;c.rootContainerExtentY=d.TS;return c;},h5a:function(a,b){return"o_"+a+"s_"+b;},sza:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},fb:function(a){return"undefined"!==typeof a;},cib:function(a,b){return a.some(function(a){return a.id===b;});},n1a:function(c,f){return c.filter(d.bind(null,f)).map(a).reduce(b,0);},sH:function(a,b){var c,d;c=Object.create({});for(d in a)c[d]=a[d];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(f,d,a){var q,da,P,t,R,fa;function b(a){q.call(this);this.V4a=p;this.mg=a.url;this.yF=a.request;this.BN=a.Kb||0;this.jN=a.fe;this.ib=a.ba;this.ti=this.Mg=null;this.ZE={};this.Rs=0;this.jF=a.bufferSize||4194304;this.OY={};this.pja=a.version||1;a.key&&(this.Oga=a.crypto,this.Yv=this.Oga.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.xn?this.Mg=a.xn:(this.Yc=a.offset,this.XRa=a.size);}function c(){}function k(){}function h(a,b){var d,h,f,k,n,p,r,l;if(a)this.emit(R.ERROR,t.sH(a,fa.rGa));else try{if(2===this.pja){h=new c();f=P.p7(b)[0];k=f.jr("636F6D2E-6E65-7466-6C69-782E68696E66");n=f.jr("636F6D2E-6E65-7466-6C69-782E6D696478");h.JQ=k.dka;h.og=k.og;h.gm=k.gm;h.M=k.M;h.SS=k.SS;h.TS=k.TS;h.language=k.I9a;h.ulb=k.Wkb;h.startOffset=n.nib;p=[];r=0;for(a=0;a<n.Re.length;a++){l=n.Re[a];b={};b.duration=l.duration;b.size=l.size;p.push(b);r+=b.duration;}h.entries=p;h.endTime=r;d=h;}else{p=new da(b);r=new c();r.identifier=p.Ou(4);t.assert("midx"===r.identifier);r.version=p.Hd(4);t.assert(0===r.version);r.JQ=p.pe(36);r.og=p.zf();r.gm=p.zf();r.M=p.zf();r.SS=p.Cb();r.TS=p.Cb();r.language=p.pe(16);r.ulb=p.pe(16);r.startOffset=p.zf();r.No=p.Cb();h=[];for(l=n=0;l<r.No;l++)a={},a.duration=p.Hd(4),a.size=p.Cb(),h.push(a),n+=a.duration;r.entries=h;r.endTime=n;d=r;}this.Mg=d;g.call(this);}catch(ea){this.emit(R.ERROR,t.sH(ea,fa.sGa));}}function g(){var a,b;a=this.Mg;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.mg,offset:b,size:a},this.emit(R.tGa,this.Mg),this.yF(b,n.bind(this))):this.emit(R.ERROR,t.sH({},fa.uHa));}function n(a,b){var c,d,g,h;c=this;if(a)c.emit(R.ERROR,t.sH(a,fa.fLa));else{d=0;g=[];h=0;try{c.Mg.entries.forEach(function(a){var f,n,p,r,l,v,w;n=d;p=c.Mg.JQ;r=c.ib;if(2===c.pja){f=new k();l=P.p7(b);f.entries=[];f.images=[];for(var u=0;u<l.length;u++)for(p=l[u],n=p.jr("636F6D2E-6E65-7466-6C69-782E73696478"),p=p.jr("636F6D2E-6E65-7466-6C69-782E73656E63"),r=0;r<n.rp.length;r++){v={};w=n.rp[r];v.Oh=w.Oh;v.duration=w.duration;v.ZR=w.ZR;v.$R=w.$R;v.xT=w.xT;v.yT=w.yT;v.Wo=w.Wo;v.CB=w.CB;if(w=p&&p.rp[r])v.zna={OB:w.OB.slice(0),mode:w.Ana};f.entries.push(v);}}else{f=new da(b);l=new k();u=0;f.position=n;l.identifier=f.Ou(4);t.assert("sidx"===l.identifier);l.JQ=f.pe(36);t.cXa(l.JQ,p,r);l.duration=f.Hd(4);l.No=f.Cb();l.entries=[];for(l.images=[];u<l.No;)n={},n.Oh=f.Hd(4),n.duration=f.Hd(4),n.ZR=f.Cb(),n.$R=f.Cb(),n.xT=f.Cb(),n.yT=f.Cb(),n.Wo=f.zf(),n.CB=f.Hd(4),u++,l.entries.push(n);f=l;}g.push(f);a.M8=f;f.n7=h;f.wJ=h+a.duration;h=f.wJ;l=f.entries;l.length&&(f.startTime=l[0].Oh,f.endTime=l[l.length-1].Oh+l[l.length-1].duration);d+=a.size;});}catch(ha){c.emit(R.ERROR,t.sH(ha,fa.gLa));return;}c.ti=g;c.emit(R.hLa,this.ti);a=r.call(c,c.BN,2);a.length?D.call(c,a,c.BN,function(a){a&&c.ib.error("initial sidx download failed");c.emit(R.Nea);}):c.emit(R.Nea);}}function p(a){var b,c,d,g,h;b=r.call(this,a,2);c=(c=this.Mg)?c.endTime:void 0;if(a>c)return[];d=this.ZE.wj;g=this.ZE.index;c=[];g=t.fb(g)&&this.ti[g+1];if(!(g&&g.entries.length||d&&!(a>d.endTime)))return[];b.length&&D.call(this,b,a);d&&d.images.length&&(c=v(d,a,[],this.Mg));g&&g.images.length&&(b=v(g,a,c,this.Mg),c.push.apply(c,b));b=m(c);if(this.ti&&0!=this.ti.length){c=this.ti[Math.floor(a/6E4)];if(!(c.n7<=a&&a<=c.wJ))a:{c=this.ti.length;if(!this.w2a){this.w2a=!0;b:{try{h=String.fromCharCode.apply(String,this.Mg.language);break b;}catch(ha){}h="";}this.ib.error("bruteforce search for ",{movieId:this.Mg.M,packageId:this.Mg.gm,lang:h});}for(h=0;h<c;h++)if(d=this.ti[h],d.n7<=a&&a<=d.wJ){c=d;break a;}c=void 0;}h=c;}else h=void 0;if(c=h&&0<h.entries.length&&0===h.images.length)a:{c=h.entries.length;for(g=0;g<c;g++)if(d=h.entries[g],d.Oh<=a&&d.Oh+d.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function r(a,b){var c,h;c=[];if(a=l.call(this,a))this.ZE=a;else return this.ZE={},c;for(var d=0,g=this.ti?this.ti.length:0;d<b&&a.index+d<g;){h=this.ti[a.index+d];h&&!h.images.length&&c.push(h);d++;}return c;}function l(a){var b,c,d,g,h,f,k;c=this.ZE;d=c.wj;g=c.index;h=this.ti;this.pg(t.fb(a));d&&(0===g&&a<=d.startTime?(k=!0,b=c):a>=d.startTime&&a<=d.endTime?(k=!0,b=c):(f=h[g-1],h=h[g+1],f&&a>f.endTime&&a<=d.startTime?(k=!0,b=c):h&&a>=d.endTime&&a<=h.endTime&&(k=!0,b={wj:h,index:g+1})));if(!k)for(c=this.Mg.entries,d=c.length,g=0;g<d;g++)if(f=c[g].M8,a<=f.startTime||a>f.startTime&&a<=f.endTime){b={wj:c[g].M8,index:g};break;}return b;}function v(a,b,c,d){var g,h,f,k,n,p;g=a.entries;h=g.length;f=[];n=0;if(!g.length)return f;for(;n<h;){k=g[n];if(k.Oh<=b)k.Oh+k.duration>=b&&f.push(t.L0(k,a.images[n].data,d));else{p=f.length&&f[f.length-1]||c.length&&c[c.length-1];if(p&&p.Oh>b&&p.Oh!==k.Oh)break;p.Wo!==k.Wo&&f.push(t.L0(k,a.images[n].data,d));}n++;}return f;}function m(a){return a.map(function(b,c){b.duration+=t.n1a(a.slice(c+1),b);return b;}).reduce(function(a,b){t.cib(a,b.id)||a.push(b);return a;},[]);}function D(a,b,c){var d,g,h,f,k,n;d=this;g=a[0];h=a[a.length-1];0<g.entries.length&&(f=g.entries[0].Wo,k=g.entries[g.entries.length-1]);0<h.entries.length&&(t.fb(f)||(f=h.entries[0].Wo),k=h.entries[h.entries.length-1]);if(f){g=k.Wo+k.CB-f;n=t.h5a(f,g);d.OY[n]||(d.OY[n]=!0,x.call(d,a,b),d.yF({url:d.mg,offset:f,size:g},function(b,g){var h,k,p,r;setTimeout(function(){delete d.OY[n];},1E3);if(b)c&&c(b);else{h=new da(g);k=0;r=[];a.forEach(function(a){a.entries.forEach(function(b,c){var g,n;h.position=b.Wo-f;g={data:h.pe(b.CB)};n=b.zna;n&&(g.OB=n.OB,g.Ana=n.mode,p=!0,r.push(g));a.images[c]=g;!b.zna&&t.sza(a.images[c].data,d.pg.bind(d));k+=a.images[c].data.length;});});d.Rs+=k;p?d.Yv.then(function(a){return K.call(d,r,a);}).then(function(){c&&c(null);})["catch"](function(a){d.ib.error("decrypterror",a);c&&c({P:!1});}):c&&c(null);}}));}else c&&c(null);}function x(a,b){var h,f,k,n,p,r;function c(){return{pts:b,hasEnoughSpace:h.Rs+f<=h.jF,required:f,currentSize:h.Rs,max:h.jF,currentIndex:l.call(h,b).index,sidxWithImages:z.call(h),newSidxes:a.map(function(a){return h.ti.indexOf(a);})};}function d(a,b){h.jN&&!a&&h.ib.info("not done in iteration",b);}function g(a){var b,c,d;b=h.ti[a];c=b.images&&b.images.length;if(0<c){d=w([b]);b.images=[];h.Rs-=d;h.jN&&h.ib.info("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c});if(h.Rs+f<=h.jF)return!0;}}h=this;f=w(a);h.ib.info("make space start:",c());if(!(h.Rs+f<=h.jF)){k=l.call(h,b).index;n=!1;p=0;r=h.ti.length-1;if(0>k){h.ib.error("inconsistent sidx index");return;}for(;!n&&p<k-2;)n=g(p),p++;for(d(n,1);!n&&r>k+2;)n=g(r),r--;for(d(n,2);!n&&p<k;)n=g(p),p++;for(d(n,3);!n&&r>k;)n=g(r),r--;d(n,4);n||h.ib.error("could not make enough space",{maxBuffer:this.jF});}h.ib.info("make space end",c());}function w(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.CB+a;},0);},0);}function z(){var a;a=[];this.Mg&&this.Mg.entries&&this.Mg.entries.reduce(function(b,c,d){var g;c=c.M8;g=0;c&&c.images.length&&(a.push(d),g=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+g;},0);return a.join(", ");}function y(a,b){return a&&a.n7<=b&&a.wJ>=b;}function F(a,b){var c,d,g,h,f,k;c=this;d=c.Mg;g=c.ti;h=g&&g.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(d&&g){if(0===h)return[];d=g[0].duration;if(t.fb(d)&&0<d)d=Math.floor(a/d),f=d<h&&y(g[d],a)?g[d]:void 0;else for(c.jN&&c.ib.warn("duration not defined, so use brute force to get starting sidx"),d=0;d<h;d++){k=g[d];if(y(k,a)){f=k;break;}}if(t.fb(f)){f=[];for(var n=function(c){var d;d=c.Oh<=a&&a<=c.Oh+c.duration;return a<=c.Oh&&c.Oh<=b||d;};d<h;){k=g[d];f=f.concat(k.entries.filter(n));if(b<k.wJ)break;d++;}f=f.map(function(a){return t.L0(a,null,c.Mg);});return m(f);}}}function K(a,b){var d,g;function c(a,b){var c,d;c=this;d=new Uint8Array(16);d.set(a.OB);return c.Oga.decrypt({name:"AES-CTR",counter:d,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));t.sza(a.data,c.pg.bind(c));});}d=this;try{g=[];a.forEach(function(a){a.OB&&(a=c.call(d,a,b),g.push(a));});return(void 0).all(g);}catch(Q){return d.ib.error("decrypterror",Q),(void 0).reject(Q);}}q=a(144).EventEmitter;da=a(101);P=a(248);t=a(502);R=b.events={tGa:"midxready",hLa:"sidxready",Nea:"ready",ERROR:"error"};fa=b.Wwb={rGa:"midxdownloaderror",sGa:"midxparseerror",uHa:"nosidxfoundinmidx",fLa:"sidxdownloaderror",gLa:"sidxparseerror"};b.prototype=Object.create(q.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Mg)this.ib.warn("midx was prefectched and provided"),g.call(this);else{a={url:this.mg,offset:this.Yc,size:this.XRa,responseType:"binary"};this.ib.warn("downloading midx...");this.yF(a,h.bind(this));}};b.prototype.close=function(){};b.prototype.pg=function(a){this.jN&&t.assert(a,this.ib);};b.prototype.lu=function(a,b){return F.call(this,a,b);};b.prototype.k3=function(a,b){return(a=this.lu(a,b))?a.length:a;};f.K=b;},function(f,d,a){var k;function b(a,b){return b.reduce(c.bind(this,a),[]);}function c(a,b,c){var d,g;d=c.displayTime-a;a=c.displayTime+c.duration-a;g=0<b.length?b[0].timeout:Infinity;return 0<d&&d<g?[{timeout:d,type:"showsubtitle",wd:c}]:d===g?b.concat([{timeout:d,type:"showsubtitle",wd:c}]):0<a&&a<g?[{timeout:a,type:"removesubtitle",wd:c}]:a===g?b.concat([{timeout:a,type:"removesubtitle",wd:c}]):b;}k=a(144).EventEmitter;d=a(247)({});a=function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);k.call(this);this.kq=a;this.KOa=b;this.vq={};this.hA={};this.ib=c||console;this.AM=!1;};a.prototype=Object.create(k.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.dj);Object.keys(a.vq).forEach(function(b){a.emit("removesubtitle",a.vq[b]);});a.vq={};};a.prototype.pause=function(){clearTimeout(this.dj);};a.prototype.Qn=function(a,c){var d,g;d=this;g=d.kq();clearTimeout(this.dj);a=d.KOa(g);null!==a&&d.AM&&(d.AM=!1,d.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(d.vq).forEach(function(a){a=d.vq[a];a.displayTime<=g&&g<a.displayTime+a.duration||(delete d.vq[a.id],d.emit("removesubtitle",a));});Object.keys(d.hA).forEach(function(a){a=d.hA[a];g>=a.displayTime+a.duration&&delete d.hA[a.id];});null!==a&&0<a.length?(c=a.length,d.ib.info("found "+c+" entries for pts "+g),a.forEach(function(a){a.displayTime<=g&&g<a.displayTime+a.duration&&!d.vq[a.id]&&(d.emit("showsubtitle",a),d.vq[a.id]=a,delete d.hA[a.id]);}),c=a[a.length-1],d.vq[c.id]||d.hA[c.id]||(d.emit("stagesubtitle",c),d.hA[c.id]=c),c=b(g,a),0<c.length?d.JN(c[0].timeout):d.JN(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),d.ib.warn("checking buffer again in "+a+"ms"),d.AM||(d.AM=!0,d.emit("underflow")),d.JN(a,c+1)):d.JN(2E4);};a.prototype.JN=function(a,b){var c;c=this;c.ib.trace("Scheduling pts check.");c.dj=setTimeout(function(){c.Qn(c.kq(),b);},a);};f.K=d(["function","function","object"],a);},function(f,d,a){var g,n,p;function b(a){var b;b=1;"dfxp-ls-sdh"===this.fw&&(b=a.gvb.length);this.ib.info("show subtitle called at "+this.kq()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Ys[this.Ys.length-1].rT+=b;}function c(a){this.ib.info("remove subtitle called at "+this.kq()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function k(){this.ib.info("underflow fired by the subtitle timer");this.emit("underflow");}function h(){this.ib.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}g=a(144).EventEmitter;n=a(504);d=a(247)();p=a(503);a=function u(a,d){var f,l;f=this;l=a.fe||!1;if(!(f instanceof u))return new u(a,d);g.call(f);f.ib=a.ba||console;f.yF=a.request;f.kq=a.mpa;f.dj=null;f.sq=!0;f.Ys=[];f.fw=d.profile;f.mg=d.url;f.BN=d.Kb;f.YQa=d.dfb;f.bOa=d.Ut;a={url:f.mg,request:f.yF,Kb:f.BN,xml:d.xml,dfb:f.YQa,Ut:f.bOa,ba:f.ib,fe:l,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,xn:d.xn};if("nflx-cmisc"===f.fw)a.offset=d.CI,a.size=d.BR,f.uc=new p(a);else if("nflx-cmisc-enc"===f.fw)a.version=2,a.offset=d.CI,a.size=d.BR,f.uc=new p(a);else throw Error("SubtitleManager: "+f.fw+" is an unsupported profile");f.uc.on("ready",function(){var a,g;a=!!d.RUa;f.ib.info("ready event fired by subtitle stream");f.emit("ready");g=f.uc.V4a.bind(f.uc);f.dj=new n(f.kq,g,f.ib);f.dj.on("showsubtitle",b.bind(f));f.dj.on("removesubtitle",c.bind(f));f.dj.on("underflow",k.bind(f));f.dj.on("bufferingComplete",h.bind(f));a&&(f.ib.info("autostarting subtitles"),setTimeout(function(){f.Qn(f.kq());},10));});f.uc.on("error",f.emit.bind(f,"error"));};a.prototype=Object.create(g.prototype);a.prototype.start=function(){this.uc.start();};a.prototype.Qn=function(a){this.sq&&(this.sq=!1,this.ib.info("creating a new subtitle interval at "+a),this.Ys.push({S:a,rT:0}));null!==this.dj&&this.dj.Qn(a);};a.prototype.stop=function(){var a;this.kq();this.ib.info("stop called");this.sq||this.pause();this.uc.removeAllListeners(["ready"]);null!==this.dj&&this.dj.stop();a=this.Ys.reduce(function(a,b){a.vxa+=b.rT;a.Yl+=b.Ona;a.L8a.push(b);return a;},{vxa:0,Yl:0,L8a:[]});"object"===typeof this.uc&&this.uc.close();this.ib.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.kq();if(this.sq)this.ib.warn("pause called on subtitle manager, but it was already paused!");else{this.ib.info("pause called at "+a);this.sq=!0;this.ib.info("ending subtitle interval at "+a);b=this.Ys[this.Ys.length-1];b.Z=a;b.Z<b.S&&(this.ib.warn("correcting for interval where endPts is smaller than startPts"),b.S=0<b.Z?b.Z-1:0);b.Ona=this.uc.k3(b.S,b.Z);this.ib.info("showed "+b.rT+" during this interval");this.ib.info("expected "+b.Ona+" for this interval");}null!==this.dj&&this.dj.pause();};a.prototype.lu=function(a,b){return this.uc.lu(a,b);};a.prototype.k3=function(a,b){return this.uc.k3(a,b);};a=d([{request:"function",mpa:"function",ba:"object"},"object"],a);f.K=a;},function(f,d,a){var c,k,h,g,n;function b(a,b,c){a=g.Pd.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(50);h=a(38);g=a(39);a=a(27);ja(b,g.Pd);oa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Dna:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq/msl_v1";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.YG){case k.xs.MLa:a="www.stage";break;case k.xs.Efa:a="www-qa.test";break;case k.xs.kca:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}}});n=b;f.__decorate([h.config(h.string,"apiEndpoint")],n.prototype,"endpoint",null);f.__decorate([h.config(h.string,"nqEndpoint")],n.prototype,"Dna",null);n=f.__decorate([c.O(),f.__param(0,c.l(a.ni)),f.__param(1,c.l(k.tl)),f.__param(2,c.l(a.bz)),f.__param(2,c.optional())],n);d.cAa=n;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(506);c=a(82);f=a(0);d.WZ=new f.Xb(function(a){a(c.ps).to(b.cAa).X();});},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.nmb=function(a){return{PH:a.initialSegment,Re:this.rmb(a.segments)};};b.prototype.rmb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,d){c[d]=b.omb(a[d]);return c;},{});};b.prototype.omb=function(a){return{te:a.viewableId,xp:a.startTimeMs,bB:a.endTimeMs,bP:a.defaultNext,next:a.next&&this.qmb(a.next)};};b.prototype.qmb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,d){c[d]=b.pmb(a[d]);return c;},{});};b.prototype.pmb=function(a){return{weight:a.weight,p1a:a.earliestSkipRequestOffset};};c=b;c=f.__decorate([a.O()],c);d.uKa=c;},function(f,d,a){var c,k,h,g;function b(a){return k.Pd.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);a=a(38);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{$ua:{configurable:!0,enumerable:!0,get:function(){return 2;}}});g=b;f.__decorate([a.config(a.fv,"prepareSegmentsUpfront")],g.prototype,"$ua",null);g=f.__decorate([c.O(),f.__param(0,c.l(h.ni))],g);d.rKa=g;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.MZa=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;if(0===b.length)throw Error("Empty playlist");return{PH:this.o8(0),Re:b.reduce(function(a,c,g){var h;h=d.o8(g);a[h]={te:c,xp:0};g+1<b.length&&(a[h].bP=d.o8(g+1));return a;},{})};};b.prototype.o8=function(a){return"segment"+a;};c=b;c=f.__decorate([a.O()],c);d.vKa=c;},function(f,d,a){var c;function b(a,b,d,f,p,r){this.index=a;this.oa=b;this.M=d;this.kc=f;this.jb=p;this.vd=new c.Zd(null);this.We=new c.Zd(null);this.Nc=new c.Zd(null);this.Qm=new c.Zd(null);this.TT=new c.Zd(null);this.Dg=new c.Zd(null);this.Bo=new c.Zd(null);this.Ht=this.Jw="notcached";r&&(this.Dg=r.Dg,this.Bo=r.Bo,this.profile=r.profile);}Object.defineProperty(d,"__esModule",{value:!0});c=a(173);oa.Object.defineProperties(b.prototype,{lj:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.lj;}},Sm:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.Sm;}},ms:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.ms;}},hs:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.hs;}},yj:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.yj;}},Qe:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.Qe;}},ru:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.ru;}},Jn:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.Jn;}},hj:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.hj;}},sS:{configurable:!0,enumerable:!0,get:function(){return this.md&&this.md.sS;}}});d.kKa=b;},function(f,d,a){var c,k,h,g,n,p;function b(a){var b,d;b=this;this.j=a;this.Vcb=function(){h.Vd.removeListener(h.t3,b.Uta);b.ef.removeChild(b.Vo.hx());};this.t6=function(a){b.Vo.$ib(a.newValue);};this.odb=function(a){b.Vo.bjb(a.newValue?a.newValue.$H:void 0);};this.Uta=function(){b.Vo.AJ();};this.ef=a.ef;this.Vo=new n.gMa(g.config.v9,a.Nc.value?a.Nc.value.$H:void 0);d=a.ED;k.na(.1<d.width/d.height);this.Vo.Vib(d.width/d.height);this.ef.appendChild(this.Vo.hx());a.TT.addListener(this.t6);a.Nc.addListener(this.odb);a.addEventListener(p.hg,this.Vcb,c.tz);h.Vd.addListener(h.t3,this.Uta);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);k=a(11);h=a(53);g=a(5);n=a(257);p=a(20);b.prototype.G8=function(a){this.Vo.G8(a);};b.prototype.n3=function(){return this.Vo.n3();};b.prototype.PJ=function(a){this.Vo.PJ(a);};b.prototype.QJ=function(a){this.Vo.QJ(a);};d.iMa=b;},function(f,d,a){var c,k,h,g,n,p,r,l;function b(a,b,c,d,g){a=p.LE.call(this,b,a,a,"1",{0:c},void 0,"xx",d||a,r.fo.vz,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=g;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(20);k=a(5);h=a(53);g=a(3);n=a(16);p=a(207);r=a(151);l=a(29);c.XW(c.kea,function(a){var d;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&84==b.keyCode){c=n.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,g,h;b=c.files[0];if(b){g=b.name;d.info("Loading file",{FileName:g});h=new FileReader();h.readAsText(b);h.addEventListener("load",function(){return a.zp.HZ("nourl",g,h.result);});}});c.click();}}d=g.bf(a,"TimedTextCustomTrack");k.config.Q0&&(d.info("Loading url",{Url:k.config.Q0}),a.zp.HZ(k.config.Q0,"custom"));h.Vd.addListener(h.lx,b);a.addEventListener(c.hg,function(){h.Vd.removeListener(h.lx,b);});});ja(b,p.LE);b.uZa=function(a,c,d,g){var h;h="custom"+b.I8a++;return new b(h,a,c,d,g);};b.prototype.bna=function(){var a;a=this;return new Promise(function(b,c){var d;if(a.content)b(a.content);else if(a.url){d={responseType:l.gqa,url:a.url,track:a,zb:null,TA:"tt-"+a.gj};a.j.FH.download(d,function(g){g.P?b(g.content):(g.reason="downloadfailed",g.url=d.url,g.track=a,c(g));});}});};b.I8a=0;d.fMa=b;},function(f,d){function a(a,b,c){this.start=a;this.track=b;this.Hy=c;this.end=void 0;this.Hy=Array.isArray(c)?c:[];}function b(a,b,c){this.log=a;this.Hp=b;this.Aa=c.Aa;this.pg=c.pg||function(){};this.current=void 0;this.o7=[];this.orphans=[];}function c(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function k(a,b){return c(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function h(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.ZSa=function(a,b){this.lta(a,b,"activating");};b.prototype.c_a=function(a){this.D1(a,"de-activating");};b.prototype.lta=function(b,c,d){var g;g=[];this.current&&this.D1(b,"close current for new");this.orphans.length&&(g.push(this.orphans),this.orphans=[]);this.current=new a(b,c,g);this.Hp&&this.log.trace("new range: "+d,this.Aa({},this.current));};b.prototype.D1=function(a,b){this.current&&(this.current.end=a,this.o7.push(this.current),this.Hp&&this.log.trace("end range: "+b,this.Aa({},this.current||{})),this.current=void 0);};b.prototype.bza=function(a){this.current?this.current.Hy.push(a):this.orphans.push(a);};b.prototype.j3=function(b){var c,d,g;c=this;d=c.o7.slice(0);if(c.current&&"undefined"!=typeof b){g=new a(c.current.start,c.current.track,c.current.Hy);g.end=b;d.push(g);}b=d.reduce(function(a,b){var d,g,h,f;if(!b.track)return a;d=b.track.ad;g=b.track.lu(b.start,b.end);if(!g)return a;h=k(b.Hy,c.log);a[d]?(f=a[d],f.expected+=g.length,f.missed+=g.length-h.length):(f={},f.dlid=d,f.bcp47=b.track.gj,f.profile=b.track.NI,f.expected=g.length,f.missed=g.length-h.length,f.startPts=b.track.K6a(),a[d]=f);return a;},{});b=h(b);c.Hp&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.z6a=function(b){var c,d,g,h,f;c=this;d=c.o7.slice(0);g=0;h=0;c.current&&"undefined"!=typeof b&&(f=new a(c.current.start,c.current.track,c.current.Hy),f.end=b,d.push(f));d.forEach(function(a){var b,d;if(a.track){if(a.end<a.start){c.pg("negative range",a);a.Qu=0;return;}b=k(a.Hy,c.log);d=a.track.lu(a.start,a.end);a.Yl=d?d.map(function(a){return a.id;}):[];a.Qu=d?0===d.length?100:100*b.length/d.length:0;}else a.Qu=100;b=a.end-a.start;g+=b;h+=a.Qu*b;});f=g?Math.round(h/g):100;c.log.trace("qoe score "+f+", at pts: "+b);c.Hp&&(b=d.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Qu),lang:a.track?a.track.gj:"none","actual  ":a.Hy.join(" "),expected:(a.Yl||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return f;};d.VLa=b;},function(f,d,a){var c,k,h,g,n,p,r,l,v,m,q,x,w,z,y;function b(a){var d;d=this;this.j=a;this.d9=this.fta=0;this.iG=this.Jr=!1;this.Pu=0;this.qD=function(){var a,b;a=d.Ed();d.PS();d.pma&&(d.log.info("Deactivating",d.pma),d.Yu.c_a(d.Ed()));d.j.Qm.set(null);d.My.ixa(d.entries=void 0);d.pla();b=d.j.Nc.value;b&&b.h4()&&!b.Rqa()&&(b=null);b&&d.j.Fc.value!==h.ki&&d.Yu.ZSa(a,b);b?(d.log.info("Activating",b),d.j.Oi.set(h.ss),d.Jr||d.j.Yd("tt_start"),b.getEntries().then(d.pB)["catch"](d.pB)):d.j.Oi.set(h.Ck);d.pma=b;d.zD();};this.n9=function(){d.Jr&&(d.My.start(),d.j.Fc.value!=h.bo&&d.My.stop());};this.zD=function(){var a;d.j.state.value===h.Em&&d.j.Fc.value!==h.ki&&(d.entries?a=d.My.h4a():d.j.Nc.value&&(a=b.mkb[d.j.Nc.value.me()]));a&&x.fb(a.startTime)&&(d.fta++,d.d9+=d.My.epa()-a.startTime,d.rka=Math.ceil(d.d9/(d.fta+0)));d.j.TT.set(a);};this.Ed=function(){return d.j.X2();};this.mdb=function(a){d.fireEvent(b.Qjb,a);a&&a.id&&d.Yu.bza(a.id);d.log.trace("showsubtitle",d.wpa(a));};this.gdb=function(a){d.fireEvent(b.$gb,a);d.log.trace("removesubtitle",d.wpa(a));};this.u6=function(){d.log.warn("imagesubs buffer underflow",d.j.Nc.value.ug);d.j.Oi.set(h.ss);};this.Qcb=function(){d.log.info("imagesubs buffering complete",d.j.Nc.value.ug);d.j.Oi.set(h.Ck);};this.Lta=function(){d.Jr&&d.Ne&&d.Ne.Qn(d.Ed());};this.Rta=function(a){d.Ne&&d.Ne.F8&&d.Ne.F8(a.Zq,a.g6);};this.Vta=function(a){d.Ne&&d.Ne.Dp&&d.Ne.Dp(a.om,a.anb);};this.ddb=function(){d.Jr=!0;q.cb(function(){d.Ne?d.Ne.Qn(d.Ed()):d.n9();d.zD();});};this.VI=function(){d.entries=void 0;d.pla();d.My.stop();d.zD();d.iG=!0;d.PS();};this.t6=function(a){(a=a.newValue)&&x.fb(a.id)&&d.Yu.bza(a.id);};this.edb=function(a){d.Ymb(a.newValue,a.oldValue);d.n9();};this.pB=function(a){var b,c;if(!d.iG){b=a.track;c=!1;if(b==d.j.Nc.value)if(b.Yo)if(a.P)d.PS(),d.Ne=b.Ne,d.fsa("addListener"),d.log.info("Activated",b),d.j.Qm.set(b),d.Jr?q.cb(function(){d.Ne.Qn(d.Ed());}):d.Ne.pause();else{if(c=!!(d.Pu<k.config.Asa))d.kwa=setTimeout(d.lwa.bind(d,b),k.config.rya);d.log.error("Failed to activate img subtitle",{retry:c},a,b);}else{if(c=a.entries)d.PS(),d.My.ixa(d.entries=c),d.log.info("Activated",b),d.j.Qm.set(b);else{if(c=!!(d.Pu<k.config.Asa))d.kwa=setTimeout(d.lwa.bind(d,b),k.config.rya);d.log.error("Failed to activate",{retry:c},m.Am(a),b);}d.zD();}d.Jr||d.j.Yd(a.P?"tt_comp":"tt_err");a.P?(k.config.twa?setTimeout(function(){d.j.Oi.set(h.Ck);},k.config.twa):d.j.Oi.set(h.Ck),b.Yo||d.zD()):a.ro?d.log.warn("aborted timed text track loading"):k.config.Y2a?(b=n.Y.get(y.Dj),d.j.jd(b(m.I.iFa,{Ea:a.track?a.track.ug:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.Oi.set(h.Ck));}};this.xd=new c.Si();this.Yu=new r.VLa(n.bf(a,"SubtitleTracker"),k.config.I1a,{Aa:v.Aa,pg:l.na});this.log=n.bf(a,"TimedTextManager");this.My=new p.jMa(this.Ed,this.zD);this.j.Nc.addListener(this.qD);k.config.Web?(this.j.addEventListener(h.Fm,this.ddb),this.qD()):(this.j.Oi.set(h.Ck),this.j.addEventListener(h.Fm,function(){d.Jr=!0;d.qD();}));this.j.Fc.addListener(this.edb);this.j.addEventListener(h.wea,this.n9);this.j.TT.addListener(this.t6);this.j.addEventListener(h.hg,this.VI);}Object.defineProperty(d,"__esModule",{value:!0});f=a(207);c=a(55);k=a(5);h=a(20);g=a(33);n=a(3);p=a(262);r=a(514);l=a(11);v=a(19);m=a(2);q=a(28);x=a(14);w=a(22);z=a(513);y=a(63);b.prototype.addEventListener=function(a,b,c){this.xd.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.xd.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.xd.Cc(a,b,c);};b.prototype.HZ=function(a,b,c){var d;d=z.fMa.uZa(this.j,a,b,c);this.j.yj.push(d);this.j.Sm.forEach(function(a){g.iAa(a.yj,d);});this.j.Nc.set(d);this.j.fireEvent(h.fKa);};b.prototype.P6a=function(a){return this.Yu.z6a(a);};b.prototype.j3=function(a){return this.Yu.j3(a);};b.prototype.rjb=function(a){k.config.sya.characterSize=a;a=this.j.Nc.value;!a||a.h4()||a.Yo||a.getEntries().then(this.pB)["catch"](this.pB);};b.prototype.Ymb=function(a,b){a===h.bo||a==h.Zp?b!==h.bo&&b!==h.Zp&&((b=this.j.Nc.value)&&b.h4()&&!b.Rqa()||this.Yu.lta(this.Ed(),b,"presentingstate:"+a)):a!==h.ki&&a!==h.Gv||this.Yu.D1(this.Ed(),"presentingstate:"+a);};b.prototype.PS=function(){this.Pu=0;clearTimeout(this.kwa);};b.prototype.pla=function(){this.Ne&&(this.Ne.stop(),this.fsa("removeListener"));this.Ne=void 0;};b.prototype.fsa=function(a){this.Ne&&(this.Ne[a]("showsubtitle",this.mdb),this.Ne[a]("removesubtitle",this.gdb),this.Ne[a]("underflow",this.u6),this.Ne[a]("bufferingComplete",this.Qcb),"addListener"===a?(this.j.addEventListener(h.kW,this.Lta),this.j.addEventListener(w.ya.f6,this.Rta),this.j.addEventListener(w.ya.Dp,this.Vta)):(this.j.removeEventListener(h.kW,this.Lta),this.j.removeEventListener(w.ya.f6,this.Rta),this.j.removeEventListener(w.ya.Dp,this.Vta)));};b.prototype.wpa=function(a){return{currentPts:this.Ed(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.lwa=function(a){this.Pu++;a.getEntries().then(this.pB)["catch"](this.pB);};a={};b.mkb=(a[f.LE.bfa.LOADING]={gzb:!0},a[f.LE.bfa.cE]={ex:!0},a);b.Qjb="showsubtitle";b.$gb="removesubtitle";d.hMa=b;},function(f,d,a){var r,l,v,m,q,x,w,z,y,F,K,S,da,P,t,R,fa;function b(){}function c(){}function k(){}function h(){}function g(){return z?z:"0.0.0.0";}function n(a,b,c){a=K(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function p(a){a({dua:0,kK:0,bqa:0,Una:0});}d=a(116);c.prototype.constructor=c;c.prototype.set=function(a,b){v[a]=b;m.save(a,b);};c.prototype.get=function(a,b){if(v.hasOwnProperty(a))return v[a];w.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");m.load(a,function(c){c.P?(v[a]=c.data,b&&b(c.data)):v[a]=void 0;});};c.prototype.remove=function(a){m.remove(a);};c.prototype.clear=function(){w.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.KG=d.br.KG;c.prototype.QO=d.br.QO.bind(d.br);c.prototype.pz="NDA";k.prototype.now=function(){return q();};k.prototype.ca=function(){return x();};k.prototype.JI=function(a){return a+q()-x();};k.prototype.VR=function(a){return a+x()-q();};d=a(32).EventEmitter;a(41)(d,h.prototype);S=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();f.K=function(a){r=a.gy;K=a.Tc;m=a.storage;v=a.TB;q=a.Z5a;y=a.tH;F=a.LH;x=a.getTime;w=a.hUa;da=a.Ua;fa=a.$p;P=a.cz;t=a.SourceBuffer;R=a.MediaSource;z=a.Gyb;l=a.Zm;return{name:"cadmium",Zm:l,gy:r,tH:y,LH:F,ready:b,storage:new c(),Storage:c,time:new k(),events:new h(),console:new n("JS-ASE",void 0,"default"),Console:n,options:b,Promise:S,Ua:da,cz:P,VGa:t,MediaSource:R,$p:fa,ik:{name:g},memory:{x5a:p},tzb:void 0};};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(29);d.DKa=function(){b.Tc("ProbeDownloader");return{nH:function(a){c.bc.xfb({url:a.url,ufb:a});}};}();},function(f,d,a){var c,k,h,g,n,p,r;function b(){var a;a=new k.Si();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Cc.bind(this);this.gw=p++;this.Ya=h.Tc("ProbeRequest");this.Cia=c.DKa;g.na(void 0!==this.Cia);this.Ie=d.$p.$a.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});c=a(517);k=a(55);h=a(3);g=a(11);n=a(16);p=0;(function(){function a(){return JSON.stringify({url:this.mg,id:this.gw,affected:this.vM,readystate:this.Ie});}n.Aa(b.prototype,{Ki:function(a){a.affected=this.vM;a.probed={requestId:this.gw,url:this.mg,Vc:this.Xia,groupId:this.yha};this.emit(d.$p.pd.vE,a);},o6:function(a){this.CF=a.httpcode;a.affected=this.vM;a.probed={requestId:this.gw,url:this.mg,Vc:this.Xia,groupId:this.yha};this.emit(d.$p.pd.Dv,a);},open:function(a,b,c,g){if(!a)return!1;this.mg=a;this.vM=b;this.Xia=c;this.Ie=d.$p.$a.OPENED;this.lPa=g;this.Cia.nH(this);return!0;},Ke:function(){return!0;},Ei:function(){return this.gw;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ie;},set:function(){}},status:{get:function(){return this.CF;}},url:{get:function(){return this.mg;}},Iub:{get:function(){return this.vM;}},y$a:{get:function(){return this.lPa;}}});}());(function(a){a.pd={vE:"pr0",Dv:"pr1"};a.$a={UNSENT:0,OPENED:1,Js:2,DONE:3,Bm:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(r||(r={})));d.$p=Object.assign(b,r);},function(f){f.K="4.0.127";},function(f,d,a){var c,k,h,g,n,p;function b(a){var b;b=nrdp.qg.IBb.match(/android-(\d*)/);b?23<b[1]?(a.$u=!1,a.Zu=!1,a.zo=void 0):(b=nrdp.qg.Wsb.Dvb.platform.xAb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.$u=!0,a.Zu=!1,a.zo=void 0):(a.$u=!1,a.Zu=!1,a.zo=[]):(a.$u=!1,a.Zu=!1,a.zo=[]):(a.$u=!1,a.Zu=!1,a.zo=[]);}c=a(15);k=a(65);h=a(9);g=h.Ua;n=h.MediaSource;p=h.VGa;f.K=function(a){var d,f,r,l,m,w;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Ua.zc){d=p.prototype.appendBuffer;if(a.YZ){g.zc={QS:{pl:!0,bq:!1,yW:!0}};Object.defineProperties(g.prototype,{hw:{get:function(){return this.bNa;},set:function(){}},Vb:{get:function(){return!this.f4;}}});f=g.prototype.Ki;g.prototype.Ki=function(a){a.response&&(this.bNa=a.response instanceof ArrayBuffer?a.response:a.response.buffer);return f.call(this,a);};g.prototype.IS=function(){this.response=void 0;};h.MediaSource.zc||(h.MediaSource.zc={});void 0===h.MediaSource.zc.FO&&(h.MediaSource.zc.FO=!0);Object.defineProperty(n.prototype,"duration",{get:function(){return this.Dl;},set:function(a){var b;this.Dl=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Dl=b;});}});r=p.prototype.I8;l={Vb:!1,Ei:function(){return this.requestId;},ola:function(){this.response=void 0;},constructor:{name:"MediaRequest"},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.om,isHeader:this.Vb,ptsStart:this.Or,ptsOffset:this.kk,responseType:this.IN,duration:this.dr,readystate:this.Ie};this.stream&&(a.bitrate=this.stream.L);return JSON.stringify(a);}};p.prototype.appendBuffer=function(a,b){var c;if(!b)return d.call(this,a);c=Object.create(l);k({N:this.N,readyState:g.$a.DONE,requestId:b.Ei(),Or:b.S,DC:b.S+b.duration,dr:b.duration,kk:this.Iha||0,Wq:b.Wq,om:b.df.vc.la.id,Wa:b.Wa,Vc:b.Vc,location:b.location,$F:b.offset,ZF:b.offset+b.$-1,L:b.L,response:a,Spa:a&&0<a.byteLength,df:{vc:{la:{Z:this.Dl-(this.Iha||0)||Infinity}}}},c);return this.lO(c);};p.prototype.I8=function(a,b){this.Iha=Math.floor(1E3*a/b);return r.call(this,a,b);};}else{m=function(a){this.zPa=a;};h.MediaSource.zc||(h.MediaSource.zc={});"undefined"!==typeof nrdp&&nrdp.Lub&&(b(h.MediaSource.zc),h.MediaSource.zc.FO=!1);h.Ua.zc={QS:{pl:!0,bq:!0,yW:!0}};Object.defineProperty(g.prototype,"_response",{get:function(){return this.gSa||this.ZNa;},set:function(a){this.ZNa=a;}});w=g.prototype.open;g.prototype.open=function(a,b,c,d,h,f,k){c===g.Ui.bq&&(this.gSa=new m(this));return w.call(this,a,b,c,d,h,f,k);};g.prototype.IS=function(){this.hw=void 0;};p.prototype.appendBuffer=function(a){if(a instanceof ArrayBuffer)return d.call(this,a);if(a instanceof m)return this.lO(a.zPa);c(!1);};}}};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kza=function(){return function(a,b){this.hb=[];this.Co=[];this.bC=[];this.id=a;this.Ca=b;};}();},function(f,d,a){var b;d=a(87);b=a(521);a=function(){return function(a,d,h,g,f,p,r,l,v,m){void 0===h&&(h=!1);void 0===f&&(f=0);this.em=0;this.vt=new b.Kza(a,d);this.replace=h;this.Xd=g;this.S=f;this.Z=p;this.J4=r;this.un=l;this.dB=v;this.fs=m;};}();d.Uw(a.prototype,{M:d.La({get:function(){return this.vt.id;}}),Ca:d.La({get:function(){return this.vt.Ca;}}),hb:{get:function(){return this.vt.hb;},set:function(a){this.vt.hb=a;}},Co:{get:function(){return this.vt.Co;},set:function(a){this.vt.Co=a;}},bC:{get:function(){return this.vt.bC;},set:function(a){this.vt.bC=a;}}});f.K=a;},function(f,d,a){var c,k,h;function b(a){k.call(this);this.cA=a;this.Lf=new c();this.Lf.on(this,k.pd.vE,this.JY);this.Lf.on(this,k.pd.Dv,this.mF);this.U=h;this.yha=a.groupId;}c=a(32).RD;d=a(9);k=d.$p;h=new d.Console("ASEJS","media|asejs");b.prototype=Object.create(k.prototype);b.prototype.constructor=b;b.prototype.open=function(a,b,c){k.prototype.open.call(this,a,b,c);};b.prototype.Ke=function(){this.Lf&&this.Lf.clear();k.prototype.Ke.call(this);};b.prototype.JY=function(a){this.cA.wfb(a.probed,a.affected);this.Ke();};b.prototype.mF=function(a){this.cA.tfb(a.probed,a.affected);this.Ke();};f.K=b;},function(f,d,a){var c,k,h;function b(a,b){this.hF=a;this.aw=0===Math.floor(1E6*Math.random())%b.my;this.groupId=1;this.config=b;this.gr={};this.Mu={};}c=a(8);k=a(523);h=a(9);new h.Console("ASEJS_PROBE_MANAGER","asejs");b.prototype.constructor=b;b.prototype.vfb=function(a,b){var d,g,f,k,n,l,m,w,z,y,F;d=this.hF;g=a.Vc;f=d.Txa(a.url);k=d.kR(a.url);n=this.config;l=h.time.ca();w=b;z=[];y=f.pj[0];F=!1;m=this.gr[g];if(!m)m=this.gr[g]={count:0,fl:l,Sr:!1,error:b,C8:[],Z6:{}};else if(m.fl>=l-n.PT)return;m.Sr||(y&&k.id===y.id&&(a.isPrimary=!0),m.fl=l,m.Sr=!1,m.error=b,++m.count,f&&f.Gc&&0!==f.Gc.length&&(c.forEach(f.Gc,function(b){var c,d,h;c=b.Ub.id;d=c+"-"+g;h=this.Mu[d];if(void 0===h||void 0===h.vS)h&&h.uk&&clearTimeout(h.uk),b=this.bma(b.url,a,c),this.Mu[d]={P:!1,count:0,vS:b.Ei()},z.push(b.Ei()),F=!0;-1===m.C8.indexOf(c)&&m.C8.push(c);},this),this.aw&&0<z.length&&(f={type:"logdata",target:"endplay",fields:{}},b=w,w={ts:h.time.ca(),es:b.Qja,fc:b.Zl,fn:b.Tna,nc:b.zn,pb:z,gid:this.groupId},b.EH&&(w.hc=b.EH),f.fields.errpb={type:"array",value:w,adjust:["ts"]},d.Tx(f)),F&&this.groupId++));};b.prototype.bma=function(a,b,c){var d,g,h,f;d=this.hF.kR(b.url);d=d&&d.pa&&d.pa.nn&&d.pa.nn.va||300*Math.random(0,1);g=new k(this);h=a.split("?");f="random="+parseInt(1E7*Math.random(),10);g.open(1<h.length?a+"&"+f:a+"?"+f,b,c,d);return g;};b.prototype.wfb=function(a,b){var c,d,g,f,k,n,l,w;c=this.hF;d=this.config;g=b.Vc;f=this.gr[g];n=a.url;l=this.Mu[a.Vc+"-"+g];if(f&&(k=f.error,l)){l&&l.uk&&clearTimeout(l.uk);l.P=!0;l.count=0;l.vS=void 0;f.Z6[a.Vc]=!0;(l=this.gr[a.Vc])&&!0===l.Sr&&d.Dq&&(c.ewa(a.Vc,l.error.zK[1]),this.aw&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.ca(),id:a.requestId,servid:b.Vc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Tx(l)),this.gr[a.Vc]=void 0);if(n!==b.url){w=this.Mu[g+"-"+g];w&&w.P||(g=(g=c.kR(n))&&g.pa&&g.pa.nn&&g.pa.nn.va||Math.random(0,1)*d.qR,g=Math.min(g,d.qR),setTimeout(function(){var d;if(!(!1!==f.Sr||w&&w.P)&&(f.Sr=!0,c.kl(k.zK[0],k.zK[1],b.url,k),this.aw)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.ca(),id:a.requestId,servid:b.Vc,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Tx(d);}}.bind(this),g));}this.aw&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ca(),id:a.requestId,result:1,servid:a.Vc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Tx(l));}};b.prototype.tfb=function(a,b){var d,g,f,k,n,l,m,w,z,y;d=this.hF;g=parseInt(b.Vc,10);f=this.gr[g];k=parseInt(a.Vc,10);n=this.Mu[k+"-"+g];l=0;z=this.config;if(n&&f){n.P=!1;n.vS=void 0;f.Z6[k]=!1;w=f.C8;if(z.Dq&&k===g&&b.isPrimary){y=d.kR(b.url);y=y&&y.pa&&y.pa.nn&&y.pa.nn.va||300*Math.random(0,1);y=y*Math.pow(2,n.count);y=Math.min(y,12E4);y=y+Math.random(0,1)*(1E4>y?100:1E4);n.uk=setTimeout(function(){var c;n.uk=void 0;c=this.bma(a.url,b,k);n.vS=c.Ei();}.bind(this),y);}++n.count;k===g&&(l=0,w.forEach(function(a){!1===f.Z6[a]&&l++;}),w.length===l&&f.count>=z.xR&&(m=f.error,f.Sr=!0,c.forEach(d.Txa(b.url).Gc,function(a){var b;d.kl(m.zK[0],m.zK[1],a.url,m);if(this.aw){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.ca(),id:-1,servid:a.Ub.id},adjust:["ts"]};d.Tx(b);}},this)));this.aw&&(g={type:"logdata",target:"endplay",fields:{}},g.fields.pbres={type:"array",value:{ts:h.time.ca(),id:a.requestId,result:0,servid:a.Vc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.Tx(g));}};b.prototype.L9=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.hF;b=a.Zwa(b);c=this.gr[b];d=this.Mu[b+"-"+b];c&&c.Sr&&this.config.Dq&&(a.ewa(c.error.Qja,!1),this.aw&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.ca(),id:-1,servid:b},adjust:["ts"]},a.Tx(c)),this.gr[b]=void 0,d&&d.uk&&clearTimeout(d.uk));}};b.prototype.reset=function(){var a,b,c;a=this.Mu;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.uk&&clearTimeout(b.uk);this.Mu={};this.gr={};};f.K=b;},function(f,d,a){var c,k,h,g,n,p,r,l,v,m,q,x,w,z,y,F;function b(a,b,c){var d,g;this.un=b;this.config=c;y[z.LV]=c.p8a?m:w;this.un.on("networkFailed",this.v7a.bind(this));this.RB=h.time.ca();this.UO=0;d=this.L9.bind(this);g=this.Rcb.bind(this);a.on("underflow",this.u6.bind(this));a.on("requestProgress",d);a.on("requestComplete",d);a.on("startBuffering",g);this.q9={};this.cA=new r(b,c);this.D8a();}d=a(41);c=a(32).EventEmitter;k=a(8);h=a(9);g=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");n=a(13);p=h.Ua;r=a(524);a=[n.Xe.Up,!1];l=[n.Xe.Up,!0];v=[n.Xe.Iv,!1];m=[n.Xe.Iv,!0];q=[n.Xe.URL,!0];x=[];w=[n.Xe.Iv,!1];z=p.ws;y={};y[z.oob]=v;y[z.ECa]=v;y[z.zaa]=v;y[z.QCa]=v;y[z.ICa]=m;y[z.kBa]=m;y[z.Y$]=w;y[z.CU]=w;y[z.lBa]=x;y[z.mBa]=w;y[z.nBa]=w;y[z.hBa]=v;y[z.jBa]=v;y[z.X$]=a;y[z.iBa]=v;y[z.gBa]=w;y[z.mpb]=m;y[z.sEa]=w;y[z.zba]=w;y[z.yba]=w;y[z.LV]=w;y[z.wba]=w;y[z.rEa]=q;y[z.NV]=m;y[z.AL]=q;y[z.OV]=l;y[z.PV]=m;y[z.uEa]=q;y[z.BL]=w;y[z.Aba]=m;y[z.tEa]=m;y[z.LCa]=m;y[z.FCa]=v;y[z.kLa]=v;y[z.vCa]=v;y[z.wCa]=v;y[z.xCa]=v;y[z.yCa]=v;y[z.zCa]=v;y[z.ACa]=v;y[z.BCa]=v;y[z.CCa]=v;y[z.DCa]=v;y[z.GCa]=v;y[z.HCa]=v;y[z.JCa]=v;y[z.KCa]=v;y[z.MCa]=v;y[z.NCa]=v;y[z.OCa]=v;y[z.PCa]=v;y[z.RCa]=v;y[z.SCa]=v;y[z.jLa]=w;y[z.TIMEOUT]=a;F={};F[z.Y$]=!0;F[z.zba]=!0;F[z.yba]=!0;F[z.wba]=!0;F[z.zaa]=!0;d(c,b.prototype);b.prototype.qjb=function(a){this.mo=a;};b.prototype.kl=function(a,b,c,d){var h,f,r,l,u,m,A;h=p.ws.name[b];f=y[b];m=this.config;A=this.un;g.warn("Failure "+h+" on "+JSON.stringify(d)+" : critical error count = "+this.UO);this.dR={EH:a,Zl:b,Tna:h,zn:c};F[b]&&++this.UO;if(!k.isArray(f))g.error("Unmapped failure code in JSASE error director : "+b);else if(f!==x){if(d.url)u={},u[A.Zwa(d.url)]=[d.url];else if(d.host)u=A.Rib(d.host,d.port);else{g.error("Invalid affected for network failure");return;}r=f[0];l=f[1];m.Gn?k.forEach(u,function(g,k){f===w||f===v?this.cA.vfb({url:d.url?d.url:g[0],Vc:k},{Qja:k,zK:f,EH:a,Zl:b,Tna:h,zn:c}):g.some(function(a){A.kl(r,l,a);return r===n.Xe.Iv;});!m.Lo||0!==a&&void 0!==a||(g=void 0!==d.url?d.url:g[0],this.mo&&g&&this.mo.t8("error",g));},this):k.forEach(u,function(b,c){if(f!==w||this.ihb(c))b.some(function(a){A.kl(r,l,a);return r===n.Xe.Iv;}),!m.Lo||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.mo&&b&&this.mo.t8("error",b));},this);}};b.prototype.ihb=function(a){var b,c,d;b=h.time.ca();d=this.config;if(c=this.q9[a])if(c.fl<this.RB)c.fl=b,c.count=1;else{if(!(c.fl>=b-d.PT||c.Sr||(c.fl=b,++c.count,c.count<d.xR)))return c.Sr=!0;}else this.q9[a]={fl:b,count:1};};b.prototype.v7a=function(a){var b,c,d,f,k,n;b=h.time.ca()-this.RB;c=a;n=this.config;g.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>n.a6&&(c=!0);c?(this.KC&&(clearTimeout(this.KC),delete this.KC),this.qla(),this.cA.reset(),this.dR&&(d=this.dR.Zl,f=this.dR.EH,k=this.dR.zn),this.emit("streamingFailure",{g9a:a,vdb:d,wdb:f,xdb:k})):this.KC||(this.KC=setTimeout(function(){delete this.KC;this.JC();}.bind(this),n.b6));};b.prototype.JC=function(a){this.KC||(this.un.JC(!!a),this.q9={},this.emit("networkFailureReset"));};b.prototype.L9=function(a){var b;b=this.config;this.RB=Math.max(a.timestamp||h.time.ca(),this.RB);this.qla();b.Gn&&this.cA.L9(a);};b.prototype.Rcb=function(){this.UO=0;};b.prototype.u6=function(a){var b,c;b=this.config;c=b.s5;this.RB=Math.max(a||h.time.ca(),this.RB);b.hnb&&!this.AK&&(g.info("Setting underflow timeout in "+c+"ms"),this.AK=setTimeout(function(){g.info("Forcing permanent network failure after "+c+"ms, since underflow with no success");delete this.AK;this.un.kl(n.Xe.Up,!0);}.bind(this),c));};b.prototype.qla=function(){this.AK&&(clearTimeout(this.AK),delete this.AK,g.info("Cleared underflow timeout"));};b.prototype.D8a=function(){var b,c,d,h;function a(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a;}b=this.un;c=this;d=this.config.W0;h={};switch(d){case"1":b.on("manifestAdded",function(){var d;d=[];h.n=h.n||0;b.moa(function(a,b,c,g){h[g.id]||(h[g.id]=!0,d.push(g.id));});a(d).forEach(function(a){setTimeout(function(){c.kl(p.ws.PV,{url:a});},4E3+h.n);h.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.moa(function(b,c,d,g){h[g.id]||(h[g.id]=!0,a.push({L:d.L,url:g.id}));});a.sort(function(a,b){return b.L-a.L;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.ex()||c.kl(p.ws.AL,{url:a});},5E3*Math.random());});});break;default:return;}g.warn('Initialized network failure simulation "'+d+'"');};f.K=b;},function(f,d,a){var c,k,h;function b(a,b,d){this.ea=d;this.LSa=new c(a);this.xZ=b.ha;this.uNa=1E3*b.Hab/b.vVa;this.gOa=b.Uma;}c=a(26).UMa;k=a(31).fG;d=a(9);h=d.Ua;new d.Console("ASEJS_SIDECHANNEL","media|asejs");b.prototype.constructor=b;b.prototype.Fib=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};b.prototype.Pt=function(a){var b;b={s_xid:this.xZ,dl:this.gOa?1:0};a.Ad&&(b.bs=k(Math.floor(a.Ad/this.uNa)+1,1,5));a.RR&&(b.limit_rate=a.RR);a.Aka&&(b.bb_reason=a.Aka);return b;};b.prototype.Dta=function(a){var b;try{b=this.Fib(a);return this.LSa.encrypt(b);}catch(p){this.ea.hp("SideChannel: Error when obfuscating msg. Error: "+p);}};b.prototype.t8=function(a,b){var c,d,g;try{c=new h(void 0,"notification");d=this.Pt({Aka:a});g=this.Dta(d);b&&g&&c.open(b,void 0,h.Ui.yW,void 0,void 0,void 0,g);}catch(v){this.ea.hp("SideChannel: Error when sending sendBlackBoxNotification. Error: "+v);}};f.K=b;},function(f,d,a){var c;function b(a){this.nw=void 0;this.APa=a;this.bZ=[];this.Ob=[];}a(8);a(13);c=a(36).qx;a(26);b.prototype.reset=function(a){this.nw=void 0;this.bZ=[];a&&(this.Ob=[]);};b.prototype.add=function(a,b){var d,h;d=b.filter(function(b,d){return c(b)||d===a.fd;});h=d.map(function(a){return a.L;});b=d.indexOf(b[a.fd]);this.nw&&(this.nw.length!==h.length||this.nw.some(function(a,b){return a!==h[b];}))&&(d=this.Ooa())&&(this.Ob.push(d),this.reset(!1));void 0===this.nw&&(this.nw=h);this.bZ.push([b,a.Jya,a.Ra,a.CVa,a.Kka,a.afb,a.Fcb,a.Kua,a.Pj,a.Wq,a.slb-a.Jya]);};b.prototype.d2a=function(){for(var a=this.bZ,b=[],c=[],d=0;d<a.length;d++){for(var f=a[d],r=[],l=0;l<f.length;l++)r.push(f[l]-(c[l]||0));b.push(r);c=f;}return b;};b.prototype.Ooa=function(){var a;a=this.d2a();if(0!==a.length)return{dltype:this.APa,bitrates:this.nw,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Ooa();b=this.Ob;a&&b.push(a);if(0!==b.length)return b;};f.K=b;},function(f,d,a){var c,k;function b(){this.RN=[];this.RN[c.v.VIDEO]=new k(c.v.VIDEO);this.RN[c.v.AUDIO]=new k(c.v.AUDIO);}a(8);c=a(13);a(9);a(26);k=a(527);b.prototype.zTa=function(a,b,c){this.RN[a].add(b,c);};b.prototype.N6a=function(){var a;a=[];this.RN.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};b.prototype.g3a=function(a){var b;b=this.N6a();a.strmsel=b;return 0<b.length;};f.K=b;},function(f,d,a){var k,h,g,n,p,r;function b(a,b,d){this.Na=a;this.ea=b;this.J=d;this.lA=[];[h.v.AUDIO,h.v.VIDEO].forEach(function(a){b.MB(a)&&(this.lA[a]=new c(b,a));}.bind(this));this.Ss=void 0;}function c(a,b){this.U=p(g,a.U,"["+b+"]");this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);this.Ts=this.U.debug.bind(this.U);this.N=b;this.Zk=this.fH=this.Rk=this.YF=this.uo=this.x4=this.kj=void 0;this.mJ=this.En=0;this.connected=!1;this.C4=this.ux=this.QB=this.z4=this.tu=this.sn=this.Xh=void 0;this.Yy=this.fna=!1;this.rI=this.WF=this.pn=void 0;}k=a(8);h=a(13);g=a(9);n=a(36).qx;p=a(26).pI;r=a(283);Object.defineProperties(b.prototype,{lb:{get:function(){return this.lA;}}});b.prototype.aC=function(a){var b,c,d,f,n,p,r,l,u,m,q,P;b=this.J;c=this.ea;d=a.N;f=c.ak()[d];n=a.vc.oa;p=c.xa[n];r=this.lA[d];b=d===h.v.VIDEO?b.k_:b.V9;l=c.bA;u=c.Ib.value;m=l.Ed();f={Kt:f,S:null,ze:m,Ra:null,ij:a.IA||m,$g:0,by:0,V:[]};p={state:u,aI:"function"===typeof l.aI?l.aI():u===h.ta.Ye,qk:a.Vg,buffer:f,Ll:p.Co[d],X0a:b,W$a:c.Vz,axb:c.rOa,Xj:c.Xj,Pj:c.Ji&&c.Ji.Pj};b=a.Ga.opa();f.Ra=b.lp;f.S=b.Ka;f.$g=b.$g;f.by=b.by;f.txb=b.V.length;void 0===p.qk&&(p.qk=c.aN(d,n,f.Ra));f.V=b.V;if(p.state===h.ta.Ye&&0===f.V.length&&!k.fa(a.iD.Zv)){a.R7&&(P=g.time.ca()-a.R7.time,q=a.R7.reason);a.Zb("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",r.sn,"lastStreamSelected:",r.Xh,"last pipeline.reset:",q,"delta:",P);}k.fa(f.S)?a.seeking&&f.ze!=f.S&&(f.ze=f.S):(f.S=0,f.Ra=0);c.Hc.EWa(p);c.Hc.uTa(p);return p;};b.prototype.DWa=function(a,b,c){var p,r;a=this.lA[a];for(var d=a.rI,g="manifest",h=this.ea,f=0,k=b.length-1;0<=k;k--){p=b[k];r=p.L;if(n(p)){f=Math.max(f,r);break;}else!p.inRange&&p.UA&&p.UA.join?g=p.UA.join("|"):p.$k?p.ee?p.Tg&&(g="hf"):g="av":g="bc";}if(void 0===d||f!==d){a.rI=f;if(h.Wk)try{this.Ss&&this.u7a();}catch(S){h.hp("Hindsight: Error when handling maxbitrate chagned: "+S);}h.pcb(d,f,g,c);}};b.prototype.xH=function(a){var b,c,d,g,f,n,p,r,l,u,m,q;b=this.J;c=this.ea;d=a.N;g=d==h.v.VIDEO;f=0;p=this.lA[d];if(!p.kj)return{Se:void 0};r=this.aC(a);l=p.Xh;u=a.vc.oa;m=a.ac;q=l?l.index:p.fH;if(l&&(f=l.L,l.EO)){q=c.mha(m,f);n=m[q];if(l.L!==n.L||!l.EO.replace&&d===h.v.VIDEO)r.state=h.ta.Ig;l.index=q;l.L=n.L;}n=c.al(u);m=n.un.cU(r,m);if(!m)return a.Zb("location selector did not find any urls"),{Se:void 0};if(!g){u=b.m9;if(!(u&&u.length||a.RS)&&q&&m[q]&&l&&l.location===m[q].location)return{Se:q,nG:!0};a.RS&&(r.state=h.ta.Ig,q=void 0);}if(g&&b.ZA&&b.C0a&&!p.kj.KB()&&a.Ad>b.xO)return{Se:a.V7a,nG:!0};c.Hc.Yka(r.qk,m);r=a.iD.s8(r,m,q,c.Hc.k6a(d),p.kj.config.df,b.Q9&&0===c.iia?b.eC:b.y5,n.dB);if(!r)return a.Zb("stream selector did not find a stream"),{Se:void 0};c.Xj&&c.khb.zTa(a.N,r,m);g&&this.DWa(d,m,a.Ra);c.Hc.ndb(r);d=r.fd;m=m[d].L;l=a.Ad;r.ZZa&&l<b.C_&&m<f&&c.vQa(f,m);d!=q&&(g&&b.ZA&&c.gga(a,m),g||c.Hc.XC(m));k.fa(p.fH)||(p.fH=d);a.Eo||(r.Eo?(a.Eo=!0,p.WF=r.reason):(a.oI=r.oI,a.yy=r.yy,a.ai=r.ai));c.Qv();g&&c.JRa(a,r.Vw)||delete a.Wt;return{Se:d,nG:r.nG,LC:r.LC};};b.prototype.V1=function(a,b){var c,d,g,f,k;if(this.Ss){c=this;d=this.Ss;g=this.ea;f=g.Ed();k=[];b&&(f=b.Z);g.ia.Ae.forEach(function(b){var d,n;d=c.aC(b);n=b.N;d.N=n;d.headers=g.qB(n);d.ze=f;a===h.ta.Hs&&(d.yva=b.Ga.UZ(f));k[n]=d;});d.Zna||d.l3a(k,a)||this.P7();return d;}};b.prototype.u7a=function(){var a,b,c,d,f;a=this;b=this.Ss;c=this.J;d=this.ea;f=[];b&&(this.V1(void 0),b&&!b.vA&&d.IF.AS.G1(b));d.ia.Ae.forEach(function(b){var c,d;c=a.aC(b);d=b.N;c.Rk=g.time.ca();c.ac=b.ac;c.N=d;f[d]=c;});b=d.ak();b={TSa:b[h.v.AUDIO],DD:b[h.v.VIDEO],uI:c.Ex};this.Ss=b=new r(f,g.time.ca(),void 0,d.A1,b,c.CH);};b.prototype.P7=function(){this.Ss=void 0;};b.prototype.Umb=function(a){var b,c,d,f,k,n;b=this;c=a.oldValue;d=a.newValue;f=this.Ss;a=this.J;k=this.ea;d===h.ta.Ye&&c!==h.ta.Ye?(f&&k.U.warn("override an existing play segment!"),n=[],k.ia.Ae.forEach(function(a){var c,d,g;c=b.aC(a);d=a.N;g=b.lb[d];g.R8?(c.Rk=g.R8,delete g.R8):c.Rk=g.Rk;c.ac=a.ac;c.N=d;n[d]=c;}),d=k.ak(),d={TSa:d[h.v.AUDIO],DD:d[h.v.VIDEO],uI:a.Ex},this.Ss=f=new r(n,g.time.ca(),c,k.A1,d,a.CH)):d!==h.ta.Ye&&c===h.ta.Ye&&f&&(this.V1(d),f&&!f.vA&&k.IF.AS.G1(f),this.P7());};b.prototype.w7a=function(a){this.lA.forEach(function(b){b.Xh||(b.Xh={});b.Xh.EO={replace:a};b.Xh.location=void 0;}.bind(this));};f.K=b;},function(f,d,a){var c,k,h,g,n,p,r;function b(a,b,c,d,g,h,f){this.Nk=c;this.ih=b;this.$e=d;this.gd=g;this.Ze=h;this.J=f;this.U=a;this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.on=this.addEventListener=n.addEventListener;this.removeEventListener=n.removeEventListener;this.emit=this.Fa=n.Fa;this.reset();r&&this.yb("BufferManager ctor");}c=a(8);a(15);k=a(9);h=a(13);g=a(60).Ge;n=a(32).EventEmitter;p=a(280);g=a(60).Ge;b.prototype.constructor=b;Object.defineProperties(b.prototype,{vO:{get:function(){return this.gd?this.gd.vO:-1;}},Pnb:{get:function(){return this.Mh.length;}}});b.prototype.reset=function(){this.sq=!1;this.Mh=[];this.wY=this.lN=this.mY=this.sY=void 0;this.qF=g.Eg;this.tN=this.fA=this.$v=void 0;this.DY=this.zY=this.TE=g.Eg;this.dY=!1;this.dZ(g.Eg);};b.prototype.FOa=function(a,b){void 0===this.tN&&("object"===typeof this.J.f8&&this.J.f8[a]?(a=new g(this.J.f8[a],1E3).wk(b.ga).add(new g(1,b.ga)),this.tN=g.min(b,a)):this.tN=b);return this.tN;};b.prototype.dZ=function(a){this.gd.I8(a.Ld,a.ga);};b.prototype.I3a=function(){this.mY=!0;};b.prototype.pause=function(){this.sq=!0;};b.prototype.resume=function(){this.sq=!1;this.Ov();};b.prototype.K5a=function(){return this.lN&&this.lN.pf;};b.prototype.mWa=function(a,b){var d;for(var c=0;c<this.Mh.length;c++){d=this.Mh[c];d.df.vc.la.id===a&&d.Qd>=b&&(d.abort(),this.Mh.splice(c,1),c--);}};b.prototype.AUa=function(a){var b;if(this.J.TG){b=a.df.vc;if(a.Qd>=b.Z)return;a.kk!=b.wc&&a.oxa(new g(b.wc,1E3));}this.Mh.push(a);this.Ov();};b.prototype.Qn=function(){this.Ov();};b.prototype.EJ=function(a){a=this.Mh.indexOf(a);-1!==a&&this.Mh.splice(a,1);};b.prototype.kcb=function(){this.Ov();};b.prototype.l6=function(){this.dY||(this.dY=!0,this.Ov(),this.gd.endOfStream());};b.prototype.Ov=function(){var a,b,d,g,f,n;b=this.J;d=Object.getOwnPropertyNames(this.Ze);b.XZ&&c.R(this.sY)&&1===d.length&&(a=this.Ze[d[0]],a.complete&&!c.R(a.Wa)&&this.nga(a));if(this.Mh.length)if(this.gd)if(d=this.Mh[0],this.sq)this.eA("@"+k.time.ca()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(d));else if(!d.complete&&d.Jqa())this.aa("aborted MediaRequest should not appear in the toAppend list"),this.eA("@"+k.time.ca()+", append: removing aborted request from toAppend: "+d.toString()),this.Mh.shift();else{g=d.Wa;if((a=this.Ze[g])&&a.data)if(this.mY||g!=this.sY)this.mY=!1,this.nga(a);else if(!b.nU||d.se.BH()){a=d.df;f=a.Fq;if(!(this.ih===h.v.AUDIO&&d.$o&&d.Cd&&!b.Mn&&!this.dY&&1===this.Mh.length&&f>b.T5)){if(b.TG||b.sna){g=a.vc.Pf;n=d.pf>=a.vc.Um;b=f>b.T5;if(a.vc.Um<a.vc.Z&&n&&b&&!g)return;}this.Mh.shift();this.hNa(d);}}}else this.eA("@"+k.time.ca()+", append: not appending, sourceBuffer not ready");};b.prototype.dNa=function(a){this.J.Bw&&this.J.Tl&&a.stream.np&&(this.qF=a.stream.np);};b.prototype.nga=function(a){if(this.gd.appendBuffer(a.data))this.eA("@"+k.time.ca()+", header appended, streamId: "+a.Wa),this.sY=a.Wa,this.sRa(a.oa||0,a.Wa),this.dNa(a),this.Ov();else throw this.aa("appendHeader error: "+this.gd.error),this.eA("@"+k.time.ca()+", appendHeader error: "+this.gd.error),"appendHeaderError";};b.prototype.GRa=function(a){void 0===this.fA&&(this.fA=p.bT(this.J,a));return this.fA;};b.prototype.hNa=function(a){var b,c,d,f,n,p,r;b=a.kk;c=!1;d=this.ih===h.v.AUDIO&&a.Cd&&this.GRa(a.stream);f=a.df.vc.la;f.Z&&Infinity!=f.Z&&(f=(f.Z+b)/1E3,Infinity==this.$e.duration||this.$e.duration<f)&&(this.$e.duration=f);b!=this.wY&&(f=this.qF.add(this.TE).add(new g(b,1E3)),this.dZ(f),this.wY=b);if(d){f=a.stream.Ha;b=this.FOa(a.profile,f);n=a.bv+a.kk;if(a.$o)c=new g(a.Z-n,1E3),c=this.TE.add(c).Hpa(b);else if(void 0!==this.$v){p=this.$v;r=a.K6;new g(n-a.S,1E3);n=this.TE.add(p.Kd(r));if(r.add(f).wra(p)||n.Hpa(b))c=!0,r.add(f),n=n.Kd(f);n.k6(this.TE)&&(f=this.qF.add(n).add(new g(this.wY,1E3)),this.dZ(f),this.zY=g.max(this.zY,n),this.DY=g.min(this.DY,n),this.uRa(this.zY,this.DY),this.TE=n);}}if(a.wA(this.gd,this.lN,this.Mh[0],d,c))void 0===this.$v||this.ih!==h.v.AUDIO||a.K6.equal(this.$v)||(this.nRa(a,this.$v),this.$v=void 0),this.eA("@"+k.time.ca()+", request appended, type: "+a.N+", streamId: "+a.Wa+", pts: "+a.Ka+"-"+a.dd),this.lN=a,this.$v=a.$o?a.Iua:void 0,this.tRa(a),this.Ov();else if("done"!=this.gd.error)throw this.Zb("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.gd.error),this.gd.error;};b.prototype.sRa=function(a,b){a={type:"headerAppended",mediaType:this.ih,manifestIndex:a,streamId:b};this.Fa(a.type,a);};b.prototype.tRa=function(a){a={type:"requestAppended",mediaType:this.ih,request:a};this.Fa(a.type,a);};b.prototype.eA=function(a){a={type:"managerdebugevent",message:a};this.Fa(a.type,a);};b.prototype.nRa=function(a,b){b=a.Ka-b;a={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[a.Qd-b,b]}}};this.Fa(a.type,a);};b.prototype.uRa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Pe,minavsyncerror:b.Pe}};this.Fa(a.type,a);};f.K=b;},function(f,d,a){var k,h,g,n,p,r,l;function b(a,c,d,f,k,n){f.responseType=h.Ui.pl;g.call(this,a,f,k,n);this.J=c;this.TM=d;this.Ij=void 0;this.iY=b.ez.INIT;this.Uz=p.prototype.toString.call(this)+" multiple";this.iA(a.url,f.offset,8,h.Ui.pl);}function c(){k(!1);}k=a(15);d=a(65);h=a(9).Ua;g=a(183);n=a(184);p=a(58).qs;a(13);r=a(26).Uq;l=a(59).UX;b.prototype=Object.create(g.prototype);d({ez:{INIT:0,Jca:1,Hca:2,name:["INIT","MOOF","MDAT"]}},b);Object.defineProperties(b.prototype,{data:{get:function(){return this.Ij;},set:c}});b.prototype.iA=function(a,b,c,d){a=new n(this.TM,this.Uz+" ("+this.Db.length+")",{M:this.M,N:this.N,Wa:this.Wa,L:this.L,offset:b,$:c,url:a,location:this.location,Vc:this.Vc,responseType:d},this,this.U);this.push(a);this.uga=this.Db.reduce(function(a,b){return a+b.$;},0);};b.prototype.$h=function(a){var d,f;this.Ij=this.Ij?r(this.Ij,a.response):a.response;a.response=void 0;switch(this.iY){case b.ez.INIT:d=new DataView(this.Ij);f=d.getUint32(0);d=d.getUint32(4);l(d);this.iA(a.url,a.offset+a.$,f,h.Ui.pl);g.prototype.$h.call(this,this);this.iY=b.ez.Jca;break;case b.ez.Jca:d=new DataView(this.Ij);f=d.getUint32(this.uga-8);d=d.getUint32(this.uga-4);l(d);this.iA(a.url,a.offset+a.$,f-8,h.Ui.pl);this.iY=b.ez.Hca;g.prototype.$h.call(this,this);break;case b.ez.Hca:g.prototype.$h.call(this,this);break;default:c();}};f.K=b;},function(f,d,a){var g,n,p,r,l,v,m,q;function b(a,c){var d;d=a.yf?b(a.yf,c):[];d.push({vc:a.la.id,fp:a.Xa[c].Ga});return d;}function c(a,b,c,d,g){this.ea=a;this.ft=c;this.ih=d;this.Sb=b;this.J=g;this.fxa(c.U);this.on=this.addEventListener=r.addEventListener;this.removeEventListener=r.removeEventListener;this.emit=this.Fa=r.Fa;this.Sia();q.call(this,c);}function k(a,b,c,d){for(var g,h=this.Sb,f=this.gb;h;){if(g=b?f.W1(a,c):f.eu(a,c))return g;if(d)break;if(h=h.yf)f=h.Xa[this.ih].Ga.gb;}}function h(a,b,c){this.Na=a;this.J=b;this.Uz=c;this.Ka=null;this.lp=void 0;this.cy=this.fS=this.Aw=this.zw=this.ry=this.FC=this.Nh=this.Pj=this.$g=this.Nt=0;this.tn=this.Fn=void 0;this.Ta=[];this.U=a.U;this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);q.call(this,this.Na);}g=a(8);a(15);n=a(9);p=a(13);r=a(32).EventEmitter;l=a(292);v=a(289).z$;m=a(531);q=a(99);c.prototype=Object.create(q.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Ey:{get:function(){return 0<this.vy;}},W8:{get:function(){return!this.Xv;}},vy:{get:function(){return this.ud.length+this.gb.length;}},BK:{get:function(){return this.ud.length;}},Wwa:{get:function(){return this.gb;}},IA:{get:function(){return this.BNa();}},Ad:{get:function(){return this.wga();}},Nh:{get:function(){return this.vga();}},Mi:{get:function(){return this.GNa();}},Dt:{get:function(){return this.ANa();}},Fq:{get:function(){return this.zNa();}},mO:{get:function(){return this.yNa();}},tD:{get:function(){return this.Zka();}},ds:{get:function(){return this.CNa();}},Eu:{get:function(){return this.GOa();}},nua:{get:function(){return this.Xka();}},zQ:{get:function(){return 0<this.gb.length;}},Pj:{get:function(){return this.gb.Pj;}},sra:{get:function(){return this.gb.sra;}},meb:{get:function(){return this.Db.length-this.Zz;}}});c.prototype.fxa=function(a){this.U=a;this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);};c.prototype.GOa=function(){var a;a=this.gb.fS;this.J.qo||(a+=this.ud.length);return a;};c.prototype.GNa=function(){var a;if(!g.fa(this.ud.Ka)||!g.fa(this.ud.lp))return 0;a=g.fa(this.gb.Ka)?this.gb.Ka:this.ud.Ka;return this.ud.lp-a;};c.prototype.ANa=function(){var a,b;a=this.vga(!0);b=this.wga(0,!0);return{$:a,Pe:b};};c.prototype.BNa=function(){for(var a=0,c=b(this.Sb,this.ih),d=c.length-1;0<=d&&0==a;--d)a=c[d].fp.gb.O4a();return a;};c.prototype.wga=function(a,c){return c?this.gb.Oo(a):b(this.Sb,this.ih).reduce(function(b,c){return b+c.fp.gb.Oo(a);},0);};c.prototype.vga=function(a){return a?this.gb.Nh:b(this.Sb,this.ih).reduce(function(a,b){return a+b.fp.gb.Nh;},0);};c.prototype.zNa=function(){return b(this.Sb,this.ih).reduce(function(a,b){return a+b.fp.gb.zoa(void 0);},0);};c.prototype.yNa=function(){return b(this.Sb,this.ih).reduce(function(a,b){return a+b.fp.gb.zw;},0);};c.prototype.CNa=function(){return b(this.Sb,this.ih).reduce(function(a,b){return a+b.fp.gb.Nt;},0);};c.prototype.Xka=function(){var a;a=this.gb.cy;this.J.qo||this.ud.forEach(function(b){a+=b.duration;});return a;};c.prototype.Zka=function(a){return this.gb.Fn&&(g.R(a)&&(a=this.ea.Ed()),a-=this.gb.Fn.Ka,0<a)?this.gb.ry-a:this.gb.ry;};c.prototype.HOa=function(a){var b,c;b=this.ea&&this.ea.mo;b&&(c=b.Pt(a),c=b.Dta(c));return c;};c.prototype.SO=function(a,b,c,d,h){var f;b=this.J;c.wI=this.J.wI;g.R(h)||(c.location=h.location,c.Vc=h.Ub,c.B8=h.qm);if(b.Lo){f={Ad:this.ft.Ad};b.E1a&&(f.RR=Math.floor(b.RR));c.sT=this.HOa(f);}c=c.dk?new l(h,b,d,c,this,!1,this.ft):b.D1a?new m(h,b,d,c,this,this.ft):v.create(h,b,d,c,this.ud,!1,this.ft);c.cd(a,this.ft);this.Rm(c);c.Ilb=n.time.ca();a.bQa(c);return c;};c.prototype.LTa=function(a,b){var c;c=this.ft;b.cd(a,this.ft);b.RZ=!0;b.complete?(this.QX(b),this.Db.push(b),this.gb.Rm(b),a.vta(c,b.oa,b.Wa,b.Ka),this.gb.Tva(b,b.Qc),this.vD()):(this.Rm(b),b.active&&this.kB(b),b.v7&&this.jB(b));};c.prototype.reset=function(a){this.ud.forEach(this.Ps.bind(this));this.gb.forEach(this.Ps.bind(this));this.gb.Fn=void 0;a||(this.El=this.El.forEach(this.Ps.bind(this)));this.Sia(a);};c.prototype.fwa=function(){this.Xv=!1;};c.prototype.Sia=function(a){this.ud=new h(this,this.J,"unsent");this.gb=new h(this,this.J,"sent");this.Db=[];this.Zz=0;this.Ka=null;a||(this.El=[]);this.Xv=!1;};c.prototype.OSa=function(a){var b;b=function(a){a.abort();}.bind(this);this.ud.forEach(b);this.gb.forEach(b);this.reset(a);};c.prototype.QX=function(a){this.Xv?a.PP=!1:this.Xv=a.PP=!0;};c.prototype.Rm=function(a){a.Vb?this.El.push(a):(a.complete||a.active?this.gb.Rm(a):this.ud.Rm(a),this.QX(a),a.$o&&(this.Xv=!1),this.Db.push(a));};c.prototype.vD=function(){var a,b,c;b=this.ft.N;a=this.Sb;if(a.active&&this.Zz!==this.Db.length){if(a=a.yf){c=a.ipa(b);if(0!=c&&(a.Xa[b].NF(),c=a.ipa(b),0!=c))return;}for(var c=this.J.Bab,d=0;this.Zz<this.Db.length;){if(a=this.Db[this.Zz]){if(!a.ox())break;this.ea.jf[b].AUa(a);++d;g.fa(this.Ka)||(this.Ka=a.Ka);}++this.Zz;if(!g.R(c)&&d>=c)break;}}};c.prototype.igb=function(a){var d;for(var b,c=0;c<this.Db.length;++c){d=this.Db[c];d&&a<d.dd&&(g.R(b)&&(b=c),d.ng=!1);}g.R(b)||(this.Zz=b,this.vD());};c.prototype.ojb=function(a,b,c){var d;d=this.J;0!==this.ud.length&&this.ud.y3a!==b&&(d.Ce&&this.mh("setSelectedBitrate new bitrate: "+b),this.RSa(a,c));};c.prototype.Ms=function(a,b){if(!a.abort())return!1;"function"==typeof b&&b(a);return!0;};c.prototype.QSa=function(a){var b;b=function(b){var c,d;d=0;b.forEach(function(b,h){b.Ka>a&&(this.Ms(b),g.R(c)&&(c=h),++d);}.bind(this));0<d&&b.splice(c,d);}.bind(this);b(this.ud);b(this.gb);this.vD();};c.prototype.RSa=function(a,b){var c,d,h;if(0!==this.ud.length){d=this.gb.Ta;h=d&&d.length?d[d.length-1].Ka:0;this.ud.$jb(function(b,d){if(!g.R(a)&&b.oa!==a||b.$o||h>b.Ka)return!0;b.PP&&(this.Xv=!1);if(!this.Ms(b))return this.aa("request abort failed:",b.toString()),!0;c=d;}.bind(this));g.R(c)||(d=this.ud.splice(c,this.ud.length-c),"function"==typeof b&&b(d));}};c.prototype.FJ=function(a){this.gb.FJ(a);};c.prototype.EJ=function(a){var b;a.Vb?(b=this.El.indexOf(a),-1!==b?this.El.splice(b,1):this.aa("requestAborted: unknown header mediaRequest: "+(a&&a.toJSON()))):this.ud.Fxa(a)||this.gb.Fxa(a)||this.aa("requestAborted: unknown mediaRequest: "+(a&&a.toJSON()));};c.prototype.Kfb=function(a,c){var d,g,h,f;d=this.J;g=a;h=this.ea.Na.Axa;if(a>h){g=a-h;f=function(a,b){var h,f,k;h=!1;f=0;k=b.some(function(b){if(g<b.dd)return h&&a.QX(b),!0;++f;b.ng||(a.aa("pruning unappended request:",b&&b.toJSON()),d.Ce&&a.mh("prune pts:",g,"unappended request:",b&&b.toJSON()),b.PP&&(a.Xv=!1,h=!0),a.Ms(b,c)||a.Zb("MediaRequest.abort error:",b.Zl));});0<f&&b.splice(0,f);return k;};b(this.Sb,this.ih).some(function(a){var b;a=a.fp;b=f(a,a.ud);return f(a,a.gb)||b;}.bind(this));return g;}};c.prototype.W5a=function(){var b;function a(a){if(null===b||b===a.Ka)b=a.dd;return a.Ka>b?!0:!1;}b=null;this.gb.some(a);0<this.ud.length&&this.ud.some(a);return b;};c.prototype.opa=function(){var c,d,h,f,k,n;function a(a){g.fa(a.Ka)&&(null===h||a.Ka<h)&&(h=a.Ka);g.fa(a.lp)&&(null===d||a.lp>d)&&(d=a.lp);f+=a.$g-a.FC;k=c.uT?k+a.FC:k+a.Nt;a.O2a(n);}c=this.J;d=null;h=null;f=0;k=0;n=[];b(this.Sb,this.ih).forEach(function(b){a(b.fp.gb);!c.qo&&0<b.fp.ud.length&&a(b.fp.ud);}.bind(this));return{lp:d,Ka:h,by:f,$g:k,V:n};};c.prototype.eu=function(a,b,c){return k.call(this,a,!1,b,c);};c.prototype.W1=function(a,b,c){return k.call(this,a,!0,b,c);};c.prototype.$mb=function(a,b){var c,d;c=[];d=function(d){var g,h;if(!d.complete){g=d.Wa;h=a[g];h?h.url?d.url!=h.url&&(b(d,h.location,h.Ub),d.i9(h.url)||(this.aa("swapUrl failed: ",d.O1),this.Mj("swapUrl failure"))):(this.aa("missing url for streamId:",g,"mediaRequest:",d.toString(),"stream:",h),c.push(d)):(this.aa("missing stream for streamId:",g,"mediaRequest:",d,"streamMap:",a),c.push(d));}}.bind(this);this.El.forEach(d);this.ud.forEach(d);this.gb.forEach(d);return c;};c.prototype.Nn=function(a){this.gb.Fn=void 0;this.Vka(a);this.J.yJ&&this.igb(a);};c.prototype.Vka=function(a){var q;for(var b,c=this.J,d=0,h=0,f=0,k=0,n=0,p=0,r=0,l=0,u=!1,v,m,A,x=0;x<this.gb.length;++x)if(A=this.gb.Ta[x],A.MO=!1,A.oG=!1,A.NO=!1,!g.R(m)&&A.Ka>m&&(this.aa("Gap found in _sentData: request.playerStartPts:",A.Ka,"continuousEndPts:",m),c.z0&&(u=!0),m=A.Ka),A.complete?(b=a<A.Ka?A.duration:A.duration-(a-A.Ka),A.ng&&0<b&&(A.oG=!0,f+=A.duration,k+=A.Qc),u||(v=A,!g.R(a)&&A.dd>a&&(A.MO=!0,d+=A.duration,h+=A.Qc)),0<b&&(A.NO=!0,n+=A.duration,p+=A.Qc)):u=!0,A.cJ&&(++r,l+=A.duration),void 0===m||A.Ka===m)m=A.dd;c.qo||(r+=this.ud.length,this.ud.forEach(function(a){l+=a.duration;}));q=!1;b=function(a,b,c){b!=c&&(this.aa("MISMATCH: "+a+" "+b+" != "+c),q=!0);}.bind(this);b("bufferLevelMs",d,this.gb.Oo(a));b("bufferLevelBytes",h,this.gb.Nh);b("appendedBufferMs",f,this.gb.zoa(a));b("appendedBufferBytes",k,this.gb.zw);b("totalBufferMs",n,this.Zka(a));b("totalBufferBytes",p,this.gb.Nt);b("latestCompletedRequest",v,this.gb.tn);b("partialBuffers",r,this.Eu);b("partialBuffersMs",l,this.Xka());q&&this.gb.gjb(h,k,f,n,p);};c.prototype.Cu=function(a){this.gb.Cu(a);};c.prototype.Ps=function(a){var b;if(!a.Vb){b=this.Db.indexOf(a);-1!==b?this.Db[b]=void 0:this.aa("cleanupRequest, request not found in all array");}a.Vb&&!a.complete&&this.hQa(a);a.Lf&&a.Lf.clear();a.Ke();};c.prototype.Yx=function(a){!a.Vb&&this.ud.L7a(a)&&(this.gb.dmb(this.ud,a),this.gb.MS(a));this.kB(a);};c.prototype.Du=function(a){a.f4&&a.ox()&&this.vD();this.jB(a);};c.prototype.$h=function(a){a.f4&&!a.ng&&this.vD();this.iB(a);};c.prototype.hQa=function(a){a={type:"headerRequestCancelled",request:a};this.Fa(a.type,a);};c.prototype.Mj=function(a){a={type:"streamingFailure",msg:a};this.Fa(a.type,a);};c.prototype.mh=function(a){a={type:"managerdebugevent",message:"@"+n.time.ca()+", "+a};this.Fa(a.type,a);};c.prototype.UZ=function(a){var b,c,d;b=this.ih===p.v.VIDEO?"v_":"a_";c=this.gb;d=c.filter(function(b){return b.Ka>a;})[0];c=c.filter(function(b){return b.Ka<=a&&b.dd>=a;})[0];return b=d&&c?c.dd!==d.Ka?b+"rg":c.complete&&d.complete?b+"uk":b+"fd":b+"rm";};h.prototype=Object.create(q.prototype);Object.defineProperties(h.prototype,{length:{get:function(){return this.Ta.length;}},y3a:{get:function(){return 0===this.length?0:this.Ta[0].L;}},sra:{get:function(){return this.Ta.length?this.Ta[this.Ta.length-1]:void 0;}}});h.prototype.forEach=function(){return this.Ta.forEach.apply(this.Ta,arguments);};h.prototype.map=function(){return this.Ta.map.apply(this.Ta,arguments);};h.prototype.some=function(){return this.Ta.some.apply(this.Ta,arguments);};h.prototype.filter=function(){return this.Ta.filter.apply(this.Ta,arguments);};h.prototype.toJSON=function(){return JSON.stringify(this.Ta);};h.prototype.L7a=function(a){return-1!==this.Ta.indexOf(a);};h.prototype.gjb=function(a,b,c,d,g){this.Nh=a;this.zw=b;this.Aw=c;this.ry=d;this.Nt=g;};h.prototype.O2a=function(a){var b;b=this.J;this.Ta.some(function(c){if(!b.uT&&!c.complete)return!0;a.push(c);return!1;}.bind(this));};h.prototype.eu=function(a,b){var c,d;c=this.Na.ea;this.Ta.some(function(h){if(a>=h.Ka&&a<h.dd&&(g.R(b)||c.YH(h.oa,b)))return d=h,!0;});return d;};h.prototype.W1=function(a,b){for(var c=this.Na.ea,d,h=this.Ta.length-1;0<=h;--h)if(d=this.Ta[h],a>=d.Qd&&a<d.pf&&(g.R(b)||c.YH(d.oa,b)))return d;};h.prototype.uOa=function(a){for(var b,c,d,h,f,k=0;k<this.Ta.length;++k){b=this.Ta[k];c=b.Ka;if(g.R(h))c>a&&(h=k);else if(g.R(f))c>d&&(f=d);else break;d=b.dd;}return{Eqa:h,ota:f};};h.prototype.Rm=function(a){var b;b=this.J;if(-1!==this.Ta.indexOf(a))return!1;a.njb(this);b.xw?(b=this.uOa(a.Ka),g.R(b.Eqa)?this.Ta.push(a):this.Ta.splice(b.Eqa,0,a),g.R(b.ota)?(b=this.Ta[this.Ta.length-1],this.lp=b.dd):this.lp=b.ota):(this.Ta.push(a),this.lp=a.dd);(a.active||a.complete)&&this.MS(a);a.active&&++this.Pj;a.complete||(a.cJ=!0,++this.fS,this.cy+=a.duration,a.v7&&this.M7(a,a.Qc));a.ng&&this.FJ(a);g.fa(this.Ka)||(this.Ka=a.Ka);return!0;};h.prototype.dmb=function(a,b){var c;c=a.Ta.indexOf(b);-1!==c&&(a.Ta.splice(c,1),a.Pia(b,c));this.Rm(b);};h.prototype.Oia=function(a){a.cJ&&(a.cJ=!1,--this.fS,this.cy-=a.duration);a.MO&&(a.MO=!1,this.Nh-=a.Qc);a.oG&&(a.oG=!1,this.Aw-=a.duration,this.zw-=a.Qc);a.NO&&(a.NO=!1,this.ry-=a.duration,this.Nt-=a.Qc);};h.prototype.Pia=function(a,b){this.Oia(a);a.active&&--this.Pj;a.A0&&(a.A0=!1,this.$g-=a.$);a.Vla&&(a.Vla=!1,this.FC-=a.Qc);a==this.tn&&(this.tn=0<b?this.Ta[b-1]:void 0);};h.prototype.lRa=function(a,b){this.Pia(a,b);};h.prototype.Fxa=function(a){a=this.Ta.indexOf(a);if(-1===a)return!1;this.splice(a,1);return!0;};h.prototype.splice=function(a,b){for(var c,d=[],g=a+b-1;g>=a;--g)c=this.Ta[g],this.lRa(c,g),d.push(c);b=this.Ta.splice(a,b);0===a&&(this.Ka=this.Ta.length?this.Ta[0].Ka:null);d.forEach(this.Na.Ps.bind(this.Na));return b;};h.prototype.MS=function(a){a.Vb||a.A0||(a.A0=!0,this.$g+=a.$);};h.prototype.M7=function(a,b){a.Vb||(a.Vla=!0,this.FC+=b);};h.prototype.FJ=function(a){a.Vb||!a.complete||a.oG||(a.oG=!0,this.zw+=a.Qc,this.Aw+=a.duration);};h.prototype.Tva=function(a,b){var c;if(!a.Vb&&-1!==this.Ta.indexOf(a)){a.cJ&&(a.cJ=!1,--this.fS,this.cy-=a.duration);this.MS(a);0<b&&this.M7(a,b);a.ng&&this.FJ(a);this.ry+=a.duration;a.NO=!0;this.Nt+=a.Qc;a=0;this.tn&&(c=this.tn.Ka,a=this.Ta.indexOf(this.tn)+1);for(b=a;b<this.Ta.length;++b){a=this.Ta[b];if(!a.complete)break;if(g.R(c)||a.Ka>c)this.tn=a,c=a.Ka,a.MO=!0,this.Nh+=a.Qc;}}};h.prototype.$jb=function(a){for(var b,c=this.Ta.length-1;0<=c&&(b=this.Ta[c],!a(b,c));--c);};h.prototype.Cu=function(a){var b;if(a!==this.Fn){b=this.Fn;this.Fn=a;b&&this.Oia(b);}};h.prototype.O4a=function(){var a;a=0;this.tn?a=this.tn.dd:0<this.Ta.length&&(a=this.Ta[0].Ka);return a;};h.prototype.e6a=function(a){if(!this.Fn)return 0;a-=this.Fn.Ka;0>a&&(this.aa("resetting bad partialMs to 0, was:",a),a=0);a>this.Fn.duration&&(a-=this.Fn.duration);return a;};h.prototype.Oo=function(a){var b,c;g.R(a)&&(a=this.Na.ea.Ed());c=0;this.tn&&(b=this.tn.dd,b>a&&(c=b-Math.max(a,this.Ka)));return c;};h.prototype.zoa=function(a){if(0===this.Aw)return 0;g.R(a)&&(a=this.Na.ea.Ed());a=this.e6a(a);return this.Aw-a;};h.prototype.Yx=function(a){++this.Pj;this.MS(a);this.kB(a);};h.prototype.XI=function(a){this.M7(a,a.Qc-a.jk);this.kH(a);};h.prototype.$h=function(a){var b;b=a.Qc-a.jk;--this.Pj;this.Tva(a,b);this.iB(a);};h.prototype.YR=function(a,b){b&&-1!==this.Ta.indexOf(a)&&--this.Pj;this.WP(a,b);};f.K=c;},function(f,d,a){var c,k,h,g,n,p,r,l,v;function b(a,b,c,d,f,l,u){this.J=u;this.Na=a.Na;this.ea=a;this.vc=b;this.N=c;this.tPa(b.la.id);this.Ra=d;d=b.yf?b.yf.Xa[c].iD:void 0;this.Mwa=l;this.iD=new h(f,l,u,d);this.A4=p.time.ca();this.J9a=void 0;this.Ga=new g(a,b,this,c,u);this.Ga.addEventListener("headerRequestCancelled",function(b){a.VOa(b.request);});this.Ga.addEventListener("streamingFailure",function(b){a.Mj(b.msg);});u.Ce&&this.Ga.addEventListener("managerdebugevent",function(b){r(a,b.type,b);});this.Cu=this.Ga.Cu.bind(this.Ga);this.sbb=c===k.v.VIDEO?u.S5:u.N5;this.Eo=!1;this.F_=0;this.Gx=u.X3;this.ava=p.time.ca();this.fA=!1;u.ml&&(this.Mw=this.op=0);n.call(this,b);}a(8);c=a(15);k=a(13);h=a(285);g=a(532);a(58);n=a(99);p=a(9);d=a(26);r=d.Fa;l=d.pI;v=a(280);b.prototype=Object.create(n.prototype);Object.defineProperties(b.prototype,{Ey:{get:function(){return this.Ga.Ey;}},W8:{get:function(){return this.Ga.W8;}},om:{get:function(){return this.vc.la.id;}},IA:{get:function(){return this.Ga.IA;}},Ad:{get:function(){return this.Ga.Ad;}},Nh:{get:function(){return this.Ga.Nh;}},Mi:{get:function(){return this.Ga.Mi;}},Dt:{get:function(){return this.Ga.Dt;}},Fq:{get:function(){return this.Ga.Fq;}},mO:{get:function(){return this.Ga.mO;}},tD:{get:function(){return this.Ga.tD;}},ds:{get:function(){return this.Ga.ds;}},wVa:{get:function(){var a;a=this.ea.ak()[this.N];return this.Ga.ds/a;}},xVa:{get:function(){var a;a=this.ea.ak()[this.N];return this.Ga.opa().$g/a;}},oa:{get:function(){return this.vc.oa;}},zQ:{get:function(){return this.Ga.zQ;}},vy:{get:function(){return this.Ga.vy;}},ac:{get:function(){return this.vc.upa(this.N);}},nl:{get:function(){return this.vc.M6a(this.N);}},fg:{get:function(){return this.ea.MB(this.N)?this.ZMa:!0;},set:function(a){this.ZMa=a;}}});b.prototype.tPa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.N+"]";this.U=l(p,this.ea.U,a);this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);this.Ts=this.U.debug.bind(this.U);this.Ga&&this.Ga.fxa(this.U);};b.prototype.reset=function(a,b){this.Eo=!1;this.seeking=void 0;this.fg=!1;this.Ga.reset(a);this.R7={reason:b,time:p.time.ca()};};b.prototype.zva=function(a){this.Ga.Vka(a);};b.prototype.Nn=function(a){this.Ga.Nn(a);this.Gx=this.J.X3;};b.prototype.NF=function(){this.Ga.vD();};b.prototype.djb=function(a,b){var c,d;c=this.ea;d=this.N;this.Ve=b.Ve;this.so=b.so;b.ac.forEach(function(b){var g;g=c.Ze[d][b.id];g&&!b.Dc&&(g.stream.Dc?b.KO(g.stream):(g.YI||(g.YI=[]),g.YI.push(a)));}.bind(this));d===k.v.AUDIO&&(this.fA=v.bT(this.J,b.ac[0]));c.SOa(this,b.uib);this.$Va(b.ac);this.Wt=void 0;this.fg=!1;};b.prototype.ijb=function(a,b){var c;if(this.J.xw){c=this.Ga.W5a();null!==c?(this.Ra=c,this.Vg=c===a?b:this.ea.aN(this.N,this.vc.oa,this.Ra)):(this.aa("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.Ra=a,this.Vg=b);}else this.Ra=a,this.Vg=b;};b.prototype.up=function(a){var b,c,d;if(this.Le&&this.Le.S===a)b=this.Le.index,c=a;else{d=this.ea.al(this.oa);b=d.hb[this.N];if(!b||!b.stream.Dc){this.Fu=!0;this.iS=a;return;}c=b.V;this.Le=this.coa(b.stream,a,void 0,void 0);if(void 0===this.Le){if(b=c.length-1,c=c.Zf(b),this.aa("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.Qh),d.Qh){this.Fu=!0;this.iS=a;return;}}else b=this.Le.index,c=this.Le.S;}this.Vg=b;this.Ra=c;delete this.Fu;};b.prototype.whb=function(a){this.up(a);this.fg=!1;this.Z=void 0;this.Ga.fwa();};b.prototype.vhb=function(a){this.Le=a;this.fg=!1;this.Z=void 0;this.Vg=this.Le.index;this.Ra=this.Le.S;delete this.Fu;this.Ga.fwa();};b.prototype.Ihb=function(a){var b;b=this.ea.al(this.oa).hb[this.N];if(b&&b.stream.Dc){for(var c=b.V;0<this.Vg&&this.Ra>a;)this.Ra=c.Zf(--this.Vg);this.Vg<this.Le.index&&(this.Le=b.stream.Th(this.Vg));this.Fu=void 0;}else this.Fu=!0,this.iS=a;};b.prototype.Anb=function(a){var b,c;b=this.nl[a];c="verifying streamId: "+a+" stream's track: "+(b?b.Ve:"unknown")+" currentTrack: "+this.Ve;if(!b)return this.ea.mh("unknown streamId: "+a),!1;b.Ve!==this.Ve&&this.ea.mh(c);return b.Ve==this.Ve;};b.prototype.$Va=function(a){this.dqa=a.reduce(function(a,b){return b.inRange&&b.ee&&!b.Tg&&b.L>a.L?b:a;},a[0]);this.V7a=a.indexOf(this.dqa);};b.prototype.n2a=function(a){return this.N===k.v.VIDEO?0:this.fA?0:this.J.Mn?a&&a.Pe||0:this.J.Tl&&a?-a.Pe:0;};b.prototype.J8=function(){return this.N===k.v.VIDEO&&this.J.$w||this.N===k.v.AUDIO&&this.J.Tl;};b.prototype.coa=function(a,b,d,g,h){var f,n,p,r,l,u,v;c(b>=a.V.Zf(0));f=this.J;n=this.J8();p=a.V;r=b+0;this.N===k.v.AUDIO&&void 0===g&&n&&f.Gq&&!f.Bw&&a.np&&(b=Math.max(a.V.Zf(0),b+a.np.Pe));l=p.$j(r,void 0,!0);u=a.Th(l);if(u.Z<b)return u;if(n){r=this.N===k.v.VIDEO?r:b;v=u.X1(r);v?(0<v.Mc&&u.fm(v,!1),this.N!==k.v.AUDIO||f.Ksa||v.Kb<(f.Gq&&!f.Bw&&a.np?Math.floor(a.np.Pe):0)&&u.d1a()):r>=u.Z&&l<p.length-1&&(u=a.Th(l+1));}this.N===k.v.VIDEO&&d&&u.Z===d&&l<p.length-1?u=a.Th(l+1):this.N===k.v.AUDIO&&void 0!==g&&!f.Mn&&(d=b+g,d-u.S>f.jab||u.S<d-h)&&(u=a.Th(l+1));n&&this.N===k.v.AUDIO&&!u.Cd&&(f.RH||f.Hqa||f.s1a)&&void 0!==g&&u.fm();u.OJ(b);return u;};b.prototype.p3a=function(a,b){var c,d,g,h,f;c=this.J;d=a.V;g=d.Ha;h=b?b+this.n2a(g):d.cB(d.length-1);d=d.$j(h,void 0,!0);g=a.Th(d);0==d||g.S!==b||this.N!==k.v.VIDEO&&c.Mn||(--d,g=a.Th(d));if(this.J8()){h=this.N===k.v.VIDEO?h:b;if(h<g.Z){f=g.s3a(h);f&&0!=f.Mc?g.fm(f,!0):this.N===k.v.AUDIO&&(f||h<g.S)&&0!=d?g=a.Th(d-1):this.N===k.v.VIDEO&&f&&0!=d&&(g=a.Th(d-1));}this.N===k.v.AUDIO&&(c.RH||c.Gqa)&&g.fm();}else this.N===k.v.AUDIO&&!c.Mn&&b-g.S<g.duration/2&&0!=d&&(g=a.Th(d-1));g.OJ(b);return g;};b.prototype.lT=function(a){this.Hi=a;this.Z=a.Z;};b.prototype.Du=function(a){this.jB(a);};b.prototype.$h=function(a){a.Z&&a.S&&(this.Gx-=a.Z-a.S);this.iB(a);};b.prototype.Tmb=function(){var a;a=p.time.ca();this.Gx+=this.J.Zab*(a-this.ava);this.ava=a;};b.prototype.dwa=function(){this.Gx=this.J.X3;};b.prototype.toJSON=function(){return{started:this.Ey,startOfSequence:this.W8,segmentId:this.om,requestedBufferLevel:this.Mi,manifestIndex:this.oa,hasFragments:this.zQ};};f.K=b;},function(f,d,a){var g,n,p,r,l,v,m,q,x;function b(a,b,c,d,g){this.J=g;this.ea=a;this.Hc=b;this.U=a.U;this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);this.Al=[];this.bj=Object.create(null);c?(this.LX=!0,this.OQa(c,d)):(this.Jj=this.VX("",0,0,void 0,void 0,[],!0),this.Jj.j6=!0,this.Jj.Z=Infinity,this.VN=[this.Jj]);this.Sb=new k(this,b,this.Jj,this.Jj.S,0,void 0,d);this.Sb.active=!0;this.AN=this.mN=void 0;}function c(a,b,c){var f;for(var d=this.ea,h=this.Sb;h;){if(!g.fa(c)||d.YH(c,h.oa)){f=b?h.pf:h.dd;if((b?h.Qd:h.Ka)<=a&&a<f)return h;}h=h.yf;}}function k(a,b,c,d,h,f,k){var n,l;this.Na=a;n=a.ea;this.ea=n;this.yf=f;this.la=c;this.S=d;this.Um=c.Um;this.children=Object.create(null);this.Bp=[];this.U=q(v,n.U,c.id&&c.id.length?"{"+c.id+"}":void 0);this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);this.Ts=this.U.debug.bind(this.U);this.wc=n.al(h).em;this.oa=h;this.Ec=void 0;g.fa(k)||(k=d);this.Xa=[];l=b.Fkb;[p.v.AUDIO,p.v.VIDEO].forEach(function(a){var b;if(n.MB(a)){b=new r(n,this,a,k,n,l[a],n.J);this.Xa[a]=b;}}.bind(this));this.W3(h);a.Al.push(this);x.call(this,n);}function h(a,b,c,d,g,h,f,k,n){this.id=a;this.oa=b;this.S=c;this.Z=d||Infinity;this.CG=g;this.jj=h;this.lD=f;this.Um="number"===typeof k?k:this.Z;this.jmb=n;}g=a(8);n=a(15);p=a(13);r=a(533);l=a(41);v=a(9);d=a(26);m=d.p8;q=d.pI;x=a(99);Object.defineProperties(b.prototype,{ou:{get:function(){return!!this.LX;}},U8a:{get:function(){return 0===this.Sb.Xa.length;}},PH:{get:function(){return this.Jj;}},Zq:{get:function(){return this.Sb.la.id;}},wG:{get:function(){return this.Sb.oa;}},rf:{get:function(){return this.Sb;}},Ae:{get:function(){return this.Sb.Xa;}},Gka:{get:function(){return this.Al;}},wc:{get:function(){return this.Sb.wc;}},jf:{get:function(){return this.ea.jf;}},Li:{get:function(){return this.mN?this.mN:this.Gka[0];}}});b.prototype.f3=function(a){return"m"+a;};b.prototype.Oo=function(a){return(a=this.Sb.Xa[a])?a.Ad:0;};b.prototype.qpa=function(a,b){var c;c=this.bj[a];if(c)return(a=c.jj[b])&&a.weight;this.aa("getSegmentWeight, unknown segment:",a);};b.prototype.C6a=function(a){var b;b=this.bj[a];if(b)return b.S;this.aa("getSegmentStartPts, unknown segment:",a);};b.prototype.m6a=function(){var a;a=this.Li.la;return a&&("number"===typeof a.Um?a.Um:a.Z);};b.prototype.B6a=function(a){var b;b=this.bj[a];if(!b)this.aa("getSegmentDuration, unknown segment:",a);else if(g.fa(b.Z)&&isFinite(b.Z)&&g.fa(b.S)&&isFinite(b.S))return b.Z-b.S;};b.prototype.aoa=function(a){for(var b=this.Sb;b;){if(this.ea.YH(b.oa,a))return b;b=b.yf;}};b.prototype.n3a=function(a,b){return c.call(this,a,!1,b);};b.prototype.m3a=function(a,b){return c.call(this,a,!0,b);};b.prototype.dhb=function(a,b){g.Ac(this.Al,function(c){c.oa===a&&(c.oa=b);});g.Ac(this.bj,function(c){c.oa===a&&(c.oa=b);});};b.prototype.cwa=function(){g.Ac(this.Al,function(a){a.wc=this.ea.al(a.oa).em;}.bind(this));};b.prototype.pT=function(a){g.Ac(this.Al,function(b){b.upa(p.v.VIDEO).forEach(function(b){l(this.ea.oga(b.ye,b.L,a),b);}.bind(this));}.bind(this));};b.prototype.d_a=function(){this.Al.forEach(function(a){a.active=!1;});};b.prototype.Jfb=function(){this.Al.every(function(a){if(a.active)return a===this.Sb?!1:a.Xa.every(function(a){return 0===a.vy;})?(a.Ke(),this.Al.shift(),!0):!1;}.bind(this));};b.prototype.VWa=function(a,b){var c,d;c=this.Sb;if(c.Wra)a=c.Wra;else{d=this.Sb.wc;a=new k(this,this.Hc,c.la,0,a,c);a.Xa.forEach(function(a){a.up(0);a.lT(c.Xa[a.N].Hi);});a.wc=d+b;c.Wra=a;}this.Ez(a,c);};b.prototype.vTa=function(a,b,c){var d,g;if(!this.LX){this.LX=!0;d=this.f3(0);this.Jj.id=d;this.bj[d]=this.Jj;this.Al[d]=this.Sb;this.Jj.Z=this.ea.wha(this.ea.C5a());this.Jj.jy=!0;}g=this.f3(a);a=this.VX(g,a,b,c,void 0,[],!0);a.jy=!0;this.VN.forEach(function(a){a.jj={};a.jj[g]={weight:100};a.CG=g;a.lD=!1;}.bind(this));this.VN=[a];};b.prototype.eG=function(a,b){var c,d,h,f;c=this.Li;d=c.CT(b);h=c.la;f=c.children[a];if(b){if(!h.jj[a])return this.Sb.aa("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Pf)return c.Pf===a;c.Pf=a;f&&c.VP?this.Ez(f,c):this.J.TG&&(a=c.kla(),g.R(a)||c.Vya(a));return!0;}if(!f)return d.kta=!0,!1;b||(d.kta=!f.FA());this.ea.ZY("chooseNextSegment");c.VP=void 0;c.Pf=a;this.Ez(f,c);return!0;};b.prototype.WX=function(a,b){var c,d,g,h,f;c=a.oa;d=this.ea.al(c);g=d.M===this.ea.M;h=new k(this,this.Hc,a,a.S,c,b);c=this.ea.XE(h.oa,a.S,h,b,g);f=c.oy;c=c.dn;this.J.w7&&(h.Xa[p.v.VIDEO].Le=c[p.v.VIDEO],h.Xa[p.v.AUDIO].Le=c[p.v.AUDIO]);d=this.ea.Oz(h.Xa,d.hb,a.Z);h.Xa[p.v.VIDEO].Hi=d[p.v.VIDEO];h.Xa[p.v.AUDIO].Hi=d[p.v.AUDIO];[p.v.VIDEO,p.v.AUDIO].forEach(function(a){var c,d;c=h.Xa[a];d=b.Xa[a];a===p.v.VIDEO&&(d=d.Ra+b.wc,h.wc=d-f[a],h.S=f[a]);c.up(f[a]);c.Bqa=c.Ra;c.yqa=c.Vg;}.bind(this));this.ea.gia(a,h.wc);return h;};b.prototype.zRa=function(a,b){var c,d,g;c=a.la;d=this.ea.al(c.oa);g=this.ea.XE(a.oa,c.S,a,b,d.M===this.ea.M);b=g.oy;a.Xa[p.v.AUDIO].Le=g.dn[p.v.AUDIO];c=this.ea.Oz(a.Xa,d.hb,c.Z);a.Xa[p.v.AUDIO].Hi=c[p.v.AUDIO];a=a.Xa[p.v.AUDIO];a.up(b[p.v.AUDIO]);a.Bqa=a.Ra;a.yqa=a.Vg;};b.prototype.$7a=function(a,b){var c,d,h,f,k,n;h=a.la;b&&!a.Pf&&(a.Pf=h.CG,a.CT(!0,!0));a.children=Object.create(null);if(this.J.qdb)if(a.Pf)c=this.bj[a.Pf],d=this.WX(c,a),a.children[a.Pf]=d;else{g.Ac(h.jj,function(a,b){c=this.bj[b];a=c.weight;if(g.R(n)||a>n)f=c,k=b,n=a;}.bind(this));f&&(d=this.WX(f,a),a.children[k]=d);}else g.Ac(h.jj,function(b,g){a.Pf&&g!=a.Pf||(c=this.bj[g],d=this.WX(c,a),a.children[g]=d);}.bind(this));a.Pf&&a.children[a.Pf]&&this.Ez(a.children[a.Pf],a);a.VP=!0;};b.prototype.Zlb=function(){var a;a=0;g.Ac(this.Al,function(b){b.Xa.forEach(function(b){a+=b.Ga.Pj;}.bind(this));}.bind(this));return a;};b.prototype.$Ma=function(a){for(var b=[a.la.id];a.yf;)a=a.yf,b.unshift(a.la.id);this.CX(a,!0);};b.prototype.CX=function(a,b){var c,d;c=a.la;g.Ac(a.children,function(a){this.CX(a,b);}.bind(this));a.Xa.forEach(function(a){a.Ga.OSa(b);}.bind(this));a.active=!1;a.Ke();d=-1;this.Al.some(function(b,c){if(b===a)return d=c,!0;});-1!==d?this.Al.splice(d,1):this.aa("Unable to find branch:",a,"in branches array");this.ea.rQa(c);};b.prototype.jlb=function(a,b){var c,d;c=this.vOa(a,b);if(c){c!==this.Sb.la&&(this.d_a(),d=new k(this,this.Hc,c,a,b,this.Sb),d.yf=void 0,this.$Ma(this.Sb),this.Ez(d,this.Sb));c===this.Li.la&&(this.Li.Bp.shift(),d&&(d.Bp=this.Li.Bp,d.Pf=this.Li.Pf));this.ea.gia(c,this.Sb.wc);this.Sb.VP=void 0;}else this.aa("findSegment no segment for manifestIndex:",b);};b.prototype.Ez=function(a,b){var c,d,h,f,k;c=b.la;b.oa!=a.oa&&this.ea.Nha(a.oa);a.active=!0;if(this.J.TG&&this.Sb.active){d=this.Sb.kla();if(!g.R(d)){h=this.Sb.Z;this.Sb.Vya(d);a.Rmb(this.Sb.Z-h);}}a.Xa.forEach(function(a){a.NF();}.bind(this));f=v.time.ca();k={};g.Ac(b.children,function(b){b.Ec&&(b.Ec.Ad=b.Xa.map(function(a){return a.Dt.Pe;}),b.Ec.Y0a=f-b.Ec.OQ,b.Ec.OQ=void 0,k[b.la.id]=b.Ec);b.la.id!==a.la.id&&this.CX(b);}.bind(this));b.children=Object.create(null);b.children[a.la.id]=a;b.Iz=void 0;this.gxa(a);this.ea.sQa(a.la,k);1<Object.keys(c.jj).length&&a.FA();};b.prototype.esa=function(a,b){var c;c=a.la;b||(b=c.CG);m(c.id);a.Pf||(a.Pf=b,a.CT(!0,!0));(b=a.children[a.Pf])&&this.Ez(b,a);};b.prototype.gxa=function(a,b){if(this.Sb!=a){if(b)for(b=this.Sb;b!=a;)b.active=!1,b=b.yf;this.Sb=a;}};b.prototype.bwa=function(a){g.Ac(a.children,function(a){var b;b=a.Xa[p.v.AUDIO];b.reset(!0,"audioTrackChange");b.Ra=b.Bqa;b.Vg=b.yqa;delete b.Le;delete b.Hi;delete b.Le;delete b.Hi;this.bwa(a);}.bind(this));};b.prototype.S7=function(a){g.Ac(a.children,function(b){this.zRa(b,a);this.S7(b);}.bind(this));};b.prototype.Qn=function(a,b){var c,d,g,h;if(this.ou){c=this.J;d=this.Li;g=d.la;h=m(g.id);!d.Pf&&!g.lD&&d.Z-b<=c.IR&&(this.aa(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.esa(d));}this.Sb.Xa.forEach(function(a){this.ea.MB(a.N)&&this.jf[a.N].Qn(b);}.bind(this));};b.prototype.Cu=function(a,b){var c,d;if(this.ou){c=this.mN;if(this.J.v8a&&a&&this.AN&&a.S===this.AN)this.yb("Ignoring pts that wiggled back into previous segment",this.AN);else if(a=a.df.vc,!c||a.la.id!=c.la.id){d=c&&c.Xa[p.v.VIDEO].Hi;this.AN=d&&d.S;this.mN=a;this.tNa(c);c=c&&c.gXa(a);this.ea.uQa(a.la,b,c);}}};b.prototype.Ke=function(){this.cOa(this.Sb);};b.prototype.cOa=function(a){0!==a.Xa.length&&(a.Xa.forEach(function(a){a.Ga.reset();delete a.iD;a.active&&(this.Zb("Destroying active pipeline!"),this.ea.xub(v.time.ca()));}.bind(this)),a.Xa=[],a.Ke());};b.prototype.tNa=function(a){var b,c;if(a){b=v.time.ca();c=a.Bp[0];c&&void 0===c.dP?c.dP=b-c.requestTime:c||(this.aa("missing metrics for branch:",a.la.id),c={AT:a.la.id,aT:!0,dP:0,Ec:{}},a.Bp.unshift(c));void 0===c.startTime&&(c.startTime=b);a.Xa.forEach(function(a){a.Cu();}.bind(this));}};b.prototype.vOa=function(a,b){var c,d,f,k;n(0<=a);for(var h in this.bj){f=this.bj[h];if(this.ea.YH(f.oa,b)){if(f.S<=a&&(g.R(f.Z)||a<f.Z))return f;k=Math.min(Math.abs(a-f.S),Math.abs(a-f.Z));if(g.R(c)||k<c)c=k,d=f;}}return d;};b.prototype.gcb=function(a,b,c){b.j6||(b.S=this.ea.gpa(a,b.S,!0),c||(b.Z=this.ea.gpa(a,b.Z,!1)),b.j6=!0);};b.prototype.VX=function(a,b,c,d,g,f,k,n,p){b=new h(a,b,c,d,g,f,k,n,p);return this.bj[a]=b;};b.prototype.OQa=function(a,b){var c,d;this.Jj=void 0;this.VN=[];c=null;d=null;g.Ac(a.segments,function(a,h){var f,k,n,p,r,l;f=a.startTimeMs;k=a.endTimeMs;n={};g.Ac(a.next,function(b,c){n[c]={weight:b.weight||0,cCb:b.transitionHint||a.transitionHint,p1a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});r=this.rha(n);"number"===typeof r&&(p=f+r);l=a.defaultNext;g.R(l)&&(l=Object.keys(n)[0]);r=g.R(l);p=this.VX(h,0,f,k,l,n,r,p,a.transitionDelayZones);f<=b&&(b<k||g.R(k))?this.Jj=p:f>b&&(!c||f<d)&&(c=h,d=f);r&&this.VN.push(p);}.bind(this));this.Jj||(this.Jj=c?this.bj[c]:this.bj[a.initialSegment]);};b.prototype.rha=function(a){var b,c;c=0;g.Ac(a,function(a){var d,g;d=a.weight||0;c+=0<d;g=a.earliestSkipRequestOffset;0<d&&a.transitionHint===p.cLa.oCa&&"number"===typeof g&&(void 0===b||b>g)&&(b=g);});return 1<c&&b;};b.prototype.K9=function(a,b){var c;m(a);c=this.bj[a];c?(g.Ac(c.jj,function(a,c){a.weight=b[c]||0;}.bind(this)),a=this.rha(c.jj),c.Um="number"===typeof a?c.S+a:c.Z):this.aa("updateChoiceMapEntry, unknown segment:",a);};k.prototype=Object.create(x.prototype);k.prototype.constructor=k;Object.defineProperties(k.prototype,{Mi:{get:function(){return[this.Xa[0].Mi,this.Xa[1].Mi];}},Dt:{get:function(){return[this.Xa[0].Dt,this.Xa[1].Dt];}},em:{get:function(){return this.ea.xa[this.oa].em;}},Qd:{get:function(){return this.S;}},pf:{get:function(){return this.Z;}},Z:{get:function(){return g.fa(this.fha)?this.fha:this.la.Z;}},Ka:{get:function(){return this.S+this.wc;}},dd:{get:function(){return this.Z+this.wc;}}});k.prototype.toJSON=function(){return{segment:this.la.id,active:this.active,branchOffset:this.wc,manifestIndex:this.oa,contentStartPts:this.S,contentEndPts:this.Z,playerStartPts:this.Ka,playerEndPts:this.dd,pipelines:this.Xa,previousBranch:this.yf};};k.prototype.ejb=function(a){this.oa=a;};k.prototype.Uh=function(a){return this.Xa[a];};k.prototype.upa=function(a){return(a=this.ea.al(this.oa).Xd[a])?a.ac:void 0;};k.prototype.M6a=function(a){return(a=this.ea.al(this.oa).Xd[a])?a.nl:void 0;};k.prototype.s6a=function(a){return this.Xa[a].vy;};k.prototype.Oo=function(a){return this.Xa[a].Ad;};k.prototype.W3=function(a){var b;b=this.ea.al(a).Xd;this.Xa.forEach(function(c){var d;d=b[c.N];d&&c.djb(a,d);});};k.prototype.NF=function(){this.Xa.forEach(function(a){a.NF();});};k.prototype.Ke=function(){this.yf&&(delete this.yf.children[this.la.id],this.yf=void 0);g.Ac(this.children,function(a){a.yf&&(a.yf=void 0);}.bind(this));this.children=Object.create(null);this.Iz=void 0;};k.prototype.BOa=function(){var a,b;a=this.ea;b=0;this.Xa.forEach(function(c){c=a.jf[c.N].K5a()||0;c>b&&(b=c);}.bind(this));return b;};k.prototype.ipa=function(a){return this.Xa[a].Ga.meb;};k.prototype.ZVa=function(a){var b,c;b=this.BOa();b=this.sha(a,b);if(0>b)return-1;b=a.cB(b);c=this.Z;c=this.sha(a,this.Um||c);return 0>c?-1:Math.max(b,a.Zf(c));};k.prototype.sha=function(a,b){return a.$j(b-1,0,!0);};k.prototype.kla=function(){var a,b;if(!("number"!==typeof this.Um||this.Um>=this.Z)){a=this.ea.al(this.oa).hb[p.v.VIDEO].V;b=this.ZVa(a);if(!(0>b)&&(b=a.$j(b,0,!0),!(0>b)&&(b=this.tha(b,a),(a=b<a.length&&a.cB(b))&&a<this.Z)))return a;}};k.prototype.tha=function(a,b){var c,d;c=this.la.jmb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.cPa(c,b.cB(a))&&(a=this.tha(a+1,b));return a;};k.prototype.cPa=function(a,b){var d,g;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];g=a[c][1];if(b<d)break;if(b>=d&&b<g)return!0;}return!1;};k.prototype.Rmb=function(a){this.wc+=a;};k.prototype.Vya=function(a){var b,c;this.fha=a;b=this.ea;c=b.al(this.oa);this.Xa.forEach(function(d){var g,h,f;g=d.N;h=c.hb[g].V.NP(a-1,0,!0);d.lT(h);f=d.Ga.W1(h.S);f&&(f.ksa(),g===p.v.VIDEO&&b.HY(this.la,h.Z));d.Ga.QSa(a);b.jf[g].mWa(this.la.id,a);d.Ra>h.Z&&d.up(h.Z);}.bind(this));};k.prototype.FA=function(a,b){var c,d,g,h,f,k,n;c=this.Na.J;d=this.ea;m(this.la.id);g=this.Xa[p.v.AUDIO];h=this.Xa[p.v.VIDEO];f=g?b?g.Mi:g.Ad:0;b=h?b?h.Mi:h.Ad:0;a||(a=c.Zh);k=!d.Df||h.fg&&0===h.Ga.Eu;k=(!d.zi||g.fg&&0===g.Ga.Eu)&&k;n=!d.zi||f>=c.Zh;a=!d.Df||b>=a;if(!(k||n&&a))return!1;if(h&&h.Eo)return!0;g=g?g.Ga.BK:0;h=h?h.Ga.BK:0;c=c.qo&&(0!==g||0!==h);if(k&&!c)if(this.ea.UY&&0===f&&0===b)this.aa("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};k.prototype.Goa=function(){var a,b;a=!0;b={};this.Xa.map(function(c){var d;d=c.N===p.v.VIDEO?"v":"a";c=c.Dt;b[d+"buflmsec"]=c.Pe;b[d+"buflbytes"]=c.$;a=a&&0<c.Pe;});return{vQ:a,XF:b};};k.prototype.CT=function(a,b){var c,d;c=v.time.ca();d={};g.Ac(this.children,function(a){var b,g;a.Ec?(a.Ec.Y0a=c-a.Ec.OQ,a.Ec.OQ=void 0,b=a.Ec.weight):b=this.Na.qpa(this.la.id,a.la.id);g=a.Goa();d[a.la.id]={weight:b,XF:g.XF,vQ:g.vQ};}.bind(this));b={requestTime:c,aT:a,Y_a:b,AT:this.la.id,Ec:d};a||(a=this.ea.Ed(),b.Hxa=a-this.S+this.wc,b.dP=0,b.startTime=c);this.Bp.unshift(b);return b;};k.prototype.gXa=function(a){var b,c;b=this.Bp[0];b.aT&&(b.Hxa=this.Z-this.S);c=a.Goa();b.Dya={};l(c.XF,b.Dya);b.vQ=a.Dt.every(function(a){return 0<a.Pe;});this.Bp=[];return b;};k.prototype.Nn=function(a){var b;b=this.la;a-=this.wc;if(b.S<a&&a<b.Z)this.Bp.shift();else if(b=this.Bp[0])b.Nn=!0;};k.prototype.AWa=function(){var a,b,c;a=this.Na;b=this.ea;c=!0;g.Ac(this.la.jj,function(d,g){d=a.bj[g].oa;g=b.xa[d];g.hb[0]&&g.hb[1]&&g.hb[0].stream.Dc&&g.hb[1].stream.Dc||(c=!1);b.BH(g.M,d)||(c=!1);}.bind(this));return c;};k.prototype.reset=function(a,b,c){this.Xa.forEach(function(d){(g.R(c)||d.N===c)&&d.reset(a,b);});this.yf&&this.yf.reset(a,b,c);};h.prototype.constructor=h;h.prototype.toString=function(){return"segmentId: "+this.id+" manifestIndex: "+this.oa+" pts: "+this.S+"-"+this.Z+" defaultKey: "+this.CG+" dests: "+JSON.stringify(this.jj)+" terminal: "+!!this.lD;};h.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.oa,"startPts:":this.S,endPts:this.Z,defaultKey:this.CG,"dests:":this.jj,terminal:!!this.lD,beginJITPts:this.Um};};f.K=b;},function(f){function d(a,b,d){var c,h;c=[];d.forEach(function(a){c.push(a[b].$);});d=c.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],h=c.lastIndexOf(d)):(d=c[0],h=0);return{pm:d,fd:h};}function a(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function b(a,b,d,g,f){var c,h,k,n,l,m;c=a.$f;h=d+c.S;d=a.Aj[c.NH];a=a.A_;k={FK:!0,waitUntil:void 0,VH:!1};n=d.filter(function(a){return a&&a.S<=h&&a.S+a.duration>h;})[0];if(void 0===n)return{VH:!0};l=f-1-(n.index-1);g=c.HK+g;m=0;m=n.index<c.ag?m+d.slice(c.Zr,n.index).reduce(function(a,b){return a+b.$;},0):m+c.HK;m=m+b.slice(c.ag,n.index).reduce(function(a,b){return a+b.pm;},0);g-=m;if(l>=a.uI||g>=a.DD)for(k.FK=!1,n=n.index;n<f&&(l>=a.uI||g>=a.DD);)k.waitUntil=d[n].S+d[n].duration-c.S,g=n<c.ag?g-d[n].$:g-b[n].pm,--l,n+=1;return k;}f.K={u3:function(c){var q,x,w,z,y,F,K,S,t,P,Y,R,fa;for(var f,h=c.$f,g=c.Yj,n=g.mj,p=c.Aj,r=!0,l=[],v,m=n=Math.min(g.bp,n);m>=h.ag;m--){f=c.Aj[0][m].S-c.$f.S;m<n&&(f=Math.min(l[m+1].startTime,f));g=p[0][m].$;v=h.At*p[0][m].duration*1/8;a:{q=void 0;y=g+v;v=c.zj;F=h.hm;K=v.trace;S=1*v.Sj;x=f+F-v.timestamp;w=Math.floor(1*x/S);z=0+(x-w*S)/S*a(K,w,S);if(z>=y)q=x-1*y/z*(x-w*S);else for(x=w;z<y;){--x;if(0>x){q=-1;break a;}w=a(K,x,S);if(z+w>=y){q=1*(y-z)/w*S;q=(x+1)*S-q;break;}z+=w;}q=q+v.timestamp-F;}if(0>q){r=!1;break;}l[m]={startTime:q,endTime:f,XO:f,pm:g,fd:0};}f={Wh:r,wp:l,Xo:!1,Bu:0===l.length};if(!1===f.Wh||!0===f.Bu)return f;a:{h=c.$f;n=c.Yj;p=n.mj;r=c.Aj;g=l=0;f=f.wp;q=m=0;p=Math.min(n.bp,p);for(F=h.ag;F<=p;F++){z=f[F];y=z.fd;v=r[y][F].duration;S=F===h.ag?0:f[F-1].endTime;y=b(c,f,S,l,F);if(y.VH){f={Wh:!1,Xo:!0};break a;}y.FK||(S=y.waitUntil);w=z.XO;P=c.zj;t=h.hm;z=0;y=P.trace;K=1*P.Sj;x=Math.max(0,S+t-P.timestamp);P=w+t-P.timestamp;if(!(S>=w)){Y=Math.max(0,Math.floor(1*x/K));R=1*P/K;if(Y===Math.floor(R))z+=(P-x)/K*a(y,Y,K);else for(R=Math.ceil(R),t=Y,w=R,Y*K<x&&(t++,z+=(Y*K+K-x)/K*a(y,Y,K)),R*K>P&&(z+=(P-w*K)/K*a(y,R,K),w--),x=t;x<=w;x++)z+=a(y,x,K);}K=h.At*v*1/8;g+=K;y=d(z-K,F,r);z=y.pm;y=y.fd;K=z+K;t=c.zj;w=x=0;P=t.trace;R=Math.max(0,S+h.hm-t.timestamp);t=1*t.Sj;fa=Y=Math.max(0,Math.floor(1*R/t));for(fa*t<R&&(Y+=1,R=fa*t+t-R,fa=R/t*a(P,fa,t),x=K-w<fa?x+(K-w)/fa*1*R:x+R,w+=fa);w<K;)R=a(P,Y,t),x=K-w<R?x+(K-w)/R*1*t:x+t,w+=R,Y+=1;K=x;f[F].startTime=S;f[F].endTime=S+K;f[F].pm=z;f[F].fd=y;F<=n.mj&&(l+=z,q+=v,m+=v*c.ac[y].L);}f={Wh:!0,Xo:!1,wp:f,J0a:0<q?1*m/q:0,p1:q,o1:l,n1:g};}return f;}};},function(f,d,a){function b(a,b){void 0===a&&(a=[]);void 0===b&&(b=c);this.data=a;this.length=this.data.length;this.compare=b;if(0<this.length)for(a=(this.length>>1)-1;0<=a;a--)this.aha(a);}function c(a,b){return a<b?-1:a>b?1:0;}a(15);b.prototype.constructor=b;b.prototype.push=function(a){this.data.push(a);this.length++;this.ySa(this.length-1);};b.prototype.pop=function(){var a,b;if(0!==this.length){a=this.data[0];b=this.data.pop();this.length--;0<this.length&&(this.data[0]=b,this.aha(0));return a;}};b.prototype.vC=function(){return this.data[0];};b.prototype.ySa=function(a){for(var b=this.data,c=this.compare,d=b[a],f,k;0<a;){f=a-1>>1;k=b[f];if(0<=c(d,k))break;b[a]=k;a=f;}b[a]=d;};b.prototype.aha=function(a){for(var b=this.data,c=this.compare,d=this.length>>1,f=b[a],k,l,v;a<d;){k=(a<<1)+1;l=b[k];v=k+1;v<this.length&&0>c(b[v],l)&&(k=v,l=b[v]);if(0<=c(l,f))break;b[a]=l;a=k;}b[a]=f;};f.K={CKa:b};},function(f,d,a){var q,x,w,z;function b(a,b,c){this.yka=this.TNa(a,b,c);}function c(){}function k(){}function h(){}function g(a){this.KWa=a;}function n(){}function p(){}function r(){}function l(){this.k1={};}function v(a,b){if(!a)throw z.error(b),new q(b);}function m(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}q=a(15).AssertionError;d=a(178).S$;x=a(281).eMa;w=a(178).VAa;z=new(a(9)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.constructor=b;b.prototype.TNa=function(a,b,c){v(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);v(0<c,"expect buffer_step_sec > 0. but got "+c);for(var d=[];a<b;a+=c)d.push(a);d[d.length-1]<b&&d.push(b);return d;};b.prototype.mu=function(a){return this.NOa(a,this.yka);};b.prototype.NOa=function(a,b){a=this.A0a(a,b);if(0===a)throw new c();if(a===b.length)throw new k();return a;};b.prototype.A0a=function(a,b){v(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;v(!1,"expect not coming here in digitize()");};b.prototype.tQ=function(){return m(this.yka.length-1);};c.prototype=Error();k.prototype=Error();h.prototype=Error();g.prototype.constructor=g;g.prototype.VERSION="0.5";g.prototype.kCa=-20;g.prototype.jCa=20;g.prototype.iCa=void 0;g.prototype.cCa=new d(void 0);g.prototype.eCa=0;g.prototype.dCa=1;g.prototype.nCa=!1;g.prototype.gCa=!0;g.prototype.fCa=!0;g.prototype.lCa=void 0;g.prototype.aCa=!0;g.prototype.bCa=0;g.prototype.OC=function(a){v(void 0!==a.pya,"expect recipe.time_varying_bandwidth !== undefined");return this.BRa(this.KWa,a.pya,void 0!==a.Ysa?a.Ysa:this.kCa,void 0!==a.Dsa?a.Dsa:this.jCa,void 0!==a.Csa?a.Csa:this.iCa,void 0!==a.wka?a.wka:this.cCa,void 0!==a.Cna?a.Cna:this.eCa,void 0!==a.Ika?a.Ika:this.dCa,void 0!==a.Xjb?a.Xjb:this.nCa,void 0!==a.n7a?a.n7a:this.gCa,void 0!==a.Ipa?a.Ipa:this.fCa,void 0!==a.iva?a.iva:this.lCa,void 0!==a.Sja?a.Sja:this.aCa,void 0!==a.oka?a.oka:this.bCa);};g.prototype.BRa=function(a,d,g,f,u,m,A,q,D,z,t,G,B,aa){var ha,ba,y,K,P,S,da,Z,X,Ha,Za,xb,fb,yb,Va,nb,db,$a,ca,ga;function F(a){return a[S];}v(g<=m.Ue,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(m.Ue<=f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(g<=A,"expect min_buffer_sec <= end_buffer_sec");v(A<=f,"expect end_buffer_sec <= max_buffer_sec");void 0!==u&&v(m.ei<=u,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+m.ei+" and "+u);ha=new b(g,f,q);q=new l();ba=0;y=m;q.put([0,ha.mu(m.Ue)],[ba,y,void 0,void 0,d,void 0,void 0,void 0]);K=y=0;d=a.l7a();v(a.yB()==d.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;for(da in d){for(var S=S+1,Y=!0,R=a.qh.map(F),O=ha.tQ(),fa=0;fa<O.length;fa++){Z=O[fa];if(q.u4([S,Z])){P=q.get([S,Z]);for(var H=P[0],pa=P[1],U=P[4],W=0;W<R.length;W++){d=R[W];m=void 0!==G?G(d.sJ):d.sJ;X=U.Io();try{P=this.pOa(pa,d,X,aa);Ha=P[0];Za=P[1];xb=P[2];fb=P[3];yb=P[4];Va=P[5];}catch(Pa){if(Pa instanceof x)continue;else if(Pa instanceof c){y+=1;continue;}else throw Pa;}nb=ba=!1;try{db=ha.mu(fb.Ue);z&&ha.mu(Ha);t&&ha.mu(Za);if(void 0!==u)if(t){if(xb.ei>u)throw new h();}else if(fb.ei>u)throw new h();}catch(Pa){if(Pa instanceof c)db=void 0,y+=1;else if(Pa instanceof k)B?ba=!0:K+=1,db=void 0;else if(Pa instanceof h)B?nb=ba=!0:K+=1,db=void 0;else throw Pa;}try{if(ba&&nb){v(void 0!==u,"expect max_buffer_kb !== undefined");ca=t?xb.ei-u:fb.ei-u;v(0<=ca,"pause dlnd kb cannot be -ve but is "+ca);try{$a=fb.Feb(ca);}catch(Pa){if(Pa instanceof w)throw new c();throw Pa;}X.oua($a);yb+=$a;v(fb.Ue<f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");db=ha.mu(fb.Ue);}else if(ba&&!nb){$a=t?xb.Ue-f+1E-8:fb.Ue-f+1E-8;v(0<=$a,"pause dlnd kb cannot be -ve but is "+$a);try{fb.Dua($a);}catch(Pa){if(Pa instanceof w)throw new c();throw Pa;}X.oua($a);yb+=$a;v(g<=fb.Ue,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(fb.Ue<f,"cur_buffer_queue.total_remain_sec < max_buffer_sec");db=ha.mu(fb.Ue);}else $a=0;}catch(Pa){if(Pa instanceof c)db=void 0,y+=1,$a=void 0;else if(Pa instanceof x)continue;else throw Pa;}ba=q.u4([S+1,db])?q.get([S+1,db])[0]:-Infinity;this.CSa(fb,db,d,m,Z,S+1,ba,q,H,W,X,yb,Va,$a)&&(Y=!1);}}}if(Y){--S;break;}}try{ga=this.nha(S+1,ha.mu(A),q,D,ha);}catch(Pa){if(Pa instanceof n)try{ga=this.nha(S+1,ha.mu(A),q,!D,ha);}catch(tc){if(tc instanceof n){if(y>K)throw new p();throw new r();}throw tc;}else throw Pa;}Z=ga;for(g=[];-1<S;S--)P=q.get([S+1,Z]),ba=P[0],y=P[1],f=P[3],u=P[5],A=P[6],D=P[7],P=P[2],d=a.qh[P][S],z=d.mr(),m=d.sJ,g.unshift({mqa:S,O3:P,info:{evb:z,sJ:m,lvb:y.Ue,kvb:y.ei,Kwb:u,ka:A,rAb:D}}),Z=f;return g;};g.prototype.nha=function(a,b,c,d,g){var h,f;h=!1;f=g.tQ()[0];for(g=g.tQ()[g.tQ().length-1];;){if(b<f||b>g){h=!0;break;}if(c.u4([a,b]))break;else b=d?b-1:b+1;}if(h)throw new n();return b;};g.prototype.CSa=function(a,b,c,d,g,h,f,k,n,p,r,l,u,v){c=n+d*c.lm;return void 0!==b&&c>f?(k.put([h,b],[c,a,p,g,r,l,u,v]),!0):!1;};g.prototype.pOa=function(a,b,d,g){var h,f,k;g=(b.mr()+g)*b.lm;d=d.U0a(g);g/=d;h=a.Ue-d;f=a.Ue+b.lm;k=a.Io();k.add(b,void 0);a=a.Io();a.add(b,void 0);try{a.Dua(d);}catch(R){if(R instanceof w)throw new c();throw R;}return[h,f,k,a,d,g];};n.prototype=Error();p.prototype=new n();r.prototype=new n();l.prototype={I9:function(a){return a.join(",");},put:function(a,b){this.k1[this.I9(a)]=b;},get:function(a){return this.k1[this.I9(a)];},u4:function(a){return this.I9(a)in this.k1;}};f.K={uDa:g,fpb:b,yob:c,zob:k};},function(f,d,a){var w,z,y,F,K,S,t,P,Y;function b(a){var b,c,d;c=a.zj;b=a.$f;d=a.Yj.Z-b.S;c.timestamp>b.hm&&Y.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.hm);a=[];for(var g,h=c.timestamp,f=0;f<c.trace.length;f++)h>=b.hm&&(a.push(c.trace[f]),g=c.trace[f]),h+=c.Sj,d-=c.Sj;for(;0<d;)a.push(g),d-=c.Sj;b=c.Sj;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new K(a,c,!1);}function c(a,b){return a.Cx<b.Cx?1:a.Cx>b.Cx?-1:0;}function k(a){for(var b=a.$f,c=a.Yj,d=c.mj,g=a.Aj,h=!0,f,k=[],n,p=d=Math.min(c.bp,d);p>=b.ag;p--){f=a.Aj[0][p].S-a.$f.S;p<d&&(x(void 0!==k[p+1],"expect solution[(fragIndex + 1)] !== undefined"),f=Math.min(k[p+1].startTime,f));c=g[0][p].$;n=b.At*g[0][p].duration*1/8;n=m(c+n,f,a.zj,b.hm);if(0>n){h=!1;break;}k[p]={startTime:n,endTime:f,XO:f,pm:c,fd:0};}return{Wh:h,wp:k,Xo:!1,Bu:0===k.length?!0:!1};}function h(a,b){var D,y,K,z,P,S,t;for(var c=a.$f,d=a.Yj,g=d.mj,h=a.Aj,f=0,k=0,n=b.wp,p,r,u=0,m=0,A,w,g=Math.min(d.bp,g),F=c.ag;F<=g;F++){p=n[F];b=p.fd;A=h[b][F].duration;w=F===c.ag?0:n[F-1].endTime;r=0;b=q(a,n,w,f,F);if(b.VH)return{Wh:!1,Xo:!0};b.FK||(r=b.waitUntil-w,w=b.waitUntil);x(0<=r,"expect waittime >= 0 but got "+r);D=p.XO;K=a.zj;y=c.hm;p=0;b=K.trace;r=1*K.Sj;z=Math.max(0,w+y-K.timestamp);K=D+y-K.timestamp;if(!(w>=D)){P=Math.max(0,Math.floor(1*z/r));S=1*K/r;if(P===Math.floor(S))p+=(K-z)/r*v(b,P,r);else for(S=Math.ceil(S),y=P,D=S,P*r<z&&(y++,p+=(P*r+r-z)/r*v(b,P,r)),S*r>K&&(p+=(K-D*r)/r*v(b,S,r),D--),z=y;z<=D;z++)p+=v(b,z,r);}r=c.At*A*1/8;k+=r;b=l(p-r,F,h);p=b.pm;b=b.fd;r=p+r;y=a.zj;D=z=0;K=y.trace;S=Math.max(0,w+c.hm-y.timestamp);y=1*y.Sj;t=P=Math.max(0,Math.floor(1*S/y));for(t*y<S&&(P+=1,S=t*y+y-S,t=S/y*v(K,t,y),z=r-D<t?z+(r-D)/t*1*S:z+S,D+=t);D<r;)S=v(K,P,y),z=r-D<S?z+(r-D)/S*1*y:z+y,D+=S,P+=1;r=z;n[F].startTime=w;n[F].endTime=w+r;n[F].pm=p;n[F].fd=b;F<=d.mj&&(f+=p,m+=A,u=void 0!=h[b][F].Hb?u+A*h[b][F].Hb:u+A*a.ac[b].Hb);}return{Wh:!0,Xo:!1,wp:n,Vma:0<m?1*u/m:0,p1:m,o1:f,n1:k};}function g(a){a=a.$f.V;for(var b=[],c,d=0;d<a.length;d++)c=a[d],x(void 0!==c.Hb,"expect frag.vmaf !== undefined"),c=new z(c.$,c.duration/1E3,c.Hb),b.push(c);return b;}function n(a){var b,c,d,g;b=a.Aj;c=a.$f;d=a.Yj;g=d.mj;a=a.ac;for(var h=[],f,g=Math.min(d.bp,g),k=0;k<b.length;k++){for(var d=[],n=c.ag;n<=g;n++)f=b[k][n],f=new z(f.$,f.duration/1E3,void 0!==f.Hb?f.Hb:a[k].Hb),d.push(f);h.push(d);}return new y(h,!1);}function p(a,b){x(a.yB()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,g,h,f=0;f<b.length;f++)x(b[f].mqa===f,"expect stream_choices[idx].i_epoch === idx"),h=a.qh[b[f].O3][f],g=h.sJ,h=h.lm,c+=g*h,d+=h;return{Vma:c/d,p1:1E3*d};}function r(a,b,c){var d,g;x(a.yB()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");d=0;g=0;c=c.$f.At;for(var h,f=0;f<b.length;f++)x(b[f].mqa===f,"expect stream_choices[idx].i_epoch === idx"),h=a.qh[b[f].O3][f],d+=h.$,g+=c*h.lm*1E3/8;return{o1:d,n1:g};}function l(a,b,c){var d,g;d=[];c.forEach(function(a){d.push(a[b].$);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],g=d.lastIndexOf(c)):(c=d[0],g=0);return{pm:c,fd:g};}function v(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function m(a,b,c,d){var g,h,f,k,n;g=c.trace;h=1*c.Sj;n=b+d-c.timestamp;k=Math.floor(1*n/h);b=0+(n-k*h)/h*v(g,k,h);if(b>=a)f=n-1*a/b*(n-k*h);else for(n=k;b<a;){--n;if(0>n)return-1;k=v(g,n,h);if(b+k>=a){a=1*(a-b)/k*h;f=(n+1)*h-a;break;}b+=k;}return f+c.timestamp-d;}function q(a,b,c,d,g){var h,f,k,n,p,r;h=a.$f;f=c+h.S;c=a.Aj[h.NH];a=a.A_;k={FK:!0,waitUntil:void 0,VH:!1};n=c.filter(function(a){return a&&a.S<=f&&a.S+a.duration>f;})[0];if(void 0===n)return{VH:!0};p=g-1-(n.index-1);d=h.HK+d;r=0;r=n.index<h.ag?r+c.slice(h.Zr,n.index).reduce(function(a,b){return a+b.$;},0):r+h.HK;r=r+b.slice(h.ag,n.index).reduce(function(a,b){return a+b.pm;},0);d-=r;if(p>=a.uI||d>=a.DD)for(k.FK=!1,n=n.index;n<g&&(p>=a.uI||d>=a.DD);)k.waitUntil=c[n].S+c[n].duration-h.S,d=n<h.ag?d-c[n].$:d-b[n].pm,--p,n+=1;k.Kka=d;k.mvb=p;return k;}function x(a,b){if(!a)throw Y.error(b),new w(b);}w=a(15).AssertionError;z=a(282).IBa;y=a(282).JBa;F=a(537).uDa;K=a(281).dMa;S=a(178).S$;t=a(536).CKa;P=a(224).gha;Y=new(a(9)).Console("ASEJS_NETWORK_HISTORY","media|asejs");f.K={Q9a:function(a){var b;b=k(a);return!1===b.Wh||!0===b.Bu?b:h(a,b);},u3:function(a){var b,d,g,f,n,p,r,l,u,v,A,q,w,F,D,K;d=a.Aj;b=a.Aj;g=a.$f;f=a.Yj;n=f.mj;p=a.ac;n=Math.min(f.bp,n);for(q=g.ag;q<=n;q++){b[0][q].Iw=b[0][q].$;for(A=1;A<b.length;A++)b[A][q].Iw=b[A][q].$,b[A-1][q].Iw===b[A][q].Iw&&(b[A][q].Iw=b[A-1][q].Iw+1);A=0;g=b[A][q];g.Cx=Infinity;g.Se=A;for(A=1;A<b.length;A++)g=b[A][q],f=b[A-1][q],r=8*g.Iw/g.duration,l=8*f.Iw/f.duration,void 0!==g.Hb?(u=g.Hb,v=f.Hb):(u=p[A].Hb,v=p[A-1].Hb),g.Cx=(u-v)/(r-l),g.Se=A,x(void 0!==f.Cx&&!isNaN(f.Cx),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=k(a);if(!1===b.Wh||!0===b.Bu)return b;n=a.Aj;g=a.$f;f=a.Yj;p=f.mj;p=Math.min(f.bp,p);f=[];for(g=g.ag;g<=p;g++)f.push(n[1][g]);for(n=new t(f,c);0<n.length;){p=n.pop();g=a;f=b;r=p;l=g.Aj;u=g.$f;D=g.Yj;v=D.mj;A=!0;q=JSON.parse(JSON.stringify(f.wp));void 0!==r.Se&&x(q[r.index].fd+1===r.Se,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");v=Math.min(D.bp,v);for(var y=r.index;y>=u.ag;y--){K=y===r.index?q[y].fd+1:q[y].fd;D=g.Aj[K][y].S-g.$f.S;if(y<v)if(x(void 0!==q[y+1],"expect solution[(fragIndex + 1)] !== undefined"),F=q[y+1].startTime,F<D)D=F;else if(y!==r.index)break;F=l[K][y].$;w=u.At*l[K][y].duration*1/8;w=m(F+w,D,g.zj,u.hm);if(0>w){A=!1;break;}q[y]={startTime:w,endTime:D,XO:D,pm:F,fd:K};}g={Wh:A,wp:q,Bu:f.Bu};!0===g.Wh&&(b=g,p.Se+1<d.length&&n.push(d[p.Se+1][p.index]));}return h(a,b);},dp:function(a){var c,d,h,f,l,u;c=k(a);if(!1===c.Wh||!0===c.Bu)return c;d=n(a);h=new F(d);f=g(a);f={pya:b(a),oka:a.$f.At,Ysa:0,Dsa:240,Csa:8*a.A_.DD/1E3,Ika:.5,wka:new S(f),Cna:0,eyb:void 0,Ipa:void 0,iva:void 0,Sja:!0};h=h.OC(f);f=p(d,h);d=r(d,h,a);l=[];u=a.$f.ag;h.forEach(function(a){l[u]={fd:a.O3};u++;});P(c,f);P(c,d);c.wp=l;return c;}};},function(f,d,a){var c,k;function b(){}c=a(538);k=a(535);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=k.u3;break;case"hvmaftb":b=c.Q9a;break;case"hvmafgr":b=c.u3;break;case"hvmafdp":b=c.dp;}return b;};f.K=b;},function(f,d,a){var c,k;function b(a,b,d){this.ea=a;this.U=a.U;this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);this.gNa=new k();this.J=d;this.yN=[];this.Nj=void 0;a=d.DQ;c.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(13);a(9);c=a(100);a(283);k=a(539);b.prototype=Object.create(c.prototype);b.prototype.add=function(a,b,d){this.Nj||(this.Nj=b);c.prototype.add.call(this,a,b,d);};b.prototype.F4a=function(){var a;if(0!==this.yN.length){a=[];this.yN.forEach(function(b){b&&b.vA&&a.push(b.kr());});return a;}};b.prototype.Ke=function(){this.yN=[];};b.prototype.X6a=function(){var a,b,d;a=this.get(this.J.DQ.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var f=0;f<d;f++)a[f]=b;}a={trace:a,timestamp:this.Nj,Sj:this.Yb};c.prototype.reset.call(this);this.Nj=void 0;return a;};b.prototype.G1=function(a){var b,c,d,h,f,k;if(a&&!a.vA){c=a.Yj.$qa;c&&(a.t7=this.UZ(a),a.FS=!1);if((b=this.X6a())&&b.trace&&b.trace.length){d=a.$f.hm;h=b.timestamp;if(h>d){f=b.Sj;k=b.trace[0];d=Math.ceil(1*(h-d)/f);b.timestamp=h-d*f;for(h=0;h<d;h++)b.trace.splice(0,0,k);}b.trace.length&&b.trace.pop();}a.zj=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.VVa(a),a.Yta=b,c&&b&&(a.FS=b.Wh),a.vA=!0,this.yN.push(a));}};b.prototype.VVa=function(a){var h,f;for(var b=this.J.CH,c={Wh:!1,Xo:!1},d=0;d<b.length;d++){h=b[d];f=this.gNa.create(h);f&&(f=f(a),c[h]=f,c.Wh=c.Wh||f.Wh,c.Xo=c.Xo||f.Xo);}return c;};b.prototype.UZ=function(a){var b;a=a.Yj;b="";1E3>a.IK&&(b+=a.yza);1E3>a.CZ&&(b=b+(""!==b?",":"")+a.bka);1E3<=a.IK&&1E3<=a.CZ&&(b="media");return b;};f.K=b;},function(f,d,a){(function(){var f3C,c,d,h,g,N3u,q2u;function b(a,b){var T3C;T3C=2;while(T3C!==7){switch(T3C){case 2:this.config=a;this.sp=b;a=a.initThroughputPredictor;T3C=4;break;case 4:this.JR=a.modelMap;this.i5=a.lrParams;this.nab=a.maxBwPredictionMap;this.Pka=a.bwThreshold;T3C=7;break;}}}f3C=2;while(f3C!==10){N3u="1S";N3u+="IYbZr";N3u+="N";N3u+="JC";N3u+="p9";q2u="ITE_";q2u+="A";q2u+="S";q2u+="E";q2u+="JS";switch(f3C){case 2:c=a(8);d=a(9);h=new d.Console(q2u);g=a(191);f3C=9;break;case 9:b.prototype.Po=function(){var Q3C,a;Q3C=2;while(Q3C!==4){switch(Q3C){case 2:a=d.time.now();return{oma:new Date(a).getHours(),P0:a};break;}}};b.prototype.fQ=function(){var l3C,a,b;l3C=2;while(l3C!==7){switch(l3C){case 8:return a/this.sp.length;break;case 2:l3C=1>this.sp.length?1:5;break;case 1:return 0;break;case 5:a=0,b=0;l3C=4;break;case 4:l3C=b<this.sp.length?3:8;break;case 9:b++;l3C=4;break;case 3:a+=this.sp[b].get().Qwb.Xub;l3C=9;break;}}};b.prototype.d6a=function(){var G3C,a,b,c,d,g;G3C=2;while(G3C!==14){switch(G3C){case 1:a=this.fQ(),b=void 0,c=Object.keys(this.JR),d=0;G3C=5;break;case 5:G3C=d<c.length?4:7;break;case 4:g=c[d];G3C=3;break;case 7:G3C=b?6:14;break;case 6:return{csa:this.i5[b].lrWeights,asa:this.i5[b].lrMeans,bsa:this.i5[b].lrStd,mab:this.nab[b]};break;case 2:G3C=1;break;case 3:G3C=a>=this.JR[g][0]&&a<=this.JR[g][1]?9:8;break;case 8:d++;G3C=5;break;case 9:b=g;G3C=7;break;}}};f3C=6;break;case 6:b.prototype.LF=function(a,b){var w3C,A2u;w3C=2;while(w3C!==1){A2u="a";A2u+="v";A2u+="t";A2u+="p";switch(w3C){case 2:return A2u==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Uoa=function(){var k3C,a,b,c,Z2u,v2u,K2u,u2u,I2u,f2u,M2u,g2u;k3C=2;while(k3C!==20){Z2u="n";Z2u+="i";Z2u+="q";Z2u+="r";v2u="f";v2u+="n";v2u+="s";K2u="a";K2u+="v";K2u+="t";K2u+="p";u2u="f";u2u+="n";u2u+="s";I2u="a";I2u+="v";I2u+="t";I2u+="p";f2u="l";f2u+="n";f2u+="s";M2u="av";M2u+="t";M2u+="p";g2u="e";g2u+="n";g2u+="s";switch(k3C){case 7:b.qfb=this.sp[c-1].get().t;c=this.Po();b.oma=c.oma;b.P0=c.P0;b.VBb=b.P0-b.qfb;b.Byb=1;return b;break;case 2:a=new g(100);b={};[{UJ:g2u,Gp:M2u},{UJ:f2u,Gp:I2u},{UJ:u2u,Gp:K2u},{UJ:v2u,Gp:Z2u}].forEach(function(c){var a1t=F977;var U3C,g,d,b3u,G3u,h3u,H3u,L2u,T2u,U2u,S2u,z2u,i2u,s2u,J2u,Q2u,k2u,r2u,t2u,F2u;U3C=2;while(U3C!==17){b3u="l";b3u+="as";b3u+="t";G3u="p";G3u+="2";G3u+="5";h3u="s";h3u+="t";h3u+="d";H3u="m";H3u+="ea";H3u+="n";L2u="s";L2u+="t";L2u+="d";T2u="m";T2u+="e";T2u+="a";T2u+="n";U2u="me";U2u+="a";U2u+="n";S2u="s";S2u+="t";S2u+="d";z2u="p";z2u+="5";z2u+="0";i2u="p";i2u+="2";i2u+="5";s2u="p";s2u+="7";s2u+="5";J2u="p";J2u+="5";J2u+="0";Q2u="n";Q2u+="i";Q2u+="qr";k2u="s";k2u+="t";k2u+="d";r2u="m";r2u+="e";r2u+="a";r2u+="n";t2u="p";t2u+="7";t2u+="5";F2u="p";F2u+="5";F2u+="0";switch(U3C){case 5:U3C=d<this.sp.length?4:8;break;case 2:U3C=1;break;case 1:d=0;U3C=5;break;case 4:g=this.sp[d].get()[c.UJ][c.Gp];g&&a.MZ(Number(g));U3C=9;break;case 14:a1t.D2u(0);b[a1t.y2u(F2u,g)]=this.LF(c.Gp,a.It(50));a1t.d2u(0);b[a1t.e2u(t2u,g)]=this.LF(c.Gp,a.It(75));a1t.d2u(0);b[a1t.e2u(r2u,g)]=this.LF(c.Gp,a.Wka());a1t.d2u(0);b[a1t.y2u(k2u,g)]=a.fWa();a1t.D2u(0);b[a1t.y2u(Q2u,g)]=0<b[g+J2u]?(b[g+s2u]-b[g+i2u])/b[g+z2u]:0;a1t.d2u(0);b[a1t.y2u("b",g)]=0<b[g+S2u]||0<b[g+U2u]?(b[g+T2u]-b[g+L2u])/(b[g+H3u]+b[g+h3u]):0;U3C=19;break;case 9:d++;U3C=5;break;case 8:d=a.vB();g=c.UJ+"-"+c.Gp+"-";a1t.D2u(0);b[a1t.e2u(G3u,g)]=this.LF(c.Gp,a.It(25));U3C=14;break;case 19:a1t.d2u(0);b[a1t.y2u(b3u,g)]=this.LF(c.Gp,a.Il[d-1]);a.Il=[];U3C=17;break;}}},this);c=this.sp.length;b.Sib=c;b.MAb=this.sp[c-1].get().myb;k3C=7;break;}}};b.prototype.Soa=function(){var o3C,b,d,g,f,a3u;o3C=2;while(o3C!==11){a3u="ge";a3u+="tP";a3u+="arams:";switch(o3C){case 1:o3C=2>this.sp.length||this.fQ()>this.Pka||0>this.fQ()||a(this.JR,this.Pka)?5:4;break;case 2:o3C=1;break;case 14:f=!Object.keys(d).some(function(a){var m3C,V3u;m3C=2;while(m3C!==4){V3u="nu";V3u+="m";V3u+="b";V3u+="er";switch(m3C){case 1:g+=(d[a]-b.asa[a])/b.bsa[a]*b.csa[a];m3C=4;break;case 2:m3C=b.csa.hasOwnProperty(a)&&b.asa.hasOwnProperty(a)&&b.bsa.hasOwnProperty(a)&&V3u==typeof d[a]?1:5;break;case 5:return!0;break;}}});g=Math.exp(g);return 0<g&&g<=b.mab&&f&&1<d.Sib?g:0;break;case 8:0&h.log(a3u,JSON.stringify(b));d=this.Uoa();g=0;o3C=14;break;case 4:b=this.d6a();o3C=3;break;case 3:o3C=c.R(b)?9:8;break;case 5:return 0;break;case 9:return 0;break;}}function a(a,b){var Z3C,c;Z3C=2;while(Z3C!==4){switch(Z3C){case 2:c=Object.keys(a).map(function(b){var V3C;V3C=2;while(V3C!==1){switch(V3C){case 4:return a[b];break;V3C=1;break;case 2:return a[b];break;}}});return Object.keys(a).some(function(c){var S3C;S3C=2;while(S3C!==1){switch(S3C){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var j3C;j3C=2;while(j3C!==1){switch(j3C){case 4:return a<b?a:b;break;j3C=1;break;case 2:return a>b?a:b;break;}}});break;}}}};f.K=b;N3u;f3C=10;break;}}}());},function(f,d,a){var b,c;b=a(180);c=a(179);f.K=function(a){var r;for(var d=[],g=a.length,f=0;f<g;f++){d[f]=[0,0];for(var k=0;k<g;k++){r=c.L1(f*k,g);r=b.multiply([a[k],0],r);d[f]=b.add(d[f],r);}}return d;};},function(f,d,a){var b;b=a(181).S1;f.K={pqa:function(a){for(var c=[],d=0;d<a.length;d++)c[d]=[a[d][1],a[d][0]];a=b(c);c=[];for(d=0;d<a.length;d++)c[d]=[a[d][1]/a.length,a[d][0]/a.length];return c;}};},function(f,d){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";d.jFa=32;d.Pqb=2147483647;d.Qqb=-2147483648;d.sign=function(a){return(0<a)-(0>a);};d.abs=function(a){var b;b=a>>31;return(a^b)-b;};d.min=function(a,b){return b^(a^b)&-(a<b);};d.max=function(a,b){return a^(a^b)&-(a<b);};d.Qyb=function(a){return!(a&a-1)&&!!a;};d.log2=function(a){var b,c;b=(65535<a)<<4;a>>>=b;c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1;};d.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};d.CAb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};d.JXa=a;d.Qzb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};d.NAb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};d.jAb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var c=b,d=b,f=7,c=c>>>1;c;c>>>=1)d<<=1,d|=c&1,--f;a[b]=d<<f&255;}}(b));d.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};d.Cyb=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};d.Awb=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};d.Dyb=function(a,b,d){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((d|d<<2)&1227133513)<<2;};d.Bwb=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};d.Pzb=function(b){var c;c=b|b-1;return c+1|(~c&-~c)-1>>>a(b)+1;};},function(f,d,a){f.K={S1:a(181).S1,pqa:a(543).pqa,Wna:a(181).Wna,EK:a(179),v0a:a(542)};},function(f,d,a){(function(){var R3u,c,d,h,V2y;function b(a){var m3u;m3u=2;while(m3u!==1){switch(m3u){case 4:this.console=a;m3u=3;break;m3u=1;break;case 2:this.console=a;m3u=1;break;}}}R3u=2;while(R3u!==13){V2y="1";V2y+="S";V2y+="IYbZrNJC";V2y+="p9";switch(R3u){case 8:b.prototype.WVa=function(a,b,c,d,h,f,k){var B3u;B3u=2;while(B3u!==7){switch(B3u){case 1:B3u=void 0!==b&&(a=this.Nfb(a,c,f,d),a=a.map(function(a){var E3u;E3u=2;while(E3u!==5){switch(E3u){case 2:a+=k;return Math.log(a);break;}}}),c=[1].concat(a).concat(b),c.length===h.length)?5:7;break;case 4:B3u=f<c.length?3:8;break;case 2:b=this.TVa(a,b,k);B3u=1;break;case 5:f=d=0;B3u=4;break;case 3:d+=c[f]*h[f];B3u=9;break;case 9:f++;B3u=4;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),Do:b,z:a};break;}}};b.prototype.S6=function(a,b,c,d,h,f,k,l){var c3u;c3u=2;while(c3u!==5){switch(c3u){case 2:b=(a=this.WVa(a,b,c,d,h,k,l))?a.p:void 0;return{p:b?b:-1,Do:a?a.Do:-1,r:b?b<=f?1:0:-1,z:a?a.z:void 0};break;}}};f.K={xKa:b};V2y;R3u=13;break;case 5:d=a(31).Q6a;h=a(31).J6a;b.prototype.TVa=function(a,b,c){var P3u,g;P3u=2;while(P3u!==3){switch(P3u){case 2:g=function(a){var w3u,b;w3u=2;while(w3u!==9){switch(w3u){case 2:b=[];a.reduce(function(a,c){var W3u;W3u=2;while(W3u!==4){switch(W3u){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();w3u=3;break;case 3:return b;break;}}}(a.map(function(a){var l3u;l3u=2;while(l3u!==1){switch(l3u){case 2:return a>=b?1:0;break;case 4:return a<=b?7:1;break;l3u=1;break;}}}));P3u=5;break;case 6:P3u=5!=g.length?2:5;break;P3u=0!==g.length?4:3;break;case 5:P3u=0!==g.length?4:3;break;case 4:return a=d(g)/g.length,g=h(g),(g-a)/(g+a+c);break;}}};b.prototype.Nfb=function(a,b,h,f){var O3u,k,n,p,g;O3u=2;while(O3u!==13){switch(O3u){case 9:O3u=p<g.length?8:6;break;case 8:a[k]=d(g.slice(p,p+b)),n+=a[k],k+=1;O3u=7;break;case 3:k=0,n=0,p=0;O3u=9;break;case 2:g=c(a);g=g.map(function(a){var n1t=F977;var o3u,j3u,X3u,Y3u;o3u=2;while(o3u!==1){switch(o3u){case 2:n1t.L2y(0);j3u=n1t.u2y(12,20,40,16);n1t.H2y(1);X3u=n1t.u2y(334,11,17,19);n1t.L2y(2);Y3u=n1t.u2y(16,18,3,72);return(Math.pow(a[0],j3u)+Math.pow(a[X3u],Y3u))/g.length;break;}}});a=[];O3u=3;break;case 7:p+=b;O3u=9;break;case 6:a=a.splice(0,a.length-1).map(function(a){var t1t=F977;var C3u;C3u=2;while(C3u!==1){switch(C3u){case 4:t1t.L2y(3);return t1t.a2y(h,a,n);break;C3u=1;break;case 2:t1t.L2y(4);return t1t.u2y(h,n,a);break;}}});return a.splice(0,f);break;}}};R3u=8;break;case 2:c=a(545).v0a;R3u=5;break;}}}());},function(f,d,a){(function(){var p2y,c,d,h,u8E,T8E;function b(a,b,c){var N2y;N2y=2;while(N2y!==14){switch(N2y){case 9:this.beta=c.xg.beta;this.hya=c.xg.thresh;this.Wlb=c.xg.tol;this.Xlb=c.xg.tol2;N2y=14;break;case 2:F977.a8E(0);d.call(this,F977.m8E(b,a),b);this.config=c;this.uVa=c.xg.bthresh;this.S3a=c.xg.freqave;this.Acb=c.xg.numfreq;N2y=9;break;}}}p2y=2;while(p2y!==10){u8E="1SIYbZ";u8E+="r";u8E+="NJC";u8E+="p9";T8E="P";T8E+="SD_A";T8E+="SEJ";T8E+="S";switch(p2y){case 4:h=new(a(546)).xKa(c);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var I2y;I2y=2;while(I2y!==1){switch(I2y){case 2:d.prototype.shift.call(this);I2y=1;break;case 4:d.prototype.shift.call(this);I2y=8;break;I2y=1;break;}}};p2y=8;break;case 8:b.prototype.m3=function(){var y2y;y2y=2;while(y2y!==1){switch(y2y){case 2:return this.get(this.config.xg.fillS,this.config.xg.fillHl);break;}}};b.prototype.o6a=function(){var x2y,a;x2y=2;while(x2y!==9){switch(x2y){case 4:x2y=a.length===this.config.xg.numB?3:9;break;case 3:return h.S6(a,this.uVa,this.S3a,this.Acb,this.beta,this.hya,this.Wlb,this.Xlb);break;case 2:a=this.m3();this.config.JG&&a.splice(a.length-this.config.JG);x2y=4;break;}}};b.prototype.stop=function(a){var b2y;b2y=2;while(b2y!==1){switch(b2y){case 2:d.prototype.stop.call(this,a);b2y=1;break;}}};p2y=14;break;case 2:c=new(a(9)).Console(T8E);d=a(100);p2y=4;break;case 14:b.prototype.reset=function(){var C2y;C2y=2;while(C2y!==1){switch(C2y){case 4:d.prototype.reset.call(this);C2y=9;break;C2y=1;break;case 2:d.prototype.reset.call(this);C2y=1;break;}}};b.prototype.toString=function(){var e2y,i8E;e2y=2;while(e2y!==1){i8E="p";i8E+="sd";i8E+="(";switch(e2y){case 4:return")"-this.Yb-")";break;e2y=1;break;case 2:return i8E+this.Yb+")";break;}}};f.K=b;u8E;p2y=10;break;}}}());},function(f,d,a){(function(){var V5E,c,d,h,g,n,p,r,r9g;function b(a,b,c,d,g,f){var O5E,k,l,u,W5E,I5E;O5E=2;while(O5E!==26){switch(O5E){case 2:O5E=1;break;case 1:this.J=d;this.ea=a;this.xb=c;this.U=a.U;this.Zb=this.U.error.bind(this.U);O5E=8;break;case 8:this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);O5E=14;break;case 19:this.hSa=[d.jka,d.Fy];g=d.OI?p.Xc.Un:p.Xc.ys;b&&b.gc>=g&&b.ka&&this.aPa(b,c,k);O5E=16;break;case 14:this.SE=null;F977.c0g(1);I5E=F977.m0g(2000000,19,1000019);this.Kha=0===Math.floor(I5E*Math.random())%d.E_;this.LRa();O5E=11;break;case 11:this.pF=h(d,g);c=this.vha(b);c&&(k=(c.yh-c.xh)/c.vg);O5E=19;break;case 16:O5E=a.Wk?15:27;break;case 27:d.UG&&f&&1<f.length&&(this.OH=new n(d,f),this.MQ=this.OH.Soa());O5E=26;break;case 15:try{W5E=2;while(W5E!==3){switch(W5E){case 4:this.AS=u;W5E=3;break;case 2:l=a.ak();u=new r(a,{bufferSize:l},d);a.Ji.hTa(u);W5E=4;break;}}}catch(K){var d0g;d0g="H";d0g+="indsight";d0g+=": Error when";d0g+=" creating QoEEvaluator: ";F977.G0g(0);a.hp(F977.S0g(d0g,K));}O5E=27;break;}}}V5E=2;while(V5E!==28){r9g="1S";r9g+="IYbZrNJ";r9g+="Cp";r9g+="9";switch(V5E){case 6:Object.defineProperties(b.prototype,{Fkb:{get:function(){var n5E;n5E=2;while(n5E!==1){switch(n5E){case 4:return this.hSa;break;n5E=1;break;case 2:return this.hSa;break;}}}}});b.prototype.LRa=function(){var f5E;f5E=2;while(f5E!==5){switch(f5E){case 2:this.am=this.EQ=this.fqa=this.Ho=this.rn=void 0;this.g5=this.l9=this.vT=this.wT=this.k9=this.aS=this.bS=0;f5E=5;break;}}};b.prototype.kxa=function(a,b,d){var e5E;e5E=2;while(e5E!==4){switch(e5E){case 2:this.am=a;c.R(b)||(this.fqa=b);c.R(d)||(this.EQ=d);e5E=4;break;}}};V5E=12;break;case 2:c=a(8);d=a(9);V5E=4;break;case 4:h=a(304);V5E=3;break;case 3:g=a(547);n=a(541);p=a(13);r=a(540);V5E=6;break;case 16:b.prototype.cTa=function(a,b){var o5E,c,g,h;o5E=2;while(o5E!==13){switch(o5E){case 2:c=this.J;o5E=5;break;case 14:this.pi.y4=c;o5E=13;break;case 5:o5E=this.Kha?4:13;break;case 4:void 0===this.pi&&(this.pi={startTime:d.time.ca(),Ao:[],Ip:[],B4:void 0,y4:void 0});c=Math.floor((d.time.ca()-this.pi.startTime)/c.BA);g=this.pi.y4;h=this.pi.B4?c-this.pi.B4-1:c;o5E=7;break;case 6:this.pi.Ao[h]=a,this.pi.Ip[h]=b;o5E=14;break;case 7:o5E=void 0===g||c>g?6:14;break;}}};b.prototype.bdb=function(){var A5E,a;A5E=2;while(A5E!==3){switch(A5E){case 2:a=this.J;this.QRa();A5E=4;break;case 4:a.fr&&(this.NC=[],this.MC=a.MC);A5E=3;break;}}};b.prototype.Scb=function(){var N5E,C5E,a;N5E=2;while(N5E!==9){switch(N5E){case 3:try{C5E=2;while(C5E!==5){switch(C5E){case 2:a.Na.xb.Tgb();this.AS.Ke();C5E=5;break;}}}catch(v){var j0g;j0g="Hin";j0g+="dsigh";j0g+="t: ";j0g+="Error during clean up: ";F977.c0g(0);a.hp(F977.m0g(j0g,v));}N5E=9;break;case 2:a=this.ea;this.sF&&(clearInterval(this.sF),delete this.sF);N5E=4;break;case 4:N5E=a.Wk?3:9;break;}}};b.prototype.cdb=function(a){var l5E;l5E=2;while(l5E!==1){switch(l5E){case 2:this.J.ZA&&a===p.v.VIDEO&&(this.l9=this.k9=this.vT=this.wT=this.aS=this.bS=0);l5E=1;break;}}};b.prototype.hdb=function(a,b,c,d){var k5E;k5E=2;while(k5E!==1){switch(k5E){case 2:this.J.ZA&&a===p.v.VIDEO&&(d?(this.bS+=b,this.aS+=c):(this.wT+=b,this.vT+=c));k5E=1;break;}}};V5E=24;break;case 24:b.prototype.$cb=function(a,b){var Y5E;Y5E=2;while(Y5E!==1){switch(Y5E){case 2:a===p.v.VIDEO&&(this.Hnb=b);Y5E=1;break;}}};b.prototype.adb=function(a){var U5E;U5E=2;while(U5E!==1){switch(U5E){case 2:this.xg&&this.xg.stop(a);U5E=1;break;}}};b.prototype.Mta=function(a,b,c){var E5E;E5E=2;while(E5E!==1){switch(E5E){case 2:this.xg&&this.xg.add(a,b,c);E5E=1;break;}}};b.prototype.ndb=function(a){var x5E;x5E=2;while(x5E!==5){switch(x5E){case 2:this.J.fr&&a.NC&&this.NC.push(a.NC);this.g5=a.g5;x5E=5;break;}}};b.prototype.QRa=function(){var h5E,a;h5E=2;while(h5E!==4){switch(h5E){case 2:a=this.J;h5E=5;break;case 5:a.vP&&(this.sF&&clearInterval(this.sF),this.Nu=void 0,this.Fia=0,this.xg=new g(a.xg.numB+a.JG,a.xg.bSizeMs,a),this.sF=setInterval(function(){var H5E,b,c,g,h;H5E=2;while(H5E!==12){switch(H5E){case 5:H5E=b?4:12;break;case 4:c=b.p;g=b.Do;h=b.r;H5E=8;break;case 8:this.Nu={t:d.time.ca(),p:Number(c).toFixed(2)/1,Do:Number(g).toFixed(2)/1,fvb:this.ea.Oo(p.v.VIDEO),z:b.z};H5E=7;break;case 7:H5E=h?6:13;break;case 6:H5E=(b=this.xb.get(!0),0===a.rJ||0<a.rJ&&b.ka.va<a.rJ)?14:12;break;case 13:a.i7&&(this.Nr=!1);H5E=12;break;case 14:this.Nr||this.Fia++,this.Nr=!0;H5E=12;break;case 2:b=this.xg.o6a();H5E=5;break;}}}.bind(this),a.h7));h5E=4;break;}}};V5E=34;break;case 12:b.prototype.qY=function(a,b,d,g){var D5E,h,F0g,Q0g;D5E=2;while(D5E!==7){F0g="a";F0g+="v";F0g+="g";Q0g="i";Q0g+="q";Q0g+="r";switch(D5E){case 5:D5E=a===Q0g?4:3;break;case 2:h=this.J;D5E=5;break;case 4:return b.ka&&d&&c.fa(g)&&b.ka.va<h.mG&&g>h.UV;break;case 8:return!1;break;case 9:return b.ka?b.ka.va<h.mG:!0;break;case 3:D5E=a===F0g?9:8;break;}}};b.prototype.vha=function(a){var t5E,c5E,C0g;t5E=2;while(t5E!==4){C0g="td";C0g+="ig";C0g+="e";C0g+="s";C0g+="t";switch(t5E){case 1:a=a.tk;t5E=5;break;case 3:t5E=9;break;case 2:c5E=this.J.J3;t5E=c5E===C0g?1:3;break;case 5:return a;break;case 9:a=a.oj&&a.oj.Bn;t5E=5;break;}}};b.prototype.aPa=function(a,b,c){var w5E,d;w5E=2;while(w5E!==9){switch(w5E){case 2:d=this.J;this.qY(d.av,a,b,c)?this.rn=!0:this.rn=!1;this.Ho=0;this.qY(d.Z4,a,b,c)&&(this.YQ=!0);w5E=9;break;}}};b.prototype.k6a=function(a){var r5E;r5E=2;while(r5E!==1){switch(r5E){case 2:return a===p.v.VIDEO?this.pF.Wua:this.pF.Vua;break;}}};b.prototype.XC=function(a){var M5E;M5E=2;while(M5E!==5){switch(M5E){case 2:this.pF.XC(a);this.SE=a;M5E=5;break;}}};b.prototype.Yka=function(a,b){var G5E;G5E=2;while(G5E!==1){switch(G5E){case 2:this.pF.fBb&&a&&this.pF.Yka(b,a);G5E=1;break;}}};b.prototype.aTa=function(a,b,c,d,g,h){var R5E,f;R5E=2;while(R5E!==4){switch(R5E){case 2:f=this.J;c&&d&&(c=h?Math.min(c,d,h):Math.min(c,d))&&(this.xb.get(!1),a=this.ea.Oo(a),b.KB()&&a>f.xO&&c===g?(b.Fva({connections:1,openRange:!0}),this.k9++):f.Cn&&!b.KB()&&(a<f.D_||c!==g)&&(b.Fva({connections:f.vI,openRange:!1}),this.l9++));R5E=4;break;}}};V5E=16;break;case 34:b.prototype.EWa=function(a){var b5E,b,c,d,g,h,t0g,R0g;b5E=2;while(b5E!==7){t0g="n";t0g+="o";t0g+="n";t0g+="e";R0g="i";R0g+="q";R0g+="r";switch(b5E){case 4:c=this.xb.get();R0g===b.av&&(d=this.vha(c))&&(g=(d.yh-d.xh)/d.vg);h=b.OI?p.Xc.Un:p.Xc.ys;c&&c.gc>=h&&this.qY(b.av,c,d,g)&&(this.rn=!0,this.Ho=a.state);b5E=7;break;case 2:b=this.J;b5E=5;break;case 5:b5E=t0g!==b.av&&!0!==this.rn&&a.state<=b.x5?4:7;break;}}};b.prototype.uTa=function(a){var F5E;F5E=2;while(F5E!==3){switch(F5E){case 1:a.Nr=this.Nr;a.MQ=this.MQ;a.Nu=this.Nu;F5E=3;break;case 2:a.rn=this.rn;F5E=1;break;}}};b.prototype.h3a=function(a){var y5E,b,d,g,h,f,k,n,B9g,y0g;y5E=2;while(y5E!==23){B9g="start";B9g+="p";B9g+="l";B9g+="a";B9g+="y";y0g="lo";y0g+="gd";y0g+="a";y0g+="t";y0g+="a";switch(y5E){case 8:f=this.xb.get();f&&f.ka&&(f=f.ka.va);h.actualbw=f;h.isConserv=this.rn;h.ccs=this.Ho;h.isLowEnd=this.YQ;h.histdiscbw=this.am;y5E=10;break;case 2:b=this.J;d=this.ea;y5E=4;break;case 4:g={type:y0g,target:B9g,fields:{}};h=g.fields;Object.keys(a).forEach(function(b){var g5E;g5E=2;while(g5E!==1){switch(g5E){case 2:h[b]=a[b];g5E=1;break;case 4:h[b]=a[b];g5E=3;break;g5E=1;break;}}});y5E=8;break;case 10:k=this.EQ;y5E=20;break;case 15:h.histtd=f;y5E=27;break;case 19:n=function(a){var d5E;d5E=2;while(d5E!==1){switch(d5E){case 2:return c.fa(a)?Number(a).toFixed(2):-1;break;}}};f=[n(k.min||void 0),n(k.ZI||void 0),n(k.xh||void 0),n(k.vg||void 0),n(k.yh||void 0),n(k.$I||void 0),n(k.max||void 0)];k=c.isArray(k.Nf)&&k.Nf.reduce(function(a,b){var B5E,c;B5E=2;while(B5E!==9){switch(B5E){case 2:c=n(b.ge||void 0);b=n(b.n||void 0);B5E=4;break;case 4:-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},[]);h.histtdc=k;y5E=15;break;case 20:y5E=k?19:27;break;case 27:h.histage=this.fqa;b.UG&&this.OH&&(h.histsessionstat=this.OH.Uoa(),h.initbwestimate=this.OH.Soa(),h.avghistbw=this.OH.fQ());d.Na&&(b=d.ak(),h.maxAudioBufferAllowedBytes=b[p.v.AUDIO],h.maxVideoBufferAllowedBytes=b[p.v.VIDEO]);d.emit(g.type,g);y5E=23;break;}}};b.prototype.i3a=function(a){var S5E,b,c,d,g,h,f,k,T9g;S5E=2;while(S5E!==19){T9g="n";T9g+="o";T9g+="n";T9g+="e";switch(S5E){case 8:a.stat=g;h=0;f=0;S5E=14;break;case 14:k=0;d.gc&&(h=d.ka?d.ka.va:0,f=d.Yf?d.Yf.va:0,k=d.nn?d.nn.va:0);a.location={responseTime:f,httpResponseTime:k,bandwidth:h,confidence:d.gc,name:this.Hnb};this.Kha&&(a.bt={startTime:this.pi.startTime,Ao:this.pi.Ao,Ip:this.pi.Ip},this.pi.Ao=[],this.pi.Ip=[],this.pi.B4=this.pi.y4);b.vP&&(a.psdConservCount=this.Fia);T9g!==b.av&&(a.isConserv=this.rn,a.ccs=this.Ho);S5E=19;break;case 3:g=[];[p.v.VIDEO,p.v.AUDIO].forEach(function(a){var z5E,h;z5E=2;while(z5E!==9){switch(z5E){case 1:z5E=c.MB(a)?5:9;break;case 2:z5E=1;break;case 5:h=this.ea.O6a(a);a===p.v.VIDEO&&(b.ZA&&(h.parallelDownloadMs=this.bS,h.parallelDownloadBytes=this.aS,h.singleDownloadMs=this.wT,h.singleDownloadBytes=this.vT,h.switchFromParallelToSingle=this.k9,h.switchFromSingleToParallel=this.l9),d&&d.gc&&d.ka&&(h.asetput=d.ka,h.aseiqr=d.oj,h.tdigest=d.tk&&d.tk.kr()||void 0),d&&d.avtp&&(h.avtp=d.avtp.va));g.push(h);z5E=9;break;}}}.bind(this));S5E=8;break;case 2:b=this.J;c=this.ea;d=this.xb.get(!0);S5E=3;break;}}};f.K=b;r9g;V5E=28;break;}}}());},function(f,d,a){(function(){var Y9g,d,h,g,n,p,r,l,m,q,D,x,w,z,y,F,K,S,t,P,Y,R,fa,Z,O,G,B,aa,Q,I0w;Y9g=2;while(Y9g!==251){I0w="1S";I0w+="IYbZ";I0w+="rNJ";I0w+="C";I0w+="p9";switch(Y9g){case 2:d=a(8);a(15);h=a(13);g=a(32);n=g.EventEmitter;p=g.RD;r=a(60).Ge;l=a(190).TDigest;a(77);m=a(286);q=a(548);D=a(534);x=a(530);w=a(529);z=a(528);y=a(526);F=a(301);K=a(525);a(15);S=a(522);t=a(9);P=t.cz;Y9g=24;break;case 24:Y=t.Ua;R=t.Promise;fa=t.MediaSource;Z=a(187);O=a(294);a(58);G=a(99);B=a(41);g=a(26);aa=g.WHa;Q=g.Fa;a(36);b.prototype=Object.create(G.prototype);b.prototype.constructor=b;Object.defineProperties(b.prototype,{M:{get:function(){var M9g;M9g=2;while(M9g!==1){switch(M9g){case 2:return this.Nk;break;case 4:return this.Nk;break;M9g=1;break;}}}},ha:{get:function(){var p9g;p9g=2;while(p9g!==1){switch(p9g){case 4:return this.xZ;break;p9g=1;break;case 2:return this.xZ;break;}}}},Kua:{get:function(){var w9g;w9g=2;while(w9g!==1){switch(w9g){case 2:return this.Ib;break;case 4:return this.Ib;break;w9g=1;break;}}}},ou:{get:function(){var i9g;i9g=2;while(i9g!==1){switch(i9g){case 2:return this.ia.ou;break;case 4:return this.ia.ou;break;i9g=1;break;}}}},wu:{get:function(){var o9g;o9g=2;while(o9g!==1){switch(o9g){case 2:return this.$e.zc;break;case 4:return this.$e.zc;break;o9g=1;break;}}}},zi:{get:function(){var L9g;L9g=2;while(L9g!==1){switch(L9g){case 4:return this.vi[h.v.AUDIO];break;L9g=1;break;case 2:return this.vi[h.v.AUDIO];break;}}}},Df:{get:function(){var z9g;z9g=2;while(z9g!==1){switch(z9g){case 4:return this.vi[h.v.VIDEO];break;z9g=1;break;case 2:return this.vi[h.v.VIDEO];break;}}}},attributes:{get:function(){var J9g;J9g=2;while(J9g!==1){switch(J9g){case 4:return this.GX;break;J9g=1;break;case 2:return this.GX;break;}}}},J4:{get:function(){var P9g;P9g=2;while(P9g!==1){switch(P9g){case 2:return this.Lf;break;case 4:return this.Lf;break;P9g=1;break;}}}},oa:{get:function(){var l9g;l9g=2;while(l9g!==1){switch(l9g){case 2:return this.tc;break;case 4:return this.tc;break;l9g=1;break;}}}},tS:{get:function(){var h9g;h9g=2;while(h9g!==1){switch(h9g){case 2:return 0<=this.nN?this.nN:0;break;case 4:return 4<this.nN?this.nN:5;break;h9g=1;break;}}}},Rt:{get:function(){var O9g;O9g=2;while(O9g!==1){switch(O9g){case 2:return this.xa[this.tc];break;case 4:return this.xa[this.tc];break;O9g=1;break;}}}},Ji:{get:function(){var Z9g;Z9g=2;while(Z9g!==1){switch(Z9g){case 2:return this.Na.Ji;break;case 4:return this.Na.Ji;break;Z9g=1;break;}}}},Wr:{get:function(){var K9g;K9g=2;while(K9g!==1){switch(K9g){case 2:return this.Na.Wr;break;case 4:return this.Na.Wr;break;K9g=1;break;}}}},IF:{get:function(){var U9g;U9g=2;while(U9g!==1){switch(U9g){case 2:return this.Hc;break;case 4:return this.Hc;break;U9g=1;break;}}}},khb:{get:function(){var g9g;g9g=2;while(g9g!==1){switch(g9g){case 4:return this.Qia;break;g9g=1;break;case 2:return this.Qia;break;}}}}});b.prototype.MB=function(a){var X9g;X9g=2;while(X9g!==1){switch(X9g){case 4:return this.vi[a];break;X9g=1;break;case 2:return this.vi[a];break;}}};b.prototype.kS=function(){var e9g;e9g=2;while(e9g!==1){switch(e9g){case 4:this.aA=-3;e9g=6;break;e9g=1;break;case 2:this.aA=!0;e9g=1;break;}}};b.prototype.ak=function(){var v9g;v9g=2;while(v9g!==1){switch(v9g){case 2:return this.Na.ak(this.sN[h.v.AUDIO],this.sN[h.v.VIDEO]);break;}}};b.prototype.psa=function(){var V9g,a;V9g=2;while(V9g!==3){switch(V9g){case 2:a=0;d.forEach(this.Nm.audio_tracks,function(b){var u9g;u9g=2;while(u9g!==1){switch(u9g){case 2:d.forEach(b.streams,function(b){var f9g;f9g=2;while(f9g!==1){switch(f9g){case 2:a=Math.max(a,b.bitrate);f9g=1;break;}}});u9g=1;break;}}});return a;break;}}};b.prototype.Ed=function(){var E9g;E9g=2;while(E9g!==1){switch(E9g){case 2:return this.bA.Ed();break;case 4:return this.bA.Ed();break;E9g=1;break;}}};b.prototype.Oo=function(a){var D9g;D9g=2;while(D9g!==1){switch(D9g){case 2:return this.ia.Oo(a);break;case 4:return this.ia.Oo(a);break;D9g=1;break;}}};b.prototype.al=function(a){var I9g;I9g=2;while(I9g!==1){switch(I9g){case 2:return this.xa[a];break;case 4:return this.xa[a];break;I9g=1;break;}}};b.prototype.C5a=function(){var b9g,a;b9g=2;while(b9g!==4){switch(b9g){case 2:a=this.xa[0];b9g=5;break;case 5:return a.Qh?this.xa[1]:a;break;case 7:return a.Qh?this.xa[6]:a;break;b9g=4;break;}}};Y9g=52;break;case 102:b.prototype.pcb=function(a,b,c,d){var Y8g,p1w,r1w;Y8g=2;while(Y8g!==5){p1w="maxv";p1w+="ideob";p1w+="itratechang";p1w+="ed";r1w="maxvideobi";r1w+="t";r1w+="r";r1w+="atechange";r1w+="d";switch(Y8g){case 2:a={type:r1w,time:t.time.ca(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.emit(p1w,a);Y8g=5;break;}}};b.prototype.wta=function(){var N8g,a,S1w;N8g=2;while(N8g!==9){S1w="str";S1w+="ea";S1w+="me";S1w+="rend";switch(N8g){case 5:this.iSa=!0;a={type:S1w,time:t.time.ca()};Q(this,a.type,a);N8g=9;break;case 1:N8g=!this.iSa&&this.J.uta?5:9;break;case 2:N8g=1;break;}}};b.prototype.oga=function(a,b,c){var q8g,g,f;q8g=2;while(q8g!==3){switch(q8g){case 2:g=!0;c.some(function(c){var a8g,h;a8g=2;while(a8g!==8){switch(a8g){case 5:h=c.ranges;g=d.R(h)?b>=c.min&&b<=c.max:h.some(function(a){var s8g;s8g=2;while(s8g!==1){switch(s8g){case 2:return b>=a.min&&b<=a.max;break;case 4:return b>a.min||b>a.max;break;s8g=1;break;}}});!g&&c.disallowed&&c.disallowed.some(function(a){var k8g;k8g=2;while(k8g!==5){switch(k8g){case 1:return f=a.disallowedBy,!0;break;case 2:k8g=a.stream.bitrate===b?1:5;break;}}});return!0;break;case 2:a8g=1;break;case 1:a8g=a===c.profile?5:8;break;}}});return{inRange:g,UA:f};break;}}};b.prototype.eu=function(a,b,c){var W8g;W8g=2;while(W8g!==1){switch(W8g){case 2:return this.ia.Li.Xa[b].Ga.eu(a,void 0,c);break;}}};b.prototype.$ka=function(a){var M8g,b,c;M8g=2;while(M8g!==6){switch(M8g){case 2:b=this.ia.Li;c=0<Object.keys(b.la&&b.la.jj||{}).length&&!b.Pf?b.dd-this.J.IR:b.dd;M8g=4;break;case 4:M8g=a<b.Ka||a>=c?3:9;break;case 9:b=this.eu(a,h.v.AUDIO,!0);M8g=8;break;case 3:return!1;break;case 8:a=this.eu(a,h.v.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;}}};b.prototype.H1=function(a,b){var p8g,c,d;p8g=2;while(p8g!==8){switch(p8g){case 4:d=this.Hc.AS;a&&!a.vA&&d.G1(a);b?c.P7():(b=d.F4a(),this.iQa(b));p8g=8;break;case 2:c=this.Va;a=c.V1(a,b);p8g=4;break;}}};b.prototype.mha=function(a,b){var l1t=F977;var w8g,c,d,g,t1w,W1w,F6k;w8g=2;while(w8g!==14){t1w="findNewStrea";t1w+="mIndex ";t1w+="unable";t1w+=" to find str";t1w+="eam for bitrate: ";W1w=" retu";W1w+="r";W1w+="ning index: ";switch(w8g){case 5:w8g=(d=a[g],d.ee&&!d.Tg&&d.inRange)?4:8;break;case 1:w8g=0<=g?5:7;break;case 7:l1t.Q1w(2);this.aa(l1t.H1w(c,b,W1w,t1w));w8g=6;break;case 2:l1t.l1w(3);F6k=l1t.H1w(4,44,11);g=a.length-F6k;w8g=1;break;case 4:w8g=d.L<=b?3:9;break;case 3:return g;break;case 6:return c;break;case 8:--g;w8g=1;break;case 9:c=g;w8g=8;break;}}};b.prototype.QNa=function(a){var i8g,b;i8g=2;while(i8g!==3){switch(i8g){case 2:b=this.Va.lb[a.N];b.Xh&&b.Xh.EO&&delete b.Xh.EO;a.RS&&(delete b.sn,delete b.Xh,delete b.fH,delete b.Zk,delete a.RS);i8g=3;break;}}};b.prototype.JRa=function(a,b){var o8g,g,c;o8g=2;while(o8g!==19){switch(o8g){case 13:o8g=g<b.length?12:20;break;case 8:o8g=a.Ad<c.O5?7:6;break;case 11:return a.Wt=[g],!0;break;case 20:return!1;break;case 7:return!1;break;case 3:o8g=a.Wt&&0<a.Wt.length?9:8;break;case 5:o8g=b?4:3;break;case 6:b=a.ac;o8g=14;break;case 12:o8g=(c=b[g],c.ee&&c.inRange&&!c.Tg&&d.R(this.Ze[a.N][c.id]))?11:10;break;case 14:g=0;o8g=13;break;case 9:return!0;break;case 4:return a.Wt=b,!0;break;case 10:++g;o8g=13;break;case 2:c=this.J;o8g=5;break;}}};b.prototype.VM=function(a,b,c){var L8g,g;L8g=2;while(L8g!==4){switch(L8g){case 2:g=this.J;return c?g.IP?g.IP:g.CQ:g.nza&&b?b.offset+b.size:!d.R(a)&&(a=this.Va.lb[a],a.x4)?a.x4+128:2292+12*Math.ceil(this.Dl/2E3);break;}}};b.prototype.gWa=function(a){var z8g,b,c;z8g=2;while(z8g!==9){switch(z8g){case 3:return a;break;case 2:b=this.xa[0];c=h.v.VIDEO;b&&b.hb&&b.hb[c]&&b.hb[c].stream.Dc?b.dn&&b.dn[c]&&b.dn[c].S<=a&&b.dn[c].Z>a?a=b.dn[c].Ka:(b=b.hb[c].V,a=b.$j(a,void 0,!0),void 0==a&&a<b.length-1&&++a,a=b.Zf(a)):a=void 0;z8g=3;break;}}};b.prototype.XE=function(a,b,c,d,g){var J8g,f,k,n,p,r;J8g=2;while(J8g!==8){switch(J8g){case 5:d&&(n=d.Xa[h.v.VIDEO].Hi.Z,p=d.Xa[h.v.AUDIO].Hi,d=p.Z,k=d-n,g||(n=void 0),p=d-p.S);r=this.lha(c.Xa,f.hb,b,n,k,p);a===this.ia.wG&&[h.v.VIDEO,h.v.AUDIO].forEach(function(a){var P8g,b;P8g=2;while(P8g!==4){switch(P8g){case 2:b=c.Uh(a);b&&(b.Le=r[a]);P8g=4;break;}}});return{oy:r.map(function(a){var l8g;l8g=2;while(l8g!==1){switch(l8g){case 2:return a.S;break;case 4:return a.S;break;l8g=1;break;}}}),dn:r};break;case 2:f=this.xa[a];J8g=5;break;}}};b.prototype.MA=function(a,b){var h8g,c,g;h8g=2;while(h8g!==14){switch(h8g){case 3:c=g.wc;h8g=9;break;case 2:void 0===a&&(a=this.tS);g=this.ia.n3a(b,a);h8g=4;break;case 4:h8g=g?3:7;break;case 9:d.fa(c)||(c=this.xa[a].em);F977.Q1w(4);return F977.F1w(b,c);break;case 7:h8g=(g=this.ia.aoa(a))?6:9;break;case 6:c=g.wc;h8g=9;break;}}};b.prototype.CXa=function(a,b){var O8g,c,g;O8g=2;while(O8g!==14){switch(O8g){case 3:c=g.wc;O8g=9;break;case 2:O8g=1;break;case 9:d.fa(c)||(c=this.xa[a].em);F977.l1w(0);return F977.F1w(c,b);break;case 4:O8g=g?3:7;break;case 6:c=g.wc;O8g=9;break;case 7:O8g=(g=this.ia.aoa(a))?6:9;break;case 1:void 0===a&&(a=this.tS);g=this.ia.m3a(b,a);O8g=4;break;}}};b.prototype.gpa=function(a,b,c){var Z8g;Z8g=2;while(Z8g!==9){switch(Z8g){case 1:Z8g=!a.length?5:4;break;case 5:return b;break;case 2:a=(c?this.lha:this.Oz).call(this,a.Xa,this.al(a.oa).hb,b);Z8g=1;break;case 4:b=a[h.v.VIDEO];return c?b.S:b.Z;break;}}};b.prototype.oja=function(a){var K8g,b;K8g=2;while(K8g!==7){switch(K8g){case 9:K8g=(!this.vi[h.v.VIDEO]||b&&b.stream.Dc)&&a?8:7;break;case 2:K8g=1;break;case 1:K8g=a?5:7;break;case 5:b=a[h.v.VIDEO];a=a[h.v.AUDIO];a=!this.vi[h.v.AUDIO]||a&&a.stream.Dc;K8g=9;break;case 8:return!0;break;}}};b.prototype.lha=function(a,b,c,d,g,f){var U8g;U8g=2;while(U8g!==1){switch(U8g){case 2:return this.oja(b)?[h.v.VIDEO,h.v.AUDIO].map(function(h){var g8g;g8g=2;while(g8g!==9){switch(g8g){case 2:g8g=!this.vi[h]?1:5;break;case 1:return{};break;case 5:h=a[h].coa(b[h].stream,c,d,g,f);c=h.S;return h;break;}}}.bind(this)).reverse():[];break;}}};b.prototype.Oz=function(a,b,c){var X8g;X8g=2;while(X8g!==1){switch(X8g){case 2:return this.oja(b)?[h.v.VIDEO,h.v.AUDIO].map(function(d){var e8g;e8g=2;while(e8g!==9){switch(e8g){case 5:d=a[d].p3a(b[d].stream,c);c=d.Z;return d;break;case 2:e8g=!this.vi[d]?1:5;break;case 1:return{};break;}}}.bind(this)).reverse():[];break;}}};b.prototype.COa=function(a,b,c,d){var v8g,g;v8g=2;while(v8g!==14){switch(v8g){case 2:c=b.V;g=d===a.Le.index;d===a.Hi.index?(b=b.Roa(a.Hi),b.OJ(a.Hi.bv),b.ksa()):g?(b=b.Roa(a.Le),b.OJ(a.Le.bv)):b=b.Th(d);v8g=3;break;case 3:++d;v8g=9;break;case 8:b.MTa(c.get(d));v8g=7;break;case 9:v8g=d<c.length&&d<a.Hi.index&&b.$<a.sbb?8:6;break;case 7:++d;v8g=9;break;case 6:return b;break;}}};b.prototype.Bga=function(a,b){var V8g,c,d,g;V8g=2;while(V8g!==7){switch(V8g){case 2:c=this.J;d=!1;g=function(b){var u8g;u8g=2;while(u8g!==1){switch(u8g){case 2:0!==b.length&&(b=b[0],b.Qd<a.Ra&&(b=b.Qd,a.Ihb(b)),d=!0);u8g=1;break;}}}.bind(this);V8g=3;break;case 3:c.qo&&a.Ga.ojb(this.tc,b.L,g);c=this.Va.lb[a.N];return this.wia&&b.Ub&&c.ura&&b.Ub!=c.ura&&(0<a.Ga.Eu||0<a.Ga.BK)?{LK:!0,ro:d}:{LK:!1,ro:d};break;}}};b.prototype.gga=function(a,b){var f8g,d,g,f,h;f8g=2;while(f8g!==8){switch(f8g){case 3:h=g.tu;f&&h&&(g=g.kj)&&(c(this.Ib.value)||this.Hc.aTa(d,g,f.L,h.L,a.dqa.L,b));f8g=8;break;case 2:d=a.N;g=this.Va.lb[d];f=g.sn;f8g=3;break;}}};b.prototype.LOa=function(a){var E8g;E8g=2;while(E8g!==1){switch(E8g){case 2:return this.ia.Gka.reduce(function(b,c){var D8g;D8g=2;while(D8g!==1){switch(D8g){case 4:return b/c.s6a(a);break;D8g=1;break;case 2:return b+c.s6a(a);break;}}},0);break;}}};b.prototype.Cga=function(a,b){var I8g,g,f,k,n,p,r,l,u,m,A1w,D1w,d1w,o1w;I8g=2;while(I8g!==23){A1w="f";A1w+="loor";A1w+="ed to ";A1w+="0";D1w="negative scheduledBu";D1w+="ffer";D1w+="Level:";d1w=" ";d1w+=">";d1w+="=";d1w+=" ";o1w="No vacancy,";o1w+=" stall";o1w+="ing due to ma";o1w+="x frameCoun";o1w+="t:";switch(I8g){case 18:return!1;break;case 15:return!1;break;case 25:return!1;break;case 16:I8g=!d.R(g.qI)&&p>=g.qI||a.tD+k>=Math.max(g.tR,this.Na.Axa+g.p6*n.bC[f])?15:27;break;case 10:return a.aa(o1w,a.op+d1w+g.ml),!1;break;case 11:I8g=g.ml&&a.op>=g.ml?10:20;break;case 19:I8g=k>=g.dC||l===h.ta.Ye&&a.Ad>g.lab&&!this.Kh&&!this.SX&&!this.BH()||p&&k>Math.max(p*g.w5/100,g.Q5)||b&&(p=a.Ra-u,this.vi[b.N]&&!b.fg&&p>=g.z5&&r>g.Zh&&(this.Na.s9a||void 0===m||m<g.kab))||g.qo&&a.Ga.BK>=g.B5||this.LOa(f)>=g.Ex?18:17;break;case 9:p=a.Ad;r=this.Ed();I8g=7;break;case 17:p=this.ia.Zlb();I8g=16;break;case 2:g=this.J;f=a.N;k=a.vc;n=this.xa[k.oa];I8g=9;break;case 13:u=b?b.Ra:0;m=b?g.inb?b.xVa:b.wVa:void 0;I8g=11;break;case 20:k=a.Ga.nua;I8g=19;break;case 26:I8g=(l=1,a.F_<g.Dx&&(l=g.Dx),a.Ga.Eu>=l)?25:24;break;case 24:return!n&&0<g.gC&&f===h.v.VIDEO&&a.ds>g.gC||0<g.yr&&!n&&a.ds+(b?b.ds:0)>g.yr||f===h.v.VIDEO&&this.Kh&&a.Ad>g.v5&&(b=this.Na.xb.get(!1),b.gc&&b.ka&&b.ka.va*a.tD>g.u5)?!1:!0;break;case 7:l=this.Ib.value;r=a.Ra+k.wc-r;0>r&&(a.aa(D1w,r,A1w),r=0);I8g=13;break;case 27:I8g=(n=c(l))?26:24;break;}}};Y9g=108;break;case 175:b.prototype.mQa=function(a,b,c){var G4g,d,P1w,G1w;G4g=2;while(G4g!==7){P1w="notifyMan";P1w+="ifes";P1w+="tSelect";P1w+="ed: ";G1w="manifes";G1w+="tSe";G1w+="lected";switch(G4g){case 2:d=this.J;b={type:G1w,index:a,replace:b,ptsStarts:c};a=this.xa[a];b.streamingOffset=a.S+a.em;d.Ce&&(a=P1w+JSON.stringify(b),d.Ce&&this.mh(a));G4g=8;break;case 8:Q(this,b.type,b);G4g=7;break;}}};b.prototype.kQa=function(a,b,c){var c4g,d,U1w;c4g=2;while(c4g!==9){U1w="man";U1w+="i";U1w+="festPrese";U1w+="ntin";U1w+="g";switch(c4g){case 2:d=this.xa[a];b={type:U1w,index:a,pts:Math.floor(b),movieId:d.M,replace:d.replace,contentOffset:c};0<a&&(b.previousMovieId=this.xa[a-1].M);Q(this,b.type,b);c4g=9;break;}}};b.prototype.vta=function(a,b,c,d){var d4g,g,f,T1w;d4g=2;while(d4g!==13){T1w="s";T1w+="treamS";T1w+="elected";switch(d4g){case 4:f=this.Va.lb[g];f.Xh||(f.Xh={});f.Xh.id=b.id;f.Xh.index=b.Se;d4g=7;break;case 2:g=a.N;b=this.xa[b].Xd[g].nl[c];d4g=4;break;case 7:f.Xh.L=b.L;f.Xh.location=b.location;f.tu&&f.tu===b||(a.iD.Ekb(d,f.tu,b),f.tu=b,d=0,b.pa&&b.pa.gc&&b.pa.ka&&(d=b.pa.ka.va),f=a.vc.wc,a={type:T1w,nativetime:t.time.ca(),mediaType:g,streamId:c,manifestIndex:b.oa,trackIndex:b.so,streamIndex:b.Se,movieTime:Math.floor(a.Ra+f),bandwidth:d,longtermBw:d,rebuffer:0},Q(this,a.type,a));d4g=13;break;}}};b.prototype.wQa=function(a,b,c,d,g,f){var j4g,C1w;j4g=2;while(j4g!==5){C1w="str";C1w+="ea";C1w+="mPresenting";switch(j4g){case 2:a={type:C1w,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.N,manifestIndex:d,trackIndex:g,streamIndex:f};Q(this,a.type,a);j4g=5;break;}}};b.prototype.AQa=function(a){var Q4g,x1w;Q4g=2;while(Q4g!==5){x1w="v";x1w+="id";x1w+="eoLo";x1w+="o";x1w+="ped";switch(Q4g){case 2:a={type:x1w,offset:a};Q(this,a.type,a);Q4g=5;break;}}};b.prototype.fia=function(a,b,c,d,g,f,k){var F4g,q1w,n1w,V1w,O1w;F4g=2;while(F4g!==1){q1w="au";q1w+="d";q1w+="i";q1w+="o";n1w="v";n1w+="i";n1w+="d";n1w+="eo";V1w="locat";V1w+="ionS";V1w+="elected";O1w="lo";O1w+="catio";O1w+="nSel";O1w+="ected";switch(F4g){case 2:Q(this,O1w,{type:V1w,mediatype:a===h.v.VIDEO?n1w:q1w,location:b,locationlv:c,serverid:d,servername:g,selreason:f,seldetail:k});F4g=1;break;}}};b.prototype.hia=function(a,b,c,d,g){var C4g,f,k,y1w,B1w,b1w;C4g=2;while(C4g!==14){y1w="serv";y1w+="er";y1w+="S";y1w+="witch";B1w="au";B1w+="d";B1w+="io";b1w="vi";b1w+="de";b1w+="o";switch(C4g){case 2:a=a.N;f=a==h.v.VIDEO?b1w:B1w;C4g=4;break;case 4:k=this.Na.xb.get(!1);b={type:y1w,mediatype:f,server:b,reason:c,location:d,bitrate:g,confidence:k.gc};k.gc&&(b.throughput=k.ka.va);C4g=8;break;case 8:c=this.Va.lb[a];c.ux&&(b.oldserver=c.ux);Q(this,b.type,b);C4g=14;break;}}};b.prototype.yQa=function(a,b,c){var R4g,N1w;R4g=2;while(R4g!==5){N1w="upda";N1w+="teStre";N1w+="amingPts";switch(R4g){case 2:a={type:N1w,manifestIndex:a,trackIndex:b,movieTime:Math.floor(c)};Q(this,a.type,a);R4g=5;break;}}};b.prototype.eQa=function(a){var t4g,Z1w;t4g=2;while(t4g!==5){Z1w="fir";Z1w+="stRe";Z1w+="questAppended";switch(t4g){case 2:a={type:Z1w,mediatype:a.N,time:t.time.ca()};Q(this,a.type,a);t4g=5;break;}}};b.prototype.jQa=function(){var y4g,a,b,X1w,I1w,a1w;y4g=2;while(y4g!==3){X1w="initialAudioT";X1w+="rac";X1w+="k";I1w="over nu";I1w+="mber";I1w+=" of tr";I1w+="acks:";a1w="a";a1w+="u";a1w+="dioT";a1w+="rackIndex:";switch(y4g){case 2:a=this.Jm[h.v.AUDIO];b=this.Nm.audio_tracks;a>b.length?this.aa(a1w,a,I1w,b.length):(a={type:X1w,trackId:b[a].track_id,trackIndex:a},Q(this,a.type,a));y4g=3;break;}}};b.prototype.YPa=function(a,b,c){var B6k,K1w;B6k=2;while(B6k!==9){K1w="a";K1w+="u";K1w+="dioTrackSwi";K1w+="tchStarte";K1w+="d";switch(B6k){case 2:a=a.audio_tracks;b=a[b];c=a[c];B6k=4;break;case 4:c={type:K1w,oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:c.language,newNumChannels:c.channels};B6k=3;break;case 3:Q(this,c.type,c);B6k=9;break;}}};b.prototype.XPa=function(a){var T6k;T6k=2;while(T6k!==1){switch(T6k){case 2:setTimeout(function(){var r6k,b,Y1w;r6k=2;while(r6k!==4){Y1w="audioTrackSwitc";Y1w+="hComplet";Y1w+="e";switch(r6k){case 2:b={type:Y1w,trackId:a.ec,trackIndex:a.Ve};Q(this,b.type,b);r6k=4;break;}}}.bind(this),0);T6k=1;break;}}};b.prototype.vQa=function(a,b){var Y6k,L1w;Y6k=2;while(Y6k!==5){L1w="cu";L1w+="rrentStreamInf";L1w+="ea";L1w+="sible";switch(Y6k){case 2:a={type:L1w,oldBitrate:a,newBitrate:b};Q(this,a.type,a);Y6k=5;break;}}};b.prototype.OOa=function(a){var N6k,b;N6k=2;while(N6k!==8){switch(N6k){case 5:a=this.xa[a.manifestIndex].Xd[b].nl[a.streamId];this.MRa(this.ia.rf.Uh(b),a);this.J=this.kNa(a.ye,this.J);this.xa.forEach(function(a,b){var q6k;q6k=2;while(q6k!==1){switch(q6k){case 2:a.z3||0===b||this.HN(a.M,b,a.Xd);q6k=1;break;}}}.bind(this));N6k=8;break;case 2:b=a.mediaType;N6k=5;break;}}};b.prototype.ROa=function(a){var a6k,b;a6k=2;while(a6k!==7){switch(a6k){case 3:b.Opa=!0;a.PP&&this.eQa(a);a.$o&&this.tQa(b.N,a.oa,b.vc.la);a6k=7;break;case 2:a=a.request;b=a.df;b.Ga.FJ(a);a6k=3;break;}}};b.prototype.MRa=function(a,b){var s6k;s6k=2;while(s6k!==1){switch(s6k){case 2:this.Va.lb[a.N].sn={id:b.id,index:b.Se,L:b.L,ka:b.pa&&b.pa.gc&&b.pa.ka?b.pa.ka.va:0,location:b.location};s6k=1;break;}}};b.prototype.oY=function(a,b,c){var k6k;k6k=2;while(k6k!==6){switch(k6k){case 1:k6k=c?5:8;break;case 2:k6k=!c||c.sfb||c.dk&&c.Nla?1:6;break;case 3:return;break;case 5:a=this.Va.lb[a.N];k6k=4;break;case 9:a.fna=!0;k6k=8;break;case 4:k6k=a.fna?3:9;break;case 8:this.cQa(b,c);this.oA(this.tc+1);k6k=6;break;}}};b.prototype.aQa=function(){var W6k,a,j1w,g1w;W6k=2;while(W6k!==9){j1w="startBuf";j1w+="feri";j1w+="ng";g1w="buff";g1w+="ering";g1w+="S";g1w+="t";g1w+="arted";switch(W6k){case 2:a={type:g1w,time:t.time.ca(),percentage:0};Q(this,a.type,a);this.emit(j1w);this.uY=0;W6k=9;break;}}};b.prototype.ZPa=function(){var M6k,a,b,c,d,E1w;M6k=2;while(M6k!==6){E1w="b";E1w+="u";E1w+="ffering";switch(M6k){case 9:d=c.Ad;a=Math.min(Math.max(Math.round(100*(c.oI?(b-this.MX)/a.AC:c.ai?c.ai:d/a.Zh)),this.uY),99);a!=this.uY&&(b={type:E1w,time:b,percentage:a},Q(this,b.type,b),this.uY=a);M6k=6;break;case 2:a=this.J;b=t.time.ca();c=this.ia.rf;c=this.Df?c.Uh(h.v.VIDEO):c.Uh(h.v.AUDIO);M6k=9;break;}}};b.prototype.$Pa=function(){var p6k,a,b,c,d,g,w1w;p6k=2;while(p6k!==11){w1w="bufferingC";w1w+="ompl";w1w+="et";w1w+="e";switch(p6k){case 8:b=this.Df?this.Va.lb[h.v.VIDEO]:this.Va.lb[h.v.AUDIO];g=b.YF;c={type:w1w,time:t.time.ca(),actualStartPts:g,aBufferLevelMs:c?c.Ad:0,vBufferLevelMs:d?d.Ad:0,selector:d?d.Mwa:c.Mwa,initBitrate:b.Zk,skipbackBufferSizeBytes:this.Na.ZRa};this.Hc.h3a({initSelReason:b.pn,initSelectionPredictedDelay:b.MH,buffCompleteReason:b.WF,hashindsight:!!this.Wk,hasasereport:!!this.Xj});p6k=13;break;case 2:a=this.J;b=this.ia.Ae;c=b[h.v.AUDIO];p6k=3;break;case 3:d=b[h.v.VIDEO];this.eia();p6k=8;break;case 13:Q(this,c.type,c);a.cP&&(this.RY=!0);p6k=11;break;}}};b.prototype.b4=function(a){var w6k,b,c,d,g;w6k=2;while(w6k!==13){switch(w6k){case 2:b={};c=this.ia.Ae;d=this.jf;w6k=3;break;case 3:w6k=c?9:14;break;case 6:a&&d&&(a=d[h.v.VIDEO],d=d[h.v.AUDIO],a&&d&&(b.atoappend=JSON.stringify(a.Mh),b.vtoappend=JSON.stringify(d.Mh)));w6k=14;break;case 9:g=c[h.v.VIDEO];c=c[h.v.AUDIO];g&&c&&(b.vspts=g.Ra,b.aspts=c.Ra,b.vbuflbytes=g.Nh,b.abuflbytes=c.Nh,b.vbuflmsec=g.Ad,b.abuflmsec=c.Ad,a&&(b.asent=c.Ga.Wwa.toJSON(),b.vsent=g.Ga.Wwa.toJSON()));w6k=6;break;case 14:return b;break;}}};b.prototype.eia=function(){var i6k,a,b,c,d,g,k1w;i6k=2;while(i6k!==11){k1w="update";k1w+="Buff";k1w+="e";k1w+="rLevel";switch(i6k){case 5:i6k=!this.ae()?4:11;break;case 4:b=this.ia.Ae;c=b[h.v.AUDIO];i6k=9;break;case 9:d=b[h.v.VIDEO];this.Hc.cTa(c?c.Ad:0,d?d.Ad:0);g=this.Na.xb.get(!1);i6k=6;break;case 2:a=this.J;i6k=5;break;case 6:b=d?d.Fq:0;c={type:k1w,abuflbytes:c?c.Nh:0,vbuflbytes:d?d.Nh:0,totalabuflmsecs:c?c.Fq:0,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.gc?g.ka.va:0};b>a.Usa&&this.Na.Ic&&this.Na.Ic.JF(!0,this.Hj.sessionId);Q(this,c.type,c);i6k=11;break;}}};b.prototype.nPa=function(a){var o6k,b,c,g,i1w,J1w,e1w,m1w,c1w,u1w;o6k=2;while(o6k!==13){i1w=", o";i1w+="sAlloc";i1w+="ato";i1w+="rDelta";i1w+=": ";J1w=", ";J1w+="js";J1w+="HeapDe";J1w+="lta";J1w+=": ";e1w=", fas";e1w+="t";e1w+="Mall";e1w+="ocDelta";e1w+=": ";m1w="memoryUsage";m1w+=" at ";m1w+="time:";m1w+=" ";c1w=", ";c1w+="system";c1w+="Delta: ";u1w="memoryUs";u1w+="a";u1w+="ge at time: ";switch(o6k){case 2:o6k=1;break;case 1:o6k=!d.R(a)?5:13;break;case 4:o6k=!d.R(this.Wz)?3:14;break;case 5:d.fa(a.kK);o6k=4;break;case 6:d.fa(a.kK)&&d.fa(this.Wz.kK)&&(b=a.kK-this.Wz.kK,4194304<b&&this.aa(u1w+t.time.ca(),c1w+b));o6k=14;break;case 3:b=a.Una-this.Wz.Una;c=a.bqa-this.Wz.bqa;g=a.dua-this.Wz.dua;(4194304<b||4194304<g)&&this.aa(m1w+t.time.ca()+e1w+b+J1w+c+i1w+g);o6k=6;break;case 14:this.Wz=a;o6k=13;break;}}};Y9g=191;break;case 108:b.prototype.rPa=function(a,b){var b8g,c,g,f;b8g=2;while(b8g!==12){switch(b8g){case 2:c=this.J;b8g=5;break;case 5:b8g=!(!c.SZ&&!c.qo||a.A4+c.BZ>t.time.ca())?4:12;break;case 8:b8g=!d.R(g)?7:12;break;case 4:a.A4=t.time.ca();c=this.Va.xH(a);g=c.Se;b8g=8;break;case 7:g=a.ac[g];f=this.Ze[a.N][g.id];b8g=14;break;case 14:b8g=f&&f.V&&(g=this.Bga(a,g),!g.LK&&g.ro&&this.Cga(a,b))?13:12;break;case 13:return c;break;}}};b.prototype.EOa=function(a,b){var x8g,c,g,f,h;x8g=2;while(x8g!==12){switch(x8g){case 5:g=a.N;f=b.id;h=this.Ze[g][f];x8g=9;break;case 2:c=this.J;x8g=5;break;case 6:return h;break;case 9:x8g=h&&!h.V?8:7;break;case 7:x8g=h?6:14;break;case 14:x8g=d.R(c.R5)||d.R(this.Fha)||d.R(this.Gha)||(f=t.time.ca(),!(f-this.Fha<c.R5||f-this.Gha<c.R5))?13:12;break;case 13:c=this.VM(g,b.wj,b.Qh),this.iF(a,this.Nk,b,{url:b.url,offset:0,$:c}),this.Gha=t.time.ca();x8g=12;break;case 8:h.dD&&(a.zT===f&&delete a.zT,h.dD=!1);x8g=12;break;}}};b.prototype.Qv=function(){var n8g,a,b,d,g,f,k,n,p,r,r2w,l2w,Q2w,F2w,H2w,z2w,h2w,M2w,R2w,f2w,v1w,s1w;n8g=2;while(n8g!==35){r2w="n";r2w+="/";r2w+="a";l2w="v";l2w+="ideo";l2w+=":";Q2w="n";Q2w+="/";Q2w+="a";F2w="au";F2w+="dio";F2w+=":";H2w="checkBufferingComplete with en";H2w+="ough ";H2w+="frames, decla";H2w+="re bufferingComple";H2w+="te";z2w=" vi";z2w+="d";z2w+="eo: ";h2w="S";h2w+="ession che";h2w+="ckBu";h2w+="fferingComplete, aud";h2w+="io: ";M2w=" ";M2w+="m";M2w+="s";R2w=" m";R2w+="s, ";R2w+="video";R2w+=" buffer:";R2w+=" ";f2w=", audi";f2w+="o buf";f2w+="f";f2w+="er: ";v1w=" ";v1w+=">";v1w+="=";v1w+=" ";s1w="buff";s1w+="er";s1w+="ing longe";s1w+="r than li";s1w+="mit: ";switch(n8g){case 15:n8g=g?27:26;break;case 23:return this.aa(s1w+b+v1w+a.AC+f2w+k+R2w+p+M2w),this.KN(),!0;break;case 25:d=!n||p>a.Zh;n8g=24;break;case 10:n8g=this.Df&&f.En>=a.Zh&&(a.N7&&(r=f.En+1E3),a.O7&&(!g.connected||!f.connected))?20:19;break;case 14:n=k[h.v.VIDEO];k=b?b.Ad:0;p=n?n.Ad:0;r=a.Zh;n8g=10;break;case 21:return!1;break;case 20:return!1;break;case 27:return this.KN(),!0;break;case 19:a.Ce&&this.mh(h2w+k+z2w+p);g=this.ia.rf.FA(r);this.Ns&&(k>=a.Zh||g)&&(this.JUa(),this.Ns=void 0);a.ml&&!g&&(f=n&&n.Mw<a.ml,b&&b.Mw<a.ml||f||(this.aa(H2w,F2w,b?b.Mw:Q2w,l2w,n?n.Mw:r2w),g=!0));n8g=15;break;case 4:n8g=!d&&!this.Ns?3:9;break;case 9:g=this.Va.lb[h.v.AUDIO];f=this.Va.lb[h.v.VIDEO];k=this.ia.Ae;b=k[h.v.AUDIO];n8g=14;break;case 26:n8g=d?25:21;break;case 3:return!0;break;case 22:this.ZPa();n8g=21;break;case 24:n8g=(!b||k>a.Zh)&&d&&(b=t.time.ca()-this.MX,b>=a.AC)?23:22;break;case 2:a=this.J;d=c(this.Ib.value);n8g=4;break;}}};b.prototype.KN=function(){var A8g,a;A8g=2;while(A8g!==6){switch(A8g){case 3:this.EF();this.Gz&&(clearTimeout(this.Gz),delete this.Gz);this.Ib.set(h.ta.Ye);this.Og();A8g=6;break;case 2:a=this.J;this.ia.Ae.forEach(function(a){var H8g;H8g=2;while(H8g!==1){switch(H8g){case 2:delete a.seeking;H8g=1;break;case 4:!a.seeking;H8g=2;break;H8g=1;break;}}});c(this.Ib.value)&&(a.Ce&&this.ia.Ae.forEach(function(a){var m8g,b,T2w,U2w,P2w,G2w,A2w,D2w,d2w,o2w,t2w,W2w,S2w,p2w;m8g=2;while(m8g!==9){T2w=", nextAppen";T2w+="dP";T2w+="ts";T2w+=": ";U2w=", to";U2w+="Ap";U2w+="pen";U2w+="d:";U2w+=" ";P2w=", s";P2w+="entDa";P2w+="ta";P2w+=": ";G2w=",";G2w+=" com";G2w+="pleteStre";G2w+="amin";G2w+="gPts: ";A2w=",";A2w+=" st";A2w+="reamingPts: ";D2w=",";D2w+=" p";D2w+="ar";D2w+="tial";D2w+="s: ";d2w=",";d2w+=" to";d2w+="talBuffer";d2w+="Bytes: ";o2w=", totalBu";o2w+="fferMs";o2w+=":";o2w+=" ";t2w=", a";t2w+="ppendedBu";t2w+="ffer";t2w+="Bytes: ";W2w=",";W2w+=" ap";W2w+="pende";W2w+="dB";W2w+="ufferMs: ";S2w=", b";S2w+="uffe";S2w+="rLevelByte";S2w+="s:";S2w+=" ";p2w="bufferin";p2w+="gComple";p2w+="te: , ";p2w+="m";p2w+="ediaType: ";switch(m8g){case 2:m8g=1;break;case 5:b=this.jf[a.N]||{};a=p2w+a.N+S2w+a.Nh+W2w+a.Fq+t2w+a.mO+o2w+a.tD+d2w+a.ds+D2w+a.Ga.Eu+A2w+a.Ra+G2w+a.IA+P2w+JSON.stringify(a.Ga.gb.Ta)+U2w+JSON.stringify(b.Mh)+T2w+b.UPa;this.mh(a);m8g=9;break;case 1:m8g=a?5:9;break;}}}.bind(this)),this.$Pa());A8g=3;break;}}};b.prototype.Zia=function(a,b){var S8g,G8g;S8g=2;while(S8g!==7){switch(S8g){case 8:try{G8g=2;while(G8g!==1){switch(G8g){case 2:this.H1(h.ta.Az,{Z:a.Z});G8g=1;break;}}}catch(ma){var C2w;C2w="Hindsight: E";C2w+="rror evaluating QoE at endOfS";C2w+="tream: ";F977.l1w(0);this.hp(F977.F1w(ma,C2w));}S8g=7;break;case 2:a.fg=!0;a.Z=d.fa(b)?b:a.Ra;a.pv=!1;this.RX(a);this.Qv();S8g=9;break;case 9:S8g=this.Wk&&a.N===h.v.VIDEO?8:7;break;}}};b.prototype.qRa=function(){var c8g,a;c8g=2;while(c8g!==4){switch(c8g){case 2:a=this.Na.xb;a&&(a=a.get())&&a.avtp&&this.Wr.dTa({avtp:a.avtp.va});c8g=4;break;}}};b.prototype.eSa=function(a){var d8g,b,c,V2w,O2w,x2w;d8g=2;while(d8g!==8){V2w="st";V2w+="ar";V2w+="tup, p";V2w+="layerSt";V2w+="ate no longer STARTING:";O2w="f";O2w+="a";O2w+="iled to start audio";O2w+=" ";O2w+="pipeline";x2w="failed to s";x2w+="tart vid";x2w+="eo pipeline";switch(d8g){case 2:this.Ib.set(h.ta.Ig);b=this.ia.Ae;c=b[h.v.AUDIO];b=b[h.v.VIDEO];this.Df&&!this.dja(a,b)?this.aa(x2w):this.zi&&!this.dja(a,c)?this.aa(O2w):(this.wia=!0,this.xa[0].z3=!0,c=this.Va.lb[h.v.VIDEO],b=this.Va.lb[h.v.AUDIO],(c&&0<c.En||b&&0<b.En)&&this.fQa(a,b?b.En:0,c?c.En:0,b?b.mJ:0,c?c.mJ:0),this.Ib.value!=h.ta.Ig?this.aa(V2w,this.Ib.value):(this.MN(0),this.zi&&this.jQa()));d8g=8;break;}}};b.prototype.dja=function(a,b){var j8g,c,g,f,q2w,n2w;j8g=2;while(j8g!==12){q2w="NFEr";q2w+="r_MC_S";q2w+="treamingInitFa";q2w+="ilur";q2w+="e";n2w="startPip";n2w+="eline f";n2w+="ailed";switch(j8g){case 4:j8g=d.R(g)?3:9;break;case 9:g=b.ac[g];j8g=8;break;case 3:return this.ae()||this.Mj(n2w,q2w),!1;break;case 2:c=b.N;g=this.Va.xH(b).Se;j8g=4;break;case 8:j8g=this.Ze[c][g.id]?7:6;break;case 7:return!0;break;case 6:f=this.VM(c,g.wj,g.Qh);this.iF(b,a,g,{offset:0,$:f,Zw:!this.Kh&&!this.SX&&c===h.v.VIDEO,hr:!this.Va.lb[c].A3a},this.xa[g.oa]);return!0;break;}}};b.prototype.MN=function(a){var Q8g,b,d,g;Q8g=2;while(Q8g!==11){switch(Q8g){case 2:d=this.J;b=this.Va.lb[h.v.AUDIO]||{};g=this.Va.lb[h.v.VIDEO]||{};b.YF=void 0;g.YF=void 0;Q8g=8;break;case 14:this.MX=t.time.ca();b.Rk=g.Rk=this.MX;0===a&&(!this.Df||0<g.En)&&(!this.zi||0<b.En)&&(b=this.Qv())&&d.cP?(this.iw&&(clearTimeout(this.iw),delete this.iw),this.RY=!0):(d.VG&&(this.cY=setTimeout(function(){var C8g;C8g=2;while(C8g!==1){switch(C8g){case 2:this.qRa();C8g=1;break;case 4:this.qRa();C8g=4;break;C8g=1;break;}}}.bind(this),d.u1)),c(this.Ib.value)&&(this.Gz=setTimeout(function(){var R8g;R8g=2;while(R8g!==1){switch(R8g){case 2:this.Qv();R8g=1;break;case 4:this.Qv();R8g=9;break;R8g=1;break;}}}.bind(this),d.AC)),this.Og());Q8g=11;break;case 8:this.Ib.set(2===a?h.ta.Hs:h.ta.rs);this.aQa();this.ia.Ae.forEach(function(b){var F8g;F8g=2;while(F8g!==5){switch(F8g){case 2:b.F_=0;b.seeking=0===a||1===a;F8g=5;break;}}});Q8g=14;break;}}};b.prototype.wZ=function(){var t8g,b2w;t8g=2;while(t8g!==4){b2w="wipeH";b2w+="eaderCac";b2w+="he";switch(t8g){case 2:this.J.Ce&&this.mh(b2w);this.Na.Rka();this.Jf&&delete this.Jf;t8g=4;break;}}};b.prototype.zga=function(a){var y8g,b,c,g,f,I2w,a2w;y8g=2;while(y8g!==14){I2w="c";I2w+="a";I2w+="t";I2w+="c";I2w+="h";a2w="c";a2w+="h";a2w+="eckF";a2w+="or";a2w+="HcdStart";switch(y8g){case 4:return this.Na.OVa(),R.resolve();break;case 5:y8g=!this.ESa||!this.Na.Ic?4:3;break;case 2:b=this.J;y8g=5;break;case 3:c=function(a,b){var B2g,c,g,f,k,n,p,B2w;B2g=2;while(B2g!==13){B2w="ado";B2w+="ptPipeline no hea";B2w+="der for streamId:";switch(B2g){case 2:B2g=1;break;case 1:f=a.N;k=this.Va.lb[f];n=!this.Kh&&!this.SX&&f===h.v.VIDEO;p=b[f];B2g=9;break;case 14:return b=this.Ze[f][g].V,b=b.$j(a.Ra,void 0,!0),n=c.Th(b),c=n.S,a.J8()&&(n=n.X1(a.Ra))&&0<n.Kb&&(c=n.Kb),a.Ra!==c&&(a.Ra=c,a.Vg=b,this.cZ(f,c)),this.eNa(a,p.data),k.A3a=!0,f===h.v.AUDIO&&this.Hc.XC(p.dk.L),g;break;case 8:B2g=!p.dk?7:6;break;case 9:B2g=p&&(g=p.Wa,c=p.dk.stream,d.R(b.am)||this.Hc.kxa(b.am,b.cl,b.ek),k.pn=b.pn,k.Zk=b.Zk,k.E8a=b.am,a.Anb(g))?8:13;break;case 6:B2g=this.jga(a,this.tc,p.dk,n,!0)?14:13;break;case 7:a.Zb(B2w,g);B2g=13;break;}}}.bind(this);g=function(a){var T2g,g,f,k,Z2w,N2w,y2w;T2g=2;while(T2g!==11){Z2w="ad";Z2w+="optHcdSt";Z2w+="art";N2w="a";N2w+="dop";N2w+="tHcd";N2w+="End";y2w="che";y2w+="ckFor";y2w+="H";y2w+="cdE";y2w+="nd";switch(T2g){case 5:T2g=d.R(a)?4:3;break;case 4:b.jO||this.wZ();T2g=11;break;case 2:this.qq(y2w);T2g=5;break;case 12:this.qq(N2w);T2g=11;break;case 3:g=this.ia.Ae;f=g[h.v.AUDIO];g=g[h.v.VIDEO];this.qq(Z2w);T2g=6;break;case 6:k=!0;this.Df&&(k=c(g,a));!this.zi||b.P7a&&!k||c(f,a);T2g=12;break;}}}.bind(this);this.qq(a2w);this.xa.forEach(function(b){var r2g;r2g=2;while(r2g!==1){switch(r2g){case 4:b.M!=a||(f=b);r2g=8;break;r2g=1;break;case 2:b.M===a&&(f=b);r2g=1;break;}}});y8g=6;break;case 6:return this.Na.Ic.T$a(a,f?f.Xd:{}).then(g)[I2w](function(a){var Y2g;Y2g=2;while(Y2g!==1){switch(Y2g){case 2:this.aa(a);Y2g=1;break;case 4:this.aa(a);Y2g=7;break;Y2g=1;break;}}}.bind(this));break;}}};b.prototype.NNa=function(a,b,c,d,g){var N2g;N2g=2;while(N2g!==1){switch(N2g){case 2:return this.DSa&&this.Na.Ic&&(c=this.Na.Ic.Y4(c,d))&&this.jga(a,b,c,!1,g)?!0:!1;break;}}};b.prototype.jga=function(a,b,c,d,g){var q2g,f,h,X2w;q2g=2;while(q2g!==11){X2w="he";X2w+="a";X2w+="de";X2w+="rcach";X2w+="e";switch(q2g){case 3:return!1;break;case 2:f=this.xa[b].Xd[a.N].nl;h=c.Wa;q2g=4;break;case 4:q2g=d!=!(!c.Be&&!c.Iwb)?3:9;break;case 9:this.Ze[a.N][h]=c;c.KTa(f[h]);this.hga(a,c);c.Be&&(c.Be.source=X2w,this.oY(a,b,c.Be));q2g=14;break;case 14:g&&this.gQa(c.M,c.Wa);a.Fu&&a.up(a.iS);return!0;break;}}};b.prototype.eNa=function(a,b){var a2g,c,g,f,r,k,n,p,Y2w,K2w;a2g=2;while(a2g!==19){Y2w="ado";Y2w+="ptData, not a";Y2w+="dopting failed mediaRequest:";K2w="adop";K2w+="tDa";K2w+="ta, not adopting abort";K2w+="ed mediaRequest:";switch(a2g){case 6:a2g=0<b.length?14:12;break;case 2:a2g=1;break;case 1:a2g=0!==b.length?5:19;break;case 5:c=this.xa[0];g=a.vc;f=g.la;g=Math.min(c.Z||Infinity,g.Z||Infinity);this.EX=!0;a2g=7;break;case 10:a2g=p||this.Jf&&this.Jf.length?20:19;break;case 14:r=b.shift();a2g=13;break;case 13:r.readyState===Y.$a.ym?a.aa(K2w,r.toString()):r.readyState===Y.$a.Bm?(a.aa(Y2w,r.toString()),this.Ms(a,r,!1)):a.Ra>=r.Qd&&a.Ra<r.pf&&(a.Ra<g||!d.fa(g))?(this.fNa(a,r),a.Ra=r.pf,d.fa(g)&&a.Ra>=g&&this.HY(f,r.pf),k===h.v.AUDIO&&this.Hc.XC(r.L),r.complete?(n.En+=r.duration,r.u$a&&(n.mJ+=r.duration),p=r):(this.Jf||(this.Jf=[]),this.Jf.push(r))):this.Ms(a,r,!1);a2g=6;break;case 7:k=a.N,n=this.Va.lb[k];a2g=6;break;case 12:p&&this.Bha(p);this.EX=!1;a2g=10;break;case 20:a.Vg=this.aN(k,a.vc.oa,a.Ra),a.Le=c.hb[k].stream.Th(a.Vg);a2g=19;break;}}};b.prototype.fNa=function(a,b){var s2g,c,j2w,g2w,L2w;s2g=2;while(s2g!==9){j2w=", ";j2w+="p";j2w+="ts:";j2w+=" ";g2w=", s";g2w+="tate:";g2w+=" ";L2w="ado";L2w+="p";L2w+="tMediaR";L2w+="equest: type: ";switch(s2g){case 2:c=a.N;this.J.Ce&&this.mh(L2w+c+g2w+b.readyState+j2w+b.Qd);this.cZ(c,b.Qd);a.Ga.LTa(this,b);s2g=9;break;}}};b.prototype.iF=function(a,b,c,d,g){var k2g,f,h,k,w2w,E2w;k2g=2;while(k2g!==20){w2w="NFErr";w2w+="_MC_";w2w+="StreamingFa";w2w+="ilure";E2w="Med";E2w+="iaRequest open fa";E2w+="iled (";E2w+="2)";switch(k2g){case 4:this.Og();k2g=20;break;case 5:k2g=this.NNa(a,c.oa,b,f,d.hr)?4:3;break;case 14:d.dk=!0;a=a.Ga.SO(this,this.ia.rf,d,h,c);this.Ze[b][f]=a;k2g=11;break;case 8:k=this.Va.lb[b];h=d.hr&&!h?k.kj:this.dF;c.url&&(k.C4=c.url);k2g=14;break;case 2:f=c.id;k2g=5;break;case 3:b=a.N;h=!!d.Zw;k2g=8;break;case 11:d.hr&&g&&(g.hb[b]=a);a.Zx()?this.Og():this.Mj(E2w,w2w);k2g=20;break;}}};b.prototype.HN=function(a,b,c,g){var W2g,f,k;W2g=2;while(W2g!==8){switch(W2g){case 2:f=this.xa[b];k=f.un;this.ia.Ae.forEach(function(b){var M2g,n,p,r,u2w,k2w;M2g=2;while(M2g!==6){u2w="requestH";u2w+="eadersFromManifest, unable to update ur";u2w+="ls";k2w="requestHeade";k2w+="rs";k2w+="FromManifest,";k2w+=" shutdown dete";k2w+="cted";switch(M2g){case 3:M2g=this.ae()?9:8;break;case 2:n=b.N;M2g=5;break;case 5:M2g=this.vi[n]&&(d.R(g)||n===g)?4:6;break;case 4:p=c[n];M2g=3;break;case 9:this.aa(k2w);M2g=6;break;case 8:r=this.Va.aC(b);(r=k.cU(r,p.ac))?(p.ac=r,r=this.Va.lb[n],r=this.mha(p.ac,r.sn?r.sn.L:0),p=p.ac[r],(r=this.Ze[n][p.id])&&r.V?this.ASa(b,f,r):(n={offset:0,$:this.VM(n,p.wj,p.Qh),dD:!1,Zw:n===h.v.VIDEO,hr:!0},this.iF(b,a,p,n,f))):b.aa(u2w);M2g=6;break;}}}.bind(this));f.z3=!0;this.FM(f,b);W2g=8;break;}}};b.prototype.VOa=function(a){var p2g;p2g=2;while(p2g!==1){switch(p2g){case 2:delete this.Ze[a.N][a.Wa];p2g=1;break;}}};b.prototype.aN=function(a,b,c){var w2g,d;w2g=2;while(w2g!==6){switch(w2g){case 4:w2g=d&&d.stream.Dc?3:8;break;case 2:b=this.xa[b];d=b.hb[a];w2g=4;break;case 3:w2g=(c=d.V.$j(c),-1!==c)?9:6;break;case 7:F977.Q1w(5);return Math.round(F977.H1w(c,a));break;case 9:return c;break;case 8:w2g=(a=b.Co[a])?7:6;break;}}};b.prototype.hga=function(a,b){var i2g,c,d,g,f,k,n,p,r,v2w,s2w,i2w,J2w,e2w,m2w,c2w;i2g=2;while(i2g!==21){v2w="cou";v2w+="n";v2w+="t:";s2w="add";s2w+="Fragmen";s2w+="ts for stale manifestIn";s2w+="dex:";i2w=",";i2w+=" ";J2w=", s";J2w+="tre";J2w+="am ";e2w="), exp";e2w+="ected track";e2w+=" ";m2w=", ";m2w+="stream";m2w+="Id ";c2w="first";c2w+=" head";c2w+="er received for non-curre";c2w+="nt track (index ";switch(i2g){case 4:g=b.Wa;f=b.V;i2g=9;break;case 2:c=a.N;d=b.oa;i2g=4;break;case 13:r=this.xa[d];b.Co=f.Ll;b.hk={Yh:p,K9a:n.S,lastIndex:k-1};r.Co[c]=f.Ll;i2g=20;break;case 9:i2g=d>=this.xa.length?8:7;break;case 16:p=this.ak()[a.N];a.N===h.v.VIDEO&&0<this.J.gC&&(p=Math.min(p,this.J.gC));n=k.$Q(this.J.FI,p,n);this.J.ZJ?k.$k=n:k.tT=!n;r.hb[c]&&b!==r.hb[c]?b.hr&&(k=r.hb[c],a.aa(c2w+b.stream.Ve+m2w+b.stream.Wa+e2w+(k&&k.stream.Ve)+J2w+(k&&k.stream.Wa)+i2w+k)):(r.hb[c]=b,0===d&&(a=this.ia.rf,this.XE(d,this.Df?a.Uh(h.v.VIDEO).Ra:a.Uh(h.v.AUDIO).Ra,a)),r.vJ=!1,this.FM(r,d),this.ia.S7(this.ia.rf),this.oA(this.tc+1));this.gY();b.js||this.pQa(d,c,g,r.M,f);i2g=22;break;case 8:this.aa(s2w,d,v2w,this.xa.length);i2g=21;break;case 22:this.Og();i2g=21;break;case 7:k=b.js?60:f.length;F977.l1w(4);n=f.get(F977.H1w(k,1));p=n.S+n.duration;i2g=13;break;case 20:r.bC[c]=f.sR;b.YI&&(b.YI.forEach(function(a){var o2g;o2g=2;while(o2g!==5){switch(o2g){case 2:a=this.xa[a].Xd[c].nl;a[g]&&a[g]!==b.stream&&!a[g].Dc&&a[g].KO(b.stream);o2g=5;break;}}}.bind(this)),delete b.YI);k=r.Xd[c].nl[g];n=this.Nm.choiceMap&&this.J.vab;i2g=16;break;}}};b.prototype.FM=function(a,b){var L2g,c,d,g;L2g=2;while(L2g!==16){switch(L2g){case 17:++a;L2g=19;break;case 9:this.qZ(a,b);c=[0,0];0===b||a.xI||a.replace||(g=this.XE(b,a.S,this.ia.rf,this.ia.rf,a.M===this.xa[b-1].M),c=g.oy);L2g=6;break;case 12:this.xga(b);this.lQa(b,a.em,a.S,a.hk.Yh,this.Df?a.hb[h.v.VIDEO].hk.Yh:a.hb[h.v.AUDIO].hk.Yh);a.vJ=!0;L2g=20;break;case 2:L2g=1;break;case 3:L2g=!(this.zi&&!c||this.Df&&!d)?9:16;break;case 1:L2g=!a.vJ?5:16;break;case 20:F977.l1w(0);a=F977.F1w(1,b);L2g=19;break;case 5:c=a.hb[0]&&a.hb[0].stream.Dc;d=a.hb[1]&&a.hb[1].stream.Dc;L2g=3;break;case 18:b=this.xa[a],b.vJ=!1,this.FM(b,a);L2g=17;break;case 19:L2g=a<this.xa.length?18:16;break;case 6:a.S=c[h.v.VIDEO];a.oy=c;a.dn=g&&g.dn;L2g=12;break;}}};b.prototype.wha=function(a){var z2g;z2g=2;while(z2g!==1){switch(z2g){case 2:return a.hk?a.hk.Yh:a.Z?a.Z:a.Ca.duration;break;}}};b.prototype.xga=function(a){var J2g,b;J2g=2;while(J2g!==4){switch(J2g){case 2:J2g=1;break;case 9:J2g=2;break;J2g=1;break;case 1:b=this.xa[a];0===a||b.replace?b.em=0:(a=this.xa[a-1],b.em=a.em+this.wha(a)-b.S);J2g=4;break;}}};Y9g=149;break;case 73:b.prototype.RRa=function(){var P5g,a,b;P5g=2;while(P5g!==8){switch(P5g){case 5:P5g=a.YS?4:8;break;case 2:a=this.J;P5g=5;break;case 9:this.UE=setInterval(function(){var l5g,a,f3w;l5g=2;while(l5g!==4){f3w="v";f3w+="b";switch(l5g){case 1:a=this.Va.lb[h.v.VIDEO];(a=a.tu&&a.tu.L)&&b!==a&&(t.storage.set(f3w,a),b=a);l5g=4;break;case 2:l5g=1;break;}}}.bind(this),a.YS);P5g=8;break;case 4:this.UE&&clearInterval(this.UE);b=-1;P5g=9;break;}}};b.prototype.Ega=function(){var h5g;h5g=2;while(h5g!==7){switch(h5g){case 3:this.Gz&&(clearTimeout(this.Gz),delete this.Gz);h5g=9;break;case 9:this.cY&&(clearTimeout(this.cY),delete this.cY);this.UE&&(clearInterval(this.UE),delete this.UE);h5g=7;break;case 2:this.qt&&(clearTimeout(this.qt),this.qt=void 0);this.zM&&(clearInterval(this.zM),this.zM=void 0);this.QN&&(clearInterval(this.QN),this.QN=void 0);this.xM&&(clearInterval(this.xM),this.xM=void 0);h5g=3;break;}}};b.prototype.play=function(){var O5g,h3w,R3w;O5g=2;while(O5g!==5){h3w="pl";h3w+="a";h3w+="y";R3w="play";R3w+=" called af";R3w+="te";R3w+="r p";R3w+="ipelines already shutdown";switch(O5g){case 2:this.iia++;this.ae()?this.aa(R3w):(this.Ib.set(h.ta.Ye),this.PRa(),this.Va.lb.forEach(function(a){var Z5g,M3w;Z5g=2;while(Z5g!==1){M3w="play: not resuming bufferManager, au";M3w+="dio track sw";M3w+="itch";M3w+=" in progress";switch(Z5g){case 2:this.vi[a.N]&&(a.Yy?a.aa(M3w):this.jf[a.N].resume());Z5g=1;break;}}}.bind(this)),this.EF(),this.emit(h3w));O5g=5;break;}}};b.prototype.stop=function(){var K5g,a,z3w;K5g=2;while(K5g!==6){z3w="s";z3w+="t";z3w+="o";z3w+="p";switch(K5g){case 2:a=this.Ib.value;this.Ib.set(h.ta.Az);this.Ega();K5g=3;break;case 3:a!==h.ta.Az&&a!==h.ta.zz&&this.ia.Li.CT(!1);this.ia.Ae.forEach(function(a){var U5g;U5g=2;while(U5g!==1){switch(U5g){case 4:a.fg=-2;U5g=0;break;U5g=1;break;case 2:a.fg=!1;U5g=1;break;}}});[h.v.VIDEO,h.v.AUDIO].forEach(function(a){var g5g;g5g=2;while(g5g!==1){switch(g5g){case 2:(a=this.jf[a])&&a.pause();g5g=1;break;}}}.bind(this));K5g=7;break;case 7:this.emit(z3w);K5g=6;break;}}};b.prototype.j8=function(a,b){var X5g,c,g,f,k,n,G3w,A3w,D3w,d3w,o3w,t3w,W3w,S3w,p3w,r3w,l3w,Q3w,F3w,H3w;X5g=2;while(X5g!==39){G3w="see";G3w+="kD";G3w+="el";G3w+="ayed";A3w="s";A3w+="e";A3w+="ekFail";A3w+="ed";D3w="af";D3w+="ter seeking, playerState no lon";D3w+="ger STARTING: ";d3w="s";d3w+="e";d3w+="e";d3w+="k";o3w="s";o3w+="e";o3w+="e";o3w+="k";t3w="p";t3w+="t";t3w+="schanged";W3w="see";W3w+="kF";W3w+="ailed";S3w="se";S3w+="ek, no manifest at";S3w+=" manifestIndex:";p3w="s";p3w+="ee";p3w+="kD";p3w+="elayed";r3w=" playe";r3w+="rStat";r3w+="e: ";l3w=" media.currentPt";l3w+="s";l3w+=": ";Q3w=" curr";Q3w+="e";Q3w+="nt";Q3w+=" m";Q3w+="anifest: ";F3w=" mani";F3w+="fest";F3w+="Index";F3w+=":";F3w+=" ";H3w="s";H3w+="ee";H3w+="k";H3w+=": ";switch(X5g){case 23:X5g=!this.oA(this.tc+1)?22:33;break;case 27:f=this.Oz(this.ia.Ae,g.hb,g.Z||Infinity);f=this.zi?this.Df?Math.min(f[h.v.AUDIO].S,f[h.v.VIDEO].S):f[h.v.AUDIO].S:f[h.v.VIDEO].S;X5g=25;break;case 6:!g.xI&&0<b&&(k=this.CXa(b,a));this.Ib.set(h.ta.zz);X5g=13;break;case 29:n=this.XE(f.oa,a,f).oy;this.qZ(g,b);this.ia.Ae.forEach(function(b){var v5g,c;v5g=2;while(v5g!==4){switch(v5g){case 2:c=b.N;this.vi[c]&&this.bRa(b,n[c],a);v5g=4;break;}}}.bind(this));X5g=43;break;case 12:b<this.tc&&g.replace&&(g.replace=!1);c=this.xa[this.tc];this.ia.Ae.forEach(function(a){var e5g;e5g=2;while(e5g!==1){switch(e5g){case 2:this.Zia(a,c.hk&&c.hk.Yh);e5g=1;break;}}}.bind(this));X5g=20;break;case 25:X5g=a>f?24:33;break;case 3:g.Ce&&this.mh(H3w+a+F3w+b+Q3w+this.tc+l3w+f+r3w+this.Ib.value);X5g=9;break;case 2:g=this.J;f=this.Ed();k=a;X5g=3;break;case 22:this.Kj={oa:this.tc+1,Wq:a};this.emit(p3w);return;break;case 15:return;break;case 20:X5g=!this.Aga(b)?19:16;break;case 16:X5g=this.eG(this.ia.f3(b),!1,!0)?15:27;break;case 43:X5g=this.Ib.value!=h.ta.Ig?42:41;break;case 24:X5g=this.Kh?23:34;break;case 40:this.aa(S3w,b),this.emit(W3w);X5g=39;break;case 41:return this.emit(t3w,k),this.emit(o3w),this.MN(1),this.Og(),k;break;case 34:a=f,k=a+this.ia.wc;X5g=33;break;case 7:X5g=(g=this.xa[b])?6:40;break;case 9:d.R(b)&&(b=this.tc);this.ia.cwa();X5g=7;break;case 33:this.Ib.set(h.ta.Ig);this.ia.jlb(a,b);this.ZY(d3w);f=this.ia.rf;X5g=29;break;case 42:this.aa(D3w+this.Ib.value),this.emit(A3w);X5g=39;break;case 13:X5g=b!=this.tc?12:27;break;case 19:this.Kj={oa:b,Wq:a};this.emit(G3w);return;break;}}};b.prototype.seek=function(a,b){var V5g,c;V5g=2;while(V5g!==8){switch(V5g){case 2:c=a;d.R(b)&&(b=this.tc);this.ia.cwa();V5g=3;break;case 3:this.xa[b].xI||this.Vz||(c=this.MA(b,a));return this.j8(c,b);break;}}};b.prototype.Lmb=function(a){var u5g,b,c,d,E5g,Y3w,C3w,T3w,U3w,P3w;u5g=2;while(u5g!==20){Y3w="u";Y3w+="n";Y3w+="de";Y3w+="rfl";Y3w+="ow";C3w="bran";C3w+="c";C3w+="hOff";C3w+="se";C3w+="t:";T3w="ent";T3w+="ry.m";T3w+="anif";T3w+="estOffse";T3w+="t:";U3w="c";U3w+="on";U3w+="ten";U3w+="tP";U3w+="ts:";P3w="underflow: g";P3w+="oing to BUFFERI";P3w+="NG at play";P3w+="er pts:";switch(u5g){case 2:b=this.J;c=this.MA(this.tS,a);u5g=4;break;case 12:c=this.Na.xb.get(!1);c=c.gc?c.ka.va:0;d>b.V2a&&c>b.U2a&&this.KN();u5g=20;break;case 4:this.aa(P3w,a,U3w,c,T3w,this.Rt.em,C3w,this.ia.wc);d=b.tR;this.ia.Ae.forEach(function(c){var f5g,g,h,K3w,X3w,I3w,a3w,Z3w,N3w,y3w,B3w,b3w,q3w,n3w,V3w,O3w,x3w;f5g=2;while(f5g!==6){K3w="r";K3w+="e";K3w+="bu";K3w+="ff";K3w+="er";X3w=", nextAppe";X3w+="ndPt";X3w+="s: ";I3w=", toA";I3w+="pp";I3w+="end: ";a3w=", sen";a3w+="t";a3w+="Da";a3w+="t";a3w+="a: ";Z3w=", completeSt";Z3w+="reamingPt";Z3w+="s:";Z3w+=" ";N3w=", streami";N3w+="n";N3w+="gPts";N3w+=": ";y3w=",";y3w+=" part";y3w+="i";y3w+="al";y3w+="s: ";B3w=", totalB";B3w+="uff";B3w+="erBytes: ";b3w=", tota";b3w+="lBuffer";b3w+="Ms: ";q3w=", ";q3w+="appende";q3w+="d";q3w+="BufferBytes:";q3w+=" ";n3w=",";n3w+=" append";n3w+="edBufferMs: ";V3w=",";V3w+=" b";V3w+="ufferLevelBytes: ";O3w=",";O3w+=" med";O3w+="iaType";O3w+=":";O3w+=" ";x3w="un";x3w+="d";x3w+="er";x3w+="flow: ";switch(f5g){case 2:g=c.N;d=c.Fq<d?c.Fq:d;b.Ce&&(h=this.jf[g],h=x3w+a+O3w+g+V3w+c.Nh+n3w+c.Fq+q3w+c.mO+b3w+c.tD+B3w+c.ds+y3w+c.Ga.Eu+N3w+c.Ra+Z3w+c.IA+a3w+JSON.stringify(c.Ga.gb.Ta)+I3w+JSON.stringify(h.Mh)+X3w+h.UPa);b.Ce&&this.mh(h);c.Eo=!1;f5g=8;break;case 8:c.zva(a);b.Lo&&this.mo&&(c=this.mo,g=this.Va.lb[g],c.t8(K3w,g.C4));f5g=6;break;}}}.bind(this));this.emit(Y3w);u5g=7;break;case 7:this.MN(2);this.Og();u5g=14;break;case 14:u5g=this.Wk?13:12;break;case 13:try{E5g=2;while(E5g!==1){switch(E5g){case 4:this.H1(h.ta.rs);E5g=0;break;E5g=1;break;case 2:this.H1(h.ta.rs);E5g=1;break;}}}catch(ea){var L3w;L3w="Hindsight: Error when ev";L3w+="a";L3w+="luati";L3w+="ng";L3w+=" QoE at Buffering: ";F977.l1w(0);this.hp(F977.H1w(ea,L3w));}u5g=12;break;}}};b.prototype.Nn=function(a){var D5g,b,c,E3w;D5g=2;while(D5g!==6){E3w="s";E3w+="k";E3w+="i";E3w+="p";switch(D5g){case 3:[h.v.AUDIO,h.v.VIDEO].forEach(function(d){var b5g,g,g3w;b5g=2;while(b5g!==8){g3w="skip: no";g3w+="t resuming bufferManager, audio track s";g3w+="witch in progress";switch(b5g){case 5:g=this.Va.lb[d];this.Wk&&(g.R8=t.time.ca());b.yJ?this.jf[d].reset():g.Yy?g.aa(g3w):this.jf[d].resume();b5g=9;break;case 2:b5g=1;break;case 1:b5g=this.vi[d]?5:8;break;case 9:c(this.ia.rf,d,a);b5g=8;break;}}}.bind(this));this.Ib.set(h.ta.Ye);this.EF();D5g=7;break;case 2:b=this.J;this.ia.Li.Nn(a);c=function(a,b,d){var I5g,j3w;I5g=2;while(I5g!==5){j3w="skip: unexpected behaviour - a ";j3w+="non-pres";j3w+="enting branch doesn't have a pr";j3w+="evious branch";switch(I5g){case 2:a!==this.ia.Li&&(a.yf?c(a.yf,b,d):this.Zb(j3w));a.Xa[b].Nn(d);I5g=5;break;}}}.bind(this);D5g=3;break;case 7:this.emit(E3w);D5g=6;break;}}};b.prototype.eG=function(a,b,c){var x5g,d,k3w,w3w;x5g=2;while(x5g!==8){k3w="s";k3w+="e";k3w+="e";k3w+="k";w3w="p";w3w+="t";w3w+="scha";w3w+="n";w3w+="ged";switch(x5g){case 5:x5g=b?4:3;break;case 2:d=this.ia.eG(a,b);x5g=5;break;case 4:return d;break;case 3:d?(this.Ib.set(h.ta.zz),(a=this.ia.Li.children[a])&&this.emit(w3w,a.Ka),this.Ib.set(h.ta.Ig),this.emit(k3w),this.MN(1),this.Og(),this.Qv()):c||(a=this.ia.C6a(a),this.j8(a));return d;break;}}};b.prototype.Nha=function(a){var n5g,b;n5g=2;while(n5g!==6){switch(n5g){case 9:this.Nm=b.Ca;n5g=8;break;case 2:this.tc=a;b=this.xa[a];this.Jm=b.fs;this.Nk=b.M;n5g=9;break;case 8:this.mQa(a,b.replace,b.oy);this.Va.w7a(b.replace);n5g=6;break;}}};b.prototype.GF=function(a,b){var A5g,c,g,f,k,n,p,r,l,u,m,f9w,v3w,s3w,i3w,J3w,e3w,m3w,c3w,u3w;A5g=2;while(A5g!==43){f9w="addManifest in fa";f9w+="stplay ";f9w+="but not drm manifest, leaving space for it";v3w=",";v3w+=" ";s3w=") ";s3w+="l";s3w+="astStreamAppended: (";i3w=",";i3w+=" ";J3w=" ";J3w+="st";J3w+="rea";J3w+="mCo";J3w+="unt: (";e3w=" pl";e3w+="ay";e3w+="er";e3w+="State: ";m3w="addManifest,";m3w+=" c";m3w+="urren";m3w+="tPts: ";c3w="addMani";c3w+="fest i";c3w+="gnored, p";c3w+="ipelines already set EOS:";u3w="addM";u3w+="anifest: pi";u3w+="pelines already shutdown";switch(A5g){case 2:c=this.J;A5g=5;break;case 4:this.aa(u3w);A5g=43;break;case 3:g=this.ia.Ae;f=g[h.v.AUDIO];g=g[h.v.VIDEO];A5g=7;break;case 30:return!0;break;case 6:this.aa(c3w,f.pv,g.pv);A5g=43;break;case 14:b||(b={});b.M6&&(this.UY=!0);A5g=12;break;case 31:A5g=this.zi&&d.R(b)||this.Df&&d.R(a)?30:29;break;case 16:for(m in l){u=l[m];u.js&&(u.chb()?this.zha(f,u):this.rC(u));}f=b.fs?b.fs:this.Jm;r=this.oF(a,g,f,!1,r);A5g=26;break;case 29:this.HN(k,g,r);this.oA(this.tc+1);return!0;break;case 26:a=this.NM(k,a,n,p,r,!!b.replace,f);a.xI=a.replace;a.fs=f;A5g=23;break;case 23:a.gG=b.gG;this.xa[g]=a;this.xga(g);b.replace||this.ia.vTa(g,n,p);b=this.Va.lb[h.v.AUDIO].sn;a=this.Va.lb[h.v.VIDEO].sn;c.Ce&&this.mh(m3w+this.Ed()+e3w+this.Ib.value+J3w+r[0].ac.length+i3w+r[1].ac.length+s3w+b+v3w+a+")");A5g=31;break;case 5:A5g=this.ae()?4:3;break;case 12:g=this.xa.length;b.replace&&1!==g?g=1:this.Kh&&!b.replace&&1===g&&(this.aa(f9w),g=this.RNa(this.xa[0]),g.S2a=!0,this.xa.push(g),g=this.xa.length);k=1*a.movieId;A5g=20;break;case 20:n=b.S||0;p=b.Z;b.replace&&(r=this.xa[0].Xd);l=this.Ze[h.v.AUDIO];A5g=16;break;case 7:A5g=this.zi&&f.pv||this.Df&&g.pv?6:14;break;}}};b.prototype.oP=function(a){var H5g,b,c,g,f,z9w,h9w,M9w,R9w;H5g=2;while(H5g!==13){z9w=" readyS";z9w+="tate:";z9w+=" ";h9w=" for";h9w+=" ";h9w+="mov";h9w+="ie";h9w+="Id: ";M9w=",";M9w+=" ";R9w="drmReady";R9w+=" a";R9w+="t stream";R9w+="ing pts: ";switch(H5g){case 5:H5g=!this.ae()?4:13;break;case 9:f=g[h.v.AUDIO];g=g[h.v.VIDEO];c.Ce&&this.mh(R9w+f.Ra+M9w+g.Ra+h9w+a+z9w+b);H5g=6;break;case 2:c=this.J;H5g=5;break;case 4:d.R(b)&&(b=!0);g=this.ia.Ae;H5g=9;break;case 14:this.jf.forEach(function(a){var m5g;m5g=2;while(m5g!==5){switch(m5g){case 2:c.g2&&a.I3a();c.nU&&a.resume();m5g=5;break;}}}),this.Kh&&this.oA(this.Kj?this.Kj.oa:this.tc+1),this.gY();H5g=13;break;case 6:H5g=(this.yY[1*a]=b)?14:13;break;}}};b.prototype.BH=function(a,b){var S5g;S5g=2;while(S5g!==5){switch(S5g){case 2:a||(a=this.Nk);return(b=b&&0<=b?this.xa[b]:this.xa[this.tc])&&b.hasClearStreams&&!b.hasDrmStreams||this.yY[a];break;}}};b.prototype.Aga=function(a){var G5g,b,c,d;G5g=2;while(G5g!==10){switch(G5g){case 1:G5g=a>=this.xa.length?5:4;break;case 2:G5g=1;break;case 5:return!1;break;case 4:b=this.ia.Ae;c=b[h.v.AUDIO];b=b[h.v.VIDEO];c=!c||c.fg;d=!b||b.fg;b=this.xa[a];G5g=14;break;case 12:a=!this.Df||b.hb[h.v.VIDEO]&&b.hb[h.v.VIDEO].stream.Dc;return(!this.zi||b.hb[h.v.AUDIO]&&b.hb[h.v.AUDIO].stream.Dc)&&a?!0:!1;break;case 14:G5g=!(a===this.tc+1&&b.replace||c&&d)||!this.yY[b.M]&&!b.gG?13:12;break;case 13:return!1;break;}}};b.prototype.oA=function(a){var c5g,b;c5g=2;while(c5g!==14){switch(c5g){case 3:c5g=b.S2a||!b.replace?9:8;break;case 1:c5g=!this.Aga(a)?5:4;break;case 5:return!1;break;case 2:c5g=1;break;case 9:return!1;break;case 4:b=this.xa[a];c5g=3;break;case 8:this.jSa(a);this.Og();return!0;break;}}};b.prototype.jSa=function(a){var d5g,b,c,d,g,Q9w,F9w,H9w;d5g=2;while(d5g!==16){Q9w=",";Q9w+=" ";F9w=", st";F9w+="re";F9w+="a";F9w+="ming";F9w+="Pts: ";H9w="s";H9w+="w";H9w+="itchManif";H9w+="est man";H9w+="ifestIndex: ";switch(d5g){case 2:c=this.xa[a];d=this.ia.rf;d5g=4;break;case 4:g=d.Uh(h.v.AUDIO);g=g?g.Ra:void 0;d5g=9;break;case 9:b=(b=d.Uh(h.v.VIDEO))?b.Ra:void 0;this.J.Ce&&this.mh(H9w+a+F9w+g+Q9w+b);g=this.Kh;this.Kh=!1;d5g=14;break;case 14:c.kka&&(b=this.oF(c.Ca,a,c.fs,!1,c.Xd,h.v.AUDIO),c.Xd[h.v.AUDIO]=b[h.v.AUDIO],c.Xd[h.v.AUDIO].ac.some(function(a){var j5g;j5g=2;while(j5g!==1){switch(j5g){case 2:return a.Dc?(c.hb[h.v.AUDIO]={stream:a,V:a.V},!0):!1;break;}}}),delete c.kka);b=this.tc;d5g=12;break;case 12:g?this.ia.dhb(b,a):d.ejb(a);d.W3(a);[h.v.VIDEO,h.v.AUDIO].forEach(function(a){var Q5g,b;Q5g=2;while(Q5g!==4){switch(Q5g){case 2:b=d.Uh(a);b&&!c.replace&&(c.dn?b.vhb(c.dn[a]):(a=c.oy[a],b.whb(a)));Q5g=4;break;}}}.bind(this));d5g=20;break;case 20:this.Nha(a);this.qZ(c,a);this.gY();d5g=17;break;case 17:this.Og();d5g=16;break;}}};b.prototype.gY=function(){var F5g,a,b;F5g=2;while(F5g!==9){switch(F5g){case 1:F5g=this.Kj?5:9;break;case 5:a=this.Kj.Wq;b=this.Kj.oa;this.xa[b]&&(this.Kj=void 0,this.j8(a,b));F5g=9;break;case 2:F5g=1;break;}}};b.prototype.Pcb=function(){var C5g,a,b,c,l9w;C5g=2;while(C5g!==13){l9w="onAudioTr";l9w+="ack";l9w+="SwitchStarted ";l9w+="ignored, no audio ";l9w+="pipeline";switch(C5g){case 4:b=this.Va.lb[a.N];c=this.Ed();(c=a.Ga.eu(c))&&c.df!=a&&(a=c.df);this.cRa(a);C5g=7;break;case 2:a=this.ia.rf.Uh(h.v.AUDIO);C5g=5;break;case 5:C5g=a?4:14;break;case 14:this.aa(l9w);C5g=13;break;case 7:b.Yy=!1;this.Og();C5g=13;break;}}};b.prototype.Ocb=function(){var R5g,a;R5g=2;while(R5g!==8){switch(R5g){case 2:a=this.Va.lb[h.v.AUDIO];a.Yy=!1;this.jf[a.N].resume();R5g=3;break;case 3:delete a.QI;this.Og();R5g=8;break;}}};b.prototype.JUa=function(){var t5g,a;t5g=2;while(t5g!==3){switch(t5g){case 5:t5g=a<this.xa.length?4:3;break;case 1:a=this.tc;t5g=5;break;case 2:this.XPa(this.Ns);t5g=1;break;case 7:a=this.tc;t5g=6;break;t5g=5;break;case 4:this.xa[a++].kka=!0;t5g=5;break;case 6:t5g=a>=this.xa.length?0:4;break;t5g=a<this.xa.length?4:3;break;}}};b.prototype.llb=function(a){var y5g,b,d,g,f,k,D9w,d9w,o9w,t9w,W9w,S9w,p9w,r9w;y5g=2;while(y5g!==23){D9w="swit";D9w+="chTracks rejected, previous";D9w+=" s";D9w+="witch ";D9w+="still waiting to start";d9w=" to";d9w+=" ";d9w+="inde";d9w+="x";d9w+=": ";o9w="switchTracks";o9w+=" curre";o9w+="nt: ";t9w="switchTracks rejected, ";t9w+="previ";t9w+="ous switc";t9w+="h still in progress: ";W9w="switchTracks rejecte";W9w+="d, aud";W9w+="io disabled";S9w="switchTracks rej";S9w+="ec";S9w+="te";S9w+="d, buffering";p9w="switch";p9w+="Tracks c";p9w+="an'";p9w+="t find trackId:";r9w="switch";r9w+="Tr";r9w+="acks reje";r9w+="cte";r9w+="d, bufferLevelMs";switch(y5g){case 12:g=this.ia.Oo(h.v.VIDEO);y5g=11;break;case 10:return this.aa(r9w,g,"<",b.ER),!1;break;case 15:return!1;break;case 5:y5g=!this.zi?4:3;break;case 11:y5g=g<b.ER?10:20;break;case 18:return this.aa(p9w,f),!1;break;case 6:d=this.Va.lb[h.v.AUDIO];y5g=14;break;case 17:a=this.Jm[h.v.AUDIO];y5g=16;break;case 8:y5g=c(this.Ib.value)?7:6;break;case 7:return this.aa(S9w),!1;break;case 4:return this.aa(W9w),!1;break;case 20:f=a.yA;y5g=19;break;case 19:y5g=!this.Nm.audio_tracks.some(function(a,b){var B8g;B8g=2;while(B8g!==1){switch(B8g){case 2:return a.track_id==f?(k=b,!0):!1;break;}}})?18:17;break;case 9:return this.aa(t9w+JSON.stringify(this.Ns)),!1;break;case 16:y5g=k==a?15:27;break;case 27:b.Ce&&this.mh(o9w+a+d9w+k);d.QI={ec:f,Ve:k};this.dSa(this.ia.rf.Uh(h.v.AUDIO));return!0;break;case 3:y5g=this.Ns?9:8;break;case 2:b=this.J;y5g=5;break;case 14:y5g=d.Yy?13:12;break;case 13:return this.aa(D9w),!1;break;}}};b.prototype.pT=function(a){var T8g;T8g=2;while(T8g!==5){switch(T8g){case 2:this.sga=a;this.ia.pT(a);T8g=5;break;}}};b.prototype.hp=function(a){var r8g,G9w,A9w;r8g=2;while(r8g!==1){G9w="ase";G9w+="ex";G9w+="c";G9w+="epti";G9w+="on";A9w="as";A9w+="e";A9w+="exc";A9w+="eption";switch(r8g){case 2:this.emit(A9w,{type:G9w,msg:a});r8g=1;break;}}};Y9g=102;break;case 149:b.prototype.qZ=function(a,b){var P2g,c,d,g,f,k,n,p,r;P2g=2;while(P2g!==17){switch(P2g){case 2:c=this.J;d=a.hb[h.v.AUDIO];g=a.hb[h.v.VIDEO];P2g=3;break;case 3:P2g=(!this.zi||d&&d.stream.Dc)&&(!this.Df||g&&g.stream.Dc)?9:17;break;case 10:c=this.Df?!c.Mn||c.Tl?p[h.v.VIDEO]:this.ARa(p[h.v.AUDIO],p[h.v.VIDEO]):p[h.v.AUDIO];a.hk=c;this.nQa(b,this.Df?a.hb[h.v.VIDEO].hk.Yh:a.hb[h.v.AUDIO].hk.Yh,c.Yh);b===this.ia.wG&&((b=f.la.Z)&&b<n&&(r=this.Oz(d,a.hb,b)),g&&g.lT(r[h.v.VIDEO]),k&&k.lT(r[h.v.AUDIO]));P2g=17;break;case 8:d=f.Xa;g=d[h.v.VIDEO];k=d[h.v.AUDIO];P2g=14;break;case 9:f=this.ia.rf;P2g=8;break;case 14:n=a.Z||Infinity;r=this.Oz(d,a.hb,n);p=r.map(function(a){var l2g;l2g=2;while(l2g!==1){switch(l2g){case 2:return{Yh:a.Z,K9a:a.S,lastIndex:a.index};break;}}});r.length&&(a.$yb=r);P2g=10;break;}}};b.prototype.ARa=function(a,b){var h2g,c,d,g,P9w;h2g=2;while(h2g!==8){P9w="maxPts between streams is largely different. Choosing ";P9w+="lower m";P9w+="axPts:";switch(h2g){case 3:g<=c.rR?d=a.Yh>b.Yh?a:b:g>c.rR&&(d=a.Yh<b.Yh?a:b,this.aa(P9w,d));return d;break;case 2:c=this.J;d=b;g=Math.abs(a.Yh-b.Yh);h2g=3;break;}}};b.prototype.ZY=function(a,b){var O2g;O2g=2;while(O2g!==5){switch(O2g){case 2:this.ia.rf.reset(!0,a,b);(void 0===b?[h.v.AUDIO,h.v.VIDEO]:[b]).forEach(function(a){var Z2g;Z2g=2;while(Z2g!==4){switch(Z2g){case 2:this.jf[a].reset();this.yRa(a);this.Hc.cdb(a);Z2g=4;break;}}}.bind(this));O2g=5;break;}}};b.prototype.yRa=function(a){var K2g;K2g=2;while(K2g!==8){switch(K2g){case 3:a.mJ=0;a.connected=!1;K2g=8;break;case 2:a=this.Va.lb[a];a.tu=void 0;a.z4=void 0;a.En=0;K2g=3;break;}}};b.prototype.cZ=function(a,b){var U2g,c,g,U9w;U2g=2;while(U2g!==8){U9w="ptscha";U9w+="n";U9w+="ged";switch(U2g){case 2:c=this.ia.rf;U2g=5;break;case 5:U2g=c.Uh(a)?4:8;break;case 4:g=this.Va.lb[a];d.R(g.uo)&&(g.uo=b,a===h.v.VIDEO&&this.zi&&(a=this.Va.lb[h.v.AUDIO],d.R(a.uo)&&(c=c.Uh(h.v.AUDIO),c.up(b)),this.emit(U9w,b)));d.R(g.YF)&&(g.YF=b);U2g=8;break;}}};b.prototype.POa=function(a){var g2g,b,c,C9w,T9w;g2g=2;while(g2g!==3){C9w=" ignored";C9w+=", ";C9w+="pipeli";C9w+="nes ";C9w+="shutdown";T9w="Heade";T9w+="r ";T9w+="requ";T9w+="est";T9w+=" ";switch(g2g){case 2:b=a.df;c=b.N;g2g=4;break;case 4:this.ae()?this.aa(T9w+a+C9w):(a.aJ>a.udb&&(this.Va.lb[c].x4=a.aJ),this.zha(b,a),this.Fha=t.time.ca());g2g=3;break;}}};b.prototype.Bha=function(a){var X2g,b,c,d,g,O9w,x9w;X2g=2;while(X2g!==8){O9w="tot";O9w+="al fr";O9w+="ames";O9w+=":";x9w="han";x9w+="dleReq";x9w+="uestDone, addin";x9w+="g frame";x9w+="s:";switch(X2g){case 2:b=this.J;d=a.df;X2g=4;break;case 4:c=d.vc;g=a.oa;this.Ib.value!=h.ta.Az&&this.Ib.value!=h.ta.zz&&(this.yQa(g,d.so,d.IA),b.ml&&(d.Mw+=a.op,d.aa(x9w,a.op,O9w,d.Mw)),this.Qv()||(c=c.Uh(h.v.VIDEO))&&!c.Eo&&c.zQ&&this.Va.xH(c),this.RX(d),this.Jf&&(a=this.Jf.indexOf(a),-1!=a&&this.Jf.splice(a,1),0===this.Jf.length&&(delete this.Jf,b.jO||this.EX||this.wZ())),this.TX(d)&&this.Og());X2g=8;break;}}};b.prototype.EF=function(){var e2g,a,b,c,g,f,k,n,V9w;e2g=2;while(e2g!==19){V9w="nu";V9w+="m";V9w+="ber";switch(e2g){case 3:g=this.ia.rf;f=this.Ed()||0;k=this.MA(b,f);n=a.bU;e2g=6;break;case 14:b=this.ia.m6a(),V9w===typeof b&&b-a.T5<=k&&(n=Math.min(n,a.rVa));e2g=13;break;case 13:this.Na.Ic&&c.hk&&c.hk.Yh-f<=a.Usa&&this.Na.Ic.JF(!0,this.Hj.sessionId);this.Ib.value===h.ta.Ye&&([h.v.VIDEO,h.v.AUDIO].forEach(function(b){var v2g,c,p,r,l,u,m,n9w;v2g=2;while(v2g!==13){n9w="Una";n9w+="ble to find reque";n9w+="st presenting ";n9w+="at playerPts:";switch(v2g){case 5:c=g.Uh(b);v2g=4;break;case 3:a.una&&c.Tmb();u=c;this.RX(c,f);v2g=7;break;case 2:v2g=1;break;case 4:v2g=c?3:13;break;case 7:(m=c.Ga.eu(f))?(u=m.dd-f,u<n&&(n=u),l=this.Va.lb[b],r=m.oa,u=m.df,this.Df&&b!==h.v.VIDEO||(this.ia.Cu(m,m.kk),r>this.nN?(this.nN=r,this.kQa(r,f,m.kk),k=this.MA(r,f)):this.Vz&&m.kk!=l.M9a&&this.AQa(m.kk)),u.Cu(m),l.M9a=m.kk,p=m.Wa,p!=l.z4&&(l.z4=p,b=this.xa[r].Xd[b].nl,b=b[p],r=this.MA(r,m.Ka),this.wQa(u,m.Ka,r,b.oa,b.so,b.Se)),m=m.L,d.R(m)||m==c.Eua||(c.Eua=m)):c.aa(n9w,f);this.dRa(u,f);this.ia.Jfb();v2g=13;break;case 1:v2g=this.vi[b]?5:13;break;}}}.bind(this)),this.RY=!1,this.ia.Qn(f,k));this.Og();this.qt&&clearTimeout(this.qt);e2g=20;break;case 6:e2g=a.TG||a.sna?14:13;break;case 2:a=this.J;b=this.tS;c=this.xa[b];e2g=3;break;case 20:this.qt=setTimeout(this.EF.bind(this),n);e2g=19;break;}}};b.prototype.Og=function(){var V2g,a;V2g=2;while(V2g!==4){switch(V2g){case 9:a=this.J;V2g=0;break;V2g=5;break;case 5:!this.wia||this.RY||this.iw||this.pw||(this.iw=setTimeout(function(){var u2g;u2g=2;while(u2g!==4){switch(u2g){case 2:clearTimeout(this.iw);delete this.iw;this.dha();u2g=4;break;}}}.bind(this),a.E6),a.ZA&&this.Df&&(this.sM||(this.sM=setTimeout(function(){var f2g;f2g=2;while(f2g!==4){switch(f2g){case 2:clearTimeout(this.sM);delete this.sM;this.gga(this.ia.rf.Uh(h.v.VIDEO));f2g=4;break;}}}.bind(this),a.bTa))));V2g=4;break;case 2:a=this.J;V2g=5;break;}}};b.prototype.dha=function(){var E2g,a,b,c,q9w;E2g=2;while(E2g!==11){q9w="firstDriv";q9w+="e";q9w+="Streami";q9w+="ng";switch(E2g){case 5:void 0===this.fOa&&(this.fOa=!0,this.qq(q9w));a=this.ia.Ae;b=a[h.v.AUDIO];a=a[h.v.VIDEO];E2g=8;break;case 2:E2g=1;break;case 1:E2g=!this.eja&&!this.ae()?5:11;break;case 8:c=!a||a.fg;(!b||b.fg)&&c&&this.Vz&&this.ia.VWa(this.tc,a?a.Z:b.Z);a=!a||a.FDa;b&&!b.FDa||!a||this.Vz||(this.Na.Ic&&this.Na.Ic.JF(!0,this.Hj.sessionId),this.wta());this.bha(this.ia.rf);this.ia.Ae.forEach(function(a){var D2g;D2g=2;while(D2g!==1){switch(D2g){case 2:this.cSa(a);D2g=1;break;case 4:this.cSa(a);D2g=8;break;D2g=1;break;}}}.bind(this));E2g=11;break;}}};b.prototype.TX=function(a){var I2g;I2g=2;while(I2g!==1){switch(I2g){case 2:return this.ae()||this.Ib.value==h.ta.Az||this.Ib.value==h.ta.zz||this.Va.lb[a.N].Yy||this.EX?!1:!0;break;}}};b.prototype.bha=function(a,b){var b2g,d,g,f,k,n,b9w;b2g=2;while(b2g!==11){b9w="Still in bu";b9w+="ffering st";b9w+="ate while pipeline'";b9w+="s are done";switch(b2g){case 6:b2g=(this.Df&&this.cha(a,g,f),this.zi&&this.cha(a,f,g),k=!f||f.fg,n=!g||g.fg,!n||!k)?14:13;break;case 14:return;break;case 13:c(this.Ib.value)&&(this.aa(b9w),this.Qv());b||d.lD||this.Kh||!a.AWa()||((b=c(this.Ib.value))&&this.J.Y0&&(this.KN(),b=!1),a.VP||this.ia.$7a(a,b),a.NF(),g.Opa&&f.Opa&&(g=Object.keys(a.children),this.J.q1a&&1===g.length&&!a.children[g[0]].active&&this.ia.esa(a,g[0]),this.hOa(a,d)));b2g=11;break;case 2:d=a.la;g=a.Xa[h.v.VIDEO];f=a.Xa[h.v.AUDIO];k=!f||f.fg;n=!g||g.fg;d.j6||this.ia.gcb(a,d,this.Kh&&0===a.oa);b2g=7;break;case 7:b2g=!n||!k?6:13;break;}}};b.prototype.hOa=function(a,b){var x2g,c,g,f,h,k,n,p,r,B9w;x2g=2;while(x2g!==22){B9w="No subb";B9w+="ranch candid";B9w+="a";B9w+="tes";B9w+=" to drive";switch(x2g){case 16:c=n[0].vc;g=n[0].weight;x2g=27;break;case 12:c=n.reduce(function(a,b){var H2g,R6k;H2g=2;while(H2g!==4){switch(H2g){case 2:b.Mi=b.vc.Mi;b.Tsa=Math.min(b.Mi[0],b.Mi[1]);F977.l1w(6);R6k=F977.F1w(218,9,15,13,15);return[a[0]+b.weight,a[R6k]+b.Tsa];break;}}},[0,0]);p=c[0];r=c[1];x2g=20;break;case 13:x2g=1<n.length?12:19;break;case 4:h=a.Iz.Mi;x2g=3;break;case 5:x2g=this.aA&&a.Iz?4:9;break;case 9:x2g=!c?8:25;break;case 27:a.Iz=c;x2g=26;break;case 20:0!==p&&0!==r?(d.Ac(n,function(a){var m2g;m2g=2;while(m2g!==4){switch(m2g){case 2:a.Vnb=a.weight/p;a.yVa=a.Tsa/r;a.gza=a.yVa-a.Vnb;m2g=4;break;}}}),n.sort(function(a,b){var S2g;S2g=2;while(S2g!==1){switch(S2g){case 4:return a.gza*b.gza;break;S2g=1;break;case 2:return a.gza-b.gza;break;}}})):n.sort(function(a,b){var G2g;G2g=2;while(G2g!==4){switch(G2g){case 2:a=Math.min.apply(null,a.vc.Mi);b=Math.min.apply(null,b.vc.Mi);F977.l1w(4);return F977.H1w(a,b);break;}}});x2g=19;break;case 2:f=this.J;x2g=5;break;case 3:Math.min(h[0]-a.Dga[0],h[1]-a.Dga[1])>=f.IWa?a.Iz=void 0:(c=a.Iz,g=b.jj[c.la.id].weight);x2g=9;break;case 18:this.aa(B9w);return;break;case 19:x2g=0===n.length?18:16;break;case 8:k=[];n=[];d.Ac(a.children,function(a,c){var n2g;n2g=2;while(n2g!==5){switch(n2g){case 2:c=b.jj[c].weight;0!==c&&(c={weight:c,vc:a},a.FA(f.Zh,!0)||n.push(c),k.push(c));n2g=5;break;}}}.bind(this));0===n.length?n=k:2<n.length&&(n.sort(function(a,b){var A2g;A2g=2;while(A2g!==1){switch(A2g){case 2:return b.weight-a.weight;break;case 4:return b.weight%a.weight;break;A2g=1;break;}}}),n.length=2);x2g=13;break;case 26:a.Dga=c.Mi;x2g=25;break;case 25:c.Ec||(c.Ec={OQ:t.time.ca(),vy:0});c.Ec.weight=g;this.bha(c,!0);x2g=22;break;}}};b.prototype.cha=function(a,b,g){var c2g,f,k,n,y9w;c2g=2;while(c2g!==35){y9w="drivePipeline, delaying audio until vid";y9w+="eo ";y9w+="actualStartPts determined";switch(c2g){case 23:return;break;case 27:c2g=(k=this.EOa(b,f))?26:35;break;case 5:k=b.N;c2g=4;break;case 13:c2g=!(!this.TX(b)||f.xP&&!c(this.Ib.value)&&(n=this.Na.xb)&&(k=n.t6a(),(n=n.get())&&n.ka&&k&&!1===k.lWa(n.ka.va))||f.una&&!c(this.Ib.value)&&0>=b.Gx)?12:35;break;case 4:c2g=!(b.fg||!this.Va.lb[k].kj||b.Fu&&(b.up(b.iS),b.Fu))?3:35;break;case 8:c2g=f.Mn&&k===h.v.AUDIO&&d.R(this.Va.lb[h.v.VIDEO].uo)?7:6;break;case 16:c2g=this.Bga(b,f).LK?15:27;break;case 26:b.J9a=f.L,this.qPa(b,f,k,g.LC),a.Ec&&++a.Ec.vy;c2g=35;break;case 24:c2g=!g?23:22;break;case 3:n=this.xa[this.tc];c2g=9;break;case 18:return;break;case 12:c2g=this.Cga(b,g)?11:25;break;case 19:c2g=d.R(f)?18:17;break;case 11:b.A4=t.time.ca();g=this.Va.xH(b);f=g.Se;c2g=19;break;case 2:f=this.J;c2g=5;break;case 14:this.Kh&&d.R(n.Z)&&d.R(a.Z)||(b.fg||this.Zia(b),this.tc<this.xa.length-1&&this.oA(this.tc+1));c2g=35;break;case 17:f=b.ac[f];c2g=16;break;case 7:b.aa(y9w);c2g=35;break;case 15:return;break;case 6:c2g=(d.R(b.Vg)&&(b.Vg=b.Le?b.Le.index:this.aN(k,a.oa,b.Ra)),b.Hi&&b.Vg>b.Hi.index)?14:13;break;case 25:g=this.rPa(b,g);c2g=24;break;case 9:c2g=n.hk&&!d.R(n.hk.Yh)?8:35;break;case 22:f=g.Se;c2g=21;break;case 21:f=b.ac[f];c2g=27;break;}}};b.prototype.RX=function(a,b){var d2g,c,g;d2g=2;while(d2g!==3){switch(d2g){case 4:!g.la.lD||this.Vz||this.UY||(d.R(b)&&(b=this.Ed()||0),b-=g.wc,a.fg&&!a.pv&&b+c.Flb>=a.Z&&0===a.Ga.Eu&&0===a.Ga.BK&&this.dQa(a));d2g=3;break;case 2:c=this.J;g=a.vc;d2g=4;break;}}};b.prototype.qPa=function(a,b,g,f){var j2g,k,n,p,l,u,m,v,q,c9w,u9w,k9w,w9w,E9w,j9w,g9w,L9w,Y9w,K9w,X9w,I9w,a9w,Z9w,N9w;j2g=2;while(j2g!==34){c9w="to pipe";c9w+="line.requ";c9w+="e";c9w+="stedFrames";c9w+=":";u9w="make";u9w+="Re";u9w+="quest adding:";k9w="ed";k9w+="itP";k9w+="t";k9w+="s:";w9w="frameD";w9w+="urat";w9w+="ion:";E9w="editing last requ";E9w+="est ";E9w+="to frame:";j9w="makeRequest over stal";j9w+="l ";j9w+="point:";g9w="f";g9w+="ast";g9w+="pl";g9w+="a";g9w+="y:";L9w="past fragmen";L9w+="t";L9w+="s length:";Y9w="mak";Y9w+="eRequest nextFragmen";Y9w+="tInd";Y9w+="e";Y9w+="x:";K9w="NFErr_";K9w+="MC_Streamin";K9w+="gFailure";X9w="M";X9w+="edia";X9w+="Request ";X9w+="open faile";X9w+="d (1)";I9w="ma";I9w+="keRequest";I9w+=" caught:";a9w=" ";a9w+="native";a9w+=": ";Z9w="MediaR";Z9w+="e";Z9w+="q";Z9w+="uest.op";Z9w+="en error: ";N9w="!continueD";N9w+="riving in requestC";N9w+="reated";switch(j2g){case 3:l=a.N;u=this.Va.lb[l];g=g.V;m=a.Vg;j2g=6;break;case 6:j2g=m>=g.length?14:13;break;case 2:k=this.J;n=a.vc;p=b.url;j2g=3;break;case 24:this.cZ(l,g.S);g.oxa(new r(n.wc,1E3));t.time.ca();f=a.Ga.SO(this,n,g,u.kj,b,f);f.Zx()?(f.op=m,u.ura=b.Ub,d.fa(u.Zk)||(u.pn=b.rib,u.MH=b.MH||-1,u.Zk=b.L,u.E8a=b.r8,d.R(b.r8)||this.Hc.kxa(b.r8,b.cl,b.ek)),p&&(u.C4=g.url),k.xP&&this.Na.xb.Rm(t.time.ca(),g.$),this.TX(a)||a.aa(N9w),a.ijb(f.pf,g.index+1),this.QNa(a),this.Og()):(a.aa(Z9w+f.Zl+a9w+f.zn),f.readyState!==Y.$a.ym&&(a.aa(I9w,f.Zl),this.Mj(X9w,K9w)));j2g=34;break;case 14:a.aa(Y9w,m,L9w,g.length,g9w,this.Kh);j2g=34;break;case 13:g=this.COa(a,b,g,m);m=g.ina.Xw(b.Ha);j2g=11;break;case 11:j2g=k.ml?10:26;break;case 16:g.fm({Mc:m,Kb:q},!0);j2g=15;break;case 20:m=m-(a.op+m-k.ml);v=m*b.Ha.Pe;q=g.S+v;a.aa(j9w,k.ml,E9w,m,w9w,v,k9w,q);j2g=16;break;case 27:a.aa(u9w,m,c9w,a.op);j2g=26;break;case 26:c(this.Ib.value)&&++a.F_;g.$o&&l===h.v.VIDEO&&this.HY(n.la,g.Z);j2g=24;break;case 15:a.op+=m;j2g=27;break;case 10:j2g=a.op+m>k.ml?20:15;break;}}};b.prototype.AZ=function(a,b){var Q2g;Q2g=2;while(Q2g!==1){switch(Q2g){case 2:return this.Ms(a.df,a,b);break;case 4:return this.Ms(a.df,a,b);break;Q2g=1;break;}}};b.prototype.Ms=function(a,b,c){var F2g,d,g;F2g=2;while(F2g!==14){switch(F2g){case 2:d=this.J;g=b.abort();b.Ke();b.Lf&&b.Lf.clear();d.xw||a.Ga.EJ(b);this.jf[a.N].EJ(b);F2g=7;break;case 7:!0===c&&this.Og();return g;break;}}};b.prototype.bRa=function(a,b,c){var C2g;C2g=2;while(C2g!==9){switch(C2g){case 2:a.yyb=c;a.up(b);a.dwa();this.Jf&&0<this.Jf.length&&(this.Jf.forEach(function(a){var R2g;R2g=2;while(R2g!==1){switch(R2g){case 2:this.AZ(a,!1);R2g=1;break;case 4:this.AZ(a,~5);R2g=8;break;R2g=1;break;}}}.bind(this)),delete this.Jf);this.Lia(a);C2g=9;break;}}};b.prototype.dSa=function(a){var t2g,b,c,m9w;t2g=2;while(t2g!==3){m9w="no ne";m9w+="w";m9w+="A";m9w+="u";m9w+="dioTrack set";switch(t2g){case 2:b=a.N;c=this.Va.lb[b];d.R(c.QI)?a.aa(m9w):(this.jf[b].pause(),c.Yy=!0,this.YPa(this.Nm,this.Jm[h.v.AUDIO],c.QI.Ve));t2g=3;break;}}};b.prototype.cRa=function(a){var y2g,b,c,d,g,f,e9w;y2g=2;while(y2g!==31){e9w="audioT";e9w+="rackC";e9w+="h";e9w+="an";e9w+="ge";switch(y2g){case 2:b=this.J;c=a.vc;d=this.Va.lb[a.N];y2g=3;break;case 3:this.Ns=d.QI;g=this.Ed();f=this.Rt;g=g-c.wc;this.Jm[h.v.AUDIO]=this.Ns.Ve;y2g=14;break;case 19:d.fH=void 0;d.Zk=void 0;this.ZY(e9w,h.v.AUDIO);y2g=16;break;case 14:d.QI=void 0;f.fs[h.v.AUDIO]=this.Ns.Ve;this.Jf&&0<this.Jf.length&&(this.Jf=this.Jf.filter(function(b){var B4g;B4g=2;while(B4g!==4){switch(B4g){case 1:return!0;break;case 2:B4g=b.N===h.v.VIDEO?1:5;break;case 5:this.Ms(a,b,!1);B4g=4;break;case 7:this.Ms(a,b,+6);B4g=3;break;B4g=4;break;}}}.bind(this)),0===this.Jf.length&&(delete this.Jf,b.jO||this.wZ()));this.Lia(a);d.sn=void 0;d.Xh=void 0;y2g=19;break;case 16:this.ia.gxa(c,!0);this.ia.bwa(c);this.GX[h.v.AUDIO]=this.Na.Boa(this.Nm,this.Jm,h.v.AUDIO)[h.v.AUDIO];b=function(b){var T4g,c,d,g,f;T4g=2;while(T4g!==11){switch(T4g){case 6:d=c.Xd[h.v.AUDIO].ac.some(function(a){var r4g;r4g=2;while(r4g!==1){switch(r4g){case 2:return f=this.Ze[h.v.AUDIO][a.id];break;}}}.bind(this));delete a.Le;delete a.Hi;T4g=12;break;case 4:g=this.oF(c.Ca,b,this.Jm,this.Kh,d,h.v.AUDIO);g[h.v.VIDEO]=d[h.v.VIDEO];c.Xd=g;d=!1;T4g=7;break;case 12:d?(c.hb[h.v.AUDIO]=f,c.vJ=!1,f.stream.Dc&&this.FM(c,this.tc)):(delete c.hb[h.v.AUDIO],c.vJ=!1,this.HN(c.M,b,c.Xd,h.v.AUDIO));T4g=11;break;case 7:T4g=c.z3?6:11;break;case 2:c=this.xa[b];d=c.Xd;T4g=4;break;}}}.bind(this);y2g=25;break;case 24:y2g=c<this.xa.length?23:21;break;case 22:++c;y2g=24;break;case 25:c=this.tc;y2g=24;break;case 23:b(c);y2g=22;break;case 21:a.up(g);a.dwa();a.zva(g);this.ia.rf.W3(this.tc);f.hb[h.v.AUDIO]&&f.hb[h.v.AUDIO].stream.Dc&&this.ia.S7(this.ia.rf);y2g=31;break;}}};b.prototype.bja=function(a,b,c){var Y4g,g,i9w,J9w;Y4g=2;while(Y4g!==4){i9w="video";i9w+="_l";i9w+="oca";i9w+="t";i9w+="ion";J9w="l";J9w+="oc";J9w+="a";J9w+="ti";J9w+="on";switch(Y4g){case 2:g=this.J.c6;Y4g=5;break;case 5:d.R(b)||d.R(c)||(a.location=b,a.Vc=c,(J9w===g||i9w===g&&a.N===h.v.VIDEO)&&this.Na.xb.mT(b),this.Hc.$cb(a.N,b));Y4g=4;break;}}};b.prototype.rZ=function(){var N4g,a,b,c,g,f,v9w,s9w;N4g=2;while(N4g!==20){v9w="mani";v9w+="f";v9w+="ests:";s9w="upda";s9w+="teR";s9w+="equestUrls, no";s9w+=" manifestEnt";s9w+="ry:";switch(N4g){case 2:a=[];b=0;N4g=4;break;case 4:c=this.Rt;N4g=3;break;case 9:return this.Zb(s9w,this.tc,v9w,this.xa.length),!1;break;case 6:N4g=0<a.length?14:10;break;case 3:N4g=!c?9:8;break;case 8:g=c.un;this.ia.Ae.forEach(function(b){var q4g,c,R6w,f6w;q4g=2;while(q4g!==8){R6w="location";R6w+=" selector is gone, session has b";R6w+="een closed";f6w="location ";f6w+="selector returned null st";f6w+="reamLis";f6w+="t";switch(q4g){case 2:q4g=1;break;case 1:q4g=this.MB(b.N)?5:8;break;case 5:q4g=g?4:9;break;case 4:c=this.Va.aC(b);g.cU(c,b.ac)?(b=b.Ga.$mb(b.nl,this.bja.bind(this)),0<b.length&&a.push.apply(a,b)):b.aa(f6w);q4g=8;break;case 9:b.aa(R6w);q4g=8;break;}}}.bind(this));N4g=6;break;case 14:f={};a.forEach(function(a){var a4g,c;a4g=2;while(a4g!==4){switch(a4g){case 2:c=a.oa;a.Vb&&c>this.tc&&(f[a.oa]=!0,++b);a4g=4;break;}}}.bind(this));d.Ac(f,function(a,b){var s4g;s4g=2;while(s4g!==5){switch(s4g){case 2:a=this.xa[b];this.HN(a.M,b,a.Xd);s4g=5;break;}}}.bind(this));return b===a.length?!0:!1;break;case 10:return!0;break;}}};Y9g=161;break;case 161:b.prototype.dRa=function(a,b){var k4g,c;k4g=2;while(k4g!==3){switch(k4g){case 2:c=this.jf[a.N];a=a.Ga.Kfb(b,function(a){var W4g;W4g=2;while(W4g!==1){switch(W4g){case 4:c.EJ(a);W4g=3;break;W4g=1;break;case 2:c.EJ(a);W4g=1;break;}}});d.R(a)||this.Og();k4g=3;break;}}};b.prototype.cSa=function(a){var M4g,b,d,g;M4g=2;while(M4g!==7){switch(M4g){case 5:b=a.N;d=a.Wt.shift();d=a.ac[d];g=d.id;M4g=8;break;case 8:!this.Ze[a.N][g]&&d.ee&&(a.zT=g,b=this.VM(b,d.wj,d.Qh),this.iF(a,this.Nk,d,{offset:0,$:b,dD:!0}));M4g=7;break;case 1:M4g=!c(this.Ib.value)&&a.Wt&&0!==a.Wt.length&&!a.zT?5:7;break;case 2:M4g=1;break;}}};b.prototype.pha=function(a){var p4g,b,c,d;p4g=2;while(p4g!==14){switch(p4g){case 9:d=b.Cn&&this.ou&&b.knb;p4g=8;break;case 3:p4g=!a||-1!=a.indexOf(P.AUDIO)?9:7;break;case 2:b=this.J;c=[];a&&-1==a.indexOf(P.VIDEO)||c.push({type:P.VIDEO,openRange:!b.Cn,pipeline:b.Cn,connections:b.Cn?b.vI:1,socketBufferSize:b.X9});p4g=3;break;case 8:c.push({type:P.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:b.o_});p4g=7;break;case 7:a&&-1==a.indexOf(P.yL)||c.push({type:P.yL,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.A3});return c;break;}}};b.prototype.Kga=function(a){var w4g,b,c,M6w;w4g=2;while(w4g!==6){M6w="c";M6w+="reateDlT";M6w+="racksStart";switch(w4g){case 5:c=b.J;0===b.Uv&&b.qq(M6w);b.Uv+=a.length;a=a.map(function(a){var i4g,g,t6w,S6w,Q6w,H6w,h6w;i4g=2;while(i4g!==12){t6w="d";t6w+="e";t6w+="str";t6w+="oy";t6w+="ed";S6w="trans";S6w+="po";S6w+="rtreport";Q6w="e";Q6w+="r";Q6w+="r";Q6w+="o";Q6w+="r";H6w="networkf";H6w+="ai";H6w+="lin";H6w+="g";h6w="c";h6w+="re";h6w+="ated";switch(i4g){case 5:g.se=b;g.MF=new p();g.MF.on(g,h6w,function(){var o4g,z6w;o4g=2;while(o4g!==5){z6w="create";z6w+="DlTr";z6w+="acksEnd";switch(o4g){case 2:--b.Uv;0===b.Uv&&b.qq(z6w);o4g=5;break;}}});g.MF.on(g,H6w,function(){var L4g,F6w;L4g=2;while(L4g!==5){F6w="re";F6w+="portNetworkFaili";F6w+="ng";F6w+=":";F6w+=" ";switch(L4g){case 2:c.Ce&&b.mh(F6w+g.toString());g.Q2a&&(b.Rt.dB.kl(void 0,g.Zl,g.zn,g.exb),b.rZ());L4g=5;break;}}});i4g=8;break;case 2:g=new P(a,b.Hj);i4g=5;break;case 8:g.MF.on(g,Q6w,function(){var z4g,p6w,r6w,l6w;z4g=2;while(z4g!==5){p6w="NFErr_MC_Stre";p6w+="amin";p6w+="gFailure";r6w="Down";r6w+="loadTrack fata";r6w+="l error";l6w="Download";l6w+="Track fatal erro";l6w+="r: ";switch(z4g){case 2:c.Ce&&b.mh(l6w+JSON.stringify(a));b.Mj(r6w,p6w,g.Zl,0,g.zn);z4g=5;break;}}});g.on(S6w,function(a){var J4g,W6w;J4g=2;while(J4g!==1){W6w="tr";W6w+="ans";W6w+="portreport";switch(J4g){case 2:b.emit(W6w,a);J4g=1;break;case 4:b.emit("",a);J4g=2;break;J4g=1;break;}}});g.on(t6w,function(){var P4g;P4g=2;while(P4g!==1){switch(P4g){case 2:g.removeAllListeners();P4g=1;break;case 4:g.removeAllListeners();P4g=8;break;P4g=1;break;}}});d.R(g.cd)||g.cd();i4g=13;break;case 13:return g;break;}}});w4g=8;break;case 2:b=this;w4g=5;break;case 8:P.Di();return a;break;}}};b.prototype.eOa=function(){var l4g,a;l4g=2;while(l4g!==9){switch(l4g){case 2:a=[];this.Va.lb.forEach(function(b){var h4g;h4g=2;while(h4g!==5){switch(h4g){case 2:d.R(b.kj)||a.push(b.kj);delete b.kj;h4g=5;break;}}});l4g=4;break;case 4:this.dF&&(a.push(this.dF),delete this.dF);a.forEach(function(a){var O4g;O4g=2;while(O4g!==4){switch(O4g){case 2:a.TO||--this.Uv;a.MF.clear();a.bn();O4g=4;break;}}}.bind(this));l4g=9;break;}}};b.prototype.dOa=function(a){var Z4g,b;Z4g=2;while(Z4g!==14){switch(Z4g){case 2:b=a.N;Z4g=5;break;case 5:b==h.v.AUDIO&&(a.RS=!0,this.Hc.XC(null));a=this.Va.lb[b];b=a.kj;b.TO||--this.Uv;Z4g=8;break;case 8:b.MF.clear();b.bn();a.kj=void 0;Z4g=14;break;}}};b.prototype.Lia=function(a){var K4g,b,c,d,g,f,h;K4g=2;while(K4g!==11){switch(K4g){case 3:K4g=d?9:11;break;case 2:b=a.N;c=this.Va.lb[b];K4g=4;break;case 4:d=c.kj;K4g=3;break;case 9:f=[];for(h in this.Ze[b]){(g=this.Ze[b][h])&&!g.V&&g.track==d&&(delete this.Ze[b][h],f.push({stream:g.stream,offset:g.offset,$:g.$,Zw:g.Zw,oa:g.oa,hr:g.hr,ln:g.ln}),a.Ga.EJ(g));}this.dOa(a);K4g=6;break;case 13:c.kj=b[0];f.forEach(function(b){var U4g;U4g=2;while(U4g!==1){switch(U4g){case 2:this.iF(a,this.Nk,b.stream,b,this.xa[b.stream.oa]);U4g=1;break;}}}.bind(this));K4g=11;break;case 6:b=this.pha([b]);b=this.Kga([b[0]]);K4g=13;break;}}};b.prototype.qq=function(a){var g4g,o6w;g4g=2;while(g4g!==5){o6w="startE";o6w+="v";o6w+="e";o6w+="n";o6w+="t";switch(g4g){case 2:a={type:o6w,event:a,time:t.time.ca()};Q(this,a.type,a);g4g=5;break;}}};b.prototype.oQa=function(){var X4g,a,d6w;X4g=2;while(X4g!==4){d6w="o";d6w+="p";d6w+="enCom";d6w+="p";d6w+="lete";switch(X4g){case 2:a={type:d6w};Q(this,a.type,a);X4g=4;break;}}};b.prototype.pQa=function(a,b,c,d,g){var e4g,D6w;e4g=2;while(e4g!==1){D6w="ptsS";D6w+="t";D6w+="arts";switch(e4g){case 2:this.J.D0a||(a={type:D6w,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:g.Nxa()},Q(this,a.type,a));e4g=1;break;}}};b.prototype.cQa=function(a,b){var v4g,P6w,G6w,A6w;v4g=2;while(v4g!==4){P6w="empty";P6w+="C";P6w+="o";P6w+="nten";P6w+="tId";G6w="n";G6w+="o";G6w+="n";G6w+="e";A6w="d";A6w+="r";A6w+="m";A6w+="Header";switch(v4g){case 2:a={type:A6w,manifestIndex:a};b?(a.drmType=b.Ph,a.source=b.source,a.contentId=b.Nla,a.header=b.dk,a.prk=!!b.sfb,a.headers=b.headers):(a.drmType=G6w,a.contentId=P6w);Q(this,a.type,a);v4g=4;break;}}};b.prototype.gQa=function(a,b){var V4g,U6w;V4g=2;while(V4g!==5){U6w="hea";U6w+="derCa";U6w+="cheHit";switch(V4g){case 2:a={type:U6w,movieId:a,streamId:b};Q(this,a.type,a);V4g=5;break;}}};b.prototype.fQa=function(a,b,c,d,g){var u4g,T6w;u4g=2;while(u4g!==5){T6w="he";T6w+="aderCach";T6w+="eData";T6w+="Hit";switch(u4g){case 1:Q(this,a.type,a);u4g=5;break;case 2:a={type:T6w,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:g};u4g=1;break;case 9:Q(this,a.type,a);u4g=1;break;u4g=5;break;}}};b.prototype.nQa=function(a,b,c){var f4g,C6w;f4g=2;while(f4g!==5){C6w="max";C6w+="Positio";C6w+="n";switch(f4g){case 2:a={type:C6w,index:a,maxPts:b,endPts:c};Q(this,a.type,a);f4g=5;break;}}};b.prototype.xQa=function(a,b,c,d,g){var E4g,O6w,x6w;E4g=2;while(E4g!==4){O6w="notif";O6w+="yStreami";O6w+="ngErr";O6w+="or: ";x6w="e";x6w+="r";x6w+="r";x6w+="or";switch(E4g){case 2:a={type:x6w,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:g};this.Zb(O6w+JSON.stringify(a));Q(this,a.type,a);E4g=4;break;}}};b.prototype.gia=function(a,b){var D4g,V6w;D4g=2;while(D4g!==5){V6w="s";V6w+="eg";V6w+="m";V6w+="entStart";V6w+="ing";switch(D4g){case 2:b={type:V6w,segmentId:a.id,contentOffset:b};a.jy||Q(this,b.type,b);D4g=5;break;}}};b.prototype.rQa=function(a){var I4g,b,n6w;I4g=2;while(I4g!==4){n6w="se";n6w+="gme";n6w+="nt";n6w+="Aborted";switch(I4g){case 2:b={type:n6w,segmentId:a.id};a.jy||Q(this,b.type,b);I4g=4;break;}}};b.prototype.MOa=function(a,b){var b4g,c,g,f,Z6w,N6w,y6w,B6w,b6w,q6w;b4g=2;while(b4g!==20){Z6w="s";Z6w+="eam";Z6w+="le";Z6w+="s";Z6w+="s";N6w="r";N6w+="e";N6w+="s";N6w+="e";N6w+="t";y6w="s";y6w+="k";y6w+="i";y6w+="p";B6w="l";B6w+="o";B6w+="n";B6w+="g";b6w="l";b6w+="o";b6w+="n";b6w+="g";q6w="se";q6w+="am";q6w+="l";q6w+="e";q6w+="ss";switch(b4g){case 3:c.atRequest.weight=g;d.Ac(b.Ec,function(b,d){var x4g;x4g=2;while(x4g!==1){switch(x4g){case 2:d!=a&&(c.discard[d]={weight:b.weight},B(b.XF,c.discard[d]));x4g=1;break;}}});b4g=8;break;case 2:c={segment:a,srcsegment:b.AT,srcoffset:b.Hxa,seamlessRequested:b.aT,atRequest:{},discard:{}};f=b.Ec[a];f?(g=f.weight,B(f.XF,c.atRequest)):g=this.ia.qpa(b.AT,a);b4g=3;break;case 13:c.durationOfTransition=g;c.atTransition=b.Dya;c.srcsegmentduration=this.ia.B6a(b.AT);return c;break;case 8:g=b.aT?b.vQ?q6w:b6w:b.kta?B6w:b.Nn?y6w:N6w;c.transitionType=g;b.Y_a||(c.delayToTransition=b.dP);g=Z6w===g?0:t.time.ca()-b.startTime;b4g=13;break;}}};b.prototype.uQa=function(a,b,c){var n4g,a6w;n4g=2;while(n4g!==4){a6w="segm";a6w+="entP";a6w+="resent";a6w+="ing";switch(n4g){case 2:c=c?this.MOa(a.id,c):void 0;b={type:a6w,segmentId:a.id,contentOffset:b,metrics:c};a.jy||Q(this,b.type,b);n4g=4;break;}}};b.prototype.sQa=function(a,b){var A4g,I6w;A4g=2;while(A4g!==5){I6w="s";I6w+="egment";I6w+="Ap";I6w+="pend";I6w+="ed";switch(A4g){case 2:b={type:I6w,segmentId:a.id,metrics:b};a.jy||Q(this,b.type,b);A4g=5;break;}}};b.prototype.tQa=function(a,b,c){var H4g,X6w;H4g=2;while(H4g!==5){X6w="s";X6w+="egment";X6w+="Com";X6w+="plete";switch(H4g){case 2:a={type:X6w,mediaType:a,manifestIndex:b,segmentId:c.id};c.jy||Q(this,a.type,a);H4g=5;break;}}};b.prototype.HY=function(a,b){var m4g,K6w;m4g=2;while(m4g!==5){K6w="last";K6w+="Seg";K6w+="mentPts";switch(m4g){case 2:b={type:K6w,segmentId:a.id,pts:Math.floor(b)};a.jy||Q(this,b.type,b);m4g=5;break;}}};b.prototype.lQa=function(a,b,c,d,g){var S4g,Y6w;S4g=2;while(S4g!==5){Y6w="ma";Y6w+="nifest";Y6w+="R";Y6w+="an";Y6w+="ge";switch(S4g){case 2:a={type:Y6w,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(g)};Q(this,a.type,a);S4g=5;break;}}};Y9g=175;break;case 52:b.prototype.YH=function(a,b){var x9g;x9g=2;while(x9g!==9){switch(x9g){case 2:x9g=a===b?1:5;break;case 5:a=this.xa[a];x9g=4;break;case 1:return!0;break;case 4:b=this.xa[b];return a.Qh&&b.xI||b.Qh&&a.xI;break;}}};b.prototype.qB=function(a){var n9g;n9g=2;while(n9g!==1){switch(n9g){case 2:return this.Ze[a];break;case 4:return this.Ze[a];break;n9g=1;break;}}};b.prototype.L4a=function(a){var A9g;A9g=2;while(A9g!==5){switch(A9g){case 1:return{wc:a.wc,Ka:a.Ka,dd:a.dd,Qd:a.Qd,pf:a.pf};break;case 2:A9g=(a=this.ia.Li.children[a])?1:5;break;}}};b.prototype.b3=function(){var H9g,a;H9g=2;while(H9g!==4){switch(H9g){case 2:a=this.ia.Li;return{id:a.la.id,wc:a.wc,Ka:a.Ka,dd:a.dd,Qd:a.Qd,pf:a.pf};break;}}};b.prototype.K9=function(a,b){var m9g;m9g=2;while(m9g!==1){switch(m9g){case 4:return this.ia.K9(a,b);break;m9g=1;break;case 2:return this.ia.K9(a,b);break;}}};b.prototype.iNa=function(a,b){var S9g,c6w,u6w,k6w,w6w,E6w,j6w,g6w,L6w;S9g=2;while(S9g!==8){c6w="using";c6w+=" sab cell >= 100, pipe";c6w+="lin";c6w+="eEnable";c6w+="d: ";u6w="using sab ";u6w+="c";u6w+="ell >= 200, pipe";u6w+="l";u6w+="ineEnabled: ";k6w=", a";k6w+="l";k6w+="lowSwitchback";w6w=", pro";w6w+="beDetailDen";w6w+="ominator: ";E6w="us";E6w+="ing sab cell >= 300, p";E6w+="robeServerWhenError: ";j6w=", allow";j6w+="S";j6w+="witc";j6w+="hb";j6w+="ack";g6w=", p";g6w+="robe";g6w+="DetailDeno";g6w+="minator: ";L6w="us";L6w+="ing sab cell >= 400, probeServerW";L6w+="henError: ";switch(S9g){case 2:b=F(b,a);a=a.cdnResponseData;S9g=5;break;case 4:return b;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.Gn=!0,b.my=1,b.Dq=!0),this.yb(L6w+b.Gn+g6w+b.my+j6w+b.Dq)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.Gn=!0,b.my=1,b.Dq=!1),this.yb(E6w+b.Gn+w6w+b.my+k6w+b.Dq)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.Cn=!1,this.yb(u6w+b.Cn)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.pR}),b.set({maxPendingBufferLen:b.vR})):(b.Cn=!0,b.vI=1,b.qI=b.pR,b.dC=b.vR),this.yb(c6w+b.Cn)));return b;break;case 5:S9g=!a?4:3;break;}}};b.prototype.kNa=function(a,b){var G9g,d,g;G9g=2;while(G9g!==8){switch(G9g){case 2:G9g=1;break;case 1:G9g=!b.x0||a===this.fPa?5:4;break;case 5:return b;break;case 4:this.fPa=a;for(var c in b.x0)if(new RegExp(c).test(a)){d=b.x0[c];for(g in d){d.hasOwnProperty(g)&&(b[g]=d[g]);}}return b;break;}}};b.prototype.NM=function(a,b,c,d,g,h,f){var c9g,k,n,r,l,J6w,e6w,m6w;c9g=2;while(c9g!==9){J6w="netw";J6w+="or";J6w+="kFailur";J6w+="eR";J6w+="eset";e6w="str";e6w+="eami";e6w+="n";e6w+="gFai";e6w+="lure";m6w="lo";m6w+="gd";m6w+="a";m6w+="t";m6w+="a";switch(c9g){case 2:k=this.J;h?(l=this.xa[this.xa.length-1],n=l.J4,r=l.un,l=l.dB,r.GF(b)):(n=new p(),r=this.Lga(b,this.Kh),n.on(r,m6w,function(a){var d9g;d9g=2;while(d9g!==1){switch(d9g){case 2:Q(this,a.type,a);d9g=1;break;case 4:Q(this,a.type,a);d9g=4;break;d9g=1;break;}}},this),l=new K(this,r,this.J),n.on(l,e6w,this.TOa,this),n.on(l,J6w,this.QOa,this));k.Lo&&this.mo&&l.qjb(this.mo);return new S(a,b,h,g,c,d,n,r,l,f);break;}}};b.prototype.RNa=function(a){var j9g;j9g=2;while(j9g!==1){switch(j9g){case 2:return this.NM(a.M,a.Ca,a.S,a.Z,a.Xd,a.replace,a.fs);break;}}};b.prototype.ASa=function(a,b,c){var Q9g;Q9g=2;while(Q9g!==3){switch(Q9g){case 2:a=a.N;b.hb[a]=c;b.Co[a]=c.Co;b.bC[a]=c.V?c.V.sR:c.Co;Q9g=3;break;}}};b.prototype.PNa=function(){var F9g,a,b;F9g=2;while(F9g!==9){switch(F9g){case 2:b=0;F9g=1;break;case 1:F9g=b<this.xa.length?5:3;break;case 4:++b;F9g=1;break;case 3:this.xa.length=0;F9g=9;break;case 5:a=this.xa[b],a.J4.clear();F9g=4;break;}}};b.prototype.Lga=function(a,b){var C9g;C9g=2;while(C9g!==4){switch(C9g){case 2:b=new m(this,this.Na.xb,this.Na.jg,!b,this.J);b.GF(a);return b;break;}}};b.prototype.open=function(){var R9g,a,b,c,g,f,k,n,p,F0w,H0w,z0w,h0w,M0w,R0w,f0w,v6w,s6w,i6w;R9g=2;while(R9g!==29){F0w="NF";F0w+="Err_MC_StreamingIni";F0w+="tFailure";H0w="ex";H0w+="ception in in";H0w+="it";z0w="Er";z0w+="ror";z0w+=":";h0w="start";h0w+="pla";h0w+="y";M0w="l";M0w+="o";M0w+="g";M0w+="data";R0w="createMe";R0w+="diaSour";R0w+="c";R0w+="eEnd";f0w="Er";f0w+="ro";f0w+="r:";v6w="cr";v6w+="eate";v6w+="MediaS";v6w+="ou";v6w+="rceStart";s6w="NFErr_";s6w+="MC_Str";s6w+="eamingInitFai";s6w+="lure";i6w="s";i6w+="tartPts must be a positive numbe";i6w+="r, n";i6w+="ot ";switch(R9g){case 5:this.Mj(i6w+this.NN,s6w);R9g=29;break;case 19:g.forEach(function(a,b){var t9g;t9g=2;while(t9g!==1){switch(t9g){case 2:a.type==P.yL?this.dF=k[b]:this.Va.lb[a.type].kj=k[b];t9g=1;break;}}}.bind(this));this.qq(v6w);n=new fa(this.bA);R9g=16;break;case 24:throw this.yb(f0w,n.error),n.error;R9g=23;break;case 15:this.qq(R0w);n.zc||(n.zc=fa.zc);this.$e=n;R9g=25;break;case 20:k=this.Kga(g);R9g=19;break;case 16:R9g=n.readyState===t.MediaSource.$a.OPEN?15:30;break;case 2:R9g=1;break;case 33:a.Z_a?setTimeout(function(){var N5g;N5g=2;while(N5g!==1){switch(N5g){case 4:this.zga(b).then(p);N5g=4;break;N5g=1;break;case 2:this.zga(b).then(p);N5g=1;break;}}}.bind(this),0):this.zga(b).then(function(){var q5g;q5g=2;while(q5g!==1){switch(q5g){case 4:setTimeout(p,7);q5g=2;break;q5g=1;break;case 2:setTimeout(p,0);q5g=1;break;}}});c={type:M0w,target:h0w,fields:{audiogapconfig:a.DR,audiogapdpi:this.$e.zc&&this.$e.zc.DR}};this.emit(c.type,c);R9g=29;break;case 4:a=this.J;b=this.Nk;R9g=9;break;case 9:c=[];g=[P.yL];R9g=7;break;case 1:R9g=!d.fa(this.NN)||0>this.NN?5:4;break;case 7:this.Df&&(c.push(h.v.VIDEO),g.push(P.VIDEO));this.zi&&(c.push(h.v.AUDIO),g.push(P.AUDIO));g=this.pha(g);this.Uv=0;this.RRa();f=a.jO;this.Na.Ic&&this.Na.Ic.JF(f,this.Hj.sessionId);R9g=20;break;case 25:R9g=!n.NZ(c)?24:23;break;case 30:this.yb(z0w,n.error),this.Mj(H0w,F0w);R9g=29;break;case 23:n.sourceBuffers.forEach(function(c){var y9g,d,W0w,S0w,p0w,l0w,Q0w;y9g=2;while(y9g!==14){W0w="h";W0w+="e";W0w+="ade";W0w+="rAppen";W0w+="ded";S0w="man";S0w+="agerdebuge";S0w+="vent";p0w="l";p0w+="og";p0w+="d";p0w+="ata";l0w="e";l0w+="rro";l0w+="r";Q0w="requ";Q0w+="est";Q0w+="Appende";Q0w+="d";switch(y9g){case 3:c.addEventListener(Q0w,this.ROa.bind(this));c.addEventListener(l0w,function(a){var B5g,r0w;B5g=2;while(B5g!==1){r0w="NFErr_MC_St";r0w+="reamingFailu";r0w+="re";switch(B5g){case 4:this.Mj(a.errorstr,"");B5g=3;break;B5g=1;break;case 2:this.Mj(a.errorstr,r0w);B5g=1;break;}}}.bind(this));c.addEventListener(p0w,function(a){var T5g;T5g=2;while(T5g!==1){switch(T5g){case 4:Q(this,a.type,a);T5g=0;break;T5g=1;break;case 2:Q(this,a.type,a);T5g=1;break;}}}.bind(this));a.Ce&&c.addEventListener(S0w,function(a){var r5g;r5g=2;while(r5g!==1){switch(r5g){case 4:Q(this,a.type,a);r5g=5;break;r5g=1;break;case 2:Q(this,a.type,a);r5g=1;break;}}}.bind(this));this.jf[d]=c;y9g=14;break;case 2:d=c.N;c=new x(this.Va.lb[d].U,d,b,n,c,this.Ze[d],a);c.addEventListener(W0w,this.OOa.bind(this));y9g=3;break;}}}.bind(this));this.Xj&&this.WPa();this.Hc.bdb();this.HM&&(this.HM=!1,c=this.ia.Ae[h.v.VIDEO],g=this.Va.xH(c).Se,f=null,d.R(g)||(f=c.ac[g],f.kN&&this.Zga(!1)),(d.R(g)||d.R(f)||!f.kN)&&this.Zga(!0));p=function(){var Y5g,t0w;Y5g=2;while(Y5g!==5){t0w="shutdo";t0w+="wn dete";t0w+="cted befo";t0w+="re startRequests";switch(Y5g){case 2:this.oQa();this.ae()?this.aa(t0w):this.eSa(b);Y5g=5;break;}}}.bind(this);R9g=33;break;}}};b.prototype.Zga=function(a){var a5g,b,P0w,G0w,A0w,D0w,d0w,o0w;a5g=2;while(a5g!==3){P0w="a";P0w+="bo";P0w+="rt";P0w+="e";P0w+="d";G0w="s";G0w+="uc";G0w+="c";G0w+="es";G0w+="s";A0w="ski";A0w+="pFa";A0w+="stplay";D0w="skip";D0w+="Fa";D0w+="stpl";D0w+="ay";d0w="startp";d0w+="l";d0w+="ay";o0w="log";o0w+="dat";o0w+="a";switch(a5g){case 2:b={type:o0w,target:d0w,fields:{skipFastplayResult:""}};this.YRa&&!a&&this.Jm?(this.emit(D0w,{type:A0w}),this.Kh=!1,a=this.oF(this.Nm,0,this.Jm,!1),a=this.NM(this.Nk,this.Nm,this.Rt.S,this.Rt.Z,a),a.Qh=!1,a.T7a=!0,a.fs=this.Jm,this.xa[this.tc]=a,b.Sc.Vjb=G0w):(this.xa[this.tc].Xd[h.v.VIDEO].ac.forEach(function(a){var s5g;s5g=2;while(s5g!==1){switch(s5g){case 2:a.kN&&a.ee&&(a.ee=!1);s5g=1;break;}}}),b.Sc.Vjb=P0w);Q(this,b.type,b);a5g=3;break;}}};b.prototype.flush=function(){var k5g,a,b,c,d,g,W5g,q0w,n0w,O0w,x0w,C0w,T0w,U0w,b0w;k5g=2;while(k5g!==16){q0w="e";q0w+="ndp";q0w+="l";q0w+="ay";n0w="lo";n0w+="gd";n0w+="at";n0w+="a";O0w="en";O0w+="d";O0w+="play";x0w="logd";x0w+="a";x0w+="t";x0w+="a";C0w="th";C0w+="r";C0w+="oug";C0w+="hput-";C0w+="sw";T0w="thr";T0w+="oug";T0w+="hput-";T0w+="sw";U0w="t";U0w+="h";U0w+="rou";U0w+="ghput-sw";switch(k5g){case 2:a=this.J;b=this.Na.xb;k5g=4;break;case 20:a.VG&&b&&((d=b.get(!0))&&d[U0w]&&this.Wr.nTa({avtp:d[T0w].va,variance:d[C0w].Cg}),d&&d.avtp&&d.oj&&d.oj.Au&&this.Wr.iTa({avtp:d.avtp.va,niqr:d.oj.Au.toFixed(4)},d.avtp.Tma),a=this.Wr.X4a(),b=this.Wr.H6a(),a&&(a.n=b,a={type:x0w,target:O0w,fields:{ibef:a}},Q(this,a.type,a),this.Wr.save()));this.Xj&&this.dia();k5g=18;break;case 18:k5g=this.Wk?17:16;break;case 4:k5g=b?3:20;break;case 17:try{W5g=2;while(W5g!==1){switch(W5g){case 2:this.H1(h.ta.Az);W5g=1;break;case 4:this.H1(h.ta.Az);W5g=6;break;W5g=1;break;}}}catch(wa){var V0w;V0w="H";V0w+="indsight: Err";V0w+="or evaluating QoE at sto";V0w+="ppin";V0w+="g: ";F977.l1w(0);this.hp(F977.F1w(wa,V0w));}k5g=16;break;case 11:g&&g.length&&(c.activeRequests=JSON.stringify(g));k5g=10;break;case 13:k5g=d?12:11;break;case 10:Object.keys(c).length&&(c={type:n0w,target:q0w,fields:c},Q(this,c.type,c));k5g=20;break;case 12:for(var f in d){b0w="n";b0w+="e";d.hasOwnProperty(f)&&(c[b0w+f]=Number(d[f]).toFixed(6));}k5g=11;break;case 6:d=b.m5a();g=b.$Sa;k5g=13;break;case 3:c={};d=b.get(!0);d&&d.avtp&&d.avtp.va&&(c.avtp=d.avtp.va,c.dltm=d.avtp.Tma);b.flush();k5g=6;break;}}};b.prototype.paused=function(){var M5g;M5g=2;while(M5g!==1){switch(M5g){case 2:this.Ib.value===h.ta.Ye&&this.Ib.set(h.ta.Yn);M5g=1;break;}}};b.prototype.Qya=function(){var p5g;p5g=2;while(p5g!==1){switch(p5g){case 2:this.Ib.value===h.ta.Yn&&this.Ib.set(h.ta.Ye);p5g=1;break;}}};b.prototype.close=function(){var w5g,a,b,N0w,y0w,B0w;w5g=2;while(w5g!==17){N0w="en";N0w+="d";N0w+="play";y0w="l";y0w+="og";y0w+="da";y0w+="t";y0w+="a";B0w="c";B0w+="l";B0w+="o";B0w+="s";B0w+="e";switch(w5g){case 14:w5g=b<a.length?13:11;break;case 8:w5g=a.wP?7:20;break;case 2:a=this.J;this.UQa=!0;this.stop();this.emit(B0w);this.pw=!1;w5g=8;break;case 7:this.TN.Tq();w5g=6;break;case 6:a=this.TN.xf([.25,.5,.75,.9,.95,.99]),b=0;w5g=14;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;w5g=12;break;case 12:b++;w5g=14;break;case 11:a={type:y0w,target:N0w,fields:{bridgestat:a}};w5g=10;break;case 20:this.Na.Ic&&this.Na.Ic.JF(!0,this.Hj.sessionId,!0);this.wta();this.Na.mRa(this);w5g=17;break;case 10:Q(this,a.type,a);w5g=20;break;}}};b.prototype.Ke=function(){var i5g,a,a0w,Z0w;i5g=2;while(i5g!==11){a0w="Error on MediaSource";a0w+=" dest";a0w+="roy: ";Z0w="i";Z0w+="nac";Z0w+="ti";Z0w+="ve";switch(i5g){case 2:this.Ji.removeEventListener(Z0w,this.$ha);this.Hc.Scb();this.Ega();this.ia.Ke();i5g=9;break;case 9:this.eOa();this.Ib.set(h.ta.zz);this.PNa();this.Lf.clear();i5g=14;break;case 14:a=this.$e;delete this.$e;d.R(a)||a.bn()||this.aa(a0w,a.error);i5g=11;break;}}};b.prototype.suspend=function(){var o5g;o5g=2;while(o5g!==1){switch(o5g){case 2:this.eja=!0;o5g=1;break;case 4:this.eja=+1;o5g=3;break;o5g=1;break;}}};b.prototype.resume=function(){var L5g;L5g=2;while(L5g!==5){switch(L5g){case 2:this.eja=!1;this.Og();L5g=5;break;}}};b.prototype.ae=function(){var z5g;z5g=2;while(z5g!==1){switch(z5g){case 2:return this.UQa||this.ia.U8a;break;case 4:return this.UQa&&this.ia.U8a;break;z5g=1;break;}}};b.prototype.PRa=function(){var J5g,a;J5g=2;while(J5g!==7){switch(J5g){case 2:a=this.J;this.qt&&clearTimeout(this.qt);this.qt=setTimeout(this.EF.bind(this),a.bU);this.zM||(this.zM=setInterval(this.eia.bind(this),a.BA));this.QN||(this.QN=setInterval(this.zQa.bind(this),a.b9));J5g=8;break;case 8:this.Xj&&!this.xM&&(this.xM=setInterval(this.dia.bind(this),a.f_));J5g=7;break;}}};Y9g=73;break;case 252:I0w;Y9g=251;break;case 191:b.prototype.O6a=function(a){var L6k,b,c,d,g,f,h;L6k=2;while(L6k!==13){switch(L6k){case 5:L6k=b?4:13;break;case 2:b=this.ia.rf.Uh(a);L6k=5;break;case 4:c=this.Va.lb[a];d=b.ds;c=c.sn?c.sn.L:0;L6k=8;break;case 8:g=b.Ga.nua;f=this.ia.wc;h=this.ak()[a];return{type:a,availableMediaBuffer:h-d,completeBuffer:b.Ad,incompleteBuffer:g,playbackBitrate:b.Eua,streamingBitrate:c,streamingTime:b.Ra+f,usedMediaBuffer:d,toappend:b.Pnb};break;}}};b.prototype.zQa=function(){var z6k,a,X0w;z6k=2;while(z6k!==9){X0w="s";X0w+="t";X0w+="reamingst";X0w+="a";X0w+="t";switch(z6k){case 2:this.J.F$a&&t.memory.x5a(this.nPa.bind(this));a={type:X0w,time:t.time.ca(),playbackTime:this.Ed()};z6k=4;break;case 4:this.Hc.i3a(a);Q(this,a.type,a);z6k=9;break;}}};b.prototype.dia=function(){var J6k,a,K0w;J6k=2;while(J6k!==4){K0w="a";K0w+="se";K0w+="report";switch(J6k){case 2:a={type:K0w};this.Qia.g3a(a)&&Q(this,a.type,a);J6k=4;break;}}};b.prototype.WPa=function(){var P6k,a,Y0w;P6k=2;while(P6k!==4){Y0w="as";Y0w+="ereport";Y0w+="en";Y0w+="abl";Y0w+="ed";switch(P6k){case 2:a={type:Y0w};Q(this,a.type,a);P6k=4;break;}}};b.prototype.iQa=function(a){var l6k,b,c,d,g,f,h,k,n,p,r,l,u,m,v,q,w,A,F,x,D,L0w,w0w,E0w,j0w,g0w;l6k=2;while(l6k!==7){L0w="hi";L0w+="nds";L0w+="igh";L0w+="trep";L0w+="ort";switch(l6k){case 1:l6k=a?5:7;break;case 2:l6k=1;break;case 5:b={type:L0w};c=this.J.CH;for(d in c){w0w="h";w0w+="v";w0w+="mafdp";E0w="hvm";E0w+="a";E0w+="f";E0w+="g";E0w+="r";j0w="h";j0w+="vm";j0w+="a";j0w+="ftb";g0w="h";g0w+="t";g0w+="w";g0w+="b";g0w+="r";g=c[d];f=0;h=0;k=0;n=0;p=0;r=0;m=!1;v=-1;q=-1;w=-1;A=-1;F=-1;x=-1;for(D in a){u=a[D];void 0===u.nd&&(l=(l=u.sols)&&l[g])&&(m=!0,k+=l.dlvdur,f+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur);r+=u.pbdur;n+=u.pbtwbr*u.pbdur;p+=u.pbvmaf*u.pbdur;l=u.rr;u=u.ra;}0<r&&(v=1*n/r,A=1*p/r);m&&(0<k&&(q=1*f/k,F=1*h/k),0<k+r&&(w=1*(f+n)/(k+r),x=1*(h+p)/(k+r)));switch(g){case g0w:b.htwbr=w;b.hptwbr=q;b.pbtwbr=v;l&&(b.rr=l,b.ra=u);break;case j0w:b.hvmaftb=x;b.hpvmaftb=F;b.pbvmaftb=A;l&&(b.rrvmaftb=l,b.ravmaftb=u);break;case E0w:b.hvmafgr=x;b.hpvmafgr=F;b.pbvmafgr=A;l&&(b.rrvmafgr=l,b.ravmafgr=u);break;case w0w:b.hvmafdp=x,b.hpvmafdp=F,b.pbvmafdp=A,l&&(b.rrvmafdp=l,b.ravmafdp=u);}}this.A1&&(b.report=a);Q(this,b.type,b);l6k=7;break;}}};b.prototype.dQa=function(a){var h6k,b,c0w,u0w,k0w;h6k=2;while(h6k!==5){c0w="en";c0w+="dOfStrea";c0w+="m";u0w=" ";u0w+="l";u0w+="en";u0w+="gth:";u0w+=" ";k0w="notifyEndOfS";k0w+="tream ignored, more manifests";k0w+=", inde";k0w+="x: ";switch(h6k){case 2:a.pv||(this.tc+1<this.xa.length?a.aa(k0w+this.tc+u0w+this.xa.length):(this.jf[a.N].l6(),b={type:c0w,mediaType:a.N},Q(this,b.type,b),a.pv=!0));h6k=5;break;}}};b.prototype.bQa=function(a){var O6k,m0w;O6k=2;while(O6k!==5){m0w="cre";m0w+="ater";m0w+="e";m0w+="que";m0w+="st";switch(O6k){case 2:a={type:m0w,mediaRequest:a};Q(this,a.type,a);O6k=5;break;}}};b.prototype.ohb=function(){var Z6k,a,e0w;Z6k=2;while(Z6k!==4){e0w="requestGa";e0w+="rbageColl";e0w+="e";e0w+="ct";e0w+="ion";switch(Z6k){case 2:a={type:e0w,time:t.time.ca()};Q(this,a.type,a);Z6k=4;break;}}};b.prototype.mh=function(a){var K6k,i0w,J0w;K6k=2;while(K6k!==5){i0w="man";i0w+="a";i0w+="gerdebuge";i0w+="v";i0w+="ent";J0w=",";J0w+=" ";switch(K6k){case 2:a="@"+t.time.ca()+J0w+a;Q(this,i0w,{message:a});K6k=5;break;}}};b.prototype.Mj=function(a,b,c,g,f){var U6k,s0w;U6k=2;while(U6k!==1){s0w="NFErr_MC_Str";s0w+="eaming";s0w+="Failure";switch(U6k){case 2:this.pw||(d.R(b)&&(b=s0w),this.pw=!0,this.xQa(b,a,c,g,f));U6k=1;break;}}};b.prototype.TOa=function(a){var g6k,b,d,g,p7w,r7w,l7w,Q7w,F7w,H7w,z7w,h7w,M7w,R7w,f7w,v0w;g6k=2;while(g6k!==7){p7w=" > Res";p7w+="etting f";p7w+="a";p7w+="ilures";r7w="NFE";r7w+="rr_MC_Streamin";r7w+="gFailur";r7w+="e";l7w="Temporary failure w";l7w+="hi";l7w+="le buff";l7w+="ering";Q7w=" > We are ";Q7w+="buffe";Q7w+="ring, cal";Q7w+="ling it!";F7w="NFErr_MC_Stream";F7w+="ingFail";F7w+="ure";H7w="Perman";H7w+="e";H7w+="nt fa";H7w+="i";H7w+="lure";z7w=" > Permane";z7w+="nt failure, ";z7w+="done";h7w=", l";h7w+="ast n";h7w+="ative ";h7w+="c";h7w+="ode: ";M7w=", las";M7w+="t http";M7w+=" code: ";R7w=", la";R7w+="st err";R7w+="or";R7w+=" code: ";f7w=" is pe";f7w+="rmanen";f7w+="t:";f7w+=" ";v0w="Streaming ";v0w+="failur";v0w+="e, state i";v0w+="s ";switch(g6k){case 2:b=a.g9a;d=a.vdb;g=a.wdb;g6k=3;break;case 3:a=a.xdb;this.aa(v0w+h.ta.name[this.Ib.value]+f7w+b+R7w+d+M7w+g+h7w+a);b?(this.aa(z7w),this.Mj(H7w,F7w,d,g,a)):c(this.Ib.value)?(this.aa(Q7w),this.Mj(l7w,r7w,a,g,a)):(this.aa(p7w),this.Rt.dB.JC());g6k=7;break;}}};b.prototype.QOa=function(){var X6k,S7w;X6k=2;while(X6k!==3){S7w="Network fa";S7w+="il";S7w+="ures reset!";switch(X6k){case 5:this.rZ();this.Og();X6k=3;break;case 2:this.aa(S7w);this.pw=!1;X6k=5;break;case 6:this.rZ();this.Og();X6k=1;break;X6k=3;break;}}};b.prototype.fRa=function(a){var e6k,b;e6k=2;while(e6k!==9){switch(e6k){case 2:b=this.J.fJ.fallbackBound;void 0===this.cO&&(this.cO=[]);void 0===this.cO[a]&&(this.cO[a]=Math.floor(2*Math.random()*b)-b);return this.cO[a];break;}}};b.prototype.zha=function(a,b){var v6k,f,c,d,g,h,U7w,P7w,G7w,A7w,D7w,d7w,o7w,t7w,W7w;v6k=2;while(v6k!==33){U7w="sy";U7w+="nthe";U7w+="s";U7w+="ized per ";U7w+="chunk vmafs: ";P7w="fragme";P7w+="nt c";P7w+="ou";P7w+="nt:";G7w=", ";G7w+="bu";G7w+="t no ";G7w+="headers seen, marking pipeline drmReady";A7w="drm header";A7w+=" heade";A7w+="r: ";D7w="parsed";D7w+=" per chun";D7w+="k vmafs: ";d7w=", ";d7w+="o";d7w+="ffs";d7w+="et:";d7w+=" ";o7w=", ";o7w+="dura";o7w+="tion:";o7w+=" ";t7w=", ";t7w+="s";t7w+="tartP";t7w+="ts: ";W7w="frag";W7w+="ment";W7w+=":";W7w+=" ";switch(v6k){case 7:v6k=f<g?6:12;break;case 27:++f;v6k=16;break;case 17:f=0;v6k=16;break;case 6:h=d.get(f);a.yb(W7w+f+t7w+h.S+o7w+h.duration+d7w+h.offset);v6k=13;break;case 4:v6k=c.U0?3:12;break;case 20:v6k=c.fJ.simulatedFallback?19:24;break;case 13:++f;v6k=7;break;case 12:v6k=c.fJ&&c.fJ.enabled?11:24;break;case 10:a.yb(D7w+b.zk),d.zk=b.zk;v6k=24;break;case 35:this.jf[b.N].kcb();this.dha();v6k=33;break;case 8:f=0;v6k=7;break;case 24:this.hga(a,b);b.Be&&(a.Be=b.Be,this.oY(a,b.oa,a.Be));b.Zw&&!b.$0a&&(a.aa(A7w+b.toString()+G7w),this.oP(this.xa[b.oa].M),this.oY(a,b.oa));v6k=21;break;case 2:c=this.J;d=b.V;v6k=4;break;case 3:g=d.length;a.yb(P7w,g);v6k=8;break;case 16:v6k=f<g?15:26;break;case 15:c[f]=b.stream.Hb+this.fRa(f),0>c[f]&&(c[f]=0);v6k=27;break;case 26:F977.Q1w(0);a.yb(F977.F1w(c,U7w));v6k=25;break;case 11:v6k=void 0!==b.zk?10:20;break;case 21:b.dD&&(a.zT=void 0);v6k=35;break;case 19:g=d.length;c=[];v6k=17;break;case 25:d.zk=c;v6k=24;break;}}};b.prototype.oF=function(a,b,c,d,g,f){var V6k,k,n,p,r,l,C7w,T7w;V6k=2;while(V6k!==13){C7w="video_t";C7w+="r";C7w+="acks";T7w="audio_t";T7w+="rac";T7w+="k";T7w+="s";switch(V6k){case 2:k=this.J;n=[];p=[T7w,C7w];V6k=3;break;case 3:r=a[p[1]].length;f===h.v.AUDIO&&p.pop();V6k=8;break;case 7:p.forEach(function(f,p){var u6k,u,m,v,q,w,A;u6k=2;while(u6k!==11){switch(u6k){case 7:f=c[p];A=w[f];w.forEach(function(c,g){var f6k,f,h,n;f6k=2;while(f6k!==8){switch(f6k){case 2:f=Z.$P(b,a,p,g,void 0,this.U);h=c.streams;n={};f6k=3;break;case 3:k.IT.enabled&&k.IT.profiles&&k.IT.profiles.forEach(function(a){var E6k;E6k=2;while(E6k!==1){switch(E6k){case 2:n[a]={action:k.IT.action,applied:!1};E6k=1;break;}}});h.forEach(function(a,c){var D6k,g,r,m,w,A,F,O7w,x7w,t6k;D6k=2;while(D6k!==27){O7w="n";O7w+="o";O7w+="ne";x7w="k";x7w+="ee";x7w+="pLo";x7w+="west";switch(D6k){case 12:F.inRange=!1;D6k=11;break;case 18:d&&k.W2a&&0===b?(w=1,c<h.length-1&&a.L==h[c+1].L&&w++,0<c&&a.L==h[c-1].L&&w++,g&&1==w&&(this.HM=F.ee=!0)):this.HM=!1;D6k=17;break;case 13:D6k=m<k.Rsa||m>k.msa?12:11;break;case 10:F.inRange=!1;D6k=20;break;case 17:F.inRange&&F.ee&&m>this.sN[p]&&(this.sN[p]=m);q[r]=O.q2(f,c,F,this.J,this.U);(a=v&&v[r])&&a.Dc&&(q[r].KO(a),c=this.ak()[p],q[r].$k=q[r].$Q(a.V,this.J.FI,c));D6k=27;break;case 11:D6k=w<k.Ssa||w>k.nsa?10:20;break;case 3:A=a.content_profile;F={inRange:!0,ee:!0};D6k=8;break;case 20:n.hasOwnProperty(A)&&x7w===n[A].action&&(n[A].applied?F.inRange=!1:n[A].applied=!0);l=l||g;D6k=18;break;case 7:F977.l1w(4);t6k=F977.F1w(9,10);g=t6k==a.content_profile.indexOf(O7w);F.ee=d&&!g||!d&&g;F.ee&&this.sga&&B(this.oga(a.content_profile,a.bitrate,this.sga),F);D6k=13;break;case 2:r=a.downloadable_id;m=a.bitrate;w=a.vmaf;D6k=3;break;case 8:D6k=u?7:17;break;}}},this);f6k=8;break;}}},this);w=A.streams.map(function(a){var I6k;I6k=2;while(I6k!==1){switch(I6k){case 2:return q[a.downloadable_id];break;case 4:return q[a.downloadable_id];break;I6k=1;break;}}});u6k=12;break;case 2:u=p===h.v.VIDEO;m=p===h.v.AUDIO;u6k=4;break;case 4:u6k=this.vi[p]?3:11;break;case 3:v=g?g[p].nl:void 0;q={};w=a[f];u6k=7;break;case 12:n[p]={Ve:f,so:f+(m?r:0),ac:w,nl:q,uib:A,ye:void 0};u6k=11;break;}}},this);l&&n[1]&&n[1].ac&&n[1].ac.forEach(function(a){var b6k;b6k=2;while(b6k!==1){switch(b6k){case 2:a.el||(a.Qh=!0);b6k=1;break;}}});return n;break;case 8:l=!1;V6k=7;break;}}};b.prototype.SOa=function(a,b){var x6k;x6k=2;while(x6k!==1){switch(x6k){case 2:this.GX[a.N]=this.Na.Coa(b);x6k=1;break;}}};b.prototype.ONa=function(a,b,c,d){var n6k,g,f,k,n,p,n7w,V7w;n6k=2;while(n6k!==20){n7w="sta";n7w+="rt";n7w+="play";V7w="l";V7w+="og";V7w+="d";V7w+="at";V7w+="a";switch(n6k){case 2:g=a.N;f=this.xa[b];b=f.un;k=f.Xd[g].nl[c];c=this.Va.lb[g];n6k=8;break;case 7:f=b.T2().filter(function(a){var A6k,y6k;A6k=2;while(A6k!==1){switch(A6k){case 4:F977.l1w(7);y6k=F977.H1w(10,14,3,4);return~y6k==a.Lb[k.id];break;A6k=1;break;case 2:return void 0!==a.Lb[k.id];break;}}})[0],n=f.children.filter(function(a){var H6k;H6k=2;while(H6k!==1){switch(H6k){case 2:return a.Gc.some(function(a){var m6k;m6k=2;while(m6k!==1){switch(m6k){case 2:return a.stream.id===k.id;break;case 4:return a.stream.id!=k.id;break;m6k=1;break;}}});break;}}})[0],k.uS=f.id,k.W6=n.id;n6k=6;break;case 6:f=k.location===k.uS;n=k.Ub===k.W6;n6k=13;break;case 13:d&&k.Ub&&!c.ux?(p=h.je.Ks,k.qm=h.je.name[p],this.hia(a,k.Ub,k.qm,k.location,k.L),c.ux=k.Ub):k.Ub&&k.Ub!==c.ux&&(p=k.qm,p=n?void 0===c.ux?h.je.Ks:b.TC===h.je.NW?h.je.eLa:h.je.wU:h.je.dLa,k.qm=h.je.name[p],this.hia(a,k.Ub,k.qm,k.location,k.L),c.ux=k.Ub);c.QB||(n={type:V7w,target:n7w,fields:{}},g===h.v.AUDIO?n.fields.alocid=k.location:g===h.v.VIDEO&&(n.fields.locid=k.location),this.emit(n.type,n));d&&k.location&&!c.QB?(p=h.je.Ks,k.qm=h.je.name[p],this.fia(a.N,k.location,k.P4,k.Ub,k.Cy,k.qm,k.mp),c.QB=k.location):k.location&&k.location!==c.QB&&(p=k.qm,p=f?void 0===c.QB?h.je.Ks:b.TC===h.je.NW?h.je.MFa:h.je.wU:h.je.LFa,k.qm=h.je.name[p],this.fia(a.N,k.location,k.P4,k.Ub,k.Cy,k.qm,k.mp),delete k.mp,c.QB=k.location);n6k=10;break;case 8:n6k=void 0===k.uS||void 0===k.W6?7:6;break;case 10:this.J.Gn||(k.rra=k.location,k.tra=k.Ub);n6k=20;break;}}};b.prototype.Yx=function(a){var S6k,q7w;S6k=2;while(S6k!==1){q7w="reques";q7w+="tError i";q7w+="gnored, pipelines";q7w+=" shutdown, mediaRe";q7w+="quest:";switch(S6k){case 2:this.ae()?this.aa(q7w,a):(a.Vb||this.vta(a.df,a.oa,a.Wa,a.Ka),this.ONa(a.df,a.oa,a.Wa,a.Vb),this.bja(a,a.location,a.Vc));S6k=1;break;}}};b.prototype.Du=function(a){var G6k,b7w;G6k=2;while(G6k!==1){b7w="onfirstb";b7w+="yte ignored";b7w+=",";b7w+=" pipelines shutdown";b7w+=", mediaRequest:";switch(G6k){case 2:this.ae()?this.aa(b7w,a):a.RZ||(this.Va.lb[a.N].connected=!0);G6k=1;break;}}};b.prototype.XI=function(a){var c6k,b,y7w,B7w;c6k=2;while(c6k!==7){y7w="r";y7w+="eq";y7w+="uestProg";y7w+="ress";B7w="onprogress ignored, pipe";B7w+="lines s";B7w+="hut";B7w+="down, mediaRequest:";switch(c6k){case 1:c6k=this.ae()?5:4;break;case 5:this.aa(B7w,a);c6k=7;break;case 2:c6k=1;break;case 4:b=this.Oe;this.Hc.Mta(this.Qc-this.jk,a.im,b);this.J.wP&&this.TN.push(a.w4);this.emit(y7w,{timestamp:b,url:a.url});c6k=7;break;}}};b.prototype.$h=function(a){var d6k,Z7w,N7w;d6k=2;while(d6k!==1){Z7w="requ";Z7w+="es";Z7w+="tComplete";N7w="oncomplete ignored, pipelines ";N7w+="shutdown, mediaR";N7w+="equest:";switch(d6k){case 2:this.ae()?this.aa(N7w,a):(this.pw&&(this.pw=!1,this.xa[a.oa].dB.JC(!0)),a.RZ||(this.Hc.Mta(this.Qc-this.jk,a.im,a.Oe),a.Vb||this.Hc.hdb(a.N,a.duration,a.Qc,a.KB)),a.Vb?(this.POa(a),this.ohb()):this.Bha(a),this.J.wP&&this.TN.push(a.w4),this.emit(Z7w,{timestamp:a.Oe,mediaRequest:a}));d6k=1;break;}}};b.prototype.rC=function(a){var j6k,b,K7w,X7w,I7w,a7w;j6k=2;while(j6k!==4){K7w="NFErr_MC";K7w+="_Streami";K7w+="ngFailure";X7w=", e";X7w+="r";X7w+="ror";X7w+="msg:";X7w+=" ";I7w="M";I7w+="P";I7w+="4 parsing e";I7w+="r";I7w+="ror on: ";a7w="requestError ignored";a7w+=", pipelines";a7w+=" shutdown, mediaRequ";a7w+="est:";switch(j6k){case 2:b=a.Zl;this.ae()?this.aa(a7w,a):a.Vb&&a.parseError?(this.aa(I7w+a+X7w,a.parseError),this.Mj(a.parseError)):(this.J.o7a&&b===Y.ws.LV&&0<a.Qc&&(b=Y.ws.CU),this.xa[a.oa].dB.kl(a.status,b,a.zn,{url:a.url}),this.rZ()||this.Mj(a.O1,K7w,b,a.status,a.zn));j6k=4;break;}}};f.K=b;Y9g=252;break;}}function c(a){var W9g;W9g=2;while(W9g!==1){switch(W9g){case 2:return a===h.ta.rs||a===h.ta.Hs;break;}}}function b(a,b,c,d,g,f,k,r,u){var N9g,m,k7w,E7w,j7w,g7w,L7w,Y7w,Q6k;N9g=2;while(N9g!==90){k7w="m";k7w+="e";k7w+="di";k7w+="acache";E7w="media|";E7w+="as";E7w+="ejs";j7w="A";j7w+="S";j7w+="E";j7w+="J";j7w+="S";g7w="i";g7w+="n";g7w+="ac";g7w+="ti";g7w+="ve";L7w="ma";L7w+="na";L7w+="gerd";L7w+="ebug";L7w+="event";Y7w="SideChan";Y7w+="nel: pbcid is mis";Y7w+="s";Y7w+="ing.";switch(N9g){case 73:this.ia=new D(this,this.Hc,b.choiceMap,this.NN,u);this.Va=new w(this.Na,this,u);N9g=71;break;case 14:N9g=void 0===this.bA||void 0===this.bA.Ed?13:12;break;case 50:u.Lo&&(f&&f.gS?(f.vVa=u.TL.lv,f.Hab=u.TL.mx,this.mo=new y(f.gS,f,this)):this.hp(Y7w));a=Math.floor(1E6*Math.random());this.Wk=0===a%u.I3&&0<u.CH.length;f&&f.De&&(this.Wk=!1);N9g=46;break;case 68:N9g=(this.Xj=0===Math.floor(1E6*Math.random())%u.xA)?67:66;break;case 18:this.DSa=g.BD;this.ESa=g.eU;this.Vz=g.V$a;this.aA=g.kS;N9g=27;break;case 43:this.sM=this.dF=void 0;this.iia=0;N9g=41;break;case 7:this.Hj=f;this.bA=r;N9g=14;break;case 63:f=this.Lga(b,this.Kh).L6a();a=null;u.VG&&(a=this.Na.Wr.mt);N9g=60;break;case 53:this.Lf.on(this.Na.Ic,L7w,function(a){var q9g;q9g=2;while(q9g!==1){switch(q9g){case 2:Q(this,a.type,a);q9g=1;break;case 4:Q(this,a.type,a);q9g=6;break;q9g=1;break;}}}.bind(this));N9g=52;break;case 56:this.$ha=this.Hc.adb.bind(this.Hc);this.Ji.addEventListener(g7w,this.$ha);c=this.NM(this.Nk,b,0,g.Z,d,!1,c);c.Qh=g.Qh;c.T7a=!0;this.xa=[c];N9g=73;break;case 71:N9g=this.Wk?70:68;break;case 52:N9g=(u.iza||u.Vy)&&this.Na.Ic?51:50;break;case 27:this.YRa=g.GBb;this.vi=[!0,!0];g.vCb?this.vi[h.v.AUDIO]=!1:g.Tub&&(this.vi[h.v.VIDEO]=!1);this.iw=void 0;N9g=23;break;case 8:this.Na=a;N9g=7;break;case 66:G.call(this);N9g=90;break;case 70:m=this;N9g=69;break;case 67:this.Qia=new z(this,u);N9g=66;break;case 54:N9g=u.Ce&&this.Na.Ic?53:52;break;case 46:this.A1=this.Wk&&0===a%u.H3;this.Xj=0===a%u.xA;this.Ze=[Object.create(null),Object.create(null)];this.jf=[];N9g=63;break;case 13:this.bA={path:f.cc,Ed:f.Ed,U2:f.U2};N9g=12;break;case 12:this.J=u=this.iNa(b,u);this.UY=g.M6;this.Kh=g.Qh;this.SX=g.gG;this.HM=!1;N9g=18;break;case 23:this.rOa=t.time.ca()+g.$wb;this.Ib=new aa(h.ta.Ig);N9g=21;break;case 60:u.wP&&(this.TN=new l(u.oca.c,u.oca.maxc));this.sN=[0,0];d=this.oF(b,0,c,g.Qh);this.Hc=new q(this,f,this.Na.xb,u,this.psa(),a);N9g=56;break;case 2:this.U=new t.Console(j7w,E7w,"("+f.sessionId+")");this.Zb=this.U.error.bind(this.U);this.aa=this.U.warn.bind(this.U);this.yb=this.U.trace.bind(this.U);this.Ya=this.U.log.bind(this.U);N9g=8;break;case 41:this.nN=-1;this.yY=Object.create(null);this.on=this.addEventListener=n.addEventListener;this.removeEventListener=n.removeEventListener;this.emit=this.Fa=n.Fa;N9g=36;break;case 36:this.Lf=new p();N9g=54;break;case 30:this.tc=0;this.GX=k;this.pw=!1;this.Jm=c;N9g=43;break;case 69:this.Ib.addListener(function(a){var s9g,k9g;s9g=2;while(s9g!==1){switch(s9g){case 2:try{k9g=2;while(k9g!==1){switch(k9g){case 2:m.Va.Umb.bind(m.Va)(a);k9g=1;break;}}}catch(Sa){var w7w;w7w="Hindsight: ";w7w+="Error when adding";w7w+=" updatePlaySegment Liste";w7w+="ner: ";F977.l1w(0);m.hp(F977.H1w(Sa,w7w));}s9g=1;break;}}});N9g=68;break;case 51:this.Lf.on(this.Na.Ic,k7w,function(a){var a9g,u7w;a9g=2;while(a9g!==1){u7w="m";u7w+="e";u7w+="diacach";u7w+="e";switch(a9g){case 4:Q(this,"",a);a9g=6;break;a9g=1;break;case 2:Q(this,u7w,a);a9g=1;break;}}}.bind(this));N9g=50;break;case 21:this.pi=void 0;this.xZ=f.ha;F977.l1w(1);Q6k=F977.F1w(17,407,20,4,13);this.Nk=Q6k*b.movieId;this.Dl=b.duration;this.NN=d||0;this.Nm=b;N9g=30;break;}}}}());},function(f,d,a){var c,k,h,g,n,p;function b(a,b,d){n=d;p=d.map(function(a,b){return a.ee&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});if(null===g)return a=k(d),g=d[a].L,new h(a);if(!p.length)return null;a=p.filter(function(a){return d[a].L==g;})[0];return void 0===a?(c.log("Defaulting to first stream due to unvalid bitrate requested: "+g),new h(p[0])):new h(a);}a(8);a(13);d=a(36);a=a(9);c=d.console;k=d.Z1;h=d.Hm;g=null;n=null;p=null;a.xWa&&(a.xWa.iD={cd:function(){p=n=g=null;},s8:function(a){g=a;},ayb:function(){return{all:n,fza:p};}});f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){(function(){var c7w,b,h8w;c7w=2;while(c7w!==8){h8w="1S";h8w+="IY";h8w+="b";h8w+="Zr";h8w+="NJCp9";switch(c7w){case 4:a(36);f.K={checkBuffering:function(a,d,f,g,n){var m7w,h,k,l,m,q,x,w,M8w,R8w,f8w,v7w;m7w=2;while(m7w!==38){M8w="ou";M8w+="t";M8w+="of";M8w+="range";R8w="h";R8w+="ig";R8w+="h";R8w+="t";R8w+="p";f8w="ma";f8w+="xsiz";f8w+="e";v7w="n";v7w+="o";v7w+="rebuff";switch(m7w){case 16:return l<d.L&&(m=Math.min(f,Math.max(n.zJ*(d.L/l-1),m))),{complete:!1,yy:m,ai:(q-h.by)/(q+(m-(h.Ra-h.ze))*d.L/8)};break;case 21:m=d.V.Bd(a);n=Math.min(a+Math.floor(n.zJ/m),d.V.length-1);w=d.V.il(n);m=8*x/l-h.ze;m7w=32;break;case 10:m7w=!l?20:19;break;case 31:m7w=n>a?30:41;break;case 41:return{complete:!0,reason:v7w};break;case 7:m7w=l<=n.d5&&(0<l||!n.I1)?6:14;break;case 6:return{complete:!1,oI:!0};break;case 20:return{complete:!1,yy:m};break;case 40:0<l&&l<d.L&&(m=Math.min(f,Math.max(n.zJ*(d.L/l-1),m)));return{complete:!1,yy:m,ai:c(m)};break;case 14:m=n.Zh*(a.state===b.ta.Hs?n.u7:1);n.G1a&&d.pa&&d.pa.Yf&&d.pa.Yf.va>n.X4&&(m+=n.OZ+d.pa.Yf.va*n.y6);g&&(m+=g.UO*n.PZ);m7w=11;break;case 32:--n;m7w=31;break;case 8:return{complete:!0,reason:f8w};break;case 15:a=d.V.$j(h.Ra);m7w=27;break;case 24:m7w=k>=m?23:40;break;case 2:h=a.buffer;k=a.Ad||h.ij-h.ze;l=d.ka||0;m7w=3;break;case 11:m=f?Math.min(f,m):m;m7w=10;break;case 22:return{complete:!0,reason:R8w};break;case 27:m7w=-1===a?26:25;break;case 17:m7w=!d.V||!d.V.length?16:15;break;case 19:q=0;h.V.forEach(function(a){var J7w;J7w=2;while(J7w!==1){switch(J7w){case 2:q+=a.S+a.duration>h.ze?a.$:0;J7w=1;break;}}});m7w=17;break;case 25:x=d.V.il(a);m7w=24;break;case 42:--n;m7w=31;break;case 44:return m=Math.min(f,k+w),{complete:!1,yy:m,ai:c(m)};break;case 30:g=d.V.get(n);w=8*w/l-g.S-m;m7w=28;break;case 26:return{complete:!0,reason:M8w};break;case 43:w=g.offset;m7w=42;break;case 28:m7w=0<w?44:43;break;case 23:m7w=l>d.L*n.JP?22:21;break;case 3:m=0;m7w=9;break;case 9:m7w=k>=f?8:7;break;}}function c(a){var e7w;e7w=2;while(e7w!==5){switch(e7w){case 2:a=d.V.NP(h.ze+a,void 0,!0);return(q-h.by)/(q+(a.offset+a.$)-x);break;}}}}};h8w;c7w=8;break;case 2:a(8);b=a(13);c7w=4;break;}}}());},function(f,d,a){(function(){var z8w,c,d,h,g,r8w;z8w=2;function b(a,b,d,f){var H8w,k,l8w,Q8w;H8w=2;while(H8w!==11){l8w="player ";l8w+="mis";l8w+="sing streami";l8w+="n";l8w+="gIndex";Q8w="Must have a";Q8w+="t least one ";Q8w+="select";Q8w+="ed str";Q8w+="eam";switch(H8w){case 2:h(!c.R(f),Q8w);h(c.fa(b.qk),l8w);H8w=4;break;case 4:b=g(f);H8w=3;break;case 3:f=d.length-1;H8w=9;break;case 8:k=d[f];H8w=7;break;case 14:--f;H8w=9;break;case 7:H8w=k.pa&&k.pa.ka&&k.L<k.pa.ka.va-a.Blb?6:14;break;case 9:H8w=-1<f?8:13;break;case 6:return b.fd=f,b;break;case 13:b.fd=0;return b;break;}}}while(z8w!==13){r8w="1S";r8w+="IYbZ";r8w+="rN";r8w+="JC";r8w+="p9";switch(z8w){case 2:c=a(8);a(13);z8w=4;break;case 4:d=a(36);a(9);h=d.assert;g=d.Hm;d=a(141);f.K={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:b,PAUSED:b};r8w;z8w=13;break;}}}());},function(f,d,a){var c;function b(a,b,d){return new c(d.length-1);}a(8);c=a(36).Hm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){var c;function b(){return new c(0);}a(8);c=a(36).Hm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){var k;function b(a,b){if(!a)throw Error("Conv Net assertion failed"+(b?" : "+b:""));}function c(a,b,c,d,f){this.YM=a;this.ZM=a[0].length;this.qga=b;this.fZ=c;this.wN=d;this.cia=f;}a(8);a(9);k=a(31).tanh;c.prototype.constructor=c;c.prototype.forward=function(a){var c,d,f,h,l;c=a.length;b(0===(a.length-this.ZM+2*this.wN)%this.fZ,"inputs' dimension does not fit into this conv layer");b(this.YM.length===this.qga.length,"the number of filters need to match the number of biases");if(0<this.wN){f=[];for(d=0;d<this.wN;d++)f.push(0);a=f.concat(a).concat(f);}f=[];for(d=0;d<=a.length-this.ZM;d+=this.fZ)for(var m=0;m<this.YM.length;m++)h=this.YM[m],l=this.qga[m],h=this.H8a(a.slice(d,d+this.ZM),h)+l,"tanh"===this.cia?f.push(k(h)):b(!1,"Unsupported NL type: "+this.cia);b(f.length===this.YM.length*((c-this.ZM+2*this.wN)/this.fZ+1),"outputs dimension is wrong!");return f;};c.prototype.H8a=function(a,c){b(a.length===c.length,"");for(var d=0,g=0;g<a.length;g++)d+=a[g]*c[g];return d;};f.K=c;},function(f,d,a){(function(){var p8w,w,z,y,F,K,t,da,P,Y,R,fa,Z,O,G,B,e50;function D(a,b,c){var B8w,d,g,f,h,k,n,p;B8w=2;while(B8w!==12){switch(B8w){case 4:k=fa(c.gamma||1,.1,10);n=c.filter;c=!!c.simpleScaling;p=a.ka&&a.ka.va||0;a=Math.pow(Math.max(1-(a[n]&&a[n].va||p)/h,0),k);B8w=6;break;case 2:Array.isArray(c.curves)?(d=Z(c.curves[0],0,0,1),g=Z(c.curves[1],0,0,1)):f=Z(c.curves,0,0,1);h=fa(c.threshold||6E3,1,1E5);B8w=4;break;case 6:b=b.ij-b.ze;f?g=O(f,b,a)*a:c?(d=O(d,b,1),g=O(g,b,1),g=d*a+g*(1-a)):g=O(G(d,g,a),b,1);return g;break;}}}function l(a,b,c,d,g,f,h){var U8w,i0b,N0b;U8w=2;while(U8w!==9){i0b="s";i0b+="of";i0b+="tm";i0b+="a";i0b+="x";N0b="t";N0b+="a";N0b+="nh";switch(U8w){case 2:null===f?a=a.RT.concat(a.kya).concat(a.wO).concat(a.lla):(f=f.forward(a.kya),a=a.RT.concat(f).concat(a.wO).concat(a.lla));c=r(a,c,void 0,N0b);b=h?void 0:r(c,d,b,i0b);U8w=4;break;case 4:g=r(c,g,void 0,void 0)[0];return{Qeb:b,znb:g,zyb:a};break;}}}function q(a,b,c,d,g,f,h,k,n,p){var C8w,O8w,r,l,u,v,q,w,A,D,y,K,z,x8w,x,s0b,r0b,P0b,m0b,e0b,g0b,D0b,U0b,p0b;C8w=2;while(C8w!==64){s0b="Cannot use mappi";s0b+="ng strategy w";s0b+="hen using mean!";r0b="m";r0b+="e";r0b+="a";r0b+="n";P0b="r";P0b+="e";P0b+="lat";P0b+="iv";P0b+="e";m0b="hi";m0b+="ghestL";m0b+="o";m0b+="werThan";e0b="d";e0b+="irec";e0b+="t";g0b="clo";g0b+="s";g0b+="es";g0b+="t";D0b="Invalid";D0b+=" bitrateMapStrategy co";D0b+="nfig ";D0b+="value: ";U0b="f";U0b+="a";U0b+="ct";U0b+="or";p0b="m";p0b+="app";p0b+="in";p0b+="g";switch(C8w){case 48:u=l=0;C8w=47;break;case 49:l++;C8w=50;break;case 21:a=g.Da.useBitrateMean?u:q[l];z=0;C8w=34;break;case 43:v=z=0;C8w=42;break;case 8:l=m(c,v);C8w=7;break;case 4:q=g.Da.bitrates;w=h.map(function(a){var V8w;V8w=2;while(V8w!==1){switch(V8w){case 4:return a.L;break;V8w=1;break;case 2:return a.L;break;}}});C8w=9;break;case 54:l=Math.floor(Math.random()*Math.floor(c.length));C8w=7;break;case 26:O8w=b.bitrateMapStrategy;C8w=O8w===p0b?25:22;break;case 7:r.tib=l;r.vka=x?x:0;C8w=14;break;case 15:C8w=27;break;case 9:C8w=b.useControlAtTraining&&!0===b.useProdSimulation&&U0b===b.estimateType?8:37;break;case 16:y=u;C8w=11;break;case 40:v++;C8w=42;break;case 18:return r;break;case 45:a[v]>x&&(l=v,x=a[v]),u+=a[v]*c[v];C8w=65;break;case 2:r={};v=h[k].Oka;C8w=4;break;case 53:v=Math.random();A=0;C8w=51;break;case 38:F(!1,D0b+g.Da.bitrateMapStrategy);C8w=23;break;case 14:C8w=!0===b.useProdSimulation?13:26;break;case 29:C8w=O8w===g0b?28:39;break;case 27:y=c[l];C8w=11;break;case 31:z=v;C8w=23;break;case 23:r.dc=h[z];C8w=18;break;case 32:C8w=w[v]<=a?31:30;break;case 46:C8w=v<a.length?45:7;break;case 33:C8w=-1<v?32:23;break;case 13:x8w=b.actionStrategy;C8w=x8w===e0b?12:17;break;case 22:C8w=O8w===m0b?21:29;break;case 42:C8w=v<h.length?41:23;break;case 50:C8w=l<a.length&&!(A+=a[l],v<A)?49:7;break;case 41:d=Math.abs(w[v]-a),d<c&&(c=d,z=v);C8w=40;break;case 24:z=d[l];C8w=23;break;case 19:P0b===b.estimateType?(k=t(h,function(a){var b8w;b8w=2;while(b8w!==1){switch(b8w){case 2:return a.id===K.dc.id;break;case 4:return a.id==K.dc.id;break;b8w=1;break;}}}),k+=r.value,k=Math.max(0,k),k=Math.min(k,h.length-1),r.dc=h[k]):r.dc=K.dc;C8w=18;break;case 37:C8w=b.randomizeAction?36:48;break;case 65:v++;C8w=46;break;case 34:v=h.length-1;C8w=33;break;case 36:C8w=Math.random()<(b.epsilon||0)?54:53;break;case 11:r.value=y;da(h,function(a){var n8w,q8w,E0b,S0b,M0b;n8w=2;while(n8w!==11){E0b="fac";E0b+="t";E0b+="or";S0b="ab";S0b+="solut";S0b+="e";M0b="r";M0b+="elativ";M0b+="e";switch(n8w){case 14:n8w=13;break;case 7:n8w=q8w===M0b?6:14;break;case 8:D=Math.floor(a.pa.ka.va*y);n8w=4;break;case 1:q8w=b.estimateType;n8w=q8w===S0b?5:9;break;case 9:n8w=q8w===E0b?8:7;break;case 12:delete a.ka;n8w=11;break;case 5:D=y;n8w=4;break;case 6:D=a.ka;n8w=4;break;case 13:D=y;n8w=4;break;case 2:n8w=a.ee&&a.inRange&&!a.Tg&&a.pa&&a.pa.gc?1:12;break;case 4:D=0===D?1:D;a.ka=D;n8w=11;break;}}});K=P.PLAYING.call(this,g,f,h,k,n,p);C8w=19;break;case 51:l=0;C8w=50;break;case 28:a=g.Da.useBitrateMean?u:q[l];c=Number.POSITIVE_INFINITY;C8w=43;break;case 39:C8w=38;break;case 30:v--;C8w=33;break;case 47:x=a[0],v=0;C8w=46;break;case 17:C8w=x8w===r0b?16:15;break;case 12:y=c[l];C8w=11;break;case 25:F(!g.Da.useBitrateMean,s0b);C8w=24;break;}}}function r(a,b,c,d){var P8w,g,f,h,k,n,p,l,u,m,r,Y0b,B0b,T0b,K0b,J0b,R0b,O0b,G0b,w0b,L0b,a0b,u0b,o0b;P8w=2;while(P8w!==44){Y0b="Mask should have ";Y0b+="same number of element";Y0b+="s as rows of ";Y0b+="ma";Y0b+="t!";B0b="Masking only supported fo";B0b+="r s";B0b+="oftmax nonlinearity!";T0b="so";T0b+="ft";T0b+="max";K0b=") as";K0b+=" l";K0b+="ength of vec";K0b+=" + (";J0b="mat should have same number of colu";J0b+="mns";J0b+=" (";R0b=") as";R0b+=" length ";R0b+="of b";R0b+="ias (";O0b="mat should ha";O0b+="ve same ";O0b+="number of rows (";G0b="sof";G0b+="tma";G0b+="x";w0b="t";w0b+="a";w0b+="n";w0b+="h";L0b="Un";L0b+="supported NL";L0b+=" typ";L0b+="e: ";a0b="s";a0b+="o";a0b+="ft";a0b+="m";a0b+="ax";u0b="t";u0b+="a";u0b+="nh";o0b="r";o0b+="e";o0b+="l";o0b+="u";switch(P8w){case 35:g++;P8w=22;break;case 9:f=b[a].W;h=g;k=b[a].b;P8w=6;break;case 3:P8w=a<b.length?9:28;break;case 21:r[g]=void 0===p||p[g]?Math.exp(r[g]):0,f+=r[g];P8w=35;break;case 27:o0b===n?u=Math.max(0,u):u0b===n?u=R(u):void 0!==n&&a0b!==n&&F(!1,L0b+n);r[g]=u;P8w=25;break;case 23:g=f=0;P8w=22;break;case 5:f=a;P8w=4;break;case 15:++m;P8w=17;break;case 2:g=a;P8w=5;break;case 6:n=a===b.length-1?d:w0b;p=a===b.length-1?c:void 0;P8w=13;break;case 29:a++;P8w=3;break;case 31:g++;P8w=33;break;case 16:u+=l[m]*h[m];P8w=15;break;case 24:P8w=G0b===n?23:30;break;case 33:P8w=g<r.length?32:30;break;case 22:P8w=g<r.length?21:34;break;case 32:r[g]/=f;P8w=31;break;case 34:g=0;P8w=33;break;case 4:a=0;P8w=3;break;case 28:return f;break;case 25:++g;P8w=19;break;case 30:g=f=r;P8w=29;break;case 17:P8w=m<h.length?16:27;break;case 19:P8w=g<f.length?18:24;break;case 18:l=f[g],u=k[g],m=0;P8w=17;break;case 20:r=[],g=0;P8w=19;break;case 13:F(f.length===k.length,O0b+f.length+R0b+k.length+")");F(h.length===f[0].length,J0b+f[0].length+K0b+h.length+")");F(void 0===p||T0b===n,B0b);void 0!==p&&F(p.length===f.length,Y0b);P8w=20;break;}}}function c(a,b,c){var V1t=F977;var W8w,z0b,v0b,f0b,X0b,H0b,X8w,K8w,Y8w,L8w,g8w,E8w;W8w=2;while(W8w!==4){z0b="vmaf-r";z0b+="eci";z0b+="p";z0b+="rocal";v0b="vma";v0b+="f";v0b+="-";v0b+="li";v0b+="near";f0b="bitrate-";f0b+="re";f0b+="ciproc";f0b+="al";X0b="bitrate-";X0b+="lo";X0b+="g";H0b="b";H0b+="itrate-";H0b+="li";H0b+="near";switch(W8w){case 2:W8w=a===H0b?1:3;break;case 3:W8w=a===X0b?9:8;break;case 12:V1t.b7b(6);X8w=V1t.t7b(17,52,3);V1t.b7b(5);K8w=V1t.t7b(12,12);a=X8w/b.Hb*K8w;W8w=5;break;case 14:V1t.Q7b(7);Y8w=V1t.A7b(35,385,10,1);V1t.Q7b(8);L8w=V1t.A7b(200,73,19,8);a=Y8w/b.L*L8w;W8w=5;break;case 11:W8w=10;break;case 1:V1t.b7b(9);g8w=V1t.A7b(110008,8);a=b.L/g8w;W8w=5;break;case 6:W8w=a===f0b?14:13;break;case 7:a=b.Hb/100;W8w=5;break;case 8:W8w=a===v0b?7:6;break;case 9:a=Math.log(b.L)/B;W8w=5;break;case 13:W8w=a===z0b?12:11;break;case 10:V1t.Q7b(9);E8w=V1t.A7b(110020,20);a=b.L/E8w;W8w=5;break;case 5:return isFinite(a)?c*a:0;break;}}}function d(a,b,d,g,f,h){var t8w,k,w8w;t8w=2;while(t8w!==15){switch(t8w){case 12:f=k.length;t8w=11;break;case 5:t8w=f?4:19;break;case 13:t8w=k.length<d?12:14;break;case 10:k.push(0);t8w=20;break;case 6:k=k.slice(0,d);t8w=14;break;case 16:f++;t8w=18;break;case 4:F977.Q7b(9);w8w=F977.A7b(15,14);f=b.length-w8w;t8w=3;break;case 17:d=h[f],void 0!==d?k.push(c(a,b[d],g)):k.push(0);t8w=16;break;case 9:k.push(c(a,b[f],g));t8w=8;break;case 20:f++;t8w=11;break;case 3:t8w=0<=f?9:7;break;case 8:f--;t8w=3;break;case 7:t8w=k.length>d?6:13;break;case 18:t8w=f<h.length?17:14;break;case 19:f=0;t8w=18;break;case 2:k=[];t8w=5;break;case 14:return k;break;case 11:t8w=f<d?10:14;break;}}}function b(a,b){var S8w,k,n,p,c,d,g,f,h,r;S8w=2;while(S8w!==21){switch(S8w){case 16:p++;S8w=19;break;case 11:c[f]=void 0;S8w=10;break;case 7:f++;S8w=9;break;case 15:g[k]&&(k=void 0);c[f]=k;S8w=26;break;case 9:S8w=f<a.length?8:6;break;case 20:n=Number.POSITIVE_INFINITY,p=0;S8w=19;break;case 19:S8w=p<a.length?18:15;break;case 12:S8w=void 0===h?11:20;break;case 10:f++;S8w=14;break;case 3:f=0;S8w=9;break;case 2:c=[];d=Array(a.length);g=Array(a.length);S8w=3;break;case 18:r=Math.abs(h-a[p]);r<n&&(n=r,k=p);S8w=16;break;case 14:S8w=f<b.length?13:25;break;case 13:h=b[f];S8w=12;break;case 6:f=0;S8w=14;break;case 25:a={};a.LBb=c;a.fVa=d;S8w=22;break;case 8:d[f]=void 0,g[f]=!1;S8w=7;break;case 26:void 0!==k&&(g[k]=!0,d[k]=f);S8w=10;break;case 22:return a;break;}}}p8w=2;function x(a,f,h,k,u,m){var y8w,v,A,x,z,t,S,da,Y,R,G,O,fa,Z,Ha,B,Q,H,la,ma,aa,ha,U,ba,pa,W,X,g50,D50,U50,i50,N50,b0b,Q0b,t0b,A0b,q0b,j0b,k0b,y0b,l0b,W0b,Z0b,c0b,V0b,d0b,h0b,x0b,n0b,I0b,F0b,C0b,a8w;y8w=2;while(y8w!==167){g50="i";g50+="q";g50+="r";D50="rl is not ";D50+="set up correctly. Fall back to orig";D50+="inal al";D50+="gorithm.";U50="p";U50+="er";U50+="centile";i50="fi";i50+="xe";i50+="d";N50="f";N50+="i";N50+="x";N50+="e";N50+="d";b0b="Must supply rlPar";b0b+="am.b";b0b+="itrates!";Q0b="Invalid";Q0b+=" pol";Q0b+="i";Q0b+="cy ma";Q0b+="pping!!";t0b="q";t0b+="uadr";t0b+="a";t0b+="t";t0b+="ic";A0b="li";A0b+="nea";A0b+="r";q0b="Must have rlParam";q0b+=" s";q0b+="pecified!";j0b="player m";j0b+="issing streamingInde";j0b+="x";k0b="Must have at least o";k0b+="ne se";k0b+="lected stream";y0b="throug";y0b+="hp";y0b+="u";y0b+="t-sw";l0b="thro";l0b+="u";l0b+="ghpu";l0b+="t-";l0b+="sw";W0b="Need";W0b+=" to provide valid ";W0b+="number of through";W0b+="put stats";Z0b="s";Z0b+="o";Z0b+="f";Z0b+="tm";Z0b+="ax";c0b="qua";c0b+="d";c0b+="r";c0b+="at";c0b+="ic";V0b="m";V0b+="a";V0b+="x";d0b="m";d0b+="i";d0b+="n";h0b="Inval";h0b+="id mixWithProd value ";h0b+="(min/max/";h0b+="undefined supported): ";x0b="m";x0b+="a";x0b+="x";n0b="m";n0b+="i";n0b+="n";I0b="Must ";I0b+="have rlParam.repeat";I0b+="Len";I0b+="g";I0b+="th";F0b="p";F0b+="s";F0b+="d";C0b="baseN";C0b+="et";C0b+="work";switch(y8w){case 74:Q++;y8w=76;break;case 143:B.push(0);y8w=142;break;case 94:W=v.call(this,a,f,h,k,u,m);y8w=93;break;case 84:y8w=Q<Ha.length?83:81;break;case 64:B.push(R?R.time?R.time:0:0);R=n(a,B,pa,G,z,ha,U,la,H,ba,h[h.length-1].L,x.L);y8w=62;break;case 138:y8w=Q<fa.z.length?137:170;break;case 7:A.dc=x;F977.Q7b(0);a8w=F977.A7b(18000,6,16994);z=(f.buffer.ij-f.buffer.ze)/a8w;t=x.pa.ka.va;y8w=13;break;case 106:Q++;y8w=108;break;case 113:x=aa;y8w=99;break;case 39:void 0!==aa[Q]&&h[aa[Q]]==W.dc?ba.push(1):ba.push(0);y8w=38;break;case 43:ba=void 0;y8w=42;break;case 41:W=v.call(this,a,f,h,k,u,m),W.dc,ba=[],Q=0;y8w=40;break;case 98:Q=0;y8w=97;break;case 56:da=p(a.Da.convLayerPars,a.Da.convNetwork);y8w=55;break;case 13:y8w=!a.Da.hasOwnProperty(C0b)?12:11;break;case 110:y8w=Q?109:132;break;case 11:S=f.buffer.S;da=f.buffer.Ra;Y=f.qk;R=x.pa;y8w=18;break;case 148:A.dc=X.dc;y8w=92;break;case 142:Q++;y8w=144;break;case 35:H=x.V?x.V.length:void 0;la=H?H-Y:void 0;Ha=a.Da.bitrates;y8w=32;break;case 92:A.KP=!1;y8w=91;break;case 73:Q=l(R,S,a.Da.baseNetwork,a.Da.policyNetwork,a.Da.valueNetwork,da,void 0!==a.Da.bandwidthManifold);G=Q.Qeb;da=Q.znb;y8w=70;break;case 48:y8w=Q<Z.length?47:45;break;case 47:B.push(Z[Q]||0);y8w=46;break;case 141:y8w=Q===F0b?140:169;break;case 65:B=B.slice(0,W);y8w=64;break;case 62:F(!w.R(a.Da.repeatLength),I0b);y8w=61;break;case 116:n0b!==a.Da.mixWithProd&&x0b!==a.Da.mixWithProd&&F(!1,h0b+a.Da.mixWithProd);y8w=115;break;case 89:Q=aa=0;y8w=88;break;case 140:y8w=fa&&fa.Do&&fa.z?139:170;break;case 50:y8w=Z&&Z.length?49:45;break;case 118:y8w=d0b===a.Da.mixWithProd&&A.dc.L>W.dc.L||V0b===a.Da.mixWithProd&&A.dc.L<W.dc.L?117:116;break;case 132:y8w=c0b===A?131:152;break;case 69:A=a.Da.discountPolicyMapping;Q=a.Da.addInputsToPolicyNetwork;x=D(x.pa,f.buffer,a.Da.bandwidthManifold);y8w=66;break;case 168:B.push(O),pa=!1;y8w=45;break;case 76:y8w=Q<Ha.length?75:73;break;case 108:y8w=Q<R.RT.length?107:105;break;case 23:Q=0;y8w=22;break;case 139:B.push(fa.Do),Q=0;y8w=138;break;case 70:y8w=void 0!==a.Da.bandwidthManifold?69:150;break;case 105:Q=0;y8w=135;break;case 144:y8w=Q<W?143:64;break;case 45:y8w=B.length>W?65:146;break;case 60:return A.LC={k4:!0,state:R,P9:!1,Wb:{zj:t,L:A.dc.L,B_:z,qk:Y},$_:A.dc.L,a0:A.dc.Hb,zka:ma},A;break;case 82:Q++;y8w=84;break;case 18:G=R?R.Khb:void 0;O=R?R.tk:void 0;fa=R?R.Nu:void 0;Z=O?O.xf([0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]):void 0;Ha=R?R.oj:void 0;O=0;Ha&&Ha.Bn&&Ha.Bn.xh&&Ha.Bn.vg&&Ha.Bn.yh&&(O=Number((Ha.Bn.yh-Ha.Bn.xh)/Ha.Bn.vg).toFixed(6));y8w=24;break;case 52:pa=!0;y8w=51;break;case 38:Q++;y8w=40;break;case 57:return A=v.call(this,a,f,h,k,u,m),A.KP=!0,A.LC={k4:!1,P9:!0,Wb:{zj:t,L:A.dc.L,B_:z,qk:Y},a0:A.dc.Hb,$_:A.dc.L,zka:ma},A;break;case 170:pa=!1;y8w=45;break;case 129:y8w=Q<x.length?128:123;break;case 152:G=r(x,a.Da.policyNetwork,S,Z0b);y8w=81;break;case 37:W=a.Da.numThroughputStats;Q=a.Da.throughputStatsType;F(W&&1<=W,W0b);B=[t,B];y8w=52;break;case 21:++Q;y8w=22;break;case 127:y8w=G<x.length?126:124;break;case 29:ha=d(a.Da.qualityFunction,h,a.Da.numOfChunkQualities,a.Da.qualityRewardMultiplier,a.Da.useProdSimulation,aa);c(a.Da.qualityFunction,x,a.Da.qualityRewardMultiplier);U=g(a.Da.chunkSizeFetchStyle,a.Da.numOfChunkSizes,a.Da.lookAhead||1,h,Y);y8w=43;break;case 90:G=[];y8w=89;break;case 75:S[Q]=!0;y8w=74;break;case 96:h[Q].pa.Uua=Ha[x],h[Q].ka=u(h[Q].pa,f.buffer);y8w=95;break;case 24:B=R&&R[l0b]?R[y0b].va:0;y8w=23;break;case 104:Q++;y8w=79;break;case 100:x++;y8w=101;break;case 111:x=[x];y8w=110;break;case 2:F(!w.R(k),k0b);F(w.fa(f.qk),j0b);F(!w.R(a.Da),q0b);v=P.PLAYING;y8w=9;break;case 55:y8w=a.Da.useProdSimulation?77:147;break;case 112:y8w=A0b===A||t0b===A?111:151;break;case 42:y8w=a.Da.addProdOutput?41:37;break;case 95:Q++;y8w=97;break;case 109:Q=0;y8w=108;break;case 151:F(!1,Q0b);y8w=81;break;case 135:y8w=Q<R.wO.length?134:132;break;case 86:Q++;y8w=88;break;case 61:y8w=0!=Y%a.Da.repeatLength?60:59;break;case 107:x.push(R.RT[Q]);y8w=106;break;case 32:ma=h.map(function(a){var N8w;N8w=2;while(N8w!==1){switch(N8w){case 4:return a.L;break;N8w=1;break;case 2:return a.L;break;}}});F(!w.R(Ha),b0b);aa=b(Ha,ma).fVa;y8w=29;break;case 80:Q=aa=0;y8w=79;break;case 46:Q++;y8w=48;break;case 40:y8w=Q<aa.length?39:37;break;case 93:A=W;y8w=92;break;case 66:y8w=N50===A?90:112;break;case 59:Q=a.Da.periodOfUseControl?a.Da.periodOfUseControl:3E4;y8w=58;break;case 79:y8w=Q<G.length?78:103;break;case 87:fa=Math.abs(Ha[Q]-x),fa=Math.exp(-fa*fa/.1),G.push(fa),aa+=fa;y8w=86;break;case 131:aa=[];y8w=130;break;case 58:y8w=a.Da.useControlEwmaMax&&t>a.Da.useControlEwmaMax||a.Da.useControl||a.Da.useControlAtStart&&da<=S+Q?57:56;break;case 102:Q=Math.random(),x=aa=0;y8w=101;break;case 85:Q=0;y8w=84;break;case 134:x.push(R.wO[Q]);y8w=133;break;case 133:Q++;y8w=135;break;case 115:A.LC={k4:!1,P9:!1,state:R,action:x,BAb:G,value:da,ozb:S,Wb:{zj:t,L:A.dc.L,B_:z,Oka:X&&X.value?Number(X.value).toFixed(3):0,Au:O,vka:X?Number(X.vka).toFixed(6):0,qk:Y},$_:A.dc.L,a0:A.dc.Hb,zka:ma};return A;break;case 77:S=Array(Ha.length),Q=0;y8w=76;break;case 145:Q=B.length;y8w=144;break;case 99:y8w=!a.Da.useControl&&(i50!==A||a.Da.randomizeAction)?98:94;break;case 9:A=K();x=h[k];y8w=7;break;case 130:Q=0;y8w=129;break;case 103:y8w=!a.Da.useControl&&a.Da.randomizeAction?102:113;break;case 121:x.push(aa[Q]);y8w=120;break;case 137:B.push(Number(fa.z[Q]).toFixed(6)/1);y8w=136;break;case 119:W=v.call(this,a,f,h,k,u,m);y8w=118;break;case 51:y8w=Q===U50?50:141;break;case 125:G++;y8w=127;break;case 81:x=Number.NEGATIVE_INFINITY;y8w=80;break;case 91:y8w=void 0!==a.Da.mixWithProd?119:115;break;case 78:fa=G[Q],fa>x&&(aa=Q,x=fa);y8w=104;break;case 124:Q++;y8w=129;break;case 88:y8w=Q<Ha.length?87:85;break;case 97:y8w=Q<h.length?96:94;break;case 128:G=Q;y8w=127;break;case 101:y8w=x<Ha.length&&!(aa+=G[x],Q<aa)?100:99;break;case 146:y8w=B.length<W?145:64;break;case 49:Q=0;y8w=48;break;case 22:y8w=Q<f.buffer.V.length?21:35;break;case 150:X=q.call(this,G,a.Da,Ha,aa,a,f,h,k,u,m);x=X.tib;y8w=148;break;case 117:A=W,A.KP=!0;y8w=116;break;case 120:Q++;y8w=122;break;case 126:aa.push(x[Q]*x[G]);y8w=125;break;case 83:G[Q]/=aa;y8w=82;break;case 147:S=aa.map(function(a){var y1t=F977;var Z8w;Z8w=2;while(Z8w!==1){switch(Z8w){case 2:y1t.Q7b(1);return y1t.A7b(a,0);break;case 4:y1t.Q7b(2);return y1t.A7b(a,1);break;Z8w=1;break;}}});y8w=73;break;case 123:Q=0;y8w=122;break;case 12:return y.error(D50),A=v.call(this,a,f,h,k,u,m),A.KP=!0,A.LC={k4:!1,P9:!0,a0:A.dc.Hb,$_:A.dc.L,Wb:{zj:t,L:A.dc.L,B_:z}},A;break;case 122:y8w=Q<aa.length?121:152;break;case 169:y8w=Q===g50?168:45;break;case 136:Q++;y8w=138;break;}}}function m(a,b){var T8w,c,d,g,f;T8w=2;while(T8w!==3){switch(T8w){case 5:f++;T8w=1;break;case 2:c=Number.POSITIVE_INFINITY,f=0;T8w=1;break;case 6:f--;T8w=8;break;T8w=1;break;case 4:return g;break;case 1:T8w=f<a.length&&!(d=Math.abs(a[f]-b),d<c&&(c=d,g=f),a[f]>b)?5:4;break;case 14:return g;break;T8w=3;break;}}}while(p8w!==26){e50="1";e50+="SI";e50+="YbZrNJ";e50+="Cp9";switch(p8w){case 14:da=z.loa;P=a(141);Y=a(555);R=a(31).tanh;p8w=10;break;case 3:a(9);y=z.console;F=z.assert;K=z.Hm;t=z.b_;p8w=14;break;case 2:w=a(8);a(13);z=a(36);p8w=3;break;case 10:fa=a(31).fG;Z=a(31).nla;O=a(31).Kna;p8w=18;break;case 18:a(31);G=a(31).Awa;B=Math.log(110001);f.K={STARTING:P.STARTING,BUFFERING:P.BUFFERING,REBUFFERING:P.REBUFFERING,PLAYING:x,PAUSED:x};p8w=27;break;case 27:e50;p8w=26;break;}}function h(a,b,c,d){var o8w;o8w=2;while(o8w!==1){switch(o8w){case 2:return a.V&&0<a.V.length?b<a.V.length?a.V.Voa(b)/d:a.V.Voa(a.V.length-1)/d:a.L*c/8;break;}}}function g(a,b,c,d,g){var C1t=F977;var d8w,f,k,n,p,r,l,m50,I8w;d8w=2;while(d8w!==30){m50="ho";m50+="r";m50+="izo";m50+="nt";m50+="al";switch(d8w){case 8:d8w=p<d.length?7:20;break;case 34:r+=h(d[p],g+l,f,k);d8w=33;break;case 2:d8w=1;break;case 23:a=Math.min(b,d.length),p=d.length-1;d8w=22;break;case 22:d8w=p>=d.length-a?21:27;break;case 11:f=n/d[p].L;d8w=20;break;case 24:return n;break;case 5:return[];break;case 25:n.push(g);d8w=26;break;case 1:d8w=void 0===b||0>=b?5:4;break;case 7:d8w=d[p].V&&0<d[p].V.length?6:10;break;case 10:p++;d8w=8;break;case 31:p--;d8w=22;break;case 4:f=1;k=2002;d8w=9;break;case 6:k=d[p].V;n=k.Voa(g);k=k.Jxb(g);C1t.b7b(3);n=C1t.t7b(n,k,8);d8w=11;break;case 20:n=[];d8w=19;break;case 27:C1t.b7b(4);I8w=C1t.t7b(12,27,16);g=n[n.length-I8w];d8w=26;break;case 19:d8w=m50===a?18:23;break;case 26:d8w=n.length<b?25:24;break;case 9:p=0;d8w=8;break;case 35:d8w=l<c?34:32;break;case 16:n.push(h(c,g+p,f,k));d8w=15;break;case 18:c=d[d.length-1],n.push(c.L/8),p=0;d8w=17;break;case 15:p++;d8w=17;break;case 17:d8w=p<b-1?16:27;break;case 32:C1t.b7b(5);n.push(C1t.t7b(r,c));d8w=31;break;case 21:r=0,l=0;d8w=35;break;case 33:l++;d8w=35;break;}}}function n(a,b,c,d,g,f,h,k,n,p,r,l){var D8w,m,v,q,w,S50,M50,P50;function u(b){var A8w;A8w=2;while(A8w!==3){switch(A8w){case 7:return 2;break;A8w=3;break;case 2:A8w=0===b?1:5;break;case 5:a.Da.takeLog?(b=Math.log(1+Math.max(0,b)),b/=B):b/=11E4;return b;break;case 1:return 0;break;}}}D8w=2;while(D8w!==40){S50="Adding c";S50+="hunk ";S50+="sizes";S50+=" does not match the config!";M50="Somethin";M50+="g went w";M50+="rong with i";M50+="n";M50+="put vector!";P50="prod ";P50+="outputs must be sup";P50+="plied if addProdOutput is turned on!";switch(D8w){case 30:a.Da.addNumChunksLeft&&(void 0!==k&&void 0!==n&&0<=k?g.push(k/n):g.push(1));D8w=29;break;case 6:m=0;D8w=14;break;case 13:w=void 0!==d?d.length-2-m:-1;-1<w&&(q=d[w]);c.push(u(q));D8w=10;break;case 32:g.push(h[m]/25E6);D8w=31;break;case 28:F(void 0!==p,P50),m=0;D8w=44;break;case 20:F(c.length===a.Da.numBToFeed,M50);d=[];a.Da.addBufferStats&&d.push(g/240);g=[];D8w=16;break;case 42:m++;D8w=44;break;case 22:a.Da.addTopBitrate&&g.push(u(r));a.Da.addHighEndSignal&&(f=0,a.Da.HERatio&&b[0]&&b[0]>a.Da.HERatio*r&&(f=1),g.push(f));D8w=35;break;case 24:g.push(f[m]);D8w=23;break;case 23:m++;D8w=25;break;case 33:D8w=m<h.length?32:30;break;case 2:v=[u(b[0])];D8w=5;break;case 43:g.push(p[m]);D8w=42;break;case 44:D8w=m<p.length?43:41;break;case 29:D8w=a.Da.addProdOutput?28:41;break;case 3:c?v.push(u(b[m])):v.push(b[m]);D8w=9;break;case 8:c=[];q=0;D8w=6;break;case 9:m++;D8w=4;break;case 27:D8w=a.Da.addChunkQualities?26:22;break;case 16:a.Da.addLastBitrate&&g.push(u(l));a.Da.addAudioBitrate&&g.push(u(0));D8w=27;break;case 10:m++;D8w=14;break;case 31:m++;D8w=33;break;case 14:D8w=m<a.Da.numBToFeed?13:20;break;case 34:F(h.length===a.Da.numOfChunkSizes,S50),m=0;D8w=33;break;case 35:D8w=a.Da.numOfChunkSizes&&0<a.Da.numOfChunkSizes?34:30;break;case 5:m=1;D8w=4;break;case 26:m=0;D8w=25;break;case 4:D8w=m<b.length-1?3:8;break;case 25:D8w=m<f.length?24:22;break;case 41:return{RT:v,kya:c,wO:d,lla:g};break;}}}function p(a,b){var G8w,c,d,g,n,f,h,k,r50,E50;G8w=2;while(G8w!==15){r50="t";r50+="a";r50+="n";r50+="h";E50="Only 1 conv layer c";E50+="urrentl";E50+="y sup";E50+="ported!";switch(G8w){case 19:n++;G8w=10;break;case 2:G8w=1;break;case 5:return null;break;case 13:G8w=k<a?12:16;break;case 4:F(1==a.length,E50);c=b[0].b;d=a[0].stride;b=b[0].W;g=a[0].filter_size;a=a[0].num_filters;G8w=14;break;case 10:G8w=n<g?20:18;break;case 1:G8w=void 0===a||void 0===b||0===a.length||0===b.length?5:4;break;case 16:return new Y(f,c,d,0,r50);break;case 12:h=[];G8w=11;break;case 18:f.push(h);G8w=17;break;case 20:h.push(b[n][0][k]);G8w=19;break;case 17:k++;G8w=13;break;case 11:n=0;G8w=10;break;case 14:f=[],k=0;G8w=13;break;}}}}());},function(f,d,a){(function(){var s50,h,g,n,p,r,l,m,q,D,x,A50;function c(a,b,c,g){var a50,f,k,l,u,m,v,w,A,F,y50,l50,W50,Z50,c50,V50,d50,h50,x50,n50,I50,F50,C50,z50,v50,f50,X50,H50,Y50,B50,T50,K50,J50;a50=2;while(a50!==30){y50="m";y50+="s";l50=", ";l50+="buffer";l50+=" ";l50+="l";l50+="evel = ";W50=", lastUpswitc";W50+="h";W50+="Pts = ";Z50="  Ups";Z50+="witch not allowed. lastDowns";Z50+="wi";Z50+="tchPts = ";c50="M";c50+="ust have a";c50+="t least ";c50+="one selected stream";V50=" k";V50+="bp";V50+="s";d50=" kb";d50+="ps";d50+=" ";d50+=">";d50+=" ";h50="through";h50+="pu";h50+="t for audi";h50+="o";h50+=" ";x50="k";x50+="bps, ";x50+="stre";x50+="amingPts :";n50=", audio throu";n50+="ghpu";n50+="t:";I50=" kbps";I50+=", profil";I50+="e :";F50="sel";F50+="ect";F50+="A";F50+="udioStr";F50+="eam: selected stream :";C50=" ";C50+="k";C50+="b";C50+="p";C50+="s";z50=" ";z50+="kbp";z50+="s";z50+=", to";z50+=" ";v50="switc";v50+="hing audio";v50+=" from";v50+=" ";f50="d";f50+="o";f50+="w";f50+="n";X50="u";X50+="p";H50=" kbp";H50+="s, try t";H50+="o dow";H50+="n";H50+="switch";Y50=" k";Y50+="b";Y50+="p";Y50+="s <";Y50+=" ";B50="through";B50+="p";B50+="ut for audio ";T50=", str";T50+="e";T50+="amingPt";T50+="s ";T50+="= ";K50=", l";K50+="astUpswi";K50+="t";K50+="chPts =";K50+=" ";J50="  Upswitch";J50+=" allowed. lastDownswitchPts";J50+=" = ";switch(a50){case 24:p&&n.log(J50+this.Zo+K50+this.SB+T50+m.Ra);a50=23;break;case 23:a50=++v<l.length?22:34;break;case 15:f=m;a50=34;break;case 27:v--;a50=19;break;case 12:a50=0>v?11:10;break;case 20:p&&n.log(B50+w+Y50+A.ana+"*"+m+H50),--v;a50=19;break;case 25:a50=d(F,m.Ra,A,b.aI)?24:35;break;case 18:m=l[v];F=c[m];a50=16;break;case 9:a50=l&&1<l.length?8:34;break;case 16:a50=q(F)&&(0==v||F.L*A.ana<w)?15:27;break;case 22:a50=(m=l[v],F=c[m],q(F)&&w>A.Sya*F.L)?21:23;break;case 14:w=u.ka;A=a.HUa;a50=12;break;case 34:w=c[f];f!==g&&p&&n.log((f>g?X50:f50)+v50+u.L+z50+w.L+C50);p&&n.log(F50+w.L+I50+k+n50+w.ka+x50+b.buffer.Ra);return new D(f);break;case 3:a.m9.some(function(d){var L50,g,f,h,n,p,r;L50=2;while(L50!==13){switch(L50){case 8:p=d&&d.psa||Infinity;r=b.buffer.Kt;L50=6;break;case 4:L50=f?3:14;break;case 2:g=d.profiles;f=g&&0<=g.indexOf(k);L50=4;break;case 6:l=c.filter(function(a){var w50,b;w50=2;while(w50!==4){switch(w50){case 2:b=a.L;return b>=n&&b<=p&&0<=g.indexOf(a.ye)&&b*h/8<r;break;}}}).map(function(a){var G50;G50=2;while(G50!==1){switch(G50){case 2:return a.Se;break;case 4:return a.Se;break;G50=1;break;}}});L50=14;break;case 3:h=(d=d.tC)&&d.FR||a.FR;n=d&&d.zzb||-Infinity;L50=8;break;case 14:return f;break;}}});a50=9;break;case 26:a50=v<l.length-1&&w>A.Sya*m&&(p&&n.log(h50+w+d50+A.Sya+"*"+m+V50),m=b.buffer,F=m.ij-m.ze,u.V&&u.V.length)?25:34;break;case 19:a50=0<=v?18:34;break;case 8:u=c[g];m=u.L;a50=6;break;case 10:a50=v&&w<A.ana*m?20:26;break;case 11:f=0;a50=34;break;case 6:v=l.indexOf(g);a50=14;break;case 21:f=m;a50=34;break;case 2:r(!h.R(g),c50);f=g;k=c[g].ye;a50=3;break;case 35:p&&n.log(Z50+this.Zo+W50+this.SB+l50+F+y50);a50=34;break;}}}function b(a,b){var o50,c;o50=2;while(o50!==3){switch(o50){case 2:c=void 0;b.some(function(b){var u50,d;u50=2;while(u50!==3){switch(u50){case 2:d=b.profiles;(d=d&&0<=d.indexOf(a))&&(c=b.override);return d;break;}}});return c;break;}}}s50=2;function d(a,b,c,d){var O50;O50=2;while(O50!==1){switch(O50){case 2:return d&&a>c.Ax&&(h.R(this.Zo)||this.SB>this.Zo||b-this.Zo>c.mR);break;}}}while(s50!==10){A50="1SIYbZr";A50+="NJC";A50+="p";A50+="9";switch(s50){case 7:m=a(13);q=g.qx;D=g.Hm;x=a(284);s50=12;break;case 12:f.K={STARTING:function(a,c,d,g){var R50,f,h,q50,j50,k50;R50=2;while(R50!==14){q50="selectAudioStreamStarti";q50+="ng: overri";q50+="ding config with ";j50=" kbps";j50+=", pro";j50+="fil";j50+="e :";k50="selectAu";k50+="di";k50+="oStreamStarting: selected stream :";switch(R50){case 4:R50=(h=b(h,a.m9)||b(h,a.GUa))?3:9;break;case 5:h=d[g||0].ye;R50=4;break;case 2:f=a;R50=5;break;case 9:a=x[m.ta.name[m.ta.Ig]](f,c,d,g);d=d[a.fd];p&&n.log(k50+d.L+j50+d.ye);return a;break;case 3:f={minInitAudioBitrate:a.EI,minHCInitAudioBitrate:a.DI,maxInitAudioBitrate:a.sI,minRequiredAudioBuffer:a.FR},p&&n.log(q50+JSON.stringify(h)),l(h,f);R50=9;break;}}},BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};A50;s50=10;break;case 2:h=a(8);g=a(36);n=g.console;p=g.debug;r=g.assert;l=a(41);s50=7;break;}}}());},function(f,d,a){var c,k,h,g;function b(a,b,d){var f,n;f=this.vY;b=b.buffer.Ra;n="forward"===a.Lhb;if(c.R(f))return f=n?k(d):k(d,d.length),this.xY=b,this.vY=f,new g(f);h(d[f])||(f=k(d,f),this.xY=b,this.vY=f);if(0>f)return null;if(b>this.xY+a.Elb){a=d.map(function(a,b){return a.ee&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;n?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.vY=a[f];this.xY=b;return new g(a[f]);}return new g(f);}c=a(8);a(13);d=a(36);k=d.Z1;h=d.qx;g=d.Hm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){var c;function b(a,b,d){a=d.map(function(a,b){return a.ee&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});return a.length?new c(a[Math.floor(Math.random()*a.length)]):null;}a(13);c=a(36).Hm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){var c,k,h,g;function b(a,b,d,f){if(c.R(f))a=k(d);else if(h(d[f]))a=f;else if(a=k(d,f),0>a)return null;return new g(a);}c=a(8);a(13);d=a(36);k=d.Z1;h=d.qx;g=d.Hm;f.K={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(f,d,a){(function(){var t50,c,d,h,g,n,p,r,l,m,q,D,x,I17,e17,J17,D17,b17,N17,n17,g17;t50=2;while(t50!==15){I17="che";I17+="ck";I17+="d";I17+="ef";I17+="ault";e17="d";e17+="e";e17+="fau";e17+="lt";J17="de";J17+="fa";J17+="u";J17+="lt";D17="d";D17+="e";D17+="fa";D17+="u";D17+="lt";b17="de";b17+="fa";b17+="ul";b17+="t";N17="de";N17+="fa";N17+="u";N17+="l";N17+="t";n17="che";n17+="ckBuff";n17+="er";n17+="i";n17+="ng";g17="1SIYb";g17+="Z";g17+="rNJC";g17+="p9";switch(t50){case 2:c=a(8);d=a(41);h=a(32).EventEmitter;g=a(13);n=a(36);p=a(9);t50=7;break;case 19:b.prototype.FA=function(a,b,c,d){var u10;u10=2;while(u10!==1){switch(u10){case 2:return this.IF.checkBuffering.call(this,a,b,c,d,this.config);break;}}};b.prototype.Ekb=function(a,b,d){var a10;a10=2;while(a10!==1){switch(a10){case 2:c.R(b)?(delete this.SB,delete this.Zo):b.L<d.L&&(this.SB=a);a10=1;break;}}};f.K=b;g17;t50=15;break;case 7:r=n.console;l=n.loa;m=n.b_;q=[g.ta.name[g.ta.Ig],g.ta.name[g.ta.rs],g.ta.name[g.ta.Hs],g.ta.name[g.ta.Ye],g.ta.name[g.ta.Yn],n17];t50=12;break;case 12:D={first:a(560),random:a(559),optimized:a(141),roundrobin:a(558),selectaudio:a(284),selectaudioadaptive:a(557),"default":a(141),rlabr:a(556),lowest:a(554),highest:a(553),throughputthreshold:a(552),checkdefault:a(551),testscript:a(550)};x={STARTING:N17,BUFFERING:b17,REBUFFERING:D17,PLAYING:J17,PAUSED:e17,checkBuffering:I17};b.prototype.constructor=b;b.prototype.s8=function(a,b,d,f,h,k,n){var N10,u,v,q,A,w,F,x,D,y,K,z,t,S,da,B,H,i10,K17,Y17;N10=2;while(N10!==59){K17="Str";K17+="eam selector";K17+=" called with invalid player state ";Y17="rl";Y17+="ab";Y17+="r";switch(N10){case 63:N10=i10===g.ta.Ye?22:62;break;case 52:this.Zv=u.fd;h=b[u.fd];u.reason&&(h.rib=u.reason,h.r8=u.pr,h.MH=u.MH,h.cl=u.cl,h.ek=u.ek);c.fa(x)&&h.L<b[x].L&&(this.Zo=d.Ra);a.state!==g.ta.Ye&&a.state!==g.ta.Yn?(k=this.FA(a,h,k,n),(u.Eo=k.complete)?u.reason=k.reason:(u.Eo=!1,u.yy=k.yy,u.oI=k.oI,u.ai=k.ai)):u.Eo=!0;a.Xj&&(u.Ra=d.Ra,k=a&&a.qk,y=h.V,u.Wq=y&&!isNaN(k)&&0<=k&&k<y.length?y.Zf(k):d.Ra,u.afb=h.ka||0,u.Fcb=h.pa&&h.pa.ka&&h.pa.ka.va||0,u.CVa=d.ij-d.ze,u.Kka=d.$g,u.Kua=q,u.Pj=a&&a.Pj,u.Jya=A,u.slb=p.time.ca());return u;break;case 54:N10=!u||null===u.fd?53:52;break;case 15:t=0<y.length?y:t.slice(0,1);void 0!==x&&(D=m(t,function(a){var S10;S10=2;while(S10!==1){switch(S10){case 4:return a.L<b[x].L;break;S10=1;break;case 2:return a.L>b[x].L;break;}}}),D=0<D?D-1:0===D?0:t.length-1);N10=26;break;case 35:N10=F.fr&&Y17!==F.Fy&&(q===g.ta.Ye||q===g.ta.Yn)&&0===a.qk%F.MC?34:54;break;case 12:z=y[K-1].Wa,x=m(b,function(a){var U10;U10=2;while(U10!==1){switch(U10){case 4:return a.id!==z;break;U10=1;break;case 2:return a.id===z;break;}}}),x=0<=x?x:void 0;N10=11;break;case 25:delete this.Zo;delete this.SB;N10=23;break;case 3:F=this.config;x=this.Zv;c.fa(x)&&a&&a.state===g.ta.Ig&&(delete this.Zv,x=void 0);c.fa(x)&&x>=b.length&&(delete this.Zv,x=void 0);y=d.V;N10=14;break;case 23:this.gN=g.zL.Ig;N10=22;break;case 34:h=this.Jhb[g.ta.name[q]].call(this,F,a,t,D,f,h);b.forEach(function(a){var o10;o10=2;while(o10!==1){switch(o10){case 2:a.JT=!1;o10=1;break;case 4:a.JT=-5;o10=8;break;o10=1;break;}}});D=a.Ad||d.ij-d.ze;S=K=y=0;N10=30;break;case 14:K=y.length;N10=13;break;case 22:u=this.IF[g.ta.name[q]].call(this,F,a,t,D,f,h);u.dc?(u.Vw=[],b.forEach(function(a,b){var E10;E10=2;while(E10!==4){switch(E10){case 2:a===u.dc&&(u.fd=b);a.JT&&u.Vw.push(b);a.JT=!1;E10=4;break;}}}),u.Vw.length||(u.Vw=void 0)):(y=function(a){var r10;r10=2;while(r10!==1){switch(r10){case 4:return m(b,function(b){return b!=t[a];});break;r10=1;break;case 2:return m(b,function(b){var s10;s10=2;while(s10!==1){switch(s10){case 2:return b===t[a];break;case 4:return b!==t[a];break;s10=1;break;}}});break;}}},u.fd=y(u.fd),u.Vw&&(u.Vw=u.Vw.map(y)));N10=35;break;case 19:t=b.filter(function(a){var g10;g10=2;while(g10!==1){switch(g10){case 2:return a&&a.ee&&a.inRange&&!a.Tg;break;}}});t.length||(t=b.filter(function(a){var e10;e10=2;while(e10!==1){switch(e10){case 2:return a&&a.ee&&!a.Tg;break;case 4:return a||a.ee||~a.Tg;break;e10=1;break;}}}),t.forEach(function(a){var m10;m10=2;while(m10!==1){switch(m10){case 2:a.inRange=!0;m10=1;break;case 4:a.inRange=-1;m10=4;break;m10=1;break;}}}));y=t;F.ZJ?y=t.filter(function(a){var P10;P10=2;while(P10!==1){switch(P10){case 2:return a.$k;break;case 4:return a.$k;break;P10=1;break;}}}):a.state!==g.ta.Ye&&a.state!==g.ta.Yn&&(y=t.filter(function(a){var M10;M10=2;while(M10!==1){switch(M10){case 4:return-a.tT;break;M10=1;break;case 2:return!a.tT;break;}}}));N10=15;break;case 62:N10=i10===g.ta.Yn?22:61;break;case 37:H=H.L||0;N10=36;break;case 2:d=a&&a.buffer;q=a&&a.state;A=p.time.ca();N10=3;break;case 40:H.pa&&H.pa.ka&&(S=H.pa.ka.va||0);da=b[x].L||0;B=B.L||0;N10=37;break;case 13:N10=0<K?12:11;break;case 53:return null;break;case 26:i10=a.state;N10=i10===g.ta.Ig?25:45;break;case 61:return r.error(K17+g.ta.name[a.state]),null;break;case 65:this.gN=g.zL.Ig;N10=22;break;case 64:N10=i10===g.ta.Hs?65:63;break;case 45:N10=i10===g.ta.rs?65:64;break;case 11:c.R(x)&&(x=this.Zv);l(b,function(b){var D10,L10;D10=2;while(D10!==8){switch(D10){case 2:D10=b.ee&&b.inRange&&!b.Tg&&b.pa&&b.pa.gc?1:9;break;case 1:D10=v!==b.pa||v&&v.Nr!==a.Nr||v&&v.Nu!==a.Nu?5:4;break;case 5:v=b.pa,v.Nr=a.Nr,v.Nu=a.Nu,a&&a.rn&&b.pa&&(b.pa.rn=!0),q==g.ta.Ig&&F.UG&&a.MQ&&F.$Z&&(b.pa.ka.va=a.MQ),w=Math.floor(f(b.pa,a.buffer)),w=0===w?1:w;D10=4;break;case 4:b.ka=w;F977.f17(0);L10=F977.x17(1,18,11,7);b.Oka=L10*w/b.pa.ka.va;D10=8;break;case 9:delete b.ka;D10=8;break;}}});q===g.ta.Ig&&c.fa(x)&&(q=g.ta.rs);N10=19;break;case 36:u.NC={current_tpt:y,prod_tpt:K,rl_tpt:S,current_br:da,prod_br:B,rl_br:H,blms:D,fellBackToProd:h.KP};N10=54;break;case 30:da=0;B=0;H=0;b[x].pa&&b[x].pa.ka&&(y=b[x].pa.ka.va||0);B=u.dc||b[u.fd];B.pa&&B.pa.ka&&(K=B.pa.ka.va||0);H=h.dc;N10=40;break;}}};t50=19;break;}}function b(a,b,g,f){var Q50;Q50=2;while(Q50!==8){switch(Q50){case 9:g.fr&&(this.Jhb=D.rlabr);Q50=8;break;case 2:this.config=g;this.events=a||d(h,{});f&&(this.Zv=f.Zv,this.gN=f.gN);b=b||g.Fy;this.IF=q.reduce(function(a,d){var b50,g;b50=2;while(b50!==3){switch(b50){case 2:g=c.ne(b)?b[d]||x[d]:b;a[d]=((D[g]||D[x[d]])[d]||D[x[d]][d]).bind(this);b50=4;break;case 14:return a;break;b50=3;break;case 4:return a;break;}}}.bind(this),{});Q50=9;break;}}}}());},function(f,d,a){var r,l,m,q,D,x,w,z;function b(a){var c,d,g;a=a.parent;c=!1;if(a&&a.children){d={};d[x.ji]=[];d[x.Gh]=[];d[x.TEMPORARY]=[];g=a.children;g.forEach(function(a){a&&d[a.kd].push(a);});0<d[x.ji].length||(d[x.Gh].length===g.length?a.kd!==x.Gh&&(a.kd=x.Gh,D.error("PERM failing :",l.Xe.name[a.dx]+" "+a.id),c=!0):(a.kd===x.ji&&(a.kd=x.TEMPORARY,D.error("TEMP failing :",l.Xe.name[a.dx]+" "+a.id),c=!0),d[x.TEMPORARY].forEach(function(a){a.kd=x.ji;})),c&&b(a));}}function c(a){var c;for(var b=[];a;a=a.parent)switch(a.dx){case l.Xe.Iv:c=a;b.unshift(c.id+"("+c.name+")");break;case l.Xe.uca:b.unshift(a.id);break;case l.Xe.URL:b.unshift("<url for "+a.stream.L+">");}return b.length?"/"+b.join("/"):"";}function k(a){var b;if((a=a.parent)&&0<a.children.length&&a.kd!==x.ji){b={};b[x.ji]=[];b[x.Gh]=[];b[x.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.kd].push(a);});0<b[x.ji].length&&(a.kd=x.ji,k(a));}}function h(a){return a.kd!==x.ji;}function g(a){switch(a.kd){case x.ji:return"OK";case x.Gh:return"FAILED PERMANENTLY";case x.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function n(a){a.a$=a.pa.gc>=l.Xc.ys&&!a.pa.ex?a.pa.ka.va*a.weight:0;}function p(a,b){if(a.kd===x.TEMPORARY||a.kd===x.Gh&&b)a.kd=x.ji;a.children&&a.children.forEach(function(a){a&&p(a,b);});}Object.defineProperty(d,"__esModule",{value:!0});r=a(8);l=a(13);d=a(119);m=a(32);q=a(9);D=new q.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.ji=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Gh=2]="PERMANENT";}(x||(x={})));(function(a){a[a.SHa=0]="ORIGINAL";a[a.uBa=1]="CONTINUOUS";}(w||(w={})));(function(a){a[a.Ks=0]="STARTUP";a[a.Ssb=1]="REBUFFER";a[a.bLa=2]="SEEK";a[a.mqb=3]="FAILURE";a[a.msb=4]="PERFORMANCE";}(z||(z={})));a=function(){var U17;function a(a,b,c,d,g){var u17,f,n38,j38,Q38,d38;u17=2;while(u17!==25){n38="1SIYbZ";n38+="rNJCp";n38+="9";j38="c";j38+="l";j38+="o";j38+="s";j38+="e";Q38="net";Q38+="wor";Q38+="k";d38="u";d38+="nd";d38+="e";d38+="rf";d38+="low";switch(u17){case 12:this.sm={};u17=11;break;case 8:this.config=g;this.Hn=g.$A&&d;this.mode=w.SHa;this.mI=void 0;this.pj={};u17=12;break;case 15:u17=a&&(this.events.on(d38,function(){var B17;B17=2;while(B17!==1){switch(B17){case 4:f.mhb();B17=4;break;B17=1;break;case 2:f.mhb();B17=1;break;}}}),g.z$a)?27:26;break;case 18:this.ik={id:Q38,dx:l.Xe.Up,kd:x.ji,mp:void 0,parent:void 0,children:this.Br};u17=17;break;case 17:this.SC=this.qN=null;this.TC=l.je.Ks;u17=15;break;case 2:f=this;this.events=a;this.Ji=b;this.lR=c;this.Hn=d;u17=8;break;case 11:this.Gc={};this.Lb={};this.Br=[];this.QR=!1;u17=18;break;case 27:this.events.on(j38,function(){var k17;k17=2;while(k17!==1){switch(k17){case 2:f.qeb();k17=1;break;case 4:f.qeb();k17=3;break;k17=1;break;}}});u17=26;break;case 26:n38;u17=25;break;}}}U17=2;while(U17!==27){switch(U17){case 8:a.prototype.moa=function(a){var H17,b;H17=2;while(H17!==3){switch(H17){case 1:H17=a?5:3;break;case 2:H17=1;break;case 5:b=a.bind(this);r.forEach(this.Gc,function(a){var L17,c;L17=2;while(L17!==4){switch(L17){case 2:c=a.Ub;b(c.location,c,a.stream,a);L17=4;break;}}});H17=3;break;}}};a.prototype.GF=function(a){var s17,b,D78;s17=2;while(s17!==20){D78="manife";D78+="st";D78+="Adde";D78+="d";switch(s17){case 4:this.qN=q.time.ca();this.Br.sort(function(a,b){var X17;X17=2;while(X17!==1){switch(X17){case 2:return a.level-b.level||a.zd-b.zd;break;}}});a.servers.forEach(function(a){var z77,c,d,g;z77=2;while(z77!==14){switch(z77){case 4:d=b.pj[a.key];z77=3;break;case 2:c=a.id;z77=5;break;case 3:z77=d?9:14;break;case 5:z77=!b.sm[c]?4:14;break;case 9:g=[];a={id:c,dx:l.Xe.Iv,kd:x.ji,mp:void 0,parent:d,children:g,Gc:g,name:a.name,type:a.type,zd:a.rank,location:d};b.sm[a.id]=a;d.children.push(a);z77=14;break;}}});a.audio_tracks.forEach(function(a){var t77;t77=2;while(t77!==1){switch(t77){case 4:b.dva(a);t77=3;break;t77=1;break;case 2:b.dva(a);t77=1;break;}}});a.video_tracks.forEach(function(a){var S77;S77=2;while(S77!==1){switch(S77){case 4:b.dva(a);S77=3;break;S77=1;break;case 2:b.dva(a);S77=1;break;}}});a=this.Br.filter(function(a){var O77,c;O77=2;while(O77!==3){switch(O77){case 2:c=a.sm.every(function(a){var a77,U77;a77=2;while(a77!==1){switch(a77){case 2:return 0===a.Gc.length;break;case 4:F977.k38(0);U77=F977.P38(14,13);return U77==a.Gc.length;break;a77=1;break;}}});c&&(a.sm.forEach(function(a){var V77;V77=2;while(V77!==1){switch(V77){case 2:b.sm[a.id]=void 0;V77=1;break;}}}),b.pj[a.id]=void 0,a.parent=void 0,a.children.length=0,a.Lb={});return!c;break;}}});s17=14;break;case 2:b=this;a.locations.forEach(function(a){var m17,c,d,g,f;m17=2;while(m17!==13){switch(m17){case 5:m17=!b.pj[c]?4:13;break;case 2:c=a.key;m17=5;break;case 4:d=[];g=b.lR.get(c);f=b.ik;a={id:c,dx:l.Xe.uca,kd:x.ji,zd:a.rank,level:a.level,weight:a.weight,mp:void 0,parent:f,children:d,sm:d,Lb:{},Lr:!1,bva:!1,pa:g,a$:null,HO:void 0};b.pj[a.id]=a;f.children.push(a);n(a);m17=13;break;}}});s17=4;break;case 14:a.forEach(function(a){var q77;q77=2;while(q77!==1){switch(q77){case 2:a.sm.sort(function(a,b){var j77;j77=2;while(j77!==1){switch(j77){case 2:return a.zd-b.zd;break;case 4:return a.zd/b.zd;break;j77=1;break;}}});q77=1;break;}}});this.Br=a;this.ik.children=a;s17=11;break;case 11:this.emit(D78);this.dump();s17=20;break;}}};a.prototype.cU=function(a,b){var G77,c,d,g,f,k,p,u,m,m78,p78,C78,Z78;G77=2;while(G77!==24){m78="(e";m78+="mpty ";m78+="st";m78+="r";m78+="eam list)";p78="Did not ";p78+="find a URL for";p78+=" ";p78+="ANY stre";p78+="am...";C78="net";C78+="wor";C78+="kFai";C78+="led";Z78="Network has fail";Z78+="ed, n";Z78+="ot updating stream selection";switch(G77){case 26:b.forEach(function(a,b){var p77,n,S78,w78,c78,H78;p77=2;while(p77!==4){S78=" ";S78+="Kbps";S78+=")";w78=" ";w78+="(";c78="]";c78+=" ";H78="Failing s";H78+="tream";H78+=" [";switch(p77){case 2:n=a.id;m.some(function(b){var E77,c,k;E77=2;while(E77!==7){switch(E77){case 5:E77=!c?4:3;break;case 4:return!1;break;case 9:void 0===a.uS&&(a.uS=k.id,a.W6=c.DK[k.id][0].Ub.id);return c.DK[b.id].some(function(c){var Z77,n,B78,F78,T78,E78,s78;Z77=2;while(Z77!==11){B78="lo";B78+="c";B78+="ati";B78+="onf";B78+="ailover";F78="serve";F78+="r";F78+="fai";F78+="love";F78+="r";T78="performa";T78+="n";T78+="ce";E78="p";E78+="ro";E78+="b";E78+="e";s78="u";s78+="n";s78+="kn";s78+="ow";s78+="n";switch(Z77){case 4:Z77=h(c)?3:9;break;case 2:Z77=1;break;case 1:Z77=h(c.Ub)?5:4;break;case 5:return c.Ub.kd===x.TEMPORARY&&(a.kd=x.TEMPORARY),d.Gn&&a.Ub===c.Ub.id&&c.Ub.mp&&(a.mp=c.Ub.mp),!1;break;case 9:n=s78;a.location!==b.id&&(d.Gn?a.Uyb=b.id===k.id:n=b!==m[0]?""+l.je.wU:void 0===a.location?""+l.je.Ks:f?E78:r.R(a.rra)||a.rra===b.id?r.R(a.tra)||a.tra===c.Ub.id?T78:F78:B78,a.location=b.id,a.P4=b.level,a.qm=n);a.url=c.url;a.Ub=c.Ub.id;a.Cy=c.Ub.name;Z77=13;break;case 3:return!1;break;case 13:a.pa=d.w_?b.pa.gc>=l.Xc.Un?b.pa:g.gc<p?b.pa:g:g.gc===l.Xc.HAVE_NOTHING||b.pa.gc>=l.Xc.Un?b.pa:g;return!0;break;}}});break;case 2:c=b.Lb[n];E77=5;break;case 3:k=c.pj[0];E77=9;break;}}})?(a.Tg=void 0,a.kd=void 0,a.ee&&++k):a.kd&&a.kd===x.TEMPORARY?c.ik.kd=x.TEMPORARY:a.Tg||(D.warn(H78+b+c78+n+w78+a.L+S78),a.RWa(),a.Tg=!0);p77=4;break;}}});return h(this.ik)?(D.warn(Z78),this.QR=!0,this.emit(C78,this.ik.kd===x.Gh),null):k?b:(D.warn(p78+(b.length?"":m78)),this.kl(l.Xe.Up,!0),null);break;case 16:m=this.SC;G77=15;break;case 17:return this.kl(l.Xe.Up,!1),null;break;case 12:G77=this.Ji.location&&g.gc>=p?11:20;break;case 3:f=this.Hn;k=0;q.Zm&&q.Zm();G77=7;break;case 10:u&&(u.pa=g,n(u));G77=20;break;case 20:G77=r.Ja(this.SC)||f?19:18;break;case 11:u=this.pj[this.Ji.location];G77=10;break;case 18:G77=!this.SC?17:16;break;case 14:p=l.Xc.ys;d.OI&&(p=l.Xc.Un);G77=12;break;case 19:this.SC=this.Smb(a);G77=18;break;case 7:G77=h(this.ik)?6:14;break;case 15:G77=!m.length?27:26;break;case 6:return null;break;case 2:c=this;d=this.config;g=this.Ji.get();G77=3;break;case 27:return this.kl(l.Xe.Up,!1),null;break;}}};a.prototype.Rib=function(a,b){var M77,c,d;M77=2;while(M77!==9){switch(M77){case 3:return c;break;case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;r.forEach(this.Gc,function(g,f){var Q77,h,k,n,p,v78,o78;Q77=2;while(Q77!==13){v78="8";v78+="0";o78="4";o78+="4";o78+="3";switch(Q77){case 2:g=g.parent?g.parent.id:"";h=c[g];k=f.match(d);Q77=3;break;case 9:n="s"===k[1];p=k[2];k=k[3];k.length||(k=n?o78:v78);Q77=14;break;case 3:Q77=k&&4===k.length?9:13;break;case 14:r.Gd(p)&&r.Gd(k)&&p===a&&k==b&&(h?h.push(f):c[g]=[f]);Q77=13;break;}}});M77=3;break;}}};U17=13;break;case 5:a.prototype.ex=function(){var P17;P17=2;while(P17!==1){switch(P17){case 4:return h(this.ik);break;P17=1;break;case 2:return h(this.ik);break;}}};a.prototype.Zwa=function(a){var v17;v17=2;while(v17!==5){switch(v17){case 2:v17=(a=this.Gc[a])&&a.parent?1:5;break;case 1:return a.parent.id;break;}}};a.prototype.kR=function(a){var l17;l17=2;while(l17!==5){switch(l17){case 1:return a.Ub.location;break;case 9:return a.Ub.location;break;l17=5;break;case 2:l17=(a=this.Gc[a])&&a.Ub?1:5;break;}}};a.prototype.Txa=function(a){var c17;c17=2;while(c17!==5){switch(c17){case 1:return a.stream;break;case 3:c17=(a=this.Gc[a])?4:3;break;c17=(a=this.Gc[a])?1:5;break;case 2:c17=(a=this.Gc[a])?1:5;break;case 9:return a.stream;break;c17=5;break;}}};U17=8;break;case 11:a.prototype.JC=function(a){var d77;d77=2;while(d77!==1){switch(d77){case 4:p(this.ik,a);d77=3;break;d77=1;break;case 2:p(this.ik,a);d77=1;break;}}};a.prototype.Tx=function(a){var W77,e78;W77=2;while(W77!==1){e78="logd";e78+="a";e78+="t";e78+="a";switch(W77){case 4:this.Fa("",a);W77=2;break;W77=1;break;case 2:this.Fa(e78,a);W77=1;break;}}};a.prototype.dva=function(a){var w77,b;w77=2;while(w77!==4){switch(w77){case 2:w77=1;break;case 1:b=this;a.streams.forEach(function(a){var T77,c,d,g,u78;T77=2;while(T77!==13){u78="n";u78+="o";u78+="n";u78+="e-";switch(T77){case 2:c=a.downloadable_id;d=b.Lb[c];T77=4;break;case 7:a.urls.forEach(function(a){var i77,c,g,f;i77=2;while(i77!==11){switch(i77){case 5:g=b.Gc[c];i77=4;break;case 2:c=a.url;i77=5;break;case 4:i77=r.R(g)&&(a=b.sm[a.cdn_id])?3:11;break;case 8:b.Gc[c]=g;a.children.push(g);d.Gc.push(g);0===d.pj.filter(function(a){var A77;A77=2;while(A77!==1){switch(A77){case 2:return a.id===f.id;break;case 4:return a.id==f.id;break;A77=1;break;}}}).length&&d.pj.push(f);i77=13;break;case 3:f=a.location;g={id:c,dx:l.Xe.URL,kd:x.ji,mp:void 0,parent:a,children:[],url:c,Ub:a,stream:d};i77=8;break;case 13:f.Lb[d.id]=d;(c=d.DK[f.id])?c.push(g):d.DK[f.id]=[g];i77=11;break;}}});r.Ac(d.DK,function(a){var x77;x77=2;while(x77!==1){switch(x77){case 2:a.sort(function(a,b){var R77;R77=2;while(R77!==1){switch(R77){case 2:return a.Ub.zd-b.Ub.zd;break;case 4:return a.Ub.zd%b.Ub.zd;break;R77=1;break;}}});x77=1;break;}}});d.pj=d.pj.sort(function(a,b){var f77;f77=2;while(f77!==1){switch(f77){case 2:return a.level-b.level||a.zd-b.zd;break;}}});T77=13;break;case 4:T77=r.R(d)?3:7;break;case 8:b.Lb[d.id]=d;T77=7;break;case 3:g=a.content_profile;T77=9;break;case 9:d={id:c,L:a.bitrate,Hb:a.vmaf,type:a.type,profile:g,clear:0===g.indexOf(u78),ee:!0,Gc:[],DK:{},pj:[]};T77=8;break;}}});w77=4;break;}}};U17=19;break;case 13:a.prototype.kl=function(a,d,f,k){var o77,n,p,r,y77,U78,N78,i78,K78,L78,t78,R78,W78,r78;o77=2;while(o77!==25){U78="Inv";U78+="al";U78+="id failure state";N78="Unable to ";N78+="fin";N78+="d ";N78+="failure ";N78+="entity for URL ";i78=" : w";i78+="a";i78+="s";i78+=" ";K78=" ";K78+="a";K78+="t";K78+=" ";L78=" failu";L78+="re ";L78+="repor";L78+="ted";L78+=" for ";t78="T";t78+="E";t78+="MP";R78="P";R78+="E";R78+="R";R78+="M";W78="netwo";W78+="rkF";W78+="aile";W78+="d";r78="Emit";r78+="ti";r78+="ng networkFailed, perma";r78+="nen";r78+="t =";switch(o77){case 15:o77=27;break;case 2:n=a!==l.Xe.Up&&f?this.Gc[f]:this.ik,p=this.ik.kd,r=d?x.Gh:x.TEMPORARY;o77=1;break;case 13:b(n);this.QR=this.QR||h(this.ik);a=this.ik.kd;a>p&&(D.warn(r78,a===x.Gh),this.emit(W78,a===x.Gh));o77=20;break;case 3:o77=r!==n.kd?9:25;break;case 9:D.warn((d?R78:t78)+L78+l.Xe.name[a]+K78+c(n)+i78+g(n));o77=8;break;case 8:y77=n.kd;o77=y77===x.Gh?7:6;break;case 1:o77=n&&n.parent&&n.dx!==a?5:4;break;case 26:F977.g38(1);D.warn(F977.P38(N78,f));o77=25;break;case 4:o77=n?3:26;break;case 7:return;break;case 14:n.kd=r;o77=13;break;case 20:this.SC=null;this.TC=l.je.ERROR;o77=18;break;case 16:o77=y77===x.ji?14:15;break;case 18:k&&(this.TC=l.je.rJa,n.mp=k);this.dump();o77=25;break;case 5:n=n.parent;o77=1;break;case 6:o77=y77===x.TEMPORARY?14:16;break;case 27:throw Error(U78);o77=14;break;}}};a.prototype.ewa=function(a,b){var F77;F77=2;while(F77!==3){switch(F77){case 5:this.SC=null;this.TC=l.je.NW;F77=3;break;case 1:p(a,b),k(a);F77=5;break;case 7:p(a,b),k(a);F77=9;break;F77=5;break;case 2:F77=(a=this.sm[a])?1:5;break;}}};U17=11;break;case 2:a.prototype.L6a=function(){var C17;C17=2;while(C17!==1){switch(C17){case 2:return this.Br[0].pa;break;case 4:return this.Br[5].pa;break;C17=1;break;}}};a.prototype.T2=function(){var r17;r17=2;while(r17!==1){switch(r17){case 2:return this.Br;break;case 4:return this.Br;break;r17=1;break;}}};U17=5;break;case 19:a.prototype.Smb=function(a){var h77,b,c,d,g,f,k;h77=2;while(h77!==27){switch(h77){case 11:h77=this.Hn?10:15;break;case 19:a.every(function(a){var b77;b77=2;while(b77!==5){switch(b77){case 2:r.Ja(k)&&(k=a.level);return k!==a.level?(b.Hn=!1,f=l.je.G$,!1):a.pa.gc<l.Xc.Un?!1:a.pa.ka.va>c.P1?(b.Hn=!1,f=l.je.WDa,!1):!0;break;}}})&&(this.Hn=!1,f=l.je.G$);h77=18;break;case 15:c.$A?(f=l.je.mGa,this.mode===w.uBa&&(this.Hn=d>c.r9)):f=this.TC;h77=18;break;case 12:f=null;h77=11;break;case 14:h77=null===this.qN||this.qN+c.O4<g?13:12;break;case 10:a.forEach(function(a){var N77;N77=2;while(N77!==1){switch(N77){case 2:a.pa.gc>=l.Xc.Un?(a.bva=a.bva||a.Lr,a.Lr=!1,a.HO=l.Xc.Un):(a.Lr=!0,a.HO=a.pa.gc);N77=1;break;}}});k=null;h77=19;break;case 9:a=this.Br.filter(function(a){var g77;g77=2;while(g77!==1){switch(g77){case 4:return-h(a)||8!=a.level;break;g77=1;break;case 2:return!h(a)&&0!==a.level;break;}}});h77=8;break;case 13:a.forEach(function(a){var n77;n77=2;while(n77!==1){switch(n77){case 2:a.id!==b.Ji.location&&(a.pa=b.lR.get(a.id));n77=1;break;}}}),this.qN=g;h77=12;break;case 6:g=q.time.ca();h77=14;break;case 7:return null;break;case 18:c.$A?a.sort(function(a,c){var D77;D77=2;while(D77!==1){switch(D77){case 2:return a.level-c.level||(b.Hn&&a.Lr&&!c.Lr?-1:0)||(b.Hn&&c.Lr&&!a.Lr?1:0)||(b.Hn&&a.Lr&&c.Lr?a.zd-c.zd:0)||c.HO-a.HO||c.a$-a.a$||a.zd-c.zd;break;}}}):a.sort(function(a,b){var J77;J77=2;while(J77!==1){switch(J77){case 2:return a.level-b.level||a.zd-b.zd;break;}}});this.mI||r.Ja(f)||(this.mI=!0);return a;break;case 8:h77=0===a.length?7:6;break;case 2:b=this;c=this.config;a=a.buffer;d=a.ij-a.ze;h77=9;break;}}};a.prototype.mhb=function(){var e77,a;e77=2;while(e77!==9){switch(e77){case 2:a=this.Ji.location;this.mI=!1;this.Hn=this.config.$A&&!0;this.Br.forEach(function(b){var I77;I77=2;while(I77!==1){switch(I77){case 2:b.id!==a&&b.pa&&b.pa.gc>l.Xc.ys&&(b.pa.gc=l.Xc.ys);I77=1;break;}}});e77=9;break;}}};a.prototype.qeb=function(){var Y77,a;Y77=2;while(Y77!==4){switch(Y77){case 2:a=this;this.QR||this.Br.forEach(function(b){var K77;K77=2;while(K77!==1){switch(K77){case 2:b.kd===x.TEMPORARY&&a.lR.fail(b.id,q.time.ca());K77=1;break;}}});Y77=4;break;}}};a.prototype.dump=function(){};return a;break;}}}();d.yK(m.EventEmitter,a);f.K=a;},function(f,d,a){var c;function b(a,d){var g,f,h;g=[];if(c.ne(d)){f={};h={};h[a]=f;g.push(h);g=Object.keys(d).reduce(function(g,h){var k,n,p;k=d[h];p={};c.Q8a(k)?(n=a+".__embed__."+h,p[n]=k,g.push(p)):c.ne(k)?(n=a+".__sub__."+h,k=b(n,k),f[h]=k[0][n],g=g.concat(k.slice(1))):f[h]=k;return g;},g);}else h={},h[a]=d,g.push(h);return g;}c=a(117);f.K={G0a:b,J8a:function(a){var b,D;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(function(a,b){return a.length>b.length;});for(var c=b[0],d=c.length,c=a[c.join(".")],f=1;f<b.length;f++)for(var k=!1,l=!1,m=c,q=d;q<b[f].length;q++){D=b[f][q];switch(D){case"__metadata__":break;case"__sub__":l=!0;break;case"__embed__":k=!0;break;default:l?(m=m[D],l=!1):k&&(m[D]=a[b[f].join(".")],k=!1);}}return c;},b9a:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(f,d,a){function b(a){return a;}function c(){return b;}a(8);f.K={rH:c,g3:c};},function(f,d,a){var b,c,k,h;b=a(8);c=a(117);k={};k[c.vl.mv]=function(a){return a;};k[c.vl.eM]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};k[c.vl.OBJECT]=function(a){a=a||new ArrayBuffer(0);return JSON.parse(String.fromCharCode.apply(null,new Uint8Array(a)));};h={};h[c.vl.mv]=function(a){return a;};h[c.vl.eM]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,g=a.length;d<g;d++)c[d]=a.charCodeAt(d);return b;};h[c.vl.OBJECT]=function(a){return b.R(a)||b.Ja(a)?a:h[c.vl.eM](JSON.stringify(a));};f.K={rH:function(a){return k[a]||k[c.vl.mv];},g3:function(a){return h[a]||h[c.vl.mv];}};},function(f){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.Yi=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Yi=a;}this.Fl=[];}function a(c,d){var f,g,k,p,r,l,m;f=c.Fl;g=c.Yi;k=2*d+1;p=2*d+2;r=f[d];l=f[k];m=f[p];l&&g(l.ed,r.ed)&&(!m||g(l.ed,m.ed))?(b(f,d,k),a(c,k)):m&&g(m.ed,r.ed)&&(b(f,d,p),a(c,p));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.Fl=[];};d.prototype.HB=function(a,d){this.Fl.push({ed:a,value:d});a=this.Fl;d=this.Yi;for(var c=a.length-1,g=0===c?null:Math.floor((c-1)/2);null!==g&&d(a[c].ed,a[g].ed);)b(a,c,g),c=g,g=0===c?null:Math.floor((c-1)/2);};d.prototype.remove=function(){var c;if(0!==this.Fl.length){c=this.Fl[0];b(this.Fl,0,this.Fl.length-1);this.Fl.pop();a(this,0);return c.value;}};d.prototype.vC=function(){if(0!==this.Fl.length)return this.Fl[0].value;};d.prototype.enqueue=d.prototype.HB;d.prototype.g0a=d.prototype.remove;d.prototype.Oy=function(){return this.Fl.map(function(a){return a.value;});};f.K=d;},function(f,d,a){var c,k,h,g,n;function b(a,d,f){var y,F;function p(a,b,c,d){a.info.call(a,function(a){var g;try{g=a.values[this.context].entries[b][c].size;}catch(fa){g=-1;}-1<g?d(g):this.ls(function(a){try{g=a[c].size;}catch(Z){g=-1;}d(g);});}.bind(a));}function r(a,c,d,g,f,h,n){h?h.ej||(h.ej={}):h={ej:{}};y(g);a.create(k.storage.pz,c,d,function(d){d.P?p(a,k.storage.pz,c,function(a){F(a);y(a);h.ej[b.QK.YV]={P:!0,time:f,Pl:a,su:c,mva:d};h.Sh=d.Sh;n(null,h);}):(h.ej[b.QK.YV]={P:!1,su:c,error:d.error},n(null,h));});}function l(a,b,c,d,g,f){d.HB(c.time,c);for(var h=c.time-864E5,k=d.vC();k&&!isNaN(k.time)&&k.time<h;)k=d.g0a(),y(0-(k.$||0)),k=d.vC();d=d.Oy().map(function(a){return a.time+";"+a.$;});r(a,b,Array.prototype.join.call(d,"|"),c.$,c.time,g,f);}function u(a,c,d,g,f,k,n,r,u){a.create(d,g,f,function(f){var m;if(f.P){m=f.Sh;p(a,d,g,function(d){var h,p;h={time:r,$:d||0};p={Sh:m,ej:{}};p.ej[b.QK.REPLACE]={P:!0,time:r,Pl:d,su:g,mva:f};k?l(a,c,h,n,p,u):(y(d),u(null,p));});}else u(h.qM.xm(f.error||"Failed to create item"));});}function m(a,c,d,g,f,k,n,r,u){a.append(d,g,f,function(f){var m;if(f.P){m=f.Sh;p(a,d,g,function(d){var h,p;h={time:r,$:d||0};p={Sh:m,ej:{}};p.ej[b.QK.YKa]={P:!0,time:r,Pl:d,su:g,mva:f};k?l(a,c,h,n,p,u):(y(d),u(null,p));});}else u(h.qM.xm(f.error||"Failed to save item"));});}function q(a,b){a&&c.Bb(a.remove)&&a.valid&&a.remove(k.storage.pz,b.Tz,function(d){try{d&&(c.R(d.error)||d.error.some(function(a){return"NFErr_FileNotFound"===a.Xwb;}))&&l(a,b.Tz,{time:0,$:0},b.xF,0,function(){});}catch(P){}});}if(!a.valid)return n;this.Vga=c.R(d)||c.Ja(d)?0:d;this.$X=a;this.rY=this.WE=0;this.xF=new g();this.RQa=f||"default";this.Tz=this.RQa+".NRDCACHEJOURNALKEY";y=function(a){isNaN(a)||(this.WE+=a);return this.WE;}.bind(this);F=function(a){isNaN(a)||(this.rY+=a);return this.rY;}.bind(this);this.Yoa=function(){return this.Tz;};this.save=function(a,b,c,d){var g;g=k.time.now();m(this.$X,this.Tz,a,b,c,0<=this.Vga,this.xF,g,d);};this.replace=function(a,b,c,d){var g;g=k.time.now();u(this.$X,this.Tz,a,b,c,0<=this.Vga,this.xF,g,d);};this.Hoa=function(a){var b,g;b=this.WE;a-=864E5;for(var c=this.xF.Oy(),d=0;d<c.length;d++){g=c[d];g.time<a&&!isNaN(g.$)&&(b-=g.$);}return b;};(function(a){var b;b=a.$X;a.WE=0;b.read(k.storage.pz,a.Tz,0,-1,function(c){var d,g,f,n;d=[];g=0;f=!0;if(c.P){c=String.fromCharCode.apply(null,new Uint8Array(c.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);y(d);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),$:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.$;},0)))for(var f=!1,h=k.time.now()-864E5;g<d.length;g++){n=d[g];n.time<h||(a.xF.HB(n.time,n),y(n.$));}}catch(O){}}f&&q(b,a);});}(this));}c=a(8);k=a(98);h=a(182);g=a(566);d=a(41);new k.Console("DISKWRITEMANAGER","media|asejs");d({QK:{YKa:"saveitem",REPLACE:"replaceitem",YV:"journalupdate"}},b);n={save:function(a,b,c,d){d(h.Ica);},replace:function(a,b,c,d){d(h.Ica);},Yoa:function(){return"";},Hoa:function(){return 0;}};b.prototype.constructor=b;f.K={create:function(a,c,d){return new b(a,c,d);},fsb:n};},function(f,d,a){var p,r,l,m,q,D,x,w;function b(){}function c(d,g,f,n,l){var u;u=p.Bb(n)?n:b;this.dt=d;this.Hz=f.Kt;this.zq=0;this.oOa=f.C2a||"NONE";this.hq=p.R(l)||p.Ja(l)?0:l;this.ce={};this.io=f.uzb||r.storage.pz;this.iq=g;this.FF=q.create(this.iq,f.$Za*this.hq,this.dt);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Fa=w.Fa;this.Aha=h(this,c.pd.REPLACE);this.UOa=h(this,c.pd.bga);this.jw;this.jw=f.lza?a(565):a(564);this.Q2(function(a){this.ES(a.filter(function(a){return D.JB(a);}),function(a,b){Object.keys(b).map(function(a){this.ce[D.Rna(a)]=b[a];}.bind(this));k(this.iq,this.io,this.dt,function(a){this.zq=a;u(this);}.bind(this));}.bind(this));}.bind(this));}function k(a,c,d,g){var f;f=p.Bb(g)?g:b;a.query(c,d,function(a){var b;b=Object.keys(a).reduce(function(b,c){return b+(a[c].size||0);},0);f(b);});}function h(a,b){return function(d,f,h,n,l){return function(u,m){var v;if(u)f||a.Fa(c.pd.ERROR,{itemKey:d,error:u}),h(u);else{v={Pl:0,items:[],time:r.time.now()};Object.keys(m.ej).map(function(b){var c;c=m.ej[b];b={key:a.Hya(c.su),oe:b};c.P?(v.Pl+=c.Pl,b.bR=c.Pl):b.error=c.error;v.items.push(b);});u=p.Bb(n)?n():0;0<l&&(v.QA=l-u);k(a.iq,a.io,a.dt,function(c){a.zq=c;v.Sh=a.Hz-c;f||a.Fa(b,g(v));h(null,v);});}};};}function g(a){var b;b={freeSize:a.Sh,dailyBytesRemaining:a.QA,bytesWritten:a.Pl,time:a.time};a.items&&(b.items=a.items.map(function(a){return{key:a.key,operation:a.oe,itemBytes:a.bR,error:a.error};}));return b;}function n(a,b){return 0<b&&a>=b?!0:!1;}p=a(8);r=a(98);l=a(182);d=a(41);m=new r.Console("MEDIACACHE","media|asejs");q=a(567);D=a(287);x=a(117);w=a(32).EventEmitter;d({pd:{bga:"writeitem",REPLACE:"replaceitem",YV:"journalupdate",ERROR:"mediacache-error"}},c);c.prototype.getName=function(){return this.dt;};c.prototype.Hya=function(a){return a.slice(this.dt.length+1);};c.prototype.Toa=function(){return Object.keys(this.ce).filter(function(a){a=D.t2(this.ce[a]);return void 0===a||0>=a.Hla();}.bind(this));};c.prototype.b6a=function(){return Object.keys(this.ce).reduce(function(a,b){var c;c=this.ce[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:r.time.now()}).iBb;};c.prototype.n5a=function(){var a;switch(this.oOa){case"FIFO":a=this.b6a();}return a;};c.prototype.c0a=function(a){var c;c=p.Bb(a)?a:b;this.Q2(function(b){var d,g,f;d=this.ce;g=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!D.JB(a)&&0>g.indexOf(a);}))&&0<b.length){f=this;r.Promise.all(b.map(function(a){return new r.Promise(function(b,c){f["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{y7:!0});},function(a){c(a,{y7:!1});});}else a(void 0,{y7:!1});}.bind(this));};c.prototype.ggb=function(a,c,d){var g;g=p.Bb(c)?c:b;this.iq.read(this.io,this.Mx(a),0,-1,function(b){var c;if(b&&b.P&&b.value){p.Bb(d)||(d=this.jw.rH(x.vl.mv),D.JB(a)?d=this.jw.rH(x.vl.OBJECT):(c=this.ce[a],!p.R(c)&&p.fa(c.resourceIndex[a])?(c=c.resourceIndex[a],p.R(c)&&(c=x.vl.mv),d=this.jw.rH(c)):m.warn("Metadata is undefined or does not contain a resource format for key",a,":",c)));b=d(b.value);g(null,b);}else g(l.DE.xm(b.error));}.bind(this));};c.prototype.read=function(a,b,c){this.ggb(a,b,c);};c.prototype.ES=function(a,c,d){var g,f;g=p.Bb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))g(l.DE.xm("item keys must be an array"));else{f={};r.Promise.all(a.map(function(a){return new r.Promise(function(b,c){var g;d&&!p.R(d[a])&&(g=this.jw.rH(d[a]));this.read(a,function(d,g){d?(g={},g[a]=d,c(g)):(f[a]=g,b());},g);}.bind(this));}.bind(this))).then(function(){g(null,f);},function(a){g(a);});}};c.prototype.write=function(a,c,d,g,f){var h,k,r;d=p.Bb(d)?d:b;h=this.Mx(a);k="function"===typeof f?f():0;r=x.p3(c);r=this.jw.g3(r)(c);r.byteLength+this.zq>=this.Hz?d(l.az):n(r.byteLength+k,this.hq)?d(l.rM):this.FF.save(this.io,h,c,this.UOa(a,g,d,f,this.hq),r.byteLength);};c.prototype.replace=function(a,c,d,g,f){var h,k,r,u;h=p.Bb(d)?d:b;k=this.Mx(a);r=0;"function"===typeof f&&(r=f());d=x.p3(c);u=this.jw.g3(d)(c);d=(this.ce[a]||{}).size||0;0>=d&&this.ce[a]?this.jpa([a],function(b){m.trace("Replacing key",a,"which exists:",!!this.ce[a],this.ce[a]?this.ce[a]:void 0,"and has size",b,"with",c,"with size",u.byteLength,"plus _used",this.zq,"vs capacity",this.Hz);u.byteLength-b+this.zq>=this.Hz?h(l.az):n(u.byteLength-b+r,this.hq)?h(l.rM):this.FF.replace(this.io,k,c,this.Aha(a,g,h,f,this.hq),u.byteLength);}.bind(this)):(m.trace("Replacing key",a,"which exists:",!!this.ce[a],this.ce[a]?this.ce[a]:void 0,"and has size",d,"with",c,"with size",u.byteLength,"plus _used",this.zq,"vs capacity",this.Hz),u.byteLength-d+this.zq>=this.Hz?h(l.az):n(u.byteLength-d+r,this.hq)?h(l.rM):this.FF.replace(this.io,k,c,this.Aha(a,g,h,f,this.hq),u.byteLength));};c.prototype.ehb=function(a,d,f,h){var k;k=p.Bb(d)?d:b;"[object Object]"!==Object.prototype.toString.call(a)?k(l.qM.xm("items must be a map of keys to objects")):r.Promise.all(Object.keys(a).map(function(b){return new r.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,key:b}):c(d);},!0,h);}.bind(this));}.bind(this))).then(function(a){var b,d,n,l;try{b=Number.MAX_VALUE;d=a.reduce(function(a,c){c.error||(a.Pl+=c.Pl,!p.R(c.Sh)&&c.Sh<b&&(b=c.Sh),c.items.map(function(b){a.items.push({key:b.key,oe:b.oe,bR:b.bR,L$a:b.L$a});}),b<Number.MAX_VALUE&&(a.Sh=b));return a;},{Pl:0,items:[],time:r.time.now()});0<this.hq&&(d.QA=this.hq-h());n=null;l=a.filter(function(a){return!p.R(a.error);});0<l.length&&(n=l.reduce(function(a,b){a[b.key]=b.error;return a;},{}));f||(n?this.Fa(c.pd.ERROR,n):this.Fa(c.pd.REPLACE,g(d)));k(n,d);}catch(Z){k(Z);}}.bind(this),function(a){f||this.Fa(c.pd.ERROR,a);k(a);}.bind(this));};c.prototype["delete"]=function(a,c){var d;d=p.Bb(c)?c:b;this.iq.remove(this.io,this.Mx(a),function(a){a&&a.P?k(this.iq,this.io,this.Mx(""),function(a){this.zq=a;d();}.bind(this)):d(l.pCa.xm(a.error));}.bind(this));};c.prototype.Q2=function(a){this.query("",a);};c.prototype.query=function(a,c){var d,g;d=p.Bb(c)?c:b;g=this.FF.Yoa();this.iq.query(this.io,this.Mx(a),function(a){d(Object.keys(a).filter(function(a){return a!==g;}).map(this.Hya.bind(this)));}.bind(this));};c.prototype.Mx=function(a){return this.dt+"."+a;};c.prototype.clear=function(a){var d;d=p.Bb(a)?a:b;this.Q2(function(a){r.Promise.all(a.map(function(a){return new r.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){d(a);},function(a){this.Fa(c.pd.ERROR,a);d([],a);}.bind(this));}.bind(this));};c.prototype.jpa=function(a,c){var d,g;d=p.Bb(c)?c:b;g=(a||[]).map(function(a){return this.Mx(a);}.bind(this));this.iq.query(this.io,this.dt,function(a){var b;b=Object.keys(a).filter(function(a){return 0<=g.indexOf(a);}).reduce(function(b,c){return b+(a[c].size||0);},0);d(b);}.bind(this));};c.prototype.D4a=function(a){return this.FF.Hoa(a);};c.prototype.constructor=c;f.K=c;},function(f,d,a){var b,c,k,h,g;b=a(8);c=a(98);k=new c.Console("DISKCACHE","media|asejs");h={context:"NULLCONTEXT",read:function(a,b,c,d,g){g("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};f.K={wZa:function(a){var d,f,n,l,m;d=a.Fwb||"NRDMEDIADISKCACHE";g=a.WA||0;0!==g||b.R(c.options)||b.R(c.options.AR)||(g=c.options.AR);a=g;try{l=c.storage.KG;if(!l||!b.ne(l))throw k.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(n=l[d])k.warn("Disk store exists, returning"),f=n;else{if(b.R(c.storage)||!b.Bb(c.storage.QO)||c.options&&0===c.options.AR)throw k.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";k.warn("Disk store context doesn't exist, creating with size "+a);m=c.storage.QO({context:d,size:a,encrypted:!0,signed:!0});if(!m)throw"Failed to create disk store context";f=m;}}catch(D){k.warn("Exception creating disk store context - returning NullContext (noops)",D);f=h;}return f;},e5a:function(){return g;}};},function(f,d,a){var b,c,k,h,g;b=a(8);k=[];g=!1;f.K={Cqa:function(d,f,r){var n;if(g)b.Bb(r)&&(c.qn||c.GB?setTimeout(function(){r(c);},0):k.push(r));else{g=!0;n=a(98);n.JH(d);h=new n.Console("MEDIACACHE","media|asejs");c=new(a(288))(f,function(a){a&&h.warn("Failed to initialize MediaCache",a);b.Bb(r)&&setTimeout(function(){r(c);},0);k.map(function(a){setTimeout(function(){a(c);},0);});});}return c;},qxb:function(d,g){c=new(a(288))(d,function(a,c){a&&h.warn("Failed to initialize MediaCache",a);b.Bb(g)&&setTimeout(function(){g(c);},0);});}};},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);c=a(296);k=a(60);h=a(26);(function(){var V78,S0C;V78=2;while(V78!==5){S0C="1S";S0C+="IYbZrNJ";S0C+="Cp9";switch(V78){case 2:f.K={Iga:function(a){var Y78;Y78=2;while(Y78!==1){switch(Y78){case 2:return a&&a.M===this.M&&a.l2===this.l2?!0:!1;break;}}},HNa:function(){var z78,a,b,c,d;z78=2;while(z78!==7){switch(z78){case 3:d=this.se.wu&&this.se.wu.zo;Array.isArray(d)&&Array.isArray(a.zo)?d=d.filter(function(b){var W1t=F977;var X78,y78,f78;X78=2;while(X78!==1){switch(X78){case 4:W1t.Z0C(0);y78=W1t.a0C(20,9,7,14,18,358);return y78!=a.zo.indexOf(b);break;X78=1;break;case 2:W1t.R0C(1);f78=W1t.Q0C(8,10,16,5);return f78!==a.zo.indexOf(b);break;}}}):Array.isArray(a.zo)?d=a.zo:Array.isArray(d)||(d=[]);return-1!==d.indexOf(this.profile)?{noa:!!b,gwa:!b,N8:!b||!c}:{noa:!1,gwa:!1,N8:!c};break;case 2:a=this.se.J;b=void 0!==a.$u?a.$u:this.se.wu&&this.se.wu.$u;c=void 0!==a.Zu?a.Zu:this.se.wu&&this.se.wu.Zu;z78=3;break;}}},yga:function(a,b){var a78,c,d,g,f,f0C,e0C;a78=2;while(a78!==13){f0C="d";f0C+="ef";f0C+="a";f0C+="ul";f0C+="t";e0C="d";e0C+="e";e0C+="fa";e0C+="u";e0C+="lt";switch(a78){case 2:g=this.se.J;f=this.HNa();a78=4;break;case 4:a78=void 0!==g.RH&&null!==g.RH?3:14;break;case 8:f.vp=f.N8?void 0!==c?c:1:0;f.Q7=void 0!==d?d:f.gwa;return f;break;case 3:a78=(c=(void 0!==a?a:g.RH)||0,a=g.Fqa&&g.Fqa[this.stream.profile])?9:8;break;case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[e0C]?a[f0C]:c;a78=8;break;case 14:f.N8=!1;a78=8;break;}}},INa:function(){var A78,g0C;A78=2;while(A78!==1){g0C="on";g0C+="En";g0C+="t";g0C+="r";g0C+="y";switch(A78){case 4:return this.yga(this.se.J.Gqa,"");break;A78=1;break;case 2:return this.yga(this.se.J.Gqa,g0C);break;}}},JNa:function(){var q78,k0C;q78=2;while(q78!==1){k0C="onE";k0C+="x";k0C+="it";switch(q78){case 2:return this.yga(this.se.J.Hqa,k0C);break;case 4:return this.yga(this.se.J.Hqa,"");break;q78=1;break;}}},jNa:function(a,b){var I78,c,d,g,f,h,n,l,m,q,t,F;I78=2;while(I78!==27){switch(I78){case 2:c=this.se.J;d=this.Ha.Pe;I78=4;break;case 8:n=this.se.wu&&this.se.wu.DR;h=void 0!==h?h:void 0!==n?n:100;n=this.Ha;l=n.ga;m=k.Ge.s2(this.duration+1).wk(l);d=a?a.Ka:this.dd-2*d;I78=11;break;case 4:g=!0;f=!1;h=c.DR;I78=8;break;case 15:return{Djb:g,Y$a:f};break;case 11:q=k.Ge.s2(d-this.$l).wk(l);b=c.K3a||b;I78=20;break;case 18:this.Im=Math.min(this.Im,this.gq+F.Ld);this.Vv={Mc:t,Kb:this.pf};t<(c.wbb||1)&&(g=!1);I78=15;break;case 20:a&&!b&&(t=Math.floor(k.Ge.min(m,q).Xw(n)),F=n.MR(t),a=q.Kd(F),0<t&&a.lessThan(k.Ge.Wta)&&(f=!0));f||(t=Math.floor(k.Ge.min(m,k.Ge.s2(d-h-this.$l).wk(l)).Xw(n)),F=n.MR(t),a=q.Kd(F),0<t&&a.wra(k.Ge.Wta)&&(--t,F=n.MR(t)));I78=18;break;}}},wA:function(a,c,d,f,k){var h78,g;h78=2;while(h78!==6){switch(h78){case 5:h78=this.ng?4:3;break;case 4:return!1;break;case 3:a=this.roa?a.appendBuffer(h.Uq(this.nna),this):this.Cd&&!this.$o?this.jOa(a,c,f,k):this.Cd&&this.$o?this.kOa(a,d,f,k):this.N===b.v.AUDIO&&g.Mn&&c&&this.bv&&c.dd>=this.dd&&this.pf-this.bv<this.bv-this.Qd?!0:a.appendBuffer(this.response,this);this.ng=!0;this.IS();return a;break;case 2:g=this.se.J;h78=5;break;}}},jOa:function(a,d,f,k){var x78,g,n,p,E0C,W0C;x78=2;while(x78!==6){E0C=" ";E0C+="f";E0C+="rom";E0C+=" [ ";W0C="As";W0C+="eFragmentMediaRequest: Fragment edit failed fo";W0C+="r ";switch(x78){case 4:p=!0;this.N===b.v.AUDIO&&d&&(f?k&&(this.Rc?(this.Rc.Mc+=1,this.Rc.Kb+=this.stream.Ha.Pe):this.Vv={Mc:1,Kb:this.stream.Ha.Pe},this.gq+=this.stream.Ha.Ld):this.Iga(d,!0)?d.Rc&&this.Rc&&this.Rc.Mc!==d.Rc.Mc&&this.fm({Mc:d.Rc.Mc,Kb:d.pf},!1):(n=this.INa(),d.dd===this.Ka&&(n.vp=0)));0>=this.duration&&(p=!1,g=!0);p&&(this.Ka>this.$l||n.vp?(d=this.Rc&&this.Rc.Mc,g=new c.qE(this.stream,this.response),(d=g.Lva(d,this.Kx,n.vp,n.Q7))?(g=a.appendBuffer(h.Uq(d.Td),this),this.FN(n),this.xN(d.Td)):(this.U.Zb(W0C+this.toString()+E0C+this.$l+"-"+this.fu+"]"),g=!0)):g=a.appendBuffer(this.response,this));return g;break;case 2:n={vp:0};g=!1;x78=4;break;}}},kOa:function(a,d,f,r){var O78,g,n,p,J0C,C0C;O78=2;while(O78!==6){J0C=" f";J0C+="rom";J0C+=" ";J0C+="[ ";C0C="AseFragmentMe";C0C+="diaReq";C0C+="uest: Fragment";C0C+=" edit f";C0C+="ailed for ";switch(O78){case 7:return a;break;case 2:g=this.se.J;O78=5;break;case 5:p={vp:0};n=!0;this.N===b.v.AUDIO&&(f?r&&(this.Im-=this.stream.Ha.Ld,this.Rc?(--this.Rc.Mc,this.Rc.Kb-=this.stream.Ha.Pe):this.Vv={Mc:new k.Ge(this.duration,1E3).Xw(this.stream.Ha)-1,Kb:this.pf},n=0<this.Rc.Mc):this.Iga(d)?d.Rc&&0!=d.Rc.Mc?this.fm({Mc:d.Rc.Mc,Kb:d.Qd},!0):n=!1:(p=this.JNa(),g.Mn||(d=this.jNa(d,p.noa),(n=d.Djb)&&d.Y$a&&!p.Q7&&(p.vp=0))));n&&0===this.duration&&(n=!1);n?this.dd<this.fu||p.vp?(d=this.Rc&&this.Rc.Mc,n=new c.qE(this.stream,this.response),(n=n.Nva(d,this.ga,p.vp,p.Q7))?(a=a.appendBuffer(h.Uq(n.Td),this),this.FN(p),this.xN(n.Td)):(this.U.Zb(C0C+this.toString()+J0C+this.$l+"-"+this.fu+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;O78=7;break;}}}};S0C;V78=5;break;}}}());},function(f,d,a){var c,k,h,g,n,p,r,l;function b(a,b,d,f,p,r){h.call(this,a,d,f,r);f=g.prototype.toString.call(this)+(p?"(cache)":"");this.push(new n(a,b,f+"(moof)",{offset:d.offset,$:d.LI,responseType:c.Ui.pl},this,r));p={offset:d.offset+d.LI+8,$:d.$-(d.LI+8),responseType:c.zc&&!c.zc.QS.bq?c.Ui.pl:c.Ui.bq};this.N===k.v.VIDEO&&this.Rc&&(this.$l!==this.S?(p.offset=d.offset+this.Rc.offset,p.$=d.$-this.Rc.offset):this.fu>this.Z&&(p.$-=d.$-this.Rc.offset));this.push(new n(a,b,f+"(mdat)",p,this,r));}a(15);c=a(9).Ua;k=a(13);h=a(183);g=a(58).qs;n=a(184);p=a(77).qE;r=a(77).k5;l=a(26).Uq;b.prototype=Object.create(h.prototype);b.prototype.wA=function(a){var b,c;if(!this.ng&&this.ox()){c=!1;if(this.roa)c=a.appendBuffer(l(this.nna),this);else if(this.Cd&&this.S!=this.$l){b=new p(this.stream,this.Db[0].response);if(b=b.Lva(this.Rc.Mc,this.ga))c=a.appendBuffer(l(b.Td),this),this.xN(b.Td);this.FN();}else if(this.Cd&&this.Z!=this.fu){b=new p(this.stream,this.Db[0].response);if(b=b.Nva(this.Rc.Mc,this.ga))c=a.appendBuffer(l(b.Td),this),this.xN(b.Td);this.FN();}else c=a.append(this.Db[0].response,this);c&&(c=a.appendBuffer(r(this.Db[1].$),this))&&(c=a.appendBuffer(this.Db[1].response,this));this.ng=c;this.Qgb();return c;}};f.K=b;},function(f,d,a){var k,h,g;function b(a,b,c){b.$=c.byteLength;h.call(this,a,b);g.call(this,a,b);k(c instanceof ArrayBuffer);this.hw=c;this.Pv=b.$;}function c(){k(!1);}k=a(15);d=a(65);h=a(58).qs;g=a(118);b.prototype=Object.create(h.prototype);d(g.prototype,b.prototype);Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},set:c},response:{get:function(){return this.hw;},set:c},u$a:{get:function(){return!0;},set:c},Qc:{get:function(){return this.Pv;},set:c}});b.prototype.ox=function(){return!0;};b.prototype.wA=function(a){return this.ng=a.appendBuffer(this.response,this);};b.prototype.Ei=function(){return-1;};b.prototype.abort=function(){};b.prototype.Ke=function(){};f.K=b;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(87);b=a(119);a=a(295);c=function(){return function(a,b){this.Hl=a;this.gq=b.qf;this.Im=b.Vj;};}();d.C$=c;f.Uw(c.prototype,{qf:f.La({get:function(){return void 0!==this.gq?this.gq:this.Hl.qf;}}),Vj:f.La({get:function(){return void 0!==this.Im?this.Im:this.Hl.Vj;}}),ga:f.La({get:function(){return this.Hl.ga;}}),ny:f.La({get:function(){return this.Hl.ny;}})});b.yK(a.D$,c);},function(f){var d,a,b,c;d={name:"heaac-2-dash reset sample",profile:53,b7:"heaac-2-dash",Uj:2,sampleRate:24E3,duration:1024,Yr:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,b7:"heaac-2-dash",Uj:2,sampleRate:24E3,duration:1024,Yr:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,b7:"ddplus-5.1-dash",Uj:6,sampleRate:48E3,duration:1536,Yr:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};c={name:"ddplus-2.0-dash standard sample",profile:57,b7:"ddplus-2.0-dash",Uj:2,sampleRate:48E3,duration:1536,Yr:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};f.K={Ixa:{"heaac-2-dash":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":c},reset:{"heaac-2-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":c};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(40);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.HDa=this.u.af();a=this.u.Jc();this.Sxa=!!(a&128);this.Pfa=!!(a&64);this.tda=!!(a&32);this.Dkb=a&31;this.e0a=this.Sxa?this.u.af():void 0;this.Pfa&&this.u.EN(this.u.Jc());this.QHa=this.tda?this.u.af():void 0;c.Mp&&this.u.yb("ES_Descriptor: ES_ID="+this.HDa+", streamDependenceFlag="+this.Sxa+", URL_Flag="+this.Pfa+", OCRstreamFlag="+this.tda+", streamPriority="+this.Dkb+", dependsOn_ES_ID="+this.e0a+", OCR_ES_Id="+this.QHa);this.Jia();return!0;};d.tag=3;return d;}(a(142)["default"]);d["default"]=f;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(40);f=a(142);k=a(297);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.uva=function(){var a;a=this.u.kf(4);return 15!==a?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][a]:this.u.kf(24);};d.prototype.parse=function(a){if(this.V8a(a)&&64===a.Fta){this.Iq=this.nva();this.Thb=this.uva();this.yWa=this.u.kf(4);this.Vhb=this.M1=5===this.Iq||29===this.Iq?5:-1;this.Mfb=29===this.Iq?1:-1;0<this.M1&&(this.M2a=this.uva(),this.Iq=this.nva(),22===this.Iq&&(this.L2a=this.u.kf(4)));switch(this.Iq){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.m2=this.u.kf(1),this.HXa=(this.d0a=this.u.kf(1))?this.u.kf(14):void 0,this.u.kf(1),this.mH=3===this.Iq?256:23===this.Iq?this.m2?480:512:this.m2?960:1024;}c.Mp&&this.u.yb("AudioSpecificConfig: audioObjectType="+this.Iq+", samplingFrequency="+this.Thb+", channelConfiguration="+this.yWa+", extensionAudioObjectType="+this.M1+", sbrPresentFlag="+this.Vhb+", psPresentFlag="+this.Mfb+", extensionSamplingFrequency="+this.M2a+", extensionChannelConfiguration="+this.L2a+", frameLengthFlag="+this.m2+", coreCoderDelay="+this.HXa+", frameLength="+this.mH);}this.skip();return!0;};d.prototype.nva=function(){var a;a=this.u.kf(5);31===a&&(a=32+this.u.kf(6));return a;};d.prototype.V8a=function(a){return a.tag===k["default"].tag;};d.tag=5;return d;}(f["default"]);d["default"]=a;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=a(143);a=a(40);c=f.tW;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.re();this.Sc=this.Qr([{WR:"int32"},{IG:"int16"}]);return!0;};d.Ol=c;return d;}(a["default"]);d["default"]=a;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(40);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.re();c.Mp&&this.u.yb("ESDBox");this.GDa=this.u.Iia();return!0;};d.Ol="esds";return d;}(c["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(b){var c;if(b=a.prototype.parse.call(this,b)&&this.Yq(b,!0)){c=this.eH("esds");if(c=c&&c.GDa.eH(5))this.mH=c.mH;}return b;};c.Ol="mp4a";return c;}(a(298)["default"]);d["default"]=f;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);c=a(59);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.re();this.Sc=this.Qr([{EAb:"int32"},{Mpa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Sc.Mpa=c.UX(this.Sc.Mpa);return!0;};d.Ol="hdlr";return d;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Sc=this.Qr([{jvb:"int32"},{rI:"int32"},{ska:"int32"}]);return!0;};c.Ol="btrt";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Sc=this.Qr([{lyb:"int32"},{tCb:"int32"}]);return!0;};c.Ol="pasp";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.re();this.Sc=this.Qr(1===this.version?[{qoa:"int64"}]:[{qoa:"int32"}]);a=this.Yq(a,!0);this.u.yb("Finished parsing mehd box");return a;};c.Ol="mehd";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.re();a=1===this.version?[{og:"int64"},{modificationTime:"int64"},{ec:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{og:"int32"},{modificationTime:"int32"},{ec:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{O9a:"int16"},{RTa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Sc=this.Qr(a);this.Sc.YBb=!!(this.de&1);this.Sc.ZBb=!!(this.de&2);this.Sc.$Bb=!!(this.de&4);this.Sc.aCb=!!(this.de&8);this.u.yb("Finished parsing track box");return!0;};c.Ol="tkhd";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){a=this.Yq(a,!0);this.u.yb("Finished parsing track box");return a;};c.Ol="trak";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(1);f=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.re();this.Sc=1===this.version?this.Qr([{og:"int64"},{modificationTime:"int64"},{ga:"int32"},{duration:"int64"}]):this.Qr([{og:"int32"},{modificationTime:"int32"},{ga:"int32"},{duration:"int32"}]);return this.Yq(a);};c.Ol="mvhd";return c;}(a(40)["default"]);d["default"]=f;},function(f,d,a){(function(){var j0C,K,S,da,P,Y,R,B,H,O,G,U,aa,Q,ha,ba,ma,la,ea,ta,W,ia,X,ca,ga,ka,ja,oa,na,ra,sa,k7u,j7u,y7u,B7u,u7u;function r(a,b){var G0C,c,s3u;G0C=2;while(G0C!==7){s3u="hea";s3u+="d";s3u+="e";s3u+="r";switch(G0C){case 2:c={};a=b[0].split(".");c.movieId=a[0];c.streamId=a[1];c.isHeader=s3u===a[2];return new ba(function(a,d){var l0C,D3u;l0C=2;while(l0C!==1){D3u="bill";D3u+="bo";D3u+="a";D3u+="rd";switch(l0C){case 2:this.Lg.ES(D3u,b,function(b,g){var V0C,f,u0C,e3u,T3u;V0C=2;while(V0C!==5){switch(V0C){case 2:try{u0C=2;while(u0C!==4){e3u="Missing o";e3u+="r invalid media data";e3u+=" parts for stream ";T3u="M";T3u+="issing or invalid header data parts fo";T3u+="r stream";T3u+=" ";switch(u0C){case 1:d(b);u0C=5;break;case 5:a(f);u0C=4;break;case 2:u0C=b?1:3;break;case 7:f.ln&&f.ga&&f.V&&void 0!==f.V.vm&&void 0!==f.V.offset&&void 0!==f.V.Bd&&f.V.Bd.length&&void 0!==f.V.sizes&&f.V.sizes.length||(b=T3u+f.Wa,d(b));u0C=5;break;case 3:Object.keys(g).map(function(a){var m0C,b,f,c0C,a9C,U3u,f3u;m0C=2;while(m0C!==6){U3u="fr";U3u+="a";U3u+="gm";U3u+="en";U3u+="ts";f3u="metad";f3u+="a";f3u+="ta";switch(m0C){case 2:b=a.substr(a.lastIndexOf(".")+1);m0C=5;break;case 5:m0C=f3u===b?4:9;break;case 4:try{c0C=2;while(c0C!==1){switch(c0C){case 2:f=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g[a])));c0C=1;break;}}}catch(Pa){f=g[a];}Object.keys(f).map(function(a){var Y0C;Y0C=2;while(Y0C!==1){switch(Y0C){case 2:c[a]=f[a];Y0C=1;break;case 4:c[a]=f[a];Y0C=2;break;Y0C=1;break;}}});m0C=6;break;case 9:m0C=U3u===b?8:7;break;case 8:try{a9C=2;while(a9C!==1){switch(a9C){case 2:c[b]=g[a];a9C=1;break;case 4:c[b]=g[a];a9C=2;break;a9C=1;break;}}}catch(Pa){d(Pa);}m0C=6;break;case 7:c[b]=g[a];m0C=6;break;}}});f=F(c);u0C=8;break;case 8:u0C=f.Vb?7:6;break;case 6:u0C=void 0===f.$||void 0===f.offset||void 0===f.ga||void 0===f.qf||void 0===f.er?14:5;break;case 14:b=e3u+f.Wa,d(b);u0C=5;break;}}}catch($a){d($a);}V0C=5;break;}}});l0C=1;break;}}}.bind(this));break;}}}function y(a){var o9C;o9C=2;while(o9C!==1){switch(o9C){case 2:return{mediaType:a.N,streamId:a.Wa,movieId:a.M,bitrate:a.L,location:a.location,serverId:a.Vc,saveToDisk:a.Jd,offset:a.offset,bytes:a.$,startTicks:a.qf,durationTicks:a.er,timescale:a.ga};break;}}}function l(a,b){var Q9C,c,d,g3u,d3u;Q9C=2;while(Q9C!==9){g3u=" mo";g3u+="v";g3u+="ie";g3u+="I";g3u+="d: ";d3u="Failed to load data from disk because the AseSt";d3u+="rea";d3u+="m ";d3u+="was missing from the stream map streamId: ";switch(Q9C){case 4:d=parseInt(b.N);(a=a&&a[d]?a[d].nl:{})&&a[b.Wa]?(a=a[b.Wa],b.V&&a.XR(b.ga,b.Ha?new ha(b.Ha,b.ga):void 0,b.V),b.Vb&&a&&a.Dc?(c=new O(a,{$:b.$,offset:b.offset,ln:b.ln,Be:b.Be,Sx:void 0,js:!1},this),this.iga(c)):b.response instanceof ArrayBuffer&&(b=new G(a,b,b.response),c.data||(c.data={}),c.data[b.Wa]||(c.data[b.Wa]=[]),c.data[b.Wa].push(b))):na(d3u+b.Wa+g3u+b.M);Q9C=9;break;case 5:Q9C=c?4:9;break;case 2:c=this.Ob[b.M];Q9C=5;break;}}}function d(a,b,d,g,f,h,k,n){var q0C,p,r,l,m,u,x3u,I3u;q0C=2;while(q0C!==13){x3u="vi";x3u+="deo_";x3u+="tr";x3u+="acks";I3u="a";I3u+="u";I3u+="dio_trac";I3u+="ks";switch(q0C){case 7:f&&0!==r.length&&(u=c(b,r,p,h,k))&&a.push(u);u||(u=c(b,l,p,h,k))&&a.push(u);return a;break;case 2:p=d===X.v.VIDEO;r=[];q0C=4;break;case 4:l=[];m=B.$P(void 0,a,d,g,void 0,n);a[[I3u,x3u][d]][g].streams.forEach(function(a,b){var y0C,c;y0C=2;while(y0C!==14){switch(y0C){case 8:y0C=c<h.Ssa||c>h.nsa?7:6;break;case 7:a.inRange=!1;y0C=6;break;case 1:a=H.q2(m,b,void 0,h,n);b=a.L;c=a.Hb;y0C=3;break;case 2:y0C=1;break;case 3:y0C=b<h.Rsa||b>h.msa?9:8;break;case 9:a.inRange=!1;y0C=8;break;case 6:(a.el?l:r).push(a);y0C=14;break;}}});a=[];q0C=7;break;}}}function q(a,b,c,d){var g9C;g9C=2;while(g9C!==24){switch(g9C){case 16:this.xPa=this.Gl.Rab;this.Lg=this.BY=void 0;this.tt&&(this.Gl.WA||(this.Gl.WA=(da.options||{}).AR||0),this.cw=new ba(function(a,b){var k9C;k9C=2;while(k9C!==1){switch(k9C){case 2:(void 0!==d?d.Cqa:function(a){var W9C;W9C=2;while(W9C!==1){switch(W9C){case 2:return ia.Cqa(da,this.Gl,a);break;case 4:return ia.Cqa(da,this.Gl,a);break;W9C=1;break;}}}.bind(this))(function(c){var E9C;E9C=2;while(E9C!==5){switch(E9C){case 2:this.Lg=c;(this.BY=c.GB)?b(this.BY):(m(this.Lg,this),a());E9C=5;break;}}}.bind(this));k9C=1;break;}}}.bind(this)));g9C=26;break;case 12:this.on=this.addEventListener=ta.addEventListener;this.removeEventListener=ta.removeEventListener;this.emit=this.Fa=ta.Fa;this.iPa=n.bind(this);this.tt=(this.Gl.Vy||this.Gl.iza)&&0<(this.Gl.WA||(da.options||{}).AR||0);this.mOa=this.Gl.Pwb;this.Om=this.Gl.Vab;g9C=16;break;case 2:this.Na=a;this.El=Object.create(null);this.Gl=b;this.Ob=Object.create(null);g9C=3;break;case 25:Q.call(this);g9C=24;break;case 3:this.Os=0;this.kg=[];this.kF=b.aP;this.rw=[];this.QM=!1;this.Mz=[];this.kw={};g9C=12;break;case 26:this.Hj=c;g9C=25;break;}}}function b(a,b){var o0C;o0C=2;while(o0C!==1){switch(o0C){case 4:return b.ed/a.ed;break;o0C=1;break;case 2:return b.ed-a.ed;break;}}}function n(a,c){var t0C,N7u;t0C=2;while(t0C!==1){N7u="Media cache is n";N7u+="o";N7u+="t ena";N7u+="bled";switch(t0C){case 2:return this.cw?this.cw.then(function(){var z0C,d,g;z0C=2;while(z0C!==3){switch(z0C){case 2:d=da.time.ca();g=function(a){var O0C,b,c,d,z3u;O0C=2;while(O0C!==7){z3u="m";z3u+="ovieEntr";z3u+="y";switch(O0C){case 2:b=[z3u,a].join(".");a=a.toString();c=function(a){var B0C;B0C=2;while(B0C!==1){switch(B0C){case 2:a.map(d.bind(this));B0C=1;break;case 4:a.map(d.bind(this));B0C=4;break;B0C=1;break;}}}.bind(this);d=function(a){var h0C,y3u,n3u,S3u,L3u;h0C=2;while(h0C!==1){y3u="b";y3u+="il";y3u+="l";y3u+="bo";y3u+="ard";n3u="d";n3u+="el";n3u+="ete";S3u="bi";S3u+="ll";S3u+="boa";S3u+="rd";L3u="bil";L3u+="lb";L3u+="oard";switch(h0C){case 4:this.Lg[L3u](S3u,a);h0C=0;break;h0C=1;break;case 2:this.Lg[n3u](y3u,a);h0C=1;break;}}}.bind(this);this.Lg.py(b,c);O0C=8;break;case 8:this.Lg.py(a,c);O0C=7;break;}}}.bind(this);return new ba(function(f){var D0C,k3u;D0C=2;while(D0C!==1){k3u="movieE";k3u+="n";k3u+="t";k3u+="ry";switch(D0C){case 2:this.Lg.py([k3u,a].join("."),function(h){var n0C,k,n,m7u,F7u;n0C=2;while(n0C!==7){m7u="bi";m7u+="l";m7u+="l";m7u+="b";m7u+="oard";F7u="mediac";F7u+="a";F7u+="che";F7u+="lo";F7u+="okup";switch(n0C){case 2:n0C=1;break;case 1:n0C=!h||0>=h.length?5:4;break;case 5:f(),this.gA(F7u,{oR:da.time.ca()-d,WO:!1});n0C=7;break;case 8:n(this.Ob[a])?k():this.Lg.read(m7u,h,function(c,d){var N0C,h,p,P0C;N0C=2;while(N0C!==9){switch(N0C){case 3:n(p)?(this.Ob[a]=p,++this.Os,this.GM(),this.kg.push(p),this.kg.sort(b),k()):(g(a),f());N0C=9;break;case 2:try{P0C=2;while(P0C!==1){switch(P0C){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));P0C=1;break;}}}catch(tc){h=d;}K.R(h)||(p=w(h));K.R(p)||K.Ja(p)||(p.jc=p.jc||{},p.headers=p.headers||{});N0C=3;break;}}}.bind(this));n0C=7;break;case 4:h=h[0];n0C=3;break;case 3:k=function(){var F0C;F0C=2;while(F0C!==1){switch(F0C){case 2:this.Lg.py(a,function(b){var L0C;L0C=2;while(L0C!==5){switch(L0C){case 2:b=b.reduce(function(a,b){var H0C,c,C7u;H0C=2;while(H0C!==8){C7u="drmHeader.";C7u+="__embed";C7u+="_";C7u+="_";switch(H0C){case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;case 4:return a;break;case 5:H0C=-1!==c.indexOf(C7u)?4:3;break;case 2:c=b.substr(0,b.lastIndexOf("."));H0C=5;break;}}},{});p.bind(this)(b,c).then(function(){var I0C,b,c,q7u,i7u;I0C=2;while(I0C!==8){q7u="med";q7u+="i";q7u+="aca";q7u+="chelo";q7u+="okup";i7u="No content d";i7u+="ata found f";i7u+="or ";switch(I0C){case 2:I0C=1;break;case 4:this.Ob[a]&&K.ne(this.Ob[a].data)?(Object.keys(this.Ob[a].data).forEach(function(b){var U0C;U0C=2;while(U0C!==1){switch(U0C){case 2:this.Ob[a].data[b].sort(function(a,b){var K0C;K0C=2;while(K0C!==1){switch(K0C){case 4:return a.qf/b.qf;break;K0C=1;break;case 2:return a.qf-b.qf;break;}}});U0C=1;break;}}}.bind(this)),c=!0):oa(i7u+a,this.Ob[a]);this.gA(q7u,{oR:b,WO:c});f(this.Ob[a]);I0C=8;break;case 1:b=da.time.ca()-d;c=!1;I0C=4;break;}}}.bind(this),function(){var T0C;T0C=2;while(T0C!==1){switch(T0C){case 2:f();T0C=1;break;case 4:f();T0C=7;break;T0C=1;break;}}});L0C=5;break;}}}.bind(this));F0C=1;break;}}}.bind(this);n=function(a){var v0C;v0C=2;while(v0C!==1){switch(v0C){case 2:return!(K.R(a)||K.Ja(a)||K.R(a.jc)||K.Ja(a.jc)||K.R(a.M)||K.Ja(a.M)||K.R(a.ed)||K.Ja(a.ed));break;}}};n0C=8;break;}}}.bind(this));D0C=1;break;}}}.bind(this));break;}}}.bind(this)):ba.reject(N7u);break;}}}j0C=2;function F(a){var b9C,b;b9C=2;while(b9C!==3){switch(b9C){case 4:return b;break;case 2:b={Vb:a.isHeader,N:a.mediaType,M:a.movieId,Wa:a.streamId,L:a.bitrate,location:a.location,Vc:a.serverId,$:a.bytes,offset:a.offset,ln:a.headerData,V:a.fragments,Be:a.drmHeader,response:a.response,ga:a.timescale,Ha:a.frameDuration,qf:a.startTicks,er:a.durationTicks,Vj:a.startTicks+a.durationTicks,Jd:a.saveToDisk};!b.V||b.V instanceof ArrayBuffer||(b.V.vm=b.V.startTicks,b.V.offset=b.V.offset,b.V.ga=b.V.timescale,b.V.sizes=new Uint32Array(a.sizes),b.V.Bd=new Uint32Array(a.durations));b9C=4;break;case 14:return b;break;b9C=3;break;}}}function p(a,b){var A0C,c;A0C=2;while(A0C!==4){switch(A0C){case 2:c=Object.keys(a).map(function(c){var p0C;p0C=2;while(p0C!==1){switch(p0C){case 2:return ba.resolve(a[c]).then(r.bind(this,b));break;}}}.bind(this));return ba.all(c).then(function(a){var w0C;w0C=2;while(w0C!==1){switch(w0C){case 2:a.sort(function(a,b){var X0C;X0C=2;while(X0C!==1){switch(X0C){case 2:return a.Vb===b.Vb?0:a.Vb?-1:1;break;}}}).map(l.bind(this,b));w0C=1;break;}}}.bind(this));break;}}}function w(a){var S9C;S9C=2;while(S9C!==1){switch(S9C){case 2:return{ed:a.priority,M:a.movieId,headers:a.headers,AB:0,zG:0,BQ:0,Jd:a.saveToDisk,jc:a.stats,Zk:a.firstSelectedStreamBitrate,pn:a.initSelectionReason,am:a.histDiscountedThroughputValue,ek:a.histTdigest,cl:a.histAge};break;}}}function h(a,b,c,f,h,k,n){var M0C,p,r,l,m,u,l7u,V7u;M0C=2;while(M0C!==10){l7u="Unable to fi";l7u+="nd video track in manife";l7u+="st";V7u="Unable to f";V7u+="ind au";V7u+="dio track in manifest:";switch(M0C){case 7:M0C=K.R(m)?6:14;break;case 3:a=a.ak(r,l);b.cc.buffer.Kt=a[X.v.VIDEO];p.some(function(a,g){var r0C;r0C=2;while(r0C!==5){switch(r0C){case 2:r0C=!a.stereo?1:5;break;case 3:r0C=+a.stereo?2:3;break;r0C=!a.stereo?1:5;break;case 1:return m=d(c,b,X.v.VIDEO,g,h,k,r,n),!0;break;}}});M0C=7;break;case 2:p=c.video_tracks;r=g(c.audio_tracks);l=g(c.video_tracks);M0C=3;break;case 12:na(V7u,f);M0C=10;break;case 14:c.audio_tracks.some(function(a,g){var i0C;i0C=2;while(i0C!==5){switch(i0C){case 1:return u=d(c,b,X.v.AUDIO,g,h,k,r,n),!0;break;case 2:i0C=a.track_id==f?1:5;break;}}});M0C=13;break;case 6:na(l7u);M0C=10;break;case 13:M0C=K.R(u)?12:11;break;case 11:return m.concat(u);break;}}}while(j0C!==84){k7u="me";k7u+="dia|";k7u+="as";k7u+="ejs";j7u="MED";j7u+="I";j7u+="A";j7u+="CAC";j7u+="HE";y7u="med";y7u+="ia|asej";y7u+="s";B7u="HE";B7u+="ADERC";B7u+="AC";B7u+="HE";u7u="1SIYb";u7u+="Z";u7u+="rNJCp";u7u+="9";switch(j0C){case 55:q.prototype.pRa=function(a){var o5C,r7u;o5C=2;while(o5C!==1){r7u="discarded";r7u+="By";r7u+="t";r7u+="e";r7u+="s";switch(o5C){case 2:0!==a&&(a={type:r7u,bytes:a},this.Fa(a.type,a));o5C=1;break;}}};q.prototype.rRa=function(a){var b5C,Z7u;b5C=2;while(b5C!==1){Z7u="fl";Z7u+="ush";Z7u+="e";Z7u+="dB";Z7u+="ytes";switch(b5C){case 2:0!==a&&(a={type:Z7u,bytes:a},this.Fa(a.type,a));b5C=1;break;}}};q.prototype.oRa=function(a){var q5C,J7u;q5C=2;while(q5C!==5){J7u="c";J7u+="a";J7u+="cheEv";J7u+="ic";J7u+="t";switch(q5C){case 2:a={type:J7u,movieId:a};this.Fa(a.type,a);q5C=5;break;}}};q.prototype.Yx=function(a){var y5C,b;y5C=2;while(y5C!==4){switch(y5C){case 2:b=this.Ob[a.M];b&&(a.Vb?K.R(b.jc.aqa)&&(b.jc.aqa=a.cf):K.R(b.jc.BC)&&(b.jc.BC=a.cf));y5C=4;break;}}};q.prototype.$h=function(a){var M5C;M5C=2;while(M5C!==1){switch(M5C){case 2:a.Vb?this.pdb(a):this.rdb(a);M5C=1;break;}}};q.prototype.pdb=function(a){var r5C;r5C=2;while(r5C!==3){switch(r5C){case 2:a.Hlb=a.Oe;this.iga(a);a.AQ(a.Hlb);this.xRa(a,function(){var i5C;i5C=2;while(i5C!==5){switch(i5C){case 2:a.zr.BQ--;this.Ps(a);i5C=5;break;}}}.bind(this));r5C=3;break;}}};q.prototype.rdb=function(a){var s5C,b,c,d,g,f,h,k,n,M7u,p7u,v7u,H7u,X7u,o7u,c7u,E7u,A7u;s5C=2;while(s5C!==15){M7u="ma";M7u+="nage";M7u+="rdebugevent";p7u=", r";p7u+="emai";p7u+="ning:";p7u+=" ";v7u=",";v7u+=" ";v7u+="pt";v7u+="s:";v7u+=" ";H7u=",";H7u+=" st";H7u+="reamId: ";X7u=", headerCache";X7u+=" dataComplete: movie";X7u+="Id: ";o7u=".r";o7u+="esp";o7u+="o";o7u+="ns";o7u+="e";c7u=".drmHea";c7u+="de";c7u+="r";E7u=".he";E7u+="ade";E7u+="rDa";E7u+="t";E7u+="a";A7u=".m";A7u+="e";A7u+="ta";A7u+="data";switch(s5C){case 2:b=a.M;c=this.Ob[b]||a.zr;s5C=4;break;case 13:h=da.time.ca();k=[a.M,a.Wa,a.Qd].join(".");n={};F977.u3u(0);n[F977.t3u(k,A7u)]={pp:y(a),Wb:ja};K.R(g)||(n[k+E7u]={pp:g,Wb:ja});K.R(f)||(n[k+c7u]={pp:f,Wb:ja});K.R(b)||(n[k+o7u]={pp:b,Wb:ja});s5C=17;break;case 8:s5C=a.Jd&&a.responseType===R.Ui.pl&&this.tt&&!this.Om?7:16;break;case 17:this.Lg.ywa(n,function(a){var x5C;x5C=2;while(x5C!==5){switch(x5C){case 2:a||(a=da.time.ca()-h,c.jc.tK+=a);d();x5C=5;break;}}}.bind(this));s5C=15;break;case 4:s5C=c?3:15;break;case 7:b=a.response;g=a.ln;f=a.Be;s5C=13;break;case 3:this.Gl.Ce&&(b="@"+da.time.ca()+X7u+b+H7u+a.Wa+v7u+a.S+p7u+(c.zG-1),this.Fa(M7u,{message:b}));d=function(){var d5C;d5C=2;while(d5C!==5){switch(d5C){case 2:--c.zG;this.Ps(a);d5C=5;break;}}}.bind(this);s5C=8;break;case 16:d();s5C=15;break;}}};q.prototype.rC=function(a){var t5C,t7u;t5C=2;while(t5C!==5){t7u="_on";t7u+="E";t7u+="r";t7u+="ror:";t7u+=" ";switch(t5C){case 2:na(t7u,a.toString());this.Ps(a);t5C=5;break;}}};j0C=70;break;case 87:q.prototype.kPa=function(a){var c5C,b;c5C=2;while(c5C!==4){switch(c5C){case 2:b=this.Ob[a];return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new ba(function(b){var Y5C,c,d;Y5C=2;while(Y5C!==8){switch(Y5C){case 4:d.headers&&Object.keys(d.headers).forEach(function(a){var a7C;a7C=2;while(a7C!==5){switch(a7C){case 2:c[a]||(c[a]={});c[a].header=!0;a7C=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var Q7C;Q7C=2;while(Q7C!==5){switch(Q7C){case 1:d.data[a].forEach(function(b){var Z7C;Z7C=2;while(Z7C!==1){switch(Z7C){case 2:c[a][b.Qd]=!0;Z7C=1;break;}}});Q7C=5;break;case 3:c[a]&&(c[a]={});Q7C=4;break;Q7C=1;break;case 2:c[a]||(c[a]={});Q7C=1;break;}}});return b(c);break;case 2:c={};d=this.Ob[a];Y5C=4;break;}}}.bind(this)):this.Eha(a).then(function(b){var R7C;R7C=2;while(R7C!==1){switch(R7C){case 2:return b?new ba(function(b,c){var e7C,Q7u;e7C=2;while(e7C!==1){Q7u="b";Q7u+="illbo";Q7u+="a";Q7u+="r";Q7u+="d";switch(e7C){case 2:this.Lg.read(Q7u,a,function(d,g){var f7C,f;f7C=2;while(f7C!==6){switch(f7C){case 5:f7C=d?4:3;break;case 4:c(d);f7C=6;break;case 3:f={};g.headers&&Object.keys(g.headers).forEach(function(a){var g7C;g7C=2;while(g7C!==5){switch(g7C){case 2:f[a]||(f[a]={});f[a].header=!0;g7C=5;break;}}});f7C=8;break;case 2:g=g[a];f7C=5;break;case 8:g.data&&Object.keys(g.data).forEach(function(a){var k7C;k7C=2;while(k7C!==5){switch(k7C){case 2:f[a]||(f[a]={});Object.keys(g.data[a]).forEach(function(b){var W7C;W7C=2;while(W7C!==1){switch(W7C){case 4:f[a][b]=-4;W7C=9;break;W7C=1;break;case 2:f[a][b]=!0;W7C=1;break;}}});k7C=5;break;}}});b(f);f7C=6;break;}}}.bind(this));e7C=1;break;}}}.bind(this)):{};break;}}}.bind(this));break;}}};f.K=q;u7u;j0C=84;break;case 70:q.prototype.CRa=function(a,b){var f1t=F977;var z5C,c,d,g,f,h,a7u,U7u,f7u,T7u,D7u,s7u,K7u;z5C=2;while(z5C!==16){a7u=".d";a7u+="rmH";a7u+="e";a7u+="a";a7u+="der";U7u=".dur";U7u+="at";U7u+="i";U7u+="ons";f7u=".";f7u+="s";f7u+="izes";T7u=".fragm";T7u+="e";T7u+="nt";T7u+="s";D7u=".he";D7u+="ade";D7u+="rData";s7u=".m";s7u+="eta";s7u+="data";K7u="h";K7u+="e";K7u+="ad";K7u+="e";K7u+="r";switch(z5C){case 5:b();z5C=16;break;case 17:this.Lg.ywa(f,function(c){var O5C;O5C=2;while(O5C!==5){switch(O5C){case 2:c||(c=da.time.ca()-d,a.zr.jc.tK+=c);b();O5C=5;break;}}});z5C=16;break;case 4:c=[a.M,a.Wa,K7u].join(".");d=da.time.ca();g=t(a);f={};z5C=7;break;case 11:g={timescale:a.stream.V.ga,startTicks:a.stream.V.vm,offset:a.stream.V.il(0)};h=a.stream.V.ZC;z5C=20;break;case 2:z5C=1;break;case 1:z5C=!a.Jd||!this.tt||a.iC[a.Wa]&&a.iC[a.Wa].header?5:4;break;case 7:f1t.K3u(0);f[f1t.t3u(c,s7u)]={pp:g,Wb:ja};f1t.u3u(0);f[f1t.Q3u(c,D7u)]={pp:a.ln,Wb:ja};g=a.Be||a.Sx;z5C=13;break;case 12:z5C=a.stream.Dc?11:17;break;case 20:f1t.u3u(0);f[f1t.Q3u(c,T7u)]={pp:g,Wb:ja};f1t.K3u(0);f[f1t.t3u(c,f7u)]={pp:h.sizes.buffer,Wb:ja};z5C=18;break;case 18:f1t.K3u(0);f[f1t.t3u(c,U7u)]={pp:h.Bd.buffer,Wb:ja};z5C=17;break;case 13:K.R(g)||(f[c+a7u]={pp:g,Wb:ja});z5C=12;break;}}};q.prototype.xRa=function(a,b){var B5C,c;B5C=2;while(B5C!==9){switch(B5C){case 3:c.eU||0!==Object.keys(this.El).length||this.Xga();B5C=9;break;case 2:c=a.config;K.R(a.Vva)||this.GN(a,a.Vva);a.Jd&&!this.Om?this.CRa(a,b):b();B5C=3;break;}}};q.prototype.IRa=function(a,b){var h5C,Y7u;h5C=2;while(h5C!==4){Y7u="prebuf";Y7u+="fst";Y7u+="ats";switch(h5C){case 2:a.jc.lJ=b;a={type:Y7u,movieId:a.M,stats:{prebuffstarted:a.jc.BC,prebuffcomplete:a.jc.lJ}};this.Fa(a.type,a);h5C=4;break;}}};q.prototype.gA=function(a,b){var D5C,c,I7u,g7u,d7u,e7u;D5C=2;while(D5C!==8){I7u="m";I7u+="e";I7u+="diac";I7u+="ach";I7u+="e";g7u="mediaca";g7u+="che";g7u+="look";g7u+="u";g7u+="p";d7u="s";d7u+="a";d7u+="v";d7u+="etodisk";e7u="mediacache";e7u+="s";e7u+="tat";e7u+="s";switch(D5C){case 2:c={type:e7u,operation:a};d7u===a&&(c.saveTime=b.zwa);g7u===a&&(c.lookupTime=b.oR,c.dataFound=b.WO);c.oneObject=this.Om;this.mOa&&this.Fa(I7u,c);D5C=8;break;}}};q.prototype.ERa=function(a){var n5C,b,c,d,g,f,h,O7u;n5C=2;while(n5C!==16){O7u="b";O7u+="illb";O7u+="o";O7u+="ard";switch(n5C){case 2:n5C=1;break;case 5:b=da.time.ca();c={};n5C=3;break;case 7:n5C=d.headers?6:12;break;case 3:d=this.Ob[a];g=x(d);c.movieEntry=g;n5C=7;break;case 19:g={lifespan:259200};n5C=18;break;case 18:this.xPa&&(g.convertToBinaryData=!0);this.Lg.save(O7u,a,c,g,function(a){var I5C,x7u;I5C=2;while(I5C!==1){x7u="savet";x7u+="od";x7u+="i";x7u+="sk";switch(I5C){case 2:a||this.gA(x7u,{zwa:da.time.ca()-b});I5C=1;break;}}}.bind(this));n5C=16;break;case 12:n5C=d.data?11:19;break;case 11:h={};Object.keys(d.data).forEach(function(a){var L5C,b,c;L5C=2;while(L5C!==3){switch(L5C){case 2:b=d.data[a];c={};L5C=4;break;case 4:b&&(b.forEach(function(a){var H5C,b;H5C=2;while(H5C!==3){switch(H5C){case 4:c[a.Qd]=b;H5C=3;break;case 2:b=y(a);b.response=a.response;H5C=4;break;}}}),h[a]=c);L5C=3;break;}}});n5C=20;break;case 1:n5C=this.Ob[a]?5:16;break;case 6:f={};Object.keys(d.headers).forEach(function(a){var F5C,b,c,g;F5C=2;while(F5C!==6){switch(F5C){case 3:F5C=b.Be||b.Sx?9:8;break;case 2:b=d.headers[a];c=t(b);b.ln&&(c.headerData=b.ln);F5C=3;break;case 9:c.drmHeader=b.Be||b.Sx;F5C=8;break;case 8:b.stream.Dc&&(g={timescale:b.stream.V.ga,startTicks:b.stream.V.vm,offset:b.stream.V.il(0)},b=b.stream.V.ZC,c.fragments=g,c.sizes=b.sizes.buffer,c.durations=b.Bd.buffer);f[a]=c;F5C=6;break;}}});n5C=13;break;case 20:c.data=h;n5C=19;break;case 13:c.headers=f;n5C=12;break;}}};q.prototype.Eha=function(a){var U5C;U5C=2;while(U5C!==1){switch(U5C){case 2:return this.cw.then(function(){var K5C;K5C=2;while(K5C!==1){switch(K5C){case 2:return new ba(function(b){var T5C;T5C=2;while(T5C!==1){switch(T5C){case 2:this.Lg.py(a.toString(),function(c){var v5C;v5C=2;while(v5C!==1){switch(v5C){case 2:c&&0!==c.length?1===c.length&&c[0]===a.toString()?b(!0):b(!1):b(!1);v5C=1;break;}}}.bind(this));T5C=1;break;}}}.bind(this));break;}}}.bind(this));break;}}};q.prototype.hRa=function(a,c,d){var N5C;N5C=2;while(N5C!==1){switch(N5C){case 2:return new ba(function(g,f){var P5C,R7u;P5C=2;while(P5C!==1){R7u="bi";R7u+="llb";R7u+="o";R7u+="ar";R7u+="d";switch(P5C){case 2:this.Lg.read(R7u,a,function(h,k){var A5C,b7u;A5C=2;while(A5C!==1){b7u="mediacache";b7u+="lo";b7u+="oku";b7u+="p";switch(A5C){case 2:h?f(h):(k=k[a],k.movieEntry&&(h=w(k.movieEntry),this.Ob[a]=h,++this.Os,this.GM(),this.kg.push(h),this.kg.sort(b),k.headers&&Object.keys(k.headers).forEach(function(a){var p5C;p5C=2;while(p5C!==3){switch(p5C){case 2:a=k.headers[a];a.isHeader=!0;a=F(a);l.call(this,c,a);p5C=3;break;}}}.bind(this)),k.data&&Object.keys(k.data).forEach(function(a){var w5C;w5C=2;while(w5C!==1){switch(w5C){case 2:Object.keys(k.data[a]).forEach(function(b){var X5C;X5C=2;while(X5C!==5){switch(X5C){case 2:b=F(k.data[a][b]);l.call(this,c,b);X5C=5;break;}}}.bind(this));w5C=1;break;}}}.bind(this)),this.Ob[a]&&K.ne(this.Ob[a].data)&&Object.keys(this.Ob[a].data).forEach(function(b){var G5C;G5C=2;while(G5C!==1){switch(G5C){case 2:this.Ob[a].data[b].sort(function(a,b){var l5C;l5C=2;while(l5C!==1){switch(l5C){case 2:return a.Qd-b.Qd;break;case 4:return a.Qd/b.Qd;break;l5C=1;break;}}});G5C=1;break;}}}.bind(this))),this.gA(b7u,{oR:da.time.ca()-d,WO:!0}),g(this.Ob[a]));A5C=1;break;}}}.bind(this));P5C=1;break;}}}.bind(this));break;}}};q.prototype.jPa=function(a,b){var V5C,c,G7u;V5C=2;while(V5C!==4){G7u="Media c";G7u+="ach";G7u+="e i";G7u+="s not enabled";switch(V5C){case 2:c=da.time.ca();return this.cw?this.cw.then(function(){var u5C;u5C=2;while(u5C!==1){switch(u5C){case 2:return this.Eha(a);break;case 4:return this.Eha(a);break;u5C=1;break;}}}.bind(this)).then(function(d){var m5C,z7u;m5C=2;while(m5C!==5){z7u="mediac";z7u+="achelooku";z7u+="p";switch(m5C){case 1:return this.hRa(a.toString(),b,c);break;case 2:m5C=d?1:4;break;case 9:m5C=d?3:2;break;m5C=d?1:4;break;case 4:this.gA(z7u,{oR:da.time.ca()-c,WO:!1});m5C=5;break;}}}.bind(this)):ba.reject(G7u);break;}}};j0C=87;break;case 50:q.prototype.flush=function(){var H9C,a,S7u,L7u;H9C=2;while(H9C!==7){S7u="manag";S7u+="erdeb";S7u+="ug";S7u+="event";L7u=", headerC";L7u+="ac";L7u+="he ";L7u+="flush: ";switch(H9C){case 2:this.ioa();for(var b in this.El){a=this.El[b];a.abort(sa);}this.Ob=Object.create(null);this.Os=0;this.kg=[];this.Gl.Ce&&(a="@"+da.time.ca()+L7u,this.Fa(S7u,{message:a}));H9C=7;break;}}};q.prototype.list=function(){var I9C;I9C=2;while(I9C!==1){switch(I9C){case 2:return this.kg;break;case 4:return this.kg;break;I9C=1;break;}}};q.prototype.lxa=function(a){var U9C;U9C=2;while(U9C!==1){switch(U9C){case 2:this.kF!=a&&(this.kF=a,this.GM());U9C=1;break;}}};q.prototype.oPa=function(a){var K9C,b;K9C=2;while(K9C!==4){switch(K9C){case 2:b=K.R(a)?"":a.toString();return new ba(function(a){var T9C,v9C;T9C=2;while(T9C!==4){switch(T9C){case 1:a({});T9C=4;break;case 2:T9C=K.R(this.Lg)?1:5;break;case 5:try{v9C=2;while(v9C!==1){switch(v9C){case 2:this.Lg.py("",function(c){var N9C;N9C=2;while(N9C!==5){switch(N9C){case 2:c=c.filter(function(a){var P9C,W7u;P9C=2;while(P9C!==5){W7u="mo";W7u+="vieE";W7u+="nt";W7u+="ry";switch(P9C){case 2:a=a.split(".");return b&&(b===a[0]||W7u===a[0]&&b===a[1]);break;}}}.bind(this)).reduce(function(a,b){var A9C,c,n7u;A9C=2;while(A9C!==3){n7u="m";n7u+="ov";n7u+="i";n7u+="eEn";n7u+="try";switch(A9C){case 2:c=b.split(".");n7u!==c[0]&&(b=c[1],c=c[2],K.R(a[b])&&(a[b]={}),K.R(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(c);N9C=5;break;}}}.bind(this));v9C=1;break;}}}catch(fb){a({});}T9C=4;break;}}}.bind(this));break;}}};q.prototype.Y4=function(a,b){var p9C;p9C=2;while(p9C!==4){switch(p9C){case 9:p9C=(a=this.Ob[a])?9:6;break;p9C=(a=this.Ob[a])?1:4;break;case 2:p9C=(a=this.Ob[a])?1:4;break;case 1:p9C=(b=a.headers[b])?5:4;break;case 5:return b;break;}}};q.prototype.T$a=function(a,b){var w9C,c;w9C=2;while(w9C!==4){switch(w9C){case 2:c=this.Vra(a);return c||!this.tt?ba.resolve(c):(this.Om?this.jPa(a,b):this.iPa(a,b)).then(function(a){var X9C;X9C=2;while(X9C!==1){switch(X9C){case 2:return D(a);break;case 4:return D(a);break;X9C=1;break;}}});break;}}};q.prototype.Vra=function(a){var G9C;G9C=2;while(G9C!==1){switch(G9C){case 2:return D(this.Ob[a]);break;case 4:return D(this.Ob[a]);break;G9C=1;break;}}};q.prototype.zx=function(){var l9C,P7u;l9C=2;while(l9C!==1){P7u="Me";P7u+="dia";P7u+=" cache ";P7u+="is not enabled";switch(l9C){case 2:return this.cw?this.cw.then(function(){var V9C;V9C=2;while(V9C!==1){switch(V9C){case 2:return new ba(function(a){var u9C,w7u;u9C=2;while(u9C!==1){w7u="mo";w7u+="v";w7u+="ieEntry";switch(u9C){case 2:this.Lg.py(w7u,function(b){var m9C,c;m9C=2;while(m9C!==8){switch(m9C){case 2:m9C=1;break;case 4:c=[];b.forEach(function(a){var c9C;c9C=2;while(c9C!==1){switch(c9C){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(parseInt(a[1],10));c9C=1;break;}}});a(c);m9C=8;break;case 5:a([]);m9C=8;break;case 1:m9C=!b||0>=b.length?5:4;break;}}});u9C=1;break;}}}.bind(this));break;}}}.bind(this)):ba.reject(P7u);break;}}};j0C=63;break;case 18:ha=a(60).Ge;ba=da.Promise;ma=new da.Console(B7u,y7u);la=new da.Console(j7u,k7u);ea=a(32);ta=ea.EventEmitter;W=ea.RD;ia=a(570);j0C=23;break;case 6:B=a(187);H=a(294);a(58);O=a(293);G=a(573);U=a(292);aa=a(289).z$;Q=a(99);j0C=18;break;case 63:q.prototype.ioa=function(){var Y9C,c,d,g,f,h,F5u,h7u;function b(a,b){var Q5C;Q5C=2;while(Q5C!==1){switch(Q5C){case 2:a.data[b].forEach(function(a){var Z5C;Z5C=2;while(Z5C!==5){switch(Z5C){case 1:c+=a.Qc;Z5C=5;break;case 2:a.abort(sa);Z5C=1;break;}}});Q5C=1;break;}}}Y9C=2;while(Y9C!==3){switch(Y9C){case 2:c=0;for(h in this.Ob)if(g=this.Ob[h],g.data){d=!1;for(var k in g.data){F5u="in";F5u+=" ";F5u+="entr";F5u+="y";F5u+=":";h7u="missi";h7u+="ng headerEntry ";h7u+="fo";h7u+="r streamId:";(f=g.headers[k])||ra(h7u,k,F5u,g);K.R(void 0)||!f||void 0===f.N?((K.R(void 0)||void 0!=k)&&b(g,k),g.data[k].forEach(a),delete g.data[k]):d=!0;}d||delete g.data;}this.rRa(c);Y9C=3;break;}}function a(a){var a5C;a5C=2;while(a5C!==1){switch(a5C){case 4:a.QWa();a5C=4;break;a5C=1;break;case 2:a.QWa();a5C=1;break;}}}};q.prototype.Mga=function(a,b){var R5C,c;R5C=2;while(R5C!==6){switch(R5C){case 4:b=void 0===a.S?new U(a.stream,b,this.rw[c],a,this,!0,this):aa.create(a.stream,b,this.rw[c],a,this,!0,this);b.Jd=a.Jd;b.Ilb=da.time.ca();b.hyb=this;R5C=7;break;case 7:return b;break;case 2:c=a.stream.N;2>this.rw.length&&this.YNa();R5C=4;break;}}};q.prototype.Ps=function(a){var e5C,b,m5u;e5C=2;while(e5C!==8){m5u="s";m5u+="avet";m5u+="o";m5u+="di";m5u+="sk";switch(e5C){case 3:b=this.Ob[a.M]||a.zr;0===b.BQ&&0===b.zG&&(this.IRa(b,a.Oe),b.Jd&&(b.jc.Sab||(this.Om?this.ERa(a.M):this.gA(m5u,{zwa:b.jc.tK}))));e5C=8;break;case 2:a.Vb&&delete this.El[a.Wa];e5C=5;break;case 5:delete a.response;a.Ke();e5C=3;break;}}};q.prototype.wRa=function(a,b,c,d){var f5C,g;f5C=2;while(f5C!==11){switch(f5C){case 3:g.iC=a.iC;f5C=9;break;case 2:g=this.Mga(a,d);g.Vva=b;g.zr=c;f5C=3;break;case 9:f5C=!g.Zx()?8:7;break;case 8:return ba.reject();break;case 7:c.BQ++;this.El[g.Wa]=g;f5C=14;break;case 14:f5C=a.AQ?13:12;break;case 12:return new ba(function(a){var g5C;g5C=2;while(g5C!==1){switch(g5C){case 2:g.AQ=a;g5C=1;break;case 4:g.AQ=a;g5C=6;break;g5C=1;break;}}});break;case 13:g.AQ=a.AQ;f5C=11;break;}}};q.prototype.yPa=function(a,b,c){var k5C,d,g;k5C=2;while(k5C!==7){switch(k5C){case 1:d=a.c1;b.Jd&&this.tt&&(a.zR?d=a.zR:a.vsa&&0<a.vsa&&(d=2E3*a.vsa));k5C=4;break;case 2:k5C=1;break;case 3:return function(a,b){var H1t=F977;var W5C;W5C=2;while(W5C!==1){switch(W5C){case 4:H1t.K3u(1);return H1t.t3u(d,b);break;W5C=1;break;case 2:H1t.K3u(2);return H1t.Q3u(d,b);break;}}};break;case 4:k5C=0<d?3:9;break;case 9:g=c.length<a.b1?c.length:a.b1;return function(a){var T1t=F977;var E5C;E5C=2;while(E5C!==1){switch(E5C){case 2:T1t.u3u(2);return T1t.t3u(g,a);break;case 4:T1t.u3u(3);return T1t.Q3u(a,g);break;E5C=1;break;}}};break;}}};q.prototype.GN=function(a,b){var C5C,c,d,g,f,h,k,n,p,r,l5u,V5u,N5u,q5u,i5u,C5u;C5C=2;while(C5C!==42){l5u="man";l5u+="ag";l5u+="er";l5u+="debugevent";V5u=", ";V5u+="st";V5u+="a";V5u+="rtPts: ";N5u=", ";N5u+="pt";N5u+="s:";N5u+=" ";q5u=", stream";q5u+="I";q5u+="d";q5u+=":";q5u+=" ";i5u=", headerCache requestD";i5u+="ata: m";i5u+="ovi";i5u+="eId: ";C5u="no ";C5u+="prop";C5u+="er fragment f";C5u+="ound to r";C5u+="equest data at pts";switch(C5C){case 27:ra(C5u,b);C5C=42;break;case 13:C5C=h?12:42;break;case 14:h=this.Ob[c]||a.zr;C5C=13;break;case 10:h.e1=a;return;break;case 43:h.e1&&(a=h.e1,delete h.e1,this.GN(a,h.uo));C5C=42;break;case 35:f.Ce&&(b="@"+da.time.ca()+i5u+c+q5u+d+N5u+b+V5u+p.S,this.Fa(l5u,{message:b}));void 0===h.data&&(h.data=Object.create(null));void 0===h.data[d]&&(h.data[d]=[]);b=h.data[d];c=this.yPa(f,a,k);C5C=30;break;case 22:C5C=(r=p.X1(b))?21:35;break;case 7:C5C=this.Mz.length>f.x3?6:42;break;case 12:C5C=a.N===X.v.AUDIO?11:18;break;case 11:C5C=void 0===h.uo?10:19;break;case 4:g=a.stream;f=a.config;C5C=9;break;case 8:this.Mz.push({S7a:a,Kb:b});C5C=7;break;case 18:a.N===X.v.AUDIO&&f.Tl&&f.Gq&&!f.Bw&&g.np&&(b=Math.max(g.V.Zf(0),b+g.np.Pe));k=a.V;n=k.$j(b);C5C=15;break;case 30:r=g=0;C5C=29;break;case 28:void 0===p&&(p=a.stream.Th(n),p.Jd=a.Jd),K.R(h.uo)&&(h.uo=p.S),p.Jd&&(p.responseType=R.Ui.pl),a.Jd&&this.tt&&a.iC[d]&&a.iC[d][p.S]||(f=this.Mga(p,a.config),f.Jd&&(f.zr=a.zr),f.Zx(),++h.zG,b.push(f)),++r,g+=p.duration,p=void 0;C5C=44;break;case 29:C5C=n<k.length&&!c(r,g)?28:43;break;case 2:c=a.M;d=a.Wa;C5C=4;break;case 9:C5C=this.QM?8:14;break;case 21:p.N===X.v.AUDIO&&!f.Ksa&&r.Kb<(f.Gq&&!f.Bw&&g.np?Math.floor(g.np.Pe):0)&&(++r.Mc,r.Kb+=p.Ha.Pe),0<r.Mc&&p.fm(r,!1);C5C=35;break;case 19:b=h.uo;C5C=18;break;case 6:this.Mz.shift();C5C=7;break;case 23:C5C=r===X.v.VIDEO&&f.$w||r===X.v.AUDIO&&f.Tl?22:35;break;case 26:p=a.stream.Th(n);p.Jd=a.Jd;r=a.N;C5C=23;break;case 44:++n;C5C=29;break;case 15:C5C=-1===n?27:26;break;}}};q.prototype.iga=function(a){var J5C,b,c;J5C=2;while(J5C!==3){switch(J5C){case 2:b=a.Wa;c=this.Ob[a.M]||a.zr;c&&(c.DTa||c.Jd&&!this.Om||(c.DTa=!0,++this.Os),c.headers||(c.headers={}),c.headers[b]=a,this.Gl.WG&&++c.AB,this.GM());J5C=3;break;}}};q.prototype.GM=function(){var S5C,b,c,d;S5C=2;while(S5C!==11){switch(S5C){case 5:S5C=!(this.Os<=this.kF)?4:11;break;case 3:S5C=(c=this.kg.shift())?9:4;break;case 2:d=0;S5C=5;break;case 9:b=c.M;S5C=8;break;case 4:S5C=this.Os>this.kF?3:12;break;case 12:this.pRa(d);S5C=11;break;case 8:S5C=c.data?7:6;break;case 7:for(var g in c.data){c.data[g].forEach(a);delete c.data[g];}S5C=6;break;case 6:delete this.Ob[b];--this.Os;S5C=13;break;case 13:this.oRa(b);S5C=4;break;}}function a(a){var j5C;j5C=2;while(j5C!==5){switch(j5C){case 2:a.abort();d+=a.Qc;j5C=5;break;}}}};j0C=55;break;case 2:K=a(8);S=a(15);da=a(9);P=a(304);a(120);Y=a(301);R=da.Ua;j0C=6;break;case 39:q.prototype.Zb=ra;q.prototype.bn=function(){var y9C;y9C=2;while(y9C!==5){switch(y9C){case 2:this.flush();this.Xga();y9C=5;break;case 3:this.flush();this.Xga();y9C=3;break;y9C=5;break;}}};q.prototype.YNa=function(){var M9C,a;M9C=2;while(M9C!==9){switch(M9C){case 1:M9C=0===this.rw.length?5:9;break;case 5:a=this;a.rw=[{type:X.v.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:X.v.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(b){var r9C,r5u;r9C=2;while(r9C!==3){r5u="er";r5u+="ro";r5u+="r";switch(r9C){case 14:return b;break;r9C=3;break;case 4:return b;break;case 2:b=new ka(b,a.Hj);b.on(r5u,function(){});K.R(b.cd)||b.cd();r9C=4;break;}}});M9C=3;break;case 2:M9C=1;break;case 3:ka.Di();M9C=9;break;}}};q.prototype.Xga=function(){var i9C,a;i9C=2;while(i9C!==3){switch(i9C){case 2:a=this.rw;this.rw=[];a.forEach(function(a){var s9C;s9C=2;while(s9C!==5){switch(s9C){case 2:a.removeAllListeners();a.bn();s9C=5;break;}}});i9C=3;break;}}};q.prototype.JF=function(a,b,c){var d9C,d,g;d9C=2;while(d9C!==7){switch(d9C){case 4:d9C=(d[b]=a)?3:9;break;case 2:d=this.kw;g=a;d9C=4;break;case 9:c&&delete d[b];g?(this.QM=!1,this.pPa()):this.QM=!0;d9C=7;break;case 3:for(var f in d){d.hasOwnProperty(f)&&!1===d[f]&&(g=!1);}d9C=9;break;}}};q.prototype.pPa=function(){var x9C;x9C=2;while(x9C!==1){switch(x9C){case 2:!this.QM&&0<this.Mz.length&&(this.Mz.forEach(function(a){var t9C;t9C=2;while(t9C!==1){switch(t9C){case 2:this.GN(a.S7a,a.Kb);t9C=1;break;}}}.bind(this)),this.Mz=[]);x9C=1;break;}}};q.prototype.kfb=function(a,c){var z9C,d,g,f,h,A5u,J5u,Z5u;z9C=2;while(z9C!==25){A5u="A config m";A5u+="ust be pas";A5u+="sed to";A5u+=" prepareP";J5u="); ignorin";J5u+="g prepare for movie";J5u+="Id:";J5u+=" ";Z5u="PTS passed to HeaderCache.prepareP is not und";Z5u+="efined or a positive nu";Z5u+="mber";Z5u+=" (";switch(z9C){case 27:return ba.reject();break;case 7:z9C=h.Wab?6:14;break;case 8:this.lxa(h.aP);z9C=7;break;case 10:z9C=!this.Om||!d.Jd?20:17;break;case 6:return ba.reject();break;case 15:z9C=g>h.y3||this.Os+1>this.kF&&g>this.kg[0].ed?27:26;break;case 13:return ra(Z5u+f+J5u+d),ba.reject();break;case 12:d=this.Ob[d];z9C=11;break;case 11:z9C=!K.R(d)&&(2<=d.AB||!h.WG)?10:16;break;case 26:return this.vRa(a,c);break;case 20:z9C=(d.ed=g,this.kg.sort(b),!K.R(f))?19:17;break;case 16:z9C=!c.Jd||!this.tt||this.Om?15:26;break;case 19:void 0===d.data&&(d.jc.BC=void 0);z9C=18;break;case 17:return ba.resolve();break;case 4:f=c.Kb;S(c.config,A5u);h=c.config;z9C=8;break;case 18:for(var k in d.headers){!K.R(d.headers[k].url)&&null!==d.headers[k].url&&(void 0===d.data||void 0===d.data[k]||d.data[k].length<h.b1)?this.GN(d.headers[k],f):(K.R(d.headers[k].url)||null===d.headers[k].url)&&void 0!==d.data&&void 0!==d.data[k]&&0<d.data[k].length&&delete d.headers[k];}z9C=17;break;case 2:d=c.M;g=c.ed;z9C=4;break;case 14:z9C=!K.R(f)&&(!K.fa(f)||0>f)?13:12;break;}}};q.prototype.vRa=function(a,c){var O9C,d,g,f,k,n,p,r,l,m,u,v,q,w,A,E5u;O9C=2;while(O9C!==23){E5u="A conf";E5u+="ig must be passed t";E5u+="o _r";E5u+="equestHeader";switch(O9C){case 2:d=c.M;g=c.ed;O9C=4;break;case 4:f=c.Kb;k=c.Jd;n=c.P5a();O9C=8;break;case 11:c={stream:[new ga(void 0,l.jka,l),new ga(void 0,l.Fy,l)],location:new ca(null,a.xb,a.jg,!r,l),cc:{state:X.ta.Ig,e4:!0,buffer:{Kt:void 0,S:0,ze:0,Ra:0,ij:0,by:0,V:[]}}};c.location.GF(p);m=h(a,c,p,n,r,l,ma);O9C=19;break;case 8:p=n.Ca;r=n.Qh;n=n.yA;S(c.config,E5u);l=c.config;l=Y(l,p);O9C=11;break;case 19:O9C=!m?18:17;break;case 17:u=this.Ob[d];u||(u={ed:g,M:d,headers:Object.create(null),AB:0,BQ:0,zG:0,data:void 0,Jd:k,jc:{}},!u.Jd||this.Om?this.Ob[d]=u:u.jc.tK=0,this.kg.push(u),this.kg.sort(b));v=[];O9C=27;break;case 18:return ba.reject();break;case 27:l.Q7a&&(q=2292+12*Math.ceil(p.duration/2E3));w=this.Lg;A=this.tt;return(k?this.Om?this.kPa(d):this.oPa(d):ba.resolve()).then(function(a){var B9C;B9C=2;while(B9C!==5){switch(B9C){case 2:m.forEach(function(b){var h9C,c;h9C=2;while(h9C!==4){switch(h9C){case 2:c=q?q:l.CQ;l.WG&&u.headers[b.Wa]||(K.R(u.Zk)&&b.N===X.v.VIDEO&&(u.Zk=b.L,u.pn=b.pn,u.am=b.am,u.cl=b.W7a,u.ek=b.EQ),r&&b.N===X.v.VIDEO&&l.IP?c=l.IP:l.nza&&b.wj&&(c=b.wj.offset+b.wj.size),b={stream:b,url:b.url,offset:0,$:c,Jd:k},k&&(u.jc.Sab=!K.R(a)&&0<Object.keys(a).length,b.iC=a),b=this.wRa(b,f,u,l),v.push(b));h9C=4;break;}}}.bind(this));return ba.all(v);break;}}}.bind(this)).then(function(a){var D9C;D9C=2;while(D9C!==1){switch(D9C){case 2:return new ba(function(b){var n9C,c,o5u,c5u;n9C=2;while(n9C!==9){o5u="mo";o5u+="vie";o5u+="E";o5u+="n";o5u+="try";c5u="bi";c5u+="l";c5u+="lboa";c5u+="rd";switch(n9C){case 1:n9C=A&&k&&!this.Om?5:3;break;case 5:c=x(u);w.save(c5u,[o5u,u.M].join("."),c,ja,function(){var F9C;F9C=2;while(F9C!==1){switch(F9C){case 2:b(a);F9C=1;break;case 4:b(a);F9C=2;break;F9C=1;break;}}});n9C=9;break;case 3:b(a);n9C=9;break;case 2:n9C=1;break;}}}.bind(this));break;}}}.bind(this)).then(function(a){var L9C;L9C=2;while(L9C!==3){switch(L9C){case 2:a=Math.max.apply(Math,a);u.jc.RP=u.jc.aqa;u.jc.gR=a;L9C=4;break;case 4:return{firstheadersent:u.jc.RP,lastheadercomplete:u.jc.gR};break;}}});break;}}};j0C=50;break;case 23:X=a(13);ca=a(286);ga=a(285);ka=da.cz;a(26);ja={lifespan:259200};ea=ma.trace.bind(ma);oa=la.trace.bind(la);j0C=30;break;case 30:na=ma.warn.bind(ma);ra=ma.error.bind(ma);sa={onabort:function(){},onerror:function(){}};q.prototype=Object.create(Q.prototype);q.prototype.constructor=q;Object.defineProperties(q.prototype,{cache:{get:function(){var q9C;q9C=2;while(q9C!==1){switch(q9C){case 2:return this.Ob;break;case 4:return this.Ob;break;q9C=1;break;}}}}});q.prototype.yb=ea;q.prototype.aa=na;j0C=39;break;}}function D(a){var C9C,b,c,d;C9C=2;while(C9C!==13){switch(C9C){case 2:b=[];C9C=5;break;case 8:b.am=a.am;b.cl=a.cl;b.ek=a.ek;return b;break;case 5:C9C=a&&a.data?4:13;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].N]={Wa:c,dk:a.headers[c],data:d});}b.Zk=a.Zk;b.pn=a.pn;C9C=8;break;}}}function c(a,b,c,d,g){var b0C,H5u,X5u;b0C=2;while(b0C!==8){H5u="updateStreamSelection ret";H5u+="urn";H5u+="ed null ";H5u+="list";X5u="s";X5u+="ele";X5u+="ctStream";X5u+=" returned";X5u+=" null";switch(b0C){case 1:d=P(d,g);b0C=5;break;case 2:b0C=(b=a.location.cU(a.cc,b))?1:9;break;case 3:na(X5u);b0C=8;break;case 5:b0C=(a=a.stream[c?1:0].s8(a.cc,b,void 0,c?d.Wua:d.Vua))?4:3;break;case 4:return c=b[a.fd],c.pn=a.reason,c.am=a.pr,c.W7a=a.cl,c.EQ=a.ek,c;break;case 9:na(H5u);b0C=8;break;}}}function x(a){var J9C;J9C=2;while(J9C!==1){switch(J9C){case 2:return{priority:a.ed,movieId:a.M,headers:Object.create(null),saveToDisk:a.Jd,stats:{},firstSelectedStreamBitrate:a.Zk,initSelectionReason:a.pn,histDiscountedThroughputValue:a.am,histTdigest:a.ek,histAge:a.cl};break;}}}function g(a){var s0C,b;s0C=2;while(s0C!==3){switch(s0C){case 4:return b;break;case 2:b=0;K.forEach(a,function(a){var d0C;d0C=2;while(d0C!==1){switch(d0C){case 2:K.forEach(a.streams,function(a){var x0C;x0C=2;while(x0C!==1){switch(x0C){case 2:b=Math.max(b,a.bitrate);x0C=1;break;}}});d0C=1;break;}}});s0C=4;break;}}}function m(a,b){var Z9C,c,t5u,v5u;Z9C=2;while(Z9C!==3){t5u="media";t5u+="cach";t5u+="e";v5u="med";v5u+="ia";v5u+="cache-error";switch(Z9C){case 4:c.on(a,v5u,function(a){var f9C,M5u,p5u;f9C=2;while(f9C!==5){M5u="med";M5u+="iac";M5u+="ach";M5u+="e";p5u="er";p5u+="r";p5u+="or";switch(f9C){case 2:a.type=p5u;b.Fa(M5u,a);f9C=5;break;}}});Z9C=3;break;case 2:c=new W();c.on(a,t5u,function(a){var R9C,Q5u;R9C=2;while(R9C!==4){Q5u="m";Q5u+="ediac";Q5u+="a";Q5u+="che";switch(R9C){case 1:a.keys||a.items.map(function(a){var e9C;e9C=2;while(e9C!==1){switch(e9C){case 2:return a.key;break;case 4:return a.key;break;e9C=1;break;}}});R9C=5;break;case 5:b.Fa(Q5u,a);R9C=4;break;case 2:R9C=a.keys||a.items?1:5;break;case 7:b.Fa("",a);R9C=5;break;R9C=4;break;}}});Z9C=4;break;}}}function t(a){var j9C,b;j9C=2;while(j9C!==9){switch(j9C){case 4:b.frameDuration=a.stream.Ha&&a.stream.Ha.Ld;return b;break;case 2:b=y(a);b.timescale=a.ga;j9C=4;break;}}}}());},function(f,d,a){var k,h;function b(){this.pq=this.$E=this.bN=this.oN=this.UM=null;}function c(a){this.J=a;this.mt=[];this.Bl=new b();this.gF();}k=a(8);a(13);a(26);h=a(9);new h.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Ch=function(a){var b;b=!1;a&&k.has(a,"ens")&&k.has(a,"lns")&&k.has(a,"fns")&&k.has(a,"d")&&k.has(a,"t")&&(this.UM=a.ens,this.oN=a.lns,this.bN=a.fns,this.$E=a.d,this.pq=h.time.VR(a.t),b=!0);return b;};b.prototype.me=function(){var a;if(k.Ja(this.UM)||k.Ja(this.oN)||k.Ja(this.bN)||k.Ja(this.$E)||k.Ja(this.pq))return null;a={d:this.$E,t:h.time.JI(this.pq)};a.ens=this.UM;a.lns=this.oN;a.fns=this.bN;return a;};b.prototype.get=function(){var a,b;a=this.me();if(a){b=new Date(h.time.JI(this.pq));a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};c.prototype.gF=function(){var a;a=h.storage.get("sth");a&&this.AF(a);};c.prototype.AF=function(a){var c,d;c=null;d=this.J;a.forEach(function(a){var d;d=new b();d.Ch(a)?(c=!0,this.mt.push(d)):k.Ja(c)&&(c=!1);},this);this.mt=this.mt.filter(function(a){return a.$E>=d.GR;});this.mt.sort(function(a,b){return a.pq-b.pq;});return k.Ja(c)?!0:c;};c.prototype.nY=function(){var a;a=[];this.mt.forEach(function(b){a.push(b.me());},this);return a;};c.prototype.save=function(){var a,c,d;a=this.nY();c=this.J;d=this.Bl.me();d&&d.d>=c.GR&&(a.push(d),this.mt.push(this.Bl));a.length>c.uR&&(a=a.slice(a.length-c.uR,a.length));this.Bl=new b();a&&h.storage.set("sth",a);};c.prototype.reset=function(){this.Bl=new b();};c.prototype.X4a=function(){return this.Bl.get();};c.prototype.H6a=function(){return this.mt.length+1;};c.prototype.dTa=function(a){this.Bl.UM=a;this.Bl.pq=h.time.ca();};c.prototype.nTa=function(a){this.Bl.oN=a;this.Bl.pq=h.time.ca();};c.prototype.iTa=function(a,b){this.Bl.bN=a;this.Bl.pq=h.time.ca();this.Bl.$E=b;};f.K=c;},function(f,d,a){var c,k;function b(a){this.J=a;this.gF();}c=a(8);k=a(9);new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.me();k.storage.set("nh",a);};b.prototype.lkb=function(){this.ow||(this.ow=!0,this.tq=k.time.ca());};b.prototype.xkb=function(){var a;if(this.ow){a=k.time.ca();this.xq+=a-this.tq;this.tq=a;this.ow=!1;this.fF=null;}};b.prototype.Iqa=function(a,b){this.ow&&(b>this.tq&&(this.xq+=b-this.tq,this.tq=b),null===this.fF||a>this.fF)&&(a=b-a,this.Rz.push([this.xq-a,a]),this.lZ(),this.fF=b);};b.prototype.lZ=function(){var a;a=this.xq-this.J.Ubb;this.Rz=this.Rz.filter(function(b){return b[0]>a;});};b.prototype.gF=function(){var a;a=k.storage.get("nh");this.AF(a)||(this.tq=k.time.ca(),this.xq=0,this.ow=!1,this.fF=null,this.Rz=[]);};b.prototype.AF=function(a){if(!(a&&c.has(a,"t")&&c.has(a,"s")&&c.has(a,"i")&&c.fa(a.t)&&c.fa(a.s)&&c.isArray(a.i)))return!1;this.tq=k.time.VR(1E3*a.t);this.xq=1E3*a.s;this.ow=!1;this.Rz=a.i.map(function(a){return[1E3*a[0],a[1]];});this.fF=null;return!0;};b.prototype.me=function(){return this.ow?{t:k.time.now()/1E3|0,s:(this.xq+(k.time.ca()-this.tq))/1E3|0,i:this.Rz.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:k.time.JI(this.tq)/1E3|0,s:this.xq/1E3|0,i:this.Rz.map(function(a){return[a[0]/1E3|0,a[1]];})};};f.K=b;},function(f,d,a){var k,h,g,n,p,r,l;function b(a){var b;if(!a.pZ){b=a.Bpa();a.jg.ww(b["default"].va,a.Jg);a.jg.Uy(b.oj?b.oj.Bn:void 0,b.oj?b.oj.QC:void 0);k.Ja(a.Eb)||(a.pZ=!0);}}function c(a,b,c){var d;this.J=c;this.cj={};this.Nz=c.Nz;this.iha=new r(this.Nz);this.reset();this.et=a;this.jg=b;this.Dha=h.ik.name();this.jg.kT(this.Dha);this.wF=this.Mv=0;this.RE=[];h.events.on("networkchange",function(a){this.Dha=a;this.jg.kT(a);}.bind(this));d=c.X0;d&&(d={gc:g.Xc.TD,ka:{va:parseInt(d,10),Cg:0},Yf:{VUa:0,Cg:0},nn:{VUa:0,Cg:0}},this.get=function(){return d;});}k=a(8);h=a(9);g=a(13);d=a(26);n=a(32).EventEmitter;p=d.PKa;r=a(311).mba;l=new h.Console("ASEJS_NETWORK_MONITOR","media|asejs");c.prototype=Object.create(n);Object.defineProperties(c.prototype,{startTime:{get:function(){return this.yc;}},gc:{get:function(){return this.Jg;}},Pj:{get:function(){return this.Mv;}},$Sa:{get:function(){return this.RE;}}});c.prototype.XNa=function(){var a,b,c;a=this.J;b=a.jY;c=this.iha;return a.lOa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};c.prototype.reset=function(){var a,c,d;a=this.J.jY;c=this.iha;d=this.J;this.location=null;this.cj=this.XNa();this.uq=c.create("respconn-ewma",a);this.mq=c.create("respconn-ewma",a);this.Jg=g.Xc.HAVE_NOTHING;this.zSa=function(){b(this);}.bind(this);this.aO=void 0;this.Zs=this.qc=this.Eb=this.yc=null;this.vNa=this.YN=0;this.XQa=!1;if(d.fr||"rlabr"===d.Fy)this.cj.owa=new p(d.Da.numB,d.Da.bSizeMs,d);d.awa&&(this.wF=this.Mv=0,this.RE=[]);};c.prototype.mT=function(a){var b;b=this.cj;if(a!==this.location){k.R(this.aO)||(clearInterval(this.aO),this.aO=void 0);k.Ja(this.location)&&(this.YN=0,this.yc=null);if(!k.Ja(a)){this.Jg=g.Xc.HAVE_NOTHING;for(var c in b)b[c]&&b[c].reset&&b[c].reset();(this.J.fr||"rlabr"===this.J.Fy)&&b.owa.reset();this.uq.reset();this.mq.reset();}k.Ja(this.yc)||(this.YN+=(k.Ja(this.Eb)?h.time.ca():this.Eb)-this.yc);this.Eb=this.yc=null;this.qc=0;this.location=a;this.jg.mT(a);}};c.prototype.kT=function(a){this.jg.kT(a);};c.prototype.hTa=function(a){this.cj.QoEEvaluator?l.warn("monitor (QoEEvaluator) already existed."):this.cj.QoEEvaluator=a;};c.prototype.Tgb=function(){delete this.cj.QoEEvaluator;};c.prototype.Rm=function(a,b){var c;c=this.cj["req-pacer"];c&&c.Rm(a,b);};c.prototype.t6a=function(){return this.cj["req-pacer"];};c.prototype.IZ=function(a,c,d){var f,h;f=this.J;h=this.cj;if(k.R(c))l.warn("addDataReceived called with undefined start time");else{f.qOa&&10>d-c?c=d-10:0===d-c&&(c=d-1);for(var n in h)h[n]&&h[n].add&&h[n].add(a,c,d);this.Jg=Math.max(this.Jg,g.Xc.ys);k.Ja(this.yc)&&(this.yc=c,this.Eb=null,this.pZ=!1,this.qc=0);k.Ja(this.Eb)||(c>this.Eb&&(this.yc+=c-this.Eb),this.Eb=null,this.pZ=!1);this.qc+=a;this.Jg<g.Xc.Un&&(d-this.yc>f.HPa||this.qc>f.GPa)&&(this.Jg=g.Xc.Un);this.Jg<g.Xc.TD&&(d-this.yc>f.aRa||this.qc>f.$Qa)&&(!this.XQa||this.vNa>f.FPa)&&(this.Jg=g.Xc.TD,b(this),this.aO=setInterval(this.zSa,f.mPa));k.Ja(this.Zs)||(c-this.Zs>f.aia?this.et.Iqa(this.Zs,c):d-c>f.aia&&this.et.Iqa(c,d));this.Zs=Math.max(d,this.Zs);}};c.prototype.Cq=function(a){this.uq.add(a);this.jg.Cq(a);};c.prototype.Aq=function(a){this.mq.add(a);this.jg.Aq(a);};c.prototype.start=function(a){var b;k.Ja(this.Zs)&&!k.Ja(this.Eb)&&(this.Zs=a);b=this.cj;if(this.J.V8)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};c.prototype.stop=function(a){var b,c;b=this.cj;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Eb=k.Ja(this.Eb)?a:Math.min(this.Eb,a);this.Zs=null;};c.prototype.flush=function(){var a,b;a=this.cj;for(b in a)a[b]&&a[b].flush&&a[b].flush();};c.prototype.fail=function(){this.yc=null;};c.prototype.m5a=function(){var a,b;a=this.cj.entropy;a&&(b=a.UVa(),a.reset());return b;};c.prototype.Bpa=function(){var a,b,c,d,g,f,k;a=h.time.ca();b={};c=this.cj;d=this.J;g=d.$Na;f=d.HRa;for(k in c)c[k]&&c[k].get&&(b[k]=c[k].get(a),"iqr"===c[k].type&&(b.oj=b[k]),"tdigest"===c[k].type&&(b.tk=b[k]));b["default"]=g&&b[g]?b[g]:b["throughput-ewma"];"none"!==d.g8&&"none"!==f&&(b.Hwa=f&&b[f]?b[f]:b["throughput-sw"]);return b;};c.prototype.get=function(){var a,b,c,d,g,f;a=this.Bpa();b=a["default"];c=this.uq.get();d=this.mq.get();g=this.J;if(a.Hwa)f=a.Hwa,b=k.fa(b.va)&&k.fa(f.va)&&b.va>f.va&&0<f.va?f:b;a.gc=this.Jg;a.ka=b;a.Yf=c;a.nn=d;if(g.fr||"rlabr"===g.Fy)a.Khb=this.cj.owa.m3();b=this.YN+!k.Ja(this.yc)?(k.Ja(this.Eb)?h.time.ca():this.Eb)-this.yc:0;a.time=b;return a;};c.prototype.Sva=function(a,b){1===++this.Mv&&(this.emit("active",a),this.start(a));b&&this.RE.push(b);};c.prototype.Wva=function(){++this.wF;};c.prototype.Uva=function(a,b,c){b&&--this.wF;--this.Mv;this.J.awa&&(this.Mv=Math.max(this.Mv,0),this.wF=Math.max(this.wF,0));0===this.Mv&&(this.stop(a),this.emit("inactive",a));c&&(a=this.RE.indexOf(c),0<=a&&this.RE.splice(a,1));};f.K=c;},function(f){(function(){var u5u,U5u;function d(){var K5u;K5u=2;while(K5u!==5){switch(K5u){case 1:this.za=this.yc=void 0;K5u=5;break;case 2:this.ht=this.qc=0;K5u=1;break;case 3:this.ht=this.qc=1;K5u=2;break;K5u=1;break;}}}u5u=2;while(u5u!==8){U5u="1SI";U5u+="YbZr";U5u+="NJCp9";switch(u5u){case 2:d.prototype.start=function(a){var s5u;s5u=2;while(s5u!==1){switch(s5u){case 2:this.yc?a<this.yc?(this.ht+=this.yc-a,this.yc=a):a>this.za&&(this.za=this.yc=a):this.za=this.yc=a;s5u=1;break;}}};d.prototype.stop=function(a){var D5u;D5u=2;while(D5u!==1){switch(D5u){case 2:this.za&&a>this.za&&(this.ht+=a-this.za,this.za=a);D5u=1;break;}}};d.prototype.add=function(a,b,c){var T5u;T5u=2;while(T5u!==4){switch(T5u){case 2:this.start(b);this.stop(c);this.qc+=a;T5u=4;break;}}};d.prototype.get=function(){var f5u;f5u=2;while(f5u!==1){switch(f5u){case 2:return{va:this.ht?Math.floor(8*this.qc/this.ht):null,Tma:this.ht?this.ht:0};break;}}};f.K=d;U5u;u5u=8;break;}}}());},function(f,d,a){var c;function b(a){var b,c;b=a.tb;c=a.mb;this.tw=a.sw||4E3;this.mSa=b;this.EPa=c;this.reset();}c=a(9);new c.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.CN=function(a,b){this.qc+=b;this.kg.push({t:a,Do:b});this.kg.sort(function(a,b){return a.t-b.t;});};b.prototype.rF=function(){var a;if(null!==this.Vs&&null!==this.Nj&&0!==this.kg.length)for(;this.Vs-this.Nj>this.tw&&this.kg.length;){a=this.kg.shift();this.qc-=a.Do;this.Nj=a.t;}};b.prototype.reset=function(){this.kg=[];this.Nj=this.Vs=null;this.qc=0;};b.prototype.setInterval=function(a){this.tw=a;this.rF();};b.prototype.v6a=function(){var a;a=c.time.ca();return 8*this.qc/(a-this.Nj);};b.prototype.lWa=function(a){return null===this.Vs||null===this.Nj?!0:a<=this.EPa?!0:this.v6a()<=this.mSa;};b.prototype.Rm=function(a,b){null===this.Vs&&(this.Vs=a);null===this.Nj&&(this.Nj=a);a>this.Vs&&(this.Vs=a);a<this.Vs-this.tw||(a<this.Nj&&(this.Nj=a),this.CN(a,b),this.rF());};f.K=b;},function(f,d,a){var c;function b(a){var b,d;b=a.sw;d=a.mw;this.tw=b;this.KX={uhd:a.uhdl,hd:a.hdl};this.Pg=Math.max(Math.ceil(1*b/d),1);this.IPa=a.mins||1;c.call(this,b,d);this.reset();}c=a(100);new(a(9)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(c.prototype);b.prototype.flush=function(){this.pc.map(function(a,b){this.Oja(a,this.y2(b));},this);};b.prototype.UVa=function(){var a,b,c,d,f,r,l,x;a=this.KX;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.kZ[b];f=this.iZ[b];if(d.first){r=d.first;l=d.ly;void 0!==l&&(f[r][l]+=1);d.first=void 0;}for(var d=[],r=0,c=l=c.length+1,m=0;m<l;m++){for(var q=0,D=0;D<c;D++)q+=f[D][m];r+=q;d.push(q);}q=-1;if(r>this.IPa){for(m=q=0;m<l;m++)if(0<d[m])for(D=0;D<c;D++){x=f[D][m];0<x&&(q-=x*Math.log(1*x/d[m]));}q/=r*Math.log(2);}this.fY[b]=q;}return this.fY;};b.prototype.Oja=function(a,b){var c,h,k;for(var c=this.Pg,d=this.KX;this.RM.length>=c;)this.RM.shift();for(;this.SM.length>=c;)this.SM.shift();this.RM.push(a);this.SM.push(b);a=this.RM.reduce(function(a,b){return a+b;},0);b=this.SM.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var f in d)if(d.hasOwnProperty(f)){b=this.kZ[f];c=this.iZ[f];h=this.Rfb(a,d[f]);k=b.ly;void 0!==k?c[h][k]+=1:b.first=h;b.ly=h;}}};b.prototype.Rfb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Oja(this.pc[0],this.y2(0));c.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.kZ={};this.RM=[];this.SM=[];this.iZ={};this.fY={};a=this.KX;for(b in a)if(a.hasOwnProperty(b)){for(var d=this.iZ,f=b,p,r=void 0,l=Array(r),r=p=a[b].length+1,m=0;m<r;m++){l[m]=Array(p);for(var q=0;q<p;q++)l[m][q]=0;}d[f]=l;this.kZ[b]={first:void 0,ly:void 0};this.fY[b]=0;}c.prototype.reset.call(this);};f.K=b;},function(f,d,a){var c,k,h,g,n,p,r,l,m,q;function b(a){this.aOa=a;}d=a(310);c=d.jDa;k=d.hDa;h=a(309).iDa;g=a(308);n=a(307);p=a(189);r=a(305);l=a(594);m=a(593);q=a(592);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,f,u,v;f=this.aOa[a];u=b[a];v={};f&&Object.keys(f).forEach(function(a){v[a]=f[a];});u&&Object.keys(u).forEach(function(a){v[a]=u[a];});switch(v.type){case"slidingwindow":d=new h(v.mw);break;case"discontiguous-ewma":d=new k(v.mw,v.wt);break;case"iqr":d=new g(v.mx,v.mn,v.bw,v.iv);break;case"tdigest":d=new n(v);break;case"discrete-ewma":d=new c(v.hl,v["in"]);break;case"tdigest-history":d=new p(v);break;case"iqr-history":d=new r(v);break;case"avtp":d=new q();break;case"entropy":d=new l(v);break;case"req-pacer":d=new m(v);}d&&(d.type=v.type);return d;};f.K=b;},function(f,d,a){function b(a){this.data=a;this.right=this.left=null;}function c(a){this.Zc=null;this.Yi=a;this.size=0;}d=a(306);b.prototype.Me=function(a){return a?this.right:this.left;};b.prototype.ll=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.HB=function(a){if(null===this.Zc)return this.Zc=new b(a),this.size++,!0;for(var c=0,d=null,f=this.Zc;;){if(null===f)return f=new b(a),d.ll(c,f),ret=!0,this.size++,!0;if(0===this.Yi(f.data,a))return!1;c=0>this.Yi(f.data,a);d=f;f=f.Me(c);}};c.prototype.remove=function(a){var c,d,f,l,r;if(null===this.Zc)return!1;c=new b(void 0);d=c;d.right=this.Zc;for(var f=null,k=null,r=1;null!==d.Me(r);){f=d;d=d.Me(r);l=this.Yi(a,d.data);r=0<l;0===l&&(k=d);}return null!==k?(k.data=d.data,f.ll(f.right===d,d.Me(null===d.left)),this.Zc=c.right,this.size--,!0):!1;};f.K=c;},function(f,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function c(a){this.Zc=null;this.Yi=a;this.size=0;}function k(a){return null!==a&&a.red;}function h(a,b){var c;c=a.Me(!b);a.ll(!b,c.Me(b));c.ll(b,a);a.red=!0;c.red=!1;return c;}function g(a,b){a.ll(!b,h(a.Me(!b),!b));return h(a,b);}d=a(306);b.prototype.Me=function(a){return a?this.right:this.left;};b.prototype.ll=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.HB=function(a){var c,d,f,n,l,m,q,w,t;c=!1;if(null===this.Zc)this.Zc=new b(a),c=!0,this.size++;else{d=new b(void 0);f=0;n=0;l=null;m=d;q=null;w=this.Zc;for(m.right=this.Zc;;){null===w?(w=new b(a),q.ll(f,w),c=!0,this.size++):k(w.left)&&k(w.right)&&(w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w)&&k(q)){t=m.right===l;w===q.Me(n)?m.ll(t,h(l,!n)):m.ll(t,g(l,!n));}t=this.Yi(w.data,a);if(0===t)break;n=f;f=0>t;null!==l&&(m=l);l=q;q=w;w=w.Me(f);}this.Zc=d.right;}this.Zc.red=!1;return c;};c.prototype.remove=function(a){var c,d,q,f,w,m,t;if(null===this.Zc)return!1;c=new b(void 0);d=c;d.right=this.Zc;for(var f=null,n,l=null,m=1;null!==d.Me(m);){q=m;n=f;f=d;d=d.Me(m);w=this.Yi(a,d.data);m=0<w;0===w&&(l=d);if(!k(d)&&!k(d.Me(m)))if(k(d.Me(!m)))n=h(d,m),f.ll(q,n),f=n;else if(!k(d.Me(!m))&&(w=f.Me(!q),null!==w))if(k(w.Me(!q))||k(w.Me(q))){t=n.right===f;k(w.Me(q))?n.ll(t,g(f,q)):k(w.Me(!q))&&n.ll(t,h(f,q));q=n.Me(t);q.red=!0;d.red=!0;q.left.red=!1;q.right.red=!1;}else f.red=!1,w.red=!0,d.red=!0;}null!==l&&(l.data=d.data,f.ll(f.right===d,d.Me(null===d.left)),this.size--);this.Zc=c.right;null!==this.Zc&&(this.Zc.red=!1);return null!==l;};f.K=c;},function(f,d,a){f.K={LKa:a(597),Nob:a(596)};},function(f){function d(a){this.Kz=a;this.Yc=0;this.jA=null;}d.prototype.add=function(a,b,c){null!==this.jA&&b>this.jA&&(this.Yc+=b-this.jA,this.jA=null);this.Kz.add(a,b-this.Yc,c-this.Yc,this.Yc);};d.prototype.stop=function(a){null===this.jA&&(this.jA=a);};d.prototype.S6=function(a,b){return this.Kz.S6(a,b);};d.prototype.get=function(){return this.Kz.get();};d.prototype.reset=function(){this.Kz.reset();};d.prototype.toString=function(){return this.Kz.toString();};f.K=d;},function(f){function d(a,b,c){this.qA=a;this.Pg=Math.floor((a+b-1)/b);this.Yb=b;this.jRa=c;this.reset();}d.prototype.shift=function(){this.pc.shift();this.rq.shift();};d.prototype.update=function(a,b){this.pc[a]+=b;};d.prototype.push=function(a){this.pc.push(0);this.rq.push(a?a:0);this.za+=this.Yb;};d.prototype.add=function(a,b,c,d){var f,g;if(null===this.za){f=Math.max(Math.floor((c-b+this.Yb-1)/this.Yb),1);for(this.za=b;this.pc.length<f;)this.push(d);}for(;this.za<c;)if(this.push(d),this.jRa)for(;1<this.pc.length&&c+d-(this.za-this.Yb*this.pc.length+this.rq[0])>this.qA;)this.shift();else this.pc.length>this.Pg&&this.shift();if(b>this.za-this.Yb)this.update(this.pc.length-1,a);else if(b==c)d=this.pc.length-Math.max(Math.ceil((this.za-c)/this.Yb),1),0<=d&&this.update(d,a);else for(d=1;d<=this.pc.length;++d){f=this.za-d*this.Yb;g=f+this.Yb;if(!(f>c)){if(g<b)break;this.update(this.pc.length-d,Math.round(a*(Math.min(g,c)-Math.max(f,b))/(c-b)));}}for(;this.pc.length>this.Pg;)this.shift();};d.prototype.reset=function(){this.pc=[];this.rq=[];this.za=null;};d.prototype.setInterval=function(a){this.Pg=Math.floor((a+this.Yb-1)/this.Yb);};f.K=d;},function(f,d,a){var k,h,g,n;function b(a,b,c){k.call(this,a,b,c);}function c(a,c){h.call(this,new b(a,c,!1));}k=a(600);h=a(599);g=a(31).t4a;n=a(31).h7a;b.prototype=Object.create(k.prototype);b.prototype.va=function(){return Math.floor(8*g(this.pc)/this.Yb);};b.prototype.Cg=function(){return Math.floor(64*n(this.pc)/(this.Yb*this.Yb));};b.prototype.get=function(){return{va:this.va(),Cg:this.Cg(),ivb:this.pc.length};};b.prototype.toString=function(){return"bsw("+this.qA+","+this.Yb+","+this.Pg+")";};c.prototype=Object.create(h.prototype);c.prototype.setInterval=function(a){this.Kz.setInterval(a);};f.K=c;},function(f,d,a){var c;function b(a){this.cT=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.cT[b]=a.charCodeAt(b);}c=new(a(9)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,d;b=this.cT.length;if(void 0===this.cT)c.warn("XORCiper.encrypt is called with undefined secret!");else{d="";for(var f=0;f<a.length;++f)d+=String.fromCharCode(this.cT[f%b]^a.charCodeAt(f));return encodeURIComponent(d);}};b.prototype.decrypt=function(a){var b;b="";a=decodeURIComponent(a);for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.xBb(c)^a.charCodeAt(c));return b;};f.K=b;},function(f,d,a){(function(){var a5u,c,c0y,v0y;a5u=2;function b(a,b,d){var Y5u;Y5u=2;while(Y5u!==5){switch(Y5u){case 2:F977.r0y(0);c.call(this,F977.d0y(b,a),b);this.config=d;Y5u=5;break;}}}while(a5u!==12){c0y="RL";c0y+="TPUT_A";c0y+="S";c0y+="EJS";v0y="1SI";v0y+="YbZr";v0y+="NJCp9";switch(a5u){case 8:b.prototype.stop=function(a){var g5u;g5u=2;while(g5u!==1){switch(g5u){case 2:c.prototype.stop.call(this,a);g5u=1;break;}}};b.prototype.reset=function(){var I5u;I5u=2;while(I5u!==1){switch(I5u){case 4:c.prototype.reset.call(this);I5u=9;break;I5u=1;break;case 2:c.prototype.reset.call(this);I5u=1;break;}}};b.prototype.toString=function(){var O5u,f0y,G0y,W0y;O5u=2;while(O5u!==1){f0y="r";f0y+="l";f0y+="tput(";G0y="r";G0y+="lt";G0y+="p";G0y+="ut";G0y+="(";W0y="rlt";W0y+="p";W0y+="u";W0y+="t";W0y+="(";switch(O5u){case 4:return(W0y-this.Yb)/G0y;break;O5u=1;break;case 2:return f0y+this.Yb+")";break;}}};f.K=b;v0y;a5u=12;break;case 2:new(a(9)).Console(c0y);c=a(100);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var e5u;e5u=2;while(e5u!==1){switch(e5u){case 4:c.prototype.shift.call(this);e5u=3;break;e5u=1;break;case 2:c.prototype.shift.call(this);e5u=1;break;}}};b.prototype.m3=function(){var d5u;d5u=2;while(d5u!==1){switch(d5u){case 2:return this.get(this.config.Da.fillS,this.config.Da.fillHl);break;}}};a5u=8;break;}}}());},function(f,d,a){var b;b=0;f.K=function(c,d){var g,k,p,l;function f(a,b){return(a["$ASE$order"+l]||0)-(b["$ASE$order"+l]||0);}g=a(41);k=this;p=d?[d]:[];l="$op$"+b++;g({value:c,addListener:function(a,b){a["$ASE$order"+l]=b;p=p.slice();p.push(a);p.sort(f);},removeListener:function(a){var b;p=p.slice();0<=(b=p.indexOf(a))&&p.splice(b,1);},set:function(a,b){var c;if(k.value!==a){c={oldValue:k.value,newValue:a};b&&g(b,c);k.value=a;a=p;b=a.length;for(var d=0;d<b;d++)a[d](c);}}},k);};},function(f){function d(a,b){this.va=a;this.Cg=b;}d.prototype.Q6=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),d=0;2>d;d++)var f=Math.abs(c),g=1/(1+f/2),f=g*Math.exp(-f*f-1.26551223+g*(1.00002368+g*(.37409196+g*(.09678418+g*(-.18628806+g*(.27886807+g*(-1.13520398+g*(1.48851587+g*(-.82215223+.17087277*g))))))))),f=(0<=c?f:2-f)-b,c=c+f/(1.1283791670955126*Math.exp(-(c*c))-c*f);a=1>a?c:-c;}return this.va-Math.sqrt(2*this.Cg)*a;};f.K=d;},function(f,d,a){f.K={UFa:a(312),JHa:a(591),IHa:a(590),$qb:a(305),Ntb:a(189),HLa:a(589)};},function(f){function d(a,c,d,f){a.trace(":",d,":",f);c(f);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,c,f,h){f=h?f.bind(h):f;h=!1;if(a){this.console&&(f=d.bind(null,this.console,f,c));if("function"===typeof a.addEventListener)h=a.addEventListener(c,f);else if("function"===typeof a.addListener)h=a.addListener(c,f);else throw Error("Emitter does not have a function to add listeners for '"+c+"'");this.listeners.push([a,c,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};f.K=a;},function(f){function d(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Lk)return this.Lk={},this.Lk[a]=[c],!0;b=this.Lk[a];return void 0===b?(this.Lk[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.Lk?this.Lk[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}f.K={addEventListener:d,on:d,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Lk)return!1;b=this.Lk[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.Lk[a],!0;b.splice(c,1);return!0;},Fa:a,emit:a,removeAllListeners:function(a){this.Lk&&(void 0===a?delete this.Lk:delete this.Lk[a]);return this;}};},function(f,d,a){(function(){var l0y,c,d,h,g,n,p,l,m,v,q,D,x,w,t,y;l0y=2;while(l0y!==40){var N0t="1SIY";N0t+="bZr";N0t+="N";N0t+="JCp9";var t0t="m";t0t+="edia";t0t+="|a";t0t+="se";t0t+="js";var x0t="A";x0t+="S";x0t+="E";x0t+="J";x0t+="S";switch(l0y){case 2:c=a(8);d=a(13);l0y=4;break;case 4:h=a(32).EventEmitter;g=a(606);n=g.UFa;l0y=8;break;case 8:p=g.JHa;l=g.IHa;l0y=6;break;case 17:y=g.warn.bind(g);g.error.bind(g);b.prototype.constructor=b;l0y=27;break;case 6:m=g.HLa;v=a(588);q=a(549);D=a(9);x=a(520);w=D.Promise;l0y=20;break;case 20:g=new D.Console(x0t,t0t);g.trace.bind(g);g.log.bind(g);l0y=17;break;case 27:Object.defineProperties(b.prototype,{Ji:{get:function(){var e5s;e5s=2;while(e5s!==1){switch(e5s){case 2:return this.xb;break;case 4:return this.xb;break;e5s=1;break;}}}},Wr:{get:function(){var j5s;j5s=2;while(j5s!==1){switch(j5s){case 4:return this.Yia;break;j5s=1;break;case 2:return this.Yia;break;}}}},Axa:{get:function(){var J5s;J5s=2;while(J5s!==1){switch(J5s){case 4:return this.LN;break;J5s=1;break;case 2:return this.LN;break;}}}},s9a:{get:function(){var t5s;t5s=2;while(t5s!==1){switch(t5s){case 4:return+c.R(this.PN);break;t5s=1;break;case 2:return!c.R(this.PN);break;}}}}});b.prototype.cd=function(a,b,d,g,f,h){var H5s,k;H5s=2;while(H5s!==19){var Z0t="m";Z0t+="ediaca";Z0t+="ch";Z0t+="e";var u0t="c";u0t+="acheE";u0t+="v";u0t+="i";u0t+="ct";var W0t="flush";W0t+="ed";W0t+="By";W0t+="tes";var a0t="d";a0t+="isca";a0t+="rdedByt";a0t+="es";var n0t="pr";n0t+="eb";n0t+="uffs";n0t+="ta";n0t+="ts";switch(H5s){case 3:this.LN=g;this.ZRa=f;x(k);H5s=7;break;case 2:k=this.J;0<k.yr&&(!c.R(a)&&a>k.yr&&(a=k.yr),b>k.yr&&(b=k.yr));c.R(a)?this.PN=b:this.xNa=[a,b];H5s=3;break;case 7:this.jg=new n(k,this.XN);this.et=new l(k);this.xb=new p(this.et,this.jg,k);this.Yia=new m(k);k.jS&&!this.DRa&&(this.DRa=setInterval(function(){var z5s;z5s=2;while(z5s!==5){switch(z5s){case 2:this.jg.save();this.et.save();z5s=5;break;}}}.bind(this),k.jS));H5s=11;break;case 11:H5s=k.BD||k.eU?10:20;break;case 10:b=new v(this,k,d,h),a=function(a){var B5s;B5s=2;while(B5s!==1){switch(B5s){case 4:this.Fa(a.type,a);B5s=4;break;B5s=1;break;case 2:this.Fa(a.type,a);B5s=1;break;}}}.bind(this),b.addEventListener(n0t,a),b.addEventListener(a0t,a),b.addEventListener(W0t,a),b.addEventListener(u0t,a),(k.iza||k.Vy)&&b.addEventListener(Z0t,function(a){var P5s;P5s=2;while(P5s!==1){var M0t="med";M0t+="ia";M0t+="cach";M0t+="e";switch(P5s){case 2:this.Fa(M0t,a);P5s=1;break;case 4:this.Fa("",a);P5s=2;break;P5s=1;break;}}}.bind(this)),this.Ic=b;H5s=20;break;case 20:this.Cha=!0;H5s=19;break;}}};b.prototype.ak=function(a,b){var M5s,d;M5s=2;while(M5s!==7){switch(M5s){case 2:M5s=1;break;case 1:M5s=this.PN?5:8;break;case 8:return this.xNa;break;case 5:c.R(a)&&(a=192);c.R(b)&&(b=5800);F977.I0t(0);d=F977.y0t(a,b);return[Math.floor(this.PN*a/d),Math.floor(this.PN*b/d)];break;}}};b.prototype.kS=function(){var C5s;C5s=2;while(C5s!==1){switch(C5s){case 2:this.aA||(this.aA=!0,this.kw.forEach(function(a){var A5s;A5s=2;while(A5s!==1){switch(A5s){case 4:a.kS();A5s=6;break;A5s=1;break;case 2:a.kS();A5s=1;break;}}}));C5s=1;break;}}};b.prototype.Qt=function(a,b,g,f,h,k,n,p){var L5s;L5s=2;while(L5s!==4){var r0t="open";r0t+=": str";r0t+="eaming";r0t+="Manager not initted";var h0t="branch";h0t+="i";h0t+="n";h0t+="g";switch(L5s){case 1:return p=p||this.J,this.xb.reset(),this.et.lkb(),this.Yia.reset(),void 0===k&&(k=this.Boa(a,b)),c.R(this.LN)&&(this.ak()[d.v.VIDEO]<=p.ubb?this.LN=0:this.LN=p.OS),a&&a.choiceMap&&h0t===a.choiceMap.type&&(h.De=!0),f.kS=this.aA,a=new q(this,a,b,g,f,h,k,n,p),this.kw.push(a),a;break;case 5:y(r0t);L5s=4;break;case 2:L5s=this.Cha?1:5;break;}}};l0y=22;break;case 31:b.prototype.Zya=function(a){var s5s;s5s=2;while(s5s!==1){switch(s5s){case 4:D.JH(a);s5s=3;break;s5s=1;break;case 2:D.JH(a);s5s=1;break;}}};b.prototype.Ska=function(a,b){var m5s;m5s=2;while(m5s!==1){var w0t="c";w0t+="a";w0t+="tc";w0t+="h";switch(m5s){case 2:this.Ic&&(a=this.Ic.kfb(this,a),c.R(b)||a.then(b),a[w0t](function(a){var y5s;y5s=2;while(y5s!==1){switch(y5s){case 2:y(a);y5s=1;break;case 4:y(a);y5s=4;break;y5s=1;break;}}}));m5s=1;break;}}};b.prototype.K_=function(){var x5s;x5s=2;while(x5s!==1){switch(x5s){case 2:this.Ic&&this.Ic.flush();x5s=1;break;}}};b.prototype.OVa=function(){var Q5s;Q5s=2;while(Q5s!==1){switch(Q5s){case 2:this.Ic&&this.Ic.ioa();Q5s=1;break;}}};b.prototype.AO=function(){var a5s;a5s=2;while(a5s!==1){switch(a5s){case 2:return this.Ic?this.Ic.list():[];break;case 4:return this.Ic?this.Ic.list():[];break;a5s=1;break;}}};b.prototype.Rka=function(){var R5s;R5s=2;while(R5s!==1){switch(R5s){case 2:this.Ic&&this.Ic.bn();R5s=1;break;}}};l0y=42;break;case 42:f.K=b;N0t;l0y=40;break;case 22:b.prototype.Y4=function(a,b){var Z5s;Z5s=2;while(Z5s!==1){switch(Z5s){case 2:return this.Ic&&(a=this.Ic.Y4(a,b))?a:!1;break;}}};b.prototype.U$a=function(a){var k5s;k5s=2;while(k5s!==1){switch(k5s){case 2:return this.Ic&&(a=this.Ic.Vra(a))?a:!1;break;}}};b.prototype.zx=function(){var o5s;o5s=2;while(o5s!==1){switch(o5s){case 2:return this.Ic?this.Ic.zx():w.resolve([]);break;}}};b.prototype.mRa=function(a){var n5s,b;n5s=2;while(n5s!==3){var b0t="can't";b0t+=" fi";b0t+="nd session in arra";b0t+="y, movieId:";switch(n5s){case 2:this.xb.mT(null);b=this.kw.indexOf(a);c.R(b)?y(b0t,a.Nk):(this.kw.splice(b,1),0===this.kw.length&&this.et.xkb(),this.et.save(),this.jg.save());n5s=3;break;}}};b.prototype.Coa=function(a){var g5s,b;g5s=2;while(g5s!==3){switch(g5s){case 2:b={profile:a.spoofedProfile||a.profile,o2:a.max_framerate_value,n2:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,yua:a.pixelAspectX,zua:a.pixelAspectY,Uj:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};b.prototype.Boa=function(a,b,c){var b5s,g;b5s=2;while(b5s!==3){var O0t="v";O0t+="id";O0t+="eo";O0t+="_tracks";var P0t="audio_tr";P0t+="a";P0t+="ck";P0t+="s";var k0t="a";k0t+="udi";k0t+="o_";k0t+="trac";k0t+="ks";switch(b5s){case 2:g=[{},{}];b5s=5;break;case 5:(c===d.v.AUDIO?[k0t]:[P0t,O0t]).forEach(function(c,d){var S5s;S5s=2;while(S5s!==1){switch(S5s){case 2:a[c].some(function(a,c){var p5s;p5s=2;while(p5s!==1){switch(p5s){case 2:return c===b[d]?(g[d]=t.Coa(a),!0):!1;break;}}});S5s=1;break;}}});return g;break;}}};l0y=31;break;}}function b(b,c){var U0y,d;U0y=2;while(U0y!==12){var c1t="DE";c1t+="B";c1t+="UG";c1t+=":";var q1t="nf";q1t+="-ase ver";q1t+="sion:";switch(U0y){case 8:this.on=this.addEventListener=h.addEventListener;this.removeEventListener=h.removeEventListener;U0y=6;break;case 4:this.aA=this.Cha=!1;this.J=b;this.kw=[];U0y=8;break;case 6:this.emit=this.Fa=h.Fa;this.XN=c;t=this;U0y=12;break;case 2:d=a(519);y(q1t,d,c1t,!1);U0y=4;break;}}}}());},function(f){f.K={lC:["minInitVideoBitrate",-Infinity],P5:["minHCInitVideoBitrate",-Infinity],cC:["maxInitVideoBitrate",Infinity],EI:["minInitAudioBitrate",-Infinity],DI:["minHCInitAudioBitrate",-Infinity],sI:["maxInitAudioBitrate",Infinity],CR:["minAcceptableVideoBitrate",-Infinity],Rsa:["minAllowedVideoBitrate",-Infinity],msa:["maxAllowedVideoBitrate",Infinity],Ssa:["minAllowedVmaf",-Infinity],nsa:["maxAllowedVmaf",Infinity],IT:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],FI:["minRequiredBuffer",2E4],FR:["minRequiredAudioBuffer",0],Zh:["minPrebufSize",5800],N7:["requireDownloadDataAtBuffering",!1],O7:["requireSetupConnectionDuringBuffering",!1],u7:["rebufferingFactor",1],xr:["maxBufferingTime",2E3],Q9:["useMaxPrebufSize",!0],eC:["maxPrebufSize",4E4],y5:["maxRebufSize",Infinity],V2a:["fastRebufferRecoveryThreshold",Infinity],U2a:["fastRebufferRecoverBwThrehold",3E3],NQ:["initialBitrateSelectionCurve",null],vqa:["initSelectionLowerBound",-Infinity],wqa:["initSelectionUpperBound",Infinity],QT:["throughputPercentForAudio",15],r_:["bandwidthMargin",0],t_:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],$Ua:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Sq:76376,scale:18862.4,gamma:3.0569}],s_:["bandwidthMarginContinuous",!1],aVa:["bandwidthMarginForAudio",!0],j9:["switchConfigBasedOnInSessionTput",!0],t0:["conservBandwidthMargin",20],mG:["conservBandwidthMarginTputThreshold",6E3],u0:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],aya:["switchAlgoBasedOnHistIQR",!1],av:["switchConfigBasedOnThroughputHistory","iqr"],x5:["maxPlayerStateToSwitchConfig",-1],Z4:["lowEndMarkingCriteria","iqr"],UV:["IQRThreshold",.5],J3:["histIQRCalcToUse","simple"],Ml:["bandwidthManifold",{curves:[{min:.05,max:.82,Sq:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Sq:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],yr:["maxTotalBufferLevelPerSession",0],cqa:["highWatermarkLevel",3E4],yya:["toStableThreshold",3E4],XT:["toUnstableThreshold",0],Q8:["skipBitrateInUpswitch",!1],Z9:["watermarkLevelForSkipStart",8E3],C3:["highStreamRetentionWindow",9E4],a5:["lowStreamTransitionWindow",51E4],E3:["highStreamRetentionWindowUp",5E5],c5:["lowStreamTransitionWindowUp",1E5],D3:["highStreamRetentionWindowDown",6E5],b5:["lowStreamTransitionWindowDown",0],B3:["highStreamInfeasibleBitrateFactor",.5],Ax:["lowestBufForUpswitch",9E3],mR:["lockPeriodAfterDownswitch",15E3],e5:["lowWatermarkLevel",15E3],Bx:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],h5:["lowestWaterMarkLevelBufferRelaxed",!1],E5:["mediaRate",1.5],A5:["maxTrailingBufferLen",15E3],k_:["audioBufferTargetAvailableSize",262144],V9:["videoBufferTargetAvailableSize",1048576],Bsa:["maxVideoTrailingBufferSize",8388608],qsa:["maxAudioTrailingBufferSize",393216],JP:["fastUpswitchFactor",3],Q1:["fastDownswitchFactor",3],tR:["maxMediaBufferAllowed",27E4],gC:["maxMediaBufferAllowedInBytes",0],uT:["simulatePartialBlocks",!0],zxa:["simulateBufferFull",!0],v0:["considerConnectTime",!0],r0:["connectTimeMultiplier",1],Xra:["lowGradeModeEnterThreshold",12E4],Yra:["lowGradeModeExitThreshold",9E4],ssa:["maxDomainFailureWaitDuration",3E4],osa:["maxAttemptsOnFailure",18],Mna:["exhaustAllLocationsForFailure",!0],wsa:["maxNetworkErrorsDuringBuffering",20],s5:["maxBufferingTimeAllowedWithNetworkError",6E4],P1:["fastDomainSelectionBwThreshold",2E3],r9:["throughputProbingEnterThreshold",4E4],mya:["throughputProbingExitThreshold",34E3],Lra:["locationProbingTimeout",1E4],Yna:["finalLocationSelectionBwThreshold",1E4],jya:["throughputHighConfidenceLevel",.75],lya:["throughputLowConfidenceLevel",.4],O4:["locationStatisticsUpdateInterval",6E4],z$a:["locationSelectorPersistFailures",!0],$A:["enablePerfBasedLocationSwitch",!1],qzb:["maxRateMaxFragmentGroups",4500],E6:["pipelineScheduleTimeoutMs",2],Dx:["maxPartialBuffersAtBufferingStart",2],Q5:["minPendingBufferLen",3E3],dC:["maxPendingBufferLen",6E3],xP:["enableRequestPacing",!1],E1a:["enableNginxRateLimit",!1],RR:["nginxSendingRate",4E4],una:["enableRequestPacingToken",!1],Zab:["mediaRequestPacingSpeed",1.5],X3:["initialMediaRequestToken",2E4],pR:["maxActiveRequestsSABCell100",2],vR:["maxPendingBufferLenSABCell100",500],awa:["resetActiveRequestsAtSessionInit",!0],z5:["maxStreamingSkew",2E3],kab:["maxBufferOccupancyForSkewCheck",Infinity],inb:["useBufferOccupancySkipBack",!0],w5:["maxPendingBufferPercentage",10],Ex:["maxRequestsInBuffer",120],CQ:["headerRequestSize",4096],Q7a:["headerCacheEstimateHeaderSize",!1],nza:["useSidxInfoFromManifestForHeaderRequestSize",!1],IP:["fastPlayHeaderRequestSize",0],wI:["maxRequestSize",0],O5:["minBufferLenForHeaderDownloading",1E4],ubb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],OS:["reserveForSkipbackBufferMs",15E3],p6:["numExtraFragmentsAllowed",2],Cn:["pipelineEnabled",!0],vI:["maxParallelConnections",3],Bxa:["socketReceiveBufferSize",0],o_:["audioSocketReceiveBufferSize",32768],X9:["videoSocketReceiveBufferSize",65536],A3:["headersSocketReceiveBufferSize",32768],R5:["minTimeBetweenHeaderRequests",void 0],bU:["updatePtsIntervalMs",1E3],E_:["bufferTraceDenominator",0],BA:["bufferLevelNotifyIntervalMs",2E3],qna:["enableAbortTesting",!1],vja:["abortRequestFrequency",8],b9:["streamingStatusIntervalMs",2E3],AC:["prebufferTimeLimit",6E4],ER:["minBufferLevelForTrackSwitch",2E3],G1a:["enablePenaltyForLongConnectTime",!1],y6:["penaltyFactorForLongConnectTime",2],X4:["longConnectTimeThreshold",200],OZ:["additionalBufferingLongConnectTime",2E3],PZ:["additionalBufferingPerFailure",8E3],zJ:["rebufferCheckDuration",6E4],tna:["enableLookaheadHints",!1],Ura:["lookaheadFragments",2],Lo:["enableOCSideChannel",!0],Y6:["probeRequestTimeoutMilliseconds",3E4],OAb:["probeRequestConnectTimeoutMilliseconds",8E3],TL:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],Uya:["updateDrmRequestOnNetworkFailure",!0],rR:["maxDiffAudioVideoEndPtsMs",1E3],jab:["maxAudioFragmentOverlapMs",80],Z_a:["deferAseHeaderCache",!1],cP:["deferAseScheduling",!1],Flb:["timeBeforeEndOfStreamBufferMark",6E3],v5:["maxFastPlayBufferInMs",2E4],u5:["maxFastPlayBitThreshold",2E8],lab:["maxBufferingCompleteBufferInMs",Infinity],N5:["minAudioMediaRequestSizeBytes",0],S5:["minVideoMediaRequestSizeBytes",0],D1a:["enableMultiFragmentRequest",!1],BD:[["useHeaderCache","usehc"],!0],eU:[["useHeaderCacheData","usehcd"],!0],aP:["defaultHeaderCacheSize",4],b1:["defaultHeaderCacheDataCount",4],c1:["defaultHeaderCacheDataPrefetchMs",0],x3:["headerCacheMaxPendingData",6],y3:["headerCachePriorityLimit",5],P7a:["headerCacheAdoptBothAV",!1],knb:["usePipelineForBranchedAudio",!0],qdb:["onlyDriveSingleChild",!1],IWa:["childBranchBatchedAmount",1E4],IR:["minimumTimeBeforeBranchDecision",2E3],Bab:["maxRequestsToAttachOnBranchActivation",void 0],T5:["minimumJustInTimeBufferLevel",3E3],sna:["enableJustInTimeAppends",!1],TG:["enableDelayedSeamless",!1],rVa:["branchEndPtsIntervalMs",250],v8a:["ignorePtsJustBeforeCurrentSegment",!1],vab:["maxFragsForFittableOnBranching",300],bTa:["adaptiveParallelTimeoutMs",1E3],ZA:["enableAdaptiveParallelStreaming",!1],C0a:["disableBitrateSelectionOnSingleConnection",!1],xO:["bufferThresholdToSwitchToSingleConnMs",45E3],D_:["bufferThresholdToSwitchToParallelConnMs",35E3],b6:["networkFailureResetWaitMs",2E3],a6:["networkFailureAbandonMs",6E4],xR:["maxThrottledNetworkFailures",5],PT:["throttledNetworkFailureThresholdMs",200],qo:["abortUnsentBlocks",!0],BZ:["abortStreamSelectionPeriod",2E3],B5:["maxUnsentBlocks",2],d5:["lowThroughputThreshold",400],I1:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Elb:["timeAtEachBitrateRoundRobin",1E4],Lhb:["roundRobinDirection","forward"],o7a:["hackForHttpsErrorCodes",!1],p8a:["httpsConnectErrorAsPerm",!1],bta:["mp4ParsingInNative",!1],Ce:["enableManagerDebugTraces",!1],hsa:["managerDebugMessageInterval",1E3],gsa:["managerDebugMessageCount",20],uta:["notifyManifestCacheEom",!0],WG:["enableUsingHeaderCount",!1],Cxa:["sourceBufferInOrderAppend",!0],Mn:["requireAudioStreamToEncompassVideo",!1],Rja:["allowAudioToStreamPastVideo",!1],xw:["allowReissueMediaRequestAfterAbort",!1],z0:["countGapInBuffer",!1],SZ:["allowCallToStreamSelector",!1],C_:["bufferThresholdForAbort",2E4],Fy:["ase_stream_selector","optimized"],jka:["audiostreamSelectorAlgorithm","selectaudioadaptive"],V3:["initBitrateSelectorAlgorithm","default"],G_:["bufferingSelectorAlgorithm","default"],W0:["ase_ls_failure_simulation",""],U0:["ase_dump_fragments",!1],V0:["ase_location_history",0],X0:["ase_throughput",0],xma:["ase_simulate_verbose",!1],ml:["stallAtFrameCount",void 0],o5:["marginPredictor","simple"],yxa:["simplePercentilePredictorPercentile",25],wxa:["simplePercentilePredictorCalcToUse","simple"],xxa:["simplePercentilePredictorMethod","simple"],hnb:["useBackupUnderflowTimer",!0],lCb:["useManifestDrmHeader",!0],mCb:["useOnlyManifestDrmHeader",!0],fca:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],c6:["networkMeasurementGranularity","video_location"],Ubb:["netIntrStoreWindow",36E3],Nzb:["minNetIntrDuration",8E3],tOa:["fastHistoricBandwidthExpirationTime",10368E3],WOa:["bandwidthExpirationTime",5184E3],sOa:["failureExpirationTime",86400],uia:["historyTimeOfDayGranularity",4],qOa:["expandDownloadTime",!0],HPa:["minimumMeasurementTime",500],GPa:["minimumMeasurementBytes",131072],aRa:["throughputMeasurementTimeout",2E3],$Qa:["initThroughputMeasureDataSize",262144],mPa:["historicBandwidthUpdateInterval",2E3],FPa:["minimumBufferToStopProbing",1E4],Dub:["throughputPredictor","ewma"],g8:["secondThroughputEstimator","slidingwindow"],Gwa:["secondThroughputMeasureWindowInMs",3E5],Cub:["throughputMeasureWindow",5E3],Eub:["throughputWarmupTime",5E3],Bub:["throughputIQRMeasureWindow",1E3],fub:["IQRBucketizerWindow",15E3],tsa:["maxIQRSamples",100],Vsa:["minIQRSamples",5],yub:["connectTimeHalflife",10],qub:["responseTimeHalflife",10],pub:["historicThroughputHalflife",14400],oub:["historicResponseTimeHalflife",100],nub:["historicHttpResponseTimeHalflife",100],Bba:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],aia:["minReportedNetIntrDuration",4E3],Aub:["throughputBucketMs",500],kub:["bucketHoltWintersWindow",2E3],lOa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],jY:["filterDefinitionOverrides",{}],$Na:["defaultFilter","throughput-ewma"],HRa:["secondaryFilter","throughput-sw"],Nz:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:0},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":0},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":0},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":0},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],VG:["enableSessionHistoryReport",!1],u1:["earlyStageEstimatePeriod",1E4],vra:["lateStageEstimatePeriod",3E4],uR:["maxNumSessionHistoryStored",30],GR:["minSessionHistoryDuration",3E4],UG:["enableInitThroughputEstimate",!1],$Z:["applyInitThroughputEstimate",!1],xqa:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],LZ:["addHeaderDataToNetworkMonitor",!0],V8:["startMonitorOnLoadStart",!1],H7:["reportFailedRequestsToNetworkMonitor",!1],jS:["periodicHistoryPersistMs",0],YS:["saveVideoBitrateMs",0],OI:["needMinimumNetworkConfidence",!0],w_:["biasTowardHistoricalThroughput",!1],F$a:["logMemoryUsage",!1],$pa:["headerCacheTruncateHeaderAfterParsing",!0],EUa:["audioFragmentDurationMilliseconds",null],Gnb:["videoFragmentDurationMilliseconds",null],Gn:["probeServerWhenError",!0],Dq:["allowSwitchback",!0],my:["probeDetailDenominator",100],qR:["maxDelayToReportFailure",300],jO:["allowParallelStreaming",!1],Wab:["mediaPrefetchDisabled",!1],Usa:["minBufferLevelToAllowPrefetch",5E3],$w:["editVideoFragments",!1],Tl:["editAudioFragments",!0],bT:["seamlessAudio",!1],aib:["seamlessAudioProfiles",[]],bib:["seamlessAudioProfilesAndTitles",{}],f8:["seamlessAudioMaximumSyncError",void 0],RH:["insertSilentFrames",0],Hqa:["insertSilentFramesOnExit",void 0],Gqa:["insertSilentFramesOnEntry",void 0],Fqa:["insertSilentFramesForProfile",void 0],K3a:["forceDiscontinuityAtTransition",!0],$u:["supportAudioResetOnDiscontinuity",void 0],Zu:["supportAudioEasingOnDiscontinuity",void 0],zo:["audioCodecResetForProfiles",["heaac-2-dash"]],s1a:["editCompleteFragments",!0],wbb:["minimumAudioFramesPerFragment",1],Bw:["applyProfileTimestampOffset",!1],Gq:["applyProfileStreamingOffset",!0],oJ:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}}}],Ksa:["mediaSourceSupportsNegativePts",!1],DR:["minAudioPtsGap",void 0],vP:["enablePsd",!1],h7:["psdCallFrequency",6E4],i7:["psdReturnToNormal",!1],rJ:["psdThroughputThresh",0],JG:["discardLastNPsdBins",0],xg:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],wP:["enableRecordJSBridgePerf",!1],oca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],fr:["enableRl",!1],MC:["rlLogParam",5],Da:["rlParam",{numThroughputStats:1,numOfChunkQualities:0,lookAhead:5,numBToFeed:0,baseNetwork:[],qualityFunction:"vmaf-linear",addChunkQualities:!1,bufferTimeLimitSecs:240,chunkSizeFetchStyle:"horizontal",addLastBitrate:!1,numOfChunkSizes:0,qualityRewardMultiplier:.001,fillHl:1E3,addNumChunksLeft:!1,addBufferStats:!0,convLayerPars:[],useBitrateMean:!1,bitrates:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],fillS:"average",useProdSimulation:!0,lockPeriodAfterDownswitch:15E3,takeLog:!1,addTopBitrate:!1,addProdOutput:!1,numB:100,convNetwork:[],epsilon:0,discountPolicyMapping:"quadratic",HERatio:2.5,valueNetwork:[{b:[.05533123016357422,-.12677599489688873,-.37196388840675354,.43002787232398987,-.3278537392616272,.3157925009727478,.49705439805984497,.3623315989971161,.4049244821071625,.306795597076416,.023460865020751953,-.5374774932861328,-.27872857451438904,-.3958677351474762,-.44132015109062195,-.3485901951789856],W:[[-.02745220810174942,-.09654457122087479],[.05102335661649704,.20058313012123108],[.10397858172655106,.03029954433441162],[.44732457399368286,.1439521312713623],[-.8370619416236877,-.016037840396165848],[-.19805389642715454,-.37058570981025696],[-.7537248134613037,.21142733097076416],[.00784209556877613,2.646312350407243E-4],[.024667738005518913,.05554830655455589],[-.15302683413028717,-.12483158707618713],[-.022026509046554565,-.046648088842630386],[.47357091307640076,-.08255043625831604],[.2401454746723175,.2645523250102997],[-1.1895869970321655,.16134504973888397],[.13846588134765625,.1347809135913849],[-.8497114777565002,-.02514016069471836]]},{b:[.13616295158863068],W:[[-.0059984177350997925,5.688384044333361E-5,-.31482797861099243,.2679792642593384,-.26990222930908203,.24288281798362732,.33975696563720703,.24208010733127594,.20434308052062988,.17735609412193298,-.005353386979550123,-.2435941994190216,-.3793827295303345,-.5024093389511108,-.18502868711948395,-.25674858689308167]]}],randomizeAction:!1,repeatLength:1,numChunkOffsets:0,useControlAtStart:!0,qualityAlpha:1,policyNetwork:[{b:[-.412638783454895,-.3944492042064667,.361627995967865,-.20585310459136963,.15680213272571564,.16230282187461853,.2959774434566498,-.29338908195495605,-.3977995812892914,-.2826499044895172,.2839594781398773,-.378938764333725,-.28052815794944763,.29201599955558777,-.2694973349571228,.32858505845069885],W:[[-.25744718313217163,-.2579941749572754],[-.3987915813922882,-.3113815188407898],[.3914099931716919,.1927962452173233],[-.2907905876636505,-.3993949592113495],[.3429926633834839,.5154353380203247],[.46402043104171753,.3750675320625305],[.3165140151977539,.3362429738044739],[-.2831599712371826,-.33043336868286133],[-.3665153682231903,-.36741551756858826],[-.42878684401512146,-.3090651035308838],[.21995356678962708,.2324381172657013],[-.40021345019340515,-.2974157929420471],[-.3892492949962616,-.21423658728599548],[.4002467691898346,.4845951199531555],[-.4312516748905182,-.4456460475921631],[.30747276544570923,.40754443407058716]]},{b:[.1032010167837143,.23244233429431915,-.01785256341099739,.17829757928848267,.03387175127863884,.03424593061208725,.10686955600976944,.11391088366508484,.1236717626452446,.12204533070325851,.09762528538703918,.22837036848068237,.2101789116859436,.1395697444677353,.0755317211151123,.05933607369661331,.020733339712023735,-.2973330318927765,-.5567834973335266,-.7997101545333862,-1.1866400241851807],W:[[-.18243752419948578,-.18205209076404572,.12897171080112457,-.18163728713989258,.18924736976623535,.10615333169698715,-.06378988176584244,-.23385876417160034,-.11631970852613449,-.18195857107639313,.2122160941362381,-.14674511551856995,-.062984399497509,-.03046603314578533,-.042016394436359406,.059213291853666306],[-.25253725051879883,-.05791608244180679,.22158899903297424,-.1807052493095398,.006767614278942347,.04307352378964424,.1975916475057602,-.2383284568786621,-.05942298099398613,-.1357770562171936,.1037694662809372,-.14311830699443817,.0012564989738166332,.2055424004793167,-.1739828735589981,.28440845012664795],[-.2820572257041931,-.2243836224079132,-.009474185295403004,-.12801462411880493,.2770399749279022,.13915841281414032,.24947895109653473,-.0901138037443161,-.14535419642925262,-.06771376729011536,.13680143654346466,-.18201519548892975,-.2172870635986328,.11829230934381485,-.108485147356987,.22689661383628845],[-.35503271222114563,-.0775824636220932,.12027252465486526,-.2573116421699524,.02839498780667782,.07367391139268875,.07984186708927155,-.10638942569494247,-.22296731173992157,-.05553358420729637,.05830622464418411,-.25039055943489075,-.2609282433986664,.08369264751672745,-.05966627597808838,.03639725223183632],[-.018235042691230774,-.056563250720500946,.11467722803354263,-.059557829052209854,.2816635072231293,.02629885822534561,.03319495543837547,-.2324208915233612,-.21133288741111755,-.22949211299419403,.02839614637196064,-.06933751702308655,-.2568594515323639,.23111720383167267,-.07870880514383316,.14231324195861816],[-.17236000299453735,-.24168795347213745,.18550589680671692,-.21688313782215118,.08988945186138153,.23491528630256653,-.014212478883564472,-.16345223784446716,-.101213738322258,-.08315055817365646,.3163166046142578,-.128215491771698,-.2556995749473572,.19001033902168274,-.13374188542366028,.23563364148139954],[-.16922716796398163,-.23347386717796326,.11554708331823349,-.06031706556677818,.00787605531513691,.1717318296432495,.08365252614021301,-.19791926443576813,-.21750250458717346,-.10088957101106644,.07592057436704636,-.2526659071445465,-.16954083740711212,.21436604857444763,-.10623046010732651,.07676853984594345],[-.07076448202133179,-.21048475801944733,.0519600510597229,-.03461375832557678,.27661260962486267,.19848895072937012,.2243914157152176,-.17512662708759308,-.10555917024612427,-.17998510599136353,.14169420301914215,-.049020566046237946,.02801593765616417,.13342608511447906,-.15784481167793274,.09766186773777008],[-.14827829599380493,-.05338667333126068,-.014936452731490135,-.14944781363010406,.22573451697826385,.12348072230815887,.11484410613775253,-.004883829038590193,-.047992318868637085,-.1594856232404709,.2568851709365845,-.09031572192907333,-.05706582963466644,-4.983098478987813E-4,-.22049573063850403,.13852019608020782],[-.13956879079341888,-.2400752156972885,.08272846043109894,-.3206534683704376,.0981164276599884,.12269225716590881,.13008926808834076,-.03977770730853081,-.17421235144138336,-.051229119300842285,-.015088572166860104,-.17017802596092224,.03453931212425232,.1788467913866043,-.2593126893043518,.13894088566303253],[-.15852025151252747,-.13752885162830353,.18085233867168427,-.026975378394126892,.08118204027414322,.22511836886405945,.1578889936208725,-.11105726659297943,-.17974312603473663,-.045371219515800476,.09727480262517929,-.12441378831863403,.004754172172397375,.1462913453578949,-.20255130529403687,.2307319939136505],[-.13445983827114105,-.14145679771900177,.12339618057012558,-.028057938441634178,.03399171307682991,.07780994474887848,.22680453956127167,-.10456500202417374,-.03876079246401787,-.24656173586845398,.09278947860002518,-.0888059139251709,-.1322716921567917,.08019872009754181,-.08939266204833984,.23991352319717407],[-.2594526410102844,-.14361591637134552,.045561034232378006,-.04839532822370529,.11469841748476028,.0423651784658432,.0579223670065403,-.19615131616592407,-.148156076669693,-.061122845858335495,.12850065529346466,-.1314231902360916,-.06075485050678253,.15828271210193634,-.15889498591423035,-.01321683544665575],[-.1502031683921814,-.18404962122440338,.16521699726581573,-.08913173526525497,.05336243659257889,-.027618568390607834,.11079095304012299,.08470268547534943,-.021151361986994743,-.06379488855600357,.12175280600786209,-.013277744874358177,-.034269627183675766,-.008312849327921867,-.03604540601372719,.12241926044225693],[-.0744841918349266,-.1421520859003067,.18444211781024933,-.04605941101908684,.11995276063680649,.09755964577198029,.10934597253799438,-.021958131343126297,-.17636388540267944,-.12492060661315918,.07608187943696976,-.08557915687561035,-.2167670875787735,.095750592648983,-.0021581973414868116,-.009261039085686207],[.06437303125858307,-.05704565346240997,.048856545239686966,-.08741368353366852,.016187647357583046,.1458374559879303,.08231929689645767,-.019222980365157127,-.05964486673474312,-.07991735637187958,.11003319174051285,.026625651866197586,.07264247536659241,-.06023328751325607,-.05094010382890701,.01619056798517704],[.08831681311130524,-.07976476848125458,-.03673217073082924,-.15939712524414062,-.17922301590442657,-.16756311058998108,.14311327040195465,-.00514716561883688,.18524976074695587,-.011256037279963493,.1348915994167328,.03704274445772171,.04992883652448654,.04108894616365433,-.0028529949486255646,-.007784273941069841],[.4063608944416046,.5422101020812988,-.5427196621894836,.41301098465919495,-.5999374389648438,-.34260493516921997,-.5859764218330383,.5120940208435059,.5512343645095825,.6822419166564941,-.3864021301269531,.5557493567466736,.4380606710910797,-.5522674918174744,.6156930923461914,-.4743066430091858],[.785748302936554,.8619656562805176,-.6125167012214661,.5297011137008667,-.7045852541923523,-.7832399606704712,-.5993849635124207,.7085978388786316,.7993820309638977,.9091770052909851,-.6160148978233337,.6583526730537415,.7830554842948914,-.8268464803695679,.7583157420158386,-.7235265374183655],[1.179926872253418,1.2110354900360107,-1.0844197273254395,1.119935393333435,-1.152762532234192,-1.3002325296401978,-1.128269910812378,1.038150429725647,1.1494382619857788,1.1892924308776855,-.9371172189712524,1.1270517110824585,.8690900802612305,-1.3279619216918945,1.1718264818191528,-1.1779474020004272],[1.5185304880142212,1.5353447198867798,-1.2523194551467896,1.4043301343917847,-1.6284000873565674,-1.4568737745285034,-1.3200061321258545,1.1629387140274048,1.6285243034362793,1.267655372619629,-1.2686002254486084,1.607189416885376,1.225298523902893,-1.4611514806747437,1.2336887121200562,-1.381975769996643]]}],rebufferPenalty:10,bSizeMs:2E3,bandwidthManifold:{threshold:6507.88,filter:"throughput-sw",simpleScaling:!0,curves:[{max:1.0054097175598145,scale:183973.15740585327,center:87446.38562202454,gamma:1.767388939857483,min:.493443101644516},{max:-.0027726502157747746,scale:99630.0995349884,center:216892.07553863525,gamma:2.908198356628418,min:0}],gamma:1.81668775},dropoutKeepProb:1,estimateType:"factor",bitrateMapStrategy:"mapping",addAudioBitrate:!1,addHighEndSignal:!1,throughputStatsType:"percentile"}],Blb:["throughputThresholdSelectorParam",0],fnb:["upswitchDuringBufferingFactor",2],QTa:["allowUpswitchDuringBuffering",!1],Ola:["contentOverrides",void 0],x0:["contentProfileOverrides",void 0],I3:["hindsightDenominator",0],H3:["hindsightDebugDenominator",0],CH:["hindsightAlgorithmsEnabled",["htwbr"]],DQ:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],YZ:["appendMediaRequestOnComplete",!1],nU:["waitForDrmToAppendMedia",!1],g2:["forceAppendHeadersAfterDrm",!1],yJ:["reappendRequestsOnSkip",!1],Y0:["declareBufferingCompleteAtSegmentEnd",!1],qI:["maxActiveRequestsPerSession",void 0],H4:["limitAudioDiscountByMaxAudioBitrate",!1],XZ:["appendFirstHeaderOnComplete",!0],ZJ:["strictBufferCapacityCheck",!1],xA:["aseReportDenominator",0],f_:["aseReportIntervalMs",3E5],E9:["translateToVp9Draft",!1],GUa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:257,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:449,audioBwFactor:1}}]],m9:["switchableAudioProfilesOverride",[]],HUa:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Cab:["maxStartingVideoVMAF",110],Xsa:["minStartingVideoVMAF",1],wja:["activateSelectStartingVMAF",!1],hT:["selectStartingVMAFTDigest",-1],gT:["selectStartingVMAFMethod","fallback"],Lwa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],fJ:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],D0a:["disablePtsStartsEvent",!0],w7:["recordFirstFragmentOnSubBranchCreate",!0],Rab:["mediaCacheConvertToBinaryData",!1],Vab:["mediaCacheSaveOneObject",!1],lsa:["markRequestActiveOnFirstByte",!1],W2a:["fastplayOverwrite",!1],q1a:["earlyAppendSingleChildBranch",!0]};},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oab=function(a,b){var g,n;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),f=1;f<a.length;f++){g=a[f];n=b(g);n>d&&(c=g,d=n);}return c;}};},function(f,d,a){var c;function b(a,b,d){a=c.VU.call(this,a,b)||this;a.dG=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(313);ja(b,c.VU);d.EBa=b;},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);b.prototype.create=function(b,c,d,f,k,l){return new(a(319)).IMa(b,c,d,f,k,l);};k=b;k=f.__decorate([c.O()],k);d.wKa=k;},function(f,d,a){var c;function b(a,b,c,d,f,l,m){var g;b=void 0===b?{}:b;g=this;this.N6=m;this.pC={};this.log=f.Fb("PlaylistManager");this.nxa(a);this.Zq=a.PH;a=a.Re[this.Zq];d=d.Ud();this.oC=this.pC[this.Zq];this.KK=l.create(a.te,Object.assign({S:b.playbackState&&b.playbackState.currentTime||a.xp,Z:a.bB,xD:Date.now()},b,{i4:!0}),b.kc||"",c,d,this);this.KK.addEventListener("loaded",function(){g.V6();});}Object.defineProperty(d,"__esModule",{value:!0});c=a(22);b.prototype.F8=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.KJ(a.om);}).filter(function(a){a=a.g6;return!a||d.KJ(a);}).forEach(function(a){d.pC[a.om]=d.xta(a.g6);});};b.prototype.PWa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.eka(b);};b.prototype.Wmb=function(a){if(!this.KJ(this.Zq,a.Re))throw Error("Provided playlistMap does not contain the current segmentId "+this.Zq);this.nxa(a);};b.prototype.Dp=function(a,b){var c,d;c=this;d=this.zN.Re[a];d&&d.next&&Object.keys(b).filter(function(a){return c.KJ(a,d.next);}).forEach(function(a){return d.next[a].weight=b[a];});};b.prototype.V6=function(){var a,b,d,f,p,l;a=this;if(this.oC){b=this.g5a(this.Zq,this.oC);if(!(0>b||b>this.N6.$ua)){b=this.Lua.Re[this.oC];this.log.debug("creating new playback",b,new Date());d=this.KK.W2();f=d.Ija(b.te,d.kc,{cg:d.cg,S:b.xp,Z:b.bB,De:!1,xD:Date.now(),i4:!0});p=this.oC;l=function(b){b.index===f&&(a.Zq=p,a.V6(),d.removeEventListener(c.ya.n5,l));};d.addEventListener(c.ya.n5,l);this.oC=this.pC[this.oC];d.Tfb(f).then(function(){return a.V6();});}}};b.prototype.g5a=function(a,b){for(var c=0;a!==b&&void 0!==a;)c++,a=this.pC[a];return a?c:-1;};b.prototype.nxa=function(a){this.zN=a;this.pC={};this.eka(Object.keys(this.zN.Re));};b.prototype.eka=function(a){var b;b=this;a.filter(function(a){return b.KJ(a);}).forEach(function(a){b.pC[a]=b.xta(b.zN.Re[a].bP);});};b.prototype.KJ=function(a,b){b=void 0===b?this.Lua.Re:b;return a in b;};b.prototype.xta=function(a){return null===a?void 0:a;};oa.Object.defineProperties(b.prototype,{Lua:{configurable:!0,enumerable:!0,get:function(){return this.zN;}}});d.tKa=b;},function(f,d,a){var c,k,h,g,n,p;function b(a,b,c,d){this.eb=a;this.Uf=b;this.Peb=c;this.N6=d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(614);h=a(12);g=a(24);n=a(321);a=a(320);b.prototype.create=function(a,b,c){return new k.tKa(a,b,c,this.eb,this.Uf,this.Peb,this.N6);};p=b;p=f.__decorate([c.O(),f.__param(0,c.l(g.gf)),f.__param(1,c.l(h.Qb)),f.__param(2,c.l(n.Eea)),f.__param(3,c.l(a.Bea))],p);d.sKa=p;},function(f,d,a){var b,c,k,h,g,n,p,l,m,v;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(322);c=a(615);k=a(321);h=a(613);g=a(250);n=a(510);p=a(509);l=a(320);m=a(249);v=a(508);d.iy=new f.Xb(function(a){a(b.aX).to(c.sKa).X();a(k.Eea).to(h.wKa).X();a(g.Dea).to(n.vKa).X();a(l.Bea).to(p.rKa).X();a(m.Cea).to(v.uKa).X();});},function(f,d,a){var c,k,h,g,n,p,l,m,v,q;function b(a,b,c,d){b=m.VK.call(this,b,c,d)||this;b.config=a;b.log=k.bf(b.j,"LegacyLicenseBroker");b.Uc=b.config().Uc;b.config().f7?g.i9a()?b.fU=!0:b.log.error("Promise based eme requested but platform does not support it",{browserua:n.Fh}):b.fU=!1;return b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(2);k=a(3);h=a(107);g=a(33);n=a(7);p=a(0);l=a(198);m=a(323);v=a(91);ja(b,m.VK);b.prototype.Xla=function(a){var b;b=void 0===b?this.j:b;return new this.gJ.vs(a,b.nC.en,b.nC.release,{fe:!1,bm:!1});};b.prototype.qG=function(b,d){var g,f,n,p,l,r;d=void 0===d?this.j:d;g=this;p=a(17).bb;this.gJ.vs||this.jd(c.I.Rp,c.G.wDa);n=k.bf(d,"Eme");f=this.Xla(n);l=k.Y.get(h.Bz);r=l.PO();l=l.vG(d.We.value.Lb);return this.gJ.Tn(n,b,function(a){return d.Yd(a);},{fe:!1,bm:!1,m4:this.config().ci,Jwa:{Nsa:this.config().Iwa,ila:this.config().i8},Pa:{getTime:p},Ta:f,fva:this.fU,Ep:this.config().Ep,Ma:this.nb.Ma,AD:this.config().AD,Hp:this.config().z1,onerror:function(a,b,c){return g.jd(a,b,c);},UR:function(a){return g.uQ(a);},H6:!0,VC:this.config().S9&&this.config().VC,IQ:this.config().IQ,ika:r,vza:l,EB:this.config().EB});};b.prototype.nT=function(a){var b;b=this;return this.fU?new Promise(function(d,g){if(b.nb.Ma)b.nb.Ma.setMediaKeys(a).then(function(){d();})["catch"](function(a){var d;d=b.Epa(a);g({P:!1,code:c.I.KW,Gb:d.T,Dd:d.Ab,Ea:d.Ea,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.Ina=function(a){return{code:a.code,subCode:a.Gb,extCode:a.Dd,edgeCode:a.Sl,message:a.message,errorDetails:a.Ea,errorData:a.Wl,state:a.state};};b.prototype.E8=function(a,b,c){var g,f;function d(){f.Ova()["catch"](function(a){g.log.error("Unable to set the license",g.Ina(a));a.cause&&a.cause.Ea&&(a.Ea=a.Ea?a.Ea+a.cause.Ea:a.cause.Ea);g.jd(a.code,a,a.Dd);});}c=void 0===c?this.j:c;g=this;f=c.Rf;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return f.Wd(g.R2(),a);};return(b?function(){return f.ZTa();}:function(){return f.create(g.Uc).then(function(){return Promise.resolve();});})().then(function(){return g.config().mxa?g.nT(f.vh):Promise.resolve();}).then(c).then(function(){return g.config().mxa?Promise.resolve():g.nT(f.vh);}).then(function(){g.log.info("license set");g.Y1();g.nb.Aza.then(function(){g.config().VB&&(b||g.config().iH)&&(g.Pva=H.setTimeout(d,g.config().VB));});})["catch"](function(a){g.log.error("Unable to set the license",g.Ina(a));a.cause&&a.cause.Ea&&(a.Ea=a.Ea?a.Ea+a.cause.Ea:a.cause.Ea);if(b)throw Error(a&&a.message?a.message:"failed to set license");g.jd(a.code,a,a.Dd);});};b.prototype.uua=function(){return Promise.resolve();};b.prototype.q6=function(a){var d;function b(){var b;d.j.Rf=d.qG(a.initDataType);b=[];d.j.Jn.forEach(function(a){b.push(k.Tm(a));});d.E8(b);}d=this;this.log.trace("Received event: "+a.type);this.G4||(this.G4=!0,this.gJ.Tn?this.j.Jn?g.WQ(this.config())&&this.config().jl&&H._cad_global.videoPreparer?H._cad_global.videoPreparer.nj(this.j.M,"ldl").then(function(a){d.j.Rf=a;return a.zza.then(function(){var b;b=[];d.j.Jn.forEach(function(a){b.push(k.Tm(a));});return d.E8(b,!0).then(function(){var b;if(a.WWa)d.jd(c.I.zDa);else{b=k.bf(d.j,"Eme");a.Xmb({log:b,Qta:function(a){return d.j.Yd(a);}},{Ta:d.Xla(b),onerror:function(a,b,c){return d.jd(a,b,c);}});(b=a.sua)&&d.uQ(b);d.j.DB(a.he||{});d.j.Jw="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.jd(c.I.$Ia)):this.jd(c.I.Rp,c.G.xDa));};b.prototype.jxa=function(a,b){var c;b=void 0===b?this.j:b;b.Rf=this.qG(void 0===a?"cenc":a);c=[];b.Jn.forEach(function(a){c.push(k.Tm(a));});return this.E8(c,!1,b);};b.prototype.R2=function(){return this.config().iH?v.ul.vv:v.ul.co;};oa.Object.defineProperties(b.prototype,{gJ:{configurable:!0,enumerable:!0,get:function(){return a(37).hf;}},Px:{configurable:!0,enumerable:!0,get:function(){return this.fU?"encrypted":this.nb.hV+"needkey";}}});q=b;f.__decorate([l.hR],q.prototype,"gJ",null);f.__decorate([l.hR],q.prototype,"Px",null);q=f.__decorate([p.O()],q);d.OFa=q;},function(f,d,a){var c,k,h,g,n,p,l,m,v,q,D;function b(a,b,c,d,g,f){var h;h=v.VK.call(this,c,d,g)||this;h.Uc=a;h.config=b;h.Ko=f;h.log=k.bf(h.j,"LicenseBroker");h.Jsa=!1;h.$ja={next:function(){h.log.info("Finished a license");},error:function(a){h.DB();h.jd(a.code,a,a.Dd);},complete:function(){h.log.info("Successfully applied license");h.Xt.F4&&h.uQ(h.Xt.F4);h.DB();h.nT();}};return h;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(2);k=a(3);h=a(33);g=a(6);n=a(426);p=a(4);l=a(0);m=a(198);v=a(323);q=a(91);ja(b,v.VK);b.prototype.q6=function(){var a;a=this;this.G4||(this.G4=!0,h.WQ(this.config)&&this.config.jl&&H._cad_global.videoPreparer?H._cad_global.videoPreparer.nj(this.j.M,"ldl").then(function(b){a.cva(b);a.j.Jw="videopreparer";a.Xt.a_().subscribe(a.$ja);})["catch"](function(b){a.log.warn("eme not in cache",b);a.en();}):this.en());};b.prototype.N3a=function(a){var b;b={};a.forEach(function(a){b[n.a1a(a.yn)]=a.time.ma(p.Ia);});return b;};b.prototype.s7a=function(a,b){this.log.trace("Key status",{keyId:a,status:b});};b.prototype.cva=function(a){var b,c,d;b=void 0===b?this.j:b;c=this;this.Xt=a;b.Rf=a;b.vx=a.vx;d={next:function(a){c.s7a(k.u_(a.cI),a.value);},error:g.Rb,complete:g.Rb};b={next:function(a){c.jd(a.code,a,a.Dd,c.j);},error:g.Rb,complete:g.Rb};a.E9a().subscribe(d);(a=a.ZG())&&a.subscribe(b);};b.prototype.DB=function(){this.Xt&&this.j.DB(this.N3a(this.Xt.he));};b.prototype.en=function(b){var c,d;b=void 0===b?this.j:b;c=this;d={next:function(a){c.uQ(a);},error:g.Rb,complete:g.Rb};return this.Ko().then(function(g){var f;f={type:c.R2(),KQ:k.Tm(b.Jn[0]),context:{Uc:c.Uc,Ma:c.nb.Ma},wg:{M:b.M,ha:c.j.ha,Qe:b.Qe,lj:b.lj,profileId:b.profile.id}};g.iI().subscribe(d);g.Wd(f).ir(function(b){c.cva(b);b=a(20).WW;c.j.fireEvent(b);return c.Xt.a_();}).subscribe(c.$ja);})["catch"](function(a){c.jd(a.code,a,a.Dd,c.j);});};b.prototype.nT=function(){var a;a=this;if(this.Jsa)this.log.trace("Media Keys already set");else{this.Jsa=!0;try{this.nb.Ma?this.nb.Ma.setMediaKeys(this.j.Rf.vh).then(function(){a.Y1();})["catch"](function(b){b=a.Epa(b);a.jd(c.I.KW,b,b.Ab,a.j);}):this.Y1();}catch(w){this.jd(c.I.KW,w,void 0,this.j);}}};b.prototype.uua=function(a){var b;a=void 0===a?this.j:a;b=this;return this.Xt?this.Ko().then(function(c){return new Promise(function(d){c.wkb(b.Xt).ir(function(a){return a.$Ta();}).ir(function(c){b.log.trace("Fulfilled the last secure stop");b.config.ci&&a.mC.fT({success:!0,persisted:!1});return c.close();}).subscribe({error:function(c){b.log.error("Unable to get/add secure stop data",c);b.config.ci&&a.mC.fT({success:c.P,ErrorCode:c.code,ErrorSubCode:c.Gb,ErrorExternalCode:c.Dd,ErrorEdgeCode:c.Sl,ErrorDetails:c.SA});d();},complete:function(){d();}});});}):Promise.resolve();};b.prototype.jxa=function(a,b){b=void 0===b?this.j:b;return this.en(b);};b.prototype.R2=function(){return this.config.iH?q.ul.vv:q.ul.co;};oa.Object.defineProperties(b.prototype,{Px:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});D=b;f.__decorate([m.hR],D.prototype,"Px",null);D=f.__decorate([l.O()],D);d.RFa=D;},function(f,d,a){var c,k,h,g,n,p,l;function b(a,b,c,d){this.Ko=a;this.RG=b;this.zh=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(95);h=a(618);g=a(617);n=a(113);p=a(63);a=a(25);b.prototype.create=function(a,b,c){return a?new h.RFa(this.config().Uc,this.RG,this.zh,b,c,this.Ko):new g.OFa(this.config,this.zh,b,c);};l=b;l=f.__decorate([c.O(),f.__param(0,c.l(k.ND)),f.__param(1,c.l(n.dz)),f.__param(2,c.l(p.Dj)),f.__param(3,c.l(a.Ef))],l);d.QFa=l;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(324);c=a(619);d.Ii=new f.Xb(function(a){a(b.xca).to(c.QFa);});},function(f,d,a){var c,k,h,g;function b(a){return k.Pd.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);a=a(38);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{pza:{configurable:!0,enumerable:!0,get:function(){return!0;}}});g=b;f.__decorate([a.config(a.xe,"usesMsl")],g.prototype,"pza",null);g=f.__decorate([c.O(),f.__param(0,c.l(h.ni))],g);d.qMa=g;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.send=function(){return Promise.reject("Not implemented");};b.prototype.w0=function(){return{};};c=b;c=f.__decorate([a.O()],c);d.LLa=c;},function(f,d,a){var c,k,h,g,n,p;function b(a,b,c){this.wf=b;this.receiver=c;this.log=a.Fb("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);h=a(92);g=a(4);a=a(196);n={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={MI:{bc:a.bc,log:a.log,profile:a.profile},method:a.Go,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ma(g.Ia),CD:a.profile.id,hhb:!n[a.Go],SR:!!n[a.Go],zP:!0,Pu:a.W7,headers:a.headers};return this.wf.send(d).then(function(d){c.receiver.k7({command:a.Go,inputs:b,outputs:d});return d;})["catch"](function(d){var g;if(!d.error)throw d.Gb=d.T||d.Gb,c.receiver.k7({command:a.Go,inputs:b,outputs:d}),d;g=d.error;g.nk=d.nk;c.log.error("Error sending MSL request",{mslCode:g.gp,subCode:g.Gb,data:g.data,message:g.message});c.receiver.k7({command:a.Go,inputs:b,outputs:g});throw g;});};b.prototype.w0=function(){return{userTokens:this.wf.wf.getUserIdTokenKeys()};};p=b;p=f.__decorate([c.O(),f.__param(0,c.l(k.Qb)),f.__param(1,c.l(h.Bv)),f.__param(2,c.l(a.RW))],p);d.kHa=p;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ptb=function(){};d.Lfa="TransportConfigSymbol";},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(624);c=a(330);k=a(623);h=a(622);g=a(621);d.tmb=new f.Xb(function(a){a(b.Lfa).to(g.qMa).X();a(c.gda).to(k.kHa);a(c.pfa).to(h.LLa);a(c.Mfa).Pi(function(a){return function(){return a.ic.get(b.Lfa).pza?a.ic.get(c.gda):a.ic.get(c.pfa);};});});},function(f,d,a){var c,k,h,g,n,p,l,m;function b(a,b,c,d,g,f,h,k){this.platform=a;this.Je=b;this.ar=c;this.bc=d;this.dy=g;this.H0a=f;this.FQ=h;this.gnb=k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(69);h=a(82);g=a(71);n=a(125);p=a(331);l=a(110);m=a(126);a=a(415);b=f.__decorate([c.O(),f.__param(0,c.l(k.$n)),f.__param(1,c.l(h.ps)),f.__param(2,c.l(g.Np)),f.__param(3,c.l(m.eE)),f.__param(4,c.l(n.AE)),f.__param(5,c.l(p.Wda)),f.__param(6,c.l(l.kz)),f.__param(7,c.l(a.Qfa))],b);d.xJa=b;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.EDa,g.Dh.XG,3,p.Hg.Ds)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);b.prototype.zO=function(a){return Object.assign({},h.Qi.prototype.zO.call(this,a),{action:a.action});};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.ODa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.Zea,g.Dh.splice,1,p.Hg.Ds)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.KLa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.Oea,g.Dh.resume,1,p.Hg.Ds)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.XKa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.Cda,g.Dh.pause,1,p.Hg.Ds)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.uJa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.ZV,g.Dh.bI,1,p.Hg.Ds)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.IFa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.dfa,g.Dh.stop,3,p.Hg.lW)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.OLa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a){return h.Qi.call(this,a,k.I.$ea,g.Dh.start,3,p.Hg.$D)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(88);g=a(62);n=a(54);p=a(48);ja(b,h.Qi);a=b;a=f.__decorate([c.O(),f.__param(0,c.l(n.xl))],a);d.NLa=a;},function(f,d,a){var c,k,h;function b(a,b){this.Md=a;this.Jq=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(23);a=a(49);b.prototype.fmb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Md.dS(a.substring(a.indexOf("?")+1));});return{P:!0,$b:a.map(function(a,b){return{id:a.sessionId,uu:c[b].drmlicensecontextid,UB:c[b].licenseid};}),ur:a.map(function(a){return{data:b.Jq.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.imb=function(a){return{P:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(k.He)),f.__param(1,c.l(a.Bk))],h);d.CJa=h;},function(f,d,a){var c,k,h;function b(a){this.Pa=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(43);h=a(4);b.prototype.emb=function(a){var b;b=this.Pa.sg.ma(h.cq);return{inputs:a.Tj.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ha.toString(),mdxControllerEsn:a.yI};}),Dra:"standard"===a.tg.toLowerCase()?"license":"ldl"};};b.prototype.hmb=function(a){var b,c,d,g;b=this;c=a.gib||{};d=[];g=a.$b.map(function(g){var f;d.push(g.id);f=c[g.id];delete c[g.id];return{url:b.Mka(g.uu,g.UB),echo:"sessionId",params:{sessionId:g.id,secureStop:f,secureStopId:f?g.UB:void 0,xid:a.ha.toString()}};});Object.keys(c).forEach(function(d){g.push({url:b.Mka(a.$b[0].uu),echo:"sessionId",params:{sessionId:d,secureStop:c[d],secureStopId:void 0,xid:a.ha.toString()}});});return g;};b.prototype.Mka=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.Ri))],a);d.BJa=a;},function(f,d,a){var c,k,h,g,n;function b(a){return g.Rn.call(this,a,k.I.Wea,3,h.eo.Wd,h.Hg.lW,h.eo.Wd)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(48);g=a(123);a=a(54);ja(b,g.Rn);b.prototype.Di=function(a,b,c){var d;d=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;d.jla(a);return a;})["catch"](function(a){throw d.gu(a);});};b.prototype.cu=function(){return Promise.reject(Error("Links are unsupported with release"));};n=b;n=f.__decorate([c.O(),f.__param(0,c.l(a.xl))],n);d.MJa=n;},function(f,d,a){var c,k,h,g,n;function b(a){return g.Rn.call(this,a,k.I.Rp,3,h.eo.Wd,h.Hg.$D,h.eo.Wd)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(48);g=a(123);a=a(54);ja(b,g.Rn);b.prototype.Di=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.cu=function(a,b,c,d){var g;g=this;c=c.S2(d.Dra).href;return this.send(a,b,c,d.inputs,"sessionId","license"===d.Dra?h.Hg.$D:h.Hg.Ds).then(function(a){a=a.result;g.jla(a);g.BWa(a);return a;})["catch"](function(a){throw g.gu(a);});};b.prototype.BWa=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};n=b;n=f.__decorate([c.O(),f.__param(0,c.l(a.xl))],n);d.vJa=n;},function(f,d,a){var c,k,h,g,n,p,l,m,v,q,t,x,w,z,y;function b(a,b,c,d,g){a=q.Rn.call(this,a,k.I.MANIFEST,3,h.eo.Ca,h.Hg.$D,h.eo.Ca)||this;a.config=b;a.xd=c;a.rWa=d;a.Geb=g;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(48);g=a(413);n=a(3);p=a(25);l=a(56);m=a(114);v=a(80);a(335);q=a(123);t=a(54);x=a(208);w=a(388);a=a(195);z={fps:"fairplay"};ja(b,q.Rn);b.prototype.Di=function(a,b,c){var d;d=this;return this.O5a(c).then(function(g){return d.send(a,b,"/"+d.name,g,void 0,d.u6a(c.gH));}).then(function(a){return a.result;})["catch"](function(a){throw d.gu(a);});};b.prototype.cu=function(a,b,c,d){return this.Di(a,b,d).then(function(a){c.iO(a.links);a.wx=c;return a;});};b.prototype.O5a=function(a){var b,c,d,f,h,k,p,r;b=this;c=a.Bh||{};d={};f=a.te;d[f]={unletterboxed:this.o4(c.preferUnletterboxed)};h=g.Xca.oB();k=z[h]||h;p=this.config().lnb?30:25;h=n.nB();r=h.S6a().concat(h.R6a()).concat(this.config().as).concat(["BIF240","BIF320"]).filter(Boolean);return Promise.all([h.tB(),h.uH(),this.G4a(a.ha)]).then(function(g){var h,n,m;h=Ba(g);g=h.next().value;n=h.next().value;h=h.next().value;m=n&&void 0!==n.SUPPORTS_SECURE_STOP?!!n.SUPPORTS_SECURE_STOP:void 0;n=n?n.DEVICE_SECURITY_LEVEL:void 0;return{type:"standard",viewableId:f,profiles:r,flavor:l.Oc.BXa(a.gH),drmType:k,drmVersion:p,usePsshBox:!0,isBranching:a.ou,useHttpsStreams:!0,imageSubtitleHeight:x.qX.a3(),uiVersion:b.context.dy.Sy,uiPlatform:b.context.dy.aU,clientVersion:b.context.platform.version,supportsPreReleasePin:b.config().rg.clb,supportsWatermark:b.config().rg.dlb,showAllSubDubTracks:b.config().rg.Ojb||b.o4(c.showAllSubDubTracks),packageId:a.gm?Number(a.gm):void 0,deviceSupportsSecureStop:m,deviceSecurityLevel:n,videoOutputInfo:g,titleSpecificData:d,preferAssistiveAudio:b.o4(c.assistiveAudioPreferred),preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,challenge:h,isNonMember:b.context.dy.Gi};});};b.prototype.u6a=function(a){switch(a){case l.Dm.co:case l.Dm.UCa:return h.Hg.$D;case l.Dm.Mea:case l.Dm.lfa:return h.Hg.lW;case l.Dm.Qda:return h.Hg.Ds;}};b.prototype.o4=function(a){return m.Qp.oh(a)?"true"===a.toLowerCase():!!a;};b.prototype.G4a=function(a){var b;b=this;return this.rWa.Koa().then(function(c){var d;d=a&&b.Geb.i6a(a);d&&d.Qk("cad");return c;});};y=b;y=f.__decorate([c.O(),f.__param(0,c.l(t.xl)),f.__param(1,c.l(p.Ef)),f.__param(2,c.l(v.SU)),f.__param(3,c.l(w.V$)),f.__param(4,c.l(a.$W))],y);d.FJa=y;},function(f,d,a){var c,k,h,g,n;function b(a){return g.Rn.call(this,a,k.I.NFa,1,h.eo.Tra,h.Hg.Ds,h.eo.Tra)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(48);g=a(123);a=a(54);ja(b,g.Rn);b.prototype.Di=function(a,b,c){var d;d=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw d.gu(a);});};b.prototype.cu=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};n=b;n=f.__decorate([c.O(),f.__param(0,c.l(a.xl))],n);d.EJa=n;},function(f,d,a){var b,c,k,h,g,n,p,l,m,v,q,t,x,w,z,y,F,K,S,da,P,Y,R,B;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(356);c=a(639);k=a(348);h=a(638);g=a(347);n=a(637);p=a(345);l=a(636);m=a(344);v=a(635);q=a(343);t=a(634);x=a(62);w=a(633);z=a(632);y=a(57);F=a(2);K=a(631);S=a(630);da=a(629);P=a(628);Y=a(627);R=a(54);B=a(626);d.aXa=new f.Xb(function(a){a(R.xl).to(B.xJa);a(b.aea).to(c.EJa);a(k.bea).to(h.FJa);a(g.Uda).to(n.vJa);a(p.gea).to(l.MJa);a(m.Yda).to(v.BJa);a(q.Zda).to(t.CJa);a(x.qfa).to(w.NLa);a(x.rfa).to(z.OLa);a(x.rca).to(K.IFa);a(x.Sda).to(S.uJa);a(x.Uea).to(da.XKa);a(x.ofa).to(P.KLa);a(x.eba).to(Y.ODa);a(x.jV).Pi(function(a){return function(b){switch(b){case x.Dh.start:return a.ic.get(x.qfa);case x.Dh.stop:return a.ic.get(x.rfa);case x.Dh.bI:return a.ic.get(x.rca);case x.Dh.pause:return a.ic.get(x.Sda);case x.Dh.resume:return a.ic.get(x.Uea);case x.Dh.splice:return a.ic.get(x.ofa);case x.Dh.XG:return a.ic.get(x.eba);}throw new y.mc(F.I.fIa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(f,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.aza=function(){var a;a=this.j.sk&&this.j.sk.Ji.get()||{};a.Yf&&(this.j.Yf=a.Yf.va);a.ka&&(this.j.ka=a.ka.va);};a.prototype.gn=function(){-1===this.j.ka&&this.aza();return this.j.ka;};a.prototype.YVa=function(a){-1!==this.j.Yf&&-1!==this.j.ka||this.aza();return-1===this.j.Yf||-1===this.j.ka?Number.MAX_VALUE:this.j.Yf+8*a/this.j.ka;};d.JAa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(22);k=a(327);h=a(24);g=a(0);n=a(4);a=a(25);b.prototype.cx=function(a){var b;a.wK={};if(!a.NB()&&a.hs&&0<a.hs.length&&(a.gs=this.Xoa(a),a.gs)){b=this.Bjb(a);a.addEventListener(c.ya.yC,b);a.Dg.addListener(b);}};b.prototype.Bjb=function(a){var d;function b(){var g,f;if(a.Dg.value&&a.X8){g=a.gs;f=g.me();if(f!==k.yl.LOADING)if(f!==k.yl.LOADED&&g.Ur){if(g=d.b7a(a))a.wK.offset=d.app.Ud().ma(n.Ia),a.gs=g,g.download();}else a.removeEventListener(c.ya.yC,b),a.Dg.removeListener(b);}}d=this;return b;};b.prototype.b7a=function(a){var b,c;b=this.config();c=a.Dn.o3()<b.ymb;b=a.Dg.value.L>b.xmb;return this.y6a(a,c&&b);};b.prototype.y6a=function(a,b){if(b&&(b=this.Xoa(a),this.ppa(a,b.size)))return a.wK.Yva="h",b;b=this.N5a(a);if(this.ppa(a,b.size))return a.wK.Yva="l",b;};b.prototype.ppa=function(a,b){var c,d;c=this.config();d=Math.min(a.Cw(),a.Xy());return a.cVa.YVa(b)*(1+.01*c.FTa[2])<d*c.Amb;};b.prototype.Xoa=function(a){return a.hs[a.hs.length-1];};b.prototype.N5a=function(a){return a.hs[0];};p=b;p=f.__decorate([g.O(),f.__param(0,g.l(h.gf)),f.__param(1,g.l(a.Ef))],p);d.vMa=p;},function(f,d,a){var c,k,h,g,n,p,l,m;function b(a,b,d,f,k,n,r,u){var v;v=this;this.j=a;this.id=b;this.height=d;this.width=f;this.xeb=k;this.yeb=n;this.size=r;this.Gc=u;this.type=c.Hf.H9;this.Ur=!0;this.state=p.yl.OL;this.ug={};this.rO={};this.Afb=function(a){if(a.P)try{v.data=g.Zdb(a.content);v.state=p.yl.LOADED;v.log.trace("TrickPlay parsed",{Images:v.data.images.length},v.ug);v.j.fireEvent(l.ya.uD);}catch(da){v.state=p.yl.Bda;v.log.error("TrickPlay parse failed.",da);}else v.state=p.yl.OL,v.log.error("TrickPlay download failed.",m.Am(a),v.ug);};this.log=h.bf(a,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);k=a(5);h=a(3);g=a(328);n=a(29);p=a(327);l=a(22);m=a(2);b.prototype.t5a=function(a){if(this.data&&(a=Math.floor(a/this.data.dk.vya),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.dk.vya,height:this.height,width:this.width,pixelAspectHeight:this.xeb,pixelAspectWidth:this.yeb};};b.prototype.tpa=function(){switch(this.state){case p.yl.LOADED:return"downloaded";case p.yl.LOADING:return"loading";case p.yl.cE:return"downloadfailed";case p.yl.Bda:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.g7a();a?(this.state=p.yl.LOADING,this.P0a(a)):this.Ur=!1;};b.prototype.me=function(){return this.state;};b.prototype.g7a=function(){var a,b,c;a=this;b=Object.keys(this.Gc).find(function(b){return(a.rO[a.Gc[b]]||0)<=k.config.wmb;});if(b){c=this.Gc[b];c in this.rO?this.rO[c]++:this.rO[c]=1;return{url:c,dG:b};}};b.prototype.P0a=function(a){this.log.trace("Downloading",a.url,this.ug);a={responseType:n.BB,zb:this.E2(a.dG),url:a.url,track:this};this.j.FH.download(a,this.Afb);};b.prototype.E2=function(a){return this.j.hj.find(function(b){return b&&b.id===a;});};d.tMa=b;},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.sMa=function(b,c,d,f,g,n,p,l){return new(a(643)).tMa(b,c,d,f,g,n,p,l);};},function(f,d,a){var k,h,g,n;function b(a,b,c,d){this.ha=a;this.qhb=b;this.ba=c;this.app=d;this.he={};}function c(a,b){this.Uf=a;this.app=b;this.Wb={};this.ba=a.Fb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(12);g=a(24);n=a(4);c.prototype.Ngb=function(a,c){this.Wb[a]&&this.ba.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.Ud()).ma(n.Ia);this.ba.trace("registerPlayback: xid "+a+" at "+c);this.Wb[a]=new b(a,c,this.ba,this.app);return this.Wb[a];};c.prototype.i6a=function(a){this.Wb[a]||this.ba.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Wb[a];};c.prototype.Ygb=function(a){this.ba.trace("removePlayback: xid "+a);delete this.Wb[a];};a=c;a=f.__decorate([k.O(),f.__param(0,k.l(h.Qb)),f.__param(1,k.l(g.gf))],a);d.jKa=a;b.prototype.Qk=function(a,b){b=b?b.ma(n.Ia):this.app.Ud().ma(n.Ia)-this.qhb;this.ba.trace("addMilestone: xid "+this.ha+" "+a+" at "+b);this.he[a]=b;};},function(f,d,a){var b,c,k,h,g,n,p,l;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(195);c=a(645);k=a(374);h=a(644);g=a(326);n=a(642);p=a(325);l=a(641);d.j=new f.Xb(function(a){a(b.$W).to(c.jKa).X();a(k.Nfa).bg(h.sMa);a(g.Ofa).to(n.vMa).X();a(p.K$).Pi(function(){return function(a){return new l.JAa(a);};});});},function(f,d,a){var c,k;function b(){this.aK=new k.mi();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(81);b.prototype.k7=function(a){this.aK.next(a);};oa.Object.defineProperties(b.prototype,{Ta:{configurable:!0,enumerable:!0,get:function(){return this.aK;}}});a=b;a=f.__decorate([c.O()],a);d.LJa=a;},function(f,d,a){var c,k,h;function b(a,b){this.ar=b;this.log=a.Fb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);a=a(71);b.prototype.iO=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.S2=function(a){return this.links[a];};b.prototype.yja=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.ar().Tf;a="drmContextId="+a.drmContextId;this.iO({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(k.Qb)),f.__param(1,c.l(a.Np))],h);d.DJa=h;},function(f,d,a){var c,k,h,g,n;function b(a,b){a=k.Pd.call(this,a,"PboConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);g=a(38);a=a(25);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{Sy:{configurable:!0,enumerable:!0,get:function(){return this.config().rg.Sy||"";}},aU:{configurable:!0,enumerable:!0,get:function(){return this.config().rg.aU||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},cua:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().rg.ky;}},Gi:{configurable:!0,enumerable:!0,get:function(){return!1;}},axa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},K3:{configurable:!0,enumerable:!0,get:function(){return 10;}}});n=b;f.__decorate([g.config(g.string,"uiVersion")],n.prototype,"Sy",null);f.__decorate([g.config(g.string,"uiPlatform")],n.prototype,"aU",null);f.__decorate([g.config(g.fv,"pboVersion")],n.prototype,"version",null);f.__decorate([g.config(g.string,"pboOrganization")],n.prototype,"cua",null);f.__decorate([g.config(g.c9,"pboLanguages")],n.prototype,"languages",null);f.__decorate([g.config(g.xe,"hasLimitedPlaybackFunctionality")],n.prototype,"Gi",null);f.__decorate([g.config(g.object(),"pboCommands")],n.prototype,"axa",null);f.__decorate([g.config(g.fv,"pboHistorySize")],n.prototype,"K3",null);n=f.__decorate([c.O(),f.__param(0,c.l(h.ni)),f.__param(1,c.l(a.Ef))],n);d.yJa=n;},function(f,d,a){var h,g,n,p,l,m,v,q,t,x,w,z,y,F,K;function b(a){this.config=a;this.Sk=[];}function c(a,b,c){this.eb=a;this.vK=b;this.context=c;this.startTime=this.eb.Ud();}function k(a,c,d,g,f,h,k,n,p){this.json=d;this.eb=g;this.lB=f;this.uJ=h;this.ja=k;this.xd=p;this.log=a.Fb("Pbo");this.vK=c();this.Sk=new b(n);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(4);n=a(2);p=a(330);l=a(12);m=a(44);v=a(24);q=a(50);t=a(109);x=a(42);w=a(329);z=a(125);y=a(80);F=a(22);K=a(48);k.prototype.send=function(a,b){var d;d=new c(this.eb,this.vK,a);this.Sk.append(d);return this.UC(a,b,d);};k.prototype.UC=function(a,b,c){var d;d=this;return new Promise(function(g,f){d.Ur(a,b).then(function(a){var b,h;d.Bib(a);b=Ba(d.xnb(a));h=b.next().value;b=b.next().value;h&&(d.XWa(c),g(a));b&&(d.xla(c,b),f(b));})["catch"](function(a){var b;b=d.xla(c,a);a.Ea&&(a.Ea=[a.Ea," ",b].join(""));f(a);});});};k.prototype.Bib=function(a){(a=a.serverTime)&&this.xd.Cc(F.lca.$wa,g.Pb(a));};k.prototype.xnb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.Udb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(P){throw{ey:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{ey:!0,code:"FAIL",message:"There is no result property on the response"};}throw{ey:!0,code:"FAIL",message:"There is no body property on the response"};};k.prototype.BUa=function(a,b,c){var d;d=this;this.Zmb(b,a);return this.vK.send(b,c).then(function(a){return{Ur:!1,result:d.Udb(a.body)};})["catch"](function(c){var g,f;f=c&&c.nk&&void 0!==c.nk.maxRetries?Math.min(c.nk.maxRetries,b.W7):b.W7;return d.qT(b,c,a,f)?(g=d.dWa(c,a,f),d.log.warn("Method failed, retrying",Object.assign({Method:b.Go,Attempt:a+1,WaitTime:g,MaxRetries:f},d.Z0(c))),Promise.resolve({Ur:!0,$c:g,error:c})):Promise.resolve({Ur:!1,error:c});});};k.prototype.Zmb=function(a,b){var c;c=a.url.searchParams;c.set(K.fX.VKa,(b+1).toString());c.set(K.fX.Hg,a.L7.toString());c.set(K.fX.WKa,a.K7);};k.prototype.Ur=function(a,b,c){var d;c=void 0===c?0:c;d=this;return this.BUa(c++,a,b).then(function(g){if(g.Ur)return d.LK(g.$c).then(function(){return d.Ur(a,b,c);});if(g.error)throw g.error;if(void 0===g.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return g.result;});};k.prototype.qT=function(a,b,c,d){var g;g=this.lB.V7||this.m9a(b);if(g&&c<d)return!0;g?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Go,Attempt:c+1,MaxRetries:d},this.Z0(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Go},this.Z0(b)));return!1;};k.prototype.m9a=function(a){var b,c;b=a&&a.code;c=a&&(a.T||a.Gb);a=a.Dd!==n.RV.Tda;c=!!c&&c>=n.G.gz&&c<=n.G.fz&&a;return!(!b||"RETRY"!==b)||c;};k.prototype.dWa=function(a,b,c){return a&&a.nk&&void 0!==a.nk.retryAfterSeconds?g.mm(a.nk.retryAfterSeconds):g.Pb(this.uJ.m7(1E3,1E3*Math.pow(2,Math.min(b-1,c))));};k.prototype.LK=function(a){var b;b=this;return new Promise(function(c){b.ja.yg(a||g.Eg,c);});};k.prototype.Z0=function(a){return w.f9a(a)?a:{message:a.message,subCode:a.Gb,extCode:a.Dd,mslCode:a.gp,data:a.data};};k.prototype.XWa=function(a){a.Xkb();};k.prototype.xla=function(a,b){var c;a.ex(b);try{c=this.json.stringify(this.Sk);this.log.error("PBO command history",this.json.parse(c));return c;}catch(Y){return"";}};a=k;a=f.__decorate([h.O(),f.__param(0,h.l(l.Qb)),f.__param(1,h.l(p.Mfa)),f.__param(2,h.l(m.Bs)),f.__param(3,h.l(v.gf)),f.__param(4,h.l(q.tl)),f.__param(5,h.l(t.FE)),f.__param(6,h.l(x.li)),f.__param(7,h.l(z.AE)),f.__param(8,h.l(y.lV))],a);d.zJa=a;c.prototype.Xkb=function(){this.P=!0;this.elapsedTime=this.eb.Ud().Kd(this.startTime);};c.prototype.ex=function(a){this.P=!1;this.elapsedTime=this.eb.Ud().Kd(this.startTime);this.Skb=a.Gb||a.subCode;this.K2a=a.Dd||a.extCode;};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){var a;a=Object.assign({success:this.P,method:this.context.Go,profile:this.context.profile.id,startTime:this.startTime.ma(g.Ia),elapsedTime:this.elapsedTime?this.elapsedTime.ma(g.Ia):"in progress"},this.vK.w0());return this.P?a:Object.assign({},a,this.vK.w0(),{subcode:this.Skb,extcode:this.K2a});};b.prototype.append=function(a){this.Sk.push(a);0<this.config.K3&&this.Sk.length>this.config.K3&&this.Sk.shift();};b.prototype.toJSON=function(){return this.Sk;};},function(f,d,a){var b,c,k,h,g,n,p,l;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(331);c=a(650);k=a(125);h=a(649);g=a(102);n=a(648);p=a(196);l=a(647);d.geb=new f.Xb(function(a){a(k.AE).to(h.yJa).X();a(b.Wda).to(c.zJa);a(g.$da).to(n.DJa);a(g.wz).Pi(function(a){return function(){return a.ic.get(g.$da);};});a(p.RW).to(l.LJa).X();});},function(f,d,a){var c,k,h,g,n;function b(a){return k.Pd.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(38);k=a(39);h=a(0);g=a(27);n=a(4);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{Zsa:{configurable:!0,enumerable:!0,get:function(){return n.Pb(5E3);}},$ta:{configurable:!0,enumerable:!0,get:function(){return n.Pb(1E3);}},aua:{configurable:!0,enumerable:!0,get:function(){return n.Pb(1E3);}}});a=b;f.__decorate([c.config(c.rj,"minDecoderBufferMilliseconds")],a.prototype,"Zsa",null);f.__decorate([c.config(c.rj,"optimalDecoderBufferMilliseconds")],a.prototype,"$ta",null);f.__decorate([c.config(c.rj,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"aua",null);a=f.__decorate([h.O(),f.__param(0,h.l(g.ni))],a);d.hHa=a;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(418);c=a(652);d.Ebb=new f.Xb(function(a){a(b.dda).to(c.hHa).X();});},function(f,d,a){var c,k,h,g,b;function b(a){function b(b,c){this.J=b;this.Q2a=!1;this.emit=g.prototype.emit;this.addListener=g.prototype.addListener;this.on=g.prototype.on;this.once=g.prototype.once;this.removeListener=g.prototype.removeListener;this.removeAllListeners=g.prototype.removeAllListeners;this.listeners=g.prototype.listeners;this.listenerCount=g.prototype.listenerCount;g.call(this);this.Ya=a.Fb("DownloadTrack");this.ct=c.gl;}b.prototype.bn=function(){this.ZN=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.ZN+" config: "+JSON.stringify(this.J);};b.prototype.toJSON=function(){return"Download Track id:"+this.ZN+" config: "+JSON.stringify(this.J);};b.prototype.Fva=function(a){var b;b=a.connections;this.J.connections!==b&&(this.J=a,this.ct.DBb(b));};b.prototype.KB=function(){return 1<this.J.connections?!0:!1;};oa.Object.defineProperties(b.prototype,{ec:{configurable:!0,enumerable:!0,get:function(){return this.ZN;}},TO:{configurable:!0,enumerable:!0,get:function(){return void 0===this.ZN;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},gy:{configurable:!0,enumerable:!0,get:function(){return this.Ya;}},gl:{configurable:!0,enumerable:!0,get:function(){return this.ct;}}});this.cz=Object.assign(b,new h.mDa());}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);h=a(145);g=a(144).EventEmitter;b=f.__decorate([c.O(),f.__param(0,c.l(k.Qb))],b);d.lDa=b;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(145);c=a(654);d.fUa=new f.Xb(function(a){a(b.Jaa).to(c.lDa).X();});},function(f,d,a){var c,k,h,g,n;function b(a){return k.Pd.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);g=a(38);n=a(4);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{Pwa:{configurable:!0,enumerable:!0,get:function(){return!0;}},W4:{configurable:!0,enumerable:!0,get:function(){return n.U5(5);}}});a=b;f.__decorate([g.config(g.xe,"sendPrefetchEventLogs")],a.prototype,"Pwa",null);f.__decorate([g.config(g.rj,"logsInterval")],a.prototype,"W4",null);a=f.__decorate([c.O(),f.__param(0,c.l(h.ni))],a);d.yKa=a;},function(f,d,a){var c,k,h;function b(a,b){this.Sa=b;this.ba=a.Fb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);a=a(21);b.prototype.o0a=function(a){var b;b=this;try{return{direction:a.direction,P9a:a.layoutHasChanged,Mhb:a.rowInteractionIndex,sa:a.lolomos.map(function(a){return b.j0a(a);})};}catch(p){this.ba.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.j0a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.i0a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Ohb:a.rowSegment};};b.prototype.i0a=function(a){var b,c;b={Kb:a.pts,property:a.property,te:a.viewableId,index:a.index};c=a.preplay;this.Sa.Qf(c)&&(b.CC=this.m0a(c));a=a.params;this.Sa.Qf(a)&&(b.ob=this.Oma(a));return b;};b.prototype.m0a=function(a){var b;b={Kb:a.pts,te:a.viewableId,fy:a.pipelineNum,index:a.index};a=a.params;this.Sa.Qf(a)&&(b.ob=this.Oma(a));return b;};b.prototype.Oma=function(a){return{kc:a.uiLabel,cg:a.trackingId,Bh:a.sessionParams};};b.prototype.Pma=function(a){var b;b=this;try{return a.map(function(a){return b.k0a(a);});}catch(p){this.ba.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.k0a=function(a){var b,c;c=a.params;this.Sa.Qf(c)&&(b=this.l0a(c));return{M:a.movieId,ed:a.priority,ob:b,kc:a.uiLabel,eCb:a.uiExpectedStartTime,dCb:a.uiExpectedEndTime,Rh:a.firstTimeAdded};};b.prototype.l0a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Sa.Qf(c)&&(b=this.n0a(c));return{Dw:this.h0a(a.authParams),Bh:b,cg:a.trackingId,S:a.startPts,Ca:a.manifest,De:a.isBranching};};b.prototype.h0a=function(a){return{wua:(a||{}).pinCapableClient};};b.prototype.n0a=function(a){a.gCb=a.uiplaycontext;return a;};b.prototype.Gib=function(a){var b,c;try{b="";this.Sa.Qf(a.Rua)&&(b=JSON.stringify(this.Jib(JSON.parse(a.Rua))));c="";this.Sa.Qf(a.Sua)&&(c=JSON.stringify(this.Kib(JSON.parse(a.Sua))));return{dest_id:a.eP,offset:a.offset,predictions:a.Xua.map(this.Mib,this),ppm_input:b,ppm_output:c,prepare_type:a.HAb};}catch(r){this.ba.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Mib=function(a){return{title_id:a.On};};b.prototype.Jib=function(a){return{direction:a.direction,layoutHasChanged:a.P9a,rowInteractionIndex:a.Mhb,lolomos:a.sa.map(this.Iib,this)};};b.prototype.Iib=function(a){return{context:a.context,list:a.list.map(this.Hib,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Ohb};};b.prototype.Hib=function(a){var b,c;this.Sa.Qf(a.CC)&&(b=this.Nib(a.CC));this.Sa.Qf(a.ob)&&(c=this.A8(a.ob));return{preplay:b,pts:a.Kb,viewableId:a.te,params:c,property:a.property,index:a.index};};b.prototype.Nib=function(a){var b;this.Sa.Qf(a.ob)&&(b=this.A8(a.ob));return{pts:a.Kb,viewableId:a.te,params:b,pipelineNum:a.fy,index:a.index};};b.prototype.A8=function(a){return{uiLabel:a.kc,trackingId:a.cg,sessionParams:a.Bh};};b.prototype.Kib=function(a){return a.map(this.Lib,this);};b.prototype.Lib=function(a){var b;this.Sa.Qf(a.ob)&&(b=this.A8(a.ob));return{movieId:a.M,priority:a.ed,params:b,uiLabel:a.kc,firstTimeAdded:a.Rh,viewableId:a.te,pts:a.Kb};};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(k.Qb)),f.__param(1,c.l(a.ve))],h);d.QJa=h;},function(f,d,a){var k,h,g,n,p,l,m,v,q;function b(a,b,c,d,g,f,h,k){this.qj=a;this.Hx=b;this.ja=c;this.Hu=g;this.config=f;this.D2=h;this.F6=k;this.CS=[];this.v4=[];this.T6={};this.ba=d.Fb("PrefetchEvents");}function c(a,b,c,d,g,f){this.qj=a;this.Hx=b;this.ja=c;this.Uf=d;this.config=g;this.F6=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(106);h=a(0);g=a(4);n=a(61);p=a(104);l=a(42);m=a(12);v=a(332);a=a(197);c.prototype.create=function(a,c){return new b(this.qj,this.Hx,this.ja,this.Uf,a,this.config,c,this.F6);};q=c;q=f.__decorate([h.O(),f.__param(0,h.l(n.Cs)),f.__param(1,h.l(p.mz)),f.__param(2,h.l(l.li)),f.__param(3,h.l(m.Qb)),f.__param(4,h.l(v.Fea)),f.__param(5,h.l(a.TW))],q);d.zKa=q;b.prototype.PVa=function(a,b,c){this.xx(k.Od.qv.ZAa,a,b,void 0,c);};b.prototype.RVa=function(a,b,c){this.xx(k.Od.qv.$Aa,a,b,void 0,c);};b.prototype.NVa=function(a,b,c){this.xx(k.Od.qv.YAa,a,b,void 0,c);};b.prototype.LVa=function(a,b,c){this.xx(k.Od.qv.WAa,a,b,void 0,c);};b.prototype.aG=function(a,b,c){this.xx(k.Od.qv.XAa,a,b,void 0,c);};b.prototype.Heb=function(a){this.xx(k.Od.qv.lIa,void 0,a);};b.prototype.Jr=function(a,b,c,d,g,f,h){this.gO()&&(this.xx(k.Od.qv.nLa,void 0,a),this.J$a(a,b,c,d,g,f,h),this.joa(),this.Nra());this.h9a(a)&&this.thb();};b.prototype.p0a=function(a){a={dest_id:a,cache:this.z8(this.D2())};this.MJ("destiny_start",a);};b.prototype.ffb=function(a){(a=this.F6.Gib(a))?this.MJ("destiny_prepare",a):this.ba.error("failed to serialize prepare event");};b.prototype.joa=function(){0<this.CS.length&&this.gO()&&(this.MJ("destiny_events",{dest_id:this.Hu.Cl,events:this.CS}),this.CS=[]);this.$S&&(this.$S.cancel(),this.$S=void 0);this.Gna();};b.prototype.Nra=function(){var a;if(this.QVa()&&this.gO()){a=this.D2();this.v4=a;a={dest_id:this.Hu.Cl,offset:this.Hu.jQ(),cache:this.z8(a)};this.MJ("destiny_cachestate",a);}this.ZS&&(this.ZS.cancel(),this.ZS=void 0);this.Fna();};b.prototype.update=function(a){var b;b=this;a.sa.forEach(function(a){a.list.forEach(function(a){b.T6[a.te]=!0;});});};b.prototype.h9a=function(a){return this.T6[a];};b.prototype.QVa=function(){var a,b,c;a=this;b=this.D2();if(b.length!==this.v4.length)return!0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b)!==JSON.stringify(a.v4[d])&&(c=!0);}catch(F){a.ba.error("Failed to stringify cachedTitle",F);}});return c;};b.prototype.xx=function(a,b,c,d,g){this.gO()&&(a={offset:this.Hu.jQ(),event_type:a,title_id:c,asset_type:b,size:d,reason:g},this.CS.push(a),this.Gna(),this.Fna());};b.prototype.Gna=function(){this.$S||(this.$S=this.ja.yg(this.config.W4,this.joa.bind(this)));};b.prototype.Fna=function(){this.ZS||(this.ZS=this.ja.yg(this.config.W4,this.Nra.bind(this)));};b.prototype.J$a=function(a,b,c,d,f,h,n){var p;p=[];c&&p.push({On:a,Hq:k.Od.hi.i$,state:k.Od.RK.YK});d&&p.push({On:a,Hq:k.Od.hi.Rp,state:k.Od.RK.YK});f&&p.push({On:a,Hq:k.Od.hi.UD,state:k.Od.RK.YK});(0<h.ma(g.Ia)||0<n.ma(g.Ia))&&p.push({On:a,Hq:k.Od.hi.MEDIA,state:k.Od.RK.YK,KUa:h.ma(g.Ia),Lnb:n.ma(g.Ia)});a={dest_id:this.Hu.Cl,offset:this.Hu.jQ(),xid:b,cache:this.z8(p)};this.MJ("destiny_playback",a);};b.prototype.MJ=function(a,b){this.config.Pwa&&(a=this.Hx.Pt(a,"info",b),this.qj.km(a));};b.prototype.z8=function(a){return a.map(function(a){return{title_id:a.On,state:a.state,asset_type:a.Hq,size:a.size,audio_ms:a.KUa,video_ms:a.Lnb};});};b.prototype.gO=function(){return 0!==this.Hu.Cl;};b.prototype.thb=function(){this.Hu.shb();this.T6={};};},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(106);c=a(658);k=a(197);h=a(657);g=a(656);n=a(332);d.Inb=new f.Xb(function(a){a(n.Fea).to(g.yKa).X();a(b.Gea).to(c.zKa).X();a(k.TW).to(h.QJa).X();});},function(f,d,a){var c,k,h,g;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(7);h=a(198);b.prototype.q6a=function(){var a;a=H.devicePixelRatio||1;return{width:this.SY.tCa||k.Vp.width*a,height:this.SY.sCa||k.Vp.height*a};};oa.Object.defineProperties(b.prototype,{SY:{configurable:!0,enumerable:!0,get:function(){return a(37).hf;}}});g=b;f.__decorate([h.hR],g.prototype,"SY",null);g=f.__decorate([c.O()],g);d.TMa=g;},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(114);b.prototype.compare=function(a,b){var c;c=[];this.m0(a,b,"",c);return c;};b.prototype.m0=function(a,b,c,d){var g;g=this;if(k.Qp.Eq(a))k.Qp.Eq(b)&&a.length===b.length?a.forEach(function(f,h){g.m0(a[h],b[h],c+"["+h+"]",d);}):d.push({a:a,b:b,path:c});else if(k.Qp.yw(a)&&null!=a)if(k.Qp.yw(b)&&null!=b){for(var f in a)this.m0(a[f],b[f],c+"."+f,d);for(var h in b)h in a||void 0===b[h]||d.push({a:void 0,b:b[h],path:c+"."+h});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=f.__decorate([c.O()],a);d.UHa=a;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.VHa="ObjectComparerSymbol";},function(f,d,a){var c,k,h,g;function b(a){this.location=a;k.gk(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(47);h=a(44);a=a(0);b.dS=function(a){var b,g,f;b={};if(0<a.length){a=a.split("&");for(var d=0;d<a.length;d++){g=a[d].trim();f=g.indexOf("=");0<=f?b[decodeURIComponent(g.substr(0,f).replace(c.Pda,"%20"))]=decodeURIComponent(g.substr(f+1).replace(c.Pda,"%20")):b[g.toLowerCase()]="";}}return b;};oa.Object.defineProperties(b.prototype,{Sfb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=c.dS(this.jva);}},jva:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.tJ)return this.tJ;this.tJ=this.location.search.substr(1);a=this.tJ.indexOf("#");0<=a&&(this.tJ=this.jva.substr(0,a));return this.tJ;}}});g=c=b;g.Pda=/[+]/g;g=c=f.__decorate([a.O(),f.__param(0,a.l(h.zca))],g);d.HKa=g;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.x2=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.x2(a);});};c=b;c=f.__decorate([a.O()],c);d.GMa=c;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){this.is=a;this.json=b;k.gk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(47);h=a(44);g=a(0);n=a(21);p=a(134);b.prototype.rva=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.TZ(a);});};b.prototype.q7=function(a){var b;b=this;return c.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.rA(a);});};b.prototype.Ba=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.wo(a);});};b.prototype.bgb=function(a){var b;b=this;return c.read(a,function(a){return parseFloat(a);},function(a){return b.is.Mf(a);});};b.prototype.pva=function(a,b){return c.read(a,function(a){return c.o3a(a,b);},function(a){return void 0!==a;});};b.prototype.s7=function(a,b){return c.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.sva=function(a){var b,d;b=void 0===b?function(){return!0;}:b;d=this;try{return c.read(a,function(a){return d.json.parse(decodeURIComponent(a));},function(a){return d.is.yw(a)&&b(a);});}catch(A){return new p.wl();}};b.prototype.pe=function(a,b,d){var g,f;d=void 0===d?1:d;g=this;a=a.trim();f=b instanceof Function?b:this.JZa(b,d);b=a.indexOf("[");d=a.lastIndexOf("]");if(0!=b||d!=a.length-1)return new p.wl();a=a.substring(b+1,d);try{return c.Rdb(a).map(function(a){a=f(g,c.wnb(a));if(a instanceof p.wl)throw a;return a;});}catch(x){return x instanceof p.wl?x:new p.wl();}};b.prototype.JZa=function(a,b){var d;b=void 0===b?1:b;d=this;return function(g,f){g=c.c6a(a);return 1<b?d.pe(f,a,b-1):g(d,f);};};b.o3a=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d]==a)return d;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new p.wl();};b.c6a=function(a){switch(a){case"int":return function(a,b){return a.rva(b);};case"bool":return function(a,b){return a.q7(b);};case"uint":return function(a,b){return a.Ba(b);};case"float":return function(a,b){return a.bgb(b);};case"string":return function(a,b){return a.s7(b);};case"object":return function(a,b){return a.sva(b);};}};b.Rdb=function(a){var n;for(var b=[["[","]"]],c=[],d=0,g=0,f=0,h=[],k={};g<a.length;k={"char":k["char"]},++g){k["char"]=a.charAt(g);n=void 0;","==k["char"]&&0==f?(c.push(a.substr(d,g-d)),d=g+1):(n=b.find(function(a){return function(b){return b[0]==a["char"];};}(k)))?(++f,h.push(n)):0<h.length&&h[h.length-1][1]==k["char"]&&(--f,h.pop());}if(d!=g)c.push(a.substr(d,g-d));else if(d==g&&0<d)throw new p.wl();return c;};b.wnb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new p.wl();return a.substring(1,a.length-1);}return a;};a=c=b;a=c=f.__decorate([g.O(),f.__param(0,g.l(n.ve)),f.__param(1,g.l(h.Bs))],a);d.SLa=a;},function(f,d,a){var b,c,k,h,g,n,p,l,m,q;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(665);c=a(664);k=a(663);h=a(134);g=a(453);n=a(206);p=a(662);l=a(661);m=a(333);q=a(660);d.Bg=new f.Xb(function(a){a(h.oX).to(b.SLa).X();a(g.cX).to(k.HKa).X();a(n.wX).to(c.GMa).X();a(p.VHa).to(l.UHa).X();a(m.dga).to(q.TMa).X();});},function(f,d,a){var c,k;function b(a){this.$bb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(334);a=a(0);b.prototype.Poa=function(){var a;a=this.$bb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};k=b;k=f.__decorate([a.O(),f.__param(0,a.l(c.rda))],k);d.SBa=k;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(334);c=a(361);k=a(362);h=a(667);g=a(7);d.crypto=new f.Xb(function(a){a(k.qaa).to(h.SBa).X();a(b.rda).bg(g.Cv);a(c.raa).bg(g.vW);});},function(f,d,a){var c,k,h,g,n,p;function b(a,b,c){var d;d=p.gM.call(this,a,b,"network")||this;d.xd=c;d.Tcb=function(){d.data=[];d.refresh();};d.qwa=function(a){a=JSON.stringify(d.data[Number(a.target.id)].value,null,4);d.Ula(a);};return d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(23);h=a(21);g=a(80);n=a(335);p=a(338);ja(b,p.gM);b.prototype.cd=function(){var a;a=this;if(this.qn)return Promise.resolve();H.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&78==b.keyCode&&a.toggle();});this.data=[];this.xd.addListener(n.Eaa.Fsb,function(b){a.data.push(b);a.refresh();});this.qn=!0;return Promise.resolve();};b.prototype.L2=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.e3=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.Nka.Vm(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+d+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.l3=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.L2(),b=0;b<this.data.length;++b)a+=this.e3(b,this.data[b].name,this.data[b].value);return a+"</table>";};b.prototype.Noa=function(){var a;a=this.Md.createElement("button",p.aL,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Tcb;return[a];};b.prototype.Gva=function(){return Promise.resolve(this.l3());};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.He)),f.__param(1,c.l(h.ve)),f.__param(2,c.l(g.SU))],a);d.esb=a;},function(f,d,a){var h,g,n,p,l,m,q,A,t,x,w,z,y;function b(a,b,c,d,g,f,h,n,p){var l;l=this;this.Pa=a;this.app=b;this.Md=c;this.ja=d;this.Ni=g;this.config=f;this.ar=h;this.ff=p;this.vlb=function(){l.$ya.kb(function(){l.update();});};this.clear=function(){l.entries=[];l.update();};this.Wsa=function(){l.Wc.LB=!l.Wc.LB;l.vu&&l.yu&&(l.Wc.LB?(l.vu.style.display="inline-block",l.yu.style.display="none"):(l.yu.style.display="inline-block",l.vu.style.display="none"));l.YC(!1);};this.P$a=function(a){var b;l.entries.push(a);b=l.config.WB;0<=b&&l.entries.length>b&&l.entries.shift();void 0===l.Wc.Rq[a.Ql]&&(l.Wc.Rq[a.Ql]=!0,l.YC(!1));l.Wc.cm&&!l.gya?l.vlb():l.$ya.kb();};this.N0a=function(){k.download("all",l.entries.map(function(a){return a.qK(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.qn=!1;this.Wc={cm:!1,LB:!0,jP:!0,T4:t.Eh.SV,Rq:{}};this.$ya=n(m.mm(1));this.entries=[];}function c(a){var b;this.elements=[];b=document.createElementNS(c.iK,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function k(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(23);n=a(417);p=a(42);l=a(43);m=a(4);q=a(24);A=a(71);t=a(12);x=a(79);w=a(146);z=a(336);a=a(51);k.download=function(a,b){return k.q5a(a).then(function(a){return k.W6a(a,b.join("\r\n")).then(function(a){return k.M0a(a.filename,a.text);});});};k.q5a=function(a){return new Promise(function(b,c){var d,g,f,h,k,n,p;try{d=new Date();g=d.getDate().toString();f=(d.getMonth()+1).toString();h=d.getFullYear().toString();k=d.getHours().toString();n=d.getMinutes().toString();p=d.getSeconds().toString();1===g.length&&(g="0"+g);1===f.length&&(f="0"+f);1===k.length&&(k="0"+k);1===n.length&&(n="0"+n);1===p.length&&(p="0"+p);b(h+f+g+k+n+p+"."+a+".log");}catch(G){c(G);}});};k.W6a=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(P){d(P);}});};k.M0a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(da){return Promise.reject(da);}};c.prototype.eD=function(){var a;a=document.createElementNS(c.iK,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};c.prototype.fD=function(a,b,d){var g;g=document.createElementNS(c.iK,"path");g.setAttribute("d",a);b&&g.setAttribute("fill",b);d&&g.setAttribute("fill-rule",d);this.addElement(g);return this;};c.prototype.WJ=function(a,b,d,g,f){var h;f=void 0===f?"#000000":f;h=document.createElementNS(c.iK,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",d.toString());h.setAttribute("width",g.toString());f&&h.setAttribute("fill",f);this.addElement(h);return this;};c.prototype.jkb=function(){var a;a=document.createElementNS(c.iK,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};c.prototype.end=function(){this.elements.pop();return this;};c.prototype.Vm=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};c.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};oa.Object.defineProperties(c,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Rw:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});c.iK="http://www.w3.org/2000/svg";b.prototype.cd=function(){var a;a=this;this.Ug||(this.Ug=new Promise(function(b){H.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&76==b.keyCode&&a.toggle();});a.Ni.GC(w.nz.uCa,a.P$a);b();}));return this.Ug;};b.prototype.show=function(){document.body&&(this.element||(this.sZa(),this.qn=!0),!this.Wc.cm&&this.element&&(document.body.appendChild(this.element),this.Wc.cm=!0,this.update(!0)));};b.prototype.nx=function(){this.qn&&this.Wc.cm&&this.element&&(document.body.removeChild(this.element),this.Wc.cm=!1);};b.prototype.toggle=function(){this.Wc.cm?this.nx():this.show();};b.prototype.sZa=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.dv=this.QZa());a.appendChild(this.RZa());a.appendChild(this.nZa());this.element=a;}catch(S){console.error("Unable to create the log console",S);}};b.prototype.QZa=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.gya=!0;a.update();a.dv&&(a.dv.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.gya=!1;a.update();a.dv&&(a.dv.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.RZa=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.EZa());a.appendChild(this.zZa());a.appendChild(this.vZa());a.appendChild(this.SZa());a.appendChild(this.qZa());a.appendChild(this.IZa());a.appendChild(this.HZa());a.appendChild(this.xZa());a.appendChild(this.rZa());return a;};b.prototype.nZa=function(){var a,b,c,d,g,f;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");d=this.createElement("SELECT",this.Qo(22,160,1,2),"<option>Select categories</option>");g=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(g);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});f=!1;c.addEventListener("click",function(){f?g.style.display="none":(g.innerHTML="",["all","none"].concat(Object.keys(a.Wc.Rq).sort()).forEach(function(b){g.appendChild(a.oZa(b,c));}),g.style.display="block");f=!f;});return b;};b.prototype.oZa=function(a,b){var c,d,g;c=this;d=this.createElement("LABEL","display: block;margin:1px");d.htmlFor=a;g=this.createElement("INPUT","margin:1px");g.type="checkbox";g.id=a;g.checked=this.Wc.Rq[a];g.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Wc.Rq).forEach(function(b){c.Wc.Rq[b]="all"===a;}),b.click()):c.Wc.Rq[a]=!c.Wc.Rq[a];c.YC(!0);});d.appendChild(g);d.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return d;};b.prototype.EZa=function(){var a,b;a=this;b=this.createElement("SELECT",this.Qo(22,NaN,1,2),'<option value="'+t.Eh.ERROR+'">Error</option>'+('<option value="'+t.Eh.$fa+'">Warn</option>')+('<option value="'+t.Eh.SV+'">Info</option>')+('<option value="'+t.Eh.rX+'">Trace</option>')+('<option value="'+t.Eh.Mp+'">Debug</option>'));b.value=this.Wc.T4.toString();b.addEventListener("change",function(b){a.Wc.T4=parseInt(b.target.value);a.YC(!0);},!1);return b;};b.prototype.zZa=function(){var b,c;function a(a){a=a.target.value;b.Wc.filter=a?new RegExp(a):void 0;b.YC(!0);}b=this;c=this.createElement("INPUT",this.Qo(14,150,1,2));c.value=this.Wc.filter?this.Wc.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.vZa=function(){var a,b,c,d;a=this;b=this.createElement("div",this.Qo(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Wc.jP;c.addEventListener("change",function(b){a.Wc.jP=b.target.checked;a.YC(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};b.prototype.SZa=function(){var a,b,d;a=this;b=this.createElement("BUTTON",this.Qo());d=new c("0 0 24 24").eD().jkb().end().fD("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",c.Rw,"nonzero").end().end().Vm();b.appendChild(d);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.qZa=function(){var a,b;a=this.createElement("BUTTON",this.Qo());b=new c("0 0 24 24").eD().WJ(0,0,24,24,c.background).end().fD("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",c.Rw).end().end().Vm();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.IZa=function(){var a;this.yu=this.createElement("BUTTON",this.Qo());this.yu.style.display=this.Wc.LB?"none":"inline-block";a=new c("0 0 24 24").eD().WJ(0,0,24,24,c.background).end().fD("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",c.Rw,"nonzero").end().end().Vm();this.yu.addEventListener("click",this.Wsa,!1);this.yu.appendChild(a);this.yu.setAttribute("title","Shrink the log console");return this.yu;};b.prototype.HZa=function(){var a;this.vu=this.createElement("BUTTON",this.Qo());this.vu.style.display=this.Wc.LB?"inline-block":"none";a=new c("0 0 24 24").eD().WJ(4,4,16,16,c.background).end().fD("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",c.Rw,"nonzero").end().end().Vm();this.vu.addEventListener("click",this.Wsa,!1);this.vu.appendChild(a);this.vu.setAttribute("title","Expand the log console");return this.vu;};b.prototype.xZa=function(){var a,b;a=this.createElement("BUTTON",this.Qo());b=new c("0 0 26 26").eD().WJ(0,0,24,24,c.background).end().fD("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",c.Rw,"nonzero").end().end().Vm();a.appendChild(b);a.addEventListener("click",this.N0a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.rZa=function(){var a,b,d;a=this;b=this.createElement("BUTTON",this.Qo());d=new c("0 0 24 24").eD().WJ(0,0,24,24,c.background).end().fD("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",c.Rw,"nonzero").end().end().Vm();b.appendChild(d);b.addEventListener("click",function(){a.nx();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.YC=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.BJ&&Promise.resolve(this.EVa()+this.r5a().join("\r\n")).then(function(c){b.element&&b.dv&&(b.dv.value=c,b.element.style.cssText=b.Wc.LB?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ja.yg(m.Eg,function(){b.dv.scrollTop=b.dv.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.r5a=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Wc.T4&&a.Wc.Rq[c.Ql]&&(c=c.qK(!a.Wc.jP,!a.Wc.jP),a.Wc.filter&&!a.Wc.filter.test(c)||b.push(c));});return b;};b.prototype.EVa=function(){var a;a=this.ar();return"Version: 6.0013.845.051 \n"+((a?"Esn: "+a.Tf:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Pa.sg.ma(m.cq)+", Start: "+this.app.eI.ma(m.cq)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,d){return this.Md.createElement(a,b,c,d);};b.prototype.Qo=function(a,b,d,g){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===d?0:d)+"px solid "+c.Rw+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(g?"border-radius:"+g+"px;":"");};y=b;y.Ckb="logDxDisplay";y=f.__decorate([h.O(),f.__param(0,h.l(l.Ri)),f.__param(1,h.l(q.gf)),f.__param(2,h.l(g.He)),f.__param(3,h.l(p.li)),f.__param(4,h.l(x.xv)),f.__param(5,h.l(z.Bca)),f.__param(6,h.l(A.Np)),f.__param(7,h.l(n.Gfa)),f.__param(8,h.l(a.ql))],y);d.YFa=y;},function(f,d,a){var c,k,h,g,n;function b(a,b){a=h.Pd.call(this,a,"LogDisplayConfigImpl")||this;a.Ut=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(38);h=a(39);g=a(27);a=a(167);ja(b,h.Pd);oa.Object.defineProperties(b.prototype,{BJ:{configurable:!0,enumerable:!0,get:function(){return!0;}},WB:{configurable:!0,enumerable:!0,get:function(){return this.Ut.WB;}},Pra:{configurable:!0,enumerable:!0,get:function(){return-1;}}});n=b;f.__decorate([k.config(k.xe,"renderDomDiagnostics")],n.prototype,"BJ",null);f.__decorate([k.config(k.Z3,"logDisplayMaxEntryCount")],n.prototype,"WB",null);f.__decorate([k.config(k.Z3,"logDisplayAutoshowLevel")],n.prototype,"Pra",null);n=f.__decorate([c.O(),f.__param(0,c.l(g.ni)),f.__param(1,c.l(a.YL))],n);d.XFa=n;},function(f,d,a){var c,k;function b(){this.n8="";this.xza=[[],[]];this.V=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a(4);k=a(78);b.prototype.downloadRequest=function(a){var b;""===this.n8&&(this.n8=a.om);if(!a.Vb){b=this.Qlb(a);this.V[a.N].push(b);this.xza[a.N].forEach(function(a){a.Hub(b);});}};b.prototype.Qlb=function(a){return{id:this.A5a(a),om:a.om,N:a.N,Wq:a.Wq,startTime:a.Or,endTime:a.DC,offset:a.kk,$F:a.$F,ZF:a.ZF,duration:a.dr,L:a.L,state:k.A$.dna,oa:a.oa,rS:!1,vyb:!1,Spa:!1,Hwb:k.y$.waiting};};b.prototype.A5a=function(a){return a.Ei();};b.prototype.update=function(a){this.xza[a.N].forEach(function(b){b.kCb(a);});};oa.Object.defineProperties(b.prototype,{om:{configurable:!0,enumerable:!0,get:function(){return this.n8;}}});a=b;a=f.__decorate([c.O()],a);d.kAa=a;},function(f,d,a){var c,k;function b(a){this.I0a=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(339);b.prototype.cd=function(){var a;a=this;this.Ug||(this.Ug=new Promise(function(b,c){var d;d=[];a.I0a.forEach(function(a){d.push(a.cd());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.Ug;};k=b;k=f.__decorate([c.O(),f.__param(0,c.Lx(a.Paa))],k);d.tDa=k;},function(f,d){function a(a){this.is=a;this.C9a="#881391";this.Kkb="#C41A16";this.pVa=this.xcb="#1C00CF";this.M8a="#D79BDB";this.Omb=this.vcb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Vm=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.ju=function(a,c){return'<font color="'+((void 0===c?0:c)?this.M8a:this.C9a)+'">'+a+": </font>";};a.prototype.Aoa=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.ju(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.hpa=function(a,c){var b,d,g;b=this;if(c instanceof CryptoKey)return this.T4a(a,c);d=Object.keys(c);g="";g=g+('<li><a href="#">'+("~~NONAME~~"!==a?this.ju(a):"")+"Object</a>");g=g+"<ul>";d.forEach(function(a){g+=b.getValue(a,c[a]);});g+="</ul>";return g+="</li>";};a.prototype.T4a=function(a,c){a=""+('<li><a href="#">'+this.ju(a)+"CryptoKey</a>");a=a+"<ul>"+this.hpa("algorithm",c.algorithm);a+=this.Foa("extractable",c.extractable);a+=this.vpa("type",c.type);a+=this.Aoa("usages",c.usages);return a+"</ul></li>";};a.prototype.a6a=function(a,c,d){return'<li><a href="#">'+this.ju(a,void 0===d?!1:d)+('<font color="'+this.xcb+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Foa=function(a,c,d){return'<li><a href="#">'+this.ju(a,void 0===d?!1:d)+('<font color="'+this.pVa+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.vpa=function(a,c,d){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.ju(a,void 0===d?!1:d)+('<font color="'+this.Kkb+'">"'+c+'"</font>')+"</a></li>";};a.prototype.$5a=function(a){return'<li><a href="#">'+this.ju(a)+('<font color="'+this.vcb+'">null</font>')+"</a></li>";};a.prototype.f7a=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.ju(a)+('<font color="'+this.Omb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,d){d=void 0===d?!1:d;return null===c?""+this.$5a(a):this.is.Eq(c)?""+this.Aoa(a,c):this.is.yw(c)?""+this.hpa(a,c):this.is.oh(c)?""+this.vpa(a,c,d):this.is.Mf(c)?""+this.a6a(a,c,d):this.is.rA(c)?""+this.Foa(a,c,d):""+this.f7a(a,c);};d.rMa=a;},function(f,d,a){var c,k,h,g,n;function b(a,b,c){var d;d=n.gM.call(this,a,b,"idb")||this;d.ff=c;d.qwa=function(a){d.b0a(a.target.id).then(function(){return d.refresh();});};d.Ucb=function(){d.OWa().then(function(){return d.refresh();});};d.fdb=function(){d.refresh();};d.Wcb=function(){d.GXa();};return d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(23);h=a(21);g=a(155);n=a(338);ja(b,n.gM);b.prototype.cd=function(){var a;a=this;if(this.qn)return Promise.resolve();H.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&73==b.keyCode&&a.toggle();});return this.ff.create().then(function(b){a.storage=b;a.qn=!0;});};b.prototype.L2=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.e3=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"'+b+'"</font>';c=this.Nka.Vm({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+d+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.l3=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.L2(),c=Object.keys(a),d=0;d<c.length;++d)b+=this.e3(d,c[d],a[c[d]]);return b+"</table>";};b.prototype.Noa=function(){var a,b,c;a=this.Md.createElement("button",n.aL,"Clear",{"class":this.prefix+"-display-btn"});b=this.Md.createElement("button",n.aL,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Md.createElement("button",n.aL,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Ucb;b.onclick=this.fdb;c.onclick=this.Wcb;return[a,b,c];};b.prototype.o$a=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.nqa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.nqa;});};b.prototype.b0a=function(a){return this.storage.remove(a);};b.prototype.OWa=function(){return this.storage.removeAll();};b.prototype.Gva=function(){var a;a=this;return this.o$a().then(function(b){return a.l3(b);});};b.prototype.GXa=function(){var a;a=JSON.stringify(this.nqa,null,4);this.Ula(a);};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.He)),f.__param(1,c.l(h.ve)),f.__param(2,c.l(g.VV))],a);d.Zqb=a;},function(f,d,a){var c,k,h,g,n,p,l,m;function b(a){return function(){return new Promise(function(b,c){var d;d=a.ic.get(k.Raa);d.cd().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);c=a(339);a(675);k=a(337);h=a(673);g=a(78);n=a(672);p=a(336);l=a(671);m=a(670);a(669);d.o1a=new f.Xb(function(a){a(p.Bca).to(l.XFa).X();a(c.Paa).to(m.YFa);a(g.x$).to(n.kAa).X();a(k.Raa).to(h.tDa).X();a(k.Qaa).rK(b);});},function(f,d,a){var h,g,n,p;function b(){}function c(a){this.heb=a;}function k(a){this.jeb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(199);n=a(57);p=a(2);k.prototype.ls=function(a){a.map(this.jeb.ls);};a=k;a=f.__decorate([h.O(),f.__param(0,h.l(g.fea))],a);d.GJa=a;c.prototype.ls=function(a){this.heb.ls(a.data);};a=c;a=f.__decorate([h.O(),f.__param(0,h.l(g.cea))],a);d.HJa=a;b.prototype.ls=function(a){if(!a.ha||"string"!==typeof a.ha)throw new n.mc(p.I.As,p.G.us,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.ha);};g=b;g=f.__decorate([h.O()],g);d.KJa=g;},function(f,d,a){var c,k,h,g;function b(a,b,c){this.jG=b;this.uw=c;this.log=a.Fb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(67);k=a(62);h=a(12);a=a(0);b.prototype.x8=function(a,b){var c;c=this.jG(k.Dh.start);return this.Lna(c,a,b);};b.prototype.Twa=function(a){var b,c;b=this;c=this.jG(k.Dh.stop);return this.uw().then(function(d){return c.Di(b.log,d.ku(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.LJ=function(a,b,c){a=this.jG(a);return this.Lna(a,b,c);};b.prototype.Lna=function(a,b,c){var d;d=this;return this.uw().then(function(g){return a.cu(d.log,g.ku(c.profileId),b.Ca.wx,c);}).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};g=b;g=f.__decorate([a.O(),f.__param(0,a.l(h.Qb)),f.__param(1,a.l(k.jV)),f.__param(2,a.l(c.ns))],g);d.AJa=g;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){a=k.Pd.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);g=a(38);n=a(4);a=a(50);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{wC:{configurable:!0,enumerable:!0,get:function(){return this.config.Vl?"unsentplaydatatest":"unsentplaydata";}},v8:{configurable:!0,enumerable:!0,get:function(){return!0;}},Nwa:{configurable:!0,enumerable:!0,get:function(){return n.Pb(1E4);}},A6:{configurable:!0,enumerable:!0,get:function(){return n.Pb(4E3);}},kra:{configurable:!0,enumerable:!0,get:function(){return n.U5(1);}},lra:{configurable:!0,enumerable:!0,get:function(){return n.mm(30);}}});p=b;f.__decorate([g.config(g.string,"playdataPersistKey")],p.prototype,"wC",null);f.__decorate([g.config(g.xe,"sendPersistedPlaydata")],p.prototype,"v8",null);f.__decorate([g.config(g.rj,"playdataSendDelayMilliseconds")],p.prototype,"Nwa",null);f.__decorate([g.config(g.rj,"playdataPersistIntervalMilliseconds")],p.prototype,"A6",null);f.__decorate([g.config(g.rj,"heartbeatCooldown")],p.prototype,"kra",null);f.__decorate([g.config(g.rj,"keepAliveWindow")],p.prototype,"lra",null);p=f.__decorate([c.O(),f.__param(0,c.l(h.ni)),f.__param(1,c.l(a.tl))],p);d.nKa=p;},function(f,d,a){var h,g,n,p,l,m,q,A,t,x,w,z,y;function b(a,b,d,g,f,h,k,n){this.config=a;this.ja=d;this.Cp=g;this.hy=f;this.oS=h;this.zh=k;this.tx=Promise.resolve();this.closed=!1;this.log=b.Fb("PlaydataServices");this.Ju=[];this.active=[];this.Ghb=new c(a,n);}function c(a,b){this.config=a;this.Pa=b;}function k(a,b,c,d,g,f){this.log=a;this.ja=b;this.j=c;this.Zj=d;this.Cp=g;this.Ceb=f;this.bG=!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(12);n=a(42);p=a(220);l=a(342);m=a(22);q=a(341);A=a(2);t=a(200);x=a(340);w=a(128);z=a(43);a=a(63);k.prototype.KR=function(a,b){var d;function c(){var a;a=d.Zj.Ot(d.j,!1);d.Cp.M9(a)["catch"](function(a){d.log.error("Unable to schedule playdata changes",a);});}d=this;this.log.trace("Adding initial playdata",b);this.Cp.tTa(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.qp=d.ja.Cwa(a,c);})["catch"](function(g){d.log.error("Unable to add playdata",{error:g,playdata:new t.PW().encode(b)});d.qp=d.ja.Cwa(a,c);});};k.prototype.stop=function(a){var b,c;b=this;if(this.bG)return Promise.resolve();this.qp.cancel();c=this.Zj.Ot(this.j,!1);return this.Cp.M9(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.j.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.Ceb.Twa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Cp.Mva(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};k.prototype.cancel=function(){this.bG=!0;this.qp.cancel();this.Cp.M9(this.Zj.Ot(this.j,!1));};oa.Object.defineProperties(c.prototype,{jWa:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Pa.sg;return!this.tx||0<=a.Kd(this.tx).Tk(this.config.lra)?(this.tx=a,!0):!1;}}});d.Gsb=c;b.prototype.cd=function(){var a;a=this;this.Ug||(this.log.trace("Starting playdata services"),this.Ug=this.Cp.fgb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Ug;};b.prototype.close=function(){this.closed=!0;this.Ju.forEach(function(a){a.KR.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.wC&&b.v8?this.vib(a):Promise.resolve();};b.prototype.gkb=function(a){this.closed||this.hkb(a);};b.prototype.tkb=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=[];d=this.hy.Ot(a,!1);this.active=this.active.filter(function(a){return a!==d.ha;});a=this.Ju.filter(function(a){return a.key===d.ha.toString();}).map(function(a){c.push(a);a.Pxa=!0;return a.KR.stop(b.config.v8);});return Promise.all(a).then(function(){c.forEach(function(a){return b.Ju.splice(b.Ju.indexOf(a),1);});});};b.prototype.hkb=function(a){var b;b=this;a.addEventListener(m.ya.yC,function(){b.Kxa(a);});a.background||a.addEventListener(m.ya.Cra,function(){b.Kxa(a);});a.addEventListener(m.ya.yC,function(){b.x8(a);});a.addEventListener(m.ya.yC,function(){b.fkb(a);},1);a.addEventListener(m.ya.iG,function(){b.skb();});a.addEventListener(m.ya.oza,function(){b.Aib(a);});a.Nc.addListener(function(){a.jb.hP?b.log.trace("stickiness is disabled for timedtext"):b.Swa(a);});a.vd.addListener(function(){a.jb.hP?b.log.trace("stickiness is disabled for audio"):b.Swa(a);});};b.prototype.Kxa=function(a){var b,c;a.Yd("pdb");if(this.config.A6.Wqa()){b=this.hy.Ot(a,!1);c=b.ha;0<=this.Ju.findIndex(function(a){return a.key===c;})?this.log.trace("Already collecting online playdata, ignoring",b):(this.log.info("Starting to collect online playdata",b),this.active.push(c),this.Ju.push({key:c,KR:this.T5a(a,b),Ey:!1,Pxa:!1}));}};b.prototype.vib=function(a){var b,c,d,g;b=this;c=this.Cp.nS.filter(function(a){return 0>b.active.indexOf(a.ha);});d=void 0;g=void 0;a&&Infinity===a?d=c:(c=Ba(w.dJ(function(b){return b.M===a;},c)),d=c.next().value,g=c.next().value);g&&0<g.length&&this.ja.yg(this.config.Nwa,function(){b.Rwa(g);});return d&&0!==d.length?this.Rwa(d):Promise.resolve();};b.prototype.Rwa=function(a){var b;b=this;return a.map(function(a){return function(){return b.oS.Twa(a).then(function(){return b.Xgb(a);});};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve());};b.prototype.Xgb=function(a){var b;b=this;return this.Cp.Mva(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.T5a=function(a,b){a=new k(this.log,this.ja,a,this.hy,this.Cp,this.oS);a.KR(this.config.A6,b);return a;};b.prototype.x8=function(a){var b,c;b=this;c=this.hy.Ot(a,!0);this.oS.x8(a,c).then(function(){b.Ju.filter(function(b){return b.key===a.ha.toString();}).forEach(function(a){a.Ey=!0;});})["catch"](function(d){b.log.error("Start command failed",{playdata:c,error:d});return a.jd(b.zh(A.I.$ea,d));});};b.prototype.Aib=function(a){this.Ghb.jWa&&this.LJ(x.OW.bI,a,A.I.ZV)["catch"](function(){});};b.prototype.Swa=function(a){this.LJ(x.OW.splice,a,A.I.Zea)["catch"](function(){});};b.prototype.LJ=function(a,b,c){var g;function d(a){var b;b=g.Ju.filter(function(b){return b.key===a.ha.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.Pxa||!b.Ey;},!1);}g=this;return d(b)?this.tx:this.tx=this.tx["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();c=g.hy.Ot(b,!1);return g.oS.LJ(a,b,c);}).then(function(a){return a;})["catch"](function(d){g.log.error("Failed to send event",{eventKey:a,xid:b.ha,error:d});d.Sf&&b.jd(g.zh(c,d));d.gp===A.rW.vX&&b.jd(g.zh(c,d));throw d;});};b.prototype.fkb=function(a){this.Jjb(a)&&this.U8(this.config.kra,a);};b.prototype.U8=function(a,b){var c;c=this;this.c0();this.t4=this.ja.yg(a,function(){c.c0();c.LJ(x.OW.bI,b,A.I.ZV).then(function(){c.U8(a,b);})["catch"](function(d){d.gp===A.rW.vX&&c.U8(a,b);});});};b.prototype.skb=function(){this.c0();};b.prototype.Jjb=function(a){return a.state.value==m.fh.aq;};b.prototype.c0=function(){this.t4&&(this.t4.cancel(),this.t4=void 0);};y=b;y=f.__decorate([h.O(),f.__param(0,h.l(q.yea)),f.__param(1,h.l(g.Qb)),f.__param(2,h.l(n.li)),f.__param(3,h.l(l.Vda)),f.__param(4,h.l(p.QW)),f.__param(5,h.l(x.Xda)),f.__param(6,h.l(a.Dj)),f.__param(7,h.l(z.Ri))],y);d.JJa=y;},function(f,d,a){var h,g,n,p,l,m,q,A,t,x;function b(){}function c(){}function k(a,c,d,g,f){var h;h=this;this.is=a;this.ff=c;this.config=d;this.ar=g;this.ieb=f;this.Ap=function(){return new b().encode({version:h.version,data:h.nS});};this.bnb=function(a){a=h.N9(a);h.ieb.ls(a);return a;};this.N9=function(a){if(h.is.yi(a))return h.dnb(a);if(void 0!=a.version&&h.is.Mf(a.version)&&1==a.version)return h.enb(a);if(void 0!=a.version&&h.is.Mf(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Mf(a.version))throw new l.mc(n.I.As,n.G.U$,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new l.mc(n.I.As,n.G.us,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.rm=new m.gca(2,this.config().Hua,""!==this.config().Hua&&0<this.config().Leb,this.ff,this.Ap);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(25);n=a(2);p=a(21);l=a(57);m=a(454);q=a(51);A=a(71);t=a(200);a=a(199);k.prototype.fgb=function(){return this.rm.load(this.bnb)["catch"](function(a){throw new l.mc(n.I.As,a.T||a.Gb,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};k.prototype.tTa=function(a){return this.rm.add(a);};k.prototype.Mva=function(a){return this.rm.remove(a,function(a,b){return a.ha===b.ha;});};k.prototype.M9=function(a){return this.rm.update(a,function(a,b){return a.ha===b.ha;});};k.prototype.toString=function(){return JSON.stringify(this.Ap(),null,"  ");};k.prototype.dza=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.ar().Tf:"";};k.prototype.O9=function(a){return a.map(function(a){return{ad:a.downloadableId,duration:a.duration};});};k.prototype.eza=function(a){return a?{total:a.playTimes.total,audio:this.O9(a.playTimes.audio||[]),video:this.O9(a.playTimes.video||[]),text:this.O9(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};k.prototype.dnb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.dza(a.playbackContextId),ha:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,hG:a.timestamp,NJ:a.playback?1E3*a.playback.startEpoch:-1,Fx:a.mediaId,iJ:this.eza(a.playback),ec:"",Bh:{dummy:"dummy"}};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.ff.create().then(function(a){a.save(b.config().QG,d,!1);});if(!c.profileId||""===c.href||""===c.ha)throw new l.mc(n.I.As,n.G.us);return{version:2,data:[c]};};k.prototype.enb=function(a){var b;b=this;if(!a.playdata||!this.is.Eq(a.playdata))throw new l.mc(n.I.As,n.G.us,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.dza(a.playbackContextId),ha:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,hG:a.timestamp,NJ:a.playback?1E3*a.playback.startEpoch:-1,Fx:a.mediaId,iJ:b.eza(a.playback),ec:"",Bh:{dummy:"dummy"}};});}(a.playdata)};};oa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.rm.version;}},nS:{configurable:!0,enumerable:!0,get:function(){return this.rm.Fo;}}});x=k;x=f.__decorate([h.O(),f.__param(0,h.l(p.ve)),f.__param(1,h.l(q.ql)),f.__param(2,h.l(g.Ef)),f.__param(3,h.l(A.Np)),f.__param(4,h.l(a.dea))],x);d.wJa=x;c.prototype.encode=function(a){var b;b=new t.PW();return a.map(b.encode);};c.prototype.decode=function(a){var b;b=new t.PW();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new c().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new c().decode(a.data)};};},function(f,d,a){var c,k,h,g,n,p,l,m,q,A,t,x;function b(a){return function(){return a.ic.get(c.eea).cd();};}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);c=a(124);k=a(220);h=a(200);g=a(342);n=a(681);p=a(680);l=a(341);m=a(679);q=a(340);A=a(678);t=a(199);x=a(677);d.nS=new f.Xb(function(a){a(l.yea).to(m.nKa).X();a(k.QW).to(h.IJa).X();a(g.Vda).to(n.wJa).X();a(c.eea).to(p.JJa).X();a(c.XL).rK(b);a(q.Xda).to(A.AJa).X().MK();a(t.fea).to(x.KJa).X();a(t.cea).to(x.GJa).X();a(t.dea).to(x.HJa).X();});},function(f,d,a){var c,k,h;function b(a){var b;b=h.nL.call(this)||this;b.Md=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(23);h=a(357);ja(b,h.nL);b.prototype.decode=function(a){return{M:a.movieId,gm:a.packageId,Ph:a.drmType,c1a:a.drmVersion,H2a:a.expiration,vWa:this.j_a(a.cdnResponseData),media:this.r_a(a.media),duration:a.duration,Qe:a.playbackContextId,Hma:this.m_a(a.defaultTrackOrderList),lj:a.drmContextId,I7a:a.hasDrmProfile,G7a:a.hasClearProfile,uya:this.x_a(a.timedtexttracks),Gya:this.A_a(a.trickplays),p_:this.i_a(a.audio_tracks),lU:this.F_a(a.video_tracks),sm:this.zma(a.servers),pj:this.p_a(a.locations),t9a:a.isUsingLegacyBatchingAPI,y_:a.bookmark,Qpa:a.hasDrmStreams,H7a:a.hasClearStreams,links:a.links,JWa:this.k_a(a.choiceMap),hb:a.initialHeader,Tnb:this.G_a(a.watermarkInfo),De:a.isBranching,W0a:a.dpsid,Mnb:a.viewableType,NB:a.isSupplemental,rla:a.clientIpAddress};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.gm,drmType:a.Ph,drmVersion:a.c1a,expiration:a.H2a,cdnResponseData:this.P1a(a.vWa),media:this.X1a(a.media),duration:a.duration,playbackContextId:a.Qe,defaultTrackOrderList:this.S1a(a.Hma),drmContextId:a.lj,timedtexttracks:this.c2a(a.uya),trickplays:this.g2a(a.Gya),audio_tracks:this.O1a(a.p_),video_tracks:this.l2a(a.lU),servers:this.wna(a.sm),locations:this.V1a(a.pj),isUsingLegacyBatchingAPI:a.t9a,bookmark:a.y_,hasDrmProfile:a.I7a,hasClearProfile:a.G7a,hasDrmStreams:a.Qpa,hasClearStreams:a.H7a,links:a.links,choiceMap:this.Q1a(a.JWa),initialHeader:a.hb,watermarkInfo:this.m2a(a.Tnb),isBranching:a.De,dpsid:a.W0a,viewableType:a.Mnb,isSupplemental:a.NB,clientIpAddress:a.rla};};b.prototype.G_a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.m2a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.k_a=function(a){var b;b=this;return a&&{PH:a.initialSegment,type:a.type,te:a.viewableId,Re:this.aB(a.segments,function(a){return{xp:a.startTimeMs,bB:a.endTimeMs,bP:a.defaultNext,next:b.aB(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.Q1a=function(a){var b;b=this;return a&&{initialSegment:a.PH,type:a.type,viewableId:a.te,segments:this.aB(a.Re,function(a){return{startTimeMs:a.xp,endTimeMs:a.bB,defaultNext:a.bP,next:b.aB(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.j_a=function(a){return{gS:a.pbcid,Su:a.sessionABTestCell};};b.prototype.P1a=function(a){return{pbcid:a.gS,sessionABTestCell:a.Su};};b.prototype.r_a=function(a){return this.sf(a,this.q_a);};b.prototype.X1a=function(a){return this.sf(a,this.W1a);};b.prototype.q_a=function(a){return{C9:this.y_a(a.tracks),id:a.id};};b.prototype.W1a=function(a){return{tracks:this.e2a(a.C9),id:a.id};};b.prototype.y_a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,Dfa:a.TEXT};};b.prototype.e2a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.Dfa};};b.prototype.m_a=function(a){return this.sf(a,this.l_a);};b.prototype.S1a=function(a){return this.sf(a,this.R1a);};b.prototype.l_a=function(a){return{yA:a.audioTrackId,Fx:a.mediaId,Knb:a.videoTrackId,Vxa:a.subtitleTrackId,cfb:a.preferenceOrder};};b.prototype.R1a=function(a){return{audioTrackId:a.yA,mediaId:a.Fx,videoTrackId:a.Knb,subtitleTrackId:a.Vxa,preferenceOrder:a.cfb};};b.prototype.x_a=function(a){return this.sf(a,this.w_a);};b.prototype.c2a=function(a){return this.sf(a,this.b2a);};b.prototype.w_a=function(a){return this.Md.sj(this.a1(a),{type:a.type,Kya:this.v_a(a.ttDownloadables),DS:a.rawTrackType,PB:a.languageDescription,language:a.language,id:a.id,ZQ:a.isNoneTrack,UQ:a.isForcedNarrative,cna:a.downloadableIds,dla:this.zma(a.cdnlist),$H:a.isLanguageLeftToRight});};b.prototype.b2a=function(a){return this.Md.sj(this.C1(a),{type:a.type,ttDownloadables:this.a2a(a.Kya),rawTrackType:a.DS,languageDescription:a.PB,language:a.language,id:a.id,isNoneTrack:a.ZQ,isForcedNarrative:a.UQ,downloadableIds:a.cna,cdnlist:this.wna(a.dla),trackType:a.fi,new_track_id:a.An,isLanguageLeftToRight:a.$H});};b.prototype.v_a=function(a){return this.aB(a,this.u_a);};b.prototype.a2a=function(a){return this.aB(a,this.$1a);};b.prototype.u_a=function(a){return{cr:a.downloadUrls,N7a:a.hashAlgo,O7a:a.hashValue,height:a.height,width:a.width,$8a:a.isImage,CI:a.midxOffset,BR:a.midxSize,size:a.size,tlb:a.textKey};};b.prototype.$1a=function(a){return{downloadUrls:a.cr,hashAlgo:a.N7a,hashValue:a.O7a,height:a.height,width:a.width,isImage:a.$8a,midxOffset:a.CI,midxSize:a.BR,size:a.size,textKey:a.tlb};};b.prototype.A_a=function(a){if(a)return this.sf(a,this.z_a);};b.prototype.g2a=function(a){if(a)return this.sf(a,this.f2a);};b.prototype.z_a=function(a){return{interval:a.interval,Bua:a.pixelsAspectY,Aua:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,XA:a.downloadable_id,Gc:a.urls,id:a.id};};b.prototype.f2a=function(a){return{interval:a.interval,pixelsAspectY:a.Bua,pixelsAspectX:a.Aua,width:a.width,height:a.height,size:a.size,downloadable_id:a.XA,urls:a.Gc,id:a.id};};b.prototype.i_a=function(a){return this.sf(a,this.h_a);};b.prototype.O1a=function(a){return this.sf(a,this.N1a);};b.prototype.h_a=function(a){return this.Md.sj(this.a1(a),{id:a.id,Lb:this.g_a(a.streams),fi:a.trackType,Uj:a.channels,language:a.language,V_:a.channelsFormat,h9:a.surroundFormatLabel,PB:a.languageDescription,isNative:a.isNative,E0a:a.disallowedSubtitleTracks,uK:a.track_id,R_a:a.defaultTimedText,c7:a.profileType,type:a.type,Y8:a.stereo,profile:a.profile,i0:a.codecName,DS:a.rawTrackType});};b.prototype.N1a=function(a){return this.Md.sj(this.C1(a),{id:a.id,streams:this.M1a(a.Lb),trackType:a.fi,channels:a.Uj,language:a.language,channelsFormat:a.V_,surroundFormatLabel:a.h9,languageDescription:a.PB,isNative:a.isNative,disallowedSubtitleTracks:a.E0a,track_id:a.uK,defaultTimedText:a.R_a,profileType:a.c7,type:a.type,stereo:a.Y8,profile:a.profile,codecName:a.i0,rawTrackType:a.DS});};b.prototype.F_a=function(a){return this.sf(a,this.E_a);};b.prototype.l2a=function(a){return this.sf(a,this.k2a);};b.prototype.E_a=function(a){return this.Md.sj(this.a1(a),{type:a.type,Lb:this.D_a(a.streams),Be:a.drmHeader&&this.yma(a.drmHeader),l1:a.dimensionsCount,m1:a.dimensionsLabel,r8a:a.ict,pab:a.maxCroppedHeight,qab:a.maxCroppedWidth,rab:a.maxCroppedX,sab:a.maxCroppedY,c7:a.profileType,Y8:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,yua:a.pixelAspectX,zua:a.pixelAspectY,profile:a.profile,Fab:a.max_framerate_value,Eab:a.max_framerate_scale,nbb:a.minCroppedHeight,obb:a.minCroppedWidth,pbb:a.minCroppedX,qbb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,X6:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.yma),gH:a.flavor,uK:a.track_id});};b.prototype.k2a=function(a){return this.Md.sj(this.C1(a),{type:a.type,streams:this.j2a(a.Lb),drmHeader:a.Be&&this.vna(a.Be),dimensionsCount:a.l1,dimensionsLabel:a.m1,ict:a.r8a,maxCroppedHeight:a.pab,maxCroppedWidth:a.qab,maxCroppedX:a.rab,maxCroppedY:a.sab,profileType:a.c7,stereo:a.Y8,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.yua,pixelAspectY:a.zua,profile:a.profile,max_framerate_value:a.Fab,max_framerate_scale:a.Eab,minCroppedHeight:a.nbb,minCroppedWidth:a.obb,minCroppedX:a.pbb,minCroppedY:a.qbb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.X6&&a.X6.map(this.vna),flavor:a.gH,track_id:a.uK});};b.prototype.yma=function(a){return{$:a.bytes,HWa:a.checksum,cI:a.keyId};};b.prototype.vna=function(a){return{bytes:a.$,checksum:a.HWa,keyId:a.cI};};b.prototype.a1=function(a){return{fi:a.trackType,An:a.new_track_id,type:a.type};};b.prototype.C1=function(a){return{trackType:a.fi,new_track_id:a.An,type:a.type};};b.prototype.g_a=function(a){return this.sf(a,this.f_a);};b.prototype.M1a=function(a){return this.sf(a,this.L1a);};b.prototype.f_a=function(a){return{KA:a.content_profile,fi:a.trackType,L:a.bitrate,size:a.size,el:a.isDrm,XA:a.downloadable_id,type:a.type,d6:a.new_stream_id,Gc:this.Ama(a.urls),Uj:a.channels,V_:a.channelsFormat,h9:a.surroundFormatLabel,language:a.language,FUa:a.audioKey};};b.prototype.L1a=function(a){return{content_profile:a.KA,trackType:a.fi,bitrate:a.L,size:a.size,isDrm:a.el,downloadable_id:a.XA,type:a.type,new_stream_id:a.d6,urls:this.xna(a.Gc),channels:a.Uj,channelsFormat:a.V_,surroundFormatLabel:a.h9,language:a.language,audioKey:a.FUa};};b.prototype.D_a=function(a){return this.sf(a,this.C_a);};b.prototype.j2a=function(a){return this.sf(a,this.i2a);};b.prototype.C_a=function(a){return{KA:a.content_profile,fi:a.trackType,L:a.bitrate,size:a.size,el:a.isDrm,XA:a.downloadable_id,type:a.type,d6:a.new_stream_id,Gc:this.Ama(a.urls),leb:a.peakBitrate,l1:a.dimensionsCount,m1:a.dimensionsLabel,web:a.pix_w,veb:a.pix_h,$va:a.res_w,Zva:a.res_h,toa:a.framerate_value,soa:a.framerate_scale,dkb:a.startByteOffset,Hb:a.vmaf,mma:a.crop_x,nma:a.crop_y,kma:a.crop_h,lma:a.crop_w};};b.prototype.i2a=function(a){return{content_profile:a.KA,trackType:a.fi,bitrate:a.L,size:a.size,isDrm:a.el,downloadable_id:a.XA,type:a.type,new_stream_id:a.d6,urls:this.xna(a.Gc),peakBitrate:a.leb,dimensionsCount:a.l1,dimensionsLabel:a.m1,pix_w:a.web,pix_h:a.veb,res_w:a.$va,res_h:a.Zva,framerate_value:a.toa,framerate_scale:a.soa,startByteOffset:a.dkb,vmaf:a.Hb,crop_x:a.mma,crop_y:a.nma,crop_h:a.kma,crop_w:a.lma};};b.prototype.Ama=function(a){return this.sf(a,this.B_a);};b.prototype.xna=function(a){return this.sf(a,this.h2a);};b.prototype.B_a=function(a){return{url:a.url,cla:a.cdn_id};};b.prototype.h2a=function(a){return{url:a.url,cdn_id:a.cla};};b.prototype.zma=function(a){return this.sf(a,this.t_a);};b.prototype.wna=function(a){return this.sf(a,this.Z1a);};b.prototype.t_a=function(a){return{id:a.id,key:a.key,$ra:a.lowgrade,name:a.name,zd:a.rank,type:a.type,L0a:this.n_a(a.dns)};};b.prototype.Z1a=function(a){return{id:a.id,key:a.key,lowgrade:a.$ra,name:a.name,rank:a.zd,type:a.type,dns:this.T1a(a.L0a)};};b.prototype.n_a=function(a){if(a)return{host:a.host,O8a:a.ipv4,P8a:a.ipv6,L3a:a.forceLookup};};b.prototype.T1a=function(a){if(a)return{host:a.host,ipv4:a.O8a,ipv6:a.P8a,forceLookup:a.L3a};};b.prototype.p_a=function(a){return this.sf(a,this.o_a);};b.prototype.V1a=function(a){return this.sf(a,this.U1a);};b.prototype.o_a=function(a){return{key:a.key,zd:a.rank,weight:a.weight,level:a.level};};b.prototype.U1a=function(a){return{key:a.key,rank:a.zd,weight:a.weight,level:a.level};};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.He))],a);d.GGa=a;},function(f,d,a){var c,k,h,g,n,p,l,m;function b(a,b,c,d,g,f,h){this.XSa=a;this.Pgb=b;this.ar=d;this.I4=g;this.Xva=f;this.iwa=h;this.ba=c.Fb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);h=a(347);a(346);g=a(71);n=a(345);p=a(102);l=a(344);a=a(343);b.prototype.uA=function(a,b){var c,d;c=this;d=this.Xva.emb(a);return this.XSa.cu(this.ba,b.profile,this.g4a(a),d).then(function(a){a.map(function(a){return a.bzb;});return c.iwa.fmb(a);})["catch"](function(a){c.ba.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.Xva.hmb(a);return this.Pgb.Di(this.ba,b.profile,a).then(function(a){return c.iwa.imb(a);})["catch"](function(a){c.ba.error("PBO release license failed",a);return Promise.reject(a);});};b.prototype.g4a=function(a){var b;b=this.I4();b.iO({ldl:{href:this.Lka(a,"limited"),rel:"ldl"},license:{href:this.Lka(a,"standard"),rel:"license"}});return b;};b.prototype.Lka=function(a,b){return"/license?licenseType="+b+"&playbackContextId="+a.Qe+"&esn="+this.ar().Tf;};m=b;m=f.__decorate([c.O(),f.__param(0,c.l(h.Uda)),f.__param(1,c.l(n.gea)),f.__param(2,c.l(k.Qb)),f.__param(3,c.l(g.Np)),f.__param(4,c.l(p.wz)),f.__param(5,c.l(l.Yda)),f.__param(6,c.l(a.Zda))],m);d.SFa=m;},function(f,d,a){var c,k,h,g,n,p;function b(a,b,c){this.dab=a;this.uw=c;this.ba=b.Fb("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(16);h=a(14);g=a(348);n=a(12);a=a(67);b.prototype.rB=function(a,b){var c;c=this;return this.uw().then(function(d){return c.dab.cu(c.ba,d.profile,b,a);})["catch"](function(a){c.ba.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.Ala=function(a,b){var c;c={};a&&k.xc(a,function(a,b){c[a]=h.Gd(b)?b:JSON.stringify(b);});b&&k.xc(b,function(a,b){c[a]=h.Gd(b)?b:JSON.stringify(b);});return c;};p=b;p=f.__decorate([c.O(),f.__param(0,c.l(g.bea)),f.__param(1,c.l(n.Qb)),f.__param(2,c.l(a.ns))],p);d.KGa=p;},function(f,d,a){var c,k,h;function b(a){this.I4=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(102);h=a(208);b.prototype.decode=function(a){var b;b=this.G6a(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.T2(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.a5a(a),timedtexttracks:this.Y6a(a.textTracks,b),media:this.sB(a.media),trickplays:this.c7a(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.o5a(a),initialHeader:void 0};b.wy=a.wy;b.IC=a.IC;b.wx=this.I4();b.wx.yja(b);return b;};b.prototype.a5a=function(a){var b,c,d;b=Ba(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.T2=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.G6a=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Fpa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.n4a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.n4a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Fpa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.i7a(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.i7a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Fpa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.Y6a=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.U6a(a.downloadables),ttDownloadables:c.V6a(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.U6a=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.l6a=function(a){var b;b=h.qX.a3();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(kb(a.map(function(a){return a.pixHeight;}))));};b.prototype.V6a=function(a){var b;if(a){b=this.l6a(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.sB=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.c7a=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.o5a=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.wz))],a);d.LGa=a;},function(f,d,a){var c,k,h,g,n,p,l,m,q,A,t,x;function b(a,b,c,d,g,f,h,k){this.eb=a;this.Md=c;this.Jq=d;this.snb=g;this.bc=f;this.yra=h;this.uw=k;this.ba=b.Fb("DrmProvider");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(24);h=a(23);g=a(49);n=a(158);p=a(12);l=a(126);m=a(67);q=a(227);A=a(91);t=a(372);a=a(147);b.prototype.Wd=function(a){var b,c;b=this;c=this.eb.Ud();return this.uw().then(function(d){return b.Md.Mt(a.Tj[0].data,[8,4])?{$b:[{id:"ddd",uu:"cert",UB:void 0}],ur:[{sessionId:"ddd",data:new Uint8Array(b.Jq.decode(t.aga))}],v1:b.eb.Ud().Kd(c)}:b.Md.Mt(a.Tj[0].data,b.snb.decode("certificate"))?{$b:[{id:"ddd",uu:"cert",UB:void 0}],ur:[{sessionId:"ddd",data:new Uint8Array(b.Jq.decode(t.VDa))}],v1:b.eb.Ud().Kd(c)}:b.yra.uA(b.U3a(a),b.wH(d)).then(function(a){return b.V3a(c,a);});});};b.prototype.release=function(a){var b;b=this;return this.uw().then(function(c){return b.yra.release(b.W3a(a),b.wH(c)).then(function(c){return b.X3a(c,a);});});};b.prototype.U3a=function(a){var b;b=this;return{ha:a.ha,Qe:a.Qe,mP:a.mP,tg:A.Ara(a.tg),Ph:q.YU[a.Ph],Tj:a.Tj.map(function(a){return{sessionId:a.sessionId,dataBase64:b.Jq.encode(a.data)};}),yI:a.yI};};b.prototype.W3a=function(a){var b;b={};a.Lt&&a.$b[0].id&&(b[a.$b[0].id]=this.Jq.encode(a.Lt));return a&&a.Lt?{ha:a.ha,$b:a.$b,gib:b}:{ha:a.ha,$b:a.$b};};b.prototype.V3a=function(a,b){return{$b:b.$b,ur:b.ur,v1:this.eb.Ud().Kd(a)};};b.prototype.X3a=function(a,b){return a&&a.response&&a.response.data&&b.$b[0].id&&(a=a.response.data[b.$b[0].id])?{response:this.Jq.decode(a)}:{};};b.prototype.wH=function(a){return{log:this.ba,bc:this.bc,profile:a.profile};};x=b;x=f.__decorate([c.O(),f.__param(0,c.l(k.gf)),f.__param(1,c.l(p.Qb)),f.__param(2,c.l(h.He)),f.__param(3,c.l(g.Bk)),f.__param(4,c.l(n.mM)),f.__param(5,c.l(l.eE)),f.__param(6,c.l(a.fE)),f.__param(7,c.l(m.ns))],x);d.oDa=x;},function(f,d,a){var c,k,h,g,n,p,l;function b(a,b,c,d){this.is=b;this.bc=c;this.IO=d;this.log=a.Fb("IdentityProvider");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(12);g=a(21);n=a(57);p=a(126);a=a(349);b.prototype.ping=function(a,b){var c;c=this;return this.IO.Zma?new Promise(function(d,g){c.IO.Zma(c.wH(a,b)).then(function(){d();})["catch"](function(a){g(new n.mc(k.I.GW,a.T,a.Ab,a.eB,a.au,a.Sf,a.Ea,a.Wl));});}):Promise.reject(new n.mc(k.I.GW,k.G.Rda));};b.prototype.yx=function(a,b){var c;c=this;return this.IO.yx?new Promise(function(d,g){c.IO.yx(c.wH(a,b)).then(function(a){d({yt:a.yt,Xg:a.Xg,Gi:a.Gi});})["catch"](function(a){g(new n.mc(k.I.dE,a.T,a.Ab,a.eB,a.au,a.Sf,a.Ea,a.Wl));});}):Promise.reject(new n.mc(k.I.dE,k.G.Rda));};b.prototype.wH=function(a,b){a={log:this.log,bc:this.bc,profile:a};this.X8a(b)&&(a.bx=b.bx,a.password=b.password);this.is.rA(b)&&(a.useNetflixUserAuthData=b);this.is.yi(b)&&(a.Xg=b);return a;};b.prototype.X8a=function(a){return void 0===a?!1:this.is.eO(a)?this.is.yi(a.bx):!1;};l=b;l=f.__decorate([c.O(),f.__param(0,c.l(h.Qb)),f.__param(1,c.l(g.ve)),f.__param(2,c.l(p.eE)),f.__param(3,c.l(a.oaa))],l);d.vFa=l;},function(f,d,a){var b,c,k,h,g,n,p,l,m,q,A,t;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(349);c=a(429);k=a(688);h=a(428);g=a(687);n=a(686);p=a(153);l=a(685);m=a(201);q=a(147);A=a(684);t=a(683);d.Ifb=new f.Xb(function(a){a(b.oaa).sD(function(){return H._cad_global.controlProtocol;});a(c.hca).to(k.vFa).X();a(h.Laa).to(g.oDa).X();a(p.gW).to(n.LGa).X();a(p.Rca).to(t.GGa).X();a(m.fW).to(l.KGa).X();a(q.fE).to(A.SFa).X();});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.lzb=function(a){return a;};d.cab=function(a){return a;};d.mzb=function(a){return Object.assign({},a);};},function(f,d,a){var c,k,h,g,n,p,l,m,q;function b(a,b,c){this.Pa=a;this.dob=b;this.performance=c;k.gk(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(47);h=a(690);g=a(34);n=a(44);p=a(43);l=a(0);m=a(353);q=a(4);b.prototype.get=function(a,b,d){var f;f=this;return new Promise(function(h,k){var n,p,l;try{n=f.dob.create();"withCredentials"in n||k(Error("Missing CORS support"));n.open("GET",a,!0);b&&(n.withCredentials=!0);d&&(n.timeout=d.ma(q.Ia));p=f.Pa.sg;l=void 0;n.onreadystatechange=function(){var b;switch(n.readyState){case XMLHttpRequest.HEADERS_RECEIVED:l=f.Pa.sg.Kd(p);break;case XMLHttpRequest.DONE:b=f.Pa.sg.Kd(p);h({body:n.responseText,status:n.status,headers:c.Pdb(n.getAllResponseHeaders()),Ec:f.R5a(a,g.$(n.responseText.length),b,l)});}};n.send();}catch(da){k(da);}});};b.Pdb=function(a){var b,d,g;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){d=a[c];g=d.indexOf(": ");0<g&&(b[d.substring(0,g).toLowerCase()]=d.substring(g+2));}return b;};b.prototype.R5a=function(a,b,c,d){b={size:b,duration:c,u9:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=h.cab(b);a.H_a&&(b.size=g.$(a.H_a));0<a.duration?b.duration=q.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=q.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.Wma=q.timestamp(a.domainLookupEnd-a.domainLookupStart),b.o9=q.timestamp(a.connectEnd-a.connectStart),b.u9=q.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.x9=q.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.x9=q.timestamp(c),b.o9=q.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=c=b;a=c=f.__decorate([l.O(),f.__param(0,l.l(p.Ri)),f.__param(1,l.l(m.ega)),f.__param(2,l.l(n.SW)),f.__param(2,l.optional())],a);d.xEa=a;},function(f,d,a){var c,k,h,g,n;function b(a,b){this.is=a;this.json=b;k.gk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(47);h=a(44);g=a(4);a=a(21);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.eO(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.tA(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.tA(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(!this.is.tA(a.pulse_delay))throw Error("FtlProbe: param.pulse_delay: not a positive integer");if(!this.is.tA(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Eq(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.yi(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.yw(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.eO(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.oh(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.oh(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Qfb:a.pulses,Ofb:g.Pb(a.pulse_delay),Pfb:g.Pb(a.pulse_timeout),jra:a.next?g.Pb(a.next):void 0,Gc:a.urls,V4:a.logblob,context:a.ctx};};n=b;n=f.__decorate([c.O(),f.__param(0,c.l(a.ve)),f.__param(1,c.l(h.Bs))],n);d.bEa=n;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){this.qj=a;this.Hx=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(34);g=a(4);n=a(61);a=a(104);b.prototype.CJ=function(a){a=this.Hx.Pt("ftlProbeError","info",c.Znb({url:a.url,sc:a.status,pf_err:a.D6},a));this.qj.km(a);};b.Znb=function(a,b){b.Ec&&(b=b.Ec,c.vo(a,"d",b.duration),c.vo(a,"dns",b.Wma),c.vo(a,"tcp",b.o9),c.vo(a,"tls",b.x9),c.vo(a,"ttfb",b.u9),a.sz=b.size.ma(h.Dk));return a;};b.vo=function(a,b,c){c&&(a[b]=c.ma(g.Ia));return a;};p=c=b;p=c=f.__decorate([k.O(),f.__param(0,k.l(n.Cs)),f.__param(1,k.l(a.mz))],p);d.TKa=p;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){this.qj=a;this.Hx=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(34);g=a(4);n=a(61);a=a(104);b.prototype.CJ=function(a){a=this.Hx.Pt(a.V4,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return c.$nb({d:a.Ec.duration.ma(g.Ia),sc:a.status,sz:a.Ec.size.ma(h.Dk),via:a.Bnb,cip:a.MWa,err:a.F1},a);})};})});this.qj.km(a);};b.$nb=function(a,b){c.vo(a,"dns",b.Ec.Wma);c.vo(a,"tcp",b.Ec.o9);c.vo(a,"tls",b.Ec.x9);c.vo(a,"ttfb",b.Ec.u9);return a;};b.vo=function(a,b,c){c&&(a[b]=c.ma(g.Ia));return a;};p=c=b;p=c=f.__decorate([k.O(),f.__param(0,k.l(n.Cs)),f.__param(1,k.l(a.mz))],p);d.UKa=p;},function(f,d,a){var c,k,h,g,n,p,l,m;function b(a,b,c,d,g,f,h){this.config=a;this.kqa=b;this.ja=c;this.u=d;this.jhb=g;this.G7=f;this.A9a=0;this.ba=h.Fb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(4);g=a(42);n=a(12);p=a(351);l=a(350);a=a(164);b.prototype.start=function(){this.config.enabled&&!this.qp&&(this.qp=this.ja.yg(this.config.Jxa,this.OC.bind(this)));};b.prototype.stop=function(){this.qp&&(this.qp.cancel(),this.qp=void 0);};b.prototype.OC=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.A9a++;this.T6a(b).then(function(b){return Promise.all(b.Gc.map(function(c){return a.E7a(b,c.url,c.name);})).then(function(c){0<c.length&&a.jhb.CJ({data:c,context:b.context,V4:b.V4});}).then(function(){return b;});}).then(function(b){a.qp&&(b.jra?a.qp=a.ja.yg(b.jra,a.OC.bind(a)):a.stop());})["catch"](function(b){return a.ba.error("FTL run failed",b);});};b.prototype.T6a=function(a){var b;b=this;return this.kqa.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.G7.CJ({url:a,status:c.status,D6:"FTL API request failed",Ec:c.Ec}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.u.parse(c.body);return d instanceof Error?(b.G7.CJ({url:a,status:4,D6:"FTL Probe API JSON parsing error",Ec:c.Ec}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.G7.CJ({url:a,status:0,D6:c.message}),b.ba.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.E7a=function(a,b,d){var g;g=this;return new Promise(function(f,k){var q;for(var n,p,l,r=[],m={},u=0;u<a.Qfb;m={$c:m.$c},++u){m.$c=0==u?h.Eg:a.Ofb;q=function(d){return function(){return new Promise(function(f,h){g.ja.yg(d.$c,function(){c.yfb(g.kqa,b,a.Pfb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}n=b(n,"via",a);p=b(p,"x-ftl-probe-data",a);l=b(l,"x-ftl-error",a);f({status:a.status,Ec:a.Ec,Bnb:n||"",MWa:p||"",F1:l||""});})["catch"](function(a){h(a);});});});};}(m);r.push(0<u?r[u-1].then(q):q());}Promise.all(r).then(function(a){f({url:b,name:d,data:a});})["catch"](function(a){k(a);});});};b.yfb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};m=c=b;m=c=f.__decorate([k.O(),f.__param(0,k.l(a.pba)),f.__param(1,k.l(l.Cba)),f.__param(2,k.l(g.li)),f.__param(3,k.l(p.oba)),f.__param(4,k.l(a.Tea)),f.__param(5,k.l(a.Sea)),f.__param(6,k.l(n.Qb))],m);d.dEa=m;},function(f,d,a){var b,c,k,h,g,n,p,l;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(695);c=a(694);k=a(693);h=a(692);g=a(691);n=a(351);p=a(350);l=a(164);d.Y3a=new f.Xb(function(a){a(l.qba).to(b.dEa).X();a(l.Tea).to(c.UKa).X();a(l.Sea).to(k.TKa).X();a(n.oba).to(h.bEa).X();a(p.Cba).to(g.xEa).X();});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(a){this.xo=a;}a.prototype.Au=function(){var a,c,d;a=this.xo.H5a();c=this.xo.I5a();d=this.xo.J5a();if("number"===typeof a&&"number"===typeof c&&"number"===typeof d)return(d-a)/c;};return a;}();d.NHa=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(a,c){this.xo=a;this.Au=c;}a.prototype.D8=function(a){return this.xo.D8(a);};a.prototype.gn=function(){return this.xo.gn();};a.prototype.Y5a=function(){return this.Au.Au();};return a;}();d.MHa=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(a){this.Kra=a;}a.prototype.D8=function(a){try{this.Kra.setItem("gtp",JSON.stringify(a));}catch(c){return!1;}return!0;};a.prototype.Woa=function(){var a;try{a=this.Kra.getItem("gtp");if(a)return JSON.parse(a);}catch(c){}};a.prototype.gn=function(){var a;a=this.Woa();if(a&&a.tp)return a.tp.a;};a.prototype.H5a=function(){var a;a=this.O2();if(a)return a.p25;};a.prototype.I5a=function(){var a;a=this.O2();if(a)return a.p50;};a.prototype.J5a=function(){var a;a=this.O2();if(a)return a.p75;};a.prototype.O2=function(){var a;a=this.Woa();if(a&&(a=a.iqr))return a;};return a;}();d.u$=f;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(699);c=a(698);k=a(697);d["default"]=function(a){var d;a=new b.u$(a);d=new k.NHa(a);return new c.MHa(a,d);};},function(f,d,a){var c,k,h,g;function b(a,b,c){this.config=a;this.x$a=b;this.Ji=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(452);k=a(0);h=a(156);a=a(352);b.prototype.F0=function(){if(this.config.jza)return this.Ji(this.x$a());};g=b;g=f.__decorate([k.O(),f.__param(0,k.l(c.pda)),f.__param(1,k.l(h.nda)),f.__param(2,k.l(a.qda))],g);d.LHa=g;},function(f,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.create=function(){return new XMLHttpRequest();};c=b;c=f.__decorate([a.O()],c);d.VMa=c;},function(f,d,a){var b,c,k,h,g,n,p;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(702);c=a(126);k=a(353);h=a(701);g=a(202);n=a(352);p=a(700);d.Wbb=new f.Xb(function(a){a(k.ega).to(b.VMa).X();a(c.eE).sD(function(){return H._cad_global.http;});a(g.SL).to(h.LHa).X();a(n.qda).bg(p["default"]);});},function(f,d,a){var c,k,h;function b(a){this.qg=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(34);a=a(71);b.prototype.G$a=function(){var a;a=this.qg()?this.qg().Tf.length:40;return k.$(a+33);};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(a.Np))],h);d.cGa=h;},function(f,d,a){var k,h,g,n,p,l,m,q,t;function b(a,b,c,d,g,f,h,k,p,l,r){this.platform=b;this.O0=c;this.type=d;this.severity=g;this.timestamp=f;this.data=h;this.data.clver=this.platform.version;a&&a.Ai&&(a.Ai.os&&(this.data.osplatform=a.Ai.os.name,this.data.osver=a.Ai.os.version),this.data.browsername=a.Ai.name,this.data.browserver=a.Ai.version);a.aR&&(this.data.tester=!0);a.Uo&&!this.data.groupname&&(this.data.groupname=a.Uo);a.Qq&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.Qq:a.Qq);a.ks&&(this.data.uigroupname=a.ks);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=k;this.data.uniqueLogId=l.x2();this.data.appId=p;r&&(this.data.soffms=r.Ogb.ma(n.Ia),this.data.mid=r.M,this.data.lvpi=r.nI,this.data.uiLabel=r.kc,this.data["startup"===d?"playbackxid":"xid"]=r.ha,r.Su&&(a=r.Su,(r=r.Su.split("."))&&1<r.length&&"S"!==r[0][0]&&(a="SABTest"+r[0]+".Cell"+r[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+a:a));}function c(a,b,c,d,g,f){this.Pa=a;this.O0=b;this.config=c;this.eb=d;this.tnb=g;this.platform=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(34);h=a(0);g=a(43);n=a(4);p=a(420);l=a(50);m=a(24);q=a(206);a=a(69);c.prototype.Pt=function(a,c,d,g){return new b(this.config,this.platform,this.O0,a,c,this.Pa.sg,d,this.eb.bpa(),this.eb.id,this.tnb,g);};t=c;t=f.__decorate([h.O(),f.__param(0,h.l(g.Ri)),f.__param(1,h.l(p.saa)),f.__param(2,h.l(l.tl)),f.__param(3,h.l(m.gf)),f.__param(4,h.l(q.wX)),f.__param(5,h.l(a.$n))],t);d.bGa=t;oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Tka||(this.Tka=k.$(this.O0.encode(this.data).length));return this.Tka;}}});},function(f,d,a){var c,k,h,g;function b(a){this.config=a;this.uab=c.$(5E5);this.wib=k.U5(1);this.xwa=k.mm(5);this.usa=c.$(1E6);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(34);k=a(4);h=a(0);a=a(25);oa.Object.defineProperties(b.prototype,{Hjb:{configurable:!0,enumerable:!0,get:function(){return this.config().Ijb;}},U4:{configurable:!0,enumerable:!0,get:function(){return this.config().U4;}},KZ:{configurable:!0,enumerable:!0,get:function(){return this.config().KZ;}}});g=b;g=f.__decorate([h.O(),f.__param(0,h.l(a.Ef))],g);d.VFa=g;},function(f,d,a){var c,k,h,g;function b(a,b){this.qj=a;this.mXa=b();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(34);h=a(61);a=a(25);b.prototype.cd=function(){this.qj.cd();};b.prototype.km=function(a){var b;b=a;this.mXa.kza||(b=Object.assign({},a,{severity:a.data.sev,size:k.$(a.U4a().length)}));this.qj.km(b);};b.prototype.flush=function(a){return this.qj.flush(a);};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(h.Cs)),f.__param(1,c.l(a.Ef))],g);d.PFa=g;},function(f,d,a){var c,k,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(203);h=a(34);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.G$a());}).reduce(function(a,b){return a.add(b);},h.$(0));};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.Eca))],a);d.dGa=a;},function(f,d,a){var k,h,g,n,p,l,m,q,t,D,x;function b(a,b,c,d,g,f,k,n){this.eb=a;this.platform=c;this.qg=d;this.json=g;this.Md=f;this.dy=k;this.N$a=n;h.gk(this,"json");this.ba=b.Fb("LogblobSender");}function c(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(47);g=a(44);n=a(4);p=a(23);l=a(24);m=a(69);q=a(71);t=a(12);D=a(356);a=a(125);b.prototype.send=function(a,b){var d;d=this;return new Promise(function(a,g){var f;try{f=b.reduce(function(a,b){a.entries.push(d.FZa(b));return a;},new c());a(d.b4a(f));}catch(da){d.ba.error(da.message);g(da);}}).then(function(b){return d.UC(b,a);});};b.prototype.FZa=function(a){return this.Md.sj(this.Md.sj({},a.data),{esn:this.qg().Tf,sev:a.severity,type:a.type,lver:this.platform.Sra,jssid:this.eb.id,devmod:this.platform.i1,jsoffms:a.timestamp.Kd(this.eb.eI).ma(n.Ia),clienttime:a.timestamp.ma(n.Ia),client_utc:a.timestamp.ma(n.cq),uiver:this.dy.Sy});};b.prototype.b4a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(K){for(var c={},d=0;d<a.entries.length;c={$J:c.$J,wd:c.wd},++d){c.wd=Object.assign({},a.entries[d]);try{this.json.stringify(c.wd);}catch(S){c.$J=void 0;this.Md.$t(c.wd,function(a){return function(c,d){try{b.json.stringify(d);}catch(R){a.$J=R.message;a.wd[c]=a.$J;}};}(c));c.wd.stringifyException=c.$J;c.wd.originalType=c.wd.type;c.wd.type="debug";c.wd.sev="error";}}return this.json.stringify(a);}};b.prototype.UC=function(a,b){var c;c=this;return this.N$a.Di(this.ba,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ba.error("PBO logblob failed",a);return Promise.reject(a);});};x=b;x=f.__decorate([k.O(),f.__param(0,k.l(l.gf)),f.__param(1,k.l(t.Qb)),f.__param(2,k.l(m.$n)),f.__param(3,k.l(q.Np)),f.__param(4,k.l(g.Bs)),f.__param(5,k.l(p.He)),f.__param(6,k.l(a.AE)),f.__param(7,k.l(D.aea))],x);d.eGa=x;},function(f,d,a){var c,k,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(4);h=a(34);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:k.Pb(a.timestamp),size:h.$(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.ma(k.Ia),size:a.size.ma(h.Dk)};};a=b;a=f.__decorate([c.O()],a);d.aGa=a;},function(f,d,a){var c,k,h,g,n,p,l,m,q,t,D,x,w,z;function b(a,b,c,d,g,f,h,n){var p;p=this;this.ja=a;this.ff=b;this.FQ=d;this.ep=g;this.config=f;this.Uf=h;this.json=n;this.S0=[];k.gk(this,"json");this.ba=this.Uf.Fb("MessageQueue");this.Zt=new x.$Ga(this.ep);c().then(function(a){p.Qg=a;p.data=new D.aHa(p.ep,a.profile);p.q$a(a);})["catch"](function(a){p.ba.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(47);h=a(34);g=a(110);n=a(203);p=a(42);l=a(12);m=a(67);q=a(61);t=a(51);D=a(358);x=a(358);w=a(44);z=a(2);b.prototype.Bq=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.Bq(c.id,this.fpa(b),"logblobs",d),this.Ena()):this.S0.push(d);}catch(da){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ba.error("JSON.stringify error: "+da.message,b);}};b.prototype.sy=function(a){this.data.sy(a);this.Ena();};b.prototype.y4a=function(){var a,b,c,r;a=[];if(this.data){b=this.config.usa.to(h.Dk);for(c in this.data.yd)for(var d=this.ku(c),g=this.data.yd[c],f=[],k=[],n=h.$(0),p=0;p<g.yd.length;p++){r=g.yd[p];f.push(r.message);k.push(r.id);n=n.add(this.ep.measure([r.message]));if(0<=n.Tk(b)||p+1===g.yd.length)this.ba.trace("Batch_"+a.length+": "+f.length+"/"+n,l.ov),a.push({profile:d,oqa:k.slice(),yd:f.slice(),size:n}),f=[],k=[],n=h.$(0);}}return a;};b.prototype.q$a=function(a){var b;b=this;this.config.xwa.Wqa()&&(this.Xja=this.ff.create(),this.Xja.then(function(a){return a.load("messages");}).then(function(a){b.p$a(a.value);})["catch"](function(a){a.T===z.G.Hk?b.ba.info("No messages to load."):b.ba.error("Failed to load messages.",a);}));this.S0.forEach(function(c){b.data.Bq(a.profile.id,b.fpa(!1),"logblobs",c);});this.S0=[];};b.prototype.p$a=function(a){var b,c,d;b=this;try{c=this.Zt.decode(a);d=this.Qg.ku(c.fO);if(d&&d.ph.id===this.data.fO){this.ba.trace("Loading messageQueue.");a={};for(var g in c.yd)a.profileId=g,c.yd[a.profileId].yd.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.Bq(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ba.trace("AcountId does not match, ignoring persisted messages.");}catch(P){this.ba.error("Load messageQueue failed.",P);}};b.prototype.Uhb=function(){var a,b;a=this;b=this.Zt.encode(this.data);this.Xja.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ba.info("MessageQueue: Saved",l.ov);})["catch"](function(b){a.ba.error("Failed to save messages.",b);});};b.prototype.vkb=function(){this.XS&&(this.XS.cancel(),this.XS=void 0);};b.prototype.Ena=function(){this.config.Hjb&&!this.XS&&(this.XS=this.ja.yg(this.config.xwa,this.jdb.bind(this)));};b.prototype.jdb=function(){this.vkb();this.Uhb();};b.prototype.fpa=function(a){return a?this.FQ.rG():0;};b.prototype.ku=function(a){return this.Qg.ku(a)||this.Qg.profile;};oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=h.$(0);if(this.data)for(var b in this.data.yd)a=a.add(this.data.yd[b].size);return a;}}});a=b;a=f.__decorate([c.O(),f.__param(0,c.l(p.li)),f.__param(1,c.l(t.ql)),f.__param(2,c.l(m.ns)),f.__param(3,c.l(g.kz)),f.__param(4,c.l(n.Fca)),f.__param(5,c.l(q.aW)),f.__param(6,c.l(l.Qb)),f.__param(7,c.l(w.Bs))],a);d.bHa=a;},function(f,d,a){var c,k,h,g,n,p,l,m,q,t;function b(a,b,c,d,g,f,h){var n;n=this;this.config=a;this.json=c;this.ja=d;this.C$a=g;this.BI=h;this.VQ=this.XQ=this.qn=!1;this.listeners=[];k.gk(this,"json");this.ba=f.Fb("LogBatcher");this.Mo();b().then(function(a){n.Qg=a;n.Qg.XQ().subscribe(function(a){return n.XQ=a;});})["catch"](function(a){n.ba.error("Unable to initialize the account manager for the log batcher",a,l.ov);});}Object.defineProperty(d,"__esModule",{value:!0});c=a(1);f=a(0);k=a(47);h=a(44);g=a(360);n=a(67);p=a(42);l=a(12);m=a(61);q=a(359);t=a(2);d.frb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.cd=function(){this.qn=!0;};b.prototype.km=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.Tk(this.config.uab)?this.ba.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.Qg&&(c=this.Qg.profile),this.listeners.forEach(function(b){return b.Msa(a);}),b=b||0<=this.config.U4.indexOf(a.type),this.BI.Bq(a,b,c),this.ja.kb(function(){d.x3a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.VQ?(this.ba.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ba.trace("Flushing",l.ov);b.Cf();b.ja.kb(function(){b.u8(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.u8=function(a){a=void 0===a?!1:a;return c.__awaiter(this,void 0,void 0,function(){var c,d,g,f,h,k,n,p,r,m,u;function b(b){for(;;)switch(c){case 0:r=m;if(m.qn&&m.XQ){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!m.VQ){c=2;break;}m.ba.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:p=m.BI.y4a();n=!1;if(!(0<p.length||a)){c=3;break;}m.Cf();m.listeners.forEach(function(a){return a.Uwa();});k={};h=Ba(p);f=h.next();case 4:if(f.done){c=6;break;}k.Lq=f.value;try{return m.sy(k.Lq),m.ba.trace("Sending batch: "+k.Lq.size,l.ov),c=9,{value:m.C$a.send(k.Lq.profile,k.Lq.yd),done:!1};}catch(O){g=O;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(O){g=O;c=7;break;}case 10:try{c=8;break;}catch(O){g=O;c=7;break;}case 7:d=g;n=!0;m.ba.warn("Failed to send logblobs.",d,l.ov);m.Cjb(d)&&(m.ba.trace("re-adding failed batch"),k.Lq.yd.forEach(function(a){return function(b,c){r.BI.Bq(b,0!==a.Lq.oqa[c],a.Lq.profile);};}(k)));if(!m.Ljb(d)){c=11;break;}m.VQ=!0;c=6;break;case 11:case 8:case 5:k={Lq:k.Lq};f=h.next();c=4;break;case 6:case 3:m.Mo();if(!n){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;m=this;u={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};Oa();u[Symbol.iterator]=function(){return this;};return u;});};b.prototype.Cjb=function(a){return a.Dd===t.RV.Tda?!1:this.config.KZ;};b.prototype.Ljb=function(a){return a.Gb===t.G.hda||a.Gb===t.G.XD||a.Gb===t.G.gz?!0:!1;};b.prototype.x3a=function(){var a;a=this;0<this.BI.size.Tk(this.config.usa)?this.u8()["catch"](function(){return a.ba.warn("failed to send log messages on size threshold");}):this.Mo();};b.prototype.Cf=function(){this.rx&&(this.rx.cancel(),this.rx=void 0);};b.prototype.Mo=function(){this.rx||(this.rx=this.ja.yg(this.config.wib,this.Er.bind(this)));};b.prototype.Er=function(){var a;a=this;this.VQ=!1;this.Cf();this.u8()["catch"](function(){return a.ba.warn("failed to send log messages on timer");});};b.prototype.sy=function(a){this.BI.sy(a.oqa);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(w){}return b;};a=b;a=c.__decorate([f.O(),c.__param(0,f.l(m.aW)),c.__param(1,f.l(n.ns)),c.__param(2,f.l(h.Bs)),c.__param(3,f.l(p.li)),c.__param(4,f.l(g.Gca)),c.__param(5,f.l(l.Qb)),c.__param(6,f.l(q.bda))],a);d.WFa=a;},function(f,d,a){var c,k,h,g,n,p,l;function b(a,b,d,g){var f;f=this;this.Q$a=a;this.H$a=b;this.config=g;this.x7=[];this.Q$a.GC(c.Gza,this.t7a.bind(this));d().then(function(a){var b;b=g().rg.J3a;f.yab=b?l.Eh[b.toUpperCase()]:l.Eh.ERROR;f.qj=a;f.zib();});}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(25);g=a(79);n=a(61);p=a(104);l=a(12);b.prototype.t7a=function(a,b){this.qj?this.kva(a,b):this.x7.push([a,b]);};b.prototype.zib=function(){var a,b;a=this;b=this.x7;this.x7=[];b.forEach(function(b){a.kva(b[0],b[1]);});};b.prototype.kva=function(a,b){var c;if(this.qj&&this.Ejb(a)){c={debugMessage:a.message,debugCategory:a.Ql};a.Sc.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.H$a.Pt("debug",l.Eh[a.level].toLowerCase(),c,b);this.qj.km(a);}};b.prototype.Ejb=function(a){var b;b=this.yab;return void 0!==b&&a.level<=b&&!a.Sc.find(function(a){return a.BP(l.ov);});};a=c=b;a.Gza="adaptorAll";a=c=f.__decorate([k.O(),f.__param(0,k.l(g.xv)),f.__param(1,k.l(p.mz)),f.__param(2,k.l(n.Aca)),f.__param(3,k.l(h.Ef))],a);d.dAa=a;},function(f,d,a){var b,c,k,h,g,n,p,l,m,q,t,D,x,w,z,y,F,K,S,B;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(92);c=a(713);k=a(712);h=a(711);g=a(709);n=a(708);p=a(707);l=a(25);m=a(706);q=a(705);t=a(704);D=a(42);x=a(71);w=a(355);z=a(359);y=a(360);F=a(354);K=a(104);S=a(203);B=a(61);d.O$a=new f.Xb(function(a){a(B.Cs).to(k.WFa).X();a(z.bda).to(h.bHa).X();a(y.Gca).to(g.eGa).X();a(S.Fca).to(n.dGa).X();a(B.aW).to(m.VFa).X();a(K.mz).to(q.bGa).X();a(S.Eca).to(t.cGa).X();a(w.t$).to(c.dAa).X();a(B.Aca).rK(function(a){return function(){return new Promise(function(c){var g,f,h,k;function d(){f()&&h()&&k.wf?c(a.ic.get(B.Cs)):g.kb(d);}g=a.ic.get(D.li);f=a.ic.get(l.Ef);h=a.ic.get(x.Np);k=a.ic.get(b.Bv);g.kb(d);});};});a(F.vca).to(p.PFa).X();});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.fDa=function(a,b,c,d){this.Tf=a;this.Xl=b;this.gB=c;this.$hb=d;};},function(f,d,a){var c,k,h,g,n,p,l,m,q,t,D,x,w;function b(a,b,c,d,g,f,h,k,n){this.Qma=a;this.ff=b;this.Sa=d;this.N0=g;this.mf=f;this.debug=h;this.EK=k;this.M0=n;this.PD=/^(SDK-|SLW32-|SLW64-|SLMAC-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.Fb("Device");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(2);k=a(21);h=a(715);g=a(12);n=a(365);p=a(49);l=a(135);m=a(23);q=a(0);t=a(51);D=a(362);x=a(361);w=a(81);b.prototype.Qna=function(a){try{return a.match(this.PD)[2];}catch(y){}};b.prototype.Sna=function(a){try{return a.match(this.PD)[1];}catch(y){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(d,g){b.ff.create().then(function(f){var n,p,l,r,m,u;function k(f){b.Sa.yi(f)&&b.Sa.yi(n)?(p=new h.fDa(f,n,l,a.Rma||"cadmium"),d(p)):g({T:c.G.waa});}n=a.Xl;if(a.w2){m=a.Tf;if(b.Sa.yi(m)){u=b.Sna(m);u!=a.Xl&&b.log.error("esn prefix from ui is different",{ui:u,cad:a.Xl,ua:a.userAgent});}else a.R4&&b.log.error("esn from ui is missing");u=Promise.resolve({P:!1});a.oH&&(u=b.n$a(f,a));u.then(function(d){d.P&&d.gB&&d.deviceId?(l=d.gB,k(n+d.deviceId)):f.load(a.gP).then(function(a){r=a.value;b.Sa.yi(r)&&(b.Sa.yi(m)?(a=b.Qna(m),l=a===r?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):l="storage_esn_not_in_config",k(n+r));})["catch"](function(d){var p;function h(){f.save(a.gP,p,!1).then(function(){k(n+p);})["catch"](function(a){g(a);});}d.T===c.G.Hk?(b.Sa.yi(a.Tf)?(p=b.Qna(a.Tf),b.Sa.yi(p)?l="config_since_not_in_storage":(l="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Tf),p=b.Qma.woa())):(l="generated_since_not_in_config_and_storage",p=b.Qma.woa()),h()):g(d);});})["catch"](g);}else a.u0a&&b.N0&&b.N0.getKeyByName?b.N0.getKeyByName(a.LUa).then(function(a){a=a.id;if(b.Sa.oh(a))a=String.fromCharCode.apply(void 0,b.mf.decode(a)),b.debug.assert(""!=a),n=b.Sna(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){g({T:c.G.KU,Ea:b.EK.Bc(a)});}):a.t0a&&b.M0&&b.M0.Poa?b.M0.Poa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=n+a;b.debug.assert(b.PD.test(a));k(c);})["catch"](function(){g({T:c.G.KU});}):k();})["catch"](function(a){g(a);});});};b.prototype.n$a=function(a,b){var c;c=this;return new Promise(function(d,g){c.r$a(a,b).then(function(g){b.Npa?c.oH(b.Npa).then(function(f){var h;if(c.Sa.oh(f)&&c.PD.test(b.Xl+f)){h=Promise.resolve();c.y2a(g,f)&&(h=c.kmb(a,b));h.then(function(){a.save(b.gP,f,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:f,exception:c.EK.Bc(a)});});d({P:!0,deviceId:f,gB:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.EK.Bc(a)});d({P:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:f}),d({P:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.EK.Bc(a)});d({P:!1});}):(c.log.error("hardwareDeviceId not provided"),d({P:!1}));})["catch"](g);});};b.prototype.r$a=function(a,b){var d;d=this;return new Promise(function(g){a.load(b.gP).then(function(a){a=a.value;d.Sa.oh(a)&&d.PD.test(b.Xl+a)?g(a):(g(void 0),d.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.T!==c.G.Hk&&d.log.error("Error loading ESN",a);g(void 0);});});};b.prototype.y2a=function(a,b){return a!==b;};b.prototype.kmb=function(a,b){return a.remove(b.Ibb);};b.prototype.oH=function(a){var b;b=this;return new Promise(function(c,d){try{w.qa.from(a.hardwareDeviceId).kD(1).subscribe(function(a){b.Sa.oh(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(S){d(S);}});};a=b;a=f.__decorate([q.O(),f.__param(0,q.l(n.Gaa)),f.__param(1,q.l(t.ql)),f.__param(2,q.l(g.Qb)),f.__param(3,q.l(k.ve)),f.__param(4,q.l(x.raa)),f.__param(5,q.l(p.Bk)),f.__param(6,q.l(l.MD)),f.__param(7,q.l(m.He)),f.__param(8,q.l(D.qaa))],a);d.gDa=a;},function(f,d,a){var c,k,h,g,n,p;function b(a,b){this.Pa=a;this.uJ=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(43);k=a(4);h=a(109);g=a(364);n=a(47);a=a(0);b.prototype.woa=function(){for(var a="",b=this.Pa.sg.ma(k.Ia),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.uJ.m7(new g.Qea(0,31,n.ycb))];return a;};p=b;p=f.__decorate([a.O(),f.__param(0,a.l(c.Ri)),f.__param(1,a.l(h.FE))],p);d.eDa=p;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(71);c=a(365);k=a(717);h=a(363);g=a(716);d.qg=new f.Xb(function(a){a(b.Np).Pi(function(){return function(){return H._cad_global.device;};});a(h.Haa).to(g.gDa).X();a(c.Gaa).to(k.eDa).X();});},function(f,d,a){var c,k;function b(a){this.wf=a;this.NS=0;this.d4=!1;this.xy=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(92);b.prototype.send=function(a){var b,c,d;b=this;c=!!a.ZH&&0!==this.NS;d=this.xy.some(function(a){return!!a.LR.ZH;});return(c||this.d4||d?new Promise(function(c,d){b.xy.push({LR:a,resolve:c,reject:d});}):this.UC(a)).then(function(a){b.Tta();return a;})["catch"](function(a){b.Tta();throw a;});};b.prototype.UC=function(a){this.NS++;a.ZH&&(this.d4=!0);return this.wf.send(a);};b.prototype.Qwa=function(a){this.UC(a.LR).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.Tta=function(){var a;this.NS--;this.d4=!1;if(0===this.NS&&0<this.xy.length){a=this.xy.shift();this.Qwa(a);if(!a.LR.ZH)for(;0<this.xy.length&&!this.xy[0].LR.ZH;)this.Qwa(this.xy.shift());}};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.Bv))],k);d.iHa=k;},function(f,d,a){var c,k,h,g,n,p,l,m,q,t,D,x,w,z,y,F,K,S,B;function b(a,b,c,d,g,f,k,n,p,l,r,m,u,q){this.platform=a;this.config=b;this.lB=c;this.R9a=d;this.mf=g;this.eb=f;this.wf=k;this.Cib=n;this.jD=p;this.Wy=l;this.Md=r;this.uJ=m;this.json=u;this.WZ=q;this.Sk=[];h.gk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(47);g=a(69);n=a(25);p=a(50);l=a(24);m=a(49);q=a(4);t=a(92);D=a(223);x=a(158);w=a(23);z=a(2);y=a(109);F=a(126);K=a(44);S=a(82);a=a(367);b.prototype.send=function(a,b,d,g){var r,m,u,v;function f(b){return new Promise(function(c,d){function g(a){var d,g;function c(a,c){m.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.MI.profile?b.MI.profile.id:void 0,nonReplayable:b.SR,retryCount:b.Pu,userId:b.CD,userTokens:JSON.stringify(r.wf.wf.getUserIdTokenKeys())})});return{P:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=r.json.parse(a);if(2!=d.length)return m.trace("The MSL envelope did not have enough array items."),c(z.G.kE);if(!d[1].payload)return m.trace("The MSL envelope did not have a payload."),c(z.G.kE);if(!d[1].status)return m.trace("The MSL envelope did not have a status."),c(z.G.kE);a=d[1].status;g=parseInt(a,10);if(isNaN(g)&&"ok"!=a.toLowerCase()||!(200<=g&&300>g))return d=d[1].payload.data,d=r.mf.decode(d),m.error("The MSL status indicated an error",{status:g},r.Wy.encode(d)),c(z.G.dW,a);d=d[1].payload.data;d=r.Wy.encode(r.mf.decode(d));if(!d)return m.trace("The MSL payload is missing."),c(z.G.Oca);try{return r.json.parse(d);}catch(tf){return m.error("EDGE response this.json parse error: ",tf,d),c(z.G.Oca);}}h(b,b.Pu).then(function(f){var h,k;if(f.body)if(f=g(f.body),m.trace("Received EDGE response",{Method:a.method}),f.success){if(r.config().rg.P2a&&r.Z8a(a)){h=a.fCb;k=f.profileGuid;if(h&&k!==h){f={T:z.G.sJa,Ea:JSON.stringify({serverGuid:k,clientGuid:h})};l(f,b);d(f);return;}}v.success=!0;v.profileId=b.CD;v.elapsedtime=r.eb.Ud().ma(q.Ia)-v.starttime;v.userTokens=JSON.stringify(r.wf.wf.getUserIdTokenKeys());c(f.result);}else{k=f.result;f.__logs&&(k.jub=f.__logs);try{h=r.json.stringify(k.data);}catch(Sa){}f=l(k,b);d({T:k.errorSubCode,Ab:k.errorExternalCode,eB:k.errorEdgeCode,Ea:k.errorDetails?[k.errorDetails," ",f].join(""):void 0,Sf:k.errorDisplayMessage,Wl:h});}else d({T:z.G.kE,Ea:l({T:z.G.kE},b)});})["catch"](function(a){var c;c=l(a,b);a.Ea&&(a.Ea=[a.Ea," ",c].join(""));d(a);});});}function h(b,d){return new Promise(function(g,f){function h(b,d,p){return r.Cib.send(b).then(function(a){g(a);})["catch"](function(g){var l,u;u=g&&g.nk&&void 0!==g.nk.maxRetries?Math.min(g.nk.maxRetries,p):p;(r.lB.V7||k(g))&&d<=u?l=!0:(m.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:d,MaxRetries:u},c.hba(g)),l=!1);if(l)return l=g&&g.nk&&void 0!==g.nk.retryAfterSeconds?1E3*g.nk.retryAfterSeconds:r.uJ.m7(1E3,1E3*Math.pow(2,Math.min(d-1,u))),m.warn("Method failed, retrying",{Method:a.method,Attempt:d,WaitTime:l,MaxRetries:u},c.hba(g)),n(l).then(function(){return h(b,d+1,u);});f(g);});}return h(b,1,d);});}function k(a){return(a=a&&a.T)&&a>=z.G.gz&&a<=z.G.fz;}function n(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function p(){var c,f;c="";d&&(c+=(0<c.length?"&":"")+"logs=true");g&&(c+=(0<c.length?"&":"")+"debug=true");a.languages=r.config().rg.ky;a.clientVersion=r.platform.version;a.uiVersion=r.config().rg.Sy;f={};r.config().jta&&(f["X-Netflix.request.expiry.timeout"]=r.config().jta.toString());c=[{},{headers:f,path:r.config().rg.lna,payload:{data:r.json.stringify(a)},query:c}];r.config().rg&&(m.debug("Request payload",{Method:a.method},r.jD.LT(c)),m.debug("Request parameters",{Method:a.method},r.jD.LT(a)));return{MI:b,method:a.method,url:""+(r.WZ.endpoint+r.config().rg.cta)+r.platform.Xl+"/cadmium/"+a.method,body:r.json.stringify(c),timeout:u.ma(q.Ia),CD:b.profile?b.profile.id:void 0,hhb:!0,SR:!1,zP:!0,Pu:3,ZH:a.isExclusive};}function l(a,b){v.success=!1;v.profileId=b.CD;v.elapsedtime=r.eb.Ud().ma(q.Ia)-v.starttime;v.userTokens=JSON.stringify(r.wf.wf.getUserIdTokenKeys());v.subcode=a.errorSubCode||a.T;v.extcode=a.errorExternalCode||a.Ab;m.error("BladeRunner command history",r.jD.LT(r.Sk));return r.json.stringify(r.Sk);}d=void 0===d?!1:d;g=void 0===g?!1:g;r=this;b=this.Md.sj({bc:this.R9a},b);m=b.log;u=q.mm(59);v={method:a.method,starttime:this.eb.Ud().ma(q.Ia)};this.Sk.push(v);this.Sk.length>this.config().kVa&&this.Sk.shift();m.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=p();f(c).then(function(b){a(b);})["catch"](function(a){var c;c={P:!1};r.Md.sj(c,a,{kp:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.Z8a=function(a){return 0<=["bind","ping"].indexOf(a.method)?!0:!1;};b.hba=function(a){var b,c,d;b={};c=a.errorExternalCode||a.Ab;d=a.errorDetails||a.Ea;b.ErrorSubCode=a.errorSubCode||a.T||z.G.Ih;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};B=c=b;B=c=f.__decorate([k.O(),f.__param(0,k.l(g.$n)),f.__param(1,k.l(n.Ef)),f.__param(2,k.l(p.tl)),f.__param(3,k.l(F.eE)),f.__param(4,k.l(m.Bk)),f.__param(5,k.l(l.gf)),f.__param(6,k.l(t.Bv)),f.__param(7,k.l(a.eda)),f.__param(8,k.l(D.pX)),f.__param(9,k.l(x.mM)),f.__param(10,k.l(w.He)),f.__param(11,k.l(y.FE)),f.__param(12,k.l(K.Bs)),f.__param(13,k.l(S.ps))],B);d.jHa=B;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(92);c=a(720);k=a(366);h=a(367);g=a(719);d.tj=new f.Xb(function(a){a(b.Bv).sD(function(){return H._cad_global.msl;});a(k.fda).to(c.jHa).X();a(h.eda).to(g.iHa).X();});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.PZa=function(a,b,c){return{mpa:function(){return a.X2();},ba:b,request:c,fe:!1};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=[b.I.SEa,b.I.Xba,b.I.Uba,b.I.Kba,b.I.Vba,b.I.Wba,b.I.Nba,b.I.aca,b.I.Oba,b.I.Mba,b.I.TV,b.I.cca,b.I.Pba,b.I.EL,b.I.TEa,b.I.Qba,b.I.Rba,b.I.As,b.I.Iba,b.I.bca,b.I.Lba,b.I.Zba,b.I.aFa,b.I.$ba,b.I.UEa,b.I.WEa,b.I.$Ea,b.I.YEa,b.I.XEa,b.I.VEa,b.I.ZEa,b.I.Yba,b.I.Tba,b.I.Sba,b.I.Jba];(function(a){a.OHa=function(a){var g;for(var c={},d=0;d<a.length;d++){g=a[d];if(c[g.Wm])return{Wm:g.Wm,Fla:b.G.Nza};c[g.Wm]=1;}};a.PHa=function(a){var g;for(var d=0;d<a.length;d++){g=a[d];if(-1===c.indexOf(g.Wm))return{Wm:g.Wm,Fla:b.G.Oza};}};}(k||(k={})));d.rfb=function(a){return new Promise(function(b,d){var g;g=k.PHa(a);g&&d(g);(g=k.OHa(a))&&d(g);b(a.sort(function(a,b){return c.indexOf(a.Wm)-c.indexOf(b.Wm);}));});};},function(f,d,a){var c,k,h,g,n;function b(a,b,c,d){this.log=a;this.en=b;this.eT=c;this.context=d;}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);d=a(2);k=a(23);h=a(49);g=a(372);n=d.I;b.prototype.Wd=function(a){var b,d;b=this;(this.context.fe||this.context.bm)&&this.log.debug("Requesting a license",a);c.Y.get(k.He).Mt([8,4],a.Tj[0].data)?(b.log.trace("Requesting WideVine attestation data."),d=Promise.resolve({ur:[{sessionId:a.Tj[0].sessionId,data:new Uint8Array(c.Y.get(h.Bk).decode(g.aga))}]})):d=function(){b.log.trace("Requesting license",{drmType:a.Ph});return b.en(a)["catch"](function(a){b.log.error("Unable to get the Widevine license",a);throw{code:n.Rp,Gb:a.Gb,Dd:a.Dd,Sl:a.Sl,Sf:a.message||a.Sf,Wl:a.data,message:"Unable to send the Widevine license request. "+(a.message||a.Sf),cause:a};});}();return d;};b.prototype.stop=function(a){var b;b=this;this.log.trace("Releasing Widevine license");return this.eT(a)["catch"](function(a){b.log.error("Unable to release the Widevine license.",{code:a.code,subCode:a.Gb,extCode:a.Dd,edgeCode:a.Sl,message:a.message||a.Sf});throw{P:!1,code:n.Wea,Gb:a.Gb,Dd:a.Dd,Sl:a.Sl,Sf:a.message||a.Sf,message:"Unable to release the Widevine license. "+(a.message||a.Sf),cause:a};});};f.K=b;},function(f,d,a){var t,D,x,w,z,y,F,K,S;function b(a,c,d,f){var h;h=this;this.log=a;this.LQ=c;this.yn=d||q.bind(this);this.context=f;this.sua=this.Ee=this.keySessionId=this.Kc=this.vh=void 0;this.he={};this.onMessage=g.bind(this);this.Ota=n.bind(this);this.Ycb=p.bind(this);this.zza=new Promise(function(a,b){h.yhb=a;h.Iva=b;});this.zza["catch"](function(a){h.log.error("wait for license rejected",a);});this.Wx=function(a,b){h.Iva(a,b);h.context.onerror(a,b);};this.Zcb=function(){h.yhb();};if(!(this instanceof b))throw new TypeError("EmeSession constructor not called correctly.");}function c(){return t.Y.get(z.He);}function k(){return t.Y.get(w.Bk);}function h(a,b,d){if(!d)return a.log.debug("Session has been closed, discarding license result"),Promise.resolve({P:!0});(a.context.fe||a.context.bm)&&a.log.debug("LICENSE: Got the response, calling update",{sessionId:d.sessionId});(a.context.fe||a.context.bm||a.context.Hp)&&a.log.debug("LICENSE: License response",k().encode(b));return new Promise(function(g,f){d.update(b).then(function(){a.Pqa()&&a.log.trace("LICENSE: Update succeeded",{sessionId:d.sessionId});g();})["catch"](function(b){var d;d=c().N4a(b);d.code=F.LW;d.message="Unable to update the EME.";a.log.error("LICENSE: Unable to update the EME.",b);f(d);});});}function g(a){var b,c,d;b=this;c=new Uint8Array(a.message);d={sessionId:b.rpa()[0],messageType:a.messageType};b.Pqa()&&(d.message=k().encode(new Uint8Array(a.message)));b.log.trace("Received event: "+a.type,d);"license-renewal"===a.messageType?(b.yn("renew_lc"),a={tg:x.Oc.KFa.co,L5:a.messageType,Ph:/clearkey/i.test(b.Kc.keySystem)?"clearkey":"widevine",Tj:[{data:c,sessionId:b.rpa()[0]}]},b.context.Ta.Wd(a).then(function(a){b.yn("renew_lr");if(!b.wla&&b.Kc)return h(b,a.ur[0].data,b.Kc).then(function(){b.yn("renew_ld");})["catch"](function(){b.yn("renew_ld_failed");});})["catch"](function(a){b.yn("renew_lr_failed");b.Wx&&b.Wx(a.code,a);})):b.log.error("unrecognized messageType",a.messageType);}function n(a){var b;b=this;try{c().rP(a,function(c,d){(b.context.fe||b.context.bm)&&b.log.trace("Key status change",{sessionId:a.sessionId,keyId:k().encode(new Uint8Array(c)),status:d});if(b.context.onerror){if("expired"==d)b.context.onerror(F.IW);if("internal-error"==d)b.context.onerror(F.Ida);if("output-not-allowed"==d)b.context.onerror(F.VL);}});}catch(Y){b.log.error("Exception in iterating keystatuses",Y);}}function p(a){var b;b=a.systemCode;this.log.error("PLAYBACK: Received "+a.type+" event",{sessionId:this.Kc.sessionId,systemCode:b});if(this.context.onerror)this.context.onerror(F.WL,K.ue,b);this.close();}function l(a,b,c,d){return function(g){if(g&&g.Tja)return Promise.reject(g);a.error(c,g);if(!d)return Promise.resolve();g=m(g,b,c);return Promise.reject(g);};}function m(a,b,d){return{P:!1,code:b,Gb:K.ue,message:d+" "+a.message,Ea:c().Bc(a),cause:a,Tja:!0};}function q(a){this.context.Pa&&(this.he[a]=this.context.Pa.getTime(),this.log.trace("Milestone: "+a+", "+this.he[a]));}Object.defineProperty(d,"__esModule",{value:!0});t=a(3);D=a(2);x=a(56);d=a(21);w=a(49);z=a(23);y=a(7);F=D.I;K=D.G;S=t.Y.get(d.ve);b.prototype.Xmb=function(a,b){a.log&&(this.log=a.log);a.Qta&&(this.yn=a.Qta);b.Ta&&(this.context.Ta=b.Ta);b.onerror&&(this.context.onerror=b.onerror);};b.prototype.jx=function(){return this.Ee;};b.prototype.rpa=function(){return this.Kc?[this.Kc.sessionId]:this.keySessionId?[this.keySessionId]:[];};b.sG=function(a,b,c,d){return new Promise(function(g,f){var h,n,p,r,u;h=[{initDataTypes:[a],persistentState:"required",audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"}]},{initDataTypes:[a],persistentState:"required"}];p=l(c,F.aV,"CREATE: Request mediaKeySystem access rejected:",!0);r=l(c,F.$U,"CREATE: Create media keys rejected:",!0);u=l(c,null,"CREATE: Set server certificate api failed:",!1);c.trace("CREATE: Request media key system access options",JSON.stringify(h,null," "));y.ii.requestMediaKeySystemAccess(b,h).then(function(a){c.trace("CREATE: Key System Access config",JSON.stringify(a.getConfiguration(),null," "));return a;})["catch"](p).then(function(a){return a.createMediaKeys();})["catch"](r).then(function(a){var b;n=a;if(!d)return Promise.resolve();if(!S.sA(a.setServerCertificate))return c.error("CREATE: MediaKeys setServerCertificate is not a function"),Promise.resolve();b=k().decode(d);c.trace("CREATE: Calling setServerCertificate");return a.setServerCertificate(b.buffer);})["catch"](u).then(function(){c.trace("CREATE: Mediakeys resolved");g(n);})["catch"](function(a){a&&a.Tja||(a=m(c,F.BDa,"CREATE: Generic mediakeys error"));f(a);});});};b.prototype.create=function(a,c){var g;function d(a){g.vh=a;return{P:!0,vh:a};}g=this;g.yn("lg");g.log.trace("CREATE: Creating the media keys",{keySystem:a});g.Ee=a;return c?(g.log.trace("CREATE: Consuming pre-cached mediakeys instance"),Promise.resolve(d(c))):b.sG(g.LQ,a,g.log,g.context.VC).then(d);};b.prototype.close=function(){var a;a=this;if(!a.Kc||this.wla)return Promise.resolve();a.log.trace("CLOSE: Closing the session",{sessionId:a.Kc.sessionId});this.wla=!0;a.Kc.removeEventListener("keystatuseschange",a.Ota);a.Kc.removeEventListener("error",a.Wx);return a.Kc.close().then(function(){a.log.info("CLOSE: Closed the session");a.context.Ma&&a.context.Ma.setMediaKeys(null).then(function(){a.log.trace("CLOSE: Successfully set the MediaKeys to null");})["catch"](function(b){a.log.warn("CLOSE: Unable set the MediaKeys to null",b);});a.Kc=void 0;a.vh=void 0;})["catch"](function(b){a.log.warn("CLOSE: Unable close the EME session",b);});};b.prototype.Wd=function(a,b){var d,g;if(0===b.length)return Promise.reject({code:D.I.ZIa});b=b[0];d=this;g=1;return new Promise(function(f,n){var l,r;function p(a){d.Kc&&(d.Kc.removeEventListener("message",l),d.Kc.removeEventListener("error",r),d.Kc.addEventListener("message",d.onMessage),d.Kc.addEventListener("error",d.Ycb));a.state=g;a.P?f(a):(d.close(),d.Iva(a),n(a));}if(!d.Kc){d.log.trace("LICENSE: Creating the key session",{keySystem:d.vh.keySystem});try{d.Kc=d.vh.createSession(d.context.m4?"persistent":"temporary");}catch(aa){p({P:!1,code:F.Taa,Gb:K.ue,message:"Unable to create a persisted key session",Ea:c().Bc(aa),cause:aa});}}l=function(b){var f,n,l;f=new Uint8Array(b.message);n=b.messageType;g=12;d.log.trace("LICENSE: Received "+b.type+" event",{sessionId:b.target.sessionId,keySystem:b.target.keySystem,messageType:n});(d.context.fe||d.context.bm||d.context.Hp)&&d.log.debug("LICENSE: License challenge",k().encode(f));l=/clearkey/i.test(d.Kc.keySystem)?"clearkey":"widevine";n={tg:a,L5:n,Ph:l,Tj:[{data:f,sessionId:b.target.sessionId}]};"license-request"!==b.messageType&&p({P:!1,code:F.Rp,Gb:K.yDa,state:g,message:"Message type - "+b.messageType+" - is not supported"});d.yn("lc");b={data:f,Ph:l};d.context.H6?d.context.UR(b):d.sua=b;d.context.Ta.Wd.call(d.context.Ta,n).then(function(a){d.yn("lr");d.Zcb();if(!d.context.H6)d.tua=a.ur[0].data,g=13,p({P:!0,state:g});else if(d.Kc&&!d.WWa)return h(d,a.ur[0].data,d.Kc).then(function(){g=30;p({P:!0,state:g});});})["catch"](function(a){p(c().sj(a,{state:g}));});};r=function(a){var b;b=a.systemCode;d.log.error("LICENSE: Received "+a.type+" event",{sessionId:d.Kc,systemCode:b});p({P:!1,code:F.WL,Gb:K.ue,Dd:b,state:g,message:"Received a key error.",Ea:c().Bc(a),cause:a});d.Kc=void 0;};d.Kc.addEventListener("message",l);d.Kc.addEventListener("keystatuseschange",d.Ota);d.Kc.addEventListener("error",r);(d.context.fe||d.context.bm||d.context.Hp)&&d.log.debug("LICENSE: PSSH",k().encode(b));d.Kc.generateRequest(d.LQ,b).then(function(){d.log.trace("LICENSE: Generate succeeded",{keySystem:d.Kc.keySystem,sessionId:d.Kc.sessionId});})["catch"](function(a){d.log.error("LICENSE: Unable to generate a license request",a);p({P:!1,code:F.cV,Gb:K.ue,state:g,message:"Unable to generate request.",Ea:c().Bc(a),cause:a});});});};b.prototype.ZTa=function(){var a;a=this.tua;a||this.log.error("pending license must exist at this point");this.tua=void 0;return h(this,a,this.Kc);};b.prototype.Ova=function(){return Promise.resolve({P:!0});};b.prototype.Pna=function(a){var b;b=this;b.log.trace("SECURE_STOP: Executing expedite");return new Promise(function(c,d){function g(a){b.log.trace("SECURE_STOP: Calling session close",{result:JSON.stringify(a)});b.close().then(function(){b.log.trace("SECURE_STOP: Session close is successful");a.P?(b.log.trace("SECURE_STOP: Resolving expedite"),c(a)):(b.log.trace("SECURE_STOP: Rejecting expedite"),d(a));});}return b.context.Ta.stop.call(b.context.Ta,a).then(function(){b.log.trace("SECURE_STOP: Sent playdata, shutting down session.");g({P:!0,K5:void 0,WC:void 0,o0:void 0});})["catch"](function(a){b.log.error("SECURE_STOP: Server request failed",{code:a.code,subCode:a.Gb,extCode:a.Dd,edgeCode:a.Sl,message:a.Sf});g(a);});});};b.prototype.$_a=function(a){this.log.trace("SECURE_STOP: Executing deferred");return this.Pna(a);};b.prototype.Pqa=function(){return this.context.fe||this.context.bm;};f.K=b;},function(f,d,a){var g,n;function b(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;}function c(a){return(a=a.match(/Firefox\/(\d*)\./))&&Number(a[1])||0;}function k(a){a=a.match(/Mac OS X (\d*)_(\d*)_(\d*)/);return{$$a:a&&Number(a[1])||0,Abb:a&&Number(a[2])||0,deb:a&&Number(a[3])||0};}function h(a){return(a=a.match(/Edge\/(\d*)\./))&&Number(a[1])||0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(16);n=a(7);d.Mub=function(a,c,d){b(n.Fh)>=a&&g.Aa(c,d);};d.Exb=b;d.Zja=function(a,b){49<=c(n.Fh)&&g.Aa(a,b);};d.Ixb=c;d.Oub=function(a,b,c,d,f){var h,l,p;h=k(n.Fh);l=h.$$a;p=h.Abb;h=h.deb;(l>a||l===a&&p>b||l===a&&p===b&&h>=c)&&g.Aa(d,f);};d.Oxb=k;d.Nub=function(a,b,c){h(n.Fh)>=a&&g.Aa(b,c);};d.Hxb=h;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(69);k=a(167);f=a(4);a=a(34);d.Fza=!0;d.MKa=!1;c=b.Y.get(c.$n);b=b.Y.get(k.YL);d.yIa=b.Uc;d.Zn={};d.Mca=c.tj;d.gV=c.Xl;d.Yaa=c.FP;d.rba=c.w2;d.vaa=c.i1;d.zpb=c.h1;d.Apb=c.i1;d.xaa=c.Rma;d.drb=c.F9a;d.lHa=c.Sra;d.Vrb=!1;d.xHa=!0;d.hf={gV:c.Xl,Tn:void 0,vs:void 0,tCa:void 0,sCa:void 0,mJa:void 0,uaa:void 0,rCa:void 0};d.rIa=b.zA;d.sIa=b.MUa;d.FIa=b.y8;d.qIa=b.sO;d.OIa=b.kU;d.JIa=b.as;d.wIa=b.E1;d.xIa=b.AP;d.BIa=b.rsa.ma(f.Ia);d.AIa=b.r5.ma(a.Dk);d.oIa=b.e_.ma(a.Dk);d.pIa=b.h_.ma(a.Dk);d.CIa=b.t5.ma(f.Ia);d.DIa=b.xab.ma(a.Dk);d.zIa=b.WB;d.MIa=b.ZT;d.PIa=b.b$;d.tIa=b.N_;d.uIa=b.e0;d.vIa=b.sla;d.HIa=b.GT;d.GIa=b.Z8.ma(a.Dk);d.NIa=b.rza;d.EIa=b.F7;d.IIa=b.v9;d.KIa=b.pD.ma(a.Dk);d.LIa=b.XT.ma(f.Ia);d.Fda=void 0;},function(f,d,a){var c,k,h,g,n,l;function b(a,b){a=k.Pd.call(this,a,"ManifestParserConfigImpl")||this;a.Ut=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);g=a(38);n=a(167);l=a(34);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{e9:{configurable:!0,enumerable:!0,get:function(){return[];}},h2:{configurable:!0,enumerable:!0,get:function(){return"";}},S_:{configurable:!0,enumerable:!0,get:function(){return[];}},R_:{configurable:!0,enumerable:!0,get:function(){return[];}},j2:{configurable:!0,enumerable:!0,get:function(){return"";}},Q3:{configurable:!0,enumerable:!0,get:function(){return 0;}},pD:{configurable:!0,enumerable:!0,get:function(){return this.Ut.pD.ma(l.Dk);}},as:{configurable:!0,enumerable:!0,get:function(){return this.Ut.as;}}});a=b;f.__decorate([g.config(g.c9,"supportedAudioTrackTypes")],a.prototype,"e9",null);f.__decorate([g.config(g.string,"forceAudioTrack")],a.prototype,"h2",null);f.__decorate([g.config(g.Mya,"cdnIdWhiteList")],a.prototype,"S_",null);f.__decorate([g.config(g.Mya,"cdnIdBlackList")],a.prototype,"R_",null);f.__decorate([g.config(g.string,"forceTimedTextTrack")],a.prototype,"j2",null);f.__decorate([g.config(g.fv,"imageSubsResolution")],a.prototype,"Q3",null);f.__decorate([g.config(g.fv,"timedTextSimpleFallbackThreshold")],a.prototype,"pD",null);f.__decorate([g.config(g.c9,"timedTextProfiles")],a.prototype,"as",null);a=f.__decorate([c.O(),f.__param(0,c.l(h.ni)),f.__param(1,c.l(n.YL))],a);d.HGa=a;},function(f,d,a){var c,k,h,g;function b(a,b){return k.JL.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(128);k=a(377);h=a(72);g=a(151);ja(b,k.JL);b.prototype.aeb=function(a){var b,d;b=this;a=Ba(c.dJ(function(a){return a.Lb&&0<a.Lb.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.An});});a=d.map(function(a){var c;c=a.fi;c={type:h.Hf.video,ec:a.An,UH:a.uK,fi:g.uX[c.toLowerCase()]||g.fo.vz,ita:c,Lb:[]};c.Lb=b.Cya(a.Lb,c);b.log.trace("Transformed video track",{StreamCount:c.Lb.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Tdb=function(a){var b;b=a.map(function(a){return a.X6;}).filter(Boolean);b=[].concat.apply([],[].concat(kb(b))).map(function(a){return a.$;});a=a.map(function(a){return a.Be;}).filter(Boolean).map(function(a){return a.$;});return 0<b.length?b:a;};d.MMa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.oAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(f,d,a){var c,k,h,g,n;function b(a,b,c,d){a=k.JL.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(730);k=a(377);h=a(128);g=a(72);n=a(151);ja(b,k.JL);b.prototype.Cdb=function(a,b,d){var f,k,l;f=this;a=Ba(h.dJ(function(a){return a.Lb&&0<a.Lb.length;},a));k=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Audio track is missing streams",f.Cpa(a));});l=this.config.e9;a=Ba(h.dJ(function(a){return 0===l.length||0<=l.indexOf(a.fi);},k));k=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Audio track is not supported",f.Cpa(a));});a=k.map(function(a){var h;h=a.fi;h={type:g.Hf.audio,ec:a.An,UH:a.uK,fi:n.uX[h.toLowerCase()]||n.fo.vz,ita:h,gj:a.language,displayName:a.PB,Uj:a.Uj,zvb:a.Uj,yvb:Number(a.Uj[0]),yj:f.l4a(a.An,b,d),izb:{Bcp47:a.language,TrackId:a.An},Lb:[],isNative:a.isNative};h.Lb=f.Cya(a.Lb,h);f.log.trace("Transformed audio track",h,{StreamCount:h.Lb.length,AllowedTimedTextTracks:h.yj.length});h.i0=c.oAa[h.Lb[0].ye];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.IUa=function(a){var b,c;b=this;c=this.config.h2;if(c){if(a=Ba(a.filter(function(a){return a.gj==c||a.ec==c;})).next().value)return a;}else if(this.j.TP&&(a=Ba(a.filter(function(a){return a.ec==b.j.TP;})).next().value))return a;};b.prototype.Cpa=function(a){return{language:a.PB,bcp47:a.language,type:a.fi};};b.prototype.l4a=function(a,b,c){return b.filter(function(b){return b.C9.AUDIO===a;}).map(function(a){return a.C9.Dfa;}).map(function(a){return c.find(function(b){return b.ec===a;});}).filter(Boolean);};d.nAa=b;},function(f,d){function a(a,c,d){this.log=a;this.j=c;this.G9=d;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.$db=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Gc&&0<a.Gc.length;}).map(function(a){return b.G9(b.j,a.id,a.height,a.width,a.Aua,a.Bua,a.size,{unknown:a.Gc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.uMa=a;},function(f,d){function a(a,c,d,f,g,n){this.m5=a;this.T_=c;this.fya=d;this.zmb=f;this.nka=g;this.wza=n;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.cS=function(a){var b,d,f,g,n,l,r,m,q,t,D,x,w,z,y,F;a=this.m5.decode(a);b=this.T_.lua(a.sm,a.pj,!0);d=this.fya.Ydb(a.uya);f=this.zmb.$db(a.Gya);g=this.nka.Cdb(a.p_,a.media,d);n=this.wza.aeb(a.lU);l=this.Sdb(a,g,d);r=l[0];m=n[0];q=this.nka.IUa(g)||r.vd||g[0];r=this.fya.Nlb(q.yj)||r.Nc||q.yj[0];t=this.wza.Tdb(a.lU);D=a.Qe;x=a.rla;w=a.Qpa;z=a.lj;y=a.p_.findIndex(function(a){return a.An==q.ec;});F=a.lU.findIndex(function(a){return a.An==m.ec;});return{Jn:t,hj:b,Sm:g,ms:n,yj:d,hs:f,Qe:D,Tib:x,ru:w,lj:z,Dma:y,Jma:F,sS:l,Ima:m,Cma:q,S_a:r,Azb:a};};a.prototype.Sdb=function(a,c,d){var b,g;b=[];g=a.Hma[0];b.push({vd:c.find(function(a){return a.UH===g.yA;}),Nc:d.find(function(a){return a.UH===g.Vxa;}),FAb:0});return b;};d.JGa=a;},function(f,d,a){var c,k,h,g;function b(a,b,c,d,g){this.log=a;this.config=b;this.j=c;this.T_=d;this.L6=g;}Object.defineProperty(d,"__esModule",{value:!0});c=a(68);k=a(7);h=a(151);g=a(208);b.prototype.Ydb=function(a){var b;b=this;a=a.map(function(a){var d,g,f;d=b.gmb(a);!1!==a.ZQ||d.length||b.log.error("track without downloadables",b.apa(a));!0!==a.UQ||d.length||b.log.error("forced track without downloadables",b.apa(a));g={};f=[];if(0<d.length){g=d[0];f=g.profile;if(f==c.Fj.oz||f==c.Fj.LL)g=b.sib(d);f=b.T_.lua(a.dla,void 0,!1);}a=b.L6(b.j,a.An,a.id,g.ad,g.Gc||{},f,a.language,a.PB,h.uX[a.fi.toLowerCase()]||h.fo.vz,a.DS.toUpperCase(),g.profile,b.S5a(g)||{},a.ZQ,a.UQ,a.$H);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Nlb=function(a){var b,c;b=this;c=this.config.j2;if(c){if(a=Ba(a.filter(function(a){return a.gj==c||a.ec==c;})).next().value)return a;}else if(this.j.UP&&(a=Ba(a.filter(function(a){return a.ec==b.j.UP;})).next().value))return a;};b.prototype.gmb=function(a){var b,c,d;b=this;c=a.Kya;d=a.cna;a=Object.keys(c||{}).map(function(a){var g;g=c[a];return{ad:d[a],profile:a,size:g.size||0,ed:b.j5a(a,g),offset:g.CI||0,ueb:g.width,xua:g.height,Gc:g.cr};});a.sort(function(a,b){return a.ed-b.ed;});return a;};b.prototype.j5a=function(a,b){var d,g;d=this.config.as.indexOf(a);b=b.size;g=this.config.pD;return a===c.Fj.LU&&0<g&&b>g?this.config.as.length+1:0<=d?d:this.config.as.length;};b.prototype.S5a=function(a){if(a.profile===c.Fj.oz||a.profile===c.Fj.LL)return{offset:a.offset,length:a.size,gBb:{width:a.ueb,height:a.xua}};};b.prototype.sib=function(a){var b,d;b=this.config.Q3||g.qX.a3();d=Ba(a.filter(function(a){return a.profile===c.Fj.oz||a.profile===c.Fj.LL;}).filter(function(a){return a.xua===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Vp.height,intendedResolution:b});return a[0];};b.prototype.apa=function(a){return{isNone:a.ZQ,isForced:a.UQ,bcp47:a.language,id:a.An};};d.$La=b;},function(f){f.K=function(d){return function(){return!d.apply(this,arguments);};};},function(f,d,a){var b,c;b=a(735);d=a(45);c=a(384);a=d(function(a,d){return c(b(a),d);});f.K=a;},function(f,d,a){d=a(212);a=a(210);a=d(a);f.K=a;},function(f,d,a){d=a(45)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});f.K=d;},function(f,d,a){var b;d=a(45);b=a(738);a=d(function(a,d){return b([a],d);});f.K=a;},function(f,d,a){var b,c;d=a(45);b=a(381);c=function(){function a(a,b){this.PK=b;this.aH=a;}a.prototype["@@transducer/init"]=b.cd;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.PK["@@transducer/step"](a,this.aH(b));};return a;}();a=d(function(a,b){return new c(a,b);});f.K=a;},function(f,d,a){var b,c,k,h,g,n;d=a(45);b=a(383);c=a(379);k=a(210);h=a(740);g=a(378);n=a(380);a=d(b(["fantasy-land/map","map"],h,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return g(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return k(function(c,d){c[d]=a(b[d]);return c;},{},n(b));default:return c(a,b);}}));f.K=a;},function(f,d,a){var b,c;d=a(45);b=a(741);c=a(739);a=d(function(a,d){return b(c(a),d);});f.K=a;},function(f,d,a){d=a(45)(function(a,c){return c>a?c:a;});f.K=d;},function(f,d,a){var c,k;function b(a,d,f){return function(){var m;for(var g=[],h=0,n=a,l=0;l<d.length||h<arguments.length;){l<d.length&&(!k(d[l])||h>=arguments.length)?m=d[l]:(m=arguments[h],h+=1);g[l]=m;k(m)||--n;l+=1;}return 0>=n?f.apply(this,g):c(n,b(a,g,f));};}c=a(209);k=a(152);f.K=b;},function(f,d,a){var b,c,k,h,g;d=a(45);b=a(379);c=a(378);k=a(743);h=a(742);g=a(737);a=d(function(a,d){return c(g(k,0,h("length",d)),function(){var c,g;c=arguments;g=this;return a.apply(g,b(function(a){return a.apply(g,c);},d));});});f.K=a;},function(f,d,a){var b;d=a(105);b=a(745);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});f.K=a;},function(f,d,a){var b,c;b=a(211);c=Object.prototype.toString;f.K=function(){return"[object Arguments]"===c.call(arguments)?function(a){return"[object Arguments]"===c.call(a);}:function(a){return b("callee",a);};};},function(f,d,a){var b,c;d=a(45);b=a(381);c=function(){function a(a,b){this.PK=b;this.aH=a;}a.prototype["@@transducer/init"]=b.cd;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.aH(b)?this.PK["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new c(a,b);});f.K=a;},function(f,d,a){var b;b=a(209);d=a(45)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});f.K=d;},function(f){var d;d=function(){function a(a){this.aH=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.aH(a,c);};return a;}();f.K=function(a){return new d(a);};},function(f){f.K=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(f,d,a){var b,c;d=a(105);b=a(382);c=a(751);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||c(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});f.K=a;},function(f){f.K=function(d,a){for(var b=0,c=a.length,f=[];b<c;)d(a[b])&&(f[f.length]=a[b]),b+=1;return f;};},function(f){f.K=function(d){return"function"===typeof d["@@transducer/step"];};},function(f,d,a){var b;d=a(384);b=a(746);a=a(736);a=b([d,a]);f.K=a;},function(f,d,a){var b;d=a(212);b=a(211);a=d(function(a,d,f){var c,h;c={};for(h in d)b(h,d)&&(c[h]=b(h,f)?a(h,d[h],f[h]):d[h]);for(h in f)b(h,f)&&!b(h,c)&&(c[h]=f[h]);return c;});f.K=a;},function(f,d,a){var b,c;d=a(212);b=a(385);c=a(756);a=d(function h(a,d,f){return c(function(c,d,g){return b(d)&&b(g)?h(a,d,g):a(c,d,g);},d,f);});f.K=a;},function(f,d,a){var b;d=a(45);b=a(757);a=d(function(a,d){return b(function(a,b,c){return c;},a,d);});f.K=a;},function(f,d,a){var c;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(128);b.prototype.lua=function(a,b,d){var g,f,h,k,l;g=this;f=this.config.S_;h=this.config.R_;a=Ba(c.dJ(function(a){return(!f.length||0<=f.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));k=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Cdn is not allowed",{Id:a.id});});l=k.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,zd:a.zd,type:a.type,N4:a.key,Oyb:a.$ra,location:{id:c.key,zd:c.zd,level:c.level,weight:c.weight,hj:[]}};});l.sort(function(a,b){return a.zd-b.zd;});l.forEach(function(a){return a.location.hj=l.filter(function(b){return b.N4===a.N4;});});this.log.trace("Transformed cdns",{Count:l.length});if(d&&!l.length)throw Error("no valid cdns");return l;};d.FBa=b;},function(f,d,a){var c,k,h,g,n,l,r,m,q,t,D,x,w;function b(a,b,c,d,g,f){this.Uf=a;this.m5=b;this.config=c;this.L6=d;this.G9=g;this.YT=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);h=a(153);g=a(386);n=a(759);l=a(734);r=a(733);m=a(732);q=a(731);t=a(729);D=a(376);x=a(375);a=a(374);b.prototype.create=function(a){var b,c;b=this.Uf.Fb("ManifestParser",a);c=new n.FBa(b,this.config);return new r.JGa(this.m5,c,new l.$La(b,this.config,a,c,this.L6),new m.uMa(b,a,this.G9),new q.nAa(b,this.config,a,this.YT),new t.MMa(b,this.YT));};w=b;w=f.__decorate([c.O(),f.__param(0,c.l(k.Qb)),f.__param(1,c.l(h.Rca)),f.__param(2,c.l(g.Sca)),f.__param(3,c.l(D.Aea)),f.__param(4,c.l(a.Nfa)),f.__param(5,c.l(x.Jfa))],w);d.IGa=w;},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(387);c=a(760);k=a(386);h=a(728);g=a(376);n=a(375);d.fab=new f.Xb(function(d){d(k.Sca).to(h.HGa).X();d(b.Tca).to(c.IGa).X();d(g.Aea).bg(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(207).LE;return new(Function.prototype.bind.apply(d,[null].concat(kb(c))))();});d(n.Jfa).bg(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(368).zBa;return new(Function.prototype.bind.apply(d,[null].concat(kb(c))))();});});},function(f,d,a){var c,k,h,g,n,l,r;function b(a,b,c,d,g){this.Ko=a;this.mf=b;this.config=c;this.tj=g;this.log=d.Fb("CDMAttestedDescriptor");this.Koa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(95);h=a(49);g=a(25);n=a(12);l=a(91);a=a(92);b.prototype.Koa=function(){var a,b;a=this;if(!this.config().w1a)return this.tj.wf.removeServiceToken("cad"),Promise.resolve(void 0);if(this.Joa())return Promise.resolve(void 0);if(!this.fla){this.fla=this.Ko().then(function(c){b=c;c={type:l.ul.vv,KQ:a.mf.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="),context:{Uc:a.config().Uc}};return b.a4a(c);}).then(function(b){var c;c=a.mf.encode(b.F4.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);}).then(function(b){if(!a.Joa())return b;});}return this.fla;};b.prototype.Joa=function(){var a;a=this.tj.wf.getServiceTokens();return a&&a.find(function(a){return"cad"===a.name;});};r=b;r=f.__decorate([c.O(),f.__param(0,c.l(k.ND)),f.__param(1,c.l(h.Bk)),f.__param(2,c.l(g.Ef)),f.__param(3,c.l(n.Qb)),f.__param(4,c.l(a.Bv))],r);d.bBa=r;},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1).__exportStar(a(762),d);},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(388);c=a(763);d.SVa=new f.Xb(function(a){a(b.V$).to(c.bBa).X();});},function(f,d,a){var c,k,h;function b(a){this.Sa=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(21);h=a(4);b.prototype.Mkb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Sa.Mf(c)?d=Math.round(c*b.ma(h.Ia)/100):(a=parseInt(a),this.Sa.wo(a)&&(d=a));return h.Pb(Math.min(d,b.ma(h.Ia)));};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.ve))],a);d.PAa=a;},function(f,d,a){var c,k;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(25);b.prototype.M2=function(){return this.hu().mVa;};b.prototype.N2=function(){return this.hu().nVa;};b.prototype.B5a=function(){return this.hu().oVa;};b.prototype.B2=function(){return this.hu().Bka;};b.prototype.hu=function(){return this.config();};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.Ef))],k);d.OAa=k;},function(f,d,a){var c,k,h,g,n,l;function b(a,b,c,d){this.uO=b;this.Sa=c;this.lVa=d;this.ba=a.Fb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(390);h=a(389);g=a(12);n=a(21);l=a(4);b.prototype.QZ=function(a){var b;b=a.jb.playbackState?a.jb.playbackState.currentTime:void 0;b=void 0!==b?l.Pb(b):this.P4a(a.M);return this.Sa.Qf(b)?(this.ba.info("Overriding bookmark",{From:a.yD.ma(l.Ia),To:b.ma(l.Ia)}),a.jb.De&&this.qqa(a)?(this.ba.trace("Ignoring override bookmark since its too close to end"),l.mm(0)):b):this.u8a(a)?(this.ba.trace("Ignoring bookmark because it's too close to beginning"),l.mm(0)):this.qqa(a)?(this.ba.trace("Ignoring bookmark because it's too close to end"),l.mm(0)):a.yD;};b.prototype.u8a=function(a){return 0>a.yD.Tk(this.M2(a));};b.prototype.M2=function(a){return this.Cka(this.uO.M2(),a.jJ);};b.prototype.qqa=function(a){return 0<a.yD.Tk(this.N2(a));};b.prototype.N2=function(a){var b;b=a.jb.De?this.uO.B5a():this.uO.N2();return a.jJ.Kd(this.Cka(b,a.jJ));};b.prototype.P4a=function(a){var b;a=this.uO.B2()[a];b=-1;this.Sa.oh(a)?b=parseInt(a):this.Sa.Mf(a)&&(b=a);if(this.Sa.wo(b))return l.Pb(b);};b.prototype.Cka=function(a,b){return this.lVa.Mkb(a,b);};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(g.Qb)),f.__param(1,c.l(k.P$)),f.__param(2,c.l(n.ve)),f.__param(3,c.l(h.O$))],a);d.QAa=a;},function(f,d,a){var b,c,k,h,g,n;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(154);c=a(390);k=a(389);h=a(767);g=a(766);n=a(765);d.y_=new f.Xb(function(a){a(b.WK).to(h.QAa).X();a(c.P$).to(g.OAa).X();a(k.O$).to(n.PAa).X();});},function(f,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});ja(a,Error);d.mca=a;},function(f,d,a){var c,k,h,g;function b(a){this.Sa=a;this.jZ={};this.Uia={};for(var b in c.KD)this.Sa.Mf(parseInt(b))&&(this.Uia[c.KD[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(213);k=a(769);h=a(0);a=a(21);b.prototype.track=function(a){var b;if(this.Sa.oh(a)){if(!this.Uia[a])throw new k.mca("Cast Interaction type "+a+" is undefined.");}else{if(!this.Sa.Vk(c.KD[a]))throw new k.mca("Cast Interaction type "+a+" is undefined.");a=c.KD[a];}b=this.jZ[a];this.jZ[a]=b?b+1:1;};g=b;g=f.__decorate([h.O(),f.__param(0,h.l(a.ve))],g);d.DBa=g;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(213);c=a(770);d.DO=new f.Xb(function(a){a(b.eaa).to(c.DBa);});},function(f,d,a){var k,h,g;function b(a,b,c){var d;d=this;this.ba=a;this.valid=!0;this.zP=!1;this.context=c.context;this.size=c.size;this.Ug=b.create().then(function(a){d.storage=a;return a.lI("mediacache").then(function(a){d.keys=a;});});}function c(a,b){this.Uf=a;this.ff=b;this.KG={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(12);a=a(51);c.prototype.QO=function(a){this.KG[a.context]=new b(this.Uf.Fb("DiskStorageContext"),this.ff,a);return this.KG[a.context];};g=c;g=f.__decorate([k.O(),f.__param(0,k.l(h.Qb)),f.__param(1,k.l(a.ql))],g);d.kDa=g;b.prototype.create=function(a,b,c,d){var g,f,h;g=this;f=this.getKey(a,b);h=Date.now();this.Ug.then(function(){g.keys[f]=void 0;return g.storage.save(f,c,!1).then(function(){g.ba.trace("create succeeded for "+f+", "+(Date.now()-h)+" ms");d(g.rQ(a,b));});})["catch"](function(c){g.ba.trace("create failed",c);d(g.iu(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ba.trace("append "+c);d(this.iu(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,g,f;d=this;g=this.getKey(a,b);f=Date.now();this.Ug.then(function(){if(d.keys.hasOwnProperty(g))return delete d.keys[g],d.storage.remove(g).then(function(){d.ba.trace("remove succeeded for "+g+", "+(Date.now()-f)+" ms");c(d.rQ(a,b));});c(d.rQ(a,b));})["catch"](function(g){d.ba.trace("remove failed",g);c(d.iu(a,b,g));});};b.prototype.read=function(a,b,c,d,g){var f,h,k;f=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?g(this.iu(a,b,"byteStart/byteEnd combination is not supported")):this.Ug.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(n){f.ba.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");g(Object.assign(f.rQ(a,b),{value:n.value,cvb:c,end:d}));});g(f.iu(a,b,"Item doesn't exist"));})["catch"](function(c){f.ba.trace("read failed",c);g(f.iu(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ba.trace("info ");this.Ug.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.x6(c);a[c.yG]||(a[c.yG]={});a[c.yG][c.su]={size:0};return a;},{}),total:b.size,nCb:0};a(c);})["catch"](function(c){b.ba.trace("info failed",c);a(b.iu(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,g;d=this;g=this.getKey(a,b||"");this.Ug.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(g);}).reduce(function(a,b){a[d.x6(b).su]={size:0};return a;},{});d.ba.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ba.trace("query failed",a);c({});});};b.prototype.ls=function(a){var b;b=this;this.ba.trace("validate");this.Ug.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.x6(c).su]={size:0};return a;},{});a(c);})["catch"](function(c){b.ba.trace("validate failed",c);a(b.iu(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.rQ=function(a,b){return{P:!0,yG:void 0===a?"":a,key:void 0===b?"":b,onb:0,Sh:this.size};};b.prototype.iu=function(a,b,c){return{P:!1,error:c,yG:void 0===a?"":a,key:void 0===b?"":b,onb:0,Sh:this.size};};b.prototype.x6=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{yG:a,su:b};};d.Mpb=b;},function(f,d,a){var c,k;function b(a){var b;b=this;this.ff=a;this.ff.create().then(function(a){b.storage=a;});}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(51);b.prototype.getData=function(){var a;a=this.storage;return a?a.D6a():{};};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.ql))],k);d.fAa=k;},function(f,d,a){var c,k,h;function b(a){this.Uf=a;this.Ar={};this.ba=this.Uf.Fb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);a=a(12);b.prototype.load=function(a){var b;if(this.Ar.hasOwnProperty(a)){b=this.Ar[a];this.ba.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ba.debug("Storage entry not found",{key:a});return Promise.reject({T:k.G.Hk});};b.prototype.save=function(a,b,c){if(c&&this.Ar.hasOwnProperty(a))return Promise.resolve(!1);this.Ar[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ar[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ar).map(function(b){return{key:b,value:a.Ar[b]};});return Promise.resolve(b);};b.prototype.lI=function(a){var b;b=Object.keys(this.Ar).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ar={};return Promise.resolve();};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(a.Qb))],h);d.ZGa=h;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.mCa="__default_rule_key__";},function(f,d,a){var k,h,g,n,l,r,m,q;function b(a,b,c,d){this.ba=a;this.config=b;this.s8a=c;this.I5=d;this.Xm={mem:{storage:this.I5,jc:this.ema(),key:"mem"}};this.Lsa=!1;this.Wu=this.config.Wu;}function c(a,b,c,d){this.Uf=a;this.ff=b;this.I5=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(2);g=a(155);n=a(12);l=a(392);r=a(775);m=a(214);a=a(50);c.prototype.create=function(){this.uG||(this.uG=this.NA());return this.uG;};c.prototype.NA=function(){this.TTa=new b(this.Uf.Fb("AppStorage"),this.config,this.ff,this.I5);return this.TTa.create();};q=c;q=f.__decorate([k.O(),f.__param(0,k.l(n.Qb)),f.__param(1,k.l(g.VV)),f.__param(2,k.l(l.ada)),f.__param(3,k.l(a.tl))],q);d.eAa=q;b.prototype.create=function(){var a;a=this;return this.CZa().then(function(b){if(!a.kWa(b,a.config.P3))throw a.ecb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.G2(a);f=Date.now();g.storage.load(a).then(function(a){b.yk(g.key,"load",!0,f);c(a);})["catch"](function(a){b.yk(g.key,"load",(a&&(a.T||a.errorSubCode))===h.G.Hk,f);d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){var h,k;h=d.G2(a);k=Date.now();h.storage.save(a,b,c).then(function(a){d.yk(h.key,"save",!0,k);g(a);})["catch"](function(a){d.yk(h.key,"save",!1,k);f(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=b.G2(a);f=Date.now();g.storage.remove(a).then(function(){b.yk(g.key,"remove",!0,f);c();})["catch"](function(a){b.yk(g.key,"remove",!1,f);d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){var d;a.Kva("mem").then(function(){d=Date.now();return a.Kva("idb");})["catch"](function(b){a.yk("idb","removeAll",!1,d);return Promise.reject(b);}).then(function(){a.yk("idb","removeAll",!0,d);b();})["catch"](function(b){a.ba.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b,c;a=this;b=[];return this.Fra("mem").then(function(d){b=b.concat(d);c=Date.now();return a.Fra("idb");})["catch"](function(b){a.p9a(b)||(a.yk("idb","loadAll",!1,c),a.ba.error("IndexedDb.LoadAll exception",b));return[];}).then(function(d){b=b.concat(d);a.yk("idb","loadAll",!0,c);return b;})["catch"](function(b){a.ba.error("load all failed",b);throw b;});};b.prototype.lI=function(a){var b;b=this;return new Promise(function(c,d){var g,f;g=Date.now();f=b.Xm.idb;f?f.storage.lI(a).then(function(a){b.yk("idb","loadKeys",!0,g);c(a);})["catch"](function(a){b.yk("idb","loadKeys",!1,g);b.ba.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.D6a=function(){var a;a={memSubs:this.Lsa};this.Xm.idb&&(a.idb=this.E6a());return a;};b.prototype.CZa=function(){var a;a=this;return this.s8a.create().then(function(b){a.Xm.idb={storage:b,jc:a.ema(),key:"idb"};})["catch"](function(b){a.Lsa=!0;a.ba.error("idb failed to load",b);return b||{T:h.G.Ih};});};b.prototype.kWa=function(a,b){return!a||a&&b?!0:!1;};b.prototype.ecb=function(a){var b;b="";a&&(b+=a.T);return{T:b};};b.prototype.E6a=function(){var a,b,c;a=this;c=this.Xm.idb;c&&(b=m.sfa.reduce(function(b,d){b[d]=a.F6a(c.jc[d]);return b;},{}));return b;};b.prototype.F6a=function(a){return{count:a.count,succ:a.Wxa,total:a.total,max:a.max};};b.prototype.Kva=function(a){return(a=this.Xm[a])?a.storage.removeAll():Promise.resolve();};b.prototype.Fra=function(a){return(a=this.Xm[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.q3a=function(a){for(var b in this.Wu)if(a.startsWith(b))return this.Wu[b];return this.Wu[r.mCa];};b.prototype.G2=function(a){var b,c;b=this;this.q3a(a).every(function(a){return b.Xm[a]?(c=b.Xm[a],!1):!0;});c||(this.ba.error("component not found for storageKey",{Ckb:a,Uub:Object.keys(this.Xm),rules:this.Wu}),c=this.Xm.mem);this.ba.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.ema=function(){return m.sfa.reduce(function(a,b){a[b]={count:0,total:0,Wxa:0,max:0};return a;},{});};b.prototype.yk=function(a,b,c,d){d=Date.now()-d;if(a=this.Xm[a])b=a.jc[b],b.count++,c&&(b.Wxa++,b.total+=d,d>b.max&&(b.max=d));};b.prototype.p9a=function(a){return(a&&(a.T||a.errorSubCode))===h.G.Hk;};d.u$=b;},function(f,d,a){var c,k;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(50);oa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.a9;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.eya;}}});k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.tl))],k);d.RBa=k;},function(f,d,a){var c,k,h,g,n;function b(a,b){a=h.Pd.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.Vx="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(38);h=a(39);g=a(50);a=a(27);ja(b,h.Pd);oa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Vl?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.a9;}},nO:{configurable:!0,enumerable:!0,get:function(){return this.config.nO;}},O8:{configurable:!0,enumerable:!0,get:function(){return 0;}},SJ:{configurable:!0,enumerable:!0,get:function(){return 0;}},hoa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});n=b;f.__decorate([k.config(k.fv,"simulateIdbOpenError")],n.prototype,"O8",null);f.__decorate([k.config(k.fv,"simulateIdbLoadAllError")],n.prototype,"SJ",null);f.__decorate([k.config(k.xe,"fixInvalidDatabase")],n.prototype,"hoa",null);n=f.__decorate([c.O(),f.__param(0,c.l(a.ni)),f.__param(1,c.l(g.tl))],n);d.yFa=n;},function(f,d,a){var k,h,g;function b(a,b,c){this.config=a;this.qJ=b;this.Hr=c;}function c(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});k=a(2);h=a(131);(function(a){a[a.AW=0]="NoData";a[a.Error=1]="Error";a[a.Kv=2]="Timeout";}(g=d.SKa||(d.SKa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.HP("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=k.G.gfa;switch(a.reason){case g.AW:b=k.G.Hk;break;case g.Kv:b=k.G.wLa;}d({T:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,h){d.HP(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=k.G.jfa;switch(a.reason){case g.Kv:b=k.G.zLa;}h({T:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.HP("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=k.G.jX;switch(a.reason){case g.Kv:b=k.G.efa;}d({T:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.HP("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=k.G.jX;switch(a.reason){case g.Kv:b=k.G.efa;}c({T:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.qJ.zy(this.config.timeout,new Promise(function(b,d){var f,h,k;if(a.config.SJ)d(new c(a.config.SJ));else{f=[];h=a.Hr.transaction(a.config.Vx,"readonly");k=h.objectStore(a.config.Vx).openCursor();h.onerror=function(){d(new c(g.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{f.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(x){d(new c(g.Error,x));}else b(f);};k.onerror=function(){d(new c(g.Error,k.error));};}}))["catch"](function(a){return a instanceof h.Cz?Promise.reject(new c(g.Kv,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(g.Error,a));});};b.prototype.lI=function(a){var b;b=this;return this.qJ.zy(this.config.timeout,new Promise(function(d,f){var h,k,n;if(b.config.SJ)f(new c(b.config.SJ));else{h={};k=b.Hr.transaction(b.config.Vx,"readonly");n=k.objectStore(b.config.Vx).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){f(new c(g.Error,n.error));};n.onsuccess=function(b){var k,n;try{k=b.target.result;if(k){n=k.key;a&&0!==n.indexOf(a)?d(h):(h[n]=void 0,k["continue"]());}else d(h);}catch(y){f(new c(g.Error,y));}};n.onerror=function(){f(new c(g.Error,n.error));};}}))["catch"](function(a){return a instanceof h.Cz?Promise.reject(new c(g.Kv,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(g.Error,a));});};b.prototype.HP=function(a,b,d){var f;f=this;return this.qJ.zy(this.config.timeout,new Promise(function(h,k){var n,l;n=f.Hr.transaction(f.config.Vx,b?"readwrite":"readonly");l=n.objectStore(f.config.Vx)[a](d);n.onerror=function(){k(new c(g.Error,l.error));};l.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?h(d.data):k(new c(g.AW));}catch(y){k(new c(g.AW,y));}else h();};l.onerror=function(){k(new c(g.Error,l.error));};}))["catch"](function(a){return a instanceof h.Cz?Promise.reject(new c(g.Kv,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(g.Error,a));});};d.xFa=b;},function(f,d,a){var h,g,n,l,m,q,v,t,D,x,w,z;function b(a,b,c,d,g,f){this.config=b;this.AG=c;this.ff=d;this.ynb=g;this.vk=f;this.ba=a.Fb(q.nX);}function c(a,b){this.config=a;this.cs=b;}function k(a,b,c,d,g){this.config=b;this.cs=c;this.vk=g;this.ba=a.Fb(q.nX);this.AG=new Promise(function(a,b){var c;try{c=d();c?a(c):b({T:m.G.Fba});}catch(fa){b({T:m.G.DL,cause:fa});}});}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(12);n=a(779);l=a(156);m=a(2);q=a(395);v=a(396);t=a(131);D=a(51);x=a(108);w=a(155);z=a(56);k.prototype.create=function(){this.T0||(this.T0=this.NA());return this.T0;};k.prototype.bn=function(a){var b;b=this;this.T0=null;return this.cs.zy(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof t.Cz?Promise.reject({T:m.G.DL}):a.T?Promise.reject(a):Promise.reject({T:m.G.DL,cause:a});});};k.prototype["delete"]=function(a){var b;b=this;return this.cs.zy(this.config.timeout,new Promise(function(c,d){b.AG.then(function(b){var g;g=b.deleteDatabase(a);g.onsuccess=function(){c();};g.onerror=function(){d({T:m.G.DL,cause:g.error});};})["catch"](function(a){d(a);});}));};k.prototype.NA=function(){var a,b;a=this;return this.cs.zy(this.config.timeout,new Promise(function(c,d){a.config.O8?d({T:a.config.O8}):a.AG.then(function(g){a.vk.mark(z.Wi.IEa);(b=g.open(a.config.name,a.config.version))?(b.onblocked=function(){a.vk.mark(z.Wi.FEa);d({T:m.G.BEa});},b.onupgradeneeded=function(){var c;a.vk.mark(z.Wi.PEa);c=b.result;try{c.createObjectStore(a.config.Vx,{keyPath:"name"});}catch(Y){a.ba.error("Exception while creating object store",Y);}},b.onsuccess=function(f){var h,k;a.vk.mark(z.Wi.OEa);try{h=f.target.result;k=h.objectStoreNames.length;a.ba.trace("objectstorenames length ",k);if(0===k){a.ba.error("invalid indexedDb state, deleting");a.vk.mark(z.Wi.HEa);try{h.close();}catch(fa){}g.deleteDatabase(a.config.name);setTimeout(function(){d({T:m.G.AEa});},1);return;}}catch(fa){a.ba.error("Exception while inspecting indexedDb objectstorenames",fa);}c(b.result);},b.onerror=function(){a.vk.mark(z.Wi.GEa);a.ba.error("IndexedDB open error",b.error);d({T:m.G.CEa,cause:b.error});}):d({T:m.G.Gba});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof t.Cz){try{b&&b.readyState&&a.vk.mark("readyState-"+b.readyState);}catch(S){}if(a.config.nO&&b&&"done"===b.readyState){if(a.unb(b))return a.vk.mark(z.Wi.MEa),Promise.resolve(b.result);a.vk.mark(z.Wi.LEa);}a.vk.mark(z.Wi.KEa);return Promise.reject({T:m.G.EEa});}if(c.T)return Promise.reject(c);a.vk.mark(z.Wi.JEa);a.ba.error("IndexedDB open exception occurred",c);return Promise.reject({T:m.G.DEa,cause:c});});};k.prototype.unb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(F){this.vk.mark(z.Wi.NEa);this.ba.error("failed to check open request state",F);}return!1;};a=k;a=f.__decorate([h.O(),f.__param(0,h.l(g.Qb)),f.__param(1,h.l(v.FL)),f.__param(2,h.l(t.bM)),f.__param(3,h.l(l.Eba)),f.__param(4,h.l(x.Lv))],a);d.yEa=a;c.prototype.create=function(a){return Promise.resolve(new n.xFa(this.config,this.cs,a));};a=c;a=f.__decorate([h.O(),f.__param(0,h.l(v.FL)),f.__param(1,h.l(t.bM))],a);d.zFa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.uG||(this.uG=this.NA(this.ynb));return this.uG;};b.prototype.NA=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.vk.mark(z.Wi.pLa);b.AG.create().then(function(g){b.ff.create(g).then(function(f){Promise.all(a.map(function(a){return a.ls(f);})).then(function(){b.storage=f;c(b.storage);})["catch"](function(a){b.ba.debug("DB validation failed, cause: "+a);b.config.hoa?(b.ba.debug("Fixing corrupt DB"),b.AG.bn(g).then(function(){b.ba.error("Invalid database deleted, creating new database.");b.NA().then(function(a){b.ba.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ba.error("Couldn't delete invalid database.");d(a);})):(b.ba.debug("Ignoring invalid DB due to config"),b.storage=f,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=f.__decorate([h.O(),f.__param(0,h.l(g.Qb)),f.__param(1,h.l(v.FL)),f.__param(2,h.l(w.Dba)),f.__param(3,h.l(w.ica)),f.__param(4,h.Lx(D.tfa)),f.__param(5,h.l(x.Lv))],a);d.AFa=a;},function(f,d,a){var c,k,h;function b(a){this.Hr=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);a=a(156);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var g,f;try{g=b.Hr.getItem(a);if(g){f=g;if("{"===g[0])try{f=JSON.parse(g)||g;}catch(A){}c({key:a,value:f});}else d({T:k.G.Hk});}catch(A){d({T:k.G.gfa,cause:A});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,f){if(c&&d.Hr.getItem(a))g(!1);else try{"string"===typeof b?d.Hr.setItem(a,b):d.Hr.setItem(a,JSON.stringify(b));g(!0);}catch(A){f({T:k.G.jfa,cause:A});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Hr.removeItem(a);c();}catch(u){d({T:k.G.jX,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.lI=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(a.zHa))],h);d.TFa=h;},function(f,d,a){var c,k,h,g,n;function b(a,b,c){this.qJ=b;this.config=c;this.ba=a.Fb(g.nX);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(12);h=a(131);g=a(395);a=a(394);b.prototype.ls=function(a){return this.config.enabled?this.config.timeout?this.qJ.zy(this.config.timeout,this.$ma(a)):this.$ma(a):Promise.resolve();};b.prototype.$ma=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(g){"true"!==g.value&&d();b.ba.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ba.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};n=b;n=f.__decorate([c.O(),f.__param(0,c.l(k.Qb)),f.__param(1,c.l(h.bM)),f.__param(2,c.l(a.paa))],n);d.QBa=n;},function(f,d,a){var b,c,k,h,g,n,l,m,q,v,t,D,x,w,z,y,F,K,S;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(396);c=a(51);k=a(156);h=a(782);g=a(393);n=a(781);l=a(394);m=a(155);q=a(780);v=a(778);t=a(777);D=a(776);x=a(51);w=a(392);z=a(774);y=a(214);F=a(773);K=a(391);S=a(772);d.storage=new f.Xb(function(a){a(k.nda).Pi(function(){return function(){return H.localStorage;};});a(k.Eba).Pi(function(){return function(){return H.indexedDB;};});a(y.v$).to(F.fAa).X();a(w.ada).to(z.ZGa).X();a(x.ql).to(D.eAa).X();a(g.yca).to(n.TFa).X();a(b.FL).to(v.yFa).X();a(m.ica).to(q.zFa).X();a(c.tfa).to(h.QBa).X();a(m.Dba).to(q.yEa).X();a(m.VV).to(q.AFa).X();a(l.paa).to(t.RBa).X();a(K.Iaa).to(S.kDa).X();});},function(f,d,a){var c,k,h;function b(a){this.lfb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(215);a=a(397);b.prototype.b3a=function(){var a,b;a={$G:k.sv.Unknown};b=this.lfb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.$G=b.value?k.sv.Present:k.sv.Absent;if(a.$G===k.sv.rob){c=function(){b.value&&(a.$G=k.sv.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.$G=k.sv.Error;});return a;};h=b;h=f.__decorate([c.O(),f.__param(0,c.l(a.Hea))],h);d.UDa=h;},function(f,d,a){var c,k,h;function b(a,b){this.Fsa=a;this.log=b.Fb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(399);k=a(12);a=a(0);b.prototype.R1=function(a){var b,c,d;b=this;c={zc:void 0};if(this.Fsa.Gsa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,L:1E3*a.L,YP:"24"};this.Fsa.R1(d).then(function(a){return c.zc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};h=b;h=f.__decorate([a.O(),f.__param(0,a.l(c.Wca)),f.__param(1,a.l(k.Qb))],h);d.PGa=h;},function(f,d,a){var c,k;function b(a){this.navigator=a;this.Gsa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(44);b.prototype.R1=function(a){return this.Gsa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.L,framerate:a.YP}}).then(function(a){return{NBb:a.supported,Zjb:a.smooth,Veb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.PL))],k);d.OGa=k;},function(f,d,a){var c,k;function b(a,b,d,f){a=c.sl.call(this,a,b,d)||this;a.RG=f;a.type=k.Xi.mfa;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(129);k=a(30);ja(b,c.sl);b.prototype.uH=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.RG.ci.toString()});};d.ALa=b;},function(f,d,a){var c,k,h;function b(a,b,d,f,h,l){a=c.sl.call(this,a,b,d)||this;a.Ko=f;a.XB=h;a.Pa=l;a.type=k.Xi.GU;a.log=a.XB.Fb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(129);k=a(30);h=a(4);ja(b,c.sl);b.prototype.yp=function(a){switch(a){case k.dh.Vn:return this.hlb;default:return Promise.resolve(!1);}};b.prototype.tB=function(){var a;a=this;return this.yp(k.dh.Vn).then(function(a){return a?k.dh.Vn:void 0;}).then(function(b){return a.tG(b);});};b.prototype.JZ=function(a){return this.Gu=a;};b.prototype.CK=function(){var a;if(this.Gu){a=this.Xpa&&this.Ypa&&this.Xpa.Kd(this.Ypa).ma(h.Ia);this.Gu.itshdcp=JSON.stringify({hdcp1:this.nr,time1:a});}};oa.Object.defineProperties(b.prototype,{vh:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Isa||(this.Isa=this.Ko().then(function(b){return b.P2(a.config().Uc).WT();}).then(function(a){return a.createMediaKeys();}));return this.Isa;}},hlb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.g9||(this.config().B1a?this.g9=this.vh.then(function(b){if(b&&b.getStatusForPolicy)return a.Ypa=a.Pa.sg,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.Xpa=a.Pa.sg;a.nr=b;a.log.trace("hdcpStatus: "+a.nr);return"usable"===a.nr;});a.nr="not available";a.log.trace("hdcpStatus: "+a.nr);return!1;})["catch"](function(b){a.nr="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.nr},b);return!1;}).then(function(b){a.CK();return b;}):(this.nr="not enabled",this.log.trace("hdcpStatus: "+this.nr),this.CK(),this.g9=Promise.resolve(!1)));return this.g9;}}});d.HBa=b;},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,S,B;function b(a,b,c,d,f,g,l){a=k.sl.call(this,a,b,c)||this;a.ja=d;a.Pa=f;a.XB=g;a.mf=l;a.type=h.Xi.zv;a.JD="hvc1";a.fBa="avc1";a.Cua={};a.log=a.XB.Fb("MicrosoftVideoCapabilityDetector");a.FD[h.rd.eg]=q.oc.SD;a.ikb();a.eK&&a.config().bbb?a.Z0a=a.yZa():(a.Z0a=Promise.resolve(""),a.config().dbb?a.BZa():a.config().cbb&&a.AZa());return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(68);k=a(129);h=a(30);f=a(90);g=a(166);l=a(81);p=a(4);m=a(225);q=a(130);v=a(216);t="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");D="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");x="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");w="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");z="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");y="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");F=["hdcp=1"];K=["hdcp=2"];S=new f.Jv();B=new m.yU();ja(b,k.sl);b.prototype.yp=function(a){switch(a){case h.dh.Vn:return this.Yxa();case h.dh.wv:return this.pJ;default:return Promise.resolve(!1);}};b.prototype.jx=function(){return this.eK?this.q8a?this.Yxa().then(function(a){return Promise.resolve(a?g.Mb.$d:g.Mb.BE);}):Promise.resolve(g.Mb.BE):this.ilb?Promise.resolve(g.Mb.BE):Promise.resolve(g.Mb.ao);};b.prototype.fK=function(){return this.glb();};b.prototype.hK=function(){return this.eK&&this.$xa()?this.pJ:Promise.resolve(!1);};b.prototype.dK=function(){return this.elb();};b.prototype.JZ=function(a){this.Gu=a;Object.assign(this.Gu,this.Cua);a.itshwdrm=this.eK;a.itsqhd=this.Zxa();a.itshevc=this.$xa();a.itshdr=this.fK();a.itsdv=this.dK();return a;};b.prototype.HF=function(a,b){(this.Gu?this.Gu:this.Cua)[a]=b;};b.prototype.tB=function(){var a;a=this;return this.yp(h.dh.wv).then(function(b){return b?a.tG(h.dh.wv):a.yp(h.dh.Vn).then(function(b){return b?a.tG(h.dh.Vn):a.tG(void 0);});});};b.prototype.uH=function(){return this.jx().then(function(a){return a===g.Mb.$d?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.U1=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Ba(b.Mr),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Ba(b.jm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.a7[a];c=[];f=g.Mb.ao;if(a)return b.is.oh(a)?d=a:(c=a.Sd,d=a.nf,f=a.Ee),b.Jt(f,d,c);});};b.prototype.Pw=function(){var a;a=k.sl.prototype.Pw.call(this);a[c.da.nM]="vp09.00.11.08.02";a[c.da.oM]="vp09.00.11.08.02";a[c.da.pM]="vp09.00.11.08.02";a[c.da.xV]={nf:"hev1.2.6.L90.B0",Ee:g.Mb.$d,Sd:t};a[c.da.zV]={nf:"hev1.2.6.L93.B0",Ee:g.Mb.$d,Sd:t};a[c.da.BV]={nf:"hev1.2.6.L120.B0",Ee:g.Mb.$d,Sd:t};a[c.da.DV]={nf:"hev1.2.6.L123.B0",Ee:g.Mb.$d,Sd:t};a[c.da.VD]={nf:"hev1.2.6.L150.B0",Ee:g.Mb.$d,Sd:t};a[c.da.WD]={nf:"hev1.2.6.L153.B0",Ee:g.Mb.$d,Sd:t};a[c.da.tL]={nf:"hev1.2.6.L90.B0",Ee:g.Mb.$d,Sd:x};a[c.da.uL]={nf:"hev1.2.6.L93.B0",Ee:g.Mb.$d,Sd:x};a[c.da.vL]={nf:"hev1.2.6.L120.B0",Ee:g.Mb.$d,Sd:x};a[c.da.wL]={nf:"hev1.2.6.L123.B0",Ee:g.Mb.$d,Sd:w};a[c.da.sV]={nf:"hev1.2.6.L150.B0",Ee:g.Mb.$d,Sd:w};a[c.da.uV]={nf:"hev1.2.6.L153.B0",Ee:g.Mb.$d,Sd:w};a[c.da.fL]={nf:"hev1.2.6.L90.B0",Ee:g.Mb.$d,Sd:z};a[c.da.gL]={nf:"hev1.2.6.L93.B0",Ee:g.Mb.$d,Sd:z};a[c.da.hL]={nf:"hev1.2.6.L120.B0",Ee:g.Mb.$d,Sd:z};a[c.da.iL]={nf:"hev1.2.6.L123.B0",Ee:g.Mb.$d,Sd:y};a[c.da.jL]={nf:"hev1.2.6.L150.B0",Ee:g.Mb.$d,Sd:y};a[c.da.RU]={nf:"hev1.2.6.L153.B0",Ee:g.Mb.$d,Sd:y};return a;};b.prototype.Jt=function(a,b,c){a=v.Av.RO(a,b,c);return this.Pq(a);};b.prototype.Zxa=function(){return this.Jt(g.Mb.$d,this.JD,t);};b.prototype.glb=function(){return this.Jt(g.Mb.$d,this.JD,x);};b.prototype.elb=function(){return this.Jt(g.Mb.$d,this.JD,z);};b.prototype.$xa=function(){return this.Jt(g.Mb.$d,this.JD,D);};b.prototype.Yxa=function(){var a;a=this;return this.pJ.then(function(b){return b?Promise.resolve(b):a.gva;});};b.prototype.CK=function(){this.Gu&&(this.Gu.itshdcp=JSON.stringify({hdcp1:this.Vpa,time1:this.nya-this.Lxa,hdcp2:this.Wpa,time2:this.oya-this.Mxa}));};b.prototype.ikb=function(){var a;a=this;this.eK?(this.O6=new l.mi(),this.P6=new l.mi(),this.gva=l.qa.from(this.O6).WT().then(function(a){return"probably"===a;}),this.pJ=l.qa.from(this.P6).WT().then(function(a){return"probably"===a;}),this.uxa(this.P6,this.config().fbb),this.Mua(this.w5a.bind(this),this.P6),this.pJ.then(function(b){b||(a.uxa(a.O6,a.config().ebb),a.Mua(a.v5a.bind(a),a.O6));})):(this.gva=Promise.resolve(!0),this.pJ=Promise.resolve(!1));};b.prototype.Mua=function(a,b){l.qa.cs(0,this.config().gbb).map(function(){return a();}).TJ(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).nK(l.qa.from(b)).WT();};b.prototype.uxa=function(a,b){this.ja.yg(p.Pb(b),function(){a.next("timeout");a.complete();});};b.prototype.v5a=function(){var a;a=v.Av.RO(g.Mb.BE,this.fBa,F).split("|");this.Vpa=v.Av.f9(a[0],a[1]);this.nya=this.Pa.sg.ma(p.Ia);this.Lxa=this.Lxa||this.nya;this.CK();return this.Vpa;};b.prototype.w5a=function(){var a;a=v.Av.RO(g.Mb.$d,this.JD,K).split("|");this.Wpa=v.Av.f9(a[0],a[1]);this.oya=this.Pa.sg.ma(p.Ia);this.Mxa=this.Mxa||this.oya;this.CK();return this.Wpa;};b.prototype.yZa=function(){var a;a=this;return this.H0(g.Mb.$d,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.HF("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.AZa=function(){var a;a=this;this.H0(g.Mb.ao,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.mf.decode(b));a.HF("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.HF("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.BZa=function(){var a;a=this;this.H0(g.Mb.ao,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.mf.decode(b));a.HF("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.HF("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.H0=function(a,b){var c;c=this;return new Promise(function(d,f){var m,r,q;function g(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+B.ZP(a&&a.target&&a.target.error&&a.target.error.PBb||0,4));}catch(ea){l(a.target,ea);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.N2a(a.message,"PlayReadyKeyMessage","Challenge");n(a.target);d(b);}catch(ta){l(a.target,ta);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});n(a);f(d);}function n(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);m&&m.cancel();}try{r=new Uint8Array(S.Lkb(b));q=new H.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),r);q.addEventListener("mskeymessage",k);q.addEventListener("mskeyadded",h);q.addEventListener("mskeyerror",g);m=c.ja.yg(p.Pb(1E3),function(){l(q,Error("timeout"));});}catch(la){f(la);}});};b.prototype.N2a=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};oa.Object.defineProperties(b.prototype,{q8a:{configurable:!0,enumerable:!0,get:function(){return this.config().A1a&&(!this.config().hbb||this.Zxa());}},eK:{configurable:!0,enumerable:!0,get:function(){try{return this.Pq(g.Mb.$d);}catch(P){return!1;}}},ilb:{configurable:!0,enumerable:!0,get:function(){try{return this.Pq(g.Mb.BE);}catch(P){return!1;}}}});b.wD='video/mp4;codecs="{0},mp4a";';d.EGa=b;},function(f,d,a){var c,k,h,g,l;function b(a,b,d,f){a=g.TU.call(this,a,b)||this;a.is=d;a.platform=f;a.type=c.hv.zv;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(30);k=a(68);h=a(166);g=a(400);l=a(216);ja(b,g.TU);b.prototype.cK=function(){return this.config().SG&&this.Jt(h.Mb.ao,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Pw=function(){var a;a={};a[k.Ak.xL]="mp4a.40.2";a[k.Ak.vV]="mp4a.40.5";"browser"===this.platform.h1?this.config().SG&&(a[k.Ak.dL]={nf:"avc1",Ee:h.Mb.ao,Sd:["audio-endpoint-codec=DD+JOC"]},a[k.Ak.eL]={nf:"avc1",Ee:h.Mb.ao,Sd:["audio-endpoint-codec=DD+JOC"]}):(this.config().y1&&(a[k.Ak.dL]="ec-3"),this.config().x1&&(a[k.Ak.IU]="ec-3"),this.config().SG&&(a[k.Ak.eL]={nf:"avc1",Ee:h.Mb.ao,Sd:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.U1=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Ba(b.Mr),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Ba(b.jm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.a7[a];c=[];f=h.Mb.ao;if(a)return b.is.oh(a)?d=a:(c=a.Sd,d=a.nf,f=a.Ee),b.Jt(f,d,c);});};b.prototype.Jt=function(a,b,c){a=l.Av.RO(a,b,c);return this.Pq(a);};d.cHa=b;},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,B,H;function b(a,b,c,d,f,g,h,k,l,n,p){this.cra=a;this.cast=b;this.config=c;this.ja=d;this.Pa=f;this.is=g;this.Ko=h;this.XB=k;this.RG=l;this.platform=n;this.mf=p;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(30);h=a(218);g=a(157);l=a(217);p=a(790);m=a(789);q=a(129);v=a(400);t=a(42);D=a(43);x=a(21);w=a(788);z=a(95);y=a(12);F=a(787);K=a(113);B=a(69);a=a(49);b.prototype.kZa=function(a){var b;b=this.cra.cma();switch(a){case k.hv.zv:return new p.cHa(this.config,b,this.is,this.platform);default:return new v.TU(this.config,b);}};b.prototype.TZa=function(a){var b;b=this.cra.cma();switch(a){case k.Xi.EU:a=new l.faa(this.config,b,this.is,this.cast);break;case k.Xi.GU:a=new w.HBa(this.config,b,this.is,this.Ko,this.XB,this.Pa);break;case k.Xi.zv:a=new m.EGa(this.config,b,this.is,this.ja,this.Pa,this.XB,this.mf);break;case k.Xi.mfa:a=new F.ALa(this.config,b,this.is,this.RG);break;default:a=new q.sl(this.config,b,this.is);}return a;};H=b;H=f.__decorate([c.O(),f.__param(0,c.l(h.nca)),f.__param(1,c.l(l.FU)),f.__param(2,c.l(g.lL)),f.__param(3,c.l(t.li)),f.__param(4,c.l(D.Ri)),f.__param(5,c.l(x.ve)),f.__param(6,c.l(z.ND)),f.__param(7,c.l(y.Qb)),f.__param(8,c.l(K.dz)),f.__param(9,c.l(B.$n)),f.__param(10,c.l(a.Bk))],H);d.ABa=H;},function(f,d,a){var c,k,h,g,l,p;function b(a,b,c){this.config=a;this.Ema=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(218);h=a(157);g=a(30);l=a(217);p=a(216);b.prototype.cma=function(){switch(this.config().jU){case g.Xi.EU:return l.faa.D0(this.Ema,this.cast);case g.Xi.zv:return p.Av.D0(this.config);default:return this.Ema;}};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(h.lL)),f.__param(1,c.l(k.hea)),f.__param(2,c.l(l.FU))],a);d.FFa=a;},function(f,d,a){var c,k,h,g,l;function b(a,b,d){this.fP=a;this.Sa=b;this.jD=d;this.ISa="video/mp4;codecs={0}";this.oNa="audio/mp4;codecs={0}";a=this.fP.iQ(c.rd.eg);this.HSa=h.oc.fma(a);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(30);k=a(0);h=a(130);g=a(21);a=a(223);b.prototype.vG=function(a){a=this.fP.y5a(a);a=this.Sa.Vk(a)?a:c.rd.HE;return this.jD.format(this.ISa,this.HSa[a]);};b.prototype.PO=function(){return this.jD.format(this.oNa,h.oc.qU);};l=b;l=f.__decorate([k.O(),f.__param(0,k.l(c.UU)),f.__param(1,k.l(g.ve)),f.__param(2,k.l(a.pX))],l);d.JLa=l;},function(f,d,a){var c,k,h,g,l,p;function b(a,b,c){this.config=a;this.ala=b;this.zeb=c;this.Cfb=this.NZa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(30);k=a(157);h=a(0);g=a(68);l=a(404);a=a(403);b.prototype.R6a=function(){return this.Doa().xpa();};b.prototype.S6a=function(){return this.So().xpa();};b.prototype.Doa=function(){this.l_&&this.l_.type==this.config().m_||(this.l_=this.ala.kZa(this.config().m_));return this.l_;};b.prototype.So=function(){this.iU&&this.iU.type==this.config().jU||(this.iU=this.ala.TZa(this.config().jU),this.iU.JZ(this.zeb.p5a()));return this.iU;};b.prototype.y5a=function(a){var f;if(!a||!a.length)return c.rd.sL;a=this.t3a(a);for(var b=[c.rd.HE,c.rd.sL,c.rd.jM,c.rd.Pp,c.rd.eg,c.rd.Ls,c.rd.ah],d=b.length;d--;){f=b[d];if((0,this.Cfb[f])(a))return f;}return c.rd.HE;};b.prototype.yp=function(a){return this.So().yp(a);};b.prototype.Pq=function(a){return this.So().Pq(a);};b.prototype.jx=function(){return this.So().jx();};b.prototype.fK=function(){return this.So().fK();};b.prototype.cK=function(){return this.Doa().cK();};b.prototype.dK=function(){return this.So().dK();};b.prototype.hK=function(){return this.So().hK();};b.prototype.iQ=function(a){return this.So().iQ(a);};b.prototype.tB=function(){return this.So().tB();};b.prototype.uH=function(){return this.So().uH();};b.prototype.t3a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.ye]="";});return Object.keys(b);};b.prototype.NZa=function(){var a;a={};a[c.rd.ah]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[c.rd.Ls]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[c.rd.eg]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[c.rd.Pp]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[c.rd.jM]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[c.rd.sL]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Ba(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[g.da.rL]);a[c.rd.HE]=function(){return!0;};return a;};p=b;p=f.__decorate([h.O(),f.__param(0,h.l(k.lL)),f.__param(1,h.l(a.baa)),f.__param(2,h.l(l.jba))],p);d.dDa=p;},function(f,d,a){var b,c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,B,da;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(30);c=a(25);k=a(794);h=a(157);g=a(107);l=a(793);p=a(218);m=a(792);q=a(404);v=a(403);t=a(791);D=a(217);x=a(7);w=a(399);z=a(786);y=a(398);F=a(785);K=a(215);B=a(784);da=a(397);d.fP=new f.Xb(function(a){a(g.Bz).to(l.JLa).X();a(b.UU).to(k.dDa).X();a(p.nca).to(m.FFa).X();a(v.baa).to(t.ABa).X();a(p.hea).bg({isTypeSupported:x.sE&&x.sE.isTypeSupported});a(D.FU).bg("undefined"!==typeof cast?cast:null);a(q.jba).sD(function(){return{p5a:function(){return H._cad_global.platformExtraInfo;}};});a(h.lL).sD(function(a){return a.ic.get(c.Ef);});a(w.Wca).to(z.OGa).X();a(y.Vca).to(F.PGa).X();a(K.iba).to(B.UDa).X();a(da.Hea).bg(H);});},function(f,d,a){function b(a){this.S0a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b=f.__decorate([a.O()],b);d.bMa=b;},function(f,d,a){var c,k;function b(a){this.amb=a;this.ST={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(219);b.prototype.J4a=function(){var a,b,c;a=[];for(b in this.ST){c=this.ST[b];a.push({dG:Number(b),Ly:c.gn().Ly,r1:c.gn().r1});}return a;};b.prototype.hO=function(a){var b,c;b=a.dG;c=this.ST[b];c||(c=this.amb(),this.ST[b]=c);c.hO(a);};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.tX))],k);d.GBa=k;},function(f,d,a){var c,k,h,g;function b(a){this.config=a;this.P8=k.Eg;this.cD=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(34);h=a(4);a=a(406);b.prototype.gn=function(){var b;for(var a;0<this.cD.length;)a=this.cD.shift(),this.Cja(a);a=void 0===this.PG||void 0===this.Yw?h.Eg:this.Yw.Kd(this.PG);b=a.gra()?0:this.P8.ma(k.Zy)/a.ma(h.Ia);return{Ly:Math.floor(b),r1:a.ma(h.Ia)};};b.prototype.hO=function(a){this.P8=this.P8.add(a.size);this.cD.push(a.R0a);for(this.cD.sort(function(a,b){return a.start.Tk(b.start);});this.cD.length>this.config.S0a;)a=this.cD.shift(),this.Cja(a);};b.prototype.Cja=function(a){void 0===this.PG&&(this.PG=a.start);void 0!==this.Yw&&0>this.Yw.Tk(a.start)&&(this.PG=this.PG.add(a.start.Kd(this.Yw)));if(void 0===this.Yw||0>this.Yw.Tk(a.end))this.Yw=a.end;};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(a.Hfa))],g);d.cMa=g;},function(f,d,a){var b,c,k,h,g,l;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(798);c=a(797);k=a(796);h=a(405);g=a(406);l=a(219);d.Clb=new f.Xb(function(a){a(l.Ifa).to(b.cMa);a(h.gaa).to(c.GBa).X();a(g.Hfa).bg(new k.bMa());a(l.tX).Pi(function(a){return function(){return a.ic.get(l.Ifa);};});});},function(f,d,a){var c,k,h,g,l;function b(a,b,c,d,f,g,h,l,n,m,q,t,B,H,P,Y,R){var p;p=this;this.Bg=a;this.Sa=b;this.eb=c;this.xd=f;this.hy=h;this.jG=l;this.WSa=n;this.config=m;this.zh=t;this.M=B;this.j=q(this.M,Y,H,P);this.j.background=!0;this.j.Ca=R;this.j.kc=Y;this.log=d.Fb("VideoPlayer",this.j);this.rua=[];this.ended=!1;this.NK();this.j.state.addListener(function(a){a.newValue===k.fh.aq&&p.bd(k.ub.j4,{movieId:p.M});});this.j.jb.De&&(this.pk=g.mZa(this,this.j,this.zh),this.j.addEventListener(k.ya.q8,function(a){p.bd(k.ub.qib,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);k=a(22);h=a(4);g=a(7);l=a(62);b.prototype.isReady=function(){return this.j.state.value===k.fh.aq;};b.prototype.U5a=function(){return this.M;};b.prototype.q3=function(){return this.j.ha;};b.prototype.hx=function(){return this.j.ef;};b.prototype.W2=function(){return this.j;};b.prototype.aI=function(){return this.j.rS.value;};b.prototype.e9a=function(){return this.j.paused.value;};b.prototype.Y8a=function(){return this.ended;};b.prototype.bk=function(){var a;a=this.j.I_.value;return a?{networkStalled:!!a.BT,stalled:!!a.BT,progress:a.ai,progressRollback:!!a.Ffb}:null;};b.prototype.getError=function(){var a;a=this.j.th;return a?a.y9():null;};b.prototype.Po=function(){return this.j.Lc.value;};b.prototype.C2=function(){return this.j.C2();};b.prototype.pQ=function(){return this.j.kx();};b.prototype.k5a=function(){return this.j.duration;};b.prototype.j7a=function(){return this.j.ED?{width:this.j.ED.width,height:this.j.ED.height}:null;};b.prototype.S4a=function(){var f;if(this.j.ms){for(var a,b=0;b<this.j.ms.length;b++)for(var c=this.j.ms[b],d=0;d<c.Lb.length;d++){f=c.Lb[d];this.Sa.Mf(f.VZa)&&this.Sa.Mf(f.jma)&&this.Sa.Mf(f.ima)&&this.Sa.Mf(f.hma)&&0<f.jma&&(f=f.hma/f.ima,a=this.Sa.Mf(a)?Math.min(a,f):f);}return a;}};b.prototype.d5a=function(){var a;a=this;return{addEventListener:this.j.j1.addEventListener,removeEventListener:this.j.j1.removeEventListener,getModel:function(){return a.j.j1.Dzb;},getTime:function(){return a.eb.Ud().ma(h.Ia);},getGroups:function(){var b;b=a.j.mS;return b?b.u5a():[];}};};b.prototype.p4a=function(){var a,c;a=[];if(this.j.Sm)for(var b=0;b<this.j.Sm.length;b++){c=this.xB(this.j.Sm[b]);null!==c&&a.push(c);}return a;};b.prototype.Apa=function(){var a,d;a=[];if(null!==this.j.vd.value)for(var b=this.j.vd.value.yj,c=0;c<b.length;c++){d=this.xB(b[c]);null!==d&&a.push(d);}return a;};b.prototype.d9a=function(){return this.j.muted.value;};b.prototype.k7a=function(){return this.j.volume.value;};b.prototype.o4a=function(){return this.xB(this.j.vd.value);};b.prototype.zpa=function(){return this.xB(this.j.Nc.value);};b.prototype.R8a=function(){return!!this.j.background;};b.prototype.hjb=function(a){this.j.muted.set(!!a);};b.prototype.wjb=function(a){this.j.volume.set(this.Cta(a,1));};b.prototype.ljb=function(a){this.j.playbackRate.set(this.Cta(a,2));};b.prototype.Wib=function(a){var b,c;b=this;c=this.j.Sm.find(function(c){return b.xB(c)===a;});c?this.j.vd.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.qxa=function(a){var d;if(null!==this.j.vd.value){for(var b=this.j.vd.value.yj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.Nc.set(null);return;}if(this.xB(d)===a){this.log.info("Setting Timed Text, profile: "+d.NI);this.j.Nc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.cxa=function(a){this.j.background=a;};b.prototype.VJ=function(){this.j.VJ();};b.prototype.addEventListener=function(a,b,c){this.xd.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.xd.removeListener(a,b);};b.prototype.Lu=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,d){try{a.bd(k.ub.w$a,void 0,!0);b.Ca&&(b.Ca.watermarkInfo&&a.bd(k.ub.Snb,b.Ca.watermarkInfo,!0),b.Ca.choiceMap&&a.bd(k.ub.pib,{segmentMap:b.Ca.choiceMap},!0));d({P:!0});}catch(v){d({T:c.G.ue,Ea:a.Bg.Bc(v)});}}));};b.prototype.close=function(a){var b;b=this;this.vla||(this.vla=new Promise(function(c){a?b.j.jd(a,c):b.j.close(c);}));return this.vla;};b.prototype.play=function(){this.load();this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(k.ya.oza));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(k.ya.qnb));};b.prototype.seek=function(a,b){this.j.wh?this.j.wh.seek(a,b):this.j.Nq=a;};b.prototype.Eeb=function(a){return this.pk?(this.log.trace("Playing a segment",a),this.pk.play(a)):Promise.resolve();};b.prototype.Vfb=function(a){return this.pk?(this.log.trace("Queueing a segment",a),this.pk.bi(a)):Promise.resolve();};b.prototype.Dp=function(a,b){return this.pk?(this.log.trace("Updating next segment weights",a,b),this.pk.Dp(a,b)):Promise.resolve();};b.prototype.xK=function(){this.j.xK();};b.prototype.sjb=function(a){this.j.zp.rjb(a);};b.prototype.PJ=function(a){this.j.ev&&this.j.ev.PJ(a);};b.prototype.QJ=function(a){this.j.ev&&this.j.ev.QJ(a);};b.prototype.q9a=function(){return this.j.ev?this.j.ev.n3():!1;};b.prototype.tjb=function(a){this.j.ev&&this.j.ev.G8(a);};b.prototype.oT=function(a){this.j.oT(a);};b.prototype.a7a=function(a){return this.j.gs&&this.j.gs.t5a(a)||null;};b.prototype.j4a=function(){return this.Bg.sj({playerver:this.config.version,jssid:this.config.B9a,groupName:this.config.config.Uo,xid:this.j.ha,pbi:this.j.index},this.config.Aeb,{prefix:"pi_"});};b.prototype.B8a=function(a){this.j.jd(this.zh(c.I.JDa,c.G.Ih,a));};b.prototype.l$a=function(a,b,c){if(!this.Sa.Wja(a))throw Error("invalid url");this.rua.push({url:a,name:b,OUa:c});this.eva();};b.prototype.spa=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.hJ;try{if(this.j.th&&(a.errorCode=this.j.th.iP,a.errorType=b?"endplay":"startplay"),a.playdelay=this.j.hJ,a.xid=this.j.ha,this.j.Ca&&this.Sa.oh(this.j.Ca.packageId)&&(a.packageId=Number(this.j.Ca.packageId)),a.auth=this.j.r4a(),a.hdr=this.j.E5a(),b){a.totaltime=this.j.Dn?this.O3a(this.j.Dn.o3()):0;a.abrdel=this.j.Dn?this.j.Dn.Eoa():0;c=this.j.wh;d=c?c.gx():null;this.Sa.Mf(d)&&(a.totdfr=d);d=c?c.qH():null;this.Sa.Mf(d)&&(a.totcfr=d);f=c?c.F5a():null;f&&(a.rbfrs_decoder=f.J_a,a.rbfrs_network=f.Vbb);a.rbfrs_delay=this.j.Dn?this.j.Dn.G5a():0;a.init_vbr=this.j.PQ;g=this.oQ();this.Sa.Vk(g)&&(a.pdltime=g);h=this.j.Wf.value;k=h&&h.stream;k&&(a.vbr=k.L,a.vdlid=k.ad);a.bufferedTime=this.j.C4a();}}catch(z){this.log.error("error capturing session summary",z);}return a;};b.prototype.H2=function(){var a;a=this;return new Promise(function(b,c){a.j.H2(function(a){a.success?b(a):c(a);});});};b.prototype.XG=function(a){var b,c,d;b=this;if(this.Sa.Mf(this.j.Lc.value)){c=Object.assign({},this.hy.Ot(this.j,!1),{action:a});d=this.jG(l.Dh.XG);return this.WSa().then(function(a){return d.cu(b.log,a.profile,b.j.Ca.wx,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Gb,errorExternalCode:a.Dd,errorData:a.data,errorDetails:a.SA};});}return Promise.resolve({success:!1});};b.prototype.xB=function(a){return null!==a?(a.j7=a.j7||{trackId:a.ec,bcp47:a.gj,displayName:a.displayName,trackType:a.fi,channels:a.Uj},a.Yo&&(a.j7.isImageBased=!0),a.j7):null;};b.prototype.Cta=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.O3a=function(a){return this.Sa.Mf(a)?(a/1E3).toFixed(0):"";};b.prototype.bd=function(a,b,c){b=b||{};b.target=this;this.xd.Cc(a,b,!c);};b.prototype.NK=function(){var a;a=this;this.j.addEventListener(k.ya.iya,function(){a.bd(k.ub.Jo);});this.j.addEventListener(k.iW.hla,function(){a.bd(k.ub.Jka);});this.j.addEventListener(k.ya.KS,function(){a.bd(k.ub.Jka);});this.j.addEventListener(k.ya.KH,function(b){a.bd(k.ub.KH,{errorCode:b});});this.j.addEventListener(k.ya.qka,function(b){a.bd(k.ub.PUa,b);});this.j.addEventListener(k.ya.Ew,function(b){a.bd(k.ub.QUa,b);});this.j.rS.addListener(function(){a.bd(k.ub.Oeb);});this.j.paused.addListener(function(){a.bd(k.ub.feb);});this.j.muted.addListener(function(){a.bd(k.ub.Lbb);});this.j.volume.addListener(function(){a.bd(k.ub.Nnb);});this.j.Fc.addListener(function(){a.Wya();});this.j.state.addListener(function(){a.Wya();});this.j.I_.addListener(function(b){a.t$a||a.j.state.value!=k.fh.aq||b.newValue||(a.t$a=!0,a.bd(k.ub.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.spa());}));a.bd(k.ub.J_);});this.j.vd.addListener(function(b){a.bd(k.ub.lka);b.oldValue&&b.newValue&&b.oldValue.yj==b.newValue.yj||a.bd(k.ub.Ny);setTimeout(function(){var b;if(null!==a.j.vd.value&&null!==a.j.Nc.value){b=a.j.vd.value.yj;0<=b.indexOf(a.j.Nc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.Nc.set(b[0]));}},0);});this.j.Nc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.ec==b.newValue.ec||a.bd(k.ub.qD);});this.j.addEventListener(k.ya.Ny,function(){a.bd(k.ub.Ny);});this.j.addEventListener(k.ya.uD,function(){a.bd(k.ub.uD);});this.j.state.addListener(function(b){switch(b.newValue){case k.fh.aq:a.bd(k.ub.m1a);a.bd(k.ub.Jnb);a.bd(k.ub.mka);a.bd(k.ub.Ny);a.bd(k.ub.v$a);a.eva();a.Ynb();break;case k.fh.iX:a.j.th&&a.bd(k.ub.error,a.j.th.y9());break;case k.fh.hX:a.bd(k.ub.closed),a.xd.Ww();}});};b.prototype.Ynb=function(){var a;a=this;this.j.zp.addEventListener("showsubtitle",function(b){a.bd(k.ub.Pjb,b,!0);});this.j.zp.addEventListener("removesubtitle",function(b){a.bd(k.ub.Zgb,b,!0);});};b.prototype.eva=function(){if(this.j.state.value==k.fh.aq){for(var a,b,c;b=this.rua.shift();)a=this.j.zp.HZ(b.url,b.name),b.OUa&&(c=a);c&&this.j.Nc.set(c);}};b.prototype.Wya=function(){var a;a=this.j.state.value==k.fh.aq&&this.j.Fc.value==k.Gm.fV;this.ended!==a&&(this.ended=a,this.bd(k.ub.o2a));};b.prototype.oQ=function(){var a,b;try{a=/playercore.*js/;b=g.Cm.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(u){}};d.CFa=b;},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x;function b(a){this.sb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(239);h=a(23);g=a(21);l=a(24);p=a(12);m=a(80);q=a(221);v=a(800);t=a(220);D=a(62);x=a(67);b.prototype.LZa=function(a,b,c,d,f,k,n,r){return new v.CFa(this.sb.get(h.He),this.sb.get(g.ve),this.sb.get(l.gf),this.sb.get(p.Qb),this.sb.get(m.oL),this.sb.get(q.lX),this.sb.get(t.QW),this.sb.get(D.jV),this.sb.get(x.ns),a,b,c,d,f,k,n,r);};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.WV))],a);d.JMa=a;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(408);c=a(801);d.KK=new f.Xb(function(a){a(b.Zfa).to(c.JMa).X();});},function(f,d,a){var c,k;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(25);b.prototype.Bfb=function(a,b,c){var d;if(this.config().Eib){d=a.metrics;c||(void 0===d?b.mC.transition({isBranching:b.jb.De||void 0,srcxid:b.ha,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.mC.transition({isBranching:b.jb.De||void 0,srcxid:b.ha,srcmid:b.M,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.Ef))],k);d.pMa=k;},function(f,d,a){var k;function b(){}function c(a,b,c,d,f){this.debug=a;this.version=b;this.B9a=c;this.Aeb=d;this.config=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);c.prototype.B2=function(){return this.config.Bka;};c.prototype.kpa=function(){return this.config.Reb;};b.prototype.hu=function(a,b,d,f,k){return new c(a,b,d,f,k);};k=b;k=f.__decorate([a.O()],k);d.ELa=k;},function(f,d,a){var h,g,l,p;function b(a,b,c,d,f,g,h,k,n){var p;p=this;this.cc=b;this.j=c;this.X5=d;this.HI=f;this.ja=g;this.gUa=h;this.zh=k;this.lmb=n;this.ty=function(){p.ip&&(p.ip.closed||p.ip.unsubscribe(),p.ip=void 0);};this.log=a.Fb("SegmentManager",this.j);this.Re=new Map();this.Qqa=!0;this.j.jb.De&&(this.j.addEventListener(l.ya.q8,function(a){return p.kdb(a);}),this.j.addEventListener(l.ya.closed,this.ty));}function c(a,b){this.id=a;this.Z_=b;}function k(a,b,c,d){return g.mc.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);g=a(57);l=a(22);p=a(4);ja(k,g.mc);k.prototype.toString=function(){return this.code+"-"+this.Gb+" : "+this.message+"\n"+JSON.stringify(this.data);};c.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.xp,contentEndPts:this.bB};};oa.Object.defineProperties(c.prototype,{xp:{configurable:!0,enumerable:!0,get:function(){return this.Z_.startTimeMs;}},bB:{configurable:!0,enumerable:!0,get:function(){return this.Z_.endTimeMs;}},Zbb:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Z_.next);}}});b.prototype.kdb=function(a){var b,d;b=this;if(0===this.Re.size){d=this.j.hQ();Object.keys(d).forEach(function(a){b.Re.set(a,new c(a,d[a]));});}this.Qa=this.Re.get(a.segmentId);this.lmb.Bfb(a,this.j,this.Qqa);this.Qqa=!1;};b.prototype.play=function(a){this.qy&&(this.qy=void 0);this.ty();this.log.trace("Playing segment",a);return this.Tqa(a)?this.Deb(a):this.lS(a);};b.prototype.bi=function(a){this.log.trace("Queueing segment",a);return this.Tqa(a)?this.Ufb(a):this.Wfb(a);};b.prototype.Dp=function(a,b){var c,d;c=this;d=this.j.rb;if(!d)return Promise.reject(this.getError(h.I.I$,"ASE session manager is not yet initialized",h.G.xU,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.K9(a,b);c.j.fireEvent(l.ya.Dp,{om:a,anb:b});f();}catch(w){g(c.getError(h.I.I$,"updateNextSegmentWeights threw an exception",h.G.xAa,{segmentId:a,updates:b,error:w}));}});};b.prototype.Tqa=function(a){return this.Qa?void 0!==this.j.hQ()[this.Qa.id].next[a]:!1;};b.prototype.lpa=function(){if(this.j.rb)return this.j.rb.b3().dd;};b.prototype.M4a=function(a){if(this.j.rb)return(a=this.j.rb.L4a(a))&&a.wc;};b.prototype.Deb=function(a){var b,c,d;b=this;c=this.j.rb;if(!c)return Promise.reject(this.getError(h.I.HD,"ASE session manager is not yet initialized",h.G.xU,{id:a}));if(this.Qa&&1===this.Qa.Zbb.length)return this.lS(a);if(!this.j.wh)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(h.I.HD,"MediaPresenter is not initialized",h.G.uAa,{id:a}));d=this.M4a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.lS(a)):new Promise(function(f,g){var q,u,v,t,x,A;function k(){!v&&u&&q&&(A.cancel(),v=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:q,completed:v}),c.eG(a,!1,!0)?(f(),v=!0):(v=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.lS(a).then(f)["catch"](g)));}function n(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:q,completed:v});b.j.removeEventListener(l.ya.KS,n);k();}function m(){b.j.removeEventListener(l.ya.J7,m);c.stop();}function r(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:q,completed:v});c.removeEventListener("stop",r);k();}q=!1;u=!1;v=!1;t=b.Re.get(a);x=t.xp+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:x,currentSegment:b.Qa,nextSegment:t},null,"  "));b.j.fireEvent(l.ya.f6,{Zq:b.Qa&&b.Qa.id,g6:a});c.addEventListener("stop",r);b.j.addEventListener(l.ya.J7,m);b.j.addEventListener(l.ya.KS,n);A=b.ja.yg(p.mm(10),function(){v=!0;A.cancel();g(b.getError(h.I.HD,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.G.tAa,{id:a,stopped:u,repositioned:q,completed:v}));});b.cc.seek(x,l.Vi.cM);});};b.prototype.lS=function(a){var b;b=this.Re.get(a);return b?this.Kwa(b,h.I.HD):Promise.reject(this.getError(h.I.HD,"Unable to find the separated segment",h.G.H$,{id:a}));};b.prototype.Ufb=function(a){var b;b=this.j.rb;if(!b)return Promise.reject(this.getError(h.I.jv,"ASE session manager is not yet initialized",h.G.xU,{id:a}));if(b.eG(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(h.I.jv,"ASE chooseNextSegment failed",h.G.qAa,{id:a}));};b.prototype.Wfb=function(a){var b,c;b=this;if(this.qy)return Promise.reject(this.getError(h.I.jv,"Unable to queue a non-next segment because there is currently already a segment queued",h.G.wAa,{currentSegment:this.Qa?this.Qa.id:void 0,queuedSegment:this.qy.id,failedSegment:a}));if(!this.Qa)return Promise.reject(this.getError(h.I.jv,"Unable to queue a non-next segment because there is no currently playing segment",h.G.rAa,{nextSegmentid:a}));c=this.Re.get(a);if(!c)return Promise.reject(this.getError(h.I.jv,"Unable to find the separated segment",h.G.H$,{nextSegmentid:a,currentSegmentId:this.Qa.id}));this.qy={id:a,e7:new Promise(function(d,f){var g,k;g=b.X5.ama({kpa:function(){return 100;}},function(){return b.cc.Po()||0;});k=b.lpa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:k});g.Gja(b.HI.$la(a+":lastPts",k));b.ip=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.Qa.id,playerEndPts:b.lpa(),pts:k});b.qy=void 0;b.ty();b.Kwa(c,h.I.jv).then(function(){d();})["catch"](function(a){f(a);});},function(c){b.qy=void 0;b.ty();f(b.getError(h.I.jv,"ASE session manager is not yet initialized",h.G.sAa,{id:a,error:c}));});})};this.qy.e7["catch"](function(a){b.j.jd(b.zh(a.code,a));});return Promise.resolve();};b.prototype.Kwa=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.cc.seek(a.xp,l.Vi.dX);d();}catch(x){f(c.getError(b,"Seek threw an exception",h.G.vAa,{id:a.id,error:x}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new k(a,b,c,d);};d.UAa=b;},function(f,d,a){var g,l,p;function b(a,b,c,d,f,h,k,l,n){this.eb=a;this.HI=c;this.X5=d;this.J6=f;this.config=h;this.zh=k;this.G6=l;this.NK=n;this.Tu=[];this.log=b.Fb("SegmentManager");new g.mi();this.d2=!0;}function c(a,b,c,d,f,h,l,n,p){var m;m=this;this.log=a;this.config=b;this.Hcb=c;this.HI=d;this.J6=f;this.zh=h;this.G6=l;this.pk=n;this.la=p;this.ty=function(){m.ip&&(m.ip.closed||m.ip.unsubscribe(),m.ip=void 0);};this.log.debug("Constructing session data",k(p));this.M4=new g.mi();this.Plb=new Promise(function(a){m.hgb=a;});}function k(a){return{movieId:a.M,uiLabel:a.kc};}function h(a){return JSON.stringify({movieId:a.M,nextStartPts:a.RI,currentEndPts:a.PA,uiLabel:a.kc,params:a.ob?{trackingId:a.ob.cg,authParams:a.ob.Dw,sessionParams:a.ob.Bh,disableTrackStickiness:a.ob.hP,uiPlayStartTime:a.ob.xD,loadImmediately:a.ob.jR,playbackState:a.ob.playbackState?{currentTime:a.ob.playbackState.currentTime}:void 0}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});g=a(81);l=a(22);p=a(4);c.prototype.load=function(a){var b;b=this;this.log.trace("Loading new segment",k(this.la));this.cc=this.J6.LZa(this.config,this.G6,this.zh,this.la.M,this.la.Ir,this.la.ob,this.la.kc,this.la.Xd);this.cc.addEventListener(l.ub.KH,function(a){b.log.trace("Segment is inactive",k(b.la));b.pk.close(b.zh(a.errorCode));});this.cc.addEventListener(l.ub.closed,this.ty);a&&(this.log.debug("Pausing background segment",k(this.la)),this.cc.addEventListener(l.ub.j4,function(a){b.Jpa(a);}),this.cc.pause());};c.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",h(this.la));if(this.ip)this.log.trace("Segment is currently observing",k(this.la));else if(this.la.ob&&this.la.ob.jR)this.M4.next(this);else{b=this.Hcb.ama(this.config,function(){var b;if(a.cc){b=a.cc.Po();if(b)return b;}return 0;});c=this.HI.$la("LOAD",this.aWa(this.la));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.Gja(c);this.ip=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",k(a.la));a.M4.next(a);a.ty();});}};c.prototype.close=function(a){this.log.info("Closing segment",{segment:h(this.la),error:a});return this.cc?(this.cc.removeEventListener(l.ub.j4,this.Jpa),this.cc.close(a)):Promise.resolve();};c.prototype.aWa=function(a){var b,c;b=a.PA;a=a.ob?a.ob.jR:!1;c=0;b&&!a&&(c=b-this.config.config.Ira,c<this.config.config.jsa&&(c=b-(b-this.config.config.jsa)/2));return c;};c.prototype.Jpa=function(a){this.log.trace("Received the transition event",{movieId:a.M});this.hgb(h(this.la));};b.prototype.p6a=function(){return this.Rd&&this.Rd.cc?this.Rd.cc.isReady():!1;};b.prototype.Za=function(){return this.Rd.cc;};b.prototype.wTa=function(a){this.log.info("Adding segment",h(a));this.d2?(this.log.trace("First segment, loading",k(a)),a=this.Hra(a),this.d2=!1):(this.log.trace("Subsequent segment, caching",k(a)),a=this.Ahb(a));return a?a.Plb:null;};b.prototype.transition=function(a){var b;if(this.Cr&&this.Cr.cc){b=this.Cr;this.Cr=void 0;this.log.info("Transitioning segment",h(b.la));b&&b.cc&&b.cc.oT(this.eb.Ud().ma(p.Ia));return this.Eya(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Rd.la)),nextSession:this.Cr?JSON.stringify(k(this.Cr.la)):void 0});c=[this.Rd.close(a)];this.Cr&&c.push(this.Cr.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.Cr=void 0;b.Tu=[];b.d2=!0;a();})["catch"](d);});};b.prototype.Hra=function(a){var b,c;b=this;this.log.info("Loading the next episode",k(a));this.Rd&&(this.config.B2()[a.M]=a.RI);c=this.r3a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",k(a)),null;this.log.trace("Found the next session",k(a));c.M4.subscribe(function(a){b.Glb(a);});this.Rd?(this.log.trace("Subsequent playback, caching player and pausing",k(a)),this.Cr=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",k(a)),c.load(!1),this.Eya(c));return c;};b.prototype.Eya=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",k(a.la));c=this.Rd;this.Rd=a;if(this.Rd.cc&&(this.Rd.cc.cxa(!1),this.NK(this.Rd.cc,c?c.cc:void 0),c&&c.cc)){d=c.cc.hx();a=this.Rd.cc.hx();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.Rd.cc&&(a.style.display="block",this.Rd.cc.getError()?this.Rd.cc.close():(this.Rd.cc.W2().Vmb(b),this.Rd.cc.VJ(),this.Rd.cc.play()));c.then(function(){f.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Glb=function(a){var b,c,d,f;if(this.Tu.length&&a.cc){a=a.cc.Po();b=this.Tu[0];c=this.Rd.la.PA;d=this.Rd.la.ob?this.Rd.la.ob.jR:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.Ira);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",k(b.la)),this.Hra(b.la),this.Tu.splice(0,1));}}};b.prototype.r3a=function(a){var b;b=null;this.Rd?this.Tu.forEach(function(c){c.la.M===a.M&&(b=c);}):b=this.Qt(a);return b;};b.prototype.Ahb=function(a){var c;if(this.Rd.la.M===a.M)return this.kua(this.Rd.la,a),this.log.trace("Overwrote the currently playing segment data",h(this.Rd.la)),this.Rd;for(var b=0;b<this.Tu.length;++b){c=this.Tu[b];if(c.la.M===a.M)return this.kua(c.la,a),this.log.trace("Overwrote the currently playing segment data",h(c.la)),c;}a=this.Qt(a);this.Tu.push(a);this.Rd.observe();return a;};b.prototype.kua=function(a,b){a.RI=b.RI||a.RI;a.PA=b.PA||a.PA;a.kc=b.kc||a.kc;a.ob=b.ob||a.ob;a.Xd=b.Xd||a.Xd;};b.prototype.Qt=function(a){return new c(this.log,this.config,this.X5,this.HI,this.J6,this.zh,this.G6,this,a);};d.GLa=b;},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x;function b(a){this.sb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(239);h=a(24);g=a(12);l=a(411);p=a(410);m=a(408);q=a(806);v=a(805);t=a(78);D=a(42);x=a(407);b.prototype.GZa=function(a,b,c,d){return new q.GLa(this.sb.get(h.gf),this.sb.get(g.Qb),this.sb.get(l.nW),this.sb.get(p.oW),this.sb.get(m.Zfa),a,b,c,d);};b.prototype.mZa=function(a,b,c){return new v.UAa(this.sb.get(g.Qb),a,b,this.sb.get(p.oW),this.sb.get(l.nW),this.sb.get(D.li),this.sb.get(t.x$),c,this.sb.get(x.Kfa));};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.WV))],a);d.FLa=a;},function(f,d,a){var b,c,k,h,g,l;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(221);c=a(409);k=a(807);h=a(804);g=a(407);l=a(803);d.Re=new f.Xb(function(a){a(b.lX).to(k.FLa).X();a(c.nfa).to(h.ELa).X();a(g.Kfa).to(l.pMa).X();});},function(f,d,a){var c;function b(a,b){this.config=a;this.Lc=b;this.II=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(81);b.prototype.Gja=function(a){0===this.II.filter(function(b){return b.W5===a;}).length&&this.II.push({W5:a,wva:!1});};b.prototype.observe=function(){var a;a=this;return c.qa.interval(this.config.kpa()).ir(function(){var b,d;b=a.Lc();d=a.II.filter(function(a){return!a.wva&&a.W5.time<=b;});d.forEach(function(a){a.wva=!0;});return c.qa.from(d.map(function(a){return a.W5;}));});};d.gHa=b;},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(809);b.prototype.ama=function(a,b){return new k.gHa(a,b);};a=b;a=f.__decorate([c.O()],a);d.fHa=a;},function(f,d){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.Kd=function(b,c){return new a(b,this.time-c);};d.eHa=a;},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(811);b.prototype.$la=function(a,b){return new k.eHa(a,b);};a=b;a=f.__decorate([c.O()],a);d.dHa=a;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(411);c=a(812);k=a(410);h=a(810);d.II=new f.Xb(function(a){a(b.nW).to(c.dHa).X();a(k.oW).to(h.fHa).X();});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(f,d,a){var t,D,x,w;function b(a,b){this.mf=a;this.Bg=b;this.Sc=[];}function c(a){return v.call(this,a,function(a){return{Details:a};})||this;}function k(a){return v.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function h(a,b){b=v.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.mf=a;return b;}function g(a,b){b=v.call(this,b,function(a){return a();})||this;b.Bg=a;return b;}function l(a,b){return m.call(this,a,b,function(a){var b;b=D.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;l.ZWa(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function p(a){return v.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function m(a,b,c){b=v.call(this,b,c)||this;b.Bg=a;return b;}function q(a){return v.call(this,a,function(a){return{Details:a};})||this;}function v(a,b){this.Kn=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);t=a(0);D=a(814);x=a(23);a=a(49);v.prototype.BP=function(a){return this.Kn===a;};ja(q,v);q.prototype.Py=function(a,b){return b?"":"\r\n"+this.Kn;};ja(m,v);m.prototype.Py=function(){var a;a="";this.Bg.$t(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(K){try{a+=", "+b+": "+JSON.stringify(c);}catch(S){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ja(p,v);p.prototype.Py=function(a){var b;b="\r\n"+this.Kn.message;a||(b+="\r\n"+this.Kn.stack);return b;};ja(l,m);l.ZWa=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.hqb=l;ja(g,v);g.prototype.Py=function(){var a;a="";this.Bg.$t(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ja(h,v);h.prototype.Py=function(a,b){return this.Kn&&!b?"\r\n"+this.mf.encode(this.Kn):"";};ja(k,v);k.prototype.Py=function(){return this.Kn?this.Kn.toJSON():"";};ja(c,v);c.prototype.Py=function(){return", "+(this.Kn.toString?""+this.Kn.toString():"");};b.prototype.ATa=function(a){this.Sc.push(new q(a));};b.prototype.qTa=function(a){this.Sc.push(new m(this.Bg,a));};b.prototype.gTa=function(a){this.Sc.push(new p(a));};b.prototype.eTa=function(a){this.Sc.push(new l(this.Bg,a));};b.prototype.jTa=function(a){this.Sc.push(new g(this.Bg,a));};b.prototype.BTa=function(a){this.Sc.push(new h(this.mf,a));};b.prototype.oTa=function(a){this.Sc.push(new k(a));};b.prototype.CTa=function(a){this.Sc.push(new c(a));};b.prototype.Vm=function(){return this.Sc;};w=b;w=f.__decorate([t.O(),f.__param(0,t.l(a.Bk)),f.__param(1,t.l(x.He))],w);d.$Fa=w;},function(f,d,a){var c,k,h,g;function b(a,b){this.mf=a;this.Bg=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(815);h=a(49);a=a(23);b.prototype.M5a=function(){return new k.$Fa(this.mf,this.Bg);};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(h.Bk)),f.__param(1,c.l(a.He))],g);d.ZFa=g;},function(f,d,a){var c,k;function b(a,b,c,d,f,k,l){this.level=a;this.Ql=b;this.timestamp=c;this.message=d;this.Sc=f;this.prefix=k;this.index=void 0===l?0:l;}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.qK=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Pkb(!!a));return(this.timestamp.ma(c.Ia)/1E3).toFixed(3)+"|"+this.index+"|"+(k[this.level]||this.level)+"|"+this.Ql+"| "+a;};b.prototype.Pkb=function(a){var f;for(var b=this.Sc.length,c="",d=0;d<b;++d){f=this.Sc[d].Kn;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.Okb(f,a);else try{c+=JSON.stringify(f);}catch(u){c+=this.Nkb(f);}else c+=f;}return c;};b.prototype.Okb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Nkb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.lAa=b;},function(f,d,a){var c,k;function b(a,b,d,f,k,l){a=c.gE.call(this,a,b,d,f)||this;a.m7a=k;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(222);k=a(817);ja(b,c.gE);b.prototype.xt=function(a,b,c){a=new k.lAa(a,this.Ql,this.eb.Ud(),b,c,this.prefix);b=Ba(this.Ni.Ni);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.I0=function(a){return new b(this.eb,this.Oq,this.Ni,a,this.m7a,this.prefix);};d.mAa=b;},function(f,d,a){var c,k,h;function b(a,b,d,f,k){a=h.gE.call(this,a,b,d,k)||this;a.j=f;c.gk(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(47);k=a(412);h=a(222);ja(b,h.gE);b.prototype.I0=function(a){return new b(this.eb,this.Oq,this.Ni,this.j,a);};b.prototype.xt=function(a,b,c){a=new k.Cca(a,this.Ql,this.eb.Ud(),b,c,this.j.index);b=Ba(this.Ni.Ni);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};d.iKa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,c,d){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==d&&(this.message=d);};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(820);d.CA=function(a,d){var f;a=a.M5a();for(var c=0;c<d.length;++c){f=d[c];void 0!=f&&null!=f&&(f.ug&&(f=f.ug),f.constructor===Uint8Array?a.BTa(f):"MediaRequest"===f.constructor.name?a.oTa(f):"string"===typeof f?a.ATa(f):"function"===typeof f?a.jTa(f):f instanceof Error?a.gTa(f):f instanceof b.EnumeratedErrorBase?a.eTa(f):f instanceof Object?a.qTa(f):a.CTa(f));}return a.Vm();};},function(f,d,a){var c,k,h,g,l,p,m,q;function b(a,b,c){this.eb=a;this.Ni=b;this.S4=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(222);k=a(0);h=a(819);g=a(24);l=a(79);p=a(12);m=a(4);q=a(818);b.prototype.Fb=function(a,b,d,f,g){d=void 0===d?this.Ni:d;return b?(b.Ogb=this.eb.Ud().Kd(m.Pb(b.cf)),new h.iKa(this.eb,this.S4,d,b,a)):g?new q.mAa(this.eb,this.S4,d,a,f||"",g):new c.gE(this.eb,this.S4,d,a);};a=b;a=f.__decorate([k.O(),f.__param(0,k.l(g.gf)),f.__param(1,k.l(l.xv)),f.__param(2,k.l(p.Dca))],a);d.fGa=a;},function(f,d,a){var c;function b(){this.$C={};this.Ni=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.GC=function(a,b){var c;c=this;b&&(this.$C[a]=b,this.Ni=Object.keys(this.$C).map(function(a){return c.$C[a];}));};b.prototype.Rya=function(a){var b;b=this;delete this.$C[a];this.Ni=Object.keys(this.$C).map(function(a){return b.$C[a];});};c=b;c=f.__decorate([a.O()],c);d.gGa=c;},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(823);c=a(822);f=a(0);k=a(79);h=a(12);g=a(816);d.R$a=new f.Xb(function(a){a(h.Qb).to(c.fGa).X();a(k.xv).to(b.gGa).X();a(h.Dca).to(g.ZFa).X();});},function(f,d){function a(){this.searchParams={};}function b(b){this.Oa=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};oa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Oa+this.searchParams.toString();}}});d.EMa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(f,d,a){var c;function b(a){this.ePa=void 0===a?!1:a;this.Zc={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Zc[b];c?this.ePa&&-1!==c.indexOf(a)||c.push(a):this.Zc[b]=[a];};b.prototype.remove=function(a,b){this.Nia(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Nia(a);};b.prototype.C3a=function(){var a;a=this;return Object.keys(this.Zc).sort().reduce(function(b,c){return b.concat(a.Zc[c]);},[]);};b.prototype.Nia=function(a,b){var c;c=this;Object.keys(this.Zc).forEach(function(d){var f;if(void 0===b||b===parseInt(d)){d=c.Zc[d];-1<(f=d.indexOf(a))&&d.splice(f,1);}});};c=b;c=f.__decorate([a.O()],c);d.BKa=c;},function(f,d,a){var c,k,h,g;function b(a,b,c){var d;d=this;this.app=a;this.ja=b;this.Tla=c;this.Er=function(a){d.By=void 0;d.Emb(a||d.Tla);};this.qra=h.Pb(-this.Tla.ma(h.Ia));}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(24);h=a(4);a=a(42);b.prototype.kb=function(a){this.e8=a;this.By=this.By||this.cb(this.Er);};b.prototype.Ww=function(){this.By&&this.By.cancel();this.By=void 0;};b.prototype.Emb=function(a){var b,c;b=this.app.Ud();if(this.e8){c=a.Kd(b.Kd(this.qra));0>=c.Tk(h.Eg)?(a=this.e8,this.e8=void 0,this.qra=b,a()):this.By=this.By||this.ja.yg(c,this.Er.bind(this,a));}};b.prototype.cb=function(a){return this.ja.yg(h.Eg,a);};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(k.gf)),f.__param(1,c.l(a.li))],g);d.aMa=g;},function(f,d,a){var c,k,h,g,l,p,m,q,v;function b(a,b){this.eb=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(24);g=a(57);l=a(2);p=a(22);m=a(4);q=a(7);a=a(418);b.prototype.w0a=function(a){var b,d,f,h,k,n,r,q,u;b=this;k=a.Lc.value;n=a.Kl.value;r=a.Fc.value;q=a.state.value;h={segmentId:a.Y2(),mediaTime:k,segmentTime:a.kx(),bufferingState:c.BVa[n],presentingState:c.ofb[r],playbackState:c.Jeb[q],mseBuffersBusy:this.I6a(a),intBuffersBusy:this.D5a(a),tabVisible:this.olb(),decodedFrameCount:this.I_a(a),videoElementInDom:this.Fnb(a),lastVideoSync:this.eb.Ud().Kd(m.Pb(a.jK)).ma(m.Ia)};u=r===p.Gm.PE?a.jb.De?this.config.aua:this.config.$ta:this.config.Zsa;n!==p.XK.mda?(d=l.G.ZBa,this.Hka(h.mseBuffersBusy,h.intBuffersBusy)&&(f=c.J$)):r!==p.Gm.Ye&&(d=l.G.$Ba,(a=a.wh)&&a.nb.sourceBuffers.forEach(function(a){var d,g;d=c.$ab[a.N];h[d+"Ranges"]=a.gQ();a=a.buffered();if(0===a.length)h[d+"Undecoded"]=0,f=c.EAa;else{g=1E3*a.end(0)-k;h[d+"Undecoded"]=g;1<a.length&&(f=c.FAa);k<1E3*a.start(0)||k>1E3*a.end(0)?f=c.GAa:g<u.ma(m.Ia)?f=c.HAa:b.Hka(h.mseBuffersBusy,h.intBuffersBusy)&&(f=c.J$);}}));a="";try{a=JSON.stringify(h);}catch(P){a="Cannot stringify details: "+P;}return new g.mc(l.I.Hda,d,f,void 0,void 0,void 0,a,void 0);};b.prototype.I6a=function(a){var b;if(a.nb){b={};a.nb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.D5a=function(a){var b;if(a.nb){b={};a.nb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.bk()};});return b;}};b.prototype.olb=function(){return!q.qd.hidden;};b.prototype.I_a=function(a){return(a=a.wh)&&(a=a.nb.Ma)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Fnb=function(a){if(a=a.wh)if(a=a.nb.Ma)return q.qd.body.contains(a);return!1;};b.prototype.Hka=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};v=c=b;v.EAa="1";v.FAa="2";v.GAa="3";v.J$="4";v.HAa="5";v.$ab=["Audio","Video"];v.BVa=["","NORMAL","BUFFERING","STALLED"];v.ofb=["","WAITING","PLAYING ","PAUSED","ENDED"];v.Jeb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];v=c=f.__decorate([k.O(),f.__param(0,k.l(h.gf)),f.__param(1,k.l(a.dda))],v);d.bDa=v;},function(f,d,a){var c,k,h,g;function b(a,b){this.eb=a;this.entries=[];this.ba=b.Fb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(24);h=a(4);a=a(12);b.prototype.mark=function(a,b){a={name:a,ha:b,Jlb:this.eb.Ud()};this.entries.push(a);return a;};b.prototype.Q5a=function(){return this.entries.slice();};b.prototype.cpa=function(){var a;a={};try{a=this.Q5a().filter(function(a){return!a.ha;}).reduce(function(a,b){a[b.name]=b.Jlb.ma(h.Ia);return a;},{});}catch(p){this.ba.error(" getMapOfCommonMarks exception",p);}return a;};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(k.gf)),f.__param(1,c.l(a.Qb))],g);d.lMa=g;},function(f,d,a){var c,k,h,g;function b(a){return k.UK.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(38);k=a(39);h=a(0);a=a(27);ja(b,k.UK);oa.Object.defineProperties(b.prototype,{mza:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([c.config(c.xe,"usePerformanceApi")],g.prototype,"mza",null);g=f.__decorate([h.O(),f.__param(0,h.l(a.HU))],g);d.KBa=g;},function(f,d,a){var c,k,h,g;function b(a){a=k.UK.call(this,a,"DebugConfigImpl")||this;a.qwb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(38);k=a(39);h=a(0);a=a(27);ja(b,k.UK);oa.Object.defineProperties(b.prototype,{tVa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});g=b;f.__decorate([c.config(c.xe,"breakOnError")],g.prototype,"tVa",null);g=f.__decorate([h.O(),f.__param(0,h.l(a.HU))],g);d.$Ca=g;},function(f,d,a){var c,k,h,g;function b(a,b,c){this.config=a;this.Sa=b;this.ba=c.Fb("General");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(21);h=a(135);a=a(12);b.prototype.assert=function(){};b.prototype.nUa=function(a,b){this.assert(this.Sa.Vk(a),b);};b.prototype.oUa=function(a,b){this.assert(this.Sa.Qf(a),b);};b.prototype.tUa=function(a,b){this.assert(this.Sa.oh(a),b);};b.prototype.wUa=function(a,b){this.assert(this.Sa.yi(a),b);};b.prototype.uUa=function(a,b){this.assert(this.Sa.oh(a)||null===a||void 0===a,b);};b.prototype.rUa=function(a,b){this.assert(this.Sa.Mf(a),b);};b.prototype.qUa=function(a,b){this.assert(this.Sa.TZ(a),b);};b.prototype.vUa=function(a,b){this.assert(this.Sa.wo(a),b);};b.prototype.sUa=function(a,b){this.assert(this.Sa.tA(a),b);};b.prototype.lUa=function(a,b){this.assert(this.Sa.rA(a),b);};b.prototype.pUa=function(a,b){this.assert(this.Sa.sA(a),b);};b.prototype.N8a=function(){this.assert(!1,"invalid operation, this method should not be called");};b.$xb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(r){return r.stack;}};};g=b;g=f.__decorate([c.O(),f.__param(0,c.l(h.Daa)),f.__param(1,c.l(k.ve)),f.__param(2,c.l(a.Qb))],g);d.aDa=g;},function(f,d,a){var c,k,h,g;function b(a,b){this.is=a;this.Bg=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(21);a=a(23);b.prototype.encode=function(a){var b,c;b=this;c="";this.Bg.$t(a,function(a,d){a=b.yna(a)+"="+b.yna(d);c=c?c+(","+a):a;});return c;};b.prototype.yna=function(a){return this.is.Vk(a)?this.is.Mf(a)?""+a:this.is.oh(a)?(a=a.replace(c.Hva,this.hab.bind(this)),!c.Xfb.test(a)&&c.Obb.test(a)&&(a='"'+a+'"'),a):this.is.rA(a)?""+a:this.is.zZ(a)?"NaN":"":"";};b.prototype.hab=function(a){return c.map[a];};g=c=b;g.map={'"':'""',"\r":"","\n":" "};g.Hva=/(?!^.+)["\r\n](?=.+$)/g;g.Xfb=/["].*["]/g;g.Obb=/[", ]/;g=c=f.__decorate([k.O(),f.__param(0,k.l(h.ve)),f.__param(1,k.l(a.He))],g);d.TBa=g;},function(f,d,a){var c,k,h,g;function b(a,b){this.Pa=a;this.bQ=this.Pa.sg.ma(h.Ia)-1;this.K$a=this.eR=0;this.id=""+b.rG();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(43);h=a(4);a=a(110);b.prototype.Ud=function(){var a,b;a=this.Pa.sg.ma(h.Ia)-this.bQ;if(a<this.eR){b=this.eR+1;this.bQ-=b-a;a=b;}this.eR=a;return h.Pb(this.eR);};b.prototype.bpa=function(){return this.K$a++;};oa.Object.defineProperties(b.prototype,{eI:{configurable:!0,enumerable:!0,get:function(){return h.Pb(this.bQ);}}});g=b;g=f.__decorate([c.O(),f.__param(0,c.l(k.Ri)),f.__param(1,c.l(a.kz))],g);d.gAa=g;},function(f){f.K="function"===typeof Object.create?function(d,a){d.blb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.blb=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(f){f.K=function(d){return d&&"object"===typeof d&&"function"===typeof d.Io&&"function"===typeof d.fill&&"function"===typeof d.YAb;};},function(f,d,a){var c;function b(a){this.i4a=a;this.xQ=!1;this.GQ=this.sK=this.nD=0;this.IH=!1;this.HQ=0;}Object.defineProperty(d,"__esModule",{value:!0});c=a(224);b.prototype.rTa=function(a){a<this.nD&&(this.sK+=this.nD);this.nD=a;this.xQ=!0;};b.prototype.R4a=function(){if(this.xQ)return this.IH?this.HQ-this.GQ:this.sK+this.nD-this.GQ;};b.prototype.refresh=function(){var a;a=this.i4a();c.fa(a)&&this.rTa(a);};b.prototype.ekb=function(){this.IH||(this.xQ&&(this.HQ=this.sK+this.nD),this.IH=!0);};b.prototype.rkb=function(){this.IH&&(this.xQ&&(this.GQ+=this.sK+this.nD-this.HQ),this.HQ=0,this.IH=!1);};d.YHa=b;},function(f,d,a){var c,k;function b(){this.Yk={};this.id="$es$"+c.KXa++;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.addListener=function(a,b,c){var d,f;d="$netflix$player$order"+this.id+"$"+a;if(this.Yk){f=this.Yk[a]?this.Yk[a].slice():[];c&&(b[d]=c);0>f.indexOf(b)&&(f.push(b),f.sort(function(a,b){return(a[d]||0)-(b[d]||0);}));this.Yk[a]=f;}};b.prototype.removeListener=function(a,b){if(this.Yk&&this.Yk[a]){for(var c=this.Yk[a].slice(),d;0<=(d=c.indexOf(b));)c.splice(d,1);this.Yk[a]=c;}};b.prototype.Cc=function(a,b,c){var d;if(this.Yk){d=this.K2(a);for(a={Vh:0};a.Vh<d.length;a={Vh:a.Vh},a.Vh++)c?function(a){return function(){var c;c=d[a.Vh];setTimeout(function(){c(b);},0);};}(a)():d[a.Vh].call(this,b);}};b.prototype.Ww=function(){this.Yk=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.K2=function(a){return this.Yk&&(this.Yk[a]||(this.Yk[a]=[]));};k=c=b;k.KXa=0;k=c=f.__decorate([a.O()],k);d.Si=k;},function(f,d,a){var c,k,h;function b(a){this.ja=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(42);h=a(131);b.prototype.zy=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ja.yg(a,function(){f(new h.Cz(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(k.li))],a);d.GKa=a;},function(f,d,a){var c,k,h,g,l,p,m,q;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);k=Array.prototype.slice;h=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");g={};l={};p={};m={};q=/\s+/g;[h,k].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];g[c]=b<<18;l[c]=b<<12;p[c]=b<<6;m[c]=b;}});b.prototype.encode=function(a){return c.B1(a,h,"=");};b.prototype.decode=function(a){return c.$0(a);};b.$0=function(a){var b,c,d;a=a.replace(q,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),f=0,h=0,k;h<c;){k=g[a[f++]]+l[a[f++]]+p[a[f++]]+m[a[f++]];if(!(0<=k&&16777215>=k))throw Error("bad base64");b[h++]=k>>>16;b[h++]=k>>>8&255;b[h++]=k&255;}if(0<d&&(k=g[a[f++]]+l[a[f++]],b[h++]=k>>>16,1<d&&(k+=p[a[f++]],b[h++]=k>>>8&255),!(0<=k&&16776960>=k&&0===(k&(1<d?255:65535)))))throw Error("bad base64");return b;};b.B1=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};k=c=b;k=c=f.__decorate([a.O()],k);d.KAa=k;},function(f,d,a){var c,k;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);a=a(0);b.prototype.encode=function(a){return c.B1(a);};b.prototype.decode=function(a){return c.$0(a);};b.B1=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,f="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");f+=String.fromCharCode(c);}return f;};b.$0=function(a){var b,c,d,f,h;b=a.length;c=0;f=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)h=a.charCodeAt(d),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)h=a.charCodeAt(d),128>h?c[f++]=h:(2048>h?c[f++]=192|h>>>6:(c[f++]=224|h>>>12,c[f++]=128|h>>>6&63),c[f++]=128|h&63);return c;};k=c=b;k=c=f.__decorate([a.O()],k);d.FMa=k;},function(f,d,a){var c,k,h,g,l,p,m;function b(a,b,d,f){var g;g=this;this.config=a;this.b_a=b;this.xd=d;this.performance=f;this.ldb=function(a){g.Ywa=a.Kd(g.sg);};c.gk(this,"date");c.gk(this,"performance");this.STa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.Ywa=k.Eg;this.xd.addListener(m.lca.$wa,this.ldb);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(47);k=a(4);h=a(0);g=a(44);l=a(424);p=a(80);m=a(22);oa.Object.defineProperties(b.prototype,{sg:{configurable:!0,enumerable:!0,get:function(){return this.$sa?k.timestamp(this.performance.timing.navigationStart+this.performance.now()):k.Pb(this.b_a.now());}},Xwa:{configurable:!0,enumerable:!0,get:function(){return this.sg.add(this.Ywa);}},$sa:{configurable:!0,enumerable:!0,get:function(){return this.config.mza&&this.STa;}}});a=b;a=f.__decorate([h.O(),f.__param(0,h.l(l.iaa)),f.__param(1,h.l(g.Caa)),f.__param(2,h.l(p.lV)),f.__param(3,h.l(g.SW)),f.__param(3,h.optional())],a);d.LBa=a;},function(f,d,a){var c,k;function b(a){this.nlb=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);a=a(109);b.prototype.random=function(){return this.nlb.random();};b.prototype.m7=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};k=b;k=f.__decorate([c.O(),f.__param(0,c.l(a.wfa))],k);d.QKa=k;},function(f,d,a){var c,k,h,g,l;function b(a,b){this.Pa=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(4);g=a(43);a=a(109);b.prototype.rG=function(){return this.Pa.sg.ma(h.cq)*c.Z$+Math.floor(this.random.random()*c.Z$);};l=c=b;l.Z$=1E4;l=c=f.__decorate([k.O(),f.__param(0,k.l(g.Ri)),f.__param(1,k.l(a.FE))],l);d.uFa=l;},function(f,d,a){var k,h,g,l;function b(a){this.rD=a;h.gk(this,"timers");}function c(a,b){this.rD=a;this.nWa=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(47);g=a(44);l=a(4);c.prototype.cancel=function(){this.nWa(this.rD);};b.prototype.kb=function(a){return this.yg(l.Eg,a);};b.prototype.yg=function(a,b){var d;d=this.rD.setTimeout(b,a.ma(l.Ia));return new c(this.rD,function(a){a.clearTimeout(d);});};b.prototype.Cwa=function(a,b){var d;d=this.rD.setInterval(b,a.ma(l.Ia));return new c(this.rD,function(a){a.clearInterval(d);});};a=b;a=f.__decorate([k.O(),f.__param(0,k.l(g.cga))],a);d.DLa=a;},function(f,d,a){var b,c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,B,da,P,Y,R,fa,U,O,G,W,aa,Q,X,ba,ma,la,ea,ta,ca,ia,ga,ja,ka,na,oa,ra,sa,va,xa,ya,Ba,Ca,Da,Fa,Ia;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(44);c=a(43);k=a(42);h=a(110);g=a(109);l=a(845);p=a(844);m=a(843);q=a(842);v=a(158);t=a(159);D=a(49);x=a(23);w=a(21);z=a(80);y=a(131);F=a(423);K=a(841);B=a(225);da=a(840);P=a(422);Y=a(839);R=a(114);fa=a(838);U=a(837);O=a(223);G=a(90);W=a(834);aa=a(24);Q=a(420);X=a(833);ba=a(832);ma=a(135);la=a(831);ea=a(12);ta=a(424);ca=a(830);ia=a(108);ga=a(829);ja=a(419);ka=a(828);na=a(827);oa=a(417);ra=a(7);sa=a(416);va=a(826);xa=a(415);ya=a(825);Ba=a(414);Ca=a(25);Da=a(69);Fa=a(63);Ia=a(413);d.bXa=new f.Xb(function(a){a(b.Bs).bg(JSON);a(b.cga).bg(H);a(g.wfa).bg(Math);a(b.zca).bg(ra.ML);a(b.SW).bg(ra.Cm);a(b.Caa).bg(Date);a(b.PL).bg(ra.ii);a(b.WGa).bg(ra.sE);a(ta.iaa).to(ca.KBa).X();a(aa.gf).to(W.gAa).X();a(c.Ri).to(q.LBa).X();a(k.li).to(l.DLa).X();a(h.kz).to(p.uFa).X();a(y.bM).to(Y.GKa).X();a(g.FE).to(m.QKa).X();a(ma.MD).to(ba.aDa).X();a(ma.Daa).to(la.$Ca).X();a(v.mM).to(K.FMa).X();a(t.TK).to(B.yU).X();a(D.Bk).to(da.KAa).X();a(x.He).to(P.Rfa).X();a(w.ve).bg(R.Qp);a(z.oL).to(fa.Si).S3();a(z.SU).to(fa.Si).X();a(z.lV).to(fa.Si).X();a(O.pX).to(G.Jv).X();a(Q.saa).to(X.TBa).X();a(ia.Lv).to(ga.lMa).X();a("Factory<LoggerFactory>").Rlb(ea.Qb);a(ja.Faa).to(ka.bDa).X();a(oa.Gfa).Pi(function(a){return function(b){return new na.aMa(a.ic.get(aa.gf),a.ic.get(k.li),b);};});a(sa.bX).Slb(va.BKa);a(sa.AKa).Pi(function(a){var b;b=a.ic.get(sa.bX);return function(){return new b(!1);};});a(sa.Iea).Pi(function(a){var b;b=a.ic.get(sa.bX);return function(){return new b(!0);};});a(xa.Qfa).Pi(function(){return function(a){return new ya.EMa(a);};});a(Fa.Dj).Pi(function(a){return function(b,c,d){var f,g,h;f=a.ic.get(ma.MD);g=a.ic.get(Ca.Ef);h=a.ic.get(Da.$n);return new Ba.qKa(f,g,h,Ia.Xca,b,c,d);};});a(F.zda).Pi(function(){return function(a){return new U.YHa(a);};});});},function(f,d,a){var b,c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,B,H,P,Y,R,fa,U,O,G,W,aa,Q,X,ba,ma;Object.defineProperty(d,"__esModule",{value:!0});b=a(846);c=a(824);k=a(813);h=a(808);g=a(802);l=a(799);p=a(795);m=a(783);q=a(771);v=a(768);t=a(764);D=a(761);x=a(721);w=a(238);z=a(718);y=a(714);F=a(703);K=a(696);B=a(689);H=a(682);P=a(676);Y=a(237);R=a(668);fa=a(666);U=a(659);O=a(655);G=a(653);W=a(651);aa=a(646);Q=a(640);X=a(625);ba=a(620);ma=a(616);d.k$a=function(a){a.load(b.bXa,l.Clb,c.R$a,p.fP,q.DO,k.II,h.Re,g.KK,m.storage,v.y_,t.SVa,D.fab,x.tj,w.ph,z.qg,y.O$a,F.Wbb,K.Y3a,B.Ifb,H.nS,P.o1a,Y.eme,R.crypto,fa.Bg,U.Inb,O.fUa,G.Ebb,W.geb,aa.j,Q.aXa,X.tmb,ba.Ii,ma.iy);};},function(f,d,a){var c,k,h,g,l,p,m;function b(a,b){this.Mbb=a;this.is=b;h.gk(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(47);g=a(2);l=a(44);p=a(21);m=a(112);b.prototype.ix=function(){if(this.ea)return this.ea.sessionId;};b.prototype.nhb=function(a,b){return this.Mbb.requestMediaKeySystemAccess(a,b);};b.prototype.sG=function(a,b){return b.createMediaKeys();};b.prototype.Qt=function(a,b){this.ea=a.createSession(b);};b.prototype.n9a=function(){return!!this.ea;};b.prototype.pjb=function(a,b){return this.is.sA(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.d4a=function(a){return this.ea?this.ea.generateRequest("cenc",a):Promise.reject(new m.Ff(g.I.cV,g.G.OD,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.ea?this.ea.update(a):Promise.reject(new m.Ff(g.I.mL,g.G.OD,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.ea?this.ea.load(a):Promise.reject(new m.Ff(g.I.ADa,g.G.OD,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.ea)return Promise.reject(new m.Ff(g.I.vDa,g.G.OD,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.ix()&&(a=this.ea.close());this.ea=void 0;return a;};b.prototype.remove=function(){return this.ea?this.ea.remove():Promise.reject(new m.Ff(g.I.Xaa,g.G.OD,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.pTa=function(a){if(!this.ea)throw ReferenceError("Unable to add message handler, key session is not valid");this.ea.addEventListener(c.aba,a);};b.prototype.lTa=function(a){if(!this.ea)throw ReferenceError("Unable to add key status handler, key session is not valid");this.ea.addEventListener(c.$aa,a);};b.prototype.fTa=function(a){if(!this.ea)throw ReferenceError("Unable to add error handler, key session is not valid");this.ea.addEventListener(c.Zaa,a);};b.prototype.Wgb=function(a){if(!this.ea)throw ReferenceError("Unable to remove message handler, key session is not valid");this.ea.removeEventListener(c.aba,a);};b.prototype.Ugb=function(a){if(!this.ea)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.ea.removeEventListener(c.$aa,a);};b.prototype.Sgb=function(a){if(!this.ea)throw ReferenceError("Unable to remove error handler, key session is not valid");this.ea.removeEventListener(c.Zaa,a);};a=c=b;a.aba="message";a.$aa="keystatuseschange";a.Zaa="error";a=c=f.__decorate([k.O(),f.__param(0,k.l(l.PL)),f.__param(1,k.l(p.ve))],a);d.FKa=a;},function(f,d,a){var c,k,h,g,l,p,m;function b(a,b){this.Bg=a;this.Nl=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(2);h=a(23);g=a(159);l=a(425);p=a(160);m=a(112);b.prototype.r6a=function(){return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:p.hE,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:p.iE,robustness:"HW_SECURE_DECODE"},{contentType:p.iE,robustness:"SW_SECURE_DECODE"}]},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.IB=function(a){return this.Bg.Mt(a.message,new Uint8Array([8,4]));};b.prototype.DXa=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),L5:a.messageType};};b.prototype.Sla=function(a){return{type:a.type,sessionId:a.target.sessionId,nra:a.target.keyStatuses.entries()};};b.prototype.Xq=function(a){var b,c;b=new m.Ff(k.I.WL,k.G.ue);c=a.systemCode;49===c?(c=this.Sla(a),l.dba.rP(c.nra,function(a,c){"output-restricted"===c&&(b.code=k.I.VL,b.Gb=void 0);})):b.Dd=this.Nl.ZP(c,4);b.g1(a);return b;};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(h.He)),f.__param(1,c.l(g.TK))],a);d.aEa=a;},function(f,d,a){var k,h;function b(a,b,c,d,f){this.eb=a;this.config=b;this.ja=c;this.Er=d;this.name=f;}function c(a,b,c,d){var f;f=this;this.eb=a;this.ja=b;this.timeout=c;this.Olb=d;this.D7a=function(){f.bG=!0;f.rx.cancel();f.Olb();};this.startTime=this.eb.Ud();this.rx=this.ja.yg(this.timeout,function(){f.D7a();});this.bG=!1;}Object.defineProperty(d,"__esModule",{value:!0});k=a(2);h=a(112);c.prototype.stop=function(){this.bG||(this.FT=this.eb.Ud(),this.rx.cancel());};oa.Object.defineProperties(c.prototype,{ona:{configurable:!0,enumerable:!0,get:function(){if(this.FT&&this.startTime)return this.FT.Kd(this.startTime);}}});b.prototype.tWa=function(){var a;a=this;this.EA=new c(this.eb,this.ja,this.config.R3,function(){a.Er(new h.Ff(k.I.Xea,k.G.DDa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.R3+"ms"));});};b.prototype.sWa=function(){this.EA&&this.EA.stop();};b.prototype.Oib=function(){this.WC=this.eb.Ud();};b.prototype.uWa=function(){var a;a=this;this.dU=new c(this.eb,this.ja,this.config.h8,function(){a.Er(new h.Ff(k.I.Xea,k.G.CDa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.h8+"ms"));});};b.prototype.bla=function(){this.dU&&this.dU.stop();};oa.Object.defineProperties(b.prototype,{he:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.EA){b=this.EA.ona;b&&(a.K5=b);this.WC&&this.EA.FT&&(a.WC=this.WC.Kd(this.EA.FT));}this.dU&&(b=this.dU.ona)&&(a.o0=b);return a;}}});d.LDa=b;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=d.Op||(d.Op={});f[f.fza=0]="usable";f[f.I2a=1]="expired";f[f.Rgb=2]="released";f[f.eua=3]="outputRestricted";f[f.Adb=4]="outputDownscaled";f[f.nkb=5]="statusPending";f[f.K8a=6]="internalError";},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x,w,z,y,F,K,B,H,P;function b(a,b,c,d,f,g,l,n){var p;p=this;this.eb=b;this.Jq=c;this.config=d;this.Je=f;this.xk=g;this.Ph=l;this.ja=n;this.onMessage=function(a){var b,c,d;b=p.xk.DXa(a);c=b.message;d=b.L5;p.jT(b.sessionId);p.IB=p.xk.IB(b);p.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:p.IB});"license-renewal"===d&&(p.log.trace("Received a renewal request"),p.tg=v.ul.co,p.oe=B.uy);p.oe!==B.Wd||p.IB||(p.F4={Ph:p.Ph,data:c},p.Qk(t.Sn.Bva));p.oe===B.uy&&p.Qk(t.Sn.Cva);p.hI&&(p.hI.next({Lt:c,gla:d,tg:p.tg}),p.tg!==v.ul.co||p.IB||(p.hI.complete(),p.hI=void 0));p.oe===B.stop&&(p.Cf.sWa(),p.config.ci&&p.JJ&&(p.JJ.next({Lt:c}),p.JJ.complete(),p.JJ=void 0));};this.Nta=function(a){var b,c;b=p.xk.Sla(a).nra;p.jT(a.target.sessionId);p.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{F.dba.rP(b,function(a,b){p.log.trace("key status: "+b);b=H[b];p.mra.next({cI:new Uint8Array(a),value:b.status});b.error&&(c=new y.Ff(b.error),p.q4(c));});}catch(la){c=new y.Ff(h.I.YIa);c.g1(la);}c&&p.r4(c);};this.Wx=function(a){var b;b=p.xk.Xq(a);p.log.error("Received event: "+a.type,b);p.sr(b);p.r4(b);p.uh||p.fk||p.q4(b);};this.sr=function(a){p.uh&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.xk.Xq(b));p.uh&&(p.uh.error(a),p.uh=void 0);},function(){p.log.trace("Issuing a generate challenge error");p.uh&&(p.uh.error(a),p.uh=void 0);});};this.ira=function(){p.uh&&(p.uh.complete(),p.uh=void 0);};this.r4=function(a){p.fk&&(p.log.error("Failed to add license",a),p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.xk.Xq(b));p.oe===B.uy&&p.Qk(t.Sn.Lja);p.uh=void 0;p.fk&&(p.fk.error(a),p.fk=void 0);},function(){p.log.trace("Issuing a license error");p.uh=void 0;p.fk&&(p.fk.error(a),p.fk=void 0);}));};this.y9a=function(){p.fk&&(p.log.info("Successfully added license"),p.oe===B.Wd?p.Qk(t.Sn.Fja):p.oe===B.uy&&p.Qk(t.Sn.Kja),p.fk.complete(),p.fk=void 0);};this.q4=function(a){p.cn&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.xk.Xq(b));p.uh=void 0;p.fk=void 0;p.cn&&(p.cn.next(a),p.cn.complete(),p.cn=void 0);},function(){p.log.trace("Issuing a CDM error");p.uh=void 0;p.fk=void 0;p.cn&&(p.cn.next(a),p.cn.complete(),p.cn=void 0);});};this.Qk=function(a){p.he.push({time:p.eb.Ud(),yn:a});};this.log=a.Fb("EmeSession");this.hI=new k.mi();this.config.ci&&(this.JJ=new k.mi());this.mra=new k.GE();this.cn=new k.mi();this.oe=B.Nmb;this.he=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(81);a(4);h=a(2);g=a(24);l=a(12);p=a(49);m=a(42);q=a(113);v=a(91);t=a(426);D=a(851);x=a(227);w=a(160);z=a(226);y=a(112);F=a(425);K=a(850);(function(a){a[a.Nmb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Wd=3]="license";a[a.uy=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(B||(B={})));H={usable:{status:D.Op.fza},expired:{status:D.Op.I2a,error:h.I.IW},released:{status:D.Op.Rgb},"output-not-allowed":{status:D.Op.eua,error:h.I.VL},"output-restricted":{status:D.Op.eua},"output-downscaled":{status:D.Op.Adb},"status-pending":{status:D.Op.nkb},"internal-error":{status:D.Op.K8a,error:h.I.Ida}};b.prototype.jx=function(){return this.context.Uc;};b.prototype.ix=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.oe=B.closed;this.he=[];return this.Je.n9a()?(this.log.trace("Closing the session"),this.Je.Wgb(this.onMessage),this.Je.Ugb(this.Nta),this.Je.Sgb(this.Wx),this.vh=void 0,k.qa.create(function(b){a.Je.close().then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.xk.Xq(c);c.code=h.I.aJa;b.error(c);});})):k.qa.empty();};b.prototype.E9a=function(){return this.mra.d_();};b.prototype.ZG=function(){return this.cn?this.cn.d_():void 0;};b.prototype.oB=function(){return this.Ph;};b.prototype.BH=function(){return void 0!==this.Wd;};b.prototype.Qt=function(a,b){var c;c=this;this.oe=B.create;this.context=a;this.Qk(t.Sn.zra);return k.qa.create(function(d){(c.config.Ep&&P?Promise.resolve():c.Je.sG(a,b).then(function(a){c.log.trace("Created media keys");c.vh=P=a;return c.YTa();})).then(function(){c.config.Ep&&(c.vh=P);try{c.Je.Qt(c.vh,c.config.ci?"persistent-license":"temporary");c.Je.pTa(c.onMessage);c.Je.lTa(c.Nta);c.Je.fTa(c.Wx);c.jT(c.Je.ix());d.next(c);d.complete();}catch(O){d.error(new y.Ff(h.I.Taa,h.G.ue,void 0,"Unable to create a persisted key session",O));}})["catch"](function(a){a.code&&a.Gb?d.error(a):d.error(new y.Ff(h.I.$U,h.G.ue,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.kjb=function(a){this.wg=a;this.log.Bja("xid",a.ha);};b.prototype.aQ=function(a,b){var c;c=this;this.oe=B.Wd;this.log.trace("Generating a license challenge");this.tg=a;this.uh=new k.mi();if(!b)return this.g0(new y.Ff(h.I.Uaa,h.G.eV));if(0===b.length)return this.g0(new y.Ff(h.I.Uaa,h.G.bV));this.Je.d4a(b).then(function(){c.jT(c.Je.ix());})["catch"](function(a){var b;b=new y.Ff(h.I.cV,h.G.ue);b.message="Unable to generate request.";b.g1(a);c.log.error("Unable to generate a license request",b);c.sr(b);});this.log.trace("Returning the challenge subject");return this.uh;};b.prototype.Eja=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.sr(new y.Ff(h.I.Vaa,h.G.bV))):this.IB?this.Je.update(a).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.xk.Xq(a);a.code=h.I.mL;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.sr(a);}):(this.oe===B.Wd&&(this.Qk(t.Sn.Ava),this.Wd=a,this.ira()),this.oe===B.uy&&(this.Qk(t.Sn.Dva),this.Wd=a,this.a_())):this.oe===B.uy?(this.Qk(t.Sn.Eva),this.q4(a)):this.sr(a);};b.prototype.a_=function(){var a,b;a=this;if(!this.Wd)return this.g0(new y.Ff(h.I.Vaa,h.G.eV));this.fk=new k.mi();b=this.Wd;this.Wd=void 0;this.Je.update(b).then(function(){a.y9a();})["catch"](function(b){b=a.xk.Xq(b);b.code=h.I.LW;b.message="Unable to update the EME";a.log.error(b.message,b);a.r4(b);});return this.fk;};b.prototype.iI=function(){return this.hI;};b.prototype.e4a=function(){var a;a=this;if(this.oe===B.Wd&&this.tg===v.ul.vv)return k.qa.empty();this.oe=B.stop;this.log.trace("Generating a secure stop challenge");this.uh=new k.mi();this.Cf=new K.LDa(this.eb,this.config,this.ja,function(){a.log.error("got a timeout error");},"non-persisted");this.Cf.tWa();this.Je.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.xk.Xq(b);c.code=h.I.Xaa;c.Gb=h.G.ue;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.sr(c);});return this.uh;};b.prototype.Mja=function(a){a&&a.constructor!==Uint8Array?this.sr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.sr(new y.Ff(h.I.Waa,h.G.bV))):(this.log.trace("Secure stop is ready to apply"),this.eT=a,this.Cf.Oib(),this.ira()):(this.log.error("The secure stop buffer is undefined"),this.sr(new y.Ff(h.I.Waa,h.G.eV)));};b.prototype.$Ta=function(){var a;a=this;if(!this.eT)return k.qa.from([this]);this.log.trace("Setting the secure stop data");return k.qa.create(function(b){a.Cf.uWa();a.Je.update(a.eT).then(function(){a.Cf.bla();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.Cf.bla();d=a.xk.Xq(c);d.code=h.I.mL;d.Gb=h.G.ue;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};b.prototype.YTa=function(){var a,b;a=this;b=this.Jq.decode("Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=");return this.Je.pjb(this.vh,b).then(function(b){a.log.trace("Set the server certificate",{result:b});});};b.prototype.jT=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Bja("sessionId",a));};b.prototype.Ova=function(){this.log.trace("Initiating a renewal request");this.tg=v.ul.co;this.oe=B.uy;};b.prototype.g0=function(a){var b;b=this;return k.qa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=f.__decorate([c.O(),f.__param(0,c.l(l.Qb)),f.__param(1,c.l(g.gf)),f.__param(2,c.l(p.Bk)),f.__param(3,c.l(q.dz)),f.__param(4,c.l(z.iV)),f.__param(5,c.l(w.XU)),f.__param(6,c.l(x.Oaa)),f.__param(7,c.l(m.li))],a);d.MDa=a;},function(f,d,a){var c,k,h,g,l,p,m,q,v,t,D,x,w,z,y;function b(a,b,c,d,f,g,h,l,n){var p,m;p=this;this.ja=b;this.uj=c;this.config=d;this.lB=f;this.Zj=g;this.Je=h;this.xk=l;this.DA=n;this.Tkb=function(a,b){b.iI().kD(1).subscribe(function(a){p.xra.next({Ph:b.oB(),data:a.Lt});});b.iI().map(function(c){return p.en(a,b,c);}).xu().MG(function(a){b.$b=a.$b[0];b.vx=a.v1;return b.Eja(a.ur[0].data);}).subscribe(void 0,function(a){b.Eja(a);},function(){p.MVa(b);});};this.Ukb=function(a){a.JJ.map(function(b){return p.npa(a,b);}).xu().MG(function(b){return a.Mja(b.response);}).subscribe(void 0,function(b){a.Mja(b);});};this.log=a.Fb("DrmServices");this.ora={};this.xra=new k.mi();this.lB().Fp&&this.DA.ova().then(function(){p.qkb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});m=this.lB().Uc;this.config.QQ&&m&&this.P2(m).ir(function(a){return p.Zla(a,{Uc:m});}).ir(function(a){return a.close();}).subscribe();}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(81);h=a(2);g=a(12);l=a(42);p=a(428);m=a(91);q=a(113);v=a(226);t=a(160);D=a(165);x=a(236);w=a(427);z=a(112);a=a(25);b.prototype.Lu=function(a){var b;b=this;return new Promise(function(c,d){b.Wd(a).subscribe(c,d);});};b.prototype.a4a=function(a){var b;b=this;return new Promise(function(c,d){b.aQ(a).subscribe(c,d);});};b.prototype.Wd=function(a){var b;b=this;this.log.info("Requesting challenges",this.$oa(a,a.type));return this.qG(a.context.Uc,a.context).ir(function(c){c.kjb(a.wg);b.Tkb(a,c);return b.Ila(c.aQ(a.type,a.KQ),c);});};b.prototype.wkb=function(a){var b,c;b=this;this.config.ci?(this.log.info("Releasing server license and EME license",this.h3(a)),this.Ukb(a),c=a.e4a()):(this.log.info("Releasing server license",this.h3(a)),c=this.npa(a));return this.Ila(c,a).MG(function(){b.DA.D7(Object.assign({Uc:a.context.Uc,$b:[]},a.wg));});};b.prototype.iI=function(){return this.xra.d_();};b.prototype.$oa=function(a,b){return{movieId:a.wg.M,xid:a.wg.ha,type:m.Ara(b)};};b.prototype.h3=function(a){return{movieId:a.wg?a.wg.M:void 0,xid:a.wg?a.wg.ha:void 0,keySessionId:a.ix()};};b.prototype.Ila=function(a,b){return k.qa.concat(a,k.qa.of(b)).fl();};b.prototype.en=function(a,b,c){this.log.info("Sending license request",this.$oa(a,c.tg));return k.qa.fx(this.uj.Wd({ha:a.wg.ha,Qe:a.wg.Qe,mP:[a.wg.lj],Tj:[{sessionId:b.ix()||"session",data:c.Lt}],tg:c.tg,Ph:b.oB(),gla:c.gla,yI:a.wg.yI}));};b.prototype.npa=function(a,b){this.log.info("Sending release request",this.h3(a));return b?k.qa.fx(this.uj.release({ha:a.wg.ha,$b:[a.$b],Lt:b.Lt})):k.qa.fx(this.uj.release({ha:a.wg.ha,$b:[a.$b]}));};b.prototype.P2=function(a){var b;b=this.ora[a];b||(b=this.DZa(a),this.ora[a]=b);return k.qa.fx(b);};b.prototype.aQ=function(a){return this.qG(a.context.Uc,a.context).ir(function(b){b.aQ(a.type,a.KQ);return b.iI().map(function(){return b;});});};b.prototype.qG=function(a,b){var c;c=this;return this.P2(a).ir(function(a){return c.Zla(a,b);});};b.prototype.DZa=function(a){var b;b=this;return new Promise(function(c,d){b.Je.nhb(a,b.xk.r6a()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new z.Ff(h.I.aV,h.G.ue,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.Zla=function(a,b){return this.Zj(b).Qt(b,a);};b.prototype.pkb=function(a){var b;b=this;return this.config.ci?k.qa.empty():k.qa.fx(this.uj.release({ha:a.ha,$b:a.$b}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return k.qa.empty();}).map(function(){return a;});};b.prototype.qkb=function(){var a;a=this;this.ja.yg(this.config.B6,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.DA.nP.length});b=a.DA.nP.filter(function(a){return!a.active;}).map(function(b){return a.pkb(b);});k.qa.concat.apply(k.qa,[].concat(kb(b))).subscribe(function(b){a.DA.D7(b);});});};b.prototype.MVa=function(a){var b;if(a.ix()&&a.wg){b=new x.WU();b.Uc=a.context.Uc;b.$b=[a.$b];b.profileId=a.wg.profileId;b.ha=a.wg.ha;b.M=a.wg.M;this.DA.Dja(b);}};y=b;y=f.__decorate([c.O(),f.__param(0,c.l(g.Qb)),f.__param(1,c.l(l.li)),f.__param(2,c.l(p.Laa)),f.__param(3,c.l(q.dz)),f.__param(4,c.l(a.Ef)),f.__param(5,c.l(w.bba)),f.__param(6,c.l(v.iV)),f.__param(7,c.l(t.XU)),f.__param(8,c.l(D.DU))],y);d.pDa=y;},function(f,d,a){var b,c,k,h,g,l,p,m,q;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(227);c=a(95);k=a(853);h=a(427);g=a(852);l=a(160);p=a(849);m=a(226);q=a(848);d.u1a=new f.Xb(function(a){a(c.Maa).to(k.pDa).X();a(h.cba).to(g.MDa);a(l.XU).to(p.aEa).X();a(m.iV).to(q.FKa);a(b.Oaa).bg(b.YU.Wnb);a(h.bba).Pi(function(a){return function(b){var c;c=a.ic.get(h.cba);c.context=b;return c;};});});},function(f,d,a){var c,k,h,g;function b(a,b,c,d,f){this.platform=a;this.tj=b;this.config=c;this.ff=f;this.log=d.Fb("AccountManager");}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(57);g=a(2);b.prototype.ku=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,d){a.N9().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.T3a(c.value));b();})["catch"](function(f){a.log.debug("Unable to load persisted account data",{code:f.T,cause:f.cause});f.T===g.G.Hk?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):d(c.pK(g.I.EL,f,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.Tlb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.Tlb=function(){var a;a=this;return{version:"1.0",account:this.profile.ph.VT(),profile:this.profile.VT(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].VT();})};};b.prototype.T3a=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.OO(c);if(c=a.profile)this.profile=this.Ow(d,c),this.sqa(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.Ow(d,a);b.profile&&a.id!==b.profile.id&&b.Jja(a);});}};b.prototype.Jja=function(a){this.profiles[a.id]=a;};b.prototype.E7=function(a){delete this.profiles[a.id];};b.prototype.sqa=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.tj.wf.clearUserIdTokens();this.profile=this.Ow(this.OO());this.sqa();};b.pK=function(a,b,c){return b.T&&b.cause?new h.mc(a,b.T,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.Gb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new h.mc(a,g.G.ue,void 0,void 0,void 0,c,b.stack,b):new h.mc(a,g.G.Ih,void 0,void 0,void 0,c,void 0,b);};a=c=b;a=c=f.__decorate([k.O()],a);d.rU=a;},function(f,d,a){var c;function b(a,b,d,f,l){f=void 0===f?c.Pb(0):f;this.config=a;this.ph=b;this.dI=f;this.A7=void 0===l?!1:l;this.id=void 0!==d?d:this.$4a();this.languages=(a=a())&&a.rg&&a.rg.ky||["en-US"];}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.VT=function(){return{id:this.id,lastAccessTime:this.dI?this.dI.ma(c.Ia):0,languages:this.languages};};b.prototype.r2=function(a){this.id=a.id.toString();this.dI=c.Pb(a.lastAccessTime||0);this.languages=a.languages||this.config().rg.ky;this.A7=!0;};d.Jea=b;},function(f,d,a){var c;function b(a,b,d,f,l){return c.Jea.call(this,a,b,d,f,l)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(856);ja(b,c.Jea);b.prototype.W8a=function(){var a;a=this.config();return a&&a.Vl?"browsertest"===this.id:"browser"===this.id;};b.prototype.$4a=function(){var a;a=this.config();return a&&a.Vl?"browsertest":"browser";};d.zea=b;},function(f,d){function a(a,c){this.id=void 0===a?"browser":a;this.Gi=void 0===c?!0:c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.VT=function(){return{id:this.id,isNonMember:this.Gi};};a.prototype.r2=function(a){this.id=a.id.toString();this.Gi=a.isNonMember;};d.r$=a;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);c=a(73);a=a(74);f=function(a){function c(b){a.call(this);this.Ccb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.lf=function(a){return new k(a,this.Ccb);};return c;}(f.qa);d.cDa=f;k=function(a){function d(b,c){a.call(this,b);this.Zj=c;this.Dmb();}b(d,a);d.prototype.Dmb=function(){try{this.KNa();}catch(n){this.Zb(n);}};d.prototype.KNa=function(){var a;a=this.Zj();a&&this.add(c.$r(this,a));};return d;}(a.Xp);},function(f,d,a){f=a(859);d.defer=f.cDa.create;},function(f,d,a){f=a(10);a=a(860);f.qa.defer=a.defer;},function(f,d,a){f=a(10);a=a(437);f.qa.from=a.from;},function(f,d,a){var c,k,h,g,l,p,m,q,t,A,D;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new k.gv(a).uf(new m(b));}c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(93);h=a(94);f=a(46);g=a(74);l=a(73);p=a(162);d.e$=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.uf.call(b.apply(void 0,[c].concat(a)));};};d.kob=b;m=function(){function a(a){this.Xf=a;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.Xf));};return a;}();d.dub=m;q=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.s4=[];this.active=0;this.Xf="function"===typeof c?c:null;this.values=d;}c(b,a);b.prototype.Ng=function(a){var b;b=this.s4;h.isArray(a)?b.push(new A(a)):"function"===typeof a[p.iterator]?b.push(new t(a[p.iterator]())):b.push(new D(this.destination,this,a));};b.prototype.Kf=function(){var a,b,d;a=this.s4;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.okb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.lcb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.CWa=function(){var f,k;for(var a=this.s4,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.jn&&!f.jn())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.zB()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.Xf?this.nZ(h):c.next(h);g&&c.complete();};b.prototype.nZ=function(a){var b;try{b=this.Xf.apply(this,a);}catch(F){this.destination.error(F);return;}this.destination.next(b);};return b;}(f.Hh);d.eub=q;t=function(){function a(a){this.iterator=a;this.e6=a.next();}a.prototype.jn=function(){return!0;};a.prototype.next=function(){var a;a=this.e6;this.e6=this.iterator.next();return a;};a.prototype.zB=function(){var a;a=this.e6;return a&&a.done;};return a;}();A=function(){function a(a){this.yo=a;this.length=this.index=0;this.length=a.length;}a.prototype[p.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.yo;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.jn=function(){return this.yo.length>this.index;};a.prototype.zB=function(){return this.yo.length===this.index;};return a;}();D=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.okb=!0;this.buffer=[];this.c4=!1;}c(b,a);b.prototype[p.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.c4?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.jn=function(){return 0<this.buffer.length;};b.prototype.zB=function(){return 0===this.buffer.length&&this.c4;};b.prototype.Ki=function(){0<this.buffer.length?(this.c4=!0,this.parent.lcb()):this.destination.complete();};b.prototype.Ux=function(a,b){this.buffer.push(b);this.parent.CWa();};b.prototype.subscribe=function(a,b){return l.$r(this,this.observable,this,b);};return b;}(g.Xp);},function(f,d,a){f=a(863);d.e$=f.kob;},function(f,d,a){f=a(10);a=a(864);f.qa.e$=a.e$;},function(f,d,a){var b,c,k,h,g,l,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(93);k=a(94);f=a(74);h=a(73);g={};d.k0=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];d=null;"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&k.isArray(a[0])&&(a=a[0].slice());return function(b){return b.uf.call(new c.gv([b].concat(a)),new l(d));};};l=function(){function a(a){this.Xf=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Xf));};return a;}();d.NBa=l;p=function(a){function c(b,c){a.call(this,b);this.Xf=c;this.active=0;this.values=[];this.Gta=[];}b(c,a);c.prototype.Ng=function(a){this.values.push(g);this.Gta.push(a);};c.prototype.Kf=function(){var a,b,d;a=this.Gta;b=a.length;if(0===b)this.destination.complete();else{this.z9=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(h.$r(this,d,d,c));}}};c.prototype.Ki=function(){0===--this.active&&this.destination.complete();};c.prototype.Ux=function(a,b,c){var d;a=this.values;d=a[c];d=this.z9?d===g?--this.z9:this.z9:0;a[c]=b;0===d&&(this.Xf?this.nZ(a):this.destination.next(a.slice()));};c.prototype.nZ=function(a){var b;try{b=this.Xf.apply(this,a);}catch(D){this.destination.error(D);return;}this.destination.next(b);};return c;}(f.Xp);d.qpb=p;},function(f,d,a){var b,c,k,h;b=a(111);c=a(94);k=a(93);h=a(866);d.k0=function(){var f;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];f=d=null;b.px(a[a.length-1])&&(f=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&c.isArray(a[0])&&(a=a[0]);return new k.gv(a,f).uf(new h.NBa(d));};},function(f,d,a){f=a(10);a=a(867);f.qa.k0=a.k0;},function(f,d,a){var b,c,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(430);f=a(10);k=a(161);h=a(111);g=a(432);a=function(a){function d(b,d,f){void 0===b&&(b=0);a.call(this);this.Gr=-1;this.hna=0;c.Uqa(d)?this.Gr=1>Number(d)&&1||Number(d):h.px(d)&&(f=d);h.px(f)||(f=k.async);this.ja=f;this.hna=g.XH(b)?+b-this.ja.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.cb=function(a){var b,c,d;b=a.index;c=a.Gr;d=a.Te;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.kb(a,c);}};d.prototype.lf=function(a){return this.ja.kb(d.cb,this.hna,{index:0,Gr:this.Gr,Te:a});};return d;}(f.qa);d.kMa=a;},function(f,d,a){f=a(869);d.cs=f.kMa.create;},function(f,d,a){f=a(10);a=a(870);f.qa.cs=a.cs;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this);this.error=b;this.ja=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.cb=function(a){a.Te.error(a.error);};c.prototype.lf=function(a){var b,d;b=this.error;d=this.ja;a.xj=!0;if(d)return d.kb(c.cb,0,{error:b,Te:a});a.error(b);};return c;}(a(10).qa);d.QDa=f;},function(f,d,a){f=a(872);d.nSa=f.QDa.create;},function(f,d,a){f=a(10);a=a(873);f.qa["throw"]=a.nSa;},function(f,d,a){f=a(431);d.Xx=f.Xcb;},function(f,d,a){f=a(10);a=a(875);f.qa.Xx=a.Xx;},function(f,d,a){f=a(10);a=a(438);f.qa.of=a.of;},function(f,d,a){var b,c,k,h;b=a(10);c=a(93);k=a(111);h=a(228);d.J5=function(){var d,f,l;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;f=null;l=a[a.length-1];k.px(l)?(f=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof l&&(d=a.pop());return null===f&&1===a.length&&a[0]instanceof b.qa?a[0]:h.xu(d)(new c.gv(a,f));};},function(f,d,a){f=a(10);a=a(878);f.qa.J5=a.J5;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(430);f=a(10);k=a(161);a=function(a){function d(b,d){void 0===b&&(b=0);void 0===d&&(d=k.async);a.call(this);this.Gr=b;this.ja=d;if(!c.Uqa(b)||0>b)this.Gr=0;d&&"function"===typeof d.kb||(this.ja=k.async);}b(d,a);d.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=k.async);return new d(a,b);};d.cb=function(a){var b,c;b=a.Te;c=a.Gr;b.next(a.index);b.closed||(a.index+=1,this.kb(a,c));};d.prototype.lf=function(a){var b;b=this.Gr;a.add(this.ja.kb(d.cb,b,{index:0,Te:a,Gr:b}));};return d;}(f.qa);d.DFa=a;},function(f,d,a){f=a(880);d.interval=f.DFa.create;},function(f,d,a){f=a(10);a=a(881);f.qa.interval=a.interval;},function(f,d,a){f=a(435);d.fx=f.Kea.create;},function(f,d,a){f=a(10);a=a(883);f.qa.fx=a.fx;},function(f,d,a){f=a(132);d.empty=f.QD.create;},function(f,d,a){f=a(10);a=a(885);f.qa.empty=a.empty;},function(f,d,a){f=a(10);a=a(133);f.qa.concat=a.concat;},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);c=a(73);d.OT=function(a,b){return function(c){return c.uf(new k(a,b));};};k=function(){function a(a,b){this.Xf=a;this.vj=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Xf,this.vj));};return a;}();h=function(a){function d(b,c,d){a.call(this,b);this.Xf=c;this.vj=d;this.index=0;}b(d,a);d.prototype.Ng=function(a){var b,c;c=this.index++;try{b=this.Xf(a,c);}catch(v){this.destination.error(v);return;}this.pY(b,a,c);};d.prototype.pY=function(a,b,d){var f;f=this.RQ;f&&f.unsubscribe();this.add(this.RQ=c.$r(this,a,b,d));};d.prototype.Kf=function(){var b;b=this.RQ;b&&!b.closed||a.prototype.Kf.call(this);};d.prototype.yq=function(){this.RQ=null;};d.prototype.Ki=function(b){this.remove(b);this.RQ=null;this.tf&&a.prototype.Kf.call(this);};d.prototype.Ux=function(a,b,c,d){this.vj?this.sSa(a,b,c,d):this.destination.next(b);};d.prototype.sSa=function(a,b,c,d){var f;try{f=this.vj(a,b,c,d);}catch(D){this.destination.error(D);return;}this.destination.next(f);};return d;}(f.Xp);},function(f,d,a){var b;b=a(888);d.OT=function(a,d){return b.OT(a,d)(this);};},function(f,d,a){f=a(10);a=a(889);f.qa.prototype.OT=a.OT;},function(f,d,a){var b,c;b=a(444);d.Jbb=function(a,d){return function(f){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return f.uf(new c(g,d));h=Object.create(f,b.qXa);h.source=f;h.MT=g;return h;};};c=function(){function a(a,b){this.MT=a;this.Ru=b;}a.prototype.call=function(a,b){var c,d;c=this.Ru;d=this.MT();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.Crb=c;},function(f,d,a){var b,c;b=a(446);c=a(891);d.yS=function(a,d,f,l){var g,h;f&&"function"!==typeof f&&(l=f);g="function"===typeof f?f:void 0;h=new b.GE(a,d,l);return function(a){return c.Jbb(function(){return h;},g)(a);};};},function(f,d,a){var b;b=a(892);d.yS=function(a,d,f,g){return b.yS(a,d,f,g)(this);};},function(f,d,a){f=a(10);a=a(893);f.qa.prototype.yS=a.yS;},function(f,d,a){var b,c,k,h,g;b=a(93);c=a(229);k=a(132);h=a(133);g=a(111);d.DT=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var f,l;f=a[a.length-1];g.px(f)?a.pop():f=null;l=a.length;return 1===l?h.concat(new c.kX(a[0],f),d):1<l?h.concat(new b.gv(a,f),d):h.concat(new k.QD(f),d);};};},function(f,d,a){var b;b=a(895);d.DT=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.DT.apply(void 0,a)(this);};},function(f,d,a){f=a(10);a=a(896);f.qa.prototype.DT=a.DT;},function(){},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);c=a(73);d.nK=function(a){return function(b){return b.uf(new k(a));};};k=function(){function a(a){this.rta=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.rta));};return a;}();h=function(a){function d(b,d){a.call(this,b);this.rta=d;this.add(c.$r(this,d));}b(d,a);d.prototype.Ux=function(){this.complete();};d.prototype.Ki=function(){};return d;}(f.Xp);},function(f,d,a){var b;b=a(899);d.nK=function(a){return b.nK(a)(this);};},function(f,d,a){f=a(10);a=a(900);f.qa.prototype.nK=a.nK;},function(f,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.hAa=f;},function(f,d,a){var b,c,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);c=a(902);k=a(132);d.kD=function(a){return function(b){return 0===a?new k.QD():b.uf(new h(a));};};h=function(){function a(a){this.total=a;if(0>this.total)throw new c.hAa();}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.total));};return a;}();g=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Ng=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(f.Hh);},function(f,d,a){var b;b=a(903);d.kD=function(a){return b.kD(a)(this);};},function(f,d,a){f=a(10);a=a(904);f.qa.prototype.kD=a.kD;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);d.TJ=function(a){return function(b){return b.uf(new c(a));};};c=function(){function a(a){this.Ku=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Ku));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.Ku=c;this.S8=!0;this.index=0;}b(c,a);c.prototype.Ng=function(a){var b;b=this.destination;this.S8&&this.Cmb(a);this.S8||b.next(a);};c.prototype.Cmb=function(a){try{this.S8=!!this.Ku(a,this.index++);}catch(p){this.destination.error(p);}};return c;}(f.Hh);},function(f,d,a){var b;b=a(906);d.TJ=function(a){return b.TJ(a)(this);};},function(f,d,a){f=a(10);a=a(907);f.qa.prototype.TJ=a.TJ;},function(f,d,a){var b;b=a(431);d.Xx=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.Xx.apply(void 0,a)(this);};},function(f,d,a){f=a(10);a=a(909);f.qa.prototype.Xx=a.Xx;},function(f,d,a){var b;b=a(433);d.jC=function(a,d,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return b.jC(a,d,f)(this);};},function(f,d,a){f=a(10);a=a(911);f.qa.prototype.jC=a.jC;f.qa.prototype.ir=a.jC;},function(f,d,a){var b;b=a(228);d.xu=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.xu(a)(this);};},function(f,d,a){f=a(10);a=a(913);f.qa.prototype.xu=a.xu;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);d.map=function(a,b){return function(d){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return d.uf(new c(a,b));};};c=function(){function a(a,b){this.Xf=a;this.p9=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Xf,this.p9));};return a;}();d.urb=c;k=function(a){function c(b,c,d){a.call(this,b);this.Xf=c;this.count=0;this.p9=d||this;}b(c,a);c.prototype.Ng=function(a){var b;try{b=this.Xf.call(this.p9,a,this.count++);}catch(r){this.destination.error(r);return;}this.destination.next(b);};return c;}(f.Hh);},function(f,d,a){var b;b=a(915);d.map=function(a,d){return b.map(a,d)(this);};},function(f,d,a){f=a(10);a=a(916);f.qa.prototype.map=a.map;},function(f,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.NDa=f;},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);c=a(918);d.fl=function(a,b,c){return function(d){return d.uf(new k(a,b,c,d));};};k=function(){function a(a,b,c,d){this.Ku=a;this.vj=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Ku,this.vj,this.defaultValue,this.source));};return a;}();h=function(a){function d(b,c,d,f,g){a.call(this,b);this.Ku=c;this.vj=d;this.defaultValue=f;this.source=g;this.jn=!1;this.index=0;"undefined"!==typeof f&&(this.fR=f,this.jn=!0);}b(d,a);d.prototype.Ng=function(a){var b;b=this.index++;this.Ku?this.tSa(a,b):this.vj?this.lja(a,b):(this.fR=a,this.jn=!0);};d.prototype.tSa=function(a,b){var c;try{c=this.Ku(a,b,this.source);}catch(v){this.destination.error(v);return;}c&&(this.vj?this.lja(a,b):(this.fR=a,this.jn=!0));};d.prototype.lja=function(a,b){var c;try{c=this.vj(a,b);}catch(v){this.destination.error(v);return;}this.fR=c;this.jn=!0;};d.prototype.Kf=function(){var a;a=this.destination;this.jn?(a.next(this.fR),a.complete()):a.error(new c.NDa());};return d;}(f.Hh);},function(f,d,a){var b;b=a(919);d.fl=function(a,d,f){return b.fl(a,d,f)(this);};},function(f,d,a){f=a(10);a=a(920);f.qa.prototype.fl=a.fl;},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(46);d.plb=function(a,b,c){return function(d){return d.uf(new k(a,b,c));};};k=function(){function a(a,b,c){this.Ybb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Ybb,this.error,this.complete));};return a;}();h=function(a){function d(b,d,f,g){a.call(this,b);b=new c.Hh(d,f,g);b.xj=!0;this.add(b);this.Z7=b;}b(d,a);d.prototype.Ng=function(a){var b;b=this.Z7;b.next(a);b.Iy?this.destination.error(b.Jy):this.destination.next(a);};d.prototype.Zb=function(a){var b;b=this.Z7;b.error(a);b.Iy?this.destination.error(b.Jy):this.destination.error(a);};d.prototype.Kf=function(){var a;a=this.Z7;a.complete();a.Iy?this.destination.error(a.Jy):this.destination.complete();};return d;}(c.Hh);},function(f,d,a){var b;b=a(922);d.aY=function(a,d,f){return b.plb(a,d,f)(this);};},function(f,d,a){f=a(10);a=a(923);f.qa.prototype.MG=a.aY;f.qa.prototype.aY=a.aY;},function(f,d,a){function b(){return function(){function a(){this.Oj=[];}a.prototype.add=function(a){this.has(a)||this.Oj.push(a);};a.prototype.has=function(a){return-1!==this.Oj.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Oj.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Oj.length=0;};return a;}();}f=a(75);d.Bzb=b;d.Set=f.root.Set||b();},function(f,d,a){var b,c,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);c=a(73);k=a(925);d.kP=function(a,b){return function(c){return c.uf(new h(a,b));};};h=function(){function a(a,b){this.cR=a;this.H3a=b;}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.cR,this.H3a));};return a;}();g=function(a){function d(b,d,f){a.call(this,b);this.cR=d;this.values=new k.Set();f&&this.add(c.$r(this,f));}b(d,a);d.prototype.Ux=function(){this.values.clear();};d.prototype.m6=function(a){this.Zb(a);};d.prototype.Ng=function(a){this.cR?this.FSa(a):this.jha(a,a);};d.prototype.FSa=function(a){var b,c;c=this.destination;try{b=this.cR(a);}catch(A){c.error(A);return;}this.jha(b,a);};d.prototype.jha=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return d;}(f.Xp);d.Opb=g;},function(f,d,a){var b;b=a(926);d.kP=function(a,d){return b.kP(a,d)(this);};},function(f,d,a){f=a(10);a=a(927);f.qa.prototype.kP=a.kP;},function(f,d,a){var b,c,k,h,g,l,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(161);k=a(432);f=a(46);h=a(230);d.$c=function(a,b){var d;void 0===b&&(b=c.async);d=k.XH(a)?+a-b.now():Math.abs(a);return function(a){return a.uf(new g(d,b));};};g=function(){function a(a,b){this.$c=a;this.ja=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.$c,this.ja));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.$c=c;this.ja=d;this.bi=[];this.Jna=this.active=!1;}b(c,a);c.cb=function(a){for(var b=a.source,c=b.bi,d=a.ja,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.kb(a,b)):b.active=!1;};c.prototype.FRa=function(a){this.active=!0;this.add(a.kb(c.cb,this.$c,{source:this,destination:this.destination,ja:a}));};c.prototype.Ewa=function(a){var b;if(!0!==this.Jna){b=this.ja;a=new p(b.now()+this.$c,a);this.bi.push(a);!1===this.active&&this.FRa(b);}};c.prototype.Ng=function(a){this.Ewa(h.Notification.G0(a));};c.prototype.Zb=function(a){this.Jna=!0;this.bi=[];this.destination.error(a);};c.prototype.Kf=function(){this.Ewa(h.Notification.C0());};return c;}(f.Hh);p=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(f,d,a){var b,c;b=a(161);c=a(929);d.$c=function(a,d){void 0===d&&(d=b.async);return c.$c(a,d)(this);};},function(f,d,a){f=a(10);a=a(930);f.qa.prototype.$c=a.$c;},function(f,d,a){var b;b=a(434);d.lG=function(){return b.lG()(this);};},function(f,d,a){f=a(10);a=a(932);f.qa.prototype.lG=a.lG;},function(f,d){d.t8a=function(a){return a;};},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);c=a(229);k=a(132);a=function(a){function d(b,c){a.call(this);this.c_=b;(this.ja=c)||1!==b.length||(this.nq=!0,this.value=b[0]);}b(d,a);d.create=function(a,b){var f;f=a.length;return 0===f?new k.QD():1===f?new c.kX(a[0],b):new d(a,b);};d.cb=function(a){var b,c,d;b=a.c_;c=a.index;d=a.Te;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.kb(a)));};d.prototype.lf=function(a){var b,c,f;b=this.c_;c=this.ja;f=b.length;if(c)return c.kb(d.cb,0,{c_:b,index:0,length:f,Te:a});for(c=0;c<f&&!a.closed;c++)a.next(b[c]);a.complete();};return d;}(f.qa);d.jAa=a;},function(f,d,a){var b,c,k,h,g,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(75);f=a(10);k=a(162);a=function(a){function c(b,c){a.call(this);this.ja=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[k.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[k.iterator]();}else b=new g(b);else b=new h(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.cb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Te;if(a.AH)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.kb(a));}};c.prototype.lf=function(a){var b,d;b=this.iterator;d=this.ja;if(d)return d.kb(c.cb,0,{index:0,iterator:b,Te:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(f.qa);d.GFa=a;h=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Xu=a;this.HH=b;this.E4=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.HH<this.E4?{done:!1,value:this.Xu.charAt(this.HH++)}:{done:!0,value:void 0};};return a;}();g=function(){function a(a,b,d){var f;void 0===b&&(b=0);if(void 0===d)if(d=+a.length,isNaN(d))d=0;else if(0!==d&&"number"===typeof d&&c.root.isFinite(d)){f=+d;d=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(d));d=0>=d?0:d>l?l:d;}this.aUa=a;this.HH=b;this.E4=d;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.HH<this.E4?{done:!1,value:this.aUa[this.HH++]}:{done:!0,value:void 0};};return a;}();l=Math.pow(2,53)-1;},function(f,d,a){var b;b=a(133);f=a(133);d.jXa=f.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(c){return c.uf.call(b.concat.apply(void 0,[c].concat(a)));};};},function(f,d,a){var b;b=a(937);f=a(133);d.jXa=f.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(f,d,a){f=a(10);a=a(938);f.qa.prototype.concat=a.concat;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c,d){a.call(this);this.parent=b;this.zdb=c;this.ydb=d;this.index=0;}b(c,a);c.prototype.Ng=function(a){this.parent.Ux(this.zdb,a,this.ydb,this.index++,this);};c.prototype.Zb=function(a){this.parent.m6(a,this);this.unsubscribe();};c.prototype.Kf=function(){this.parent.Ki(this);this.unsubscribe();};return c;}(a(46).Hh);d.jca=f;},function(f,d,a){var b,c,k,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(74);c=a(73);d.qWa=function(a){return function(b){var c;c=new k(a);b=b.uf(c);return c.Q_=b;};};k=function(){function a(a){this.Ru=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Ru,this.Q_));};return a;}();h=function(a){function d(b,c,d){a.call(this,b);this.Ru=c;this.Q_=d;}b(d,a);d.prototype.error=function(b){var d;if(!this.tf){d=void 0;try{d=this.Ru(b,this.Q_);}catch(u){a.prototype.error.call(this,u);return;}this.xSa();this.add(c.$r(this,d));}};return d;}(f.Xp);},function(f,d,a){var b;b=a(941);d.PX=function(a){return b.qWa(a)(this);};},function(f,d,a){f=a(10);a=a(942);f.qa.prototype["catch"]=a.PX;f.qa.prototype.PX=a.PX;},function(f,d,a){var b,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(232);a=function(a){function d(b,d){var f;f=this;void 0===b&&(b=c);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return f.frame;});this.wab=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.ej,b=this.wab,c,d;(d=a.shift())&&(this.frame=d.$c)<=b&&!(c=d.Di(d.state,d.$c)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};d.p2=10;return d;}(a(231).uU);d.OMa=a;c=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ja=b;this.OK=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.kb=function(b,d){var f;void 0===d&&(d=0);if(!this.id)return a.prototype.kb.call(this,b,d);this.active=!1;f=new c(this.ja,this.OK);this.add(f);return f.kb(b,d);};c.prototype.LS=function(a,b,d){void 0===d&&(d=0);this.$c=a.frame+d;a=a.ej;a.push(this);a.sort(c.akb);return!0;};c.prototype.GS=function(){};c.prototype.WM=function(b,c){if(!0===this.active)return a.prototype.WM.call(this,b,c);};c.akb=function(a,b){return a.$c===b.$c?a.index===b.index?0:a.index>b.index?1:-1:a.$c>b.$c?1:-1;};return c;}(f.tU);d.NMa=c;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(163);k=a(66);f=a(443);a=a(441);c=function(a){function c(b,c){a.call(this);this.yd=b;this.bK=[];this.ja=c;}b(c,a);c.prototype.lf=function(b){var c,d;c=this;d=c.Qra();b.add(new k.Ej(function(){c.Rra(d);}));return a.prototype.lf.call(this,b);};c.prototype.Ajb=function(){for(var a=this,b=a.yd.length,c=0;c<b;c++)(function(){var b;b=a.yd[c];a.ja.kb(function(){b.notification.observe(a);},b.frame);}());};return c;}(c.mi);d.Fqb=c;a.aka(c,[f.vfa]);},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(10);k=a(66);f=a(443);a=a(441);c=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Qra();a.add(new k.Ej(function(){b.Rra(c);}));b.Whb(a);return a;});this.yd=b;this.bK=[];this.ja=c;}b(c,a);c.prototype.Whb=function(a){var d;for(var b=this.yd.length,c=0;c<b;c++){d=this.yd[c];a.add(this.ja.kb(function(a){a.message.notification.observe(a.Te);},d.frame,{message:d,Te:a}));}};return c;}(c.qa);d.MBa=c;a.aka(c,[f.vfa]);},function(f,d,a){var b,c,k,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);c=a(230);k=a(946);a(945);h=a(442);g=a(944);f=function(a){function d(b){a.call(this,g.NMa,750);this.mUa=b;this.i8a=[];this.F3a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.i8a;0<b.length;)b.shift().Ajb();a.prototype.flush.call(this);for(b=this.F3a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.mUa(c.vw,c.Yl);}};d.oAb=function(a){var k,l;if("string"!==typeof a)return new h.IE(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){k=g*this.p2;l=a[g];switch(l){case"-":case" ":break;case"(":c=k;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:k;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:k;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+l+"'.");}}return 0>f?new h.IE(d):new h.IE(d,f);};d.nAb=function(a,b,d,f){var q,r,t;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,h=[],l=a.indexOf("^"),l=-1===l?0:l*-this.p2,n="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof k.MBa?b[a].yd:b[a];},m=-1,p=0;p<g;p++){q=p*this.p2+l;r=void 0;t=a[p];switch(t){case"-":case" ":break;case"(":m=q;break;case")":m=-1;break;case"|":r=c.Notification.C0();break;case"^":break;case"#":r=c.Notification.Yla(d||"error");break;default:r=c.Notification.G0(n(t));}r&&h.push({frame:-1<m?m:q,notification:r});}return h;};return d;}(g.OMa);d.Ffa=f;},function(f,d,a){var b,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);d.HS=function(){return function(a){return a.uf(new c(a));};};c=function(){function a(a){this.Uk=a;}a.prototype.call=function(a,b){var c;c=this.Uk;c.jt++;a=new k(a,c);b=b.subscribe(a);a.closed||(a.Ym=c.connect());return b;};return a;}();k=function(a){function c(b,c){a.call(this,b);this.Uk=c;}b(c,a);c.prototype.yq=function(){var a,b;a=this.Uk;if(a){this.Uk=null;b=a.jt;0>=b?this.Ym=null:(a.jt=b-1,1<b?this.Ym=null:(b=this.Ym,a=a.Qs,this.Ym=null,!a||b&&a!==b||a.unsubscribe()));}else this.Ym=null;};return c;}(f.Hh);},function(f,d){f=function(){function a(b,c){void 0===c&&(c=a.now);this.CLa=b;this.now=c;}a.prototype.kb=function(a,c,d){void 0===c&&(c=0);return new this.CLa(this,a).kb(d,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.BLa=f;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(231).uU);d.KKa=f;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(){a.call(this);}b(c,a);c.prototype.kb=function(){return this;};return c;}(a(66).Ej);d.aAa=f;},function(f,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=function(a){function c(b,c){a.call(this,b,c);this.ja=b;this.OK=c;}b(c,a);c.prototype.kb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.kb.call(this,b,c);this.$c=c;this.state=b;this.ja.flush(this);return this;};c.prototype.Di=function(b,c){return 0<c||this.closed?a.prototype.Di.call(this,b,c):this.WM(b,c);};c.prototype.LS=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.$c?a.prototype.LS.call(this,b,c,d):b.flush(this);};return c;}(a(232).tU);d.JKa=f;},function(f,d,a){f=a(952);a=a(950);d.bi=new a.KKa(f.JKa);},function(f,d){d.dcb=function(){};},function(f,d,a){var c;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:c.dcb;}c=a(954);d.seb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};d.teb=b;},function(f,d,a){var b,c,k;b=a(46);c=a(234);k=a(235);d.Vlb=function(a,d,f){if(a){if(a instanceof b.Hh)return a;if(a[c.Ay])return a[c.Ay]();}return a||d||f?new b.Hh(a,d,f):new b.Hh(k.empty);};},function(f,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=function(b){function c(a){b.call(this);this.ZG=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.lM=f;},function(f,d,a){var c,k;function b(){try{return k.apply(this,arguments);}catch(h){return c.bu.e=h,c.bu;}}c=a(449);d.Iya=function(a){k=a;return b;};},function(f,d,a){var c,k,h,g,l,m,q,t,v,A,D,x,w,z,y;function b(a,b,c,d,f,g){a=y.rU.call(this,a,b,c,d,f)||this;a.uj=g;a.log=d.Fb("AccountManager");a.ZB=new h.GE(1);return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(81);g=a(92);l=a(69);m=a(25);q=a(12);t=a(57);v=a(2);A=a(4);D=a(51);x=a(429);w=a(858);z=a(857);y=a(855);ja(b,y.rU);b.prototype.cd=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.Vl)return Promise.reject(new t.mc(v.I.EL,v.G.Mza));this.Ug||(this.reset(),this.Ug=new Promise(function(b,c){a.ff.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.ZB.next(a.profile.ph);b();})["catch"](function(b){a.Ug=void 0;c(b);});}));return this.Ug;};b.prototype.yx=function(a,b){var c;c=this;if(this.Kw)return Promise.reject(new t.mc(v.I.dE,v.G.f$));this.Kw=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,f){c.uj.ping(c.profile,void 0===a?!0:{bx:a,password:b}).then(function(){return c.uj.yx(c.profile,void 0);}).then(function(a){c.zhb(a);return c.save();}).then(function(){c.Kw=!1;c.ZB.next(c.profile.ph);d(c.profile);})["catch"](function(a){c.Kw=!1;c.log.error("Unable to login user",a);c.reset(!0);f(y.rU.pK(v.I.dE,a));});});};b.prototype.S$a=function(){this.log.info("logout");this.profile=this.Ow(this.OO());this.profiles={};this.tj.wf.clearUserIdTokens();this.ZB.next(this.profile.ph);return this.save();};b.prototype.klb=function(a){var b;b=this;if(this.Kw)return Promise.reject(new t.mc(v.I.fM,v.G.f$));this.Kw=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.uj.ping(this.profile,a).then(function(){var c;c=b.Ow(b.profile.ph,{id:a});return b.uj.yx(c,void 0);}).then(function(c){b.Kw=!1;if(c.yt!=b.profile.ph.id)throw b.ZB.next(b.profile.ph),new t.mc(v.I.fM,v.G.Eza,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.Xg])?(b.profile=c,b.E7(b.profile)):(b.Jja(b.profile),b.profile=b.Ow(b.profile.ph,{yt:b.profile.ph.id,Xg:a,Gi:b.profile.ph.Gi}));return b.save();}).then(function(){return b.profile;})["catch"](function(a){b.Kw=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw c.pK(v.I.fM,a);});};b.prototype.c3=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.YZa=function(){return h.qa.from(this.ZB);};b.prototype.XQ=function(){return"windows_app"===this.platform.h1?h.qa.from(this.ZB).map(function(a){return!(a.Gi||"browser"===a.id);}):h.qa.of(!0);};b.prototype.zhb=function(a){var b,c;b=this;this.profile&&a.Xg&&a.Xg!==this.profile.id&&this.tj.wf.rekeyUserIdToken(this.profile.id,a.Xg);this.profile.ph.id!==a.yt&&this.reset();c=this.ku(a.Xg);c?(this.profile=c,this.E7(c)):this.profile.id!==a.Xg&&(this.profile=this.Ow(this.OO(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].W8a();}).pop())&&this.E7(this.profiles[a]);};b.prototype.Ow=function(a,b){if(b&&void 0!==b.yt)return new z.zea(this.config,a,b.Xg,A.Pb(0),!1);a=new z.zea(this.config,a);b&&a.r2(b);return a;};b.prototype.OO=function(a){var b;if(a&&void 0!==a.yt)return new w.r$(a.yt,a.Gi);b=new w.r$();a&&b.r2(a);return b;};b.prototype.N9=function(){return Promise.resolve(!0);};a=c=b;a=c=f.__decorate([k.O(),f.__param(0,k.l(l.$n)),f.__param(1,k.l(g.Bv)),f.__param(2,k.l(m.Ef)),f.__param(3,k.l(q.Qb)),f.__param(4,k.l(D.ql)),f.__param(5,k.l(x.hca))],a);d.oKa=a;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(67);c=a(959);d.ph=new f.Xb(function(a){a(b.s$).to(c.oKa).X();});},function(f,d,a){var c,k,h,g,l;function b(a,b){return k.Pd.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(39);h=a(27);g=a(4);a=a(38);ja(b,k.Pd);oa.Object.defineProperties(b.prototype,{QQ:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ep:{configurable:!0,enumerable:!0,get:function(){return!1;}},ci:{configurable:!0,enumerable:!0,get:function(){return!1;}},VB:{configurable:!0,enumerable:!0,get:function(){return g.Eg;}},B6:{configurable:!0,enumerable:!0,get:function(){return g.mm(10);}},R3:{configurable:!0,enumerable:!0,get:function(){return g.Pb(2E3);}},h8:{configurable:!0,enumerable:!0,get:function(){return g.Pb(1E3);}},reb:{configurable:!0,enumerable:!0,get:function(){return g.Pb(2500);}},QG:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},iH:{configurable:!0,enumerable:!0,get:function(){return!1;}},gK:{configurable:!0,enumerable:!0,get:function(){return!1;}},jl:{configurable:!0,enumerable:!0,get:function(){return!0;}}});l=b;f.__decorate([a.config(a.xe,"initializeKeySystemAtStartup")],l.prototype,"QQ",null);f.__decorate([a.config(a.xe,"useGlobalMediaKeys")],l.prototype,"Ep",null);f.__decorate([a.config(a.xe,"secureStopEnabled")],l.prototype,"ci",null);f.__decorate([a.config(a.rj,"licenseRenewalRequestDelay")],l.prototype,"VB",null);f.__decorate([a.config(a.rj,"persistedReleaseDelay")],l.prototype,"B6",null);f.__decorate([a.config(a.rj,"secureStopKeyMessageTimeoutMilliseconds")],l.prototype,"R3",null);f.__decorate([a.config(a.rj,"secureStopKeyAddedTimeoutMilliseconds")],l.prototype,"h8",null);f.__decorate([a.config(a.rj,"secureStopPersistedKeyMessageTimeoutMilliseconds")],l.prototype,"reb",null);f.__decorate([a.config(a.string,"drmPersistKey")],l.prototype,"QG",null);f.__decorate([a.config(a.xe,"forceLimitedDurationLicense")],l.prototype,"iH",null);f.__decorate([a.config(a.xe,"supportsLimitedDurationLicense")],l.prototype,"gK",null);f.__decorate([a.config(a.xe,"prepareCadmium")],l.prototype,"jl",null);l=f.__decorate([c.O(),f.__param(0,c.l(h.ni)),f.__param(1,c.l(h.bz)),f.__param(1,c.optional())],l);d.L$=l;},function(f,d,a){var c,k,h,g;function b(a,b){return g.L$.call(this,a,void 0===b?"FirefoxEmeConfig":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(27);h=a(38);g=a(961);ja(b,g.L$);oa.Object.defineProperties(b.prototype,{QQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},gK:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;f.__decorate([h.config(h.xe,"initializeKeySystemAtStartup")],a.prototype,"QQ",null);f.__decorate([h.config(h.xe,"supportsLimitedDurationLicense")],a.prototype,"gK",null);a=f.__decorate([c.O(),f.__param(0,c.l(k.ni)),f.__param(1,c.l(k.bz)),f.__param(1,c.optional())],a);d.KDa=a;},function(f,d,a){var c,k,h,g,l,m,q;function b(a,b,c,d){a=g.Pd.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.Je=b;a.Pa=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(43);k=a(0);h=a(4);g=a(39);l=a(82);m=a(38);a=a(27);ja(b,g.Pd);oa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.v2+(-1===this.v2.indexOf("?")?"?":"&")+"monotonic="+this.Pa.$sa+"&device=web";}},Jxa:{configurable:!0,enumerable:!0,get:function(){return h.Eg;}},i2:{configurable:!0,enumerable:!0,get:function(){return"";}},v2:{configurable:!0,enumerable:!0,get:function(){return this.Je.endpoint+"/ftl/probe"+(this.i2?"?force="+this.i2:"");}}});q=b;f.__decorate([m.config(m.xe,"ftlEnabled")],q.prototype,"enabled",null);f.__decorate([m.config(m.rj,"ftlStartDelay")],q.prototype,"Jxa",null);f.__decorate([m.config(m.string,"ftlEndpointForceParam")],q.prototype,"i2",null);f.__decorate([m.config(m.url,"ftlEndpoint")],q.prototype,"v2",null);q=f.__decorate([k.O(),f.__param(0,k.l(a.ni)),f.__param(1,k.l(l.ps)),f.__param(2,k.l(c.Ri)),f.__param(3,k.l(a.bz)),f.__param(3,k.optional())],q);d.cEa=q;},function(f,d,a){var c,k,h,g;function b(a,b){return h.Pd.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(0);k=a(38);h=a(39);a=a(27);ja(b,h.Pd);oa.Object.defineProperties(b.prototype,{jza:{configurable:!0,enumerable:!0,get:function(){return!0;}}});g=b;f.__decorate([k.config(k.xe,"useNetworkMonitor")],g.prototype,"jza",null);g=f.__decorate([c.O(),f.__param(0,c.l(a.ni)),f.__param(1,c.l(a.bz)),f.__param(1,c.optional())],g);d.KHa=g;},function(f,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.bua=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Ada=a;},function(f,d,a){var c,k,h,g,l,m,q;function b(a,b){return g.Pd.call(this,a,void 0===b?"GeneralConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);c=a(4);k=a(0);h=a(38);g=a(39);l=a(50);a=a(27);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.YG=function(a,b){return a.pva(m[b]||b,l.xs);};ja(b,g.Pd);oa.Object.defineProperties(b.prototype,{YG:{configurable:!0,enumerable:!0,get:function(){return l.xs.EKa;}},a9:{configurable:!0,enumerable:!0,get:function(){return c.mm(8);}},Uo:{configurable:!0,enumerable:!0,get:function(){return"";}},Qq:{configurable:!0,enumerable:!0,get:function(){return"";}},ks:{configurable:!0,enumerable:!0,get:function(){return"";}},eya:{configurable:!0,enumerable:!0,get:function(){return!1;}},nO:{configurable:!0,enumerable:!0,get:function(){return!0;}},P3:{configurable:!0,enumerable:!0,get:function(){return!0;}},F2a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ai:{configurable:!0,enumerable:!0,get:function(){return{};}},V7:{configurable:!0,enumerable:!0,get:function(){return!1;}},aR:{configurable:!0,enumerable:!0,get:function(){return!1;}},mU:{configurable:!0,enumerable:!0,get:function(){return!1;}},Wu:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Vl:{configurable:!0,enumerable:!0,get:function(){return 0<=[l.xs.Efa,l.xs.kca].indexOf(this.YG);}}});q=b;f.__decorate([h.config(d.YG,"environment")],q.prototype,"YG",null);f.__decorate([h.config(h.rj,"storageTimeout")],q.prototype,"a9",null);f.__decorate([h.config(h.string,"groupName")],q.prototype,"Uo",null);f.__decorate([h.config(h.string,"canaryGroupName")],q.prototype,"Qq",null);f.__decorate([h.config(h.string,"uiGroupName")],q.prototype,"ks",null);f.__decorate([h.config(h.xe,"testIndexDBForCorruptedDatabase")],q.prototype,"eya",null);f.__decorate([h.config(h.xe,"applyIndexedDbOpenWorkaround")],q.prototype,"nO",null);f.__decorate([h.config(h.xe,"ignoreIdbOpenError")],q.prototype,"P3",null);f.__decorate([h.config(h.xe,"executeStorageMigration")],q.prototype,"F2a",null);f.__decorate([h.config(h.object(),"browserInfo")],q.prototype,"Ai",null);f.__decorate([h.config(h.xe,"retryAllMslRequestsOnError")],q.prototype,"V7",null);f.__decorate([h.config(h.xe,"isTestAccount")],q.prototype,"aR",null);f.__decorate([h.config(h.xe,"vuiCommandLogging")],q.prototype,"mU",null);f.__decorate([h.config(h.object,"storageRules")],q.prototype,"Wu",null);q=f.__decorate([k.O(),f.__param(0,k.l(a.ni)),f.__param(1,k.l(a.bz)),f.__param(1,k.optional())],q);d.gEa=q;},function(f,d,a){var h,g,l,m,q;function b(){this.St={};this.nwa=0;}function c(a,b,c,d,f){this.debug=a;this.qr=b;this.SI=c;this.Uf=d;this.BS=f;}function k(a,b,c){this.qr=a;this.SI=b;this.BS=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(135);l=a(12);m=a(134);q=a(453);a=a(27);k=f.__decorate([h.O(),f.__param(0,h.l(a.GL)),f.__param(1,h.l(m.oX)),f.__param(2,h.l(q.cX))],k);d.PBa=k;c=f.__decorate([h.O(),f.__param(0,h.l(g.MD)),f.__param(1,h.l(a.GL)),f.__param(2,h.l(m.oX)),f.__param(3,h.l(l.Qb)),f.__param(4,h.l(q.cX))],c);d.HMa=c;oa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.St;},set:function(a){this.St=a;this.nwa++;}},mwa:{configurable:!0,enumerable:!0,get:function(){return this.nwa;}}});a=b;a=f.__decorate([h.O()],a);d.BFa=a;},function(f,d,a){var b,c,k,h,g,l,m,q,t,v,A;Object.defineProperty(d,"__esModule",{value:!0});f=a(0);b=a(25);c=a(967);k=a(27);h=a(50);g=a(966);l=a(452);m=a(964);q=a(164);t=a(963);v=a(113);A=a(962);d.config=new f.Xb(function(a){a(b.Ef).Pi(function(){return function(){return H._cad_global.config;};});a(k.HU).to(c.PBa).X();a(k.ni).to(c.HMa).X();a(k.GL).to(c.BFa).X();a(h.tl).to(g.gEa).X();a(l.pda).to(m.KHa).X();a(q.pba).to(t.cEa).X();a(v.dz).to(A.KDa).X();});},function(f,d,a){var b,c,k,h,g;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=a(112);k=a(95);h=a(237);d.Hfb=function(a){h.w1.parent=a.ic;return function(){g||(g=new Promise(function(a,d){try{a(h.w1.get(k.Maa));}catch(u){d(new c.Ff(b.I.REa,b.G.mFa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return g;};};},function(f,d,a){var h,g,l,m,q,t,v,A;function b(a,b,d){var f;f=this;this.is=a;this.ff=b;this.config=d;this.Ap=function(){return{version:f.version,drmData:f.nP.map(function(a){return a.Ap();})};};this.u2=function(a){var b;f.is.yi(a)&&(a=c(a));1===a.version&&(a=k(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.WU(a);});}catch(K){throw new q.mc(l.I.hz,l.G.us,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",K);}}else{if(!a.version||!f.is.Mf(a.version))throw new q.mc(l.I.hz,l.G.us,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new q.mc(l.I.hz,l.G.U$,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.rm=new t.gca(2,this.config.QG,this.is.yi(this.config.QG),this.ff,this.Ap);}function c(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new q.mc(l.I.hz,l.G.us);return{version:1,drmData:[a]};}function k(a,b){if(a.Eq(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.WU({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Ap();})};throw new q.mc(l.I.hz,l.G.us);}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);h=a(0);g=a(113);l=a(2);m=a(21);q=a(57);t=a(454);v=a(51);A=a(236);b.prototype.ova=function(){return this.kkb();};b.prototype.Dja=function(a){return this.rm.add(a);};b.prototype.D7=function(a){return this.rm.remove(a,function(a,b){return a.ha===b.ha;});};b.prototype.toString=function(){return JSON.stringify(this.Ap(),null,"  ");};b.prototype.kkb=function(){var a;a=this;this.tva||(this.tva=new Promise(function(b,c){a.rm.load(a.u2).then(function(){b();})["catch"](function(a){a.T&&a.cause?c(new q.mc(l.I.hz,a.T,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.tva;};oa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.rm.version;}},nP:{configurable:!0,enumerable:!0,get:function(){return this.rm.Fo;}}});a=b;a=f.__decorate([h.O(),f.__param(0,h.l(m.ve)),f.__param(1,h.l(v.ql)),f.__param(2,h.l(g.dz))],a);d.yBa=a;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(67);c=a(238);d.Gfb=function(a){return function(){var d;if(!k){c.DZ.parent=a.ic;d=c.DZ.get(b.s$);k=new Promise(function(a,b){d.cd().then(function(){a(d);})["catch"](function(a){b(a);});});}return k;};};},function(f,d,a){var k,h,g,l,m,q,t,v,A,c,b;function b(){this.MUa=this.zA=t.vU.HFa;this.y8=!0;this.sO=[v.Ak.xL];this.kU=[v.da.mV,v.da.rL,v.da.iEa,v.da.jEa];this.as=[v.Fj.LU,v.Fj.iLa,v.Fj.oz];this.Uc=A.Mb.SMa;this.E1=!0;this.AP=!1;this.rsa=l.Pb(232E3);this.r5=m.$(0);this.e_=m.$(288E4);this.h_=m.$(335544320);this.t5=l.Pb(31E3);this.xab=m.$(6291456);this.WB=1E3;this.ZT=!0;this.b$=!1;this.e0=this.N_=!0;this.sla=!1;this.GT="idb";this.Z8=m.$(0);this.rza=!1;this.F7=!0;this.v9={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};this.pD=m.$(0);this.XT=l.Pb(0);}function c(a){a=a.userAgent;this.version="6.0013.845.051";this.tj=!0;this.FP="F";this.Xl=/Intel Mac OS X/.test(a)?"NFCDFF-MC-":/Windows NT/.test(a)?"NFCDFF-02-":"NFCDFF-LX-";this.w2=!0;this.i1="firefox-cadmium";this.h1="browser";this.Sra="";this.Rma="cadmium";this.F9a=!0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1);k=a(0);h=a(44);g=a(69);l=a(4);m=a(34);q=a(167);t=a(456);v=a(68);A=a(166);c=f.__decorate([k.O(),f.__param(0,k.l(h.PL))],c);b=f.__decorate([k.O()],b);d.platform=new k.Xb(function(a){a(g.$n).to(c);a(q.YL).to(b);});},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.eta=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).Ulb(b);});};};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);c=a(35);k=a(64);d.Qua=function(){return function(a,d){d=new k.Metadata(c.yE,d);if(Reflect.w3(c.yE,a.constructor))throw Error(b.FGa);Reflect.d1(c.yE,d,a.constructor);};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(64);k=a(83);d.oK=function(a){return function(d,f,h){var g;g=new c.Metadata(b.KL,a);k.Ky(d,f,h,g);};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(64);k=a(83);d.Lx=function(a){return function(d,f,h){var g;g=new c.Metadata(b.yv,a);"number"===typeof h?k.Ky(d,f,h,g):k.mK(d,f,g);};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(64);k=a(83);d.Ag=function(){return function(a,d,f){var g;g=new c.Metadata(b.ME,!0);k.Ky(a,d,f,g);};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(64);k=a(83);d.optional=function(){return function(a,d,f){var g;g=new c.Metadata(b.xda,!0);"number"===typeof f?k.Ky(a,d,f,g):k.mK(a,d,g);};};},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(35);c=a(64);k=a(83);d.gta=function(a){return function(d,f,h){var g;g=new c.Metadata(b.Fs,a);"number"===typeof h?k.Ky(d,f,h,g):k.mK(d,f,g);};};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(64);c=a(83);d.bya=function(a,d){return function(f,h,k){var g;g=new b.Metadata(a,d);"number"===typeof k?c.Ky(f,h,k,g):c.mK(f,h,g);};};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);c=a(35);d.O=function(){return function(a){var d;if(Reflect.w3(c.EW,a))throw Error(b.WCa);d=Reflect.getMetadata(c.qCa,a)||[];Reflect.d1(c.EW,d,a);return a;};};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(96);d.Xb=function(){return function(a){this.id=b.id();this.B7=a;};}();d.E$=function(){return function(a){this.id=b.id();this.B7=a;};}();},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);f=function(){function a(){this.Lh=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.tE);if(null===c||void 0===c)throw Error(b.tE);d=this.Lh.get(a);void 0!==d?(d.push(c),this.Lh.set(a,d)):this.Lh.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.tE);a=this.Lh.get(a);if(void 0!==a)return a;throw Error(b.qca);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.tE);if(!this.Lh["delete"](a))throw Error(b.qca);};a.prototype.Rpa=function(a){if(null===a||void 0===a)throw Error(b.tE);return this.Lh.has(a);};a.prototype.clone=function(){var b;b=new a();this.Lh.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.umb=function(a){this.Lh.forEach(function(b,c){a(c,b);});};return a;}();d.hGa=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(){}a.of=function(b,c){var d;d=new a();d.TF=b;d.jbb=c;return d;};return a;}();d.rpb=f;},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(76);c=a(459);f=function(){function a(a){this.wb=a;}a.prototype.X=function(){this.wb.scope=b.zm.mX;return new c.kv(this.wb);};a.prototype.S3=function(){this.wb.scope=b.zm.iM;return new c.kv(this.wb);};return a;}();d.MAa=f;},function(f,d,a){var b,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(985);c=a(241);k=a(240);f=function(){function a(a){this.wb=a;this.JX=new k.BU(this.wb);this.IX=new c.AU(this.wb);this.rga=new b.MAa(a);}a.prototype.X=function(){return this.rga.X();};a.prototype.S3=function(){return this.rga.S3();};a.prototype.MK=function(){return this.JX.MK();};a.prototype.jp=function(a){return this.IX.jp(a);};return a;}();d.N$=f;},function(f,d,a){var b,c,k,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(52);c=a(76);k=a(986);h=a(459);f=function(){function a(a){this.wb=a;}a.prototype.to=function(a){this.wb.type=c.bh.XV;this.wb.Fi=a;return new k.N$(this.wb);};a.prototype.xya=function(){if("function"!==typeof this.wb.ie)throw Error(""+b.pFa);this.to(this.wb.ie);};a.prototype.bg=function(a){this.wb.type=c.bh.kaa;this.wb.cache=a;this.wb.YA=null;this.wb.Fi=null;new h.kv(this.wb);};a.prototype.sD=function(a){this.wb.type=c.bh.Saa;this.wb.cache=null;this.wb.YA=a;this.wb.Fi=null;new k.N$(this.wb);};a.prototype.Slb=function(a){this.wb.type=c.bh.laa;this.wb.Fi=a;new h.kv(this.wb);};a.prototype.Pi=function(a){this.wb.type=c.bh.kV;this.wb.Zj=a;new h.kv(this.wb);};a.prototype.Rlb=function(a){this.wb.type=c.bh.kV;this.wb.Zj=function(b){return function(){return b.ic.get(a);};};new h.kv(this.wb);};a.prototype.rK=function(a){this.wb.type=c.bh.Lea;this.wb.uj=a;new h.kv(this.wb);};a.prototype.Ulb=function(a){this.sD(function(b){return b.ic.get(a);});};return a;}();d.NAa=f;},function(f,d,a){var k,h,g;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===h.fq.haa;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function c(a,b){var c;if(Reflect.J7a(g.yE,a)){c=Reflect.getMetadata(g.yE,a);try{b[c.value]();}catch(u){throw Error(k.oJa(a.name,u.message));}}}Object.defineProperty(d,"__esModule",{value:!0});k=a(52);h=a(76);g=a(35);d.xhb=function(a,d,f){var g;g=null;0<d.length?(g=d.filter(function(a){return null!==a.target&&a.target.type===h.fq.maa;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,d,f)):g=new a();c(a,g);return g;};},function(f,d,a){var k,h,g,l,m;function b(a){return function(d){var f,g,n,p,q;f=d.TF;g=d.Y_;n=d.target&&d.target.isArray();p=!d.Fr||!d.Fr.target||!d.target||!d.Fr.target.iab(d.target.ie);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!d.target.Vqa()||0!==f.length){q=f[0];f=q.scope===h.zm.mX;p=q.scope===h.zm.Request;if(f&&q.FZ)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===h.bh.kaa)n=q.cache;else if(q.type===h.bh.Function)n=q.cache;else if(q.type===h.bh.laa)n=q.Fi;else if(q.type===h.bh.Saa&&null!==q.YA)n=c("toDynamicValue",q.ie,function(){return q.YA(d.uC);});else if(q.type===h.bh.kV&&null!==q.Zj)n=c("toFactory",q.ie,function(){return q.Zj(d.uC);});else if(q.type===h.bh.Lea&&null!==q.uj)n=c("toProvider",q.ie,function(){return q.uj(d.uC);});else if(q.type===h.bh.XV&&null!==q.Fi)n=m.xhb(q.Fi,g,b(a));else throw g=l.wB(d.ie),Error(k.kFa+" "+g);"function"===typeof q.jp&&(n=q.jp(d.uC,n));f&&(q.cache=n,q.FZ=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function c(a,b,c){try{return c();}catch(A){if(g.bra(A))throw Error(k.eBa(a,b.toString()));throw A;}}Object.defineProperty(d,"__esModule",{value:!0});k=a(52);h=a(76);g=a(462);l=a(136);m=a(988);d.resolve=function(a){return b(a.xC.X7.phb)(a.xC.X7);};},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(96);f=function(){function a(a,c,d,f,l){this.id=b.id();this.ie=a;this.uC=c;this.Fr=d;this.target=l;this.Y_=[];this.TF=Array.isArray(f)?f:[f];this.phb=null===d?new Map():null;}a.prototype.Aja=function(b,c,d){b=new a(b,this.uC,this,c,d);this.Y_.push(b);return b;};return a;}();d.Request=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});f=function(){function a(a){this.Xu=a;}a.prototype.startsWith=function(a){return 0===this.Xu.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Xu.split("").reverse().join("");return this.startsWith.call({Xu:a},b);};a.prototype.contains=function(a){return-1!==this.Xu.indexOf(a);};a.prototype.equals=function(a){return this.Xu===a;};a.prototype.value=function(){return this.Xu;};return a;}();d.IKa=f;},function(f,d,a){var g,l,m,q,t,v;function b(a,b,d,f){var k,n,t,u,w,x,A,B,D,G;k=a.Loa(d);n=k.Dla;if(void 0===n)throw Error(l.uGa+" "+b+".");for(var k=k.pnb,p=Object.keys(k),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){u=r;w=f;x=b;A=n;t=k[u.toString()]||[];B=h(t);D=!0!==B.Ag;A=A[u];G=B.l||B.Lx;A=G?G:A;A instanceof g.$V&&(A=A.Pmb());if(D){D=A===Function;D=A===Object||D||void 0===A;if(!w&&D)throw Error(l.vGa+" argument "+u+" in class "+x+".");u=new v.hM(m.fq.maa,B.oK,A);u.Wb=t;t=u;}else t=null;null!==t&&p.push(t);}a=c(a,d);return p.concat(a);}function c(a,b){var l,n,p;for(var d=a.n6a(b),f=[],g=0,k=Object.keys(d);g<k.length;g++){l=k[g];n=d[l];p=h(d[l]);l=new v.hM(m.fq.haa,p.oK||l,p.l||p.Lx);l.Wb=n;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=c(a,b),f=f.concat(a));return f;}function k(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=t.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.Wb.filter(function(a){return a.key===q.ME;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:k(a,c);}return 0;}function h(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[q.aE],Lx:b[q.yv],oK:b[q.KL],Ag:b[q.ME]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(461);l=a(52);m=a(76);q=a(35);t=a(136);d.getFunctionName=t.getFunctionName;v=a(460);d.b5a=function(a,c){var d;d=t.getFunctionName(c);return b(a,d,c,!1);};d.x4a=k;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.NJa=function(){return function(a,b){this.uC=a;this.X7=b;};}();},function(f,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(96);f=function(){function a(a){this.id=b.id();this.ic=a;}a.prototype.sTa=function(a){this.xC=a;};return a;}();d.naa=f;},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});d.zU={Drb:2,sda:0,ZHa:1};},function(f,d,a){var g,l,m,q,t,v,A,B,x,w,z,y;function b(a,b,d,f,k){var l,n;l=h(d.ic,k.ie);n=[];l.length===g.zU.sda&&d.ic.options.RF&&"function"===typeof k.ie&&a.Loa(k.ie).Dla&&(d.ic.bind(k.ie).xya(),l=h(d.ic,k.ie));n=b?l:l.filter(function(a){var b;b=new z.Request(a.ie,d,f,a,k);return a.JA(b);});c(k.ie,n,k,d.ic);return n;}function c(a,b,c,d){switch(b.length){case g.zU.sda:if(c.Vqa())break;a=v.wB(a);b=l.vHa;b+=v.T9a(a,c);b+=v.Era(d,a,h);throw Error(b);case g.zU.ZHa:if(!c.isArray())break;default:if(!c.isArray())throw a=v.wB(a),b=l.Hza+" "+a,b+=v.Era(d,a,h),Error(b);}}function k(a,c,d,f,g,h){var n;null===g?(c=b(a,c,f,null,h),n=new z.Request(d,f,null,c,h),d=new x.NJa(f,n),f.sTa(d)):(c=b(a,c,f,g,h),n=g.Aja(h.ie,c,h));c.forEach(function(b){var c,d,g;c=null;if(h.isArray())c=n.Aja(b.ie,b,h);else{if(b.cache)return;c=n;}if(b.type===m.bh.XV&&null!==b.Fi){d=w.b5a(a,b.Fi);if(!f.ic.options.Vu){g=w.x4a(a,b.Fi);if(d.length<g)throw b=l.Iza(w.getFunctionName(b.Fi)),Error(b);}d.forEach(function(b){k(a,!1,b.ie,f,c,b);});}});}function h(a,b){var c,d;c=[];d=a.Fz;d.Rpa(b)?c=d.get(b):null!==a.parent&&(c=h(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(995);l=a(52);m=a(76);q=a(35);t=a(462);v=a(136);A=a(994);B=a(64);x=a(993);w=a(992);z=a(990);y=a(460);d.A2=function(a){return a.Fz;};d.xC=function(a,b,c,d,f,g,h,l){void 0===l&&(l=!1);b=new A.naa(b);c=new B.Metadata(c?q.yv:q.aE,f);d=new y.hM(d,"",f,c);void 0!==g&&(g=new B.Metadata(g,h),d.Wb.push(g));try{return k(a,l,f,b,null,d),b;}catch(Z){throw t.bra(Z)&&b.xC&&v.NWa(b.xC.X7),Z;}};d.awb=function(a,b,c,d){c=new y.hM(m.fq.xX,"",b,new B.Metadata(c,d));a=new A.naa(a);return new z.Request(b,a,null,[],c);};},function(f,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(76);c=a(96);f=function(){function a(a,d){this.id=c.id();this.FZ=!1;this.ie=a;this.scope=d;this.type=b.bh.EFa;this.JA=function(){return!0;};this.YA=this.jp=this.uj=this.Zj=this.cache=this.Fi=null;}a.prototype.clone=function(){var b;b=new a(this.ie,this.scope);b.FZ=!1;b.Fi=this.Fi;b.YA=this.YA;b.scope=this.scope;b.type=this.type;b.Zj=this.Zj;b.uj=this.uj;b.JA=this.JA;b.jp=this.jp;b.cache=this.cache;return b;};return a;}();d.LAa=f;},function(f,d,a){var b,c,k,h,g,l,m,q,t,v,A,B;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(R){g(R);}}function k(a){try{l(d["throw"](a));}catch(R){g(R);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};c=this&&this.iub||function(a,b){var f,g,h,k,l;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,h&&(k=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[0,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;h=c[1];c=[0];continue;case 7:c=f.ay.pop();f.Ry.pop();continue;default:if(!(k=f.Ry,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))f.label=c[1];else if(6===c[0]&&f.label<k[1])f.label=k[1],k=c;else if(k&&f.label<k[2])f.label=k[2],f.ay.push(c);else{k[2]&&f.ay.pop();f.Ry.pop();continue;}}c=b.call(a,f);}catch(R){c=[6,R];h=0;}finally{g=k=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,Vwa:function(){if(k[0]&1)throw k[1];return k[1];},Ry:[],ay:[]};Ka();Ka();Oa();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;};Object.defineProperty(d,"__esModule",{value:!0});k=a(997);h=a(52);g=a(76);a(35);l=a(463);m=a(996);q=a(989);t=a(987);v=a(96);A=a(136);a(984);B=a(983);f=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+h.sBa);if(void 0===a.Tw)a.Tw=g.zm.iM;else if(a.Tw!==g.zm.mX&&a.Tw!==g.zm.iM&&a.Tw!==g.zm.Request)throw Error(""+h.qBa);if(void 0===a.RF)a.RF=!1;else if("boolean"!==typeof a.RF)throw Error(""+h.pBa);if(void 0===a.Vu)a.Vu=!1;else if("boolean"!==typeof a.Vu)throw Error(""+h.rBa);this.options={RF:a.RF,Tw:a.Tw,Vu:a.Vu};this.id=v.id();this.Fz=new B.hGa();this.$Ra=[];this.parent=this.CY=null;this.BPa=new l.mW();}a.J5=function(b,c){var f,g;function d(a,b){a.umb(function(a,c){c.forEach(function(a){b.add(a.ie,a.clone());});});}f=new a();g=m.A2(f);b=m.A2(b);c=m.A2(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.qha(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.B7(f.xka,f.Oya,f.hra,f.xva);}};a.prototype.jI=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b(this,void 0,void 0,function(){var b,d,f,g,h;return c(this,function(c){switch(c.label){case 0:b=this.qha(),d=0,f=a,c.label=1;case 1:if(!(d<f.length))return[3,4];g=f[d];h=b(g.id);return[4,g.B7(h.xka,h.Oya,h.hra,h.xva)];case 2:c.Vwa(),c.label=3;case 3:return d++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new k.LAa(a,this.options.Tw||g.zm.iM);this.Fz.add(a,b);return new t.NAa(b);};a.prototype.jgb=function(a){this.Nya(a);return this.bind(a);};a.prototype.Nya=function(a){try{this.Fz.remove(a);}catch(z){throw Error(h.aBa+" "+A.wB(a));}};a.prototype.Nqa=function(a){var b;b=this.Fz.Rpa(a);!b&&this.parent&&(b=this.parent.Nqa(a));return b;};a.prototype.restore=function(){var a;a=this.$Ra.pop();if(void 0===a)throw Error(h.wHa);this.Fz=a.TF;this.CY=a.jbb;};a.prototype.pZa=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.oha(!1,!1,g.fq.xX,a);};a.prototype.getAll=function(a){return this.oha(!0,!0,g.fq.xX,a);};a.prototype.resolve=function(a){var b;b=this.pZa();b.bind(a).xya();return b.get(a);};a.prototype.qha=function(){var f;function a(a){return function(b){b=f.jgb.bind(f)(b);b.wb.Bbb=a;return b;};}function b(){return function(a){return f.Nqa.bind(f)(a);};}function c(){return function(a){f.Nya.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.wb.Bbb=a;return b;};}f=this;return function(f){return{xka:d(f),hra:b(),xva:a(f),Oya:c()};};};a.prototype.oha=function(a,b,c,d){var f;f=null;a={WUa:a,yXa:function(a){return a;},c9a:b,key:void 0,ie:d,qlb:c,value:void 0};if(this.CY){if(f=this.CY(a),void 0===f||null===f)throw Error(h.nFa);}else f=this.WQa()(a);return f;};a.prototype.WQa=function(){var a;a=this;return function(b){var c;c=m.xC(a.BPa,a,b.c9a,b.qlb,b.ie,b.key,b.value,b.WUa);c=b.yXa(c);return q.resolve(c);};};return a;}();d.LD=f;},function(f,d,a){(function(a){var b;(function(b){var X,Z,O,G,ca,aa,Q,ga,ba;function c(a,b,c){var d;d=ba.get(a);if(!d){if(!c)return;d=new Q();ba.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new Q();d.set(b,a);}return a;}function d(a,b,c){if(f(a,b,c))return!0;b=z(b);return null!==b?d(a,b,c):!1;}function f(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function k(a,b,c){if(f(a,b,c))return l(a,b,c);b=z(b);return null!==b?k(a,b,c):void 0;}function l(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function m(a,b){var c,f;c=q(a,b);a=z(a);if(null===a)return c;b=m(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ga();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return K(a);}function q(a,b){var d;a=c(a,b,!1);d=[];a&&F(a,function(a,b){return d.push(b);});return d;}function t(a){return void 0===a;}function B(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function x(a){return"object"===typeof a?null!==a:"function"===typeof a;}function w(a){return"symbol"===typeof a?a:String(a);}function z(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===aa||b!==aa)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function y(a){a=a.next();return a.done?void 0:a;}function F(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=y(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function K(a){var b;b=[];F(a,function(a,c){b.push(c);});return b;}function S(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function U(){var a;a={};return function(){function b(){this.Mm=[];this.Oj=[];this.DM=a;this.CM=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Mm.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.$M(a,!1);};b.prototype.get=function(a){a=this.$M(a,!1);return 0<=a?this.Oj[a]:void 0;};b.prototype.set=function(a,b){a=this.$M(a,!0);this.Oj[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.$M(b,!1);if(0<=c){b=this.Mm.length;for(c+=1;c<b;c++)this.Mm[c-1]=this.Mm[c],this.Oj[c-1]=this.Oj[c];this.Mm.length--;this.Oj.length--;this.DM=a;this.CM=-2;return!0;}return!1;};b.prototype.clear=function(){this.Mm.length=0;this.Oj.length=0;this.DM=a;this.CM=-2;};b.prototype.keys=function(){return S(this.Mm,void 0,"key");};b.prototype.values=function(){return S(void 0,this.Oj,"value");};b.prototype.entries=function(){return S(this.Mm,this.Oj,"key+value");};b.prototype.$M=function(a,b){var c;if(this.DM===a)return this.CM;c=this.Mm.indexOf(a);0>c&&b&&(c=this.Mm.length,this.Mm.push(a),this.Oj.push(void 0));return this.DM=a,this.CM=c;};return b;}();}function P(){return function(){function a(){this.Lh=new Q();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Lh.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Lh.has(a);};a.prototype.add=function(a){return this.Lh.set(a,a),this;};a.prototype["delete"]=function(a){return this.Lh["delete"](a);};a.prototype.clear=function(){this.Lh.clear();};a.prototype.keys=function(){return this.Lh.keys();};a.prototype.values=function(){return this.Lh.values();};a.prototype.entries=function(){return this.Lh.entries();};return a;}();}function W(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(ca.has(d,b));d[b]=!0;return b;}function c(a,b){if(!X.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:G()});}return a[f];}d=G();f=b();return function(){function a(){this.Yv=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?ca.has(a,this.Yv):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?ca.get(a,this.Yv):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Yv]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Yv]:!1;};a.prototype.clear=function(){this.Yv=b();};return a;}();}function R(a){a.gub=1;delete a.hub;return a;}X=Object.prototype.hasOwnProperty;Z="function"===typeof Object.create;O=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();G=Z?function(){return R(Object.create(null));}:O?function(){return R({__proto__:null});}:function(){return R({});};(function(a){var b;b=!Z&&!O;a.has=b?function(a,b){return X.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return X.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(ca||(ca={})));aa=Object.getPrototypeOf(Function);Q="function"===typeof Map?Map:U();ga="function"===typeof Set?Set:P();ba=new("function"===typeof WeakMap?WeakMap:(W()))();b.Tt=function(a,b,c,d){var g;if(t(d)){if(t(c)){if(!B(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!t(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!B(a))throw new TypeError();if(!x(b))throw new TypeError();c=w(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!B(a))throw new TypeError();if(!x(b))throw new TypeError();if(t(c))throw new TypeError();if(!x(d))throw new TypeError();c=w(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!t(g)){if(!x(g))throw new TypeError();d=g;}}return d;}};b.Wb=function(a,b){return function(d,f){if(t(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!x(d))throw new TypeError();f=w(f);c(d,f,!0).set(a,b);}};};b.d1=function(a,b,d){var f;if(!x(d))throw new TypeError();t(f)||(f=w(f));c(d,f,!0).set(a,b);};b.J7a=function(a,b){var c;if(!x(b))throw new TypeError();t(c)||(c=w(c));return d(a,b,c);};b.w3=function(a,b){var c;if(!x(b))throw new TypeError();t(c)||(c=w(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!x(b))throw new TypeError();t(c)||(c=w(c));return k(a,b,c);};b.Txb=function(a,b,c){if(!x(b))throw new TypeError();t(c)||(c=w(c));return l(a,b,c);};b.Rxb=function(a,b){if(!x(a))throw new TypeError();t(b)||(b=w(b));return m(a,b);};b.Uxb=function(a,b){if(!x(a))throw new TypeError();t(b)||(b=w(b));return q(a,b);};b.Cwb=function(a,b,d){var f;if(!x(b))throw new TypeError();t(d)||(d=w(d));f=c(b,d,!1);if(t(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ba.get(b);a["delete"](d);if(0<a.size)return!0;ba["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)X.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof H?H:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(168)));},function(f,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(999);H._cad_global={};H.DEBUG=!1;a(6);a(7);a(14);a(19);a(37);a(33);a(86);a(267);a(373);a(28);a(17);a(11);a(84);a(55);a(53);a(501);a(277);a(103);a(500);a(150);a(414);a(18);a(499);a(498);a(171);a(497);a(246);a(496);a(204);a(371);a(262);a(255);a(257);a(256);a(245);a(278);a(177);a(276);a(279);a(275);a(273);a(116);a(140);a(495);a(494);a(5);a(251);a(493);a(97);a(29);a(261);a(127);a(370);a(369);a(148);a(492);a(244);a(346);a(316);a(491);a(122);a(193);a(490);a(489);a(314);a(194);a(89);a(121);a(175);a(271);a(174);a(264);a(138);a(253);a(145);a(139);a(266);a(115);a(270);a(488);a(268);a(85);a(487);a(486);a(485);a(484);a(483);a(317);a(254);a(20);a(318);a(482);a(252);a(259);a(263);a(368);a(481);a(269);a(258);a(260);a(272);a(192);a(480);a(479);a(315);a(328);a(319);a(137);a(478);a(477);a(476);a(475);a(468);a(465);a(176);},function(f,d,a){f.K=a(1E3);}]));}(window));